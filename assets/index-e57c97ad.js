var jE=Object.defineProperty;var ZE=(i,t,n)=>t in i?jE(i,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[t]=n;var Ft=(i,t,n)=>(ZE(i,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const C of document.querySelectorAll('link[rel="modulepreload"]'))x(C);new MutationObserver(C=>{for(const M of C)if(M.type==="childList")for(const h of M.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&x(h)}).observe(document,{childList:!0,subtree:!0});function n(C){const M={};return C.integrity&&(M.integrity=C.integrity),C.referrerPolicy&&(M.referrerPolicy=C.referrerPolicy),C.crossOrigin==="use-credentials"?M.credentials="include":C.crossOrigin==="anonymous"?M.credentials="omit":M.credentials="same-origin",M}function x(C){if(C.ep)return;C.ep=!0;const M=n(C);fetch(C.href,M)}})();var JE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xT(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var yT={exports:{}},Gu={},TT={exports:{}},Et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oh=Symbol.for("react.element"),QE=Symbol.for("react.portal"),qE=Symbol.for("react.fragment"),_E=Symbol.for("react.strict_mode"),tP=Symbol.for("react.profiler"),eP=Symbol.for("react.provider"),iP=Symbol.for("react.context"),sP=Symbol.for("react.forward_ref"),nP=Symbol.for("react.suspense"),rP=Symbol.for("react.memo"),aP=Symbol.for("react.lazy"),Ng=Symbol.iterator;function oP(i){return i===null||typeof i!="object"?null:(i=Ng&&i[Ng]||i["@@iterator"],typeof i=="function"?i:null)}var CT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ST=Object.assign,MT={};function Da(i,t,n){this.props=i,this.context=t,this.refs=MT,this.updater=n||CT}Da.prototype.isReactComponent={};Da.prototype.setState=function(i,t){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,t,"setState")};Da.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function ET(){}ET.prototype=Da.prototype;function rp(i,t,n){this.props=i,this.context=t,this.refs=MT,this.updater=n||CT}var ap=rp.prototype=new ET;ap.constructor=rp;ST(ap,Da.prototype);ap.isPureReactComponent=!0;var Vg=Array.isArray,PT=Object.prototype.hasOwnProperty,op={current:null},RT={key:!0,ref:!0,__self:!0,__source:!0};function AT(i,t,n){var x,C={},M=null,h=null;if(t!=null)for(x in t.ref!==void 0&&(h=t.ref),t.key!==void 0&&(M=""+t.key),t)PT.call(t,x)&&!RT.hasOwnProperty(x)&&(C[x]=t[x]);var y=arguments.length-2;if(y===1)C.children=n;else if(1<y){for(var e=Array(y),f=0;f<y;f++)e[f]=arguments[f+2];C.children=e}if(i&&i.defaultProps)for(x in y=i.defaultProps,y)C[x]===void 0&&(C[x]=y[x]);return{$$typeof:oh,type:i,key:M,ref:h,props:C,_owner:op.current}}function hP(i,t){return{$$typeof:oh,type:i.type,key:t,ref:i.ref,props:i.props,_owner:i._owner}}function hp(i){return typeof i=="object"&&i!==null&&i.$$typeof===oh}function lP(i){var t={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(n){return t[n]})}var zg=/\/+/g;function $f(i,t){return typeof i=="object"&&i!==null&&i.key!=null?lP(""+i.key):t.toString(36)}function Ul(i,t,n,x,C){var M=typeof i;(M==="undefined"||M==="boolean")&&(i=null);var h=!1;if(i===null)h=!0;else switch(M){case"string":case"number":h=!0;break;case"object":switch(i.$$typeof){case oh:case QE:h=!0}}if(h)return h=i,C=C(h),i=x===""?"."+$f(h,0):x,Vg(C)?(n="",i!=null&&(n=i.replace(zg,"$&/")+"/"),Ul(C,t,n,"",function(f){return f})):C!=null&&(hp(C)&&(C=hP(C,n+(!C.key||h&&h.key===C.key?"":(""+C.key).replace(zg,"$&/")+"/")+i)),t.push(C)),1;if(h=0,x=x===""?".":x+":",Vg(i))for(var y=0;y<i.length;y++){M=i[y];var e=x+$f(M,y);h+=Ul(M,t,n,e,C)}else if(e=oP(i),typeof e=="function")for(i=e.call(i),y=0;!(M=i.next()).done;)M=M.value,e=x+$f(M,y++),h+=Ul(M,t,n,e,C);else if(M==="object")throw t=String(i),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return h}function Lh(i,t,n){if(i==null)return i;var x=[],C=0;return Ul(i,x,"","",function(M){return t.call(n,M,C++)}),x}function uP(i){if(i._status===-1){var t=i._result;t=t(),t.then(function(n){(i._status===0||i._status===-1)&&(i._status=1,i._result=n)},function(n){(i._status===0||i._status===-1)&&(i._status=2,i._result=n)}),i._status===-1&&(i._status=0,i._result=t)}if(i._status===1)return i._result.default;throw i._result}var Ne={current:null},Xl={transition:null},fP={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:Xl,ReactCurrentOwner:op};Et.Children={map:Lh,forEach:function(i,t,n){Lh(i,function(){t.apply(this,arguments)},n)},count:function(i){var t=0;return Lh(i,function(){t++}),t},toArray:function(i){return Lh(i,function(t){return t})||[]},only:function(i){if(!hp(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};Et.Component=Da;Et.Fragment=qE;Et.Profiler=tP;Et.PureComponent=rp;Et.StrictMode=_E;Et.Suspense=nP;Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fP;Et.cloneElement=function(i,t,n){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var x=ST({},i.props),C=i.key,M=i.ref,h=i._owner;if(t!=null){if(t.ref!==void 0&&(M=t.ref,h=op.current),t.key!==void 0&&(C=""+t.key),i.type&&i.type.defaultProps)var y=i.type.defaultProps;for(e in t)PT.call(t,e)&&!RT.hasOwnProperty(e)&&(x[e]=t[e]===void 0&&y!==void 0?y[e]:t[e])}var e=arguments.length-2;if(e===1)x.children=n;else if(1<e){y=Array(e);for(var f=0;f<e;f++)y[f]=arguments[f+2];x.children=y}return{$$typeof:oh,type:i.type,key:C,ref:M,props:x,_owner:h}};Et.createContext=function(i){return i={$$typeof:iP,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:eP,_context:i},i.Consumer=i};Et.createElement=AT;Et.createFactory=function(i){var t=AT.bind(null,i);return t.type=i,t};Et.createRef=function(){return{current:null}};Et.forwardRef=function(i){return{$$typeof:sP,render:i}};Et.isValidElement=hp;Et.lazy=function(i){return{$$typeof:aP,_payload:{_status:-1,_result:i},_init:uP}};Et.memo=function(i,t){return{$$typeof:rP,type:i,compare:t===void 0?null:t}};Et.startTransition=function(i){var t=Xl.transition;Xl.transition={};try{i()}finally{Xl.transition=t}};Et.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Et.useCallback=function(i,t){return Ne.current.useCallback(i,t)};Et.useContext=function(i){return Ne.current.useContext(i)};Et.useDebugValue=function(){};Et.useDeferredValue=function(i){return Ne.current.useDeferredValue(i)};Et.useEffect=function(i,t){return Ne.current.useEffect(i,t)};Et.useId=function(){return Ne.current.useId()};Et.useImperativeHandle=function(i,t,n){return Ne.current.useImperativeHandle(i,t,n)};Et.useInsertionEffect=function(i,t){return Ne.current.useInsertionEffect(i,t)};Et.useLayoutEffect=function(i,t){return Ne.current.useLayoutEffect(i,t)};Et.useMemo=function(i,t){return Ne.current.useMemo(i,t)};Et.useReducer=function(i,t,n){return Ne.current.useReducer(i,t,n)};Et.useRef=function(i){return Ne.current.useRef(i)};Et.useState=function(i){return Ne.current.useState(i)};Et.useSyncExternalStore=function(i,t,n){return Ne.current.useSyncExternalStore(i,t,n)};Et.useTransition=function(){return Ne.current.useTransition()};Et.version="18.2.0";TT.exports=Et;var lp=TT.exports;const dP=xT(lp);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cP=lp,vP=Symbol.for("react.element"),pP=Symbol.for("react.fragment"),gP=Object.prototype.hasOwnProperty,mP=cP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xP={key:!0,ref:!0,__self:!0,__source:!0};function wT(i,t,n){var x,C={},M=null,h=null;n!==void 0&&(M=""+n),t.key!==void 0&&(M=""+t.key),t.ref!==void 0&&(h=t.ref);for(x in t)gP.call(t,x)&&!xP.hasOwnProperty(x)&&(C[x]=t[x]);if(i&&i.defaultProps)for(x in t=i.defaultProps,t)C[x]===void 0&&(C[x]=t[x]);return{$$typeof:vP,type:i,key:M,ref:h,props:C,_owner:mP.current}}Gu.Fragment=pP;Gu.jsx=wT;Gu.jsxs=wT;yT.exports=Gu;var yP=yT.exports;const $c=yP.jsx;var Kc={},OT={exports:{}},fi={},LT={exports:{}},FT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function t(G,N){var U=G.length;G.push(N);t:for(;0<U;){var Y=U-1>>>1,X=G[Y];if(0<C(X,N))G[Y]=N,G[U]=X,U=Y;else break t}}function n(G){return G.length===0?null:G[0]}function x(G){if(G.length===0)return null;var N=G[0],U=G.pop();if(U!==N){G[0]=U;t:for(var Y=0,X=G.length,b=X>>>1;Y<b;){var z=2*(Y+1)-1,D=G[z],V=z+1,k=G[V];if(0>C(D,U))V<X&&0>C(k,D)?(G[Y]=k,G[V]=U,Y=V):(G[Y]=D,G[z]=U,Y=z);else if(V<X&&0>C(k,U))G[Y]=k,G[V]=U,Y=V;else break t}}return N}function C(G,N){var U=G.sortIndex-N.sortIndex;return U!==0?U:G.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var M=performance;i.unstable_now=function(){return M.now()}}else{var h=Date,y=h.now();i.unstable_now=function(){return h.now()-y}}var e=[],f=[],d=1,s=null,a=3,r=!1,o=!1,u=!1,v=typeof setTimeout=="function"?setTimeout:null,l=typeof clearTimeout=="function"?clearTimeout:null,c=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(G){for(var N=n(f);N!==null;){if(N.callback===null)x(f);else if(N.startTime<=G)x(f),N.sortIndex=N.expirationTime,t(e,N);else break;N=n(f)}}function g(G){if(u=!1,p(G),!o)if(n(e)!==null)o=!0,I(m);else{var N=n(f);N!==null&&B(g,N.startTime-G)}}function m(G,N){o=!1,u&&(u=!1,l(P),P=-1),r=!0;var U=a;try{for(p(N),s=n(e);s!==null&&(!(s.expirationTime>N)||G&&!A());){var Y=s.callback;if(typeof Y=="function"){s.callback=null,a=s.priorityLevel;var X=Y(s.expirationTime<=N);N=i.unstable_now(),typeof X=="function"?s.callback=X:s===n(e)&&x(e),p(N)}else x(e);s=n(e)}if(s!==null)var b=!0;else{var z=n(f);z!==null&&B(g,z.startTime-N),b=!1}return b}finally{s=null,a=U,r=!1}}var T=!1,S=null,P=-1,E=5,R=-1;function A(){return!(i.unstable_now()-R<E)}function w(){if(S!==null){var G=i.unstable_now();R=G;var N=!0;try{N=S(!0,G)}finally{N?O():(T=!1,S=null)}}else T=!1}var O;if(typeof c=="function")O=function(){c(w)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,F=L.port2;L.port1.onmessage=w,O=function(){F.postMessage(null)}}else O=function(){v(w,0)};function I(G){S=G,T||(T=!0,O())}function B(G,N){P=v(function(){G(i.unstable_now())},N)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_continueExecution=function(){o||r||(o=!0,I(m))},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return a},i.unstable_getFirstCallbackNode=function(){return n(e)},i.unstable_next=function(G){switch(a){case 1:case 2:case 3:var N=3;break;default:N=a}var U=a;a=N;try{return G()}finally{a=U}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(G,N){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var U=a;a=G;try{return N()}finally{a=U}},i.unstable_scheduleCallback=function(G,N,U){var Y=i.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?Y+U:Y):U=Y,G){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=U+X,G={id:d++,callback:N,priorityLevel:G,startTime:U,expirationTime:X,sortIndex:-1},U>Y?(G.sortIndex=U,t(f,G),n(e)===null&&G===n(f)&&(u?(l(P),P=-1):u=!0,B(g,U-Y))):(G.sortIndex=X,t(e,G),o||r||(o=!0,I(m))),G},i.unstable_shouldYield=A,i.unstable_wrapCallback=function(G){var N=a;return function(){var U=a;a=N;try{return G.apply(this,arguments)}finally{a=U}}}})(FT);LT.exports=FT;var TP=LT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IT=lp,ui=TP;function ot(i){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+i,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+i+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var DT=new Set,No={};function pr(i,t){Ca(i,t),Ca(i+"Capture",t)}function Ca(i,t){for(No[i]=t,i=0;i<t.length;i++)DT.add(t[i])}var Bs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jc=Object.prototype.hasOwnProperty,CP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kg={},Ug={};function SP(i){return jc.call(Ug,i)?!0:jc.call(kg,i)?!1:CP.test(i)?Ug[i]=!0:(kg[i]=!0,!1)}function MP(i,t,n,x){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return x?!1:n!==null?!n.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function EP(i,t,n,x){if(t===null||typeof t>"u"||MP(i,t,n,x))return!0;if(x)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ve(i,t,n,x,C,M,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=x,this.attributeNamespace=C,this.mustUseProperty=n,this.propertyName=i,this.type=t,this.sanitizeURL=M,this.removeEmptyString=h}var Ee={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){Ee[i]=new Ve(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var t=i[0];Ee[t]=new Ve(t,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){Ee[i]=new Ve(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){Ee[i]=new Ve(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){Ee[i]=new Ve(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){Ee[i]=new Ve(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){Ee[i]=new Ve(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){Ee[i]=new Ve(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){Ee[i]=new Ve(i,5,!1,i.toLowerCase(),null,!1,!1)});var up=/[\-:]([a-z])/g;function fp(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var t=i.replace(up,fp);Ee[t]=new Ve(t,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var t=i.replace(up,fp);Ee[t]=new Ve(t,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var t=i.replace(up,fp);Ee[t]=new Ve(t,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){Ee[i]=new Ve(i,1,!1,i.toLowerCase(),null,!1,!1)});Ee.xlinkHref=new Ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){Ee[i]=new Ve(i,1,!1,i.toLowerCase(),null,!0,!0)});function dp(i,t,n,x){var C=Ee.hasOwnProperty(t)?Ee[t]:null;(C!==null?C.type!==0:x||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(EP(t,n,C,x)&&(n=null),x||C===null?SP(t)&&(n===null?i.removeAttribute(t):i.setAttribute(t,""+n)):C.mustUseProperty?i[C.propertyName]=n===null?C.type===3?!1:"":n:(t=C.attributeName,x=C.attributeNamespace,n===null?i.removeAttribute(t):(C=C.type,n=C===3||C===4&&n===!0?"":""+n,x?i.setAttributeNS(x,t,n):i.setAttribute(t,n))))}var Vs=IT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fh=Symbol.for("react.element"),_r=Symbol.for("react.portal"),ta=Symbol.for("react.fragment"),cp=Symbol.for("react.strict_mode"),Zc=Symbol.for("react.profiler"),BT=Symbol.for("react.provider"),bT=Symbol.for("react.context"),vp=Symbol.for("react.forward_ref"),Jc=Symbol.for("react.suspense"),Qc=Symbol.for("react.suspense_list"),pp=Symbol.for("react.memo"),Qs=Symbol.for("react.lazy"),GT=Symbol.for("react.offscreen"),Xg=Symbol.iterator;function Ya(i){return i===null||typeof i!="object"?null:(i=Xg&&i[Xg]||i["@@iterator"],typeof i=="function"?i:null)}var Jt=Object.assign,Kf;function Eo(i){if(Kf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Kf=t&&t[1]||""}return`
`+Kf+i}var jf=!1;function Zf(i,t){if(!i||jf)return"";jf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var x=f}Reflect.construct(i,[],t)}else{try{t.call()}catch(f){x=f}i.call(t.prototype)}else{try{throw Error()}catch(f){x=f}i()}}catch(f){if(f&&x&&typeof f.stack=="string"){for(var C=f.stack.split(`
`),M=x.stack.split(`
`),h=C.length-1,y=M.length-1;1<=h&&0<=y&&C[h]!==M[y];)y--;for(;1<=h&&0<=y;h--,y--)if(C[h]!==M[y]){if(h!==1||y!==1)do if(h--,y--,0>y||C[h]!==M[y]){var e=`
`+C[h].replace(" at new "," at ");return i.displayName&&e.includes("<anonymous>")&&(e=e.replace("<anonymous>",i.displayName)),e}while(1<=h&&0<=y);break}}}finally{jf=!1,Error.prepareStackTrace=n}return(i=i?i.displayName||i.name:"")?Eo(i):""}function PP(i){switch(i.tag){case 5:return Eo(i.type);case 16:return Eo("Lazy");case 13:return Eo("Suspense");case 19:return Eo("SuspenseList");case 0:case 2:case 15:return i=Zf(i.type,!1),i;case 11:return i=Zf(i.type.render,!1),i;case 1:return i=Zf(i.type,!0),i;default:return""}}function qc(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case ta:return"Fragment";case _r:return"Portal";case Zc:return"Profiler";case cp:return"StrictMode";case Jc:return"Suspense";case Qc:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case bT:return(i.displayName||"Context")+".Consumer";case BT:return(i._context.displayName||"Context")+".Provider";case vp:var t=i.render;return i=i.displayName,i||(i=t.displayName||t.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case pp:return t=i.displayName||null,t!==null?t:qc(i.type)||"Memo";case Qs:t=i._payload,i=i._init;try{return qc(i(t))}catch{}}return null}function RP(i){var t=i.type;switch(i.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=t.render,i=i.displayName||i.name||"",t.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qc(t);case 8:return t===cp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function yn(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function NT(i){var t=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function AP(i){var t=NT(i)?"checked":"value",n=Object.getOwnPropertyDescriptor(i.constructor.prototype,t),x=""+i[t];if(!i.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var C=n.get,M=n.set;return Object.defineProperty(i,t,{configurable:!0,get:function(){return C.call(this)},set:function(h){x=""+h,M.call(this,h)}}),Object.defineProperty(i,t,{enumerable:n.enumerable}),{getValue:function(){return x},setValue:function(h){x=""+h},stopTracking:function(){i._valueTracker=null,delete i[t]}}}}function Ih(i){i._valueTracker||(i._valueTracker=AP(i))}function VT(i){if(!i)return!1;var t=i._valueTracker;if(!t)return!0;var n=t.getValue(),x="";return i&&(x=NT(i)?i.checked?"true":"false":i.value),i=x,i!==n?(t.setValue(i),!0):!1}function nu(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function _c(i,t){var n=t.checked;return Jt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??i._wrapperState.initialChecked})}function Yg(i,t){var n=t.defaultValue==null?"":t.defaultValue,x=t.checked!=null?t.checked:t.defaultChecked;n=yn(t.value!=null?t.value:n),i._wrapperState={initialChecked:x,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zT(i,t){t=t.checked,t!=null&&dp(i,"checked",t,!1)}function tv(i,t){zT(i,t);var n=yn(t.value),x=t.type;if(n!=null)x==="number"?(n===0&&i.value===""||i.value!=n)&&(i.value=""+n):i.value!==""+n&&(i.value=""+n);else if(x==="submit"||x==="reset"){i.removeAttribute("value");return}t.hasOwnProperty("value")?ev(i,t.type,n):t.hasOwnProperty("defaultValue")&&ev(i,t.type,yn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(i.defaultChecked=!!t.defaultChecked)}function Wg(i,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var x=t.type;if(!(x!=="submit"&&x!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+i._wrapperState.initialValue,n||t===i.value||(i.value=t),i.defaultValue=t}n=i.name,n!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,n!==""&&(i.name=n)}function ev(i,t,n){(t!=="number"||nu(i.ownerDocument)!==i)&&(n==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+n&&(i.defaultValue=""+n))}var Po=Array.isArray;function ca(i,t,n,x){if(i=i.options,t){t={};for(var C=0;C<n.length;C++)t["$"+n[C]]=!0;for(n=0;n<i.length;n++)C=t.hasOwnProperty("$"+i[n].value),i[n].selected!==C&&(i[n].selected=C),C&&x&&(i[n].defaultSelected=!0)}else{for(n=""+yn(n),t=null,C=0;C<i.length;C++){if(i[C].value===n){i[C].selected=!0,x&&(i[C].defaultSelected=!0);return}t!==null||i[C].disabled||(t=i[C])}t!==null&&(t.selected=!0)}}function iv(i,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ot(91));return Jt({},t,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Hg(i,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ot(92));if(Po(n)){if(1<n.length)throw Error(ot(93));n=n[0]}t=n}t==null&&(t=""),n=t}i._wrapperState={initialValue:yn(n)}}function kT(i,t){var n=yn(t.value),x=yn(t.defaultValue);n!=null&&(n=""+n,n!==i.value&&(i.value=n),t.defaultValue==null&&i.defaultValue!==n&&(i.defaultValue=n)),x!=null&&(i.defaultValue=""+x)}function $g(i){var t=i.textContent;t===i._wrapperState.initialValue&&t!==""&&t!==null&&(i.value=t)}function UT(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sv(i,t){return i==null||i==="http://www.w3.org/1999/xhtml"?UT(t):i==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Dh,XT=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,x,C){MSApp.execUnsafeLocalFunction(function(){return i(t,n,x,C)})}:i}(function(i,t){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=t;else{for(Dh=Dh||document.createElement("div"),Dh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Dh.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;t.firstChild;)i.appendChild(t.firstChild)}});function Vo(i,t){if(t){var n=i.firstChild;if(n&&n===i.lastChild&&n.nodeType===3){n.nodeValue=t;return}}i.textContent=t}var wo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wP=["Webkit","ms","Moz","O"];Object.keys(wo).forEach(function(i){wP.forEach(function(t){t=t+i.charAt(0).toUpperCase()+i.substring(1),wo[t]=wo[i]})});function YT(i,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||wo.hasOwnProperty(i)&&wo[i]?(""+t).trim():t+"px"}function WT(i,t){i=i.style;for(var n in t)if(t.hasOwnProperty(n)){var x=n.indexOf("--")===0,C=YT(n,t[n],x);n==="float"&&(n="cssFloat"),x?i.setProperty(n,C):i[n]=C}}var OP=Jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nv(i,t){if(t){if(OP[i]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ot(137,i));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ot(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ot(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ot(62))}}function rv(i,t){if(i.indexOf("-")===-1)return typeof t.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var av=null;function gp(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ov=null,va=null,pa=null;function Kg(i){if(i=uh(i)){if(typeof ov!="function")throw Error(ot(280));var t=i.stateNode;t&&(t=Uu(t),ov(i.stateNode,i.type,t))}}function HT(i){va?pa?pa.push(i):pa=[i]:va=i}function $T(){if(va){var i=va,t=pa;if(pa=va=null,Kg(i),t)for(i=0;i<t.length;i++)Kg(t[i])}}function KT(i,t){return i(t)}function jT(){}var Jf=!1;function ZT(i,t,n){if(Jf)return i(t,n);Jf=!0;try{return KT(i,t,n)}finally{Jf=!1,(va!==null||pa!==null)&&(jT(),$T())}}function zo(i,t){var n=i.stateNode;if(n===null)return null;var x=Uu(n);if(x===null)return null;n=x[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(i=i.type,x=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!x;break t;default:i=!1}if(i)return null;if(n&&typeof n!="function")throw Error(ot(231,t,typeof n));return n}var hv=!1;if(Bs)try{var Wa={};Object.defineProperty(Wa,"passive",{get:function(){hv=!0}}),window.addEventListener("test",Wa,Wa),window.removeEventListener("test",Wa,Wa)}catch{hv=!1}function LP(i,t,n,x,C,M,h,y,e){var f=Array.prototype.slice.call(arguments,3);try{t.apply(n,f)}catch(d){this.onError(d)}}var Oo=!1,ru=null,au=!1,lv=null,FP={onError:function(i){Oo=!0,ru=i}};function IP(i,t,n,x,C,M,h,y,e){Oo=!1,ru=null,LP.apply(FP,arguments)}function DP(i,t,n,x,C,M,h,y,e){if(IP.apply(this,arguments),Oo){if(Oo){var f=ru;Oo=!1,ru=null}else throw Error(ot(198));au||(au=!0,lv=f)}}function gr(i){var t=i,n=i;if(i.alternate)for(;t.return;)t=t.return;else{i=t;do t=i,t.flags&4098&&(n=t.return),i=t.return;while(i)}return t.tag===3?n:null}function JT(i){if(i.tag===13){var t=i.memoizedState;if(t===null&&(i=i.alternate,i!==null&&(t=i.memoizedState)),t!==null)return t.dehydrated}return null}function jg(i){if(gr(i)!==i)throw Error(ot(188))}function BP(i){var t=i.alternate;if(!t){if(t=gr(i),t===null)throw Error(ot(188));return t!==i?null:i}for(var n=i,x=t;;){var C=n.return;if(C===null)break;var M=C.alternate;if(M===null){if(x=C.return,x!==null){n=x;continue}break}if(C.child===M.child){for(M=C.child;M;){if(M===n)return jg(C),i;if(M===x)return jg(C),t;M=M.sibling}throw Error(ot(188))}if(n.return!==x.return)n=C,x=M;else{for(var h=!1,y=C.child;y;){if(y===n){h=!0,n=C,x=M;break}if(y===x){h=!0,x=C,n=M;break}y=y.sibling}if(!h){for(y=M.child;y;){if(y===n){h=!0,n=M,x=C;break}if(y===x){h=!0,x=M,n=C;break}y=y.sibling}if(!h)throw Error(ot(189))}}if(n.alternate!==x)throw Error(ot(190))}if(n.tag!==3)throw Error(ot(188));return n.stateNode.current===n?i:t}function QT(i){return i=BP(i),i!==null?qT(i):null}function qT(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var t=qT(i);if(t!==null)return t;i=i.sibling}return null}var _T=ui.unstable_scheduleCallback,Zg=ui.unstable_cancelCallback,bP=ui.unstable_shouldYield,GP=ui.unstable_requestPaint,te=ui.unstable_now,NP=ui.unstable_getCurrentPriorityLevel,mp=ui.unstable_ImmediatePriority,tC=ui.unstable_UserBlockingPriority,ou=ui.unstable_NormalPriority,VP=ui.unstable_LowPriority,eC=ui.unstable_IdlePriority,Nu=null,cs=null;function zP(i){if(cs&&typeof cs.onCommitFiberRoot=="function")try{cs.onCommitFiberRoot(Nu,i,void 0,(i.current.flags&128)===128)}catch{}}var Wi=Math.clz32?Math.clz32:XP,kP=Math.log,UP=Math.LN2;function XP(i){return i>>>=0,i===0?32:31-(kP(i)/UP|0)|0}var Bh=64,bh=4194304;function Ro(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function hu(i,t){var n=i.pendingLanes;if(n===0)return 0;var x=0,C=i.suspendedLanes,M=i.pingedLanes,h=n&268435455;if(h!==0){var y=h&~C;y!==0?x=Ro(y):(M&=h,M!==0&&(x=Ro(M)))}else h=n&~C,h!==0?x=Ro(h):M!==0&&(x=Ro(M));if(x===0)return 0;if(t!==0&&t!==x&&!(t&C)&&(C=x&-x,M=t&-t,C>=M||C===16&&(M&4194240)!==0))return t;if(x&4&&(x|=n&16),t=i.entangledLanes,t!==0)for(i=i.entanglements,t&=x;0<t;)n=31-Wi(t),C=1<<n,x|=i[n],t&=~C;return x}function YP(i,t){switch(i){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WP(i,t){for(var n=i.suspendedLanes,x=i.pingedLanes,C=i.expirationTimes,M=i.pendingLanes;0<M;){var h=31-Wi(M),y=1<<h,e=C[h];e===-1?(!(y&n)||y&x)&&(C[h]=YP(y,t)):e<=t&&(i.expiredLanes|=y),M&=~y}}function uv(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function iC(){var i=Bh;return Bh<<=1,!(Bh&4194240)&&(Bh=64),i}function Qf(i){for(var t=[],n=0;31>n;n++)t.push(i);return t}function hh(i,t,n){i.pendingLanes|=t,t!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,t=31-Wi(t),i[t]=n}function HP(i,t){var n=i.pendingLanes&~t;i.pendingLanes=t,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=t,i.mutableReadLanes&=t,i.entangledLanes&=t,t=i.entanglements;var x=i.eventTimes;for(i=i.expirationTimes;0<n;){var C=31-Wi(n),M=1<<C;t[C]=0,x[C]=-1,i[C]=-1,n&=~M}}function xp(i,t){var n=i.entangledLanes|=t;for(i=i.entanglements;n;){var x=31-Wi(n),C=1<<x;C&t|i[x]&t&&(i[x]|=t),n&=~C}}var Dt=0;function sC(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var nC,yp,rC,aC,oC,fv=!1,Gh=[],ln=null,un=null,fn=null,ko=new Map,Uo=new Map,tn=[],$P="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jg(i,t){switch(i){case"focusin":case"focusout":ln=null;break;case"dragenter":case"dragleave":un=null;break;case"mouseover":case"mouseout":fn=null;break;case"pointerover":case"pointerout":ko.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uo.delete(t.pointerId)}}function Ha(i,t,n,x,C,M){return i===null||i.nativeEvent!==M?(i={blockedOn:t,domEventName:n,eventSystemFlags:x,nativeEvent:M,targetContainers:[C]},t!==null&&(t=uh(t),t!==null&&yp(t)),i):(i.eventSystemFlags|=x,t=i.targetContainers,C!==null&&t.indexOf(C)===-1&&t.push(C),i)}function KP(i,t,n,x,C){switch(t){case"focusin":return ln=Ha(ln,i,t,n,x,C),!0;case"dragenter":return un=Ha(un,i,t,n,x,C),!0;case"mouseover":return fn=Ha(fn,i,t,n,x,C),!0;case"pointerover":var M=C.pointerId;return ko.set(M,Ha(ko.get(M)||null,i,t,n,x,C)),!0;case"gotpointercapture":return M=C.pointerId,Uo.set(M,Ha(Uo.get(M)||null,i,t,n,x,C)),!0}return!1}function hC(i){var t=er(i.target);if(t!==null){var n=gr(t);if(n!==null){if(t=n.tag,t===13){if(t=JT(n),t!==null){i.blockedOn=t,oC(i.priority,function(){rC(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){i.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Yl(i){if(i.blockedOn!==null)return!1;for(var t=i.targetContainers;0<t.length;){var n=dv(i.domEventName,i.eventSystemFlags,t[0],i.nativeEvent);if(n===null){n=i.nativeEvent;var x=new n.constructor(n.type,n);av=x,n.target.dispatchEvent(x),av=null}else return t=uh(n),t!==null&&yp(t),i.blockedOn=n,!1;t.shift()}return!0}function Qg(i,t,n){Yl(i)&&n.delete(t)}function jP(){fv=!1,ln!==null&&Yl(ln)&&(ln=null),un!==null&&Yl(un)&&(un=null),fn!==null&&Yl(fn)&&(fn=null),ko.forEach(Qg),Uo.forEach(Qg)}function $a(i,t){i.blockedOn===t&&(i.blockedOn=null,fv||(fv=!0,ui.unstable_scheduleCallback(ui.unstable_NormalPriority,jP)))}function Xo(i){function t(C){return $a(C,i)}if(0<Gh.length){$a(Gh[0],i);for(var n=1;n<Gh.length;n++){var x=Gh[n];x.blockedOn===i&&(x.blockedOn=null)}}for(ln!==null&&$a(ln,i),un!==null&&$a(un,i),fn!==null&&$a(fn,i),ko.forEach(t),Uo.forEach(t),n=0;n<tn.length;n++)x=tn[n],x.blockedOn===i&&(x.blockedOn=null);for(;0<tn.length&&(n=tn[0],n.blockedOn===null);)hC(n),n.blockedOn===null&&tn.shift()}var ga=Vs.ReactCurrentBatchConfig,lu=!0;function ZP(i,t,n,x){var C=Dt,M=ga.transition;ga.transition=null;try{Dt=1,Tp(i,t,n,x)}finally{Dt=C,ga.transition=M}}function JP(i,t,n,x){var C=Dt,M=ga.transition;ga.transition=null;try{Dt=4,Tp(i,t,n,x)}finally{Dt=C,ga.transition=M}}function Tp(i,t,n,x){if(lu){var C=dv(i,t,n,x);if(C===null)od(i,t,x,uu,n),Jg(i,x);else if(KP(C,i,t,n,x))x.stopPropagation();else if(Jg(i,x),t&4&&-1<$P.indexOf(i)){for(;C!==null;){var M=uh(C);if(M!==null&&nC(M),M=dv(i,t,n,x),M===null&&od(i,t,x,uu,n),M===C)break;C=M}C!==null&&x.stopPropagation()}else od(i,t,x,null,n)}}var uu=null;function dv(i,t,n,x){if(uu=null,i=gp(x),i=er(i),i!==null)if(t=gr(i),t===null)i=null;else if(n=t.tag,n===13){if(i=JT(t),i!==null)return i;i=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;i=null}else t!==i&&(i=null);return uu=i,null}function lC(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(NP()){case mp:return 1;case tC:return 4;case ou:case VP:return 16;case eC:return 536870912;default:return 16}default:return 16}}var an=null,Cp=null,Wl=null;function uC(){if(Wl)return Wl;var i,t=Cp,n=t.length,x,C="value"in an?an.value:an.textContent,M=C.length;for(i=0;i<n&&t[i]===C[i];i++);var h=n-i;for(x=1;x<=h&&t[n-x]===C[M-x];x++);return Wl=C.slice(i,1<x?1-x:void 0)}function Hl(i){var t=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&t===13&&(i=13)):i=t,i===10&&(i=13),32<=i||i===13?i:0}function Nh(){return!0}function qg(){return!1}function di(i){function t(n,x,C,M,h){this._reactName=n,this._targetInst=C,this.type=x,this.nativeEvent=M,this.target=h,this.currentTarget=null;for(var y in i)i.hasOwnProperty(y)&&(n=i[y],this[y]=n?n(M):M[y]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?Nh:qg,this.isPropagationStopped=qg,this}return Jt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nh)},persist:function(){},isPersistent:Nh}),t}var Ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sp=di(Ba),lh=Jt({},Ba,{view:0,detail:0}),QP=di(lh),qf,_f,Ka,Vu=Jt({},lh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mp,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ka&&(Ka&&i.type==="mousemove"?(qf=i.screenX-Ka.screenX,_f=i.screenY-Ka.screenY):_f=qf=0,Ka=i),qf)},movementY:function(i){return"movementY"in i?i.movementY:_f}}),_g=di(Vu),qP=Jt({},Vu,{dataTransfer:0}),_P=di(qP),tR=Jt({},lh,{relatedTarget:0}),td=di(tR),eR=Jt({},Ba,{animationName:0,elapsedTime:0,pseudoElement:0}),iR=di(eR),sR=Jt({},Ba,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),nR=di(sR),rR=Jt({},Ba,{data:0}),tm=di(rR),aR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lR(i){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(i):(i=hR[i])?!!t[i]:!1}function Mp(){return lR}var uR=Jt({},lh,{key:function(i){if(i.key){var t=aR[i.key]||i.key;if(t!=="Unidentified")return t}return i.type==="keypress"?(i=Hl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?oR[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mp,charCode:function(i){return i.type==="keypress"?Hl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Hl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),fR=di(uR),dR=Jt({},Vu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),em=di(dR),cR=Jt({},lh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mp}),vR=di(cR),pR=Jt({},Ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),gR=di(pR),mR=Jt({},Vu,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),xR=di(mR),yR=[9,13,27,32],Ep=Bs&&"CompositionEvent"in window,Lo=null;Bs&&"documentMode"in document&&(Lo=document.documentMode);var TR=Bs&&"TextEvent"in window&&!Lo,fC=Bs&&(!Ep||Lo&&8<Lo&&11>=Lo),im=String.fromCharCode(32),sm=!1;function dC(i,t){switch(i){case"keyup":return yR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cC(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ea=!1;function CR(i,t){switch(i){case"compositionend":return cC(t);case"keypress":return t.which!==32?null:(sm=!0,im);case"textInput":return i=t.data,i===im&&sm?null:i;default:return null}}function SR(i,t){if(ea)return i==="compositionend"||!Ep&&dC(i,t)?(i=uC(),Wl=Cp=an=null,ea=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fC&&t.locale!=="ko"?null:t.data;default:return null}}var MR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nm(i){var t=i&&i.nodeName&&i.nodeName.toLowerCase();return t==="input"?!!MR[i.type]:t==="textarea"}function vC(i,t,n,x){HT(x),t=fu(t,"onChange"),0<t.length&&(n=new Sp("onChange","change",null,n,x),i.push({event:n,listeners:t}))}var Fo=null,Yo=null;function ER(i){PC(i,0)}function zu(i){var t=na(i);if(VT(t))return i}function PR(i,t){if(i==="change")return t}var pC=!1;if(Bs){var ed;if(Bs){var id="oninput"in document;if(!id){var rm=document.createElement("div");rm.setAttribute("oninput","return;"),id=typeof rm.oninput=="function"}ed=id}else ed=!1;pC=ed&&(!document.documentMode||9<document.documentMode)}function am(){Fo&&(Fo.detachEvent("onpropertychange",gC),Yo=Fo=null)}function gC(i){if(i.propertyName==="value"&&zu(Yo)){var t=[];vC(t,Yo,i,gp(i)),ZT(ER,t)}}function RR(i,t,n){i==="focusin"?(am(),Fo=t,Yo=n,Fo.attachEvent("onpropertychange",gC)):i==="focusout"&&am()}function AR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return zu(Yo)}function wR(i,t){if(i==="click")return zu(t)}function OR(i,t){if(i==="input"||i==="change")return zu(t)}function LR(i,t){return i===t&&(i!==0||1/i===1/t)||i!==i&&t!==t}var $i=typeof Object.is=="function"?Object.is:LR;function Wo(i,t){if($i(i,t))return!0;if(typeof i!="object"||i===null||typeof t!="object"||t===null)return!1;var n=Object.keys(i),x=Object.keys(t);if(n.length!==x.length)return!1;for(x=0;x<n.length;x++){var C=n[x];if(!jc.call(t,C)||!$i(i[C],t[C]))return!1}return!0}function om(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function hm(i,t){var n=om(i);i=0;for(var x;n;){if(n.nodeType===3){if(x=i+n.textContent.length,i<=t&&x>=t)return{node:n,offset:t-i};i=x}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=om(n)}}function mC(i,t){return i&&t?i===t?!0:i&&i.nodeType===3?!1:t&&t.nodeType===3?mC(i,t.parentNode):"contains"in i?i.contains(t):i.compareDocumentPosition?!!(i.compareDocumentPosition(t)&16):!1:!1}function xC(){for(var i=window,t=nu();t instanceof i.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)i=t.contentWindow;else break;t=nu(i.document)}return t}function Pp(i){var t=i&&i.nodeName&&i.nodeName.toLowerCase();return t&&(t==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||t==="textarea"||i.contentEditable==="true")}function FR(i){var t=xC(),n=i.focusedElem,x=i.selectionRange;if(t!==n&&n&&n.ownerDocument&&mC(n.ownerDocument.documentElement,n)){if(x!==null&&Pp(n)){if(t=x.start,i=x.end,i===void 0&&(i=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(i,n.value.length);else if(i=(t=n.ownerDocument||document)&&t.defaultView||window,i.getSelection){i=i.getSelection();var C=n.textContent.length,M=Math.min(x.start,C);x=x.end===void 0?M:Math.min(x.end,C),!i.extend&&M>x&&(C=x,x=M,M=C),C=hm(n,M);var h=hm(n,x);C&&h&&(i.rangeCount!==1||i.anchorNode!==C.node||i.anchorOffset!==C.offset||i.focusNode!==h.node||i.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(C.node,C.offset),i.removeAllRanges(),M>x?(i.addRange(t),i.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),i.addRange(t)))}}for(t=[],i=n;i=i.parentNode;)i.nodeType===1&&t.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)i=t[n],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var IR=Bs&&"documentMode"in document&&11>=document.documentMode,ia=null,cv=null,Io=null,vv=!1;function lm(i,t,n){var x=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vv||ia==null||ia!==nu(x)||(x=ia,"selectionStart"in x&&Pp(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Io&&Wo(Io,x)||(Io=x,x=fu(cv,"onSelect"),0<x.length&&(t=new Sp("onSelect","select",null,t,n),i.push({event:t,listeners:x}),t.target=ia)))}function Vh(i,t){var n={};return n[i.toLowerCase()]=t.toLowerCase(),n["Webkit"+i]="webkit"+t,n["Moz"+i]="moz"+t,n}var sa={animationend:Vh("Animation","AnimationEnd"),animationiteration:Vh("Animation","AnimationIteration"),animationstart:Vh("Animation","AnimationStart"),transitionend:Vh("Transition","TransitionEnd")},sd={},yC={};Bs&&(yC=document.createElement("div").style,"AnimationEvent"in window||(delete sa.animationend.animation,delete sa.animationiteration.animation,delete sa.animationstart.animation),"TransitionEvent"in window||delete sa.transitionend.transition);function ku(i){if(sd[i])return sd[i];if(!sa[i])return i;var t=sa[i],n;for(n in t)if(t.hasOwnProperty(n)&&n in yC)return sd[i]=t[n];return i}var TC=ku("animationend"),CC=ku("animationiteration"),SC=ku("animationstart"),MC=ku("transitionend"),EC=new Map,um="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mn(i,t){EC.set(i,t),pr(t,[i])}for(var nd=0;nd<um.length;nd++){var rd=um[nd],DR=rd.toLowerCase(),BR=rd[0].toUpperCase()+rd.slice(1);Mn(DR,"on"+BR)}Mn(TC,"onAnimationEnd");Mn(CC,"onAnimationIteration");Mn(SC,"onAnimationStart");Mn("dblclick","onDoubleClick");Mn("focusin","onFocus");Mn("focusout","onBlur");Mn(MC,"onTransitionEnd");Ca("onMouseEnter",["mouseout","mouseover"]);Ca("onMouseLeave",["mouseout","mouseover"]);Ca("onPointerEnter",["pointerout","pointerover"]);Ca("onPointerLeave",["pointerout","pointerover"]);pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pr("onBeforeInput",["compositionend","keypress","textInput","paste"]);pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ao));function fm(i,t,n){var x=i.type||"unknown-event";i.currentTarget=n,DP(x,t,void 0,i),i.currentTarget=null}function PC(i,t){t=(t&4)!==0;for(var n=0;n<i.length;n++){var x=i[n],C=x.event;x=x.listeners;t:{var M=void 0;if(t)for(var h=x.length-1;0<=h;h--){var y=x[h],e=y.instance,f=y.currentTarget;if(y=y.listener,e!==M&&C.isPropagationStopped())break t;fm(C,y,f),M=e}else for(h=0;h<x.length;h++){if(y=x[h],e=y.instance,f=y.currentTarget,y=y.listener,e!==M&&C.isPropagationStopped())break t;fm(C,y,f),M=e}}}if(au)throw i=lv,au=!1,lv=null,i}function Yt(i,t){var n=t[yv];n===void 0&&(n=t[yv]=new Set);var x=i+"__bubble";n.has(x)||(RC(t,i,2,!1),n.add(x))}function ad(i,t,n){var x=0;t&&(x|=4),RC(n,i,x,t)}var zh="_reactListening"+Math.random().toString(36).slice(2);function Ho(i){if(!i[zh]){i[zh]=!0,DT.forEach(function(n){n!=="selectionchange"&&(bR.has(n)||ad(n,!1,i),ad(n,!0,i))});var t=i.nodeType===9?i:i.ownerDocument;t===null||t[zh]||(t[zh]=!0,ad("selectionchange",!1,t))}}function RC(i,t,n,x){switch(lC(t)){case 1:var C=ZP;break;case 4:C=JP;break;default:C=Tp}n=C.bind(null,t,n,i),C=void 0,!hv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(C=!0),x?C!==void 0?i.addEventListener(t,n,{capture:!0,passive:C}):i.addEventListener(t,n,!0):C!==void 0?i.addEventListener(t,n,{passive:C}):i.addEventListener(t,n,!1)}function od(i,t,n,x,C){var M=x;if(!(t&1)&&!(t&2)&&x!==null)t:for(;;){if(x===null)return;var h=x.tag;if(h===3||h===4){var y=x.stateNode.containerInfo;if(y===C||y.nodeType===8&&y.parentNode===C)break;if(h===4)for(h=x.return;h!==null;){var e=h.tag;if((e===3||e===4)&&(e=h.stateNode.containerInfo,e===C||e.nodeType===8&&e.parentNode===C))return;h=h.return}for(;y!==null;){if(h=er(y),h===null)return;if(e=h.tag,e===5||e===6){x=M=h;continue t}y=y.parentNode}}x=x.return}ZT(function(){var f=M,d=gp(n),s=[];t:{var a=EC.get(i);if(a!==void 0){var r=Sp,o=i;switch(i){case"keypress":if(Hl(n)===0)break t;case"keydown":case"keyup":r=fR;break;case"focusin":o="focus",r=td;break;case"focusout":o="blur",r=td;break;case"beforeblur":case"afterblur":r=td;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":r=_g;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":r=_P;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":r=vR;break;case TC:case CC:case SC:r=iR;break;case MC:r=gR;break;case"scroll":r=QP;break;case"wheel":r=xR;break;case"copy":case"cut":case"paste":r=nR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":r=em}var u=(t&4)!==0,v=!u&&i==="scroll",l=u?a!==null?a+"Capture":null:a;u=[];for(var c=f,p;c!==null;){p=c;var g=p.stateNode;if(p.tag===5&&g!==null&&(p=g,l!==null&&(g=zo(c,l),g!=null&&u.push($o(c,g,p)))),v)break;c=c.return}0<u.length&&(a=new r(a,o,null,n,d),s.push({event:a,listeners:u}))}}if(!(t&7)){t:{if(a=i==="mouseover"||i==="pointerover",r=i==="mouseout"||i==="pointerout",a&&n!==av&&(o=n.relatedTarget||n.fromElement)&&(er(o)||o[bs]))break t;if((r||a)&&(a=d.window===d?d:(a=d.ownerDocument)?a.defaultView||a.parentWindow:window,r?(o=n.relatedTarget||n.toElement,r=f,o=o?er(o):null,o!==null&&(v=gr(o),o!==v||o.tag!==5&&o.tag!==6)&&(o=null)):(r=null,o=f),r!==o)){if(u=_g,g="onMouseLeave",l="onMouseEnter",c="mouse",(i==="pointerout"||i==="pointerover")&&(u=em,g="onPointerLeave",l="onPointerEnter",c="pointer"),v=r==null?a:na(r),p=o==null?a:na(o),a=new u(g,c+"leave",r,n,d),a.target=v,a.relatedTarget=p,g=null,er(d)===f&&(u=new u(l,c+"enter",o,n,d),u.target=p,u.relatedTarget=v,g=u),v=g,r&&o)e:{for(u=r,l=o,c=0,p=u;p;p=Pr(p))c++;for(p=0,g=l;g;g=Pr(g))p++;for(;0<c-p;)u=Pr(u),c--;for(;0<p-c;)l=Pr(l),p--;for(;c--;){if(u===l||l!==null&&u===l.alternate)break e;u=Pr(u),l=Pr(l)}u=null}else u=null;r!==null&&dm(s,a,r,u,!1),o!==null&&v!==null&&dm(s,v,o,u,!0)}}t:{if(a=f?na(f):window,r=a.nodeName&&a.nodeName.toLowerCase(),r==="select"||r==="input"&&a.type==="file")var m=PR;else if(nm(a))if(pC)m=OR;else{m=AR;var T=RR}else(r=a.nodeName)&&r.toLowerCase()==="input"&&(a.type==="checkbox"||a.type==="radio")&&(m=wR);if(m&&(m=m(i,f))){vC(s,m,n,d);break t}T&&T(i,a,f),i==="focusout"&&(T=a._wrapperState)&&T.controlled&&a.type==="number"&&ev(a,"number",a.value)}switch(T=f?na(f):window,i){case"focusin":(nm(T)||T.contentEditable==="true")&&(ia=T,cv=f,Io=null);break;case"focusout":Io=cv=ia=null;break;case"mousedown":vv=!0;break;case"contextmenu":case"mouseup":case"dragend":vv=!1,lm(s,n,d);break;case"selectionchange":if(IR)break;case"keydown":case"keyup":lm(s,n,d)}var S;if(Ep)t:{switch(i){case"compositionstart":var P="onCompositionStart";break t;case"compositionend":P="onCompositionEnd";break t;case"compositionupdate":P="onCompositionUpdate";break t}P=void 0}else ea?dC(i,n)&&(P="onCompositionEnd"):i==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(fC&&n.locale!=="ko"&&(ea||P!=="onCompositionStart"?P==="onCompositionEnd"&&ea&&(S=uC()):(an=d,Cp="value"in an?an.value:an.textContent,ea=!0)),T=fu(f,P),0<T.length&&(P=new tm(P,i,null,n,d),s.push({event:P,listeners:T}),S?P.data=S:(S=cC(n),S!==null&&(P.data=S)))),(S=TR?CR(i,n):SR(i,n))&&(f=fu(f,"onBeforeInput"),0<f.length&&(d=new tm("onBeforeInput","beforeinput",null,n,d),s.push({event:d,listeners:f}),d.data=S))}PC(s,t)})}function $o(i,t,n){return{instance:i,listener:t,currentTarget:n}}function fu(i,t){for(var n=t+"Capture",x=[];i!==null;){var C=i,M=C.stateNode;C.tag===5&&M!==null&&(C=M,M=zo(i,n),M!=null&&x.unshift($o(i,M,C)),M=zo(i,t),M!=null&&x.push($o(i,M,C))),i=i.return}return x}function Pr(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function dm(i,t,n,x,C){for(var M=t._reactName,h=[];n!==null&&n!==x;){var y=n,e=y.alternate,f=y.stateNode;if(e!==null&&e===x)break;y.tag===5&&f!==null&&(y=f,C?(e=zo(n,M),e!=null&&h.unshift($o(n,e,y))):C||(e=zo(n,M),e!=null&&h.push($o(n,e,y)))),n=n.return}h.length!==0&&i.push({event:t,listeners:h})}var GR=/\r\n?/g,NR=/\u0000|\uFFFD/g;function cm(i){return(typeof i=="string"?i:""+i).replace(GR,`
`).replace(NR,"")}function kh(i,t,n){if(t=cm(t),cm(i)!==t&&n)throw Error(ot(425))}function du(){}var pv=null,gv=null;function mv(i,t){return i==="textarea"||i==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xv=typeof setTimeout=="function"?setTimeout:void 0,VR=typeof clearTimeout=="function"?clearTimeout:void 0,vm=typeof Promise=="function"?Promise:void 0,zR=typeof queueMicrotask=="function"?queueMicrotask:typeof vm<"u"?function(i){return vm.resolve(null).then(i).catch(kR)}:xv;function kR(i){setTimeout(function(){throw i})}function hd(i,t){var n=t,x=0;do{var C=n.nextSibling;if(i.removeChild(n),C&&C.nodeType===8)if(n=C.data,n==="/$"){if(x===0){i.removeChild(C),Xo(t);return}x--}else n!=="$"&&n!=="$?"&&n!=="$!"||x++;n=C}while(n);Xo(t)}function dn(i){for(;i!=null;i=i.nextSibling){var t=i.nodeType;if(t===1||t===3)break;if(t===8){if(t=i.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return i}function pm(i){i=i.previousSibling;for(var t=0;i;){if(i.nodeType===8){var n=i.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return i;t--}else n==="/$"&&t++}i=i.previousSibling}return null}var ba=Math.random().toString(36).slice(2),ls="__reactFiber$"+ba,Ko="__reactProps$"+ba,bs="__reactContainer$"+ba,yv="__reactEvents$"+ba,UR="__reactListeners$"+ba,XR="__reactHandles$"+ba;function er(i){var t=i[ls];if(t)return t;for(var n=i.parentNode;n;){if(t=n[bs]||n[ls]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(i=pm(i);i!==null;){if(n=i[ls])return n;i=pm(i)}return t}i=n,n=i.parentNode}return null}function uh(i){return i=i[ls]||i[bs],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function na(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(ot(33))}function Uu(i){return i[Ko]||null}var Tv=[],ra=-1;function En(i){return{current:i}}function Wt(i){0>ra||(i.current=Tv[ra],Tv[ra]=null,ra--)}function Xt(i,t){ra++,Tv[ra]=i.current,i.current=t}var Tn={},Ie=En(Tn),je=En(!1),or=Tn;function Sa(i,t){var n=i.type.contextTypes;if(!n)return Tn;var x=i.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===t)return x.__reactInternalMemoizedMaskedChildContext;var C={},M;for(M in n)C[M]=t[M];return x&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=t,i.__reactInternalMemoizedMaskedChildContext=C),C}function Ze(i){return i=i.childContextTypes,i!=null}function cu(){Wt(je),Wt(Ie)}function gm(i,t,n){if(Ie.current!==Tn)throw Error(ot(168));Xt(Ie,t),Xt(je,n)}function AC(i,t,n){var x=i.stateNode;if(t=t.childContextTypes,typeof x.getChildContext!="function")return n;x=x.getChildContext();for(var C in x)if(!(C in t))throw Error(ot(108,RP(i)||"Unknown",C));return Jt({},n,x)}function vu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Tn,or=Ie.current,Xt(Ie,i),Xt(je,je.current),!0}function mm(i,t,n){var x=i.stateNode;if(!x)throw Error(ot(169));n?(i=AC(i,t,or),x.__reactInternalMemoizedMergedChildContext=i,Wt(je),Wt(Ie),Xt(Ie,i)):Wt(je),Xt(je,n)}var Rs=null,Xu=!1,ld=!1;function wC(i){Rs===null?Rs=[i]:Rs.push(i)}function YR(i){Xu=!0,wC(i)}function Pn(){if(!ld&&Rs!==null){ld=!0;var i=0,t=Dt;try{var n=Rs;for(Dt=1;i<n.length;i++){var x=n[i];do x=x(!0);while(x!==null)}Rs=null,Xu=!1}catch(C){throw Rs!==null&&(Rs=Rs.slice(i+1)),_T(mp,Pn),C}finally{Dt=t,ld=!1}}return null}var aa=[],oa=0,pu=null,gu=0,xi=[],yi=0,hr=null,ws=1,Os="";function qn(i,t){aa[oa++]=gu,aa[oa++]=pu,pu=i,gu=t}function OC(i,t,n){xi[yi++]=ws,xi[yi++]=Os,xi[yi++]=hr,hr=i;var x=ws;i=Os;var C=32-Wi(x)-1;x&=~(1<<C),n+=1;var M=32-Wi(t)+C;if(30<M){var h=C-C%5;M=(x&(1<<h)-1).toString(32),x>>=h,C-=h,ws=1<<32-Wi(t)+C|n<<C|x,Os=M+i}else ws=1<<M|n<<C|x,Os=i}function Rp(i){i.return!==null&&(qn(i,1),OC(i,1,0))}function Ap(i){for(;i===pu;)pu=aa[--oa],aa[oa]=null,gu=aa[--oa],aa[oa]=null;for(;i===hr;)hr=xi[--yi],xi[yi]=null,Os=xi[--yi],xi[yi]=null,ws=xi[--yi],xi[yi]=null}var ai=null,ri=null,$t=!1,Yi=null;function LC(i,t){var n=Ci(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=i,t=i.deletions,t===null?(i.deletions=[n],i.flags|=16):t.push(n)}function xm(i,t){switch(i.tag){case 5:var n=i.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(i.stateNode=t,ai=i,ri=dn(t.firstChild),!0):!1;case 6:return t=i.pendingProps===""||t.nodeType!==3?null:t,t!==null?(i.stateNode=t,ai=i,ri=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=hr!==null?{id:ws,overflow:Os}:null,i.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ci(18,null,null,0),n.stateNode=t,n.return=i,i.child=n,ai=i,ri=null,!0):!1;default:return!1}}function Cv(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Sv(i){if($t){var t=ri;if(t){var n=t;if(!xm(i,t)){if(Cv(i))throw Error(ot(418));t=dn(n.nextSibling);var x=ai;t&&xm(i,t)?LC(x,n):(i.flags=i.flags&-4097|2,$t=!1,ai=i)}}else{if(Cv(i))throw Error(ot(418));i.flags=i.flags&-4097|2,$t=!1,ai=i}}}function ym(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;ai=i}function Uh(i){if(i!==ai)return!1;if(!$t)return ym(i),$t=!0,!1;var t;if((t=i.tag!==3)&&!(t=i.tag!==5)&&(t=i.type,t=t!=="head"&&t!=="body"&&!mv(i.type,i.memoizedProps)),t&&(t=ri)){if(Cv(i))throw FC(),Error(ot(418));for(;t;)LC(i,t),t=dn(t.nextSibling)}if(ym(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ot(317));t:{for(i=i.nextSibling,t=0;i;){if(i.nodeType===8){var n=i.data;if(n==="/$"){if(t===0){ri=dn(i.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}i=i.nextSibling}ri=null}}else ri=ai?dn(i.stateNode.nextSibling):null;return!0}function FC(){for(var i=ri;i;)i=dn(i.nextSibling)}function Ma(){ri=ai=null,$t=!1}function wp(i){Yi===null?Yi=[i]:Yi.push(i)}var WR=Vs.ReactCurrentBatchConfig;function ki(i,t){if(i&&i.defaultProps){t=Jt({},t),i=i.defaultProps;for(var n in i)t[n]===void 0&&(t[n]=i[n]);return t}return t}var mu=En(null),xu=null,ha=null,Op=null;function Lp(){Op=ha=xu=null}function Fp(i){var t=mu.current;Wt(mu),i._currentValue=t}function Mv(i,t,n){for(;i!==null;){var x=i.alternate;if((i.childLanes&t)!==t?(i.childLanes|=t,x!==null&&(x.childLanes|=t)):x!==null&&(x.childLanes&t)!==t&&(x.childLanes|=t),i===n)break;i=i.return}}function ma(i,t){xu=i,Op=ha=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&t&&(Ke=!0),i.firstContext=null)}function Ri(i){var t=i._currentValue;if(Op!==i)if(i={context:i,memoizedValue:t,next:null},ha===null){if(xu===null)throw Error(ot(308));ha=i,xu.dependencies={lanes:0,firstContext:i}}else ha=ha.next=i;return t}var ir=null;function Ip(i){ir===null?ir=[i]:ir.push(i)}function IC(i,t,n,x){var C=t.interleaved;return C===null?(n.next=n,Ip(t)):(n.next=C.next,C.next=n),t.interleaved=n,Gs(i,x)}function Gs(i,t){i.lanes|=t;var n=i.alternate;for(n!==null&&(n.lanes|=t),n=i,i=i.return;i!==null;)i.childLanes|=t,n=i.alternate,n!==null&&(n.childLanes|=t),n=i,i=i.return;return n.tag===3?n.stateNode:null}var qs=!1;function Dp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function DC(i,t){i=i.updateQueue,t.updateQueue===i&&(t.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Ls(i,t){return{eventTime:i,lane:t,tag:0,payload:null,callback:null,next:null}}function cn(i,t,n){var x=i.updateQueue;if(x===null)return null;if(x=x.shared,At&2){var C=x.pending;return C===null?t.next=t:(t.next=C.next,C.next=t),x.pending=t,Gs(i,n)}return C=x.interleaved,C===null?(t.next=t,Ip(x)):(t.next=C.next,C.next=t),x.interleaved=t,Gs(i,n)}function $l(i,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var x=t.lanes;x&=i.pendingLanes,n|=x,t.lanes=n,xp(i,n)}}function Tm(i,t){var n=i.updateQueue,x=i.alternate;if(x!==null&&(x=x.updateQueue,n===x)){var C=null,M=null;if(n=n.firstBaseUpdate,n!==null){do{var h={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};M===null?C=M=h:M=M.next=h,n=n.next}while(n!==null);M===null?C=M=t:M=M.next=t}else C=M=t;n={baseState:x.baseState,firstBaseUpdate:C,lastBaseUpdate:M,shared:x.shared,effects:x.effects},i.updateQueue=n;return}i=n.lastBaseUpdate,i===null?n.firstBaseUpdate=t:i.next=t,n.lastBaseUpdate=t}function yu(i,t,n,x){var C=i.updateQueue;qs=!1;var M=C.firstBaseUpdate,h=C.lastBaseUpdate,y=C.shared.pending;if(y!==null){C.shared.pending=null;var e=y,f=e.next;e.next=null,h===null?M=f:h.next=f,h=e;var d=i.alternate;d!==null&&(d=d.updateQueue,y=d.lastBaseUpdate,y!==h&&(y===null?d.firstBaseUpdate=f:y.next=f,d.lastBaseUpdate=e))}if(M!==null){var s=C.baseState;h=0,d=f=e=null,y=M;do{var a=y.lane,r=y.eventTime;if((x&a)===a){d!==null&&(d=d.next={eventTime:r,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});t:{var o=i,u=y;switch(a=t,r=n,u.tag){case 1:if(o=u.payload,typeof o=="function"){s=o.call(r,s,a);break t}s=o;break t;case 3:o.flags=o.flags&-65537|128;case 0:if(o=u.payload,a=typeof o=="function"?o.call(r,s,a):o,a==null)break t;s=Jt({},s,a);break t;case 2:qs=!0}}y.callback!==null&&y.lane!==0&&(i.flags|=64,a=C.effects,a===null?C.effects=[y]:a.push(y))}else r={eventTime:r,lane:a,tag:y.tag,payload:y.payload,callback:y.callback,next:null},d===null?(f=d=r,e=s):d=d.next=r,h|=a;if(y=y.next,y===null){if(y=C.shared.pending,y===null)break;a=y,y=a.next,a.next=null,C.lastBaseUpdate=a,C.shared.pending=null}}while(1);if(d===null&&(e=s),C.baseState=e,C.firstBaseUpdate=f,C.lastBaseUpdate=d,t=C.shared.interleaved,t!==null){C=t;do h|=C.lane,C=C.next;while(C!==t)}else M===null&&(C.shared.lanes=0);ur|=h,i.lanes=h,i.memoizedState=s}}function Cm(i,t,n){if(i=t.effects,t.effects=null,i!==null)for(t=0;t<i.length;t++){var x=i[t],C=x.callback;if(C!==null){if(x.callback=null,x=n,typeof C!="function")throw Error(ot(191,C));C.call(x)}}}var BC=new IT.Component().refs;function Ev(i,t,n,x){t=i.memoizedState,n=n(x,t),n=n==null?t:Jt({},t,n),i.memoizedState=n,i.lanes===0&&(i.updateQueue.baseState=n)}var Yu={isMounted:function(i){return(i=i._reactInternals)?gr(i)===i:!1},enqueueSetState:function(i,t,n){i=i._reactInternals;var x=Ge(),C=pn(i),M=Ls(x,C);M.payload=t,n!=null&&(M.callback=n),t=cn(i,M,C),t!==null&&(Hi(t,i,C,x),$l(t,i,C))},enqueueReplaceState:function(i,t,n){i=i._reactInternals;var x=Ge(),C=pn(i),M=Ls(x,C);M.tag=1,M.payload=t,n!=null&&(M.callback=n),t=cn(i,M,C),t!==null&&(Hi(t,i,C,x),$l(t,i,C))},enqueueForceUpdate:function(i,t){i=i._reactInternals;var n=Ge(),x=pn(i),C=Ls(n,x);C.tag=2,t!=null&&(C.callback=t),t=cn(i,C,x),t!==null&&(Hi(t,i,x,n),$l(t,i,x))}};function Sm(i,t,n,x,C,M,h){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(x,M,h):t.prototype&&t.prototype.isPureReactComponent?!Wo(n,x)||!Wo(C,M):!0}function bC(i,t,n){var x=!1,C=Tn,M=t.contextType;return typeof M=="object"&&M!==null?M=Ri(M):(C=Ze(t)?or:Ie.current,x=t.contextTypes,M=(x=x!=null)?Sa(i,C):Tn),t=new t(n,M),i.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Yu,i.stateNode=t,t._reactInternals=i,x&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=C,i.__reactInternalMemoizedMaskedChildContext=M),t}function Mm(i,t,n,x){i=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,x),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,x),t.state!==i&&Yu.enqueueReplaceState(t,t.state,null)}function Pv(i,t,n,x){var C=i.stateNode;C.props=n,C.state=i.memoizedState,C.refs=BC,Dp(i);var M=t.contextType;typeof M=="object"&&M!==null?C.context=Ri(M):(M=Ze(t)?or:Ie.current,C.context=Sa(i,M)),C.state=i.memoizedState,M=t.getDerivedStateFromProps,typeof M=="function"&&(Ev(i,t,M,n),C.state=i.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(t=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),t!==C.state&&Yu.enqueueReplaceState(C,C.state,null),yu(i,n,C,x),C.state=i.memoizedState),typeof C.componentDidMount=="function"&&(i.flags|=4194308)}function ja(i,t,n){if(i=n.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ot(309));var x=n.stateNode}if(!x)throw Error(ot(147,i));var C=x,M=""+i;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===M?t.ref:(t=function(h){var y=C.refs;y===BC&&(y=C.refs={}),h===null?delete y[M]:y[M]=h},t._stringRef=M,t)}if(typeof i!="string")throw Error(ot(284));if(!n._owner)throw Error(ot(290,i))}return i}function Xh(i,t){throw i=Object.prototype.toString.call(t),Error(ot(31,i==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":i))}function Em(i){var t=i._init;return t(i._payload)}function GC(i){function t(l,c){if(i){var p=l.deletions;p===null?(l.deletions=[c],l.flags|=16):p.push(c)}}function n(l,c){if(!i)return null;for(;c!==null;)t(l,c),c=c.sibling;return null}function x(l,c){for(l=new Map;c!==null;)c.key!==null?l.set(c.key,c):l.set(c.index,c),c=c.sibling;return l}function C(l,c){return l=gn(l,c),l.index=0,l.sibling=null,l}function M(l,c,p){return l.index=p,i?(p=l.alternate,p!==null?(p=p.index,p<c?(l.flags|=2,c):p):(l.flags|=2,c)):(l.flags|=1048576,c)}function h(l){return i&&l.alternate===null&&(l.flags|=2),l}function y(l,c,p,g){return c===null||c.tag!==6?(c=gd(p,l.mode,g),c.return=l,c):(c=C(c,p),c.return=l,c)}function e(l,c,p,g){var m=p.type;return m===ta?d(l,c,p.props.children,g,p.key):c!==null&&(c.elementType===m||typeof m=="object"&&m!==null&&m.$$typeof===Qs&&Em(m)===c.type)?(g=C(c,p.props),g.ref=ja(l,c,p),g.return=l,g):(g=ql(p.type,p.key,p.props,null,l.mode,g),g.ref=ja(l,c,p),g.return=l,g)}function f(l,c,p,g){return c===null||c.tag!==4||c.stateNode.containerInfo!==p.containerInfo||c.stateNode.implementation!==p.implementation?(c=md(p,l.mode,g),c.return=l,c):(c=C(c,p.children||[]),c.return=l,c)}function d(l,c,p,g,m){return c===null||c.tag!==7?(c=rr(p,l.mode,g,m),c.return=l,c):(c=C(c,p),c.return=l,c)}function s(l,c,p){if(typeof c=="string"&&c!==""||typeof c=="number")return c=gd(""+c,l.mode,p),c.return=l,c;if(typeof c=="object"&&c!==null){switch(c.$$typeof){case Fh:return p=ql(c.type,c.key,c.props,null,l.mode,p),p.ref=ja(l,null,c),p.return=l,p;case _r:return c=md(c,l.mode,p),c.return=l,c;case Qs:var g=c._init;return s(l,g(c._payload),p)}if(Po(c)||Ya(c))return c=rr(c,l.mode,p,null),c.return=l,c;Xh(l,c)}return null}function a(l,c,p,g){var m=c!==null?c.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return m!==null?null:y(l,c,""+p,g);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Fh:return p.key===m?e(l,c,p,g):null;case _r:return p.key===m?f(l,c,p,g):null;case Qs:return m=p._init,a(l,c,m(p._payload),g)}if(Po(p)||Ya(p))return m!==null?null:d(l,c,p,g,null);Xh(l,p)}return null}function r(l,c,p,g,m){if(typeof g=="string"&&g!==""||typeof g=="number")return l=l.get(p)||null,y(c,l,""+g,m);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Fh:return l=l.get(g.key===null?p:g.key)||null,e(c,l,g,m);case _r:return l=l.get(g.key===null?p:g.key)||null,f(c,l,g,m);case Qs:var T=g._init;return r(l,c,p,T(g._payload),m)}if(Po(g)||Ya(g))return l=l.get(p)||null,d(c,l,g,m,null);Xh(c,g)}return null}function o(l,c,p,g){for(var m=null,T=null,S=c,P=c=0,E=null;S!==null&&P<p.length;P++){S.index>P?(E=S,S=null):E=S.sibling;var R=a(l,S,p[P],g);if(R===null){S===null&&(S=E);break}i&&S&&R.alternate===null&&t(l,S),c=M(R,c,P),T===null?m=R:T.sibling=R,T=R,S=E}if(P===p.length)return n(l,S),$t&&qn(l,P),m;if(S===null){for(;P<p.length;P++)S=s(l,p[P],g),S!==null&&(c=M(S,c,P),T===null?m=S:T.sibling=S,T=S);return $t&&qn(l,P),m}for(S=x(l,S);P<p.length;P++)E=r(S,l,P,p[P],g),E!==null&&(i&&E.alternate!==null&&S.delete(E.key===null?P:E.key),c=M(E,c,P),T===null?m=E:T.sibling=E,T=E);return i&&S.forEach(function(A){return t(l,A)}),$t&&qn(l,P),m}function u(l,c,p,g){var m=Ya(p);if(typeof m!="function")throw Error(ot(150));if(p=m.call(p),p==null)throw Error(ot(151));for(var T=m=null,S=c,P=c=0,E=null,R=p.next();S!==null&&!R.done;P++,R=p.next()){S.index>P?(E=S,S=null):E=S.sibling;var A=a(l,S,R.value,g);if(A===null){S===null&&(S=E);break}i&&S&&A.alternate===null&&t(l,S),c=M(A,c,P),T===null?m=A:T.sibling=A,T=A,S=E}if(R.done)return n(l,S),$t&&qn(l,P),m;if(S===null){for(;!R.done;P++,R=p.next())R=s(l,R.value,g),R!==null&&(c=M(R,c,P),T===null?m=R:T.sibling=R,T=R);return $t&&qn(l,P),m}for(S=x(l,S);!R.done;P++,R=p.next())R=r(S,l,P,R.value,g),R!==null&&(i&&R.alternate!==null&&S.delete(R.key===null?P:R.key),c=M(R,c,P),T===null?m=R:T.sibling=R,T=R);return i&&S.forEach(function(w){return t(l,w)}),$t&&qn(l,P),m}function v(l,c,p,g){if(typeof p=="object"&&p!==null&&p.type===ta&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Fh:t:{for(var m=p.key,T=c;T!==null;){if(T.key===m){if(m=p.type,m===ta){if(T.tag===7){n(l,T.sibling),c=C(T,p.props.children),c.return=l,l=c;break t}}else if(T.elementType===m||typeof m=="object"&&m!==null&&m.$$typeof===Qs&&Em(m)===T.type){n(l,T.sibling),c=C(T,p.props),c.ref=ja(l,T,p),c.return=l,l=c;break t}n(l,T);break}else t(l,T);T=T.sibling}p.type===ta?(c=rr(p.props.children,l.mode,g,p.key),c.return=l,l=c):(g=ql(p.type,p.key,p.props,null,l.mode,g),g.ref=ja(l,c,p),g.return=l,l=g)}return h(l);case _r:t:{for(T=p.key;c!==null;){if(c.key===T)if(c.tag===4&&c.stateNode.containerInfo===p.containerInfo&&c.stateNode.implementation===p.implementation){n(l,c.sibling),c=C(c,p.children||[]),c.return=l,l=c;break t}else{n(l,c);break}else t(l,c);c=c.sibling}c=md(p,l.mode,g),c.return=l,l=c}return h(l);case Qs:return T=p._init,v(l,c,T(p._payload),g)}if(Po(p))return o(l,c,p,g);if(Ya(p))return u(l,c,p,g);Xh(l,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,c!==null&&c.tag===6?(n(l,c.sibling),c=C(c,p),c.return=l,l=c):(n(l,c),c=gd(p,l.mode,g),c.return=l,l=c),h(l)):n(l,c)}return v}var Ea=GC(!0),NC=GC(!1),fh={},vs=En(fh),jo=En(fh),Zo=En(fh);function sr(i){if(i===fh)throw Error(ot(174));return i}function Bp(i,t){switch(Xt(Zo,t),Xt(jo,i),Xt(vs,fh),i=t.nodeType,i){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:sv(null,"");break;default:i=i===8?t.parentNode:t,t=i.namespaceURI||null,i=i.tagName,t=sv(t,i)}Wt(vs),Xt(vs,t)}function Pa(){Wt(vs),Wt(jo),Wt(Zo)}function VC(i){sr(Zo.current);var t=sr(vs.current),n=sv(t,i.type);t!==n&&(Xt(jo,i),Xt(vs,n))}function bp(i){jo.current===i&&(Wt(vs),Wt(jo))}var jt=En(0);function Tu(i){for(var t=i;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break;for(;t.sibling===null;){if(t.return===null||t.return===i)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ud=[];function Gp(){for(var i=0;i<ud.length;i++)ud[i]._workInProgressVersionPrimary=null;ud.length=0}var Kl=Vs.ReactCurrentDispatcher,fd=Vs.ReactCurrentBatchConfig,lr=0,Zt=null,ue=null,ve=null,Cu=!1,Do=!1,Jo=0,HR=0;function Pe(){throw Error(ot(321))}function Np(i,t){if(t===null)return!1;for(var n=0;n<t.length&&n<i.length;n++)if(!$i(i[n],t[n]))return!1;return!0}function Vp(i,t,n,x,C,M){if(lr=M,Zt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Kl.current=i===null||i.memoizedState===null?ZR:JR,i=n(x,C),Do){M=0;do{if(Do=!1,Jo=0,25<=M)throw Error(ot(301));M+=1,ve=ue=null,t.updateQueue=null,Kl.current=QR,i=n(x,C)}while(Do)}if(Kl.current=Su,t=ue!==null&&ue.next!==null,lr=0,ve=ue=Zt=null,Cu=!1,t)throw Error(ot(300));return i}function zp(){var i=Jo!==0;return Jo=0,i}function hs(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?Zt.memoizedState=ve=i:ve=ve.next=i,ve}function Ai(){if(ue===null){var i=Zt.alternate;i=i!==null?i.memoizedState:null}else i=ue.next;var t=ve===null?Zt.memoizedState:ve.next;if(t!==null)ve=t,ue=i;else{if(i===null)throw Error(ot(310));ue=i,i={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},ve===null?Zt.memoizedState=ve=i:ve=ve.next=i}return ve}function Qo(i,t){return typeof t=="function"?t(i):t}function dd(i){var t=Ai(),n=t.queue;if(n===null)throw Error(ot(311));n.lastRenderedReducer=i;var x=ue,C=x.baseQueue,M=n.pending;if(M!==null){if(C!==null){var h=C.next;C.next=M.next,M.next=h}x.baseQueue=C=M,n.pending=null}if(C!==null){M=C.next,x=x.baseState;var y=h=null,e=null,f=M;do{var d=f.lane;if((lr&d)===d)e!==null&&(e=e.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),x=f.hasEagerState?f.eagerState:i(x,f.action);else{var s={lane:d,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};e===null?(y=e=s,h=x):e=e.next=s,Zt.lanes|=d,ur|=d}f=f.next}while(f!==null&&f!==M);e===null?h=x:e.next=y,$i(x,t.memoizedState)||(Ke=!0),t.memoizedState=x,t.baseState=h,t.baseQueue=e,n.lastRenderedState=x}if(i=n.interleaved,i!==null){C=i;do M=C.lane,Zt.lanes|=M,ur|=M,C=C.next;while(C!==i)}else C===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function cd(i){var t=Ai(),n=t.queue;if(n===null)throw Error(ot(311));n.lastRenderedReducer=i;var x=n.dispatch,C=n.pending,M=t.memoizedState;if(C!==null){n.pending=null;var h=C=C.next;do M=i(M,h.action),h=h.next;while(h!==C);$i(M,t.memoizedState)||(Ke=!0),t.memoizedState=M,t.baseQueue===null&&(t.baseState=M),n.lastRenderedState=M}return[M,x]}function zC(){}function kC(i,t){var n=Zt,x=Ai(),C=t(),M=!$i(x.memoizedState,C);if(M&&(x.memoizedState=C,Ke=!0),x=x.queue,kp(YC.bind(null,n,x,i),[i]),x.getSnapshot!==t||M||ve!==null&&ve.memoizedState.tag&1){if(n.flags|=2048,qo(9,XC.bind(null,n,x,C,t),void 0,null),ge===null)throw Error(ot(349));lr&30||UC(n,t,C)}return C}function UC(i,t,n){i.flags|=16384,i={getSnapshot:t,value:n},t=Zt.updateQueue,t===null?(t={lastEffect:null,stores:null},Zt.updateQueue=t,t.stores=[i]):(n=t.stores,n===null?t.stores=[i]:n.push(i))}function XC(i,t,n,x){t.value=n,t.getSnapshot=x,WC(t)&&HC(i)}function YC(i,t,n){return n(function(){WC(t)&&HC(i)})}function WC(i){var t=i.getSnapshot;i=i.value;try{var n=t();return!$i(i,n)}catch{return!0}}function HC(i){var t=Gs(i,1);t!==null&&Hi(t,i,1,-1)}function Pm(i){var t=hs();return typeof i=="function"&&(i=i()),t.memoizedState=t.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qo,lastRenderedState:i},t.queue=i,i=i.dispatch=jR.bind(null,Zt,i),[t.memoizedState,i]}function qo(i,t,n,x){return i={tag:i,create:t,destroy:n,deps:x,next:null},t=Zt.updateQueue,t===null?(t={lastEffect:null,stores:null},Zt.updateQueue=t,t.lastEffect=i.next=i):(n=t.lastEffect,n===null?t.lastEffect=i.next=i:(x=n.next,n.next=i,i.next=x,t.lastEffect=i)),i}function $C(){return Ai().memoizedState}function jl(i,t,n,x){var C=hs();Zt.flags|=i,C.memoizedState=qo(1|t,n,void 0,x===void 0?null:x)}function Wu(i,t,n,x){var C=Ai();x=x===void 0?null:x;var M=void 0;if(ue!==null){var h=ue.memoizedState;if(M=h.destroy,x!==null&&Np(x,h.deps)){C.memoizedState=qo(t,n,M,x);return}}Zt.flags|=i,C.memoizedState=qo(1|t,n,M,x)}function Rm(i,t){return jl(8390656,8,i,t)}function kp(i,t){return Wu(2048,8,i,t)}function KC(i,t){return Wu(4,2,i,t)}function jC(i,t){return Wu(4,4,i,t)}function ZC(i,t){if(typeof t=="function")return i=i(),t(i),function(){t(null)};if(t!=null)return i=i(),t.current=i,function(){t.current=null}}function JC(i,t,n){return n=n!=null?n.concat([i]):null,Wu(4,4,ZC.bind(null,t,i),n)}function Up(){}function QC(i,t){var n=Ai();t=t===void 0?null:t;var x=n.memoizedState;return x!==null&&t!==null&&Np(t,x[1])?x[0]:(n.memoizedState=[i,t],i)}function qC(i,t){var n=Ai();t=t===void 0?null:t;var x=n.memoizedState;return x!==null&&t!==null&&Np(t,x[1])?x[0]:(i=i(),n.memoizedState=[i,t],i)}function _C(i,t,n){return lr&21?($i(n,t)||(n=iC(),Zt.lanes|=n,ur|=n,i.baseState=!0),t):(i.baseState&&(i.baseState=!1,Ke=!0),i.memoizedState=n)}function $R(i,t){var n=Dt;Dt=n!==0&&4>n?n:4,i(!0);var x=fd.transition;fd.transition={};try{i(!1),t()}finally{Dt=n,fd.transition=x}}function tS(){return Ai().memoizedState}function KR(i,t,n){var x=pn(i);if(n={lane:x,action:n,hasEagerState:!1,eagerState:null,next:null},eS(i))iS(t,n);else if(n=IC(i,t,n,x),n!==null){var C=Ge();Hi(n,i,x,C),sS(n,t,x)}}function jR(i,t,n){var x=pn(i),C={lane:x,action:n,hasEagerState:!1,eagerState:null,next:null};if(eS(i))iS(t,C);else{var M=i.alternate;if(i.lanes===0&&(M===null||M.lanes===0)&&(M=t.lastRenderedReducer,M!==null))try{var h=t.lastRenderedState,y=M(h,n);if(C.hasEagerState=!0,C.eagerState=y,$i(y,h)){var e=t.interleaved;e===null?(C.next=C,Ip(t)):(C.next=e.next,e.next=C),t.interleaved=C;return}}catch{}finally{}n=IC(i,t,C,x),n!==null&&(C=Ge(),Hi(n,i,x,C),sS(n,t,x))}}function eS(i){var t=i.alternate;return i===Zt||t!==null&&t===Zt}function iS(i,t){Do=Cu=!0;var n=i.pending;n===null?t.next=t:(t.next=n.next,n.next=t),i.pending=t}function sS(i,t,n){if(n&4194240){var x=t.lanes;x&=i.pendingLanes,n|=x,t.lanes=n,xp(i,n)}}var Su={readContext:Ri,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useInsertionEffect:Pe,useLayoutEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useMutableSource:Pe,useSyncExternalStore:Pe,useId:Pe,unstable_isNewReconciler:!1},ZR={readContext:Ri,useCallback:function(i,t){return hs().memoizedState=[i,t===void 0?null:t],i},useContext:Ri,useEffect:Rm,useImperativeHandle:function(i,t,n){return n=n!=null?n.concat([i]):null,jl(4194308,4,ZC.bind(null,t,i),n)},useLayoutEffect:function(i,t){return jl(4194308,4,i,t)},useInsertionEffect:function(i,t){return jl(4,2,i,t)},useMemo:function(i,t){var n=hs();return t=t===void 0?null:t,i=i(),n.memoizedState=[i,t],i},useReducer:function(i,t,n){var x=hs();return t=n!==void 0?n(t):t,x.memoizedState=x.baseState=t,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:t},x.queue=i,i=i.dispatch=KR.bind(null,Zt,i),[x.memoizedState,i]},useRef:function(i){var t=hs();return i={current:i},t.memoizedState=i},useState:Pm,useDebugValue:Up,useDeferredValue:function(i){return hs().memoizedState=i},useTransition:function(){var i=Pm(!1),t=i[0];return i=$R.bind(null,i[1]),hs().memoizedState=i,[t,i]},useMutableSource:function(){},useSyncExternalStore:function(i,t,n){var x=Zt,C=hs();if($t){if(n===void 0)throw Error(ot(407));n=n()}else{if(n=t(),ge===null)throw Error(ot(349));lr&30||UC(x,t,n)}C.memoizedState=n;var M={value:n,getSnapshot:t};return C.queue=M,Rm(YC.bind(null,x,M,i),[i]),x.flags|=2048,qo(9,XC.bind(null,x,M,n,t),void 0,null),n},useId:function(){var i=hs(),t=ge.identifierPrefix;if($t){var n=Os,x=ws;n=(x&~(1<<32-Wi(x)-1)).toString(32)+n,t=":"+t+"R"+n,n=Jo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=HR++,t=":"+t+"r"+n.toString(32)+":";return i.memoizedState=t},unstable_isNewReconciler:!1},JR={readContext:Ri,useCallback:QC,useContext:Ri,useEffect:kp,useImperativeHandle:JC,useInsertionEffect:KC,useLayoutEffect:jC,useMemo:qC,useReducer:dd,useRef:$C,useState:function(){return dd(Qo)},useDebugValue:Up,useDeferredValue:function(i){var t=Ai();return _C(t,ue.memoizedState,i)},useTransition:function(){var i=dd(Qo)[0],t=Ai().memoizedState;return[i,t]},useMutableSource:zC,useSyncExternalStore:kC,useId:tS,unstable_isNewReconciler:!1},QR={readContext:Ri,useCallback:QC,useContext:Ri,useEffect:kp,useImperativeHandle:JC,useInsertionEffect:KC,useLayoutEffect:jC,useMemo:qC,useReducer:cd,useRef:$C,useState:function(){return cd(Qo)},useDebugValue:Up,useDeferredValue:function(i){var t=Ai();return ue===null?t.memoizedState=i:_C(t,ue.memoizedState,i)},useTransition:function(){var i=cd(Qo)[0],t=Ai().memoizedState;return[i,t]},useMutableSource:zC,useSyncExternalStore:kC,useId:tS,unstable_isNewReconciler:!1};function Ra(i,t){try{var n="",x=t;do n+=PP(x),x=x.return;while(x);var C=n}catch(M){C=`
Error generating stack: `+M.message+`
`+M.stack}return{value:i,source:t,stack:C,digest:null}}function vd(i,t,n){return{value:i,source:null,stack:n??null,digest:t??null}}function Rv(i,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var qR=typeof WeakMap=="function"?WeakMap:Map;function nS(i,t,n){n=Ls(-1,n),n.tag=3,n.payload={element:null};var x=t.value;return n.callback=function(){Eu||(Eu=!0,Gv=x),Rv(i,t)},n}function rS(i,t,n){n=Ls(-1,n),n.tag=3;var x=i.type.getDerivedStateFromError;if(typeof x=="function"){var C=t.value;n.payload=function(){return x(C)},n.callback=function(){Rv(i,t)}}var M=i.stateNode;return M!==null&&typeof M.componentDidCatch=="function"&&(n.callback=function(){Rv(i,t),typeof x!="function"&&(vn===null?vn=new Set([this]):vn.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),n}function Am(i,t,n){var x=i.pingCache;if(x===null){x=i.pingCache=new qR;var C=new Set;x.set(t,C)}else C=x.get(t),C===void 0&&(C=new Set,x.set(t,C));C.has(n)||(C.add(n),i=dA.bind(null,i,t,n),t.then(i,i))}function wm(i){do{var t;if((t=i.tag===13)&&(t=i.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return i;i=i.return}while(i!==null);return null}function Om(i,t,n,x,C){return i.mode&1?(i.flags|=65536,i.lanes=C,i):(i===t?i.flags|=65536:(i.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ls(-1,1),t.tag=2,cn(n,t,1))),n.lanes|=1),i)}var _R=Vs.ReactCurrentOwner,Ke=!1;function be(i,t,n,x){t.child=i===null?NC(t,null,n,x):Ea(t,i.child,n,x)}function Lm(i,t,n,x,C){n=n.render;var M=t.ref;return ma(t,C),x=Vp(i,t,n,x,M,C),n=zp(),i!==null&&!Ke?(t.updateQueue=i.updateQueue,t.flags&=-2053,i.lanes&=~C,Ns(i,t,C)):($t&&n&&Rp(t),t.flags|=1,be(i,t,x,C),t.child)}function Fm(i,t,n,x,C){if(i===null){var M=n.type;return typeof M=="function"&&!Zp(M)&&M.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=M,aS(i,t,M,x,C)):(i=ql(n.type,null,x,t,t.mode,C),i.ref=t.ref,i.return=t,t.child=i)}if(M=i.child,!(i.lanes&C)){var h=M.memoizedProps;if(n=n.compare,n=n!==null?n:Wo,n(h,x)&&i.ref===t.ref)return Ns(i,t,C)}return t.flags|=1,i=gn(M,x),i.ref=t.ref,i.return=t,t.child=i}function aS(i,t,n,x,C){if(i!==null){var M=i.memoizedProps;if(Wo(M,x)&&i.ref===t.ref)if(Ke=!1,t.pendingProps=x=M,(i.lanes&C)!==0)i.flags&131072&&(Ke=!0);else return t.lanes=i.lanes,Ns(i,t,C)}return Av(i,t,n,x,C)}function oS(i,t,n){var x=t.pendingProps,C=x.children,M=i!==null?i.memoizedState:null;if(x.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xt(ua,ni),ni|=n;else{if(!(n&1073741824))return i=M!==null?M.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:i,cachePool:null,transitions:null},t.updateQueue=null,Xt(ua,ni),ni|=i,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=M!==null?M.baseLanes:n,Xt(ua,ni),ni|=x}else M!==null?(x=M.baseLanes|n,t.memoizedState=null):x=n,Xt(ua,ni),ni|=x;return be(i,t,C,n),t.child}function hS(i,t){var n=t.ref;(i===null&&n!==null||i!==null&&i.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Av(i,t,n,x,C){var M=Ze(n)?or:Ie.current;return M=Sa(t,M),ma(t,C),n=Vp(i,t,n,x,M,C),x=zp(),i!==null&&!Ke?(t.updateQueue=i.updateQueue,t.flags&=-2053,i.lanes&=~C,Ns(i,t,C)):($t&&x&&Rp(t),t.flags|=1,be(i,t,n,C),t.child)}function Im(i,t,n,x,C){if(Ze(n)){var M=!0;vu(t)}else M=!1;if(ma(t,C),t.stateNode===null)Zl(i,t),bC(t,n,x),Pv(t,n,x,C),x=!0;else if(i===null){var h=t.stateNode,y=t.memoizedProps;h.props=y;var e=h.context,f=n.contextType;typeof f=="object"&&f!==null?f=Ri(f):(f=Ze(n)?or:Ie.current,f=Sa(t,f));var d=n.getDerivedStateFromProps,s=typeof d=="function"||typeof h.getSnapshotBeforeUpdate=="function";s||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==x||e!==f)&&Mm(t,h,x,f),qs=!1;var a=t.memoizedState;h.state=a,yu(t,x,h,C),e=t.memoizedState,y!==x||a!==e||je.current||qs?(typeof d=="function"&&(Ev(t,n,d,x),e=t.memoizedState),(y=qs||Sm(t,n,y,x,a,e,f))?(s||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=x,t.memoizedState=e),h.props=x,h.state=e,h.context=f,x=y):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),x=!1)}else{h=t.stateNode,DC(i,t),y=t.memoizedProps,f=t.type===t.elementType?y:ki(t.type,y),h.props=f,s=t.pendingProps,a=h.context,e=n.contextType,typeof e=="object"&&e!==null?e=Ri(e):(e=Ze(n)?or:Ie.current,e=Sa(t,e));var r=n.getDerivedStateFromProps;(d=typeof r=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==s||a!==e)&&Mm(t,h,x,e),qs=!1,a=t.memoizedState,h.state=a,yu(t,x,h,C);var o=t.memoizedState;y!==s||a!==o||je.current||qs?(typeof r=="function"&&(Ev(t,n,r,x),o=t.memoizedState),(f=qs||Sm(t,n,f,x,a,o,e)||!1)?(d||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(x,o,e),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(x,o,e)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||y===i.memoizedProps&&a===i.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===i.memoizedProps&&a===i.memoizedState||(t.flags|=1024),t.memoizedProps=x,t.memoizedState=o),h.props=x,h.state=o,h.context=e,x=f):(typeof h.componentDidUpdate!="function"||y===i.memoizedProps&&a===i.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===i.memoizedProps&&a===i.memoizedState||(t.flags|=1024),x=!1)}return wv(i,t,n,x,M,C)}function wv(i,t,n,x,C,M){hS(i,t);var h=(t.flags&128)!==0;if(!x&&!h)return C&&mm(t,n,!1),Ns(i,t,M);x=t.stateNode,_R.current=t;var y=h&&typeof n.getDerivedStateFromError!="function"?null:x.render();return t.flags|=1,i!==null&&h?(t.child=Ea(t,i.child,null,M),t.child=Ea(t,null,y,M)):be(i,t,y,M),t.memoizedState=x.state,C&&mm(t,n,!0),t.child}function lS(i){var t=i.stateNode;t.pendingContext?gm(i,t.pendingContext,t.pendingContext!==t.context):t.context&&gm(i,t.context,!1),Bp(i,t.containerInfo)}function Dm(i,t,n,x,C){return Ma(),wp(C),t.flags|=256,be(i,t,n,x),t.child}var Ov={dehydrated:null,treeContext:null,retryLane:0};function Lv(i){return{baseLanes:i,cachePool:null,transitions:null}}function uS(i,t,n){var x=t.pendingProps,C=jt.current,M=!1,h=(t.flags&128)!==0,y;if((y=h)||(y=i!==null&&i.memoizedState===null?!1:(C&2)!==0),y?(M=!0,t.flags&=-129):(i===null||i.memoizedState!==null)&&(C|=1),Xt(jt,C&1),i===null)return Sv(t),i=t.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(t.mode&1?i.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(h=x.children,i=x.fallback,M?(x=t.mode,M=t.child,h={mode:"hidden",children:h},!(x&1)&&M!==null?(M.childLanes=0,M.pendingProps=h):M=Ku(h,x,0,null),i=rr(i,x,n,null),M.return=t,i.return=t,M.sibling=i,t.child=M,t.child.memoizedState=Lv(n),t.memoizedState=Ov,i):Xp(t,h));if(C=i.memoizedState,C!==null&&(y=C.dehydrated,y!==null))return tA(i,t,h,x,y,C,n);if(M){M=x.fallback,h=t.mode,C=i.child,y=C.sibling;var e={mode:"hidden",children:x.children};return!(h&1)&&t.child!==C?(x=t.child,x.childLanes=0,x.pendingProps=e,t.deletions=null):(x=gn(C,e),x.subtreeFlags=C.subtreeFlags&14680064),y!==null?M=gn(y,M):(M=rr(M,h,n,null),M.flags|=2),M.return=t,x.return=t,x.sibling=M,t.child=x,x=M,M=t.child,h=i.child.memoizedState,h=h===null?Lv(n):{baseLanes:h.baseLanes|n,cachePool:null,transitions:h.transitions},M.memoizedState=h,M.childLanes=i.childLanes&~n,t.memoizedState=Ov,x}return M=i.child,i=M.sibling,x=gn(M,{mode:"visible",children:x.children}),!(t.mode&1)&&(x.lanes=n),x.return=t,x.sibling=null,i!==null&&(n=t.deletions,n===null?(t.deletions=[i],t.flags|=16):n.push(i)),t.child=x,t.memoizedState=null,x}function Xp(i,t){return t=Ku({mode:"visible",children:t},i.mode,0,null),t.return=i,i.child=t}function Yh(i,t,n,x){return x!==null&&wp(x),Ea(t,i.child,null,n),i=Xp(t,t.pendingProps.children),i.flags|=2,t.memoizedState=null,i}function tA(i,t,n,x,C,M,h){if(n)return t.flags&256?(t.flags&=-257,x=vd(Error(ot(422))),Yh(i,t,h,x)):t.memoizedState!==null?(t.child=i.child,t.flags|=128,null):(M=x.fallback,C=t.mode,x=Ku({mode:"visible",children:x.children},C,0,null),M=rr(M,C,h,null),M.flags|=2,x.return=t,M.return=t,x.sibling=M,t.child=x,t.mode&1&&Ea(t,i.child,null,h),t.child.memoizedState=Lv(h),t.memoizedState=Ov,M);if(!(t.mode&1))return Yh(i,t,h,null);if(C.data==="$!"){if(x=C.nextSibling&&C.nextSibling.dataset,x)var y=x.dgst;return x=y,M=Error(ot(419)),x=vd(M,x,void 0),Yh(i,t,h,x)}if(y=(h&i.childLanes)!==0,Ke||y){if(x=ge,x!==null){switch(h&-h){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=C&(x.suspendedLanes|h)?0:C,C!==0&&C!==M.retryLane&&(M.retryLane=C,Gs(i,C),Hi(x,i,C,-1))}return jp(),x=vd(Error(ot(421))),Yh(i,t,h,x)}return C.data==="$?"?(t.flags|=128,t.child=i.child,t=cA.bind(null,i),C._reactRetry=t,null):(i=M.treeContext,ri=dn(C.nextSibling),ai=t,$t=!0,Yi=null,i!==null&&(xi[yi++]=ws,xi[yi++]=Os,xi[yi++]=hr,ws=i.id,Os=i.overflow,hr=t),t=Xp(t,x.children),t.flags|=4096,t)}function Bm(i,t,n){i.lanes|=t;var x=i.alternate;x!==null&&(x.lanes|=t),Mv(i.return,t,n)}function pd(i,t,n,x,C){var M=i.memoizedState;M===null?i.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:x,tail:n,tailMode:C}:(M.isBackwards=t,M.rendering=null,M.renderingStartTime=0,M.last=x,M.tail=n,M.tailMode=C)}function fS(i,t,n){var x=t.pendingProps,C=x.revealOrder,M=x.tail;if(be(i,t,x.children,n),x=jt.current,x&2)x=x&1|2,t.flags|=128;else{if(i!==null&&i.flags&128)t:for(i=t.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Bm(i,n,t);else if(i.tag===19)Bm(i,n,t);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break t;for(;i.sibling===null;){if(i.return===null||i.return===t)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}x&=1}if(Xt(jt,x),!(t.mode&1))t.memoizedState=null;else switch(C){case"forwards":for(n=t.child,C=null;n!==null;)i=n.alternate,i!==null&&Tu(i)===null&&(C=n),n=n.sibling;n=C,n===null?(C=t.child,t.child=null):(C=n.sibling,n.sibling=null),pd(t,!1,C,n,M);break;case"backwards":for(n=null,C=t.child,t.child=null;C!==null;){if(i=C.alternate,i!==null&&Tu(i)===null){t.child=C;break}i=C.sibling,C.sibling=n,n=C,C=i}pd(t,!0,n,null,M);break;case"together":pd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zl(i,t){!(t.mode&1)&&i!==null&&(i.alternate=null,t.alternate=null,t.flags|=2)}function Ns(i,t,n){if(i!==null&&(t.dependencies=i.dependencies),ur|=t.lanes,!(n&t.childLanes))return null;if(i!==null&&t.child!==i.child)throw Error(ot(153));if(t.child!==null){for(i=t.child,n=gn(i,i.pendingProps),t.child=n,n.return=t;i.sibling!==null;)i=i.sibling,n=n.sibling=gn(i,i.pendingProps),n.return=t;n.sibling=null}return t.child}function eA(i,t,n){switch(t.tag){case 3:lS(t),Ma();break;case 5:VC(t);break;case 1:Ze(t.type)&&vu(t);break;case 4:Bp(t,t.stateNode.containerInfo);break;case 10:var x=t.type._context,C=t.memoizedProps.value;Xt(mu,x._currentValue),x._currentValue=C;break;case 13:if(x=t.memoizedState,x!==null)return x.dehydrated!==null?(Xt(jt,jt.current&1),t.flags|=128,null):n&t.child.childLanes?uS(i,t,n):(Xt(jt,jt.current&1),i=Ns(i,t,n),i!==null?i.sibling:null);Xt(jt,jt.current&1);break;case 19:if(x=(n&t.childLanes)!==0,i.flags&128){if(x)return fS(i,t,n);t.flags|=128}if(C=t.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),Xt(jt,jt.current),x)break;return null;case 22:case 23:return t.lanes=0,oS(i,t,n)}return Ns(i,t,n)}var dS,Fv,cS,vS;dS=function(i,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)i.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Fv=function(){};cS=function(i,t,n,x){var C=i.memoizedProps;if(C!==x){i=t.stateNode,sr(vs.current);var M=null;switch(n){case"input":C=_c(i,C),x=_c(i,x),M=[];break;case"select":C=Jt({},C,{value:void 0}),x=Jt({},x,{value:void 0}),M=[];break;case"textarea":C=iv(i,C),x=iv(i,x),M=[];break;default:typeof C.onClick!="function"&&typeof x.onClick=="function"&&(i.onclick=du)}nv(n,x);var h;n=null;for(f in C)if(!x.hasOwnProperty(f)&&C.hasOwnProperty(f)&&C[f]!=null)if(f==="style"){var y=C[f];for(h in y)y.hasOwnProperty(h)&&(n||(n={}),n[h]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(No.hasOwnProperty(f)?M||(M=[]):(M=M||[]).push(f,null));for(f in x){var e=x[f];if(y=C!=null?C[f]:void 0,x.hasOwnProperty(f)&&e!==y&&(e!=null||y!=null))if(f==="style")if(y){for(h in y)!y.hasOwnProperty(h)||e&&e.hasOwnProperty(h)||(n||(n={}),n[h]="");for(h in e)e.hasOwnProperty(h)&&y[h]!==e[h]&&(n||(n={}),n[h]=e[h])}else n||(M||(M=[]),M.push(f,n)),n=e;else f==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,y=y?y.__html:void 0,e!=null&&y!==e&&(M=M||[]).push(f,e)):f==="children"?typeof e!="string"&&typeof e!="number"||(M=M||[]).push(f,""+e):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(No.hasOwnProperty(f)?(e!=null&&f==="onScroll"&&Yt("scroll",i),M||y===e||(M=[])):(M=M||[]).push(f,e))}n&&(M=M||[]).push("style",n);var f=M;(t.updateQueue=f)&&(t.flags|=4)}};vS=function(i,t,n,x){n!==x&&(t.flags|=4)};function Za(i,t){if(!$t)switch(i.tailMode){case"hidden":t=i.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?i.tail=null:n.sibling=null;break;case"collapsed":n=i.tail;for(var x=null;n!==null;)n.alternate!==null&&(x=n),n=n.sibling;x===null?t||i.tail===null?i.tail=null:i.tail.sibling=null:x.sibling=null}}function Re(i){var t=i.alternate!==null&&i.alternate.child===i.child,n=0,x=0;if(t)for(var C=i.child;C!==null;)n|=C.lanes|C.childLanes,x|=C.subtreeFlags&14680064,x|=C.flags&14680064,C.return=i,C=C.sibling;else for(C=i.child;C!==null;)n|=C.lanes|C.childLanes,x|=C.subtreeFlags,x|=C.flags,C.return=i,C=C.sibling;return i.subtreeFlags|=x,i.childLanes=n,t}function iA(i,t,n){var x=t.pendingProps;switch(Ap(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(t),null;case 1:return Ze(t.type)&&cu(),Re(t),null;case 3:return x=t.stateNode,Pa(),Wt(je),Wt(Ie),Gp(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(i===null||i.child===null)&&(Uh(t)?t.flags|=4:i===null||i.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Yi!==null&&(zv(Yi),Yi=null))),Fv(i,t),Re(t),null;case 5:bp(t);var C=sr(Zo.current);if(n=t.type,i!==null&&t.stateNode!=null)cS(i,t,n,x,C),i.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!x){if(t.stateNode===null)throw Error(ot(166));return Re(t),null}if(i=sr(vs.current),Uh(t)){x=t.stateNode,n=t.type;var M=t.memoizedProps;switch(x[ls]=t,x[Ko]=M,i=(t.mode&1)!==0,n){case"dialog":Yt("cancel",x),Yt("close",x);break;case"iframe":case"object":case"embed":Yt("load",x);break;case"video":case"audio":for(C=0;C<Ao.length;C++)Yt(Ao[C],x);break;case"source":Yt("error",x);break;case"img":case"image":case"link":Yt("error",x),Yt("load",x);break;case"details":Yt("toggle",x);break;case"input":Yg(x,M),Yt("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!M.multiple},Yt("invalid",x);break;case"textarea":Hg(x,M),Yt("invalid",x)}nv(n,M),C=null;for(var h in M)if(M.hasOwnProperty(h)){var y=M[h];h==="children"?typeof y=="string"?x.textContent!==y&&(M.suppressHydrationWarning!==!0&&kh(x.textContent,y,i),C=["children",y]):typeof y=="number"&&x.textContent!==""+y&&(M.suppressHydrationWarning!==!0&&kh(x.textContent,y,i),C=["children",""+y]):No.hasOwnProperty(h)&&y!=null&&h==="onScroll"&&Yt("scroll",x)}switch(n){case"input":Ih(x),Wg(x,M,!0);break;case"textarea":Ih(x),$g(x);break;case"select":case"option":break;default:typeof M.onClick=="function"&&(x.onclick=du)}x=C,t.updateQueue=x,x!==null&&(t.flags|=4)}else{h=C.nodeType===9?C:C.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=UT(n)),i==="http://www.w3.org/1999/xhtml"?n==="script"?(i=h.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof x.is=="string"?i=h.createElement(n,{is:x.is}):(i=h.createElement(n),n==="select"&&(h=i,x.multiple?h.multiple=!0:x.size&&(h.size=x.size))):i=h.createElementNS(i,n),i[ls]=t,i[Ko]=x,dS(i,t,!1,!1),t.stateNode=i;t:{switch(h=rv(n,x),n){case"dialog":Yt("cancel",i),Yt("close",i),C=x;break;case"iframe":case"object":case"embed":Yt("load",i),C=x;break;case"video":case"audio":for(C=0;C<Ao.length;C++)Yt(Ao[C],i);C=x;break;case"source":Yt("error",i),C=x;break;case"img":case"image":case"link":Yt("error",i),Yt("load",i),C=x;break;case"details":Yt("toggle",i),C=x;break;case"input":Yg(i,x),C=_c(i,x),Yt("invalid",i);break;case"option":C=x;break;case"select":i._wrapperState={wasMultiple:!!x.multiple},C=Jt({},x,{value:void 0}),Yt("invalid",i);break;case"textarea":Hg(i,x),C=iv(i,x),Yt("invalid",i);break;default:C=x}nv(n,C),y=C;for(M in y)if(y.hasOwnProperty(M)){var e=y[M];M==="style"?WT(i,e):M==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,e!=null&&XT(i,e)):M==="children"?typeof e=="string"?(n!=="textarea"||e!=="")&&Vo(i,e):typeof e=="number"&&Vo(i,""+e):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(No.hasOwnProperty(M)?e!=null&&M==="onScroll"&&Yt("scroll",i):e!=null&&dp(i,M,e,h))}switch(n){case"input":Ih(i),Wg(i,x,!1);break;case"textarea":Ih(i),$g(i);break;case"option":x.value!=null&&i.setAttribute("value",""+yn(x.value));break;case"select":i.multiple=!!x.multiple,M=x.value,M!=null?ca(i,!!x.multiple,M,!1):x.defaultValue!=null&&ca(i,!!x.multiple,x.defaultValue,!0);break;default:typeof C.onClick=="function"&&(i.onclick=du)}switch(n){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break t;case"img":x=!0;break t;default:x=!1}}x&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Re(t),null;case 6:if(i&&t.stateNode!=null)vS(i,t,i.memoizedProps,x);else{if(typeof x!="string"&&t.stateNode===null)throw Error(ot(166));if(n=sr(Zo.current),sr(vs.current),Uh(t)){if(x=t.stateNode,n=t.memoizedProps,x[ls]=t,(M=x.nodeValue!==n)&&(i=ai,i!==null))switch(i.tag){case 3:kh(x.nodeValue,n,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&kh(x.nodeValue,n,(i.mode&1)!==0)}M&&(t.flags|=4)}else x=(n.nodeType===9?n:n.ownerDocument).createTextNode(x),x[ls]=t,t.stateNode=x}return Re(t),null;case 13:if(Wt(jt),x=t.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if($t&&ri!==null&&t.mode&1&&!(t.flags&128))FC(),Ma(),t.flags|=98560,M=!1;else if(M=Uh(t),x!==null&&x.dehydrated!==null){if(i===null){if(!M)throw Error(ot(318));if(M=t.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(ot(317));M[ls]=t}else Ma(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Re(t),M=!1}else Yi!==null&&(zv(Yi),Yi=null),M=!0;if(!M)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(x=x!==null,x!==(i!==null&&i.memoizedState!==null)&&x&&(t.child.flags|=8192,t.mode&1&&(i===null||jt.current&1?fe===0&&(fe=3):jp())),t.updateQueue!==null&&(t.flags|=4),Re(t),null);case 4:return Pa(),Fv(i,t),i===null&&Ho(t.stateNode.containerInfo),Re(t),null;case 10:return Fp(t.type._context),Re(t),null;case 17:return Ze(t.type)&&cu(),Re(t),null;case 19:if(Wt(jt),M=t.memoizedState,M===null)return Re(t),null;if(x=(t.flags&128)!==0,h=M.rendering,h===null)if(x)Za(M,!1);else{if(fe!==0||i!==null&&i.flags&128)for(i=t.child;i!==null;){if(h=Tu(i),h!==null){for(t.flags|=128,Za(M,!1),x=h.updateQueue,x!==null&&(t.updateQueue=x,t.flags|=4),t.subtreeFlags=0,x=n,n=t.child;n!==null;)M=n,i=x,M.flags&=14680066,h=M.alternate,h===null?(M.childLanes=0,M.lanes=i,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=h.childLanes,M.lanes=h.lanes,M.child=h.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=h.memoizedProps,M.memoizedState=h.memoizedState,M.updateQueue=h.updateQueue,M.type=h.type,i=h.dependencies,M.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n=n.sibling;return Xt(jt,jt.current&1|2),t.child}i=i.sibling}M.tail!==null&&te()>Aa&&(t.flags|=128,x=!0,Za(M,!1),t.lanes=4194304)}else{if(!x)if(i=Tu(h),i!==null){if(t.flags|=128,x=!0,n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Za(M,!0),M.tail===null&&M.tailMode==="hidden"&&!h.alternate&&!$t)return Re(t),null}else 2*te()-M.renderingStartTime>Aa&&n!==1073741824&&(t.flags|=128,x=!0,Za(M,!1),t.lanes=4194304);M.isBackwards?(h.sibling=t.child,t.child=h):(n=M.last,n!==null?n.sibling=h:t.child=h,M.last=h)}return M.tail!==null?(t=M.tail,M.rendering=t,M.tail=t.sibling,M.renderingStartTime=te(),t.sibling=null,n=jt.current,Xt(jt,x?n&1|2:n&1),t):(Re(t),null);case 22:case 23:return Kp(),x=t.memoizedState!==null,i!==null&&i.memoizedState!==null!==x&&(t.flags|=8192),x&&t.mode&1?ni&1073741824&&(Re(t),t.subtreeFlags&6&&(t.flags|=8192)):Re(t),null;case 24:return null;case 25:return null}throw Error(ot(156,t.tag))}function sA(i,t){switch(Ap(t),t.tag){case 1:return Ze(t.type)&&cu(),i=t.flags,i&65536?(t.flags=i&-65537|128,t):null;case 3:return Pa(),Wt(je),Wt(Ie),Gp(),i=t.flags,i&65536&&!(i&128)?(t.flags=i&-65537|128,t):null;case 5:return bp(t),null;case 13:if(Wt(jt),i=t.memoizedState,i!==null&&i.dehydrated!==null){if(t.alternate===null)throw Error(ot(340));Ma()}return i=t.flags,i&65536?(t.flags=i&-65537|128,t):null;case 19:return Wt(jt),null;case 4:return Pa(),null;case 10:return Fp(t.type._context),null;case 22:case 23:return Kp(),null;case 24:return null;default:return null}}var Wh=!1,Le=!1,nA=typeof WeakSet=="function"?WeakSet:Set,ut=null;function la(i,t){var n=i.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(x){_t(i,t,x)}else n.current=null}function Iv(i,t,n){try{n()}catch(x){_t(i,t,x)}}var bm=!1;function rA(i,t){if(pv=lu,i=xC(),Pp(i)){if("selectionStart"in i)var n={start:i.selectionStart,end:i.selectionEnd};else t:{n=(n=i.ownerDocument)&&n.defaultView||window;var x=n.getSelection&&n.getSelection();if(x&&x.rangeCount!==0){n=x.anchorNode;var C=x.anchorOffset,M=x.focusNode;x=x.focusOffset;try{n.nodeType,M.nodeType}catch{n=null;break t}var h=0,y=-1,e=-1,f=0,d=0,s=i,a=null;e:for(;;){for(var r;s!==n||C!==0&&s.nodeType!==3||(y=h+C),s!==M||x!==0&&s.nodeType!==3||(e=h+x),s.nodeType===3&&(h+=s.nodeValue.length),(r=s.firstChild)!==null;)a=s,s=r;for(;;){if(s===i)break e;if(a===n&&++f===C&&(y=h),a===M&&++d===x&&(e=h),(r=s.nextSibling)!==null)break;s=a,a=s.parentNode}s=r}n=y===-1||e===-1?null:{start:y,end:e}}else n=null}n=n||{start:0,end:0}}else n=null;for(gv={focusedElem:i,selectionRange:n},lu=!1,ut=t;ut!==null;)if(t=ut,i=t.child,(t.subtreeFlags&1028)!==0&&i!==null)i.return=t,ut=i;else for(;ut!==null;){t=ut;try{var o=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(o!==null){var u=o.memoizedProps,v=o.memoizedState,l=t.stateNode,c=l.getSnapshotBeforeUpdate(t.elementType===t.type?u:ki(t.type,u),v);l.__reactInternalSnapshotBeforeUpdate=c}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ot(163))}}catch(g){_t(t,t.return,g)}if(i=t.sibling,i!==null){i.return=t.return,ut=i;break}ut=t.return}return o=bm,bm=!1,o}function Bo(i,t,n){var x=t.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var C=x=x.next;do{if((C.tag&i)===i){var M=C.destroy;C.destroy=void 0,M!==void 0&&Iv(t,n,M)}C=C.next}while(C!==x)}}function Hu(i,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&i)===i){var x=n.create;n.destroy=x()}n=n.next}while(n!==t)}}function Dv(i){var t=i.ref;if(t!==null){var n=i.stateNode;switch(i.tag){case 5:i=n;break;default:i=n}typeof t=="function"?t(i):t.current=i}}function pS(i){var t=i.alternate;t!==null&&(i.alternate=null,pS(t)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(t=i.stateNode,t!==null&&(delete t[ls],delete t[Ko],delete t[yv],delete t[UR],delete t[XR])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function gS(i){return i.tag===5||i.tag===3||i.tag===4}function Gm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||gS(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Bv(i,t,n){var x=i.tag;if(x===5||x===6)i=i.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(i,t):n.insertBefore(i,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(i,n)):(t=n,t.appendChild(i)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=du));else if(x!==4&&(i=i.child,i!==null))for(Bv(i,t,n),i=i.sibling;i!==null;)Bv(i,t,n),i=i.sibling}function bv(i,t,n){var x=i.tag;if(x===5||x===6)i=i.stateNode,t?n.insertBefore(i,t):n.appendChild(i);else if(x!==4&&(i=i.child,i!==null))for(bv(i,t,n),i=i.sibling;i!==null;)bv(i,t,n),i=i.sibling}var Te=null,Ui=!1;function Xs(i,t,n){for(n=n.child;n!==null;)mS(i,t,n),n=n.sibling}function mS(i,t,n){if(cs&&typeof cs.onCommitFiberUnmount=="function")try{cs.onCommitFiberUnmount(Nu,n)}catch{}switch(n.tag){case 5:Le||la(n,t);case 6:var x=Te,C=Ui;Te=null,Xs(i,t,n),Te=x,Ui=C,Te!==null&&(Ui?(i=Te,n=n.stateNode,i.nodeType===8?i.parentNode.removeChild(n):i.removeChild(n)):Te.removeChild(n.stateNode));break;case 18:Te!==null&&(Ui?(i=Te,n=n.stateNode,i.nodeType===8?hd(i.parentNode,n):i.nodeType===1&&hd(i,n),Xo(i)):hd(Te,n.stateNode));break;case 4:x=Te,C=Ui,Te=n.stateNode.containerInfo,Ui=!0,Xs(i,t,n),Te=x,Ui=C;break;case 0:case 11:case 14:case 15:if(!Le&&(x=n.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){C=x=x.next;do{var M=C,h=M.destroy;M=M.tag,h!==void 0&&(M&2||M&4)&&Iv(n,t,h),C=C.next}while(C!==x)}Xs(i,t,n);break;case 1:if(!Le&&(la(n,t),x=n.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=n.memoizedProps,x.state=n.memoizedState,x.componentWillUnmount()}catch(y){_t(n,t,y)}Xs(i,t,n);break;case 21:Xs(i,t,n);break;case 22:n.mode&1?(Le=(x=Le)||n.memoizedState!==null,Xs(i,t,n),Le=x):Xs(i,t,n);break;default:Xs(i,t,n)}}function Nm(i){var t=i.updateQueue;if(t!==null){i.updateQueue=null;var n=i.stateNode;n===null&&(n=i.stateNode=new nA),t.forEach(function(x){var C=vA.bind(null,i,x);n.has(x)||(n.add(x),x.then(C,C))})}}function Fi(i,t){var n=t.deletions;if(n!==null)for(var x=0;x<n.length;x++){var C=n[x];try{var M=i,h=t,y=h;t:for(;y!==null;){switch(y.tag){case 5:Te=y.stateNode,Ui=!1;break t;case 3:Te=y.stateNode.containerInfo,Ui=!0;break t;case 4:Te=y.stateNode.containerInfo,Ui=!0;break t}y=y.return}if(Te===null)throw Error(ot(160));mS(M,h,C),Te=null,Ui=!1;var e=C.alternate;e!==null&&(e.return=null),C.return=null}catch(f){_t(C,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)xS(t,i),t=t.sibling}function xS(i,t){var n=i.alternate,x=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Fi(t,i),Ji(i),x&4){try{Bo(3,i,i.return),Hu(3,i)}catch(u){_t(i,i.return,u)}try{Bo(5,i,i.return)}catch(u){_t(i,i.return,u)}}break;case 1:Fi(t,i),Ji(i),x&512&&n!==null&&la(n,n.return);break;case 5:if(Fi(t,i),Ji(i),x&512&&n!==null&&la(n,n.return),i.flags&32){var C=i.stateNode;try{Vo(C,"")}catch(u){_t(i,i.return,u)}}if(x&4&&(C=i.stateNode,C!=null)){var M=i.memoizedProps,h=n!==null?n.memoizedProps:M,y=i.type,e=i.updateQueue;if(i.updateQueue=null,e!==null)try{y==="input"&&M.type==="radio"&&M.name!=null&&zT(C,M),rv(y,h);var f=rv(y,M);for(h=0;h<e.length;h+=2){var d=e[h],s=e[h+1];d==="style"?WT(C,s):d==="dangerouslySetInnerHTML"?XT(C,s):d==="children"?Vo(C,s):dp(C,d,s,f)}switch(y){case"input":tv(C,M);break;case"textarea":kT(C,M);break;case"select":var a=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!M.multiple;var r=M.value;r!=null?ca(C,!!M.multiple,r,!1):a!==!!M.multiple&&(M.defaultValue!=null?ca(C,!!M.multiple,M.defaultValue,!0):ca(C,!!M.multiple,M.multiple?[]:"",!1))}C[Ko]=M}catch(u){_t(i,i.return,u)}}break;case 6:if(Fi(t,i),Ji(i),x&4){if(i.stateNode===null)throw Error(ot(162));C=i.stateNode,M=i.memoizedProps;try{C.nodeValue=M}catch(u){_t(i,i.return,u)}}break;case 3:if(Fi(t,i),Ji(i),x&4&&n!==null&&n.memoizedState.isDehydrated)try{Xo(t.containerInfo)}catch(u){_t(i,i.return,u)}break;case 4:Fi(t,i),Ji(i);break;case 13:Fi(t,i),Ji(i),C=i.child,C.flags&8192&&(M=C.memoizedState!==null,C.stateNode.isHidden=M,!M||C.alternate!==null&&C.alternate.memoizedState!==null||(Hp=te())),x&4&&Nm(i);break;case 22:if(d=n!==null&&n.memoizedState!==null,i.mode&1?(Le=(f=Le)||d,Fi(t,i),Le=f):Fi(t,i),Ji(i),x&8192){if(f=i.memoizedState!==null,(i.stateNode.isHidden=f)&&!d&&i.mode&1)for(ut=i,d=i.child;d!==null;){for(s=ut=d;ut!==null;){switch(a=ut,r=a.child,a.tag){case 0:case 11:case 14:case 15:Bo(4,a,a.return);break;case 1:la(a,a.return);var o=a.stateNode;if(typeof o.componentWillUnmount=="function"){x=a,n=a.return;try{t=x,o.props=t.memoizedProps,o.state=t.memoizedState,o.componentWillUnmount()}catch(u){_t(x,n,u)}}break;case 5:la(a,a.return);break;case 22:if(a.memoizedState!==null){zm(s);continue}}r!==null?(r.return=a,ut=r):zm(s)}d=d.sibling}t:for(d=null,s=i;;){if(s.tag===5){if(d===null){d=s;try{C=s.stateNode,f?(M=C.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none"):(y=s.stateNode,e=s.memoizedProps.style,h=e!=null&&e.hasOwnProperty("display")?e.display:null,y.style.display=YT("display",h))}catch(u){_t(i,i.return,u)}}}else if(s.tag===6){if(d===null)try{s.stateNode.nodeValue=f?"":s.memoizedProps}catch(u){_t(i,i.return,u)}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;d===s&&(d=null),s=s.return}d===s&&(d=null),s.sibling.return=s.return,s=s.sibling}}break;case 19:Fi(t,i),Ji(i),x&4&&Nm(i);break;case 21:break;default:Fi(t,i),Ji(i)}}function Ji(i){var t=i.flags;if(t&2){try{t:{for(var n=i.return;n!==null;){if(gS(n)){var x=n;break t}n=n.return}throw Error(ot(160))}switch(x.tag){case 5:var C=x.stateNode;x.flags&32&&(Vo(C,""),x.flags&=-33);var M=Gm(i);bv(i,M,C);break;case 3:case 4:var h=x.stateNode.containerInfo,y=Gm(i);Bv(i,y,h);break;default:throw Error(ot(161))}}catch(e){_t(i,i.return,e)}i.flags&=-3}t&4096&&(i.flags&=-4097)}function aA(i,t,n){ut=i,yS(i)}function yS(i,t,n){for(var x=(i.mode&1)!==0;ut!==null;){var C=ut,M=C.child;if(C.tag===22&&x){var h=C.memoizedState!==null||Wh;if(!h){var y=C.alternate,e=y!==null&&y.memoizedState!==null||Le;y=Wh;var f=Le;if(Wh=h,(Le=e)&&!f)for(ut=C;ut!==null;)h=ut,e=h.child,h.tag===22&&h.memoizedState!==null?km(C):e!==null?(e.return=h,ut=e):km(C);for(;M!==null;)ut=M,yS(M),M=M.sibling;ut=C,Wh=y,Le=f}Vm(i)}else C.subtreeFlags&8772&&M!==null?(M.return=C,ut=M):Vm(i)}}function Vm(i){for(;ut!==null;){var t=ut;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Le||Hu(5,t);break;case 1:var x=t.stateNode;if(t.flags&4&&!Le)if(n===null)x.componentDidMount();else{var C=t.elementType===t.type?n.memoizedProps:ki(t.type,n.memoizedProps);x.componentDidUpdate(C,n.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var M=t.updateQueue;M!==null&&Cm(t,M,x);break;case 3:var h=t.updateQueue;if(h!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Cm(t,h,n)}break;case 5:var y=t.stateNode;if(n===null&&t.flags&4){n=y;var e=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":e.autoFocus&&n.focus();break;case"img":e.src&&(n.src=e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var d=f.memoizedState;if(d!==null){var s=d.dehydrated;s!==null&&Xo(s)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ot(163))}Le||t.flags&512&&Dv(t)}catch(a){_t(t,t.return,a)}}if(t===i){ut=null;break}if(n=t.sibling,n!==null){n.return=t.return,ut=n;break}ut=t.return}}function zm(i){for(;ut!==null;){var t=ut;if(t===i){ut=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ut=n;break}ut=t.return}}function km(i){for(;ut!==null;){var t=ut;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Hu(4,t)}catch(e){_t(t,n,e)}break;case 1:var x=t.stateNode;if(typeof x.componentDidMount=="function"){var C=t.return;try{x.componentDidMount()}catch(e){_t(t,C,e)}}var M=t.return;try{Dv(t)}catch(e){_t(t,M,e)}break;case 5:var h=t.return;try{Dv(t)}catch(e){_t(t,h,e)}}}catch(e){_t(t,t.return,e)}if(t===i){ut=null;break}var y=t.sibling;if(y!==null){y.return=t.return,ut=y;break}ut=t.return}}var oA=Math.ceil,Mu=Vs.ReactCurrentDispatcher,Yp=Vs.ReactCurrentOwner,Ei=Vs.ReactCurrentBatchConfig,At=0,ge=null,ne=null,Me=0,ni=0,ua=En(0),fe=0,_o=null,ur=0,$u=0,Wp=0,bo=null,$e=null,Hp=0,Aa=1/0,Ps=null,Eu=!1,Gv=null,vn=null,Hh=!1,on=null,Pu=0,Go=0,Nv=null,Jl=-1,Ql=0;function Ge(){return At&6?te():Jl!==-1?Jl:Jl=te()}function pn(i){return i.mode&1?At&2&&Me!==0?Me&-Me:WR.transition!==null?(Ql===0&&(Ql=iC()),Ql):(i=Dt,i!==0||(i=window.event,i=i===void 0?16:lC(i.type)),i):1}function Hi(i,t,n,x){if(50<Go)throw Go=0,Nv=null,Error(ot(185));hh(i,n,x),(!(At&2)||i!==ge)&&(i===ge&&(!(At&2)&&($u|=n),fe===4&&en(i,Me)),Je(i,x),n===1&&At===0&&!(t.mode&1)&&(Aa=te()+500,Xu&&Pn()))}function Je(i,t){var n=i.callbackNode;WP(i,t);var x=hu(i,i===ge?Me:0);if(x===0)n!==null&&Zg(n),i.callbackNode=null,i.callbackPriority=0;else if(t=x&-x,i.callbackPriority!==t){if(n!=null&&Zg(n),t===1)i.tag===0?YR(Um.bind(null,i)):wC(Um.bind(null,i)),zR(function(){!(At&6)&&Pn()}),n=null;else{switch(sC(x)){case 1:n=mp;break;case 4:n=tC;break;case 16:n=ou;break;case 536870912:n=eC;break;default:n=ou}n=AS(n,TS.bind(null,i))}i.callbackPriority=t,i.callbackNode=n}}function TS(i,t){if(Jl=-1,Ql=0,At&6)throw Error(ot(327));var n=i.callbackNode;if(xa()&&i.callbackNode!==n)return null;var x=hu(i,i===ge?Me:0);if(x===0)return null;if(x&30||x&i.expiredLanes||t)t=Ru(i,x);else{t=x;var C=At;At|=2;var M=SS();(ge!==i||Me!==t)&&(Ps=null,Aa=te()+500,nr(i,t));do try{uA();break}catch(y){CS(i,y)}while(1);Lp(),Mu.current=M,At=C,ne!==null?t=0:(ge=null,Me=0,t=fe)}if(t!==0){if(t===2&&(C=uv(i),C!==0&&(x=C,t=Vv(i,C))),t===1)throw n=_o,nr(i,0),en(i,x),Je(i,te()),n;if(t===6)en(i,x);else{if(C=i.current.alternate,!(x&30)&&!hA(C)&&(t=Ru(i,x),t===2&&(M=uv(i),M!==0&&(x=M,t=Vv(i,M))),t===1))throw n=_o,nr(i,0),en(i,x),Je(i,te()),n;switch(i.finishedWork=C,i.finishedLanes=x,t){case 0:case 1:throw Error(ot(345));case 2:_n(i,$e,Ps);break;case 3:if(en(i,x),(x&130023424)===x&&(t=Hp+500-te(),10<t)){if(hu(i,0)!==0)break;if(C=i.suspendedLanes,(C&x)!==x){Ge(),i.pingedLanes|=i.suspendedLanes&C;break}i.timeoutHandle=xv(_n.bind(null,i,$e,Ps),t);break}_n(i,$e,Ps);break;case 4:if(en(i,x),(x&4194240)===x)break;for(t=i.eventTimes,C=-1;0<x;){var h=31-Wi(x);M=1<<h,h=t[h],h>C&&(C=h),x&=~M}if(x=C,x=te()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*oA(x/1960))-x,10<x){i.timeoutHandle=xv(_n.bind(null,i,$e,Ps),x);break}_n(i,$e,Ps);break;case 5:_n(i,$e,Ps);break;default:throw Error(ot(329))}}}return Je(i,te()),i.callbackNode===n?TS.bind(null,i):null}function Vv(i,t){var n=bo;return i.current.memoizedState.isDehydrated&&(nr(i,t).flags|=256),i=Ru(i,t),i!==2&&(t=$e,$e=n,t!==null&&zv(t)),i}function zv(i){$e===null?$e=i:$e.push.apply($e,i)}function hA(i){for(var t=i;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var x=0;x<n.length;x++){var C=n[x],M=C.getSnapshot;C=C.value;try{if(!$i(M(),C))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===i)break;for(;t.sibling===null;){if(t.return===null||t.return===i)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function en(i,t){for(t&=~Wp,t&=~$u,i.suspendedLanes|=t,i.pingedLanes&=~t,i=i.expirationTimes;0<t;){var n=31-Wi(t),x=1<<n;i[n]=-1,t&=~x}}function Um(i){if(At&6)throw Error(ot(327));xa();var t=hu(i,0);if(!(t&1))return Je(i,te()),null;var n=Ru(i,t);if(i.tag!==0&&n===2){var x=uv(i);x!==0&&(t=x,n=Vv(i,x))}if(n===1)throw n=_o,nr(i,0),en(i,t),Je(i,te()),n;if(n===6)throw Error(ot(345));return i.finishedWork=i.current.alternate,i.finishedLanes=t,_n(i,$e,Ps),Je(i,te()),null}function $p(i,t){var n=At;At|=1;try{return i(t)}finally{At=n,At===0&&(Aa=te()+500,Xu&&Pn())}}function fr(i){on!==null&&on.tag===0&&!(At&6)&&xa();var t=At;At|=1;var n=Ei.transition,x=Dt;try{if(Ei.transition=null,Dt=1,i)return i()}finally{Dt=x,Ei.transition=n,At=t,!(At&6)&&Pn()}}function Kp(){ni=ua.current,Wt(ua)}function nr(i,t){i.finishedWork=null,i.finishedLanes=0;var n=i.timeoutHandle;if(n!==-1&&(i.timeoutHandle=-1,VR(n)),ne!==null)for(n=ne.return;n!==null;){var x=n;switch(Ap(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&cu();break;case 3:Pa(),Wt(je),Wt(Ie),Gp();break;case 5:bp(x);break;case 4:Pa();break;case 13:Wt(jt);break;case 19:Wt(jt);break;case 10:Fp(x.type._context);break;case 22:case 23:Kp()}n=n.return}if(ge=i,ne=i=gn(i.current,null),Me=ni=t,fe=0,_o=null,Wp=$u=ur=0,$e=bo=null,ir!==null){for(t=0;t<ir.length;t++)if(n=ir[t],x=n.interleaved,x!==null){n.interleaved=null;var C=x.next,M=n.pending;if(M!==null){var h=M.next;M.next=C,x.next=h}n.pending=x}ir=null}return i}function CS(i,t){do{var n=ne;try{if(Lp(),Kl.current=Su,Cu){for(var x=Zt.memoizedState;x!==null;){var C=x.queue;C!==null&&(C.pending=null),x=x.next}Cu=!1}if(lr=0,ve=ue=Zt=null,Do=!1,Jo=0,Yp.current=null,n===null||n.return===null){fe=1,_o=t,ne=null;break}t:{var M=i,h=n.return,y=n,e=t;if(t=Me,y.flags|=32768,e!==null&&typeof e=="object"&&typeof e.then=="function"){var f=e,d=y,s=d.tag;if(!(d.mode&1)&&(s===0||s===11||s===15)){var a=d.alternate;a?(d.updateQueue=a.updateQueue,d.memoizedState=a.memoizedState,d.lanes=a.lanes):(d.updateQueue=null,d.memoizedState=null)}var r=wm(h);if(r!==null){r.flags&=-257,Om(r,h,y,M,t),r.mode&1&&Am(M,f,t),t=r,e=f;var o=t.updateQueue;if(o===null){var u=new Set;u.add(e),t.updateQueue=u}else o.add(e);break t}else{if(!(t&1)){Am(M,f,t),jp();break t}e=Error(ot(426))}}else if($t&&y.mode&1){var v=wm(h);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Om(v,h,y,M,t),wp(Ra(e,y));break t}}M=e=Ra(e,y),fe!==4&&(fe=2),bo===null?bo=[M]:bo.push(M),M=h;do{switch(M.tag){case 3:M.flags|=65536,t&=-t,M.lanes|=t;var l=nS(M,e,t);Tm(M,l);break t;case 1:y=e;var c=M.type,p=M.stateNode;if(!(M.flags&128)&&(typeof c.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(vn===null||!vn.has(p)))){M.flags|=65536,t&=-t,M.lanes|=t;var g=rS(M,y,t);Tm(M,g);break t}}M=M.return}while(M!==null)}ES(n)}catch(m){t=m,ne===n&&n!==null&&(ne=n=n.return);continue}break}while(1)}function SS(){var i=Mu.current;return Mu.current=Su,i===null?Su:i}function jp(){(fe===0||fe===3||fe===2)&&(fe=4),ge===null||!(ur&268435455)&&!($u&268435455)||en(ge,Me)}function Ru(i,t){var n=At;At|=2;var x=SS();(ge!==i||Me!==t)&&(Ps=null,nr(i,t));do try{lA();break}catch(C){CS(i,C)}while(1);if(Lp(),At=n,Mu.current=x,ne!==null)throw Error(ot(261));return ge=null,Me=0,fe}function lA(){for(;ne!==null;)MS(ne)}function uA(){for(;ne!==null&&!bP();)MS(ne)}function MS(i){var t=RS(i.alternate,i,ni);i.memoizedProps=i.pendingProps,t===null?ES(i):ne=t,Yp.current=null}function ES(i){var t=i;do{var n=t.alternate;if(i=t.return,t.flags&32768){if(n=sA(n,t),n!==null){n.flags&=32767,ne=n;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{fe=6,ne=null;return}}else if(n=iA(n,t,ni),n!==null){ne=n;return}if(t=t.sibling,t!==null){ne=t;return}ne=t=i}while(t!==null);fe===0&&(fe=5)}function _n(i,t,n){var x=Dt,C=Ei.transition;try{Ei.transition=null,Dt=1,fA(i,t,n,x)}finally{Ei.transition=C,Dt=x}return null}function fA(i,t,n,x){do xa();while(on!==null);if(At&6)throw Error(ot(327));n=i.finishedWork;var C=i.finishedLanes;if(n===null)return null;if(i.finishedWork=null,i.finishedLanes=0,n===i.current)throw Error(ot(177));i.callbackNode=null,i.callbackPriority=0;var M=n.lanes|n.childLanes;if(HP(i,M),i===ge&&(ne=ge=null,Me=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Hh||(Hh=!0,AS(ou,function(){return xa(),null})),M=(n.flags&15990)!==0,n.subtreeFlags&15990||M){M=Ei.transition,Ei.transition=null;var h=Dt;Dt=1;var y=At;At|=4,Yp.current=null,rA(i,n),xS(n,i),FR(gv),lu=!!pv,gv=pv=null,i.current=n,aA(n),GP(),At=y,Dt=h,Ei.transition=M}else i.current=n;if(Hh&&(Hh=!1,on=i,Pu=C),M=i.pendingLanes,M===0&&(vn=null),zP(n.stateNode),Je(i,te()),t!==null)for(x=i.onRecoverableError,n=0;n<t.length;n++)C=t[n],x(C.value,{componentStack:C.stack,digest:C.digest});if(Eu)throw Eu=!1,i=Gv,Gv=null,i;return Pu&1&&i.tag!==0&&xa(),M=i.pendingLanes,M&1?i===Nv?Go++:(Go=0,Nv=i):Go=0,Pn(),null}function xa(){if(on!==null){var i=sC(Pu),t=Ei.transition,n=Dt;try{if(Ei.transition=null,Dt=16>i?16:i,on===null)var x=!1;else{if(i=on,on=null,Pu=0,At&6)throw Error(ot(331));var C=At;for(At|=4,ut=i.current;ut!==null;){var M=ut,h=M.child;if(ut.flags&16){var y=M.deletions;if(y!==null){for(var e=0;e<y.length;e++){var f=y[e];for(ut=f;ut!==null;){var d=ut;switch(d.tag){case 0:case 11:case 15:Bo(8,d,M)}var s=d.child;if(s!==null)s.return=d,ut=s;else for(;ut!==null;){d=ut;var a=d.sibling,r=d.return;if(pS(d),d===f){ut=null;break}if(a!==null){a.return=r,ut=a;break}ut=r}}}var o=M.alternate;if(o!==null){var u=o.child;if(u!==null){o.child=null;do{var v=u.sibling;u.sibling=null,u=v}while(u!==null)}}ut=M}}if(M.subtreeFlags&2064&&h!==null)h.return=M,ut=h;else t:for(;ut!==null;){if(M=ut,M.flags&2048)switch(M.tag){case 0:case 11:case 15:Bo(9,M,M.return)}var l=M.sibling;if(l!==null){l.return=M.return,ut=l;break t}ut=M.return}}var c=i.current;for(ut=c;ut!==null;){h=ut;var p=h.child;if(h.subtreeFlags&2064&&p!==null)p.return=h,ut=p;else t:for(h=c;ut!==null;){if(y=ut,y.flags&2048)try{switch(y.tag){case 0:case 11:case 15:Hu(9,y)}}catch(m){_t(y,y.return,m)}if(y===h){ut=null;break t}var g=y.sibling;if(g!==null){g.return=y.return,ut=g;break t}ut=y.return}}if(At=C,Pn(),cs&&typeof cs.onPostCommitFiberRoot=="function")try{cs.onPostCommitFiberRoot(Nu,i)}catch{}x=!0}return x}finally{Dt=n,Ei.transition=t}}return!1}function Xm(i,t,n){t=Ra(n,t),t=nS(i,t,1),i=cn(i,t,1),t=Ge(),i!==null&&(hh(i,1,t),Je(i,t))}function _t(i,t,n){if(i.tag===3)Xm(i,i,n);else for(;t!==null;){if(t.tag===3){Xm(t,i,n);break}else if(t.tag===1){var x=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(vn===null||!vn.has(x))){i=Ra(n,i),i=rS(t,i,1),t=cn(t,i,1),i=Ge(),t!==null&&(hh(t,1,i),Je(t,i));break}}t=t.return}}function dA(i,t,n){var x=i.pingCache;x!==null&&x.delete(t),t=Ge(),i.pingedLanes|=i.suspendedLanes&n,ge===i&&(Me&n)===n&&(fe===4||fe===3&&(Me&130023424)===Me&&500>te()-Hp?nr(i,0):Wp|=n),Je(i,t)}function PS(i,t){t===0&&(i.mode&1?(t=bh,bh<<=1,!(bh&130023424)&&(bh=4194304)):t=1);var n=Ge();i=Gs(i,t),i!==null&&(hh(i,t,n),Je(i,n))}function cA(i){var t=i.memoizedState,n=0;t!==null&&(n=t.retryLane),PS(i,n)}function vA(i,t){var n=0;switch(i.tag){case 13:var x=i.stateNode,C=i.memoizedState;C!==null&&(n=C.retryLane);break;case 19:x=i.stateNode;break;default:throw Error(ot(314))}x!==null&&x.delete(t),PS(i,n)}var RS;RS=function(i,t,n){if(i!==null)if(i.memoizedProps!==t.pendingProps||je.current)Ke=!0;else{if(!(i.lanes&n)&&!(t.flags&128))return Ke=!1,eA(i,t,n);Ke=!!(i.flags&131072)}else Ke=!1,$t&&t.flags&1048576&&OC(t,gu,t.index);switch(t.lanes=0,t.tag){case 2:var x=t.type;Zl(i,t),i=t.pendingProps;var C=Sa(t,Ie.current);ma(t,n),C=Vp(null,t,x,i,C,n);var M=zp();return t.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ze(x)?(M=!0,vu(t)):M=!1,t.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,Dp(t),C.updater=Yu,t.stateNode=C,C._reactInternals=t,Pv(t,x,i,n),t=wv(null,t,x,!0,M,n)):(t.tag=0,$t&&M&&Rp(t),be(null,t,C,n),t=t.child),t;case 16:x=t.elementType;t:{switch(Zl(i,t),i=t.pendingProps,C=x._init,x=C(x._payload),t.type=x,C=t.tag=gA(x),i=ki(x,i),C){case 0:t=Av(null,t,x,i,n);break t;case 1:t=Im(null,t,x,i,n);break t;case 11:t=Lm(null,t,x,i,n);break t;case 14:t=Fm(null,t,x,ki(x.type,i),n);break t}throw Error(ot(306,x,""))}return t;case 0:return x=t.type,C=t.pendingProps,C=t.elementType===x?C:ki(x,C),Av(i,t,x,C,n);case 1:return x=t.type,C=t.pendingProps,C=t.elementType===x?C:ki(x,C),Im(i,t,x,C,n);case 3:t:{if(lS(t),i===null)throw Error(ot(387));x=t.pendingProps,M=t.memoizedState,C=M.element,DC(i,t),yu(t,x,null,n);var h=t.memoizedState;if(x=h.element,M.isDehydrated)if(M={element:x,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=M,t.memoizedState=M,t.flags&256){C=Ra(Error(ot(423)),t),t=Dm(i,t,x,n,C);break t}else if(x!==C){C=Ra(Error(ot(424)),t),t=Dm(i,t,x,n,C);break t}else for(ri=dn(t.stateNode.containerInfo.firstChild),ai=t,$t=!0,Yi=null,n=NC(t,null,x,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ma(),x===C){t=Ns(i,t,n);break t}be(i,t,x,n)}t=t.child}return t;case 5:return VC(t),i===null&&Sv(t),x=t.type,C=t.pendingProps,M=i!==null?i.memoizedProps:null,h=C.children,mv(x,C)?h=null:M!==null&&mv(x,M)&&(t.flags|=32),hS(i,t),be(i,t,h,n),t.child;case 6:return i===null&&Sv(t),null;case 13:return uS(i,t,n);case 4:return Bp(t,t.stateNode.containerInfo),x=t.pendingProps,i===null?t.child=Ea(t,null,x,n):be(i,t,x,n),t.child;case 11:return x=t.type,C=t.pendingProps,C=t.elementType===x?C:ki(x,C),Lm(i,t,x,C,n);case 7:return be(i,t,t.pendingProps,n),t.child;case 8:return be(i,t,t.pendingProps.children,n),t.child;case 12:return be(i,t,t.pendingProps.children,n),t.child;case 10:t:{if(x=t.type._context,C=t.pendingProps,M=t.memoizedProps,h=C.value,Xt(mu,x._currentValue),x._currentValue=h,M!==null)if($i(M.value,h)){if(M.children===C.children&&!je.current){t=Ns(i,t,n);break t}}else for(M=t.child,M!==null&&(M.return=t);M!==null;){var y=M.dependencies;if(y!==null){h=M.child;for(var e=y.firstContext;e!==null;){if(e.context===x){if(M.tag===1){e=Ls(-1,n&-n),e.tag=2;var f=M.updateQueue;if(f!==null){f=f.shared;var d=f.pending;d===null?e.next=e:(e.next=d.next,d.next=e),f.pending=e}}M.lanes|=n,e=M.alternate,e!==null&&(e.lanes|=n),Mv(M.return,n,t),y.lanes|=n;break}e=e.next}}else if(M.tag===10)h=M.type===t.type?null:M.child;else if(M.tag===18){if(h=M.return,h===null)throw Error(ot(341));h.lanes|=n,y=h.alternate,y!==null&&(y.lanes|=n),Mv(h,n,t),h=M.sibling}else h=M.child;if(h!==null)h.return=M;else for(h=M;h!==null;){if(h===t){h=null;break}if(M=h.sibling,M!==null){M.return=h.return,h=M;break}h=h.return}M=h}be(i,t,C.children,n),t=t.child}return t;case 9:return C=t.type,x=t.pendingProps.children,ma(t,n),C=Ri(C),x=x(C),t.flags|=1,be(i,t,x,n),t.child;case 14:return x=t.type,C=ki(x,t.pendingProps),C=ki(x.type,C),Fm(i,t,x,C,n);case 15:return aS(i,t,t.type,t.pendingProps,n);case 17:return x=t.type,C=t.pendingProps,C=t.elementType===x?C:ki(x,C),Zl(i,t),t.tag=1,Ze(x)?(i=!0,vu(t)):i=!1,ma(t,n),bC(t,x,C),Pv(t,x,C,n),wv(null,t,x,!0,i,n);case 19:return fS(i,t,n);case 22:return oS(i,t,n)}throw Error(ot(156,t.tag))};function AS(i,t){return _T(i,t)}function pA(i,t,n,x){this.tag=i,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ci(i,t,n,x){return new pA(i,t,n,x)}function Zp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function gA(i){if(typeof i=="function")return Zp(i)?1:0;if(i!=null){if(i=i.$$typeof,i===vp)return 11;if(i===pp)return 14}return 2}function gn(i,t){var n=i.alternate;return n===null?(n=Ci(i.tag,t,i.key,i.mode),n.elementType=i.elementType,n.type=i.type,n.stateNode=i.stateNode,n.alternate=i,i.alternate=n):(n.pendingProps=t,n.type=i.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=i.flags&14680064,n.childLanes=i.childLanes,n.lanes=i.lanes,n.child=i.child,n.memoizedProps=i.memoizedProps,n.memoizedState=i.memoizedState,n.updateQueue=i.updateQueue,t=i.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=i.sibling,n.index=i.index,n.ref=i.ref,n}function ql(i,t,n,x,C,M){var h=2;if(x=i,typeof i=="function")Zp(i)&&(h=1);else if(typeof i=="string")h=5;else t:switch(i){case ta:return rr(n.children,C,M,t);case cp:h=8,C|=8;break;case Zc:return i=Ci(12,n,t,C|2),i.elementType=Zc,i.lanes=M,i;case Jc:return i=Ci(13,n,t,C),i.elementType=Jc,i.lanes=M,i;case Qc:return i=Ci(19,n,t,C),i.elementType=Qc,i.lanes=M,i;case GT:return Ku(n,C,M,t);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case BT:h=10;break t;case bT:h=9;break t;case vp:h=11;break t;case pp:h=14;break t;case Qs:h=16,x=null;break t}throw Error(ot(130,i==null?i:typeof i,""))}return t=Ci(h,n,t,C),t.elementType=i,t.type=x,t.lanes=M,t}function rr(i,t,n,x){return i=Ci(7,i,x,t),i.lanes=n,i}function Ku(i,t,n,x){return i=Ci(22,i,x,t),i.elementType=GT,i.lanes=n,i.stateNode={isHidden:!1},i}function gd(i,t,n){return i=Ci(6,i,null,t),i.lanes=n,i}function md(i,t,n){return t=Ci(4,i.children!==null?i.children:[],i.key,t),t.lanes=n,t.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},t}function mA(i,t,n,x,C){this.tag=t,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qf(0),this.expirationTimes=Qf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qf(0),this.identifierPrefix=x,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function Jp(i,t,n,x,C,M,h,y,e){return i=new mA(i,t,n,y,e),t===1?(t=1,M===!0&&(t|=8)):t=0,M=Ci(3,null,null,t),i.current=M,M.stateNode=i,M.memoizedState={element:x,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dp(M),i}function xA(i,t,n){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_r,key:x==null?null:""+x,children:i,containerInfo:t,implementation:n}}function wS(i){if(!i)return Tn;i=i._reactInternals;t:{if(gr(i)!==i||i.tag!==1)throw Error(ot(170));var t=i;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(Ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(ot(171))}if(i.tag===1){var n=i.type;if(Ze(n))return AC(i,n,t)}return t}function OS(i,t,n,x,C,M,h,y,e){return i=Jp(n,x,!0,i,C,M,h,y,e),i.context=wS(null),n=i.current,x=Ge(),C=pn(n),M=Ls(x,C),M.callback=t??null,cn(n,M,C),i.current.lanes=C,hh(i,C,x),Je(i,x),i}function ju(i,t,n,x){var C=t.current,M=Ge(),h=pn(C);return n=wS(n),t.context===null?t.context=n:t.pendingContext=n,t=Ls(M,h),t.payload={element:i},x=x===void 0?null:x,x!==null&&(t.callback=x),i=cn(C,t,h),i!==null&&(Hi(i,C,h,M),$l(i,C,h)),h}function Au(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Ym(i,t){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var n=i.retryLane;i.retryLane=n!==0&&n<t?n:t}}function Qp(i,t){Ym(i,t),(i=i.alternate)&&Ym(i,t)}function yA(){return null}var LS=typeof reportError=="function"?reportError:function(i){console.error(i)};function qp(i){this._internalRoot=i}Zu.prototype.render=qp.prototype.render=function(i){var t=this._internalRoot;if(t===null)throw Error(ot(409));ju(i,t,null,null)};Zu.prototype.unmount=qp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var t=i.containerInfo;fr(function(){ju(null,i,null,null)}),t[bs]=null}};function Zu(i){this._internalRoot=i}Zu.prototype.unstable_scheduleHydration=function(i){if(i){var t=aC();i={blockedOn:null,target:i,priority:t};for(var n=0;n<tn.length&&t!==0&&t<tn[n].priority;n++);tn.splice(n,0,i),n===0&&hC(i)}};function _p(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Ju(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Wm(){}function TA(i,t,n,x,C){if(C){if(typeof x=="function"){var M=x;x=function(){var f=Au(h);M.call(f)}}var h=OS(t,x,i,0,null,!1,!1,"",Wm);return i._reactRootContainer=h,i[bs]=h.current,Ho(i.nodeType===8?i.parentNode:i),fr(),h}for(;C=i.lastChild;)i.removeChild(C);if(typeof x=="function"){var y=x;x=function(){var f=Au(e);y.call(f)}}var e=Jp(i,0,!1,null,null,!1,!1,"",Wm);return i._reactRootContainer=e,i[bs]=e.current,Ho(i.nodeType===8?i.parentNode:i),fr(function(){ju(t,e,n,x)}),e}function Qu(i,t,n,x,C){var M=n._reactRootContainer;if(M){var h=M;if(typeof C=="function"){var y=C;C=function(){var e=Au(h);y.call(e)}}ju(t,h,i,C)}else h=TA(n,t,i,C,x);return Au(h)}nC=function(i){switch(i.tag){case 3:var t=i.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ro(t.pendingLanes);n!==0&&(xp(t,n|1),Je(t,te()),!(At&6)&&(Aa=te()+500,Pn()))}break;case 13:fr(function(){var x=Gs(i,1);if(x!==null){var C=Ge();Hi(x,i,1,C)}}),Qp(i,1)}};yp=function(i){if(i.tag===13){var t=Gs(i,134217728);if(t!==null){var n=Ge();Hi(t,i,134217728,n)}Qp(i,134217728)}};rC=function(i){if(i.tag===13){var t=pn(i),n=Gs(i,t);if(n!==null){var x=Ge();Hi(n,i,t,x)}Qp(i,t)}};aC=function(){return Dt};oC=function(i,t){var n=Dt;try{return Dt=i,t()}finally{Dt=n}};ov=function(i,t,n){switch(t){case"input":if(tv(i,n),t=n.name,n.type==="radio"&&t!=null){for(n=i;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var x=n[t];if(x!==i&&x.form===i.form){var C=Uu(x);if(!C)throw Error(ot(90));VT(x),tv(x,C)}}}break;case"textarea":kT(i,n);break;case"select":t=n.value,t!=null&&ca(i,!!n.multiple,t,!1)}};KT=$p;jT=fr;var CA={usingClientEntryPoint:!1,Events:[uh,na,Uu,HT,$T,$p]},Ja={findFiberByHostInstance:er,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},SA={bundleType:Ja.bundleType,version:Ja.version,rendererPackageName:Ja.rendererPackageName,rendererConfig:Ja.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vs.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=QT(i),i===null?null:i.stateNode},findFiberByHostInstance:Ja.findFiberByHostInstance||yA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$h.isDisabled&&$h.supportsFiber)try{Nu=$h.inject(SA),cs=$h}catch{}}fi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CA;fi.createPortal=function(i,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_p(t))throw Error(ot(200));return xA(i,t,null,n)};fi.createRoot=function(i,t){if(!_p(i))throw Error(ot(299));var n=!1,x="",C=LS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(x=t.identifierPrefix),t.onRecoverableError!==void 0&&(C=t.onRecoverableError)),t=Jp(i,1,!1,null,null,n,!1,x,C),i[bs]=t.current,Ho(i.nodeType===8?i.parentNode:i),new qp(t)};fi.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var t=i._reactInternals;if(t===void 0)throw typeof i.render=="function"?Error(ot(188)):(i=Object.keys(i).join(","),Error(ot(268,i)));return i=QT(t),i=i===null?null:i.stateNode,i};fi.flushSync=function(i){return fr(i)};fi.hydrate=function(i,t,n){if(!Ju(t))throw Error(ot(200));return Qu(null,i,t,!0,n)};fi.hydrateRoot=function(i,t,n){if(!_p(i))throw Error(ot(405));var x=n!=null&&n.hydratedSources||null,C=!1,M="",h=LS;if(n!=null&&(n.unstable_strictMode===!0&&(C=!0),n.identifierPrefix!==void 0&&(M=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),t=OS(t,null,i,1,n??null,C,!1,M,h),i[bs]=t.current,Ho(i),x)for(i=0;i<x.length;i++)n=x[i],C=n._getVersion,C=C(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,C]:t.mutableSourceEagerHydrationData.push(n,C);return new Zu(t)};fi.render=function(i,t,n){if(!Ju(t))throw Error(ot(200));return Qu(null,i,t,!1,n)};fi.unmountComponentAtNode=function(i){if(!Ju(i))throw Error(ot(40));return i._reactRootContainer?(fr(function(){Qu(null,null,i,!1,function(){i._reactRootContainer=null,i[bs]=null})}),!0):!1};fi.unstable_batchedUpdates=$p;fi.unstable_renderSubtreeIntoContainer=function(i,t,n,x){if(!Ju(n))throw Error(ot(200));if(i==null||i._reactInternals===void 0)throw Error(ot(38));return Qu(i,t,n,!1,x)};fi.version="18.2.0-next-9e3b772b8-20220608";function FS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(FS)}catch(i){console.error(i)}}FS(),OT.exports=fi;var MA=OT.exports,Hm=MA;Kc.createRoot=Hm.createRoot,Kc.hydrateRoot=Hm.hydrateRoot;const EA={};function PA(){return $c("div",{className:EA.App})}var IS={exports:{}};(function(i,t){(function(x,C){i.exports=C()})(JE,()=>(()=>{var n={6659:h=>{var y=Object.prototype.hasOwnProperty,e="~";function f(){}Object.create&&(f.prototype=Object.create(null),new f().__proto__||(e=!1));function d(o,u,v){this.fn=o,this.context=u,this.once=v||!1}function s(o,u,v,l,c){if(typeof v!="function")throw new TypeError("The listener must be a function");var p=new d(v,l||o,c),g=e?e+u:u;return o._events[g]?o._events[g].fn?o._events[g]=[o._events[g],p]:o._events[g].push(p):(o._events[g]=p,o._eventsCount++),o}function a(o,u){--o._eventsCount===0?o._events=new f:delete o._events[u]}function r(){this._events=new f,this._eventsCount=0}r.prototype.eventNames=function(){var u=[],v,l;if(this._eventsCount===0)return u;for(l in v=this._events)y.call(v,l)&&u.push(e?l.slice(1):l);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(v)):u},r.prototype.listeners=function(u){var v=e?e+u:u,l=this._events[v];if(!l)return[];if(l.fn)return[l.fn];for(var c=0,p=l.length,g=new Array(p);c<p;c++)g[c]=l[c].fn;return g},r.prototype.listenerCount=function(u){var v=e?e+u:u,l=this._events[v];return l?l.fn?1:l.length:0},r.prototype.emit=function(u,v,l,c,p,g){var m=e?e+u:u;if(!this._events[m])return!1;var T=this._events[m],S=arguments.length,P,E;if(T.fn){switch(T.once&&this.removeListener(u,T.fn,void 0,!0),S){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,v),!0;case 3:return T.fn.call(T.context,v,l),!0;case 4:return T.fn.call(T.context,v,l,c),!0;case 5:return T.fn.call(T.context,v,l,c,p),!0;case 6:return T.fn.call(T.context,v,l,c,p,g),!0}for(E=1,P=new Array(S-1);E<S;E++)P[E-1]=arguments[E];T.fn.apply(T.context,P)}else{var R=T.length,A;for(E=0;E<R;E++)switch(T[E].once&&this.removeListener(u,T[E].fn,void 0,!0),S){case 1:T[E].fn.call(T[E].context);break;case 2:T[E].fn.call(T[E].context,v);break;case 3:T[E].fn.call(T[E].context,v,l);break;case 4:T[E].fn.call(T[E].context,v,l,c);break;default:if(!P)for(A=1,P=new Array(S-1);A<S;A++)P[A-1]=arguments[A];T[E].fn.apply(T[E].context,P)}}return!0},r.prototype.on=function(u,v,l){return s(this,u,v,l,!1)},r.prototype.once=function(u,v,l){return s(this,u,v,l,!0)},r.prototype.removeListener=function(u,v,l,c){var p=e?e+u:u;if(!this._events[p])return this;if(!v)return a(this,p),this;var g=this._events[p];if(g.fn)g.fn===v&&(!c||g.once)&&(!l||g.context===l)&&a(this,p);else{for(var m=0,T=[],S=g.length;m<S;m++)(g[m].fn!==v||c&&!g[m].once||l&&g[m].context!==l)&&T.push(g[m]);T.length?this._events[p]=T.length===1?T[0]:T:a(this,p)}return this},r.prototype.removeAllListeners=function(u){var v;return u?(v=e?e+u:u,this._events[v]&&a(this,v)):(this._events=new f,this._eventsCount=0),this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prefixed=e,r.EventEmitter=r,h.exports=r},62270:(h,y,e)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(82590),d=function(s,a,r,o){for(var u=s[0],v=1;v<s.length;v++){var l=s[v];f(l,u,a,r,o),u=l}return s};h.exports=d},61148:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(6124),d=function(s,a,r,o,u){return f(s,"angle",a,r,o,u)};h.exports=d},22015:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){for(var s=0;s<e.length;s++){var a=e[s];f.call(d,a)}return e};h.exports=y},31060:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){d===void 0&&(d=0);for(var s=d;s<e.length;s++){var a=e[s],r=!0;for(var o in f)a[o]!==f[o]&&(r=!1);if(r)return a}return null};h.exports=y},52367:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){d===void 0&&(d=0);for(var s=e.length-1;s>=d;s--){var a=e[s],r=!0;for(var o in f)a[o]!==f[o]&&(r=!1);if(r)return a}return null};h.exports=y},12673:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(40327),d=e(84093),s=e(72632),a=e(72283),r=e(71030),o=new r({sys:{queueDepthSort:a,events:{once:a}}},0,0,1,1).setOrigin(0,0),u=function(v,l){l===void 0&&(l={});var c=l.hasOwnProperty("width"),p=l.hasOwnProperty("height"),g=s(l,"width",-1),m=s(l,"height",-1),T=s(l,"cellWidth",1),S=s(l,"cellHeight",T),P=s(l,"position",d.TOP_LEFT),E=s(l,"x",0),R=s(l,"y",0),A=0,w=0,O=g*T,L=m*S;o.setPosition(E,R),o.setSize(T,S);for(var F=0;F<v.length;F++)if(f(v[F],o,P),c&&g===-1)o.x+=T;else if(p&&m===-1)o.y+=S;else if(p&&!c){if(w+=S,o.y+=S,w===L&&(w=0,A+=T,o.y=R,o.x+=T,A===O))break}else if(A+=T,o.x+=T,A===O&&(A=0,w+=S,o.x=E,o.y+=S,w===L))break;return v};h.exports=u},691:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(6124),d=function(s,a,r,o,u){return f(s,"alpha",a,r,o,u)};h.exports=d},3877:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(6124),d=function(s,a,r,o,u){return f(s,"x",a,r,o,u)};h.exports=d},71020:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(6124),d=function(s,a,r,o,u,v,l){return r==null&&(r=a),f(s,"x",a,o,v,l),f(s,"y",r,u,v,l)};h.exports=d},28970:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(6124),d=function(s,a,r,o,u){return f(s,"y",a,r,o,u)};h.exports=d},82249:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){d===void 0&&(d=0),s===void 0&&(s=6.28);for(var a=d,r=(s-d)/e.length,o=f.x,u=f.y,v=f.radius,l=0;l<e.length;l++)e[l].x=o+v*Math.cos(a),e[l].y=u+v*Math.sin(a),a+=r;return e};h.exports=y},30285:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){d===void 0&&(d=0),s===void 0&&(s=6.28);for(var a=d,r=(s-d)/e.length,o=f.width/2,u=f.height/2,v=0;v<e.length;v++)e[v].x=f.x+o*Math.cos(a),e[v].y=f.y+u*Math.sin(a),a+=r;return e};h.exports=y},61557:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(8570),d=function(s,a){for(var r=f(a,s.length),o=0;o<s.length;o++){var u=s[o],v=r[o];u.x=v.x,u.y=v.y}return s};h.exports=d},63549:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(40053),d=e(77640),s=e(38487),a=function(r,o,u){u===void 0&&(u=0);var v=f(o,!1,r.length);u>0?d(v,u):u<0&&s(v,Math.abs(u));for(var l=0;l<r.length;l++)r[l].x=v[l].x,r[l].y=v[l].y;return r};h.exports=a},51629:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(58813),d=function(s,a,r){var o=f({x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},r),u=f({x1:a.x2,y1:a.y2,x2:a.x3,y2:a.y3},r),v=f({x1:a.x3,y1:a.y3,x2:a.x1,y2:a.y1},r);o.pop(),u.pop(),v.pop(),o=o.concat(u,v);for(var l=o.length/s.length,c=0,p=0;p<s.length;p++){var g=s[p],m=o[Math.floor(c)];g.x=m.x,g.y=m.y,c+=l}return s};h.exports=d},1045:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){for(var s=0;s<e.length;s++){var a=e[s];a.anims&&a.anims.play(f,d)}return e};h.exports=y},6124:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s,a,r){s===void 0&&(s=0),a===void 0&&(a=0),r===void 0&&(r=1);var o,u=0,v=e.length;if(r===1)for(o=a;o<v;o++)e[o][f]+=d+u*s,u++;else for(o=a;o>=0;o--)e[o][f]+=d+u*s,u++;return e};h.exports=y},23646:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s,a,r){s===void 0&&(s=0),a===void 0&&(a=0),r===void 0&&(r=1);var o,u=0,v=e.length;if(r===1)for(o=a;o<v;o++)e[o][f]=d+u*s,u++;else for(o=a;o>=0;o--)e[o][f]=d+u*s,u++;return e};h.exports=y},4392:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(30977),d=function(s,a){for(var r=0;r<s.length;r++)f(a,s[r]);return s};h.exports=d},94985:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72006),d=function(s,a){for(var r=0;r<s.length;r++)f(a,s[r]);return s};h.exports=d},63305:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(74077),d=function(s,a){for(var r=0;r<s.length;r++)f(a,s[r]);return s};h.exports=d},90739:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(30001),d=function(s,a){for(var r=0;r<s.length;r++)f(a,s[r]);return s};h.exports=d},91417:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(99761),d=function(s,a){for(var r=0;r<s.length;r++)f(a,s[r]);return s};h.exports=d},26182:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(6124),d=function(s,a,r,o,u){return f(s,"rotation",a,r,o,u)};h.exports=d},87299:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72395),d=e(53996),s=function(a,r,o){for(var u=r.x,v=r.y,l=0;l<a.length;l++){var c=a[l];f(c,u,v,o,Math.max(1,d(c.x,c.y,u,v)))}return a};h.exports=s},92194:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72395),d=function(s,a,r,o){var u=a.x,v=a.y;if(o===0)return s;for(var l=0;l<s.length;l++)f(s[l],u,v,r,o);return s};h.exports=d},30363:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(6124),d=function(s,a,r,o,u){return f(s,"scaleX",a,r,o,u)};h.exports=d},51449:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(6124),d=function(s,a,r,o,u,v,l){return r==null&&(r=a),f(s,"scaleX",a,o,v,l),f(s,"scaleY",r,u,v,l)};h.exports=d},64895:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(6124),d=function(s,a,r,o,u){return f(s,"scaleY",a,r,o,u)};h.exports=d},30329:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(23646),d=function(s,a,r,o,u){return f(s,"alpha",a,r,o,u)};h.exports=d},43954:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(23646),d=function(s,a,r,o){return f(s,"blendMode",a,0,r,o)};h.exports=d},70688:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(23646),d=function(s,a,r,o,u){return f(s,"depth",a,r,o,u)};h.exports=d},8314:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){for(var s=0;s<e.length;s++)e[s].setInteractive(f,d);return e};h.exports=y},12894:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(23646),d=function(s,a,r,o,u,v,l){return r==null&&(r=a),f(s,"originX",a,o,v,l),f(s,"originY",r,u,v,l),s.forEach(function(c){c.updateDisplayOrigin()}),s};h.exports=d},38767:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(23646),d=function(s,a,r,o,u){return f(s,"rotation",a,r,o,u)};h.exports=d},18584:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(23646),d=function(s,a,r,o,u,v,l){return r==null&&(r=a),f(s,"scaleX",a,o,v,l),f(s,"scaleY",r,u,v,l)};h.exports=d},17381:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(23646),d=function(s,a,r,o,u){return f(s,"scaleX",a,r,o,u)};h.exports=d},74370:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(23646),d=function(s,a,r,o,u){return f(s,"scaleY",a,r,o,u)};h.exports=d},27773:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(23646),d=function(s,a,r,o,u,v,l){return r==null&&(r=a),f(s,"scrollFactorX",a,o,v,l),f(s,"scrollFactorY",r,u,v,l)};h.exports=d},75257:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(23646),d=function(s,a,r,o,u){return f(s,"scrollFactorX",a,r,o,u)};h.exports=d},54512:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(23646),d=function(s,a,r,o,u){return f(s,"scrollFactorY",a,r,o,u)};h.exports=d},69423:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s,a){for(var r=0;r<e.length;r++)e[r].setTint(f,d,s,a);return e};h.exports=y},58291:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(23646),d=function(s,a,r,o){return f(s,"visible",a,0,r,o)};h.exports=d},94833:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(23646),d=function(s,a,r,o,u){return f(s,"x",a,r,o,u)};h.exports=d},14284:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(23646),d=function(s,a,r,o,u,v,l){return r==null&&(r=a),f(s,"x",a,o,v,l),f(s,"y",r,u,v,l)};h.exports=d},96574:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(23646),d=function(s,a,r,o,u){return f(s,"y",a,r,o,u)};h.exports=d},74086:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(93736),d=function(s,a,r,o,u){o===void 0&&(o=0),u===void 0&&(u=new f);var v,l,c=s.length;if(c===1)v=s[0].x,l=s[0].y,s[0].x=a,s[0].y=r;else{var p=1,g=0;o===0&&(g=c-1,p=c-2),v=s[g].x,l=s[g].y,s[g].x=a,s[g].y=r;for(var m=0;m<c;m++)if(!(p>=c||p===-1)){var T=s[p],S=T.x,P=T.y;T.x=v,T.y=l,v=S,l=P,o===0?p--:p++}}return u.x=v,u.y=l,u};h.exports=d},86347:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(18592),d=function(s){return f(s)};h.exports=d},1558:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(5514),d=function(s,a,r,o,u){u===void 0&&(u=!1);var v=Math.abs(o-r)/s.length,l;if(u)for(l=0;l<s.length;l++)s[l][a]+=f(l*v,r,o);else for(l=0;l<s.length;l++)s[l][a]=f(l*v,r,o);return s};h.exports=d},9938:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(87736),d=function(s,a,r,o,u){u===void 0&&(u=!1);var v=Math.abs(o-r)/s.length,l;if(u)for(l=0;l<s.length;l++)s[l][a]+=f(l*v,r,o);else for(l=0;l<s.length;l++)s[l][a]=f(l*v,r,o);return s};h.exports=d},71060:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s,a){if(a===void 0&&(a=!1),e.length===0)return e;if(e.length===1)return a?e[0][f]+=(s+d)/2:e[0][f]=(s+d)/2,e;var r=Math.abs(s-d)/(e.length-1),o;if(a)for(o=0;o<e.length;o++)e[o][f]+=o*r+d;else for(o=0;o<e.length;o++)e[o][f]=o*r+d;return e};h.exports=y},11207:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){for(var f=0;f<e.length;f++)e[f].visible=!e[f].visible;return e};h.exports=y},24404:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(1071),d=function(s,a,r){r===void 0&&(r=0);for(var o=0;o<s.length;o++){var u=s[o];u.x=f(u.x,a.left-r,a.right+r),u.y=f(u.y,a.top-r,a.bottom+r)}return s};h.exports=d},83979:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={AlignTo:e(62270),Angle:e(61148),Call:e(22015),GetFirst:e(31060),GetLast:e(52367),GridAlign:e(12673),IncAlpha:e(691),IncX:e(3877),IncXY:e(71020),IncY:e(28970),PlaceOnCircle:e(82249),PlaceOnEllipse:e(30285),PlaceOnLine:e(61557),PlaceOnRectangle:e(63549),PlaceOnTriangle:e(51629),PlayAnimation:e(1045),PropertyValueInc:e(6124),PropertyValueSet:e(23646),RandomCircle:e(4392),RandomEllipse:e(94985),RandomLine:e(63305),RandomRectangle:e(90739),RandomTriangle:e(91417),Rotate:e(26182),RotateAround:e(87299),RotateAroundDistance:e(92194),ScaleX:e(30363),ScaleXY:e(51449),ScaleY:e(64895),SetAlpha:e(30329),SetBlendMode:e(43954),SetDepth:e(70688),SetHitArea:e(8314),SetOrigin:e(12894),SetRotation:e(38767),SetScale:e(18584),SetScaleX:e(17381),SetScaleY:e(74370),SetScrollFactor:e(27773),SetScrollFactorX:e(75257),SetScrollFactorY:e(54512),SetTint:e(69423),SetVisible:e(58291),SetX:e(94833),SetXY:e(14284),SetY:e(96574),ShiftPosition:e(74086),Shuffle:e(86347),SmootherStep:e(9938),SmoothStep:e(1558),Spread:e(71060),ToggleVisible:e(11207),WrapInRectangle:e(24404)}},85463:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(82897),d=e(56694),s=e(16938),a=e(2406),r=e(71519),o=e(10850),u=e(28834),v=new d({initialize:function(c,p,g){this.manager=c,this.key=p,this.type="frame",this.frames=this.getFrames(c.textureManager,o(g,"frames",[]),o(g,"defaultTextureKey",null),o(g,"sortFrames",!0)),this.frameRate=o(g,"frameRate",null),this.duration=o(g,"duration",null),this.msPerFrame,this.skipMissedFrames=o(g,"skipMissedFrames",!0),this.delay=o(g,"delay",0),this.repeat=o(g,"repeat",0),this.repeatDelay=o(g,"repeatDelay",0),this.yoyo=o(g,"yoyo",!1),this.showBeforeDelay=o(g,"showBeforeDelay",!1),this.showOnStart=o(g,"showOnStart",!1),this.hideOnComplete=o(g,"hideOnComplete",!1),this.randomFrame=o(g,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(s.PAUSE_ALL,this.pause,this),this.manager.on(s.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(l,c,p,g){p===null&&g===null?(l.frameRate=24,l.duration=24/c*1e3):p&&g===null?(l.duration=p,l.frameRate=c/(p/1e3)):(l.frameRate=g,l.duration=c/g*1e3),l.msPerFrame=1e3/l.frameRate},addFrame:function(l){return this.addFrameAt(this.frames.length,l)},addFrameAt:function(l,c){var p=this.getFrames(this.manager.textureManager,c);if(p.length>0){if(l===0)this.frames=p.concat(this.frames);else if(l===this.frames.length)this.frames=this.frames.concat(p);else{var g=this.frames.slice(0,l),m=this.frames.slice(l);this.frames=g.concat(p,m)}this.updateFrameSequence()}return this},checkFrame:function(l){return l>=0&&l<this.frames.length},getFirstTick:function(l){l.accumulator=0,l.nextTick=l.msPerFrame+l.currentFrame.duration},getFrameAt:function(l){return this.frames[l]},getFrames:function(l,c,p,g){g===void 0&&(g=!0);var m=[],T,S,P=1,E,R;if(typeof c=="string"){if(R=c,!l.exists(R))return console.warn('Texture "%s" not found',R),m;var A=l.get(R),w=A.getFrameNames();g&&u(w),c=[],w.forEach(function(G){c.push({key:R,frame:G})})}if(!Array.isArray(c)||c.length===0)return m;for(E=0;E<c.length;E++){var O=c[E],L=o(O,"key",p);if(L){var F=o(O,"frame",0),I=l.getFrame(L,F);if(!I){console.warn('Texture "%s" not found',L);continue}S=new r(L,F,P,I),S.duration=o(O,"duration",0),S.isFirst=!T,T&&(T.nextFrame=S,S.prevFrame=T),m.push(S),T=S,P++}}if(m.length>0){S.isLast=!0,S.nextFrame=m[0],m[0].prevFrame=S;var B=1/(m.length-1);for(E=0;E<m.length;E++)m[E].progress=E*B}return m},getNextTick:function(l){l.accumulator-=l.nextTick,l.nextTick=l.msPerFrame+l.currentFrame.duration},getFrameByProgress:function(l){return l=f(l,0,1),a(l,this.frames,"progress")},nextFrame:function(l){var c=l.currentFrame;c.isLast?l.yoyo?this.handleYoyoFrame(l,!1):l.repeatCounter>0?l.inReverse&&l.forward?l.forward=!1:this.repeatAnimation(l):l.complete():this.updateAndGetNextTick(l,c.nextFrame)},handleYoyoFrame:function(l,c){if(c||(c=!1),l.inReverse===!c&&l.repeatCounter>0){(l.repeatDelay===0||l.pendingRepeat)&&(l.forward=c),this.repeatAnimation(l);return}if(l.inReverse!==c&&l.repeatCounter===0){l.complete();return}l.forward=c;var p=c?l.currentFrame.nextFrame:l.currentFrame.prevFrame;this.updateAndGetNextTick(l,p)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(l){var c=l.currentFrame;c.isFirst?l.yoyo?this.handleYoyoFrame(l,!0):l.repeatCounter>0?l.inReverse&&!l.forward?this.repeatAnimation(l):(l.forward=!0,this.repeatAnimation(l)):l.complete():this.updateAndGetNextTick(l,c.prevFrame)},updateAndGetNextTick:function(l,c){l.setCurrentFrame(c),this.getNextTick(l)},removeFrame:function(l){var c=this.frames.indexOf(l);return c!==-1&&this.removeFrameAt(c),this},removeFrameAt:function(l){return this.frames.splice(l,1),this.updateFrameSequence(),this},repeatAnimation:function(l){if(l._pendingStop===2){if(l._pendingStopValue===0)return l.stop();l._pendingStopValue--}l.repeatDelay>0&&!l.pendingRepeat?(l.pendingRepeat=!0,l.accumulator-=l.nextTick,l.nextTick+=l.repeatDelay):(l.repeatCounter--,l.forward?l.setCurrentFrame(l.currentFrame.nextFrame):l.setCurrentFrame(l.currentFrame.prevFrame),l.isPlaying&&(this.getNextTick(l),l.handleRepeat()))},toJSON:function(){var l={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(c){l.frames.push(c.toJSON())}),l},updateFrameSequence:function(){for(var l=this.frames.length,c=1/(l-1),p,g=0;g<l;g++)p=this.frames[g],p.index=g+1,p.isFirst=!1,p.isLast=!1,p.progress=g*c,g===0?(p.isFirst=!0,l===1?(p.isLast=!0,p.nextFrame=p,p.prevFrame=p):(p.isLast=!1,p.prevFrame=this.frames[l-1],p.nextFrame=this.frames[g+1])):g===l-1&&l>1?(p.isLast=!0,p.prevFrame=this.frames[l-2],p.nextFrame=this.frames[0]):l>1&&(p.prevFrame=this.frames[g-1],p.nextFrame=this.frames[g+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(s.PAUSE_ALL,this.pause,this),this.manager.off(s.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var l=0;l<this.frames.length;l++)this.frames[l].destroy();this.frames=[],this.manager=null}});h.exports=v},71519:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=new f({initialize:function(a,r,o,u,v){v===void 0&&(v=!1),this.textureKey=a,this.textureFrame=r,this.index=o,this.frame=u,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=v},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});h.exports=d},90249:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(85463),d=e(56694),s=e(33885),a=e(6659),r=e(16938),o=e(97081),u=e(72632),v=e(10850),l=e(83392),c=e(13401),p=e(76400),g=new d({Extends:a,initialize:function(T){a.call(this),this.game=T,this.textureManager=null,this.globalTimeScale=1,this.anims=new s,this.mixes=new s,this.paused=!1,this.name="AnimationManager",T.events.once(o.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(o.DESTROY,this.destroy,this)},addMix:function(m,T,S){var P=this.anims,E=this.mixes,R=typeof m=="string"?m:m.key,A=typeof T=="string"?T:T.key;if(P.has(R)&&P.has(A)){var w=E.get(R);w||(w={}),w[A]=S,E.set(R,w)}return this},removeMix:function(m,T){var S=this.mixes,P=typeof m=="string"?m:m.key,E=S.get(P);if(E)if(T){var R=typeof T=="string"?T:T.key;E.hasOwnProperty(R)&&delete E[R]}else T||S.delete(P);return this},getMix:function(m,T){var S=this.mixes,P=typeof m=="string"?m:m.key,E=typeof T=="string"?T:T.key,R=S.get(P);return R&&R.hasOwnProperty(E)?R[E]:0},add:function(m,T){return this.anims.has(m)?(console.warn("Animation key exists: "+m),this):(T.key=m,this.anims.set(m,T),this.emit(r.ADD_ANIMATION,m,T),this)},exists:function(m){return this.anims.has(m)},createFromAseprite:function(m,T,S){var P=[],E=this.game.cache.json.get(m);if(!E)return console.warn("No Aseprite data found for: "+m),P;var R=this,A=v(E,"meta",null),w=v(E,"frames",null);if(A&&w){var O=v(A,"frameTags",[]);O.forEach(function(L){var F=[],I=u(L,"name",null),B=u(L,"from",0),G=u(L,"to",0),N=u(L,"direction","forward");if(I&&(!T||T&&T.indexOf(I)>-1)){for(var U=0,Y=B;Y<=G;Y++){var X=Y.toString(),b=w[X];if(b){var z=u(b,"duration",l.MAX_SAFE_INTEGER);F.push({key:m,frame:X,duration:z}),U+=z}}var D=U/F.length;F.forEach(function(W){W.duration-=D}),N==="reverse"&&(F=F.reverse());var V={key:I,frames:F,duration:U,yoyo:N==="pingpong"},k;S?S.anims&&(k=S.anims.create(V)):k=R.create(V),k&&P.push(k)}})}return P},create:function(m){var T=m.key,S=!1;return T&&(S=this.get(T),S?console.warn("AnimationManager key already exists: "+T):(S=new f(this,T,m),this.anims.set(T,S),this.emit(r.ADD_ANIMATION,T,S))),S},fromJSON:function(m,T){T===void 0&&(T=!1),T&&this.anims.clear(),typeof m=="string"&&(m=JSON.parse(m));var S=[];if(m.hasOwnProperty("anims")&&Array.isArray(m.anims)){for(var P=0;P<m.anims.length;P++)S.push(this.create(m.anims[P]));m.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=m.globalTimeScale)}else m.hasOwnProperty("key")&&m.type==="frame"&&S.push(this.create(m));return S},generateFrameNames:function(m,T){var S=v(T,"prefix",""),P=v(T,"start",0),E=v(T,"end",0),R=v(T,"suffix",""),A=v(T,"zeroPad",0),w=v(T,"outputArray",[]),O=v(T,"frames",!1);if(!this.textureManager.exists(m))return console.warn('Texture "%s" not found',m),w;var L=this.textureManager.get(m);if(!L)return w;var F;if(T)for(O||(O=c(P,E)),F=0;F<O.length;F++){var I=S+p(O[F],A,"0",1)+R;L.has(I)?w.push({key:m,frame:I}):console.warn('Frame "%s" not found in texture "%s"',I,m)}else for(O=L.getFrameNames(),F=0;F<O.length;F++)w.push({key:m,frame:O[F]});return w},generateFrameNumbers:function(m,T){var S=v(T,"start",0),P=v(T,"end",-1),E=v(T,"first",!1),R=v(T,"outputArray",[]),A=v(T,"frames",!1);if(!this.textureManager.exists(m))return console.warn('Texture "%s" not found',m),R;var w=this.textureManager.get(m);if(!w)return R;E&&w.has(E)&&R.push({key:m,frame:E}),A||(P===-1&&(P=w.frameTotal-2),A=c(S,P));for(var O=0;O<A.length;O++){var L=A[O];w.has(L)?R.push({key:m,frame:L}):console.warn('Frame "%s" not found in texture "%s"',L,m)}return R},get:function(m){return this.anims.get(m)},getAnimsFromTexture:function(m){for(var T=this.textureManager.get(m),S=T.key,P=this.anims.getArray(),E=[],R=0;R<P.length;R++)for(var A=P[R],w=A.frames,O=0;O<w.length;O++)if(w[O].textureKey===S){E.push(A.key);break}return E},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(r.PAUSE_ALL)),this},play:function(m,T){Array.isArray(T)||(T=[T]);for(var S=0;S<T.length;S++)T[S].anims.play(m);return this},staggerPlay:function(m,T,S,P){S===void 0&&(S=0),P===void 0&&(P=!0),Array.isArray(T)||(T=[T]);var E=T.length;P||E--;for(var R=0;R<T.length;R++){var A=S<0?Math.abs(S)*(E-R):S*R;T[R].anims.playAfterDelay(m,A)}return this},remove:function(m){var T=this.get(m);return T&&(this.emit(r.REMOVE_ANIMATION,m,T),this.anims.delete(m),this.removeMix(m)),T},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(r.RESUME_ALL)),this},toJSON:function(m){var T={anims:[],globalTimeScale:this.globalTimeScale};return m!==void 0&&m!==""?T.anims.push(this.anims.get(m).toJSON()):this.anims.each(function(S,P){T.anims.push(P.toJSON())}),T},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});h.exports=g},16569:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(85463),d=e(17489),s=e(56694),a=e(33885),r=e(16938),o=e(72632),u=new s({initialize:function(l){this.parent=l,this.animationManager=l.scene.sys.anims,this.animationManager.on(r.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(v){var l=this.parent;if(v===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,l;Array.isArray(v)||(v=[v]);for(var c=0;c<v.length;c++){var p=v[c];this.nextAnim?this.nextAnimsQueue.push(p):this.nextAnim=p}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(v){this.isPlaying&&this.stop();var l=this.animationManager,c=typeof v=="string"?v:o(v,"key",null),p=this.exists(c)?this.get(c):l.get(c);if(!p)console.warn("Missing animation: "+c);else{this.currentAnim=p;var g=p.getTotalFrames(),m=o(v,"frameRate",p.frameRate),T=o(v,"duration",p.duration);p.calculateDuration(this,g,T,m),this.delay=o(v,"delay",p.delay),this.repeat=o(v,"repeat",p.repeat),this.repeatDelay=o(v,"repeatDelay",p.repeatDelay),this.yoyo=o(v,"yoyo",p.yoyo),this.showBeforeDelay=o(v,"showBeforeDelay",p.showBeforeDelay),this.showOnStart=o(v,"showOnStart",p.showOnStart),this.hideOnComplete=o(v,"hideOnComplete",p.hideOnComplete),this.skipMissedFrames=o(v,"skipMissedFrames",p.skipMissedFrames),this.randomFrame=o(v,"randomFrame",p.randomFrame),this.timeScale=o(v,"timeScale",this.timeScale);var S=o(v,"startFrame",0);S>g&&(S=0),this.randomFrame&&(S=d(0,g-1));var P=p.frames[S];S===0&&!this.forward&&(P=p.getLastFrame()),this.currentFrame=P}return this.parent},pause:function(v){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),v!==void 0&&this.setCurrentFrame(v),this.parent},resume:function(v){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),v!==void 0&&this.setCurrentFrame(v),this.parent},playAfterDelay:function(v,l){if(!this.isPlaying)this.delayCounter=l,this.play(v,!0);else{var c=this.nextAnim,p=this.nextAnimsQueue;c&&p.unshift(c),this.nextAnim=v,this._pendingStop=1,this._pendingStopValue=l}return this.parent},playAfterRepeat:function(v,l){if(l===void 0&&(l=1),!this.isPlaying)this.play(v);else{var c=this.nextAnim,p=this.nextAnimsQueue;c&&p.unshift(c),this.repeatCounter!==-1&&l>this.repeatCounter&&(l=this.repeatCounter),this.nextAnim=v,this._pendingStop=2,this._pendingStopValue=l}return this.parent},play:function(v,l){l===void 0&&(l=!1);var c=this.currentAnim,p=this.parent,g=typeof v=="string"?v:v.key;if(l&&this.isPlaying&&c.key===g)return p;if(c&&this.isPlaying){var m=this.animationManager.getMix(c.key,v);if(m>0)return this.playAfterDelay(v,m)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(v)},playReverse:function(v,l){l===void 0&&(l=!1);var c=typeof v=="string"?v:v.key;return l&&this.isPlaying&&this.currentAnim.key===c?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(v))},startAnimation:function(v){this.load(v);var l=this.currentAnim,c=this.parent;return l&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,l.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),c},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(r.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(r.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(r.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(r.ANIMATION_COMPLETE,r.ANIMATION_COMPLETE_KEY)},emitEvents:function(v,l){var c=this.currentAnim;if(c){var p=this.currentFrame,g=this.parent,m=p.textureFrame;g.emit(v,c,p,g,m),l&&g.emit(l+c.key,c,p,g,m)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var v=this.currentFrame;if(!v)return 0;var l=v.progress;return this.inReverse&&(l*=-1),l},setProgress:function(v){return this.forward||(v=1-v),this.setCurrentFrame(this.currentAnim.getFrameByProgress(v)),this.parent},setRepeat:function(v){return this.repeatCounter=v===-1?Number.MAX_VALUE:v,this.parent},globalRemove:function(v,l){l===void 0&&(l=this.currentAnim),this.isPlaying&&l.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(v,l){v===void 0&&(v=!1),l===void 0&&(l=!1);var c=this.currentAnim,p=this.parent;return c?(l&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),c.getFirstTick(this),this.emitEvents(r.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!v,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(c.frames[0]),this.parent):p},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var v=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(v)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var v=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(v)}return this.parent},stopAfterDelay:function(v){return this._pendingStop=1,this._pendingStopValue=v,this.parent},stopAfterRepeat:function(v){return v===void 0&&(v=1),this.repeatCounter!==-1&&v>this.repeatCounter&&(v=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=v,this.parent},stopOnFrame:function(v){return this._pendingStop=3,this._pendingStopValue=v,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(v,l){var c=this.currentAnim;if(!(!this.isPlaying||!c||c.paused)){if(this.accumulator+=l*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=l,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?c.nextFrame(this):c.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var p=0;do this.forward?c.nextFrame(this):c.previousFrame(this),p++;while(this.isPlaying&&this.accumulator>this.nextTick&&p<60)}}},setCurrentFrame:function(v){var l=this.parent;return this.currentFrame=v,l.texture=v.frame.texture,l.frame=v.frame,l.isCropped&&l.frame.updateCropUVs(l._crop,l.flipX,l.flipY),v.setAlpha&&(l.alpha=v.alpha),l.setSizeToFrame(),l._originComponent&&(v.frame.customPivot?l.setOrigin(v.frame.pivotX,v.frame.pivotY):l.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(r.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===v&&this.stop()),l},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(v){return this.anims?this.anims.get(v):null},exists:function(v){return this.anims?this.anims.has(v):!1},create:function(v){var l=v.key,c=!1;return l&&(c=this.get(l),c?console.warn("Animation key already exists: "+l):(c=new f(this,l,v),this.anims||(this.anims=new a),this.anims.set(l,c))),c},createFromAseprite:function(v,l){return this.animationManager.createFromAseprite(v,l,this.parent)},generateFrameNames:function(v,l){return this.animationManager.generateFrameNames(v,l)},generateFrameNumbers:function(v,l){return this.animationManager.generateFrameNumbers(v,l)},remove:function(v){var l=this.get(v);return l&&(this.currentAnim===l&&this.stop(),this.anims.delete(v)),l},destroy:function(){this.animationManager.off(r.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});h.exports=u},44509:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="add"},84563:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="animationcomplete"},61586:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="animationcomplete-"},72175:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="animationrepeat"},568:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="animationrestart"},37690:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="animationstart"},58525:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="animationstop"},5243:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="animationupdate"},10598:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pauseall"},4860:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="remove"},31865:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="resumeall"},16938:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={ADD_ANIMATION:e(44509),ANIMATION_COMPLETE:e(84563),ANIMATION_COMPLETE_KEY:e(61586),ANIMATION_REPEAT:e(72175),ANIMATION_RESTART:e(568),ANIMATION_START:e(37690),ANIMATION_STOP:e(58525),ANIMATION_UPDATE:e(5243),PAUSE_ALL:e(10598),REMOVE_ANIMATION:e(4860),RESUME_ALL:e(31865)}},13517:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Animation:e(85463),AnimationFrame:e(71519),AnimationManager:e(90249),AnimationState:e(16569),Events:e(16938)}},23740:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(33885),s=e(6659),a=e(69773),r=new f({initialize:function(){this.entries=new d,this.events=new s},add:function(o,u){return this.entries.set(o,u),this.events.emit(a.ADD,this,o,u),this},has:function(o){return this.entries.has(o)},exists:function(o){return this.entries.has(o)},get:function(o){return this.entries.get(o)},remove:function(o){var u=this.get(o);return u&&(this.entries.delete(o),this.events.emit(a.REMOVE,this,o,u.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});h.exports=r},43474:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(23740),d=e(56694),s=e(97081),a=new d({initialize:function(o){this.game=o,this.binary=new f,this.bitmapFont=new f,this.json=new f,this.physics=new f,this.shader=new f,this.audio=new f,this.video=new f,this.text=new f,this.html=new f,this.obj=new f,this.tilemap=new f,this.xml=new f,this.custom={},this.game.events.once(s.DESTROY,this.destroy,this)},addCustom:function(r){return this.custom.hasOwnProperty(r)||(this.custom[r]=new f),this.custom[r]},destroy:function(){for(var r=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],o=0;o<r.length;o++)this[r[o]].destroy(),this[r[o]]=null;for(var u in this.custom)this.custom[u].destroy();this.custom=null,this.game=null}});h.exports=a},94762:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="add"},75968:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="remove"},69773:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={ADD:e(94762),REMOVE:e(75968)}},45820:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={BaseCache:e(23740),CacheManager:e(43474),Events:e(69773)}},51052:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(64937),s=e(75606),a=e(6659),r=e(89787),o=e(74118),u=e(69360),v=e(93222),l=e(93736),c=new f({Extends:a,Mixins:[d.AlphaSingle,d.Visible],initialize:function(g,m,T,S){g===void 0&&(g=0),m===void 0&&(m=0),T===void 0&&(T=0),S===void 0&&(S=0),a.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new o,this.dirty=!0,this._x=g,this._y=m,this._width=T,this._height=S,this._bounds=new o,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new u,this.transparent=!0,this.backgroundColor=v("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new l(T/2,S/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0},addToRenderList:function(p){this.renderList.push(p)},setOrigin:function(p,g){return p===void 0&&(p=.5),g===void 0&&(g=p),this.originX=p,this.originY=g,this},getScroll:function(p,g,m){m===void 0&&(m=new l);var T=this.width*.5,S=this.height*.5;return m.x=p-T,m.y=g-S,this.useBounds&&(m.x=this.clampX(m.x),m.y=this.clampY(m.y)),m},centerOnX:function(p){var g=this.width*.5;return this.midPoint.x=p,this.scrollX=p-g,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(p){var g=this.height*.5;return this.midPoint.y=p,this.scrollY=p-g,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(p,g){return this.centerOnX(p),this.centerOnY(g),this},centerToBounds:function(){if(this.useBounds){var p=this._bounds,g=this.width*.5,m=this.height*.5;this.midPoint.set(p.centerX,p.centerY),this.scrollX=p.centerX-g,this.scrollY=p.centerY-m}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(p){if(this.disableCull)return p;var g=this.matrix.matrix,m=g[0],T=g[1],S=g[2],P=g[3],E=m*P-T*S;if(!E)return p;var R=g[4],A=g[5],w=this.scrollX,O=this.scrollY,L=this.width,F=this.height,I=this.y,B=I+F,G=this.x,N=G+L,U=this.culledObjects,Y=p.length;E=1/E,U.length=0;for(var X=0;X<Y;++X){var b=p[X];if(!b.hasOwnProperty("width")||b.parentContainer){U.push(b);continue}var z=b.width,D=b.height,V=b.x-w*b.scrollFactorX-z*b.originX,k=b.y-O*b.scrollFactorY-D*b.originY,W=V*m+k*S+R,H=V*T+k*P+A,$=(V+z)*m+(k+D)*S+R,K=(V+z)*T+(k+D)*P+A;$>G&&W<N&&K>I&&H<B&&U.push(b)}return U},getWorldPoint:function(p,g,m){m===void 0&&(m=new l);var T=this.matrix.matrix,S=T[0],P=T[1],E=T[2],R=T[3],A=T[4],w=T[5],O=S*R-P*E;if(!O)return m.x=p,m.y=g,m;O=1/O;var L=R*O,F=-P*O,I=-E*O,B=S*O,G=(E*w-R*A)*O,N=(P*A-S*w)*O,U=Math.cos(this.rotation),Y=Math.sin(this.rotation),X=this.zoomX,b=this.zoomY,z=this.scrollX,D=this.scrollY,V=p+(z*U-D*Y)*X,k=g+(z*Y+D*U)*b;return m.x=V*L+k*I+G,m.y=V*F+k*B+N,m},ignore:function(p){var g=this.id;Array.isArray(p)||(p=[p]);for(var m=0;m<p.length;m++){var T=p[m];Array.isArray(T)?this.ignore(T):T.isParent?this.ignore(T.getChildren()):T.cameraFilter|=g}return this},preRender:function(){this.renderList.length=0;var p=this.width,g=this.height,m=p*.5,T=g*.5,S=this.zoomX,P=this.zoomY,E=this.matrix,R=p*this.originX,A=g*this.originY,w=this.scrollX,O=this.scrollY;this.useBounds&&(w=this.clampX(w),O=this.clampY(O)),this.scrollX=w,this.scrollY=O;var L=w+m,F=O+T;this.midPoint.set(L,F);var I=p/S,B=g/P;this.worldView.setTo(L-I/2,F-B/2,I,B),E.applyITRS(this.x+R,this.y+A,this.rotation,S,P),E.translate(-R,-A)},clampX:function(p){var g=this._bounds,m=this.displayWidth,T=g.x+(m-this.width)/2,S=Math.max(T,T+g.width-m);return p<T?p=T:p>S&&(p=S),p},clampY:function(p){var g=this._bounds,m=this.displayHeight,T=g.y+(m-this.height)/2,S=Math.max(T,T+g.height-m);return p<T?p=T:p>S&&(p=S),p},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(p){return p===void 0&&(p=0),this.rotation=s(p),this},setBackgroundColor:function(p){return p===void 0&&(p="rgba(0,0,0,0)"),this.backgroundColor=v(p),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(p,g,m,T,S){return S===void 0&&(S=!1),this._bounds.setTo(p,g,m,T),this.dirty=!0,this.useBounds=!0,S?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(p){p===void 0&&(p=new o);var g=this._bounds;return p.setTo(g.x,g.y,g.width,g.height),p},setName:function(p){return p===void 0&&(p=""),this.name=p,this},setPosition:function(p,g){return g===void 0&&(g=p),this.x=p,this.y=g,this},setRotation:function(p){return p===void 0&&(p=0),this.rotation=p,this},setRoundPixels:function(p){return this.roundPixels=p,this},setScene:function(p,g){g===void 0&&(g=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=p,this.isSceneCamera=g;var m=p.sys;return this.sceneManager=m.game.scene,this.scaleManager=m.scale,this.cameraManager=m.cameras,this.updateSystem(),this},setScroll:function(p,g){return g===void 0&&(g=p),this.scrollX=p,this.scrollY=g,this},setSize:function(p,g){return g===void 0&&(g=p),this.width=p,this.height=g,this},setViewport:function(p,g,m,T){return this.x=p,this.y=g,this.width=m,this.height=T,this},setZoom:function(p,g){return p===void 0&&(p=1),g===void 0&&(g=p),p===0&&(p=.001),g===0&&(g=.001),this.zoomX=p,this.zoomY=g,this},setMask:function(p,g){return g===void 0&&(g=!0),this.mask=p,this._maskCamera=g?this.cameraManager.default:this,this},clearMask:function(p){return p===void 0&&(p=!1),p&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var p={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(p.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),p},update:function(){},setIsSceneCamera:function(p){return this.isSceneCamera=p,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var p=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,g=this.sceneManager;p&&!this._customViewport?g.customViewports++:!p&&this._customViewport&&g.customViewports--,this.dirty=!0,this._customViewport=p}},destroy:function(){this.emit(r.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(p){this._x=p,this.updateSystem()}},y:{get:function(){return this._y},set:function(p){this._y=p,this.updateSystem()}},width:{get:function(){return this._width},set:function(p){this._width=p,this.updateSystem()}},height:{get:function(){return this._height},set:function(p){this._height=p,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(p){p!==this._scrollX&&(this._scrollX=p,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(p){p!==this._scrollY&&(this._scrollY=p,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(p){this._zoomX=p,this._zoomY=p,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(p){this._zoomX=p,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(p){this._zoomY=p,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(p){this._rotation=p,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});h.exports=c},47751:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(51052),d=e(79993),s=e(82897),a=e(56694),r=e(64937),o=e(53030),u=e(89787),v=e(42798),l=e(74118),c=e(93736),p=new a({Extends:f,Mixins:[r.PostPipeline],initialize:function(m,T,S,P){f.call(this,m,T,S,P),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new o.Fade(this),this.flashEffect=new o.Flash(this),this.shakeEffect=new o.Shake(this),this.panEffect=new o.Pan(this),this.rotateToEffect=new o.RotateTo(this),this.zoomEffect=new o.Zoom(this),this.lerp=new c(1,1),this.followOffset=new c,this.deadzone=null,this._follow=null},setDeadzone:function(g,m){if(g===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=g,this.deadzone.height=m):this.deadzone=new l(0,0,g,m),this._follow){var T=this.width/2,S=this.height/2,P=this._follow.x-this.followOffset.x,E=this._follow.y-this.followOffset.y;this.midPoint.set(P,E),this.scrollX=P-T,this.scrollY=E-S}d(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(g,m,T,S,P,E){return this.fadeEffect.start(!1,g,m,T,S,!0,P,E)},fadeOut:function(g,m,T,S,P,E){return this.fadeEffect.start(!0,g,m,T,S,!0,P,E)},fadeFrom:function(g,m,T,S,P,E,R){return this.fadeEffect.start(!1,g,m,T,S,P,E,R)},fade:function(g,m,T,S,P,E,R){return this.fadeEffect.start(!0,g,m,T,S,P,E,R)},flash:function(g,m,T,S,P,E,R){return this.flashEffect.start(g,m,T,S,P,E,R)},shake:function(g,m,T,S,P){return this.shakeEffect.start(g,m,T,S,P)},pan:function(g,m,T,S,P,E,R){return this.panEffect.start(g,m,T,S,P,E,R)},rotateTo:function(g,m,T,S,P,E,R){return this.rotateToEffect.start(g,m,T,S,P,E,R)},zoomTo:function(g,m,T,S,P,E){return this.zoomEffect.start(g,m,T,S,P,E)},preRender:function(){this.renderList.length=0;var g=this.width,m=this.height,T=g*.5,S=m*.5,P=this.zoom,E=this.matrix,R=g*this.originX,A=m*this.originY,w=this._follow,O=this.deadzone,L=this.scrollX,F=this.scrollY;O&&d(O,this.midPoint.x,this.midPoint.y);var I=!1;if(w&&!this.panEffect.isRunning){var B=this.lerp,G=w.x-this.followOffset.x,N=w.y-this.followOffset.y;O?(G<O.x?L=v(L,L-(O.x-G),B.x):G>O.right&&(L=v(L,L+(G-O.right),B.x)),N<O.y?F=v(F,F-(O.y-N),B.y):N>O.bottom&&(F=v(F,F+(N-O.bottom),B.y))):(L=v(L,G-R,B.x),F=v(F,N-A,B.y)),I=!0}this.useBounds&&(L=this.clampX(L),F=this.clampY(F)),this.scrollX=L,this.scrollY=F;var U=L+T,Y=F+S;this.midPoint.set(U,Y);var X=g/P,b=m/P,z=Math.floor(U-X/2),D=Math.floor(Y-b/2);this.worldView.setTo(z,D,X,b),E.applyITRS(Math.floor(this.x+R),Math.floor(this.y+A),this.rotation,P,P),E.translate(-R,-A),this.shakeEffect.preRender(),I&&this.emit(u.FOLLOW_UPDATE,this,w)},setLerp:function(g,m){return g===void 0&&(g=1),m===void 0&&(m=g),this.lerp.set(g,m),this},setFollowOffset:function(g,m){return g===void 0&&(g=0),m===void 0&&(m=0),this.followOffset.set(g,m),this},startFollow:function(g,m,T,S,P,E){m===void 0&&(m=!1),T===void 0&&(T=1),S===void 0&&(S=T),P===void 0&&(P=0),E===void 0&&(E=P),this._follow=g,this.roundPixels=m,T=s(T,0,1),S=s(S,0,1),this.lerp.set(T,S),this.followOffset.set(P,E);var R=this.width/2,A=this.height/2,w=g.x-P,O=g.y-E;return this.midPoint.set(w,O),this.scrollX=w-R,this.scrollY=O-A,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(g,m){this.visible&&(this.rotateToEffect.update(g,m),this.panEffect.update(g,m),this.zoomEffect.update(g,m),this.shakeEffect.update(g,m),this.flashEffect.update(g,m),this.fadeEffect.update(g,m))},destroy:function(){this.resetFX(),f.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});h.exports=p},62382:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(47751),d=e(56694),s=e(72632),a=e(91963),r=e(94287),o=e(40444),u=e(7599),v=new d({initialize:function(c){this.scene=c,this.systems=c.sys,this.roundPixels=c.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,c.sys.events.once(u.BOOT,this.boot,this),c.sys.events.on(u.START,this.start,this)},boot:function(){var l=this.systems;l.settings.cameras?this.fromJSON(l.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new f(0,0,l.scale.width,l.scale.height).setScene(this.scene),l.game.scale.on(o.RESIZE,this.onResize,this),this.systems.events.once(u.DESTROY,this.destroy,this)},start:function(){if(!this.main){var l=this.systems;l.settings.cameras?this.fromJSON(l.settings.cameras):this.add(),this.main=this.cameras[0]}var c=this.systems.events;c.on(u.UPDATE,this.update,this),c.once(u.SHUTDOWN,this.shutdown,this)},add:function(l,c,p,g,m,T){l===void 0&&(l=0),c===void 0&&(c=0),p===void 0&&(p=this.scene.sys.scale.width),g===void 0&&(g=this.scene.sys.scale.height),m===void 0&&(m=!1),T===void 0&&(T="");var S=new f(l,c,p,g);return S.setName(T),S.setScene(this.scene),S.setRoundPixels(this.roundPixels),S.id=this.getNextID(),this.cameras.push(S),m&&(this.main=S),S},addExisting:function(l,c){c===void 0&&(c=!1);var p=this.cameras.indexOf(l);return p===-1?(l.id=this.getNextID(),l.setRoundPixels(this.roundPixels),this.cameras.push(l),c&&(this.main=l),l):null},getNextID:function(){for(var l=this.cameras,c=1,p=0;p<32;p++){for(var g=!1,m=0;m<l.length;m++){var T=l[m];if(T&&T.id===c){g=!0;continue}}if(g)c=c<<1;else return c}return 0},getTotal:function(l){l===void 0&&(l=!1);for(var c=0,p=this.cameras,g=0;g<p.length;g++){var m=p[g];(!l||l&&m.visible)&&c++}return c},fromJSON:function(l){Array.isArray(l)||(l=[l]);for(var c=this.scene.sys.scale.width,p=this.scene.sys.scale.height,g=0;g<l.length;g++){var m=l[g],T=s(m,"x",0),S=s(m,"y",0),P=s(m,"width",c),E=s(m,"height",p),R=this.add(T,S,P,E);R.name=s(m,"name",""),R.zoom=s(m,"zoom",1),R.rotation=s(m,"rotation",0),R.scrollX=s(m,"scrollX",0),R.scrollY=s(m,"scrollY",0),R.roundPixels=s(m,"roundPixels",!1),R.visible=s(m,"visible",!0);var A=s(m,"backgroundColor",!1);A&&R.setBackgroundColor(A);var w=s(m,"bounds",null);if(w){var O=s(w,"x",0),L=s(w,"y",0),F=s(w,"width",c),I=s(w,"height",p);R.setBounds(O,L,F,I)}}return this},getCamera:function(l){for(var c=this.cameras,p=0;p<c.length;p++)if(c[p].name===l)return c[p];return null},getCamerasBelowPointer:function(l){for(var c=this.cameras,p=l.x,g=l.y,m=[],T=0;T<c.length;T++){var S=c[T];S.visible&&S.inputEnabled&&r(S,p,g)&&m.unshift(S)}return m},remove:function(l,c){c===void 0&&(c=!0),Array.isArray(l)||(l=[l]);for(var p=0,g=this.cameras,m=0;m<l.length;m++){var T=g.indexOf(l[m]);T!==-1&&(c?g[T].destroy():g[T].renderList=[],g.splice(T,1),p++)}return!this.main&&g[0]&&(this.main=g[0]),p},render:function(l,c){for(var p=this.scene,g=this.cameras,m=0;m<g.length;m++){var T=g[m];if(T.visible&&T.alpha>0){T.preRender();var S=this.getVisibleChildren(c.getChildren(),T);l.render(p,S,T)}}},getVisibleChildren:function(l,c){return l.filter(function(p){return p.willRender(c)})},resetAll:function(){for(var l=0;l<this.cameras.length;l++)this.cameras[l].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(l,c){for(var p=0;p<this.cameras.length;p++)this.cameras[p].update(l,c)},onResize:function(l,c,p,g,m){for(var T=0;T<this.cameras.length;T++){var S=this.cameras[T];S._x===0&&S._y===0&&S._width===g&&S._height===m&&S.setSize(c.width,c.height)}},resize:function(l,c){for(var p=0;p<this.cameras.length;p++)this.cameras[p].setSize(l,c)},shutdown:function(){this.main=void 0;for(var l=0;l<this.cameras.length;l++)this.cameras[l].destroy();this.cameras=[];var c=this.systems.events;c.off(u.UPDATE,this.update,this),c.off(u.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(u.START,this.start,this),this.systems.events.off(u.DESTROY,this.destroy,this),this.systems.game.scale.off(o.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});a.register("CameraManager",v,"cameras"),h.exports=v},92522:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(82897),d=e(56694),s=e(89787),a=new d({initialize:function(o){this.camera=o,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(r,o,u,v,l,c,p,g){if(r===void 0&&(r=!0),o===void 0&&(o=1e3),u===void 0&&(u=0),v===void 0&&(v=0),l===void 0&&(l=0),c===void 0&&(c=!1),p===void 0&&(p=null),g===void 0&&(g=this.camera.scene),!c&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=o,this.direction=r,this.progress=0,this.red=u,this.green=v,this.blue=l,this.alpha=r?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=p,this._onUpdateScope=g;var m=r?s.FADE_OUT_START:s.FADE_IN_START;return this.camera.emit(m,this.camera,this,o,u,v,l),this.camera},update:function(r,o){this.isRunning&&(this._elapsed+=o,this.progress=f(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(r){if(!this.isRunning&&!this.isComplete)return!1;var o=this.camera;return r.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",r.fillRect(o.x,o.y,o.width,o.height),!0},postRenderWebGL:function(r,o){if(!this.isRunning&&!this.isComplete)return!1;var u=this.camera,v=this.red/255,l=this.green/255,c=this.blue/255;return r.drawFillRect(u.x,u.y,u.width,u.height,o(c,l,v,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var r=this.direction?s.FADE_OUT_COMPLETE:s.FADE_IN_COMPLETE;this.camera.emit(r,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});h.exports=a},22151:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(82897),d=e(56694),s=e(89787),a=new d({initialize:function(o){this.camera=o,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(r,o,u,v,l,c,p){return r===void 0&&(r=250),o===void 0&&(o=255),u===void 0&&(u=255),v===void 0&&(v=255),l===void 0&&(l=!1),c===void 0&&(c=null),p===void 0&&(p=this.camera.scene),!l&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=r,this.progress=0,this.red=o,this.green=u,this.blue=v,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=c,this._onUpdateScope=p,this.camera.emit(s.FLASH_START,this.camera,this,r,o,u,v),this.camera)},update:function(r,o){this.isRunning&&(this._elapsed+=o,this.progress=f(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(r){if(!this.isRunning)return!1;var o=this.camera;return r.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",r.fillRect(o.x,o.y,o.width,o.height),!0},postRenderWebGL:function(r,o){if(!this.isRunning)return!1;var u=this.camera,v=this.red/255,l=this.green/255,c=this.blue/255;return r.drawFillRect(u.x,u.y,u.width,u.height,o(c,l,v,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});h.exports=a},37551:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(82897),d=e(56694),s=e(35060),a=e(89787),r=e(93736),o=new d({initialize:function(v){this.camera=v,this.isRunning=!1,this.duration=0,this.source=new r,this.current=new r,this.destination=new r,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(u,v,l,c,p,g,m){l===void 0&&(l=1e3),c===void 0&&(c=s.Linear),p===void 0&&(p=!1),g===void 0&&(g=null),m===void 0&&(m=this.camera.scene);var T=this.camera;return!p&&this.isRunning||(this.isRunning=!0,this.duration=l,this.progress=0,this.source.set(T.scrollX,T.scrollY),this.destination.set(u,v),T.getScroll(u,v,this.current),typeof c=="string"&&s.hasOwnProperty(c)?this.ease=s[c]:typeof c=="function"&&(this.ease=c),this._elapsed=0,this._onUpdate=g,this._onUpdateScope=m,this.camera.emit(a.PAN_START,this.camera,this,l,u,v)),T},update:function(u,v){if(this.isRunning){this._elapsed+=v;var l=f(this._elapsed/this.duration,0,1);this.progress=l;var c=this.camera;if(this._elapsed<this.duration){var p=this.ease(l);c.getScroll(this.destination.x,this.destination.y,this.current);var g=this.source.x+(this.current.x-this.source.x)*p,m=this.source.y+(this.current.y-this.source.y)*p;c.setScroll(g,m),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,c,l,g,m)}else c.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,c,l,c.scrollX,c.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});h.exports=o},1771:(h,y,e)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var f=e(82897),d=e(56694),s=e(89787),a=e(35060),r=new d({initialize:function(u){this.camera=u,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(o,u,v,l,c,p,g){v===void 0&&(v=1e3),l===void 0&&(l=a.Linear),c===void 0&&(c=!1),p===void 0&&(p=null),g===void 0&&(g=this.camera.scene),u===void 0&&(u=!1),this.shortestPath=u;var m=o;o<0?(m=-1*o,this.clockwise=!1):this.clockwise=!0;var T=360*Math.PI/180;m=m-Math.floor(m/T)*T;var S=this.camera;if(!c&&this.isRunning)return S;if(this.isRunning=!0,this.duration=v,this.progress=0,this.source=S.rotation,this.destination=m,typeof l=="string"&&a.hasOwnProperty(l)?this.ease=a[l]:typeof l=="function"&&(this.ease=l),this._elapsed=0,this._onUpdate=p,this._onUpdateScope=g,this.shortestPath){var P=0,E=0;this.destination>this.source?P=Math.abs(this.destination-this.source):P=Math.abs(this.destination+T)-this.source,this.source>this.destination?E=Math.abs(this.source-this.destination):E=Math.abs(this.source+T)-this.destination,P<E?this.clockwise=!0:P>E&&(this.clockwise=!1)}return this.camera.emit(s.ROTATE_START,this.camera,this,v,m),S},update:function(o,u){if(this.isRunning){this._elapsed+=u;var v=f(this._elapsed/this.duration,0,1);this.progress=v;var l=this.camera;if(this._elapsed<this.duration){var c=this.ease(v);this.current=l.rotation;var p=0,g=360*Math.PI/180,m=this.destination,T=this.current;this.clockwise===!1&&(m=this.current,T=this.destination),m>=T?p=Math.abs(m-T):p=Math.abs(m+g)-T;var S=0;this.clockwise?S=l.rotation+p*c:S=l.rotation-p*c,l.rotation=S,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,l,v,S)}else l.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,l,v,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});h.exports=r},3241:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(82897),d=e(56694),s=e(89787),a=e(93736),r=new d({initialize:function(u){this.camera=u,this.isRunning=!1,this.duration=0,this.intensity=new a,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(o,u,v,l,c){return o===void 0&&(o=100),u===void 0&&(u=.05),v===void 0&&(v=!1),l===void 0&&(l=null),c===void 0&&(c=this.camera.scene),!v&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=o,this.progress=0,typeof u=="number"?this.intensity.set(u):this.intensity.set(u.x,u.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=l,this._onUpdateScope=c,this.camera.emit(s.SHAKE_START,this.camera,this,o,u),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(o,u){if(this.isRunning)if(this._elapsed+=u,this.progress=f(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var v=this.intensity,l=this.camera.width,c=this.camera.height,p=this.camera.zoom;this._offsetX=(Math.random()*v.x*l*2-v.x*l)*p,this._offsetY=(Math.random()*v.y*c*2-v.y*c)*p,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});h.exports=r},13383:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(82897),d=e(56694),s=e(35060),a=e(89787),r=new d({initialize:function(u){this.camera=u,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(o,u,v,l,c,p){u===void 0&&(u=1e3),v===void 0&&(v=s.Linear),l===void 0&&(l=!1),c===void 0&&(c=null),p===void 0&&(p=this.camera.scene);var g=this.camera;return!l&&this.isRunning||(this.isRunning=!0,this.duration=u,this.progress=0,this.source=g.zoom,this.destination=o,typeof v=="string"&&s.hasOwnProperty(v)?this.ease=s[v]:typeof v=="function"&&(this.ease=v),this._elapsed=0,this._onUpdate=c,this._onUpdateScope=p,this.camera.emit(a.ZOOM_START,this.camera,this,u,o)),g},update:function(o,u){this.isRunning&&(this._elapsed+=u,this.progress=f(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});h.exports=r},53030:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Fade:e(92522),Flash:e(22151),Pan:e(37551),Shake:e(3241),RotateTo:e(1771),Zoom:e(13383)}},39577:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="cameradestroy"},85373:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="camerafadeincomplete"},92057:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="camerafadeinstart"},1903:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="camerafadeoutcomplete"},96131:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="camerafadeoutstart"},85409:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="cameraflashcomplete"},25500:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="cameraflashstart"},44071:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="followupdate"},19818:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="camerapancomplete"},80002:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="camerapanstart"},87966:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="postrender"},74217:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="prerender"},34805:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="camerarotatecomplete"},30408:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="camerarotatestart"},49856:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="camerashakecomplete"},69189:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="camerashakestart"},67657:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="camerazoomcomplete"},14229:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="camerazoomstart"},89787:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={DESTROY:e(39577),FADE_IN_COMPLETE:e(85373),FADE_IN_START:e(92057),FADE_OUT_COMPLETE:e(1903),FADE_OUT_START:e(96131),FLASH_COMPLETE:e(85409),FLASH_START:e(25500),FOLLOW_UPDATE:e(44071),PAN_COMPLETE:e(19818),PAN_START:e(80002),POST_RENDER:e(87966),PRE_RENDER:e(74217),ROTATE_COMPLETE:e(34805),ROTATE_START:e(30408),SHAKE_COMPLETE:e(49856),SHAKE_START:e(69189),ZOOM_COMPLETE:e(67657),ZOOM_START:e(14229)}},32356:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Camera:e(47751),BaseCamera:e(51052),CameraManager:e(62382),Effects:e(53030),Events:e(89787)}},84219:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(10850),s=new f({initialize:function(r){this.camera=d(r,"camera",null),this.left=d(r,"left",null),this.right=d(r,"right",null),this.up=d(r,"up",null),this.down=d(r,"down",null),this.zoomIn=d(r,"zoomIn",null),this.zoomOut=d(r,"zoomOut",null),this.zoomSpeed=d(r,"zoomSpeed",.01),this.minZoom=d(r,"minZoom",.001),this.maxZoom=d(r,"maxZoom",1e3),this.speedX=0,this.speedY=0;var o=d(r,"speed",null);typeof o=="number"?(this.speedX=o,this.speedY=o):(this.speedX=d(r,"speed.x",0),this.speedY=d(r,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(a){return this.camera=a,this},update:function(a){if(this.active){a===void 0&&(a=1);var r=this.camera;this.up&&this.up.isDown?r.scrollY-=this.speedY*a|0:this.down&&this.down.isDown&&(r.scrollY+=this.speedY*a|0),this.left&&this.left.isDown?r.scrollX-=this.speedX*a|0:this.right&&this.right.isDown&&(r.scrollX+=this.speedX*a|0),this.zoomIn&&this.zoomIn.isDown?(r.zoom-=this.zoomSpeed,r.zoom<this.minZoom&&(r.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(r.zoom+=this.zoomSpeed,r.zoom>this.maxZoom&&(r.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});h.exports=s},69370:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(10850),s=new f({initialize:function(r){this.camera=d(r,"camera",null),this.left=d(r,"left",null),this.right=d(r,"right",null),this.up=d(r,"up",null),this.down=d(r,"down",null),this.zoomIn=d(r,"zoomIn",null),this.zoomOut=d(r,"zoomOut",null),this.zoomSpeed=d(r,"zoomSpeed",.01),this.minZoom=d(r,"minZoom",.001),this.maxZoom=d(r,"maxZoom",1e3),this.accelX=0,this.accelY=0;var o=d(r,"acceleration",null);typeof o=="number"?(this.accelX=o,this.accelY=o):(this.accelX=d(r,"acceleration.x",0),this.accelY=d(r,"acceleration.y",0)),this.dragX=0,this.dragY=0;var u=d(r,"drag",null);typeof u=="number"?(this.dragX=u,this.dragY=u):(this.dragX=d(r,"drag.x",0),this.dragY=d(r,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var v=d(r,"maxSpeed",null);typeof v=="number"?(this.maxSpeedX=v,this.maxSpeedY=v):(this.maxSpeedX=d(r,"maxSpeed.x",0),this.maxSpeedY=d(r,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(a){return this.camera=a,this},update:function(a){if(this.active){a===void 0&&(a=1);var r=this.camera;this._speedX>0?(this._speedX-=this.dragX*a,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*a,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*a,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*a,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(r.scrollX-=this._speedX*a|0),this._speedY!==0&&(r.scrollY-=this._speedY*a|0),this._zoom!==0&&(r.zoom+=this._zoom,r.zoom<this.minZoom?r.zoom=this.minZoom:r.zoom>this.maxZoom&&(r.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});h.exports=s},6524:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={FixedKeyControl:e(84219),SmoothedKeyControl:e(69370)}},44143:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Controls:e(6524),Scene2D:e(32356)}},86459:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={VERSION:"3.70.0",BlendModes:e(95723),ScaleModes:e(27394),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};h.exports=f},14033:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(86459),s=e(18360),a=e(77290),r=e(72632),o=e(10850),u=e(42911),v=e(72283),l=e(5923),c=e(65641),p=e(93222),g=new f({initialize:function(T){T===void 0&&(T={});var S=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],P="#ffffff",E=o(T,"scale",null);this.width=o(E,"width",1024,T),this.height=o(E,"height",768,T),this.zoom=o(E,"zoom",1,T),this.parent=o(E,"parent",void 0,T),this.scaleMode=o(E,E?"mode":"scaleMode",0,T),this.expandParent=o(E,"expandParent",!0,T),this.autoRound=o(E,"autoRound",!1,T),this.autoCenter=o(E,"autoCenter",0,T),this.resizeInterval=o(E,"resizeInterval",500,T),this.fullscreenTarget=o(E,"fullscreenTarget",null,T),this.minWidth=o(E,"min.width",0,T),this.maxWidth=o(E,"max.width",0,T),this.minHeight=o(E,"min.height",0,T),this.maxHeight=o(E,"max.height",0,T),this.renderType=o(T,"type",d.AUTO),this.canvas=o(T,"canvas",null),this.context=o(T,"context",null),this.canvasStyle=o(T,"canvasStyle",null),this.customEnvironment=o(T,"customEnvironment",!1),this.sceneConfig=o(T,"scene",null),this.seed=o(T,"seed",[(Date.now()*Math.random()).toString()]),l.RND=new l.RandomDataGenerator(this.seed),this.gameTitle=o(T,"title",""),this.gameURL=o(T,"url","https://phaser.io"),this.gameVersion=o(T,"version",""),this.autoFocus=o(T,"autoFocus",!0),this.stableSort=o(T,"stableSort",-1),this.stableSort===-1&&(this.stableSort=a.browser.es2019?1:0),a.features.stableSort=this.stableSort,this.domCreateContainer=o(T,"dom.createContainer",!1),this.domPointerEvents=o(T,"dom.pointerEvents","none"),this.inputKeyboard=o(T,"input.keyboard",!0),this.inputKeyboardEventTarget=o(T,"input.keyboard.target",window),this.inputKeyboardCapture=o(T,"input.keyboard.capture",[]),this.inputMouse=o(T,"input.mouse",!0),this.inputMouseEventTarget=o(T,"input.mouse.target",null),this.inputMousePreventDefaultDown=o(T,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=o(T,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=o(T,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=o(T,"input.mouse.preventDefaultWheel",!0),this.inputTouch=o(T,"input.touch",a.input.touch),this.inputTouchEventTarget=o(T,"input.touch.target",null),this.inputTouchCapture=o(T,"input.touch.capture",!0),this.inputActivePointers=o(T,"input.activePointers",1),this.inputSmoothFactor=o(T,"input.smoothFactor",0),this.inputWindowEvents=o(T,"input.windowEvents",!0),this.inputGamepad=o(T,"input.gamepad",!1),this.inputGamepadEventTarget=o(T,"input.gamepad.target",window),this.disableContextMenu=o(T,"disableContextMenu",!1),this.audio=o(T,"audio",{}),this.hideBanner=o(T,"banner",null)===!1,this.hidePhaser=o(T,"banner.hidePhaser",!1),this.bannerTextColor=o(T,"banner.text",P),this.bannerBackgroundColor=o(T,"banner.background",S),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=o(T,"fps",null),this.disablePreFX=o(T,"disablePreFX",!1),this.disablePostFX=o(T,"disablePostFX",!1);var R=o(T,"render",null);this.pipeline=o(R,"pipeline",null,T),this.autoMobilePipeline=o(R,"autoMobilePipeline",!0,T),this.defaultPipeline=o(R,"defaultPipeline",c.MULTI_PIPELINE,T),this.antialias=o(R,"antialias",!0,T),this.antialiasGL=o(R,"antialiasGL",!0,T),this.mipmapFilter=o(R,"mipmapFilter","",T),this.desynchronized=o(R,"desynchronized",!1,T),this.roundPixels=o(R,"roundPixels",!0,T),this.pixelArt=o(R,"pixelArt",this.zoom!==1,T),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=o(R,"transparent",!1,T),this.clearBeforeRender=o(R,"clearBeforeRender",!0,T),this.preserveDrawingBuffer=o(R,"preserveDrawingBuffer",!1,T),this.premultipliedAlpha=o(R,"premultipliedAlpha",!0,T),this.failIfMajorPerformanceCaveat=o(R,"failIfMajorPerformanceCaveat",!1,T),this.powerPreference=o(R,"powerPreference","default",T),this.batchSize=o(R,"batchSize",4096,T),this.maxTextures=o(R,"maxTextures",-1,T),this.maxLights=o(R,"maxLights",10,T);var A=o(T,"backgroundColor",0);this.backgroundColor=p(A),this.transparent&&(this.backgroundColor=p(0),this.backgroundColor.alpha=0),this.preBoot=o(T,"callbacks.preBoot",v),this.postBoot=o(T,"callbacks.postBoot",v),this.physics=o(T,"physics",{}),this.defaultPhysicsSystem=o(this.physics,"default",!1),this.loaderBaseURL=o(T,"loader.baseURL",""),this.loaderPath=o(T,"loader.path",""),this.loaderMaxParallelDownloads=o(T,"loader.maxParallelDownloads",a.os.android?6:32),this.loaderCrossOrigin=o(T,"loader.crossOrigin",void 0),this.loaderResponseType=o(T,"loader.responseType",""),this.loaderAsync=o(T,"loader.async",!0),this.loaderUser=o(T,"loader.user",""),this.loaderPassword=o(T,"loader.password",""),this.loaderTimeout=o(T,"loader.timeout",0),this.loaderWithCredentials=o(T,"loader.withCredentials",!1),this.loaderImageLoadType=o(T,"loader.imageLoadType","XHR"),this.loaderLocalScheme=o(T,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=o(T,"fx.glow.quality",.1),this.glowFXDistance=o(T,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var w=o(T,"plugins",null),O=s.DefaultScene;w&&(Array.isArray(w)?this.defaultPlugins=w:u(w)&&(this.installGlobalPlugins=r(w,"global",[]),this.installScenePlugins=r(w,"scene",[]),Array.isArray(w.default)?O=w.default:Array.isArray(w.defaultMerge)&&(O=O.concat(w.defaultMerge)))),this.defaultPlugins=O;var L="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=o(T,"images.default",L+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=o(T,"images.missing",L+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=o(T,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=d.WEBGL:window.FORCE_CANVAS&&(this.renderType=d.CANVAS))}});h.exports=g},50150:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(70616),d=e(61068),s=e(86459),a=e(90185),r=function(o){var u=o.config;if((u.customEnvironment||u.canvas)&&u.renderType===s.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!u.customEnvironment&&!u.canvas&&u.renderType!==s.HEADLESS)if(u.renderType===s.AUTO&&(u.renderType=a.webGL?s.WEBGL:s.CANVAS),u.renderType===s.WEBGL){if(!a.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(u.renderType===s.CANVAS){if(!a.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+u.renderType);u.antialias||d.disableSmoothing();var v=o.scale.baseSize,l=v.width,c=v.height;if(u.canvas?(o.canvas=u.canvas,o.canvas.width=l,o.canvas.height=c):o.canvas=d.create(o,l,c,u.renderType),u.canvasStyle&&(o.canvas.style=u.canvasStyle),u.antialias||f.setCrisp(o.canvas),u.renderType!==s.HEADLESS){var p,g;p=e(91135),g=e(11857),u.renderType===s.WEBGL?o.renderer=new g(o):(o.renderer=new p(o),o.context=o.renderer.gameContext)}};h.exports=r},77291:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(86459),d=function(s){var a=s.config;if(!a.hideBanner){var r="WebGL";a.renderType===f.CANVAS?r="Canvas":a.renderType===f.HEADLESS&&(r="Headless");var o=a.audio,u=s.device.audio,v;if(u.webAudio&&!o.disableWebAudio?v="Web Audio":o.noAudio||!u.webAudio&&!u.audioData?v="No Audio":v="HTML5 Audio",s.device.browser.ie)window.console&&console.log("Phaser v"+f.VERSION+" / https://phaser.io");else{var l="",c=[l];if(Array.isArray(a.bannerBackgroundColor)){var p;a.bannerBackgroundColor.forEach(function(m){l=l.concat("%c "),c.push("background: "+m),p=m}),c[c.length-1]="color: "+a.bannerTextColor+"; background: "+p}else l=l.concat("%c "),c.push("color: "+a.bannerTextColor+"; background: "+a.bannerBackgroundColor);c.push("background: transparent"),a.gameTitle&&(l=l.concat(a.gameTitle),a.gameVersion&&(l=l.concat(" v"+a.gameVersion)),a.hidePhaser||(l=l.concat(" / ")));var g="";a.hidePhaser||(l=l.concat("Phaser v"+f.VERSION+g+" ("+r+" | "+v+")")),l=l.concat(" %c "+a.gameURL),c[0]=l,console.log.apply(console,c)}}};h.exports=d},15213:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(99584),d=e(90249),s=e(43474),a=e(61068),r=e(56694),o=e(14033),u=e(85178),v=e(50150),l=e(81078),c=e(77291),p=e(77290),g=e(21546),m=e(6659),T=e(97081),S=e(69898),P=e(91963),E=e(49274),R=e(756),A=e(13553),w=e(38203),O=e(6237),L=e(26617),F=e(26493),I=e(84191),B=new r({initialize:function(N){this.config=new o(N),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new m,this.anims=new d(this),this.textures=new O(this),this.cache=new s(this),this.registry=new l(this,new m),this.input=new S(this,this.config),this.scene=new A(this,this.config.sceneConfig),this.device=p,this.scale=new R(this,this.config),this.sound=null,this.sound=I.create(this),this.loop=new L(this,this.config.fps),this.plugins=new E(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,g(this.boot.bind(this))},boot:function(){if(!P.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),v(this),u(this),c(this),f(this.canvas,this.config.parent),this.textures.once(w.READY,this.texturesReady,this),this.events.emit(T.BOOT)},texturesReady:function(){this.events.emit(T.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),F(this);var G=this.events;G.on(T.HIDDEN,this.onHidden,this),G.on(T.VISIBLE,this.onVisible,this),G.on(T.BLUR,this.onBlur,this),G.on(T.FOCUS,this.onFocus,this)},step:function(G,N){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var U=this.events;U.emit(T.PRE_STEP,G,N),U.emit(T.STEP,G,N),this.scene.update(G,N),U.emit(T.POST_STEP,G,N);var Y=this.renderer;Y.preRender(),U.emit(T.PRE_RENDER,Y,G,N),this.scene.render(Y),Y.postRender(),U.emit(T.POST_RENDER,Y,G,N)}},headlessStep:function(G,N){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var U=this.events;U.emit(T.PRE_STEP,G,N),U.emit(T.STEP,G,N),this.scene.update(G,N),U.emit(T.POST_STEP,G,N),this.scene.isProcessing=!1,U.emit(T.PRE_RENDER,null,G,N),U.emit(T.POST_RENDER,null,G,N)}},onHidden:function(){this.loop.pause(),this.events.emit(T.PAUSE)},pause:function(){var G=this.isPaused;this.isPaused=!0,G||this.events.emit(T.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(T.RESUME)},resume:function(){var G=this.isPaused;this.isPaused=!1,G&&this.events.emit(T.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(G,N){N===void 0&&(N=!1),this.pendingDestroy=!0,this.removeCanvas=G,this.noReturn=N},runDestroy:function(){this.scene.destroy(),this.events.emit(T.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(a.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});h.exports=B},26617:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(10850),s=e(72283),a=e(27385),r=new f({initialize:function(u,v){this.game=u,this.raf=new a,this.started=!1,this.running=!1,this.minFps=d(v,"min",5),this.targetFps=d(v,"target",60),this.fpsLimit=d(v,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=s,this.forceSetTimeOut=d(v,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=d(v,"deltaHistory",10),this.panicMax=d(v,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=d(v,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var o=window.performance.now();this.time=o,this.lastTime=o,this.nextFpsUpdate=o+1e3,this.framesThisSecond=0;for(var u=0;u<this.deltaSmoothingMax;u++)this.deltaHistory[u]=Math.min(this._target,this.deltaHistory[u]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(o){if(this.started)return this;this.started=!0,this.running=!0;for(var u=0;u<this.deltaSmoothingMax;u++)this.deltaHistory[u]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=o;var v=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(v,this.forceSetTimeOut,this._target)},smoothDelta:function(o){var u=this.deltaIndex,v=this.deltaHistory,l=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,o=Math.min(o,this._target)),o>this._min&&(o=v[u],o=Math.min(o,this._min)),v[u]=o,this.deltaIndex++,this.deltaIndex>=l&&(this.deltaIndex=0);for(var c=0,p=0;p<l;p++)c+=v[p];return c/=l,c},updateFPS:function(o){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=o+1e3,this.framesThisSecond=0},stepLimitFPS:function(o){this.now=o;var u=Math.max(0,o-this.lastTime);this.rawDelta=u,this.time+=this.rawDelta,this.smoothStep&&(u=this.smoothDelta(u)),this.delta+=u,o>=this.nextFpsUpdate&&this.updateFPS(o),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(o,this.delta),this.delta=0),this.lastTime=o,this.frame++},step:function(o){this.now=o;var u=Math.max(0,o-this.lastTime);this.rawDelta=u,this.time+=this.rawDelta,this.smoothStep&&(u=this.smoothDelta(u)),this.delta=u,o>=this.nextFpsUpdate&&this.updateFPS(o),this.framesThisSecond++,this.callback(o,u),this.lastTime=o,this.frame++},tick:function(){var o=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(o):this.step(o)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(o){o===void 0&&(o=!1);var u=window.performance.now();if(!this.running){o&&(this.startTime+=-this.lastTime+(this.lastTime+u));var v=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(v,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=u+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});h.exports=r},26493:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(97081),d=function(s){var a,r=s.events;if(document.hidden!==void 0)a="visibilitychange";else{var o=["webkit","moz","ms"];o.forEach(function(v){document[v+"Hidden"]!==void 0&&(document.hidden=function(){return document[v+"Hidden"]},a=v+"visibilitychange")})}var u=function(v){document.hidden||v.type==="pause"?r.emit(f.HIDDEN):r.emit(f.VISIBLE)};a&&document.addEventListener(a,u,!1),window.onblur=function(){r.emit(f.BLUR)},window.onfocus=function(){r.emit(f.FOCUS)},window.focus&&s.config.autoFocus&&window.focus()};h.exports=d},41651:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="blur"},5520:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="boot"},51673:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="contextlost"},25055:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="destroy"},23767:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="focus"},57564:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="hidden"},38327:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pause"},43807:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="postrender"},73652:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="poststep"},780:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="prerender"},13781:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="prestep"},38247:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="ready"},29129:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="resume"},34994:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="step"},55237:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="systemready"},98704:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="visible"},97081:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={BLUR:e(41651),BOOT:e(5520),CONTEXT_LOST:e(51673),DESTROY:e(25055),FOCUS:e(23767),HIDDEN:e(57564),PAUSE:e(38327),POST_RENDER:e(43807),POST_STEP:e(73652),PRE_RENDER:e(780),PRE_STEP:e(13781),READY:e(38247),RESUME:e(29129),STEP:e(34994),SYSTEM_READY:e(55237),VISIBLE:e(98704)}},80293:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Config:e(14033),CreateRenderer:e(50150),DebugHeader:e(77291),Events:e(97081),TimeStep:e(26617),VisibilityHandler:e(26493)}},52780:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(81543),d=e(61068),s=e(10850),a=function(r){var o=s(r,"data",[]),u=s(r,"canvas",null),v=s(r,"palette",f),l=s(r,"pixelWidth",1),c=s(r,"pixelHeight",l),p=s(r,"resizeCanvas",!0),g=s(r,"clearCanvas",!0),m=s(r,"preRender",null),T=s(r,"postRender",null),S=Math.floor(Math.abs(o[0].length*l)),P=Math.floor(Math.abs(o.length*c));u||(u=d.create2D(this,S,P),p=!1,g=!1),p&&(u.width=S,u.height=P);var E=u.getContext("2d",{willReadFrequently:!0});g&&E.clearRect(0,0,S,P),m&&m(u,E);for(var R=0;R<o.length;R++)for(var A=o[R],w=0;w<A.length;w++){var O=A[w];O!=="."&&O!==" "&&(E.fillStyle=v[O],E.fillRect(w*l,R*c,l,c))}return T&&T(u,E),u};h.exports=a},84106:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={GenerateTexture:e(52780),Palettes:e(25235)}},81543:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},75846:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},83206:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},13194:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},50686:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},25235:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={ARNE16:e(81543),C64:e(75846),CGA:e(83206),JMP:e(13194),MSX:e(50686)}},63120:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(34631),s=e(38517),a=e(93736),r=new f({Extends:s,initialize:function(u,v,l,c){s.call(this,"CubicBezierCurve"),Array.isArray(u)&&(c=new a(u[6],u[7]),l=new a(u[4],u[5]),v=new a(u[2],u[3]),u=new a(u[0],u[1])),this.p0=u,this.p1=v,this.p2=l,this.p3=c},getStartPoint:function(o){return o===void 0&&(o=new a),o.copy(this.p0)},getResolution:function(o){return o},getPoint:function(o,u){u===void 0&&(u=new a);var v=this.p0,l=this.p1,c=this.p2,p=this.p3;return u.set(d(o,v.x,l.x,c.x,p.x),d(o,v.y,l.y,c.y,p.y))},draw:function(o,u){u===void 0&&(u=32);var v=this.getPoints(u);o.beginPath(),o.moveTo(this.p0.x,this.p0.y);for(var l=1;l<v.length;l++)o.lineTo(v[l].x,v[l].y);return o.strokePath(),o},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});r.fromJSON=function(o){var u=o.points,v=new a(u[0],u[1]),l=new a(u[2],u[3]),c=new a(u[4],u[5]),p=new a(u[6],u[7]);return new r(v,l,c,p)},h.exports=r},38517:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(80222),s=e(74118),a=e(93736),r=new f({initialize:function(u){this.type=u,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new a,this._tmpVec2B=new a},draw:function(o,u){return u===void 0&&(u=32),o.strokePoints(this.getPoints(u))},getBounds:function(o,u){o||(o=new s),u===void 0&&(u=16);var v=this.getLength();u>v&&(u=v/2);var l=Math.max(1,Math.round(v/u));return d(this.getSpacedPoints(l),o)},getDistancePoints:function(o){var u=this.getLength(),v=Math.max(1,u/o);return this.getSpacedPoints(v)},getEndPoint:function(o){return o===void 0&&(o=new a),this.getPointAt(1,o)},getLength:function(){var o=this.getLengths();return o[o.length-1]},getLengths:function(o){if(o===void 0&&(o=this.arcLengthDivisions),this.cacheArcLengths.length===o+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var u=[],v,l=this.getPoint(0,this._tmpVec2A),c=0;u.push(0);for(var p=1;p<=o;p++)v=this.getPoint(p/o,this._tmpVec2B),c+=v.distance(l),u.push(c),l.copy(v);return this.cacheArcLengths=u,u},getPointAt:function(o,u){var v=this.getUtoTmapping(o);return this.getPoint(v,u)},getPoints:function(o,u,v){v===void 0&&(v=[]),o||(u?o=this.getLength()/u:o=this.defaultDivisions);for(var l=0;l<=o;l++)v.push(this.getPoint(l/o));return v},getRandomPoint:function(o){return o===void 0&&(o=new a),this.getPoint(Math.random(),o)},getSpacedPoints:function(o,u,v){v===void 0&&(v=[]),o||(u?o=this.getLength()/u:o=this.defaultDivisions);for(var l=0;l<=o;l++){var c=this.getUtoTmapping(l/o,null,o);v.push(this.getPoint(c))}return v},getStartPoint:function(o){return o===void 0&&(o=new a),this.getPointAt(0,o)},getTangent:function(o,u){u===void 0&&(u=new a);var v=1e-4,l=o-v,c=o+v;return l<0&&(l=0),c>1&&(c=1),this.getPoint(l,this._tmpVec2A),this.getPoint(c,u),u.subtract(this._tmpVec2A).normalize()},getTangentAt:function(o,u){var v=this.getUtoTmapping(o);return this.getTangent(v,u)},getTFromDistance:function(o,u){return o<=0?0:this.getUtoTmapping(0,o,u)},getUtoTmapping:function(o,u,v){var l=this.getLengths(v),c=0,p=l.length,g;u?g=Math.min(u,l[p-1]):g=o*l[p-1];for(var m=0,T=p-1,S;m<=T;)if(c=Math.floor(m+(T-m)/2),S=l[c]-g,S<0)m=c+1;else if(S>0)T=c-1;else{T=c;break}if(c=T,l[c]===g)return c/(p-1);var P=l[c],E=l[c+1],R=E-P,A=(g-P)/R;return(c+A)/(p-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});h.exports=r},48835:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(38517),s=e(75606),a=e(10850),r=e(23701),o=e(93736),u=new f({Extends:d,initialize:function(l,c,p,g,m,T,S,P){if(typeof l=="object"){var E=l;l=a(E,"x",0),c=a(E,"y",0),p=a(E,"xRadius",0),g=a(E,"yRadius",p),m=a(E,"startAngle",0),T=a(E,"endAngle",360),S=a(E,"clockwise",!1),P=a(E,"rotation",0)}else g===void 0&&(g=p),m===void 0&&(m=0),T===void 0&&(T=360),S===void 0&&(S=!1),P===void 0&&(P=0);d.call(this,"EllipseCurve"),this.p0=new o(l,c),this._xRadius=p,this._yRadius=g,this._startAngle=s(m),this._endAngle=s(T),this._clockwise=S,this._rotation=s(P)},getStartPoint:function(v){return v===void 0&&(v=new o),this.getPoint(0,v)},getResolution:function(v){return v*2},getPoint:function(v,l){l===void 0&&(l=new o);for(var c=Math.PI*2,p=this._endAngle-this._startAngle,g=Math.abs(p)<Number.EPSILON;p<0;)p+=c;for(;p>c;)p-=c;p<Number.EPSILON&&(g?p=0:p=c),this._clockwise&&!g&&(p===c?p=-c:p=p-c);var m=this._startAngle+v*p,T=this.p0.x+this._xRadius*Math.cos(m),S=this.p0.y+this._yRadius*Math.sin(m);if(this._rotation!==0){var P=Math.cos(this._rotation),E=Math.sin(this._rotation),R=T-this.p0.x,A=S-this.p0.y;T=R*P-A*E+this.p0.x,S=R*E+A*P+this.p0.y}return l.set(T,S)},setXRadius:function(v){return this.xRadius=v,this},setYRadius:function(v){return this.yRadius=v,this},setWidth:function(v){return this.xRadius=v/2,this},setHeight:function(v){return this.yRadius=v/2,this},setStartAngle:function(v){return this.startAngle=v,this},setEndAngle:function(v){return this.endAngle=v,this},setClockwise:function(v){return this.clockwise=v,this},setRotation:function(v){return this.rotation=v,this},x:{get:function(){return this.p0.x},set:function(v){this.p0.x=v}},y:{get:function(){return this.p0.y},set:function(v){this.p0.y=v}},xRadius:{get:function(){return this._xRadius},set:function(v){this._xRadius=v}},yRadius:{get:function(){return this._yRadius},set:function(v){this._yRadius=v}},startAngle:{get:function(){return r(this._startAngle)},set:function(v){this._startAngle=s(v)}},endAngle:{get:function(){return r(this._endAngle)},set:function(v){this._endAngle=s(v)}},clockwise:{get:function(){return this._clockwise},set:function(v){this._clockwise=v}},angle:{get:function(){return r(this._rotation)},set:function(v){this._rotation=s(v)}},rotation:{get:function(){return this._rotation},set:function(v){this._rotation=v}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:r(this._startAngle),endAngle:r(this._endAngle),clockwise:this._clockwise,rotation:r(this._rotation)}}});u.fromJSON=function(v){return new u(v)},h.exports=u},58084:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(38517),s=e(80222),a=e(74118),r=e(93736),o=new f({Extends:d,initialize:function(v,l){d.call(this,"LineCurve"),Array.isArray(v)&&(l=new r(v[2],v[3]),v=new r(v[0],v[1])),this.p0=v,this.p1=l,this.arcLengthDivisions=1},getBounds:function(u){return u===void 0&&(u=new a),s([this.p0,this.p1],u)},getStartPoint:function(u){return u===void 0&&(u=new r),u.copy(this.p0)},getResolution:function(u){return u===void 0&&(u=1),u},getPoint:function(u,v){return v===void 0&&(v=new r),u===1?v.copy(this.p1):(v.copy(this.p1).subtract(this.p0).scale(u).add(this.p0),v)},getPointAt:function(u,v){return this.getPoint(u,v)},getTangent:function(u,v){return v===void 0&&(v=new r),v.copy(this.p1).subtract(this.p0).normalize(),v},getUtoTmapping:function(u,v,l){var c;if(v){var p=this.getLengths(l),g=p[p.length-1],m=Math.min(v,g);c=m/g}else c=u;return c},draw:function(u){return u.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),u},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});o.fromJSON=function(u){var v=u.points,l=new r(v[0],v[1]),c=new r(v[2],v[3]);return new o(l,c)},h.exports=o},64761:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(38517),s=e(16252),a=e(93736),r=new f({Extends:d,initialize:function(u,v,l){d.call(this,"QuadraticBezierCurve"),Array.isArray(u)&&(l=new a(u[4],u[5]),v=new a(u[2],u[3]),u=new a(u[0],u[1])),this.p0=u,this.p1=v,this.p2=l},getStartPoint:function(o){return o===void 0&&(o=new a),o.copy(this.p0)},getResolution:function(o){return o},getPoint:function(o,u){u===void 0&&(u=new a);var v=this.p0,l=this.p1,c=this.p2;return u.set(s(o,v.x,l.x,c.x),s(o,v.y,l.y,c.y))},draw:function(o,u){u===void 0&&(u=32);var v=this.getPoints(u);o.beginPath(),o.moveTo(this.p0.x,this.p0.y);for(var l=1;l<v.length;l++)o.lineTo(v[l].x,v[l].y);return o.strokePath(),o},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});r.fromJSON=function(o){var u=o.points,v=new a(u[0],u[1]),l=new a(u[2],u[3]),c=new a(u[4],u[5]);return new r(v,l,c)},h.exports=r},11956:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(14976),d=e(56694),s=e(38517),a=e(93736),r=new d({Extends:s,initialize:function(u){u===void 0&&(u=[]),s.call(this,"SplineCurve"),this.points=[],this.addPoints(u)},addPoints:function(o){for(var u=0;u<o.length;u++){var v=new a;typeof o[u]=="number"?(v.x=o[u],v.y=o[u+1],u++):Array.isArray(o[u])?(v.x=o[u][0],v.y=o[u][1]):(v.x=o[u].x,v.y=o[u].y),this.points.push(v)}return this},addPoint:function(o,u){var v=new a(o,u);return this.points.push(v),v},getStartPoint:function(o){return o===void 0&&(o=new a),o.copy(this.points[0])},getResolution:function(o){return o*this.points.length},getPoint:function(o,u){u===void 0&&(u=new a);var v=this.points,l=(v.length-1)*o,c=Math.floor(l),p=l-c,g=v[c===0?c:c-1],m=v[c],T=v[c>v.length-2?v.length-1:c+1],S=v[c>v.length-3?v.length-1:c+2];return u.set(f(p,g.x,m.x,T.x,S.x),f(p,g.y,m.y,T.y,S.y))},toJSON:function(){for(var o=[],u=0;u<this.points.length;u++)o.push(this.points[u].x),o.push(this.points[u].y);return{type:this.type,points:o}}});r.fromJSON=function(o){return new r(o.points)},h.exports=r},73962:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Path:e(12822),MoveTo:e(53639),CubicBezier:e(63120),Curve:e(38517),Ellipse:e(48835),Line:e(58084),QuadraticBezier:e(64761),Spline:e(11956)}},53639:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(93736),s=new f({initialize:function(r,o){this.active=!1,this.p0=new d(r,o)},getPoint:function(a,r){return r===void 0&&(r=new d),r.copy(this.p0)},getPointAt:function(a,r){return this.getPoint(a,r)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});h.exports=s},12822:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(63120),s=e(48835),a=e(61286),r=e(58084),o=e(53639),u=e(64761),v=e(74118),l=e(11956),c=e(93736),p=e(83392),g=new f({initialize:function(T,S){T===void 0&&(T=0),S===void 0&&(S=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new c,this._tmpVec2A=new c,this._tmpVec2B=new c,typeof T=="object"?this.fromJSON(T):this.startPoint.set(T,S)},add:function(m){return this.curves.push(m),this},circleTo:function(m,T,S){return T===void 0&&(T=!1),this.ellipseTo(m,m,0,360,T,S)},closePath:function(){var m=this.curves[0].getPoint(0),T=this.curves[this.curves.length-1].getPoint(1);return m.equals(T)||this.curves.push(new r(T,m)),this},cubicBezierTo:function(m,T,S,P,E,R){var A=this.getEndPoint(),w,O,L;return m instanceof c?(w=m,O=T,L=S):(w=new c(S,P),O=new c(E,R),L=new c(m,T)),this.add(new d(A,w,O,L))},quadraticBezierTo:function(m,T,S,P){var E=this.getEndPoint(),R,A;return m instanceof c?(R=m,A=T):(R=new c(S,P),A=new c(m,T)),this.add(new u(E,R,A))},draw:function(m,T){for(var S=0;S<this.curves.length;S++){var P=this.curves[S];P.active&&P.draw(m,T)}return m},ellipseTo:function(m,T,S,P,E,R){var A=new s(0,0,m,T,S,P,E,R),w=this.getEndPoint(this._tmpVec2A),O=A.getStartPoint(this._tmpVec2B);return w.subtract(O),A.x=w.x,A.y=w.y,this.add(A)},fromJSON:function(m){this.curves=[],this.cacheLengths=[],this.startPoint.set(m.x,m.y),this.autoClose=m.autoClose;for(var T=0;T<m.curves.length;T++){var S=m.curves[T];switch(S.type){case"LineCurve":this.add(r.fromJSON(S));break;case"EllipseCurve":this.add(s.fromJSON(S));break;case"SplineCurve":this.add(l.fromJSON(S));break;case"CubicBezierCurve":this.add(d.fromJSON(S));break;case"QuadraticBezierCurve":this.add(u.fromJSON(S));break}}return this},getBounds:function(m,T){m===void 0&&(m=new v),T===void 0&&(T=16),m.x=Number.MAX_VALUE,m.y=Number.MAX_VALUE;for(var S=new v,P=p.MIN_SAFE_INTEGER,E=p.MIN_SAFE_INTEGER,R=0;R<this.curves.length;R++){var A=this.curves[R];A.active&&(A.getBounds(S,T),m.x=Math.min(m.x,S.x),m.y=Math.min(m.y,S.y),P=Math.max(P,S.right),E=Math.max(E,S.bottom))}return m.right=P,m.bottom=E,m},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var m=[],T=0,S=0;S<this.curves.length;S++)T+=this.curves[S].getLength(),m.push(T);return this.cacheLengths=m,m},getCurveAt:function(m){for(var T=m*this.getLength(),S=this.getCurveLengths(),P=0;P<S.length;){if(S[P]>=T)return this.curves[P];P++}return null},getEndPoint:function(m){return m===void 0&&(m=new c),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,m):m.copy(this.startPoint),m},getLength:function(){var m=this.getCurveLengths();return m[m.length-1]},getPoint:function(m,T){T===void 0&&(T=new c);for(var S=m*this.getLength(),P=this.getCurveLengths(),E=0;E<P.length;){if(P[E]>=S){var R=P[E]-S,A=this.curves[E],w=A.getLength(),O=w===0?0:1-R/w;return A.getPointAt(O,T)}E++}return null},getPoints:function(m,T){!m&&!T&&(m=this.defaultDivisions);for(var S=[],P,E=0;E<this.curves.length;E++){var R=this.curves[E];if(R.active)for(var A=R.getResolution(m),w=R.getPoints(A,T),O=0;O<w.length;O++){var L=w[O];P&&P.equals(L)||(S.push(L),P=L)}}return this.autoClose&&S.length>1&&!S[S.length-1].equals(S[0])&&S.push(S[0]),S},getRandomPoint:function(m){return m===void 0&&(m=new c),this.getPoint(Math.random(),m)},getSpacedPoints:function(m){m===void 0&&(m=40);for(var T=[],S=0;S<=m;S++)T.push(this.getPoint(S/m));return this.autoClose&&T.push(T[0]),T},getStartPoint:function(m){return m===void 0&&(m=new c),m.copy(this.startPoint)},getTangent:function(m,T){T===void 0&&(T=new c);for(var S=m*this.getLength(),P=this.getCurveLengths(),E=0;E<P.length;){if(P[E]>=S){var R=P[E]-S,A=this.curves[E],w=A.getLength(),O=w===0?0:1-R/w;return A.getTangentAt(O,T)}E++}return null},lineTo:function(m,T){m instanceof c?this._tmpVec2B.copy(m):this._tmpVec2B.set(m,T);var S=this.getEndPoint(this._tmpVec2A);return this.add(new r([S.x,S.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(m){return m.unshift(this.getEndPoint()),this.add(new l(m))},moveTo:function(m,T){return m instanceof c?this.add(new o(m.x,m.y)):this.add(new o(m,T))},toJSON:function(){for(var m=[],T=0;T<this.curves.length;T++)m.push(this.curves[T].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:m}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});a.register("path",function(m,T){return new g(m,T)}),h.exports=g},81078:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(35026),s=new f({initialize:function(r,o){this.parent=r,this.events=o,o||(this.events=r.events?r.events:r),this.list={},this.values={},this._frozen=!1,!r.hasOwnProperty("sys")&&this.events&&this.events.once(d.DESTROY,this.destroy,this)},get:function(a){var r=this.list;if(Array.isArray(a)){for(var o=[],u=0;u<a.length;u++)o.push(r[a[u]]);return o}else return r[a]},getAll:function(){var a={};for(var r in this.list)this.list.hasOwnProperty(r)&&(a[r]=this.list[r]);return a},query:function(a){var r={};for(var o in this.list)this.list.hasOwnProperty(o)&&o.match(a)&&(r[o]=this.list[o]);return r},set:function(a,r){if(this._frozen)return this;if(typeof a=="string")return this.setValue(a,r);for(var o in a)this.setValue(o,a[o]);return this},inc:function(a,r){if(this._frozen)return this;r===void 0&&(r=1);var o=this.get(a);return o===void 0&&(o=0),this.set(a,o+r),this},toggle:function(a){return this._frozen?this:(this.set(a,!this.get(a)),this)},setValue:function(a,r){if(this._frozen)return this;if(this.has(a))this.values[a]=r;else{var o=this,u=this.list,v=this.events,l=this.parent;Object.defineProperty(this.values,a,{enumerable:!0,configurable:!0,get:function(){return u[a]},set:function(c){if(!o._frozen){var p=u[a];u[a]=c,v.emit(d.CHANGE_DATA,l,a,c,p),v.emit(d.CHANGE_DATA_KEY+a,l,c,p)}}}),u[a]=r,v.emit(d.SET_DATA,l,a,r)}return this},each:function(a,r){for(var o=[this.parent,null,void 0],u=1;u<arguments.length;u++)o.push(arguments[u]);for(var v in this.list)o[1]=v,o[2]=this.list[v],a.apply(r,o);return this},merge:function(a,r){r===void 0&&(r=!0);for(var o in a)a.hasOwnProperty(o)&&(r||!r&&!this.has(o))&&this.setValue(o,a[o]);return this},remove:function(a){if(this._frozen)return this;if(Array.isArray(a))for(var r=0;r<a.length;r++)this.removeValue(a[r]);else return this.removeValue(a);return this},removeValue:function(a){if(this.has(a)){var r=this.list[a];delete this.list[a],delete this.values[a],this.events.emit(d.REMOVE_DATA,this.parent,a,r)}return this},pop:function(a){var r=void 0;return!this._frozen&&this.has(a)&&(r=this.list[a],delete this.list[a],delete this.values[a],this.events.emit(d.REMOVE_DATA,this.parent,a,r)),r},has:function(a){return this.list.hasOwnProperty(a)},setFreeze:function(a){return this._frozen=a,this},reset:function(){for(var a in this.list)delete this.list[a],delete this.values[a];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(d.CHANGE_DATA),this.events.off(d.SET_DATA),this.events.off(d.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(a){this._frozen=!!a}},count:{get:function(){var a=0;for(var r in this.list)this.list[r]!==void 0&&a++;return a}}});h.exports=s},76508:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(81078),s=e(91963),a=e(7599),r=new f({Extends:d,initialize:function(u){d.call(this,u,u.sys.events),this.scene=u,this.systems=u.sys,u.sys.events.once(a.BOOT,this.boot,this),u.sys.events.on(a.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){d.prototype.destroy.call(this),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});s.register("DataManagerPlugin",r,"data"),h.exports=r},73569:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="changedata"},15590:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="changedata-"},37669:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="destroy"},87090:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="removedata"},90142:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="setdata"},35026:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={CHANGE_DATA:e(73569),CHANGE_DATA_KEY:e(15590),DESTROY:e(37669),REMOVE_DATA:e(87090),SET_DATA:e(90142)}},1999:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={DataManager:e(81078),DataManagerPlugin:e(76508),Events:e(35026)}},10720:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(1350),d={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function s(){if(typeof importScripts=="function")return d;d.audioData=!!window.Audio,d.webAudio=!!(window.AudioContext||window.webkitAudioContext);var a=document.createElement("audio"),r=!!a.canPlayType;try{if(r){var o=function(l,c){var p=a.canPlayType("audio/"+l).replace(/^no$/,"");return c?!!(p||a.canPlayType("audio/"+c).replace(/^no$/,"")):!!p};if(d.ogg=o('ogg; codecs="vorbis"'),d.opus=o('ogg; codecs="opus"',"opus"),d.mp3=o("mpeg"),d.wav=o("wav"),d.m4a=o("x-m4a"),d.aac=o("aac"),d.flac=o("flac","x-flac"),d.webm=o('webm; codecs="vorbis"'),a.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(f.edge)d.dolby=!0;else if(f.safari&&f.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var u=parseInt(RegExp.$1,10),v=parseInt(RegExp.$2,10);(u===10&&v>=11||u>10)&&(d.dolby=!0)}}}}catch{}return d}h.exports=s()},1350:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(36580),d={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function s(){var a=navigator.userAgent;return/Edg\/\d+/.test(a)?(d.edge=!0,d.es2019=!0):/OPR/.test(a)?(d.opera=!0,d.es2019=!0):/Chrome\/(\d+)/.test(a)&&!f.windowsPhone?(d.chrome=!0,d.chromeVersion=parseInt(RegExp.$1,10),d.es2019=d.chromeVersion>69):/Firefox\D+(\d+)/.test(a)?(d.firefox=!0,d.firefoxVersion=parseInt(RegExp.$1,10),d.es2019=d.firefoxVersion>10):/AppleWebKit/.test(a)&&f.iOS?(d.mobileSafari=!0,d.es2019=!0):/MSIE (\d+\.\d+);/.test(a)?(d.ie=!0,d.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+) Safari/.test(a)&&!f.windowsPhone?(d.safari=!0,d.safariVersion=parseInt(RegExp.$1,10),d.es2019=d.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(a)&&(d.ie=!0,d.trident=!0,d.tridentVersion=parseInt(RegExp.$1,10),d.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(a)&&(d.silk=!0),d}h.exports=s()},98581:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61068),d={supportInverseAlpha:!1,supportNewBlendModes:!1};function s(){var o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",u="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",v=new Image;return v.onload=function(){var l=new Image;l.onload=function(){var c=f.create2D(l,6),p=c.getContext("2d",{willReadFrequently:!0});if(p.globalCompositeOperation="multiply",p.drawImage(v,0,0),p.drawImage(l,2,0),!p.getImageData(2,0,1,1))return!1;var g=p.getImageData(2,0,1,1).data;f.remove(l),d.supportNewBlendModes=g[0]===255&&g[1]===0&&g[2]===0},l.src=o+"/wCKxvRF"+u},v.src=o+"AP804Oa6"+u,!1}function a(){var o=f.create2D(this,2),u=o.getContext("2d",{willReadFrequently:!0});u.fillStyle="rgba(10, 20, 30, 0.5)",u.fillRect(0,0,1,1);var v=u.getImageData(0,0,1,1);if(v===null)return!1;u.putImageData(v,1,0);var l=u.getImageData(1,0,1,1),c=l.data[0]===v.data[0]&&l.data[1]===v.data[1]&&l.data[2]===v.data[2]&&l.data[3]===v.data[3];return f.remove(this),c}function r(){return typeof importScripts!="function"&&document!==void 0&&(d.supportNewBlendModes=s(),d.supportInverseAlpha=a()),d}h.exports=r()},90185:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(36580),d=e(1350),s=e(61068),a={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function r(){var u=new ArrayBuffer(4),v=new Uint8Array(u),l=new Uint32Array(u);return v[0]=161,v[1]=178,v[2]=195,v[3]=212,l[0]===3569595041?!0:l[0]===2712847316?!1:null}function o(){if(typeof importScripts=="function")return a;a.canvas=!!window.CanvasRenderingContext2D;try{a.localStorage=!!localStorage.getItem}catch{a.localStorage=!1}a.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,a.fileSystem=!!window.requestFileSystem;var u=!1,v=function(){if(window.WebGLRenderingContext)try{var l=s.createWebGL(this),c=l.getContext("webgl")||l.getContext("experimental-webgl"),p=s.create2D(this),g=p.getContext("2d",{willReadFrequently:!0}),m=g.createImageData(1,1);return u=m.data instanceof Uint8ClampedArray,s.remove(l),s.remove(p),!!c}catch{return!1}return!1};return a.webGL=v(),a.worker=!!window.Worker,a.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,a.getUserMedia=a.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,d.firefox&&d.firefoxVersion<21&&(a.getUserMedia=!1),!f.iOS&&(d.ie||d.firefox||d.chrome)&&(a.canvasBitBltShift=!0),(d.safari||d.mobileSafari)&&(a.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(a.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(a.littleEndian=r()),a.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&a.littleEndian!==null&&u,a}h.exports=o()},33553:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={available:!1,cancel:"",keyboard:!1,request:""};function e(){if(typeof importScripts=="function")return y;var f,d="Fullscreen",s="FullScreen",a=["request"+d,"request"+s,"webkitRequest"+d,"webkitRequest"+s,"msRequest"+d,"msRequest"+s,"mozRequest"+s,"mozRequest"+d];for(f=0;f<a.length;f++)if(document.documentElement[a[f]]){y.available=!0,y.request=a[f];break}var r=["cancel"+s,"exit"+d,"webkitCancel"+s,"webkitExit"+d,"msCancel"+s,"msExit"+d,"mozCancel"+s,"mozExit"+d];if(y.available){for(f=0;f<r.length;f++)if(document[r[f]]){y.cancel=r[f];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(y.keyboard=!0),Object.defineProperty(y,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),y}h.exports=e()},95872:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(1350),d={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function s(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(d.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(d.mspointer=!0),navigator.getGamepads&&(d.gamepads=!0),"onwheel"in window||f.ie&&"WheelEvent"in window?d.wheelEvent="wheel":"onmousewheel"in window?d.wheelEvent="mousewheel":f.firefox&&"MouseScrollEvent"in window&&(d.wheelEvent="DOMMouseScroll")),d}h.exports=s()},36580:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function e(){if(typeof importScripts=="function")return y;var f=navigator.userAgent;/Windows/.test(f)?y.windows=!0:/Mac OS/.test(f)&&!/like Mac OS/.test(f)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(y.iOS=!0,y.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),y.iOSVersion=parseInt(RegExp.$1,10)):y.macOS=!0:/Android/.test(f)?y.android=!0:/Linux/.test(f)?y.linux=!0:/iP[ao]d|iPhone/i.test(f)?(y.iOS=!0,navigator.appVersion.match(/OS (\d+)/),y.iOSVersion=parseInt(RegExp.$1,10),y.iPhone=f.toLowerCase().indexOf("iphone")!==-1,y.iPad=f.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(f)||/\bKF[A-Z][A-Z]+/.test(f)||/Silk.*Mobile Safari/.test(f)?y.kindle=!0:/CrOS/.test(f)&&(y.chromeOS=!0),(/Windows Phone/i.test(f)||/IEMobile/i.test(f))&&(y.android=!1,y.iOS=!1,y.macOS=!1,y.windows=!0,y.windowsPhone=!0);var d=/Silk/.test(f);return(y.windows||y.macOS||y.linux&&!d||y.chromeOS)&&(y.desktop=!0),(y.windowsPhone||/Windows NT/i.test(f)&&/Touch/i.test(f))&&(y.desktop=!1),navigator.standalone&&(y.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(y.cordova=!0),window.ejecta!==void 0&&(y.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(y.node=!0),y.node&&typeof process.versions=="object"&&(y.nodeWebkit=!!process.versions["node-webkit"],y.electron=!!process.versions.electron),/Crosswalk/.test(f)&&(y.crosswalk=!0),y.pixelRatio=window.devicePixelRatio||1,y}h.exports=e()},53861:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72632),d={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function s(){if(typeof importScripts=="function")return d;var a=document.createElement("video"),r=!!a.canPlayType,o=/^no$/;try{r&&(a.canPlayType('video/ogg; codecs="theora"').replace(o,"")&&(d.ogg=!0),a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(o,"")&&(d.h264=!0,d.mp4=!0),a.canPlayType("video/x-m4v").replace(o,"")&&(d.m4v=!0),a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(o,"")&&(d.webm=!0),a.canPlayType('video/webm; codecs="vp9"').replace(o,"")&&(d.vp9=!0),a.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(o,"")&&(d.hls=!0))}catch{}return a.parentNode&&a.parentNode.removeChild(a),d.getVideoURL=function(u){Array.isArray(u)||(u=[u]);for(var v=0;v<u.length;v++){var l=f(u[v],"url",u[v]);if(l.indexOf("blob:")===0)return{url:l,type:""};var c;if(l.indexOf("data:")===0?c=l.split(",")[0].match(/\/(.*?);/):c=l.match(/\.([a-zA-Z0-9]+)($|\?)/),c=f(u[v],"type",c?c[1]:"").toLowerCase(),d[c])return{url:l,type:c}}return null},d}h.exports=s()},77290:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={os:e(36580),browser:e(1350),features:e(90185),input:e(95872),audio:e(10720),video:e(53861),fullscreen:e(33553),canvasFeatures:e(98581)}},65246:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=new Float32Array(20),s=new f({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(a){return this._matrix.set(a),this._dirty=!0,this},reset:function(){var a=this._matrix;return a.fill(0),a[0]=1,a[6]=1,a[12]=1,a[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var a=this._data;return this._dirty&&(a.set(this._matrix),a[4]/=255,a[9]/=255,a[14]/=255,a[19]/=255,this._dirty=!1),a},brightness:function(a,r){a===void 0&&(a=0),r===void 0&&(r=!1);var o=a;return this.multiply([o,0,0,0,0,0,o,0,0,0,0,0,o,0,0,0,0,0,1,0],r)},saturate:function(a,r){a===void 0&&(a=0),r===void 0&&(r=!1);var o=a*2/3+1,u=(o-1)*-.5;return this.multiply([o,u,u,0,0,u,o,u,0,0,u,u,o,0,0,0,0,0,1,0],r)},desaturate:function(a){return a===void 0&&(a=!1),this.saturate(-1,a)},hue:function(a,r){a===void 0&&(a=0),r===void 0&&(r=!1),a=a/180*Math.PI;var o=Math.cos(a),u=Math.sin(a),v=.213,l=.715,c=.072;return this.multiply([v+o*(1-v)+u*-v,l+o*-l+u*-l,c+o*-c+u*(1-c),0,0,v+o*-v+u*.143,l+o*(1-l)+u*.14,c+o*-c+u*-.283,0,0,v+o*-v+u*-(1-v),l+o*-l+u*l,c+o*(1-c)+u*c,0,0,0,0,0,1,0],r)},grayscale:function(a,r){return a===void 0&&(a=1),r===void 0&&(r=!1),this.saturate(-a,r)},blackWhite:function(a){return a===void 0&&(a=!1),this.multiply(s.BLACK_WHITE,a)},contrast:function(a,r){a===void 0&&(a=0),r===void 0&&(r=!1);var o=a+1,u=-.5*(o-1);return this.multiply([o,0,0,0,u,0,o,0,0,u,0,0,o,0,u,0,0,0,1,0],r)},negative:function(a){return a===void 0&&(a=!1),this.multiply(s.NEGATIVE,a)},desaturateLuminance:function(a){return a===void 0&&(a=!1),this.multiply(s.DESATURATE_LUMINANCE,a)},sepia:function(a){return a===void 0&&(a=!1),this.multiply(s.SEPIA,a)},night:function(a,r){return a===void 0&&(a=.1),r===void 0&&(r=!1),this.multiply([a*-2,-a,0,0,0,-a,0,a,0,0,0,a,a*2,0,0,0,0,0,1,0],r)},lsd:function(a){return a===void 0&&(a=!1),this.multiply(s.LSD,a)},brown:function(a){return a===void 0&&(a=!1),this.multiply(s.BROWN,a)},vintagePinhole:function(a){return a===void 0&&(a=!1),this.multiply(s.VINTAGE,a)},kodachrome:function(a){return a===void 0&&(a=!1),this.multiply(s.KODACHROME,a)},technicolor:function(a){return a===void 0&&(a=!1),this.multiply(s.TECHNICOLOR,a)},polaroid:function(a){return a===void 0&&(a=!1),this.multiply(s.POLAROID,a)},shiftToBGR:function(a){return a===void 0&&(a=!1),this.multiply(s.SHIFT_BGR,a)},multiply:function(a,r){r===void 0&&(r=!1),r||this.reset();var o=this._matrix,u=d;return u.set(o),o.set([u[0]*a[0]+u[1]*a[5]+u[2]*a[10]+u[3]*a[15],u[0]*a[1]+u[1]*a[6]+u[2]*a[11]+u[3]*a[16],u[0]*a[2]+u[1]*a[7]+u[2]*a[12]+u[3]*a[17],u[0]*a[3]+u[1]*a[8]+u[2]*a[13]+u[3]*a[18],u[0]*a[4]+u[1]*a[9]+u[2]*a[14]+u[3]*a[19]+u[4],u[5]*a[0]+u[6]*a[5]+u[7]*a[10]+u[8]*a[15],u[5]*a[1]+u[6]*a[6]+u[7]*a[11]+u[8]*a[16],u[5]*a[2]+u[6]*a[7]+u[7]*a[12]+u[8]*a[17],u[5]*a[3]+u[6]*a[8]+u[7]*a[13]+u[8]*a[18],u[5]*a[4]+u[6]*a[9]+u[7]*a[14]+u[8]*a[19]+u[9],u[10]*a[0]+u[11]*a[5]+u[12]*a[10]+u[13]*a[15],u[10]*a[1]+u[11]*a[6]+u[12]*a[11]+u[13]*a[16],u[10]*a[2]+u[11]*a[7]+u[12]*a[12]+u[13]*a[17],u[10]*a[3]+u[11]*a[8]+u[12]*a[13]+u[13]*a[18],u[10]*a[4]+u[11]*a[9]+u[12]*a[14]+u[13]*a[19]+u[14],u[15]*a[0]+u[16]*a[5]+u[17]*a[10]+u[18]*a[15],u[15]*a[1]+u[16]*a[6]+u[17]*a[11]+u[18]*a[16],u[15]*a[2]+u[16]*a[7]+u[17]*a[12]+u[18]*a[17],u[15]*a[3]+u[16]*a[8]+u[17]*a[13]+u[18]*a[18],u[15]*a[4]+u[16]*a[9]+u[17]*a[14]+u[18]*a[19]+u[19]]),this._dirty=!0,this}});s.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],s.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],s.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],s.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],s.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],s.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],s.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],s.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],s.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],s.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],s.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],h.exports=s},39298:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(72283),s=new f({initialize:function(r,o,u){this._rgb=[0,0,0],this.onChangeCallback=d,this.dirty=!1,this.set(r,o,u)},set:function(a,r,o){return a===void 0&&(a=0),r===void 0&&(r=0),o===void 0&&(o=0),this._rgb=[a,r,o],this.onChange(),this},equals:function(a,r,o){var u=this._rgb;return u[0]===a&&u[1]===r&&u[2]===o},onChange:function(){this.dirty=!0;var a=this._rgb;this.onChangeCallback.call(this,a[0],a[1],a[2])},r:{get:function(){return this._rgb[0]},set:function(a){this._rgb[0]=a,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(a){this._rgb[1]=a,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(a){this._rgb[2]=a,this.onChange()}},destroy:function(){this.onChangeCallback=null}});h.exports=s},84093:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};h.exports=y},32058:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(97328),d=e(59994),s=e(73174),a=e(28417),r=function(o,u,v,l){return v===void 0&&(v=0),l===void 0&&(l=0),a(o,d(u)+v),s(o,f(u)+l),o};h.exports=r},85535:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(97328),d=e(40163),s=e(73174),a=e(74465),r=function(o,u,v,l){return v===void 0&&(v=0),l===void 0&&(l=0),a(o,d(u)-v),s(o,f(u)+l),o};h.exports=r},9605:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(97328),d=e(70271),s=e(73174),a=e(19298),r=function(o,u,v,l){return v===void 0&&(v=0),l===void 0&&(l=0),a(o,d(u)+v),s(o,f(u)+l),o};h.exports=r},22529:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(21843),d=e(59994),s=e(29568),a=function(r,o,u,v){return u===void 0&&(u=0),v===void 0&&(v=0),f(r,d(o)+u,s(o)+v),r};h.exports=a},5739:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(29568),d=e(40163),s=e(81711),a=e(74465),r=function(o,u,v,l){return v===void 0&&(v=0),l===void 0&&(l=0),a(o,d(u)-v),s(o,f(u)+l),o};h.exports=r},40327:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(84093),d=[];d[f.BOTTOM_CENTER]=e(32058),d[f.BOTTOM_LEFT]=e(85535),d[f.BOTTOM_RIGHT]=e(9605),d[f.CENTER]=e(22529),d[f.LEFT_CENTER]=e(5739),d[f.RIGHT_CENTER]=e(27683),d[f.TOP_CENTER]=e(96439),d[f.TOP_LEFT]=e(81447),d[f.TOP_RIGHT]=e(47888),d[f.LEFT_BOTTOM]=d[f.BOTTOM_LEFT],d[f.LEFT_TOP]=d[f.TOP_LEFT],d[f.RIGHT_BOTTOM]=d[f.BOTTOM_RIGHT],d[f.RIGHT_TOP]=d[f.TOP_RIGHT];var s=function(a,r,o,u,v){return d[o](a,r,u,v)};h.exports=s},27683:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(29568),d=e(70271),s=e(81711),a=e(19298),r=function(o,u,v,l){return v===void 0&&(v=0),l===void 0&&(l=0),a(o,d(u)+v),s(o,f(u)+l),o};h.exports=r},96439:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(59994),d=e(47196),s=e(28417),a=e(84349),r=function(o,u,v,l){return v===void 0&&(v=0),l===void 0&&(l=0),s(o,f(u)+v),a(o,d(u)-l),o};h.exports=r},81447:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(40163),d=e(47196),s=e(74465),a=e(84349),r=function(o,u,v,l){return v===void 0&&(v=0),l===void 0&&(l=0),s(o,f(u)-v),a(o,d(u)-l),o};h.exports=r},47888:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(70271),d=e(47196),s=e(19298),a=e(84349),r=function(o,u,v,l){return v===void 0&&(v=0),l===void 0&&(l=0),s(o,f(u)+v),a(o,d(u)-l),o};h.exports=r},46997:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={BottomCenter:e(32058),BottomLeft:e(85535),BottomRight:e(9605),Center:e(22529),LeftCenter:e(5739),QuickSet:e(40327),RightCenter:e(27683),TopCenter:e(96439),TopLeft:e(81447),TopRight:e(47888)}},93545:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(84093),d=e(98611),s={In:e(46997),To:e(86639)};s=d(!1,s,f),h.exports=s},27118:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(97328),d=e(59994),s=e(28417),a=e(84349),r=function(o,u,v,l){return v===void 0&&(v=0),l===void 0&&(l=0),s(o,d(u)+v),a(o,f(u)+l),o};h.exports=r},84469:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(97328),d=e(40163),s=e(74465),a=e(84349),r=function(o,u,v,l){return v===void 0&&(v=0),l===void 0&&(l=0),s(o,d(u)-v),a(o,f(u)+l),o};h.exports=r},51577:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(97328),d=e(70271),s=e(19298),a=e(84349),r=function(o,u,v,l){return v===void 0&&(v=0),l===void 0&&(l=0),s(o,d(u)+v),a(o,f(u)+l),o};h.exports=r},90271:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(97328),d=e(40163),s=e(73174),a=e(19298),r=function(o,u,v,l){return v===void 0&&(v=0),l===void 0&&(l=0),a(o,d(u)-v),s(o,f(u)+l),o};h.exports=r},30466:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(29568),d=e(40163),s=e(81711),a=e(19298),r=function(o,u,v,l){return v===void 0&&(v=0),l===void 0&&(l=0),a(o,d(u)-v),s(o,f(u)+l),o};h.exports=r},50087:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(40163),d=e(47196),s=e(19298),a=e(84349),r=function(o,u,v,l){return v===void 0&&(v=0),l===void 0&&(l=0),s(o,f(u)-v),a(o,d(u)-l),o};h.exports=r},82590:(h,y,e)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(84093),d=[];d[f.BOTTOM_CENTER]=e(27118),d[f.BOTTOM_LEFT]=e(84469),d[f.BOTTOM_RIGHT]=e(51577),d[f.LEFT_BOTTOM]=e(90271),d[f.LEFT_CENTER]=e(30466),d[f.LEFT_TOP]=e(50087),d[f.RIGHT_BOTTOM]=e(13555),d[f.RIGHT_CENTER]=e(99049),d[f.RIGHT_TOP]=e(67788),d[f.TOP_CENTER]=e(78170),d[f.TOP_LEFT]=e(54145),d[f.TOP_RIGHT]=e(75548);var s=function(a,r,o,u,v){return d[o](a,r,u,v)};h.exports=s},13555:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(97328),d=e(70271),s=e(73174),a=e(74465),r=function(o,u,v,l){return v===void 0&&(v=0),l===void 0&&(l=0),a(o,d(u)+v),s(o,f(u)+l),o};h.exports=r},99049:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(29568),d=e(70271),s=e(81711),a=e(74465),r=function(o,u,v,l){return v===void 0&&(v=0),l===void 0&&(l=0),a(o,d(u)+v),s(o,f(u)+l),o};h.exports=r},67788:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(70271),d=e(47196),s=e(74465),a=e(84349),r=function(o,u,v,l){return v===void 0&&(v=0),l===void 0&&(l=0),s(o,f(u)+v),a(o,d(u)-l),o};h.exports=r},78170:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(59994),d=e(47196),s=e(73174),a=e(28417),r=function(o,u,v,l){return v===void 0&&(v=0),l===void 0&&(l=0),a(o,f(u)+v),s(o,d(u)-l),o};h.exports=r},54145:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(40163),d=e(47196),s=e(73174),a=e(74465),r=function(o,u,v,l){return v===void 0&&(v=0),l===void 0&&(l=0),a(o,f(u)-v),s(o,d(u)-l),o};h.exports=r},75548:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(70271),d=e(47196),s=e(73174),a=e(19298),r=function(o,u,v,l){return v===void 0&&(v=0),l===void 0&&(l=0),a(o,f(u)+v),s(o,d(u)-l),o};h.exports=r},86639:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={BottomCenter:e(27118),BottomLeft:e(84469),BottomRight:e(51577),LeftBottom:e(90271),LeftCenter:e(30466),LeftTop:e(50087),QuickSet:e(82590),RightBottom:e(13555),RightCenter:e(99049),RightTop:e(67788),TopCenter:e(78170),TopLeft:e(54145),TopRight:e(75548)}},21843:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(28417),d=e(81711),s=function(a,r,o){return f(a,r),d(a,o)};h.exports=s},97328:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.y+e.height-e.height*e.originY};h.exports=y},7126:(h,y,e)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(97328),d=e(40163),s=e(70271),a=e(47196),r=e(74118),o=function(u,v){v===void 0&&(v=new r);var l=d(u),c=a(u);return v.x=l,v.y=c,v.width=s(u)-l,v.height=f(u)-c,v};h.exports=o},59994:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.x-e.width*e.originX+e.width*.5};h.exports=y},29568:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.y-e.height*e.originY+e.height*.5};h.exports=y},40163:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.x-e.width*e.originX};h.exports=y},52088:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.width*e.originX};h.exports=y},23379:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.height*e.originY};h.exports=y},70271:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.x+e.width-e.width*e.originX};h.exports=y},47196:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.y-e.height*e.originY};h.exports=y},73174:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e.y=f-e.height+e.height*e.originY,e};h.exports=y},28417:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){var d=e.width*e.originX;return e.x=f+d-e.width*.5,e};h.exports=y},81711:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){var d=e.height*e.originY;return e.y=f+d-e.height*.5,e};h.exports=y},74465:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e.x=f+e.width*e.originX,e};h.exports=y},19298:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e.x=f-e.width+e.width*e.originX,e};h.exports=y},84349:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e.y=f+e.height*e.originY,e};h.exports=y},15252:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={CenterOn:e(21843),GetBottom:e(97328),GetBounds:e(7126),GetCenterX:e(59994),GetCenterY:e(29568),GetLeft:e(40163),GetOffsetX:e(52088),GetOffsetY:e(23379),GetRight:e(70271),GetTop:e(47196),SetBottom:e(73174),SetCenterX:e(28417),SetCenterY:e(81711),SetLeft:e(74465),SetRight:e(19298),SetTop:e(84349)}},70616:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setCrisp:function(e){var f=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return f.forEach(function(d){e.style["image-rendering"]=d}),e.style.msInterpolationMode="nearest-neighbor",e},setBicubic:function(e){return e.style["image-rendering"]="auto",e.style.msInterpolationMode="bicubic",e}};h.exports=y},61068:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(86459),d=e(8213),s=[],a=!1,r=function(){var o=function(S,P,E,R,A){P===void 0&&(P=1),E===void 0&&(E=1),R===void 0&&(R=f.CANVAS),A===void 0&&(A=!1);var w,O=l(R);return O===null?(O={parent:S,canvas:document.createElement("canvas"),type:R},R===f.CANVAS&&s.push(O),w=O.canvas):(O.parent=S,w=O.canvas),A&&(O.parent=w),w.width=P,w.height=E,a&&R===f.CANVAS&&d.disable(w.getContext("2d",{willReadFrequently:!1})),w},u=function(S,P,E){return o(S,P,E,f.CANVAS)},v=function(S,P,E){return o(S,P,E,f.WEBGL)},l=function(S){if(S===void 0&&(S=f.CANVAS),S===f.WEBGL)return null;for(var P=0;P<s.length;P++){var E=s[P];if(!E.parent&&E.type===S)return E}return null},c=function(S){var P=S instanceof HTMLCanvasElement;s.forEach(function(E){(P&&E.canvas===S||!P&&E.parent===S)&&(E.parent=null,E.canvas.width=1,E.canvas.height=1)})},p=function(){var S=0;return s.forEach(function(P){P.parent&&S++}),S},g=function(){return s.length-p()},m=function(){a=!0},T=function(){a=!1};return{create2D:u,create:o,createWebGL:v,disableSmoothing:m,enableSmoothing:T,first:l,free:g,pool:s,remove:c,total:p}};h.exports=r()},8213:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y="",e=function(){var f=function(r){for(var o=["i","webkitI","msI","mozI","oI"],u=0;u<o.length;u++){var v=o[u]+"mageSmoothingEnabled";if(v in r)return v}return null},d=function(r){return y===""&&(y=f(r)),y&&(r[y]=!0),r},s=function(r){return y===""&&(y=f(r)),y&&(r[y]=!1),r},a=function(r){return y!==null?r[y]:null};return{disable:s,enable:d,getPrefix:f,isEnabled:a}};h.exports=e()},59271:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return f===void 0&&(f="none"),e.style.msTouchAction=f,e.style["ms-touch-action"]=f,e.style["touch-action"]=f,e};h.exports=y},36505:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){f===void 0&&(f="none");var d=["-webkit-","-khtml-","-moz-","-ms-",""];return d.forEach(function(s){e.style[s+"user-select"]=f}),e.style["-webkit-touch-callout"]=f,e.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",e};h.exports=y},23514:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={CanvasInterpolation:e(70616),CanvasPool:e(61068),Smoothing:e(8213),TouchAction:e(59271),UserSelect:e(36505)}},27119:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(22946),s=e(5657),a=e(24650),r=e(68033),o=new f({initialize:function(v,l,c,p){v===void 0&&(v=0),l===void 0&&(l=0),c===void 0&&(c=0),p===void 0&&(p=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(v,l,c,p)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(u,v,l,c,p){return c===void 0&&(c=255),p===void 0&&(p=!0),this._locked=!0,this.red=u,this.green=v,this.blue=l,this.alpha=c,this._locked=!1,this.update(p)},setGLTo:function(u,v,l,c){return c===void 0&&(c=1),this._locked=!0,this.redGL=u,this.greenGL=v,this.blueGL=l,this.alphaGL=c,this._locked=!1,this.update(!0)},setFromRGB:function(u){return this._locked=!0,this.red=u.r,this.green=u.g,this.blue=u.b,u.hasOwnProperty("a")&&(this.alpha=u.a),this._locked=!1,this.update(!0)},setFromHSV:function(u,v,l){return a(u,v,l,this)},update:function(u){if(u===void 0&&(u=!1),this._locked)return this;var v=this.r,l=this.g,c=this.b,p=this.a;return this._color=d(v,l,c),this._color32=s(v,l,c,p),this._rgba="rgba("+v+","+l+","+c+","+p/255+")",u&&r(v,l,c,this),this},updateHSV:function(){var u=this.r,v=this.g,l=this.b;return r(u,v,l,this),this},clone:function(){return new o(this.r,this.g,this.b,this.a)},gray:function(u){return this.setTo(u,u,u)},random:function(u,v){u===void 0&&(u=0),v===void 0&&(v=255);var l=Math.floor(u+Math.random()*(v-u)),c=Math.floor(u+Math.random()*(v-u)),p=Math.floor(u+Math.random()*(v-u));return this.setTo(l,c,p)},randomGray:function(u,v){u===void 0&&(u=0),v===void 0&&(v=255);var l=Math.floor(u+Math.random()*(v-u));return this.setTo(l,l,l)},saturate:function(u){return this.s+=u/100,this},desaturate:function(u){return this.s-=u/100,this},lighten:function(u){return this.v+=u/100,this},darken:function(u){return this.v-=u/100,this},brighten:function(u){var v=this.r,l=this.g,c=this.b;return v=Math.max(0,Math.min(255,v-Math.round(255*-(u/100)))),l=Math.max(0,Math.min(255,l-Math.round(255*-(u/100)))),c=Math.max(0,Math.min(255,c-Math.round(255*-(u/100)))),this.setTo(v,l,c)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(u){this.gl[0]=Math.min(Math.abs(u),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(u){this.gl[1]=Math.min(Math.abs(u),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(u){this.gl[2]=Math.min(Math.abs(u),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(u){this.gl[3]=Math.min(Math.abs(u),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(u){u=Math.floor(Math.abs(u)),this.r=Math.min(u,255),this.gl[0]=u/255,this.update(!0)}},green:{get:function(){return this.g},set:function(u){u=Math.floor(Math.abs(u)),this.g=Math.min(u,255),this.gl[1]=u/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(u){u=Math.floor(Math.abs(u)),this.b=Math.min(u,255),this.gl[2]=u/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(u){u=Math.floor(Math.abs(u)),this.a=Math.min(u,255),this.gl[3]=u/255,this.update()}},h:{get:function(){return this._h},set:function(u){this._h=u,a(u,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(u){this._s=u,a(this._h,u,this._v,this)}},v:{get:function(){return this._v},set:function(u){this._v=u,a(this._h,this._s,u,this)}}});h.exports=o},30245:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(22946),d=function(s){s===void 0&&(s=1024);var a=[],r=255,o,u=255,v=0,l=0;for(o=0;o<=r;o++)a.push({r:u,g:o,b:l,color:f(u,o,l)});for(v=255,o=r;o>=0;o--)a.push({r:o,g:v,b:l,color:f(o,v,l)});for(u=0,o=0;o<=r;o++,v--)a.push({r:u,g:v,b:o,color:f(u,v,o)});for(v=0,l=255,o=0;o<=r;o++,l--,u++)a.push({r:u,g:v,b:l,color:f(u,v,l)});if(s===1024)return a;var c=[],p=0,g=1024/s;for(o=0;o<s;o++)c.push(a[Math.floor(p)]),p+=g;return c};h.exports=d},86672:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){var f={r:e>>16&255,g:e>>8&255,b:e&255,a:255};return e>16777215&&(f.a=e>>>24),f};h.exports=y},25409:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){var f=e.toString(16);return f.length===1?"0"+f:f};h.exports=y},22946:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){return e<<16|f<<8|d};h.exports=y},5657:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){return s<<24|e<<16|f<<8|d};h.exports=y},74777:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(27119),d=e(59998),s=function(a,r,o){var u=o,v=o,l=o;if(r!==0){var c=o<.5?o*(1+r):o+r-o*r,p=2*o-c;u=d(p,c,a+1/3),v=d(p,c,a),l=d(p,c,a-1/3)}var g=new f;return g.setGLTo(u,v,l,1)};h.exports=s},89263:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(24650),d=function(s,a){s===void 0&&(s=1),a===void 0&&(a=1);for(var r=[],o=0;o<=359;o++)r.push(f(o/359,s,a));return r};h.exports=d},24650:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(22946);function d(a,r,o,u){var v=(a+r*6)%6,l=Math.min(v,4-v,1);return Math.round(255*(u-u*o*Math.max(0,l)))}var s=function(a,r,o,u){r===void 0&&(r=1),o===void 0&&(o=1);var v=d(5,a,r,o),l=d(3,a,r,o),c=d(1,a,r,o);return u?u.setTo?u.setTo(v,l,c,u.alpha,!0):(u.r=v,u.g=l,u.b=c,u.color=f(v,l,c),u):{r:v,g:l,b:c,color:f(v,l,c)}};h.exports=s},91487:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(27119),d=function(s){var a=new f;s=s.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(l,c,p,g){return c+c+p+p+g+g});var r=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s);if(r){var o=parseInt(r[1],16),u=parseInt(r[2],16),v=parseInt(r[3],16);a.setTo(o,u,v)}return a};h.exports=d},59998:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){return d<0&&(d+=1),d>1&&(d-=1),d<.16666666666666666?e+(f-e)*6*d:d<.5?f:d<.6666666666666666?e+(f-e)*(.6666666666666666-d)*6:e};h.exports=y},74853:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(27119),d=e(15978),s=function(a){var r=d(a);return new f(r.r,r.g,r.b,r.a)};h.exports=s},15978:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e>16777215?{a:e>>>24,r:e>>16&255,g:e>>8&255,b:e&255}:{a:255,r:e>>16&255,g:e>>8&255,b:e&255}};h.exports=y},53756:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(42798),d=function(r,o,u,v,l,c,p,g){p===void 0&&(p=100),g===void 0&&(g=0);var m=g/p;return{r:f(r,v,m),g:f(o,l,m),b:f(u,c,m)}},s=function(r,o,u,v){return u===void 0&&(u=100),v===void 0&&(v=0),d(r.r,r.g,r.b,o.r,o.g,o.b,u,v)},a=function(r,o,u,v,l,c){return l===void 0&&(l=100),c===void 0&&(c=0),d(r.r,r.g,r.b,o,u,v,l,c)};h.exports={RGBWithRGB:d,ColorWithRGB:a,ColorWithColor:s}},73904:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(27119),d=function(s){return new f(s.r,s.g,s.b,s.a)};h.exports=d},26841:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(27119),d=function(s){var a=new f,r=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(s.toLowerCase());if(r){var o=parseInt(r[1],10),u=parseInt(r[2],10),v=parseInt(r[3],10),l=r[4]!==void 0?parseFloat(r[4]):1;a.setTo(o,u,v,l*255)}return a};h.exports=d},68033:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){s===void 0&&(s={h:0,s:0,v:0}),e/=255,f/=255,d/=255;var a=Math.min(e,f,d),r=Math.max(e,f,d),o=r-a,u=0,v=r===0?0:o/r,l=r;return r!==a&&(r===e?u=(f-d)/o+(f<d?6:0):r===f?u=(d-e)/o+2:r===d&&(u=(e-f)/o+4),u/=6),s.hasOwnProperty("_h")?(s._h=u,s._s=v,s._v=l):(s.h=u,s.s=v,s.v=l),s};h.exports=y},4880:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(25409),d=function(s,a,r,o,u){return o===void 0&&(o=255),u===void 0&&(u="#"),u==="#"?"#"+((1<<24)+(s<<16)+(a<<8)+r).toString(16).slice(1,7):"0x"+f(o)+f(s)+f(a)+f(r)};h.exports=d},37243:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(17489),d=e(27119),s=function(a,r){return a===void 0&&(a=0),r===void 0&&(r=255),new d(f(a,r),f(a,r),f(a,r))};h.exports=s},93222:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(91487),d=e(74853),s=e(73904),a=e(26841),r=function(o){var u=typeof o;switch(u){case"string":return o.substr(0,3).toLowerCase()==="rgb"?a(o):f(o);case"number":return d(o);case"object":return s(o)}};h.exports=r},95509:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(27119);f.ColorSpectrum=e(30245),f.ColorToRGBA=e(86672),f.ComponentToHex=e(25409),f.GetColor=e(22946),f.GetColor32=e(5657),f.HexStringToColor=e(91487),f.HSLToColor=e(74777),f.HSVColorWheel=e(89263),f.HSVToRGB=e(24650),f.HueToComponent=e(59998),f.IntegerToColor=e(74853),f.IntegerToRGB=e(15978),f.Interpolate=e(53756),f.ObjectToColor=e(73904),f.RandomRGB=e(37243),f.RGBStringToColor=e(26841),f.RGBToHSV=e(68033),f.RGBToString=e(4880),f.ValueToColor=e(93222),h.exports=f},24816:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Align:e(93545),BaseShader:e(31053),Bounds:e(15252),Canvas:e(23514),Color:e(95509),ColorMatrix:e(65246),Masks:e(93310),RGB:e(39298)}},76756:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(61286),s=new f({initialize:function(r,o,u,v,l,c){o||(o=r.sys.make.image({x:u,y:v,key:l,frame:c,add:!1})),this.bitmapMask=o,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(a){this.bitmapMask=a},preRenderWebGL:function(a,r,o){a.pipelines.BITMAPMASK_PIPELINE.beginMask(this,r,o)},postRenderWebGL:function(a,r,o){a.pipelines.BITMAPMASK_PIPELINE.endMask(this,r,o)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});d.register("bitmapMask",function(a,r,o,u,v){return new s(this.scene,a,r,o,u,v)}),h.exports=s},63037:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=new f({initialize:function(a,r){this.geometryMask=r,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(s){return this.geometryMask=s,this},setInvertAlpha:function(s){return s===void 0&&(s=!0),this.invertAlpha=s,this},preRenderWebGL:function(s,a,r){var o=s.gl;s.flush(),s.maskStack.length===0&&(o.enable(o.STENCIL_TEST),o.clear(o.STENCIL_BUFFER_BIT),s.maskCount=0),s.currentCameraMask.mask!==this&&(s.currentMask.mask=this),s.maskStack.push({mask:this,camera:r}),this.applyStencil(s,r,!0),s.maskCount++},applyStencil:function(s,a,r){var o=s.gl,u=this.geometryMask,v=s.maskCount,l=255;o.colorMask(!1,!1,!1,!1),r?(o.stencilFunc(o.EQUAL,v,l),o.stencilOp(o.KEEP,o.KEEP,o.INCR),v++):(o.stencilFunc(o.EQUAL,v+1,l),o.stencilOp(o.KEEP,o.KEEP,o.DECR)),this.level=v,u.renderWebGL(s,u,a),s.flush(),o.colorMask(!0,!0,!0,!0),o.stencilOp(o.KEEP,o.KEEP,o.KEEP),this.invertAlpha?o.stencilFunc(o.NOTEQUAL,v,l):o.stencilFunc(o.EQUAL,v,l)},postRenderWebGL:function(s){var a=s.gl;s.maskStack.pop(),s.maskCount--,s.flush();var r=s.currentMask;if(s.maskStack.length===0)r.mask=null,a.disable(a.STENCIL_TEST);else{var o=s.maskStack[s.maskStack.length-1];o.mask.applyStencil(s,o.camera,!1),s.currentCameraMask.mask!==o.mask?(r.mask=o.mask,r.camera=o.camera):r.mask=null}},preRenderCanvas:function(s,a,r){var o=this.geometryMask;s.currentContext.save(),o.renderCanvas(s,o,r,null,null,!0),s.currentContext.clip()},postRenderCanvas:function(s){s.currentContext.restore()},destroy:function(){this.geometryMask=null}});h.exports=d},93310:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={BitmapMask:e(76756),GeometryMask:e(63037)}},31053:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=new f({initialize:function(a,r,o,u){(!r||r==="")&&(r=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!o||o==="")&&(o=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),u===void 0&&(u=null),this.key=a,this.fragmentSrc=r,this.vertexSrc=o,this.uniforms=u}});h.exports=d},99584:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){var d;if(f)typeof f=="string"?d=document.getElementById(f):typeof f=="object"&&f.nodeType===1&&(d=f);else if(e.parentElement||f===null)return e;return d||(d=document.body),d.appendChild(e),e};h.exports=y},85178:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(99584),d=function(s){var a=s.config;if(!(!a.parent||!a.domCreateContainer)){var r=document.createElement("div");r.style.cssText=["display: block;","width: "+s.scale.width+"px;","height: "+s.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+a.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),s.domContainer=r,f(r,a.parent)}};h.exports=d},21546:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(36580),d=function(s){if(document.readyState==="complete"||document.readyState==="interactive"){s();return}var a=function(){document.removeEventListener("deviceready",a,!0),document.removeEventListener("DOMContentLoaded",a,!0),window.removeEventListener("load",a,!0),s()};document.body?f.cordova?document.addEventListener("deviceready",a,!1):(document.addEventListener("DOMContentLoaded",a,!0),window.addEventListener("load",a,!0)):window.setTimeout(a,20)};h.exports=d},74181:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){if(!e)return window.innerHeight;var f=Math.abs(window.orientation),d={w:0,h:0},s=document.createElement("div");return s.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(s),d.w=f===90?s.offsetHeight:window.innerWidth,d.h=f===90?window.innerWidth:s.offsetHeight,document.documentElement.removeChild(s),s=null,Math.abs(window.orientation)!==90?d.h:d.w};h.exports=y},9229:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(55301),d=function(s,a){var r=window.screen,o=r?r.orientation||r.mozOrientation||r.msOrientation:!1;if(o&&typeof o.type=="string")return o.type;if(typeof o=="string")return o;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?f.ORIENTATION.PORTRAIT:f.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return f.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return f.ORIENTATION.LANDSCAPE}else return a>s?f.ORIENTATION.PORTRAIT:f.ORIENTATION.LANDSCAPE};h.exports=d},2893:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){var f;return e!==""&&(typeof e=="string"?f=document.getElementById(e):e&&e.nodeType===1&&(f=e)),f||(f=document.body),f};h.exports=y},89200:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){var f="";try{if(window.DOMParser){var d=new DOMParser;f=d.parseFromString(e,"text/xml")}else f=new ActiveXObject("Microsoft.XMLDOM"),f.loadXML(e)}catch{f=null}return!f||!f.documentElement||f.getElementsByTagName("parsererror").length?null:f};h.exports=y},55638:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){e.parentNode&&e.parentNode.removeChild(e)};h.exports=y},27385:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(72283),s=new f({initialize:function(){this.isRunning=!1,this.callback=d,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var r=this;this.step=function o(u){r.callback(u),r.isRunning&&(r.timeOutID=window.requestAnimationFrame(o))},this.stepTimeout=function o(){r.isRunning&&(r.timeOutID=window.setTimeout(o,r.delay)),r.callback(window.performance.now())}},start:function(a,r,o){this.isRunning||(this.callback=a,this.isSetTimeOut=r,this.delay=o,this.isRunning=!0,this.timeOutID=r?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=d}});h.exports=s},3590:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={AddToDOM:e(99584),DOMContentLoaded:e(21546),GetInnerHeight:e(74181),GetScreenOrientation:e(9229),GetTarget:e(2893),ParseXML:e(89200),RemoveFromDOM:e(55638),RequestAnimationFrame:e(27385)};h.exports=f},78491:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(6659),s=e(91963),a=new f({Extends:d,initialize:function(){d.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});s.register("EventEmitter",a,"events"),h.exports=a},95146:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={EventEmitter:e(78491)}},20170:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(47551),s=e(47406),a=new f({Extends:d,initialize:function(o,u){u===void 0&&(u=1),d.call(this,s.BARREL,o),this.amount=u}});h.exports=a},51182:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(47551),s=e(47406),a=new f({Extends:d,initialize:function(o,u,v,l,c,p,g){v===void 0&&(v=1),l===void 0&&(l=1),c===void 0&&(c=1),p===void 0&&(p=1),g===void 0&&(g=4),d.call(this,s.BLOOM,o),this.steps=g,this.offsetX=v,this.offsetY=l,this.blurStrength=c,this.strength=p,this.glcolor=[1,1,1],u!=null&&(this.color=u)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var o=this.glcolor;o[0]=(r>>16&255)/255,o[1]=(r>>8&255)/255,o[2]=(r&255)/255}}});h.exports=a},51498:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(47551),s=e(47406),a=new f({Extends:d,initialize:function(o,u,v,l,c,p,g){u===void 0&&(u=0),v===void 0&&(v=2),l===void 0&&(l=2),c===void 0&&(c=1),g===void 0&&(g=4),d.call(this,s.BLUR,o),this.quality=u,this.x=v,this.y=l,this.steps=g,this.strength=c,this.glcolor=[1,1,1],p!=null&&(this.color=p)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var o=this.glcolor;o[0]=(r>>16&255)/255,o[1]=(r>>8&255)/255,o[2]=(r&255)/255}}});h.exports=a},12042:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(47551),s=e(47406),a=new f({Extends:d,initialize:function(o,u,v,l,c,p,g,m){u===void 0&&(u=.5),v===void 0&&(v=1),l===void 0&&(l=.2),c===void 0&&(c=!1),p===void 0&&(p=1),g===void 0&&(g=1),m===void 0&&(m=1),d.call(this,s.BOKEH,o),this.radius=u,this.amount=v,this.contrast=l,this.isTiltShift=c,this.strength=m,this.blurX=p,this.blurY=g}});h.exports=a},69900:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(47551),s=e(47406),a=new f({Extends:d,initialize:function(o,u,v,l,c,p){u===void 0&&(u=8),c===void 0&&(c=1),p===void 0&&(p=.005),d.call(this,s.CIRCLE,o),this.scale=c,this.feather=p,this.thickness=u,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],v!=null&&(this.color=v),l!=null&&(this.backgroundColor=l)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var o=this.glcolor;o[0]=(r>>16&255)/255,o[1]=(r>>8&255)/255,o[2]=(r&255)/255}},backgroundColor:{get:function(){var r=this.glcolor2;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var o=this.glcolor2;o[0]=(r>>16&255)/255,o[1]=(r>>8&255)/255,o[2]=(r&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(r){this.glcolor2[3]=r}}});h.exports=a},48991:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(65246),s=e(47406),a=new f({Extends:d,initialize:function(o){d.call(this),this.type=s.COLOR_MATRIX,this.gameObject=o,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});h.exports=a},47551:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=new f({initialize:function(a,r){this.type=a,this.gameObject=r,this.active=!0},setActive:function(s){return this.active=s,this},destroy:function(){this.gameObject=null,this.active=!1}});h.exports=d},47909:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(47551),s=e(47406),a=new f({Extends:d,initialize:function(o,u,v,l){u===void 0&&(u="__WHITE"),v===void 0&&(v=.005),l===void 0&&(l=.005),d.call(this,s.DISPLACEMENT,o),this.x=v,this.y=l,this.glTexture,this.setTexture(u)},setTexture:function(r){var o=this.gameObject.scene.sys.textures.getFrame(r);return o&&(this.glTexture=o.glTexture),this}});h.exports=a},18919:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(47551),s=e(47406),a=new f({Extends:d,initialize:function(o,u,v,l,c){v===void 0&&(v=4),l===void 0&&(l=0),c===void 0&&(c=!1),d.call(this,s.GLOW,o),this.outerStrength=v,this.innerStrength=l,this.knockout=c,this.glcolor=[1,1,1,1],u!==void 0&&(this.color=u)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var o=this.glcolor;o[0]=(r>>16&255)/255,o[1]=(r>>8&255)/255,o[2]=(r&255)/255}}});h.exports=a},62494:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(47551),s=e(47406),a=new f({Extends:d,initialize:function(o,u,v,l,c,p,g,m,T){l===void 0&&(l=.2),c===void 0&&(c=0),p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=1),T===void 0&&(T=0),d.call(this,s.GRADIENT,o),this.alpha=l,this.size=T,this.fromX=c,this.fromY=p,this.toX=g,this.toY=m,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],u!=null&&(this.color1=u),v!=null&&(this.color2=v)},color1:{get:function(){var r=this.glcolor1;return(r[0]<<16)+(r[1]<<8)+(r[2]|0)},set:function(r){var o=this.glcolor1;o[0]=r>>16&255,o[1]=r>>8&255,o[2]=r&255}},color2:{get:function(){var r=this.glcolor2;return(r[0]<<16)+(r[1]<<8)+(r[2]|0)},set:function(r){var o=this.glcolor2;o[0]=r>>16&255,o[1]=r>>8&255,o[2]=r&255}}});h.exports=a},68897:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(47551),s=e(47406),a=new f({Extends:d,initialize:function(o,u){u===void 0&&(u=1),d.call(this,s.PIXELATE,o),this.amount=u}});h.exports=a},58575:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(47551),s=e(47406),a=new f({Extends:d,initialize:function(o,u,v,l,c,p,g,m){u===void 0&&(u=0),v===void 0&&(v=0),l===void 0&&(l=.1),c===void 0&&(c=1),g===void 0&&(g=6),m===void 0&&(m=1),d.call(this,s.SHADOW,o),this.x=u,this.y=v,this.decay=l,this.power=c,this.glcolor=[0,0,0,1],this.samples=g,this.intensity=m,p!==void 0&&(this.color=p)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var o=this.glcolor;o[0]=(r>>16&255)/255,o[1]=(r>>8&255)/255,o[2]=(r&255)/255}}});h.exports=a},33755:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(47551),s=e(47406),a=new f({Extends:d,initialize:function(o,u,v,l,c){u===void 0&&(u=.5),v===void 0&&(v=.5),l===void 0&&(l=3),c===void 0&&(c=!1),d.call(this,s.SHINE,o),this.speed=u,this.lineWidth=v,this.gradient=l,this.reveal=c}});h.exports=a},24949:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(47551),s=e(47406),a=new f({Extends:d,initialize:function(o,u,v,l,c){u===void 0&&(u=.5),v===void 0&&(v=.5),l===void 0&&(l=.5),c===void 0&&(c=.5),d.call(this,s.VIGNETTE,o),this.x=u,this.y=v,this.radius=l,this.strength=c}});h.exports=a},66241:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(47551),s=e(47406),a=new f({Extends:d,initialize:function(o,u,v,l,c){u===void 0&&(u=.1),v===void 0&&(v=0),l===void 0&&(l=0),c===void 0&&(c=!1),d.call(this,s.WIPE,o),this.progress=0,this.wipeWidth=u,this.direction=v,this.axis=l,this.reveal=c}});h.exports=a},47406:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};h.exports=y},96910:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(98611),d=e(47406),s={Barrel:e(20170),Controller:e(47551),Bloom:e(51182),Blur:e(51498),Bokeh:e(12042),Circle:e(69900),ColorMatrix:e(48991),Displacement:e(47909),Glow:e(18919),Gradient:e(62494),Pixelate:e(68897),Shadow:e(58575),Shine:e(33755),Vignette:e(24949),Wipe:e(66241)};s=f(!1,s,d),h.exports=s},88933:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(95723),d=e(20494),s=function(a,r,o){r.x=d(o,"x",0),r.y=d(o,"y",0),r.depth=d(o,"depth",0),r.flipX=d(o,"flipX",!1),r.flipY=d(o,"flipY",!1);var u=d(o,"scale",null);typeof u=="number"?r.setScale(u):u!==null&&(r.scaleX=d(u,"x",1),r.scaleY=d(u,"y",1));var v=d(o,"scrollFactor",null);typeof v=="number"?r.setScrollFactor(v):v!==null&&(r.scrollFactorX=d(v,"x",1),r.scrollFactorY=d(v,"y",1)),r.rotation=d(o,"rotation",0);var l=d(o,"angle",null);l!==null&&(r.angle=l),r.alpha=d(o,"alpha",1);var c=d(o,"origin",null);if(typeof c=="number")r.setOrigin(c);else if(c!==null){var p=d(c,"x",.5),g=d(c,"y",.5);r.setOrigin(p,g)}r.blendMode=d(o,"blendMode",f.NORMAL),r.visible=d(o,"visible",!0);var m=d(o,"add",!0);return m&&a.sys.displayList.add(r),r.preUpdate&&a.sys.updateList.add(r),r};h.exports=s},32291:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(20494),d=function(s,a){var r=f(a,"anims",null);if(r===null)return s;if(typeof r=="string")s.anims.play(r);else if(typeof r=="object"){var o=s.anims,u=f(r,"key",void 0);if(u){var v=f(r,"startFrame",void 0),l=f(r,"delay",0),c=f(r,"repeat",0),p=f(r,"repeatDelay",0),g=f(r,"yoyo",!1),m=f(r,"play",!1),T=f(r,"delayedPlay",0),S={key:u,delay:l,repeat:c,repeatDelay:p,yoyo:g,startFrame:v};m?o.play(S):T>0?o.playAfterDelay(S,T):o.load(S)}}return s};h.exports=d},91713:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(71207),s=e(91963),a=e(56631),r=e(7599),o=e(17922),u=new f({Extends:d,initialize:function(l){d.call(this,l),this.sortChildrenFlag=!1,this.scene=l,this.systems=l.sys,this.events=l.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(r.BOOT,this.boot,this),this.events.on(r.START,this.start,this)},boot:function(){this.events.once(r.DESTROY,this.destroy,this)},addChildCallback:function(v){v.displayList&&v.displayList!==this&&v.removeFromDisplayList(),v.parentContainer&&v.parentContainer.remove(v),v.displayList||(this.queueDepthSort(),v.displayList=this,v.emit(a.ADDED_TO_SCENE,v,this.scene),this.events.emit(r.ADDED_TO_SCENE,v,this.scene))},removeChildCallback:function(v){this.queueDepthSort(),v.displayList=null,v.emit(a.REMOVED_FROM_SCENE,v,this.scene),this.events.emit(r.REMOVED_FROM_SCENE,v,this.scene)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(o(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(v,l){return v._depth-l._depth},getChildren:function(){return this.list},shutdown:function(){for(var v=this.list;v.length;)v[0].destroy(!0);this.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});s.register("DisplayList",u,"displayList"),h.exports=u},89980:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(48129),s=e(81078),a=e(6659),r=e(56631),o=e(7599),u=new f({Extends:a,initialize:function(l,c){a.call(this),this.scene=l,this.displayList=null,this.type=c,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(r.ADDED_TO_SCENE,this.addedToScene,this),this.on(r.REMOVED_FROM_SCENE,this.removedFromScene,this),l.sys.queueDepthSort()},setActive:function(v){return this.active=v,this},setName:function(v){return this.name=v,this},setState:function(v){return this.state=v,this},setDataEnabled:function(){return this.data||(this.data=new s(this)),this},setData:function(v,l){return this.data||(this.data=new s(this)),this.data.set(v,l),this},incData:function(v,l){return this.data||(this.data=new s(this)),this.data.inc(v,l),this},toggleData:function(v){return this.data||(this.data=new s(this)),this.data.toggle(v),this},getData:function(v){return this.data||(this.data=new s(this)),this.data.get(v)},setInteractive:function(v,l,c){return this.scene.sys.input.enable(this,v,l,c),this},disableInteractive:function(){return this.scene.sys.input.disable(this),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return d(this)},willRender:function(v){var l=this.displayList&&this.displayList.active?this.displayList.willRender(v):!0;return!(!l||u.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&v.id)},getIndexList:function(){for(var v=this,l=this.parentContainer,c=[];l&&(c.unshift(l.getIndex(v)),v=l,l.parentContainer);)l=l.parentContainer;return this.displayList?c.unshift(this.displayList.getIndex(v)):c.unshift(this.scene.sys.displayList.getIndex(v)),c},addToDisplayList:function(v){return v===void 0&&(v=this.scene.sys.displayList),this.displayList&&this.displayList!==v&&this.removeFromDisplayList(),v.exists(this)||(this.displayList=v,v.add(this,!0),v.queueDepthSort(),this.emit(r.ADDED_TO_SCENE,this,this.scene),v.events.emit(o.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var v=this.displayList||this.scene.sys.displayList;return v&&v.exists(this)&&(v.remove(this,!0),v.queueDepthSort(),this.displayList=null,this.emit(r.REMOVED_FROM_SCENE,this,this.scene),v.events.emit(o.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(v){!this.scene||this.ignoreDestroy||(v===void 0&&(v=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(r.DESTROY,this,v),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});u.RENDER_MASK=15,h.exports=u},99325:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(91963),s=e(7599),a=new f({initialize:function(o){this.scene=o,this.systems=o.sys,this.events=o.sys.events,this.displayList,this.updateList,this.events.once(s.BOOT,this.boot,this),this.events.on(s.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(s.DESTROY,this.destroy,this)},start:function(){this.events.once(s.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(s.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});a.register=function(r,o){a.prototype.hasOwnProperty(r)||(a.prototype[r]=o)},a.remove=function(r){a.prototype.hasOwnProperty(r)&&delete a.prototype[r]},d.register("GameObjectCreator",a,"make"),h.exports=a},61286:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(91963),s=e(7599),a=new f({initialize:function(o){this.scene=o,this.systems=o.sys,this.events=o.sys.events,this.displayList,this.updateList,this.events.once(s.BOOT,this.boot,this),this.events.on(s.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(s.DESTROY,this.destroy,this)},start:function(){this.events.once(s.SHUTDOWN,this.shutdown,this)},existing:function(r){return(r.renderCanvas||r.renderWebGL)&&this.displayList.add(r),r.preUpdate&&this.updateList.add(r),r},shutdown:function(){this.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(s.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});a.register=function(r,o){a.prototype.hasOwnProperty(r)||(a.prototype[r]=o)},a.remove=function(r){a.prototype.hasOwnProperty(r)&&delete a.prototype[r]},d.register("GameObjectFactory",a,"add"),h.exports=a},73329:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(69360),d=new f,s=new f,a=new f,r={camera:d,sprite:s,calc:a},o=function(u,v,l){var c=d,p=s,g=a;return p.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY),c.copyFrom(v.matrix),l?(c.multiplyWithOffset(l,-v.scrollX*u.scrollFactorX,-v.scrollY*u.scrollFactorY),p.e=u.x,p.f=u.y):(p.e-=v.scrollX*u.scrollFactorX,p.f-=v.scrollY*u.scrollFactorY),c.multiply(p,g),r};h.exports=o},92034:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(74623),s=e(91963),a=e(7599),r=new f({Extends:d,initialize:function(u){d.call(this),this.checkQueue=!0,this.scene=u,this.systems=u.sys,u.sys.events.once(a.BOOT,this.boot,this),u.sys.events.on(a.START,this.start,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){var o=this.systems.events;o.on(a.PRE_UPDATE,this.update,this),o.on(a.UPDATE,this.sceneUpdate,this),o.once(a.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(o,u){for(var v=this._active,l=v.length,c=0;c<l;c++){var p=v[c];p.active&&p.preUpdate.call(p,o,u)}},shutdown:function(){for(var o=this._active.length;o--;)this._active[o].destroy(!0);for(o=this._pending.length;o--;)this._pending[o].destroy(!0);for(o=this._destroy.length;o--;)this._destroy[o].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var u=this.systems.events;u.off(a.PRE_UPDATE,this.update,this),u.off(a.UPDATE,this.sceneUpdate,this),u.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});s.register("UpdateList",r,"updateList"),h.exports=r},8810:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s,a,r,o,u,v,l,c,p,g,m,T){var S=d.x-f.displayOriginX+a,P=d.y-f.displayOriginY+r,E=S+d.w,R=P+d.h,A=o.getXRound(S,P,u),w=o.getYRound(S,P,u),O=o.getXRound(S,R,u),L=o.getYRound(S,R,u),F=o.getXRound(E,R,u),I=o.getYRound(E,R,u),B=o.getXRound(E,P,u),G=o.getYRound(E,P,u);e.batchQuad(f,A,w,O,L,F,I,B,G,s.u0,s.v0,s.u1,s.v1,v,l,c,p,g,m,T)};h.exports=y},82173:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){if(d===void 0&&(d=!1),s===void 0)return s={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},s;var a=e.text,r=a.length,o=e.maxWidth,u=e.wordWrapCharCode,v=Number.MAX_VALUE,l=Number.MAX_VALUE,c=0,p=0,g=e.fontData.chars,m=e.fontData.lineHeight,T=e.letterSpacing,S=e.lineSpacing,P=0,E=0,R=0,A=null,w=e._align,O=0,L=0,F=e.fontSize/e.fontData.size,I=F*e.scaleX,B=F*e.scaleY,G=null,N=0,U=[],Y=Number.MAX_VALUE,X=0,b=0,z=0,D,V=[],k=[],W=null;if(o>0){for(D=0;D<r;D++){if(R=a.charCodeAt(D),R===10){W!==null&&(V.push({word:W.word,i:W.i,x:W.x*I,y:W.y*B,w:W.w*I,h:W.h*B,cr:!0}),W=null),P=0,E+=m+S,G=null;continue}if(A=g[R],!!A){if(G!==null)var H=A.kerning[N];R===u?W!==null&&(V.push({word:W.word,i:W.i,x:W.x*I,y:W.y*B,w:W.w*I,h:W.h*B,cr:!1}),W=null):(W===null&&(W={word:"",i:D,x:P,y:E,w:0,h:m,cr:!1}),W.word=W.word.concat(a[D]),W.w+=A.xOffset+A.xAdvance+(H!==void 0?H:0)),P+=A.xAdvance+T,G=A,N=R}}W!==null&&V.push({word:W.word,i:W.i,x:W.x*I,y:W.y*B,w:W.w*I,h:W.h*B,cr:!1}),P=0,E=0,G=null,N=0;var $,K=0,Z=[];for(D=0;D<V.length;D++){var j=V[D],J=j.x,Q=j.x+j.w;if($){var q=J-($.x+$.w);K=J-(q+$.w),$=null}var _=J-K,tt=Q-K;_>o||tt>o?(Z.push(j.i-1),j.cr?(Z.push(j.i+j.word.length),K=0,$=null):$=j):j.cr&&(Z.push(j.i+j.word.length),K=0,$=null)}var st=function(Pt,Bt,zt){return Pt.substr(0,Bt)+zt+Pt.substr(Bt+1)};for(D=Z.length-1;D>=0;D--)a=st(a,Z[D],`
`);s.wrappedText=a,r=a.length,V=[],W=null}var it=0;for(D=0;D<r;D++){if(R=a.charCodeAt(D),R===10){W!==null&&(V.push({word:W.word,i:W.i,x:W.x*I,y:W.y*B,w:W.w*I,h:W.h*B}),W=null),P=0,E+=m+S,G=null,U[b]=z,z>X&&(X=z),z<Y&&(Y=z),b++,z=0;continue}if(A=g[R],!!A){if(O=P,L=E,G!==null){var lt=A.kerning[N];O+=lt!==void 0?lt:0}v>O&&(v=O),l>L&&(l=L);var et=O+A.xAdvance,ht=L+m;c<et&&(c=et),p<ht&&(p=ht);var at=A.xOffset+A.xAdvance+(lt!==void 0?lt:0);R===u?W!==null&&(V.push({word:W.word,i:W.i,x:W.x*I,y:W.y*B,w:W.w*I,h:W.h*B}),W=null):(W===null&&(W={word:"",i:it,x:P,y:E,w:0,h:m}),W.word=W.word.concat(a[D]),W.w+=at),k.push({i:it,idx:D,char:a[D],code:R,x:(A.xOffset+O)*F,y:(A.yOffset+E)*F,w:A.width*F,h:A.height*F,t:E*F,r:et*F,b:m*F,line:b,glyph:A}),P+=A.xAdvance+T+(lt!==void 0?lt:0),G=A,N=R,z=et*F,it++}}if(W!==null&&V.push({word:W.word,i:W.i,x:W.x*I,y:W.y*B,w:W.w*I,h:W.h*B}),U[b]=z,z>X&&(X=z),z<Y&&(Y=z),w>0)for(var ft=0;ft<k.length;ft++){var vt=k[ft];if(w===1){var mt=(X-U[vt.line])/2;vt.x+=mt,vt.r+=mt}else if(w===2){var xt=X-U[vt.line];vt.x+=xt,vt.r+=xt}}var dt=s.local,gt=s.global,Lt=s.lines;return dt.x=v*F,dt.y=l*F,dt.width=c*F,dt.height=p*F,gt.x=e.x-e._displayOriginX+v*I,gt.y=e.y-e._displayOriginY+l*B,gt.width=c*I,gt.height=p*B,Lt.shortest=Y,Lt.longest=X,Lt.lengths=U,f&&(dt.x=Math.ceil(dt.x),dt.y=Math.ceil(dt.y),dt.width=Math.ceil(dt.width),dt.height=Math.ceil(dt.height),gt.x=Math.ceil(gt.x),gt.y=Math.ceil(gt.y),gt.width=Math.ceil(gt.width),gt.height=Math.ceil(gt.height),Lt.shortest=Math.ceil(Y),Lt.longest=Math.ceil(X)),d&&(e._displayOriginX=e.originX*dt.width,e._displayOriginY=e.originY*dt.height,gt.x=e.x-e._displayOriginX*e.scaleX,gt.y=e.y-e._displayOriginY*e.scaleY,f&&(gt.x=Math.ceil(gt.x),gt.y=Math.ceil(gt.y))),s.words=V,s.characters=k,s.lines.height=m,s.scale=F,s.scaleX=e.scaleX,s.scaleY=e.scaleY,s};h.exports=y},68298:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(31476),d=function(s,a,r,o,u,v,l){var c=s.sys.textures.get(r),p=c.get(o),g=s.sys.cache.xml.get(u);if(p&&g){var m=f(g,p,v,l,c);return s.sys.cache.bitmapFont.add(a,{data:m,texture:r,frame:o,fromAtlas:!0}),!0}else return!1};h.exports=d},39860:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(10850),d=function(s,a){var r=a.width,o=a.height,u=Math.floor(r/2),v=Math.floor(o/2),l=f(a,"chars","");if(l!==""){var c=f(a,"image",""),p=s.sys.textures.getFrame(c),g=p.cutX,m=p.cutY,T=p.source.width,S=p.source.height,P=f(a,"offset.x",0),E=f(a,"offset.y",0),R=f(a,"spacing.x",0),A=f(a,"spacing.y",0),w=f(a,"lineSpacing",0),O=f(a,"charsPerRow",null);O===null&&(O=T/r,O>l.length&&(O=l.length));for(var L=P,F=E,I={retroFont:!0,font:c,size:r,lineHeight:o+w,chars:{}},B=0,G=0;G<l.length;G++){var N=l.charCodeAt(G),U=(g+L)/T,Y=(m+F)/S,X=(g+L+r)/T,b=(m+F+o)/S;I.chars[N]={x:L,y:F,width:r,height:o,centerX:u,centerY:v,xOffset:0,yOffset:0,xAdvance:r,data:{},kerning:{},u0:U,v0:Y,u1:X,v1:b},B++,B===O?(B=0,L=P,F+=o+A):L+=r+R}var z={data:I,frame:null,texture:c};return z}};h.exports=d},31476:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(f,d){return parseInt(f.getAttribute(d),10)}var e=function(f,d,s,a,r){s===void 0&&(s=0),a===void 0&&(a=0);var o=d.cutX,u=d.cutY,v=d.source.width,l=d.source.height,c=d.sourceIndex,p={},g=f.getElementsByTagName("info")[0],m=f.getElementsByTagName("common")[0];p.font=g.getAttribute("face"),p.size=y(g,"size"),p.lineHeight=y(m,"lineHeight")+a,p.chars={};var T=f.getElementsByTagName("char"),S=d!==void 0&&d.trimmed;if(S)var P=d.height,E=d.width;for(var R=0;R<T.length;R++){var A=T[R],w=y(A,"id"),O=String.fromCharCode(w),L=y(A,"x"),F=y(A,"y"),I=y(A,"width"),B=y(A,"height");S&&(L<E&&(E=L),F<P&&(P=F)),S&&P!==0&&E!==0&&(L-=d.x,F-=d.y);var G=(o+L)/v,N=(u+F)/l,U=(o+L+I)/v,Y=(u+F+B)/l;if(p.chars[w]={x:L,y:F,width:I,height:B,centerX:Math.floor(I/2),centerY:Math.floor(B/2),xOffset:y(A,"xoffset"),yOffset:y(A,"yoffset"),xAdvance:y(A,"xadvance")+s,data:{},kerning:{},u0:G,v0:N,u1:U,v1:Y},r&&I!==0&&B!==0){var X=r.add(O,c,L,F,I,B);X&&X.setUVs(I,B,G,N,U,Y)}}var b=f.getElementsByTagName("kerning");for(R=0;R<b.length;R++){var z=b[R],D=y(z,"first"),V=y(z,"second"),k=y(z,"amount");p.chars[V].kerning[D]=k}return p};h.exports=e},55873:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(66863),d=e(98611),s={Parse:e(39860)};s=d(!1,s,f),h.exports=s},66863:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};h.exports=y},13468:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(44616),d=e(56694),s=e(88899),a=new d({Extends:f,Mixins:[s],initialize:function(o,u,v,l,c,p,g){f.call(this,o,u,v,l,c,p,g),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(r,o){return this.cropWidth=r,this.cropHeight=o,this},setDisplayCallback:function(r){return this.displayCallback=r,this},setScrollX:function(r){return this.scrollX=r,this},setScrollY:function(r){return this.scrollY=r,this}});h.exports=a},93438:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(49584),d=function(s,a,r,o){var u=a._text,v=u.length,l=s.currentContext;if(!(v===0||!f(s,l,a,r,o))){r.addToRenderList(a);var c=a.fromAtlas?a.frame:a.texture.frames.__BASE,p=a.displayCallback,g=a.callbackData,m=a.fontData.chars,T=a.fontData.lineHeight,S=a._letterSpacing,P=0,E=0,R=0,A=null,w=0,O=0,L=0,F=0,I=0,B=0,G=null,N=0,U=a.frame.source.image,Y=c.cutX,X=c.cutY,b=0,z=0,D=a._fontSize/a.fontData.size,V=a._align,k=0,W=0;a.getTextBounds(!1);var H=a._bounds.lines;V===1?W=(H.longest-H.lengths[0])/2:V===2&&(W=H.longest-H.lengths[0]),l.translate(-a.displayOriginX,-a.displayOriginY);var $=r.roundPixels;a.cropWidth>0&&a.cropHeight>0&&(l.beginPath(),l.rect(0,0,a.cropWidth,a.cropHeight),l.clip());for(var K=0;K<v;K++){if(z=D,b=0,R=u.charCodeAt(K),R===10){k++,V===1?W=(H.longest-H.lengths[k])/2:V===2&&(W=H.longest-H.lengths[k]),P=0,E+=T,G=null;continue}if(A=m[R],!!A){if(w=Y+A.x,O=X+A.y,L=A.width,F=A.height,I=A.xOffset+P-a.scrollX,B=A.yOffset+E-a.scrollY,G!==null){var Z=A.kerning[N];I+=Z!==void 0?Z:0}if(p){g.index=K,g.charCode=R,g.x=I,g.y=B,g.scale=z,g.rotation=b,g.data=A.data;var j=p(g);I=j.x,B=j.y,z=j.scale,b=j.rotation}I*=z,B*=z,I+=W,P+=A.xAdvance+S+(Z!==void 0?Z:0),G=A,N=R,!(L===0||F===0||R===32)&&($&&(I=Math.round(I),B=Math.round(B)),l.save(),l.translate(I,B),l.rotate(b),l.scale(z,z),l.drawImage(U,w,O,L,F,0,0,L,F),l.restore())}}l.restore()}};h.exports=d},67513:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(13468),d=e(88933),s=e(99325),a=e(20494);s.register("dynamicBitmapText",function(r,o){r===void 0&&(r={});var u=a(r,"font",""),v=a(r,"text",""),l=a(r,"size",!1),c=new f(this.scene,0,0,u,v,l);return o!==void 0&&(r.add=o),d(this.scene,c,r),c})},94145:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(13468),d=e(61286);d.register("dynamicBitmapText",function(s,a,r,o,u){return this.displayList.add(new f(this.scene,s,a,r,o,u))})},88899:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),d=f,s=f;d=e(16873),s=e(93438),h.exports={renderWebGL:d,renderCanvas:s}},16873:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(73329),d=e(69360),s=e(75512),a=new d,r=function(o,u,v,l){var c=u.text,p=c.length;if(p!==0){v.addToRenderList(u);var g=o.pipelines.set(u.pipeline,u),m=f(u,v,l);o.pipelines.preBatch(u);var T=m.sprite,S=m.calc,P=a,E=u.cropWidth>0||u.cropHeight>0;E&&(g.flush(),o.pushScissor(S.tx,S.ty,u.cropWidth*S.scaleX,u.cropHeight*S.scaleY));var R=u.frame,A=R.glTexture,w=u.tintFill,O=s.getTintAppendFloatAlpha(u.tintTopLeft,v.alpha*u._alphaTL),L=s.getTintAppendFloatAlpha(u.tintTopRight,v.alpha*u._alphaTR),F=s.getTintAppendFloatAlpha(u.tintBottomLeft,v.alpha*u._alphaBL),I=s.getTintAppendFloatAlpha(u.tintBottomRight,v.alpha*u._alphaBR),B=g.setGameObject(u),G=0,N=0,U=0,Y=0,X=u.letterSpacing,b,z=0,D=0,V,k=u.scrollX,W=u.scrollY,H=u.fontData,$=H.chars,K=H.lineHeight,Z=u.fontSize/H.size,j=0,J=u._align,Q=0,q=0,_=u.getTextBounds(!1);u.maxWidth>0&&(c=_.wrappedText,p=c.length);var tt=u._bounds.lines;J===1?q=(tt.longest-tt.lengths[0])/2:J===2&&(q=tt.longest-tt.lengths[0]);for(var st=v.roundPixels,it=u.displayCallback,lt=u.callbackData,et=0;et<p;et++){if(U=c.charCodeAt(et),U===10){Q++,J===1?q=(tt.longest-tt.lengths[Q])/2:J===2&&(q=tt.longest-tt.lengths[Q]),G=0,N+=K,V=null;continue}if(b=$[U],!!b){z=b.width,D=b.height;var ht=b.xOffset+G-k,at=b.yOffset+N-W;if(V!==null){var ft=b.kerning[Y];ht+=ft!==void 0?ft:0}if(G+=b.xAdvance+X,V=b,Y=U,!(z===0||D===0||U===32)){if(Z=u.fontSize/u.fontData.size,j=0,it){lt.color=0,lt.tint.topLeft=O,lt.tint.topRight=L,lt.tint.bottomLeft=F,lt.tint.bottomRight=I,lt.index=et,lt.charCode=U,lt.x=ht,lt.y=at,lt.scale=Z,lt.rotation=j,lt.data=b.data;var vt=it(lt);ht=vt.x,at=vt.y,Z=vt.scale,j=vt.rotation,vt.color?(O=vt.color,L=vt.color,F=vt.color,I=vt.color):(O=vt.tint.topLeft,L=vt.tint.topRight,F=vt.tint.bottomLeft,I=vt.tint.bottomRight),O=s.getTintAppendFloatAlpha(O,v.alpha*u._alphaTL),L=s.getTintAppendFloatAlpha(L,v.alpha*u._alphaTR),F=s.getTintAppendFloatAlpha(F,v.alpha*u._alphaBL),I=s.getTintAppendFloatAlpha(I,v.alpha*u._alphaBR)}ht*=Z,at*=Z,ht-=u.displayOriginX,at-=u.displayOriginY,ht+=q,P.applyITRS(ht,at,j,Z,Z),S.multiply(P,T);var mt=b.u0,xt=b.v0,dt=b.u1,gt=b.v1,Lt=z,Pt=D,Bt=T.e,zt=T.f,kt=Pt*T.c+T.e,ze=Pt*T.d+T.f,qe=Lt*T.a+Pt*T.c+T.e,Bn=Lt*T.b+Pt*T.d+T.f,bn=Lt*T.a+T.e,Gn=Lt*T.b+T.f;st&&(Bt=Math.round(Bt),zt=Math.round(zt),kt=Math.round(kt),ze=Math.round(ze),qe=Math.round(qe),Bn=Math.round(Bn),bn=Math.round(bn),Gn=Math.round(Gn)),g.shouldFlush(6)&&(g.flush(),B=g.setGameObject(u)),g.batchQuad(u,Bt,zt,kt,ze,qe,Bn,bn,Gn,mt,xt,dt,gt,O,L,F,I,w,A,B)}}}E&&(g.flush(),o.popScissor()),o.pipelines.postBatch(u)}};h.exports=r},44616:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(82897),s=e(64937),a=e(89980),r=e(82173),o=e(68298),u=e(31476),v=e(74118),l=e(84557),c=new f({Extends:a,Mixins:[s.Alpha,s.BlendMode,s.Depth,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Texture,s.Tint,s.Transform,s.Visible,l],initialize:function(g,m,T,S,P,E,R){P===void 0&&(P=""),R===void 0&&(R=0),a.call(this,g,"BitmapText"),this.font=S;var A=this.scene.sys.cache.bitmapFont.get(S);A||console.warn("Invalid BitmapText key: "+S),this.fontData=A.data,this._text="",this._fontSize=E||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=R,this._bounds=r(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=A.fromAtlas,this.setTexture(A.texture,A.frame),this.setPosition(m,T),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(P)},setLeftAlign:function(){return this._align=c.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=c.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=c.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(p){return this._fontSize=p,this._dirty=!0,this},setLetterSpacing:function(p){return p===void 0&&(p=0),this._letterSpacing=p,this._dirty=!0,this},setLineSpacing:function(p){return p===void 0&&(p=0),this.lineSpacing=p,this},setText:function(p){return!p&&p!==0&&(p=""),Array.isArray(p)&&(p=p.join(`
`)),p!==this.text&&(this._text=p.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(p,g,m,T){return p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=0),T===void 0&&(T=.5),this.dropShadowX=p,this.dropShadowY=g,this.dropShadowColor=m,this.dropShadowAlpha=T,this},setCharacterTint:function(p,g,m,T,S,P,E){p===void 0&&(p=0),g===void 0&&(g=1),m===void 0&&(m=!1),T===void 0&&(T=-1),S===void 0&&(S=T,P=T,E=T);var R=this.text.length;g===-1&&(g=R),p<0&&(p=R+p),p=d(p,0,R-1);for(var A=d(p+g,p,R),w=this.charColors,O=p;O<A;O++){var L=w[O];if(T===-1)w[O]=null;else{var F=m?1:0;L?(L.tintEffect=F,L.tintTL=T,L.tintTR=S,L.tintBL=P,L.tintBR=E):w[O]={tintEffect:F,tintTL:T,tintTR:S,tintBL:P,tintBR:E}}}return this},setWordTint:function(p,g,m,T,S,P,E){g===void 0&&(g=1);for(var R=this.getTextBounds(),A=R.words,w=typeof p=="number",O=0,L=0;L<A.length;L++){var F=A[L];if((w&&L===p||!w&&F.word===p)&&(this.setCharacterTint(F.i,F.word.length,m,T,S,P,E),O++,O===g))return this}return this},getTextBounds:function(p){var g=this._bounds;return(this._dirty||p||this.scaleX!==g.scaleX||this.scaleY!==g.scaleY)&&(r(this,p,!0,g),this._dirty=!1),g},getCharacterAt:function(p,g,m){for(var T=this.getLocalPoint(p,g,null,m),S=this.getTextBounds(),P=S.characters,E=new v,R=0;R<P.length;R++){var A=P[R];if(E.setTo(A.x,A.t,A.r-A.x,A.b),E.contains(T.x,T.y))return A}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(p,g,m){if(g===void 0&&(g=this._fontSize),m===void 0&&(m=this._align),p!==this.font){var T=this.scene.sys.cache.bitmapFont.get(p);T&&(this.font=p,this.fontData=T.data,this._fontSize=g,this._align=m,this.fromAtlas=T.fromAtlas===!0,this.setTexture(T.texture,T.frame),r(this,!1,!0,this._bounds))}return this},setMaxWidth:function(p,g){return this._maxWidth=p,this._dirty=!0,g!==void 0&&(this.wordWrapCharCode=g),this},align:{set:function(p){this._align=p,this._dirty=!0},get:function(){return this._align}},text:{set:function(p){this.setText(p)},get:function(){return this._text}},fontSize:{set:function(p){this._fontSize=p,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(p){this._letterSpacing=p,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(p){this._lineSpacing=p,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(p){this._maxWidth=p,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var p=s.ToJSON(this),g={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return p.data=g,p},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});c.ALIGN_LEFT=0,c.ALIGN_CENTER=1,c.ALIGN_RIGHT=2,c.ParseFromAtlas=o,c.ParseXMLBitmapFont=u,h.exports=c},97545:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(49584),d=function(s,a,r,o){var u=a._text,v=u.length,l=s.currentContext;if(!(v===0||!f(s,l,a,r,o))){r.addToRenderList(a);var c=a.fromAtlas?a.frame:a.texture.frames.__BASE,p=a.fontData.chars,g=a.fontData.lineHeight,m=a._letterSpacing,T=a._lineSpacing,S=0,P=0,E=0,R=null,A=0,w=0,O=0,L=0,F=0,I=0,B=null,G=0,N=c.source.image,U=c.cutX,Y=c.cutY,X=a._fontSize/a.fontData.size,b=a._align,z=0,D=0,V=a.getTextBounds(!1);a.maxWidth>0&&(u=V.wrappedText,v=u.length);var k=a._bounds.lines;b===1?D=(k.longest-k.lengths[0])/2:b===2&&(D=k.longest-k.lengths[0]),l.translate(-a.displayOriginX,-a.displayOriginY);for(var W=r.roundPixels,H=0;H<v;H++){if(E=u.charCodeAt(H),E===10){z++,b===1?D=(k.longest-k.lengths[z])/2:b===2&&(D=k.longest-k.lengths[z]),S=0,P+=g+T,B=null;continue}if(R=p[E],!!R){if(A=U+R.x,w=Y+R.y,O=R.width,L=R.height,F=R.xOffset+S,I=R.yOffset+P,B!==null){var $=R.kerning[G];F+=$!==void 0?$:0}F*=X,I*=X,F+=D,S+=R.xAdvance+m+($!==void 0?$:0),B=R,G=E,!(O===0||L===0||E===32)&&(W&&(F=Math.round(F),I=Math.round(I)),l.save(),l.translate(F,I),l.scale(X,X),l.drawImage(N,A,w,O,L,0,0,O,L),l.restore())}}l.restore()}};h.exports=d},95499:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(44616),d=e(88933),s=e(99325),a=e(20494),r=e(10850);s.register("bitmapText",function(o,u){o===void 0&&(o={});var v=r(o,"font",""),l=a(o,"text",""),c=a(o,"size",!1),p=r(o,"align",0),g=new f(this.scene,0,0,v,l,c,p);return u!==void 0&&(o.add=u),d(this.scene,g,o),g})},21797:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(44616),d=e(61286);d.register("bitmapText",function(s,a,r,o,u,v){return this.displayList.add(new f(this.scene,s,a,r,o,u,v))})},84557:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),d=f,s=f;d=e(26372),s=e(97545),h.exports={renderWebGL:d,renderCanvas:s}},26372:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(8810),d=e(73329),s=e(75512),a=function(r,o,u,v){var l=o._text,c=l.length;if(c!==0){u.addToRenderList(o);var p=r.pipelines.set(o.pipeline,o),g=d(o,u,v).calc;r.pipelines.preBatch(o);var m=u.roundPixels,T=u.alpha,S=o.charColors,P=o.tintFill,E=s.getTintAppendFloatAlpha,R=E(o.tintTopLeft,T*o._alphaTL),A=E(o.tintTopRight,T*o._alphaTR),w=E(o.tintBottomLeft,T*o._alphaBL),O=E(o.tintBottomRight,T*o._alphaBR),L=o.frame.glTexture,F=p.setGameObject(o),I=o.getTextBounds(!1),B,G,N,U=I.characters,Y=o.dropShadowX,X=o.dropShadowY,b=Y!==0||X!==0;if(b){var z=o.dropShadowColor,D=o.dropShadowAlpha,V=E(z,T*D*o._alphaTL),k=E(z,T*D*o._alphaTR),W=E(z,T*D*o._alphaBL),H=E(z,T*D*o._alphaBR);for(B=0;B<U.length;B++)G=U[B],N=G.glyph,!(G.code===32||N.width===0||N.height===0)&&f(p,o,G,N,Y,X,g,m,V,k,W,H,1,L,F)}for(B=0;B<U.length;B++)if(G=U[B],N=G.glyph,!(G.code===32||N.width===0||N.height===0))if(p.shouldFlush(6)&&(p.flush(),F=p.setGameObject(o)),S[G.i]){var $=S[G.i],K=$.tintEffect,Z=E($.tintTL,T*o._alphaTL),j=E($.tintTR,T*o._alphaTR),J=E($.tintBL,T*o._alphaBL),Q=E($.tintBR,T*o._alphaBR);f(p,o,G,N,0,0,g,m,Z,j,J,Q,K,L,F)}else f(p,o,G,N,0,0,g,m,R,A,w,O,P,L,F);r.pipelines.postBatch(o)}};h.exports=a},52816:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(92246),d=e(41664),s=e(56694),a=e(64937),r=e(82047),o=e(89980),u=e(71207),v=new s({Extends:o,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.Mask,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Size,a.Texture,a.Transform,a.Visible,f],initialize:function(c,p,g,m,T){o.call(this,c,"Blitter"),this.setTexture(m,T),this.setPosition(p,g),this.initPipeline(),this.initPostPipeline(),this.children=new u,this.renderList=[],this.dirty=!1},create:function(l,c,p,g,m){g===void 0&&(g=!0),m===void 0&&(m=this.children.length),p===void 0?p=this.frame:p instanceof r||(p=this.texture.get(p));var T=new d(this,l,c,p,g);return this.children.addAt(T,m,!1),this.dirty=!0,T},createFromCallback:function(l,c,p,g){for(var m=this.createMultiple(c,p,g),T=0;T<m.length;T++){var S=m[T];l.call(this,S,T)}return m},createMultiple:function(l,c,p){c===void 0&&(c=this.frame.name),p===void 0&&(p=!0),Array.isArray(c)||(c=[c]);var g=[],m=this;return c.forEach(function(T){for(var S=0;S<l;S++)g.push(m.create(0,0,T,p))}),g},childCanRender:function(l){return l.visible&&l.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});h.exports=v},33177:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){var a=f.getRenderList();if(a.length!==0){var r=e.currentContext,o=d.alpha*f.alpha;if(o!==0){d.addToRenderList(f),r.globalCompositeOperation=e.blendModes[f.blendMode],r.imageSmoothingEnabled=!f.frame.source.scaleMode;var u=f.x-d.scrollX*f.scrollFactorX,v=f.y-d.scrollY*f.scrollFactorY;r.save(),s&&s.copyToContext(r);for(var l=d.roundPixels,c=0;c<a.length;c++){var p=a[c],g=p.flipX||p.flipY,m=p.frame,T=m.canvasData,S=m.x,P=m.y,E=1,R=1,A=p.alpha*o;A!==0&&(r.globalAlpha=A,g?(p.flipX&&(E=-1,S-=T.width),p.flipY&&(R=-1,P-=T.height),T.width>0&&T.height>0&&(r.save(),r.translate(p.x+u,p.y+v),r.scale(E,R),r.drawImage(m.source.image,T.x,T.y,T.width,T.height,S,P,T.width,T.height),r.restore())):(l&&(S=Math.round(S),P=Math.round(P)),T.width>0&&T.height>0&&r.drawImage(m.source.image,T.x,T.y,T.width,T.height,S+p.x+u,P+p.y+v,T.width,T.height)))}r.restore()}}};h.exports=y},68452:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(52816),d=e(88933),s=e(99325),a=e(20494);s.register("blitter",function(r,o){r===void 0&&(r={});var u=a(r,"key",null),v=a(r,"frame",null),l=new f(this.scene,0,0,u,v);return o!==void 0&&(r.add=o),d(this.scene,l,r),l})},38906:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(52816),d=e(61286);d.register("blitter",function(s,a,r,o){return this.displayList.add(new f(this.scene,s,a,r,o))})},92246:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),d=f,s=f;d=e(89165),s=e(33177),h.exports={renderWebGL:d,renderCanvas:s}},89165:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(69360),d=e(75512),s=new f,a=function(r,o,u,v){var l=o.getRenderList(),c=u.alpha*o.alpha;if(!(l.length===0||c===0)){u.addToRenderList(o);var p=r.pipelines.set(this.pipeline,o),g=u.scrollX*o.scrollFactorX,m=u.scrollY*o.scrollFactorY,T=s.copyFrom(u.matrix);v&&(T.multiplyWithOffset(v,-g,-m),g=0,m=0);var S=o.x-g,P=o.y-m,E=-1,R=!1;r.pipelines.preBatch(o);for(var A=0;A<l.length;A++){var w=l[A],O=w.frame,L=w.alpha*c;if(L!==0){var F=O.width,I=O.height,B=S+w.x+O.x,G=P+w.y+O.y;w.flipX&&(F*=-1,B+=O.width),w.flipY&&(I*=-1,G+=O.height);var N=T.setQuad(B,G,B+F,G+I),U=d.getTintAppendFloatAlpha(w.tint,L);if(O.sourceIndex!==E){var Y=p.setGameObject(o,O);E=O.sourceIndex}p.batchQuad(o,N[0],N[1],N[2],N[3],N[4],N[5],N[6],N[7],O.u0,O.v0,O.u1,O.v1,U,U,U,U,R,O.glTexture,Y)&&(E=-1)}}r.pipelines.postBatch(o)}};h.exports=a},41664:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(82047),s=new f({initialize:function(r,o,u,v,l){this.parent=r,this.x=o,this.y=u,this.frame=v,this.data={},this.tint=16777215,this._visible=l,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(a){return a===void 0?this.frame=this.parent.frame:a instanceof d&&a.texture===this.parent.texture?this.frame=a:this.frame=this.parent.texture.get(a),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(a,r,o){return this.x=a,this.y=r,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,o&&this.setFrame(o),this},setPosition:function(a,r){return this.x=a,this.y=r,this},setFlipX:function(a){return this.flipX=a,this},setFlipY:function(a){return this.flipY=a,this},setFlip:function(a,r){return this.flipX=a,this.flipY=r,this},setVisible:function(a){return this.visible=a,this},setAlpha:function(a){return this.alpha=a,this},setTint:function(a){return this.tint=a,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(a){this.parent.dirty|=this._visible!==a,this._visible=a}},alpha:{get:function(){return this._alpha},set:function(a){this.parent.dirty|=this._alpha>0!=a>0,this._alpha=a}}});h.exports=s},97123:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(82897),d=2,s={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(a,r,o,u){return a===void 0&&(a=1),r===void 0?this.alpha=a:(this._alphaTL=f(a,0,1),this._alphaTR=f(r,0,1),this._alphaBL=f(o,0,1),this._alphaBR=f(u,0,1)),this},alpha:{get:function(){return this._alpha},set:function(a){var r=f(a,0,1);this._alpha=r,this._alphaTL=r,this._alphaTR=r,this._alphaBL=r,this._alphaBR=r,r===0?this.renderFlags&=~d:this.renderFlags|=d}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(a){var r=f(a,0,1);this._alphaTL=r,r!==0&&(this.renderFlags|=d)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(a){var r=f(a,0,1);this._alphaTR=r,r!==0&&(this.renderFlags|=d)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(a){var r=f(a,0,1);this._alphaBL=r,r!==0&&(this.renderFlags|=d)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(a){var r=f(a,0,1);this._alphaBR=r,r!==0&&(this.renderFlags|=d)}}};h.exports=s},15720:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(82897),d=2,s={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(a){return a===void 0&&(a=1),this.alpha=a,this},alpha:{get:function(){return this._alpha},set:function(a){var r=f(a,0,1);this._alpha=r,r===0?this.renderFlags&=~d:this.renderFlags|=d}}};h.exports=s},69732:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(95723),d={_blendMode:f.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(s){typeof s=="string"&&(s=f[s]),s|=0,s>=-1&&(this._blendMode=s)}},setBlendMode:function(s){return this.blendMode=s,this}};h.exports=d},28284:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}},setSize:function(e,f){return this.width=e,this.height=f,this},setDisplaySize:function(e,f){return this.displayWidth=e,this.displayHeight=f,this}};h.exports=y},85293:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={texture:null,frame:null,isCropped:!1,setCrop:function(e,f,d,s){if(e===void 0)this.isCropped=!1;else if(this.frame){if(typeof e=="number")this.frame.setCropUVs(this._crop,e,f,d,s,this.flipX,this.flipY);else{var a=e;this.frame.setCropUVs(this._crop,a.x,a.y,a.width,a.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};h.exports=y},14975:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={_depth:0,depth:{get:function(){return this._depth},set:function(e){this.displayList&&this.displayList.queueDepthSort(),this._depth=e}},setDepth:function(e){return e===void 0&&(e=0),this.depth=e,this}};h.exports=y},88677:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(96910),s=e(72677),a=new f({initialize:function(o,u){this.gameObject=o,this.isPost=u,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(r){return r===void 0&&(r=0),this.padding=r,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(r){if(!this.isPost){var o=this.gameObject.scene.sys.renderer;o&&o.pipelines?(this.gameObject.pipeline=o.pipelines.FX_PIPELINE,r!==void 0&&(this.padding=r),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var r=this.list,o=0;o<r.length;o++)r[o].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(r){var o;if(this.isPost){var u=this.gameObject.getPostPipeline(String(r.type));for(Array.isArray(u)||(u=[u]),o=0;o<u.length;o++){var v=u[o];if(v.controller===r){this.gameObject.removePostPipeline(v),r.destroy();break}}}else{var l=this.list;for(o=0;o<l.length;o++)l[o]===r&&(s(l,o),r.destroy())}return this.gameObject},disable:function(r){return r===void 0&&(r=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,r&&this.clear(),this.gameObject},add:function(r,o){if(this.isPost){var u=String(r.type);this.gameObject.setPostPipeline(u,o);var v=this.gameObject.getPostPipeline(u);if(v)return Array.isArray(v)&&(v=v.pop()),v.controller=r,r}else return this.enabled||this.enable(),this.list.push(r),r},addGlow:function(r,o,u,v,l,c){return this.add(new d.Glow(this.gameObject,r,o,u,v),{quality:l,distance:c})},addShadow:function(r,o,u,v,l,c,p){return this.add(new d.Shadow(this.gameObject,r,o,u,v,l,c,p))},addPixelate:function(r){return this.add(new d.Pixelate(this.gameObject,r))},addVignette:function(r,o,u,v){return this.add(new d.Vignette(this.gameObject,r,o,u,v))},addShine:function(r,o,u,v){return this.add(new d.Shine(this.gameObject,r,o,u,v))},addBlur:function(r,o,u,v,l,c){return this.add(new d.Blur(this.gameObject,r,o,u,v,l,c))},addGradient:function(r,o,u,v,l,c,p,g){return this.add(new d.Gradient(this.gameObject,r,o,u,v,l,c,p,g))},addBloom:function(r,o,u,v,l,c){return this.add(new d.Bloom(this.gameObject,r,o,u,v,l,c))},addColorMatrix:function(){return this.add(new d.ColorMatrix(this.gameObject))},addCircle:function(r,o,u,v,l){return this.add(new d.Circle(this.gameObject,r,o,u,v,l))},addBarrel:function(r){return this.add(new d.Barrel(this.gameObject,r))},addDisplacement:function(r,o,u){return this.add(new d.Displacement(this.gameObject,r,o,u))},addWipe:function(r,o,u){return this.add(new d.Wipe(this.gameObject,r,o,u))},addReveal:function(r,o,u){return this.add(new d.Wipe(this.gameObject,r,o,u,!0))},addBokeh:function(r,o,u){return this.add(new d.Bokeh(this.gameObject,r,o,u))},addTiltShift:function(r,o,u,v,l,c){return this.add(new d.Bokeh(this.gameObject,r,o,u,!0,v,l,c))},destroy:function(){this.clear(),this.gameObject=null}});h.exports=a},92972:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(e){return this.flipX=e,this},setFlipY:function(e){return this.flipY=e,this},setFlip:function(e,f){return this.flipX=e,this.flipY=f,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};h.exports=y},80693:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(74118),d=e(2386),s=e(93736),a={prepareBoundsOutput:function(r,o){if(o===void 0&&(o=!1),this.rotation!==0&&d(r,this.x,this.y,this.rotation),o&&this.parentContainer){var u=this.parentContainer.getBoundsTransformMatrix();u.transformPoint(r.x,r.y,r)}return r},getCenter:function(r,o){return r===void 0&&(r=new s),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,o)},getTopLeft:function(r,o){return r||(r=new s),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,o)},getTopCenter:function(r,o){return r||(r=new s),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,o)},getTopRight:function(r,o){return r||(r=new s),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,o)},getLeftCenter:function(r,o){return r||(r=new s),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,o)},getRightCenter:function(r,o){return r||(r=new s),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,o)},getBottomLeft:function(r,o){return r||(r=new s),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,o)},getBottomCenter:function(r,o){return r||(r=new s),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,o)},getBottomRight:function(r,o){return r||(r=new s),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,o)},getBounds:function(r){r===void 0&&(r=new f);var o,u,v,l,c,p,g,m;if(this.parentContainer){var T=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(r),T.transformPoint(r.x,r.y,r),o=r.x,u=r.y,this.getTopRight(r),T.transformPoint(r.x,r.y,r),v=r.x,l=r.y,this.getBottomLeft(r),T.transformPoint(r.x,r.y,r),c=r.x,p=r.y,this.getBottomRight(r),T.transformPoint(r.x,r.y,r),g=r.x,m=r.y}else this.getTopLeft(r),o=r.x,u=r.y,this.getTopRight(r),v=r.x,l=r.y,this.getBottomLeft(r),c=r.x,p=r.y,this.getBottomRight(r),g=r.x,m=r.y;return r.x=Math.min(o,v,c,g),r.y=Math.min(u,l,p,m),r.width=Math.max(o,v,c,g)-r.x,r.height=Math.max(u,l,p,m)-r.y,r}};h.exports=a},39171:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(76756),d=e(63037),s={mask:null,setMask:function(a){return this.mask=a,this},clearMask:function(a){return a===void 0&&(a=!1),a&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(a,r,o,u,v){return a===void 0&&(this.texture||this.shader||this.geom)&&(a=this),new f(this.scene,a,r,o,u,v)},createGeometryMask:function(a){return a===void 0&&(this.type==="Graphics"||this.geom)&&(a=this),new d(this.scene,a)}};h.exports=s},28072:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(e){this._displayOriginX=e,this.originX=e/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(e){this._displayOriginY=e,this.originY=e/this.height}},setOrigin:function(e,f){return e===void 0&&(e=.5),f===void 0&&(f=e),this.originX=e,this.originY=f,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(e,f){return e===void 0&&(e=0),f===void 0&&(f=e),this.displayOriginX=e,this.displayOriginY=f,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};h.exports=y},54211:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(75606),d=e(63130),s=e(10850),a=e(55303),r=e(93736),o={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:a.PLAYING_FORWARD,setPath:function(u,v){v===void 0&&(v=this.pathConfig);var l=this.pathTween;return l&&l.isPlaying()&&l.stop(),this.path=u,v&&this.startFollow(v),this},setRotateToPath:function(u,v){return v===void 0&&(v=0),this.rotateToPath=u,this.pathRotationOffset=v,this},isFollowing:function(){var u=this.pathTween;return u&&u.isPlaying()},startFollow:function(u,v){u===void 0&&(u={}),v===void 0&&(v=0);var l=this.pathTween;l&&l.isPlaying()&&l.stop(),typeof u=="number"&&(u={duration:u}),u.from=s(u,"from",0),u.to=s(u,"to",1);var c=d(u,"positionOnPath",!1);this.rotateToPath=d(u,"rotateToPath",!1),this.pathRotationOffset=s(u,"rotationOffset",0);var p=s(u,"startAt",v);if(p&&(u.onStart=function(m){var T=m.data[0];T.progress=p,T.elapsed=T.duration*p;var S=T.ease(T.progress);T.current=T.start+(T.end-T.start)*S,T.setTargetValue()}),this.pathOffset||(this.pathOffset=new r(this.x,this.y)),this.pathVector||(this.pathVector=new r),this.pathDelta||(this.pathDelta=new r),this.pathDelta.reset(),u.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(u),this.path.getStartPoint(this.pathOffset),c&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=a.PLAYING_FORWARD,this.rotateToPath){var g=this.path.getPoint(.1);this.rotation=Math.atan2(g.y-this.y,g.x-this.x)+f(this.pathRotationOffset)}return this.pathConfig=u,this},pauseFollow:function(){var u=this.pathTween;return u&&u.isPlaying()&&u.pause(),this},resumeFollow:function(){var u=this.pathTween;return u&&u.isPaused()&&u.resume(),this},stopFollow:function(){var u=this.pathTween;return u&&u.isPlaying()&&u.stop(),this},pathUpdate:function(){var u=this.pathTween;if(u&&u.data){var v=u.data[0],l=this.pathDelta,c=this.pathVector;if(l.copy(c).negate(),v.state===a.COMPLETE){this.path.getPoint(v.end,c),l.add(c),c.add(this.pathOffset),this.setPosition(c.x,c.y);return}else if(v.state!==a.PLAYING_FORWARD&&v.state!==a.PLAYING_BACKWARD)return;this.path.getPoint(u.getValue(),c),l.add(c),c.add(this.pathOffset);var p=this.x,g=this.y;this.setPosition(c.x,c.y);var m=this.x-p,T=this.y-g;if(m===0&&T===0)return;if(v.state!==this._prevDirection){this._prevDirection=v.state;return}this.rotateToPath&&(this.rotation=Math.atan2(T,m)+f(this.pathRotationOffset))}}};h.exports=o},58210:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(28699),d={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(s){this.pipelineData={};var a=this.scene.sys.renderer;if(!a)return!1;var r=a.pipelines;if(r){s===void 0&&(s=r.default);var o=r.get(s);if(o)return this.defaultPipeline=o,this.pipeline=o,!0}return!1},setPipeline:function(s,a,r){var o=this.scene.sys.renderer;if(!o)return this;var u=o.pipelines;if(u){var v=u.get(s);v&&(this.pipeline=v),a&&(this.pipelineData=r?f(a):a)}return this},setPipelineData:function(s,a){var r=this.pipelineData;return a===void 0?delete r[s]:r[s]=a,this},resetPipeline:function(s){return s===void 0&&(s=!1),this.pipeline=this.defaultPipeline,s&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline.name}};h.exports=d},44086:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(28699),d=e(88677),s=e(72677),a={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(r){this.postPipelines=[],this.postPipelineData={},this.postFX=new d(this,!0),r&&(this.preFX=new d(this,!1))},setPostPipeline:function(r,o,u){var v=this.scene.sys.renderer;if(!v)return this;var l=v.pipelines;if(l){Array.isArray(r)||(r=[r]);for(var c=0;c<r.length;c++){var p=l.getPostPipeline(r[c],this,o);p&&this.postPipelines.push(p)}o&&(this.postPipelineData=u?f(o):o)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(r,o){var u=this.postPipelineData;return o===void 0?delete u[r]:u[r]=o,this},getPostPipeline:function(r){for(var o=typeof r=="string",u=this.postPipelines,v=[],l=0;l<u.length;l++){var c=u[l];(o&&c.name===r||!o&&c instanceof r)&&v.push(c)}return v.length===1?v[0]:v},resetPostPipeline:function(r){r===void 0&&(r=!1);for(var o=this.postPipelines,u=0;u<o.length;u++)o[u].destroy();this.postPipelines=[],this.hasPostPipeline=!1,r&&(this.postPipelineData={})},removePostPipeline:function(r){for(var o=typeof r=="string",u=this.postPipelines,v=u.length-1;v>=0;v--){var l=u[v];(o&&l.name===r||!o&&l===r)&&(l.destroy(),s(u,v))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};h.exports=a},45900:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(e,f){return f===void 0&&(f=e),this.scrollFactorX=e,this.scrollFactorY=f,this}};h.exports=y},31654:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(e){this.scaleX=e/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(e){this.scaleY=e/this.frame.realHeight}},setSizeToFrame:function(e){e||(e=this.frame),this.width=e.realWidth,this.height=e.realHeight;var f=this.input;return f&&!f.customHitArea&&(f.hitArea.width=this.width,f.hitArea.height=this.height),this},setSize:function(e,f){return this.width=e,this.height=f,this},setDisplaySize:function(e,f){return this.displayWidth=e,this.displayHeight=f,this}};h.exports=y},82081:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(82047),d=8,s={texture:null,frame:null,isCropped:!1,setTexture:function(a,r,o,u){return this.texture=this.scene.sys.textures.get(a),this.setFrame(r,o,u)},setFrame:function(a,r,o){return r===void 0&&(r=!0),o===void 0&&(o=!0),a instanceof f?(this.texture=this.scene.sys.textures.get(a.texture.key),this.frame=a):this.frame=this.texture.get(a),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~d:this.renderFlags|=d,this._sizeComponent&&r&&this.setSizeToFrame(),this._originComponent&&o&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};h.exports=s},21850:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(82047),d=8,s={texture:null,frame:null,isCropped:!1,setCrop:function(a,r,o,u){if(a===void 0)this.isCropped=!1;else if(this.frame){if(typeof a=="number")this.frame.setCropUVs(this._crop,a,r,o,u,this.flipX,this.flipY);else{var v=a;this.frame.setCropUVs(this._crop,v.x,v.y,v.width,v.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(a,r){return this.texture=this.scene.sys.textures.get(a),this.setFrame(r)},setFrame:function(a,r,o){return r===void 0&&(r=!0),o===void 0&&(o=!0),a instanceof f?(this.texture=this.scene.sys.textures.get(a.texture.key),this.frame=a):this.frame=this.texture.get(a),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~d:this.renderFlags|=d,this._sizeComponent&&r&&this.setSizeToFrame(),this._originComponent&&o&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};h.exports=s},58072:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(e,f,d,s){return e===void 0&&(e=16777215),f===void 0&&(f=e,d=e,s=e),this.tintTopLeft=e,this.tintTopRight=f,this.tintBottomLeft=d,this.tintBottomRight=s,this.tintFill=!1,this},setTintFill:function(e,f,d,s){return this.setTint(e,f,d,s),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(e){this.setTint(e,e,e,e)}},isTinted:{get:function(){var e=16777215;return this.tintFill||this.tintTopLeft!==e||this.tintTopRight!==e||this.tintBottomLeft!==e||this.tintBottomRight!==e}}};h.exports=y},48129:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){var f={name:e.name,type:e.type,x:e.x,y:e.y,depth:e.depth,scale:{x:e.scaleX,y:e.scaleY},origin:{x:e.originX,y:e.originY},flipX:e.flipX,flipY:e.flipY,rotation:e.rotation,alpha:e.alpha,visible:e.visible,blendMode:e.blendMode,textureKey:"",frameKey:"",data:{}};return e.texture&&(f.textureKey=e.texture.key,f.frameKey=e.frame.name),f};h.exports=y},56584:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(83392),d=e(69360),s=e(64462),a=e(35786),r=e(62138),o=e(93736),u=4,v={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(l){this._scaleX=l,this._scaleY=l,l===0?this.renderFlags&=~u:this.renderFlags|=u}},scaleX:{get:function(){return this._scaleX},set:function(l){this._scaleX=l,l===0?this.renderFlags&=~u:this._scaleY!==0&&(this.renderFlags|=u)}},scaleY:{get:function(){return this._scaleY},set:function(l){this._scaleY=l,l===0?this.renderFlags&=~u:this._scaleX!==0&&(this.renderFlags|=u)}},angle:{get:function(){return r(this._rotation*f.RAD_TO_DEG)},set:function(l){this.rotation=r(l)*f.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(l){this._rotation=a(l)}},setPosition:function(l,c,p,g){return l===void 0&&(l=0),c===void 0&&(c=l),p===void 0&&(p=0),g===void 0&&(g=0),this.x=l,this.y=c,this.z=p,this.w=g,this},copyPosition:function(l){return l.x!==void 0&&(this.x=l.x),l.y!==void 0&&(this.y=l.y),l.z!==void 0&&(this.z=l.z),l.w!==void 0&&(this.w=l.w),this},setRandomPosition:function(l,c,p,g){return l===void 0&&(l=0),c===void 0&&(c=0),p===void 0&&(p=this.scene.sys.scale.width),g===void 0&&(g=this.scene.sys.scale.height),this.x=l+Math.random()*p,this.y=c+Math.random()*g,this},setRotation:function(l){return l===void 0&&(l=0),this.rotation=l,this},setAngle:function(l){return l===void 0&&(l=0),this.angle=l,this},setScale:function(l,c){return l===void 0&&(l=1),c===void 0&&(c=l),this.scaleX=l,this.scaleY=c,this},setX:function(l){return l===void 0&&(l=0),this.x=l,this},setY:function(l){return l===void 0&&(l=0),this.y=l,this},setZ:function(l){return l===void 0&&(l=0),this.z=l,this},setW:function(l){return l===void 0&&(l=0),this.w=l,this},getLocalTransformMatrix:function(l){return l===void 0&&(l=new d),l.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(l,c){l===void 0&&(l=new d);var p=this.parentContainer;if(!p)return this.getLocalTransformMatrix(l);for(c||(c=new d),l.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);p;)c.applyITRS(p.x,p.y,p._rotation,p._scaleX,p._scaleY),c.multiply(l,l),p=p.parentContainer;return l},getLocalPoint:function(l,c,p,g){p||(p=new o),g||(g=this.scene.sys.cameras.main);var m=g.scrollX,T=g.scrollY,S=l+m*this.scrollFactorX-m,P=c+T*this.scrollFactorY-T;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(S,P,p):s(S,P,this.x,this.y,this.rotation,this.scaleX,this.scaleY,p),this._originComponent&&(p.x+=this._displayOriginX,p.y+=this._displayOriginY),p},getParentRotation:function(){for(var l=0,c=this.parentContainer;c;)l+=c.rotation,c=c.parentContainer;return l}};h.exports=v},69360:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(83392),s=e(93736),a=new f({initialize:function(o,u,v,l,c,p){o===void 0&&(o=1),u===void 0&&(u=0),v===void 0&&(v=0),l===void 0&&(l=1),c===void 0&&(c=0),p===void 0&&(p=0),this.matrix=new Float32Array([o,u,v,l,c,p,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(r){this.matrix[0]=r}},b:{get:function(){return this.matrix[1]},set:function(r){this.matrix[1]=r}},c:{get:function(){return this.matrix[2]},set:function(r){this.matrix[2]=r}},d:{get:function(){return this.matrix[3]},set:function(r){this.matrix[3]=r}},e:{get:function(){return this.matrix[4]},set:function(r){this.matrix[4]=r}},f:{get:function(){return this.matrix[5]},set:function(r){this.matrix[5]=r}},tx:{get:function(){return this.matrix[4]},set:function(r){this.matrix[4]=r}},ty:{get:function(){return this.matrix[5]},set:function(r){this.matrix[5]=r}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var r=this.matrix,o=r[0],u=r[1],v=r[2],l=r[3];return o||u?u>0?Math.acos(o/this.scaleX):-Math.acos(o/this.scaleX):v||l?d.TAU-(l>0?Math.acos(-v/this.scaleY):-Math.acos(v/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var r=this.matrix;return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,this},translate:function(r,o){var u=this.matrix;return u[4]=u[0]*r+u[2]*o+u[4],u[5]=u[1]*r+u[3]*o+u[5],this},scale:function(r,o){var u=this.matrix;return u[0]*=r,u[1]*=r,u[2]*=o,u[3]*=o,this},rotate:function(r){var o=Math.sin(r),u=Math.cos(r),v=this.matrix,l=v[0],c=v[1],p=v[2],g=v[3];return v[0]=l*u+p*o,v[1]=c*u+g*o,v[2]=l*-o+p*u,v[3]=c*-o+g*u,this},multiply:function(r,o){var u=this.matrix,v=r.matrix,l=u[0],c=u[1],p=u[2],g=u[3],m=u[4],T=u[5],S=v[0],P=v[1],E=v[2],R=v[3],A=v[4],w=v[5],O=o===void 0?u:o.matrix;return O[0]=S*l+P*p,O[1]=S*c+P*g,O[2]=E*l+R*p,O[3]=E*c+R*g,O[4]=A*l+w*p+m,O[5]=A*c+w*g+T,O},multiplyWithOffset:function(r,o,u){var v=this.matrix,l=r.matrix,c=v[0],p=v[1],g=v[2],m=v[3],T=v[4],S=v[5],P=o*c+u*g+T,E=o*p+u*m+S,R=l[0],A=l[1],w=l[2],O=l[3],L=l[4],F=l[5];return v[0]=R*c+A*g,v[1]=R*p+A*m,v[2]=w*c+O*g,v[3]=w*p+O*m,v[4]=L*c+F*g+P,v[5]=L*p+F*m+E,this},transform:function(r,o,u,v,l,c){var p=this.matrix,g=p[0],m=p[1],T=p[2],S=p[3],P=p[4],E=p[5];return p[0]=r*g+o*T,p[1]=r*m+o*S,p[2]=u*g+v*T,p[3]=u*m+v*S,p[4]=l*g+c*T+P,p[5]=l*m+c*S+E,this},transformPoint:function(r,o,u){u===void 0&&(u={x:0,y:0});var v=this.matrix,l=v[0],c=v[1],p=v[2],g=v[3],m=v[4],T=v[5];return u.x=r*l+o*p+m,u.y=r*c+o*g+T,u},invert:function(){var r=this.matrix,o=r[0],u=r[1],v=r[2],l=r[3],c=r[4],p=r[5],g=o*l-u*v;return r[0]=l/g,r[1]=-u/g,r[2]=-v/g,r[3]=o/g,r[4]=(v*p-l*c)/g,r[5]=-(o*p-u*c)/g,this},copyFrom:function(r){var o=this.matrix;return o[0]=r.a,o[1]=r.b,o[2]=r.c,o[3]=r.d,o[4]=r.e,o[5]=r.f,this},copyFromArray:function(r){var o=this.matrix;return o[0]=r[0],o[1]=r[1],o[2]=r[2],o[3]=r[3],o[4]=r[4],o[5]=r[5],this},copyToContext:function(r){var o=this.matrix;return r.transform(o[0],o[1],o[2],o[3],o[4],o[5]),r},setToContext:function(r){return r.setTransform(this),r},copyToArray:function(r){var o=this.matrix;return r===void 0?r=[o[0],o[1],o[2],o[3],o[4],o[5]]:(r[0]=o[0],r[1]=o[1],r[2]=o[2],r[3]=o[3],r[4]=o[4],r[5]=o[5]),r},setTransform:function(r,o,u,v,l,c){var p=this.matrix;return p[0]=r,p[1]=o,p[2]=u,p[3]=v,p[4]=l,p[5]=c,this},decomposeMatrix:function(){var r=this.decomposedMatrix,o=this.matrix,u=o[0],v=o[1],l=o[2],c=o[3],p=u*c-v*l;if(r.translateX=o[4],r.translateY=o[5],u||v){var g=Math.sqrt(u*u+v*v);r.rotation=v>0?Math.acos(u/g):-Math.acos(u/g),r.scaleX=g,r.scaleY=p/g}else if(l||c){var m=Math.sqrt(l*l+c*c);r.rotation=Math.PI*.5-(c>0?Math.acos(-l/m):-Math.acos(l/m)),r.scaleX=p/m,r.scaleY=m}else r.rotation=0,r.scaleX=0,r.scaleY=0;return r},applyITRS:function(r,o,u,v,l){var c=this.matrix,p=Math.sin(u),g=Math.cos(u);return c[4]=r,c[5]=o,c[0]=g*v,c[1]=p*v,c[2]=-p*l,c[3]=g*l,this},applyInverse:function(r,o,u){u===void 0&&(u=new s);var v=this.matrix,l=v[0],c=v[1],p=v[2],g=v[3],m=v[4],T=v[5],S=1/(l*g+p*-c);return u.x=g*S*r+-p*S*o+(T*p-m*g)*S,u.y=l*S*o+-c*S*r+(-T*l+m*c)*S,u},setQuad:function(r,o,u,v,l,c){l===void 0&&(l=!1),c===void 0&&(c=this.quad);var p=this.matrix,g=p[0],m=p[1],T=p[2],S=p[3],P=p[4],E=p[5];return l?(c[0]=Math.round(r*g+o*T+P),c[1]=Math.round(r*m+o*S+E),c[2]=Math.round(r*g+v*T+P),c[3]=Math.round(r*m+v*S+E),c[4]=Math.round(u*g+v*T+P),c[5]=Math.round(u*m+v*S+E),c[6]=Math.round(u*g+o*T+P),c[7]=Math.round(u*m+o*S+E)):(c[0]=r*g+o*T+P,c[1]=r*m+o*S+E,c[2]=r*g+v*T+P,c[3]=r*m+v*S+E,c[4]=u*g+v*T+P,c[5]=u*m+v*S+E,c[6]=u*g+o*T+P,c[7]=u*m+o*S+E),c},getX:function(r,o){return r*this.a+o*this.c+this.e},getY:function(r,o){return r*this.b+o*this.d+this.f},getXRound:function(r,o,u){var v=this.getX(r,o);return u&&(v=Math.round(v)),v},getYRound:function(r,o,u){var v=this.getY(r,o);return u&&(v=Math.round(v)),v},getCSSMatrix:function(){var r=this.matrix;return"matrix("+r[0]+","+r[1]+","+r[2]+","+r[3]+","+r[4]+","+r[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});h.exports=a},59694:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=1,e={_visible:!0,visible:{get:function(){return this._visible},set:function(f){f?(this._visible=!0,this.renderFlags|=y):(this._visible=!1,this.renderFlags&=~y)}},setVisible:function(f){return this.visible=f,this}};h.exports=e},64937:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Alpha:e(97123),AlphaSingle:e(15720),BlendMode:e(69732),ComputedSize:e(28284),Crop:e(85293),Depth:e(14975),Flip:e(92972),FX:e(88677),GetBounds:e(80693),Mask:e(39171),Origin:e(28072),PathFollower:e(54211),Pipeline:e(58210),PostPipeline:e(44086),ScrollFactor:e(45900),Size:e(31654),Texture:e(82081),TextureCrop:e(21850),Tint:e(58072),ToJSON:e(48129),Transform:e(56584),TransformMatrix:e(69360),Visible:e(59694)}},70339:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(59959),d=e(95723),s=e(56694),a=e(64937),r=e(56631),o=e(89980),u=e(74118),v=e(98524),l=e(58795),c=e(93736),p=new s({Extends:o,Mixins:[a.AlphaSingle,a.BlendMode,a.ComputedSize,a.Depth,a.Mask,a.PostPipeline,a.Transform,a.Visible,v],initialize:function(m,T,S,P){o.call(this,m,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new a.TransformMatrix,this.tempTransformMatrix=new a.TransformMatrix,this._sortKey="",this._sysEvents=m.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(T,S),this.setBlendMode(d.SKIP_CHECK),P&&this.add(P)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(g){return g===void 0&&(g=!0),this.exclusive=g,this},getBounds:function(g){if(g===void 0&&(g=new u),g.setTo(this.x,this.y,0,0),this.parentContainer){var m=this.parentContainer.getBoundsTransformMatrix(),T=m.transformPoint(this.x,this.y);g.setTo(T.x,T.y,0,0)}if(this.list.length>0){var S=this.list,P=new u,E=!1;g.setEmpty();for(var R=0;R<S.length;R++){var A=S[R];A.getBounds&&(A.getBounds(P),E?l(P,g,g):(g.setTo(P.x,P.y,P.width,P.height),E=!0))}}return g},addHandler:function(g){g.once(r.DESTROY,this.remove,this),this.exclusive&&(g.parentContainer&&g.parentContainer.remove(g),g.parentContainer=this,g.removeFromDisplayList(),g.addedToScene())},removeHandler:function(g){g.off(r.DESTROY,this.remove,this),this.exclusive&&(g.parentContainer=null,g.removedFromScene(),g.addToDisplayList())},pointToContainer:function(g,m){m===void 0&&(m=new c),this.parentContainer?this.parentContainer.pointToContainer(g,m):(m.x=g.x,m.y=g.y);var T=this.tempTransformMatrix;return T.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),T.invert(),T.transformPoint(g.x,g.y,m),m},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(g){return f.Add(this.list,g,this.maxSize,this.addHandler,this),this},addAt:function(g,m){return f.AddAt(this.list,g,m,this.maxSize,this.addHandler,this),this},getAt:function(g){return this.list[g]},getIndex:function(g){return this.list.indexOf(g)},sort:function(g,m){return g?(m===void 0&&(m=function(T,S){return T[g]-S[g]}),f.StableSort(this.list,m),this):this},getByName:function(g){return f.GetFirst(this.list,"name",g)},getRandom:function(g,m){return f.GetRandom(this.list,g,m)},getFirst:function(g,m,T,S){return f.GetFirst(this.list,g,m,T,S)},getAll:function(g,m,T,S){return f.GetAll(this.list,g,m,T,S)},count:function(g,m,T,S){return f.CountAllMatching(this.list,g,m,T,S)},swap:function(g,m){return f.Swap(this.list,g,m),this},moveTo:function(g,m){return f.MoveTo(this.list,g,m),this},moveAbove:function(g,m){return f.MoveAbove(this.list,g,m),this},moveBelow:function(g,m){return f.MoveBelow(this.list,g,m),this},remove:function(g,m){var T=f.Remove(this.list,g,this.removeHandler,this);if(m&&T){Array.isArray(T)||(T=[T]);for(var S=0;S<T.length;S++)T[S].destroy()}return this},removeAt:function(g,m){var T=f.RemoveAt(this.list,g,this.removeHandler,this);return m&&T&&T.destroy(),this},removeBetween:function(g,m,T){var S=f.RemoveBetween(this.list,g,m,this.removeHandler,this);if(T)for(var P=0;P<S.length;P++)S[P].destroy();return this},removeAll:function(g){var m=this.list;if(g){for(var T=0;T<m.length;T++)m[T]&&m[T].scene&&(m[T].off(r.DESTROY,this.remove,this),m[T].destroy());this.list=[]}else f.RemoveBetween(m,0,m.length,this.removeHandler,this);return this},bringToTop:function(g){return f.BringToTop(this.list,g),this},sendToBack:function(g){return f.SendToBack(this.list,g),this},moveUp:function(g){return f.MoveUp(this.list,g),this},moveDown:function(g){return f.MoveDown(this.list,g),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return f.Shuffle(this.list),this},replace:function(g,m,T){var S=f.Replace(this.list,g,m);return S&&(this.addHandler(m),this.removeHandler(g),T&&g.destroy()),this},exists:function(g){return this.list.indexOf(g)>-1},setAll:function(g,m,T,S){return f.SetAll(this.list,g,m,T,S),this},each:function(g,m){var T=[null],S,P=this.list.slice(),E=P.length;for(S=2;S<arguments.length;S++)T.push(arguments[S]);for(S=0;S<E;S++)T[0]=P[S],g.apply(m,T);return this},iterate:function(g,m){var T=[null],S;for(S=2;S<arguments.length;S++)T.push(arguments[S]);for(S=0;S<this.list.length;S++)T[0]=this.list[S],g.apply(m,T);return this},setScrollFactor:function(g,m,T){return m===void 0&&(m=g),T===void 0&&(T=!1),this.scrollFactorX=g,this.scrollFactorY=m,T&&(f.SetAll(this.list,"scrollFactorX",g),f.SetAll(this.list,"scrollFactorY",m)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]}});h.exports=p},13916:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){d.addToRenderList(f);var a=f.list;if(a.length!==0){var r=f.localTransform;s?(r.loadIdentity(),r.multiply(s),r.translate(f.x,f.y),r.rotate(f.rotation),r.scale(f.scaleX,f.scaleY)):r.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY);var o=f.blendMode!==-1;o||e.setBlendMode(0);var u=f._alpha,v=f.scrollFactorX,l=f.scrollFactorY;f.mask&&f.mask.preRenderCanvas(e,null,d);for(var c=0;c<a.length;c++){var p=a[c];if(p.willRender(d)){var g=p.alpha,m=p.scrollFactorX,T=p.scrollFactorY;!o&&p.blendMode!==e.currentBlendMode&&e.setBlendMode(p.blendMode),p.setScrollFactor(m*v,T*l),p.setAlpha(g*u),p.renderCanvas(e,p,d,r),p.setAlpha(g),p.setScrollFactor(m,T)}}f.mask&&f.mask.postRenderCanvas(e)}};h.exports=y},44516:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(88933),d=e(70339),s=e(99325),a=e(20494);s.register("container",function(r,o){r===void 0&&(r={});var u=a(r,"x",0),v=a(r,"y",0),l=a(r,"children",null),c=new d(this.scene,u,v,l);return o!==void 0&&(r.add=o),f(this.scene,c,r),c})},23400:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(70339),d=e(61286);d.register("container",function(s,a,r){return this.displayList.add(new f(this.scene,s,a,r))})},98524:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),d=f,s=f;d=e(36934),s=e(13916),h.exports={renderWebGL:d,renderCanvas:s}},36934:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){d.addToRenderList(f);var a=f.list,r=a.length;if(r!==0){var o=f.localTransform;s?(o.loadIdentity(),o.multiply(s),o.translate(f.x,f.y),o.rotate(f.rotation),o.scale(f.scaleX,f.scaleY)):o.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY),e.pipelines.preBatch(f);var u=f.blendMode!==-1;u||e.setBlendMode(0);for(var v=f.alpha,l=f.scrollFactorX,c=f.scrollFactorY,p=0;p<r;p++){var g=a[p];if(g.willRender(d)){var m,T,S,P;if(g.alphaTopLeft!==void 0)m=g.alphaTopLeft,T=g.alphaTopRight,S=g.alphaBottomLeft,P=g.alphaBottomRight;else{var E=g.alpha;m=E,T=E,S=E,P=E}var R=g.scrollFactorX,A=g.scrollFactorY;!u&&g.blendMode!==e.currentBlendMode&&e.setBlendMode(g.blendMode);var w=g.mask;w&&w.preRenderWebGL(e,g,d);var O=g.type;O!==e.currentType&&(e.newType=!0,e.currentType=O),e.nextTypeMatch=p<r-1?a[p+1].type===e.currentType:!1,g.setScrollFactor(R*l,A*c),g.setAlpha(m*v,T*v,S*v,P*v),g.renderWebGL(e,g,d,o,f),g.setAlpha(m,T,S,P),g.setScrollFactor(R,A),w&&w.postRenderWebGL(e,d),e.newType=!1}}e.pipelines.postBatch(f)}};h.exports=y},2452:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},38943:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(64937),s=e(11603),a=e(89980),r=e(42911),o=e(55638),u=e(7599),v=e(51729),l=new f({Extends:a,Mixins:[d.AlphaSingle,d.BlendMode,d.Depth,d.Origin,d.ScrollFactor,d.Transform,d.Visible,s],initialize:function(p,g,m,T,S,P){a.call(this,p,"DOMElement"),this.parent=p.sys.game.domContainer,this.cache=p.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new v,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(g,m),typeof T=="string"?T[0]==="#"?this.setElement(T.substr(1),S,P):this.createElement(T,S,P):T&&this.setElement(T,S,P),p.sys.events.on(u.SLEEP,this.handleSceneEvent,this),p.sys.events.on(u.WAKE,this.handleSceneEvent,this),p.sys.events.on(u.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(c){var p=this.node,g=p.style;p&&(g.display=c.settings.visible?"block":"none")},setSkew:function(c,p){return c===void 0&&(c=0),p===void 0&&(p=c),this.skewX=c,this.skewY=p,this},setPerspective:function(c){return this.parent.style.perspective=c+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(c){this.parent.style.perspective=c+"px"}},addListener:function(c){if(this.node){c=c.split(" ");for(var p=0;p<c.length;p++)this.node.addEventListener(c[p],this.handler,!1)}return this},removeListener:function(c){if(this.node){c=c.split(" ");for(var p=0;p<c.length;p++)this.node.removeEventListener(c[p],this.handler)}return this},dispatchNativeEvent:function(c){this.emit(c.type,c)},createElement:function(c,p,g){return this.setElement(document.createElement(c),p,g)},setElement:function(c,p,g){this.removeElement();var m;if(typeof c=="string"?(c[0]==="#"&&(c=c.substr(1)),m=document.getElementById(c)):typeof c=="object"&&c.nodeType===1&&(m=c),!m)return this;if(this.node=m,p&&r(p))for(var T in p)m.style[T]=p[T];else typeof p=="string"&&(m.style=p);return m.style.zIndex="0",m.style.display="inline",m.style.position="absolute",m.phaser=this,this.parent&&this.parent.appendChild(m),g&&(m.innerText=g),this.updateSize()},createFromCache:function(c,p){var g=this.cache.get(c);return g&&this.createFromHTML(g,p),this},createFromHTML:function(c,p){p===void 0&&(p="div"),this.removeElement();var g=document.createElement(p);return this.node=g,g.style.zIndex="0",g.style.display="inline",g.style.position="absolute",g.phaser=this,this.parent&&this.parent.appendChild(g),g.innerHTML=c,this.updateSize()},removeElement:function(){return this.node&&(o(this.node),this.node=null),this},updateSize:function(){var c=this.node,p=c.getBoundingClientRect();return this.width=c.clientWidth,this.height=c.clientHeight,this.displayWidth=p.width||0,this.displayHeight=p.height||0,this},getChildByProperty:function(c,p){if(this.node){for(var g=this.node.querySelectorAll("*"),m=0;m<g.length;m++)if(g[m][c]===p)return g[m]}return null},getChildByID:function(c){return this.getChildByProperty("id",c)},getChildByName:function(c){return this.getChildByProperty("name",c)},setClassName:function(c){return this.node&&(this.node.className=c,this.updateSize()),this},setText:function(c){return this.node&&(this.node.innerText=c,this.updateSize()),this},setHTML:function(c){return this.node&&(this.node.innerHTML=c,this.updateSize()),this},preRender:function(){var c=this.parentContainer,p=this.node;p&&c&&!c.willRender()&&(p.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(u.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(u.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(u.PRE_RENDER,this.preRender,this)}});h.exports=l},66070:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(2452),d=e(89980),s=e(69360),a=new s,r=new s,o=new s,u=function(v,l,c,p){if(l.node){var g=l.node.style,m=l.scene.sys.settings;if(!g||!m.visible||d.RENDER_MASK!==l.renderFlags||l.cameraFilter!==0&&l.cameraFilter&c.id||l.parentContainer&&!l.parentContainer.willRender()){g.display="none";return}var T=l.parentContainer,S=c.alpha*l.alpha;T&&(S*=T.alpha);var P=a,E=r,R=o,A=0,w=0,O="0%",L="0%";p?(A=l.width*l.scaleX*l.originX,w=l.height*l.scaleY*l.originY,E.applyITRS(l.x-A,l.y-w,l.rotation,l.scaleX,l.scaleY),P.copyFrom(c.matrix),P.multiplyWithOffset(p,-c.scrollX*l.scrollFactorX,-c.scrollY*l.scrollFactorY),E.e=l.x-A,E.f=l.y-w,P.multiply(E,R)):(A=l.width*l.originX,w=l.height*l.originY,E.applyITRS(l.x-A,l.y-w,l.rotation,l.scaleX,l.scaleY),P.copyFrom(c.matrix),O=100*l.originX+"%",L=100*l.originY+"%",E.e-=c.scrollX*l.scrollFactorX,E.f-=c.scrollY*l.scrollFactorY,P.multiply(E,R)),l.transformOnly||(g.display="block",g.opacity=S,g.zIndex=l._depth,g.pointerEvents=l.pointerEvents,g.mixBlendMode=f[l._blendMode]),g.transform=R.getCSSMatrix()+" skew("+l.skewX+"rad, "+l.skewY+"rad) rotate3d("+l.rotate3d.x+","+l.rotate3d.y+","+l.rotate3d.z+","+l.rotate3d.w+l.rotate3dAngle+")",g.transformOrigin=O+" "+L}};h.exports=u},66788:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(38943),d=e(61286);d.register("dom",function(s,a,r,o,u){var v=new f(this.scene,s,a,r,o,u);return this.displayList.add(v),v})},11603:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),d=f,s=f;d=e(66070),s=e(66070),h.exports={renderWebGL:d,renderCanvas:s}},65492:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="addedtoscene"},98398:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="destroy"},40239:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="removedfromscene"},17286:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="complete"},31496:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="created"},89587:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="error"},59792:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="locked"},96342:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="loop"},6017:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="playing"},49614:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="play"},24418:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="seeked"},87318:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="seeking"},50009:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="stalled"},61922:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="stop"},79501:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="textureready"},4052:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="unlocked"},54857:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="unsupported"},56631:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={ADDED_TO_SCENE:e(65492),DESTROY:e(98398),REMOVED_FROM_SCENE:e(40239),VIDEO_COMPLETE:e(17286),VIDEO_CREATED:e(31496),VIDEO_ERROR:e(89587),VIDEO_LOCKED:e(59792),VIDEO_LOOP:e(96342),VIDEO_PLAY:e(49614),VIDEO_PLAYING:e(6017),VIDEO_SEEKED:e(24418),VIDEO_SEEKING:e(87318),VIDEO_STALLED:e(50009),VIDEO_STOP:e(61922),VIDEO_TEXTURE:e(79501),VIDEO_UNLOCKED:e(4052),VIDEO_UNSUPPORTED:e(54857)}},39419:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(64937),s=e(89980),a=e(79394),r=new f({Extends:s,Mixins:[d.Alpha,d.BlendMode,d.Depth,d.Flip,d.Origin,d.ScrollFactor,d.Size,d.Texture,d.Tint,d.Transform,d.Visible,a],initialize:function(u){s.call(this,u,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});h.exports=r},96699:()=>{},41155:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(39419),d=e(61286);d.register("extern",function(){var s=new f(this.scene);return this.displayList.add(s),s})},79394:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),d=f,s=f;d=e(81410),s=e(96699),h.exports={renderWebGL:d,renderCanvas:s}},81410:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(73329),d=function(s,a,r,o){s.pipelines.clear();var u=f(a,r,o).calc;a.render.call(a,s,r,u),s.pipelines.rebind()};h.exports=d},36266:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},33182:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(51052),d=e(56694),s=e(36266),a=e(64937),r=e(95669),o=e(89980),u=e(72632),v=e(10850),l=e(83392),c=e(60898),p=new d({Extends:o,Mixins:[a.AlphaSingle,a.BlendMode,a.Depth,a.Mask,a.Pipeline,a.PostPipeline,a.Transform,a.Visible,a.ScrollFactor,c],initialize:function(m,T){var S=v(T,"x",0),P=v(T,"y",0);o.call(this,m,"Graphics"),this.setPosition(S,P),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(T)},setDefaultStyles:function(g){return v(g,"lineStyle",null)&&(this.defaultStrokeWidth=v(g,"lineStyle.width",1),this.defaultStrokeColor=v(g,"lineStyle.color",16777215),this.defaultStrokeAlpha=v(g,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),v(g,"fillStyle",null)&&(this.defaultFillColor=v(g,"fillStyle.color",16777215),this.defaultFillAlpha=v(g,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(g,m,T){return T===void 0&&(T=1),this.commandBuffer.push(s.LINE_STYLE,g,m,T),this._lineWidth=g,this},fillStyle:function(g,m){return m===void 0&&(m=1),this.commandBuffer.push(s.FILL_STYLE,g,m),this},fillGradientStyle:function(g,m,T,S,P,E,R,A){return P===void 0&&(P=1),E===void 0&&(E=P),R===void 0&&(R=P),A===void 0&&(A=P),this.commandBuffer.push(s.GRADIENT_FILL_STYLE,P,E,R,A,g,m,T,S),this},lineGradientStyle:function(g,m,T,S,P,E){return E===void 0&&(E=1),this.commandBuffer.push(s.GRADIENT_LINE_STYLE,g,E,m,T,S,P),this},beginPath:function(){return this.commandBuffer.push(s.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(s.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(s.FILL_PATH),this},fill:function(){return this.commandBuffer.push(s.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(s.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(s.STROKE_PATH),this},fillCircleShape:function(g){return this.fillCircle(g.x,g.y,g.radius)},strokeCircleShape:function(g){return this.strokeCircle(g.x,g.y,g.radius)},fillCircle:function(g,m,T){return this.beginPath(),this.arc(g,m,T,0,l.PI2),this.fillPath(),this},strokeCircle:function(g,m,T){return this.beginPath(),this.arc(g,m,T,0,l.PI2),this.strokePath(),this},fillRectShape:function(g){return this.fillRect(g.x,g.y,g.width,g.height)},strokeRectShape:function(g){return this.strokeRect(g.x,g.y,g.width,g.height)},fillRect:function(g,m,T,S){return this.commandBuffer.push(s.FILL_RECT,g,m,T,S),this},strokeRect:function(g,m,T,S){var P=this._lineWidth/2,E=g-P,R=g+P;return this.beginPath(),this.moveTo(g,m),this.lineTo(g,m+S),this.strokePath(),this.beginPath(),this.moveTo(g+T,m),this.lineTo(g+T,m+S),this.strokePath(),this.beginPath(),this.moveTo(E,m),this.lineTo(R+T,m),this.strokePath(),this.beginPath(),this.moveTo(E,m+S),this.lineTo(R+T,m+S),this.strokePath(),this},fillRoundedRect:function(g,m,T,S,P){P===void 0&&(P=20);var E=P,R=P,A=P,w=P;typeof P!="number"&&(E=u(P,"tl",20),R=u(P,"tr",20),A=u(P,"bl",20),w=u(P,"br",20));var O=E>=0,L=R>=0,F=A>=0,I=w>=0;return E=Math.abs(E),R=Math.abs(R),A=Math.abs(A),w=Math.abs(w),this.beginPath(),this.moveTo(g+E,m),this.lineTo(g+T-R,m),L?this.arc(g+T-R,m+R,R,-l.TAU,0):this.arc(g+T,m,R,Math.PI,l.TAU,!0),this.lineTo(g+T,m+S-w),I?this.arc(g+T-w,m+S-w,w,0,l.TAU):this.arc(g+T,m+S,w,-l.TAU,Math.PI,!0),this.lineTo(g+A,m+S),F?this.arc(g+A,m+S-A,A,l.TAU,Math.PI):this.arc(g,m+S,A,0,-l.TAU,!0),this.lineTo(g,m+E),O?this.arc(g+E,m+E,E,-Math.PI,-l.TAU):this.arc(g,m,E,l.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(g,m,T,S,P){P===void 0&&(P=20);var E=P,R=P,A=P,w=P,O=Math.min(T,S)/2;typeof P!="number"&&(E=u(P,"tl",20),R=u(P,"tr",20),A=u(P,"bl",20),w=u(P,"br",20));var L=E>=0,F=R>=0,I=A>=0,B=w>=0;return E=Math.min(Math.abs(E),O),R=Math.min(Math.abs(R),O),A=Math.min(Math.abs(A),O),w=Math.min(Math.abs(w),O),this.beginPath(),this.moveTo(g+E,m),this.lineTo(g+T-R,m),this.moveTo(g+T-R,m),F?this.arc(g+T-R,m+R,R,-l.TAU,0):this.arc(g+T,m,R,Math.PI,l.TAU,!0),this.lineTo(g+T,m+S-w),this.moveTo(g+T,m+S-w),B?this.arc(g+T-w,m+S-w,w,0,l.TAU):this.arc(g+T,m+S,w,-l.TAU,Math.PI,!0),this.lineTo(g+A,m+S),this.moveTo(g+A,m+S),I?this.arc(g+A,m+S-A,A,l.TAU,Math.PI):this.arc(g,m+S,A,0,-l.TAU,!0),this.lineTo(g,m+E),this.moveTo(g,m+E),L?this.arc(g+E,m+E,E,-Math.PI,-l.TAU):this.arc(g,m,E,l.TAU,0,!0),this.strokePath(),this},fillPointShape:function(g,m){return this.fillPoint(g.x,g.y,m)},fillPoint:function(g,m,T){return!T||T<1?T=1:(g-=T/2,m-=T/2),this.commandBuffer.push(s.FILL_RECT,g,m,T,T),this},fillTriangleShape:function(g){return this.fillTriangle(g.x1,g.y1,g.x2,g.y2,g.x3,g.y3)},strokeTriangleShape:function(g){return this.strokeTriangle(g.x1,g.y1,g.x2,g.y2,g.x3,g.y3)},fillTriangle:function(g,m,T,S,P,E){return this.commandBuffer.push(s.FILL_TRIANGLE,g,m,T,S,P,E),this},strokeTriangle:function(g,m,T,S,P,E){return this.commandBuffer.push(s.STROKE_TRIANGLE,g,m,T,S,P,E),this},strokeLineShape:function(g){return this.lineBetween(g.x1,g.y1,g.x2,g.y2)},lineBetween:function(g,m,T,S){return this.beginPath(),this.moveTo(g,m),this.lineTo(T,S),this.strokePath(),this},lineTo:function(g,m){return this.commandBuffer.push(s.LINE_TO,g,m),this},moveTo:function(g,m){return this.commandBuffer.push(s.MOVE_TO,g,m),this},strokePoints:function(g,m,T,S){m===void 0&&(m=!1),T===void 0&&(T=!1),S===void 0&&(S=g.length),this.beginPath(),this.moveTo(g[0].x,g[0].y);for(var P=1;P<S;P++)this.lineTo(g[P].x,g[P].y);return m&&this.lineTo(g[0].x,g[0].y),T&&this.closePath(),this.strokePath(),this},fillPoints:function(g,m,T,S){m===void 0&&(m=!1),T===void 0&&(T=!1),S===void 0&&(S=g.length),this.beginPath(),this.moveTo(g[0].x,g[0].y);for(var P=1;P<S;P++)this.lineTo(g[P].x,g[P].y);return m&&this.lineTo(g[0].x,g[0].y),T&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(g,m){m===void 0&&(m=32);var T=g.getPoints(m);return this.strokePoints(T,!0)},strokeEllipse:function(g,m,T,S,P){P===void 0&&(P=32);var E=new r(g,m,T,S),R=E.getPoints(P);return this.strokePoints(R,!0)},fillEllipseShape:function(g,m){m===void 0&&(m=32);var T=g.getPoints(m);return this.fillPoints(T,!0)},fillEllipse:function(g,m,T,S,P){P===void 0&&(P=32);var E=new r(g,m,T,S),R=E.getPoints(P);return this.fillPoints(R,!0)},arc:function(g,m,T,S,P,E,R){return E===void 0&&(E=!1),R===void 0&&(R=0),this.commandBuffer.push(s.ARC,g,m,T,S,P,E,R),this},slice:function(g,m,T,S,P,E,R){return E===void 0&&(E=!1),R===void 0&&(R=0),this.commandBuffer.push(s.BEGIN_PATH),this.commandBuffer.push(s.MOVE_TO,g,m),this.commandBuffer.push(s.ARC,g,m,T,S,P,E,R),this.commandBuffer.push(s.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(s.SAVE),this},restore:function(){return this.commandBuffer.push(s.RESTORE),this},translateCanvas:function(g,m){return this.commandBuffer.push(s.TRANSLATE,g,m),this},scaleCanvas:function(g,m){return this.commandBuffer.push(s.SCALE,g,m),this},rotateCanvas:function(g){return this.commandBuffer.push(s.ROTATE,g),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(g,m,T){var S=this.scene.sys,P=S.game.renderer;m===void 0&&(m=S.scale.width),T===void 0&&(T=S.scale.height),p.TargetCamera.setScene(this.scene),p.TargetCamera.setViewport(0,0,m,T),p.TargetCamera.scrollX=this.x,p.TargetCamera.scrollY=this.y;var E,R,A={willReadFrequently:!0};if(typeof g=="string")if(S.textures.exists(g)){E=S.textures.get(g);var w=E.getSourceImage();w instanceof HTMLCanvasElement&&(R=w.getContext("2d",A))}else E=S.textures.createCanvas(g,m,T),R=E.getSourceImage().getContext("2d",A);else g instanceof HTMLCanvasElement&&(R=g.getContext("2d",A));return R&&(this.renderCanvas(P,this,p.TargetCamera,null,R,!1),E&&E.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});p.TargetCamera=new f,h.exports=p},91543:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(36266),d=e(49584),s=function(a,r,o,u,v,l){var c=r.commandBuffer,p=c.length,g=v||a.currentContext;if(!(p===0||!d(a,g,r,o,u))){o.addToRenderList(r);var m=1,T=1,S=0,P=0,E=1,R=0,A=0,w=0;g.beginPath();for(var O=0;O<p;++O){var L=c[O];switch(L){case f.ARC:g.arc(c[O+1],c[O+2],c[O+3],c[O+4],c[O+5],c[O+6]),O+=7;break;case f.LINE_STYLE:E=c[O+1],S=c[O+2],m=c[O+3],R=(S&16711680)>>>16,A=(S&65280)>>>8,w=S&255,g.strokeStyle="rgba("+R+","+A+","+w+","+m+")",g.lineWidth=E,O+=3;break;case f.FILL_STYLE:P=c[O+1],T=c[O+2],R=(P&16711680)>>>16,A=(P&65280)>>>8,w=P&255,g.fillStyle="rgba("+R+","+A+","+w+","+T+")",O+=2;break;case f.BEGIN_PATH:g.beginPath();break;case f.CLOSE_PATH:g.closePath();break;case f.FILL_PATH:l||g.fill();break;case f.STROKE_PATH:l||g.stroke();break;case f.FILL_RECT:l?g.rect(c[O+1],c[O+2],c[O+3],c[O+4]):g.fillRect(c[O+1],c[O+2],c[O+3],c[O+4]),O+=4;break;case f.FILL_TRIANGLE:g.beginPath(),g.moveTo(c[O+1],c[O+2]),g.lineTo(c[O+3],c[O+4]),g.lineTo(c[O+5],c[O+6]),g.closePath(),l||g.fill(),O+=6;break;case f.STROKE_TRIANGLE:g.beginPath(),g.moveTo(c[O+1],c[O+2]),g.lineTo(c[O+3],c[O+4]),g.lineTo(c[O+5],c[O+6]),g.closePath(),l||g.stroke(),O+=6;break;case f.LINE_TO:g.lineTo(c[O+1],c[O+2]),O+=2;break;case f.MOVE_TO:g.moveTo(c[O+1],c[O+2]),O+=2;break;case f.LINE_FX_TO:g.lineTo(c[O+1],c[O+2]),O+=5;break;case f.MOVE_FX_TO:g.moveTo(c[O+1],c[O+2]),O+=5;break;case f.SAVE:g.save();break;case f.RESTORE:g.restore();break;case f.TRANSLATE:g.translate(c[O+1],c[O+2]),O+=2;break;case f.SCALE:g.scale(c[O+1],c[O+2]),O+=2;break;case f.ROTATE:g.rotate(c[O+1]),O+=1;break;case f.GRADIENT_FILL_STYLE:O+=5;break;case f.GRADIENT_LINE_STYLE:O+=6;break}}g.restore()}};h.exports=s},41286:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(99325),d=e(33182);f.register("graphics",function(s,a){s===void 0&&(s={}),a!==void 0&&(s.add=a);var r=new d(this.scene,s);return s.add&&this.scene.sys.displayList.add(r),r})},13122:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(33182),d=e(61286);d.register("graphics",function(s){return this.displayList.add(new f(this.scene,s))})},60898:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),d=f,s=f;d=e(34429),s=e(91543),s=e(91543),h.exports={renderWebGL:d,renderCanvas:s}},34429:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(36266),d=e(73329),s=e(69360),a=e(75512),r=function(c,p,g){this.x=c,this.y=p,this.width=g},o=function(c,p,g){this.points=[],this.pointsLength=1,this.points[0]=new r(c,p,g)},u=[],v=new s,l=function(c,p,g,m){if(p.commandBuffer.length!==0){g.addToRenderList(p);var T=c.pipelines.set(p.pipeline,p);c.pipelines.preBatch(p);for(var S=d(p,g,m).calc,P=v.loadIdentity(),E=p.commandBuffer,R=g.alpha*p.alpha,A=1,w=T.fillTint,O=T.strokeTint,L=0,F=0,I=0,B=.01,G=Math.PI*2,N,U=[],Y=0,X=!0,b=null,z=a.getTintAppendFloatAlpha,D=0;D<E.length;D++)switch(N=E[D],N){case f.BEGIN_PATH:{U.length=0,b=null,X=!0;break}case f.CLOSE_PATH:{X=!1,b&&b.points.length&&b.points.push(b.points[0]);break}case f.FILL_PATH:{for(Y=0;Y<U.length;Y++)T.batchFillPath(U[Y].points,P,S);break}case f.STROKE_PATH:{for(Y=0;Y<U.length;Y++)T.batchStrokePath(U[Y].points,A,X,P,S);break}case f.LINE_STYLE:{A=E[++D];var V=E[++D],k=E[++D]*R,W=z(V,k);O.TL=W,O.TR=W,O.BL=W,O.BR=W;break}case f.FILL_STYLE:{var H=E[++D],$=E[++D]*R,K=z(H,$);w.TL=K,w.TR=K,w.BL=K,w.BR=K;break}case f.GRADIENT_FILL_STYLE:{var Z=E[++D]*R,j=E[++D]*R,J=E[++D]*R,Q=E[++D]*R;w.TL=z(E[++D],Z),w.TR=z(E[++D],j),w.BL=z(E[++D],J),w.BR=z(E[++D],Q);break}case f.GRADIENT_LINE_STYLE:{A=E[++D];var q=E[++D]*R;O.TL=z(E[++D],q),O.TR=z(E[++D],q),O.BL=z(E[++D],q),O.BR=z(E[++D],q);break}case f.ARC:{var _=0,tt=E[++D],st=E[++D],it=E[++D],lt=E[++D],et=E[++D],ht=E[++D],at=E[++D];for(et-=lt,ht?et<-G?et=-G:et>0&&(et=-G+et%G):et>G?et=G:et<0&&(et=G+et%G),b===null&&(b=new o(tt+Math.cos(lt)*it,st+Math.sin(lt)*it,A),U.push(b),_+=B);_<1+at;)I=et*_+lt,L=tt+Math.cos(I)*it,F=st+Math.sin(I)*it,b.points.push(new r(L,F,A)),_+=B;I=et+lt,L=tt+Math.cos(I)*it,F=st+Math.sin(I)*it,b.points.push(new r(L,F,A));break}case f.FILL_RECT:{T.batchFillRect(E[++D],E[++D],E[++D],E[++D],P,S);break}case f.FILL_TRIANGLE:{T.batchFillTriangle(E[++D],E[++D],E[++D],E[++D],E[++D],E[++D],P,S);break}case f.STROKE_TRIANGLE:{T.batchStrokeTriangle(E[++D],E[++D],E[++D],E[++D],E[++D],E[++D],A,P,S);break}case f.LINE_TO:{b!==null?b.points.push(new r(E[++D],E[++D],A)):(b=new o(E[++D],E[++D],A),U.push(b));break}case f.MOVE_TO:{b=new o(E[++D],E[++D],A),U.push(b);break}case f.SAVE:{u.push(P.copyToArray());break}case f.RESTORE:{P.copyFromArray(u.pop());break}case f.TRANSLATE:{tt=E[++D],st=E[++D],P.translate(tt,st);break}case f.SCALE:{tt=E[++D],st=E[++D],P.scale(tt,st);break}case f.ROTATE:{P.rotate(E[++D]);break}}c.pipelines.postBatch(p)}};h.exports=l},59192:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(83979),d=e(56694),s=e(56631),a=e(6659),r=e(71608),o=e(72632),u=e(10850),v=e(19256),l=e(42911),c=e(75757),p=e(58403),g=e(13747),m=new d({Extends:a,initialize:function(S,P,E){a.call(this),E?P&&!Array.isArray(P)&&(P=[P]):Array.isArray(P)?l(P[0])&&(E=P,P=null):l(P)&&(E=P,P=null),this.scene=S,this.children=new p,this.isParent=!0,this.type="Group",this.classType=o(E,"classType",g),this.name=o(E,"name",""),this.active=o(E,"active",!0),this.maxSize=o(E,"maxSize",-1),this.defaultKey=o(E,"defaultKey",null),this.defaultFrame=o(E,"defaultFrame",null),this.runChildUpdate=o(E,"runChildUpdate",!1),this.createCallback=o(E,"createCallback",null),this.removeCallback=o(E,"removeCallback",null),this.createMultipleCallback=o(E,"createMultipleCallback",null),this.internalCreateCallback=o(E,"internalCreateCallback",null),this.internalRemoveCallback=o(E,"internalRemoveCallback",null),P&&this.addMultiple(P),E&&this.createMultiple(E),this.on(s.ADDED_TO_SCENE,this.addedToScene,this),this.on(s.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(T,S,P,E,R,A){if(T===void 0&&(T=0),S===void 0&&(S=0),P===void 0&&(P=this.defaultKey),E===void 0&&(E=this.defaultFrame),R===void 0&&(R=!0),A===void 0&&(A=!0),this.isFull())return null;var w=new this.classType(this.scene,T,S,P,E);return w.addToDisplayList(this.scene.sys.displayList),w.addToUpdateList(),w.visible=R,w.setActive(A),this.add(w),w},createMultiple:function(T){if(this.isFull())return[];Array.isArray(T)||(T=[T]);var S=[];if(T[0].key)for(var P=0;P<T.length;P++){var E=this.createFromConfig(T[P]);S=S.concat(E)}return S},createFromConfig:function(T){if(this.isFull())return[];this.classType=o(T,"classType",this.classType);var S=o(T,"key",void 0),P=o(T,"frame",null),E=o(T,"visible",!0),R=o(T,"active",!0),A=[];if(S===void 0)return A;Array.isArray(S)||(S=[S]),Array.isArray(P)||(P=[P]);var w=o(T,"repeat",0),O=o(T,"randomKey",!1),L=o(T,"randomFrame",!1),F=o(T,"yoyo",!1),I=o(T,"quantity",!1),B=o(T,"frameQuantity",1),G=o(T,"max",0),N=c(S,P,{max:G,qty:I||B,random:O,randomB:L,repeat:w,yoyo:F});T.createCallback&&(this.createCallback=T.createCallback),T.removeCallback&&(this.removeCallback=T.removeCallback),T.internalCreateCallback&&(this.internalCreateCallback=T.internalCreateCallback),T.internalRemoveCallback&&(this.internalRemoveCallback=T.internalRemoveCallback);for(var U=0;U<N.length;U++){var Y=this.create(0,0,N[U].a,N[U].b,E,R);if(!Y)break;A.push(Y)}if(v(T,"setXY")){var X=u(T,"setXY.x",0),b=u(T,"setXY.y",0),z=u(T,"setXY.stepX",0),D=u(T,"setXY.stepY",0);f.SetXY(A,X,b,z,D)}if(v(T,"setRotation")){var V=u(T,"setRotation.value",0),k=u(T,"setRotation.step",0);f.SetRotation(A,V,k)}if(v(T,"setScale")){var W=u(T,"setScale.x",1),H=u(T,"setScale.y",W),$=u(T,"setScale.stepX",0),K=u(T,"setScale.stepY",0);f.SetScale(A,W,H,$,K)}if(v(T,"setOrigin")){var Z=u(T,"setOrigin.x",.5),j=u(T,"setOrigin.y",Z),J=u(T,"setOrigin.stepX",0),Q=u(T,"setOrigin.stepY",0);f.SetOrigin(A,Z,j,J,Q)}if(v(T,"setAlpha")){var q=u(T,"setAlpha.value",1),_=u(T,"setAlpha.step",0);f.SetAlpha(A,q,_)}if(v(T,"setDepth")){var tt=u(T,"setDepth.value",0),st=u(T,"setDepth.step",0);f.SetDepth(A,tt,st)}if(v(T,"setScrollFactor")){var it=u(T,"setScrollFactor.x",1),lt=u(T,"setScrollFactor.y",it),et=u(T,"setScrollFactor.stepX",0),ht=u(T,"setScrollFactor.stepY",0);f.SetScrollFactor(A,it,lt,et,ht)}var at=o(T,"hitArea",null),ft=o(T,"hitAreaCallback",null);at&&f.SetHitArea(A,at,ft);var vt=o(T,"gridAlign",!1);return vt&&f.GridAlign(A,vt),this.createMultipleCallback&&this.createMultipleCallback.call(this,A),A},preUpdate:function(T,S){if(!(!this.runChildUpdate||this.children.size===0))for(var P=this.children.entries.slice(),E=0;E<P.length;E++){var R=P[E];R.active&&R.update(T,S)}},add:function(T,S){return S===void 0&&(S=!1),this.isFull()?this:(this.children.set(T),this.internalCreateCallback&&this.internalCreateCallback.call(this,T),this.createCallback&&this.createCallback.call(this,T),S&&(T.addToDisplayList(this.scene.sys.displayList),T.addToUpdateList()),T.on(s.DESTROY,this.remove,this),this)},addMultiple:function(T,S){if(S===void 0&&(S=!1),Array.isArray(T))for(var P=0;P<T.length;P++)this.add(T[P],S);return this},remove:function(T,S,P){return S===void 0&&(S=!1),P===void 0&&(P=!1),this.children.contains(T)?(this.children.delete(T),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,T),this.removeCallback&&this.removeCallback.call(this,T),T.off(s.DESTROY,this.remove,this),P?T.destroy():S&&(T.removeFromDisplayList(),T.removeFromUpdateList()),this):this},clear:function(T,S){T===void 0&&(T=!1),S===void 0&&(S=!1);for(var P=this.children,E=0;E<P.size;E++){var R=P.entries[E];R.off(s.DESTROY,this.remove,this),S?R.destroy():T&&(R.removeFromDisplayList(),R.removeFromUpdateList())}return this.children.clear(),this},contains:function(T){return this.children.contains(T)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(T,S,P,E){return r(this.children.entries,T,S,P,E)},getFirst:function(T,S,P,E,R,A,w){return this.getHandler(!0,1,T,S,P,E,R,A,w)},getFirstNth:function(T,S,P,E,R,A,w,O){return this.getHandler(!0,T,S,P,E,R,A,w,O)},getLast:function(T,S,P,E,R,A,w){return this.getHandler(!1,1,T,S,P,E,R,A,w)},getLastNth:function(T,S,P,E,R,A,w,O){return this.getHandler(!1,T,S,P,E,R,A,w,O)},getHandler:function(T,S,P,E,R,A,w,O,L){P===void 0&&(P=!1),E===void 0&&(E=!1);var F,I,B=0,G=this.children.entries;if(T)for(I=0;I<G.length;I++)if(F=G[I],F.active===P){if(B++,B===S)break}else F=null;else for(I=G.length-1;I>=0;I--)if(F=G[I],F.active===P){if(B++,B===S)break}else F=null;return F?(typeof R=="number"&&(F.x=R),typeof A=="number"&&(F.y=A),F):E?this.create(R,A,w,O,L):null},get:function(T,S,P,E,R){return this.getFirst(!1,!0,T,S,P,E,R)},getFirstAlive:function(T,S,P,E,R,A){return this.getFirst(!0,T,S,P,E,R,A)},getFirstDead:function(T,S,P,E,R,A){return this.getFirst(!1,T,S,P,E,R,A)},playAnimation:function(T,S){return f.PlayAnimation(this.children.entries,T,S),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(T){T===void 0&&(T=!0);for(var S=0,P=0;P<this.children.size;P++)this.children.entries[P].active===T&&S++;return S},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var T=this.getTotalUsed(),S=this.maxSize===-1?999999999999:this.maxSize;return S-T},setActive:function(T){return this.active=T,this},setName:function(T){return this.name=T,this},propertyValueSet:function(T,S,P,E,R){return f.PropertyValueSet(this.children.entries,T,S,P,E,R),this},propertyValueInc:function(T,S,P,E,R){return f.PropertyValueInc(this.children.entries,T,S,P,E,R),this},setX:function(T,S){return f.SetX(this.children.entries,T,S),this},setY:function(T,S){return f.SetY(this.children.entries,T,S),this},setXY:function(T,S,P,E){return f.SetXY(this.children.entries,T,S,P,E),this},incX:function(T,S){return f.IncX(this.children.entries,T,S),this},incY:function(T,S){return f.IncY(this.children.entries,T,S),this},incXY:function(T,S,P,E){return f.IncXY(this.children.entries,T,S,P,E),this},shiftPosition:function(T,S,P){return f.ShiftPosition(this.children.entries,T,S,P),this},angle:function(T,S){return f.Angle(this.children.entries,T,S),this},rotate:function(T,S){return f.Rotate(this.children.entries,T,S),this},rotateAround:function(T,S){return f.RotateAround(this.children.entries,T,S),this},rotateAroundDistance:function(T,S,P){return f.RotateAroundDistance(this.children.entries,T,S,P),this},setAlpha:function(T,S){return f.SetAlpha(this.children.entries,T,S),this},setTint:function(T,S,P,E){return f.SetTint(this.children.entries,T,S,P,E),this},setOrigin:function(T,S,P,E){return f.SetOrigin(this.children.entries,T,S,P,E),this},scaleX:function(T,S){return f.ScaleX(this.children.entries,T,S),this},scaleY:function(T,S){return f.ScaleY(this.children.entries,T,S),this},scaleXY:function(T,S,P,E){return f.ScaleXY(this.children.entries,T,S,P,E),this},setDepth:function(T,S){return f.SetDepth(this.children.entries,T,S),this},setBlendMode:function(T){return f.SetBlendMode(this.children.entries,T),this},setHitArea:function(T,S){return f.SetHitArea(this.children.entries,T,S),this},shuffle:function(){return f.Shuffle(this.children.entries),this},kill:function(T){this.children.contains(T)&&T.setActive(!1)},killAndHide:function(T){this.children.contains(T)&&(T.setActive(!1),T.setVisible(!1))},setVisible:function(T,S,P){return f.SetVisible(this.children.entries,T,S,P),this},toggleVisible:function(){return f.ToggleVisible(this.children.entries),this},destroy:function(T,S){T===void 0&&(T=!1),S===void 0&&(S=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(s.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(S,T),this.scene=void 0,this.children=void 0)}});h.exports=m},61295:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(99325),d=e(59192);f.register("group",function(s){return new d(this.scene,null,s)})},62598:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(59192),d=e(61286);d.register("group",function(s,a){return this.updateList.add(new f(this.scene,s,a))})},1539:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(64937),s=e(89980),a=e(57322),r=new f({Extends:s,Mixins:[d.Alpha,d.BlendMode,d.Depth,d.Flip,d.GetBounds,d.Mask,d.Origin,d.Pipeline,d.PostPipeline,d.ScrollFactor,d.Size,d.TextureCrop,d.Tint,d.Transform,d.Visible,a],initialize:function(u,v,l,c,p){s.call(this,u,"Image"),this._crop=this.resetCropObject(),this.setTexture(c,p),this.setPosition(v,l),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});h.exports=r},57786:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){d.addToRenderList(f),e.batchSprite(f,f.frame,d,s)};h.exports=y},83556:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(88933),d=e(99325),s=e(20494),a=e(1539);d.register("image",function(r,o){r===void 0&&(r={});var u=s(r,"key",null),v=s(r,"frame",null),l=new a(this.scene,0,0,u,v);return o!==void 0&&(r.add=o),f(this.scene,l,r),l})},20927:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(1539),d=e(61286);d.register("image",function(s,a,r,o){return this.displayList.add(new f(this.scene,s,a,r,o))})},57322:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),d=f,s=f;d=e(59390),s=e(57786),h.exports={renderWebGL:d,renderCanvas:s}},59390:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){d.addToRenderList(f),this.pipeline.batchSprite(f,d,s)};h.exports=y},48013:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={Events:e(56631),DisplayList:e(91713),GameObjectCreator:e(99325),GameObjectFactory:e(61286),UpdateList:e(92034),Components:e(64937),GetCalcMatrix:e(73329),BuildGameObject:e(88933),BuildGameObjectAnimation:e(32291),GameObject:e(89980),BitmapText:e(44616),Blitter:e(52816),Bob:e(41664),Container:e(70339),DOMElement:e(38943),DynamicBitmapText:e(13468),Extern:e(39419),Graphics:e(33182),Group:e(59192),Image:e(1539),Layer:e(85305),Particles:e(27684),PathFollower:e(29598),RenderTexture:e(15996),RetroFont:e(55873),Rope:e(79968),Sprite:e(13747),Text:e(76555),GetTextSize:e(32979),MeasureText:e(27030),TextStyle:e(74744),TileSprite:e(35856),Zone:e(71030),Video:e(8630),Shape:e(91461),Arc:e(28593),Curve:e(15220),Ellipse:e(28591),Grid:e(39169),IsoBox:e(4415),IsoTriangle:e(65159),Line:e(579),Polygon:e(91249),Rectangle:e(517),Star:e(77843),Triangle:e(21873),Factories:{Blitter:e(38906),Container:e(23400),DOMElement:e(66788),DynamicBitmapText:e(94145),Extern:e(41155),Graphics:e(13122),Group:e(62598),Image:e(20927),Layer:e(17676),Particles:e(81212),PathFollower:e(19626),RenderTexture:e(29599),Rope:e(31982),Sprite:e(66135),StaticBitmapText:e(21797),Text:e(94627),TileSprite:e(20509),Zone:e(34546),Video:e(215),Arc:e(10369),Curve:e(10147),Ellipse:e(99869),Grid:e(9326),IsoBox:e(88154),IsoTriangle:e(67765),Line:e(85665),Polygon:e(88203),Rectangle:e(94355),Star:e(23962),Triangle:e(79296)},Creators:{Blitter:e(68452),Container:e(44516),DynamicBitmapText:e(67513),Graphics:e(41286),Group:e(61295),Image:e(83556),Layer:e(56378),Particles:e(765),RenderTexture:e(85692),Rope:e(96027),Sprite:e(89219),StaticBitmapText:e(95499),Text:e(75397),TileSprite:e(63950),Zone:e(24067),Video:e(65601)}};f.Shader=e(27902),f.Mesh=e(83321),f.NineSlice=e(44139),f.PointLight=e(13171),f.Plane=e(33412),f.Factories.Shader=e(51979),f.Factories.Mesh=e(8767),f.Factories.NineSlice=e(53778),f.Factories.PointLight=e(91201),f.Factories.Plane=e(58322),f.Creators.Shader=e(13908),f.Creators.Mesh=e(41839),f.Creators.NineSlice=e(40964),f.Creators.PointLight=e(162),f.Creators.Plane=e(10912),f.Light=e(14455),f.LightsManager=e(26193),f.LightsPlugin=e(50296),h.exports=f},85305:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(95723),d=e(56694),s=e(64937),a=e(48129),r=e(81078),o=e(6659),u=e(56631),v=e(71207),l=e(47427),c=e(58010),p=e(7599),g=e(17922),m=new d({Extends:v,Mixins:[s.AlphaSingle,s.BlendMode,s.Depth,s.Mask,s.PostPipeline,s.Visible,o,c],initialize:function(S,P){v.call(this,S),o.call(this),this.scene=S,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=S.sys,this.events=S.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(f.SKIP_CHECK),P&&this.add(P),S.sys.queueDepthSort()},setActive:function(T){return this.active=T,this},setName:function(T){return this.name=T,this},setState:function(T){return this.state=T,this},setDataEnabled:function(){return this.data||(this.data=new r(this)),this},setData:function(T,S){return this.data||(this.data=new r(this)),this.data.set(T,S),this},incData:function(T,S){return this.data||(this.data=new r(this)),this.data.inc(T,S),this},toggleData:function(T){return this.data||(this.data=new r(this)),this.data.toggle(T),this},getData:function(T){return this.data||(this.data=new r(this)),this.data.get(T)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},add:function(T){return v.prototype.add.call(this,T),this},remove:function(T,S){var P=v.prototype.remove.call(this,T);if(S&&P){Array.isArray(P)||(P=[P]);for(var E=0;E<P.length;E++)P[E].destroy()}return this},removeAll:function(T){var S=this.list;if(T){for(var P=0;P<S.length;P++)S[P]&&S[P].scene&&(S[P].off(u.DESTROY,this.remove,this),S[P].destroy());this.list=[]}else l(S,0,S.length,this.removeChildCallback,this);return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return a(this)},willRender:function(T){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&T.id)},getIndexList:function(){for(var T=this,S=this.parentContainer,P=[];S&&(P.unshift(S.getIndex(T)),T=S,S.parentContainer);)S=S.parentContainer;return P.unshift(this.displayList.getIndex(T)),P},addChildCallback:function(T){T.once(u.DESTROY,this.remove,this),T.displayList&&T.displayList!==this&&T.removeFromDisplayList(),T.displayList||(this.queueDepthSort(),T.displayList=this,T.emit(u.ADDED_TO_SCENE,T,this.scene),this.events.emit(p.ADDED_TO_SCENE,T,this.scene))},removeChildCallback:function(T){T.off(u.DESTROY,this.remove,this),this.queueDepthSort(),T.displayList=null,T.emit(u.REMOVED_FROM_SCENE,T,this.scene),this.events.emit(p.REMOVED_FROM_SCENE,T,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(g(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(T,S){return T._depth-S._depth},getChildren:function(){return this.list},addToDisplayList:function(T){return T===void 0&&(T=this.scene.sys.displayList),this.displayList&&this.displayList!==T&&this.removeFromDisplayList(),T.exists(this)||(this.displayList=T,T.add(this,!0),T.queueDepthSort(),this.emit(u.ADDED_TO_SCENE,this,this.scene),T.events.emit(p.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var T=this.displayList||this.scene.sys.displayList;return T.exists(this)&&(T.remove(this,!0),T.queueDepthSort(),this.displayList=null,this.emit(u.REMOVED_FROM_SCENE,this,this.scene),T.events.emit(p.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(T){if(!(!this.scene||this.ignoreDestroy)){this.emit(u.DESTROY,this);for(var S=this.list;S.length;)S[0].destroy(T);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});h.exports=m},834:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){var s=f.list;if(s.length!==0){f.depthSort();var a=f.blendMode!==-1;a||e.setBlendMode(0);var r=f._alpha;f.mask&&f.mask.preRenderCanvas(e,null,d);for(var o=0;o<s.length;o++){var u=s[o];if(u.willRender(d)){var v=u.alpha;!a&&u.blendMode!==e.currentBlendMode&&e.setBlendMode(u.blendMode),u.setAlpha(v*r),u.renderCanvas(e,u,d),u.setAlpha(v)}}f.mask&&f.mask.postRenderCanvas(e)}};h.exports=y},56378:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(88933),d=e(85305),s=e(99325),a=e(20494);s.register("layer",function(r,o){r===void 0&&(r={});var u=a(r,"children",null),v=new d(this.scene,u);return o!==void 0&&(r.add=o),f(this.scene,v,r),v})},17676:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(85305),d=e(61286);d.register("layer",function(s){return this.displayList.add(new f(this.scene,s))})},58010:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),d=f,s=f;d=e(17576),s=e(834),h.exports={renderWebGL:d,renderCanvas:s}},17576:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){var s=f.list,a=s.length;if(a!==0){f.depthSort(),e.pipelines.preBatch(f);var r=f.blendMode!==-1;r||e.setBlendMode(0);for(var o=f.alpha,u=0;u<a;u++){var v=s[u];if(v.willRender(d)){var l,c,p,g;if(v.alphaTopLeft!==void 0)l=v.alphaTopLeft,c=v.alphaTopRight,p=v.alphaBottomLeft,g=v.alphaBottomRight;else{var m=v.alpha;l=m,c=m,p=m,g=m}!r&&v.blendMode!==e.currentBlendMode&&e.setBlendMode(v.blendMode);var T=v.mask;T&&T.preRenderWebGL(e,v,d);var S=v.type;S!==e.currentType&&(e.newType=!0,e.currentType=S),e.nextTypeMatch=u<a-1?s[u+1].type===e.currentType:!1,v.setAlpha(l*o,c*o,p*o,g*o),v.renderWebGL(e,v,d),v.setAlpha(l,c,p,g),T&&T.postRenderWebGL(e,d),e.newType=!1}}e.pipelines.postBatch(f)}};h.exports=y},14455:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(26673),d=e(56694),s=e(64937),a=e(39298),r=e(75512),o=new d({Extends:f,Mixins:[s.Origin,s.ScrollFactor,s.Transform,s.Visible],initialize:function(v,l,c,p,g,m,T){f.call(this,v,l,c),this.color=new a(p,g,m),this.intensity=T,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(c)},displayWidth:{get:function(){return this.diameter},set:function(u){this.diameter=u}},displayHeight:{get:function(){return this.diameter},set:function(u){this.diameter=u}},width:{get:function(){return this.diameter},set:function(u){this.diameter=u}},height:{get:function(){return this.diameter},set:function(u){this.diameter=u}},willRender:function(u){return!(o.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&u.id)},setColor:function(u){var v=r.getFloatsFromUintRGB(u);return this.color.set(v[0],v[1],v[2]),this},setIntensity:function(u){return this.intensity=u,this},setRadius:function(u){return this.radius=u,this}});o.RENDER_MASK=15,h.exports=o},26193:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(26535),d=e(56694),s=e(53996),a=e(14455),r=e(13171),o=e(39298),u=e(72677),v=e(17922),l=e(75512),c=new d({initialize:function(){this.lights=[],this.ambientColor=new o(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(p,g,m,T,S,P){return this.systems.displayList.add(new r(this.scene,p,g,m,T,S,P))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(p){for(var g=this.lights,m=p.worldView,T=[],S=0;S<g.length;S++){var P=g[S];P.willRender(p)&&f(P,m)&&T.push({light:P,distance:s(P.x,P.y,m.centerX,m.centerY)})}return T.length>this.maxLights&&(v(T,this.sortByDistance),T=T.slice(0,this.maxLights)),this.visibleLights=T.length,T},sortByDistance:function(p,g){return p.distance>=g.distance},setAmbientColor:function(p){var g=l.getFloatsFromUintRGB(p);return this.ambientColor.set(g[0],g[1],g[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(p,g,m,T,S){p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=128),T===void 0&&(T=16777215),S===void 0&&(S=1);var P=l.getFloatsFromUintRGB(T),E=new a(p,g,m,P[0],P[1],P[2],S);return this.lights.push(E),E},removeLight:function(p){var g=this.lights.indexOf(p);return g>=0&&u(this.lights,g),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});h.exports=c},50296:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(26193),s=e(91963),a=e(7599),r=new f({Extends:d,initialize:function(u){this.scene=u,this.systems=u.sys,u.sys.settings.isBooted||u.sys.events.once(a.BOOT,this.boot,this),d.call(this)},boot:function(){var o=this.systems.events;o.on(a.SHUTDOWN,this.shutdown,this),o.on(a.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});s.register("LightsPlugin",r,"lights"),h.exports=r},83321:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(64937),s=e(75606),a=e(18693),r=e(89980),o=e(53267),u=e(67623),v=e(73329),l=e(16650),c=e(23464),p=e(23701),g=e(17922),m=e(70015),T=e(85769),S=new f({Extends:r,Mixins:[d.AlphaSingle,d.BlendMode,d.Depth,d.Mask,d.Pipeline,d.PostPipeline,d.ScrollFactor,d.Size,d.Texture,d.Transform,d.Visible,c],initialize:function(E,R,A,w,O,L,F,I,B,G,N,U){R===void 0&&(R=0),A===void 0&&(A=0),w===void 0&&(w="__WHITE"),r.call(this,E,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new m,this.modelScale=new m(1,1,1),this.modelRotation=new m,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new l,this.viewPosition=new m,this.viewMatrix=new l,this.projectionMatrix=new l,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var Y=E.sys.renderer;this.setPosition(R,A),this.setTexture(w,O),this.setSize(Y.width,Y.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(Y.width,Y.height),L&&this.addVertices(L,F,I,B,G,N,U)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(P){return this.viewPosition.addScale(m.LEFT,P),this.dirtyCache[10]=1,this},panY:function(P){return this.viewPosition.y+=m.DOWN.y*P,this.dirtyCache[10]=1,this},panZ:function(P){return this.viewPosition.z+=P,this.dirtyCache[10]=1,this},setPerspective:function(P,E,R,A,w){return R===void 0&&(R=45),A===void 0&&(A=.01),w===void 0&&(w=1e3),this.fov=R,this.projectionMatrix.perspective(s(R),P/E,A,w),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(P,E,R,A){return P===void 0&&(P=this.scene.sys.renderer.getAspectRatio()),E===void 0&&(E=1),R===void 0&&(R=-1e3),A===void 0&&(A=1e3),this.fov=0,this.projectionMatrix.ortho(-P,P,-E,E,R,A),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(P){P.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(P,E,R,A,w,O,L,F,I){var B=this.scene.sys.cache.obj.get(P),G;return B&&(G=o(B,this,E,R,A,w,O,L,F,I)),(!G||G.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",P),this},sortByDepth:function(P,E){return P.depth-E.depth},depthSort:function(){return g(this.faces,this.sortByDepth),this},addVertex:function(P,E,R,A,w,O,L){var F=new T(P,E,R,A,w,O,L);return this.vertices.push(F),F},addFace:function(P,E,R){var A=new a(P,E,R);return this.faces.push(A),this.dirtyCache[9]=-1,A},addVertices:function(P,E,R,A,w,O,L){var F=u(P,E,R,A,w,O,L);return F?(this.faces=this.faces.concat(F.faces),this.vertices=this.vertices.concat(F.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(P){return this.faces[P]},hasFaceAt:function(P,E,R){R===void 0&&(R=this.scene.sys.cameras.main);for(var A=v(this,R).calc,w=this.faces,O=0;O<w.length;O++){var L=w[O];if(L.contains(P,E,A))return!0}return!1},getFaceAt:function(P,E,R){R===void 0&&(R=this.scene.sys.cameras.main);for(var A=v(this,R).calc,w=this.faces,O=[],L=0;L<w.length;L++){var F=w[L];F.contains(P,E,A)&&O.push(F)}return g(O,this.sortByDepth)},setDebug:function(P,E){return this.debugGraphic=P,!P&&!E?this.debugCallback=null:E?this.debugCallback=E:this.debugCallback=this.renderDebug,this},isDirty:function(){var P=this.modelPosition,E=this.modelRotation,R=this.modelScale,A=this.dirtyCache,w=P.x,O=P.y,L=P.z,F=E.x,I=E.y,B=E.z,G=R.x,N=R.y,U=R.z,Y=this.getFaceCount(),X=A[0],b=A[1],z=A[2],D=A[3],V=A[4],k=A[5],W=A[6],H=A[7],$=A[8],K=A[9];return A[0]=w,A[1]=O,A[2]=L,A[3]=F,A[4]=I,A[5]=B,A[6]=G,A[7]=N,A[8]=U,A[9]=Y,X!==w||b!==O||z!==L||D!==F||V!==I||k!==B||W!==G||H!==N||$!==U||K!==Y},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var P=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!P[10]&&!this.isDirty())){var E=this.width,R=this.height,A=this.viewMatrix,w=this.viewPosition;P[10]&&(A.identity(),A.translate(w),A.invert(),P[10]=0);var O=this.transformMatrix;O.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var L=w.z,F=this.faces,I=0;I<F.length;I++)F[I].transformCoordinatesLocal(O,E,R,L);this.depthSort()}},renderDebug:function(P,E){for(var R=P.debugGraphic,A=0;A<E.length;A++){var w=E[A],O=w.vertex1.tx,L=w.vertex1.ty,F=w.vertex2.tx,I=w.vertex2.ty,B=w.vertex3.tx,G=w.vertex3.ty;R.strokeTriangle(O,L,F,I,B,G)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(){var P=(function(E,R,A){for(var w=this.faces,O=0;O<w.length;O++){var L=w[O];if(L.contains(R,A))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,P),this},setTint:function(P){P===void 0&&(P=16777215);for(var E=this.vertices,R=0;R<E.length;R++)E[R].color=P;return this},uvScroll:function(P,E){for(var R=this.faces,A=0;A<R.length;A++)R[A].scrollUV(P,E);return this},uvScale:function(P,E){for(var R=this.faces,A=0;A<R.length;A++)R[A].scaleUV(P,E);return this},tint:{set:function(P){this.setTint(P)}},rotateX:{get:function(){return p(this.modelRotation.x)},set:function(P){this.modelRotation.x=s(P)}},rotateY:{get:function(){return p(this.modelRotation.y)},set:function(P){this.modelRotation.y=s(P)}},rotateZ:{get:function(){return p(this.modelRotation.z)},set:function(P){this.modelRotation.z=s(P)}}});h.exports=S},6317:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){};h.exports=y},41839:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(88933),d=e(99325),s=e(20494),a=e(10850),r=e(83321);d.register("mesh",function(o,u){o===void 0&&(o={});var v=s(o,"key",null),l=s(o,"frame",null),c=a(o,"vertices",[]),p=a(o,"uvs",[]),g=a(o,"indicies",[]),m=a(o,"containsZ",!1),T=a(o,"normals",[]),S=a(o,"colors",16777215),P=a(o,"alphas",1),E=new r(this.scene,0,0,v,l,c,p,g,m,T,S,P);return u!==void 0&&(o.add=u),f(this.scene,E,o),E})},8767:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(83321),d=e(61286);d.register("mesh",function(s,a,r,o,u,v,l,c,p,g,m){return this.displayList.add(new f(this.scene,s,a,r,o,u,v,l,c,p,g,m))})},23464:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),d=f,s=f;d=e(57410),s=e(6317),h.exports={renderWebGL:d,renderCanvas:s}},57410:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(73329),d=function(s,a,r,o){var u=a.faces,v=u.length;if(v!==0){r.addToRenderList(a);var l=s.pipelines.set(a.pipeline,a),c=f(a,r,o).calc;s.pipelines.preBatch(a);for(var p=l.setGameObject(a),g=l.vertexViewF32,m=l.vertexViewU32,T=l.vertexCount*l.currentShader.vertexComponentCount-1,S=a.tintFill,P=[],E=a.debugCallback,R=c.a,A=c.b,w=c.c,O=c.d,L=c.e,F=c.f,I=a.viewPosition.z,B=a.hideCCW,G=r.roundPixels,N=r.alpha*a.alpha,U=0,Y=0;Y<v;Y++){var X=u[Y];X.isInView(r,B,I,N,R,A,w,O,L,F,G)&&(l.shouldFlush(3)&&(l.flush(),p=l.setGameObject(a),T=0),T=X.load(g,m,T,p,S),U++,l.vertexCount+=3,l.currentBatch.count=l.vertexCount-l.currentBatch.start,E&&P.push(X))}a.totalFrame+=U,E&&E.call(a,a,P),s.pipelines.postBatch(a)}};h.exports=d},44139:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(64937),s=e(89980),a=e(94456),r=e(85769),o=new f({Extends:s,Mixins:[d.AlphaSingle,d.BlendMode,d.Depth,d.GetBounds,d.Mask,d.Origin,d.Pipeline,d.PostPipeline,d.ScrollFactor,d.Texture,d.Transform,d.Visible,a],initialize:function(v,l,c,p,g,m,T,S,P,E,R){s.call(this,v,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var A=v.textures.getFrame(p,g);this.is3Slice=!E&&!R,A.scale9&&(this.is3Slice=A.is3Slice);for(var w=this.is3Slice?18:54,O=0;O<w;O++)this.vertices.push(new r);this.setPosition(l,c),this.setTexture(p,g),this.setSlices(m,T,S,P,E,R,!1),this.setOrigin(.5,.5),this.initPipeline(),this.initPostPipeline()},setSlices:function(u,v,l,c,p,g,m){l===void 0&&(l=10),c===void 0&&(c=10),p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=!1);var T=this.frame,S=!1;if(this.is3Slice&&m&&p!==0&&g!==0&&(S=!0),S)console.warn("Cannot change 9 slice to 3 slice");else{if(T.scale9&&!m){var P=T.data.scale9Borders,E=P.x,R=P.y;l=E,c=T.width-P.w-E,p=R,g=T.height-P.h-R,u===void 0&&(u=T.width),v===void 0&&(v=T.height)}else u===void 0&&(u=256),v===void 0&&(v=256);this._width=u,this._height=v,this.leftWidth=l,this.rightWidth=c,this.topHeight=p,this.bottomHeight=g,this.is3Slice&&(v=T.height,this._height=v,this.topHeight=v,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var u=this.leftWidth,v=this.rightWidth,l=this.topHeight,c=this.bottomHeight,p=this.frame.width,g=this.frame.height;this.updateQuadUVs(0,0,0,u/p,l/g),this.updateQuadUVs(6,u/p,0,1-v/p,l/g),this.updateQuadUVs(12,1-v/p,0,1,l/g),this.is3Slice||(this.updateQuadUVs(18,0,l/g,u/p,1-c/g),this.updateQuadUVs(24,u/p,l/g,1-v/p,1-c/g),this.updateQuadUVs(30,1-v/p,l/g,1,1-c/g),this.updateQuadUVs(36,0,1-c/g,u/p,1),this.updateQuadUVs(42,u/p,1-c/g,1-v/p,1),this.updateQuadUVs(48,1-v/p,1-c/g,1,1))},updateVertices:function(){var u=this.leftWidth,v=this.rightWidth,l=this.topHeight,c=this.bottomHeight,p=this.width,g=this.height;this.updateQuad(0,-.5,.5,-.5+u/p,.5-l/g),this.updateQuad(6,-.5+u/p,.5,.5-v/p,.5-l/g),this.updateQuad(12,.5-v/p,.5,.5,.5-l/g),this.is3Slice||(this.updateQuad(18,-.5,.5-l/g,-.5+u/p,-.5+c/g),this.updateQuad(24,-.5+u/p,.5-l/g,.5-v/p,-.5+c/g),this.updateQuad(30,.5-v/p,.5-l/g,.5,-.5+c/g),this.updateQuad(36,-.5,-.5+c/g,-.5+u/p,-.5),this.updateQuad(42,-.5+u/p,-.5+c/g,.5-v/p,-.5),this.updateQuad(48,.5-v/p,-.5+c/g,.5,-.5))},updateQuad:function(u,v,l,c,p){var g=this.width,m=this.height,T=this.originX,S=this.originY,P=this.vertices;P[u+0].resize(v,l,g,m,T,S),P[u+1].resize(v,p,g,m,T,S),P[u+2].resize(c,l,g,m,T,S),P[u+3].resize(v,p,g,m,T,S),P[u+4].resize(c,p,g,m,T,S),P[u+5].resize(c,l,g,m,T,S)},updateQuadUVs:function(u,v,l,c,p){var g=this.vertices,m=this.frame,T=m.u0,S=m.v0,P=m.u1,E=m.v1;if(T!==0||P!==1){var R=P-T;v=T+v*R,c=T+c*R}if(S!==0||E!==1){var A=E-S;l=S+l*A,p=S+p*A}g[u+0].setUVs(v,l),g[u+1].setUVs(v,p),g[u+2].setUVs(c,l),g[u+3].setUVs(v,p),g[u+4].setUVs(c,p),g[u+5].setUVs(c,l)},clearTint:function(){return this.setTint(16777215),this},setTint:function(u){return u===void 0&&(u=16777215),this.tint=u,this.tintFill=!1,this},setTintFill:function(u){return this.setTint(u),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(u){this._width=Math.max(u,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(u){this.is3Slice||(this._height=Math.max(u,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(u){this.scaleX=u/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(u){this.scaleY=u/this.height}},setSize:function(u,v){this.width=u,this.height=v;var l=this.input;return l&&!l.customHitArea&&(l.hitArea.width=this.width,l.hitArea.height=this.height),this},setDisplaySize:function(u,v){return this.displayWidth=u,this.displayHeight=v,this},originX:{get:function(){return this._originX},set:function(u){this._originX=u,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(u){this._originY=u,this.updateVertices()}},setOrigin:function(u,v){return u===void 0&&(u=.5),v===void 0&&(v=u),this._originX=u,this._originY=v,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var u=this.frame.height;this._height=u,this.topHeight=u,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});h.exports=o},40964:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(88933),d=e(99325),s=e(20494),a=e(10850),r=e(44139);d.register("nineslice",function(o,u){o===void 0&&(o={});var v=s(o,"key",null),l=s(o,"frame",null),c=a(o,"width",256),p=a(o,"height",256),g=a(o,"leftWidth",10),m=a(o,"rightWidth",10),T=a(o,"topHeight",0),S=a(o,"bottomHeight",0),P=new r(this.scene,0,0,v,l,c,p,g,m,T,S);return u!==void 0&&(o.add=u),f(this.scene,P,o),P})},53778:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(44139),d=e(61286);d.register("nineslice",function(s,a,r,o,u,v,l,c,p,g){return this.displayList.add(new f(this.scene,s,a,r,o,u,v,l,c,p,g))})},94456:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),d=f,s=f;d=e(27420),h.exports={renderWebGL:d,renderCanvas:s}},27420:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(73329),d=e(75512),s=function(a,r,o,u){var v=r.vertices,l=v.length;if(l!==0){o.addToRenderList(r);var c=a.pipelines.set(r.pipeline,r),p=f(r,o,u,!1).calc;a.pipelines.preBatch(r);var g=c.setGameObject(r),m=c.vertexViewF32,T=c.vertexViewU32,S=c.vertexCount*c.currentShader.vertexComponentCount-1,P=o.roundPixels,E=r.tintFill,R=o.alpha*r.alpha,A=d.getTintAppendFloatAlpha(r.tint,R),w=c.vertexAvailable(),O=-1;w<l&&(O=w);for(var L=0;L<l;L++){var F=v[L];L===O&&(c.flush(),g=c.setGameObject(r),S=0),m[++S]=p.getXRound(F.vx,F.vy,P),m[++S]=p.getYRound(F.vx,F.vy,P),m[++S]=F.u,m[++S]=F.v,m[++S]=g,m[++S]=E,T[++S]=A,c.vertexCount++,c.currentBatch.count=c.vertexCount-c.currentBatch.start}a.pipelines.postBatch(r)}};h.exports=s},19737:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(93025),s=e(22946),a=e(21902),r=e(4840),o=e(15978),u=new f({Extends:d,initialize:function(l){d.call(this,l,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var v=this.propertyValue,l=v,c=this.defaultEmit,p=this.defaultUpdate;if(this.method===9){this.start=v[0],this.ease=a("Linear"),this.interpolation=r("linear"),c=this.easedValueEmit,p=this.easeValueUpdate,l=v[0],this.active=!0;for(var g=0;g<v.length;g++){var m=o(v[g]);this.r.push(m.r),this.g.push(m.g),this.b.push(m.b)}}return this.onEmit=c,this.onUpdate=p,this.current=l,this},setEase:function(v){this.easeName=v,this.ease=a(v)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(v,l,c){var p=this.ease(c),g=this.interpolation(this.r,p),m=this.interpolation(this.g,p),T=this.interpolation(this.b,p),S=s(g,m,T);return this.current=S,S}});h.exports=u},93025:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(17489),d=e(82897),s=e(56694),a=e(61616),r=e(21902),o=e(72632),u=e(4840),v=e(88462),l=e(1071),c=new s({initialize:function(g,m,T){T===void 0&&(T=!1),this.propertyKey=g,this.propertyValue=m,this.defaultValue=m,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=T,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(p,g){p===void 0&&(p={}),g&&(this.propertyKey=g),this.propertyValue=o(p,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(p){var g;switch(this.method){case 1:case 3:case 8:g=p;break;case 2:this.propertyValue.indexOf(p)>=0&&(g=p);break;case 4:var m=(this.end-this.start)/this.steps;g=v(p,m),this.counter=g;break;case 5:case 6:case 7:g=d(p,this.start,this.end);break;case 9:g=this.start[0];break}return this.current=g,this},getMethod:function(){var p=this.propertyValue;if(p===null)return 0;var g=typeof p;if(g==="number")return 1;if(Array.isArray(p))return 2;if(g==="function")return 3;if(g==="object"){if(this.hasBoth(p,"start","end"))return this.has(p,"steps")?4:5;if(this.hasBoth(p,"min","max"))return 6;if(this.has(p,"random"))return 7;if(this.hasEither(p,"onEmit","onUpdate"))return 8;if(this.hasEither(p,"values","interpolation"))return 9}return 0},setMethods:function(){var p=this.propertyValue,g=p,m=this.defaultEmit,T=this.defaultUpdate;switch(this.method){case 1:m=this.staticValueEmit;break;case 2:m=this.randomStaticValueEmit,g=p[0];break;case 3:this._onEmit=p,m=this.proxyEmit;break;case 4:this.start=p.start,this.end=p.end,this.steps=p.steps,this.counter=this.start,this.yoyo=this.has(p,"yoyo")?p.yoyo:!1,this.direction=0,m=this.steppedEmit,g=this.start;break;case 5:this.start=p.start,this.end=p.end;var S=this.has(p,"ease")?p.ease:"Linear";this.ease=r(S,p.easeParams),m=this.has(p,"random")&&p.random?this.randomRangedValueEmit:this.easedValueEmit,T=this.easeValueUpdate,g=this.start;break;case 6:this.start=p.min,this.end=p.max,m=this.has(p,"int")&&p.int?this.randomRangedIntEmit:this.randomRangedValueEmit,g=this.start;break;case 7:var P=p.random;Array.isArray(P)&&(this.start=P[0],this.end=P[1]),m=this.randomRangedIntEmit,g=this.start;break;case 8:this._onEmit=this.has(p,"onEmit")?p.onEmit:this.defaultEmit,this._onUpdate=this.has(p,"onUpdate")?p.onUpdate:this.defaultUpdate,m=this.proxyEmit,T=this.proxyUpdate;break;case 9:this.start=p.values;var E=this.has(p,"ease")?p.ease:"Linear";this.ease=r(E,p.easeParams),this.interpolation=u(p.interpolation),m=this.easedValueEmit,T=this.easeValueUpdate,g=this.start[0];break}return this.onEmit=m,this.onUpdate=T,this.current=g,this},has:function(p,g){return p.hasOwnProperty(g)},hasBoth:function(p,g,m){return p.hasOwnProperty(g)&&p.hasOwnProperty(m)},hasEither:function(p,g,m){return p.hasOwnProperty(g)||p.hasOwnProperty(m)},defaultEmit:function(p,g,m){return m},defaultUpdate:function(p,g,m,T){return T},proxyEmit:function(p,g,m){var T=this._onEmit(p,g,m);return this.current=T,T},proxyUpdate:function(p,g,m,T){var S=this._onUpdate(p,g,m,T);return this.current=S,S},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var p=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[p],this.current},randomRangedValueEmit:function(p,g){var m=a(this.start,this.end);return p&&p.data[g]&&(p.data[g].min=m,p.data[g].max=this.end),this.current=m,m},randomRangedIntEmit:function(p,g){var m=f(this.start,this.end);return p&&p.data[g]&&(p.data[g].min=m,p.data[g].max=this.end),this.current=m,m},steppedEmit:function(){var p=this.counter,g=p,m=(this.end-this.start)/this.steps;if(this.yoyo){var T;this.direction===0?(g+=m,g>=this.end&&(T=g-this.end,g=this.end-T,this.direction=1)):(g-=m,g<=this.start&&(T=this.start-g,g=this.start+T,this.direction=0)),this.counter=g}else this.counter=l(g+m,this.start,this.end);return this.current=p,p},easedValueEmit:function(p,g){if(p&&p.data[g]){var m=p.data[g];m.min=this.start,m.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(p,g,m){var T=p.data[g],S,P=this.ease(m);return this.interpolation?S=this.interpolation(this.start,P):S=(T.max-T.min)*P+T.min,this.current=S,S},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});h.exports=c},87811:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(72632),s=e(30891),a=new f({Extends:s,initialize:function(o,u,v,l,c){if(typeof o=="object"){var p=o;o=d(p,"x",0),u=d(p,"y",0),v=d(p,"power",0),l=d(p,"epsilon",100),c=d(p,"gravity",50)}else o===void 0&&(o=0),u===void 0&&(u=0),v===void 0&&(v=0),l===void 0&&(l=100),c===void 0&&(c=50);s.call(this,o,u,!0),this._gravity=c,this._power=v*c,this._epsilon=l*l},update:function(r,o){var u=this.x-r.x,v=this.y-r.y,l=u*u+v*v;if(l!==0){var c=Math.sqrt(l);l<this._epsilon&&(l=this._epsilon);var p=this._power*o/(l*c)*100;r.velocityX+=u*p,r.velocityY+=v*p}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(r){this._epsilon=r*r}},power:{get:function(){return this._power/this._gravity},set:function(r){this._power=r*this._gravity}},gravity:{get:function(){return this._gravity},set:function(r){var o=this.power;this._gravity=r,this.power=o}}});h.exports=a},14909:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(16569),d=e(82897),s=e(56694),a=e(75606),r=e(74118),o=e(2386),u=e(93736),v=new s({initialize:function(c){this.emitter=c,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new u,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=c.scene,this.anims=new f(this),this.bounds=new r},emit:function(l,c,p,g,m,T){return this.emitter.emit(l,c,p,g,m,T)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(l,c){l===void 0&&(l=0),c===void 0&&(c=0),this.x=l,this.y=c},fire:function(l,c){var p=this.emitter,g=p.ops,m=p.getAnim();if(m?this.anims.play(m):(this.frame=p.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(p.getEmitZone(this),l===void 0?this.x+=g.x.onEmit(this,"x"):g.x.steps>0?this.x+=l+g.x.onEmit(this,"x"):this.x+=l,c===void 0?this.y+=g.y.onEmit(this,"y"):g.y.steps>0?this.y+=c+g.y.onEmit(this,"y"):this.y+=c,this.life=g.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=g.delay.onEmit(this,"delay"),this.holdCurrent=g.hold.onEmit(this,"hold"),this.scaleX=g.scaleX.onEmit(this,"scaleX"),this.scaleY=g.scaleY.active?g.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=g.rotate.onEmit(this,"rotate"),this.rotation=a(this.angle),p.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&p.getDeathZone(this))return this.lifeCurrent=0,!1;var T=g.speedX.onEmit(this,"speedX"),S=g.speedY.active?g.speedY.onEmit(this,"speedY"):T;if(p.radial){var P=a(g.angle.onEmit(this,"angle"));this.velocityX=Math.cos(P)*Math.abs(T),this.velocityY=Math.sin(P)*Math.abs(S)}else if(p.moveTo){var E=g.moveToX.onEmit(this,"moveToX"),R=g.moveToY.onEmit(this,"moveToY"),A=this.life/1e3;this.velocityX=(E-this.x)/A,this.velocityY=(R-this.y)/A}else this.velocityX=T,this.velocityY=S;return p.acceleration&&(this.accelerationX=g.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=g.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=g.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=g.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=g.bounce.onEmit(this,"bounce"),this.alpha=g.alpha.onEmit(this,"alpha"),g.color.active?this.tint=g.color.onEmit(this,"tint"):this.tint=g.tint.onEmit(this,"tint"),!0},update:function(l,c,p){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=l,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=l,!1;this.anims.update(0,l);var g=this.emitter,m=g.ops,T=1-this.lifeCurrent/this.life;if(this.lifeT=T,this.x=m.x.onUpdate(this,"x",T,this.x),this.y=m.y.onUpdate(this,"y",T,this.y),g.moveTo){var S=m.moveToX.onUpdate(this,"moveToX",T,g.moveToX),P=m.moveToY.onUpdate(this,"moveToY",T,g.moveToY),E=this.lifeCurrent/1e3;this.velocityX=(S-this.x)/E,this.velocityY=(P-this.y)/E}return this.computeVelocity(g,l,c,p,T),this.scaleX=m.scaleX.onUpdate(this,"scaleX",T,this.scaleX),m.scaleY.active?this.scaleY=m.scaleY.onUpdate(this,"scaleY",T,this.scaleY):this.scaleY=this.scaleX,this.angle=m.rotate.onUpdate(this,"rotate",T,this.angle),this.rotation=a(this.angle),g.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=d(m.alpha.onUpdate(this,"alpha",T,this.alpha),0,1),m.color.active?this.tint=m.color.onUpdate(this,"color",T,this.tint):this.tint=m.tint.onUpdate(this,"tint",T,this.tint),this.lifeCurrent-=l,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(l,c,p,g,m){var T=l.ops,S=this.velocityX,P=this.velocityY,E=T.accelerationX.onUpdate(this,"accelerationX",m,this.accelerationX),R=T.accelerationY.onUpdate(this,"accelerationY",m,this.accelerationY),A=T.maxVelocityX.onUpdate(this,"maxVelocityX",m,this.maxVelocityX),w=T.maxVelocityY.onUpdate(this,"maxVelocityY",m,this.maxVelocityY);this.bounce=T.bounce.onUpdate(this,"bounce",m,this.bounce),S+=l.gravityX*p+E*p,P+=l.gravityY*p+R*p,S=d(S,-A,A),P=d(P,-w,w),this.velocityX=S,this.velocityY=P,this.x+=S*p,this.y+=P*p,l.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var O=0;O<g.length;O++){var L=g[O];L.active&&L.update(this,c,p,m)}},setSizeToFrame:function(){},getBounds:function(l){l===void 0&&(l=this.emitter.getWorldTransformMatrix());var c=Math.abs(l.scaleX)*this.scaleX,p=Math.abs(l.scaleY)*this.scaleY,g=this.x,m=this.y,T=this.rotation,S=this.frame.width*c/2,P=this.frame.height*p/2,E=this.bounds,R=new u(g-S,m-P),A=new u(g+S,m-P),w=new u(g-S,m+P),O=new u(g+S,m+P);return T!==0&&(o(R,g,m,T),o(A,g,m,T),o(w,g,m,T),o(O,g,m,T)),l.transformPoint(R.x,R.y,R),l.transformPoint(A.x,A.y,A),l.transformPoint(w.x,w.y,w),l.transformPoint(O.x,O.y,O),E.x=Math.min(R.x,A.x,w.x,O.x),E.y=Math.min(R.y,A.y,w.y,O.y),E.width=Math.max(R.x,A.x,w.x,O.x)-E.x,E.height=Math.max(R.y,A.y,w.y,O.y)-E.y,E},destroy:function(){this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});h.exports=v},73106:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(30891),s=e(74118),a=new f({Extends:d,initialize:function(o,u,v,l,c,p,g,m){c===void 0&&(c=!0),p===void 0&&(p=!0),g===void 0&&(g=!0),m===void 0&&(m=!0),d.call(this,o,u,!0),this.bounds=new s(o,u,v,l),this.collideLeft=c,this.collideRight=p,this.collideTop=g,this.collideBottom=m},update:function(r){var o=this.bounds,u=-r.bounce,v=r.worldPosition;v.x<o.x&&this.collideLeft?(r.x+=o.x-v.x,r.velocityX*=u):v.x>o.right&&this.collideRight&&(r.x-=v.x-o.right,r.velocityX*=u),v.y<o.y&&this.collideTop?(r.y+=o.y-v.y,r.velocityY*=u):v.y>o.bottom&&this.collideBottom&&(r.y-=v.y-o.bottom,r.velocityY*=u)}});h.exports=a},9216:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(64937),s=e(48129),a=e(29538),r=e(69361),o=e(54213),u=e(19737),v=e(93025),l=e(40629),c=e(89980),p=e(72632),g=e(72861),m=e(87811),T=e(53523),S=e(19256),P=e(7782),E=e(71207),R=e(14655),A=e(14909),w=e(68433),O=e(74118),L=e(90205),F=e(66458),I=e(69116),B=e(17922),G=e(69360),N=e(93736),U=e(1071),Y=e(73106),X=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],b=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],z=new f({Extends:c,Mixins:[d.AlphaSingle,d.BlendMode,d.Depth,d.Mask,d.Pipeline,d.PostPipeline,d.ScrollFactor,d.Texture,d.Transform,d.Visible,I],initialize:function(V,k,W,H,$){c.call(this,V,"ParticleEmitter"),this.particleClass=A,this.ops={accelerationX:new v("accelerationX",0),accelerationY:new v("accelerationY",0),alpha:new v("alpha",1),angle:new v("angle",{min:0,max:360},!0),bounce:new v("bounce",0),color:new u("color"),delay:new v("delay",0,!0),hold:new v("hold",0,!0),lifespan:new v("lifespan",1e3,!0),maxVelocityX:new v("maxVelocityX",1e4),maxVelocityY:new v("maxVelocityY",1e4),moveToX:new v("moveToX",0),moveToY:new v("moveToY",0),quantity:new v("quantity",1,!0),rotate:new v("rotate",0),scaleX:new v("scaleX",1),scaleY:new v("scaleY",1),speedX:new v("speedX",0,!0),speedY:new v("speedY",0,!0),tint:new v("tint",16777215),x:new v("x",0),y:new v("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new N,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new G,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new E(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(k,W),this.setTexture(H),$&&this.setConfig($)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(D){if(!D)return this;var V=0,k="",W=this.ops;for(V=0;V<b.length;V++)k=b[V],W[k].loadConfig(D);for(V=0;V<X.length;V++)k=X[V],S(D,k)&&(this[k]=p(D,k));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,S(D,"speed")&&(W.speedX.loadConfig(D,"speed"),W.speedY.active=!1),(T(D,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),S(D,"scale")&&(W.scaleX.loadConfig(D,"scale"),W.scaleY.active=!1),S(D,"callbackScope")){var H=p(D,"callbackScope",null);this.emitCallbackScope=H,this.deathCallbackScope=H}if(S(D,"emitZone")&&this.addEmitZone(D.emitZone),S(D,"deathZone")&&this.addDeathZone(D.deathZone),S(D,"bounds")){var $=this.addParticleBounds(D.bounds);$.collideLeft=p(D,"collideLeft",!0),$.collideRight=p(D,"collideRight",!0),$.collideTop=p(D,"collideTop",!0),$.collideBottom=p(D,"collideBottom",!0)}return S(D,"followOffset")&&this.followOffset.setFromObject(p(D,"followOffset",0)),S(D,"texture")&&this.setTexture(D.texture),S(D,"frame")?this.setEmitterFrame(D.frame):S(D,"anim")&&this.setAnim(D.anim),S(D,"reserve")&&this.reserve(D.reserve),S(D,"advance")&&this.fastForward(D.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(l.START,this),this},toJSON:function(){var D=s(this),V=0,k="";for(V=0;V<X.length;V++)k=X[V],D[k]=this[k];var W=this.ops;for(V=0;V<b.length;V++)k=b[V],W[k]&&(D[k]=W[k].toJSON());return W.speedY.active||(delete D.speedX,D.speed=W.speedX.toJSON()),this.scaleX===this.scaleY&&(delete D.scaleX,delete D.scaleY,D.scale=W.scaleX.toJSON()),D},resetCounters:function(D,V){var k=this.counters;k.fill(0),k[0]=D,V&&(k[5]=1)},startFollow:function(D,V,k,W){return V===void 0&&(V=0),k===void 0&&(k=0),W===void 0&&(W=!1),this.follow=D,this.followOffset.set(V,k),this.trackVisible=W,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var D=this.frames,V=D.length,k;return V===1?k=D[0]:this.randomFrame?k=g(D):(k=D[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===V&&(this.currentFrame=0))),this.texture.get(k)},setEmitterFrame:function(D,V,k){V===void 0&&(V=!0),k===void 0&&(k=1),this.randomFrame=V,this.frameQuantity=k,this.currentFrame=0;var W=typeof D;if(this.frames.length=0,Array.isArray(D))this.frames=this.frames.concat(D);else if(W==="string"||W==="number")this.frames.push(D);else if(W==="object"){var H=D;D=p(H,"frames",null),D&&(this.frames=this.frames.concat(D));var $=p(H,"cycle",!1);this.randomFrame=!$,this.frameQuantity=p(H,"quantity",k)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var D=this.anims,V=D.length;if(V===0)return null;if(V===1)return D[0];if(this.randomAnim)return g(D);var k=D[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=U(this.currentAnim+1,0,V)),k},setAnim:function(D,V,k){V===void 0&&(V=!0),k===void 0&&(k=1),this.randomAnim=V,this.animQuantity=k,this.currentAnim=0;var W=typeof D;if(this.anims.length=0,Array.isArray(D))this.anims=this.anims.concat(D);else if(W==="string")this.anims.push(D);else if(W==="object"){var H=D;D=p(H,"anims",null),D&&(this.anims=this.anims.concat(D));var $=p(H,"cycle",!1);this.randomAnim=!$,this.animQuantity=p(H,"quantity",k)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(D){return D===void 0&&(D=!0),this.radial=D,this},addParticleBounds:function(D,V,k,W,H,$,K,Z){if(typeof D=="object"){var j=D;D=j.x,V=j.y,k=S(j,"w")?j.w:j.width,W=S(j,"h")?j.h:j.height}return this.addParticleProcessor(new Y(D,V,k,W,H,$,K,Z))},setParticleSpeed:function(D,V){return V===void 0&&(V=D),this.ops.speedX.onChange(D),D===V?this.ops.speedY.active=!1:this.ops.speedY.onChange(V),this.radial=!0,this},setParticleScale:function(D,V){return D===void 0&&(D=1),V===void 0&&(V=D),this.ops.scaleX.onChange(D),this.ops.scaleY.onChange(V),this},setParticleGravity:function(D,V){return this.gravityX=D,this.gravityY=V,this},setParticleAlpha:function(D){return this.ops.alpha.onChange(D),this},setParticleTint:function(D){return this.ops.tint.onChange(D),this},setEmitterAngle:function(D){return this.ops.angle.onChange(D),this},setParticleLifespan:function(D){return this.ops.lifespan.onChange(D),this},setQuantity:function(D){return this.quantity=D,this},setFrequency:function(D,V){return this.frequency=D,this.flowCounter=D>0?D:0,V&&(this.quantity=V),this},addDeathZone:function(D){Array.isArray(D)||(D=[D]);for(var V,k=[],W=0;W<D.length;W++)if(V=D[W],V instanceof r)k.push(V);else if(typeof V.contains=="function")V=new r(V,!0),k.push(V);else{var H=p(V,"type","onEnter"),$=p(V,"source",null);if($&&typeof $.contains=="function"){var K=H==="onEnter";V=new r($,K),k.push(V)}}return this.deathZones=this.deathZones.concat(k),k},removeDeathZone:function(D){return F(this.deathZones,D),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(D){Array.isArray(D)||(D=[D]);for(var V,k=[],W=0;W<D.length;W++)if(V=D[W],V instanceof w||V instanceof o)k.push(V);else{var H=p(V,"source",null);if(H){var $=p(V,"type","random");if($==="random"&&typeof H.getRandomPoint=="function")V=new w(H),k.push(V);else if($==="edge"&&typeof H.getPoints=="function"){var K=p(V,"quantity",1),Z=p(V,"stepRate",0),j=p(V,"yoyo",!1),J=p(V,"seamless",!0),Q=p(V,"total",-1);V=new o(H,K,Z,j,J,Q),k.push(V)}}}return this.emitZones=this.emitZones.concat(k),k},removeEmitZone:function(D){return F(this.emitZones,D),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(D){var V=this.emitZones,k=V.length;if(k!==0){var W=V[this.zoneIndex];W.getPoint(D),W.total>-1&&(this.zoneTotal++,this.zoneTotal===W.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===k&&(this.zoneIndex=0)))}},getDeathZone:function(D){for(var V=this.deathZones,k=0;k<V.length;k++){var W=V[k];if(W.willKill(D))return this.emit(l.DEATH_ZONE,this,D,W),!0}return!1},setEmitZone:function(D){var V;return isFinite(D)?V=D:V=this.emitZones.indexOf(D),V>=0&&(this.zoneIndex=V),this},addParticleProcessor:function(D){return this.processors.exists(D)||(D.emitter&&D.emitter.removeParticleProcessor(D),this.processors.add(D),D.emitter=this),D},removeParticleProcessor:function(D){return this.processors.exists(D)&&(this.processors.remove(D,!0),D.emitter=null),D},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(D){return this.addParticleProcessor(new m(D))},reserve:function(D){var V=this.dead;if(this.maxParticles>0){var k=this.getParticleCount();k+D>this.maxParticles&&(D=this.maxParticles-(k+D))}for(var W=0;W<D;W++)V.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(D,V){return D===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof D=="function"&&(this.emitCallback=D,V&&(this.emitCallbackScope=V)),this},onParticleDeath:function(D,V){return D===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof D=="function"&&(this.deathCallback=D,V&&(this.deathCallbackScope=V)),this},killAll:function(){for(var D=this.dead,V=this.alive;V.length>0;)D.push(V.pop());return this},forEachAlive:function(D,V){for(var k=this.alive,W=k.length,H=0;H<W;H++)D.call(V,k[H],this);return this},forEachDead:function(D,V){for(var k=this.dead,W=k.length,H=0;H<W;H++)D.call(V,k[H],this);return this},start:function(D,V){return D===void 0&&(D=0),this.emitting||(D>0&&this.fastForward(D),this.emitting=!0,this.resetCounters(this.frequency,!0),V!==void 0&&(this.duration=Math.abs(V)),this.emit(l.START,this)),this},stop:function(D){return D===void 0&&(D=!1),this.emitting&&(this.emitting=!1,D&&this.killAll(),this.emit(l.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(D,V){return D===void 0&&(D=""),V===void 0&&(V=this.true),this.sortProperty=D,this.sortOrderAsc=V,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(D){return this.sortProperty!==""?D=this.depthSortCallback:D=null,this.sortCallback=D,this},depthSort:function(){return B(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(D,V){var k=this.sortProperty;return this.sortOrderAsc?D[k]-V[k]:V[k]-D[k]},flow:function(D,V,k){return V===void 0&&(V=1),this.emitting=!1,this.frequency=D,this.quantity=V,k!==void 0&&(this.stopAfter=k),this.start()},explode:function(D,V,k){this.frequency=-1,this.resetCounters(-1,!0);var W=this.emitParticle(D,V,k);return this.emit(l.EXPLODE,this,W),W},emitParticleAt:function(D,V,k){return this.emitParticle(k,D,V)},emitParticle:function(D,V,k){if(!this.atLimit()){D===void 0&&(D=this.ops.quantity.onEmit());for(var W=this.dead,H=this.stopAfter,$=this.follow?this.follow.x+this.followOffset.x:V,K=this.follow?this.follow.y+this.followOffset.y:k,Z=0;Z<D;Z++){var j=W.pop();if(j||(j=new this.particleClass(this)),j.fire($,K)?(this.particleBringToTop?this.alive.push(j):this.alive.unshift(j),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,j,this)):this.dead.push(j),H>0&&(this.stopCounter++,this.stopCounter>=H)||this.atLimit())break}return j}},fastForward:function(D,V){V===void 0&&(V=1e3/60);var k=0;for(this.skipping=!0;k<Math.abs(D);)this.preUpdate(0,V),k+=V;return this.skipping=!1,this},preUpdate:function(D,V){V*=this.timeScale;var k=V/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var W=this.getProcessors(),H=this.alive,$=this.dead,K=0,Z=[],j=H.length;for(K=0;K<j;K++){var J=H[K];J.update(V,k,W)&&Z.push({index:K,particle:J})}if(j=Z.length,j>0){var Q=this.deathCallback,q=this.deathCallbackScope;for(K=j-1;K>=0;K--){var _=Z[K];H.splice(_.index,1),$.push(_.particle),Q&&Q.call(q,_.particle),_.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&H.length===0&&(this.completeFlag=0,this.emit(l.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=V;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=V,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(D){for(var V=this.getWorldTransformMatrix(),k=this.alive,W=k.length,H=[],$=0;$<W;$++){var K=k[$];L(D,K.getBounds(V))&&H.push(K)}return H},getBounds:function(D,V,k,W){D===void 0&&(D=0),V===void 0&&(V=0),k===void 0&&(k=1e3/60),W===void 0&&(W=new O);var H=this.getWorldTransformMatrix(),$,K,Z=this.alive,j=!1;if(W.setTo(0,0,0,0),V>0){var J=0;for(this.skipping=!0;J<Math.abs(V);){for(this.preUpdate(0,k),$=0;$<Z.length;$++)K=Z[$].getBounds(H),j?R(W,K):(j=!0,a(K,W));J+=k}this.skipping=!1}else for($=0;$<Z.length;$++)K=Z[$].getBounds(H),j?R(W,K):(j=!0,a(K,W));return D>0&&P(W,D,D),W},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(D){this.ops.x.onChange(D)}},particleY:{get:function(){return this.ops.y.current},set:function(D){this.ops.y.onChange(D)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(D){this.ops.accelerationX.onChange(D)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(D){this.ops.accelerationY.onChange(D)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(D){this.ops.maxVelocityX.onChange(D)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(D){this.ops.maxVelocityY.onChange(D)}},speed:{get:function(){return this.ops.speedX.current},set:function(D){this.ops.speedX.onChange(D),this.ops.speedY.onChange(D)}},speedX:{get:function(){return this.ops.speedX.current},set:function(D){this.ops.speedX.onChange(D)}},speedY:{get:function(){return this.ops.speedY.current},set:function(D){this.ops.speedY.onChange(D)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(D){this.ops.moveToX.onChange(D)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(D){this.ops.moveToY.onChange(D)}},bounce:{get:function(){return this.ops.bounce.current},set:function(D){this.ops.bounce.onChange(D)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(D){this.ops.scaleX.onChange(D)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(D){this.ops.scaleY.onChange(D)}},particleColor:{get:function(){return this.ops.color.current},set:function(D){this.ops.color.onChange(D)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(D){this.ops.color.setEase(D)}},particleTint:{get:function(){return this.ops.tint.current},set:function(D){this.ops.tint.onChange(D)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(D){this.ops.alpha.onChange(D)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(D){this.ops.lifespan.onChange(D)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(D){this.ops.angle.onChange(D)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(D){this.ops.rotate.onChange(D)}},quantity:{get:function(){return this.ops.quantity.current},set:function(D){this.ops.quantity.onChange(D)}},delay:{get:function(){return this.ops.delay.current},set:function(D){this.ops.delay.onChange(D)}},hold:{get:function(){return this.ops.hold.current},set:function(D){this.ops.hold.onChange(D)}},flowCounter:{get:function(){return this.counters[0]},set:function(D){this.counters[0]=D}},frameCounter:{get:function(){return this.counters[1]},set:function(D){this.counters[1]=D}},animCounter:{get:function(){return this.counters[2]},set:function(D){this.counters[2]=D}},elapsed:{get:function(){return this.counters[3]},set:function(D){this.counters[3]=D}},stopCounter:{get:function(){return this.counters[4]},set:function(D){this.counters[4]=D}},completeFlag:{get:function(){return this.counters[5]},set:function(D){this.counters[5]=D}},zoneIndex:{get:function(){return this.counters[6]},set:function(D){this.counters[6]=D}},zoneTotal:{get:function(){return this.counters[7]},set:function(D){this.counters[7]=D}},currentFrame:{get:function(){return this.counters[8]},set:function(D){this.counters[8]=D}},currentAnim:{get:function(){return this.counters[9]},set:function(D){this.counters[9]=D}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var D,V=this.ops;for(D=0;D<b.length;D++){var k=b[D];V[k].destroy()}for(D=0;D<this.alive.length;D++)this.alive[D].destroy();for(D=0;D<this.dead.length;D++)this.dead[D].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});h.exports=z},10456:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(90205),d=e(69360),s=new d,a=new d,r=new d,o=new d,u=function(v,l,c,p){var g=s,m=a,T=r,S=o;p?(S.loadIdentity(),S.multiply(p),S.translate(l.x,l.y),S.rotate(l.rotation),S.scale(l.scaleX,l.scaleY)):S.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY);var P=v.currentContext,E=c.roundPixels,R=c.alpha,A=l.alpha,w=l.alive,O=w.length,L=l.viewBounds;if(!(!l.visible||O===0||L&&!f(L,c.worldView))){l.sortCallback&&l.depthSort(),c.addToRenderList(l);var F=l.scrollFactorX,I=l.scrollFactorY;P.save(),P.globalCompositeOperation=v.blendModes[l.blendMode];for(var B=0;B<O;B++){var G=w[B],N=G.alpha*A*R;if(!(N<=0||G.scaleX===0||G.scaleY===0)){T.applyITRS(G.x,G.y,G.rotation,G.scaleX,G.scaleY),g.copyFrom(c.matrix),g.multiplyWithOffset(S,-c.scrollX*F,-c.scrollY*I),T.e=G.x,T.f=G.y,g.multiply(T,m);var U=G.frame,Y=U.canvasData;if(Y.width>0&&Y.height>0){var X=-U.halfWidth,b=-U.halfHeight;P.globalAlpha=N,P.save(),m.setToContext(P),E&&(X=Math.round(X),b=Math.round(b)),P.imageSmoothingEnabled=!U.source.scaleMode,P.drawImage(U.source.image,Y.x,Y.y,Y.width,Y.height,X,b,Y.width,Y.height),P.restore()}}}P.restore()}};h.exports=u},765:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(88933),d=e(99325),s=e(20494),a=e(72632),r=e(9216);d.register("particles",function(o,u){o===void 0&&(o={});var v=s(o,"key",null),l=a(o,"config",null),c=new r(this.scene,0,0,v);return u!==void 0&&(o.add=u),f(this.scene,c,o),l&&c.setConfig(l),c})},81212:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61286),d=e(9216);f.register("particles",function(s,a,r,o){return s!==void 0&&typeof s=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new d(this.scene,s,a,r,o))})},69116:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),d=f,s=f;d=e(10275),s=e(10456),h.exports={renderWebGL:d,renderCanvas:s}},10275:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(90205),d=e(69360),s=e(75512),a=new d,r=new d,o=new d,u=new d,v=function(l,c,p,g){var m=l.pipelines.set(c.pipeline),T=a,S=r,P=o,E=u;g?(E.loadIdentity(),E.multiply(g),E.translate(c.x,c.y),E.rotate(c.rotation),E.scale(c.scaleX,c.scaleY)):E.applyITRS(c.x,c.y,c.rotation,c.scaleX,c.scaleY);var R=s.getTintAppendFloatAlpha,A=p.alpha,w=c.alpha;l.pipelines.preBatch(c);var O=c.alive,L=O.length,F=c.viewBounds;if(!(L===0||F&&!f(F,p.worldView))){c.sortCallback&&c.depthSort(),p.addToRenderList(c),T.copyFrom(p.matrix),T.multiplyWithOffset(E,-p.scrollX*c.scrollFactorX,-p.scrollY*c.scrollFactorY),l.setBlendMode(c.blendMode),c.mask&&(c.mask.preRenderWebGL(l,c,p),l.pipelines.set(c.pipeline));for(var I=c.tintFill,B,G,N=0;N<L;N++){var U=O[N],Y=U.alpha*w*A;if(!(Y<=0||U.scaleX===0||U.scaleY===0)){P.applyITRS(U.x,U.y,U.rotation,U.scaleX,U.scaleY),P.e=U.x,P.f=U.y,T.multiply(P,S);var X=U.frame;X.glTexture!==G&&(G=X.glTexture,B=m.setGameObject(c,X));var b=-X.halfWidth,z=-X.halfHeight,D=S.setQuad(b,z,b+X.width,z+X.height),V=R(U.tint,Y);m.shouldFlush(6)&&(m.flush(),B=m.setGameObject(c,X)),m.batchQuad(c,D[0],D[1],D[2],D[3],D[4],D[5],D[6],D[7],X.u0,X.v0,X.u1,X.v1,V,V,V,V,I,G,B)}}c.mask&&c.mask.postRenderWebGL(l,p),l.pipelines.postBatch(c)}};h.exports=v},30891:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=new f({initialize:function(a,r,o){a===void 0&&(a=0),r===void 0&&(r=0),o===void 0&&(o=!0),this.emitter,this.x=a,this.y=r,this.active=o},update:function(){},destroy:function(){this.emitter=null}});h.exports=d},76100:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="complete"},26677:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="deathzone"},62736:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="explode"},56490:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="start"},85715:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="stop"},40629:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={COMPLETE:e(76100),DEATH_ZONE:e(26677),EXPLODE:e(62736),START:e(56490),STOP:e(85715)}},27684:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={EmitterColorOp:e(19737),EmitterOp:e(93025),Events:e(40629),GravityWell:e(87811),Particle:e(14909),ParticleBounds:e(73106),ParticleEmitter:e(9216),ParticleProcessor:e(30891),Zones:e(25962)}},69361:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=new f({initialize:function(a,r){this.source=a,this.killOnEnter=r},willKill:function(s){var a=s.worldPosition,r=this.source.contains(a.x,a.y);return r&&this.killOnEnter||!r&&!this.killOnEnter}});h.exports=d},54213:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=new f({initialize:function(a,r,o,u,v,l){u===void 0&&(u=!1),v===void 0&&(v=!0),l===void 0&&(l=-1),this.source=a,this.points=[],this.quantity=r,this.stepRate=o,this.yoyo=u,this.counter=-1,this.seamless=v,this._length=0,this._direction=0,this.total=l,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var s=this.points[0],a=this.points[this.points.length-1];s.x===a.x&&s.y===a.y&&this.points.pop()}var r=this._length;return this._length=this.points.length,this._length<r&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(s){return this.source=s,this.updateSource()},getPoint:function(s){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var a=this.points[this.counter];a&&(s.x=a.x,s.y=a.y)}});h.exports=d},68433:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(93736),s=new f({initialize:function(r){this.source=r,this._tempVec=new d,this.total=-1},getPoint:function(a){var r=this._tempVec;this.source.getRandomPoint(r),a.x=r.x,a.y=r.y}});h.exports=s},25962:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={DeathZone:e(69361),EdgeZone:e(54213),RandomZone:e(68433)}},29598:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(64937),s=e(13747),a=new f({Extends:s,Mixins:[d.PathFollower],initialize:function(o,u,v,l,c,p){s.call(this,o,v,l,c,p),this.path=u},preUpdate:function(r,o){this.anims.update(r,o),this.pathUpdate(r)}});h.exports=a},19626:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61286),d=e(29598);f.register("follower",function(s,a,r,o,u){var v=new d(this.scene,s,a,r,o,u);return this.displayList.add(v),this.updateList.add(v),v})},33412:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(16569),d=e(56694),s=e(99425),a=e(15978),r=e(83321),o=e(76583),u=new d({Extends:r,initialize:function(l,c,p,g,m,T,S,P){g||(g="__DEFAULT"),r.call(this,l,c,p,g,m),this.type="Plane",this.anims=new f(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(T,S,P),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(v,l,c){v===void 0&&(v=8),l===void 0&&(l=8),c===void 0&&(c=!1);var p=!1;return c&&(p=!0),this.gridWidth=v,this.gridHeight=l,this.isTiled=c,this.clear(),s({mesh:this,widthSegments:v,heightSegments:l,isOrtho:!1,tile:c,flipY:p}),this},setSizeToFrame:function(v){v===void 0&&(v=!0);var l=this.frame;if(this.setPerspective(this.width/l.width,this.height/l.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!v)return this;var c=this.gridWidth,p=this.gridHeight,g=this.vertices,m=l.u0,T=l.u1,S=l.v0,P=l.v1,E,R,A=0;if(this.isTiled)for(S=l.v1,P=l.v0,R=0;R<p;R++)for(E=0;E<c;E++)g[A++].setUVs(m,P),g[A++].setUVs(m,S),g[A++].setUVs(T,P),g[A++].setUVs(m,S),g[A++].setUVs(T,S),g[A++].setUVs(T,P);else{var w=c+1,O=p+1,L=T-m,F=P-S,I=[];for(R=0;R<O;R++)for(E=0;E<w;E++){var B=m+L*(E/c),G=S+F*(R/p);I.push(B,G)}for(R=0;R<p;R++)for(E=0;E<c;E++){var N=(E+w*R)*2,U=(E+w*(R+1))*2,Y=(E+1+w*(R+1))*2,X=(E+1+w*R)*2;g[A++].setUVs(I[N],I[N+1]),g[A++].setUVs(I[U],I[U+1]),g[A++].setUVs(I[X],I[X+1]),g[A++].setUVs(I[U],I[U+1]),g[A++].setUVs(I[Y],I[Y+1]),g[A++].setUVs(I[X],I[X+1])}}return this},setViewHeight:function(v){v===void 0&&(v=this.frame.height);var l=this.fov*(Math.PI/180);this.viewPosition.z=this.height/v/Math.tan(l/2),this.dirtyCache[10]=1},createCheckerboard:function(v,l,c,p,g){v===void 0&&(v=16777215),l===void 0&&(l=255),c===void 0&&(c=255),p===void 0&&(p=255),g===void 0&&(g=128);var m=this.scene.sys.renderer.gl,T=m.createTexture();m.activeTexture(m.TEXTURE0),m.bindTexture(m.TEXTURE_2D,T),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.NEAREST);for(var S=a(v),P=a(l),E=[],R=0;R<16;R++)for(var A=0;A<16;A++)R<8&&A<8||R>7&&A>7?E.push(S.r,S.g,S.b,c):E.push(P.r,P.g,P.b,p);m.texImage2D(m.TEXTURE_2D,0,m.RGBA,16,16,0,m.RGBA,m.UNSIGNED_BYTE,new Uint8Array(E)),T.isAlphaPremultiplied=!0,T.isRenderTexture=!1,T.width=16,T.height=16;var w=this.scene.sys.textures.addGLTexture(o(),T,16,16);return this.removeCheckerboard(),this._checkerboard=w,m.bindTexture(m.TEXTURE_2D,null),this.setTexture(w),this.setSizeToFrame(),this.setViewHeight(g),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(v,l){return this.anims.play(v,l)},playReverse:function(v,l){return this.anims.playReverse(v,l)},playAfterDelay:function(v,l){return this.anims.playAfterDelay(v,l)},playAfterRepeat:function(v,l){return this.anims.playAfterRepeat(v,l)},stop:function(){return this.anims.stop()},stopAfterDelay:function(v){return this.anims.stopAfterDelay(v)},stopAfterRepeat:function(v){return this.anims.stopAfterRepeat(v)},stopOnFrame:function(v){return this.anims.stopOnFrame(v)},preUpdate:function(v,l){r.prototype.preUpdate.call(this,v,l),this.anims.update(v,l)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});h.exports=u},10912:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(88933),d=e(32291),s=e(99325),a=e(20494),r=e(10850),o=e(33412);s.register("plane",function(u,v){u===void 0&&(u={});var l=a(u,"key",null),c=a(u,"frame",null),p=r(u,"width",8),g=r(u,"height",8),m=r(u,"tile",!1),T=new o(this.scene,0,0,l,c,p,g,m);v!==void 0&&(u.add=v);var S=r(u,"checkerboard",null);if(S){var P=r(S,"color1",16777215),E=r(S,"color2",255),R=r(S,"alpha1",255),A=r(S,"alpha2",255),w=r(S,"height",128);T.createCheckerboard(P,E,R,A,w)}return f(this.scene,T,u),d(T,u),T})},58322:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(33412),d=e(61286);d.register("plane",function(s,a,r,o,u,v,l){return this.displayList.add(new f(this.scene,s,a,r,o,u,v,l))})},13171:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(64937),s=e(89980),a=e(74853),r=e(65641),o=e(71606),u=new f({Extends:s,Mixins:[d.AlphaSingle,d.BlendMode,d.Depth,d.Mask,d.Pipeline,d.PostPipeline,d.ScrollFactor,d.Transform,d.Visible,o],initialize:function(l,c,p,g,m,T,S){g===void 0&&(g=16777215),m===void 0&&(m=128),T===void 0&&(T=1),S===void 0&&(S=.1),s.call(this,l,"PointLight"),this.initPipeline(r.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(c,p),this.color=a(g),this.intensity=T,this.attenuation=S,this.width=m*2,this.height=m*2,this._radius=m},radius:{get:function(){return this._radius},set:function(v){this._radius=v,this.width=v*2,this.height=v*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});h.exports=u},162:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(88933),d=e(99325),s=e(20494),a=e(13171);d.register("pointlight",function(r,o){r===void 0&&(r={});var u=s(r,"color",16777215),v=s(r,"radius",128),l=s(r,"intensity",1),c=s(r,"attenuation",.1),p=new a(this.scene,0,0,u,v,l,c);return o!==void 0&&(r.add=o),f(this.scene,p,r),p})},91201:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61286),d=e(13171);f.register("pointlight",function(s,a,r,o,u,v){return this.displayList.add(new d(this.scene,s,a,r,o,u,v))})},71606:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),d=f,s=f;d=e(80590),h.exports={renderWebGL:d,renderCanvas:s}},80590:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(73329),d=function(s,a,r,o){r.addToRenderList(a);var u=s.pipelines.set(a.pipeline),v=f(a,r,o).calc,l=a.width,c=a.height,p=-a._radius,g=-a._radius,m=p+l,T=g+c,S=v.getX(0,0),P=v.getY(0,0),E=v.getX(p,g),R=v.getY(p,g),A=v.getX(p,T),w=v.getY(p,T),O=v.getX(m,T),L=v.getY(m,T),F=v.getX(m,g),I=v.getY(m,g);s.pipelines.preBatch(a),u.batchPointLight(a,r,E,R,A,w,O,L,F,I,S,P),s.pipelines.postBatch(a)};h.exports=d},15996:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(845),s=e(1539),a=new f({Extends:s,initialize:function(o,u,v,l,c){u===void 0&&(u=0),v===void 0&&(v=0),l===void 0&&(l=32),c===void 0&&(c=32);var p=new d(o.sys.textures,"",l,c);s.call(this,o,u,v,p),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(r,o){this.width=r,this.height=o,this.texture.setSize(r,o),this.updateDisplayOrigin();var u=this.input;return u&&!u.customHitArea&&(u.hitArea.width=r,u.hitArea.height=o),this},resize:function(r,o){return this.setSize(r,o),this},saveTexture:function(r){var o=this.texture;return o.key=r,o.manager.addDynamicTexture(o)&&(this._saved=!0),o},fill:function(r,o,u,v,l,c){return this.texture.fill(r,o,u,v,l,c),this},clear:function(){return this.texture.clear(),this},stamp:function(r,o,u,v,l){return this.texture.stamp(r,o,u,v,l),this},erase:function(r,o,u){return this.texture.erase(r,o,u),this},draw:function(r,o,u,v,l){return this.texture.draw(r,o,u,v,l),this},drawFrame:function(r,o,u,v,l,c){return this.texture.drawFrame(r,o,u,v,l,c),this},repeat:function(r,o,u,v,l,c,p,g,m){return this.texture.repeat(r,o,u,v,l,c,p,g,m),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(r,o,u,v,l){return this.texture.batchDraw(r,o,u,v,l),this},batchDrawFrame:function(r,o,u,v,l,c){return this.texture.batchDrawFrame(r,o,u,v,l,c),this},endDraw:function(r){return this.texture.endDraw(r),this},snapshotArea:function(r,o,u,v,l,c,p){return this.texture.snapshotArea(r,o,u,v,l,c,p),this},snapshot:function(r,o,u){return this.snapshotArea(0,0,this.width,this.height,r,o,u)},snapshotPixel:function(r,o,u){return this.snapshotArea(r,o,1,1,u,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});h.exports=a},85692:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(88933),d=e(99325),s=e(20494),a=e(15996);d.register("renderTexture",function(r,o){r===void 0&&(r={});var u=s(r,"x",0),v=s(r,"y",0),l=s(r,"width",32),c=s(r,"height",32),p=new a(this.scene,u,v,l,c);return o!==void 0&&(r.add=o),f(this.scene,p,r),p})},29599:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61286),d=e(15996);f.register("renderTexture",function(s,a,r,o){return this.displayList.add(new d(this.scene,s,a,r,o))})},79968:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(16569),d=e(56694),s=e(64937),a=e(89980),r=e(65641),o=e(58912),u=e(93736),v=new d({Extends:a,Mixins:[s.AlphaSingle,s.BlendMode,s.Depth,s.Flip,s.Mask,s.Pipeline,s.PostPipeline,s.Size,s.Texture,s.Transform,s.Visible,s.ScrollFactor,o],initialize:function(c,p,g,m,T,S,P,E,R){m===void 0&&(m="__DEFAULT"),S===void 0&&(S=2),P===void 0&&(P=!0),a.call(this,c,"Rope"),this.anims=new f(this),this.points=S,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=m==="__DEFAULT",this.dirty=!1,this.horizontal=P,this._flipX=!1,this._flipY=!1,this._perp=new u,this.debugCallback=null,this.debugGraphic=null,this.setTexture(m,T),this.setPosition(p,g),this.setSizeToFrame(),this.initPipeline(r.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(S)&&this.resizeArrays(S.length),this.setPoints(S,E,R),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(l,c){var p=this.anims.currentFrame;this.anims.update(l,c),this.anims.currentFrame!==p&&(this.updateUVs(),this.updateVertices())},play:function(l,c,p){return this.anims.play(l,c,p),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(l,c,p){return l===void 0&&(l=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(l,c,p))},setVertical:function(l,c,p){return l===void 0&&(l=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(l,c,p)):this},setTintFill:function(l){return l===void 0&&(l=!1),this.tintFill=l,this},setAlphas:function(l,c){var p=this.points.length;if(p<1)return this;var g=this.alphas;l===void 0?l=[1]:!Array.isArray(l)&&c===void 0&&(l=[l]);var m,T=0;if(c!==void 0)for(m=0;m<p;m++)T=m*2,g[T]=l,g[T+1]=c;else if(l.length===p)for(m=0;m<p;m++)T=m*2,g[T]=l[m],g[T+1]=l[m];else{var S=l[0];for(m=0;m<p;m++)T=m*2,l.length>T&&(S=l[T]),g[T]=S,l.length>T+1&&(S=l[T+1]),g[T+1]=S}return this},setColors:function(l){var c=this.points.length;if(c<1)return this;var p=this.colors;l===void 0?l=[16777215]:Array.isArray(l)||(l=[l]);var g,m=0;if(l.length===c)for(g=0;g<c;g++)m=g*2,p[m]=l[g],p[m+1]=l[g];else{var T=l[0];for(g=0;g<c;g++)m=g*2,l.length>m&&(T=l[m]),p[m]=T,l.length>m+1&&(T=l[m+1]),p[m+1]=T}return this},setPoints:function(l,c,p){if(l===void 0&&(l=2),typeof l=="number"){var g=l;g<2&&(g=2),l=[];var m,T,S;if(this.horizontal)for(S=-this.frame.halfWidth,T=this.frame.width/(g-1),m=0;m<g;m++)l.push({x:S+m*T,y:0});else for(S=-this.frame.halfHeight,T=this.frame.height/(g-1),m=0;m<g;m++)l.push({x:0,y:S+m*T})}var P=l.length,E=this.points.length;return P<1?(console.warn("Rope: Not enough points given"),this):(P===1&&(l.unshift({x:0,y:0}),P++),E!==P&&this.resizeArrays(P),this.dirty=!0,this.points=l,this.updateUVs(),c!=null&&this.setColors(c),p!=null&&this.setAlphas(p),this)},updateUVs:function(){for(var l=this.uv,c=this.points.length,p=this.frame.u0,g=this.frame.v0,m=this.frame.u1,T=this.frame.v1,S=(m-p)/(c-1),P=(T-g)/(c-1),E=0;E<c;E++){var R=E*4,A,w,O,L;this.horizontal?(this._flipX?(A=m-E*S,O=m-E*S):(A=p+E*S,O=p+E*S),this._flipY?(w=T,L=g):(w=g,L=T)):(this._flipX?(A=p,O=m):(A=m,O=p),this._flipY?(w=T-E*P,L=T-E*P):(w=g+E*P,L=g+E*P)),l[R+0]=A,l[R+1]=w,l[R+2]=O,l[R+3]=L}return this},resizeArrays:function(l){var c=this.colors,p=this.alphas;this.vertices=new Float32Array(l*4),this.uv=new Float32Array(l*4),c=new Uint32Array(l*2),p=new Float32Array(l*2);for(var g=0;g<l*2;g++)c[g]=16777215,p[g]=1;return this.colors=c,this.alphas=p,this.dirty=!0,this},updateVertices:function(){var l=this._perp,c=this.points,p=this.vertices,g=c.length;if(this.dirty=!1,!(g<1)){for(var m,T=c[0],S=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,P=0;P<g;P++){var E=c[P],R=P*4;P<g-1?m=c[P+1]:m=E,l.x=m.y-T.y,l.y=-(m.x-T.x);var A=l.length();l.x/=A,l.y/=A,l.x*=S,l.y*=S,p[R]=E.x+l.x,p[R+1]=E.y+l.y,p[R+2]=E.x-l.x,p[R+3]=E.y-l.y,T=E}return this}},setDebug:function(l,c){return this.debugGraphic=l,!l&&!c?this.debugCallback=null:c?this.debugCallback=c:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(l,c,p){var g=l.debugGraphic,m=p[0],T=p[1],S=p[2],P=p[3];g.lineBetween(m,T,S,P);for(var E=4;E<c;E+=4){var R=p[E+0],A=p[E+1],w=p[E+2],O=p[E+3];g.lineBetween(m,T,R,A),g.lineBetween(S,P,w,O),g.lineBetween(S,P,R,A),g.lineBetween(R,A,w,O),m=R,T=A,S=w,P=O}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(l){return this._flipX=l,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(l){return this._flipY=l,this.updateUVs()}}});h.exports=v},44598:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){};h.exports=y},96027:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(88933),d=e(99325),s=e(20494),a=e(10850),r=e(79968);d.register("rope",function(o,u){o===void 0&&(o={});var v=s(o,"key",null),l=s(o,"frame",null),c=s(o,"horizontal",!0),p=a(o,"points",void 0),g=a(o,"colors",void 0),m=a(o,"alphas",void 0),T=new r(this.scene,0,0,v,l,p,c,g,m);return u!==void 0&&(o.add=u),f(this.scene,T,o),T})},31982:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79968),d=e(61286);d.register("rope",function(s,a,r,o,u,v,l,c){return this.displayList.add(new f(this.scene,s,a,r,o,u,v,l,c))})},58912:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),d=f,s=f;d=e(49489),s=e(44598),h.exports={renderWebGL:d,renderCanvas:s}},49489:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(73329),d=e(75512),s=function(a,r,o,u){o.addToRenderList(r);var v=a.pipelines.set(r.pipeline,r),l=f(r,o,u).calc,c=r.vertices,p=r.uv,g=r.colors,m=r.alphas,T=r.alpha,S=d.getTintAppendFloatAlpha,P=o.roundPixels,E=c.length,R=Math.floor(E*.5);v.flush(),a.pipelines.preBatch(r);var A=v.setGameObject(r),w=v.vertexViewF32,O=v.vertexViewU32,L=v.vertexCount*v.currentShader.vertexComponentCount-1,F=0,I=r.tintFill;r.dirty&&r.updateVertices();for(var B=r.debugCallback,G=[],N=0;N<E;N+=2){var U=c[N+0],Y=c[N+1],X=U*l.a+Y*l.c+l.e,b=U*l.b+Y*l.d+l.f;P&&(X=Math.round(X),b=Math.round(b)),w[++L]=X,w[++L]=b,w[++L]=p[N+0],w[++L]=p[N+1],w[++L]=A,w[++L]=I,O[++L]=S(g[F],o.alpha*(m[F]*T)),F++,B&&(G[N+0]=X,G[N+1]=b)}B&&B.call(r,r,E,G),v.vertexCount+=R,v.currentBatch.count=v.vertexCount-v.currentBatch.start,a.pipelines.postBatch(r)};h.exports=s},27902:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(64937),s=e(89980),a=e(72632),r=e(98611),o=e(22440),u=e(24252),v=e(69360),l=new f({Extends:s,Mixins:[d.ComputedSize,d.Depth,d.GetBounds,d.Mask,d.Origin,d.ScrollFactor,d.Transform,d.Visible,u],initialize:function(p,g,m,T,S,P,E,R){m===void 0&&(m=0),T===void 0&&(T=0),S===void 0&&(S=128),P===void 0&&(P=128),s.call(this,p,"Shader"),this.blendMode=-1,this.shader;var A=p.sys.renderer;this.renderer=A,this.gl=A.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=A.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new v,this._tempMatrix2=new v,this._tempMatrix3=new v,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=A.width,this._rendererHeight=A.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(m,T),this.setSize(S,P),this.setOrigin(.5,.5),this.setShader(g,E,R)},willRender:function(c){return this.renderToTexture?!0:!(s.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&c.id)},setRenderToTexture:function(c,p){if(p===void 0&&(p=!1),!this.renderToTexture){var g=this.width,m=this.height,T=this.renderer;this.glTexture=T.createTextureFromSource(null,g,m,0),this.glTexture.flipY=p,this.framebuffer=T.createFramebuffer(g,m,this.glTexture,!1),this._rendererWidth=g,this._rendererHeight=m,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),c&&(this.texture=this.scene.sys.textures.addGLTexture(c,this.glTexture,g,m))}return this.shader&&(T.pipelines.clear(),this.load(),this.flush(),T.pipelines.rebind()),this},setShader:function(c,p,g){if(p===void 0&&(p=[]),typeof c=="string"){var m=this.scene.sys.cache.shader;if(!m.has(c))return console.warn("Shader missing: "+c),this;this.shader=m.get(c)}else this.shader=c;var T=this.gl,S=this.renderer;this.program&&T.deleteProgram(this.program);var P=S.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);T.uniformMatrix4fv(T.getUniformLocation(P,"uViewMatrix"),!1,this.viewMatrix),T.uniformMatrix4fv(T.getUniformLocation(P,"uProjectionMatrix"),!1,this.projectionMatrix),T.uniform2f(T.getUniformLocation(P,"uResolution"),this.width,this.height),this.program=P;var E=new Date,R={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[E.getFullYear(),E.getMonth(),E.getDate(),E.getHours()*60*60+E.getMinutes()*60+E.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=r(!0,{},this.shader.uniforms,R):this.uniforms=R;for(var A=0;A<4;A++)p[A]&&this.setSampler2D("iChannel"+A,p[A],A,g);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(c){return this.pointer=c,this},projOrtho:function(c,p,g,m){var T=-1e3,S=1e3,P=1/(c-p),E=1/(g-m),R=1/(T-S),A=this.projectionMatrix;A[0]=-2*P,A[5]=-2*E,A[10]=2*R,A[12]=(c+p)*P,A[13]=(m+g)*E,A[14]=(S+T)*R;var w=this.program,O=this.gl,L=this.renderer;L.setProgram(w),O.uniformMatrix4fv(O.getUniformLocation(w,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=p,this._rendererHeight=g},initUniforms:function(){var c=this.gl,p=this.renderer.glFuncMap,g=this.program;this._textureCount=0;for(var m in this.uniforms){var T=this.uniforms[m],S=T.type,P=p[S];T.uniformLocation=c.getUniformLocation(g,m),S!=="sampler2D"&&(T.glMatrix=P.matrix,T.glValueLength=P.length,T.glFunc=P.func)}},setSampler2DBuffer:function(c,p,g,m,T,S){T===void 0&&(T=0),S===void 0&&(S={});var P=this.uniforms[c];return P.value=p,S.width=g,S.height=m,P.textureData=S,this._textureCount=T,this.initSampler2D(P),this},setSampler2D:function(c,p,g,m){g===void 0&&(g=0);var T=this.scene.sys.textures;if(T.exists(p)){var S=T.getFrame(p);if(S.glTexture&&S.glTexture.isRenderTexture)return this.setSampler2DBuffer(c,S.glTexture,S.width,S.height,g,m);var P=this.uniforms[c],E=S.source;P.textureKey=p,P.source=E.image,P.value=S.glTexture,E.isGLTexture&&(m||(m={}),m.width=E.width,m.height=E.height),m&&(P.textureData=m),this._textureCount=g,this.initSampler2D(P)}return this},setUniform:function(c,p){return o(this.uniforms,c,p),this},getUniform:function(c){return a(this.uniforms,c,null)},setChannel0:function(c,p){return this.setSampler2D("iChannel0",c,0,p)},setChannel1:function(c,p){return this.setSampler2D("iChannel1",c,1,p)},setChannel2:function(c,p){return this.setSampler2D("iChannel2",c,2,p)},setChannel3:function(c,p){return this.setSampler2D("iChannel3",c,3,p)},initSampler2D:function(c){if(c.value){var p=this.gl;p.activeTexture(p.TEXTURE0+this._textureCount),p.bindTexture(p.TEXTURE_2D,c.value);var g=c.textureData;if(g&&!c.value.isRenderTexture){var m=p[a(g,"magFilter","linear").toUpperCase()],T=p[a(g,"minFilter","linear").toUpperCase()],S=p[a(g,"wrapS","repeat").toUpperCase()],P=p[a(g,"wrapT","repeat").toUpperCase()],E=p[a(g,"format","rgba").toUpperCase()];if(g.repeat&&(S=p.REPEAT,P=p.REPEAT),p.pixelStorei(p.UNPACK_FLIP_Y_WEBGL,!!g.flipY),g.width){var R=a(g,"width",512),A=a(g,"height",2),w=a(g,"border",0);p.texImage2D(p.TEXTURE_2D,0,E,R,A,w,E,p.UNSIGNED_BYTE,null)}else p.texImage2D(p.TEXTURE_2D,0,E,p.RGBA,p.UNSIGNED_BYTE,c.source);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,m),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,T),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,S),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,P)}this.renderer.setProgram(this.program),p.uniform1i(c.uniformLocation,this._textureCount),this._textureCount++}},syncUniforms:function(){var c=this.gl,p=this.uniforms,g,m,T,S,P,E=0;for(var R in p)g=p[R],T=g.glFunc,m=g.glValueLength,S=g.uniformLocation,P=g.value,P!==null&&(m===1?g.glMatrix?T.call(c,S,g.transpose,P):T.call(c,S,P):m===2?T.call(c,S,P.x,P.y):m===3?T.call(c,S,P.x,P.y,P.z):m===4?T.call(c,S,P.x,P.y,P.z,P.w):g.type==="sampler2D"&&(c.activeTexture(c.TEXTURE0+E),c.bindTexture(c.TEXTURE_2D,P),c.uniform1i(S,E),E++))},load:function(c){var p=this.gl,g=this.width,m=this.height,T=this.renderer,S=this.program,P=this.viewMatrix;if(!this.renderToTexture){var E=-this._displayOriginX,R=-this._displayOriginY;P[0]=c[0],P[1]=c[1],P[4]=c[2],P[5]=c[3],P[8]=c[4],P[9]=c[5],P[12]=P[0]*E+P[4]*R,P[13]=P[1]*E+P[5]*R}p.useProgram(S),p.uniformMatrix4fv(p.getUniformLocation(S,"uViewMatrix"),!1,P),p.uniform2f(p.getUniformLocation(S,"uResolution"),this.width,this.height);var A=this.uniforms,w=A.resolution;w.value.x=g,w.value.y=m,A.time.value=T.game.loop.getDuration();var O=this.pointer;if(O){var L=A.mouse,F=O.x/g,I=1-O.y/m;L.value.x=F.toFixed(2),L.value.y=I.toFixed(2)}this.syncUniforms()},flush:function(){var c=this.width,p=this.height,g=this.program,m=this.gl,T=this.vertexBuffer,S=this.renderer,P=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(S.setFramebuffer(this.framebuffer),m.clearColor(0,0,0,0),m.clear(m.COLOR_BUFFER_BIT)),m.bindBuffer(m.ARRAY_BUFFER,T);var E=m.getAttribLocation(g,"inPosition");E!==-1&&(m.enableVertexAttribArray(E),m.vertexAttribPointer(E,2,m.FLOAT,!1,P,0));var R=this.vertexViewF32;R[3]=p,R[4]=c,R[5]=p,R[8]=c,R[9]=p,R[10]=c;var A=6;m.bufferSubData(m.ARRAY_BUFFER,0,this.bytes.subarray(0,A*P)),m.drawArrays(m.TRIANGLES,0,A),this.renderToTexture&&S.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},preDestroy:function(){var c=this.gl;c.deleteProgram(this.program),c.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null)}});h.exports=l},10612:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){};h.exports=y},13908:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(88933),d=e(99325),s=e(20494),a=e(27902);d.register("shader",function(r,o){r===void 0&&(r={});var u=s(r,"key",null),v=s(r,"x",0),l=s(r,"y",0),c=s(r,"width",128),p=s(r,"height",128),g=new a(this.scene,u,v,l,c,p);return o!==void 0&&(r.add=o),f(this.scene,g,r),g})},51979:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(27902),d=e(61286);d.register("shader",function(s,a,r,o,u,v,l){return this.displayList.add(new f(this.scene,s,a,r,o,u,v,l))})},24252:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),d=f,s=f;d=e(19782),s=e(10612),h.exports={renderWebGL:d,renderCanvas:s}},19782:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(73329),d=function(s,a,r,o){if(a.shader){if(r.addToRenderList(a),s.pipelines.clear(),a.renderToTexture)a.load(),a.flush();else{var u=f(a,r,o).calc;(s.width!==a._rendererWidth||s.height!==a._rendererHeight)&&a.projOrtho(0,s.width,s.height,0),a.load(u.matrix),a.flush()}s.pipelines.rebind()}};h.exports=d},19543:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(75512),d=function(s,a,r,o,u,v){for(var l=f.getTintAppendFloatAlpha(r.fillColor,r.fillAlpha*o),c=r.pathData,p=r.pathIndexes,g=0;g<p.length;g+=3){var m=p[g]*2,T=p[g+1]*2,S=p[g+2]*2,P=c[m+0]-u,E=c[m+1]-v,R=c[T+0]-u,A=c[T+1]-v,w=c[S+0]-u,O=c[S+1]-v,L=a.getX(P,E),F=a.getY(P,E),I=a.getX(R,A),B=a.getY(R,A),G=a.getX(w,O),N=a.getY(w,O);s.batchTri(r,L,F,I,B,G,N,0,0,1,1,l,l,l,2)}};h.exports=d},15608:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){var a=d||f.fillColor,r=s||f.fillAlpha,o=(a&16711680)>>>16,u=(a&65280)>>>8,v=a&255;e.fillStyle="rgba("+o+","+u+","+v+","+r+")"};h.exports=y},17876:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){var a=d||f.strokeColor,r=s||f.strokeAlpha,o=(a&16711680)>>>16,u=(a&65280)>>>8,v=a&255;e.strokeStyle="rgba("+o+","+u+","+v+","+r+")",e.lineWidth=f.lineWidth};h.exports=y},91461:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(64937),s=e(89980),a=e(88829),r=new f({Extends:s,Mixins:[d.AlphaSingle,d.BlendMode,d.Depth,d.GetBounds,d.Mask,d.Origin,d.Pipeline,d.PostPipeline,d.ScrollFactor,d.Transform,d.Visible],initialize:function(u,v,l){v===void 0&&(v="Shape"),s.call(this,u,v),this.geom=l,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new a,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(o,u){return u===void 0&&(u=1),o===void 0?this.isFilled=!1:(this.fillColor=o,this.fillAlpha=u,this.isFilled=!0),this},setStrokeStyle:function(o,u,v){return v===void 0&&(v=1),o===void 0?this.isStroked=!1:(this.lineWidth=o,this.strokeColor=u,this.strokeAlpha=v,this.isStroked=!0),this},setClosePath:function(o){return this.closePath=o,this},setSize:function(o,u){return this.width=o,this.height=u,this},setDisplaySize:function(o,u){return this.displayWidth=o,this.displayHeight=u,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(o){this.scaleX=o/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(o){this.scaleY=o/this.height}}});h.exports=r},50262:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(75512),d=function(s,a,r,o,u){var v=s.strokeTint,l=f.getTintAppendFloatAlpha(a.strokeColor,a.strokeAlpha*r);v.TL=l,v.TR=l,v.BL=l,v.BR=l;var c=a.pathData,p=c.length-1,g=a.lineWidth,m=g/2,T=c[0]-o,S=c[1]-u;a.closePath||(p-=2);for(var P=2;P<p;P+=2){var E=c[P]-o,R=c[P+1]-u;s.batchLine(T,S,E,R,m,m,g,P-2,a.closePath?P===p-1:!1),T=E,S=R}};h.exports=d},28593:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(2213),d=e(56694),s=e(75606),a=e(11117),r=e(26673),o=e(83392),u=e(91461),v=new d({Extends:u,Mixins:[f],initialize:function(c,p,g,m,T,S,P,E,R){p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=128),T===void 0&&(T=0),S===void 0&&(S=360),P===void 0&&(P=!1),u.call(this,c,"Arc",new r(0,0,m)),this._startAngle=T,this._endAngle=S,this._anticlockwise=P,this._iterations=.01,this.setPosition(p,g);var A=this.geom.radius*2;this.setSize(A,A),E!==void 0&&this.setFillStyle(E,R),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(l){this._iterations=l,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(l){this.geom.radius=l;var c=l*2;this.setSize(c,c),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(l){this._startAngle=l,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(l){this._endAngle=l,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(l){this._anticlockwise=l,this.updateData()}},setRadius:function(l){return this.radius=l,this},setIterations:function(l){return l===void 0&&(l=.01),this.iterations=l,this},setStartAngle:function(l,c){return this._startAngle=l,c!==void 0&&(this._anticlockwise=c),this.updateData()},setEndAngle:function(l,c){return this._endAngle=l,c!==void 0&&(this._anticlockwise=c),this.updateData()},updateData:function(){var l=this._iterations,c=l,p=this.geom.radius,g=s(this._startAngle),m=s(this._endAngle),T=this._anticlockwise,S=p,P=p;m-=g,T?m<-o.PI2?m=-o.PI2:m>0&&(m=-o.PI2+m%o.PI2):m>o.PI2?m=o.PI2:m<0&&(m=o.PI2+m%o.PI2);for(var E=[S+Math.cos(g)*p,P+Math.sin(g)*p],R;c<1;)R=m*c+g,E.push(S+Math.cos(R)*p,P+Math.sin(R)*p),c+=l;return R=m+g,E.push(S+Math.cos(R)*p,P+Math.sin(R)*p),E.push(S+Math.cos(g)*p,P+Math.sin(g)*p),this.pathIndexes=a(E),this.pathData=E,this}});h.exports=v},23560:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(75606),d=e(15608),s=e(17876),a=e(49584),r=function(o,u,v,l){v.addToRenderList(u);var c=o.currentContext;if(a(o,c,u,v,l)){var p=u.radius;c.beginPath(),c.arc(p-u.originX*(p*2),p-u.originY*(p*2),p,f(u._startAngle),f(u._endAngle),u.anticlockwise),u.closePath&&c.closePath(),u.isFilled&&(d(c,u),c.fill()),u.isStroked&&(s(c,u),c.stroke()),c.restore()}};h.exports=r},10369:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(28593),d=e(61286);d.register("arc",function(s,a,r,o,u,v,l,c){return this.displayList.add(new f(this.scene,s,a,r,o,u,v,l,c))}),d.register("circle",function(s,a,r,o,u){return this.displayList.add(new f(this.scene,s,a,r,0,360,!1,o,u))})},2213:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),d=f,s=f;d=e(58356),s=e(23560),h.exports={renderWebGL:d,renderCanvas:s}},58356:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(73329),d=e(19543),s=e(50262),a=function(r,o,u,v){u.addToRenderList(o);var l=r.pipelines.set(o.pipeline),c=f(o,u,v),p=l.calcMatrix.copyFrom(c.calc),g=o._displayOriginX,m=o._displayOriginY,T=u.alpha*o.alpha;r.pipelines.preBatch(o),o.isFilled&&d(l,p,o,T,g,m),o.isStroked&&s(l,o,T,g,m),r.pipelines.postBatch(o)};h.exports=a},15220:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(87203),s=e(11117),a=e(74118),r=e(91461),o=new f({Extends:r,Mixins:[d],initialize:function(v,l,c,p,g,m){l===void 0&&(l=0),c===void 0&&(c=0),r.call(this,v,"Curve",p),this._smoothness=32,this._curveBounds=new a,this.closePath=!1,this.setPosition(l,c),g!==void 0&&this.setFillStyle(g,m),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(u){this._smoothness=u,this.updateData()}},setSmoothness:function(u){return this._smoothness=u,this.updateData()},updateData:function(){var u=this._curveBounds,v=this._smoothness;this.geom.getBounds(u,v),this.setSize(u.width,u.height),this.updateDisplayOrigin();for(var l=[],c=this.geom.getPoints(v),p=0;p<c.length;p++)l.push(c[p].x,c[p].y);return l.push(c[0].x,c[0].y),this.pathIndexes=s(l),this.pathData=l,this}});h.exports=o},4024:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(15608),d=e(17876),s=e(49584),a=function(r,o,u,v){u.addToRenderList(o);var l=r.currentContext;if(s(r,l,o,u,v)){var c=o._displayOriginX+o._curveBounds.x,p=o._displayOriginY+o._curveBounds.y,g=o.pathData,m=g.length-1,T=g[0]-c,S=g[1]-p;l.beginPath(),l.moveTo(T,S),o.closePath||(m-=2);for(var P=2;P<m;P+=2){var E=g[P]-c,R=g[P+1]-p;l.lineTo(E,R)}o.closePath&&l.closePath(),o.isFilled&&(f(l,o),l.fill()),o.isStroked&&(d(l,o),l.stroke()),l.restore()}};h.exports=a},10147:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61286),d=e(15220);f.register("curve",function(s,a,r,o,u){return this.displayList.add(new d(this.scene,s,a,r,o,u))})},87203:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),d=f,s=f;d=e(82958),s=e(4024),h.exports={renderWebGL:d,renderCanvas:s}},82958:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(19543),d=e(73329),s=e(50262),a=function(r,o,u,v){u.addToRenderList(o);var l=r.pipelines.set(o.pipeline),c=d(o,u,v),p=l.calcMatrix.copyFrom(c.calc),g=o._displayOriginX+o._curveBounds.x,m=o._displayOriginY+o._curveBounds.y,T=u.alpha*o.alpha;r.pipelines.preBatch(o),o.isFilled&&f(l,p,o,T,g,m),o.isStroked&&s(l,o,T,g,m),r.pipelines.postBatch(o)};h.exports=a},28591:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(11117),s=e(84171),a=e(95669),r=e(91461),o=new f({Extends:r,Mixins:[s],initialize:function(v,l,c,p,g,m,T){l===void 0&&(l=0),c===void 0&&(c=0),p===void 0&&(p=128),g===void 0&&(g=128),r.call(this,v,"Ellipse",new a(p/2,g/2,p,g)),this._smoothness=64,this.setPosition(l,c),this.width=p,this.height=g,m!==void 0&&this.setFillStyle(m,T),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(u){this._smoothness=u,this.updateData()}},setSize:function(u,v){return this.width=u,this.height=v,this.geom.setPosition(u/2,v/2),this.geom.setSize(u,v),this.updateData()},setSmoothness:function(u){return this._smoothness=u,this.updateData()},updateData:function(){for(var u=[],v=this.geom.getPoints(this._smoothness),l=0;l<v.length;l++)u.push(v[l].x,v[l].y);return u.push(v[0].x,v[0].y),this.pathIndexes=d(u),this.pathData=u,this}});h.exports=o},55881:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(15608),d=e(17876),s=e(49584),a=function(r,o,u,v){u.addToRenderList(o);var l=r.currentContext;if(s(r,l,o,u,v)){var c=o._displayOriginX,p=o._displayOriginY,g=o.pathData,m=g.length-1,T=g[0]-c,S=g[1]-p;l.beginPath(),l.moveTo(T,S),o.closePath||(m-=2);for(var P=2;P<m;P+=2){var E=g[P]-c,R=g[P+1]-p;l.lineTo(E,R)}l.closePath(),o.isFilled&&(f(l,o),l.fill()),o.isStroked&&(d(l,o),l.stroke()),l.restore()}};h.exports=a},99869:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(28591),d=e(61286);d.register("ellipse",function(s,a,r,o,u,v){return this.displayList.add(new f(this.scene,s,a,r,o,u,v))})},84171:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),d=f,s=f;d=e(17554),s=e(55881),h.exports={renderWebGL:d,renderCanvas:s}},17554:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(19543),d=e(73329),s=e(50262),a=function(r,o,u,v){u.addToRenderList(o);var l=r.pipelines.set(o.pipeline),c=d(o,u,v),p=l.calcMatrix.copyFrom(c.calc),g=o._displayOriginX,m=o._displayOriginY,T=u.alpha*o.alpha;r.pipelines.preBatch(o),o.isFilled&&f(l,p,o,T,g,m),o.isStroked&&s(l,o,T,g,m),r.pipelines.postBatch(o)};h.exports=a},39169:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(91461),s=e(88059),a=new f({Extends:d,Mixins:[s],initialize:function(o,u,v,l,c,p,g,m,T,S,P){u===void 0&&(u=0),v===void 0&&(v=0),l===void 0&&(l=128),c===void 0&&(c=128),p===void 0&&(p=32),g===void 0&&(g=32),d.call(this,o,"Grid",null),this.cellWidth=p,this.cellHeight=g,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(u,v),this.setSize(l,c),this.setFillStyle(m,T),S!==void 0&&this.setOutlineStyle(S,P),this.updateDisplayOrigin()},setFillStyle:function(r,o){return o===void 0&&(o=1),r===void 0?this.showCells=!1:(this.fillColor=r,this.fillAlpha=o,this.showCells=!0),this},setAltFillStyle:function(r,o){return o===void 0&&(o=1),r===void 0?this.showAltCells=!1:(this.altFillColor=r,this.altFillAlpha=o,this.showAltCells=!0),this},setOutlineStyle:function(r,o){return o===void 0&&(o=1),r===void 0?this.showOutline=!1:(this.outlineFillColor=r,this.outlineFillAlpha=o,this.showOutline=!0),this}});h.exports=a},95525:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(15608),d=e(17876),s=e(49584),a=function(r,o,u,v){u.addToRenderList(o);var l=r.currentContext;if(s(r,l,o,u,v)){var c=-o._displayOriginX,p=-o._displayOriginY,g=u.alpha*o.alpha,m=o.width,T=o.height,S=o.cellWidth,P=o.cellHeight,E=Math.ceil(m/S),R=Math.ceil(T/P),A=S,w=P,O=S-(E*S-m),L=P-(R*P-T),F=o.showCells,I=o.showAltCells,B=o.showOutline,G=0,N=0,U=0,Y=0,X=0;if(B&&(A--,w--,O===S&&O--,L===P&&L--),F&&o.fillAlpha>0)for(f(l,o),N=0;N<R;N++)for(I&&(U=N%2),G=0;G<E;G++){if(I&&U){U=0;continue}U++,Y=G<E-1?A:O,X=N<R-1?w:L,l.fillRect(c+G*S,p+N*P,Y,X)}if(I&&o.altFillAlpha>0)for(f(l,o,o.altFillColor,o.altFillAlpha*g),N=0;N<R;N++)for(I&&(U=N%2),G=0;G<E;G++){if(I&&!U){U=1;continue}U=0,Y=G<E-1?A:O,X=N<R-1?w:L,l.fillRect(c+G*S,p+N*P,Y,X)}if(B&&o.outlineFillAlpha>0){for(d(l,o,o.outlineFillColor,o.outlineFillAlpha*g),G=1;G<E;G++){var b=G*S;l.beginPath(),l.moveTo(b+c,p),l.lineTo(b+c,T+p),l.stroke()}for(N=1;N<R;N++){var z=N*P;l.beginPath(),l.moveTo(c,z+p),l.lineTo(c+m,z+p),l.stroke()}}l.restore()}};h.exports=a},9326:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61286),d=e(39169);f.register("grid",function(s,a,r,o,u,v,l,c,p,g){return this.displayList.add(new d(this.scene,s,a,r,o,u,v,l,c,p,g))})},88059:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),d=f,s=f;d=e(50639),s=e(95525),h.exports={renderWebGL:d,renderCanvas:s}},50639:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(73329),d=e(75512),s=function(a,r,o,u){o.addToRenderList(r);var v=a.pipelines.set(r.pipeline),l=f(r,o,u),c=v.calcMatrix.copyFrom(l.calc);c.translate(-r._displayOriginX,-r._displayOriginY);var p=o.alpha*r.alpha,g=r.width,m=r.height,T=r.cellWidth,S=r.cellHeight,P=Math.ceil(g/T),E=Math.ceil(m/S),R=T,A=S,w=T-(P*T-g),O=S-(E*S-m),L,F,I=r.showCells,B=r.showAltCells,G=r.showOutline,N=0,U=0,Y=0,X=0,b=0;if(G&&(R--,A--,w===T&&w--,O===S&&O--),a.pipelines.preBatch(r),I&&r.fillAlpha>0)for(L=v.fillTint,F=d.getTintAppendFloatAlpha(r.fillColor,r.fillAlpha*p),L.TL=F,L.TR=F,L.BL=F,L.BR=F,U=0;U<E;U++)for(B&&(Y=U%2),N=0;N<P;N++){if(B&&Y){Y=0;continue}Y++,X=N<P-1?R:w,b=U<E-1?A:O,v.batchFillRect(N*T,U*S,X,b)}if(B&&r.altFillAlpha>0)for(L=v.fillTint,F=d.getTintAppendFloatAlpha(r.altFillColor,r.altFillAlpha*p),L.TL=F,L.TR=F,L.BL=F,L.BR=F,U=0;U<E;U++)for(B&&(Y=U%2),N=0;N<P;N++){if(B&&!Y){Y=1;continue}Y=0,X=N<P-1?R:w,b=U<E-1?A:O,v.batchFillRect(N*T,U*S,X,b)}if(G&&r.outlineFillAlpha>0){var z=v.strokeTint,D=d.getTintAppendFloatAlpha(r.outlineFillColor,r.outlineFillAlpha*p);for(z.TL=D,z.TR=D,z.BL=D,z.BR=D,N=1;N<P;N++){var V=N*T;v.batchLine(V,0,V,m,1,1,1,0,!1)}for(U=1;U<E;U++){var k=U*S;v.batchLine(0,k,g,k,1,1,1,0,!1)}}a.pipelines.postBatch(r)};h.exports=s},4415:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72296),d=e(56694),s=e(91461),a=new d({Extends:s,Mixins:[f],initialize:function(o,u,v,l,c,p,g,m){u===void 0&&(u=0),v===void 0&&(v=0),l===void 0&&(l=48),c===void 0&&(c=32),p===void 0&&(p=15658734),g===void 0&&(g=10066329),m===void 0&&(m=13421772),s.call(this,o,"IsoBox",null),this.projection=4,this.fillTop=p,this.fillLeft=g,this.fillRight=m,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(u,v),this.setSize(l,c),this.updateDisplayOrigin()},setProjection:function(r){return this.projection=r,this},setFaces:function(r,o,u){return r===void 0&&(r=!0),o===void 0&&(o=!0),u===void 0&&(u=!0),this.showTop=r,this.showLeft=o,this.showRight=u,this},setFillStyle:function(r,o,u){return this.fillTop=r,this.fillLeft=o,this.fillRight=u,this.isFilled=!0,this}});h.exports=a},32884:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(15608),d=e(49584),s=function(a,r,o,u){o.addToRenderList(r);var v=a.currentContext;if(d(a,v,r,o,u)&&r.isFilled){var l=r.width,c=r.height,p=l/2,g=l/r.projection;r.showTop&&(f(v,r,r.fillTop),v.beginPath(),v.moveTo(-p,-c),v.lineTo(0,-g-c),v.lineTo(p,-c),v.lineTo(p,-1),v.lineTo(0,g-1),v.lineTo(-p,-1),v.lineTo(-p,-c),v.fill()),r.showLeft&&(f(v,r,r.fillLeft),v.beginPath(),v.moveTo(-p,0),v.lineTo(0,g),v.lineTo(0,g-c),v.lineTo(-p,-c),v.lineTo(-p,0),v.fill()),r.showRight&&(f(v,r,r.fillRight),v.beginPath(),v.moveTo(p,0),v.lineTo(0,g),v.lineTo(0,g-c),v.lineTo(p,-c),v.lineTo(p,0),v.fill()),v.restore()}};h.exports=s},88154:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61286),d=e(4415);f.register("isobox",function(s,a,r,o,u,v,l){return this.displayList.add(new d(this.scene,s,a,r,o,u,v,l))})},72296:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),d=f,s=f;d=e(33101),s=e(32884),h.exports={renderWebGL:d,renderCanvas:s}},33101:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(73329),d=e(75512),s=function(a,r,o,u){o.addToRenderList(r);var v=a.pipelines.set(r.pipeline),l=f(r,o,u),c=v.calcMatrix.copyFrom(l.calc),p=r.width,g=r.height,m=p/2,T=p/r.projection,S=o.alpha*r.alpha;if(r.isFilled){var P,E,R,A,w,O,L,F,I;a.pipelines.preBatch(r),r.showTop&&(P=d.getTintAppendFloatAlpha(r.fillTop,S),E=c.getX(-m,-g),R=c.getY(-m,-g),A=c.getX(0,-T-g),w=c.getY(0,-T-g),O=c.getX(m,-g),L=c.getY(m,-g),F=c.getX(0,T-g),I=c.getY(0,T-g),v.batchQuad(r,E,R,A,w,O,L,F,I,0,0,1,1,P,P,P,P,2)),r.showLeft&&(P=d.getTintAppendFloatAlpha(r.fillLeft,S),E=c.getX(-m,0),R=c.getY(-m,0),A=c.getX(0,T),w=c.getY(0,T),O=c.getX(0,T-g),L=c.getY(0,T-g),F=c.getX(-m,-g),I=c.getY(-m,-g),v.batchQuad(r,E,R,A,w,O,L,F,I,0,0,1,1,P,P,P,P,2)),r.showRight&&(P=d.getTintAppendFloatAlpha(r.fillRight,S),E=c.getX(m,0),R=c.getY(m,0),A=c.getX(0,T),w=c.getY(0,T),O=c.getX(0,T-g),L=c.getY(0,T-g),F=c.getX(m,-g),I=c.getY(m,-g),v.batchQuad(r,E,R,A,w,O,L,F,I,0,0,1,1,P,P,P,P,2)),a.pipelines.postBatch(r)}};h.exports=s},65159:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(93387),s=e(91461),a=new f({Extends:s,Mixins:[d],initialize:function(o,u,v,l,c,p,g,m,T){u===void 0&&(u=0),v===void 0&&(v=0),l===void 0&&(l=48),c===void 0&&(c=32),p===void 0&&(p=!1),g===void 0&&(g=15658734),m===void 0&&(m=10066329),T===void 0&&(T=13421772),s.call(this,o,"IsoTriangle",null),this.projection=4,this.fillTop=g,this.fillLeft=m,this.fillRight=T,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=p,this.isFilled=!0,this.setPosition(u,v),this.setSize(l,c),this.updateDisplayOrigin()},setProjection:function(r){return this.projection=r,this},setReversed:function(r){return this.isReversed=r,this},setFaces:function(r,o,u){return r===void 0&&(r=!0),o===void 0&&(o=!0),u===void 0&&(u=!0),this.showTop=r,this.showLeft=o,this.showRight=u,this},setFillStyle:function(r,o,u){return this.fillTop=r,this.fillLeft=o,this.fillRight=u,this.isFilled=!0,this}});h.exports=a},9923:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(15608),d=e(49584),s=function(a,r,o,u){o.addToRenderList(r);var v=a.currentContext;if(d(a,v,r,o,u)&&r.isFilled){var l=r.width,c=r.height,p=l/2,g=l/r.projection,m=r.isReversed;r.showTop&&m&&(f(v,r,r.fillTop),v.beginPath(),v.moveTo(-p,-c),v.lineTo(0,-g-c),v.lineTo(p,-c),v.lineTo(0,g-c),v.fill()),r.showLeft&&(f(v,r,r.fillLeft),v.beginPath(),m?(v.moveTo(-p,-c),v.lineTo(0,g),v.lineTo(0,g-c)):(v.moveTo(-p,0),v.lineTo(0,g),v.lineTo(0,g-c)),v.fill()),r.showRight&&(f(v,r,r.fillRight),v.beginPath(),m?(v.moveTo(p,-c),v.lineTo(0,g),v.lineTo(0,g-c)):(v.moveTo(p,0),v.lineTo(0,g),v.lineTo(0,g-c)),v.fill()),v.restore()}};h.exports=s},67765:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61286),d=e(65159);f.register("isotriangle",function(s,a,r,o,u,v,l,c){return this.displayList.add(new d(this.scene,s,a,r,o,u,v,l,c))})},93387:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),d=f,s=f;d=e(54946),s=e(9923),h.exports={renderWebGL:d,renderCanvas:s}},54946:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(73329),d=e(75512),s=function(a,r,o,u){o.addToRenderList(r);var v=a.pipelines.set(r.pipeline),l=f(r,o,u),c=v.calcMatrix.copyFrom(l.calc),p=r.width,g=r.height,m=p/2,T=p/r.projection,S=r.isReversed,P=o.alpha*r.alpha;if(r.isFilled){a.pipelines.preBatch(r);var E,R,A,w,O,L,F;if(r.showTop&&S){E=d.getTintAppendFloatAlpha(r.fillTop,P),R=c.getX(-m,-g),A=c.getY(-m,-g),w=c.getX(0,-T-g),O=c.getY(0,-T-g),L=c.getX(m,-g),F=c.getY(m,-g);var I=c.getX(0,T-g),B=c.getY(0,T-g);v.batchQuad(r,R,A,w,O,L,F,I,B,0,0,1,1,E,E,E,E,2)}r.showLeft&&(E=d.getTintAppendFloatAlpha(r.fillLeft,P),S?(R=c.getX(-m,-g),A=c.getY(-m,-g),w=c.getX(0,T),O=c.getY(0,T),L=c.getX(0,T-g),F=c.getY(0,T-g)):(R=c.getX(-m,0),A=c.getY(-m,0),w=c.getX(0,T),O=c.getY(0,T),L=c.getX(0,T-g),F=c.getY(0,T-g)),v.batchTri(r,R,A,w,O,L,F,0,0,1,1,E,E,E,2)),r.showRight&&(E=d.getTintAppendFloatAlpha(r.fillRight,P),S?(R=c.getX(m,-g),A=c.getY(m,-g),w=c.getX(0,T),O=c.getY(0,T),L=c.getX(0,T-g),F=c.getY(0,T-g)):(R=c.getX(m,0),A=c.getY(m,0),w=c.getX(0,T),O=c.getY(0,T),L=c.getX(0,T-g),F=c.getY(0,T-g)),v.batchTri(r,R,A,w,O,L,F,0,0,1,1,E,E,E,2)),a.pipelines.postBatch(r)}};h.exports=s},579:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(91461),s=e(88829),a=e(52660),r=new f({Extends:d,Mixins:[a],initialize:function(u,v,l,c,p,g,m,T,S){v===void 0&&(v=0),l===void 0&&(l=0),c===void 0&&(c=0),p===void 0&&(p=0),g===void 0&&(g=128),m===void 0&&(m=0),d.call(this,u,"Line",new s(c,p,g,m));var P=Math.max(1,this.geom.right-this.geom.left),E=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(v,l),this.setSize(P,E),T!==void 0&&this.setStrokeStyle(1,T,S),this.updateDisplayOrigin()},setLineWidth:function(o,u){return u===void 0&&(u=o),this._startWidth=o,this._endWidth=u,this.lineWidth=o,this},setTo:function(o,u,v,l){return this.geom.setTo(o,u,v,l),this}});h.exports=r},52044:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(17876),d=e(49584),s=function(a,r,o,u){o.addToRenderList(r);var v=a.currentContext;if(d(a,v,r,o,u)){var l=r._displayOriginX,c=r._displayOriginY;r.isStroked&&(f(v,r),v.beginPath(),v.moveTo(r.geom.x1-l,r.geom.y1-c),v.lineTo(r.geom.x2-l,r.geom.y2-c),v.stroke()),v.restore()}};h.exports=s},85665:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61286),d=e(579);f.register("line",function(s,a,r,o,u,v,l,c){return this.displayList.add(new d(this.scene,s,a,r,o,u,v,l,c))})},52660:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),d=f,s=f;d=e(46952),s=e(52044),h.exports={renderWebGL:d,renderCanvas:s}},46952:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(73329),d=e(75512),s=function(a,r,o,u){o.addToRenderList(r);var v=a.pipelines.set(r.pipeline),l=f(r,o,u);v.calcMatrix.copyFrom(l.calc);var c=r._displayOriginX,p=r._displayOriginY,g=o.alpha*r.alpha;if(a.pipelines.preBatch(r),r.isStroked){var m=v.strokeTint,T=d.getTintAppendFloatAlpha(r.strokeColor,r.strokeAlpha*g);m.TL=T,m.TR=T,m.BL=T,m.BR=T,v.batchLine(r.geom.x1-c,r.geom.y1-p,r.geom.x2-c,r.geom.y2-p,r._startWidth/2,r._endWidth/2,1,0,!1,l.sprite,l.camera)}a.pipelines.postBatch(r)};h.exports=s},91249:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(70573),d=e(56694),s=e(11117),a=e(14045),r=e(8580),o=e(91461),u=e(18974),v=new d({Extends:o,Mixins:[f],initialize:function(c,p,g,m,T,S){p===void 0&&(p=0),g===void 0&&(g=0),o.call(this,c,"Polygon",new r(m));var P=a(this.geom);this.setPosition(p,g),this.setSize(P.width,P.height),T!==void 0&&this.setFillStyle(T,S),this.updateDisplayOrigin(),this.updateData()},smooth:function(l){l===void 0&&(l=1);for(var c=0;c<l;c++)u(this.geom);return this.updateData()},setTo:function(l){this.geom.setTo(l);var c=a(this.geom);return this.setSize(c.width,c.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var l=[],c=this.geom.points,p=0;p<c.length;p++)l.push(c[p].x,c[p].y);return l.push(c[0].x,c[0].y),this.pathIndexes=s(l),this.pathData=l,this}});h.exports=v},40834:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(15608),d=e(17876),s=e(49584),a=function(r,o,u,v){u.addToRenderList(o);var l=r.currentContext;if(s(r,l,o,u,v)){var c=o._displayOriginX,p=o._displayOriginY,g=o.pathData,m=g.length-1,T=g[0]-c,S=g[1]-p;l.beginPath(),l.moveTo(T,S),o.closePath||(m-=2);for(var P=2;P<m;P+=2){var E=g[P]-c,R=g[P+1]-p;l.lineTo(E,R)}o.closePath&&l.closePath(),o.isFilled&&(f(l,o),l.fill()),o.isStroked&&(d(l,o),l.stroke()),l.restore()}};h.exports=a},88203:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61286),d=e(91249);f.register("polygon",function(s,a,r,o,u){return this.displayList.add(new d(this.scene,s,a,r,o,u))})},70573:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),d=f,s=f;d=e(72841),s=e(40834),h.exports={renderWebGL:d,renderCanvas:s}},72841:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(19543),d=e(73329),s=e(50262),a=function(r,o,u,v){u.addToRenderList(o);var l=r.pipelines.set(o.pipeline),c=d(o,u,v),p=l.calcMatrix.copyFrom(c.calc),g=o._displayOriginX,m=o._displayOriginY,T=u.alpha*o.alpha;r.pipelines.preBatch(o),o.isFilled&&f(l,p,o,T,g,m),o.isStroked&&s(l,o,T,g,m),r.pipelines.postBatch(o)};h.exports=a},517:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(74118),s=e(91461),a=e(37673),r=new f({Extends:s,Mixins:[a],initialize:function(u,v,l,c,p,g,m){v===void 0&&(v=0),l===void 0&&(l=0),c===void 0&&(c=128),p===void 0&&(p=128),s.call(this,u,"Rectangle",new d(0,0,c,p)),this.setPosition(v,l),this.setSize(c,p),g!==void 0&&this.setFillStyle(g,m),this.updateDisplayOrigin(),this.updateData()},setSize:function(o,u){this.width=o,this.height=u,this.geom.setSize(o,u),this.updateData(),this.updateDisplayOrigin();var v=this.input;return v&&!v.customHitArea&&(v.hitArea.width=o,v.hitArea.height=u),this},updateData:function(){var o=[],u=this.geom,v=this._tempLine;return u.getLineA(v),o.push(v.x1,v.y1,v.x2,v.y2),u.getLineB(v),o.push(v.x2,v.y2),u.getLineC(v),o.push(v.x2,v.y2),u.getLineD(v),o.push(v.x2,v.y2),this.pathData=o,this}});h.exports=r},4091:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(15608),d=e(17876),s=e(49584),a=function(r,o,u,v){u.addToRenderList(o);var l=r.currentContext;if(s(r,l,o,u,v)){var c=o._displayOriginX,p=o._displayOriginY;o.isFilled&&(f(l,o),l.fillRect(-c,-p,o.width,o.height)),o.isStroked&&(d(l,o),l.beginPath(),l.rect(-c,-p,o.width,o.height),l.stroke()),l.restore()}};h.exports=a},94355:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61286),d=e(517);f.register("rectangle",function(s,a,r,o,u,v){return this.displayList.add(new d(this.scene,s,a,r,o,u,v))})},37673:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),d=f,s=f;d=e(43532),s=e(4091),h.exports={renderWebGL:d,renderCanvas:s}},43532:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(73329),d=e(50262),s=e(75512),a=function(r,o,u,v){u.addToRenderList(o);var l=r.pipelines.set(o.pipeline),c=f(o,u,v);l.calcMatrix.copyFrom(c.calc);var p=o._displayOriginX,g=o._displayOriginY,m=u.alpha*o.alpha;if(r.pipelines.preBatch(o),o.isFilled){var T=l.fillTint,S=s.getTintAppendFloatAlpha(o.fillColor,o.fillAlpha*m);T.TL=S,T.TR=S,T.BL=S,T.BR=S,l.batchFillRect(-p,-g,o.width,o.height)}o.isStroked&&d(l,o,m,p,g),r.pipelines.postBatch(o)};h.exports=a},77843:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(87956),d=e(56694),s=e(11117),a=e(91461),r=new d({Extends:a,Mixins:[f],initialize:function(u,v,l,c,p,g,m,T){v===void 0&&(v=0),l===void 0&&(l=0),c===void 0&&(c=5),p===void 0&&(p=32),g===void 0&&(g=64),a.call(this,u,"Star",null),this._points=c,this._innerRadius=p,this._outerRadius=g,this.setPosition(v,l),this.setSize(g*2,g*2),m!==void 0&&this.setFillStyle(m,T),this.updateDisplayOrigin(),this.updateData()},setPoints:function(o){return this._points=o,this.updateData()},setInnerRadius:function(o){return this._innerRadius=o,this.updateData()},setOuterRadius:function(o){return this._outerRadius=o,this.updateData()},points:{get:function(){return this._points},set:function(o){this._points=o,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(o){this._innerRadius=o,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(o){this._outerRadius=o,this.updateData()}},updateData:function(){var o=[],u=this._points,v=this._innerRadius,l=this._outerRadius,c=Math.PI/2*3,p=Math.PI/u,g=l,m=l;o.push(g,m+-l);for(var T=0;T<u;T++)o.push(g+Math.cos(c)*l,m+Math.sin(c)*l),c+=p,o.push(g+Math.cos(c)*v,m+Math.sin(c)*v),c+=p;return o.push(g,m+-l),this.pathIndexes=s(o),this.pathData=o,this}});h.exports=r},11401:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(15608),d=e(17876),s=e(49584),a=function(r,o,u,v){u.addToRenderList(o);var l=r.currentContext;if(s(r,l,o,u,v)){var c=o._displayOriginX,p=o._displayOriginY,g=o.pathData,m=g.length-1,T=g[0]-c,S=g[1]-p;l.beginPath(),l.moveTo(T,S),o.closePath||(m-=2);for(var P=2;P<m;P+=2){var E=g[P]-c,R=g[P+1]-p;l.lineTo(E,R)}l.closePath(),o.isFilled&&(f(l,o),l.fill()),o.isStroked&&(d(l,o),l.stroke()),l.restore()}};h.exports=a},23962:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(77843),d=e(61286);d.register("star",function(s,a,r,o,u,v,l){return this.displayList.add(new f(this.scene,s,a,r,o,u,v,l))})},87956:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),d=f,s=f;d=e(12037),s=e(11401),h.exports={renderWebGL:d,renderCanvas:s}},12037:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(19543),d=e(73329),s=e(50262),a=function(r,o,u,v){u.addToRenderList(o);var l=r.pipelines.set(o.pipeline),c=d(o,u,v),p=l.calcMatrix.copyFrom(c.calc),g=o._displayOriginX,m=o._displayOriginY,T=u.alpha*o.alpha;r.pipelines.preBatch(o),o.isFilled&&f(l,p,o,T,g,m),o.isStroked&&s(l,o,T,g,m),r.pipelines.postBatch(o)};h.exports=a},21873:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(91461),s=e(66349),a=e(70498),r=new f({Extends:d,Mixins:[a],initialize:function(u,v,l,c,p,g,m,T,S,P,E){v===void 0&&(v=0),l===void 0&&(l=0),c===void 0&&(c=0),p===void 0&&(p=128),g===void 0&&(g=64),m===void 0&&(m=0),T===void 0&&(T=128),S===void 0&&(S=128),d.call(this,u,"Triangle",new s(c,p,g,m,T,S));var R=this.geom.right-this.geom.left,A=this.geom.bottom-this.geom.top;this.setPosition(v,l),this.setSize(R,A),P!==void 0&&this.setFillStyle(P,E),this.updateDisplayOrigin(),this.updateData()},setTo:function(o,u,v,l,c,p){return this.geom.setTo(o,u,v,l,c,p),this.updateData()},updateData:function(){var o=[],u=this.geom,v=this._tempLine;return u.getLineA(v),o.push(v.x1,v.y1,v.x2,v.y2),u.getLineB(v),o.push(v.x2,v.y2),u.getLineC(v),o.push(v.x2,v.y2),this.pathData=o,this}});h.exports=r},60213:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(15608),d=e(17876),s=e(49584),a=function(r,o,u,v){u.addToRenderList(o);var l=r.currentContext;if(s(r,l,o,u,v)){var c=o._displayOriginX,p=o._displayOriginY,g=o.geom.x1-c,m=o.geom.y1-p,T=o.geom.x2-c,S=o.geom.y2-p,P=o.geom.x3-c,E=o.geom.y3-p;l.beginPath(),l.moveTo(g,m),l.lineTo(T,S),l.lineTo(P,E),l.closePath(),o.isFilled&&(f(l,o),l.fill()),o.isStroked&&(d(l,o),l.stroke()),l.restore()}};h.exports=a},79296:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61286),d=e(21873);f.register("triangle",function(s,a,r,o,u,v,l,c,p,g){return this.displayList.add(new d(this.scene,s,a,r,o,u,v,l,c,p,g))})},70498:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),d=f,s=f;d=e(72291),s=e(60213),h.exports={renderWebGL:d,renderCanvas:s}},72291:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(73329),d=e(50262),s=e(75512),a=function(r,o,u,v){u.addToRenderList(o);var l=r.pipelines.set(o.pipeline),c=f(o,u,v);l.calcMatrix.copyFrom(c.calc);var p=o._displayOriginX,g=o._displayOriginY,m=u.alpha*o.alpha;if(r.pipelines.preBatch(o),o.isFilled){var T=l.fillTint,S=s.getTintAppendFloatAlpha(o.fillColor,o.fillAlpha*m);T.TL=S,T.TR=S,T.BL=S,T.BR=S;var P=o.geom.x1-p,E=o.geom.y1-g,R=o.geom.x2-p,A=o.geom.y2-g,w=o.geom.x3-p,O=o.geom.y3-g;l.batchFillTriangle(P,E,R,A,w,O,c.sprite,c.camera)}o.isStroked&&d(l,o,m,p,g),r.pipelines.postBatch(o)};h.exports=a},13747:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(16569),d=e(56694),s=e(64937),a=e(89980),r=e(20791),o=new d({Extends:a,Mixins:[s.Alpha,s.BlendMode,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Size,s.TextureCrop,s.Tint,s.Transform,s.Visible,r],initialize:function(v,l,c,p,g){a.call(this,v,"Sprite"),this._crop=this.resetCropObject(),this.anims=new f(this),this.setTexture(p,g),this.setPosition(l,c),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(u,v){this.anims.update(u,v)},play:function(u,v){return this.anims.play(u,v)},playReverse:function(u,v){return this.anims.playReverse(u,v)},playAfterDelay:function(u,v){return this.anims.playAfterDelay(u,v)},playAfterRepeat:function(u,v){return this.anims.playAfterRepeat(u,v)},chain:function(u){return this.anims.chain(u)},stop:function(){return this.anims.stop()},stopAfterDelay:function(u){return this.anims.stopAfterDelay(u)},stopAfterRepeat:function(u){return this.anims.stopAfterRepeat(u)},stopOnFrame:function(u){return this.anims.stopOnFrame(u)},toJSON:function(){return s.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});h.exports=o},27573:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){d.addToRenderList(f),e.batchSprite(f,f.frame,d,s)};h.exports=y},89219:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(88933),d=e(32291),s=e(99325),a=e(20494),r=e(13747);s.register("sprite",function(o,u){o===void 0&&(o={});var v=a(o,"key",null),l=a(o,"frame",null),c=new r(this.scene,0,0,v,l);return u!==void 0&&(o.add=u),f(this.scene,c,o),d(c,o),c})},66135:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61286),d=e(13747);f.register("sprite",function(s,a,r,o){return this.displayList.add(new d(this.scene,s,a,r,o))})},20791:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),d=f,s=f;d=e(21034),s=e(27573),h.exports={renderWebGL:d,renderCanvas:s}},21034:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){d.addToRenderList(f),f.pipeline.batchSprite(f,d,s)};h.exports=y},32979:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){var s=e.canvas,a=e.context,r=e.style,o=[],u=0,v=d.length;r.maxLines>0&&r.maxLines<d.length&&(v=r.maxLines),r.syncFont(s,a);for(var l=0;l<v;l++){var c=r.strokeThickness;c+=a.measureText(d[l]).width,d[l].length>1&&(c+=e.letterSpacing*(d[l].length-1)),r.wordWrap&&(c-=a.measureText(" ").width),o[l]=Math.ceil(c),u=Math.max(u,o[l])}var p=f.fontSize+r.strokeThickness,g=p*v,m=e.lineSpacing;return v>1&&(g+=m*(v-1)),{width:u,height:g,lines:v,lineWidths:o,lineSpacing:m,lineHeight:p}};h.exports=y},27030:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61068),d=function(s){var a=f.create(this),r=a.getContext("2d",{willReadFrequently:!0});s.syncFont(a,r);var o=r.measureText(s.testString);if("actualBoundingBoxAscent"in o){var u=o.actualBoundingBoxAscent,v=o.actualBoundingBoxDescent;return f.remove(a),{ascent:u,descent:v,fontSize:u+v}}var l=Math.ceil(o.width*s.baselineX),c=l,p=2*c;c=c*s.baselineY|0,a.width=l,a.height=p,r.fillStyle="#f00",r.fillRect(0,0,l,p),r.font=s._font,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(s.testString,0,c);var g={ascent:0,descent:0,fontSize:0},m=r.getImageData(0,0,l,p);if(!m)return g.ascent=c,g.descent=c+6,g.fontSize=g.ascent+g.descent,f.remove(a),g;var T=m.data,S=T.length,P=l*4,E,R,A=0,w=!1;for(E=0;E<c;E++){for(R=0;R<P;R+=4)if(T[A+R]!==255){w=!0;break}if(!w)A+=P;else break}for(g.ascent=c-E,A=S-P,w=!1,E=p;E>c;E--){for(R=0;R<P;R+=4)if(T[A+R]!==255){w=!0;break}if(!w)A-=P;else break}return g.descent=E-c,g.fontSize=g.ascent+g.descent,f.remove(a),g};h.exports=d},76555:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(99584),d=e(61068),s=e(56694),a=e(64937),r=e(89980),o=e(32979),u=e(10850),v=e(55638),l=e(80032),c=e(74744),p=new s({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Crop,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Tint,a.Transform,a.Visible,l],initialize:function(m,T,S,P,E){T===void 0&&(T=0),S===void 0&&(S=0),r.call(this,m,"Text"),this.renderer=m.sys.renderer,this.setPosition(T,S),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=d.create(this),this.context,this.style=new c(this,E),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this.texture=m.sys.textures.addCanvas(null,this.canvas,!0),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(P),E&&E.padding&&this.setPadding(E.padding),E&&E.lineSpacing&&this.setLineSpacing(E.lineSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",f(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(g){var m=this.style;if(m.wordWrapCallback){var T=m.wordWrapCallback.call(m.wordWrapCallbackScope,g,this);return Array.isArray(T)&&(T=T.join(`
`)),T}else return m.wordWrapWidth?m.wordWrapUseAdvanced?this.advancedWordWrap(g,this.context,this.style.wordWrapWidth):this.basicWordWrap(g,this.context,this.style.wordWrapWidth):g},advancedWordWrap:function(g,m,T){for(var S="",P=g.replace(/ +/gi," ").split(this.splitRegExp),E=P.length,R=0;R<E;R++){var A=P[R],w="";A=A.replace(/^ *|\s*$/gi,"");var O=m.measureText(A).width;if(O<T){S+=A+`
`;continue}for(var L=T,F=A.split(" "),I=0;I<F.length;I++){var B=F[I],G=B+" ",N=m.measureText(G).width;if(N>L){if(I===0){for(var U=G;U.length&&(U=U.slice(0,-1),N=m.measureText(U).width,!(N<=L)););if(!U.length)throw new Error("wordWrapWidth < a single character");var Y=B.substr(U.length);F[I]=Y,w+=U}var X=F[I].length?I:I+1,b=F.slice(X).join(" ").replace(/[ \n]*$/gi,"");P.splice(R+1,0,b),E=P.length;break}else w+=G,L-=N}S+=w.replace(/[ \n]*$/gi,"")+`
`}return S=S.replace(/[\s|\n]*$/gi,""),S},basicWordWrap:function(g,m,T){for(var S="",P=g.split(this.splitRegExp),E=P.length-1,R=m.measureText(" ").width,A=0;A<=E;A++){for(var w=T,O=P[A].split(" "),L=O.length-1,F=0;F<=L;F++){var I=O[F],B=m.measureText(I).width,G=B;F<L&&(G+=R),G>w&&F>0&&(S+=`
`,w=T),S+=I,F<L?(S+=" ",w-=G):w-=B}A<E&&(S+=`
`)}return S},getWrappedText:function(g){g===void 0&&(g=this._text),this.style.syncFont(this.canvas,this.context);var m=this.runWordWrap(g);return m.split(this.splitRegExp)},setText:function(g){return!g&&g!==0&&(g=""),Array.isArray(g)&&(g=g.join(`
`)),g!==this._text&&(this._text=g.toString(),this.updateText()),this},appendText:function(g,m){m===void 0&&(m=!0),!g&&g!==0&&(g=""),Array.isArray(g)&&(g=g.join(`
`)),g=g.toString();var T=this._text.concat(m?`
`+g:g);return T!==this._text&&(this._text=T,this.updateText()),this},setStyle:function(g){return this.style.setStyle(g)},setFont:function(g){return this.style.setFont(g)},setFontFamily:function(g){return this.style.setFontFamily(g)},setFontSize:function(g){return this.style.setFontSize(g)},setFontStyle:function(g){return this.style.setFontStyle(g)},setFixedSize:function(g,m){return this.style.setFixedSize(g,m)},setBackgroundColor:function(g){return this.style.setBackgroundColor(g)},setFill:function(g){return this.style.setFill(g)},setColor:function(g){return this.style.setColor(g)},setStroke:function(g,m){return this.style.setStroke(g,m)},setShadow:function(g,m,T,S,P,E){return this.style.setShadow(g,m,T,S,P,E)},setShadowOffset:function(g,m){return this.style.setShadowOffset(g,m)},setShadowColor:function(g){return this.style.setShadowColor(g)},setShadowBlur:function(g){return this.style.setShadowBlur(g)},setShadowStroke:function(g){return this.style.setShadowStroke(g)},setShadowFill:function(g){return this.style.setShadowFill(g)},setWordWrapWidth:function(g,m){return this.style.setWordWrapWidth(g,m)},setWordWrapCallback:function(g,m){return this.style.setWordWrapCallback(g,m)},setAlign:function(g){return this.style.setAlign(g)},setResolution:function(g){return this.style.setResolution(g)},setLineSpacing:function(g){return this.lineSpacing=g,this.updateText()},setLetterSpacing:function(g){return this.letterSpacing=g,this.updateText()},setPadding:function(g,m,T,S){if(typeof g=="object"){var P=g,E=u(P,"x",null);E!==null?(g=E,T=E):(g=u(P,"left",0),T=u(P,"right",g));var R=u(P,"y",null);R!==null?(m=R,S=R):(m=u(P,"top",0),S=u(P,"bottom",m))}else g===void 0&&(g=0),m===void 0&&(m=g),T===void 0&&(T=g),S===void 0&&(S=m);return this.padding.left=g,this.padding.top=m,this.padding.right=T,this.padding.bottom=S,this.updateText()},setMaxLines:function(g){return this.style.setMaxLines(g)},setRTL:function(g){g===void 0&&(g=!0);var m=this.style;return m.rtl===g?this:(m.rtl=g,g?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",f(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),m.align==="left"?m.align="right":m.align==="right"&&(m.align="left"),this)},updateText:function(){var g=this.canvas,m=this.context,T=this.style,S=T.resolution,P=T.metrics;T.syncFont(g,m);var E=this._text;(T.wordWrapWidth||T.wordWrapCallback)&&(E=this.runWordWrap(this._text));var R=E.split(this.splitRegExp),A=o(this,P,R),w=this.padding,O;T.fixedWidth===0?(this.width=A.width+w.left+w.right,O=A.width):(this.width=T.fixedWidth,O=this.width-w.left-w.right,O<A.width&&(O=A.width)),T.fixedHeight===0?this.height=A.height+w.top+w.bottom:this.height=T.fixedHeight;var L=this.width,F=this.height;this.updateDisplayOrigin(),L*=S,F*=S,L=Math.max(L,1),F=Math.max(F,1),g.width!==L||g.height!==F?(g.width=L,g.height=F,this.frame.setSize(L,F),T.syncFont(g,m),T.rtl&&(m.direction="rtl")):m.clearRect(0,0,L,F),m.save(),m.scale(S,S),T.backgroundColor&&(m.fillStyle=T.backgroundColor,m.fillRect(0,0,L,F)),T.syncStyle(g,m),m.translate(w.left,w.top);for(var I,B,G=0;G<A.lines;G++){if(I=T.strokeThickness/2,B=T.strokeThickness/2+G*A.lineHeight+P.ascent,G>0&&(B+=A.lineSpacing*G),T.rtl)I=L-I-w.left-w.right;else if(T.align==="right")I+=O-A.lineWidths[G];else if(T.align==="center")I+=(O-A.lineWidths[G])/2;else if(T.align==="justify"){var N=.85;if(A.lineWidths[G]/A.width>=N){var U=A.width-A.lineWidths[G],Y=m.measureText(" ").width,X=R[G].trim(),b=X.split(" ");U+=(R[G].length-X.length)*Y;for(var z=Math.floor(U/Y),D=0;z>0;)b[D]+=" ",D=(D+1)%(b.length-1||1),--z;R[G]=b.join(" ")}}if(this.autoRound&&(I=Math.round(I),B=Math.round(B)),T.strokeThickness&&(T.syncShadow(m,T.shadowStroke),m.strokeText(R[G],I,B)),T.color){T.syncShadow(m,T.shadowFill);var V=this.letterSpacing;if(V!==0)for(var k=0,W=R[G].split(""),H=0;H<W.length;H++)m.fillText(W[H],I+k,B),k+=m.measureText(W[H]).width+V;else m.fillText(R[G],I,B)}}m.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(g,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture);var $=this.input;return $&&!$.customHitArea&&($.hitArea.width=this.width,$.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(g){this.setText(g)}},toJSON:function(){var g=a.ToJSON(this),m={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return g.data=m,g},preDestroy:function(){v(this.canvas),d.remove(this.canvas),this.texture.destroy()}});h.exports=p},71649:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){f.width===0||f.height===0||(d.addToRenderList(f),e.batchSprite(f,f.frame,d,s))};h.exports=y},75397:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(88933),d=e(99325),s=e(20494),a=e(76555);d.register("text",function(r,o){r===void 0&&(r={});var u=s(r,"text",""),v=s(r,"style",null),l=s(r,"padding",null);l!==null&&(v.padding=l);var c=new a(this.scene,0,0,u,v);return o!==void 0&&(r.add=o),f(this.scene,c,r),c.autoRound=s(r,"autoRound",!0),c.resolution=s(r,"resolution",1),c})},94627:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(76555),d=e(61286);d.register("text",function(s,a,r,o){return this.displayList.add(new f(this.scene,s,a,r,o))})},80032:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),d=f,s=f;d=e(76128),s=e(71649),h.exports={renderWebGL:d,renderCanvas:s}},74744:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(20494),s=e(10850),a=e(27030),r={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},o=new f({initialize:function(v,l){this.parent=v,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(l,!1,!0)},setStyle:function(u,v,l){v===void 0&&(v=!0),l===void 0&&(l=!1),u&&u.hasOwnProperty("fontSize")&&typeof u.fontSize=="number"&&(u.fontSize=u.fontSize.toString()+"px");for(var c in r){var p=l?r[c][1]:this[c];c==="wordWrapCallback"||c==="wordWrapCallbackScope"?this[c]=s(u,r[c][0],p):this[c]=d(u,r[c][0],p)}var g=s(u,"font",null);g!==null&&this.setFont(g,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var m=s(u,"fill",null);m!==null&&(this.color=m);var T=s(u,"metrics",!1);return T?this.metrics={ascent:s(T,"ascent",0),descent:s(T,"descent",0),fontSize:s(T,"fontSize",0)}:(v||!this.metrics)&&(this.metrics=a(this)),v?this.parent.updateText():this.parent},syncFont:function(u,v){v.font=this._font},syncStyle:function(u,v){v.textBaseline="alphabetic",v.fillStyle=this.color,v.strokeStyle=this.stroke,v.lineWidth=this.strokeThickness,v.lineCap="round",v.lineJoin="round"},syncShadow:function(u,v){v?(u.shadowOffsetX=this.shadowOffsetX,u.shadowOffsetY=this.shadowOffsetY,u.shadowColor=this.shadowColor,u.shadowBlur=this.shadowBlur):(u.shadowOffsetX=0,u.shadowOffsetY=0,u.shadowColor=0,u.shadowBlur=0)},update:function(u){return u&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=a(this)),this.parent.updateText()},setFont:function(u,v){v===void 0&&(v=!0);var l=u,c="",p="";if(typeof u!="string")l=s(u,"fontFamily","Courier"),c=s(u,"fontSize","16px"),p=s(u,"fontStyle","");else{var g=u.split(" "),m=0;p=g.length>2?g[m++]:"",c=g[m++]||"16px",l=g[m++]||"Courier"}return(l!==this.fontFamily||c!==this.fontSize||p!==this.fontStyle)&&(this.fontFamily=l,this.fontSize=c,this.fontStyle=p,v&&this.update(!0)),this.parent},setFontFamily:function(u){return this.fontFamily!==u&&(this.fontFamily=u,this.update(!0)),this.parent},setFontStyle:function(u){return this.fontStyle!==u&&(this.fontStyle=u,this.update(!0)),this.parent},setFontSize:function(u){return typeof u=="number"&&(u=u.toString()+"px"),this.fontSize!==u&&(this.fontSize=u,this.update(!0)),this.parent},setTestString:function(u){return this.testString=u,this.update(!0)},setFixedSize:function(u,v){return this.fixedWidth=u,this.fixedHeight=v,u&&(this.parent.width=u),v&&(this.parent.height=v),this.update(!1)},setBackgroundColor:function(u){return this.backgroundColor=u,this.update(!1)},setFill:function(u){return this.color=u,this.update(!1)},setColor:function(u){return this.color=u,this.update(!1)},setResolution:function(u){return this.resolution=u,this.update(!1)},setStroke:function(u,v){return v===void 0&&(v=this.strokeThickness),u===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==u||this.strokeThickness!==v)&&(this.stroke=u,this.strokeThickness=v,this.update(!0)),this.parent},setShadow:function(u,v,l,c,p,g){return u===void 0&&(u=0),v===void 0&&(v=0),l===void 0&&(l="#000"),c===void 0&&(c=0),p===void 0&&(p=!1),g===void 0&&(g=!0),this.shadowOffsetX=u,this.shadowOffsetY=v,this.shadowColor=l,this.shadowBlur=c,this.shadowStroke=p,this.shadowFill=g,this.update(!1)},setShadowOffset:function(u,v){return u===void 0&&(u=0),v===void 0&&(v=u),this.shadowOffsetX=u,this.shadowOffsetY=v,this.update(!1)},setShadowColor:function(u){return u===void 0&&(u="#000"),this.shadowColor=u,this.update(!1)},setShadowBlur:function(u){return u===void 0&&(u=0),this.shadowBlur=u,this.update(!1)},setShadowStroke:function(u){return this.shadowStroke=u,this.update(!1)},setShadowFill:function(u){return this.shadowFill=u,this.update(!1)},setWordWrapWidth:function(u,v){return v===void 0&&(v=!1),this.wordWrapWidth=u,this.wordWrapUseAdvanced=v,this.update(!1)},setWordWrapCallback:function(u,v){return v===void 0&&(v=null),this.wordWrapCallback=u,this.wordWrapCallbackScope=v,this.update(!1)},setAlign:function(u){return u===void 0&&(u="left"),this.align=u,this.update(!1)},setMaxLines:function(u){return u===void 0&&(u=0),this.maxLines=u,this.update(!1)},getTextMetrics:function(){var u=this.metrics;return{ascent:u.ascent,descent:u.descent,fontSize:u.fontSize}},toJSON:function(){var u={};for(var v in r)u[v]=this[v];return u.metrics=this.getTextMetrics(),u},destroy:function(){this.parent=void 0}});h.exports=o},76128:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(75512),d=function(s,a,r,o){if(!(a.width===0||a.height===0)){r.addToRenderList(a);var u=a.frame,v=u.width,l=u.height,c=f.getTintAppendFloatAlpha,p=s.pipelines.set(a.pipeline,a),g=p.setTexture2D(u.glTexture,a);p.batchTexture(a,u.glTexture,v,l,a.x,a.y,v/a.style.resolution,l/a.style.resolution,a.scaleX,a.scaleY,a.rotation,a.flipX,a.flipY,a.scrollFactorX,a.scrollFactorY,a.displayOriginX,a.displayOriginY,0,0,v,l,c(a.tintTopLeft,r.alpha*a._alphaTL),c(a.tintTopRight,r.alpha*a._alphaTR),c(a.tintBottomLeft,r.alpha*a._alphaBL),c(a.tintBottomRight,r.alpha*a._alphaBR),a.tintFill,0,0,r,o,!1,g)}};h.exports=d},35856:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61068),d=e(56694),s=e(64937),a=e(89980),r=e(3504),o=e(8213),u=e(9271),v=e(93736),l=8,c=new d({Extends:a,Mixins:[s.Alpha,s.BlendMode,s.ComputedSize,s.Crop,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Tint,s.Transform,s.Visible,u],initialize:function(g,m,T,S,P,E,R){var A=g.sys.renderer;a.call(this,g,"TileSprite");var w=g.sys.textures.get(E),O=w.get(R);O.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),w=g.sys.textures.get("__MISSING"),O=w.get()),w.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),w=g.sys.textures.get("__MISSING"),O=w.get()),!S||!P?(S=O.width,P=O.height):(S=Math.floor(S),P=Math.floor(P)),this._tilePosition=new v,this._tileScale=new v(1,1),this.dirty=!1,this.renderer=A,this.canvas=f.create(this,S,P),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=w,this.displayFrame=O,this._crop=this.resetCropObject(),this.texture=g.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.potWidth=r(O.width),this.potHeight=r(O.height),this.fillCanvas=f.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(m,T),this.setSize(S,P),this.setFrame(R),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(p,g){return this.displayTexture=this.scene.sys.textures.get(p),this.setFrame(g)},setFrame:function(p){var g=this.displayTexture.get(p);return this.potWidth=r(g.width),this.potHeight=r(g.height),this.canvas.width=0,!g.cutWidth||!g.cutHeight?this.renderFlags&=~l:this.renderFlags|=l,this.displayFrame=g,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(p,g){return p!==void 0&&(this.tilePositionX=p),g!==void 0&&(this.tilePositionY=g),this},setTileScale:function(p,g){return p===void 0&&(p=this.tileScaleX),g===void 0&&(g=p),this.tileScaleX=p,this.tileScaleY=g,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var p=this.displayFrame;if(p.source.isRenderTexture||p.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var g=this.fillContext,m=this.fillCanvas,T=this.potWidth,S=this.potHeight;(!this.renderer||!this.renderer.gl)&&(T=p.cutWidth,S=p.cutHeight),g.clearRect(0,0,T,S),m.width=T,m.height=S,g.drawImage(p.source.image,p.cutX,p.cutY,p.cutWidth,p.cutHeight,0,0,T,S),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(m,this.fillPattern):this.fillPattern=g.createPattern(m,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var p=this.canvas;if((p.width!==this.width||p.height!==this.height)&&(p.width=this.width,p.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var g=this.context;this.scene.sys.game.config.antialias||o.disable(g);var m=this._tileScale.x,T=this._tileScale.y,S=this._tilePosition.x,P=this._tilePosition.y;g.clearRect(0,0,this.width,this.height),g.save(),g.scale(m,T),g.translate(-S,-P),g.fillStyle=this.fillPattern,g.fillRect(S,P,this.width/m,this.height/T),g.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),f.remove(this.canvas),f.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null,this.texture.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(p){this._tilePosition.x=p,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(p){this._tilePosition.y=p,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(p){this._tileScale.x=p,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(p){this._tileScale.y=p,this.dirty=!0}}});h.exports=c},93305:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){f.updateCanvas(),d.addToRenderList(f),e.batchSprite(f,f.frame,d,s)};h.exports=y},63950:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(88933),d=e(99325),s=e(20494),a=e(35856);d.register("tileSprite",function(r,o){r===void 0&&(r={});var u=s(r,"x",0),v=s(r,"y",0),l=s(r,"width",512),c=s(r,"height",512),p=s(r,"key",""),g=s(r,"frame",""),m=new a(this.scene,u,v,l,c,p,g);return o!==void 0&&(r.add=o),f(this.scene,m,r),m})},20509:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(35856),d=e(61286);d.register("tileSprite",function(s,a,r,o,u,v){return this.displayList.add(new f(this.scene,s,a,r,o,u,v))})},9271:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),d=f,s=f;d=e(74287),s=e(93305),h.exports={renderWebGL:d,renderCanvas:s}},74287:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(75512),d=function(s,a,r,o){a.updateCanvas();var u=a.width,v=a.height;if(!(u===0||v===0)){r.addToRenderList(a);var l=f.getTintAppendFloatAlpha,c=s.pipelines.set(a.pipeline,a),p=c.setTexture2D(a.fillPattern,a);c.batchTexture(a,a.fillPattern,a.displayFrame.width*a.tileScaleX,a.displayFrame.height*a.tileScaleY,a.x,a.y,u,v,a.scaleX,a.scaleY,a.rotation,a.flipX,a.flipY,a.scrollFactorX,a.scrollFactorY,a.originX*u,a.originY*v,0,0,u,v,l(a.tintTopLeft,r.alpha*a._alphaTL),l(a.tintTopRight,r.alpha*a._alphaTR),l(a.tintBottomLeft,r.alpha*a._alphaBL),l(a.tintBottomRight,r.alpha*a._alphaBR),a.tintFill,a.tilePositionX%a.displayFrame.width/a.displayFrame.width,a.tilePositionY%a.displayFrame.height/a.displayFrame.height,r,o,!1,p)}};h.exports=d},8630:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(82897),d=e(56694),s=e(64937),a=e(56631),r=e(97081),o=e(89980),u=e(83392),v=e(76038),l=e(76583),c=e(77974),p=new d({Extends:o,Mixins:[s.Alpha,s.BlendMode,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Size,s.TextureCrop,s.Tint,s.Transform,s.Visible,c],initialize:function(m,T,S,P){o.call(this,m,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=l(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._rfvCallbackId=0;var E=m.sys.game;this._device=E.device.video,this.setPosition(T,S),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),E.events.on(r.PAUSE,this.globalPause,this),E.events.on(r.RESUME,this.globalResume,this);var R=m.sys.sound;R&&R.on(v.GLOBAL_MUTE,this.globalMute,this),P&&this.load(P)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(g){var m=this.scene.sys.cache.video.get(g);return m?(this.cacheKey=g,this.loadHandler(m.url,m.noAudio,m.crossOrigin)):console.warn("No video in cache for key: "+g),this},changeSource:function(g,m,T,S,P){m===void 0&&(m=!0),T===void 0&&(T=!1),this.cacheKey!==g&&(this.load(g),m&&this.play(T,S,P))},getVideoKey:function(){return this.cacheKey},loadURL:function(g,m,T){m===void 0&&(m=!1);var S=this._device.getVideoURL(g);return S?(this.cacheKey="",this.loadHandler(S.url,m,T)):console.warn("No supported video format found for "+g),this},loadMediaStream:function(g,m,T){return this.loadHandler(null,m,T,g)},loadHandler:function(g,m,T,S){m||(m=!1);var P=this.video;if(P?(this.removeLoadEventHandlers(),this.stop()):(P=document.createElement("video"),P.controls=!1,P.setAttribute("playsinline","playsinline"),P.setAttribute("preload","auto"),P.setAttribute("disablePictureInPicture","true")),m?(P.muted=!0,P.defaultMuted=!0,P.setAttribute("autoplay","autoplay")):(P.muted=!1,P.defaultMuted=!1,P.removeAttribute("autoplay")),T?P.setAttribute("crossorigin",T):P.removeAttribute("crossorigin"),S)if("srcObject"in P)try{P.srcObject=S}catch(E){if(E.name!=="TypeError")throw E;P.src=URL.createObjectURL(S)}else P.src=URL.createObjectURL(S);else P.src=g;return this.addLoadEventHandlers(),this.retry=0,this.video=P,this._playCalled=!1,P.load(),this},requestVideoFrame:function(g,m){var T=this.video;if(T){var S=m.width,P=m.height,E=this.videoTexture,R=this.videoTextureSource,A=!E||R.source!==T;A?(this._codePaused=T.paused,this._codeMuted=T.muted,E?(R.source=T,R.width=S,R.height=P,E.get().setSize(S,P)):(E=this.scene.sys.textures.create(this._key,T,S,P),E.add("__BASE",0,0,0,S,P),this.setTexture(E),this.videoTexture=E,this.videoTextureSource=E.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(a.VIDEO_TEXTURE,this,E)),this.setSizeToFrame(),this.updateDisplayOrigin()):R.update(),this.isStalled=!1,this.metadata=m;var w=m.mediaTime;A&&(this._lastUpdate=w,this.emit(a.VIDEO_CREATED,this,S,P),this.frameReady||(this.frameReady=!0,this.emit(a.VIDEO_PLAY,this))),this._playingMarker?w>=this._markerOut&&(T.loop?(T.currentTime=this._markerIn,this.emit(a.VIDEO_LOOP,this)):(this.stop(!1),this.emit(a.VIDEO_COMPLETE,this))):w<this._lastUpdate&&this.emit(a.VIDEO_LOOP,this),this._lastUpdate=w,this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(g,m,T){m===void 0&&(m=-1),T===void 0&&(T=u.MAX_SAFE_INTEGER);var S=this.video;return!S||this.isPlaying()?(S||console.warn("Video not loaded"),this):(g===void 0&&(g=S.loop),S.loop=g,this._markerIn=m,this._markerOut=T,this._playingMarker=m>-1&&T>m&&T<u.MAX_SAFE_INTEGER,this._playCalled||(this._rfvCallbackId=S.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},addLoadEventHandlers:function(){var g=this.video;g&&(g.addEventListener("error",this._loadCallbackHandler),g.addEventListener("abort",this._loadCallbackHandler))},removeLoadEventHandlers:function(){var g=this.video;g&&(g.removeEventListener("error",this._loadCallbackHandler),g.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var g=this.video;if(g){var m=this._callbacks;for(var T in m)g.addEventListener(T,m[T])}},removeEventHandlers:function(){var g=this.video;if(g){var m=this._callbacks;for(var T in m)g.removeEventListener(T,m[T])}},createPlayPromise:function(g){g===void 0&&(g=!0);var m=this.video,T=m.play();if(T!==void 0){var S=this.playSuccess.bind(this),P=this.playError.bind(this);if(!g){var E=this;P=function(){E.failedPlayAttempts++}}T.then(S).catch(P)}else m.addEventListener("playing",this._callbacks.legacy),g||this.failedPlayAttempts++},addMarker:function(g,m,T){return!isNaN(m)&&m>=0&&!isNaN(T)&&T>m&&(this.markers[g]=[m,T]),this},playMarker:function(g,m){var T=this.markers[g];return T&&this.play(m,T[0],T[1]),this},removeMarker:function(g){return delete this.markers[g],this},snapshot:function(g,m){return g===void 0&&(g=this.width),m===void 0&&(m=this.height),this.snapshotArea(0,0,this.width,this.height,g,m)},snapshotArea:function(g,m,T,S,P,E){g===void 0&&(g=0),m===void 0&&(m=0),T===void 0&&(T=this.width),S===void 0&&(S=this.height),P===void 0&&(P=T),E===void 0&&(E=S);var R=this.video,A=this.snapshotTexture;return A?(A.setSize(P,E),R&&A.context.drawImage(R,g,m,T,S,0,0,P,E)):(A=this.scene.sys.textures.createCanvas(l(),P,E),this.snapshotTexture=A,R&&A.context.drawImage(R,g,m,T,S,0,0,P,E)),A.update()},saveSnapshotTexture:function(g){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,g):this.snapshotTexture=this.scene.sys.textures.createCanvas(g,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(a.VIDEO_UNLOCKED,this));var g=this.scene.sys.sound;g&&g.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(g){var m=g.name;m==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(a.VIDEO_LOCKED,this)):m==="NotSupportedError"?(this.stop(!1),this.emit(a.VIDEO_UNSUPPORTED,this,g)):(this.stop(!1),this.emit(a.VIDEO_ERROR,this,g))},legacyPlayHandler:function(){var g=this.video;g&&(this.playSuccess(),g.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(a.VIDEO_PLAYING,this)},loadErrorHandler:function(g){this.stop(!1),this.emit(a.VIDEO_ERROR,this,g)},stalledHandler:function(g){this.isStalled=!0,this.emit(a.VIDEO_STALLED,this,g)},completeHandler:function(){this._playCalled=!1,this.emit(a.VIDEO_COMPLETE,this)},preUpdate:function(g,m){var T=this.video;!T||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=m,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(g){var m=this.video;if(m){var T=m.duration;if(T!==1/0&&!isNaN(T)){var S=T*g;this.setCurrentTime(S)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(g){var m=this.video;if(m){if(typeof g=="string"){var T=g[0],S=parseFloat(g.substr(1));T==="+"?g=m.currentTime+S:T==="-"&&(g=m.currentTime-S)}m.currentTime=g}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(a.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(a.VIDEO_SEEKED,this)},getProgress:function(){var g=this.video;if(g){var m=g.duration;if(m!==1/0&&!isNaN(m))return g.currentTime/m}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(g){g===void 0&&(g=!0),this._codeMuted=g;var m=this.video;return m&&(m.muted=this._systemMuted?!0:g),this},isMuted:function(){return this._codeMuted},globalMute:function(g,m){this._systemMuted=m;var T=this.video;T&&(T.muted=this._codeMuted?!0:m)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(g){g===void 0&&(g=!0);var m=this.video;return this._codePaused=g,m&&!m.ended&&(g?m.paused||(this.removeEventHandlers(),m.pause()):g||(this._playCalled?m.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(g){return g===void 0&&(g=1),this.video&&(this.video.volume=f(g,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(g){return this.video&&(this.video.playbackRate=g),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(g){return g===void 0&&(g=!0),this.video&&(this.video.loop=g),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(g,m){return m===void 0&&(m=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,g),this.videoTextureSource.setFlipY(m)),this._key=g,this.flipY=m,!!this.videoTexture},stop:function(g){g===void 0&&(g=!0);var m=this.video;return m&&(this.removeEventHandlers(),m.cancelVideoFrameCallback(this._rfvCallbackId),m.pause()),this.retry=0,this._playCalled=!1,g&&this.emit(a.VIDEO_STOP,this),this},removeVideoElement:function(){var g=this.video;if(g){for(g.parentNode&&g.parentNode.removeChild(g);g.hasChildNodes();)g.removeChild(g.firstChild);g.removeAttribute("autoplay"),g.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var g=this.scene.sys.game.events;g.off(r.PAUSE,this.globalPause,this),g.off(r.RESUME,this.globalResume,this);var m=this.scene.sys.sound;m&&m.off(v.GLOBAL_MUTE,this.globalMute,this)}});h.exports=p},56933:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){f.videoTexture&&(d.addToRenderList(f),e.batchSprite(f,f.frame,d,s))};h.exports=y},65601:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(88933),d=e(99325),s=e(20494),a=e(8630);d.register("video",function(r,o){r===void 0&&(r={});var u=s(r,"key",null),v=new a(this.scene,0,0,u);return o!==void 0&&(r.add=o),f(this.scene,v,r),v})},215:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(8630),d=e(61286);d.register("video",function(s,a,r){return this.displayList.add(new f(this.scene,s,a,r))})},77974:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),d=f,s=f;d=e(83572),s=e(56933),h.exports={renderWebGL:d,renderCanvas:s}},83572:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){f.videoTexture&&(d.addToRenderList(f),f.pipeline.batchSprite(f,d,s))};h.exports=y},71030:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(95723),d=e(26673),s=e(65650),a=e(56694),r=e(64937),o=e(89980),u=e(74118),v=e(94287),l=new a({Extends:o,Mixins:[r.Depth,r.GetBounds,r.Origin,r.Transform,r.ScrollFactor,r.Visible],initialize:function(p,g,m,T,S){T===void 0&&(T=1),S===void 0&&(S=T),o.call(this,p,"Zone"),this.setPosition(g,m),this.width=T,this.height=S,this.blendMode=f.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(c){this.scaleX=c/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(c){this.scaleY=c/this.height}},setSize:function(c,p,g){g===void 0&&(g=!0),this.width=c,this.height=p,this.updateDisplayOrigin();var m=this.input;return g&&m&&!m.customHitArea&&(m.hitArea.width=c,m.hitArea.height=p),this},setDisplaySize:function(c,p){return this.displayWidth=c,this.displayHeight=p,this},setCircleDropZone:function(c){return this.setDropZone(new d(0,0,c),s)},setRectangleDropZone:function(c,p){return this.setDropZone(new u(0,0,c,p),v)},setDropZone:function(c,p){return this.input||this.setInteractive(c,p,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(c,p,g){g.addToRenderList(p)},renderWebGL:function(c,p,g){g.addToRenderList(p)}});h.exports=l},24067:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(99325),d=e(20494),s=e(71030);f.register("zone",function(a){var r=d(a,"x",0),o=d(a,"y",0),u=d(a,"width",1),v=d(a,"height",u);return new s(this.scene,r,o,u,v)})},34546:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(71030),d=e(61286);d.register("zone",function(s,a,r,o){return this.displayList.add(new f(this.scene,s,a,r,o))})},95847:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.radius>0?Math.PI*e.radius*e.radius:0};h.exports=y},26673:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(65650),s=e(94026),a=e(62941),r=e(52394),o=e(30977),u=new f({initialize:function(l,c,p){l===void 0&&(l=0),c===void 0&&(c=0),p===void 0&&(p=0),this.type=r.CIRCLE,this.x=l,this.y=c,this._radius=p,this._diameter=p*2},contains:function(v,l){return d(this,v,l)},getPoint:function(v,l){return s(this,v,l)},getPoints:function(v,l,c){return a(this,v,l,c)},getRandomPoint:function(v){return o(this,v)},setTo:function(v,l,c){return this.x=v,this.y=l,this._radius=c,this._diameter=c*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(v,l){return l===void 0&&(l=v),this.x=v,this.y=l,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(v){this._radius=v,this._diameter=v*2}},diameter:{get:function(){return this._diameter},set:function(v){this._diameter=v,this._radius=v*.5}},left:{get:function(){return this.x-this._radius},set:function(v){this.x=v+this._radius}},right:{get:function(){return this.x+this._radius},set:function(v){this.x=v-this._radius}},top:{get:function(){return this.y-this._radius},set:function(v){this.y=v+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(v){this.y=v-this._radius}}});h.exports=u},37964:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return 2*(Math.PI*e.radius)};h.exports=y},72233:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),d=function(s,a,r){return r===void 0&&(r=new f),r.x=s.x+s.radius*Math.cos(a),r.y=s.y+s.radius*Math.sin(a),r};h.exports=d},61761:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(26673),d=function(s){return new f(s.x,s.y,s.radius)};h.exports=d},65650:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){if(e.radius>0&&f>=e.left&&f<=e.right&&d>=e.top&&d<=e.bottom){var s=(e.x-f)*(e.x-f),a=(e.y-d)*(e.y-d);return s+a<=e.radius*e.radius}else return!1};h.exports=y},39187:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(65650),d=function(s,a){return f(s,a.x,a.y)};h.exports=d},58672:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(65650),d=function(s,a){return f(s,a.x,a.y)&&f(s,a.right,a.y)&&f(s,a.x,a.bottom)&&f(s,a.right,a.bottom)};h.exports=d},42997:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return f.setTo(e.x,e.y,e.radius)};h.exports=y},94894:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e.x===f.x&&e.y===f.y&&e.radius===f.radius};h.exports=y},48027:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(74118),d=function(s,a){return a===void 0&&(a=new f),a.x=s.left,a.y=s.top,a.width=s.diameter,a.height=s.diameter,a};h.exports=d},94026:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72233),d=e(91806),s=e(83392),a=e(79967),r=function(o,u,v){v===void 0&&(v=new a);var l=d(u,0,s.PI2);return f(o,l,v)};h.exports=r},62941:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(37964),d=e(72233),s=e(91806),a=e(83392),r=function(o,u,v,l){l===void 0&&(l=[]),!u&&v>0&&(u=f(o)/v);for(var c=0;c<u;c++){var p=s(c/u,0,a.PI2);l.push(d(o,p))}return l};h.exports=r},34585:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){return e.x+=f,e.y+=d,e};h.exports=y},88665:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e.x+=f.x,e.y+=f.y,e};h.exports=y},30977:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),d=function(s,a){a===void 0&&(a=new f);var r=2*Math.PI*Math.random(),o=Math.random()+Math.random(),u=o>1?2-o:o,v=u*Math.cos(r),l=u*Math.sin(r);return a.x=s.x+v*s.radius,a.y=s.y+l*s.radius,a};h.exports=d},6112:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(26673);f.Area=e(95847),f.Circumference=e(37964),f.CircumferencePoint=e(72233),f.Clone=e(61761),f.Contains=e(65650),f.ContainsPoint=e(39187),f.ContainsRect=e(58672),f.CopyFrom=e(42997),f.Equals=e(94894),f.GetBounds=e(48027),f.GetPoint=e(94026),f.GetPoints=e(62941),f.Offset=e(34585),f.OffsetPoint=e(88665),f.Random=e(30977),h.exports=f},52394:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};h.exports=y},58605:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.isEmpty()?0:e.getMajorRadius()*e.getMinorRadius()*Math.PI};h.exports=y},39507:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){var f=e.width/2,d=e.height/2,s=Math.pow(f-d,2)/Math.pow(f+d,2);return Math.PI*(f+d)*(1+3*s/(10+Math.sqrt(4-3*s)))};h.exports=y},86998:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),d=function(s,a,r){r===void 0&&(r=new f);var o=s.width/2,u=s.height/2;return r.x=s.x+o*Math.cos(a),r.y=s.y+u*Math.sin(a),r};h.exports=d},81773:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(95669),d=function(s){return new f(s.x,s.y,s.width,s.height)};h.exports=d},72313:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){if(e.width<=0||e.height<=0)return!1;var s=(f-e.x)/e.width,a=(d-e.y)/e.height;return s*=s,a*=a,s+a<.25};h.exports=y},34368:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72313),d=function(s,a){return f(s,a.x,a.y)};h.exports=d},71431:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72313),d=function(s,a){return f(s,a.x,a.y)&&f(s,a.right,a.y)&&f(s,a.x,a.bottom)&&f(s,a.right,a.bottom)};h.exports=d},75459:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return f.setTo(e.x,e.y,e.width,e.height)};h.exports=y},95669:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(72313),s=e(95340),a=e(54978),r=e(52394),o=e(72006),u=new f({initialize:function(l,c,p,g){l===void 0&&(l=0),c===void 0&&(c=0),p===void 0&&(p=0),g===void 0&&(g=0),this.type=r.ELLIPSE,this.x=l,this.y=c,this.width=p,this.height=g},contains:function(v,l){return d(this,v,l)},getPoint:function(v,l){return s(this,v,l)},getPoints:function(v,l,c){return a(this,v,l,c)},getRandomPoint:function(v){return o(this,v)},setTo:function(v,l,c,p){return this.x=v,this.y=l,this.width=c,this.height=p,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(v,l){return l===void 0&&(l=v),this.x=v,this.y=l,this},setSize:function(v,l){return l===void 0&&(l=v),this.width=v,this.height=l,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(v){this.x=v+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(v){this.x=v-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(v){this.y=v+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(v){this.y=v-this.height/2}}});h.exports=u},98068:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e.x===f.x&&e.y===f.y&&e.width===f.width&&e.height===f.height};h.exports=y},72897:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(74118),d=function(s,a){return a===void 0&&(a=new f),a.x=s.left,a.y=s.top,a.width=s.width,a.height=s.height,a};h.exports=d},95340:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(86998),d=e(91806),s=e(83392),a=e(79967),r=function(o,u,v){v===void 0&&(v=new a);var l=d(u,0,s.PI2);return f(o,l,v)};h.exports=r},54978:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(39507),d=e(86998),s=e(91806),a=e(83392),r=function(o,u,v,l){l===void 0&&(l=[]),!u&&v>0&&(u=f(o)/v);for(var c=0;c<u;c++){var p=s(c/u,0,a.PI2);l.push(d(o,p))}return l};h.exports=r},77951:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){return e.x+=f,e.y+=d,e};h.exports=y},36233:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e.x+=f.x,e.y+=f.y,e};h.exports=y},72006:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),d=function(s,a){a===void 0&&(a=new f);var r=Math.random()*Math.PI*2,o=Math.sqrt(Math.random());return a.x=s.x+o*Math.cos(r)*s.width/2,a.y=s.y+o*Math.sin(r)*s.height/2,a};h.exports=d},40652:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(95669);f.Area=e(58605),f.Circumference=e(39507),f.CircumferencePoint=e(86998),f.Clone=e(81773),f.Contains=e(72313),f.ContainsPoint=e(34368),f.ContainsRect=e(71431),f.CopyFrom=e(75459),f.Equals=e(98068),f.GetBounds=e(72897),f.GetPoint=e(95340),f.GetPoints=e(54978),f.Offset=e(77951),f.OffsetPoint=e(36233),f.Random=e(72006),h.exports=f},84068:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(52394),d=e(98611),s={Circle:e(6112),Ellipse:e(40652),Intersects:e(7563),Line:e(28482),Mesh:e(14293),Point:e(63472),Polygon:e(44359),Rectangle:e(66658),Triangle:e(87619)};s=d(!1,s,f),h.exports=s},22184:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(53996),d=function(s,a){return f(s.x,s.y,a.x,a.y)<=s.radius+a.radius};h.exports=d},26535:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){var d=f.width/2,s=f.height/2,a=Math.abs(e.x-f.x-d),r=Math.abs(e.y-f.y-s),o=d+e.radius,u=s+e.radius;if(a>o||r>u)return!1;if(a<=d||r<=s)return!0;var v=a-d,l=r-s,c=v*v,p=l*l,g=e.radius*e.radius;return c+p<=g};h.exports=y},71145:(h,y,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),d=e(22184),s=function(a,r,o){if(o===void 0&&(o=[]),d(a,r)){var u=a.x,v=a.y,l=a.radius,c=r.x,p=r.y,g=r.radius,m,T,S,P,E;if(v===p)E=(g*g-l*l-c*c+u*u)/(2*(u-c)),m=1,T=-2*p,S=c*c+E*E-2*c*E+p*p-g*g,P=T*T-4*m*S,P===0?o.push(new f(E,-T/(2*m))):P>0&&(o.push(new f(E,(-T+Math.sqrt(P))/(2*m))),o.push(new f(E,(-T-Math.sqrt(P))/(2*m))));else{var R=(u-c)/(v-p),A=(g*g-l*l-c*c+u*u-p*p+v*v)/(2*(v-p));m=R*R+1,T=2*v*R-2*A*R-2*u,S=u*u+v*v+A*A-l*l-2*v*A,P=T*T-4*m*S,P===0?(E=-T/(2*m),o.push(new f(E,A-E*R))):P>0&&(E=(-T+Math.sqrt(P))/(2*m),o.push(new f(E,A-E*R)),E=(-T-Math.sqrt(P))/(2*m),o.push(new f(E,A-E*R)))}}return o};h.exports=s},62508:(h,y,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(26111),d=e(26535),s=function(a,r,o){if(o===void 0&&(o=[]),d(a,r)){var u=r.getLineA(),v=r.getLineB(),l=r.getLineC(),c=r.getLineD();f(u,a,o),f(v,a,o),f(l,a,o),f(c,a,o)}return o};h.exports=s},26111:(h,y,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),d=e(61472),s=function(a,r,o){if(o===void 0&&(o=[]),d(a,r)){var u=a.x1,v=a.y1,l=a.x2,c=a.y2,p=r.x,g=r.y,m=r.radius,T=l-u,S=c-v,P=u-p,E=v-g,R=T*T+S*S,A=2*(T*P+S*E),w=P*P+E*E-m*m,O=A*A-4*R*w,L,F;if(O===0){var I=-A/(2*R);L=u+I*T,F=v+I*S,I>=0&&I<=1&&o.push(new f(L,F))}else if(O>0){var B=(-A-Math.sqrt(O))/(2*R);L=u+B*T,F=v+B*S,B>=0&&B<=1&&o.push(new f(L,F));var G=(-A+Math.sqrt(O))/(2*R);L=u+G*T,F=v+G*S,G>=0&&G<=1&&o.push(new f(L,F))}}return o};h.exports=s},96537:(h,y,e)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(70015),d=function(s,a,r,o){r===void 0&&(r=!1);var u=s.x1,v=s.y1,l=s.x2,c=s.y2,p=a.x1,g=a.y1,m=a.x2,T=a.y2,S=l-u,P=c-v,E=m-p,R=T-g,A=S*R-P*E;if(A===0)return null;var w,O,L;if(r){if(w=(S*(g-v)+P*(u-p))/(E*P-R*S),O=(p+E*w-u)/S,O<0||w<0||w>1)return null;L=O}else{if(w=((p-u)*R-(g-v)*E)/A,O=((v-g)*S-(u-p)*P)/A,w<0||w>1||O<0||O>1)return null;L=w}return o===void 0&&(o=new f),o.set(u+S*L,v+P*L,L)};h.exports=d},17647:(h,y,e)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(96537),d=e(88829),s=e(70015),a=new d,r=new s,o=function(u,v,l,c){l===void 0&&(l=!1),c===void 0&&(c=new s);var p=!1;c.set(),r.set();for(var g=v[v.length-1],m=0;m<v.length;m++){var T=v[m];a.setTo(g.x,g.y,T.x,T.y),g=T,f(u,a,l,r)&&(!p||r.z<c.z)&&(c.copy(r),p=!0)}return p?c:null};h.exports=o},68439:(h,y,e)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(70015),d=e(51729),s=e(17647),a=new f,r=function(o,u,v,l){l===void 0&&(l=new d),Array.isArray(u)||(u=[u]);var c=!1;l.set(),a.set();for(var p=0;p<u.length;p++)s(o,u[p].points,v,a)&&(!c||a.z<l.z)&&(l.set(a.x,a.y,a.z,p),c=!0);return c?l:null};h.exports=r},9569:(h,y,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),d=e(25227),s=e(47910),a=function(r,o,u){if(u===void 0&&(u=[]),s(r,o))for(var v=o.getLineA(),l=o.getLineB(),c=o.getLineC(),p=o.getLineD(),g=[new f,new f,new f,new f],m=[d(v,r,g[0]),d(l,r,g[1]),d(c,r,g[2]),d(p,r,g[3])],T=0;T<4;T++)m[T]&&u.push(g[T]);return u};h.exports=a},7449:(h,y,e)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(51729),d=e(68439),s=e(88829),a=new s;function r(v,l,c,p,g){var m=Math.cos(v),T=Math.sin(v);a.setTo(l,c,l+m,c+T);var S=d(a,p,!0);S&&g.push(new f(S.x,S.y,v,S.w))}function o(v,l){return v.z-l.z}var u=function(v,l,c){Array.isArray(c)||(c=[c]);for(var p=[],g=[],m=0;m<c.length;m++)for(var T=c[m].points,S=0;S<T.length;S++){var P=Math.atan2(T[S].y-l,T[S].x-v);g.indexOf(P)===-1&&(r(P,v,l,c,p),r(P-1e-5,v,l,c,p),r(P+1e-5,v,l,c,p),g.push(P))}return p.sort(o)};h.exports=u},82931:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(74118),d=e(90205),s=function(a,r,o){return o===void 0&&(o=new f),d(a,r)&&(o.x=Math.max(a.x,r.x),o.y=Math.max(a.y,r.y),o.width=Math.min(a.right,r.right)-o.x,o.height=Math.min(a.bottom,r.bottom)-o.y),o};h.exports=s},1946:(h,y,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(9569),d=e(90205),s=function(a,r,o){if(o===void 0&&(o=[]),d(a,r)){var u=a.getLineA(),v=a.getLineB(),l=a.getLineC(),c=a.getLineD();f(u,r,o),f(v,r,o),f(l,r,o),f(c,r,o)}return o};h.exports=s},34211:(h,y,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(20370),d=e(9569),s=function(a,r,o){if(o===void 0&&(o=[]),f(a,r)){var u=r.getLineA(),v=r.getLineB(),l=r.getLineC();d(u,a,o),d(v,a,o),d(l,a,o)}return o};h.exports=s},80511:(h,y,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(26111),d=e(48411),s=function(a,r,o){if(o===void 0&&(o=[]),d(a,r)){var u=a.getLineA(),v=a.getLineB(),l=a.getLineC();f(u,r,o),f(v,r,o),f(l,r,o)}return o};h.exports=s},31343:(h,y,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),d=e(86117),s=e(25227),a=function(r,o,u){if(u===void 0&&(u=[]),d(r,o))for(var v=r.getLineA(),l=r.getLineB(),c=r.getLineC(),p=[new f,new f,new f],g=[s(v,o,p[0]),s(l,o,p[1]),s(c,o,p[2])],m=0;m<3;m++)g[m]&&u.push(p[m]);return u};h.exports=a},70534:(h,y,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(23589),d=e(31343),s=function(a,r,o){if(o===void 0&&(o=[]),f(a,r)){var u=r.getLineA(),v=r.getLineB(),l=r.getLineC();d(a,u,o),d(a,v,o),d(a,l,o)}return o};h.exports=s},61472:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(65650),d=e(79967),s=new d,a=function(r,o,u){if(u===void 0&&(u=s),f(o,r.x1,r.y1))return u.x=r.x1,u.y=r.y1,!0;if(f(o,r.x2,r.y2))return u.x=r.x2,u.y=r.y2,!0;var v=r.x2-r.x1,l=r.y2-r.y1,c=o.x-r.x1,p=o.y-r.y1,g=v*v+l*l,m=v,T=l;if(g>0){var S=(c*v+p*l)/g;m*=S,T*=S}u.x=r.x1+m,u.y=r.y1+T;var P=m*m+T*T;return P<=g&&m*v+T*l>=0&&f(o,u.x,u.y)};h.exports=a},25227:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){var s=e.x1,a=e.y1,r=e.x2,o=e.y2,u=f.x1,v=f.y1,l=f.x2,c=f.y2;if(s===r&&a===o||u===l&&v===c)return!1;var p=(c-v)*(r-s)-(l-u)*(o-a);if(p===0)return!1;var g=((l-u)*(a-v)-(c-v)*(s-u))/p,m=((r-s)*(a-v)-(o-a)*(s-u))/p;return g<0||g>1||m<0||m>1?!1:(d&&(d.x=s+g*(r-s),d.y=a+g*(o-a)),!0)};h.exports=y},47910:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){var d=e.x1,s=e.y1,a=e.x2,r=e.y2,o=f.x,u=f.y,v=f.right,l=f.bottom,c=0;if(d>=o&&d<=v&&s>=u&&s<=l||a>=o&&a<=v&&r>=u&&r<=l)return!0;if(d<o&&a>=o){if(c=s+(r-s)*(o-d)/(a-d),c>u&&c<=l)return!0}else if(d>v&&a<=v&&(c=s+(r-s)*(v-d)/(a-d),c>=u&&c<=l))return!0;if(s<u&&r>=u){if(c=d+(a-d)*(u-s)/(r-s),c>=o&&c<=v)return!0}else if(s>l&&r<=l&&(c=d+(a-d)*(l-s)/(r-s),c>=o&&c<=v))return!0;return!1};h.exports=y},34426:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){d===void 0&&(d=1);var s=f.x1,a=f.y1,r=f.x2,o=f.y2,u=e.x,v=e.y,l=(r-s)*(r-s)+(o-a)*(o-a);if(l===0)return!1;var c=((u-s)*(r-s)+(v-a)*(o-a))/l;if(c<0)return Math.sqrt((s-u)*(s-u)+(a-v)*(a-v))<=d;if(c>=0&&c<=1){var p=((a-v)*(r-s)-(s-u)*(o-a))/l;return Math.abs(p)*Math.sqrt(l)<=d}else return Math.sqrt((r-u)*(r-u)+(o-v)*(o-v))<=d};h.exports=y},81414:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(34426),d=function(s,a){if(!f(s,a))return!1;var r=Math.min(a.x1,a.x2),o=Math.max(a.x1,a.x2),u=Math.min(a.y1,a.y2),v=Math.max(a.y1,a.y2);return s.x>=r&&s.x<=o&&s.y>=u&&s.y<=v};h.exports=d},90205:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e.width<=0||e.height<=0||f.width<=0||f.height<=0?!1:!(e.right<f.x||e.bottom<f.y||e.x>f.right||e.y>f.bottom)};h.exports=y},20370:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(25227),d=e(94287),s=e(86875),a=e(87279),r=function(o,u){if(u.left>o.right||u.right<o.left||u.top>o.bottom||u.bottom<o.top)return!1;var v=u.getLineA(),l=u.getLineB(),c=u.getLineC();if(d(o,v.x1,v.y1)||d(o,v.x2,v.y2)||d(o,l.x1,l.y1)||d(o,l.x2,l.y2)||d(o,c.x1,c.y1)||d(o,c.x2,c.y2))return!0;var p=o.getLineA(),g=o.getLineB(),m=o.getLineC(),T=o.getLineD();if(f(v,p)||f(v,g)||f(v,m)||f(v,T)||f(l,p)||f(l,g)||f(l,m)||f(l,T)||f(c,p)||f(c,g)||f(c,m)||f(c,T))return!0;var S=a(o),P=s(u,S,!0);return P.length>0};h.exports=r},8786:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s,a,r){return r===void 0&&(r=0),!(f>e.right+r||d<e.left-r||s>e.bottom+r||a<e.top-r)};h.exports=y},48411:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61472),d=e(60689),s=function(a,r){return a.left>r.right||a.right<r.left||a.top>r.bottom||a.bottom<r.top?!1:!!(d(a,r.x,r.y)||f(a.getLineA(),r)||f(a.getLineB(),r)||f(a.getLineC(),r))};h.exports=s},86117:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(25227),d=function(s,a){return!!(s.contains(a.x1,a.y1)||s.contains(a.x2,a.y2)||f(s.getLineA(),a)||f(s.getLineB(),a)||f(s.getLineC(),a))};h.exports=d},23589:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(86875),d=e(18680),s=e(25227),a=function(r,o){if(r.left>o.right||r.right<o.left||r.top>o.bottom||r.bottom<o.top)return!1;var u=r.getLineA(),v=r.getLineB(),l=r.getLineC(),c=o.getLineA(),p=o.getLineB(),g=o.getLineC();if(s(u,c)||s(u,p)||s(u,g)||s(v,c)||s(v,p)||s(v,g)||s(l,c)||s(l,p)||s(l,g))return!0;var m=d(r),T=f(o,m,!0);return T.length>0||(m=d(o),T=f(r,m,!0),T.length>0)};h.exports=a},7563:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={CircleToCircle:e(22184),CircleToRectangle:e(26535),GetCircleToCircle:e(71145),GetCircleToRectangle:e(62508),GetLineToCircle:e(26111),GetLineToLine:e(96537),GetLineToPoints:e(17647),GetLineToPolygon:e(68439),GetLineToRectangle:e(9569),GetRaysFromPointToPolygon:e(7449),GetRectangleIntersection:e(82931),GetRectangleToRectangle:e(1946),GetRectangleToTriangle:e(34211),GetTriangleToCircle:e(80511),GetTriangleToLine:e(31343),GetTriangleToTriangle:e(70534),LineToCircle:e(61472),LineToLine:e(25227),LineToRectangle:e(47910),PointToLine:e(34426),PointToLineSegment:e(81414),RectangleToRectangle:e(90205),RectangleToTriangle:e(20370),RectangleToValues:e(8786),TriangleToCircle:e(48411),TriangleToLine:e(86117),TriangleToTriangle:e(23589)}},50599:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return Math.atan2(e.y2-e.y1,e.x2-e.x1)};h.exports=y},58813:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){f===void 0&&(f=1),d===void 0&&(d=[]);var s=Math.round(e.x1),a=Math.round(e.y1),r=Math.round(e.x2),o=Math.round(e.y2),u=Math.abs(r-s),v=Math.abs(o-a),l=s<r?1:-1,c=a<o?1:-1,p=u-v;d.push({x:s,y:a});for(var g=1;!(s===r&&a===o);){var m=p<<1;m>-v&&(p-=v,s+=l),m<u&&(p+=u,a+=c),g%f===0&&d.push({x:s,y:a}),g++}return d};h.exports=y},88513:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){var s=f-(e.x1+e.x2)/2,a=d-(e.y1+e.y2)/2;return e.x1+=s,e.y1+=a,e.x2+=s,e.y2+=a,e};h.exports=y},26718:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(88829),d=function(s){return new f(s.x1,s.y1,s.x2,s.y2)};h.exports=d},88930:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return f.setTo(e.x1,e.y1,e.x2,e.y2)};h.exports=y},90656:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e.x1===f.x1&&e.y1===f.y1&&e.x2===f.x2&&e.y2===f.y2};h.exports=y},30897:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(16028),d=function(s,a,r){r===void 0&&(r=a);var o=f(s),u=s.x2-s.x1,v=s.y2-s.y1;return a&&(s.x1=s.x1-u/o*a,s.y1=s.y1-v/o*a),r&&(s.x2=s.x2+u/o*r,s.y2=s.y2+v/o*r),s};h.exports=d},30684:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(92951),d=e(21902),s=e(79967),a=function(r,o,u,v,l){v===void 0&&(v=0),l===void 0&&(l=[]);var c=[],p=r.x1,g=r.y1,m=r.x2-p,T=r.y2-g,S=d(o,l),P,E,R=u-1;for(P=0;P<R;P++)E=S(P/R),c.push(new s(p+m*E,g+T*E));if(E=S(1),c.push(new s(p+m*E,g+T*E)),v>0){var A=c[0],w=[A];for(P=1;P<c.length-1;P++){var O=c[P];f(A,O)>=v&&(w.push(O),A=O)}var L=c[c.length-1];return f(A,L)<v&&w.pop(),w.push(L),w}else return c};h.exports=a},20487:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),d=function(s,a){return a===void 0&&(a=new f),a.x=(s.x1+s.x2)/2,a.y=(s.y1+s.y2)/2,a};h.exports=d},11222:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),d=function(s,a,r){r===void 0&&(r=new f);var o=s.x1,u=s.y1,v=s.x2,l=s.y2,c=(v-o)*(v-o)+(l-u)*(l-u);if(c===0)return r;var p=((a.x-o)*(v-o)+(a.y-u)*(l-u))/c;return r.x=o+p*(v-o),r.y=u+p*(l-u),r};h.exports=d},7377:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(83392),d=e(50599),s=e(79967),a=function(r,o){o===void 0&&(o=new s);var u=d(r)-f.TAU;return o.x=Math.cos(u),o.y=Math.sin(u),o};h.exports=a},66464:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),d=function(s,a,r){return r===void 0&&(r=new f),r.x=s.x1+(s.x2-s.x1)*a,r.y=s.y1+(s.y2-s.y1)*a,r};h.exports=d},8570:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(16028),d=e(79967),s=function(a,r,o,u){u===void 0&&(u=[]),!r&&o>0&&(r=f(a)/o);for(var v=a.x1,l=a.y1,c=a.x2,p=a.y2,g=0;g<r;g++){var m=g/r,T=v+(c-v)*m,S=l+(p-l)*m;u.push(new d(T,S))}return u};h.exports=s},65269:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){var d=e.x1,s=e.y1,a=e.x2,r=e.y2,o=(a-d)*(a-d)+(r-s)*(r-s);if(o===0)return!1;var u=((s-f.y)*(a-d)-(d-f.x)*(r-s))/o;return Math.abs(u)*Math.sqrt(o)};h.exports=y},82996:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return Math.abs(e.y1-e.y2)};h.exports=y},16028:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return Math.sqrt((e.x2-e.x1)*(e.x2-e.x1)+(e.y2-e.y1)*(e.y2-e.y1))};h.exports=y},88829:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(66464),s=e(8570),a=e(52394),r=e(74077),o=e(93736),u=new f({initialize:function(l,c,p,g){l===void 0&&(l=0),c===void 0&&(c=0),p===void 0&&(p=0),g===void 0&&(g=0),this.type=a.LINE,this.x1=l,this.y1=c,this.x2=p,this.y2=g},getPoint:function(v,l){return d(this,v,l)},getPoints:function(v,l,c){return s(this,v,l,c)},getRandomPoint:function(v){return r(this,v)},setTo:function(v,l,c,p){return v===void 0&&(v=0),l===void 0&&(l=0),c===void 0&&(c=0),p===void 0&&(p=0),this.x1=v,this.y1=l,this.x2=c,this.y2=p,this},setFromObjects:function(v,l){return this.x1=v.x,this.y1=v.y,this.x2=l.x,this.y2=l.y,this},getPointA:function(v){return v===void 0&&(v=new o),v.set(this.x1,this.y1),v},getPointB:function(v){return v===void 0&&(v=new o),v.set(this.x2,this.y2),v},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(v){this.x1<=this.x2?this.x1=v:this.x2=v}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(v){this.x1>this.x2?this.x1=v:this.x2=v}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(v){this.y1<=this.y2?this.y1=v:this.y2=v}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(v){this.y1>this.y2?this.y1=v:this.y2=v}}});h.exports=u},73273:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(83392),d=e(1071),s=e(50599),a=function(r){var o=s(r)-f.TAU;return d(o,-Math.PI,Math.PI)};h.exports=a},96936:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(83392),d=e(50599),s=function(a){return Math.cos(d(a)-f.TAU)};h.exports=s},43581:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(83392),d=e(50599),s=function(a){return Math.sin(d(a)-f.TAU)};h.exports=s},13990:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){return e.x1+=f,e.y1+=d,e.x2+=f,e.y2+=d,e};h.exports=y},1298:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return-((e.x2-e.x1)/(e.y2-e.y1))};h.exports=y},74077:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),d=function(s,a){a===void 0&&(a=new f);var r=Math.random();return a.x=s.x1+r*(s.x2-s.x1),a.y=s.y1+r*(s.y2-s.y1),a};h.exports=d},30473:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(50599),d=e(73273),s=function(a,r){return 2*d(r)-Math.PI-f(a)};h.exports=s},25968:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(1809),d=function(s,a){var r=(s.x1+s.x2)/2,o=(s.y1+s.y2)/2;return f(s,r,o,a)};h.exports=d},24296:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(1809),d=function(s,a,r){return f(s,a.x,a.y,r)};h.exports=d},1809:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){var a=Math.cos(s),r=Math.sin(s),o=e.x1-f,u=e.y1-d;return e.x1=o*a-u*r+f,e.y1=o*r+u*a+d,o=e.x2-f,u=e.y2-d,e.x2=o*a-u*r+f,e.y2=o*r+u*a+d,e};h.exports=y},88171:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s,a){return e.x1=f,e.y1=d,e.x2=f+Math.cos(s)*a,e.y2=d+Math.sin(s)*a,e};h.exports=y},82797:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return(e.y2-e.y1)/(e.x2-e.x1)};h.exports=y},41067:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return Math.abs(e.x1-e.x2)};h.exports=y},28482:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(88829);f.Angle=e(50599),f.BresenhamPoints=e(58813),f.CenterOn=e(88513),f.Clone=e(26718),f.CopyFrom=e(88930),f.Equals=e(90656),f.Extend=e(30897),f.GetEasedPoints=e(30684),f.GetMidPoint=e(20487),f.GetNearestPoint=e(11222),f.GetNormal=e(7377),f.GetPoint=e(66464),f.GetPoints=e(8570),f.GetShortestDistance=e(65269),f.Height=e(82996),f.Length=e(16028),f.NormalAngle=e(73273),f.NormalX=e(96936),f.NormalY=e(43581),f.Offset=e(13990),f.PerpSlope=e(1298),f.Random=e(74077),f.ReflectAngle=e(30473),f.Rotate=e(25968),f.RotateAroundPoint=e(24296),f.RotateAroundXY=e(1809),f.SetToAngle=e(88171),f.Slope=e(82797),f.Width=e(41067),h.exports=f},18693:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(74118),s=e(93736);function a(o,u,v,l){var c=o-v,p=u-l,g=c*c+p*p;return Math.sqrt(g)}var r=new f({initialize:function(u,v,l){this.vertex1=u,this.vertex2=v,this.vertex3=l,this.bounds=new d,this._inCenter=new s},getInCenter:function(o){o===void 0&&(o=!0);var u=this.vertex1,v=this.vertex2,l=this.vertex3,c,p,g,m,T,S;o?(c=u.x,p=u.y,g=v.x,m=v.y,T=l.x,S=l.y):(c=u.vx,p=u.vy,g=v.vx,m=v.vy,T=l.vx,S=l.vy);var P=a(T,S,g,m),E=a(c,p,T,S),R=a(g,m,c,p),A=P+E+R;return this._inCenter.set((c*P+g*E+T*R)/A,(p*P+m*E+S*R)/A)},contains:function(o,u,v){var l=this.vertex1,c=this.vertex2,p=this.vertex3,g=l.vx,m=l.vy,T=c.vx,S=c.vy,P=p.vx,E=p.vy;if(v){var R=v.a,A=v.b,w=v.c,O=v.d,L=v.e,F=v.f;g=l.vx*R+l.vy*w+L,m=l.vx*A+l.vy*O+F,T=c.vx*R+c.vy*w+L,S=c.vx*A+c.vy*O+F,P=p.vx*R+p.vy*w+L,E=p.vx*A+p.vy*O+F}var I=P-g,B=E-m,G=T-g,N=S-m,U=o-g,Y=u-m,X=I*I+B*B,b=I*G+B*N,z=I*U+B*Y,D=G*G+N*N,V=G*U+N*Y,k=X*D-b*b,W=k===0?0:1/k,H=(D*z-b*V)*W,$=(X*V-b*z)*W;return H>=0&&$>=0&&H+$<1},isCounterClockwise:function(o){var u=this.vertex1,v=this.vertex2,l=this.vertex3,c=(v.vx-u.vx)*(l.vy-u.vy)-(v.vy-u.vy)*(l.vx-u.vx);return o<=0?c>=0:c<0},load:function(o,u,v,l,c){return v=this.vertex1.load(o,u,v,l,c),v=this.vertex2.load(o,u,v,l,c),v=this.vertex3.load(o,u,v,l,c),v},transformCoordinatesLocal:function(o,u,v,l){return this.vertex1.transformCoordinatesLocal(o,u,v,l),this.vertex2.transformCoordinatesLocal(o,u,v,l),this.vertex3.transformCoordinatesLocal(o,u,v,l),this},updateBounds:function(){var o=this.vertex1,u=this.vertex2,v=this.vertex3,l=this.bounds;return l.x=Math.min(o.vx,u.vx,v.vx),l.y=Math.min(o.vy,u.vy,v.vy),l.width=Math.max(o.vx,u.vx,v.vx)-l.x,l.height=Math.max(o.vy,u.vy,v.vy)-l.y,this},isInView:function(o,u,v,l,c,p,g,m,T,S,P){this.update(l,c,p,g,m,T,S,P);var E=this.vertex1,R=this.vertex2,A=this.vertex3;if(E.ta<=0&&R.ta<=0&&A.ta<=0||u&&!this.isCounterClockwise(v))return!1;var w=this.bounds;w.x=Math.min(E.tx,R.tx,A.tx),w.y=Math.min(E.ty,R.ty,A.ty),w.width=Math.max(E.tx,R.tx,A.tx)-w.x,w.height=Math.max(E.ty,R.ty,A.ty)-w.y;var O=o.x+o.width,L=o.y+o.height;return w.width<=0||w.height<=0||o.width<=0||o.height<=0?!1:!(w.right<o.x||w.bottom<o.y||w.x>O||w.y>L)},scrollUV:function(o,u){return this.vertex1.scrollUV(o,u),this.vertex2.scrollUV(o,u),this.vertex3.scrollUV(o,u),this},scaleUV:function(o,u){return this.vertex1.scaleUV(o,u),this.vertex2.scaleUV(o,u),this.vertex3.scaleUV(o,u),this},setColor:function(o){return this.vertex1.color=o,this.vertex2.color=o,this.vertex3.color=o,this},update:function(o,u,v,l,c,p,g,m){return this.vertex1.update(u,v,l,c,p,g,m,o),this.vertex2.update(u,v,l,c,p,g,m,o),this.vertex3.update(u,v,l,c,p,g,m,o),this},translate:function(o,u){u===void 0&&(u=0);var v=this.vertex1,l=this.vertex2,c=this.vertex3;return v.x+=o,v.y+=u,l.x+=o,l.y+=u,c.x+=o,c.y+=u,this},x:{get:function(){return this.getInCenter().x},set:function(o){var u=this.getInCenter();this.translate(o-u.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(o){var u=this.getInCenter();this.translate(0,o-u.y)}},alpha:{get:function(){var o=this.vertex1,u=this.vertex2,v=this.vertex3;return(o.alpha+u.alpha+v.alpha)/3},set:function(o){this.vertex1.alpha=o,this.vertex2.alpha=o,this.vertex3.alpha=o}},depth:{get:function(){var o=this.vertex1,u=this.vertex2,v=this.vertex3;return(o.vz+u.vz+v.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});h.exports=r},99425:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(18693),d=e(72632),s=e(16650),a=e(70015),r=e(85769),o=new a,u=new a,v=new s,l=function(c){var p=d(c,"mesh"),g=d(c,"texture",null),m=d(c,"frame"),T=d(c,"width",1),S=d(c,"height",T),P=d(c,"widthSegments",1),E=d(c,"heightSegments",P),R=d(c,"x",0),A=d(c,"y",0),w=d(c,"z",0),O=d(c,"rotateX",0),L=d(c,"rotateY",0),F=d(c,"rotateZ",0),I=d(c,"zIsUp",!0),B=d(c,"isOrtho",p?p.dirtyCache[11]:!1),G=d(c,"colors",[16777215]),N=d(c,"alphas",[1]),U=d(c,"tile",!1),Y=d(c,"flipY",!1),X=d(c,"width",null),b={faces:[],verts:[]};o.set(R,A,w),u.set(O,L,F),v.fromRotationXYTranslation(u,o,I);var z;if(!g&&p)g=p.texture,m||(z=p.frame);else if(p&&typeof g=="string")g=p.scene.sys.textures.get(g);else if(!g)return b;z||(z=g.get(m)),!X&&B&&g&&p&&(T=z.width/p.height,S=z.height/p.height);var D=T/2,V=S/2,k=Math.floor(P),W=Math.floor(E),H=k+1,$=W+1,K=T/k,Z=S/W,j=[],J=[],Q,q,_=0,tt=1,st=0,it=1;z&&(_=z.u0,tt=z.u1,Y?(st=z.v1,it=z.v0):(st=z.v0,it=z.v1));var lt=tt-_,et=it-st;for(q=0;q<$;q++){var ht=q*Z-V;for(Q=0;Q<H;Q++){var at=Q*K-D;J.push(at,-ht);var ft=_+lt*(Q/k),vt=st+et*(q/W);j.push(ft,vt)}}Array.isArray(G)||(G=[G]),Array.isArray(N)||(N=[N]);var mt=0,xt=0;for(q=0;q<W;q++)for(Q=0;Q<k;Q++){var dt=(Q+H*q)*2,gt=(Q+H*(q+1))*2,Lt=(Q+1+H*(q+1))*2,Pt=(Q+1+H*q)*2,Bt=G[xt],zt=N[mt],kt=new r(J[dt],J[dt+1],0,j[dt],j[dt+1],Bt,zt).transformMat4(v),ze=new r(J[gt],J[gt+1],0,j[gt],j[gt+1],Bt,zt).transformMat4(v),qe=new r(J[Pt],J[Pt+1],0,j[Pt],j[Pt+1],Bt,zt).transformMat4(v),Bn=new r(J[gt],J[gt+1],0,j[gt],j[gt+1],Bt,zt).transformMat4(v),bn=new r(J[Lt],J[Lt+1],0,j[Lt],j[Lt+1],Bt,zt).transformMat4(v),Gn=new r(J[Pt],J[Pt+1],0,j[Pt],j[Pt+1],Bt,zt).transformMat4(v);U&&(kt.setUVs(_,it),ze.setUVs(_,st),qe.setUVs(tt,it),Bn.setUVs(_,st),bn.setUVs(tt,st),Gn.setUVs(tt,it)),xt++,xt===G.length&&(xt=0),mt++,mt===N.length&&(mt=0),b.verts.push(kt,ze,qe,Bn,bn,Gn),b.faces.push(new f(kt,ze,qe),new f(Bn,bn,Gn))}return p&&(p.faces=p.faces.concat(b.faces),p.vertices=p.vertices.concat(b.verts)),b};h.exports=l},53267:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(18693),d=e(16650),s=e(70015),a=e(85769),r=new s,o=new s,u=new d,v=function(l,c,p,g,m,T,S,P,E,R){p===void 0&&(p=1),g===void 0&&(g=0),m===void 0&&(m=0),T===void 0&&(T=0),S===void 0&&(S=0),P===void 0&&(P=0),E===void 0&&(E=0),R===void 0&&(R=!0);var A={faces:[],verts:[]},w=l.materials;r.set(g,m,T),o.set(S,P,E),u.fromRotationXYTranslation(o,r,R);for(var O=0;O<l.models.length;O++)for(var L=l.models[O],F=L.vertices,I=L.textureCoords,B=L.faces,G=0;G<B.length;G++){var N=B[G],U=N.vertices[0],Y=N.vertices[1],X=N.vertices[2],b=F[U.vertexIndex],z=F[Y.vertexIndex],D=F[X.vertexIndex],V=U.textureCoordsIndex,k=Y.textureCoordsIndex,W=X.textureCoordsIndex,H=V===-1?{u:0,v:1}:I[V],$=k===-1?{u:0,v:0}:I[k],K=W===-1?{u:1,v:1}:I[W],Z=16777215;N.material!==""&&w[N.material]&&(Z=w[N.material]);var j=new a(b.x*p,b.y*p,b.z*p,H.u,H.v,Z).transformMat4(u),J=new a(z.x*p,z.y*p,z.z*p,$.u,$.v,Z).transformMat4(u),Q=new a(D.x*p,D.y*p,D.z*p,K.u,K.v,Z).transformMat4(u);A.verts.push(j,J,Q),A.faces.push(new f(j,J,Q))}return c&&(c.faces=c.faces.concat(A.faces),c.vertices=c.vertices.concat(A.verts)),A};h.exports=v},67623:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(18693),d=e(85769),s=function(a,r,o,u,v,l,c,p){if(u===void 0&&(u=!1),l===void 0&&(l=16777215),c===void 0&&(c=1),p===void 0&&(p=!1),a.length!==r.length&&!u){console.warn("GenerateVerts: vertices and uvs count not equal");return}var g={faces:[],vertices:[]},m,T,S,P,E,R,A,w,O,L,F,I=u?3:2,B=Array.isArray(l),G=Array.isArray(c);if(Array.isArray(o)&&o.length>0)for(m=0;m<o.length;m++){var N=o[m],U=o[m]*2,Y=o[m]*I;T=a[Y],S=a[Y+1],P=u?a[Y+2]:0,E=r[U],R=r[U+1],p&&(R=1-R),A=B?l[N]:l,w=G?c[N]:c,O=0,L=0,F=0,v&&(O=v[Y],L=v[Y+1],F=u?v[Y+2]:0),g.vertices.push(new d(T,S,P,E,R,A,w,O,L,F))}else{var X=0,b=0;for(m=0;m<a.length;m+=I)T=a[m],S=a[m+1],P=u?a[m+2]:0,E=r[X],R=r[X+1],A=B?l[b]:l,w=G?c[b]:c,O=0,L=0,F=0,v&&(O=v[m],L=v[m+1],F=u?v[m+2]:0),g.vertices.push(new d(T,S,P,E,R,A,w,O,L,F)),X+=2,b++}for(m=0;m<g.vertices.length;m+=3){var z=g.vertices[m],D=g.vertices[m+1],V=g.vertices[m+2];g.faces.push(new f(z,D,V))}return g};h.exports=s},27291:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=!0,e="untitled",f="",d="";function s(T){var S=T.indexOf("#");return S>-1?T.substring(0,S):T}function a(T){return T.models.length===0&&T.models.push({faces:[],name:e,textureCoords:[],vertexNormals:[],vertices:[]}),f="",T.models[T.models.length-1]}function r(T,S){var P=T.length>=2?T[1]:e;S.models.push({faces:[],name:P,textureCoords:[],vertexNormals:[],vertices:[]}),f=""}function o(T){T.length===2&&(f=T[1])}function u(T,S){var P=T.length,E=P>=2?parseFloat(T[1]):0,R=P>=3?parseFloat(T[2]):0,A=P>=4?parseFloat(T[3]):0;a(S).vertices.push({x:E,y:R,z:A})}function v(T,S){var P=T.length,E=P>=2?parseFloat(T[1]):0,R=P>=3?parseFloat(T[2]):0,A=P>=4?parseFloat(T[3]):0;isNaN(E)&&(E=0),isNaN(R)&&(R=0),isNaN(A)&&(A=0),y&&(R=1-R),a(S).textureCoords.push({u:E,v:R,w:A})}function l(T,S){var P=T.length,E=P>=2?parseFloat(T[1]):0,R=P>=3?parseFloat(T[2]):0,A=P>=4?parseFloat(T[3]):0;a(S).vertexNormals.push({x:E,y:R,z:A})}function c(T,S){var P=T.length-1;if(!(P<3)){for(var E={group:f,material:d,vertices:[]},R=0;R<P;R++){var A=T[R+1],w=A.split("/"),O=w.length;if(!(O<1||O>3)){var L=0,F=0,I=0;L=parseInt(w[0],10),O>1&&w[1]!==""&&(F=parseInt(w[1],10)),O>2&&(I=parseInt(w[2],10)),L!==0&&(L<0&&(L=a(S).vertices.length+1+L),F-=1,L-=1,I-=1,E.vertices.push({textureCoordsIndex:F,vertexIndex:L,vertexNormalIndex:I}))}}a(S).faces.push(E)}}function p(T,S){T.length>=2&&S.materialLibraries.push(T[1])}function g(T){T.length>=2&&(d=T[1])}var m=function(T,S){S===void 0&&(S=!0),y=S;var P={materials:{},materialLibraries:[],models:[]};f="",d="";for(var E=T.split(`
`),R=0;R<E.length;R++){var A=s(E[R]),w=A.replace(/\s\s+/g," ").trim().split(" ");switch(w[0].toLowerCase()){case"o":r(w,P);break;case"g":o(w);break;case"v":u(w,P);break;case"vt":v(w,P);break;case"vn":l(w,P);break;case"f":c(w,P);break;case"mtllib":p(w,P);break;case"usemtl":g(w);break}}return P};h.exports=m},76799:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(22946),d=function(s){for(var a={},r=s.split(`
`),o="",u=0;u<r.length;u++){var v=r[u].trim();if(!(v.indexOf("#")===0||v==="")){var l=v.replace(/\s\s+/g," ").trim().split(" ");switch(l[0].toLowerCase()){case"newmtl":{o=l[1];break}case"kd":{var c=Math.floor(l[1]*255),p=l.length>=2?Math.floor(l[2]*255):c,g=l.length>=3?Math.floor(l[3]*255):c;a[o]=f(c,p,g);break}}}}return a};h.exports=d},15313:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){var a,r;if(d===void 0&&s===void 0){var o=e.getInCenter();a=o.x,r=o.y}var u=Math.cos(f),v=Math.sin(f),l=e.vertex1,c=e.vertex2,p=e.vertex3,g=l.x-a,m=l.y-r;l.set(g*u-m*v+a,g*v+m*u+r),g=c.x-a,m=c.y-r,c.set(g*u-m*v+a,g*v+m*u+r),g=p.x-a,m=p.y-r,p.set(g*u-m*v+a,g*v+m*u+r)};h.exports=y},85769:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(75512),s=e(70015),a=new f({Extends:s,initialize:function(o,u,v,l,c,p,g,m,T,S){p===void 0&&(p=16777215),g===void 0&&(g=1),m===void 0&&(m=0),T===void 0&&(T=0),S===void 0&&(S=0),s.call(this,o,u,v),this.vx=0,this.vy=0,this.vz=0,this.nx=m,this.ny=T,this.nz=S,this.u=l,this.v=c,this.color=p,this.alpha=g,this.tx=0,this.ty=0,this.ta=0,this.tu=l,this.tv=c},setUVs:function(r,o){return this.u=r,this.v=o,this.tu=r,this.tv=o,this},scrollUV:function(r,o){return this.tu+=r,this.tv+=o,this},scaleUV:function(r,o){return this.tu=this.u*r,this.tv=this.v*o,this},transformCoordinatesLocal:function(r,o,u,v){var l=this.x,c=this.y,p=this.z,g=r.val,m=l*g[0]+c*g[4]+p*g[8]+g[12],T=l*g[1]+c*g[5]+p*g[9]+g[13],S=l*g[2]+c*g[6]+p*g[10]+g[14],P=l*g[3]+c*g[7]+p*g[11]+g[15];this.vx=m/P*o,this.vy=-(T/P)*u,v<=0?this.vz=S/P:this.vz=-(S/P)},resize:function(r,o,u,v,l,c){return this.x=r,this.y=o,this.vx=this.x*u,this.vy=-this.y*v,this.vz=0,l<.5?this.vx+=u*(.5-l):l>.5&&(this.vx-=u*(l-.5)),c<.5?this.vy+=v*(.5-c):c>.5&&(this.vy-=v*(c-.5)),this},update:function(r,o,u,v,l,c,p,g){var m=this.vx*r+this.vy*u+l,T=this.vx*o+this.vy*v+c;return p&&(m=Math.round(m),T=Math.round(T)),this.tx=m,this.ty=T,this.ta=this.alpha*g,this},load:function(r,o,u,v,l){return r[++u]=this.tx,r[++u]=this.ty,r[++u]=this.tu,r[++u]=this.tv,r[++u]=v,r[++u]=l,o[++u]=d.getTintAppendFloatAlpha(this.color,this.ta),u}});h.exports=a},14293:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={Face:e(18693),GenerateGridVerts:e(99425),GenerateObjVerts:e(53267),GenerateVerts:e(67623),ParseObj:e(27291),ParseObjMaterial:e(76799),RotateFace:e(15313),Vertex:e(85769)};h.exports=f},77601:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.setTo(Math.ceil(e.x),Math.ceil(e.y))};h.exports=y},38933:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),d=function(s){return new f(s.x,s.y)};h.exports=d},47103:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return f.setTo(e.x,e.y)};h.exports=y},13625:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e.x===f.x&&e.y===f.y};h.exports=y},12536:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.setTo(Math.floor(e.x),Math.floor(e.y))};h.exports=y},54205:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),d=function(s,a){if(a===void 0&&(a=new f),!Array.isArray(s))throw new Error("GetCentroid points argument must be an array");var r=s.length;if(r<1)throw new Error("GetCentroid points array must not be empty");if(r===1)a.x=s[0].x,a.y=s[0].y;else{for(var o=0;o<r;o++)a.x+=s[o].x,a.y+=s[o].y;a.x/=r,a.y/=r}return a};h.exports=d},50083:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)};h.exports=y},82712:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.x*e.x+e.y*e.y};h.exports=y},20052:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(74118),d=function(s,a){a===void 0&&(a=new f);for(var r=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY,v=Number.POSITIVE_INFINITY,l=0;l<s.length;l++){var c=s[l];c.x>r&&(r=c.x),c.x<o&&(o=c.x),c.y>u&&(u=c.y),c.y<v&&(v=c.y)}return a.x=o,a.y=v,a.width=r-o,a.height=u-v,a};h.exports=d},77154:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),d=function(s,a,r,o){return r===void 0&&(r=0),o===void 0&&(o=new f),o.x=s.x+(a.x-s.x)*r,o.y=s.y+(a.y-s.y)*r,o};h.exports=d},42397:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.setTo(e.y,e.x)};h.exports=y},59464:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),d=function(s,a){return a===void 0&&(a=new f),a.setTo(-s.x,-s.y)};h.exports=d},79967:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(52394),s=new f({initialize:function(r,o){r===void 0&&(r=0),o===void 0&&(o=r),this.type=d.POINT,this.x=r,this.y=o},setTo:function(a,r){return a===void 0&&(a=0),r===void 0&&(r=a),this.x=a,this.y=r,this}});h.exports=s},53581:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),d=e(82712),s=function(a,r,o){o===void 0&&(o=new f);var u=a.x*r.x+a.y*r.y,v=u/d(r);return v!==0&&(o.x=v*r.x,o.y=v*r.y),o};h.exports=s},50817:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),d=function(s,a,r){r===void 0&&(r=new f);var o=s.x*a.x+s.y*a.y;return o!==0&&(r.x=o*a.x,r.y=o*a.y),r};h.exports=d},40525:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(50083),d=function(s,a){if(s.x!==0||s.y!==0){var r=f(s);s.x/=r,s.y/=r}return s.x*=a,s.y*=a,s};h.exports=d},63472:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967);f.Ceil=e(77601),f.Clone=e(38933),f.CopyFrom=e(47103),f.Equals=e(13625),f.Floor=e(12536),f.GetCentroid=e(54205),f.GetMagnitude=e(50083),f.GetMagnitudeSq=e(82712),f.GetRectangleFromPoints=e(20052),f.Interpolate=e(77154),f.Invert=e(42397),f.Negative=e(59464),f.Project=e(53581),f.ProjectUnit=e(50817),f.SetMagnitude=e(40525),h.exports=f},19631:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(8580),d=function(s){return new f(s.points)};h.exports=d},45604:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){for(var s=!1,a=-1,r=e.points.length-1;++a<e.points.length;r=a){var o=e.points[a].x,u=e.points[a].y,v=e.points[r].x,l=e.points[r].y;(u<=d&&d<l||l<=d&&d<u)&&f<(v-o)*(d-u)/(l-u)+o&&(s=!s)}return s};h.exports=y},87289:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(45604),d=function(s,a){return f(s,a.x,a.y)};h.exports=d},11117:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(b,z,D){D=D||2;var V=z&&z.length,k=V?z[0]*D:b.length,W=e(b,0,k,D,!0),H=[];if(!W||W.next===W.prev)return H;var $,K,Z,j,J,Q,q;if(V&&(W=u(b,z,W,D)),b.length>80*D){$=Z=b[0],K=j=b[1];for(var _=D;_<k;_+=D)J=b[_],Q=b[_+1],J<$&&($=J),Q<K&&(K=Q),J>Z&&(Z=J),Q>j&&(j=Q);q=Math.max(Z-$,j-K),q=q!==0?32767/q:0}return d(W,H,D,$,K,q,0),H}function e(b,z,D,V,k){var W,H;if(k===X(b,z,D,V)>0)for(W=z;W<D;W+=V)H=N(W,b[W],b[W+1],H);else for(W=D-V;W>=z;W-=V)H=N(W,b[W],b[W+1],H);return H&&A(H,H.next)&&(U(H),H=H.next),H}function f(b,z){if(!b)return b;z||(z=b);var D=b,V;do if(V=!1,!D.steiner&&(A(D,D.next)||R(D.prev,D,D.next)===0)){if(U(D),D=z=D.prev,D===D.next)break;V=!0}else D=D.next;while(V||D!==z);return z}function d(b,z,D,V,k,W,H){if(b){!H&&W&&g(b,V,k,W);for(var $=b,K,Z;b.prev!==b.next;){if(K=b.prev,Z=b.next,W?a(b,V,k,W):s(b)){z.push(K.i/D|0),z.push(b.i/D|0),z.push(Z.i/D|0),U(b),b=Z.next,$=Z.next;continue}if(b=Z,b===$){H?H===1?(b=r(f(b),z,D),d(b,z,D,V,k,W,2)):H===2&&o(b,z,D,V,k,W):d(f(b),z,D,V,k,W,1);break}}}}function s(b){var z=b.prev,D=b,V=b.next;if(R(z,D,V)>=0)return!1;for(var k=z.x,W=D.x,H=V.x,$=z.y,K=D.y,Z=V.y,j=k<W?k<H?k:H:W<H?W:H,J=$<K?$<Z?$:Z:K<Z?K:Z,Q=k>W?k>H?k:H:W>H?W:H,q=$>K?$>Z?$:Z:K>Z?K:Z,_=V.next;_!==z;){if(_.x>=j&&_.x<=Q&&_.y>=J&&_.y<=q&&P(k,$,W,K,H,Z,_.x,_.y)&&R(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function a(b,z,D,V){var k=b.prev,W=b,H=b.next;if(R(k,W,H)>=0)return!1;for(var $=k.x,K=W.x,Z=H.x,j=k.y,J=W.y,Q=H.y,q=$<K?$<Z?$:Z:K<Z?K:Z,_=j<J?j<Q?j:Q:J<Q?J:Q,tt=$>K?$>Z?$:Z:K>Z?K:Z,st=j>J?j>Q?j:Q:J>Q?J:Q,it=T(q,_,z,D,V),lt=T(tt,st,z,D,V),et=b.prevZ,ht=b.nextZ;et&&et.z>=it&&ht&&ht.z<=lt;){if(et.x>=q&&et.x<=tt&&et.y>=_&&et.y<=st&&et!==k&&et!==H&&P($,j,K,J,Z,Q,et.x,et.y)&&R(et.prev,et,et.next)>=0||(et=et.prevZ,ht.x>=q&&ht.x<=tt&&ht.y>=_&&ht.y<=st&&ht!==k&&ht!==H&&P($,j,K,J,Z,Q,ht.x,ht.y)&&R(ht.prev,ht,ht.next)>=0))return!1;ht=ht.nextZ}for(;et&&et.z>=it;){if(et.x>=q&&et.x<=tt&&et.y>=_&&et.y<=st&&et!==k&&et!==H&&P($,j,K,J,Z,Q,et.x,et.y)&&R(et.prev,et,et.next)>=0)return!1;et=et.prevZ}for(;ht&&ht.z<=lt;){if(ht.x>=q&&ht.x<=tt&&ht.y>=_&&ht.y<=st&&ht!==k&&ht!==H&&P($,j,K,J,Z,Q,ht.x,ht.y)&&R(ht.prev,ht,ht.next)>=0)return!1;ht=ht.nextZ}return!0}function r(b,z,D){var V=b;do{var k=V.prev,W=V.next.next;!A(k,W)&&w(k,V,V.next,W)&&I(k,W)&&I(W,k)&&(z.push(k.i/D|0),z.push(V.i/D|0),z.push(W.i/D|0),U(V),U(V.next),V=b=W),V=V.next}while(V!==b);return f(V)}function o(b,z,D,V,k,W){var H=b;do{for(var $=H.next.next;$!==H.prev;){if(H.i!==$.i&&E(H,$)){var K=G(H,$);H=f(H,H.next),K=f(K,K.next),d(H,z,D,V,k,W,0),d(K,z,D,V,k,W,0);return}$=$.next}H=H.next}while(H!==b)}function u(b,z,D,V){var k=[],W,H,$,K,Z;for(W=0,H=z.length;W<H;W++)$=z[W]*V,K=W<H-1?z[W+1]*V:b.length,Z=e(b,$,K,V,!1),Z===Z.next&&(Z.steiner=!0),k.push(S(Z));for(k.sort(v),W=0;W<k.length;W++)D=l(k[W],D);return D}function v(b,z){return b.x-z.x}function l(b,z){var D=c(b,z);if(!D)return z;var V=G(D,b);return f(V,V.next),f(D,D.next)}function c(b,z){var D=z,V=b.x,k=b.y,W=-1/0,H;do{if(k<=D.y&&k>=D.next.y&&D.next.y!==D.y){var $=D.x+(k-D.y)*(D.next.x-D.x)/(D.next.y-D.y);if($<=V&&$>W&&(W=$,H=D.x<D.next.x?D:D.next,$===V))return H}D=D.next}while(D!==z);if(!H)return null;var K=H,Z=H.x,j=H.y,J=1/0,Q;D=H;do V>=D.x&&D.x>=Z&&V!==D.x&&P(k<j?V:W,k,Z,j,k<j?W:V,k,D.x,D.y)&&(Q=Math.abs(k-D.y)/(V-D.x),I(D,b)&&(Q<J||Q===J&&(D.x>H.x||D.x===H.x&&p(H,D)))&&(H=D,J=Q)),D=D.next;while(D!==K);return H}function p(b,z){return R(b.prev,b,z.prev)<0&&R(z.next,b,b.next)<0}function g(b,z,D,V){var k=b;do k.z===0&&(k.z=T(k.x,k.y,z,D,V)),k.prevZ=k.prev,k.nextZ=k.next,k=k.next;while(k!==b);k.prevZ.nextZ=null,k.prevZ=null,m(k)}function m(b){var z,D,V,k,W,H,$,K,Z=1;do{for(D=b,b=null,W=null,H=0;D;){for(H++,V=D,$=0,z=0;z<Z&&($++,V=V.nextZ,!!V);z++);for(K=Z;$>0||K>0&&V;)$!==0&&(K===0||!V||D.z<=V.z)?(k=D,D=D.nextZ,$--):(k=V,V=V.nextZ,K--),W?W.nextZ=k:b=k,k.prevZ=W,W=k;D=V}W.nextZ=null,Z*=2}while(H>1);return b}function T(b,z,D,V,k){return b=(b-D)*k|0,z=(z-V)*k|0,b=(b|b<<8)&16711935,b=(b|b<<4)&252645135,b=(b|b<<2)&858993459,b=(b|b<<1)&1431655765,z=(z|z<<8)&16711935,z=(z|z<<4)&252645135,z=(z|z<<2)&858993459,z=(z|z<<1)&1431655765,b|z<<1}function S(b){var z=b,D=b;do(z.x<D.x||z.x===D.x&&z.y<D.y)&&(D=z),z=z.next;while(z!==b);return D}function P(b,z,D,V,k,W,H,$){return(k-H)*(z-$)>=(b-H)*(W-$)&&(b-H)*(V-$)>=(D-H)*(z-$)&&(D-H)*(W-$)>=(k-H)*(V-$)}function E(b,z){return b.next.i!==z.i&&b.prev.i!==z.i&&!F(b,z)&&(I(b,z)&&I(z,b)&&B(b,z)&&(R(b.prev,b,z.prev)||R(b,z.prev,z))||A(b,z)&&R(b.prev,b,b.next)>0&&R(z.prev,z,z.next)>0)}function R(b,z,D){return(z.y-b.y)*(D.x-z.x)-(z.x-b.x)*(D.y-z.y)}function A(b,z){return b.x===z.x&&b.y===z.y}function w(b,z,D,V){var k=L(R(b,z,D)),W=L(R(b,z,V)),H=L(R(D,V,b)),$=L(R(D,V,z));return!!(k!==W&&H!==$||k===0&&O(b,D,z)||W===0&&O(b,V,z)||H===0&&O(D,b,V)||$===0&&O(D,z,V))}function O(b,z,D){return z.x<=Math.max(b.x,D.x)&&z.x>=Math.min(b.x,D.x)&&z.y<=Math.max(b.y,D.y)&&z.y>=Math.min(b.y,D.y)}function L(b){return b>0?1:b<0?-1:0}function F(b,z){var D=b;do{if(D.i!==b.i&&D.next.i!==b.i&&D.i!==z.i&&D.next.i!==z.i&&w(D,D.next,b,z))return!0;D=D.next}while(D!==b);return!1}function I(b,z){return R(b.prev,b,b.next)<0?R(b,z,b.next)>=0&&R(b,b.prev,z)>=0:R(b,z,b.prev)<0||R(b,b.next,z)<0}function B(b,z){var D=b,V=!1,k=(b.x+z.x)/2,W=(b.y+z.y)/2;do D.y>W!=D.next.y>W&&D.next.y!==D.y&&k<(D.next.x-D.x)*(W-D.y)/(D.next.y-D.y)+D.x&&(V=!V),D=D.next;while(D!==b);return V}function G(b,z){var D=new Y(b.i,b.x,b.y),V=new Y(z.i,z.x,z.y),k=b.next,W=z.prev;return b.next=z,z.prev=b,D.next=k,k.prev=D,V.next=D,D.prev=V,W.next=V,V.prev=W,V}function N(b,z,D,V){var k=new Y(b,z,D);return V?(k.next=V.next,k.prev=V,V.next.prev=k,V.next=k):(k.prev=k,k.next=k),k}function U(b){b.next.prev=b.prev,b.prev.next=b.next,b.prevZ&&(b.prevZ.nextZ=b.nextZ),b.nextZ&&(b.nextZ.prevZ=b.prevZ)}function Y(b,z,D){this.i=b,this.x=z,this.y=D,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}y.deviation=function(b,z,D,V){var k=z&&z.length,W=k?z[0]*D:b.length,H=Math.abs(X(b,0,W,D));if(k)for(var $=0,K=z.length;$<K;$++){var Z=z[$]*D,j=$<K-1?z[$+1]*D:b.length;H-=Math.abs(X(b,Z,j,D))}var J=0;for($=0;$<V.length;$+=3){var Q=V[$]*D,q=V[$+1]*D,_=V[$+2]*D;J+=Math.abs((b[Q]-b[_])*(b[q+1]-b[Q+1])-(b[Q]-b[q])*(b[_+1]-b[Q+1]))}return H===0&&J===0?0:Math.abs((J-H)/H)};function X(b,z,D,V){for(var k=0,W=z,H=D-V;W<D;W+=V)k+=(b[H]-b[W])*(b[W+1]+b[H+1]),H=W;return k}y.flatten=function(b){for(var z=b[0][0].length,D={vertices:[],holes:[],dimensions:z},V=0,k=0;k<b.length;k++){for(var W=0;W<b[k].length;W++)for(var H=0;H<z;H++)D.vertices.push(b[k][W][H]);k>0&&(V+=b[k-1].length,D.holes.push(V))}return D},h.exports=y},14045:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(74118),d=function(s,a){a===void 0&&(a=new f);for(var r=1/0,o=1/0,u=-r,v=-o,l,c=0;c<s.points.length;c++)l=s.points[c],r=Math.min(r,l.x),o=Math.min(o,l.y),u=Math.max(u,l.x),v=Math.max(v,l.y);return a.x=r,a.y=o,a.width=u-r,a.height=v-o,a};h.exports=d},98286:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){f===void 0&&(f=[]);for(var d=0;d<e.points.length;d++)f.push(e.points[d].x),f.push(e.points[d].y);return f};h.exports=y},89294:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(16028),d=e(88829),s=e(5159),a=function(r,o,u,v){v===void 0&&(v=[]);var l=r.points,c=s(r);!o&&u>0&&(o=c/u);for(var p=0;p<o;p++)for(var g=c*(p/o),m=0,T=0;T<l.length;T++){var S=l[T],P=l[(T+1)%l.length],E=new d(S.x,S.y,P.x,P.y),R=f(E);if(g<m||g>m+R){m+=R;continue}var A=E.getPoint((g-m)/R);v.push(A);break}return v};h.exports=a},5159:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(16028),d=e(88829),s=function(a){for(var r=a.points,o=0,u=0;u<r.length;u++){var v=r[u],l=r[(u+1)%r.length],c=new d(v.x,v.y,l.x,l.y);o+=f(c)}return o};h.exports=s},8580:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(45604),s=e(89294),a=e(52394),r=new f({initialize:function(u){this.type=a.POLYGON,this.area=0,this.points=[],u&&this.setTo(u)},contains:function(o,u){return d(this,o,u)},setTo:function(o){if(this.area=0,this.points=[],typeof o=="string"&&(o=o.split(" ")),!Array.isArray(o))return this;for(var u,v=0;v<o.length;v++)u={x:0,y:0},typeof o[v]=="number"||typeof o[v]=="string"?(u.x=parseFloat(o[v]),u.y=parseFloat(o[v+1]),v++):Array.isArray(o[v])?(u.x=o[v][0],u.y=o[v][1]):(u.x=o[v].x,u.y=o[v].y),this.points.push(u);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var o=0,u,v,l=0;l<this.points.length-1;l++)u=this.points[l],v=this.points[l+1],o+=(v.x-u.x)*(u.y+v.y);return u=this.points[0],v=this.points[this.points.length-1],o+=(u.x-v.x)*(v.y+u.y),this.area=-o*.5,this.area},getPoints:function(o,u,v){return s(this,o,u,v)}});h.exports=r},32244:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.points.reverse(),e};h.exports=y},95874:h=>{function y(r,o){var u=r.x-o.x,v=r.y-o.y;return u*u+v*v}function e(r,o,u){var v=o.x,l=o.y,c=u.x-v,p=u.y-l;if(c!==0||p!==0){var g=((r.x-v)*c+(r.y-l)*p)/(c*c+p*p);g>1?(v=u.x,l=u.y):g>0&&(v+=c*g,l+=p*g)}return c=r.x-v,p=r.y-l,c*c+p*p}function f(r,o){for(var u=r[0],v=[u],l,c=1,p=r.length;c<p;c++)l=r[c],y(l,u)>o&&(v.push(l),u=l);return u!==l&&v.push(l),v}function d(r,o,u,v,l){for(var c=v,p,g=o+1;g<u;g++){var m=e(r[g],r[o],r[u]);m>c&&(p=g,c=m)}c>v&&(p-o>1&&d(r,o,p,v,l),l.push(r[p]),u-p>1&&d(r,p,u,v,l))}function s(r,o){var u=r.length-1,v=[r[0]];return d(r,0,u,o,v),v.push(r[u]),v}var a=function(r,o,u){o===void 0&&(o=1),u===void 0&&(u=!1);var v=r.points;if(v.length>2){var l=o*o;u||(v=f(v,l)),r.setTo(s(v,l))}return r};h.exports=a},18974:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(f,d){return f[0]=d[0],f[1]=d[1],f},e=function(f){var d,s=[],a=f.points;for(d=0;d<a.length;d++)s.push([a[d].x,a[d].y]);var r=[];for(s.length>0&&r.push(y([0,0],s[0])),d=0;d<s.length-1;d++){var o=s[d],u=s[d+1],v=o[0],l=o[1],c=u[0],p=u[1];r.push([.85*v+.15*c,.85*l+.15*p]),r.push([.15*v+.85*c,.15*l+.85*p])}return s.length>1&&r.push(y([0,0],s[s.length-1])),f.setTo(r)};h.exports=e},23490:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){for(var s=e.points,a=0;a<s.length;a++)s[a].x+=f,s[a].y+=d;return e};h.exports=y},44359:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(8580);f.Clone=e(19631),f.Contains=e(45604),f.ContainsPoint=e(87289),f.Earcut=e(11117),f.GetAABB=e(14045),f.GetNumberArray=e(98286),f.GetPoints=e(89294),f.Perimeter=e(5159),f.Reverse=e(32244),f.Simplify=e(95874),f.Smooth=e(18974),f.Translate=e(23490),h.exports=f},1653:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.width*e.height};h.exports=y},33943:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e};h.exports=y},58662:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e.width=Math.ceil(e.width),e.height=Math.ceil(e.height),e};h.exports=y},79993:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){return e.x=f-e.width/2,e.y=d-e.height/2,e};h.exports=y},81572:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(74118),d=function(s){return new f(s.x,s.y,s.width,s.height)};h.exports=d},94287:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){return e.width<=0||e.height<=0?!1:e.x<=f&&e.x+e.width>=f&&e.y<=d&&e.y+e.height>=d};h.exports=y},28687:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(94287),d=function(s,a){return f(s,a.x,a.y)};h.exports=d},73222:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return f.width*f.height>e.width*e.height?!1:f.x>e.x&&f.x<e.right&&f.right>e.x&&f.right<e.right&&f.y>e.y&&f.y<e.bottom&&f.bottom>e.y&&f.bottom<e.bottom};h.exports=y},29538:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return f.setTo(e.x,e.y,e.width,e.height)};h.exports=y},87279:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return f===void 0&&(f=[]),f.push({x:e.x,y:e.y}),f.push({x:e.right,y:e.y}),f.push({x:e.right,y:e.bottom}),f.push({x:e.x,y:e.bottom}),f};h.exports=y},19989:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e.x===f.x&&e.y===f.y&&e.width===f.width&&e.height===f.height};h.exports=y},92628:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(6700),d=function(s,a){var r=f(s);return r<f(a)?s.setSize(a.height*r,a.height):s.setSize(a.width,a.width/r),s.setPosition(a.centerX-s.width/2,a.centerY-s.height/2)};h.exports=d},85028:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(6700),d=function(s,a){var r=f(s);return r>f(a)?s.setSize(a.height*r,a.height):s.setSize(a.width,a.width/r),s.setPosition(a.centerX-s.width/2,a.centerY-s.height/2)};h.exports=d},71356:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.x=Math.floor(e.x),e.y=Math.floor(e.y),e};h.exports=y},21687:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.x=Math.floor(e.x),e.y=Math.floor(e.y),e.width=Math.floor(e.width),e.height=Math.floor(e.height),e};h.exports=y},80222:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(74118),d=e(83392),s=function(a,r){if(r===void 0&&(r=new f),a.length===0)return r;for(var o=Number.MAX_VALUE,u=Number.MAX_VALUE,v=d.MIN_SAFE_INTEGER,l=d.MIN_SAFE_INTEGER,c,p,g,m=0;m<a.length;m++)c=a[m],Array.isArray(c)?(p=c[0],g=c[1]):(p=c.x,g=c.y),o=Math.min(o,p),u=Math.min(u,g),v=Math.max(v,p),l=Math.max(l,g);return r.x=o,r.y=u,r.width=v-o,r.height=l-u,r};h.exports=s},75785:(h,y,e)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(74118),d=function(s,a,r,o,u){return u===void 0&&(u=new f),u.setTo(Math.min(s,r),Math.min(a,o),Math.abs(s-r),Math.abs(a-o))};h.exports=d},6700:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.height===0?NaN:e.width/e.height};h.exports=y},35242:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),d=function(s,a){return a===void 0&&(a=new f),a.x=s.centerX,a.y=s.centerY,a};h.exports=d},47698:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(85876),d=e(79967),s=function(a,r,o){if(o===void 0&&(o=new d),r<=0||r>=1)return o.x=a.x,o.y=a.y,o;var u=f(a)*r;return r>.5?(u-=a.width+a.height,u<=a.width?(o.x=a.right-u,o.y=a.bottom):(o.x=a.x,o.y=a.bottom-(u-a.width))):u<=a.width?(o.x=a.x+u,o.y=a.y):(o.x=a.right,o.y=a.y+(u-a.width)),o};h.exports=s},54932:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(47698),d=e(85876),s=function(a,r,o,u){u===void 0&&(u=[]),!r&&o>0&&(r=d(a)/o);for(var v=0;v<r;v++){var l=v/r;u.push(f(a,l))}return u};h.exports=s},31591:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),d=function(s,a){return a===void 0&&(a=new f),a.x=s.width,a.y=s.height,a};h.exports=d},7782:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79993),d=function(s,a,r){var o=s.centerX,u=s.centerY;return s.setSize(s.width+a*2,s.height+r*2),f(s,o,u)};h.exports=d},66217:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(74118),d=e(90205),s=function(a,r,o){return o===void 0&&(o=new f),d(a,r)?(o.x=Math.max(a.x,r.x),o.y=Math.max(a.y,r.y),o.width=Math.min(a.right,r.right)-o.x,o.height=Math.min(a.bottom,r.bottom)-o.y):o.setEmpty(),o};h.exports=s},40053:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(85876),d=e(79967),s=function(a,r,o,u){if(u===void 0&&(u=[]),!r&&!o)return u;r?o=Math.round(f(a)/r):r=f(a)/o;for(var v=a.x,l=a.y,c=0,p=0;p<o;p++)switch(u.push(new d(v,l)),c){case 0:v+=r,v>=a.right&&(c=1,l+=v-a.right,v=a.right);break;case 1:l+=r,l>=a.bottom&&(c=2,v-=l-a.bottom,l=a.bottom);break;case 2:v-=r,v<=a.left&&(c=3,l-=a.left-v,v=a.left);break;case 3:l-=r,l<=a.top&&(c=0,l=a.top);break}return u};h.exports=s},86673:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){for(var d=e.x,s=e.right,a=e.y,r=e.bottom,o=0;o<f.length;o++)d=Math.min(d,f[o].x),s=Math.max(s,f[o].x),a=Math.min(a,f[o].y),r=Math.max(r,f[o].y);return e.x=d,e.y=a,e.width=s-d,e.height=r-a,e};h.exports=y},14655:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){var d=Math.min(e.x,f.x),s=Math.max(e.right,f.right);e.x=d,e.width=s-d;var a=Math.min(e.y,f.y),r=Math.max(e.bottom,f.bottom);return e.y=a,e.height=r-a,e};h.exports=y},44755:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){var s=Math.min(e.x,f),a=Math.max(e.right,f);e.x=s,e.width=a-s;var r=Math.min(e.y,d),o=Math.max(e.bottom,d);return e.y=r,e.height=o-r,e};h.exports=y},74466:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){return e.x+=f,e.y+=d,e};h.exports=y},55946:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e.x+=f.x,e.y+=f.y,e};h.exports=y},97474:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e.x<f.right&&e.right>f.x&&e.y<f.bottom&&e.bottom>f.y};h.exports=y},85876:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return 2*(e.width+e.height)};h.exports=y},20243:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),d=e(75606),s=function(a,r,o){o===void 0&&(o=new f),r=d(r);var u=Math.sin(r),v=Math.cos(r),l=v>0?a.width/2:a.width/-2,c=u>0?a.height/2:a.height/-2;return Math.abs(l*u)<Math.abs(c*v)?c=l*u/v:l=c*v/u,o.x=l+a.centerX,o.y=c+a.centerY,o};h.exports=s},30001:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),d=function(s,a){return a===void 0&&(a=new f),a.x=s.x+Math.random()*s.width,a.y=s.y+Math.random()*s.height,a};h.exports=d},97691:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(17489),d=e(73222),s=e(79967),a=function(r,o,u){if(u===void 0&&(u=new s),d(r,o))switch(f(0,3)){case 0:u.x=r.x+Math.random()*(o.right-r.x),u.y=r.y+Math.random()*(o.top-r.y);break;case 1:u.x=o.x+Math.random()*(r.right-o.x),u.y=o.bottom+Math.random()*(r.bottom-o.bottom);break;case 2:u.x=r.x+Math.random()*(o.x-r.x),u.y=o.y+Math.random()*(r.bottom-o.y);break;case 3:u.x=o.right+Math.random()*(r.right-o.right),u.y=r.y+Math.random()*(o.bottom-r.y);break}return u};h.exports=a},74118:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(94287),s=e(47698),a=e(54932),r=e(52394),o=e(88829),u=e(30001),v=new f({initialize:function(c,p,g,m){c===void 0&&(c=0),p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=0),this.type=r.RECTANGLE,this.x=c,this.y=p,this.width=g,this.height=m},contains:function(l,c){return d(this,l,c)},getPoint:function(l,c){return s(this,l,c)},getPoints:function(l,c,p){return a(this,l,c,p)},getRandomPoint:function(l){return u(this,l)},setTo:function(l,c,p,g){return this.x=l,this.y=c,this.width=p,this.height=g,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(l,c){return c===void 0&&(c=l),this.x=l,this.y=c,this},setSize:function(l,c){return c===void 0&&(c=l),this.width=l,this.height=c,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(l){return l===void 0&&(l=new o),l.setTo(this.x,this.y,this.right,this.y),l},getLineB:function(l){return l===void 0&&(l=new o),l.setTo(this.right,this.y,this.right,this.bottom),l},getLineC:function(l){return l===void 0&&(l=new o),l.setTo(this.right,this.bottom,this.x,this.bottom),l},getLineD:function(l){return l===void 0&&(l=new o),l.setTo(this.x,this.bottom,this.x,this.y),l},left:{get:function(){return this.x},set:function(l){l>=this.right?this.width=0:this.width=this.right-l,this.x=l}},right:{get:function(){return this.x+this.width},set:function(l){l<=this.x?this.width=0:this.width=l-this.x}},top:{get:function(){return this.y},set:function(l){l>=this.bottom?this.height=0:this.height=this.bottom-l,this.y=l}},bottom:{get:function(){return this.y+this.height},set:function(l){l<=this.y?this.height=0:this.height=l-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(l){this.x=l-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(l){this.y=l-this.height/2}}});h.exports=v},51828:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e.width===f.width&&e.height===f.height};h.exports=y},5691:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){return d===void 0&&(d=f),e.width*=f,e.height*=d,e};h.exports=y},58795:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(74118),d=function(s,a,r){r===void 0&&(r=new f);var o=Math.min(s.x,a.x),u=Math.min(s.y,a.y),v=Math.max(s.right,a.right)-o,l=Math.max(s.bottom,a.bottom)-u;return r.setTo(o,u,v,l)};h.exports=d},66658:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(74118);f.Area=e(1653),f.Ceil=e(33943),f.CeilAll=e(58662),f.CenterOn=e(79993),f.Clone=e(81572),f.Contains=e(94287),f.ContainsPoint=e(28687),f.ContainsRect=e(73222),f.CopyFrom=e(29538),f.Decompose=e(87279),f.Equals=e(19989),f.FitInside=e(92628),f.FitOutside=e(85028),f.Floor=e(71356),f.FloorAll=e(21687),f.FromPoints=e(80222),f.FromXY=e(75785),f.GetAspectRatio=e(6700),f.GetCenter=e(35242),f.GetPoint=e(47698),f.GetPoints=e(54932),f.GetSize=e(31591),f.Inflate=e(7782),f.Intersection=e(66217),f.MarchingAnts=e(40053),f.MergePoints=e(86673),f.MergeRect=e(14655),f.MergeXY=e(44755),f.Offset=e(74466),f.OffsetPoint=e(55946),f.Overlaps=e(97474),f.Perimeter=e(85876),f.PerimeterPoint=e(20243),f.Random=e(30001),f.RandomOutside=e(97691),f.SameDimensions=e(51828),f.Scale=e(5691),f.Union=e(58795),h.exports=f},19108:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){var f=e.x1,d=e.y1,s=e.x2,a=e.y2,r=e.x3,o=e.y3;return Math.abs(((r-f)*(a-d)-(s-f)*(o-d))/2)};h.exports=y},41199:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(66349),d=function(s,a,r){var o=r*(Math.sqrt(3)/2),u=s,v=a,l=s+r/2,c=a+o,p=s-r/2,g=a+o;return new f(u,v,l,c,p,g)};h.exports=d},88730:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(11117),d=e(66349),s=function(a,r,o,u,v){r===void 0&&(r=null),o===void 0&&(o=1),u===void 0&&(u=1),v===void 0&&(v=[]);for(var l=f(a,r),c,p,g,m,T,S,P,E,R,A=0;A<l.length;A+=3)c=l[A],p=l[A+1],g=l[A+2],m=a[c*2]*o,T=a[c*2+1]*u,S=a[p*2]*o,P=a[p*2+1]*u,E=a[g*2]*o,R=a[g*2+1]*u,v.push(new d(m,T,S,P,E,R));return v};h.exports=s},3635:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(66349),d=function(s,a,r,o){o===void 0&&(o=r);var u=s,v=a,l=s,c=a-o,p=s+r,g=a;return new f(u,v,l,c,p,g)};h.exports=d},1882:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56595),d=e(9640),s=function(a,r,o,u){u===void 0&&(u=f);var v=u(a),l=r-v.x,c=o-v.y;return d(a,l,c)};h.exports=s},56595:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),d=function(s,a){return a===void 0&&(a=new f),a.x=(s.x1+s.x2+s.x3)/3,a.y=(s.y1+s.y2+s.y3)/3,a};h.exports=d},91835:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(93736);function d(a,r,o,u){return a*u-r*o}var s=function(a,r){r===void 0&&(r=new f);var o=a.x3,u=a.y3,v=a.x1-o,l=a.y1-u,c=a.x2-o,p=a.y2-u,g=2*d(v,l,c,p),m=d(l,v*v+l*l,p,c*c+p*p),T=d(v,v*v+l*l,c,c*c+p*p);return r.x=o-m/g,r.y=u+T/g,r};h.exports=s},97073:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(26673),d=function(s,a){a===void 0&&(a=new f);var r=s.x1,o=s.y1,u=s.x2,v=s.y2,l=s.x3,c=s.y3,p=u-r,g=v-o,m=l-r,T=c-o,S=p*(r+u)+g*(o+v),P=m*(r+l)+T*(o+c),E=2*(p*(c-v)-g*(l-u)),R,A;if(Math.abs(E)<1e-6){var w=Math.min(r,u,l),O=Math.min(o,v,c);R=(Math.max(r,u,l)-w)*.5,A=(Math.max(o,v,c)-O)*.5,a.x=w+R,a.y=O+A,a.radius=Math.sqrt(R*R+A*A)}else a.x=(T*S-g*P)/E,a.y=(p*P-m*S)/E,R=a.x-r,A=a.y-o,a.radius=Math.sqrt(R*R+A*A);return a};h.exports=d},75974:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(66349),d=function(s){return new f(s.x1,s.y1,s.x2,s.y2,s.x3,s.y3)};h.exports=d},60689:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){var s=e.x3-e.x1,a=e.y3-e.y1,r=e.x2-e.x1,o=e.y2-e.y1,u=f-e.x1,v=d-e.y1,l=s*s+a*a,c=s*r+a*o,p=s*u+a*v,g=r*r+o*o,m=r*u+o*v,T=l*g-c*c,S=T===0?0:1/T,P=(g*p-c*m)*S,E=(l*m-c*p)*S;return P>=0&&E>=0&&P+E<1};h.exports=y},86875:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){d===void 0&&(d=!1),s===void 0&&(s=[]);for(var a=e.x3-e.x1,r=e.y3-e.y1,o=e.x2-e.x1,u=e.y2-e.y1,v=a*a+r*r,l=a*o+r*u,c=o*o+u*u,p=v*c-l*l,g=p===0?0:1/p,m,T,S,P,E,R,A=e.x1,w=e.y1,O=0;O<f.length&&(S=f[O].x-A,P=f[O].y-w,E=a*S+r*P,R=o*S+u*P,m=(c*E-l*R)*g,T=(v*R-l*E)*g,!(m>=0&&T>=0&&m+T<1&&(s.push({x:f[O].x,y:f[O].y}),d)));O++);return s};h.exports=y},51532:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(60689),d=function(s,a){return f(s,a.x,a.y)};h.exports=d},42538:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return f.setTo(e.x1,e.y1,e.x2,e.y2,e.x3,e.y3)};h.exports=y},18680:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return f===void 0&&(f=[]),f.push({x:e.x1,y:e.y1}),f.push({x:e.x2,y:e.y2}),f.push({x:e.x3,y:e.y3}),f};h.exports=y},29977:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e.x1===f.x1&&e.y1===f.y1&&e.x2===f.x2&&e.y2===f.y2&&e.x3===f.x3&&e.y3===f.y3};h.exports=y},56088:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),d=e(16028),s=function(a,r,o){o===void 0&&(o=new f);var u=a.getLineA(),v=a.getLineB(),l=a.getLineC();if(r<=0||r>=1)return o.x=u.x1,o.y=u.y1,o;var c=d(u),p=d(v),g=d(l),m=c+p+g,T=m*r,S=0;return T<c?(S=T/c,o.x=u.x1+(u.x2-u.x1)*S,o.y=u.y1+(u.y2-u.y1)*S):T>c+p?(T-=c+p,S=T/g,o.x=l.x1+(l.x2-l.x1)*S,o.y=l.y1+(l.y2-l.y1)*S):(T-=c,S=T/p,o.x=v.x1+(v.x2-v.x1)*S,o.y=v.y1+(v.y2-v.y1)*S),o};h.exports=s},24402:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(16028),d=e(79967),s=function(a,r,o,u){u===void 0&&(u=[]);var v=a.getLineA(),l=a.getLineB(),c=a.getLineC(),p=f(v),g=f(l),m=f(c),T=p+g+m;!r&&o>0&&(r=T/o);for(var S=0;S<r;S++){var P=T*(S/r),E=0,R=new d;P<p?(E=P/p,R.x=v.x1+(v.x2-v.x1)*E,R.y=v.y1+(v.y2-v.y1)*E):P>p+g?(P-=p+g,E=P/m,R.x=c.x1+(c.x2-c.x1)*E,R.y=c.y1+(c.y2-c.y1)*E):(P-=p,E=P/g,R.x=l.x1+(l.x2-l.x1)*E,R.y=l.y1+(l.y2-l.y1)*E),u.push(R)}return u};h.exports=s},83648:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967);function d(a,r,o,u){var v=a-o,l=r-u,c=v*v+l*l;return Math.sqrt(c)}var s=function(a,r){r===void 0&&(r=new f);var o=a.x1,u=a.y1,v=a.x2,l=a.y2,c=a.x3,p=a.y3,g=d(c,p,v,l),m=d(o,u,c,p),T=d(v,l,o,u),S=g+m+T;return r.x=(o*g+v*m+c*T)/S,r.y=(u*g+l*m+p*T)/S,r};h.exports=s},9640:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){return e.x1+=f,e.y1+=d,e.x2+=f,e.y2+=d,e.x3+=f,e.y3+=d,e};h.exports=y},95290:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(16028),d=function(s){var a=s.getLineA(),r=s.getLineB(),o=s.getLineC();return f(a)+f(r)+f(o)};h.exports=d},99761:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),d=function(s,a){a===void 0&&(a=new f);var r=s.x2-s.x1,o=s.y2-s.y1,u=s.x3-s.x1,v=s.y3-s.y1,l=Math.random(),c=Math.random();return l+c>=1&&(l=1-l,c=1-c),a.x=s.x1+(r*l+u*c),a.y=s.y1+(o*l+v*c),a};h.exports=d},21934:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(19211),d=e(83648),s=function(a,r){var o=d(a);return f(a,o.x,o.y,r)};h.exports=s},68454:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(19211),d=function(s,a,r){return f(s,a.x,a.y,r)};h.exports=d},19211:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){var a=Math.cos(s),r=Math.sin(s),o=e.x1-f,u=e.y1-d;return e.x1=o*a-u*r+f,e.y1=o*r+u*a+d,o=e.x2-f,u=e.y2-d,e.x2=o*a-u*r+f,e.y2=o*r+u*a+d,o=e.x3-f,u=e.y3-d,e.x3=o*a-u*r+f,e.y3=o*r+u*a+d,e};h.exports=y},66349:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(60689),s=e(56088),a=e(24402),r=e(52394),o=e(88829),u=e(99761),v=new f({initialize:function(c,p,g,m,T,S){c===void 0&&(c=0),p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=0),T===void 0&&(T=0),S===void 0&&(S=0),this.type=r.TRIANGLE,this.x1=c,this.y1=p,this.x2=g,this.y2=m,this.x3=T,this.y3=S},contains:function(l,c){return d(this,l,c)},getPoint:function(l,c){return s(this,l,c)},getPoints:function(l,c,p){return a(this,l,c,p)},getRandomPoint:function(l){return u(this,l)},setTo:function(l,c,p,g,m,T){return l===void 0&&(l=0),c===void 0&&(c=0),p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=0),T===void 0&&(T=0),this.x1=l,this.y1=c,this.x2=p,this.y2=g,this.x3=m,this.y3=T,this},getLineA:function(l){return l===void 0&&(l=new o),l.setTo(this.x1,this.y1,this.x2,this.y2),l},getLineB:function(l){return l===void 0&&(l=new o),l.setTo(this.x2,this.y2,this.x3,this.y3),l},getLineC:function(l){return l===void 0&&(l=new o),l.setTo(this.x3,this.y3,this.x1,this.y1),l},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(l){var c=0;this.x1<=this.x2&&this.x1<=this.x3?c=this.x1-l:this.x2<=this.x1&&this.x2<=this.x3?c=this.x2-l:c=this.x3-l,this.x1-=c,this.x2-=c,this.x3-=c}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(l){var c=0;this.x1>=this.x2&&this.x1>=this.x3?c=this.x1-l:this.x2>=this.x1&&this.x2>=this.x3?c=this.x2-l:c=this.x3-l,this.x1-=c,this.x2-=c,this.x3-=c}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(l){var c=0;this.y1<=this.y2&&this.y1<=this.y3?c=this.y1-l:this.y2<=this.y1&&this.y2<=this.y3?c=this.y2-l:c=this.y3-l,this.y1-=c,this.y2-=c,this.y3-=c}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(l){var c=0;this.y1>=this.y2&&this.y1>=this.y3?c=this.y1-l:this.y2>=this.y1&&this.y2>=this.y3?c=this.y2-l:c=this.y3-l,this.y1-=c,this.y2-=c,this.y3-=c}}});h.exports=v},87619:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(66349);f.Area=e(19108),f.BuildEquilateral=e(41199),f.BuildFromPolygon=e(88730),f.BuildRight=e(3635),f.CenterOn=e(1882),f.Centroid=e(56595),f.CircumCenter=e(91835),f.CircumCircle=e(97073),f.Clone=e(75974),f.Contains=e(60689),f.ContainsArray=e(86875),f.ContainsPoint=e(51532),f.CopyFrom=e(42538),f.Decompose=e(18680),f.Equals=e(29977),f.GetPoint=e(56088),f.GetPoints=e(24402),f.InCenter=e(83648),f.Perimeter=e(95290),f.Offset=e(9640),f.Random=e(99761),f.Rotate=e(21934),f.RotateAroundPoint=e(68454),f.RotateAroundXY=e(19211),h.exports=f},27395:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){return{gameObject:e,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:f,hitAreaCallback:d,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}};h.exports=y},18104:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return function(d,s,a,r){var o=e.getPixelAlpha(s,a,r.texture.key,r.frame.name);return o&&o>=f}};h.exports=y},69898:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(72687),s=e(6659),a=e(33963),r=e(97081),o=e(71064),u=e(7905),v=e(40398),l=e(37579),c=e(69360),p=e(64462),g=new f({initialize:function(T,S){this.game=T,this.scaleManager,this.canvas,this.config=S,this.enabled=!0,this.events=new s,this.isOver=!0,this.defaultCursor="",this.keyboard=S.inputKeyboard?new o(this):null,this.mouse=S.inputMouse?new u(this):null,this.touch=S.inputTouch?new l(this):null,this.pointers=[],this.pointersTotal=S.inputActivePointers,S.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var P=0;P<=this.pointersTotal;P++){var E=new v(this,P);E.smoothFactor=S.inputSmoothFactor,this.pointers.push(E)}this.mousePointer=S.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new c,this._tempMatrix2=new c,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],T.events.once(r.BOOT,this.boot,this)},boot:function(){var m=this.game,T=m.events;this.canvas=m.canvas,this.scaleManager=m.scale,this.events.emit(a.MANAGER_BOOT),T.on(r.PRE_RENDER,this.preRender,this),T.once(r.DESTROY,this.destroy,this)},setCanvasOver:function(m){this.isOver=!0,this.events.emit(a.GAME_OVER,m)},setCanvasOut:function(m){this.isOver=!1,this.events.emit(a.GAME_OUT,m)},preRender:function(){var m=this.game.loop.now,T=this.game.loop.delta,S=this.game.scene.getScenes(!0,!0);this.time=m,this.events.emit(a.MANAGER_UPDATE);for(var P=0;P<S.length;P++){var E=S[P];if(E.sys.input&&E.sys.input.updatePoll(m,T)&&this.globalTopOnly)return}},setDefaultCursor:function(m){this.defaultCursor=m,this.canvas.style.cursor!==m&&(this.canvas.style.cursor=m)},setCursor:function(m){m.cursor&&(this.canvas.style.cursor=m.cursor)},resetCursor:function(m){m.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(m){m===void 0&&(m=1);var T=[];this.pointersTotal+m>10&&(m=10-this.pointersTotal);for(var S=0;S<m;S++){var P=this.pointers.length,E=new v(this,P);E.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(E),this.pointersTotal++,T.push(E)}return T},updateInputPlugins:function(m,T){var S=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var P=0;P<S.length;P++){var E=S[P];if(E.sys.input){var R=E.sys.input.update(m,T);if(R&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(m){for(var T=this.pointers,S=[],P=0;P<m.changedTouches.length;P++)for(var E=m.changedTouches[P],R=1;R<this.pointersTotal;R++){var A=T[R];if(!A.active){A.touchstart(E,m),this.activePointer=A,S.push(A);break}}this.updateInputPlugins(d.TOUCH_START,S)},onTouchMove:function(m){for(var T=this.pointers,S=[],P=0;P<m.changedTouches.length;P++)for(var E=m.changedTouches[P],R=1;R<this.pointersTotal;R++){var A=T[R];if(A.active&&A.identifier===E.identifier){var w=document.elementFromPoint(E.pageX,E.pageY),O=w===this.canvas;!this.isOver&&O?this.setCanvasOver(m):this.isOver&&!O&&this.setCanvasOut(m),this.isOver&&(A.touchmove(E,m),this.activePointer=A,S.push(A));break}}this.updateInputPlugins(d.TOUCH_MOVE,S)},onTouchEnd:function(m){for(var T=this.pointers,S=[],P=0;P<m.changedTouches.length;P++)for(var E=m.changedTouches[P],R=1;R<this.pointersTotal;R++){var A=T[R];if(A.active&&A.identifier===E.identifier){A.touchend(E,m),S.push(A);break}}this.updateInputPlugins(d.TOUCH_END,S)},onTouchCancel:function(m){for(var T=this.pointers,S=[],P=0;P<m.changedTouches.length;P++)for(var E=m.changedTouches[P],R=1;R<this.pointersTotal;R++){var A=T[R];if(A.active&&A.identifier===E.identifier){A.touchcancel(E,m),S.push(A);break}}this.updateInputPlugins(d.TOUCH_CANCEL,S)},onMouseDown:function(m){var T=this.mousePointer;T.down(m),T.updateMotion(),this.activePointer=T,this.updateInputPlugins(d.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(m){var T=this.mousePointer;T.move(m),T.updateMotion(),this.activePointer=T,this.updateInputPlugins(d.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(m){var T=this.mousePointer;T.up(m),T.updateMotion(),this.activePointer=T,this.updateInputPlugins(d.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(m){var T=this.mousePointer;T.wheel(m),this.activePointer=T,this.updateInputPlugins(d.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(m){var T=this.mouse.locked;this.mousePointer.locked=T,this.events.emit(a.POINTERLOCK_CHANGE,m,T)},inputCandidate:function(m,T){var S=m.input;if(!S||!S.enabled||!m.willRender(T))return!1;var P=!0,E=m.parentContainer;if(E)do{if(!E.willRender(T)){P=!1;break}E=E.parentContainer}while(E);return P},hitTest:function(m,T,S,P){P===void 0&&(P=this._tempHitTest);var E=this._tempPoint,R=S.scrollX,A=S.scrollY;P.length=0;var w=m.x,O=m.y;S.getWorldPoint(w,O,E),m.worldX=E.x,m.worldY=E.y;for(var L={x:0,y:0},F=this._tempMatrix,I=this._tempMatrix2,B=0;B<T.length;B++){var G=T[B];if(this.inputCandidate(G,S)){var N=E.x+R*G.scrollFactorX-R,U=E.y+A*G.scrollFactorY-A;G.parentContainer?(G.getWorldTransformMatrix(F,I),F.applyInverse(N,U,L)):p(N,U,G.x,G.y,G.rotation,G.scaleX,G.scaleY,L),this.pointWithinHitArea(G,L.x,L.y)&&P.push(G)}}return P},pointWithinHitArea:function(m,T,S){T+=m.displayOriginX,S+=m.displayOriginY;var P=m.input;return P&&P.hitAreaCallback(P.hitArea,T,S,m)?(P.localX=T,P.localY=S,!0):!1},pointWithinInteractiveObject:function(m,T,S){return m.hitArea?(T+=m.gameObject.displayOriginX,S+=m.gameObject.displayOriginY,m.localX=T,m.localY=S,m.hitAreaCallback(m.hitArea,T,S,m)):!1},transformPointer:function(m,T,S,P){var E=m.position,R=m.prevPosition;R.x=E.x,R.y=E.y;var A=this.scaleManager.transformX(T),w=this.scaleManager.transformY(S),O=m.smoothFactor;!P||O===0?(E.x=A,E.y=w):(E.x=A*O+R.x*(1-O),E.y=w*O+R.y*(1-O))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(r.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var m=0;m<this.pointers.length;m++)this.pointers[m].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});h.exports=g},12499:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(26673),d=e(65650),s=e(56694),a=e(72687),r=e(27395),o=e(18104),u=e(53996),v=e(95669),l=e(72313),c=e(33963),p=e(6659),g=e(72632),m=e(52394),T=e(63399),S=e(42911),P=e(91963),E=e(74118),R=e(94287),A=e(7599),w=e(66349),O=e(60689),L=new s({Extends:p,initialize:function(I){p.call(this),this.scene=I,this.systems=I.sys,this.settings=I.sys.settings,this.manager=I.sys.game.input,this.pluginEvents=new p,this.enabled=!0,this.displayList,this.cameras,T.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var B={cancelled:!1};this._eventContainer={stopPropagation:function(){B.cancelled=!0}},this._eventData=B,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,I.sys.events.once(A.BOOT,this.boot,this),I.sys.events.on(A.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(A.DESTROY,this.destroy,this),this.pluginEvents.emit(c.BOOT)},start:function(){var F=this.systems.events;F.on(A.TRANSITION_START,this.transitionIn,this),F.on(A.TRANSITION_OUT,this.transitionOut,this),F.on(A.TRANSITION_COMPLETE,this.transitionComplete,this),F.on(A.PRE_UPDATE,this.preUpdate,this),F.once(A.SHUTDOWN,this.shutdown,this),this.manager.events.on(c.GAME_OUT,this.onGameOut,this),this.manager.events.on(c.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(c.START)},onGameOver:function(F){this.isActive()&&this.emit(c.GAME_OVER,F.timeStamp,F)},onGameOut:function(F){this.isActive()&&this.emit(c.GAME_OUT,F.timeStamp,F)},preUpdate:function(){this.pluginEvents.emit(c.PRE_UPDATE);var F=this._pendingRemoval,I=this._pendingInsertion,B=F.length,G=I.length;if(!(B===0&&G===0)){for(var N=this._list,U=0;U<B;U++){var Y=F[U],X=N.indexOf(Y);X>-1&&(N.splice(X,1),this.clear(Y,!0))}this._pendingRemoval.length=0,this._list=N.concat(I.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.canInput()},updatePoll:function(F,I){if(!this.isActive())return!1;if(this.pluginEvents.emit(c.UPDATE,F,I),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var B,G=this.manager,N=G.pointers,U=G.pointersTotal;for(B=0;B<U;B++)N[B].updateMotion();if(this._list.length===0)return!1;var Y=this.pollRate;if(Y===-1)return!1;if(Y>0)if(this._pollTimer-=I,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var X=!1;for(B=0;B<U;B++){var b=0,z=N[B];this._tempZones=[],this._temp=this.hitTestPointer(z),this.sortGameObjects(this._temp,z),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),b+=this.processOverOutEvents(z),this.getDragState(z)===2&&this.processDragThresholdEvent(z,F),b>0&&(X=!0)}return X},update:function(F,I){if(!this.isActive())return!1;for(var B=I.length,G=!1,N=0;N<B;N++){var U=0,Y=I[N];switch(this._tempZones=[],this._temp=this.hitTestPointer(Y),this.sortGameObjects(this._temp,Y),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),F){case a.MOUSE_DOWN:U+=this.processDragDownEvent(Y),U+=this.processDownEvents(Y),U+=this.processOverOutEvents(Y);break;case a.MOUSE_UP:U+=this.processDragUpEvent(Y),U+=this.processUpEvents(Y),U+=this.processOverOutEvents(Y);break;case a.TOUCH_START:U+=this.processDragDownEvent(Y),U+=this.processDownEvents(Y),U+=this.processOverEvents(Y);break;case a.TOUCH_END:case a.TOUCH_CANCEL:U+=this.processDragUpEvent(Y),U+=this.processUpEvents(Y),U+=this.processOutEvents(Y);break;case a.MOUSE_MOVE:case a.TOUCH_MOVE:U+=this.processDragMoveEvent(Y),U+=this.processMoveEvents(Y),U+=this.processOverOutEvents(Y);break;case a.MOUSE_WHEEL:U+=this.processWheelEvent(Y);break}U>0&&(G=!0)}return this._updatedThisFrame=!0,G},clear:function(F,I){I===void 0&&(I=!1),this.disable(F);var B=F.input;B&&(this.removeDebug(F),B.gameObject=void 0,B.target=void 0,B.hitArea=void 0,B.hitAreaCallback=void 0,B.callbackContext=void 0,F.input=null),I||this.queueForRemoval(F);var G=this._draggable.indexOf(F);return G>-1&&this._draggable.splice(G,1),F},disable:function(F){var I=F.input;I&&(I.enabled=!1,I.dragState=0);var B=this._temp,G=this._drag,N=this._over,U=this.manager,Y=B.indexOf(F);Y>-1&&B.splice(Y,1);for(var X=0;X<U.pointersTotal;X++)Y=G[X].indexOf(F),Y>-1&&G[X].splice(Y,1),Y=N[X].indexOf(F),Y>-1&&(N[X].splice(Y,1),U.resetCursor(I));return this},enable:function(F,I,B,G){return G===void 0&&(G=!1),F.input?F.input.enabled=!0:this.setHitArea(F,I,B),F.input&&G&&!F.input.dropZone&&(F.input.dropZone=G),this},hitTestPointer:function(F){for(var I=this.cameras.getCamerasBelowPointer(F),B=0;B<I.length;B++){for(var G=I[B],N=this.manager.hitTest(F,this._list,G),U=0;U<N.length;U++){var Y=N[U];Y.input.dropZone&&this._tempZones.push(Y)}if(N.length>0)return F.camera=G,N}return F.camera=I[0],[]},processDownEvents:function(F){var I=0,B=this._temp,G=this._eventData,N=this._eventContainer;G.cancelled=!1;for(var U=!1,Y=0;Y<B.length;Y++){var X=B[Y];if(!(!X.input||!X.input.enabled)){if(I++,X.emit(c.GAMEOBJECT_POINTER_DOWN,F,X.input.localX,X.input.localY,N),G.cancelled||!X.input||!X.input.enabled){U=!0;break}if(this.emit(c.GAMEOBJECT_DOWN,F,X,N),G.cancelled||!X.input){U=!0;break}}}return!U&&this.manager&&(F.downElement===this.manager.game.canvas?this.emit(c.POINTER_DOWN,F,B):this.emit(c.POINTER_DOWN_OUTSIDE,F)),I},getDragState:function(F){return this._dragState[F.id]},setDragState:function(F,I){this._dragState[F.id]=I},processDragThresholdEvent:function(F,I){var B=!1,G=this.dragTimeThreshold,N=this.dragDistanceThreshold;if((N>0&&u(F.x,F.y,F.downX,F.downY)>=N||G>0&&I>=F.downTime+G)&&(B=!0),B)return this.setDragState(F,3),this.processDragStartList(F)},processDragStartList:function(F){if(this.getDragState(F)!==3)return 0;for(var I=this._drag[F.id],B=0;B<I.length;B++){var G=I[B],N=G.input;N.dragState=2,N.dragStartX=G.x,N.dragStartY=G.y,N.dragStartXGlobal=F.worldX,N.dragStartYGlobal=F.worldY,N.dragX=N.dragStartXGlobal-N.dragStartX,N.dragY=N.dragStartYGlobal-N.dragStartY,G.emit(c.GAMEOBJECT_DRAG_START,F,N.dragX,N.dragY),this.emit(c.DRAG_START,F,G)}return this.setDragState(F,4),I.length},processDragDownEvent:function(F){var I=this._temp;if(this._draggable.length===0||I.length===0||!F.primaryDown||this.getDragState(F)!==0)return 0;this.setDragState(F,1);for(var B=[],G=0;G<I.length;G++){var N=I[G];N.input.draggable&&N.input.dragState===0&&B.push(N)}return B.length===0?(this.setDragState(F,0),0):(B.length>1&&(this.sortGameObjects(B,F),this.topOnly&&B.splice(1)),this._drag[F.id]=B,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(F,3),this.processDragStartList(F)):(this.setDragState(F,2),0))},processDragMoveEvent:function(F){if(this.getDragState(F)===2&&this.processDragThresholdEvent(F,this.manager.game.loop.now),this.getDragState(F)!==4)return 0;for(var I=this._tempZones,B=this._drag[F.id],G=0;G<B.length;G++){var N=B[G],U=N.input,Y=U.target;if(Y){var X=I.indexOf(Y);X===0?(N.emit(c.GAMEOBJECT_DRAG_OVER,F,Y),this.emit(c.DRAG_OVER,F,N,Y)):X>0?(N.emit(c.GAMEOBJECT_DRAG_LEAVE,F,Y),this.emit(c.DRAG_LEAVE,F,N,Y),U.target=I[0],Y=U.target,N.emit(c.GAMEOBJECT_DRAG_ENTER,F,Y),this.emit(c.DRAG_ENTER,F,N,Y)):(N.emit(c.GAMEOBJECT_DRAG_LEAVE,F,Y),this.emit(c.DRAG_LEAVE,F,N,Y),I[0]?(U.target=I[0],Y=U.target,N.emit(c.GAMEOBJECT_DRAG_ENTER,F,Y),this.emit(c.DRAG_ENTER,F,N,Y)):U.target=null)}else!Y&&I[0]&&(U.target=I[0],Y=U.target,N.emit(c.GAMEOBJECT_DRAG_ENTER,F,Y),this.emit(c.DRAG_ENTER,F,N,Y));var b,z;if(!N.parentContainer)b=F.worldX-U.dragX,z=F.worldY-U.dragY;else{var D=F.worldX-U.dragStartXGlobal,V=F.worldY-U.dragStartYGlobal,k=N.getParentRotation(),W=D*Math.cos(k)+V*Math.sin(k),H=V*Math.cos(k)-D*Math.sin(k);W*=1/N.parentContainer.scaleX,H*=1/N.parentContainer.scaleY,b=W+U.dragStartX,z=H+U.dragStartY}N.emit(c.GAMEOBJECT_DRAG,F,b,z),this.emit(c.DRAG,F,N,b,z)}return B.length},processDragUpEvent:function(F){for(var I=this._drag[F.id],B=0;B<I.length;B++){var G=I[B],N=G.input;if(N&&N.dragState===2){N.dragState=0,N.dragX=N.localX-G.displayOriginX,N.dragY=N.localY-G.displayOriginY;var U=!1,Y=N.target;Y&&(G.emit(c.GAMEOBJECT_DROP,F,Y),this.emit(c.DROP,F,G,Y),N.target=null,U=!0),G.input&&G.input.enabled&&(G.emit(c.GAMEOBJECT_DRAG_END,F,N.dragX,N.dragY,U),this.emit(c.DRAG_END,F,G,U))}}return this.setDragState(F,0),I.splice(0),0},processMoveEvents:function(F){var I=0,B=this._temp,G=this._eventData,N=this._eventContainer;G.cancelled=!1;for(var U=!1,Y=0;Y<B.length;Y++){var X=B[Y];if(!(!X.input||!X.input.enabled)){if(I++,X.emit(c.GAMEOBJECT_POINTER_MOVE,F,X.input.localX,X.input.localY,N),G.cancelled||!X.input||!X.input.enabled){U=!0;break}if(this.emit(c.GAMEOBJECT_MOVE,F,X,N),G.cancelled||!X.input||!X.input.enabled){U=!0;break}if(this.topOnly)break}}return U||this.emit(c.POINTER_MOVE,F,B),I},processWheelEvent:function(F){var I=0,B=this._temp,G=this._eventData,N=this._eventContainer;G.cancelled=!1;for(var U=!1,Y=F.deltaX,X=F.deltaY,b=F.deltaZ,z=0;z<B.length;z++){var D=B[z];if(!(!D.input||!D.input.enabled)){if(I++,D.emit(c.GAMEOBJECT_POINTER_WHEEL,F,Y,X,b,N),G.cancelled||!D.input||!D.input.enabled){U=!0;break}if(this.emit(c.GAMEOBJECT_WHEEL,F,D,Y,X,b,N),G.cancelled||!D.input||!D.input.enabled){U=!0;break}}}return U||this.emit(c.POINTER_WHEEL,F,B,Y,X,b),I},processOverEvents:function(F){var I=this._temp,B=0,G=I.length,N=[];if(G>0){var U=this.manager,Y=this._eventData,X=this._eventContainer;Y.cancelled=!1;for(var b=!1,z=0;z<G;z++){var D=I[z];if(!(!D.input||!D.input.enabled)){if(N.push(D),U.setCursor(D.input),D.emit(c.GAMEOBJECT_POINTER_OVER,F,D.input.localX,D.input.localY,X),B++,Y.cancelled||!D.input||!D.input.enabled){b=!0;break}if(this.emit(c.GAMEOBJECT_OVER,F,D,X),Y.cancelled||!D.input||!D.input.enabled){b=!0;break}}}b||this.emit(c.POINTER_OVER,F,N)}return this._over[F.id]=N,B},processOutEvents:function(F){var I=this._over[F.id],B=0,G=I.length;if(G>0){var N=this.manager,U=this._eventData,Y=this._eventContainer;U.cancelled=!1;var X=!1;this.sortGameObjects(I,F);for(var b=0;b<G;b++){var z=I[b];if(z=I[b],!(!z.input||!z.input.enabled)){if(N.resetCursor(z.input),z.emit(c.GAMEOBJECT_POINTER_OUT,F,Y),B++,U.cancelled||!z.input||!z.input.enabled){X=!0;break}if(this.emit(c.GAMEOBJECT_OUT,F,z,Y),U.cancelled||!z.input||!z.input.enabled){X=!0;break}X||this.emit(c.POINTER_OUT,F,I)}}this._over[F.id]=[]}return B},processOverOutEvents:function(F){var I=this._temp,B,G,N=[],U=[],Y=[],X=this._over[F.id],b=this._drag[F.id],z=this.manager;for(B=0;B<X.length;B++)G=X[B],I.indexOf(G)===-1&&b.indexOf(G)===-1?N.push(G):Y.push(G);for(B=0;B<I.length;B++)G=I[B],X.indexOf(G)===-1&&U.push(G);var D=N.length,V=0,k=this._eventData,W=this._eventContainer;k.cancelled=!1;var H=!1;if(D>0){for(this.sortGameObjects(N,F),B=0;B<D;B++)if(G=N[B],!(!G.input||!G.input.enabled)){if(z.resetCursor(G.input),G.emit(c.GAMEOBJECT_POINTER_OUT,F,W),V++,k.cancelled||!G.input||!G.input.enabled){H=!0;break}if(this.emit(c.GAMEOBJECT_OUT,F,G,W),k.cancelled||!G.input||!G.input.enabled){H=!0;break}}H||this.emit(c.POINTER_OUT,F,N)}if(D=U.length,k.cancelled=!1,H=!1,D>0){for(this.sortGameObjects(U,F),B=0;B<D;B++)if(G=U[B],!(!G.input||!G.input.enabled)){if(z.setCursor(G.input),G.emit(c.GAMEOBJECT_POINTER_OVER,F,G.input.localX,G.input.localY,W),V++,k.cancelled||!G.input||!G.input.enabled){H=!0;break}if(this.emit(c.GAMEOBJECT_OVER,F,G,W),k.cancelled||!G.input||!G.input.enabled){H=!0;break}}H||this.emit(c.POINTER_OVER,F,U)}return X=Y.concat(U),this._over[F.id]=this.sortGameObjects(X,F),V},processUpEvents:function(F){var I=this._temp,B=this._eventData,G=this._eventContainer;B.cancelled=!1;for(var N=!1,U=0;U<I.length;U++){var Y=I[U];if(!(!Y.input||!Y.input.enabled)){if(Y.emit(c.GAMEOBJECT_POINTER_UP,F,Y.input.localX,Y.input.localY,G),B.cancelled||!Y.input||!Y.input.enabled){N=!0;break}if(this.emit(c.GAMEOBJECT_UP,F,Y,G),B.cancelled||!Y.input||!Y.input.enabled){N=!0;break}}}return!N&&this.manager&&(F.upElement===this.manager.game.canvas?this.emit(c.POINTER_UP,F,I):this.emit(c.POINTER_UP_OUTSIDE,F)),I.length},queueForInsertion:function(F){return this._pendingInsertion.indexOf(F)===-1&&this._list.indexOf(F)===-1&&this._pendingInsertion.push(F),this},queueForRemoval:function(F){return this._pendingRemoval.push(F),this},setDraggable:function(F,I){I===void 0&&(I=!0),Array.isArray(F)||(F=[F]);for(var B=0;B<F.length;B++){var G=F[B];G.input.draggable=I;var N=this._draggable.indexOf(G);I&&N===-1?this._draggable.push(G):!I&&N>-1&&this._draggable.splice(N,1)}return this},makePixelPerfect:function(F){F===void 0&&(F=1);var I=this.systems.textures;return o(I,F)},setHitArea:function(F,I,B){if(I===void 0)return this.setHitAreaFromTexture(F);Array.isArray(F)||(F=[F]);var G=!1,N=!1,U=!1,Y=!1,X=!1,b=!0;if(S(I)){var z=I;I=g(z,"hitArea",null),B=g(z,"hitAreaCallback",null),G=g(z,"draggable",!1),N=g(z,"dropZone",!1),U=g(z,"cursor",!1),Y=g(z,"useHandCursor",!1),X=g(z,"pixelPerfect",!1);var D=g(z,"alphaTolerance",1);X&&(I={},B=this.makePixelPerfect(D)),(!I||!B)&&(this.setHitAreaFromTexture(F),b=!1)}else typeof I=="function"&&!B&&(B=I,I={});for(var V=0;V<F.length;V++){var k=F[V];if(X&&k.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var W=k.input?k.input:r(k,I,B);W.customHitArea=b,W.dropZone=N,W.cursor=Y?"pointer":U,k.input=W,G&&this.setDraggable(k),this.queueForInsertion(k)}return this},setHitAreaCircle:function(F,I,B,G,N){N===void 0&&(N=d);var U=new f(I,B,G);return this.setHitArea(F,U,N)},setHitAreaEllipse:function(F,I,B,G,N,U){U===void 0&&(U=l);var Y=new v(I,B,G,N);return this.setHitArea(F,Y,U)},setHitAreaFromTexture:function(F,I){I===void 0&&(I=R),Array.isArray(F)||(F=[F]);for(var B=0;B<F.length;B++){var G=F[B],N=G.frame,U=0,Y=0;if(G.width?(U=G.width,Y=G.height):N&&(U=N.realWidth,Y=N.realHeight),G.type==="Container"&&(U===0||Y===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}U!==0&&Y!==0&&(G.input=r(G,new E(0,0,U,Y),I),this.queueForInsertion(G))}return this},setHitAreaRectangle:function(F,I,B,G,N,U){U===void 0&&(U=R);var Y=new E(I,B,G,N);return this.setHitArea(F,Y,U)},setHitAreaTriangle:function(F,I,B,G,N,U,Y,X){X===void 0&&(X=O);var b=new w(I,B,G,N,U,Y);return this.setHitArea(F,b,X)},enableDebug:function(F,I){I===void 0&&(I=65280);var B=F.input;if(!B||!B.hitArea)return this;var G=B.hitArea,N=G.type,U=B.hitAreaDebug,Y=this.systems.add,X=this.systems.updateList;U&&(X.remove(U),U.destroy(),U=null);var b=0,z=0;switch(N){case m.CIRCLE:U=Y.arc(0,0,G.radius),b=G.x-G.radius,z=G.y-G.radius;break;case m.ELLIPSE:U=Y.ellipse(0,0,G.width,G.height),b=G.x-G.width/2,z=G.y-G.height/2;break;case m.LINE:U=Y.line(0,0,G.x1,G.y1,G.x2,G.y2);break;case m.POLYGON:U=Y.polygon(0,0,G.points);break;case m.RECTANGLE:U=Y.rectangle(0,0,G.width,G.height),b=G.x,z=G.y;break;case m.TRIANGLE:U=Y.triangle(0,0,G.x1,G.y1,G.x2,G.y2,G.x3,G.y3);break}return U&&(U.isFilled=!1,U.strokeColor=I,U.preUpdate=function(){U.setStrokeStyle(1/F.scale,U.strokeColor),U.setDisplayOrigin(F.displayOriginX,F.displayOriginY);var D=F.x,V=F.y,k=F.rotation,W=F.scaleX,H=F.scaleY;if(F.parentContainer){var $=F.getWorldTransformMatrix();D=$.tx,V=$.ty,k=$.rotation,W=$.scaleX,H=$.scaleY}U.setRotation(k),U.setScale(W,H),U.setPosition(D+b*W,V+z*H),U.setScrollFactor(F.scrollFactorX,F.scrollFactorY),U.setDepth(F.depth)},X.add(U),B.hitAreaDebug=U),this},removeDebug:function(F){var I=F.input;if(I&&I.hitAreaDebug){var B=I.hitAreaDebug;this.systems.updateList.remove(B),B.destroy(),I.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(F){return this.pollRate=F,this._pollTimer=0,this},setGlobalTopOnly:function(F){return this.manager.globalTopOnly=F,this},setTopOnly:function(F){return this.topOnly=F,this},sortGameObjects:function(F,I){if(F.length<2||!I.camera)return F;var B=I.camera.renderList;return F.sort(function(G,N){var U=Math.max(B.indexOf(G),0),Y=Math.max(B.indexOf(N),0);return Y-U})},sortDropZones:function(F){return F.length<2?F:(this.scene.sys.depthSort(),F.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(F,I){if(!F.parentContainer&&!I.parentContainer)return this.displayList.getIndex(I)-this.displayList.getIndex(F);if(F.parentContainer===I.parentContainer)return I.parentContainer.getIndex(I)-F.parentContainer.getIndex(F);if(F.parentContainer===I)return-1;if(I.parentContainer===F)return 1;for(var B=F.getIndexList(),G=I.getIndexList(),N=Math.min(B.length,G.length),U=0;U<N;U++){var Y=B[U],X=G[U];if(Y!==X)return X-Y}return G.length-B.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(F){return this.manager.addPointer(F)},setDefaultCursor:function(F){return this.manager.setDefaultCursor(F),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(c.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var F=0;F<10;F++)this._drag[F]=[],this._over[F]=[];this.removeAllListeners();var I=this.manager;I.canvas.style.cursor=I.defaultCursor;var B=this.systems.events;B.off(A.TRANSITION_START,this.transitionIn,this),B.off(A.TRANSITION_OUT,this.transitionOut,this),B.off(A.TRANSITION_COMPLETE,this.transitionComplete,this),B.off(A.PRE_UPDATE,this.preUpdate,this),I.events.off(c.GAME_OUT,this.onGameOut,this),I.events.off(c.GAME_OVER,this.onGameOver,this),B.off(A.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var F=this.manager.pointers,I=0;I<F.length;I++)F[I].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(c.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(A.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});P.register("InputPlugin",L,"input"),h.exports=L},63399:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(10850),d={},s={};s.register=function(a,r,o,u,v){d[a]={plugin:r,mapping:o,settingsKey:u,configKey:v}},s.getPlugin=function(a){return d[a]},s.install=function(a){var r=a.scene.sys,o=r.settings.input,u=r.game.config;for(var v in d){var l=d[v].plugin,c=d[v].mapping,p=d[v].settingsKey,g=d[v].configKey;f(o,p,u[g])&&(a[c]=new l(a))}},s.remove=function(a){d.hasOwnProperty(a)&&delete d[a]},h.exports=s},40398:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(90447),d=e(56694),s=e(53996),a=e(88456),r=e(44521),o=e(93736),u=e(36580),v=new d({initialize:function(c,p){this.manager=c,this.id=p,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new o,this.prevPosition=new o,this.midPoint=new o(-1,-1),this.velocity=new o,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=p===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(l){var c=l.getWorldPoint(this.x,this.y);return this.worldX=c.x,this.worldY=c.y,this},positionToCamera:function(l,c){return l.getWorldPoint(this.x,this.y,c)},updateMotion:function(){var l=this.position.x,c=this.position.y,p=this.midPoint.x,g=this.midPoint.y;if(!(l===p&&c===g)){var m=r(this.motionFactor,p,l),T=r(this.motionFactor,g,c);a(m,l,.1)&&(m=l),a(T,c,.1)&&(T=c),this.midPoint.set(m,T);var S=l-m,P=c-T;this.velocity.set(S,P),this.angle=f(m,T,l,c),this.distance=Math.sqrt(S*S+P*P)}},up:function(l){"buttons"in l&&(this.buttons=l.buttons),this.event=l,this.button=l.button,this.upElement=l.target,this.manager.transformPointer(this,l.pageX,l.pageY,!1),l.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=l.timeStamp,this.wasTouch=!1)},down:function(l){"buttons"in l&&(this.buttons=l.buttons),this.event=l,this.button=l.button,this.downElement=l.target,this.manager.transformPointer(this,l.pageX,l.pageY,!1),l.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),u.macOS&&l.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=l.timeStamp),this.wasTouch=!1},move:function(l){"buttons"in l&&(this.buttons=l.buttons),this.event=l,this.manager.transformPointer(this,l.pageX,l.pageY,!0),this.locked&&(this.movementX=l.movementX||l.mozMovementX||l.webkitMovementX||0,this.movementY=l.movementY||l.mozMovementY||l.webkitMovementY||0),this.moveTime=l.timeStamp,this.wasTouch=!1},wheel:function(l){"buttons"in l&&(this.buttons=l.buttons),this.event=l,this.manager.transformPointer(this,l.pageX,l.pageY,!1),this.deltaX=l.deltaX,this.deltaY=l.deltaY,this.deltaZ=l.deltaZ,this.wasTouch=!1},touchstart:function(l,c){l.pointerId&&(this.pointerId=l.pointerId),this.identifier=l.identifier,this.target=l.target,this.active=!0,this.buttons=1,this.event=c,this.downElement=l.target,this.manager.transformPointer(this,l.pageX,l.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=c.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(l,c){this.event=c,this.manager.transformPointer(this,l.pageX,l.pageY,!0),this.moveTime=c.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(l,c){this.buttons=0,this.event=c,this.upElement=l.target,this.manager.transformPointer(this,l.pageX,l.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=c.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(l,c){this.buttons=0,this.event=c,this.upElement=l.target,this.manager.transformPointer(this,l.pageX,l.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=c.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.button===0&&!this.isDown},rightButtonReleased:function(){return this.button===2&&!this.isDown},middleButtonReleased:function(){return this.button===1&&!this.isDown},backButtonReleased:function(){return this.button===3&&!this.isDown},forwardButtonReleased:function(){return this.button===4&&!this.isDown},getDistance:function(){return this.isDown?s(this.downX,this.downY,this.x,this.y):s(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?f(this.downX,this.downY,this.x,this.y):f(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(l,c){l===void 0&&(l=10),c===void 0&&(c=[]);for(var p=this.prevPosition.x,g=this.prevPosition.y,m=this.position.x,T=this.position.y,S=0;S<l;S++){var P=1/l*S;c[S]={x:r(P,p,m),y:r(P,g,T)}}return c},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(l){this.position.x=l}},y:{get:function(){return this.position.y},set:function(l){this.position.y=l}},time:{get:function(){return this.event?this.event.timeStamp:0}}});h.exports=v},72687:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};h.exports=y},14874:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="boot"},54168:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="destroy"},526:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="dragend"},81623:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="dragenter"},94472:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="drag"},9304:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="dragleave"},34265:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="dragover"},50151:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="dragstart"},98134:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="drop"},56773:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="gameobjectdown"},45824:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="dragend"},39578:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="dragenter"},72072:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="drag"},82569:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="dragleave"},70833:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="dragover"},81442:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="dragstart"},32936:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="drop"},99658:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="gameobjectmove"},60515:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="gameobjectout"},55254:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="gameobjectover"},34782:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pointerdown"},41769:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pointermove"},65588:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pointerout"},61640:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pointerover"},49342:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pointerup"},82662:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="wheel"},13058:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="gameobjectup"},52426:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="gameobjectwheel"},78072:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="gameout"},1545:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="gameover"},67137:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="boot"},27678:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="process"},22257:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="update"},90379:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pointerlockchange"},88909:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pointerdown"},36548:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pointerdownoutside"},18483:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pointermove"},22355:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pointerout"},7997:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pointerover"},66318:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pointerup"},94812:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pointerupoutside"},37310:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="wheel"},24196:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="preupdate"},27053:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="shutdown"},29413:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="start"},25165:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="update"},33963:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={BOOT:e(14874),DESTROY:e(54168),DRAG_END:e(526),DRAG_ENTER:e(81623),DRAG:e(94472),DRAG_LEAVE:e(9304),DRAG_OVER:e(34265),DRAG_START:e(50151),DROP:e(98134),GAME_OUT:e(78072),GAME_OVER:e(1545),GAMEOBJECT_DOWN:e(56773),GAMEOBJECT_DRAG_END:e(45824),GAMEOBJECT_DRAG_ENTER:e(39578),GAMEOBJECT_DRAG:e(72072),GAMEOBJECT_DRAG_LEAVE:e(82569),GAMEOBJECT_DRAG_OVER:e(70833),GAMEOBJECT_DRAG_START:e(81442),GAMEOBJECT_DROP:e(32936),GAMEOBJECT_MOVE:e(99658),GAMEOBJECT_OUT:e(60515),GAMEOBJECT_OVER:e(55254),GAMEOBJECT_POINTER_DOWN:e(34782),GAMEOBJECT_POINTER_MOVE:e(41769),GAMEOBJECT_POINTER_OUT:e(65588),GAMEOBJECT_POINTER_OVER:e(61640),GAMEOBJECT_POINTER_UP:e(49342),GAMEOBJECT_POINTER_WHEEL:e(82662),GAMEOBJECT_UP:e(13058),GAMEOBJECT_WHEEL:e(52426),MANAGER_BOOT:e(67137),MANAGER_PROCESS:e(27678),MANAGER_UPDATE:e(22257),POINTER_DOWN:e(88909),POINTER_DOWN_OUTSIDE:e(36548),POINTER_MOVE:e(18483),POINTER_OUT:e(22355),POINTER_OVER:e(7997),POINTER_UP:e(66318),POINTER_UP_OUTSIDE:e(94812),POINTER_WHEEL:e(37310),POINTERLOCK_CHANGE:e(90379),PRE_UPDATE:e(24196),SHUTDOWN:e(27053),START:e(29413),UPDATE:e(25165)}},70848:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=new f({initialize:function(a,r){this.pad=a,this.events=a.events,this.index=r,this.value=0,this.threshold=.1},update:function(s){this.value=s},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});h.exports=d},21274:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(43200),s=new f({initialize:function(r,o){this.pad=r,this.events=r.manager,this.index=o,this.value=0,this.threshold=1,this.pressed=!1},update:function(a){this.value=a;var r=this.pad,o=this.index;a>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(d.BUTTON_DOWN,r,this,a),this.pad.emit(d.GAMEPAD_BUTTON_DOWN,o,a,this)):this.pressed&&(this.pressed=!1,this.events.emit(d.BUTTON_UP,r,this,a),this.pad.emit(d.GAMEPAD_BUTTON_UP,o,a,this))},destroy:function(){this.pad=null,this.events=null}});h.exports=s},75956:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(70848),d=e(21274),s=e(56694),a=e(6659),r=e(93736),o=new s({Extends:a,initialize:function(v,l){a.call(this),this.manager=v,this.pad=l,this.id=l.id,this.index=l.index;for(var c=[],p=0;p<l.buttons.length;p++)c.push(new d(this,p));this.buttons=c;var g=[];for(p=0;p<l.axes.length;p++)g.push(new f(this,p));this.axes=g,this.vibration=l.vibrationActuator;var m={value:0,pressed:!1};this._LCLeft=c[14]?c[14]:m,this._LCRight=c[15]?c[15]:m,this._LCTop=c[12]?c[12]:m,this._LCBottom=c[13]?c[13]:m,this._RCLeft=c[2]?c[2]:m,this._RCRight=c[1]?c[1]:m,this._RCTop=c[3]?c[3]:m,this._RCBottom=c[0]?c[0]:m,this._FBLeftTop=c[4]?c[4]:m,this._FBLeftBottom=c[6]?c[6]:m,this._FBRightTop=c[5]?c[5]:m,this._FBRightBottom=c[7]?c[7]:m;var T={value:0};this._HAxisLeft=g[0]?g[0]:T,this._VAxisLeft=g[1]?g[1]:T,this._HAxisRight=g[2]?g[2]:T,this._VAxisRight=g[3]?g[3]:T,this.leftStick=new r,this.rightStick=new r,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(u){return this.axes[u].getValue()},setAxisThreshold:function(u){for(var v=0;v<this.axes.length;v++)this.axes[v].threshold=u},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(u){return this.buttons[u].value},isButtonDown:function(u){return this.buttons[u].pressed},update:function(u){if(!(u.timestamp<this._created)){var v,l=this.buttons,c=u.buttons,p=l.length;for(v=0;v<p;v++)l[v].update(c[v].value);var g=this.axes,m=u.axes;for(p=g.length,v=0;v<p;v++)g[v].update(m[v]);p>=2&&(this.leftStick.set(g[0].getValue(),g[1].getValue()),p>=4&&this.rightStick.set(g[2].getValue(),g[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var u;for(u=0;u<this.buttons.length;u++)this.buttons[u].destroy();for(u=0;u<this.axes.length;u++)this.axes[u].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});h.exports=o},1379:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(6659),s=e(43200),a=e(75956),r=e(10850),o=e(63399),u=e(33963),v=new f({Extends:d,initialize:function(c){d.call(this),this.scene=c.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=c,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,c.pluginEvents.once(u.BOOT,this.boot,this),c.pluginEvents.on(u.START,this.start,this)},boot:function(){var l=this.scene.sys.game,c=this.settings.input,p=l.config;this.enabled=r(c,"gamepad",p.inputGamepad)&&l.device.input.gamepads,this.target=r(c,"gamepad.target",p.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(u.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(u.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var l=this,c=this.target,p=function(g){g.defaultPrevented||!l.isActive()||(l.refreshPads(),l.queue.push(g))};this.onGamepadHandler=p,c.addEventListener("gamepadconnected",p,!1),c.addEventListener("gamepaddisconnected",p,!1),this.sceneInputPlugin.pluginEvents.on(u.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(u.UPDATE,this.update);for(var l=0;l<this.gamepads.length;l++)this.gamepads[l].removeAllListeners()},disconnectAll:function(){for(var l=0;l<this.gamepads.length;l++)this.gamepads[l].pad.connected=!1},refreshPads:function(){var l=navigator.getGamepads();if(!l)this.disconnectAll();else for(var c=this.gamepads,p=0;p<l.length;p++){var g=l[p];if(g){var m=g.id,T=g.index,S=c[T];if(S)S.id!==m?(S.destroy(),c[T]=new a(this,g)):S.update(g);else{var P=new a(this,g);c[T]=P,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=P):this._pad3=P:this._pad2=P:this._pad1=P}}}},getAll:function(){for(var l=[],c=this.gamepads,p=0;p<c.length;p++)c[p]&&l.push(c[p]);return l},getPad:function(l){for(var c=this.gamepads,p=0;p<c.length;p++)if(c[p]&&c[p].index===l)return c[p]},update:function(){if(this.enabled){this.refreshPads();var l=this.queue.length;if(l!==0)for(var c=this.queue.splice(0,l),p=0;p<l;p++){var g=c[p],m=this.getPad(g.gamepad.index);g.type==="gamepadconnected"?this.emit(s.CONNECTED,m,g):g.type==="gamepaddisconnected"&&this.emit(s.DISCONNECTED,m,g)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var l=0;l<this.gamepads.length;l++)this.gamepads[l]&&this.gamepads[l].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});o.register("GamepadPlugin",v,"gamepad","gamepad","inputGamepad"),h.exports=v},33171:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},74982:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},43247:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},4898:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={DUALSHOCK_4:e(74982),SNES_USB:e(33171),XBOX_360:e(43247)}},17344:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="down"},36635:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="up"},85724:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="connected"},55832:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="disconnected"},772:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="down"},33608:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="up"},43200:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={BUTTON_DOWN:e(17344),BUTTON_UP:e(36635),CONNECTED:e(85724),DISCONNECTED:e(55832),GAMEPAD_BUTTON_DOWN:e(772),GAMEPAD_BUTTON_UP:e(33608)}},92636:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Axis:e(70848),Button:e(21274),Events:e(43200),Gamepad:e(75956),GamepadPlugin:e(1379),Configs:e(4898)}},20873:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72687),d=e(98611),s={CreatePixelPerfectHandler:e(18104),CreateInteractiveObject:e(27395),Events:e(33963),Gamepad:e(92636),InputManager:e(69898),InputPlugin:e(12499),InputPluginCache:e(63399),Keyboard:e(28388),Mouse:e(11343),Pointer:e(40398),Touch:e(77423)};s=d(!1,s,f),h.exports=s},71064:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(66458),d=e(56694),s=e(97081),a=e(33963),r=e(11873),o=e(72283),u=new d({initialize:function(l){this.manager=l,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=o,this.onKeyUp=o,l.events.once(a.MANAGER_BOOT,this.boot,this)},boot:function(){var v=this.manager.config;this.enabled=v.inputKeyboard,this.target=v.inputKeyboardEventTarget,this.addCapture(v.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(s.POST_STEP,this.postUpdate,this)},startListeners:function(){var v=this;this.onKeyDown=function(c){if(!(c.defaultPrevented||!v.enabled||!v.manager)){v.queue.push(c),v.manager.events.emit(a.MANAGER_PROCESS);var p=c.altKey||c.ctrlKey||c.shiftKey||c.metaKey;v.preventDefault&&!p&&v.captures.indexOf(c.keyCode)>-1&&c.preventDefault()}},this.onKeyUp=function(c){if(!(c.defaultPrevented||!v.enabled||!v.manager)){v.queue.push(c),v.manager.events.emit(a.MANAGER_PROCESS);var p=c.altKey||c.ctrlKey||c.shiftKey||c.metaKey;v.preventDefault&&!p&&v.captures.indexOf(c.keyCode)>-1&&c.preventDefault()}};var l=this.target;l&&(l.addEventListener("keydown",this.onKeyDown,!1),l.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var v=this.target;v.removeEventListener("keydown",this.onKeyDown,!1),v.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(v){typeof v=="string"&&(v=v.split(",")),Array.isArray(v)||(v=[v]);for(var l=this.captures,c=0;c<v.length;c++){var p=v[c];typeof p=="string"&&(p=r[p.trim().toUpperCase()]),l.indexOf(p)===-1&&l.push(p)}this.preventDefault=l.length>0},removeCapture:function(v){typeof v=="string"&&(v=v.split(",")),Array.isArray(v)||(v=[v]);for(var l=this.captures,c=0;c<v.length;c++){var p=v[c];typeof p=="string"&&(p=r[p.toUpperCase()]),f(l,p)}this.preventDefault=l.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(s.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});h.exports=u},89666:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(6659),s=e(94030),a=e(97081),r=e(10850),o=e(33963),u=e(63399),v=e(50165),l=e(11873),c=e(95625),p=e(48044),g=e(7599),m=e(84314),T=new f({Extends:d,initialize:function(P){d.call(this),this.game=P.systems.game,this.scene=P.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=P,this.manager=P.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,P.pluginEvents.once(o.BOOT,this.boot,this),P.pluginEvents.on(o.START,this.start,this)},boot:function(){var S=this.settings.input;this.enabled=r(S,"keyboard",!0);var P=r(S,"keyboard.capture",null);P&&this.addCaptures(P),this.sceneInputPlugin.pluginEvents.once(o.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(o.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(o.SHUTDOWN,this.shutdown,this),this.game.events.on(a.BLUR,this.resetKeys,this),this.scene.sys.events.on(g.PAUSE,this.resetKeys,this),this.scene.sys.events.on(g.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(S){return this.manager.addCapture(S),this},removeCapture:function(S){return this.manager.removeCapture(S),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:l.UP,down:l.DOWN,left:l.LEFT,right:l.RIGHT,space:l.SPACE,shift:l.SHIFT})},addKeys:function(S,P,E){P===void 0&&(P=!0),E===void 0&&(E=!1);var R={};if(typeof S=="string"){S=S.split(",");for(var A=0;A<S.length;A++){var w=S[A].trim();w&&(R[w]=this.addKey(w,P,E))}}else for(var O in S)R[O]=this.addKey(S[O],P,E);return R},addKey:function(S,P,E){P===void 0&&(P=!0),E===void 0&&(E=!1);var R=this.keys;if(S instanceof v){var A=R.indexOf(S);return A>-1?R[A]=S:R[S.keyCode]=S,P&&this.addCapture(S.keyCode),S.setEmitOnRepeat(E),S}return typeof S=="string"&&(S=l[S.toUpperCase()]),R[S]||(R[S]=new v(this,S),P&&this.addCapture(S),R[S].setEmitOnRepeat(E)),R[S]},removeKey:function(S,P,E){P===void 0&&(P=!1),E===void 0&&(E=!1);var R=this.keys,A;if(S instanceof v){var w=R.indexOf(S);w>-1&&(A=this.keys[w],this.keys[w]=void 0)}else typeof S=="string"&&(S=l[S.toUpperCase()]);return R[S]&&(A=R[S],R[S]=void 0),A&&(A.plugin=null,E&&this.removeCapture(A.keyCode),P&&A.destroy()),this},removeAllKeys:function(S,P){S===void 0&&(S=!1),P===void 0&&(P=!1);for(var E=this.keys,R=0;R<E.length;R++){var A=E[R];A&&(E[R]=void 0,P&&this.removeCapture(A.keyCode),S&&A.destroy())}return this},createCombo:function(S,P){return new c(this,S,P)},checkDown:function(S,P){if(P===void 0&&(P=0),this.enabled&&S.isDown){var E=m(this.time-S.timeDown,P);if(E>S._tick)return S._tick=E,!0}return!1},update:function(){var S=this.manager.queue,P=S.length;if(!(!this.isActive()||P===0))for(var E=this.keys,R=0;R<P;R++){var A=S[R],w=A.keyCode,O=E[w],L=!1;A.cancelled===void 0&&(A.cancelled=0,A.stopImmediatePropagation=function(){A.cancelled=1},A.stopPropagation=function(){A.cancelled=-1}),A.cancelled!==-1&&(w===this.prevCode&&A.timeStamp===this.prevTime&&A.type===this.prevType||(this.prevCode=w,this.prevTime=A.timeStamp,this.prevType=A.type,A.type==="keydown"?(O&&(L=O.isDown,O.onDown(A)),!A.cancelled&&(!O||!L)&&(p[w]&&this.emit(s.KEY_DOWN+p[w],A),A.cancelled||this.emit(s.ANY_KEY_DOWN,A))):(O&&O.onUp(A),A.cancelled||(p[w]&&this.emit(s.KEY_UP+p[w],A),A.cancelled||this.emit(s.ANY_KEY_UP,A))),A.cancelled===1&&(A.cancelled=0)))}},resetKeys:function(){for(var S=this.keys,P=0;P<S.length;P++)S[P]&&S[P].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(o.MANAGER_PROCESS,this.update,this),this.game.events.off(a.BLUR,this.resetKeys),this.scene.sys.events.off(g.PAUSE,this.resetKeys,this),this.scene.sys.events.off(g.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var S=this.keys,P=0;P<S.length;P++)S[P]&&S[P].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});u.register("KeyboardPlugin",T,"keyboard","keyboard","inputKeyboard"),h.exports=T},60258:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return f.timeLastMatched=e.timeStamp,f.index++,f.index===f.size?!0:(f.current=f.keyCodes[f.index],!1)};h.exports=y},95625:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(94030),s=e(72632),a=e(2544),r=e(88754),o=new f({initialize:function(v,l,c){if(c===void 0&&(c={}),l.length<2)return!1;this.manager=v,this.enabled=!0,this.keyCodes=[];for(var p=0;p<l.length;p++){var g=l[p];typeof g=="string"?this.keyCodes.push(g.toUpperCase().charCodeAt(0)):typeof g=="number"?this.keyCodes.push(g):g.hasOwnProperty("keyCode")&&this.keyCodes.push(g.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=s(c,"resetOnWrongKey",!0),this.maxKeyDelay=s(c,"maxKeyDelay",0),this.resetOnMatch=s(c,"resetOnMatch",!1),this.deleteOnMatch=s(c,"deleteOnMatch",!1);var m=this,T=function(S){if(!(m.matched||!m.enabled)){var P=a(S,m);P&&(m.manager.emit(d.COMBO_MATCH,m,S),m.resetOnMatch?r(m):m.deleteOnMatch&&m.destroy())}};this.onKeyDown=T,this.manager.on(d.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(d.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});h.exports=o},2544:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(60258),d=function(s,a){if(a.matched)return!0;var r=!1,o=!1;if(s.keyCode===a.current)if(a.index>0&&a.maxKeyDelay>0){var u=a.timeLastMatched+a.maxKeyDelay;s.timeStamp<=u&&(o=!0,r=f(s,a))}else o=!0,r=f(s,a);return!o&&a.resetOnWrongKey&&(a.index=0,a.current=a.keyCodes[0]),r&&(a.timeLastMatched=s.timeStamp,a.matched=!0,a.timeMatched=s.timeStamp),r};h.exports=d},88754:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.current=e.keyCodes[0],e.index=0,e.timeLastMatched=0,e.matched=!1,e.timeMatched=0,e};h.exports=y},5044:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="keydown"},40813:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="keyup"},89319:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="keycombomatch"},43267:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="down"},78595:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="keydown-"},30056:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="keyup-"},81939:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="up"},94030:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={ANY_KEY_DOWN:e(5044),ANY_KEY_UP:e(40813),COMBO_MATCH:e(89319),DOWN:e(43267),KEY_DOWN:e(78595),KEY_UP:e(30056),UP:e(81939)}},28388:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Events:e(94030),KeyboardManager:e(71064),KeyboardPlugin:e(89666),Key:e(50165),KeyCodes:e(11873),KeyCombo:e(95625),AdvanceKeyCombo:e(60258),ProcessKeyCombo:e(2544),ResetKeyCombo:e(88754),JustDown:e(42460),JustUp:e(53162),DownDuration:e(64964),UpDuration:e(70331)}},64964:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){f===void 0&&(f=50);var d=e.plugin.game.loop.time-e.timeDown;return e.isDown&&d<f};h.exports=y},42460:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e._justDown?(e._justDown=!1,!0):!1};h.exports=y},53162:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e._justUp?(e._justUp=!1,!0):!1};h.exports=y},50165:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(6659),s=e(94030),a=new f({Extends:d,initialize:function(o,u){d.call(this),this.plugin=o,this.keyCode=u,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(r){return this.emitOnRepeat=r,this},onDown:function(r){this.originalEvent=r,this.enabled&&(this.altKey=r.altKey,this.ctrlKey=r.ctrlKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.location=r.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(s.DOWN,this,r):(this.isDown=!0,this.isUp=!1,this.timeDown=r.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(s.DOWN,this,r)))},onUp:function(r){this.originalEvent=r,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=r.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(s.UP,this,r))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});h.exports=a},11873:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};h.exports=y},48044:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(11873),d={};for(var s in f)d[f[s]]=s;h.exports=d},70331:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){f===void 0&&(f=50);var d=e.plugin.game.loop.time-e.timeUp;return e.isUp&&d<f};h.exports=y},7905:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(90185),s=e(33963),a=e(72283),r=new f({initialize:function(u){this.manager=u,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=a,this.onMouseDown=a,this.onMouseUp=a,this.onMouseDownWindow=a,this.onMouseUpWindow=a,this.onMouseOver=a,this.onMouseOut=a,this.onMouseWheel=a,this.pointerLockChange=a,this.isTop=!0,u.events.once(s.MANAGER_BOOT,this.boot,this)},boot:function(){var o=this.manager.config;this.enabled=o.inputMouse,this.target=o.inputMouseEventTarget,this.passive=o.inputMousePassive,this.preventDefaultDown=o.inputMousePreventDefaultDown,this.preventDefaultUp=o.inputMousePreventDefaultUp,this.preventDefaultMove=o.inputMousePreventDefaultMove,this.preventDefaultWheel=o.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,o.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(o){return o.preventDefault(),!1}),this},requestPointerLock:function(){if(d.pointerLock){var o=this.target;o.requestPointerLock=o.requestPointerLock||o.mozRequestPointerLock||o.webkitRequestPointerLock,o.requestPointerLock()}},releasePointerLock:function(){d.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var o=this.target;if(o){var u=this,v=this.manager,l=v.canvas,c=window&&window.focus&&v.game.config.autoFocus;this.onMouseMove=function(g){!g.defaultPrevented&&u.enabled&&v&&v.enabled&&(v.onMouseMove(g),u.preventDefaultMove&&g.preventDefault())},this.onMouseDown=function(g){c&&window.focus(),!g.defaultPrevented&&u.enabled&&v&&v.enabled&&(v.onMouseDown(g),u.preventDefaultDown&&g.target===l&&g.preventDefault())},this.onMouseDownWindow=function(g){!g.defaultPrevented&&u.enabled&&v&&v.enabled&&g.target!==l&&v.onMouseDown(g)},this.onMouseUp=function(g){!g.defaultPrevented&&u.enabled&&v&&v.enabled&&(v.onMouseUp(g),u.preventDefaultUp&&g.target===l&&g.preventDefault())},this.onMouseUpWindow=function(g){!g.defaultPrevented&&u.enabled&&v&&v.enabled&&g.target!==l&&v.onMouseUp(g)},this.onMouseOver=function(g){!g.defaultPrevented&&u.enabled&&v&&v.enabled&&v.setCanvasOver(g)},this.onMouseOut=function(g){!g.defaultPrevented&&u.enabled&&v&&v.enabled&&v.setCanvasOut(g)},this.onMouseWheel=function(g){!g.defaultPrevented&&u.enabled&&v&&v.enabled&&v.onMouseWheel(g),u.preventDefaultWheel&&g.target===l&&g.preventDefault()};var p={passive:!0};if(o.addEventListener("mousemove",this.onMouseMove),o.addEventListener("mousedown",this.onMouseDown),o.addEventListener("mouseup",this.onMouseUp),o.addEventListener("mouseover",this.onMouseOver,p),o.addEventListener("mouseout",this.onMouseOut,p),this.preventDefaultWheel?o.addEventListener("wheel",this.onMouseWheel,{passive:!1}):o.addEventListener("wheel",this.onMouseWheel,p),window&&v.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,p),window.top.addEventListener("mouseup",this.onMouseUpWindow,p)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,p),window.addEventListener("mouseup",this.onMouseUpWindow,p),this.isTop=!1}d.pointerLock&&(this.pointerLockChange=function(g){var m=u.target;u.locked=document.pointerLockElement===m||document.mozPointerLockElement===m||document.webkitPointerLockElement===m,v.onPointerLockChange(g)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var o=this.target;o.removeEventListener("mousemove",this.onMouseMove),o.removeEventListener("mousedown",this.onMouseDown),o.removeEventListener("mouseup",this.onMouseUp),o.removeEventListener("mouseover",this.onMouseOver),o.removeEventListener("mouseout",this.onMouseOut),window&&(o=this.isTop?window.top:window,o.removeEventListener("mousedown",this.onMouseDownWindow),o.removeEventListener("mouseup",this.onMouseUpWindow)),d.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});h.exports=r},11343:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={MouseManager:e(7905)}},37579:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(33963),s=e(72283),a=new f({initialize:function(o){this.manager=o,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=s,this.onTouchStartWindow=s,this.onTouchMove=s,this.onTouchEnd=s,this.onTouchEndWindow=s,this.onTouchCancel=s,this.onTouchCancelWindow=s,this.isTop=!0,o.events.once(d.MANAGER_BOOT,this.boot,this)},boot:function(){var r=this.manager.config;this.enabled=r.inputTouch,this.target=r.inputTouchEventTarget,this.capture=r.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,r.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(r){return r.preventDefault(),!1}),this},startListeners:function(){var r=this.target;if(r){var o=this,u=this.manager,v=u.canvas,l=window&&window.focus&&u.game.config.autoFocus;this.onTouchMove=function(m){!m.defaultPrevented&&o.enabled&&u&&u.enabled&&(u.onTouchMove(m),o.capture&&m.cancelable&&m.preventDefault())},this.onTouchStart=function(m){l&&window.focus(),!m.defaultPrevented&&o.enabled&&u&&u.enabled&&(u.onTouchStart(m),o.capture&&m.cancelable&&m.target===v&&m.preventDefault())},this.onTouchStartWindow=function(m){!m.defaultPrevented&&o.enabled&&u&&u.enabled&&m.target!==v&&u.onTouchStart(m)},this.onTouchEnd=function(m){!m.defaultPrevented&&o.enabled&&u&&u.enabled&&(u.onTouchEnd(m),o.capture&&m.cancelable&&m.target===v&&m.preventDefault())},this.onTouchEndWindow=function(m){!m.defaultPrevented&&o.enabled&&u&&u.enabled&&m.target!==v&&u.onTouchEnd(m)},this.onTouchCancel=function(m){!m.defaultPrevented&&o.enabled&&u&&u.enabled&&(u.onTouchCancel(m),o.capture&&m.preventDefault())},this.onTouchCancelWindow=function(m){!m.defaultPrevented&&o.enabled&&u&&u.enabled&&u.onTouchCancel(m)};var c=this.capture,p={passive:!0},g={passive:!1};if(r.addEventListener("touchstart",this.onTouchStart,c?g:p),r.addEventListener("touchmove",this.onTouchMove,c?g:p),r.addEventListener("touchend",this.onTouchEnd,c?g:p),r.addEventListener("touchcancel",this.onTouchCancel,c?g:p),window&&u.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,g),window.top.addEventListener("touchend",this.onTouchEndWindow,g),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,g)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,g),window.addEventListener("touchend",this.onTouchEndWindow,g),window.addEventListener("touchcancel",this.onTouchCancelWindow,g),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var r=this.target;r.removeEventListener("touchstart",this.onTouchStart),r.removeEventListener("touchmove",this.onTouchMove),r.removeEventListener("touchend",this.onTouchEnd),r.removeEventListener("touchcancel",this.onTouchCancel),window&&(r=this.isTop?window.top:window,r.removeEventListener("touchstart",this.onTouchStartWindow),r.removeEventListener("touchend",this.onTouchEndWindow),r.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});h.exports=a},77423:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={TouchManager:e(37579)}},98035:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(12117),s=e(683),a=e(72632),r=e(30750),o=e(43531),u=e(88490),v=e(33868),l=new f({initialize:function(p,g){if(this.loader=p,this.cache=a(g,"cache",!1),this.type=a(g,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=a(g,"key",!1);var m=this.key;if(p.prefix&&p.prefix!==""&&(this.key=p.prefix+m),!this.key)throw new Error("Invalid File key: "+this.key);var T=a(g,"url");T===void 0?T=p.path+m+"."+a(g,"extension",""):typeof T=="string"&&!T.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(T=p.path+T),this.url=T,this.src="",this.xhrSettings=v(a(g,"responseType",void 0)),a(g,"xhrSettings",!1)&&(this.xhrSettings=o(this.xhrSettings,a(g,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?d.FILE_POPULATED:d.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=a(g,"config",{}),this.multiFile,this.linkFile},setLink:function(c){this.linkFile=c,c.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===d.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=d.FILE_LOADING,this.src=r(this,this.loader.baseURL),this.src.indexOf("data:")===0?console.warn("Local data URIs are not supported: "+this.key):this.xhrLoader=u(this,this.loader.xhr))},onLoad:function(c,p){var g=c.responseURL&&this.loader.localSchemes.some(function(S){return c.responseURL.indexOf(S)===0}),m=g&&p.target.status===0,T=!(p.target&&p.target.status!==200)||m;c.readyState===4&&c.status>=400&&c.status<=599&&(T=!1),this.state=d.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,T)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(c){c.lengthComputable&&(this.bytesLoaded=c.loaded,this.bytesTotal=c.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(s.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=d.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=d.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=d.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(c){if(this.state!==d.FILE_PENDING_DESTROY){c===void 0&&(c=this.data);var p=this.key,g=this.type;this.loader.emit(s.FILE_COMPLETE,p,g,c),this.loader.emit(s.FILE_KEY_COMPLETE+g+"-"+p,p,g,c),this.loader.flagForRemoval(this),this.state=d.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});l.createObjectURL=function(c,p,g){if(typeof URL=="function")c.src=URL.createObjectURL(p);else{var m=new FileReader;m.onload=function(){c.removeAttribute("crossOrigin"),c.src="data:"+(p.type||g)+";base64,"+m.result.split(",")[1]},m.onerror=c.onerror,m.readAsDataURL(p)}},l.revokeObjectURL=function(c){typeof URL=="function"&&URL.revokeObjectURL(c.src)},h.exports=l},76846:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={},e={install:function(f){for(var d in y)f[d]=y[d]},register:function(f,d){y[f]=d},destroy:function(){y={}}};h.exports=e},30750:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e.url?e.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?e.url:f+e.url:!1};h.exports=y},67285:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(12117),s=e(58403),a=e(6659),r=e(683),o=e(76846),u=e(72632),v=e(10850),l=e(91963),c=e(7599),p=e(33868),g=new f({Extends:a,initialize:function(T){a.call(this);var S=T.sys.game.config,P=T.sys.settings.loader;this.scene=T,this.systems=T.sys,this.cacheManager=T.sys.cache,this.textureManager=T.sys.textures,this.sceneManager=T.sys.game.scene,o.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(u(P,"baseURL",S.loaderBaseURL)),this.setPath(u(P,"path",S.loaderPath)),this.setPrefix(u(P,"prefix",S.loaderPrefix)),this.maxParallelDownloads=u(P,"maxParallelDownloads",S.loaderMaxParallelDownloads),this.xhr=p(u(P,"responseType",S.loaderResponseType),u(P,"async",S.loaderAsync),u(P,"user",S.loaderUser),u(P,"password",S.loaderPassword),u(P,"timeout",S.loaderTimeout),u(P,"withCredentials",S.loaderWithCredentials)),this.crossOrigin=u(P,"crossOrigin",S.loaderCrossOrigin),this.imageLoadType=u(P,"imageLoadType",S.loaderImageLoadType),this.localSchemes=u(P,"localScheme",S.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new s,this.inflight=new s,this.queue=new s,this._deleteQueue=new s,this.totalFailed=0,this.totalComplete=0,this.state=d.LOADER_IDLE,this.multiKeyIndex=0,T.sys.events.once(c.BOOT,this.boot,this),T.sys.events.on(c.START,this.pluginStart,this)},boot:function(){this.systems.events.once(c.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(c.SHUTDOWN,this.shutdown,this)},setBaseURL:function(m){return m===void 0&&(m=""),m!==""&&m.substr(-1)!=="/"&&(m=m.concat("/")),this.baseURL=m,this},setPath:function(m){return m===void 0&&(m=""),m!==""&&m.substr(-1)!=="/"&&(m=m.concat("/")),this.path=m,this},setPrefix:function(m){return m===void 0&&(m=""),this.prefix=m,this},setCORS:function(m){return this.crossOrigin=m,this},addFile:function(m){Array.isArray(m)||(m=[m]);for(var T=0;T<m.length;T++){var S=m[T];this.keyExists(S)||(this.list.set(S),this.emit(r.ADD,S.key,S.type,this,S),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(m){var T=m.hasCacheConflict();return T||this.list.iterate(function(S){if(S.type===m.type&&S.key===m.key)return T=!0,!1}),!T&&this.isLoading()&&(this.inflight.iterate(function(S){if(S.type===m.type&&S.key===m.key)return T=!0,!1}),this.queue.iterate(function(S){if(S.type===m.type&&S.key===m.key)return T=!0,!1})),T},addPack:function(m,T){if(typeof T=="string"){var S=v(m,T);S&&(m={packKey:S})}var P=0,E=this.baseURL,R=this.path,A=this.prefix;for(var w in m)if(Object.prototype.hasOwnProperty.call(m,w)){var O=m[w],L=u(O,"baseURL",E),F=u(O,"path",R),I=u(O,"prefix",A),B=u(O,"files",null),G=u(O,"defaultType","void");if(Array.isArray(B)){this.setBaseURL(L),this.setPath(F),this.setPrefix(I);for(var N=0;N<B.length;N++){var U=B[N],Y=U.hasOwnProperty("type")?U.type:G;this[Y]&&(this[Y](U),P++)}}}return this.setBaseURL(E),this.setPath(R),this.setPrefix(A),P>0},isLoading:function(){return this.state===d.LOADER_LOADING||this.state===d.LOADER_PROCESSING},isReady:function(){return this.state===d.LOADER_IDLE||this.state===d.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(r.START,this),this.list.size===0?this.loadComplete():(this.state=d.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(c.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(r.PROGRESS,this.progress)},update:function(){this.state===d.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(m){if((m.state===d.FILE_POPULATED||m.state===d.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(m),this.list.delete(m),m.crossOrigin||(m.crossOrigin=this.crossOrigin),m.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(m,T){this.inflight&&(this.inflight.delete(m),this.updateProgress(),T?(this.totalComplete++,this.queue.set(m),this.emit(r.FILE_LOAD,m),m.onProcess()):(this.totalFailed++,this._deleteQueue.set(m),this.emit(r.FILE_LOAD_ERROR,m),this.fileProcessComplete(m)))},fileProcessComplete:function(m){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(m.state===d.FILE_ERRORED?m.multiFile&&m.multiFile.onFileFailed(m):m.state===d.FILE_COMPLETE&&(m.multiFile?m.multiFile.isReadyToProcess()&&(m.multiFile.addToCache(),m.multiFile.pendingDestroy()):(m.addToCache(),m.pendingDestroy())),this.queue.delete(m),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(r.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=d.LOADER_COMPLETE,this.systems.events.off(c.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(r.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(m){this._deleteQueue.set(m)},saveJSON:function(m,T){return this.save(JSON.stringify(m),T)},save:function(m,T,S){T===void 0&&(T="file.json"),S===void 0&&(S="application/json");var P=new Blob([m],{type:S}),E=URL.createObjectURL(P),R=document.createElement("a");return R.download=T,R.textContent="Download "+T,R.href=E,R.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var m=this.systems.game.config,T=this.systems.settings.loader;this.setBaseURL(u(T,"baseURL",m.loaderBaseURL)),this.setPath(u(T,"path",m.loaderPath)),this.setPrefix(u(T,"prefix",m.loaderPrefix)),this.state=d.LOADER_IDLE},shutdown:function(){this.reset(),this.state=d.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(c.UPDATE,this.update,this),this.systems.events.off(c.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=d.LOADER_DESTROYED,this.systems.events.off(c.UPDATE,this.update,this),this.systems.events.off(c.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});l.register("Loader",g,"load"),h.exports=g},43531:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(98611),d=e(33868),s=function(a,r){var o=a===void 0?d():f({},a);if(r)for(var u in r)r[u]!==void 0&&(o[u]=r[u]);return o};h.exports=s},45176:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(12117),s=e(683),a=new f({initialize:function(o,u,v,l){var c=[];l.forEach(function(m){m&&c.push(m)}),this.loader=o,this.type=u,this.key=v;var p=this.key;o.prefix&&o.prefix!==""&&(this.key=o.prefix+p),this.multiKeyIndex=o.multiKeyIndex++,this.files=c,this.state=d.FILE_PENDING,this.complete=!1,this.pending=c.length,this.failed=0,this.config={},this.baseURL=o.baseURL,this.path=o.path,this.prefix=o.prefix;for(var g=0;g<c.length;g++)c[g].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(r){return this.files.push(r),r.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(r){var o=this.files.indexOf(r);o!==-1&&this.pending--},onFileFailed:function(r){var o=this.files.indexOf(r);o!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,r.type,r.key))},pendingDestroy:function(){if(this.state!==d.FILE_PENDING_DESTROY){var r=this.key,o=this.type;this.loader.emit(s.FILE_COMPLETE,r,o),this.loader.emit(s.FILE_KEY_COMPLETE+o+"-"+r,r,o),this.loader.flagForRemoval(this);for(var u=0;u<this.files.length;u++)this.files[u].pendingDestroy();this.state=d.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});h.exports=a},88490:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(43531),d=function(s,a){var r=f(a,s.xhrSettings),o=new XMLHttpRequest;if(o.open("GET",s.src,r.async,r.user,r.password),o.responseType=s.xhrSettings.responseType,o.timeout=r.timeout,r.headers)for(var u in r.headers)o.setRequestHeader(u,r.headers[u]);return r.header&&r.headerValue&&o.setRequestHeader(r.header,r.headerValue),r.requestedWith&&o.setRequestHeader("X-Requested-With",r.requestedWith),r.overrideMimeType&&o.overrideMimeType(r.overrideMimeType),r.withCredentials&&(o.withCredentials=!0),o.onload=s.onLoad.bind(s,o),o.onerror=s.onError.bind(s,o),o.onprogress=s.onProgress.bind(s),o.send(),o};h.exports=d},33868:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s,a,r){return e===void 0&&(e=""),f===void 0&&(f=!0),d===void 0&&(d=""),s===void 0&&(s=""),a===void 0&&(a=0),r===void 0&&(r=!1),{responseType:e,async:f,user:d,password:s,timeout:a,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:r}};h.exports=y},12117:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};h.exports=y},7398:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="addfile"},52187:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="complete"},36627:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="filecomplete"},81925:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="filecomplete-"},29774:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="loaderror"},20943:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="load"},74693:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="fileprogress"},71176:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="postprocess"},88984:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="progress"},72753:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="start"},683:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={ADD:e(7398),COMPLETE:e(52187),FILE_COMPLETE:e(36627),FILE_KEY_COMPLETE:e(81925),FILE_LOAD_ERROR:e(29774),FILE_LOAD:e(20943),FILE_PROGRESS:e(74693),POST_PROCESS:e(71176),PROGRESS:e(88984),START:e(72753)}},46468:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(76846),s=e(70806),a=e(683),r=new f({Extends:s,initialize:function(u,v,l,c,p){s.call(this,u,v,l,c,p),this.type="animationJSON"},onProcess:function(){this.loader.once(a.POST_PROCESS,this.onLoadComplete,this),s.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});d.register("animation",function(o,u,v,l){if(Array.isArray(o))for(var c=0;c<o.length;c++)this.addFile(new r(this,o[c]));else this.addFile(new r(this,o,u,l,v));return this}),h.exports=r},31648:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(76846),s=e(72632),a=e(42927),r=e(42911),o=e(70806),u=e(45176),v=new f({Extends:u,initialize:function(c,p,g,m,T,S){var P,E;if(r(p)){var R=p;p=s(R,"key"),P=new a(c,{key:p,url:s(R,"textureURL"),extension:s(R,"textureExtension","png"),normalMap:s(R,"normalMap"),xhrSettings:s(R,"textureXhrSettings")}),E=new o(c,{key:p,url:s(R,"atlasURL"),extension:s(R,"atlasExtension","json"),xhrSettings:s(R,"atlasXhrSettings")})}else P=new a(c,p,g,T),E=new o(c,p,m,S);P.linkFile?u.call(this,c,"atlasjson",p,[P,E,P.linkFile]):u.call(this,c,"atlasjson",p,[P,E])},addToCache:function(){if(this.isReadyToProcess()){var l=this.files[0],c=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(l.key,l.data,c.data,p),c.addToCache(),this.complete=!0}}});d.register("aseprite",function(l,c,p,g,m){var T;if(Array.isArray(l))for(var S=0;S<l.length;S++)T=new v(this,l[S]),this.addFile(T.files);else T=new v(this,l,c,p,g,m),this.addFile(T.files);return this}),h.exports=v},73152:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(76846),s=e(72632),a=e(42927),r=e(42911),o=e(70806),u=e(45176),v=new f({Extends:u,initialize:function(c,p,g,m,T,S){var P,E;if(r(p)){var R=p;p=s(R,"key"),P=new a(c,{key:p,url:s(R,"textureURL"),extension:s(R,"textureExtension","png"),normalMap:s(R,"normalMap"),xhrSettings:s(R,"textureXhrSettings")}),E=new o(c,{key:p,url:s(R,"atlasURL"),extension:s(R,"atlasExtension","json"),xhrSettings:s(R,"atlasXhrSettings")})}else P=new a(c,p,g,T),E=new o(c,p,m,S);P.linkFile?u.call(this,c,"atlasjson",p,[P,E,P.linkFile]):u.call(this,c,"atlasjson",p,[P,E])},addToCache:function(){if(this.isReadyToProcess()){var l=this.files[0],c=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(l.key,l.data,c.data,p),this.complete=!0}}});d.register("atlas",function(l,c,p,g,m){var T;if(Array.isArray(l))for(var S=0;S<l.length;S++)T=new v(this,l[S]),this.addFile(T.files);else T=new v(this,l,c,p,g,m),this.addFile(T.files);return this}),h.exports=v},24616:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(76846),s=e(72632),a=e(42927),r=e(42911),o=e(45176),u=e(15297),v=new f({Extends:o,initialize:function(c,p,g,m,T,S){var P,E;if(r(p)){var R=p;p=s(R,"key"),P=new a(c,{key:p,url:s(R,"textureURL"),extension:s(R,"textureExtension","png"),normalMap:s(R,"normalMap"),xhrSettings:s(R,"textureXhrSettings")}),E=new u(c,{key:p,url:s(R,"atlasURL"),extension:s(R,"atlasExtension","xml"),xhrSettings:s(R,"atlasXhrSettings")})}else P=new a(c,p,g,T),E=new u(c,p,m,S);P.linkFile?o.call(this,c,"atlasxml",p,[P,E,P.linkFile]):o.call(this,c,"atlasxml",p,[P,E])},addToCache:function(){if(this.isReadyToProcess()){var l=this.files[0],c=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(l.key,l.data,c.data,p),this.complete=!0}}});d.register("atlasXML",function(l,c,p,g,m){var T;if(Array.isArray(l))for(var S=0;S<l.length;S++)T=new v(this,l[S]),this.addFile(T.files);else T=new v(this,l,c,p,g,m),this.addFile(T.files);return this}),h.exports=v},67448:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(12117),s=e(98035),a=e(76846),r=e(72632),o=e(30929),u=e(42911),v=new f({Extends:s,initialize:function(c,p,g,m,T){if(u(p)){var S=p;p=r(S,"key"),m=r(S,"xhrSettings"),T=r(S,"context",T)}var P={type:"audio",cache:c.cacheManager.audio,extension:g.type,responseType:"arraybuffer",key:p,url:g.url,xhrSettings:m,config:{context:T}};s.call(this,c,P)},onProcess:function(){this.state=d.FILE_PROCESSING;var l=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(c){l.data=c,l.onProcessComplete()},function(c){console.error("Error decoding audio: "+l.key+" - ",c?c.message:null),l.onProcessError()}),this.config.context=null}});v.create=function(l,c,p,g,m){var T=l.systems.game,S=T.config.audio,P=T.device.audio;u(c)&&(p=r(c,"url",[]),g=r(c,"config",{}));var E=v.getAudioURL(T,p);return E?P.webAudio&&!S.disableWebAudio?new v(l,c,E,m,T.sound.context):new o(l,c,E,g):(console.warn('No audio URLs for "%s" matched this device',c),null)},v.getAudioURL=function(l,c){Array.isArray(c)||(c=[c]);for(var p=0;p<c.length;p++){var g=r(c[p],"url",c[p]);if(g.indexOf("blob:")===0||g.indexOf("data:")===0)return{url:g,type:""};var m=g.match(/\.([a-zA-Z0-9]+)($|\?)/);if(m=r(c[p],"type",m?m[1]:"").toLowerCase(),l.device.audio[m])return{url:g,type:m}}return null},a.register("audio",function(l,c,p,g){var m=this.systems.game,T=m.config.audio,S=m.device.audio;if(T.noAudio||!S.webAudio&&!S.audioData)return this;var P;if(Array.isArray(l))for(var E=0;E<l.length;E++)P=v.create(this,l[E]),P&&this.addFile(P);else P=v.create(this,l,c,p,g),P&&this.addFile(P);return this}),h.exports=v},66109:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(67448),d=e(56694),s=e(76846),a=e(72632),r=e(42911),o=e(70806),u=e(45176),v=new d({Extends:u,initialize:function(c,p,g,m,T,S,P){if(r(p)){var E=p;p=a(E,"key"),g=a(E,"jsonURL"),m=a(E,"audioURL"),T=a(E,"audioConfig"),S=a(E,"audioXhrSettings"),P=a(E,"jsonXhrSettings")}var R;if(!m)R=new o(c,p,g,P),u.call(this,c,"audiosprite",p,[R]),this.config.resourceLoad=!0,this.config.audioConfig=T,this.config.audioXhrSettings=S;else{var A=f.create(c,p,m,T,S);A&&(R=new o(c,p,g,P),u.call(this,c,"audiosprite",p,[A,R]),this.config.resourceLoad=!1)}},onFileComplete:function(l){var c=this.files.indexOf(l);if(c!==-1&&(this.pending--,this.config.resourceLoad&&l.type==="json"&&l.data.hasOwnProperty("resources"))){var p=l.data.resources,g=a(this.config,"audioConfig"),m=a(this.config,"audioXhrSettings"),T=f.create(this.loader,l.key,p,g,m);T&&(this.addToMultiFile(T),this.loader.addFile(T))}},addToCache:function(){if(this.isReadyToProcess()){var l=this.files[0],c=this.files[1];l.addToCache(),c.addToCache(),this.complete=!0}}});s.register("audioSprite",function(l,c,p,g,m,T){var S=this.systems.game,P=S.config.audio,E=S.device.audio;if(P&&P.noAudio||!E.webAudio&&!E.audioData)return this;var R;if(Array.isArray(l))for(var A=0;A<l.length;A++)R=new v(this,l[A]),R.files&&this.addFile(R.files);else R=new v(this,l,c,p,g,m,T),R.files&&this.addFile(R.files);return this})},40612:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(12117),s=e(98035),a=e(76846),r=e(72632),o=e(42911),u=new f({Extends:s,initialize:function(l,c,p,g,m){var T="bin";if(o(c)){var S=c;c=r(S,"key"),p=r(S,"url"),g=r(S,"xhrSettings"),T=r(S,"extension",T),m=r(S,"dataType",m)}var P={type:"binary",cache:l.cacheManager.binary,extension:T,responseType:"arraybuffer",key:c,url:p,xhrSettings:g,config:{dataType:m}};s.call(this,l,P)},onProcess:function(){this.state=d.FILE_PROCESSING;var v=this.config.dataType;this.data=v?new v(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});a.register("binary",function(v,l,c,p){if(Array.isArray(v))for(var g=0;g<v.length;g++)this.addFile(new u(this,v[g]));else this.addFile(new u(this,v,l,p,c));return this}),h.exports=u},54565:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(76846),s=e(72632),a=e(42927),r=e(42911),o=e(45176),u=e(31476),v=e(15297),l=new f({Extends:o,initialize:function(p,g,m,T,S,P){var E,R;if(r(g)){var A=g;g=s(A,"key"),E=new a(p,{key:g,url:s(A,"textureURL"),extension:s(A,"textureExtension","png"),normalMap:s(A,"normalMap"),xhrSettings:s(A,"textureXhrSettings")}),R=new v(p,{key:g,url:s(A,"fontDataURL"),extension:s(A,"fontDataExtension","xml"),xhrSettings:s(A,"fontDataXhrSettings")})}else E=new a(p,g,m,S),R=new v(p,g,T,P);E.linkFile?o.call(this,p,"bitmapfont",g,[E,R,E.linkFile]):o.call(this,p,"bitmapfont",g,[E,R])},addToCache:function(){if(this.isReadyToProcess()){var c=this.files[0],p=this.files[1];c.addToCache();var g=c.cache.get(c.key),m=u(p.data,c.cache.getFrame(c.key),0,0,g);this.loader.cacheManager.bitmapFont.add(c.key,{data:m,texture:c.key,frame:null}),this.complete=!0}}});d.register("bitmapFont",function(c,p,g,m,T){var S;if(Array.isArray(c))for(var P=0;P<c.length;P++)S=new l(this,c[P]),this.addFile(S.files);else S=new l(this,c,p,g,m,T),this.addFile(S.files);return this}),h.exports=l},99898:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(12117),s=e(98035),a=e(76846),r=e(72632),o=e(42911),u=new f({Extends:s,initialize:function(l,c,p,g){var m="css";if(o(c)){var T=c;c=r(T,"key"),p=r(T,"url"),g=r(T,"xhrSettings"),m=r(T,"extension",m)}var S={type:"script",cache:!1,extension:m,responseType:"text",key:c,url:p,xhrSettings:g};s.call(this,l,S)},onProcess:function(){this.state=d.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});a.register("css",function(v,l,c){if(Array.isArray(v))for(var p=0;p<v.length;p++)this.addFile(new u(this,v[p]));else this.addFile(new u(this,v,l,c));return this}),h.exports=u},47375:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(73152),d=e(40612),s=e(56694),a=e(76846),r=e(72632),o=e(42927),u=e(42911),v=e(70806),l=e(67409),c=e(30657),p=e(80802),g=e(45176),m=e(24904),T=new s({Extends:g,initialize:function(P,E,R,A){if(R.multiAtlasURL){var w=new v(P,{key:E,url:R.multiAtlasURL,xhrSettings:A,config:R});g.call(this,P,"texture",E,[w])}else{var O=R.textureURL.substr(R.textureURL.length-3);R.type||(R.type=O.toLowerCase()==="ktx"?"KTX":"PVR");var L=new d(P,{key:E,url:R.textureURL,extension:O,xhrSettings:A,config:R});if(R.atlasURL){var F=new v(P,{key:E,url:R.atlasURL,xhrSettings:A,config:R});g.call(this,P,"texture",E,[L,F])}else g.call(this,P,"texture",E,[L])}this.config=R},onFileComplete:function(S){var P=this.files.indexOf(S);if(P!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(S.type==="json"&&S.data.hasOwnProperty("textures")){var E=S.data.textures,R=this.config,A=this.loader,w=A.baseURL,O=A.path,L=A.prefix,F=r(R,"multiBaseURL",this.baseURL),I=r(R,"multiPath",this.path),B=r(R,"prefix",this.prefix),G=r(R,"textureXhrSettings");F&&A.setBaseURL(F),I&&A.setPath(I),B&&A.setPrefix(B);for(var N=0;N<E.length;N++){var U=E[N].image,Y="CMA"+this.multiKeyIndex+"_"+U,X=new d(A,Y,U,G);if(this.addToMultiFile(X),A.addFile(X),E[N].normalMap){var b=new d(A,Y,E[N].normalMap,G);b.type="normalMap",X.setLink(b),this.addToMultiFile(b),A.addFile(b)}}A.setBaseURL(w),A.setPath(O),A.setPrefix(L)}}},addToCache:function(){if(this.isReadyToProcess()){var S=this.config;if(S.multiAtlasURL)this.addMultiToCache();else{var P=this.loader.systems.renderer,E=this.loader.textureManager,R,A=this.files[0],w=this.files[1];if(S.type==="PVR"?R=m(A.data):S.type==="KTX"&&(R=l(A.data)),R&&P.supportsCompressedTexture(S.format,R.internalFormat)){R.format=P.getCompressedTextureName(S.format,R.internalFormat);var O=w&&w.data?w.data:null;E.addCompressedTexture(A.key,R,O)}}this.complete=!0}},addMultiToCache:function(){for(var S=this.config,P=this.files[0],E=[],R=[],A=[],w=this.loader.systems.renderer,O=this.loader.textureManager,L,F=1;F<this.files.length;F++){var I=this.files[F];if(I.type!=="normalMap")for(var B=I.key.indexOf("_"),G=I.key.substr(B+1),N=I.data,U=0;U<P.data.textures.length;U++){var Y=P.data.textures[U];if(Y.image===G){S.type==="PVR"?L=m(N):S.type==="KTX"&&(L=l(N)),L&&w.supportsCompressedTexture(S.format,L.internalFormat)&&(L.format=w.getCompressedTextureName(S.format,L.internalFormat),R.push(L),E.push(Y),I.linkFile&&A.push(I.linkFile.data));break}}}A.length===0&&(A=void 0),O.addAtlasJSONArray(this.key,R,E,A),this.complete=!0}});a.register("texture",function(S,P,E){var R=this.systems.renderer,A=function(O,L,F,I){var B={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(u(L)){var G=L;L=r(G,"key"),F=r(G,"url"),I=r(G,"xhrSettings")}var N=!1;for(var U in F)if(R.supportsCompressedTexture(U)){var Y=F[U];typeof Y=="string"?B.textureURL=Y:B=c(Y,B),B.format=U.toUpperCase(),N=!0;break}if(!N)console.warn("No supported compressed texture format or IMG fallback",L);else if(B.format==="IMG"){var X,b;B.multiAtlasURL?(b=new p(O,L,B.multiAtlasURL,B.multiPath,B.multiBaseURL,I),X=b.files):B.atlasURL?(b=new f(O,L,B.textureURL,B.atlasURL,I),X=b.files):X=new o(O,L,B.textureURL,I),O.addFile(X)}else{var z=new T(O,L,B,I);O.addFile(z.files)}};if(Array.isArray(S))for(var w=0;w<S.length;w++)A(this,S[w]);else A(this,S,P,E);return this}),h.exports=T},46568:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(12117),s=e(98035),a=e(76846),r=e(72632),o=e(42911),u=e(31053),v=new f({Extends:s,initialize:function(c,p,g,m,T){var S="glsl";if(o(p)){var P=p;p=r(P,"key"),g=r(P,"url"),m=r(P,"shaderType","fragment"),T=r(P,"xhrSettings"),S=r(P,"extension",S)}else m===void 0&&(m="fragment");var E={type:"glsl",cache:c.cacheManager.shader,extension:S,responseType:"text",key:p,url:g,config:{shaderType:m},xhrSettings:T};s.call(this,c,E)},onProcess:function(){this.state=d.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var l=this.data.split(`
`),c=this.extractBlock(l,0);if(c)for(;c;){var p=this.getShaderName(c.header),g=this.getShaderType(c.header),m=this.getShaderUniforms(c.header),T=c.shader;if(this.cache.has(p)){var S=this.cache.get(p);g==="fragment"?S.fragmentSrc=T:S.vertexSrc=T,S.uniforms||(S.uniforms=m)}else g==="fragment"?this.cache.add(p,new u(p,T,"",m)):this.cache.add(p,new u(p,"",T,m));c=this.extractBlock(l,c.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new u(this.key,this.data)):this.cache.add(this.key,new u(this.key,"",this.data))},getShaderName:function(l){for(var c=0;c<l.length;c++){var p=l[c].trim();if(p.substring(0,5)==="name:")return p.substring(5).trim()}return this.key},getShaderType:function(l){for(var c=0;c<l.length;c++){var p=l[c].trim();if(p.substring(0,5)==="type:")return p.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(l){for(var c={},p=0;p<l.length;p++){var g=l[p].trim();if(g.substring(0,8)==="uniform."){var m=g.indexOf(":");if(m){var T=g.substring(8,m);try{c[T]=JSON.parse(g.substring(m+1))}catch{console.warn("Invalid uniform JSON: "+T)}}}}return c},extractBlock:function(l,c){for(var p=-1,g=-1,m=-1,T=!1,S=!1,P=[],E=[],R=c;R<l.length;R++){var A=l[R].trim();if(A==="---")if(p===-1)p=R,T=!0;else if(T)g=R,T=!1,S=!0;else{S=!1;break}else T?P.push(A):S&&(E.push(A),m=R)}return!T&&g!==-1?{header:P,shader:E.join(`
`),offset:m}:null}});a.register("glsl",function(l,c,p,g){if(Array.isArray(l))for(var m=0;m<l.length;m++)this.addFile(new v(this,l[m]));else this.addFile(new v(this,l,c,p,g));return this}),h.exports=v},30929:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(683),s=e(98035),a=e(72632),r=e(30750),o=e(42911),u=new f({Extends:s,initialize:function(l,c,p,g){if(o(c)){var m=c;c=a(m,"key"),g=a(m,"config",g)}var T={type:"audio",cache:l.cacheManager.audio,extension:p.type,key:c,url:p.url,config:g};s.call(this,l,T),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var v=0;v<this.data.length;v++){var l=this.data[v];l.oncanplaythrough=null,l.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(v){var l=v.target;l.oncanplaythrough=null,l.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(d.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var v=this.config&&this.config.instances||1;this.filesTotal=v,this.filesLoaded=0,this.percentComplete=0;for(var l=0;l<v;l++){var c=new Audio;c.dataset||(c.dataset={}),c.dataset.name=this.key+("0"+l).slice(-2),c.dataset.used="false",this.locked?c.dataset.locked="true":(c.dataset.locked="false",c.preload="auto",c.oncanplaythrough=this.onProgress.bind(this),c.onerror=this.onError.bind(this)),this.data.push(c)}for(l=0;l<this.data.length;l++)c=this.data[l],c.src=r(this,this.loader.baseURL),this.locked||c.load();this.locked&&setTimeout(this.onLoad.bind(this))}});h.exports=u},77459:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(12117),s=e(98035),a=e(76846),r=e(72632),o=e(42911),u=new f({Extends:s,initialize:function(l,c,p,g){var m="html";if(o(c)){var T=c;c=r(T,"key"),p=r(T,"url"),g=r(T,"xhrSettings"),m=r(T,"extension",m)}var S={type:"text",cache:l.cacheManager.html,extension:m,responseType:"text",key:c,url:p,xhrSettings:g};s.call(this,l,S)},onProcess:function(){this.state=d.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});a.register("html",function(v,l,c){if(Array.isArray(v))for(var p=0;p<v.length;p++)this.addFile(new u(this,v[p]));else this.addFile(new u(this,v,l,c));return this}),h.exports=u},9755:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(12117),s=e(98035),a=e(76846),r=e(72632),o=e(42911),u=new f({Extends:s,initialize:function(l,c,p,g,m,T){g===void 0&&(g=512),m===void 0&&(m=512);var S="html";if(o(c)){var P=c;c=r(P,"key"),p=r(P,"url"),T=r(P,"xhrSettings"),S=r(P,"extension",S),g=r(P,"width",g),m=r(P,"height",m)}var E={type:"html",cache:l.textureManager,extension:S,responseType:"text",key:c,url:p,xhrSettings:T,config:{width:g,height:m}};s.call(this,l,E)},onProcess:function(){this.state=d.FILE_PROCESSING;var v=this.config.width,l=this.config.height,c=[];c.push('<svg width="'+v+'px" height="'+l+'px" viewBox="0 0 '+v+" "+l+'" xmlns="http://www.w3.org/2000/svg">'),c.push('<foreignObject width="100%" height="100%">'),c.push('<body xmlns="http://www.w3.org/1999/xhtml">'),c.push(this.xhrLoader.responseText),c.push("</body>"),c.push("</foreignObject>"),c.push("</svg>");var p=[c.join(`
`)],g=this;try{var m=new window.Blob(p,{type:"image/svg+xml;charset=utf-8"})}catch{g.state=d.FILE_ERRORED,g.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){s.revokeObjectURL(g.data),g.onProcessComplete()},this.data.onerror=function(){s.revokeObjectURL(g.data),g.onProcessError()},s.createObjectURL(this.data,m,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});a.register("htmlTexture",function(v,l,c,p,g){if(Array.isArray(v))for(var m=0;m<v.length;m++)this.addFile(new u(this,v[m]));else this.addFile(new u(this,v,l,c,p,g));return this}),h.exports=u},42927:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(12117),s=e(98035),a=e(76846),r=e(72632),o=e(42911),u=e(30750),v=new f({Extends:s,initialize:function l(c,p,g,m,T){var S="png",P;if(o(p)){var E=p;p=r(E,"key"),g=r(E,"url"),P=r(E,"normalMap"),m=r(E,"xhrSettings"),S=r(E,"extension",S),T=r(E,"frameConfig")}Array.isArray(g)&&(P=g[1],g=g[0]);var R={type:"image",cache:c.textureManager,extension:S,responseType:"blob",key:p,url:g,xhrSettings:m,config:T};if(s.call(this,c,R),P){var A=new l(c,this.key,P,m,T);A.type="normalMap",this.setLink(A),c.addFile(A)}this.useImageElementLoad=c.imageLoadType==="HTMLImageElement",this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=d.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var l=this;this.data.onload=function(){s.revokeObjectURL(l.data),l.onProcessComplete()},this.data.onerror=function(){s.revokeObjectURL(l.data),l.onProcessError()},s.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var l=this.state;this.state=d.FILE_PROCESSING,l===d.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){if(this.state=d.FILE_LOADING,this.src=u(this,this.loader.baseURL),this.src.indexOf("data:")===0)console.warn("Local data URIs are not supported: "+this.key);else{this.data=new Image,this.data.crossOrigin=this.crossOrigin;var l=this;this.data.onload=function(){l.state=d.FILE_LOADED,l.loader.nextFile(l,!0)},this.data.onerror=function(){l.loader.nextFile(l,!1)},this.data.src=this.src}},addToCache:function(){var l=this.linkFile;l?l.state>=d.FILE_COMPLETE&&(l.type==="spritesheet"?l.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,l.data,this.data):this.cache.addImage(this.key,this.data,l.data)):this.cache.addImage(this.key,this.data)}});a.register("image",function(l,c,p){if(Array.isArray(l))for(var g=0;g<l.length;g++)this.addFile(new v(this,l[g]));else this.addFile(new v(this,l,c,p));return this}),h.exports=v},70806:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(12117),s=e(98035),a=e(76846),r=e(72632),o=e(10850),u=e(42911),v=new f({Extends:s,initialize:function(c,p,g,m,T){var S="json";if(u(p)){var P=p;p=r(P,"key"),g=r(P,"url"),m=r(P,"xhrSettings"),S=r(P,"extension",S),T=r(P,"dataKey",T)}var E={type:"json",cache:c.cacheManager.json,extension:S,responseType:"text",key:p,url:g,xhrSettings:m,config:T};s.call(this,c,E),u(g)&&(T?this.data=o(g,T):this.data=g,this.state=d.FILE_POPULATED)},onProcess:function(){if(this.state!==d.FILE_POPULATED){this.state=d.FILE_PROCESSING;try{var l=JSON.parse(this.xhrLoader.responseText)}catch(p){throw this.onProcessError(),p}var c=this.config;typeof c=="string"?this.data=o(l,c,l):this.data=l}this.onProcessComplete()}});a.register("json",function(l,c,p,g){if(Array.isArray(l))for(var m=0;m<l.length;m++)this.addFile(new v(this,l[m]));else this.addFile(new v(this,l,c,g,p));return this}),h.exports=v},80802:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(76846),s=e(72632),a=e(42927),r=e(42911),o=e(70806),u=e(45176),v=new f({Extends:u,initialize:function(c,p,g,m,T,S,P){if(r(p)){var E=p;p=s(E,"key"),s(E,"url",!1)?g=s(E,"url"):g=s(E,"atlasURL"),S=s(E,"xhrSettings"),m=s(E,"path"),T=s(E,"baseURL"),P=s(E,"textureXhrSettings")}var R=new o(c,p,g,S);u.call(this,c,"multiatlas",p,[R]),this.config.path=m,this.config.baseURL=T,this.config.textureXhrSettings=P},onFileComplete:function(l){var c=this.files.indexOf(l);if(c!==-1&&(this.pending--,l.type==="json"&&l.data.hasOwnProperty("textures"))){var p=l.data.textures,g=this.config,m=this.loader,T=m.baseURL,S=m.path,P=m.prefix,E=s(g,"baseURL",this.baseURL),R=s(g,"path",this.path),A=s(g,"prefix",this.prefix),w=s(g,"textureXhrSettings");m.setBaseURL(E),m.setPath(R),m.setPrefix(A);for(var O=0;O<p.length;O++){var L=p[O].image,F="MA"+this.multiKeyIndex+"_"+L,I=new a(m,F,L,w);if(this.addToMultiFile(I),m.addFile(I),p[O].normalMap){var B=new a(m,F,p[O].normalMap,w);B.type="normalMap",I.setLink(B),this.addToMultiFile(B),m.addFile(B)}}m.setBaseURL(T),m.setPath(S),m.setPrefix(P)}},addToCache:function(){if(this.isReadyToProcess()){for(var l=this.files[0],c=[],p=[],g=[],m=1;m<this.files.length;m++){var T=this.files[m];if(T.type!=="normalMap")for(var S=T.key.indexOf("_"),P=T.key.substr(S+1),E=T.data,R=0;R<l.data.textures.length;R++){var A=l.data.textures[R];if(A.image===P){p.push(E),c.push(A),T.linkFile&&g.push(T.linkFile.data);break}}}g.length===0&&(g=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,p,c,g),this.complete=!0}}});d.register("multiatlas",function(l,c,p,g,m){var T;if(Array.isArray(l))for(var S=0;S<l.length;S++)T=new v(this,l[S]),this.addFile(T.files);else T=new v(this,l,c,p,g,m),this.addFile(T.files);return this}),h.exports=v},39034:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(76846),s=e(72632),a=e(42911),r=e(45176),o=e(55188),u=new f({Extends:r,initialize:function(l,c,p,g){var m="js",T=[];if(a(c)){var S=c;c=s(S,"key"),p=s(S,"url"),g=s(S,"xhrSettings"),m=s(S,"extension",m)}Array.isArray(p)||(p=[p]);for(var P=0;P<p.length;P++){var E=new o(l,{key:c+"_"+P.toString(),url:p[P],extension:m,xhrSettings:g});E.onProcess=function(){this.onProcessComplete()},T.push(E)}r.call(this,l,"scripts",c,T)},addToCache:function(){if(this.isReadyToProcess()){for(var v=0;v<this.files.length;v++){var l=this.files[v];l.data=document.createElement("script"),l.data.language="javascript",l.data.type="text/javascript",l.data.defer=!1,l.data.text=l.xhrLoader.responseText,document.head.appendChild(l.data)}this.complete=!0}}});d.register("scripts",function(v,l,c){var p;if(Array.isArray(v))for(var g=0;g<v.length;g++)p=new u(this,v[g]),this.addFile(p.files);else p=new u(this,v,l,c),this.addFile(p.files);return this}),h.exports=u},85527:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(76846),s=e(72632),a=e(42911),r=e(45176),o=e(27291),u=e(76799),v=e(86897),l=new f({Extends:r,initialize:function(p,g,m,T,S,P){var E,R,A=p.cacheManager.obj;if(a(g)){var w=g;g=s(w,"key"),E=new v(p,{key:g,type:"obj",cache:A,url:s(w,"url"),extension:s(w,"extension","obj"),xhrSettings:s(w,"xhrSettings"),config:{flipUV:s(w,"flipUV",S)}}),T=s(w,"matURL"),T&&(R=new v(p,{key:g,type:"mat",cache:A,url:T,extension:s(w,"matExtension","mat"),xhrSettings:s(w,"xhrSettings")}))}else E=new v(p,{key:g,url:m,type:"obj",cache:A,extension:"obj",xhrSettings:P,config:{flipUV:S}}),T&&(R=new v(p,{key:g,url:T,type:"mat",cache:A,extension:"mat",xhrSettings:P}));r.call(this,p,"obj",g,[E,R])},addToCache:function(){if(this.isReadyToProcess()){var c=this.files[0],p=this.files[1],g=o(c.data,c.config.flipUV);p&&(g.materials=u(p.data)),c.cache.add(c.key,g),this.complete=!0}}});d.register("obj",function(c,p,g,m,T){var S;if(Array.isArray(c))for(var P=0;P<c.length;P++)S=new l(this,c[P]),this.addFile(S.files);else S=new l(this,c,p,g,m,T),this.addFile(S.files);return this}),h.exports=l},3616:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(12117),s=e(76846),a=e(70806),r=new f({Extends:a,initialize:function(u,v,l,c,p){a.call(this,u,v,l,c,p),this.type="packfile"},onProcess:function(){if(this.state!==d.FILE_POPULATED&&(this.state=d.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var o={};o[this.config]=this.data,this.data=o}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});s.register("pack",function(o,u,v,l){if(Array.isArray(o))for(var c=0;c<o.length;c++)this.addFile(new r(this,o[c]));else this.addFile(new r(this,o,u,l,v));return this}),h.exports=r},12217:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(12117),s=e(98035),a=e(76846),r=e(72632),o=e(42911),u=new f({Extends:s,initialize:function(l,c,p,g,m,T){var S="js";if(o(c)){var P=c;c=r(P,"key"),p=r(P,"url"),T=r(P,"xhrSettings"),S=r(P,"extension",S),g=r(P,"start"),m=r(P,"mapping")}var E={type:"plugin",cache:!1,extension:S,responseType:"text",key:c,url:p,xhrSettings:T,config:{start:g,mapping:m}};s.call(this,l,E),typeof p=="function"&&(this.data=p,this.state=d.FILE_POPULATED)},onProcess:function(){var v=this.loader.systems.plugins,l=this.config,c=r(l,"start",!1),p=r(l,"mapping",null);if(this.state===d.FILE_POPULATED)v.install(this.key,this.data,c,p);else{this.state=d.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var g=v.install(this.key,window[this.key],c,p);(c||p)&&(this.loader.systems[p]=g,this.loader.scene[p]=g)}this.onProcessComplete()}});a.register("plugin",function(v,l,c,p,g){if(Array.isArray(v))for(var m=0;m<v.length;m++)this.addFile(new u(this,v[m]));else this.addFile(new u(this,v,l,c,p,g));return this}),h.exports=u},4474:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(12117),s=e(98035),a=e(76846),r=e(72632),o=e(42911),u=new f({Extends:s,initialize:function(l,c,p,g,m){var T="svg";if(o(c)){var S=c;c=r(S,"key"),p=r(S,"url"),g=r(S,"svgConfig",{}),m=r(S,"xhrSettings"),T=r(S,"extension",T)}var P={type:"svg",cache:l.textureManager,extension:T,responseType:"text",key:c,url:p,xhrSettings:m,config:{width:r(g,"width"),height:r(g,"height"),scale:r(g,"scale")}};s.call(this,l,P)},onProcess:function(){this.state=d.FILE_PROCESSING;var v=this.xhrLoader.responseText,l=[v],c=this.config.width,p=this.config.height,g=this.config.scale;t:if(c&&p||g){var m=null,T=new DOMParser;m=T.parseFromString(v,"text/xml");var S=m.getElementsByTagName("svg")[0],P=S.hasAttribute("viewBox"),E=parseFloat(S.getAttribute("width")),R=parseFloat(S.getAttribute("height"));if(!P&&E&&R)S.setAttribute("viewBox","0  0 "+E+" "+R);else if(P&&!E&&!R){var A=S.getAttribute("viewBox").split(/\s+|,/);E=A[2],R=A[3]}if(g)if(E&&R)c=E*g,p=R*g;else break t;S.setAttribute("width",c.toString()+"px"),S.setAttribute("height",p.toString()+"px"),l=[new XMLSerializer().serializeToString(S)]}try{var w=new window.Blob(l,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var O=this,L=!1;this.data.onload=function(){L||s.revokeObjectURL(O.data),O.onProcessComplete()},this.data.onerror=function(){L?O.onProcessError():(L=!0,s.revokeObjectURL(O.data),O.data.src="data:image/svg+xml,"+encodeURIComponent(l.join("")))},s.createObjectURL(this.data,w,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});a.register("svg",function(v,l,c,p){if(Array.isArray(v))for(var g=0;g<v.length;g++)this.addFile(new u(this,v[g]));else this.addFile(new u(this,v,l,c,p));return this}),h.exports=u},95171:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(12117),s=e(98035),a=e(76846),r=e(72632),o=e(42911),u=new f({Extends:s,initialize:function(l,c,p,g){var m="js";if(o(c)){var T=c;c=r(T,"key"),p=r(T,"url"),g=r(T,"xhrSettings"),m=r(T,"extension",m)}var S={type:"text",extension:m,responseType:"text",key:c,url:p,xhrSettings:g};s.call(this,l,S)},onProcess:function(){this.state=d.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var v=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),l=eval;this.loader.sceneManager.add(this.key,l(v)),this.complete=!0}});a.register("sceneFile",function(v,l,c){if(Array.isArray(v))for(var p=0;p<v.length;p++)this.addFile(new u(this,v[p]));else this.addFile(new u(this,v,l,c));return this}),h.exports=u},82458:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(12117),s=e(98035),a=e(76846),r=e(72632),o=e(42911),u=new f({Extends:s,initialize:function(l,c,p,g,m,T){var S="js";if(o(c)){var P=c;c=r(P,"key"),p=r(P,"url"),T=r(P,"xhrSettings"),S=r(P,"extension",S),g=r(P,"systemKey"),m=r(P,"sceneKey")}var E={type:"scenePlugin",cache:!1,extension:S,responseType:"text",key:c,url:p,xhrSettings:T,config:{systemKey:g,sceneKey:m}};s.call(this,l,E),typeof p=="function"&&(this.data=p,this.state=d.FILE_POPULATED)},onProcess:function(){var v=this.loader.systems.plugins,l=this.config,c=this.key,p=r(l,"systemKey",c),g=r(l,"sceneKey",c);this.state===d.FILE_POPULATED?v.installScenePlugin(p,this.data,g,this.loader.scene,!0):(this.state=d.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),v.installScenePlugin(p,window[this.key],g,this.loader.scene,!0)),this.onProcessComplete()}});a.register("scenePlugin",function(v,l,c,p,g){if(Array.isArray(v))for(var m=0;m<v.length;m++)this.addFile(new u(this,v[m]));else this.addFile(new u(this,v,l,c,p,g));return this}),h.exports=u},55188:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(12117),s=e(98035),a=e(76846),r=e(72632),o=e(42911),u=new f({Extends:s,initialize:function(l,c,p,g,m){var T="js";if(o(c)){var S=c;c=r(S,"key"),p=r(S,"url"),g=r(S,"type","script"),m=r(S,"xhrSettings"),T=r(S,"extension",T)}else g===void 0&&(g="script");var P={type:g,cache:!1,extension:T,responseType:"text",key:c,url:p,xhrSettings:m};s.call(this,l,P)},onProcess:function(){this.state=d.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});a.register("script",function(v,l,c,p){if(Array.isArray(v))for(var g=0;g<v.length;g++)this.addFile(new u(this,v[g]));else this.addFile(new u(this,v,l,c,p));return this}),h.exports=u},33536:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(12117),s=e(76846),a=e(42927),r=new f({Extends:a,initialize:function(u,v,l,c,p){a.call(this,u,v,l,p,c),this.type="spritesheet"},addToCache:function(){var o=this.linkFile;o?o.state>=d.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,o.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,o.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});s.register("spritesheet",function(o,u,v,l){if(Array.isArray(o))for(var c=0;c<o.length;c++)this.addFile(new r(this,o[c]));else this.addFile(new r(this,o,u,v,l));return this}),h.exports=r},86897:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(12117),s=e(98035),a=e(76846),r=e(72632),o=e(42911),u=new f({Extends:s,initialize:function(l,c,p,g){var m="text",T="txt",S=l.cacheManager.text;if(o(c)){var P=c;c=r(P,"key"),p=r(P,"url"),g=r(P,"xhrSettings"),T=r(P,"extension",T),m=r(P,"type",m),S=r(P,"cache",S)}var E={type:m,cache:S,extension:T,responseType:"text",key:c,url:p,xhrSettings:g};s.call(this,l,E)},onProcess:function(){this.state=d.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});a.register("text",function(v,l,c){if(Array.isArray(v))for(var p=0;p<v.length;p++)this.addFile(new u(this,v[p]));else this.addFile(new u(this,v,l,c));return this}),h.exports=u},58673:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(12117),s=e(98035),a=e(76846),r=e(72632),o=e(42911),u=e(93560),v=new f({Extends:s,initialize:function(c,p,g,m){var T="csv";if(o(p)){var S=p;p=r(S,"key"),g=r(S,"url"),m=r(S,"xhrSettings"),T=r(S,"extension",T)}var P={type:"tilemapCSV",cache:c.cacheManager.tilemap,extension:T,responseType:"text",key:p,url:g,xhrSettings:m};s.call(this,c,P),this.tilemapFormat=u.CSV},onProcess:function(){this.state=d.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var l={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,l)}});a.register("tilemapCSV",function(l,c,p){if(Array.isArray(l))for(var g=0;g<l.length;g++)this.addFile(new v(this,l[g]));else this.addFile(new v(this,l,c,p));return this}),h.exports=v},98896:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(76846),s=e(70806),a=e(93560),r=new f({Extends:s,initialize:function(u,v,l,c){s.call(this,u,v,l,c),this.type="tilemapJSON",this.cache=u.cacheManager.tilemap},addToCache:function(){var o={format:a.WELTMEISTER,data:this.data};this.cache.add(this.key,o)}});d.register("tilemapImpact",function(o,u,v){if(Array.isArray(o))for(var l=0;l<o.length;l++)this.addFile(new r(this,o[l]));else this.addFile(new r(this,o,u,v));return this}),h.exports=r},50563:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(76846),s=e(70806),a=e(93560),r=new f({Extends:s,initialize:function(u,v,l,c){s.call(this,u,v,l,c),this.type="tilemapJSON",this.cache=u.cacheManager.tilemap},addToCache:function(){var o={format:a.TILED_JSON,data:this.data};this.cache.add(this.key,o)}});d.register("tilemapTiledJSON",function(o,u,v){if(Array.isArray(o))for(var l=0;l<o.length;l++)this.addFile(new r(this,o[l]));else this.addFile(new r(this,o,u,v));return this}),h.exports=r},82857:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(76846),s=e(72632),a=e(42927),r=e(42911),o=e(45176),u=e(86897),v=new f({Extends:o,initialize:function(c,p,g,m,T,S){var P,E;if(r(p)){var R=p;p=s(R,"key"),P=new a(c,{key:p,url:s(R,"textureURL"),extension:s(R,"textureExtension","png"),normalMap:s(R,"normalMap"),xhrSettings:s(R,"textureXhrSettings")}),E=new u(c,{key:p,url:s(R,"atlasURL"),extension:s(R,"atlasExtension","txt"),xhrSettings:s(R,"atlasXhrSettings")})}else P=new a(c,p,g,T),E=new u(c,p,m,S);P.linkFile?o.call(this,c,"unityatlas",p,[P,E,P.linkFile]):o.call(this,c,"unityatlas",p,[P,E])},addToCache:function(){if(this.isReadyToProcess()){var l=this.files[0],c=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(l.key,l.data,c.data,p),this.complete=!0}}});d.register("unityAtlas",function(l,c,p,g,m){var T;if(Array.isArray(l))for(var S=0;S<l.length;S++)T=new v(this,l[S]),this.addFile(T.files);else T=new v(this,l,c,p,g,m),this.addFile(T.files);return this}),h.exports=v},22833:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(12117),s=e(98035),a=e(76846),r=e(30750),o=e(72632),u=e(42911),v=new f({Extends:s,initialize:function(c,p,g,m){if(m===void 0&&(m=!1),u(p)){var T=p;p=o(T,"key"),g=o(T,"url",[]),m=o(T,"noAudio",!1)}var S=c.systems.game.device.video.getVideoURL(g);S||console.warn("VideoFile: No supported format for "+p);var P={type:"video",cache:c.cacheManager.video,extension:S.type,key:p,url:S.url,config:{noAudio:m}};s.call(this,c,P)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=r(this,this.loader.baseURL),this.state=d.FILE_LOADED,this.loader.nextFile(this,!0)}});a.register("video",function(l,c,p){if(Array.isArray(l))for(var g=0;g<l.length;g++)this.addFile(new v(this,l[g]));else this.addFile(new v(this,l,c,p));return this}),h.exports=v},15297:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(12117),s=e(98035),a=e(76846),r=e(72632),o=e(42911),u=e(89200),v=new f({Extends:s,initialize:function(c,p,g,m){var T="xml";if(o(p)){var S=p;p=r(S,"key"),g=r(S,"url"),m=r(S,"xhrSettings"),T=r(S,"extension",T)}var P={type:"xml",cache:c.cacheManager.xml,extension:T,responseType:"text",key:p,url:g,xhrSettings:m};s.call(this,c,P)},onProcess:function(){this.state=d.FILE_PROCESSING,this.data=u(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});a.register("xml",function(l,c,p){if(Array.isArray(l))for(var g=0;g<l.length;g++)this.addFile(new v(this,l[g]));else this.addFile(new v(this,l,c,p));return this}),h.exports=v},34034:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={AnimationJSONFile:e(46468),AsepriteFile:e(31648),AtlasJSONFile:e(73152),AtlasXMLFile:e(24616),AudioFile:e(67448),AudioSpriteFile:e(66109),BinaryFile:e(40612),BitmapFontFile:e(54565),CompressedTextureFile:e(47375),CSSFile:e(99898),GLSLFile:e(46568),HTML5AudioFile:e(30929),HTMLFile:e(77459),HTMLTextureFile:e(9755),ImageFile:e(42927),JSONFile:e(70806),MultiAtlasFile:e(80802),MultiScriptFile:e(39034),OBJFile:e(85527),PackFile:e(3616),PluginFile:e(12217),SceneFile:e(95171),ScenePluginFile:e(82458),ScriptFile:e(55188),SpriteSheetFile:e(33536),SVGFile:e(4474),TextFile:e(86897),TilemapCSVFile:e(58673),TilemapImpactFile:e(98896),TilemapJSONFile:e(50563),UnityAtlasFile:e(82857),VideoFile:e(22833),XMLFile:e(15297)}},95695:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(12117),d=e(98611),s={Events:e(683),FileTypes:e(34034),File:e(98035),FileTypesManager:e(76846),GetURL:e(30750),LoaderPlugin:e(67285),MergeXHRSettings:e(43531),MultiFile:e(45176),XHRLoader:e(88490),XHRSettings:e(33868)};s=d(!1,s,f),h.exports=s},26042:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){for(var f=0,d=0;d<e.length;d++)f+=+e[d];return f/e.length};h.exports=y},22824:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(8034),d=function(s,a){return f(s)/f(a)/f(s-a)};h.exports=d},17489:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return Math.floor(Math.random()*(f-e+1)+e)};h.exports=y},14976:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s,a){var r=(s-f)*.5,o=(a-d)*.5,u=e*e,v=e*u;return(2*d-2*s+r+o)*v+(-3*d+3*s-2*r-o)*u+r*e+d};h.exports=y},89129:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){f===void 0&&(f=0),d===void 0&&(d=10);var s=Math.pow(d,-f);return Math.ceil(e*s)/s};h.exports=y},82897:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){return Math.max(f,Math.min(d,e))};h.exports=y},75606:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(83392),d=function(s){return s*f.DEG_TO_RAD};h.exports=d},767:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return Math.abs(e-f)};h.exports=y},9849:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(82897),d=e(56694),s=e(16650),a=e(72283),r=new s,o=new d({initialize:function u(v,l,c,p){v===void 0&&(v=0),l===void 0&&(l=0),c===void 0&&(c=0),p===void 0&&(p=u.DefaultOrder),this._x=v,this._y=l,this._z=c,this._order=p,this.onChangeCallback=a},x:{get:function(){return this._x},set:function(u){this._x=u,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(u){this._y=u,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(u){this._z=u,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(u){this._order=u,this.onChangeCallback(this)}},set:function(u,v,l,c){return c===void 0&&(c=this._order),this._x=u,this._y=v,this._z=l,this._order=c,this.onChangeCallback(this),this},copy:function(u){return this.set(u.x,u.y,u.z,u.order)},setFromQuaternion:function(u,v,l){return v===void 0&&(v=this._order),l===void 0&&(l=!1),r.fromQuat(u),this.setFromRotationMatrix(r,v,l)},setFromRotationMatrix:function(u,v,l){v===void 0&&(v=this._order),l===void 0&&(l=!1);var c=u.val,p=c[0],g=c[4],m=c[8],T=c[1],S=c[5],P=c[9],E=c[2],R=c[6],A=c[10],w=0,O=0,L=0,F=.99999;switch(v){case"XYZ":{O=Math.asin(f(m,-1,1)),Math.abs(m)<F?(w=Math.atan2(-P,A),L=Math.atan2(-g,p)):w=Math.atan2(R,S);break}case"YXZ":{w=Math.asin(-f(P,-1,1)),Math.abs(P)<F?(O=Math.atan2(m,A),L=Math.atan2(T,S)):O=Math.atan2(-E,p);break}case"ZXY":{w=Math.asin(f(R,-1,1)),Math.abs(R)<F?(O=Math.atan2(-E,A),L=Math.atan2(-g,S)):L=Math.atan2(T,p);break}case"ZYX":{O=Math.asin(-f(E,-1,1)),Math.abs(E)<F?(w=Math.atan2(R,A),L=Math.atan2(T,p)):L=Math.atan2(-g,S);break}case"YZX":{L=Math.asin(f(T,-1,1)),Math.abs(T)<F?(w=Math.atan2(-P,S),O=Math.atan2(-E,p)):O=Math.atan2(m,A);break}case"XZY":{L=Math.asin(-f(g,-1,1)),Math.abs(g)<F?(w=Math.atan2(R,S),O=Math.atan2(m,p)):w=Math.atan2(-P,A);break}}return this._x=w,this._y=O,this._z=L,this._order=v,l&&this.onChangeCallback(this),this}});o.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],o.DefaultOrder="XYZ",h.exports=o},8034:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){if(e===0)return 1;for(var f=e;--e;)f*=e;return f};h.exports=y},61616:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return Math.random()*(f-e)+e};h.exports=y},60679:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){f===void 0&&(f=0),d===void 0&&(d=10);var s=Math.pow(d,-f);return Math.floor(e*s)/s};h.exports=y},91806:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(82897),d=function(s,a,r){return s=f(s,0,1),(r-a)*s+a};h.exports=d},79366:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e/f/1e3};h.exports=y},43776:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e==parseFloat(e)?!(e%2):void 0};h.exports=y},58442:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e===parseFloat(e)?!(e%2):void 0};h.exports=y},42798:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){return(f-e)*d+e};h.exports=y},61072:h=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){return d===void 0&&(d=0),e.clone().lerp(f,d)};h.exports=y},5341:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=new f({initialize:function(a){this.val=new Float32Array(9),a?this.copy(a):this.identity()},clone:function(){return new d(this)},set:function(s){return this.copy(s)},copy:function(s){var a=this.val,r=s.val;return a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3],a[4]=r[4],a[5]=r[5],a[6]=r[6],a[7]=r[7],a[8]=r[8],this},fromMat4:function(s){var a=s.val,r=this.val;return r[0]=a[0],r[1]=a[1],r[2]=a[2],r[3]=a[4],r[4]=a[5],r[5]=a[6],r[6]=a[8],r[7]=a[9],r[8]=a[10],this},fromArray:function(s){var a=this.val;return a[0]=s[0],a[1]=s[1],a[2]=s[2],a[3]=s[3],a[4]=s[4],a[5]=s[5],a[6]=s[6],a[7]=s[7],a[8]=s[8],this},identity:function(){var s=this.val;return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=1,s[5]=0,s[6]=0,s[7]=0,s[8]=1,this},transpose:function(){var s=this.val,a=s[1],r=s[2],o=s[5];return s[1]=s[3],s[2]=s[6],s[3]=a,s[5]=s[7],s[6]=r,s[7]=o,this},invert:function(){var s=this.val,a=s[0],r=s[1],o=s[2],u=s[3],v=s[4],l=s[5],c=s[6],p=s[7],g=s[8],m=g*v-l*p,T=-g*u+l*c,S=p*u-v*c,P=a*m+r*T+o*S;return P?(P=1/P,s[0]=m*P,s[1]=(-g*r+o*p)*P,s[2]=(l*r-o*v)*P,s[3]=T*P,s[4]=(g*a-o*c)*P,s[5]=(-l*a+o*u)*P,s[6]=S*P,s[7]=(-p*a+r*c)*P,s[8]=(v*a-r*u)*P,this):null},adjoint:function(){var s=this.val,a=s[0],r=s[1],o=s[2],u=s[3],v=s[4],l=s[5],c=s[6],p=s[7],g=s[8];return s[0]=v*g-l*p,s[1]=o*p-r*g,s[2]=r*l-o*v,s[3]=l*c-u*g,s[4]=a*g-o*c,s[5]=o*u-a*l,s[6]=u*p-v*c,s[7]=r*c-a*p,s[8]=a*v-r*u,this},determinant:function(){var s=this.val,a=s[0],r=s[1],o=s[2],u=s[3],v=s[4],l=s[5],c=s[6],p=s[7],g=s[8];return a*(g*v-l*p)+r*(-g*u+l*c)+o*(p*u-v*c)},multiply:function(s){var a=this.val,r=a[0],o=a[1],u=a[2],v=a[3],l=a[4],c=a[5],p=a[6],g=a[7],m=a[8],T=s.val,S=T[0],P=T[1],E=T[2],R=T[3],A=T[4],w=T[5],O=T[6],L=T[7],F=T[8];return a[0]=S*r+P*v+E*p,a[1]=S*o+P*l+E*g,a[2]=S*u+P*c+E*m,a[3]=R*r+A*v+w*p,a[4]=R*o+A*l+w*g,a[5]=R*u+A*c+w*m,a[6]=O*r+L*v+F*p,a[7]=O*o+L*l+F*g,a[8]=O*u+L*c+F*m,this},translate:function(s){var a=this.val,r=s.x,o=s.y;return a[6]=r*a[0]+o*a[3]+a[6],a[7]=r*a[1]+o*a[4]+a[7],a[8]=r*a[2]+o*a[5]+a[8],this},rotate:function(s){var a=this.val,r=a[0],o=a[1],u=a[2],v=a[3],l=a[4],c=a[5],p=Math.sin(s),g=Math.cos(s);return a[0]=g*r+p*v,a[1]=g*o+p*l,a[2]=g*u+p*c,a[3]=g*v-p*r,a[4]=g*l-p*o,a[5]=g*c-p*u,this},scale:function(s){var a=this.val,r=s.x,o=s.y;return a[0]=r*a[0],a[1]=r*a[1],a[2]=r*a[2],a[3]=o*a[3],a[4]=o*a[4],a[5]=o*a[5],this},fromQuat:function(s){var a=s.x,r=s.y,o=s.z,u=s.w,v=a+a,l=r+r,c=o+o,p=a*v,g=a*l,m=a*c,T=r*l,S=r*c,P=o*c,E=u*v,R=u*l,A=u*c,w=this.val;return w[0]=1-(T+P),w[3]=g+A,w[6]=m-R,w[1]=g-A,w[4]=1-(p+P),w[7]=S+E,w[2]=m+R,w[5]=S-E,w[8]=1-(p+T),this},normalFromMat4:function(s){var a=s.val,r=this.val,o=a[0],u=a[1],v=a[2],l=a[3],c=a[4],p=a[5],g=a[6],m=a[7],T=a[8],S=a[9],P=a[10],E=a[11],R=a[12],A=a[13],w=a[14],O=a[15],L=o*p-u*c,F=o*g-v*c,I=o*m-l*c,B=u*g-v*p,G=u*m-l*p,N=v*m-l*g,U=T*A-S*R,Y=T*w-P*R,X=T*O-E*R,b=S*w-P*A,z=S*O-E*A,D=P*O-E*w,V=L*D-F*z+I*b+B*X-G*Y+N*U;return V?(V=1/V,r[0]=(p*D-g*z+m*b)*V,r[1]=(g*X-c*D-m*Y)*V,r[2]=(c*z-p*X+m*U)*V,r[3]=(v*z-u*D-l*b)*V,r[4]=(o*D-v*X+l*Y)*V,r[5]=(u*X-o*z-l*U)*V,r[6]=(A*N-w*G+O*B)*V,r[7]=(w*I-R*N-O*F)*V,r[8]=(R*G-A*I+O*L)*V,this):null}});h.exports=d},16650:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(70015),s=1e-6,a=new f({initialize:function(p){this.val=new Float32Array(16),p?this.copy(p):this.identity()},clone:function(){return new a(this)},set:function(c){return this.copy(c)},setValues:function(c,p,g,m,T,S,P,E,R,A,w,O,L,F,I,B){var G=this.val;return G[0]=c,G[1]=p,G[2]=g,G[3]=m,G[4]=T,G[5]=S,G[6]=P,G[7]=E,G[8]=R,G[9]=A,G[10]=w,G[11]=O,G[12]=L,G[13]=F,G[14]=I,G[15]=B,this},copy:function(c){var p=c.val;return this.setValues(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15])},fromArray:function(c){return this.setValues(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(c,p,g){var m=r.fromQuat(g),T=m.val,S=p.x,P=p.y,E=p.z;return this.setValues(T[0]*S,T[1]*S,T[2]*S,0,T[4]*P,T[5]*P,T[6]*P,0,T[8]*E,T[9]*E,T[10]*E,0,c.x,c.y,c.z,1)},xyz:function(c,p,g){this.identity();var m=this.val;return m[12]=c,m[13]=p,m[14]=g,this},scaling:function(c,p,g){this.zero();var m=this.val;return m[0]=c,m[5]=p,m[10]=g,m[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var c=this.val,p=c[1],g=c[2],m=c[3],T=c[6],S=c[7],P=c[11];return c[1]=c[4],c[2]=c[8],c[3]=c[12],c[4]=p,c[6]=c[9],c[7]=c[13],c[8]=g,c[9]=T,c[11]=c[14],c[12]=m,c[13]=S,c[14]=P,this},getInverse:function(c){return this.copy(c),this.invert()},invert:function(){var c=this.val,p=c[0],g=c[1],m=c[2],T=c[3],S=c[4],P=c[5],E=c[6],R=c[7],A=c[8],w=c[9],O=c[10],L=c[11],F=c[12],I=c[13],B=c[14],G=c[15],N=p*P-g*S,U=p*E-m*S,Y=p*R-T*S,X=g*E-m*P,b=g*R-T*P,z=m*R-T*E,D=A*I-w*F,V=A*B-O*F,k=A*G-L*F,W=w*B-O*I,H=w*G-L*I,$=O*G-L*B,K=N*$-U*H+Y*W+X*k-b*V+z*D;return K?(K=1/K,this.setValues((P*$-E*H+R*W)*K,(m*H-g*$-T*W)*K,(I*z-B*b+G*X)*K,(O*b-w*z-L*X)*K,(E*k-S*$-R*V)*K,(p*$-m*k+T*V)*K,(B*Y-F*z-G*U)*K,(A*z-O*Y+L*U)*K,(S*H-P*k+R*D)*K,(g*k-p*H-T*D)*K,(F*b-I*Y+G*N)*K,(w*Y-A*b-L*N)*K,(P*V-S*W-E*D)*K,(p*W-g*V+m*D)*K,(I*U-F*X-B*N)*K,(A*X-w*U+O*N)*K)):this},adjoint:function(){var c=this.val,p=c[0],g=c[1],m=c[2],T=c[3],S=c[4],P=c[5],E=c[6],R=c[7],A=c[8],w=c[9],O=c[10],L=c[11],F=c[12],I=c[13],B=c[14],G=c[15];return this.setValues(P*(O*G-L*B)-w*(E*G-R*B)+I*(E*L-R*O),-(g*(O*G-L*B)-w*(m*G-T*B)+I*(m*L-T*O)),g*(E*G-R*B)-P*(m*G-T*B)+I*(m*R-T*E),-(g*(E*L-R*O)-P*(m*L-T*O)+w*(m*R-T*E)),-(S*(O*G-L*B)-A*(E*G-R*B)+F*(E*L-R*O)),p*(O*G-L*B)-A*(m*G-T*B)+F*(m*L-T*O),-(p*(E*G-R*B)-S*(m*G-T*B)+F*(m*R-T*E)),p*(E*L-R*O)-S*(m*L-T*O)+A*(m*R-T*E),S*(w*G-L*I)-A*(P*G-R*I)+F*(P*L-R*w),-(p*(w*G-L*I)-A*(g*G-T*I)+F*(g*L-T*w)),p*(P*G-R*I)-S*(g*G-T*I)+F*(g*R-T*P),-(p*(P*L-R*w)-S*(g*L-T*w)+A*(g*R-T*P)),-(S*(w*B-O*I)-A*(P*B-E*I)+F*(P*O-E*w)),p*(w*B-O*I)-A*(g*B-m*I)+F*(g*O-m*w),-(p*(P*B-E*I)-S*(g*B-m*I)+F*(g*E-m*P)),p*(P*O-E*w)-S*(g*O-m*w)+A*(g*E-m*P))},determinant:function(){var c=this.val,p=c[0],g=c[1],m=c[2],T=c[3],S=c[4],P=c[5],E=c[6],R=c[7],A=c[8],w=c[9],O=c[10],L=c[11],F=c[12],I=c[13],B=c[14],G=c[15],N=p*P-g*S,U=p*E-m*S,Y=p*R-T*S,X=g*E-m*P,b=g*R-T*P,z=m*R-T*E,D=A*I-w*F,V=A*B-O*F,k=A*G-L*F,W=w*B-O*I,H=w*G-L*I,$=O*G-L*B;return N*$-U*H+Y*W+X*k-b*V+z*D},multiply:function(c){var p=this.val,g=p[0],m=p[1],T=p[2],S=p[3],P=p[4],E=p[5],R=p[6],A=p[7],w=p[8],O=p[9],L=p[10],F=p[11],I=p[12],B=p[13],G=p[14],N=p[15],U=c.val,Y=U[0],X=U[1],b=U[2],z=U[3];return p[0]=Y*g+X*P+b*w+z*I,p[1]=Y*m+X*E+b*O+z*B,p[2]=Y*T+X*R+b*L+z*G,p[3]=Y*S+X*A+b*F+z*N,Y=U[4],X=U[5],b=U[6],z=U[7],p[4]=Y*g+X*P+b*w+z*I,p[5]=Y*m+X*E+b*O+z*B,p[6]=Y*T+X*R+b*L+z*G,p[7]=Y*S+X*A+b*F+z*N,Y=U[8],X=U[9],b=U[10],z=U[11],p[8]=Y*g+X*P+b*w+z*I,p[9]=Y*m+X*E+b*O+z*B,p[10]=Y*T+X*R+b*L+z*G,p[11]=Y*S+X*A+b*F+z*N,Y=U[12],X=U[13],b=U[14],z=U[15],p[12]=Y*g+X*P+b*w+z*I,p[13]=Y*m+X*E+b*O+z*B,p[14]=Y*T+X*R+b*L+z*G,p[15]=Y*S+X*A+b*F+z*N,this},multiplyLocal:function(c){var p=this.val,g=c.val;return this.setValues(p[0]*g[0]+p[1]*g[4]+p[2]*g[8]+p[3]*g[12],p[0]*g[1]+p[1]*g[5]+p[2]*g[9]+p[3]*g[13],p[0]*g[2]+p[1]*g[6]+p[2]*g[10]+p[3]*g[14],p[0]*g[3]+p[1]*g[7]+p[2]*g[11]+p[3]*g[15],p[4]*g[0]+p[5]*g[4]+p[6]*g[8]+p[7]*g[12],p[4]*g[1]+p[5]*g[5]+p[6]*g[9]+p[7]*g[13],p[4]*g[2]+p[5]*g[6]+p[6]*g[10]+p[7]*g[14],p[4]*g[3]+p[5]*g[7]+p[6]*g[11]+p[7]*g[15],p[8]*g[0]+p[9]*g[4]+p[10]*g[8]+p[11]*g[12],p[8]*g[1]+p[9]*g[5]+p[10]*g[9]+p[11]*g[13],p[8]*g[2]+p[9]*g[6]+p[10]*g[10]+p[11]*g[14],p[8]*g[3]+p[9]*g[7]+p[10]*g[11]+p[11]*g[15],p[12]*g[0]+p[13]*g[4]+p[14]*g[8]+p[15]*g[12],p[12]*g[1]+p[13]*g[5]+p[14]*g[9]+p[15]*g[13],p[12]*g[2]+p[13]*g[6]+p[14]*g[10]+p[15]*g[14],p[12]*g[3]+p[13]*g[7]+p[14]*g[11]+p[15]*g[15])},premultiply:function(c){return this.multiplyMatrices(c,this)},multiplyMatrices:function(c,p){var g=c.val,m=p.val,T=g[0],S=g[4],P=g[8],E=g[12],R=g[1],A=g[5],w=g[9],O=g[13],L=g[2],F=g[6],I=g[10],B=g[14],G=g[3],N=g[7],U=g[11],Y=g[15],X=m[0],b=m[4],z=m[8],D=m[12],V=m[1],k=m[5],W=m[9],H=m[13],$=m[2],K=m[6],Z=m[10],j=m[14],J=m[3],Q=m[7],q=m[11],_=m[15];return this.setValues(T*X+S*V+P*$+E*J,R*X+A*V+w*$+O*J,L*X+F*V+I*$+B*J,G*X+N*V+U*$+Y*J,T*b+S*k+P*K+E*Q,R*b+A*k+w*K+O*Q,L*b+F*k+I*K+B*Q,G*b+N*k+U*K+Y*Q,T*z+S*W+P*Z+E*q,R*z+A*W+w*Z+O*q,L*z+F*W+I*Z+B*q,G*z+N*W+U*Z+Y*q,T*D+S*H+P*j+E*_,R*D+A*H+w*j+O*_,L*D+F*H+I*j+B*_,G*D+N*H+U*j+Y*_)},translate:function(c){return this.translateXYZ(c.x,c.y,c.z)},translateXYZ:function(c,p,g){var m=this.val;return m[12]=m[0]*c+m[4]*p+m[8]*g+m[12],m[13]=m[1]*c+m[5]*p+m[9]*g+m[13],m[14]=m[2]*c+m[6]*p+m[10]*g+m[14],m[15]=m[3]*c+m[7]*p+m[11]*g+m[15],this},scale:function(c){return this.scaleXYZ(c.x,c.y,c.z)},scaleXYZ:function(c,p,g){var m=this.val;return m[0]=m[0]*c,m[1]=m[1]*c,m[2]=m[2]*c,m[3]=m[3]*c,m[4]=m[4]*p,m[5]=m[5]*p,m[6]=m[6]*p,m[7]=m[7]*p,m[8]=m[8]*g,m[9]=m[9]*g,m[10]=m[10]*g,m[11]=m[11]*g,this},makeRotationAxis:function(c,p){var g=Math.cos(p),m=Math.sin(p),T=1-g,S=c.x,P=c.y,E=c.z,R=T*S,A=T*P;return this.setValues(R*S+g,R*P-m*E,R*E+m*P,0,R*P+m*E,A*P+g,A*E-m*S,0,R*E-m*P,A*E+m*S,T*E*E+g,0,0,0,0,1)},rotate:function(c,p){var g=this.val,m=p.x,T=p.y,S=p.z,P=Math.sqrt(m*m+T*T+S*S);if(Math.abs(P)<s)return this;P=1/P,m*=P,T*=P,S*=P;var E=Math.sin(c),R=Math.cos(c),A=1-R,w=g[0],O=g[1],L=g[2],F=g[3],I=g[4],B=g[5],G=g[6],N=g[7],U=g[8],Y=g[9],X=g[10],b=g[11],z=g[12],D=g[13],V=g[14],k=g[15],W=m*m*A+R,H=T*m*A+S*E,$=S*m*A-T*E,K=m*T*A-S*E,Z=T*T*A+R,j=S*T*A+m*E,J=m*S*A+T*E,Q=T*S*A-m*E,q=S*S*A+R;return this.setValues(w*W+I*H+U*$,O*W+B*H+Y*$,L*W+G*H+X*$,F*W+N*H+b*$,w*K+I*Z+U*j,O*K+B*Z+Y*j,L*K+G*Z+X*j,F*K+N*Z+b*j,w*J+I*Q+U*q,O*J+B*Q+Y*q,L*J+G*Q+X*q,F*J+N*Q+b*q,z,D,V,k)},rotateX:function(c){var p=this.val,g=Math.sin(c),m=Math.cos(c),T=p[4],S=p[5],P=p[6],E=p[7],R=p[8],A=p[9],w=p[10],O=p[11];return p[4]=T*m+R*g,p[5]=S*m+A*g,p[6]=P*m+w*g,p[7]=E*m+O*g,p[8]=R*m-T*g,p[9]=A*m-S*g,p[10]=w*m-P*g,p[11]=O*m-E*g,this},rotateY:function(c){var p=this.val,g=Math.sin(c),m=Math.cos(c),T=p[0],S=p[1],P=p[2],E=p[3],R=p[8],A=p[9],w=p[10],O=p[11];return p[0]=T*m-R*g,p[1]=S*m-A*g,p[2]=P*m-w*g,p[3]=E*m-O*g,p[8]=T*g+R*m,p[9]=S*g+A*m,p[10]=P*g+w*m,p[11]=E*g+O*m,this},rotateZ:function(c){var p=this.val,g=Math.sin(c),m=Math.cos(c),T=p[0],S=p[1],P=p[2],E=p[3],R=p[4],A=p[5],w=p[6],O=p[7];return p[0]=T*m+R*g,p[1]=S*m+A*g,p[2]=P*m+w*g,p[3]=E*m+O*g,p[4]=R*m-T*g,p[5]=A*m-S*g,p[6]=w*m-P*g,p[7]=O*m-E*g,this},fromRotationTranslation:function(c,p){var g=c.x,m=c.y,T=c.z,S=c.w,P=g+g,E=m+m,R=T+T,A=g*P,w=g*E,O=g*R,L=m*E,F=m*R,I=T*R,B=S*P,G=S*E,N=S*R;return this.setValues(1-(L+I),w+N,O-G,0,w-N,1-(A+I),F+B,0,O+G,F-B,1-(A+L),0,p.x,p.y,p.z,1)},fromQuat:function(c){var p=c.x,g=c.y,m=c.z,T=c.w,S=p+p,P=g+g,E=m+m,R=p*S,A=p*P,w=p*E,O=g*P,L=g*E,F=m*E,I=T*S,B=T*P,G=T*E;return this.setValues(1-(O+F),A+G,w-B,0,A-G,1-(R+F),L+I,0,w+B,L-I,1-(R+O),0,0,0,0,1)},frustum:function(c,p,g,m,T,S){var P=1/(p-c),E=1/(m-g),R=1/(T-S);return this.setValues(T*2*P,0,0,0,0,T*2*E,0,0,(p+c)*P,(m+g)*E,(S+T)*R,-1,0,0,S*T*2*R,0)},perspective:function(c,p,g,m){var T=1/Math.tan(c/2),S=1/(g-m);return this.setValues(T/p,0,0,0,0,T,0,0,0,0,(m+g)*S,-1,0,0,2*m*g*S,0)},perspectiveLH:function(c,p,g,m){return this.setValues(2*g/c,0,0,0,0,2*g/p,0,0,0,0,-m/(g-m),1,0,0,g*m/(g-m),0)},ortho:function(c,p,g,m,T,S){var P=c-p,E=g-m,R=T-S;return P=P===0?P:1/P,E=E===0?E:1/E,R=R===0?R:1/R,this.setValues(-2*P,0,0,0,0,-2*E,0,0,0,0,2*R,0,(c+p)*P,(m+g)*E,(S+T)*R,1)},lookAtRH:function(c,p,g){var m=this.val;return l.subVectors(c,p),l.getLengthSquared()===0&&(l.z=1),l.normalize(),u.crossVectors(g,l),u.getLengthSquared()===0&&(Math.abs(g.z)===1?l.x+=1e-4:l.z+=1e-4,l.normalize(),u.crossVectors(g,l)),u.normalize(),v.crossVectors(l,u),m[0]=u.x,m[1]=u.y,m[2]=u.z,m[4]=v.x,m[5]=v.y,m[6]=v.z,m[8]=l.x,m[9]=l.y,m[10]=l.z,this},lookAt:function(c,p,g){var m=c.x,T=c.y,S=c.z,P=g.x,E=g.y,R=g.z,A=p.x,w=p.y,O=p.z;if(Math.abs(m-A)<s&&Math.abs(T-w)<s&&Math.abs(S-O)<s)return this.identity();var L=m-A,F=T-w,I=S-O,B=1/Math.sqrt(L*L+F*F+I*I);L*=B,F*=B,I*=B;var G=E*I-R*F,N=R*L-P*I,U=P*F-E*L;B=Math.sqrt(G*G+N*N+U*U),B?(B=1/B,G*=B,N*=B,U*=B):(G=0,N=0,U=0);var Y=F*U-I*N,X=I*G-L*U,b=L*N-F*G;return B=Math.sqrt(Y*Y+X*X+b*b),B?(B=1/B,Y*=B,X*=B,b*=B):(Y=0,X=0,b=0),this.setValues(G,Y,L,0,N,X,F,0,U,b,I,0,-(G*m+N*T+U*S),-(Y*m+X*T+b*S),-(L*m+F*T+I*S),1)},yawPitchRoll:function(c,p,g){this.zero(),r.zero(),o.zero();var m=this.val,T=r.val,S=o.val,P=Math.sin(g),E=Math.cos(g);return m[10]=1,m[15]=1,m[0]=E,m[1]=P,m[4]=-P,m[5]=E,P=Math.sin(p),E=Math.cos(p),T[0]=1,T[15]=1,T[5]=E,T[10]=E,T[9]=-P,T[6]=P,P=Math.sin(c),E=Math.cos(c),S[5]=1,S[15]=1,S[0]=E,S[2]=-P,S[8]=P,S[10]=E,this.multiplyLocal(r),this.multiplyLocal(o),this},setWorldMatrix:function(c,p,g,m,T){return this.yawPitchRoll(c.y,c.x,c.z),r.scaling(g.x,g.y,g.z),o.xyz(p.x,p.y,p.z),this.multiplyLocal(r),this.multiplyLocal(o),m&&this.multiplyLocal(m),T&&this.multiplyLocal(T),this},multiplyToMat4:function(c,p){var g=this.val,m=c.val,T=g[0],S=g[1],P=g[2],E=g[3],R=g[4],A=g[5],w=g[6],O=g[7],L=g[8],F=g[9],I=g[10],B=g[11],G=g[12],N=g[13],U=g[14],Y=g[15],X=m[0],b=m[1],z=m[2],D=m[3],V=m[4],k=m[5],W=m[6],H=m[7],$=m[8],K=m[9],Z=m[10],j=m[11],J=m[12],Q=m[13],q=m[14],_=m[15];return p.setValues(X*T+b*R+z*L+D*G,b*S+b*A+z*F+D*N,z*P+b*w+z*I+D*U,D*E+b*O+z*B+D*Y,V*T+k*R+W*L+H*G,V*S+k*A+W*F+H*N,V*P+k*w+W*I+H*U,V*E+k*O+W*B+H*Y,$*T+K*R+Z*L+j*G,$*S+K*A+Z*F+j*N,$*P+K*w+Z*I+j*U,$*E+K*O+Z*B+j*Y,J*T+Q*R+q*L+_*G,J*S+Q*A+q*F+_*N,J*P+Q*w+q*I+_*U,J*E+Q*O+q*B+_*Y)},fromRotationXYTranslation:function(c,p,g){var m=p.x,T=p.y,S=p.z,P=Math.sin(c.x),E=Math.cos(c.x),R=Math.sin(c.y),A=Math.cos(c.y),w=m,O=T,L=S,F=-P,I=0-F*R,B=0-E*R,G=F*A,N=E*A;return g||(w=A*m+R*S,O=I*m+E*T+G*S,L=B*m+P*T+N*S),this.setValues(A,I,B,0,0,E,P,0,R,G,N,0,w,O,L,1)},getMaxScaleOnAxis:function(){var c=this.val,p=c[0]*c[0]+c[1]*c[1]+c[2]*c[2],g=c[4]*c[4]+c[5]*c[5]+c[6]*c[6],m=c[8]*c[8]+c[9]*c[9]+c[10]*c[10];return Math.sqrt(Math.max(p,g,m))}}),r=new a,o=new a,u=new d,v=new d,l=new d;h.exports=a},69635:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){return Math.min(e+f,d)};h.exports=y},37394:h=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){var f=e.length;if(f===0)return 0;e.sort(function(s,a){return s-a});var d=Math.floor(f/2);return f%2===0?(e[d]+e[d-1])/2:e[d]};h.exports=y},17259:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){return Math.max(e-f,d)};h.exports=y},61820:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){d===void 0&&(d=f+1);var a=(e-f)/(d-f);return a>1?s!==void 0?(a=(s-e)/(s-d),a<0&&(a=0)):a=1:a<0&&(a=0),a};h.exports=y},75003:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(5341),s=e(72283),a=e(70015),r=1e-6,o=new Int8Array([1,2,0]),u=new Float32Array([0,0,0]),v=new a(1,0,0),l=new a(0,1,0),c=new a,p=new d,g=new f({initialize:function(T,S,P,E){this.onChangeCallback=s,this.set(T,S,P,E)},x:{get:function(){return this._x},set:function(m){this._x=m,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(m){this._y=m,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(m){this._z=m,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(m){this._w=m,this.onChangeCallback(this)}},copy:function(m){return this.set(m)},set:function(m,T,S,P,E){return E===void 0&&(E=!0),typeof m=="object"?(this._x=m.x||0,this._y=m.y||0,this._z=m.z||0,this._w=m.w||0):(this._x=m||0,this._y=T||0,this._z=S||0,this._w=P||0),E&&this.onChangeCallback(this),this},add:function(m){return this._x+=m.x,this._y+=m.y,this._z+=m.z,this._w+=m.w,this.onChangeCallback(this),this},subtract:function(m){return this._x-=m.x,this._y-=m.y,this._z-=m.z,this._w-=m.w,this.onChangeCallback(this),this},scale:function(m){return this._x*=m,this._y*=m,this._z*=m,this._w*=m,this.onChangeCallback(this),this},length:function(){var m=this.x,T=this.y,S=this.z,P=this.w;return Math.sqrt(m*m+T*T+S*S+P*P)},lengthSq:function(){var m=this.x,T=this.y,S=this.z,P=this.w;return m*m+T*T+S*S+P*P},normalize:function(){var m=this.x,T=this.y,S=this.z,P=this.w,E=m*m+T*T+S*S+P*P;return E>0&&(E=1/Math.sqrt(E),this._x=m*E,this._y=T*E,this._z=S*E,this._w=P*E),this.onChangeCallback(this),this},dot:function(m){return this.x*m.x+this.y*m.y+this.z*m.z+this.w*m.w},lerp:function(m,T){T===void 0&&(T=0);var S=this.x,P=this.y,E=this.z,R=this.w;return this.set(S+T*(m.x-S),P+T*(m.y-P),E+T*(m.z-E),R+T*(m.w-R))},rotationTo:function(m,T){var S=m.x*T.x+m.y*T.y+m.z*T.z;return S<-.999999?(c.copy(v).cross(m).length()<r&&c.copy(l).cross(m),c.normalize(),this.setAxisAngle(c,Math.PI)):S>.999999?this.set(0,0,0,1):(c.copy(m).cross(T),this._x=c.x,this._y=c.y,this._z=c.z,this._w=1+S,this.normalize())},setAxes:function(m,T,S){var P=p.val;return P[0]=T.x,P[3]=T.y,P[6]=T.z,P[1]=S.x,P[4]=S.y,P[7]=S.z,P[2]=-m.x,P[5]=-m.y,P[8]=-m.z,this.fromMat3(p).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(m,T){T=T*.5;var S=Math.sin(T);return this.set(S*m.x,S*m.y,S*m.z,Math.cos(T))},multiply:function(m){var T=this.x,S=this.y,P=this.z,E=this.w,R=m.x,A=m.y,w=m.z,O=m.w;return this.set(T*O+E*R+S*w-P*A,S*O+E*A+P*R-T*w,P*O+E*w+T*A-S*R,E*O-T*R-S*A-P*w)},slerp:function(m,T){var S=this.x,P=this.y,E=this.z,R=this.w,A=m.x,w=m.y,O=m.z,L=m.w,F=S*A+P*w+E*O+R*L;F<0&&(F=-F,A=-A,w=-w,O=-O,L=-L);var I=1-T,B=T;if(1-F>r){var G=Math.acos(F),N=Math.sin(G);I=Math.sin((1-T)*G)/N,B=Math.sin(T*G)/N}return this.set(I*S+B*A,I*P+B*w,I*E+B*O,I*R+B*L)},invert:function(){var m=this.x,T=this.y,S=this.z,P=this.w,E=m*m+T*T+S*S+P*P,R=E?1/E:0;return this.set(-m*R,-T*R,-S*R,P*R)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(m){m*=.5;var T=this.x,S=this.y,P=this.z,E=this.w,R=Math.sin(m),A=Math.cos(m);return this.set(T*A+E*R,S*A+P*R,P*A-S*R,E*A-T*R)},rotateY:function(m){m*=.5;var T=this.x,S=this.y,P=this.z,E=this.w,R=Math.sin(m),A=Math.cos(m);return this.set(T*A-P*R,S*A+E*R,P*A+T*R,E*A-S*R)},rotateZ:function(m){m*=.5;var T=this.x,S=this.y,P=this.z,E=this.w,R=Math.sin(m),A=Math.cos(m);return this.set(T*A+S*R,S*A-T*R,P*A+E*R,E*A-P*R)},calculateW:function(){var m=this.x,T=this.y,S=this.z;return this.w=-Math.sqrt(1-m*m-T*T-S*S),this},setFromEuler:function(m,T){var S=m.x/2,P=m.y/2,E=m.z/2,R=Math.cos(S),A=Math.cos(P),w=Math.cos(E),O=Math.sin(S),L=Math.sin(P),F=Math.sin(E);switch(m.order){case"XYZ":{this.set(O*A*w+R*L*F,R*L*w-O*A*F,R*A*F+O*L*w,R*A*w-O*L*F,T);break}case"YXZ":{this.set(O*A*w+R*L*F,R*L*w-O*A*F,R*A*F-O*L*w,R*A*w+O*L*F,T);break}case"ZXY":{this.set(O*A*w-R*L*F,R*L*w+O*A*F,R*A*F+O*L*w,R*A*w-O*L*F,T);break}case"ZYX":{this.set(O*A*w-R*L*F,R*L*w+O*A*F,R*A*F-O*L*w,R*A*w+O*L*F,T);break}case"YZX":{this.set(O*A*w+R*L*F,R*L*w+O*A*F,R*A*F-O*L*w,R*A*w-O*L*F,T);break}case"XZY":{this.set(O*A*w-R*L*F,R*L*w-O*A*F,R*A*F+O*L*w,R*A*w+O*L*F,T);break}}return this},setFromRotationMatrix:function(m){var T=m.val,S=T[0],P=T[4],E=T[8],R=T[1],A=T[5],w=T[9],O=T[2],L=T[6],F=T[10],I=S+A+F,B;return I>0?(B=.5/Math.sqrt(I+1),this.set((L-w)*B,(E-O)*B,(R-P)*B,.25/B)):S>A&&S>F?(B=2*Math.sqrt(1+S-A-F),this.set(.25*B,(P+R)/B,(E+O)/B,(L-w)/B)):A>F?(B=2*Math.sqrt(1+A-S-F),this.set((P+R)/B,.25*B,(w+L)/B,(E-O)/B)):(B=2*Math.sqrt(1+F-S-A),this.set((E+O)/B,(w+L)/B,.25*B,(R-P)/B)),this},fromMat3:function(m){var T=m.val,S=T[0]+T[4]+T[8],P;if(S>0)P=Math.sqrt(S+1),this.w=.5*P,P=.5/P,this._x=(T[7]-T[5])*P,this._y=(T[2]-T[6])*P,this._z=(T[3]-T[1])*P;else{var E=0;T[4]>T[0]&&(E=1),T[8]>T[E*3+E]&&(E=2);var R=o[E],A=o[R];P=Math.sqrt(T[E*3+E]-T[R*3+R]-T[A*3+A]+1),u[E]=.5*P,P=.5/P,u[R]=(T[R*3+E]+T[E*3+R])*P,u[A]=(T[A*3+E]+T[E*3+A])*P,this._x=u[0],this._y=u[1],this._z=u[2],this._w=(T[A*3+R]-T[R*3+A])*P}return this.onChangeCallback(this),this}});h.exports=g},23701:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(83392),d=function(s){return s*f.RAD_TO_DEG};h.exports=d},16906:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){f===void 0&&(f=1);var d=Math.random()*2*Math.PI;return e.x=Math.cos(d)*f,e.y=Math.sin(d)*f,e};h.exports=y},52417:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){f===void 0&&(f=1);var d=Math.random()*2*Math.PI,s=Math.random()*2-1,a=Math.sqrt(1-s*s)*f;return e.x=Math.cos(d)*a,e.y=Math.sin(d)*a,e.z=s*f,e};h.exports=y},17915:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return f===void 0&&(f=1),e.x=(Math.random()*2-1)*f,e.y=(Math.random()*2-1)*f,e.z=(Math.random()*2-1)*f,e.w=(Math.random()*2-1)*f,e};h.exports=y},52257:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){var d=e.x,s=e.y;return e.x=d*Math.cos(f)-s*Math.sin(f),e.y=d*Math.sin(f)+s*Math.cos(f),e};h.exports=y},2386:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){var a=Math.cos(s),r=Math.sin(s),o=e.x-f,u=e.y-d;return e.x=o*a-u*r+f,e.y=o*r+u*a+d,e};h.exports=y},72395:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s,a){var r=s+Math.atan2(e.y-d,e.x-f);return e.x=f+a*Math.cos(r),e.y=d+a*Math.sin(r),e};h.exports=y},41061:h=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s,a){return e.x=f+a*Math.cos(s),e.y=d+a*Math.sin(s),e};h.exports=y},93709:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(70015),d=e(16650),s=e(75003),a=new d,r=new s,o=new f,u=function(v,l,c){return r.setAxisAngle(l,c),a.fromRotationTranslation(r,o.set(0,0,0)),v.transformMat4(a)};h.exports=u},67233:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e>0?Math.ceil(e):Math.floor(e)};h.exports=y},64333:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){f===void 0&&(f=0),d===void 0&&(d=10);var s=Math.pow(d,-f);return Math.round(e*s)/s};h.exports=y},59533:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){f===void 0&&(f=1),d===void 0&&(d=1),s===void 0&&(s=1),s*=Math.PI/e;for(var a=[],r=[],o=0;o<e;o++)d-=f*s,f+=d*s,a[o]=d,r[o]=f;return{sin:r,cos:a,length:e}};h.exports=y},5514:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){return e<=f?0:e>=d?1:(e=(e-f)/(d-f),e*e*(3-2*e))};h.exports=y},87736:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){return e=Math.max(0,Math.min(1,(e-f)/(d-f))),e*e*e*(e*(e*6-15)+10)};h.exports=y},55805:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(93736),d=function(s,a,r,o){o===void 0&&(o=new f);var u=0,v=0,l=a*r;return s>0&&s<=l&&(s>a-1?(v=Math.floor(s/a),u=s-v*a):u=s),o.set(u,v)};h.exports=d},64462:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(93736),d=function(s,a,r,o,u,v,l,c){c===void 0&&(c=new f);var p=Math.sin(u),g=Math.cos(u),m=g*v,T=p*v,S=-p*l,P=g*l,E=1/(m*P+S*-T);return c.x=P*E*s+-S*E*a+(o*S-r*P)*E,c.y=m*E*a+-T*E*s+(-o*m+r*T)*E,c};h.exports=d},93736:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(88456),s=new f({initialize:function(r,o){this.x=0,this.y=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0):(o===void 0&&(o=r),this.x=r||0,this.y=o||0)},clone:function(){return new s(this.x,this.y)},copy:function(a){return this.x=a.x||0,this.y=a.y||0,this},setFromObject:function(a){return this.x=a.x||0,this.y=a.y||0,this},set:function(a,r){return r===void 0&&(r=a),this.x=a,this.y=r,this},setTo:function(a,r){return this.set(a,r)},setToPolar:function(a,r){return r==null&&(r=1),this.x=Math.cos(a)*r,this.y=Math.sin(a)*r,this},equals:function(a){return this.x===a.x&&this.y===a.y},fuzzyEquals:function(a,r){return d(this.x,a.x,r)&&d(this.y,a.y,r)},angle:function(){var a=Math.atan2(this.y,this.x);return a<0&&(a+=2*Math.PI),a},setAngle:function(a){return this.setToPolar(a,this.length())},add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this},scale:function(a){return isFinite(a)?(this.x*=a,this.y*=a):(this.x=0,this.y=0),this},divide:function(a){return this.x/=a.x,this.y/=a.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(a){var r=a.x-this.x,o=a.y-this.y;return Math.sqrt(r*r+o*o)},distanceSq:function(a){var r=a.x-this.x,o=a.y-this.y;return r*r+o*o},length:function(){var a=this.x,r=this.y;return Math.sqrt(a*a+r*r)},setLength:function(a){return this.normalize().scale(a)},lengthSq:function(){var a=this.x,r=this.y;return a*a+r*r},normalize:function(){var a=this.x,r=this.y,o=a*a+r*r;return o>0&&(o=1/Math.sqrt(o),this.x=a*o,this.y=r*o),this},normalizeRightHand:function(){var a=this.x;return this.x=this.y*-1,this.y=a,this},normalizeLeftHand:function(){var a=this.x;return this.x=this.y,this.y=a*-1,this},dot:function(a){return this.x*a.x+this.y*a.y},cross:function(a){return this.x*a.y-this.y*a.x},lerp:function(a,r){r===void 0&&(r=0);var o=this.x,u=this.y;return this.x=o+r*(a.x-o),this.y=u+r*(a.y-u),this},transformMat3:function(a){var r=this.x,o=this.y,u=a.val;return this.x=u[0]*r+u[3]*o+u[6],this.y=u[1]*r+u[4]*o+u[7],this},transformMat4:function(a){var r=this.x,o=this.y,u=a.val;return this.x=u[0]*r+u[4]*o+u[12],this.y=u[1]*r+u[5]*o+u[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(a){var r=this.length();return r&&r>a&&this.scale(a/r),this},reflect:function(a){return a=a.clone().normalize(),this.subtract(a.scale(2*this.dot(a)))},mirror:function(a){return this.reflect(a).negate()},rotate:function(a){var r=Math.cos(a),o=Math.sin(a);return this.set(r*this.x-o*this.y,o*this.x+r*this.y)},project:function(a){var r=this.dot(a)/a.dot(a);return this.copy(a).scale(r)}});s.ZERO=new s,s.RIGHT=new s(1,0),s.LEFT=new s(-1,0),s.UP=new s(0,-1),s.DOWN=new s(0,1),s.ONE=new s(1,1),h.exports=s},70015:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=new f({initialize:function(a,r,o){this.x=0,this.y=0,this.z=0,typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0):(this.x=a||0,this.y=r||0,this.z=o||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(s){return this.x=Math.min(this.x,s.x),this.y=Math.min(this.y,s.y),this.z=Math.min(this.z,s.z),this},max:function(s){return this.x=Math.max(this.x,s.x),this.y=Math.max(this.y,s.y),this.z=Math.max(this.z,s.z),this},clone:function(){return new d(this.x,this.y,this.z)},addVectors:function(s,a){return this.x=s.x+a.x,this.y=s.y+a.y,this.z=s.z+a.z,this},crossVectors:function(s,a){var r=s.x,o=s.y,u=s.z,v=a.x,l=a.y,c=a.z;return this.x=o*c-u*l,this.y=u*v-r*c,this.z=r*l-o*v,this},equals:function(s){return this.x===s.x&&this.y===s.y&&this.z===s.z},copy:function(s){return this.x=s.x,this.y=s.y,this.z=s.z||0,this},set:function(s,a,r){return typeof s=="object"?(this.x=s.x||0,this.y=s.y||0,this.z=s.z||0):(this.x=s||0,this.y=a||0,this.z=r||0),this},setFromMatrixPosition:function(s){return this.fromArray(s.val,12)},setFromMatrixColumn:function(s,a){return this.fromArray(s.val,a*4)},fromArray:function(s,a){return a===void 0&&(a=0),this.x=s[a],this.y=s[a+1],this.z=s[a+2],this},add:function(s){return this.x+=s.x,this.y+=s.y,this.z+=s.z||0,this},addScalar:function(s){return this.x+=s,this.y+=s,this.z+=s,this},addScale:function(s,a){return this.x+=s.x*a,this.y+=s.y*a,this.z+=s.z*a||0,this},subtract:function(s){return this.x-=s.x,this.y-=s.y,this.z-=s.z||0,this},multiply:function(s){return this.x*=s.x,this.y*=s.y,this.z*=s.z||1,this},scale:function(s){return isFinite(s)?(this.x*=s,this.y*=s,this.z*=s):(this.x=0,this.y=0,this.z=0),this},divide:function(s){return this.x/=s.x,this.y/=s.y,this.z/=s.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(s){var a=s.x-this.x,r=s.y-this.y,o=s.z-this.z||0;return Math.sqrt(a*a+r*r+o*o)},distanceSq:function(s){var a=s.x-this.x,r=s.y-this.y,o=s.z-this.z||0;return a*a+r*r+o*o},length:function(){var s=this.x,a=this.y,r=this.z;return Math.sqrt(s*s+a*a+r*r)},lengthSq:function(){var s=this.x,a=this.y,r=this.z;return s*s+a*a+r*r},normalize:function(){var s=this.x,a=this.y,r=this.z,o=s*s+a*a+r*r;return o>0&&(o=1/Math.sqrt(o),this.x=s*o,this.y=a*o,this.z=r*o),this},dot:function(s){return this.x*s.x+this.y*s.y+this.z*s.z},cross:function(s){var a=this.x,r=this.y,o=this.z,u=s.x,v=s.y,l=s.z;return this.x=r*l-o*v,this.y=o*u-a*l,this.z=a*v-r*u,this},lerp:function(s,a){a===void 0&&(a=0);var r=this.x,o=this.y,u=this.z;return this.x=r+a*(s.x-r),this.y=o+a*(s.y-o),this.z=u+a*(s.z-u),this},applyMatrix3:function(s){var a=this.x,r=this.y,o=this.z,u=s.val;return this.x=u[0]*a+u[3]*r+u[6]*o,this.y=u[1]*a+u[4]*r+u[7]*o,this.z=u[2]*a+u[5]*r+u[8]*o,this},applyMatrix4:function(s){var a=this.x,r=this.y,o=this.z,u=s.val,v=1/(u[3]*a+u[7]*r+u[11]*o+u[15]);return this.x=(u[0]*a+u[4]*r+u[8]*o+u[12])*v,this.y=(u[1]*a+u[5]*r+u[9]*o+u[13])*v,this.z=(u[2]*a+u[6]*r+u[10]*o+u[14])*v,this},transformMat3:function(s){var a=this.x,r=this.y,o=this.z,u=s.val;return this.x=a*u[0]+r*u[3]+o*u[6],this.y=a*u[1]+r*u[4]+o*u[7],this.z=a*u[2]+r*u[5]+o*u[8],this},transformMat4:function(s){var a=this.x,r=this.y,o=this.z,u=s.val;return this.x=u[0]*a+u[4]*r+u[8]*o+u[12],this.y=u[1]*a+u[5]*r+u[9]*o+u[13],this.z=u[2]*a+u[6]*r+u[10]*o+u[14],this},transformCoordinates:function(s){var a=this.x,r=this.y,o=this.z,u=s.val,v=a*u[0]+r*u[4]+o*u[8]+u[12],l=a*u[1]+r*u[5]+o*u[9]+u[13],c=a*u[2]+r*u[6]+o*u[10]+u[14],p=a*u[3]+r*u[7]+o*u[11]+u[15];return this.x=v/p,this.y=l/p,this.z=c/p,this},transformQuat:function(s){var a=this.x,r=this.y,o=this.z,u=s.x,v=s.y,l=s.z,c=s.w,p=c*a+v*o-l*r,g=c*r+l*a-u*o,m=c*o+u*r-v*a,T=-u*a-v*r-l*o;return this.x=p*c+T*-u+g*-l-m*-v,this.y=g*c+T*-v+m*-u-p*-l,this.z=m*c+T*-l+p*-v-g*-u,this},project:function(s){var a=this.x,r=this.y,o=this.z,u=s.val,v=u[0],l=u[1],c=u[2],p=u[3],g=u[4],m=u[5],T=u[6],S=u[7],P=u[8],E=u[9],R=u[10],A=u[11],w=u[12],O=u[13],L=u[14],F=u[15],I=1/(a*p+r*S+o*A+F);return this.x=(a*v+r*g+o*P+w)*I,this.y=(a*l+r*m+o*E+O)*I,this.z=(a*c+r*T+o*R+L)*I,this},projectViewMatrix:function(s,a){return this.applyMatrix4(s).applyMatrix4(a)},unprojectViewMatrix:function(s,a){return this.applyMatrix4(s).applyMatrix4(a)},unproject:function(s,a){var r=s.x,o=s.y,u=s.z,v=s.w,l=this.x-r,c=v-this.y-1-o,p=this.z;return this.x=2*l/u-1,this.y=2*c/v-1,this.z=2*p-1,this.project(a)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});d.ZERO=new d,d.RIGHT=new d(1,0,0),d.LEFT=new d(-1,0,0),d.UP=new d(0,-1,0),d.DOWN=new d(0,1,0),d.FORWARD=new d(0,0,1),d.BACK=new d(0,0,-1),d.ONE=new d(1,1,1),h.exports=d},51729:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=new f({initialize:function(a,r,o,u){this.x=0,this.y=0,this.z=0,this.w=0,typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0,this.w=a.w||0):(this.x=a||0,this.y=r||0,this.z=o||0,this.w=u||0)},clone:function(){return new d(this.x,this.y,this.z,this.w)},copy:function(s){return this.x=s.x,this.y=s.y,this.z=s.z||0,this.w=s.w||0,this},equals:function(s){return this.x===s.x&&this.y===s.y&&this.z===s.z&&this.w===s.w},set:function(s,a,r,o){return typeof s=="object"?(this.x=s.x||0,this.y=s.y||0,this.z=s.z||0,this.w=s.w||0):(this.x=s||0,this.y=a||0,this.z=r||0,this.w=o||0),this},add:function(s){return this.x+=s.x,this.y+=s.y,this.z+=s.z||0,this.w+=s.w||0,this},subtract:function(s){return this.x-=s.x,this.y-=s.y,this.z-=s.z||0,this.w-=s.w||0,this},scale:function(s){return this.x*=s,this.y*=s,this.z*=s,this.w*=s,this},length:function(){var s=this.x,a=this.y,r=this.z,o=this.w;return Math.sqrt(s*s+a*a+r*r+o*o)},lengthSq:function(){var s=this.x,a=this.y,r=this.z,o=this.w;return s*s+a*a+r*r+o*o},normalize:function(){var s=this.x,a=this.y,r=this.z,o=this.w,u=s*s+a*a+r*r+o*o;return u>0&&(u=1/Math.sqrt(u),this.x=s*u,this.y=a*u,this.z=r*u,this.w=o*u),this},dot:function(s){return this.x*s.x+this.y*s.y+this.z*s.z+this.w*s.w},lerp:function(s,a){a===void 0&&(a=0);var r=this.x,o=this.y,u=this.z,v=this.w;return this.x=r+a*(s.x-r),this.y=o+a*(s.y-o),this.z=u+a*(s.z-u),this.w=v+a*(s.w-v),this},multiply:function(s){return this.x*=s.x,this.y*=s.y,this.z*=s.z||1,this.w*=s.w||1,this},divide:function(s){return this.x/=s.x,this.y/=s.y,this.z/=s.z||1,this.w/=s.w||1,this},distance:function(s){var a=s.x-this.x,r=s.y-this.y,o=s.z-this.z||0,u=s.w-this.w||0;return Math.sqrt(a*a+r*r+o*o+u*u)},distanceSq:function(s){var a=s.x-this.x,r=s.y-this.y,o=s.z-this.z||0,u=s.w-this.w||0;return a*a+r*r+o*o+u*u},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(s){var a=this.x,r=this.y,o=this.z,u=this.w,v=s.val;return this.x=v[0]*a+v[4]*r+v[8]*o+v[12]*u,this.y=v[1]*a+v[5]*r+v[9]*o+v[13]*u,this.z=v[2]*a+v[6]*r+v[10]*o+v[14]*u,this.w=v[3]*a+v[7]*r+v[11]*o+v[15]*u,this},transformQuat:function(s){var a=this.x,r=this.y,o=this.z,u=s.x,v=s.y,l=s.z,c=s.w,p=c*a+v*o-l*r,g=c*r+l*a-u*o,m=c*o+u*r-v*a,T=-u*a-v*r-l*o;return this.x=p*c+T*-u+g*-l-m*-v,this.y=g*c+T*-v+m*-u-p*-l,this.z=m*c+T*-l+p*-v-g*-u,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});d.prototype.sub=d.prototype.subtract,d.prototype.mul=d.prototype.multiply,d.prototype.div=d.prototype.divide,d.prototype.dist=d.prototype.distance,d.prototype.distSq=d.prototype.distanceSq,d.prototype.len=d.prototype.length,d.prototype.lenSq=d.prototype.lengthSq,h.exports=d},9557:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){return Math.abs(e-f)<=d};h.exports=y},1071:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){var s=d-f;return f+((e-f)%s+s)%s};h.exports=y},90447:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){return Math.atan2(s-f,d-e)};h.exports=y},94240:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return Math.atan2(f.y-e.y,f.x-e.x)};h.exports=y},84066:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return Math.atan2(f.x-e.x,f.y-e.y)};h.exports=y},9678:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){return Math.atan2(d-e,s-f)};h.exports=y},76861:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(83392),d=function(s){return s>Math.PI&&(s-=f.PI2),Math.abs(((s+f.TAU)%f.PI2-f.PI2)%f.PI2)};h.exports=d},37570:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e=e%(2*Math.PI),e>=0?e:e+2*Math.PI};h.exports=y},87597:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61616),d=function(){return f(-Math.PI,Math.PI)};h.exports=d},74493:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61616),d=function(){return f(-180,180)};h.exports=d},19049:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(37570),d=function(s){return f(s+Math.PI)};h.exports=d},90612:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(83392),d=function(s,a,r){return r===void 0&&(r=.05),s===a||(Math.abs(a-s)<=r||Math.abs(a-s)>=f.PI2-r?s=a:(Math.abs(a-s)>Math.PI&&(a<s?a+=f.PI2:a-=f.PI2),a>s?s+=r:a<s&&(s-=r))),s};h.exports=d},93954:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){var d=f-e;if(d===0)return 0;var s=Math.floor((d- -180)/360);return d-s*360};h.exports=y},35786:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(1071),d=function(s){return f(s,-Math.PI,Math.PI)};h.exports=d},62138:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(1071),d=function(s){return f(s,-180,180)};h.exports=d},22153:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Between:e(90447),BetweenPoints:e(94240),BetweenPointsY:e(84066),BetweenY:e(9678),CounterClockwise:e(76861),Normalize:e(37570),Random:e(87597),RandomDegrees:e(74493),Reverse:e(19049),RotateTo:e(90612),ShortestBetween:e(93954),Wrap:e(35786),WrapDegrees:e(62138)}},83392:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};h.exports=y},53996:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){var a=e-d,r=f-s;return Math.sqrt(a*a+r*r)};h.exports=y},92951:h=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){var d=e.x-f.x,s=e.y-f.y;return Math.sqrt(d*d+s*s)};h.exports=y},12161:h=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){var d=e.x-f.x,s=e.y-f.y;return d*d+s*s};h.exports=y},38057:h=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){return Math.max(Math.abs(e-d),Math.abs(f-s))};h.exports=y},33297:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s,a){return a===void 0&&(a=2),Math.sqrt(Math.pow(d-e,a)+Math.pow(s-f,a))};h.exports=y},90366:h=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){return Math.abs(e-d)+Math.abs(f-s)};h.exports=y},35032:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){var a=e-d,r=f-s;return a*a+r*r};h.exports=y},10130:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Between:e(53996),BetweenPoints:e(92951),BetweenPointsSquared:e(12161),Chebyshev:e(38057),Power:e(33297),Snake:e(90366),Squared:e(35032)}},35060:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(25265),d=e(57428),s=e(73214),a=e(71778),r=e(36468),o=e(88258),u=e(52910),v=e(67799),l=e(74083),c=e(92284),p=e(28035),g=e(8754);h.exports={Power0:u,Power1:v.Out,Power2:a.Out,Power3:l.Out,Power4:c.Out,Linear:u,Quad:v.Out,Cubic:a.Out,Quart:l.Out,Quint:c.Out,Sine:p.Out,Expo:o.Out,Circ:s.Out,Elastic:r.Out,Back:f.Out,Bounce:d.Out,Stepped:g,"Quad.easeIn":v.In,"Cubic.easeIn":a.In,"Quart.easeIn":l.In,"Quint.easeIn":c.In,"Sine.easeIn":p.In,"Expo.easeIn":o.In,"Circ.easeIn":s.In,"Elastic.easeIn":r.In,"Back.easeIn":f.In,"Bounce.easeIn":d.In,"Quad.easeOut":v.Out,"Cubic.easeOut":a.Out,"Quart.easeOut":l.Out,"Quint.easeOut":c.Out,"Sine.easeOut":p.Out,"Expo.easeOut":o.Out,"Circ.easeOut":s.Out,"Elastic.easeOut":r.Out,"Back.easeOut":f.Out,"Bounce.easeOut":d.Out,"Quad.easeInOut":v.InOut,"Cubic.easeInOut":a.InOut,"Quart.easeInOut":l.InOut,"Quint.easeInOut":c.InOut,"Sine.easeInOut":p.InOut,"Expo.easeInOut":o.InOut,"Circ.easeInOut":s.InOut,"Elastic.easeInOut":r.InOut,"Back.easeInOut":f.InOut,"Bounce.easeInOut":d.InOut}},25860:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return f===void 0&&(f=1.70158),e*e*((f+1)*e-f)};h.exports=y},45264:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){f===void 0&&(f=1.70158);var d=f*1.525;return(e*=2)<1?.5*(e*e*((d+1)*e-d)):.5*((e-=2)*e*((d+1)*e+d)+2)};h.exports=y},36699:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return f===void 0&&(f=1.70158),--e*e*((f+1)*e+f)+1};h.exports=y},25265:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={In:e(25860),Out:e(36699),InOut:e(45264)}},62191:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e=1-e,e<.36363636363636365?1-7.5625*e*e:e<.7272727272727273?1-(7.5625*(e-=.5454545454545454)*e+.75):e<.9090909090909091?1-(7.5625*(e-=.8181818181818182)*e+.9375):1-(7.5625*(e-=.9545454545454546)*e+.984375)};h.exports=y},24799:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){var f=!1;return e<.5?(e=1-e*2,f=!0):e=e*2-1,e<.36363636363636365?e=7.5625*e*e:e<.7272727272727273?e=7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?e=7.5625*(e-=.8181818181818182)*e+.9375:e=7.5625*(e-=.9545454545454546)*e+.984375,f?(1-e)*.5:e*.5+.5};h.exports=y},60819:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375};h.exports=y},57428:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={In:e(62191),Out:e(60819),InOut:e(24799)}},86855:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return 1-Math.sqrt(1-e*e)};h.exports=y},7280:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)};h.exports=y},18058:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return Math.sqrt(1- --e*e)};h.exports=y},73214:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={In:e(86855),Out:e(18058),InOut:e(7280)}},91532:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e*e*e};h.exports=y},63180:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)};h.exports=y},16518:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return--e*e*e+1};h.exports=y},71778:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={In:e(91532),Out:e(16518),InOut:e(63180)}},24729:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){if(f===void 0&&(f=.1),d===void 0&&(d=.1),e===0)return 0;if(e===1)return 1;var s=d/4;return f<1?f=1:s=d*Math.asin(1/f)/(2*Math.PI),-(f*Math.pow(2,10*(e-=1))*Math.sin((e-s)*(2*Math.PI)/d))};h.exports=y},50325:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){if(f===void 0&&(f=.1),d===void 0&&(d=.1),e===0)return 0;if(e===1)return 1;var s=d/4;return f<1?f=1:s=d*Math.asin(1/f)/(2*Math.PI),(e*=2)<1?-.5*(f*Math.pow(2,10*(e-=1))*Math.sin((e-s)*(2*Math.PI)/d)):f*Math.pow(2,-10*(e-=1))*Math.sin((e-s)*(2*Math.PI)/d)*.5+1};h.exports=y},84074:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){if(f===void 0&&(f=.1),d===void 0&&(d=.1),e===0)return 0;if(e===1)return 1;var s=d/4;return f<1?f=1:s=d*Math.asin(1/f)/(2*Math.PI),f*Math.pow(2,-10*e)*Math.sin((e-s)*(2*Math.PI)/d)+1};h.exports=y},36468:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={In:e(24729),Out:e(84074),InOut:e(50325)}},95638:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return Math.pow(2,10*(e-1))-.001};h.exports=y},10357:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))};h.exports=y},14894:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return 1-Math.pow(2,-10*e)};h.exports=y},88258:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={In:e(95638),Out:e(14894),InOut:e(10357)}},33063:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Back:e(25265),Bounce:e(57428),Circular:e(73214),Cubic:e(71778),Elastic:e(36468),Expo:e(88258),Linear:e(52910),Quadratic:e(67799),Quartic:e(74083),Quintic:e(92284),Sine:e(28035),Stepped:e(8754)}},43927:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e};h.exports=y},52910:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports=e(43927)},77471:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e*e};h.exports=y},83863:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)};h.exports=y},44383:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e*(2-e)};h.exports=y},67799:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={In:e(77471),Out:e(44383),InOut:e(83863)}},48311:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e*e*e*e};h.exports=y},55248:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)};h.exports=y},23135:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return 1- --e*e*e*e};h.exports=y},74083:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={In:e(48311),Out:e(23135),InOut:e(55248)}},7313:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e*e*e*e*e};h.exports=y},98759:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)};h.exports=y},26670:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return--e*e*e*e*e+1};h.exports=y},92284:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={In:e(7313),Out:e(26670),InOut:e(98759)}},52929:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e===0?0:e===1?1:1-Math.cos(e*Math.PI/2)};h.exports=y},66333:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e===0?0:e===1?1:.5*(1-Math.cos(Math.PI*e))};h.exports=y},37255:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e===0?0:e===1?1:Math.sin(e*Math.PI/2)};h.exports=y},28035:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={In:e(52929),Out:e(37255),InOut:e(66333)}},52770:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return f===void 0&&(f=1),e<=0?0:e>=1?1:((f*e|0)+1)*(1/f)};h.exports=y},8754:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports=e(52770)},17247:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return f===void 0&&(f=1e-4),Math.ceil(e-f)};h.exports=y},88456:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){return d===void 0&&(d=1e-4),Math.abs(e-f)<d};h.exports=y},61824:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return f===void 0&&(f=1e-4),Math.floor(e+f)};h.exports=y},41935:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){return d===void 0&&(d=1e-4),e>f-d};h.exports=y},54726:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){return d===void 0&&(d=1e-4),e<f+d};h.exports=y},52778:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Ceil:e(17247),Equal:e(88456),Floor:e(61824),GreaterThan:e(41935),LessThan:e(54726)}},5923:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(83392),d=e(98611),s={Angle:e(22153),Distance:e(10130),Easing:e(33063),Fuzzy:e(52778),Interpolation:e(48528),Pow2:e(73773),Snap:e(23679),RandomDataGenerator:e(81429),Average:e(26042),Bernstein:e(22824),Between:e(17489),CatmullRom:e(14976),CeilTo:e(89129),Clamp:e(82897),DegToRad:e(75606),Difference:e(767),Euler:e(9849),Factorial:e(8034),FloatBetween:e(61616),FloorTo:e(60679),FromPercent:e(91806),GetSpeed:e(79366),IsEven:e(43776),IsEvenStrict:e(58442),Linear:e(42798),LinearXY:e(61072),MaxAdd:e(69635),Median:e(37394),MinSub:e(17259),Percent:e(61820),RadToDeg:e(23701),RandomXY:e(16906),RandomXYZ:e(52417),RandomXYZW:e(17915),Rotate:e(52257),RotateAround:e(2386),RotateAroundDistance:e(72395),RotateTo:e(41061),RoundAwayFromZero:e(67233),RoundTo:e(64333),SinCosTableGenerator:e(59533),SmootherStep:e(87736),SmoothStep:e(5514),ToXY:e(55805),TransformXY:e(64462),Within:e(9557),Wrap:e(1071),Vector2:e(93736),Vector3:e(70015),Vector4:e(51729),Matrix3:e(5341),Matrix4:e(16650),Quaternion:e(75003),RotateVec3:e(93709)};s=d(!1,s,f),h.exports=s},63210:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(22824),d=function(s,a){for(var r=0,o=s.length-1,u=0;u<=o;u++)r+=Math.pow(1-a,o-u)*Math.pow(a,u)*s[u]*f(o,u);return r};h.exports=d},88332:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(14976),d=function(s,a){var r=s.length-1,o=r*a,u=Math.floor(o);return s[0]===s[r]?(a<0&&(u=Math.floor(o=r*(1+a))),f(o-u,s[(u-1+r)%r],s[u],s[(u+1)%r],s[(u+2)%r])):a<0?s[0]-(f(-o,s[0],s[0],s[1],s[1])-s[0]):a>1?s[r]-(f(o-r,s[r],s[r],s[r-1],s[r-1])-s[r]):f(o-u,s[u?u-1:0],s[u],s[r<u+1?r:u+1],s[r<u+2?r:u+2])};h.exports=d},34631:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(a,r){var o=1-a;return o*o*o*r}function e(a,r){var o=1-a;return 3*o*o*a*r}function f(a,r){return 3*(1-a)*a*a*r}function d(a,r){return a*a*a*r}var s=function(a,r,o,u,v){return y(a,r)+e(a,o)+f(a,u)+d(a,v)};h.exports=s},47614:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(42798),d=function(s,a){var r=s.length-1,o=r*a,u=Math.floor(o);return a<0?f(s[0],s[1],o):a>1?f(s[r],s[r-1],r-o):f(s[u],s[u+1>r?r:u+1],o-u)};h.exports=d},16252:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(s,a){var r=1-s;return r*r*a}function e(s,a){return 2*(1-s)*s*a}function f(s,a){return s*s*a}var d=function(s,a,r,o){return y(s,a)+e(s,r)+f(s,o)};h.exports=d},44521:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(5514),d=function(s,a,r){return a+(r-a)*f(s,0,1)};h.exports=d},45507:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(87736),d=function(s,a,r){return a+(r-a)*f(s,0,1)};h.exports=d},48528:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Bezier:e(63210),CatmullRom:e(88332),CubicBezier:e(34631),Linear:e(47614),QuadraticBezier:e(16252),SmoothStep:e(44521),SmootherStep:e(45507)}},3504:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){var f=Math.log(e)/.6931471805599453;return 1<<Math.ceil(f)};h.exports=y},28621:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e>0&&(e&e-1)===0&&f>0&&(f&f-1)===0};h.exports=y},2018:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e>0&&(e&e-1)===0};h.exports=y},73773:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={GetNext:e(3504),IsSize:e(28621),IsValue:e(2018)}},81429:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=new f({initialize:function(a){a===void 0&&(a=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],a&&this.init(a)},rnd:function(){var s=2091639*this.s0+this.c*23283064365386963e-26;return this.c=s|0,this.s0=this.s1,this.s1=this.s2,this.s2=s-this.c,this.s2},hash:function(s){var a,r=this.n;s=s.toString();for(var o=0;o<s.length;o++)r+=s.charCodeAt(o),a=.02519603282416938*r,r=a>>>0,a-=r,a*=r,r=a>>>0,a-=r,r+=a*4294967296;return this.n=r,(r>>>0)*23283064365386963e-26},init:function(s){typeof s=="string"?this.state(s):this.sow(s)},sow:function(s){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!s)for(var a=0;a<s.length&&s[a]!=null;a++){var r=s[a];this.s0-=this.hash(r),this.s0+=~~(this.s0<0),this.s1-=this.hash(r),this.s1+=~~(this.s1<0),this.s2-=this.hash(r),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(s,a){return Math.floor(this.realInRange(0,a-s+1)+s)},between:function(s,a){return Math.floor(this.realInRange(0,a-s+1)+s)},realInRange:function(s,a){return this.frac()*(a-s)+s},normal:function(){return 1-2*this.frac()},uuid:function(){var s="",a="";for(a=s="";s++<36;a+=~s%5|s*3&4?(s^15?8^this.frac()*(s^20?16:4):4).toString(16):"-");return a},pick:function(s){return s[this.integerInRange(0,s.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(s){return s[~~(Math.pow(this.frac(),2)*s.length+.5)]},timestamp:function(s,a){return this.realInRange(s||9466848e5,a||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(s){return typeof s=="string"&&s.match(/^!rnd/)&&(s=s.split(","),this.c=parseFloat(s[1]),this.s0=parseFloat(s[2]),this.s1=parseFloat(s[3]),this.s2=parseFloat(s[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(s){for(var a=s.length-1,r=a;r>0;r--){var o=Math.floor(this.frac()*(r+1)),u=s[o];s[o]=s[r],s[r]=u}return s}});h.exports=d},82127:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){return d===void 0&&(d=0),f===0?e:(e-=d,e=f*Math.ceil(e/f),s?(d+e)/f:d+e)};h.exports=y},84314:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){return d===void 0&&(d=0),f===0?e:(e-=d,e=f*Math.floor(e/f),s?(d+e)/f:d+e)};h.exports=y},88462:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){return d===void 0&&(d=0),f===0?e:(e-=d,e=f*Math.round(e/f),s?(d+e)/f:d+e)};h.exports=y},23679:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Ceil:e(82127),Floor:e(84314),To:e(88462)}},92491:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e(75205);var f=e(86459),d=e(98611),s={Actions:e(83979),Animations:e(13517),BlendModes:e(95723),Cache:e(45820),Cameras:e(44143),Core:e(80293),Class:e(56694),Create:e(84106),Curves:e(73962),Data:e(1999),Display:e(24816),DOM:e(3590),Events:e(95146),FX:e(96910),Game:e(15213),GameObjects:e(48013),Geom:e(84068),Input:e(20873),Loader:e(95695),Math:e(5923),Physics:e(53954),Plugins:e(45615),Renderer:e(42069),Scale:e(86754),ScaleModes:e(27394),Scene:e(87157),Scenes:e(20436),Structs:e(20010),Textures:e(87499),Tilemaps:e(52678),Time:e(97121),Tweens:e(75193),Utils:e(22178)};s.Sound=e(56751),s=d(!1,s,f),h.exports=s,e.g.Phaser=s},62832:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(7864),s=e(1539),a=new f({Extends:s,Mixins:[d.Acceleration,d.Angular,d.Bounce,d.Collision,d.Debug,d.Drag,d.Enable,d.Friction,d.Gravity,d.Immovable,d.Mass,d.Pushable,d.Size,d.Velocity],initialize:function(o,u,v,l,c){s.call(this,o,u,v,l,c),this.body=null}});h.exports=a},66150:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(75606),s=e(53996),a=e(35032),r=e(99523),o=e(72632),u=e(30657),v=e(2732),l=e(15147),c=e(91963),p=e(7599),g=e(93736),m=e(85233),T=new f({initialize:function(P){this.scene=P,this.systems=P.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,P.sys.events.once(p.BOOT,this.boot,this),P.sys.events.on(p.START,this.start,this)},boot:function(){this.world=new m(this.scene,this.config),this.add=new r(this.world),this.systems.events.once(p.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new m(this.scene,this.config),this.add=new r(this.world));var S=this.systems.events;o(this.config,"customUpdate",!1)||S.on(p.UPDATE,this.world.update,this.world),S.on(p.POST_UPDATE,this.world.postUpdate,this.world),S.once(p.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(p.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(p.UPDATE,this.world.update,this.world)},getConfig:function(){var S=this.systems.game.config.physics,P=this.systems.settings.physics,E=u(o(P,"arcade",{}),o(S,"arcade",{}));return E},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(S,P,E,R,A){return E===void 0&&(E=null),R===void 0&&(R=null),A===void 0&&(A=E),this.world.collideObjects(S,P,E,R,A,!0)},collide:function(S,P,E,R,A){return E===void 0&&(E=null),R===void 0&&(R=null),A===void 0&&(A=E),this.world.collideObjects(S,P,E,R,A,!1)},collideTiles:function(S,P,E,R,A){return this.world.collideTiles(S,P,E,R,A)},overlapTiles:function(S,P,E,R,A){return this.world.overlapTiles(S,P,E,R,A)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(S,P,E,R,A,w){R===void 0&&(R=60);var O=Math.atan2(E-S.y,P-S.x);return S.body.acceleration.setToPolar(O,R),A!==void 0&&w!==void 0&&S.body.maxVelocity.set(A,w),O},accelerateToObject:function(S,P,E,R,A){return this.accelerateTo(S,P.x,P.y,E,R,A)},closest:function(S,P){P||(P=this.world.bodies.entries);for(var E=Number.MAX_VALUE,R=null,A=S.x,w=S.y,O=P.length,L=0;L<O;L++){var F=P[L],I=F.body||F;if(!(S===F||S===I||S===I.gameObject||S===I.center)){var B=a(A,w,I.center.x,I.center.y);B<E&&(R=F,E=B)}}return R},furthest:function(S,P){P||(P=this.world.bodies.entries);for(var E=-1,R=null,A=S.x,w=S.y,O=P.length,L=0;L<O;L++){var F=P[L],I=F.body||F;if(!(S===F||S===I||S===I.gameObject||S===I.center)){var B=a(A,w,I.center.x,I.center.y);B>E&&(R=F,E=B)}}return R},moveTo:function(S,P,E,R,A){R===void 0&&(R=60),A===void 0&&(A=0);var w=Math.atan2(E-S.y,P-S.x);return A>0&&(R=s(S.x,S.y,P,E)/(A/1e3)),S.body.velocity.setToPolar(w,R),w},moveToObject:function(S,P,E,R){return this.moveTo(S,P.x,P.y,E,R)},velocityFromAngle:function(S,P,E){return P===void 0&&(P=60),E===void 0&&(E=new g),E.setToPolar(d(S),P)},velocityFromRotation:function(S,P,E){return P===void 0&&(P=60),E===void 0&&(E=new g),E.setToPolar(S,P)},overlapRect:function(S,P,E,R,A,w){return l(this.world,S,P,E,R,A,w)},overlapCirc:function(S,P,E,R,A){return v(this.world,S,P,E,R,A)},shutdown:function(){if(this.world){var S=this.systems.events;S.off(p.UPDATE,this.world.update,this.world),S.off(p.POST_UPDATE,this.world.postUpdate,this.world),S.off(p.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(p.START,this.start,this),this.scene=null,this.systems=null}});c.register("ArcadePhysics",T,"arcadePhysics"),h.exports=T},25084:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(7864),s=e(13747),a=new f({Extends:s,Mixins:[d.Acceleration,d.Angular,d.Bounce,d.Collision,d.Debug,d.Drag,d.Enable,d.Friction,d.Gravity,d.Immovable,d.Mass,d.Pushable,d.Size,d.Velocity],initialize:function(o,u,v,l,c){s.call(this,o,u,v,l,c),this.body=null}});h.exports=a},97602:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(95239),s=e(47401),a=e(27037),r=e(23701),o=e(74118),u=e(94287),v=e(15084),l=e(93736),c=new f({Mixins:[d],initialize:function(g,m){var T=64,S=64,P={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},E=m!==void 0;E&&m.displayWidth&&(T=m.displayWidth,S=m.displayHeight),E||(m=P),this.world=g,this.gameObject=E?m:void 0,this.isBody=!0,this.transform={x:m.x,y:m.y,rotation:m.angle,scaleX:m.scaleX,scaleY:m.scaleY,displayOriginX:m.displayOriginX,displayOriginY:m.displayOriginY},this.debugShowBody=g.defaults.debugShowBody,this.debugShowVelocity=g.defaults.debugShowVelocity,this.debugBodyColor=g.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new l,this.position=new l(m.x-m.scaleX*m.displayOriginX,m.y-m.scaleY*m.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=m.angle,this.preRotation=m.angle,this.width=T,this.height=S,this.sourceWidth=T,this.sourceHeight=S,m.frame&&(this.sourceWidth=m.frame.realWidth,this.sourceHeight=m.frame.realHeight),this.halfWidth=Math.abs(T/2),this.halfHeight=Math.abs(S/2),this.center=new l(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new l,this.newVelocity=new l,this.deltaMax=new l,this.acceleration=new l,this.allowDrag=!0,this.drag=new l,this.allowGravity=!0,this.gravity=new l,this.bounce=new l,this.worldBounce=null,this.customBoundsRectangle=g.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new l(1e4,1e4),this.maxSpeed=-1,this.friction=new l(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=s.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new l(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=v(!1),this.touching=v(!0),this.wasTouching=v(!0),this.blocked=v(!0),this.syncBounds=!1,this.physicsType=s.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=m.scaleX,this._sy=m.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new o,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var p=this.gameObject,g=this.transform;if(p.parentContainer){var m=p.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);g.x=m.tx,g.y=m.ty,g.rotation=r(m.rotation),g.scaleX=m.scaleX,g.scaleY=m.scaleY,g.displayOriginX=p.displayOriginX,g.displayOriginY=p.displayOriginY}else g.x=p.x,g.y=p.y,g.rotation=p.angle,g.scaleX=p.scaleX,g.scaleY=p.scaleY,g.displayOriginX=p.displayOriginX,g.displayOriginY=p.displayOriginY;var T=!1;if(this.syncBounds){var S=p.getBounds(this._bounds);this.width=S.width,this.height=S.height,T=!0}else{var P=Math.abs(g.scaleX),E=Math.abs(g.scaleY);(this._sx!==P||this._sy!==E)&&(this.width=this.sourceWidth*P,this.height=this.sourceHeight*E,this._sx=P,this._sy=E,T=!0)}T&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var p=this.transform;this.position.x=p.x+p.scaleX*(this.offset.x-p.displayOriginX),this.position.y=p.y+p.scaleY*(this.offset.y-p.displayOriginY),this.updateCenter()},resetFlags:function(p){p===void 0&&(p=!1);var g=this.wasTouching,m=this.touching,T=this.blocked;p?v(!0,g):(g.none=m.none,g.up=m.up,g.down=m.down,g.left=m.left,g.right=m.right),v(!0,m),v(!0,T),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(p,g){if(p&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var m=this.position;this.prev.x=m.x,this.prev.y=m.y,this.prevFrame.x=m.x,this.prevFrame.y=m.y}p&&this.update(g)},update:function(p){var g=this.prev,m=this.position,T=this.velocity;if(g.set(m.x,m.y),!this.moves){this._dx=m.x-g.x,this._dy=m.y-g.y;return}if(this.directControl){var S=this.autoFrame;T.set((m.x-S.x)/p,(m.y-S.y)/p),this.world.updateMotion(this,p),this._dx=m.x-S.x,this._dy=m.y-S.y}else this.world.updateMotion(this,p),this.newVelocity.set(T.x*p,T.y*p),m.add(this.newVelocity),this._dx=m.x-g.x,this._dy=m.y-g.y;var P=T.x,E=T.y;if(this.updateCenter(),this.angle=Math.atan2(E,P),this.speed=Math.sqrt(P*P+E*E),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var R=this.blocked;this.world.emit(a.WORLD_BOUNDS,this,R.up,R.down,R.left,R.right)}},postUpdate:function(){var p=this.position,g=p.x-this.prevFrame.x,m=p.y-this.prevFrame.y,T=this.gameObject;if(this.moves){var S=this.deltaMax.x,P=this.deltaMax.y;S!==0&&g!==0&&(g<0&&g<-S?g=-S:g>0&&g>S&&(g=S)),P!==0&&m!==0&&(m<0&&m<-P?m=-P:m>0&&m>P&&(m=P)),T&&(T.x+=g,T.y+=m)}g<0?this.facing=s.FACING_LEFT:g>0&&(this.facing=s.FACING_RIGHT),m<0?this.facing=s.FACING_UP:m>0&&(this.facing=s.FACING_DOWN),this.allowRotation&&T&&(T.angle+=this.deltaZ()),this._tx=g,this._ty=m,this.autoFrame.set(p.x,p.y)},setBoundsRectangle:function(p){return this.customBoundsRectangle=p||this.world.bounds,this},checkWorldBounds:function(){var p=this.position,g=this.velocity,m=this.blocked,T=this.customBoundsRectangle,S=this.world.checkCollision,P=this.worldBounce?-this.worldBounce.x:-this.bounce.x,E=this.worldBounce?-this.worldBounce.y:-this.bounce.y,R=!1;return p.x<T.x&&S.left?(p.x=T.x,g.x*=P,m.left=!0,R=!0):this.right>T.right&&S.right&&(p.x=T.right-this.width,g.x*=P,m.right=!0,R=!0),p.y<T.y&&S.up?(p.y=T.y,g.y*=E,m.up=!0,R=!0):this.bottom>T.bottom&&S.down&&(p.y=T.bottom-this.height,g.y*=E,m.down=!0,R=!0),R&&(this.blocked.none=!1,this.updateCenter()),R},setOffset:function(p,g){return g===void 0&&(g=p),this.offset.set(p,g),this},setGameObject:function(p,g){return g===void 0&&(g=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=p,p.body&&(p.body=this),this.setSize(),this.world.add(this),this.enable=g,this},setSize:function(p,g,m){m===void 0&&(m=!0);var T=this.gameObject;if(T&&(!p&&T.frame&&(p=T.frame.realWidth),!g&&T.frame&&(g=T.frame.realHeight)),this.sourceWidth=p,this.sourceHeight=g,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),m&&T&&T.getCenter){var S=(T.width-p)/2,P=(T.height-g)/2;this.offset.set(S,P)}return this.isCircle=!1,this.radius=0,this},setCircle:function(p,g,m){return g===void 0&&(g=this.offset.x),m===void 0&&(m=this.offset.y),p>0?(this.isCircle=!0,this.radius=p,this.sourceWidth=p*2,this.sourceHeight=p*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(g,m),this.updateCenter()):this.isCircle=!1,this},reset:function(p,g){this.stop();var m=this.gameObject;m&&(m.setPosition(p,g),this.rotation=m.angle,this.preRotation=m.angle);var T=this.position;m&&m.getTopLeft?m.getTopLeft(T):T.set(p,g),this.prev.copy(T),this.prevFrame.copy(T),this.autoFrame.copy(T),m&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(p){return p.x=this.x,p.y=this.y,p.right=this.right,p.bottom=this.bottom,p},hitTest:function(p,g){if(!this.isCircle)return u(this,p,g);if(this.radius>0&&p>=this.left&&p<=this.right&&g>=this.top&&g<=this.bottom){var m=(this.center.x-p)*(this.center.x-p),T=(this.center.y-g)*(this.center.y-g);return m+T<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(p){var g=this.position,m=g.x+this.halfWidth,T=g.y+this.halfHeight;this.debugShowBody&&(p.lineStyle(p.defaultStrokeWidth,this.debugBodyColor),this.isCircle?p.strokeCircle(m,T,this.width/2):(this.checkCollision.up&&p.lineBetween(g.x,g.y,g.x+this.width,g.y),this.checkCollision.right&&p.lineBetween(g.x+this.width,g.y,g.x+this.width,g.y+this.height),this.checkCollision.down&&p.lineBetween(g.x,g.y+this.height,g.x+this.width,g.y+this.height),this.checkCollision.left&&p.lineBetween(g.x,g.y,g.x,g.y+this.height))),this.debugShowVelocity&&(p.lineStyle(p.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),p.lineBetween(m,T,m+this.velocity.x/2,T+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(p){return p===void 0&&(p=!0),this.directControl=p,this},setCollideWorldBounds:function(p,g,m,T){p===void 0&&(p=!0),this.collideWorldBounds=p;var S=g!==void 0,P=m!==void 0;return(S||P)&&(this.worldBounce||(this.worldBounce=new l),S&&(this.worldBounce.x=g),P&&(this.worldBounce.y=m)),T!==void 0&&(this.onWorldBounds=T),this},setVelocity:function(p,g){return this.velocity.set(p,g),p=this.velocity.x,g=this.velocity.y,this.speed=Math.sqrt(p*p+g*g),this},setVelocityX:function(p){return this.setVelocity(p,this.velocity.y)},setVelocityY:function(p){return this.setVelocity(this.velocity.x,p)},setMaxVelocity:function(p,g){return this.maxVelocity.set(p,g),this},setMaxVelocityX:function(p){return this.maxVelocity.x=p,this},setMaxVelocityY:function(p){return this.maxVelocity.y=p,this},setMaxSpeed:function(p){return this.maxSpeed=p,this},setSlideFactor:function(p,g){return this.slideFactor.set(p,g),this},setBounce:function(p,g){return this.bounce.set(p,g),this},setBounceX:function(p){return this.bounce.x=p,this},setBounceY:function(p){return this.bounce.y=p,this},setAcceleration:function(p,g){return this.acceleration.set(p,g),this},setAccelerationX:function(p){return this.acceleration.x=p,this},setAccelerationY:function(p){return this.acceleration.y=p,this},setAllowDrag:function(p){return p===void 0&&(p=!0),this.allowDrag=p,this},setAllowGravity:function(p){return p===void 0&&(p=!0),this.allowGravity=p,this},setAllowRotation:function(p){return p===void 0&&(p=!0),this.allowRotation=p,this},setDrag:function(p,g){return this.drag.set(p,g),this},setDamping:function(p){return this.useDamping=p,this},setDragX:function(p){return this.drag.x=p,this},setDragY:function(p){return this.drag.y=p,this},setGravity:function(p,g){return this.gravity.set(p,g),this},setGravityX:function(p){return this.gravity.x=p,this},setGravityY:function(p){return this.gravity.y=p,this},setFriction:function(p,g){return this.friction.set(p,g),this},setFrictionX:function(p){return this.friction.x=p,this},setFrictionY:function(p){return this.friction.y=p,this},setAngularVelocity:function(p){return this.angularVelocity=p,this},setAngularAcceleration:function(p){return this.angularAcceleration=p,this},setAngularDrag:function(p){return this.angularDrag=p,this},setMass:function(p){return this.mass=p,this},setImmovable:function(p){return p===void 0&&(p=!0),this.immovable=p,this},setEnable:function(p){return p===void 0&&(p=!0),this.enable=p,this},processX:function(p,g,m,T){this.x+=p,this.updateCenter(),g!==null&&(this.velocity.x=g*this.slideFactor.x);var S=this.blocked;m&&(S.left=!0,S.none=!1),T&&(S.right=!0,S.none=!1)},processY:function(p,g,m,T){this.y+=p,this.updateCenter(),g!==null&&(this.velocity.y=g*this.slideFactor.y);var S=this.blocked;m&&(S.up=!0,S.none=!1),T&&(S.down=!0,S.none=!1)},x:{get:function(){return this.position.x},set:function(p){this.position.x=p}},y:{get:function(){return this.position.y},set:function(p){this.position.y=p}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});h.exports=c},3909:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=new f({initialize:function(a,r,o,u,v,l,c){this.world=a,this.name="",this.active=!0,this.overlapOnly=r,this.object1=o,this.object2=u,this.collideCallback=v,this.processCallback=l,this.callbackContext=c},setName:function(s){return this.name=s,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});h.exports=d},99523:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(62832),d=e(25084),s=e(97602),a=e(56694),r=e(47401),o=e(10481),u=e(66634),v=e(46346),l=new a({initialize:function(p){this.world=p,this.scene=p.scene,this.sys=p.scene.sys},collider:function(c,p,g,m,T){return this.world.addCollider(c,p,g,m,T)},overlap:function(c,p,g,m,T){return this.world.addOverlap(c,p,g,m,T)},existing:function(c,p){var g=p?r.STATIC_BODY:r.DYNAMIC_BODY;return this.world.enableBody(c,g),c},staticImage:function(c,p,g,m){var T=new f(this.scene,c,p,g,m);return this.sys.displayList.add(T),this.world.enableBody(T,r.STATIC_BODY),T},image:function(c,p,g,m){var T=new f(this.scene,c,p,g,m);return this.sys.displayList.add(T),this.world.enableBody(T,r.DYNAMIC_BODY),T},staticSprite:function(c,p,g,m){var T=new d(this.scene,c,p,g,m);return this.sys.displayList.add(T),this.sys.updateList.add(T),this.world.enableBody(T,r.STATIC_BODY),T},sprite:function(c,p,g,m){var T=new d(this.scene,c,p,g,m);return this.sys.displayList.add(T),this.sys.updateList.add(T),this.world.enableBody(T,r.DYNAMIC_BODY),T},staticGroup:function(c,p){return this.sys.updateList.add(new v(this.world,this.world.scene,c,p))},group:function(c,p){return this.sys.updateList.add(new o(this.world,this.world.scene,c,p))},body:function(c,p,g,m){var T=new s(this.world);return T.position.set(c,p),g&&m&&T.setSize(g,m),this.world.add(T,r.DYNAMIC_BODY),T},staticBody:function(c,p,g,m){var T=new u(this.world);return T.position.set(c,p),g&&m&&T.setSize(g,m),this.world.add(T,r.STATIC_BODY),T},destroy:function(){this.world=null,this.scene=null,this.sys=null}});h.exports=l},44880:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){var f=0;if(!Array.isArray(e))f=e;else for(var d=0;d<e.length;d++)f|=e[d];return f};h.exports=y},75671:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(47401),d=function(s,a,r,o){var u=0,v=s.deltaAbsX()+a.deltaAbsX()+o;return s._dx===0&&a._dx===0?(s.embedded=!0,a.embedded=!0):s._dx>a._dx?(u=s.right-a.x,u>v&&!r||s.checkCollision.right===!1||a.checkCollision.left===!1?u=0:(s.touching.none=!1,s.touching.right=!0,a.touching.none=!1,a.touching.left=!0,a.physicsType===f.STATIC_BODY&&!r&&(s.blocked.none=!1,s.blocked.right=!0),s.physicsType===f.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.left=!0))):s._dx<a._dx&&(u=s.x-a.width-a.x,-u>v&&!r||s.checkCollision.left===!1||a.checkCollision.right===!1?u=0:(s.touching.none=!1,s.touching.left=!0,a.touching.none=!1,a.touching.right=!0,a.physicsType===f.STATIC_BODY&&!r&&(s.blocked.none=!1,s.blocked.left=!0),s.physicsType===f.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.right=!0))),s.overlapX=u,a.overlapX=u,u};h.exports=d},66185:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(47401),d=function(s,a,r,o){var u=0,v=s.deltaAbsY()+a.deltaAbsY()+o;return s._dy===0&&a._dy===0?(s.embedded=!0,a.embedded=!0):s._dy>a._dy?(u=s.bottom-a.y,u>v&&!r||s.checkCollision.down===!1||a.checkCollision.up===!1?u=0:(s.touching.none=!1,s.touching.down=!0,a.touching.none=!1,a.touching.up=!0,a.physicsType===f.STATIC_BODY&&!r&&(s.blocked.none=!1,s.blocked.down=!0),s.physicsType===f.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.up=!0))):s._dy<a._dy&&(u=s.y-a.bottom,-u>v&&!r||s.checkCollision.up===!1||a.checkCollision.down===!1?u=0:(s.touching.none=!1,s.touching.up=!0,a.touching.none=!1,a.touching.down=!0,a.physicsType===f.STATIC_BODY&&!r&&(s.blocked.none=!1,s.blocked.up=!0),s.physicsType===f.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.down=!0))),s.overlapY=u,a.overlapY=u,u};h.exports=d},10481:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(25084),d=e(56694),s=e(95239),a=e(47401),r=e(72632),o=e(59192),u=e(42911),v=new d({Extends:o,Mixins:[s],initialize:function(c,p,g,m){if(!g&&!m)m={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(u(g))m=g,g=null,m.internalCreateCallback=this.createCallbackHandler,m.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(g)&&u(g[0])){var T=this;g.forEach(function(S){S.internalCreateCallback=T.createCallbackHandler,S.internalRemoveCallback=T.removeCallbackHandler,S.classType=r(S,"classType",f)}),m=null}else m={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=c,m&&(m.classType=r(m,"classType",f)),this.physicsType=a.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this.defaults={setCollideWorldBounds:r(m,"collideWorldBounds",!1),setBoundsRectangle:r(m,"customBoundsRectangle",null),setAccelerationX:r(m,"accelerationX",0),setAccelerationY:r(m,"accelerationY",0),setAllowDrag:r(m,"allowDrag",!0),setAllowGravity:r(m,"allowGravity",!0),setAllowRotation:r(m,"allowRotation",!0),setDamping:r(m,"useDamping",!1),setBounceX:r(m,"bounceX",0),setBounceY:r(m,"bounceY",0),setDragX:r(m,"dragX",0),setDragY:r(m,"dragY",0),setEnable:r(m,"enable",!0),setGravityX:r(m,"gravityX",0),setGravityY:r(m,"gravityY",0),setFrictionX:r(m,"frictionX",0),setFrictionY:r(m,"frictionY",0),setMaxSpeed:r(m,"maxSpeed",-1),setMaxVelocityX:r(m,"maxVelocityX",1e4),setMaxVelocityY:r(m,"maxVelocityY",1e4),setVelocityX:r(m,"velocityX",0),setVelocityY:r(m,"velocityY",0),setAngularVelocity:r(m,"angularVelocity",0),setAngularAcceleration:r(m,"angularAcceleration",0),setAngularDrag:r(m,"angularDrag",0),setMass:r(m,"mass",1),setImmovable:r(m,"immovable",!1)},o.call(this,p,g,m),this.type="PhysicsGroup"},createCallbackHandler:function(l){l.body||this.world.enableBody(l,a.DYNAMIC_BODY);var c=l.body;for(var p in this.defaults)c[p](this.defaults[p])},removeCallbackHandler:function(l){l.body&&this.world.disableBody(l)},setVelocity:function(l,c,p){p===void 0&&(p=0);for(var g=this.getChildren(),m=0;m<g.length;m++)g[m].body.velocity.set(l+m*p,c+m*p);return this},setVelocityX:function(l,c){c===void 0&&(c=0);for(var p=this.getChildren(),g=0;g<p.length;g++)p[g].body.velocity.x=l+g*c;return this},setVelocityY:function(l,c){c===void 0&&(c=0);for(var p=this.getChildren(),g=0;g<p.length;g++)p[g].body.velocity.y=l+g*c;return this}});h.exports=v},22916:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y,e,f,d,s,a,r,o,u,v,l,c,p,g,m,T,S,P=function(L,F,I){y=L,e=F;var B=y.velocity.x,G=e.velocity.x;return f=y.pushable,u=y._dx<0,v=y._dx>0,l=y._dx===0,m=Math.abs(y.right-e.x)<=Math.abs(e.right-y.x),r=G-B*y.bounce.x,d=e.pushable,c=e._dx<0,p=e._dx>0,g=e._dx===0,T=!m,o=B-G*e.bounce.x,S=Math.abs(I),E()},E=function(){return v&&m&&e.blocked.right?(y.processX(-S,r,!1,!0),1):u&&T&&e.blocked.left?(y.processX(S,r,!0),1):p&&T&&y.blocked.right?(e.processX(-S,o,!1,!0),2):c&&m&&y.blocked.left?(e.processX(S,o,!0),2):0},R=function(){var L=y.velocity.x,F=e.velocity.x,I=Math.sqrt(F*F*e.mass/y.mass)*(F>0?1:-1),B=Math.sqrt(L*L*y.mass/e.mass)*(L>0?1:-1),G=(I+B)*.5;return I-=G,B-=G,s=G+I*y.bounce.x,a=G+B*e.bounce.x,u&&T?A(0):c&&m?A(1):v&&m?A(2):p&&T?A(3):!1},A=function(L){if(f&&d)S*=.5,L===0||L===3?(y.processX(S,s),e.processX(-S,a)):(y.processX(-S,s),e.processX(S,a));else if(f&&!d)L===0||L===3?y.processX(S,r,!0):y.processX(-S,r,!1,!0);else if(!f&&d)L===0||L===3?e.processX(-S,o,!1,!0):e.processX(S,o,!0);else{var F=S*.5;L===0?g?(y.processX(S,0,!0),e.processX(0,null,!1,!0)):p?(y.processX(F,0,!0),e.processX(-F,0,!1,!0)):(y.processX(F,e.velocity.x,!0),e.processX(-F,null,!1,!0)):L===1?l?(y.processX(0,null,!1,!0),e.processX(S,0,!0)):v?(y.processX(-F,0,!1,!0),e.processX(F,0,!0)):(y.processX(-F,null,!1,!0),e.processX(F,y.velocity.x,!0)):L===2?g?(y.processX(-S,0,!1,!0),e.processX(0,null,!0)):c?(y.processX(-F,0,!1,!0),e.processX(F,0,!0)):(y.processX(-F,e.velocity.x,!1,!0),e.processX(F,null,!0)):L===3&&(l?(y.processX(0,null,!0),e.processX(-S,0,!1,!0)):u?(y.processX(F,0,!0),e.processX(-F,0,!1,!0)):(y.processX(F,e.velocity.y,!0),e.processX(-F,null,!1,!0)))}return!0},w=function(L){L===1?e.velocity.x=0:m?e.processX(S,o,!0):e.processX(-S,o,!1,!0),y.moves&&(e.y+=(y.y-y.prev.y)*y.friction.y,e._dy=e.y-e.prev.y)},O=function(L){L===2?y.velocity.x=0:T?y.processX(S,r,!0):y.processX(-S,r,!1,!0),e.moves&&(y.y+=(e.y-e.prev.y)*e.friction.y,y._dy=y.y-y.prev.y)};h.exports={BlockCheck:E,Check:R,Set:P,Run:A,RunImmovableBody1:w,RunImmovableBody2:O}},67050:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y,e,f,d,s,a,r,o,u,v,l,c,p,g,m,T,S,P=function(L,F,I){y=L,e=F;var B=y.velocity.y,G=e.velocity.y;return f=y.pushable,u=y._dy<0,v=y._dy>0,l=y._dy===0,m=Math.abs(y.bottom-e.y)<=Math.abs(e.bottom-y.y),r=G-B*y.bounce.y,d=e.pushable,c=e._dy<0,p=e._dy>0,g=e._dy===0,T=!m,o=B-G*e.bounce.y,S=Math.abs(I),E()},E=function(){return v&&m&&e.blocked.down?(y.processY(-S,r,!1,!0),1):u&&T&&e.blocked.up?(y.processY(S,r,!0),1):p&&T&&y.blocked.down?(e.processY(-S,o,!1,!0),2):c&&m&&y.blocked.up?(e.processY(S,o,!0),2):0},R=function(){var L=y.velocity.y,F=e.velocity.y,I=Math.sqrt(F*F*e.mass/y.mass)*(F>0?1:-1),B=Math.sqrt(L*L*y.mass/e.mass)*(L>0?1:-1),G=(I+B)*.5;return I-=G,B-=G,s=G+I*y.bounce.y,a=G+B*e.bounce.y,u&&T?A(0):c&&m?A(1):v&&m?A(2):p&&T?A(3):!1},A=function(L){if(f&&d)S*=.5,L===0||L===3?(y.processY(S,s),e.processY(-S,a)):(y.processY(-S,s),e.processY(S,a));else if(f&&!d)L===0||L===3?y.processY(S,r,!0):y.processY(-S,r,!1,!0);else if(!f&&d)L===0||L===3?e.processY(-S,o,!1,!0):e.processY(S,o,!0);else{var F=S*.5;L===0?g?(y.processY(S,0,!0),e.processY(0,null,!1,!0)):p?(y.processY(F,0,!0),e.processY(-F,0,!1,!0)):(y.processY(F,e.velocity.y,!0),e.processY(-F,null,!1,!0)):L===1?l?(y.processY(0,null,!1,!0),e.processY(S,0,!0)):v?(y.processY(-F,0,!1,!0),e.processY(F,0,!0)):(y.processY(-F,null,!1,!0),e.processY(F,y.velocity.y,!0)):L===2?g?(y.processY(-S,0,!1,!0),e.processY(0,null,!0)):c?(y.processY(-F,0,!1,!0),e.processY(F,0,!0)):(y.processY(-F,e.velocity.y,!1,!0),e.processY(F,null,!0)):L===3&&(l?(y.processY(0,null,!0),e.processY(-S,0,!1,!0)):u?(y.processY(F,0,!0),e.processY(-F,0,!1,!0)):(y.processY(F,e.velocity.y,!0),e.processY(-F,null,!1,!0)))}return!0},w=function(L){L===1?e.velocity.y=0:m?e.processY(S,o,!0):e.processY(-S,o,!1,!0),y.moves&&(e.x+=(y.x-y.prev.x)*y.friction.x,e._dx=e.x-e.prev.x)},O=function(L){L===2?y.velocity.y=0:T?y.processY(S,r,!0):y.processY(-S,r,!1,!0),e.moves&&(y.x+=(e.x-e.prev.x)*e.friction.x,y._dx=y.x-y.prev.x)};h.exports={BlockCheck:E,Check:R,Set:P,Run:A,RunImmovableBody1:w,RunImmovableBody2:O}},61777:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(75671),d=e(22916),s=function(a,r,o,u,v){v===void 0&&(v=f(a,r,o,u));var l=a.immovable,c=r.immovable;if(o||v===0||l&&c||a.customSeparateX||r.customSeparateX)return v!==0||a.embedded&&r.embedded;var p=d.Set(a,r,v);return!l&&!c?p>0?!0:d.Check():(l?d.RunImmovableBody1(p):c&&d.RunImmovableBody2(p),!0)};h.exports=s},25299:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(66185),d=e(67050),s=function(a,r,o,u,v){v===void 0&&(v=f(a,r,o,u));var l=a.immovable,c=r.immovable;if(o||v===0||l&&c||a.customSeparateY||r.customSeparateY)return v!==0||a.embedded&&r.embedded;var p=d.Set(a,r,v);return!l&&!c?p>0?!0:d.Check():(l?d.RunImmovableBody1(p):c&&d.RunImmovableBody2(p),!0)};h.exports=s},15084:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return f===void 0&&(f={}),f.none=e,f.up=!1,f.down=!1,f.left=!1,f.right=!1,e||(f.up=!0,f.down=!0,f.left=!0,f.right=!0),f};h.exports=y},66634:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(65650),d=e(56694),s=e(95239),a=e(47401),r=e(94287),o=e(15084),u=e(93736),v=new d({Mixins:[s],initialize:function(c,p){var g=64,m=64,T={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},S=p!==void 0;S&&p.displayWidth&&(g=p.displayWidth,m=p.displayHeight),S||(p=T),this.world=c,this.gameObject=S?p:void 0,this.isBody=!0,this.debugShowBody=c.defaults.debugShowStaticBody,this.debugBodyColor=c.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new u,this.position=new u(p.x-g*p.originX,p.y-m*p.originY),this.width=g,this.height=m,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new u(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=u.ZERO,this.allowGravity=!1,this.gravity=u.ZERO,this.bounce=u.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=o(!1),this.touching=o(!0),this.wasTouching=o(!0),this.blocked=o(!0),this.physicsType=a.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(l,c){return l&&l!==this.gameObject&&(this.gameObject.body=null,l.body=this,this.gameObject=l),c&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var l=this.gameObject;return l.getTopLeft(this.position),this.width=l.displayWidth,this.height=l.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(l,c){return c===void 0&&(c=l),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(l,c),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(l,c,p){p===void 0&&(p=!0);var g=this.gameObject;if(g&&g.frame&&(l||(l=g.frame.realWidth),c||(c=g.frame.realHeight)),this.world.staticTree.remove(this),this.width=l,this.height=c,this.halfWidth=Math.floor(l/2),this.halfHeight=Math.floor(c/2),p&&g&&g.getCenter){var m=g.displayWidth/2,T=g.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(m-this.halfWidth,T-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(l,c,p){return c===void 0&&(c=this.offset.x),p===void 0&&(p=this.offset.y),l>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=l,this.width=l*2,this.height=l*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(c,p),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(l,c){var p=this.gameObject;l===void 0&&(l=p.x),c===void 0&&(c=p.y),this.world.staticTree.remove(this),p.setPosition(l,c),p.getTopLeft(this.position),this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(l){return l.x=this.x,l.y=this.y,l.right=this.right,l.bottom=this.bottom,l},hitTest:function(l,c){return this.isCircle?f(this,l,c):r(this,l,c)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(l){var c=this.position,p=c.x+this.halfWidth,g=c.y+this.halfHeight;this.debugShowBody&&(l.lineStyle(l.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?l.strokeCircle(p,g,this.width/2):l.strokeRect(c.x,c.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(l){return l<=0&&(l=.1),this.mass=l,this},x:{get:function(){return this.position.x},set:function(l){this.world.staticTree.remove(this),this.position.x=l,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(l){this.world.staticTree.remove(this),this.position.y=l,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});h.exports=v},46346:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(25084),d=e(56694),s=e(95239),a=e(47401),r=e(72632),o=e(59192),u=e(42911),v=new d({Extends:o,Mixins:[s],initialize:function(c,p,g,m){!g&&!m?m={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:f}:u(g)?(m=g,g=null,m.internalCreateCallback=this.createCallbackHandler,m.internalRemoveCallback=this.removeCallbackHandler,m.createMultipleCallback=this.createMultipleCallbackHandler,m.classType=r(m,"classType",f)):Array.isArray(g)&&u(g[0])?(m=g,g=null,m.forEach(function(T){T.internalCreateCallback=this.createCallbackHandler,T.internalRemoveCallback=this.removeCallbackHandler,T.createMultipleCallback=this.createMultipleCallbackHandler,T.classType=r(T,"classType",f)})):m={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=c,this.physicsType=a.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,o.call(this,p,g,m),this.type="StaticPhysicsGroup"},createCallbackHandler:function(l){l.body||this.world.enableBody(l,a.STATIC_BODY)},removeCallbackHandler:function(l){l.body&&this.world.disableBody(l)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var l=this.children.entries,c=0;c<l.length;c++)l[c].body.reset();return this}});h.exports=v},85233:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(94240),d=e(97602),s=e(82897),a=e(56694),r=e(3909),o=e(47401),u=e(53996),v=e(92951),l=e(6659),c=e(27037),p=e(88456),g=e(41935),m=e(54726),T=e(75671),S=e(66185),P=e(44662),E=e(10850),R=e(83392),A=e(74623),w=e(25163),O=e(74118),L=e(68687),F=e(27354),I=e(61777),B=e(25299),G=e(58403),N=e(66634),U=e(28808),Y=e(69360),X=e(93736),b=e(1071),z=new a({Extends:l,initialize:function(V,k){l.call(this),this.scene=V,this.bodies=new G,this.staticBodies=new G,this.pendingDestroy=new G,this.colliders=new A,this.gravity=new X(E(k,"gravity.x",0),E(k,"gravity.y",0)),this.bounds=new O(E(k,"x",0),E(k,"y",0),E(k,"width",V.sys.scale.width),E(k,"height",V.sys.scale.height)),this.checkCollision={up:E(k,"checkCollision.up",!0),down:E(k,"checkCollision.down",!0),left:E(k,"checkCollision.left",!0),right:E(k,"checkCollision.right",!0)},this.fps=E(k,"fps",60),this.fixedStep=E(k,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=E(k,"timeScale",1),this.OVERLAP_BIAS=E(k,"overlapBias",4),this.TILE_BIAS=E(k,"tileBias",16),this.forceX=E(k,"forceX",!1),this.isPaused=E(k,"isPaused",!1),this._total=0,this.drawDebug=E(k,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:E(k,"debugShowBody",!0),debugShowStaticBody:E(k,"debugShowStaticBody",!0),debugShowVelocity:E(k,"debugShowVelocity",!0),bodyDebugColor:E(k,"debugBodyColor",16711935),staticBodyDebugColor:E(k,"debugStaticBodyColor",255),velocityDebugColor:E(k,"debugVelocityColor",65280)},this.maxEntries=E(k,"maxEntries",16),this.useTree=E(k,"useTree",!0),this.tree=new L(this.maxEntries),this.staticTree=new L(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new Y,this._tempMatrix2=new Y,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(D,V){V===void 0&&(V=o.DYNAMIC_BODY),Array.isArray(D)||(D=[D]);for(var k=0;k<D.length;k++){var W=D[k];if(W.isParent)for(var H=W.getChildren(),$=0;$<H.length;$++){var K=H[$];K.isParent?this.enable(K,V):this.enableBody(K,V)}else this.enableBody(W,V)}},enableBody:function(D,V){return V===void 0&&(V=o.DYNAMIC_BODY),D.hasTransformComponent&&(D.body||(V===o.DYNAMIC_BODY?D.body=new d(this,D):V===o.STATIC_BODY&&(D.body=new N(this,D))),this.add(D.body)),D},add:function(D){return D.physicsType===o.DYNAMIC_BODY?this.bodies.set(D):D.physicsType===o.STATIC_BODY&&(this.staticBodies.set(D),this.staticTree.insert(D)),D.enable=!0,D},disable:function(D){Array.isArray(D)||(D=[D]);for(var V=0;V<D.length;V++){var k=D[V];if(k.isParent)for(var W=k.getChildren(),H=0;H<W.length;H++){var $=W[H];$.isParent?this.disable($):this.disableBody($.body)}else this.disableBody(k.body)}},disableBody:function(D){this.remove(D),D.enable=!1},remove:function(D){D.physicsType===o.DYNAMIC_BODY?(this.tree.remove(D),this.bodies.delete(D)):D.physicsType===o.STATIC_BODY&&(this.staticBodies.delete(D),this.staticTree.remove(D))},createDebugGraphic:function(){var D=this.scene.sys.add.graphics({x:0,y:0});return D.setDepth(Number.MAX_VALUE),this.debugGraphic=D,this.drawDebug=!0,D},setBounds:function(D,V,k,W,H,$,K,Z){return this.bounds.setTo(D,V,k,W),H!==void 0&&this.setBoundsCollision(H,$,K,Z),this},setBoundsCollision:function(D,V,k,W){return D===void 0&&(D=!0),V===void 0&&(V=!0),k===void 0&&(k=!0),W===void 0&&(W=!0),this.checkCollision.left=D,this.checkCollision.right=V,this.checkCollision.up=k,this.checkCollision.down=W,this},pause:function(){return this.isPaused=!0,this.emit(c.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(c.RESUME),this},addCollider:function(D,V,k,W,H){k===void 0&&(k=null),W===void 0&&(W=null),H===void 0&&(H=k);var $=new r(this,!1,D,V,k,W,H);return this.colliders.add($),$},addOverlap:function(D,V,k,W,H){k===void 0&&(k=null),W===void 0&&(W=null),H===void 0&&(H=k);var $=new r(this,!0,D,V,k,W,H);return this.colliders.add($),$},removeCollider:function(D){return this.colliders.remove(D),this},setFPS:function(D){return this.fps=D,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(D,V){if(!(this.isPaused||this.bodies.size===0)){var k,W=this._frameTime,H=this._frameTimeMS*this.timeScale;this._elapsed+=V;var $,K=this.bodies.entries,Z=this._elapsed>=H;for(this.fixedStep||(W=V*.001,Z=!0,this._elapsed=0),k=0;k<K.length;k++)$=K[k],$.enable&&$.preUpdate(Z,W);if(Z){this._elapsed-=H,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(K));var j=this.colliders.update();for(k=0;k<j.length;k++){var J=j[k];J.active&&J.update()}this.emit(c.WORLD_STEP,W)}for(;this._elapsed>=H;)this._elapsed-=H,this.step(W)}},step:function(D){var V,k,W=this.bodies.entries,H=W.length;for(V=0;V<H;V++)k=W[V],k.enable&&k.update(D);this.useTree&&(this.tree.clear(),this.tree.load(W));var $=this.colliders.update();for(V=0;V<$.length;V++){var K=$[V];K.active&&K.update()}this.emit(c.WORLD_STEP,D),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var D,V,k=this.bodies.entries,W=k.length,H=this.bodies,$=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,D=0;D<W;D++)V=k[D],V.enable&&V.postUpdate();if(this.drawDebug){var K=this.debugGraphic;for(K.clear(),D=0;D<W;D++)V=k[D],V.willDrawDebug()&&V.drawDebug(K);for(k=$.entries,W=k.length,D=0;D<W;D++)V=k[D],V.willDrawDebug()&&V.drawDebug(K)}var Z=this.pendingDestroy;if(Z.size>0){var j=this.tree,J=this.staticTree;for(k=Z.entries,W=k.length,D=0;D<W;D++)V=k[D],V.physicsType===o.DYNAMIC_BODY?(j.remove(V),H.delete(V)):V.physicsType===o.STATIC_BODY&&(J.remove(V),$.delete(V)),V.world=void 0,V.gameObject=void 0;Z.clear()}},updateMotion:function(D,V){D.allowRotation&&this.computeAngularVelocity(D,V),this.computeVelocity(D,V)},computeAngularVelocity:function(D,V){var k=D.angularVelocity,W=D.angularAcceleration,H=D.angularDrag,$=D.maxAngular;W?k+=W*V:D.allowDrag&&H&&(H*=V,g(k-H,0,.1)?k-=H:m(k+H,0,.1)?k+=H:k=0),k=s(k,-$,$);var K=k-D.angularVelocity;D.angularVelocity+=K,D.rotation+=D.angularVelocity*V},computeVelocity:function(D,V){var k=D.velocity.x,W=D.acceleration.x,H=D.drag.x,$=D.maxVelocity.x,K=D.velocity.y,Z=D.acceleration.y,j=D.drag.y,J=D.maxVelocity.y,Q=D.speed,q=D.maxSpeed,_=D.allowDrag,tt=D.useDamping;D.allowGravity&&(k+=(this.gravity.x+D.gravity.x)*V,K+=(this.gravity.y+D.gravity.y)*V),W?k+=W*V:_&&H&&(tt?(H=Math.pow(H,V),k*=H,Q=Math.sqrt(k*k+K*K),p(Q,0,.001)&&(k=0)):(H*=V,g(k-H,0,.01)?k-=H:m(k+H,0,.01)?k+=H:k=0)),Z?K+=Z*V:_&&j&&(tt?(j=Math.pow(j,V),K*=j,Q=Math.sqrt(k*k+K*K),p(Q,0,.001)&&(K=0)):(j*=V,g(K-j,0,.01)?K-=j:m(K+j,0,.01)?K+=j:K=0)),k=s(k,-$,$),K=s(K,-J,J),D.velocity.set(k,K),q>-1&&D.velocity.length()>q&&(D.velocity.normalize().scale(q),Q=q),D.speed=Q},separate:function(D,V,k,W,H){var $,K,Z=!1,j=!0;if(!D.enable||!V.enable||D.checkCollision.none||V.checkCollision.none||!this.intersects(D,V)||k&&k.call(W,D.gameObject,V.gameObject)===!1)return Z;if(D.isCircle||V.isCircle){var J=this.separateCircle(D,V,H);J.result?(Z=!0,j=!1):($=J.x,K=J.y,j=!0)}if(j){var Q=!1,q=!1,_=this.OVERLAP_BIAS;H?(Q=I(D,V,H,_,$),q=B(D,V,H,_,K)):this.forceX||Math.abs(this.gravity.y+D.gravity.y)<Math.abs(this.gravity.x+D.gravity.x)?(Q=I(D,V,H,_,$),this.intersects(D,V)&&(q=B(D,V,H,_,K))):(q=B(D,V,H,_,K),this.intersects(D,V)&&(Q=I(D,V,H,_,$))),Z=Q||q}return Z&&(H?(D.onOverlap||V.onOverlap)&&this.emit(c.OVERLAP,D.gameObject,V.gameObject,D,V):(D.onCollide||V.onCollide)&&this.emit(c.COLLIDE,D.gameObject,V.gameObject,D,V)),Z},separateCircle:function(D,V,k){T(D,V,!1,0),S(D,V,!1,0);var W=D.isCircle,H=V.isCircle,$=D.center,K=V.center,Z=D.immovable,j=V.immovable,J=D.velocity,Q=V.velocity,q=0,_=!0;if(W!==H){_=!1;var tt=$.x,st=$.y,it=D.halfWidth,lt=V.position.x,et=V.position.y,ht=V.right,at=V.bottom;H&&(tt=K.x,st=K.y,it=V.halfWidth,lt=D.position.x,et=D.position.y,ht=D.right,at=D.bottom),st<et?tt<lt?q=u(tt,st,lt,et)-it:tt>ht&&(q=u(tt,st,ht,et)-it):st>at&&(tt<lt?q=u(tt,st,lt,at)-it:tt>ht&&(q=u(tt,st,ht,at)-it)),q*=-1}else q=D.halfWidth+V.halfWidth-v($,K);D.overlapR=q,V.overlapR=q;var ft=f($,K),vt=(q+R.EPSILON)*Math.cos(ft),mt=(q+R.EPSILON)*Math.sin(ft),xt={overlap:q,result:!1,x:vt,y:mt};if(k&&(!_||_&&q!==0))return xt.result=!0,xt;if(!_&&q===0||Z&&j||D.customSeparateX||V.customSeparateX)return xt.x=void 0,xt.y=void 0,xt;var dt=!D.pushable&&!V.pushable;if(_){var gt=$.x-K.x,Lt=$.y-K.y,Pt=Math.sqrt(Math.pow(gt,2)+Math.pow(Lt,2)),Bt=(K.x-$.x)/Pt||0,zt=(K.y-$.y)/Pt||0,kt=2*(J.x*Bt+J.y*zt-Q.x*Bt-Q.y*zt)/(D.mass+V.mass);(Z||j)&&(kt*=2),Z||(J.x=J.x-kt/D.mass*Bt,J.y=J.y-kt/D.mass*zt,J.multiply(D.bounce)),j||(Q.x=Q.x+kt/V.mass*Bt,Q.y=Q.y+kt/V.mass*zt,Q.multiply(V.bounce)),!Z&&!j&&(vt*=.5,mt*=.5),Z||(D.x-=vt,D.y-=mt,D.updateCenter()),j||(V.x+=vt,V.y+=mt,V.updateCenter()),xt.result=!0}else!Z||D.pushable||dt?(D.x-=vt,D.y-=mt,D.updateCenter()):(!j||V.pushable||dt)&&(V.x+=vt,V.y+=mt,V.updateCenter()),xt.x=void 0,xt.y=void 0;return xt},intersects:function(D,V){return D===V?!1:!D.isCircle&&!V.isCircle?!(D.right<=V.left||D.bottom<=V.top||D.left>=V.right||D.top>=V.bottom):D.isCircle?V.isCircle?v(D.center,V.center)<=D.halfWidth+V.halfWidth:this.circleBodyIntersects(D,V):this.circleBodyIntersects(V,D)},circleBodyIntersects:function(D,V){var k=s(D.center.x,V.left,V.right),W=s(D.center.y,V.top,V.bottom),H=(D.center.x-k)*(D.center.x-k),$=(D.center.y-W)*(D.center.y-W);return H+$<=D.halfWidth*D.halfWidth},overlap:function(D,V,k,W,H){return k===void 0&&(k=null),W===void 0&&(W=null),H===void 0&&(H=k),this.collideObjects(D,V,k,W,H,!0)},collide:function(D,V,k,W,H){return k===void 0&&(k=null),W===void 0&&(W=null),H===void 0&&(H=k),this.collideObjects(D,V,k,W,H,!1)},collideObjects:function(D,V,k,W,H,$){var K,Z;D.isParent&&(D.physicsType===void 0||V===void 0||D===V)&&(D=D.children.entries),V&&V.isParent&&V.physicsType===void 0&&(V=V.children.entries);var j=Array.isArray(D),J=Array.isArray(V);if(this._total=0,!j&&!J)this.collideHandler(D,V,k,W,H,$);else if(!j&&J)for(K=0;K<V.length;K++)this.collideHandler(D,V[K],k,W,H,$);else if(j&&!J)if(V)for(K=0;K<D.length;K++)this.collideHandler(D[K],V,k,W,H,$);else for(K=0;K<D.length;K++){var Q=D[K];for(Z=K+1;Z<D.length;Z++)K!==Z&&this.collideHandler(Q,D[Z],k,W,H,$)}else for(K=0;K<D.length;K++)for(Z=0;Z<V.length;Z++)this.collideHandler(D[K],V[Z],k,W,H,$);return this._total>0},collideHandler:function(D,V,k,W,H,$){if(V===void 0&&D.isParent)return this.collideGroupVsGroup(D,D,k,W,H,$);if(!D||!V)return!1;if(D.body||D.isBody){if(V.body||V.isBody)return this.collideSpriteVsSprite(D,V,k,W,H,$);if(V.isParent)return this.collideSpriteVsGroup(D,V,k,W,H,$);if(V.isTilemap)return this.collideSpriteVsTilemapLayer(D,V,k,W,H,$)}else if(D.isParent){if(V.body||V.isBody)return this.collideSpriteVsGroup(V,D,k,W,H,$);if(V.isParent)return this.collideGroupVsGroup(D,V,k,W,H,$);if(V.isTilemap)return this.collideGroupVsTilemapLayer(D,V,k,W,H,$)}else if(D.isTilemap){if(V.body||V.isBody)return this.collideSpriteVsTilemapLayer(V,D,k,W,H,$);if(V.isParent)return this.collideGroupVsTilemapLayer(V,D,k,W,H,$)}},canCollide:function(D,V){return D&&V&&(D.collisionMask&V.collisionCategory)!==0&&(V.collisionMask&D.collisionCategory)!==0},collideSpriteVsSprite:function(D,V,k,W,H,$){var K=D.isBody?D:D.body,Z=V.isBody?V:V.body;return this.canCollide(K,Z)?(this.separate(K,Z,W,H,$)&&(k&&k.call(H,D,V),this._total++),!0):!1},collideSpriteVsGroup:function(D,V,k,W,H,$){var K=D.isBody?D:D.body;if(!(V.length===0||!K||!K.enable||K.checkCollision.none||!this.canCollide(K,V))){var Z,j,J;if(this.useTree||V.physicsType===o.STATIC_BODY){var Q=this.treeMinMax;Q.minX=K.left,Q.minY=K.top,Q.maxX=K.right,Q.maxY=K.bottom;var q=V.physicsType===o.DYNAMIC_BODY?this.tree.search(Q):this.staticTree.search(Q);for(j=q.length,Z=0;Z<j;Z++)J=q[Z],!(K===J||!J.enable||J.checkCollision.none||!V.contains(J.gameObject))&&this.separate(K,J,W,H,$)&&(k&&k.call(H,K.gameObject,J.gameObject),this._total++)}else{var _=V.getChildren(),tt=V.children.entries.indexOf(D);for(j=_.length,Z=0;Z<j;Z++)J=_[Z].body,!(!J||Z===tt||!J.enable)&&this.separate(K,J,W,H,$)&&(k&&k.call(H,K.gameObject,J.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(D,V,k,W,H,$){if(!this.canCollide(D,V))return!1;var K=D.getChildren();if(K.length===0)return!1;for(var Z=!1,j=0;j<K.length;j++)(K[j].body||K[j].isBody)&&this.collideSpriteVsTilemapLayer(K[j],V,k,W,H,$)&&(Z=!0);return Z},collideTiles:function(D,V,k,W,H){return V.length===0||D.body&&!D.body.enable||D.isBody&&!D.enable?!1:this.collideSpriteVsTilesHandler(D,V,k,W,H,!1,!1)},overlapTiles:function(D,V,k,W,H){return V.length===0||D.body&&!D.body.enable||D.isBody&&!D.enable?!1:this.collideSpriteVsTilesHandler(D,V,k,W,H,!0,!1)},collideSpriteVsTilemapLayer:function(D,V,k,W,H,$){var K=D.isBody?D:D.body;if(!K.enable||K.checkCollision.none||!this.canCollide(K,V))return!1;var Z=K.x,j=K.y,J=K.width,Q=K.height,q=V.layer;if(q.tileWidth>q.baseTileWidth){var _=(q.tileWidth-q.baseTileWidth)*V.scaleX;Z-=_,J+=_}if(q.tileHeight>q.baseTileHeight){var tt=(q.tileHeight-q.baseTileHeight)*V.scaleY;Q+=tt}var st=$?null:this.tileFilterOptions,it=P(Z,j,J,Q,st,V.scene.cameras.main,V.layer);return it.length===0?!1:this.collideSpriteVsTilesHandler(D,it,k,W,H,$,!0)},collideSpriteVsTilesHandler:function(D,V,k,W,H,$,K){for(var Z=D.isBody?D:D.body,j,J={left:0,right:0,top:0,bottom:0},Q,q=!1,_=0;_<V.length;_++){j=V[_],Q=j.tilemapLayer;var tt=Q.tileToWorldXY(j.x,j.y);J.left=tt.x,J.top=tt.y,j.baseHeight!==j.height&&(J.top-=(j.height-j.baseHeight)*Q.scaleY),J.right=J.left+j.width*Q.scaleX,J.bottom=J.top+j.height*Q.scaleY,U(J,Z)&&(!W||W.call(H,D,j))&&w(j,D)&&($||F(_,Z,j,J,Q,this.TILE_BIAS,K))&&(this._total++,q=!0,k&&k.call(H,D,j),$&&Z.onOverlap?this.emit(c.TILE_OVERLAP,D,j,Z):Z.onCollide&&this.emit(c.TILE_COLLIDE,D,j,Z))}return q},collideGroupVsGroup:function(D,V,k,W,H,$){if(!(D.length===0||V.length===0||!this.canCollide(D,V)))for(var K=D.getChildren(),Z=0;Z<K.length;Z++)this.collideSpriteVsGroup(K[Z],V,k,W,H,$)},wrap:function(D,V){D.body?this.wrapObject(D,V):D.getChildren?this.wrapArray(D.getChildren(),V):Array.isArray(D)?this.wrapArray(D,V):this.wrapObject(D,V)},wrapArray:function(D,V){for(var k=0;k<D.length;k++)this.wrapObject(D[k],V)},wrapObject:function(D,V){V===void 0&&(V=0),D.x=b(D.x,this.bounds.left-V,this.bounds.right+V),D.y=b(D.y,this.bounds.top-V,this.bounds.bottom+V)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});h.exports=z},5321:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setAcceleration:function(e,f){return this.body.acceleration.set(e,f),this},setAccelerationX:function(e){return this.body.acceleration.x=e,this},setAccelerationY:function(e){return this.body.acceleration.y=e,this}};h.exports=y},29257:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setAngularVelocity:function(e){return this.body.angularVelocity=e,this},setAngularAcceleration:function(e){return this.body.angularAcceleration=e,this},setAngularDrag:function(e){return this.body.angularDrag=e,this}};h.exports=y},62122:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setBounce:function(e,f){return this.body.bounce.set(e,f),this},setBounceX:function(e){return this.body.bounce.x=e,this},setBounceY:function(e){return this.body.bounce.y=e,this},setCollideWorldBounds:function(e,f,d,s){return this.body.setCollideWorldBounds(e,f,d,s),this}};h.exports=y},95239:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(44880),d={setCollisionCategory:function(s){var a=this.body?this.body:this;return a.collisionCategory=s,this},willCollideWith:function(s){var a=this.body?this.body:this;return(a.collisionMask&s)!==0},addCollidesWith:function(s){var a=this.body?this.body:this;return a.collisionMask=a.collisionMask|s,this},removeCollidesWith:function(s){var a=this.body?this.body:this;return a.collisionMask=a.collisionMask&~s,this},setCollidesWith:function(s){var a=this.body?this.body:this;return a.collisionMask=f(s),this},resetCollisionCategory:function(){var s=this.body?this.body:this;return s.collisionCategory=1,s.collisionMask=1,this}};h.exports=d},99803:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setDebug:function(e,f,d){return this.debugShowBody=e,this.debugShowVelocity=f,this.debugBodyColor=d,this},setDebugBodyColor:function(e){return this.body.debugBodyColor=e,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(e){this.body.debugShowBody=e}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(e){this.body.debugShowVelocity=e}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(e){this.body.debugBodyColor=e}}};h.exports=y},87145:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setDrag:function(e,f){return this.body.drag.set(e,f),this},setDragX:function(e){return this.body.drag.x=e,this},setDragY:function(e){return this.body.drag.y=e,this},setDamping:function(e){return this.body.useDamping=e,this}};h.exports=y},96174:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setDirectControl:function(e){return this.body.setDirectControl(e),this},enableBody:function(e,f,d,s,a){return e&&this.body.reset(f,d),s&&(this.body.gameObject.active=!0),a&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(e,f){return e===void 0&&(e=!1),f===void 0&&(f=!1),this.body.stop(),this.body.enable=!1,e&&(this.body.gameObject.active=!1),f&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};h.exports=y},51702:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setFriction:function(e,f){return this.body.friction.set(e,f),this},setFrictionX:function(e){return this.body.friction.x=e,this},setFrictionY:function(e){return this.body.friction.y=e,this}};h.exports=y},25578:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setGravity:function(e,f){return this.body.gravity.set(e,f),this},setGravityX:function(e){return this.body.gravity.x=e,this},setGravityY:function(e){return this.body.gravity.y=e,this}};h.exports=y},72029:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setImmovable:function(e){return e===void 0&&(e=!0),this.body.immovable=e,this}};h.exports=y},34566:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setMass:function(e){return this.body.mass=e,this}};h.exports=y},2732:(h,y,e)=>{var f=e(15147),d=e(26673),s=e(22184),a=e(26535),r=function(o,u,v,l,c,p){var g=f(o,u-l,v-l,2*l,2*l,c,p);if(g.length===0)return g;for(var m=new d(u,v,l),T=new d,S=[],P=0;P<g.length;P++){var E=g[P];E.isCircle?(T.setTo(E.center.x,E.center.y,E.halfWidth),s(m,T)&&S.push(E)):a(m,E)&&S.push(E)}return S};h.exports=r},15147:h=>{var y=function(e,f,d,s,a,r,o){r===void 0&&(r=!0),o===void 0&&(o=!1);var u=[],v=[],l=e.treeMinMax;if(l.minX=f,l.minY=d,l.maxX=f+s,l.maxY=d+a,o&&(v=e.staticTree.search(l)),r&&e.useTree)u=e.tree.search(l);else if(r){var c=e.bodies,p={position:{x:f,y:d},left:f,top:d,right:f+s,bottom:d+a,isCircle:!1},g=e.intersects;c.iterate(function(m){g(m,p)&&u.push(m)})}return v.concat(u)};h.exports=y},57527:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setPushable:function(e){return e===void 0&&(e=!0),this.body.pushable=e,this}};h.exports=y},77687:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setOffset:function(e,f){return this.body.setOffset(e,f),this},setSize:function(e,f,d){return this.body.setSize(e,f,d),this},setBodySize:function(e,f,d){return this.body.setSize(e,f,d),this},setCircle:function(e,f,d){return this.body.setCircle(e,f,d),this}};h.exports=y},66536:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setVelocity:function(e,f){return this.body.setVelocity(e,f),this},setVelocityX:function(e){return this.body.setVelocityX(e),this},setVelocityY:function(e){return this.body.setVelocityY(e),this},setMaxVelocity:function(e,f){return this.body.maxVelocity.set(e,f),this}};h.exports=y},7864:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Acceleration:e(5321),Angular:e(29257),Bounce:e(62122),Collision:e(95239),Debug:e(99803),Drag:e(87145),Enable:e(96174),Friction:e(51702),Gravity:e(25578),Immovable:e(72029),Mass:e(34566),OverlapCirc:e(2732),OverlapRect:e(15147),Pushable:e(57527),Size:e(77687),Velocity:e(66536)}},47401:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};h.exports=y},22346:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="collide"},95092:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="overlap"},15775:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pause"},74142:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="resume"},22825:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="tilecollide"},10851:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="tileoverlap"},7543:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="worldbounds"},1487:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="worldstep"},27037:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={COLLIDE:e(22346),OVERLAP:e(95092),PAUSE:e(15775),RESUME:e(74142),TILE_COLLIDE:e(22825),TILE_OVERLAP:e(10851),WORLD_BOUNDS:e(7543),WORLD_STEP:e(1487)}},39977:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(47401),d=e(98611),s={ArcadePhysics:e(66150),Body:e(97602),Collider:e(3909),Components:e(7864),Events:e(27037),Factory:e(99523),GetCollidesWith:e(44880),GetOverlapX:e(75671),GetOverlapY:e(66185),SeparateX:e(61777),SeparateY:e(25299),Group:e(10481),Image:e(62832),Sprite:e(25084),StaticBody:e(66634),StaticGroup:e(46346),Tilemap:e(8413),World:e(85233)};s=d(!1,s,f),h.exports=s},25163:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e.collisionCallback?!e.collisionCallback.call(e.collisionCallbackContext,f,e):e.layer.callbacks[e.index]?!e.layer.callbacks[e.index].callback.call(e.layer.callbacks[e.index].callbackContext,f,e):!0};h.exports=y},98209:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){f<0?(e.blocked.none=!1,e.blocked.left=!0):f>0&&(e.blocked.none=!1,e.blocked.right=!0),e.position.x-=f,e.updateCenter(),e.bounce.x===0?e.velocity.x=0:e.velocity.x=-e.velocity.x*e.bounce.x};h.exports=y},72792:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){f<0?(e.blocked.none=!1,e.blocked.up=!0):f>0&&(e.blocked.none=!1,e.blocked.down=!0),e.position.y-=f,e.updateCenter(),e.bounce.y===0?e.velocity.y=0:e.velocity.y=-e.velocity.y*e.bounce.y};h.exports=y},27354:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(14405),d=e(52926),s=e(28808),a=function(r,o,u,v,l,c,p){var g=v.left,m=v.top,T=v.right,S=v.bottom,P=u.faceLeft||u.faceRight,E=u.faceTop||u.faceBottom;if(p||(P=!0,E=!0),!P&&!E)return!1;var R=0,A=0,w=0,O=1;if(o.deltaAbsX()>o.deltaAbsY()?w=-1:o.deltaAbsX()<o.deltaAbsY()&&(O=-1),o.deltaX()!==0&&o.deltaY()!==0&&P&&E&&(w=Math.min(Math.abs(o.position.x-T),Math.abs(o.right-g)),O=Math.min(Math.abs(o.position.y-S),Math.abs(o.bottom-m))),w<O){if(P&&(R=f(o,u,g,T,c,p),R!==0&&!s(v,o)))return!0;E&&(A=d(o,u,m,S,c,p))}else{if(E&&(A=d(o,u,m,S,c,p),A!==0&&!s(v,o)))return!0;P&&(R=f(o,u,g,T,c,p))}return R!==0||A!==0};h.exports=a},14405:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(98209),d=function(s,a,r,o,u,v){var l=0,c=a.faceLeft,p=a.faceRight,g=a.collideLeft,m=a.collideRight;return v||(c=!0,p=!0,g=!0,m=!0),s.deltaX()<0&&m&&s.checkCollision.left?p&&s.x<o&&(l=s.x-o,l<-u&&(l=0)):s.deltaX()>0&&g&&s.checkCollision.right&&c&&s.right>r&&(l=s.right-r,l>u&&(l=0)),l!==0&&(s.customSeparateX?s.overlapX=l:f(s,l)),l};h.exports=d},52926:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72792),d=function(s,a,r,o,u,v){var l=0,c=a.faceTop,p=a.faceBottom,g=a.collideUp,m=a.collideDown;return v||(c=!0,p=!0,g=!0,m=!0),s.deltaY()<0&&m&&s.checkCollision.up?p&&s.y<o&&(l=s.y-o,l<-u&&(l=0)):s.deltaY()>0&&g&&s.checkCollision.down&&c&&s.bottom>r&&(l=s.bottom-r,l>u&&(l=0)),l!==0&&(s.customSeparateY?s.overlapY=l:f(s,l)),l};h.exports=d},28808:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return!(f.right<=e.left||f.bottom<=e.top||f.position.x>=e.right||f.position.y>=e.bottom)};h.exports=y},8413:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={ProcessTileCallbacks:e(25163),ProcessTileSeparationX:e(98209),ProcessTileSeparationY:e(72792),SeparateTile:e(27354),TileCheckX:e(14405),TileCheckY:e(52926),TileIntersectsBody:e(28808)};h.exports=f},53954:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Arcade:e(39977),Matter:e(45949)}},63568:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(93736),s=new f({initialize:function(){this.boundsCenter=new d,this.centerDiff=new d},parseBody:function(a){if(a=a.hasOwnProperty("body")?a.body:a,!a.hasOwnProperty("bounds")||!a.hasOwnProperty("centerOfMass"))return!1;var r=this.boundsCenter,o=this.centerDiff,u=a.bounds.max.x-a.bounds.min.x,v=a.bounds.max.y-a.bounds.min.y,l=u*a.centerOfMass.x,c=v*a.centerOfMass.y;return r.set(u/2,v/2),o.set(l-r.x,c-r.y),!0},getTopLeft:function(a,r,o){if(r===void 0&&(r=0),o===void 0&&(o=0),this.parseBody(a)){var u=this.boundsCenter,v=this.centerDiff;return new d(r+u.x+v.x,o+u.y+v.y)}return!1},getTopCenter:function(a,r,o){if(r===void 0&&(r=0),o===void 0&&(o=0),this.parseBody(a)){var u=this.boundsCenter,v=this.centerDiff;return new d(r+v.x,o+u.y+v.y)}return!1},getTopRight:function(a,r,o){if(r===void 0&&(r=0),o===void 0&&(o=0),this.parseBody(a)){var u=this.boundsCenter,v=this.centerDiff;return new d(r-(u.x-v.x),o+u.y+v.y)}return!1},getLeftCenter:function(a,r,o){if(r===void 0&&(r=0),o===void 0&&(o=0),this.parseBody(a)){var u=this.boundsCenter,v=this.centerDiff;return new d(r+u.x+v.x,o+v.y)}return!1},getCenter:function(a,r,o){if(r===void 0&&(r=0),o===void 0&&(o=0),this.parseBody(a)){var u=this.centerDiff;return new d(r+u.x,o+u.y)}return!1},getRightCenter:function(a,r,o){if(r===void 0&&(r=0),o===void 0&&(o=0),this.parseBody(a)){var u=this.boundsCenter,v=this.centerDiff;return new d(r-(u.x-v.x),o+v.y)}return!1},getBottomLeft:function(a,r,o){if(r===void 0&&(r=0),o===void 0&&(o=0),this.parseBody(a)){var u=this.boundsCenter,v=this.centerDiff;return new d(r+u.x+v.x,o-(u.y-v.y))}return!1},getBottomCenter:function(a,r,o){if(r===void 0&&(r=0),o===void 0&&(o=0),this.parseBody(a)){var u=this.boundsCenter,v=this.centerDiff;return new d(r+v.x,o-(u.y-v.y))}return!1},getBottomRight:function(a,r,o){if(r===void 0&&(r=0),o===void 0&&(o=0),this.parseBody(a)){var u=this.boundsCenter,v=this.centerDiff;return new d(r-(u.x-v.x),o-(u.y-v.y))}return!1}});h.exports=s},18171:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(16929);f.Body=e(84125),f.Composite=e(11299),f.World=e(72005),f.Collision=e(63454),f.Detector=e(13657),f.Pairs=e(91327),f.Pair=e(70584),f.Query=e(13390),f.Resolver=e(44272),f.Constraint=e(52838),f.Common=e(68758),f.Engine=e(45775),f.Events=e(39073),f.Sleeping=e(22806),f.Plugin=e(84474),f.Bodies=e(68516),f.Composites=e(56643),f.Axes=e(50658),f.Bounds=e(84091),f.Svg=e(92765),f.Vector=e(10438),f.Vertices=e(39745),f.World.add=f.Composite.add,f.World.remove=f.Composite.remove,f.World.addComposite=f.Composite.addComposite,f.World.addBody=f.Composite.addBody,f.World.addConstraint=f.Composite.addConstraint,f.World.clear=f.Composite.clear,h.exports=f},72653:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(68516),d=e(56694),s=e(56643),a=e(52838),r=e(92765),o=e(3860),u=e(7030),v=e(73658),l=e(84720),c=e(10998),p=e(72829),g=e(88596),m=e(39745),T=new d({initialize:function(P){this.world=P,this.scene=P.scene,this.sys=P.scene.sys},rectangle:function(S,P,E,R,A){var w=f.rectangle(S,P,E,R,A);return this.world.add(w),w},trapezoid:function(S,P,E,R,A,w){var O=f.trapezoid(S,P,E,R,A,w);return this.world.add(O),O},circle:function(S,P,E,R,A){var w=f.circle(S,P,E,R,A);return this.world.add(w),w},polygon:function(S,P,E,R,A){var w=f.polygon(S,P,E,R,A);return this.world.add(w),w},fromVertices:function(S,P,E,R,A,w,O){typeof E=="string"&&(E=m.fromPath(E));var L=f.fromVertices(S,P,E,R,A,w,O);return this.world.add(L),L},fromPhysicsEditor:function(S,P,E,R,A){A===void 0&&(A=!0);var w=c.parseBody(S,P,E,R);return A&&!this.world.has(w)&&this.world.add(w),w},fromSVG:function(S,P,E,R,A,w){R===void 0&&(R=1),A===void 0&&(A={}),w===void 0&&(w=!0);for(var O=E.getElementsByTagName("path"),L=[],F=0;F<O.length;F++){var I=r.pathToVertices(O[F],30);R!==1&&m.scale(I,R,R),L.push(I)}var B=f.fromVertices(S,P,L,A);return w&&this.world.add(B),B},fromJSON:function(S,P,E,R,A){R===void 0&&(R={}),A===void 0&&(A=!0);var w=p.parseBody(S,P,E,R);return w&&A&&this.world.add(w),w},imageStack:function(S,P,E,R,A,w,O,L,F){O===void 0&&(O=0),L===void 0&&(L=0),F===void 0&&(F={});var I=this.world,B=this.sys.displayList;F.addToWorld=!1;var G=s.stack(E,R,A,w,O,L,function(N,U){var Y=new u(I,N,U,S,P,F);return B.add(Y),Y.body});return I.add(G),G},stack:function(S,P,E,R,A,w,O){var L=s.stack(S,P,E,R,A,w,O);return this.world.add(L),L},pyramid:function(S,P,E,R,A,w,O){var L=s.pyramid(S,P,E,R,A,w,O);return this.world.add(L),L},chain:function(S,P,E,R,A,w){return s.chain(S,P,E,R,A,w)},mesh:function(S,P,E,R,A){return s.mesh(S,P,E,R,A)},newtonsCradle:function(S,P,E,R,A){var w=s.newtonsCradle(S,P,E,R,A);return this.world.add(w),w},car:function(S,P,E,R,A){var w=s.car(S,P,E,R,A);return this.world.add(w),w},softBody:function(S,P,E,R,A,w,O,L,F,I){var B=s.softBody(S,P,E,R,A,w,O,L,F,I);return this.world.add(B),B},joint:function(S,P,E,R,A){return this.constraint(S,P,E,R,A)},spring:function(S,P,E,R,A){return this.constraint(S,P,E,R,A)},constraint:function(S,P,E,R,A){R===void 0&&(R=1),A===void 0&&(A={}),A.bodyA=S.type==="body"?S:S.body,A.bodyB=P.type==="body"?P:P.body,isNaN(E)||(A.length=E),A.stiffness=R;var w=a.create(A);return this.world.add(w),w},worldConstraint:function(S,P,E,R){E===void 0&&(E=1),R===void 0&&(R={}),R.bodyB=S.type==="body"?S:S.body,isNaN(P)||(R.length=P),R.stiffness=E;var A=a.create(R);return this.world.add(A),A},mouseSpring:function(S){return this.pointerConstraint(S)},pointerConstraint:function(S){S===void 0&&(S={}),S.hasOwnProperty("render")||(S.render={visible:!1});var P=new g(this.scene,this.world,S);return this.world.add(P.constraint),P},image:function(S,P,E,R,A){var w=new u(this.world,S,P,E,R,A);return this.sys.displayList.add(w),w},tileBody:function(S,P){return new l(this.world,S,P)},sprite:function(S,P,E,R,A){var w=new v(this.world,S,P,E,R,A);return this.sys.displayList.add(w),this.sys.updateList.add(w),w},gameObject:function(S,P,E){return o(this.world,S,P,E)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});h.exports=T},3860:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(74527),d=e(72632),s=e(93736);function a(o){return!!o.get&&typeof o.get=="function"||!!o.set&&typeof o.set=="function"}var r=function(o,u,v,l){v===void 0&&(v={}),l===void 0&&(l=!0);var c=u.x,p=u.y;u.body={temp:!0,position:{x:c,y:p}};var g=[f.Bounce,f.Collision,f.Force,f.Friction,f.Gravity,f.Mass,f.Sensor,f.SetBody,f.Sleep,f.Static,f.Transform,f.Velocity];if(g.forEach(function(T){for(var S in T)a(T[S])?Object.defineProperty(u,S,{get:T[S].get,set:T[S].set}):Object.defineProperty(u,S,{value:T[S]})}),u.world=o,u._tempVec2=new s(c,p),v.hasOwnProperty("type")&&v.type==="body")u.setExistingBody(v,l);else{var m=d(v,"shape",null);m||(m="rectangle"),v.addToWorld=l,u.setBody(m,v)}return u};h.exports=r},7030:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(74527),s=e(89980),a=e(72632),r=e(1539),o=e(58210),u=e(93736),v=new f({Extends:r,Mixins:[d.Bounce,d.Collision,d.Force,d.Friction,d.Gravity,d.Mass,d.Sensor,d.SetBody,d.Sleep,d.Static,d.Transform,d.Velocity,o],initialize:function(c,p,g,m,T,S){s.call(this,c.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(m,T),this.setSizeToFrame(),this.setOrigin(),this.world=c,this._tempVec2=new u(p,g);var P=a(S,"shape",null);P?this.setBody(P,S):this.setRectangle(this.width,this.height,S),this.setPosition(p,g),this.initPipeline(),this.initPostPipeline(!0)}});h.exports=v},50583:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(84093),d=e(50658),s=e(68516),a=e(84125),r=e(63568),o=e(84091),u=e(56694),v=e(63454),l=e(68758),c=e(11299),p=e(56643),g=e(52838),m=e(13657),T=e(53996),S=e(72653),P=e(72632),E=e(10850),R=e(1675),A=e(80391),w=e(16929),O=e(44097),L=e(30657),F=e(70584),I=e(91327),B=e(84474),G=e(91963),N=e(13390),U=e(44272),Y=e(7599),X=e(92765),b=e(10438),z=e(39745),D=e(31468);l.setDecomp(e(81084));var V=new u({initialize:function(W){this.scene=W,this.systems=W.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=a,this.composite=c,this.collision=v,this.detector=m,this.pair=F,this.pairs=I,this.query=N,this.resolver=U,this.constraint=g,this.bodies=s,this.composites=p,this.axes=d,this.bounds=o,this.svg=X,this.vector=b,this.vertices=z,this.verts=z,this._tempVec2=b.create(),E(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),E(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),E(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),U._restingThresh=E(this.config,"restingThresh",4),U._restingThreshTangent=E(this.config,"restingThreshTangent",6),U._positionDampen=E(this.config,"positionDampen",.9),U._positionWarming=E(this.config,"positionWarming",.8),U._frictionNormalMultiplier=E(this.config,"frictionNormalMultiplier",5),W.sys.events.once(Y.BOOT,this.boot,this),W.sys.events.on(Y.START,this.start,this)},boot:function(){this.world=new D(this.scene,this.config),this.add=new S(this.world),this.bodyBounds=new r,this.systems.events.once(Y.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new D(this.scene,this.config),this.add=new S(this.world));var k=this.systems.events;k.on(Y.UPDATE,this.world.update,this.world),k.on(Y.POST_UPDATE,this.world.postUpdate,this.world),k.once(Y.SHUTDOWN,this.shutdown,this)},getConfig:function(){var k=this.systems.game.config.physics,W=this.systems.settings.physics,H=L(P(W,"matter",{}),P(k,"matter",{}));return H},enableAttractorPlugin:function(){return B.register(R),B.use(w,R),this},enableWrapPlugin:function(){return B.register(O),B.use(w,O),this},enableCollisionEventsPlugin:function(){return B.register(A),B.use(w,A),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(k,W){this.world.step(k,W)},containsPoint:function(k,W,H){k=this.getMatterBodies(k);var $=b.create(W,H),K=N.point(k,$);return K.length>0},intersectPoint:function(k,W,H){H=this.getMatterBodies(H);var $=b.create(k,W),K=[],Z=N.point(H,$);return Z.forEach(function(j){K.indexOf(j)===-1&&K.push(j)}),K},intersectRect:function(k,W,H,$,K,Z){K===void 0&&(K=!1),Z=this.getMatterBodies(Z);var j={min:{x:k,y:W},max:{x:k+H,y:W+$}},J=[],Q=N.region(Z,j,K);return Q.forEach(function(q){J.indexOf(q)===-1&&J.push(q)}),J},intersectRay:function(k,W,H,$,K,Z){K===void 0&&(K=1),Z=this.getMatterBodies(Z);for(var j=[],J=N.ray(Z,b.create(k,W),b.create(H,$),K),Q=0;Q<J.length;Q++)j.push(J[Q].body);return j},intersectBody:function(k,W){W=this.getMatterBodies(W);for(var H=[],$=N.collides(k,W),K=0;K<$.length;K++){var Z=$[K];Z.bodyA===k?H.push(Z.bodyB):H.push(Z.bodyA)}return H},overlap:function(k,W,H,$,K){H===void 0&&(H=null),$===void 0&&($=null),K===void 0&&(K=H),Array.isArray(k)||(k=[k]),k=this.getMatterBodies(k),W=this.getMatterBodies(W);for(var Z=!1,j=0;j<k.length;j++)for(var J=k[j],Q=N.collides(J,W),q=0;q<Q.length;q++){var _=Q[q],tt=_.bodyA.id===J.id?_.bodyB:_.bodyA;if(!$||$.call(K,J,tt,_)){if(Z=!0,H)H.call(K,J,tt,_);else if(!$)return!0}}return Z},setCollisionCategory:function(k,W){return k=this.getMatterBodies(k),k.forEach(function(H){H.collisionFilter.category=W}),this},setCollisionGroup:function(k,W){return k=this.getMatterBodies(k),k.forEach(function(H){H.collisionFilter.group=W}),this},setCollidesWith:function(k,W){k=this.getMatterBodies(k);var H=0;if(!Array.isArray(W))H=W;else for(var $=0;$<W.length;$++)H|=W[$];return k.forEach(function(K){K.collisionFilter.mask=H}),this},getMatterBodies:function(k){if(!k)return this.world.getAllBodies();Array.isArray(k)||(k=[k]);for(var W=[],H=0;H<k.length;H++){var $=k[H].hasOwnProperty("body")?k[H].body:k[H];W.push($)}return W},setVelocity:function(k,W,H){k=this.getMatterBodies(k);var $=this._tempVec2;return $.x=W,$.y=H,k.forEach(function(K){a.setVelocity(K,$)}),this},setVelocityX:function(k,W){k=this.getMatterBodies(k);var H=this._tempVec2;return H.x=W,k.forEach(function($){H.y=$.velocity.y,a.setVelocity($,H)}),this},setVelocityY:function(k,W){k=this.getMatterBodies(k);var H=this._tempVec2;return H.y=W,k.forEach(function($){H.x=$.velocity.x,a.setVelocity($,H)}),this},setAngularVelocity:function(k,W){return k=this.getMatterBodies(k),k.forEach(function(H){a.setAngularVelocity(H,W)}),this},applyForce:function(k,W){k=this.getMatterBodies(k);var H=this._tempVec2;return k.forEach(function($){H.x=$.position.x,H.y=$.position.y,a.applyForce($,H,W)}),this},applyForceFromPosition:function(k,W,H,$){k=this.getMatterBodies(k);var K=this._tempVec2;return k.forEach(function(Z){$===void 0&&($=Z.angle),K.x=H*Math.cos($),K.y=H*Math.sin($),a.applyForce(Z,W,K)}),this},applyForceFromAngle:function(k,W,H){k=this.getMatterBodies(k);var $=this._tempVec2;return k.forEach(function(K){H===void 0&&(H=K.angle),$.x=W*Math.cos(H),$.y=W*Math.sin(H),a.applyForce(K,{x:K.position.x,y:K.position.y},$)}),this},getConstraintLength:function(k){var W=k.pointA.x,H=k.pointA.y,$=k.pointB.x,K=k.pointB.y;return k.bodyA&&(W+=k.bodyA.position.x,H+=k.bodyA.position.y),k.bodyB&&($+=k.bodyB.position.x,K+=k.bodyB.position.y),T(W,H,$,K)},alignBody:function(k,W,H,$){k=k.hasOwnProperty("body")?k.body:k;var K;switch($){case f.TOP_LEFT:case f.LEFT_TOP:K=this.bodyBounds.getTopLeft(k,W,H);break;case f.TOP_CENTER:K=this.bodyBounds.getTopCenter(k,W,H);break;case f.TOP_RIGHT:case f.RIGHT_TOP:K=this.bodyBounds.getTopRight(k,W,H);break;case f.LEFT_CENTER:K=this.bodyBounds.getLeftCenter(k,W,H);break;case f.CENTER:K=this.bodyBounds.getCenter(k,W,H);break;case f.RIGHT_CENTER:K=this.bodyBounds.getRightCenter(k,W,H);break;case f.LEFT_BOTTOM:case f.BOTTOM_LEFT:K=this.bodyBounds.getBottomLeft(k,W,H);break;case f.BOTTOM_CENTER:K=this.bodyBounds.getBottomCenter(k,W,H);break;case f.BOTTOM_RIGHT:case f.RIGHT_BOTTOM:K=this.bodyBounds.getBottomRight(k,W,H);break}return K&&a.setPosition(k,K),this},shutdown:function(){var k=this.systems.events;this.world&&(k.off(Y.UPDATE,this.world.update,this.world),k.off(Y.POST_UPDATE,this.world.postUpdate,this.world)),k.off(Y.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(Y.START,this.start,this),this.scene=null,this.systems=null}});G.register("MatterPhysics",V,"matterPhysics"),h.exports=V},73658:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(16569),d=e(56694),s=e(74527),a=e(89980),r=e(72632),o=e(58210),u=e(13747),v=e(93736),l=new d({Extends:u,Mixins:[s.Bounce,s.Collision,s.Force,s.Friction,s.Gravity,s.Mass,s.Sensor,s.SetBody,s.Sleep,s.Static,s.Transform,s.Velocity,o],initialize:function(p,g,m,T,S,P){a.call(this,p.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new f(this),this.setTexture(T,S),this.setSizeToFrame(),this.setOrigin(),this.world=p,this._tempVec2=new v(g,m);var E=r(P,"shape",null);E?this.setBody(E,P):this.setRectangle(this.width,this.height,P),this.setPosition(g,m),this.initPipeline(),this.initPostPipeline(!0)}});h.exports=l},84720:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(68516),d=e(84125),s=e(56694),a=e(74527),r=e(28699),o=e(6659),u=e(72632),v=e(19256),l=e(39745),c=new s({Extends:o,Mixins:[a.Bounce,a.Collision,a.Friction,a.Gravity,a.Mass,a.Sensor,a.Sleep,a.Static],initialize:function(g,m,T){o.call(this),this.tile=m,this.world=g,m.physics.matterBody&&m.physics.matterBody.destroy(),m.physics.matterBody=this;var S=u(T,"body",null),P=u(T,"addToWorld",!0);if(S)this.setBody(S,P);else{var E=m.getCollisionGroup(),R=u(E,"objects",[]);R.length>0?this.setFromTileCollision(T):this.setFromTileRectangle(T)}if(m.flipX||m.flipY){var A={x:m.getCenterX(),y:m.getCenterY()},w=m.flipX?-1:1,O=m.flipY?-1:1;d.scale(S,w,O,A)}},setFromTileRectangle:function(p){p===void 0&&(p={}),v(p,"isStatic")||(p.isStatic=!0),v(p,"addToWorld")||(p.addToWorld=!0);var g=this.tile.getBounds(),m=g.x+g.width/2,T=g.y+g.height/2,S=f.rectangle(m,T,g.width,g.height,p);return this.setBody(S,p.addToWorld),this},setFromTileCollision:function(p){p===void 0&&(p={}),v(p,"isStatic")||(p.isStatic=!0),v(p,"addToWorld")||(p.addToWorld=!0);for(var g=this.tile.tilemapLayer.scaleX,m=this.tile.tilemapLayer.scaleY,T=this.tile.getLeft(),S=this.tile.getTop(),P=this.tile.getCollisionGroup(),E=u(P,"objects",[]),R=[],A=0;A<E.length;A++){var w=E[A],O=T+w.x*g,L=S+w.y*m,F=w.width*g,I=w.height*m,B=null;if(w.rectangle)B=f.rectangle(O+F/2,L+I/2,F,I,p);else if(w.ellipse)B=f.circle(O+F/2,L+I/2,F/2,p);else if(w.polygon||w.polyline){var G=w.polygon?w.polygon:w.polyline,N=G.map(function(b){return{x:b.x*g,y:b.y*m}}),U=l.create(N),Y=l.centre(U);O+=Y.x,L+=Y.y,B=f.fromVertices(O,L,U,p)}B&&R.push(B)}if(R.length===1)this.setBody(R[0],p.addToWorld);else if(R.length>1){var X=r(p);X.parts=R,this.setBody(d.create(X),X.addToWorld)}return this},setBody:function(p,g){return g===void 0&&(g=!0),this.body&&this.removeBody(),this.body=p,this.body.gameObject=this,g&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});h.exports=c},10998:(h,y,e)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(68516),d=e(84125),s=e(68758),a=e(72632),r=e(39745),o={parseBody:function(u,v,l,c){c===void 0&&(c={});for(var p=a(l,"fixtures",[]),g=[],m=0;m<p.length;m++)for(var T=this.parseFixture(p[m]),S=0;S<T.length;S++)g.push(T[S]);var P=s.clone(l,!0);s.extend(P,c,!0),delete P.fixtures,delete P.type;var E=d.create(P);return d.setParts(E,g),d.setPosition(E,{x:u,y:v}),E},parseFixture:function(u){var v=s.extend({},!1,u);delete v.circle,delete v.vertices;var l;if(u.circle){var c=a(u.circle,"x"),p=a(u.circle,"y"),g=a(u.circle,"radius");l=[f.circle(c,p,g,v)]}else u.vertices&&(l=this.parseVertices(u.vertices,v));return l},parseVertices:function(u,v){v===void 0&&(v={});for(var l=[],c=0;c<u.length;c++)r.clockwiseSort(u[c]),l.push(d.create(s.extend({position:r.centre(u[c]),vertices:u[c]},v)));return f.flagCoincidentParts(l)}};h.exports=o},72829:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(68516),d=e(84125),s={parseBody:function(a,r,o,u){u===void 0&&(u={});var v,l=o.vertices;if(l.length===1)u.vertices=l[0],v=d.create(u),f.flagCoincidentParts(v.parts);else{for(var c=[],p=0;p<l.length;p++){var g=d.create({vertices:l[p]});c.push(g)}f.flagCoincidentParts(c),u.parts=c,v=d.create(u)}return v.label=o.label,d.setPosition(v,{x:a,y:r}),v}};h.exports=s},88596:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(84091),d=e(56694),s=e(11299),a=e(52838),r=e(13657),o=e(35416),u=e(33963),v=e(30657),l=e(22806),c=e(93736),p=e(39745),g=new d({initialize:function(T,S,P){P===void 0&&(P={});var E={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=T,this.world=S,this.camera=null,this.pointer=null,this.active=!0,this.position=new c,this.body=null,this.part=null,this.constraint=a.create(v(P,E)),this.world.on(o.BEFORE_UPDATE,this.update,this),T.sys.input.on(u.POINTER_DOWN,this.onDown,this),T.sys.input.on(u.POINTER_UP,this.onUp,this)},onDown:function(m){this.pointer||(this.pointer=m,this.camera=m.camera)},onUp:function(m){m===this.pointer&&(this.pointer=null)},getBody:function(m){var T=this.position,S=this.constraint;this.camera.getWorldPoint(m.x,m.y,T);for(var P=s.allBodies(this.world.localWorld),E=0;E<P.length;E++){var R=P[E];if(!R.ignorePointer&&f.contains(R.bounds,T)&&r.canCollide(R.collisionFilter,S.collisionFilter)&&this.hitTestBody(R,T))return this.world.emit(o.DRAG_START,R,this.part,this),!0}return!1},hitTestBody:function(m,T){for(var S=this.constraint,P=m.parts.length,E=P>1?1:0,R=E;R<P;R++){var A=m.parts[R];if(p.contains(A.vertices,T))return S.pointA=T,S.pointB={x:T.x-m.position.x,y:T.y-m.position.y},S.bodyB=m,S.angleB=m.angle,l.set(m,!1),this.part=A,this.body=m,!0}return!1},update:function(){var m=this.pointer,T=this.body;if(!this.active||!m){T&&this.stopDrag();return}if(!m.isDown&&T){this.stopDrag();return}else if(m.isDown){if(!T&&!this.getBody(m))return;T=this.body;var S=this.position,P=this.constraint;this.camera.getWorldPoint(m.x,m.y,S),P.pointA.x=S.x,P.pointA.y=S.y,l.set(T,!1),this.world.emit(o.DRAG,T,this)}},stopDrag:function(){var m=this.body,T=this.constraint;T.bodyB=null,T.pointB=null,this.pointer=null,this.body=null,this.part=null,m&&this.world.emit(o.DRAG_END,m,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(o.BEFORE_UPDATE,this.update),this.scene.sys.input.off(u.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(u.POINTER_UP,this.onUp,this)}});h.exports=g},31468:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(68516),d=e(84125),s=e(56694),a=e(68758),r=e(11299),o=e(45775),u=e(6659),v=e(35416),l=e(72632),c=e(10850),p=e(84125),g=e(39073),m=e(84720),T=e(72005),S=e(10438),P=new s({Extends:u,initialize:function(R,A){u.call(this),this.scene=R,this.engine=o.create(A),this.localWorld=this.engine.world;var w=c(A,"gravity",null);w?this.setGravity(w.x,w.y,w.scale):w===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=c(A,"enabled",!0),this.getDelta=c(A,"getDelta",this.update60Hz);var O=l(A,"runner",{}),L=l(O,"fps",!1),F=l(O,"fps",60),I=l(O,"delta",1e3/F),B=l(O,"deltaMin",1e3/F),G=l(O,"deltaMax",1e3/(F*.5));L||(F=1e3/I),this.runner={fps:F,deltaSampleSize:l(O,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:l(O,"isFixed",!1),delta:I,deltaMin:B,deltaMax:G},this.autoUpdate=c(A,"autoUpdate",!0);var N=c(A,"debug",!1);if(this.drawDebug=typeof N=="object"?!0:N,this.debugGraphic,this.debugConfig={showAxes:l(N,"showAxes",!1),showAngleIndicator:l(N,"showAngleIndicator",!1),angleColor:l(N,"angleColor",15208787),showBroadphase:l(N,"showBroadphase",!1),broadphaseColor:l(N,"broadphaseColor",16757760),showBounds:l(N,"showBounds",!1),boundsColor:l(N,"boundsColor",16777215),showVelocity:l(N,"showVelocity",!1),velocityColor:l(N,"velocityColor",44783),showCollisions:l(N,"showCollisions",!1),collisionColor:l(N,"collisionColor",16094476),showSeparations:l(N,"showSeparations",!1),separationColor:l(N,"separationColor",16753920),showBody:l(N,"showBody",!0),showStaticBody:l(N,"showStaticBody",!0),showInternalEdges:l(N,"showInternalEdges",!1),renderFill:l(N,"renderFill",!1),renderLine:l(N,"renderLine",!0),fillColor:l(N,"fillColor",1075465),fillOpacity:l(N,"fillOpacity",1),lineColor:l(N,"lineColor",2678297),lineOpacity:l(N,"lineOpacity",1),lineThickness:l(N,"lineThickness",1),staticFillColor:l(N,"staticFillColor",857979),staticLineColor:l(N,"staticLineColor",1255396),showSleeping:l(N,"showSleeping",!1),staticBodySleepOpacity:l(N,"staticBodySleepOpacity",.7),sleepFillColor:l(N,"sleepFillColor",4605510),sleepLineColor:l(N,"sleepLineColor",10066585),showSensors:l(N,"showSensors",!0),sensorFillColor:l(N,"sensorFillColor",857979),sensorLineColor:l(N,"sensorLineColor",1255396),showPositions:l(N,"showPositions",!0),positionSize:l(N,"positionSize",4),positionColor:l(N,"positionColor",14697178),showJoint:l(N,"showJoint",!0),jointColor:l(N,"jointColor",14737474),jointLineOpacity:l(N,"jointLineOpacity",1),jointLineThickness:l(N,"jointLineThickness",2),pinSize:l(N,"pinSize",4),pinColor:l(N,"pinColor",4382944),springColor:l(N,"springColor",14697184),anchorColor:l(N,"anchorColor",15724527),anchorSize:l(N,"anchorSize",4),showConvexHulls:l(N,"showConvexHulls",!1),hullColor:l(N,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),l(A,"setBounds",!1)){var U=A.setBounds;if(typeof U=="boolean")this.setBounds();else{var Y=l(U,"x",0),X=l(U,"y",0),b=l(U,"width",R.sys.scale.width),z=l(U,"height",R.sys.scale.height),D=l(U,"thickness",64),V=l(U,"left",!0),k=l(U,"right",!0),W=l(U,"top",!0),H=l(U,"bottom",!0);this.setBounds(Y,X,b,z,D,V,k,W,H)}}},setCompositeRenderStyle:function(E){var R=E.bodies,A=E.constraints,w=E.composites,O,L,F;for(O=0;O<R.length;O++)L=R[O],F=L.render,this.setBodyRenderStyle(L,F.lineColor,F.lineOpacity,F.lineThickness,F.fillColor,F.fillOpacity);for(O=0;O<A.length;O++)L=A[O],F=L.render,this.setConstraintRenderStyle(L,F.lineColor,F.lineOpacity,F.lineThickness,F.pinSize,F.anchorColor,F.anchorSize);for(O=0;O<w.length;O++)L=w[O],this.setCompositeRenderStyle(L);return this},setBodyRenderStyle:function(E,R,A,w,O,L){var F=E.render,I=this.debugConfig;return F?(R==null&&(R=E.isStatic?I.staticLineColor:I.lineColor),A==null&&(A=I.lineOpacity),w==null&&(w=I.lineThickness),O==null&&(O=E.isStatic?I.staticFillColor:I.fillColor),L==null&&(L=I.fillOpacity),R!==!1&&(F.lineColor=R),A!==!1&&(F.lineOpacity=A),w!==!1&&(F.lineThickness=w),O!==!1&&(F.fillColor=O),L!==!1&&(F.fillOpacity=L),this):this},setConstraintRenderStyle:function(E,R,A,w,O,L,F){var I=E.render,B=this.debugConfig;if(!I)return this;if(R==null){var G=I.type;G==="line"?R=B.jointColor:G==="pin"?R=B.pinColor:G==="spring"&&(R=B.springColor)}return A==null&&(A=B.jointLineOpacity),w==null&&(w=B.jointLineThickness),O==null&&(O=B.pinSize),L==null&&(L=B.anchorColor),F==null&&(F=B.anchorSize),R!==!1&&(I.lineColor=R),A!==!1&&(I.lineOpacity=A),w!==!1&&(I.lineThickness=w),O!==!1&&(I.pinSize=O),L!==!1&&(I.anchorColor=L),F!==!1&&(I.anchorSize=F),this},setEventsProxy:function(){var E=this,R=this.engine,A=this.localWorld;this.drawDebug&&(g.on(A,"compositeModified",function(w){E.setCompositeRenderStyle(w)}),g.on(A,"beforeAdd",function(w){for(var O=[].concat(w.object),L=0;L<O.length;L++){var F=O[L],I=F.render;F.type==="body"?E.setBodyRenderStyle(F,I.lineColor,I.lineOpacity,I.lineThickness,I.fillColor,I.fillOpacity):F.type==="composite"?E.setCompositeRenderStyle(F):F.type==="constraint"&&E.setConstraintRenderStyle(F,I.lineColor,I.lineOpacity,I.lineThickness,I.pinSize,I.anchorColor,I.anchorSize)}})),g.on(A,"beforeAdd",function(w){E.emit(v.BEFORE_ADD,w)}),g.on(A,"afterAdd",function(w){E.emit(v.AFTER_ADD,w)}),g.on(A,"beforeRemove",function(w){E.emit(v.BEFORE_REMOVE,w)}),g.on(A,"afterRemove",function(w){E.emit(v.AFTER_REMOVE,w)}),g.on(R,"beforeUpdate",function(w){E.emit(v.BEFORE_UPDATE,w)}),g.on(R,"afterUpdate",function(w){E.emit(v.AFTER_UPDATE,w)}),g.on(R,"collisionStart",function(w){var O=w.pairs,L,F;O.length>0&&(L=O[0].bodyA,F=O[0].bodyB),E.emit(v.COLLISION_START,w,L,F)}),g.on(R,"collisionActive",function(w){var O=w.pairs,L,F;O.length>0&&(L=O[0].bodyA,F=O[0].bodyB),E.emit(v.COLLISION_ACTIVE,w,L,F)}),g.on(R,"collisionEnd",function(w){var O=w.pairs,L,F;O.length>0&&(L=O[0].bodyA,F=O[0].bodyB),E.emit(v.COLLISION_END,w,L,F)})},setBounds:function(E,R,A,w,O,L,F,I,B){return E===void 0&&(E=0),R===void 0&&(R=0),A===void 0&&(A=this.scene.sys.scale.width),w===void 0&&(w=this.scene.sys.scale.height),O===void 0&&(O=64),L===void 0&&(L=!0),F===void 0&&(F=!0),I===void 0&&(I=!0),B===void 0&&(B=!0),this.updateWall(L,"left",E-O,R-O,O,w+O*2),this.updateWall(F,"right",E+A,R-O,O,w+O*2),this.updateWall(I,"top",E,R-O,A,O),this.updateWall(B,"bottom",E,R+w,A,O),this},updateWall:function(E,R,A,w,O,L){var F=this.walls[R];E?(F&&T.remove(this.localWorld,F),A+=O/2,w+=L/2,this.walls[R]=this.create(A,w,O,L,{isStatic:!0,friction:0,frictionStatic:0})):(F&&T.remove(this.localWorld,F),this.walls[R]=null)},createDebugGraphic:function(){var E=this.scene.sys.add.graphics({x:0,y:0});return E.setDepth(Number.MAX_VALUE),this.debugGraphic=E,this.drawDebug=!0,E},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(E,R,A){return E===void 0&&(E=0),R===void 0&&(R=1),A===void 0&&(A=.001),this.localWorld.gravity.x=E,this.localWorld.gravity.y=R,this.localWorld.gravity.scale=A,this},create:function(E,R,A,w,O){var L=f.rectangle(E,R,A,w,O);return T.add(this.localWorld,L),L},add:function(E){return T.add(this.localWorld,E),this},remove:function(E,R){Array.isArray(E)||(E=[E]);for(var A=0;A<E.length;A++){var w=E[A],O=w.body?w.body:w;r.remove(this.localWorld,O,R)}return this},removeConstraint:function(E,R){return r.remove(this.localWorld,E,R),this},convertTilemapLayer:function(E,R){var A=E.layer,w=E.getTilesWithin(0,0,A.width,A.height,{isColliding:!0});return this.convertTiles(w,R),this},convertTiles:function(E,R){if(E.length===0)return this;for(var A=0;A<E.length;A++)new m(this,E[A],R);return this},nextGroup:function(E){return p.nextGroup(E)},nextCategory:function(){return p.nextCategory()},pause:function(){return this.enabled=!1,this.emit(v.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(v.RESUME),this},update:function(E,R){if(!(!this.enabled||!this.autoUpdate)){var A=this.engine,w=this.runner,O=A.timing;w.isFixed?R=this.getDelta(E,R):(R=E-w.timePrev||w.delta,w.timePrev=E,w.deltaHistory.push(R),w.deltaHistory=w.deltaHistory.slice(-w.deltaSampleSize),R=Math.min.apply(null,w.deltaHistory),R=R<w.deltaMin?w.deltaMin:R,R=R>w.deltaMax?w.deltaMax:R,w.delta=R),w.timeScalePrev=O.timeScale,w.frameCounter+=1,E-w.counterTimestamp>=1e3&&(w.fps=w.frameCounter*((E-w.counterTimestamp)/1e3),w.counterTimestamp=E,w.frameCounter=0),o.update(A,R)}},step:function(E){o.update(this.engine,E)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(E){var R=E.hasOwnProperty("body")?E.body:E;return r.get(this.localWorld,R.id,R.type)!==null},getAllBodies:function(){return r.allBodies(this.localWorld)},getAllConstraints:function(){return r.allConstraints(this.localWorld)},getAllComposites:function(){return r.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var E=this.debugConfig,R=this.engine,A=this.debugGraphic,w=r.allBodies(this.localWorld);this.debugGraphic.clear(),E.showBroadphase&&R.broadphase.controller&&this.renderGrid(R.broadphase,A,E.broadphaseColor,.5),E.showBounds&&this.renderBodyBounds(w,A,E.boundsColor,.5),(E.showBody||E.showStaticBody)&&this.renderBodies(w),E.showJoint&&this.renderJoints(),(E.showAxes||E.showAngleIndicator)&&this.renderBodyAxes(w,A,E.showAxes,E.angleColor,.5),E.showVelocity&&this.renderBodyVelocity(w,A,E.velocityColor,1,2),E.showSeparations&&this.renderSeparations(R.pairs.list,A,E.separationColor),E.showCollisions&&this.renderCollisions(R.pairs.list,A,E.collisionColor)}},renderGrid:function(E,R,A,w){R.lineStyle(1,A,w);for(var O=a.keys(E.buckets),L=0;L<O.length;L++){var F=O[L];if(!(E.buckets[F].length<2)){var I=F.split(/C|R/);R.strokeRect(parseInt(I[1],10)*E.bucketWidth,parseInt(I[2],10)*E.bucketHeight,E.bucketWidth,E.bucketHeight)}}return this},renderSeparations:function(E,R,A){R.lineStyle(1,A,1);for(var w=0;w<E.length;w++){var O=E[w];if(O.isActive){var L=O.collision,F=L.bodyA,I=L.bodyB,B=F.position,G=I.position,N=L.penetration,U=!F.isStatic&&!I.isStatic?4:1;I.isStatic&&(U=0),R.lineBetween(G.x,G.y,G.x-N.x*U,G.y-N.y*U),U=!F.isStatic&&!I.isStatic?4:1,F.isStatic&&(U=0),R.lineBetween(B.x,B.y,B.x-N.x*U,B.y-N.y*U)}}return this},renderCollisions:function(E,R,A){R.lineStyle(1,A,.5),R.fillStyle(A,1);var w,O;for(w=0;w<E.length;w++)if(O=E[w],!!O.isActive)for(var L=0;L<O.activeContacts.length;L++){var F=O.activeContacts[L],I=F.vertex;R.fillRect(I.x-2,I.y-2,5,5)}for(w=0;w<E.length;w++)if(O=E[w],!!O.isActive){var B=O.collision,G=O.activeContacts;if(G.length>0){var N=G[0].vertex.x,U=G[0].vertex.y;G.length===2&&(N=(G[0].vertex.x+G[1].vertex.x)/2,U=(G[0].vertex.y+G[1].vertex.y)/2),B.bodyB===B.supports[0].body||B.bodyA.isStatic?R.lineBetween(N-B.normal.x*8,U-B.normal.y*8,N,U):R.lineBetween(N+B.normal.x*8,U+B.normal.y*8,N,U)}}return this},renderBodyBounds:function(E,R,A,w){R.lineStyle(1,A,w);for(var O=0;O<E.length;O++){var L=E[O];if(L.render.visible){var F=L.bounds;if(F)R.strokeRect(F.min.x,F.min.y,F.max.x-F.min.x,F.max.y-F.min.y);else for(var I=L.parts,B=I.length>1?1:0;B<I.length;B++){var G=I[B];R.strokeRect(G.bounds.min.x,G.bounds.min.y,G.bounds.max.x-G.bounds.min.x,G.bounds.max.y-G.bounds.min.y)}}}return this},renderBodyAxes:function(E,R,A,w,O){R.lineStyle(1,w,O);for(var L=0;L<E.length;L++){var F=E[L],I=F.parts;if(F.render.visible){var B,G,N;if(A)for(G=I.length>1?1:0;G<I.length;G++)for(B=I[G],N=0;N<B.axes.length;N++){var U=B.axes[N];R.lineBetween(B.position.x,B.position.y,B.position.x+U.x*20,B.position.y+U.y*20)}else for(G=I.length>1?1:0;G<I.length;G++)for(B=I[G],N=0;N<B.axes.length;N++)R.lineBetween(B.position.x,B.position.y,(B.vertices[0].x+B.vertices[B.vertices.length-1].x)/2,(B.vertices[0].y+B.vertices[B.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(E,R,A,w,O){R.lineStyle(O,A,w);for(var L=0;L<E.length;L++){var F=E[L];F.render.visible&&R.lineBetween(F.position.x,F.position.y,F.position.x+(F.position.x-F.positionPrev.x)*2,F.position.y+(F.position.y-F.positionPrev.y)*2)}return this},renderBodies:function(E){for(var R=this.debugGraphic,A=this.debugConfig,w=A.showBody,O=A.showStaticBody,L=A.showSleeping,F=A.showInternalEdges,I=A.showConvexHulls,B=A.renderFill,G=A.renderLine,N=A.staticBodySleepOpacity,U=A.sleepFillColor,Y=A.sleepLineColor,X=A.hullColor,b=0;b<E.length;b++){var z=E[b];if(z.render.visible&&!(!O&&z.isStatic||!w&&!z.isStatic)){var D=z.render.lineColor,V=z.render.lineOpacity,k=z.render.lineThickness,W=z.render.fillColor,H=z.render.fillOpacity;L&&z.isSleeping&&(z.isStatic?(V*=N,H*=N):(D=Y,W=U)),B||(W=null),G||(D=null),this.renderBody(z,R,F,D,V,k,W,H);var $=z.parts.length;I&&$>1&&this.renderConvexHull(z,R,X,k)}}},renderBody:function(E,R,A,w,O,L,F,I){w===void 0&&(w=null),O===void 0&&(O=null),L===void 0&&(L=1),F===void 0&&(F=null),I===void 0&&(I=null);for(var B=this.debugConfig,G=B.sensorFillColor,N=B.sensorLineColor,U=E.parts,Y=U.length,X=Y>1?1:0;X<Y;X++){var b=U[X],z=b.render,D=z.opacity;if(!(!z.visible||D===0||b.isSensor&&!B.showSensors)){var V=b.circleRadius;if(R.beginPath(),b.isSensor?(F!==null&&R.fillStyle(G,I*D),w!==null&&R.lineStyle(L,N,O*D)):(F!==null&&R.fillStyle(F,I*D),w!==null&&R.lineStyle(L,w,O*D)),V)R.arc(b.position.x,b.position.y,V,0,2*Math.PI);else{var k=b.vertices,W=k.length;R.moveTo(k[0].x,k[0].y);for(var H=1;H<W;H++){var $=k[H];if(!k[H-1].isInternal||A?R.lineTo($.x,$.y):R.moveTo($.x,$.y),H<W&&$.isInternal&&!A){var K=(H+1)%W;R.moveTo(k[K].x,k[K].y)}}R.closePath()}F!==null&&R.fillPath(),w!==null&&R.strokePath()}}if(B.showPositions&&!E.isStatic){var Z=E.position.x,j=E.position.y,J=Math.ceil(B.positionSize/2);R.fillStyle(B.positionColor,1),R.fillRect(Z-J,j-J,B.positionSize,B.positionSize)}return this},renderConvexHull:function(E,R,A,w){w===void 0&&(w=1);var O=E.parts,L=O.length;if(L>1){var F=E.vertices;R.lineStyle(w,A),R.beginPath(),R.moveTo(F[0].x,F[0].y);for(var I=1;I<F.length;I++)R.lineTo(F[I].x,F[I].y);R.lineTo(F[0].x,F[0].y),R.strokePath()}return this},renderJoints:function(){for(var E=this.debugGraphic,R=r.allConstraints(this.localWorld),A=0;A<R.length;A++){var w=R[A].render,O=w.lineColor,L=w.lineOpacity,F=w.lineThickness,I=w.pinSize,B=w.anchorColor,G=w.anchorSize;this.renderConstraint(R[A],E,O,L,F,I,B,G)}},renderConstraint:function(E,R,A,w,O,L,F,I){var B=E.render;if(!B.visible||!E.pointA||!E.pointB)return this;R.lineStyle(O,A,w);var G=E.bodyA,N=E.bodyB,U,Y;if(G?U=S.add(G.position,E.pointA):U=E.pointA,B.type==="pin")R.strokeCircle(U.x,U.y,L);else{if(N?Y=S.add(N.position,E.pointB):Y=E.pointB,R.beginPath(),R.moveTo(U.x,U.y),B.type==="spring")for(var X=S.sub(Y,U),b=S.perp(S.normalise(X)),z=Math.ceil(a.clamp(E.length/5,12,20)),D,V=1;V<z;V+=1)D=V%2===0?1:-1,R.lineTo(U.x+X.x*(V/z)+b.x*D*4,U.y+X.y*(V/z)+b.y*D*4);R.lineTo(Y.x,Y.y)}return R.strokePath(),B.anchors&&I>0&&(R.fillStyle(F),R.fillCircle(U.x,U.y,I),R.fillCircle(Y.x,Y.y,I)),this},resetCollisionIDs:function(){return d._nextCollidingGroupId=1,d._nextNonCollidingGroupId=-1,d._nextCategory=1,this},shutdown:function(){g.off(this.engine),this.removeAllListeners(),T.clear(this.localWorld,!1),o.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});h.exports=P},95349:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setBounce:function(e){return this.body.restitution=e,this}};h.exports=y},70679:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setCollisionCategory:function(e){return this.body.collisionFilter.category=e,this},setCollisionGroup:function(e){return this.body.collisionFilter.group=e,this},setCollidesWith:function(e){var f=0;if(!Array.isArray(e))f=e;else for(var d=0;d<e.length;d++)f|=e[d];return this.body.collisionFilter.mask=f,this},setOnCollide:function(e){return this.body.onCollideCallback=e,this},setOnCollideEnd:function(e){return this.body.onCollideEndCallback=e,this},setOnCollideActive:function(e){return this.body.onCollideActiveCallback=e,this},setOnCollideWith:function(e,f){Array.isArray(e)||(e=[e]);for(var d=0;d<e.length;d++){var s=e[d].hasOwnProperty("body")?e[d].body:e[d];this.body.setOnCollideWith(s,f)}return this}};h.exports=y},77178:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(84125),d={applyForce:function(s){return this._tempVec2.set(this.body.position.x,this.body.position.y),f.applyForce(this.body,this._tempVec2,s),this},applyForceFrom:function(s,a){return f.applyForce(this.body,s,a),this},thrust:function(s){var a=this.body.angle;return this._tempVec2.set(s*Math.cos(a),s*Math.sin(a)),f.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(s){var a=this.body.angle-Math.PI/2;return this._tempVec2.set(s*Math.cos(a),s*Math.sin(a)),f.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(s){var a=this.body.angle+Math.PI/2;return this._tempVec2.set(s*Math.cos(a),s*Math.sin(a)),f.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(s){var a=this.body.angle-Math.PI;return this._tempVec2.set(s*Math.cos(a),s*Math.sin(a)),f.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};h.exports=d},74015:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setFriction:function(e,f,d){return this.body.friction=e,f!==void 0&&(this.body.frictionAir=f),d!==void 0&&(this.body.frictionStatic=d),this},setFrictionAir:function(e){return this.body.frictionAir=e,this},setFrictionStatic:function(e){return this.body.frictionStatic=e,this}};h.exports=y},11535:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setIgnoreGravity:function(e){return this.body.ignoreGravity=e,this}};h.exports=y},74497:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(84125),d=e(93736),s={setMass:function(a){return f.setMass(this.body,a),this},setDensity:function(a){return f.setDensity(this.body,a),this},centerOfMass:{get:function(){return new d(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};h.exports=s},75529:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setSensor:function(e){return this.body.isSensor=e,this},isSensor:function(){return this.body.isSensor}};h.exports=y},64024:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(68516),d=e(84125),s=e(88456),a=e(72632),r=e(10998),o=e(72829),u=e(39745),v={setRectangle:function(l,c,p){return this.setBody({type:"rectangle",width:l,height:c},p)},setCircle:function(l,c){return this.setBody({type:"circle",radius:l},c)},setPolygon:function(l,c,p){return this.setBody({type:"polygon",sides:c,radius:l},p)},setTrapezoid:function(l,c,p,g){return this.setBody({type:"trapezoid",width:l,height:c,slope:p},g)},setExistingBody:function(l,c){c===void 0&&(c=!0),this.body&&this.world.remove(this.body,!0),this.body=l;for(var p=0;p<l.parts.length;p++)l.parts[p].gameObject=this;var g=this;if(l.destroy=function(){g.world.remove(g.body,!0),g.body.gameObject=null},c&&(this.world.has(l)&&this.world.remove(l,!0),this.world.add(l)),this._originComponent){var m=l.render.sprite.xOffset,T=l.render.sprite.yOffset,S=l.centerOfMass.x,P=l.centerOfMass.y;if(s(S,.5)&&s(P,.5))this.setOrigin(m+.5,T+.5);else{var E=l.centerOffset.x,R=l.centerOffset.y;this.setOrigin(m+E/this.displayWidth,T+R/this.displayHeight)}}return this},setBody:function(l,c){if(!l)return this;var p;typeof l=="string"&&(l={type:l});var g=a(l,"type","rectangle"),m=a(l,"x",this._tempVec2.x),T=a(l,"y",this._tempVec2.y),S=a(l,"width",this.width),P=a(l,"height",this.height);switch(g){case"rectangle":p=f.rectangle(m,T,S,P,c);break;case"circle":var E=a(l,"radius",Math.max(S,P)/2),R=a(l,"maxSides",25);p=f.circle(m,T,E,c,R);break;case"trapezoid":var A=a(l,"slope",.5);p=f.trapezoid(m,T,S,P,A,c);break;case"polygon":var w=a(l,"sides",5),O=a(l,"radius",Math.max(S,P)/2);p=f.polygon(m,T,w,O,c);break;case"fromVertices":case"fromVerts":var L=a(l,"verts",null);if(L)if(typeof L=="string"&&(L=u.fromPath(L)),this.body&&!this.body.hasOwnProperty("temp"))d.setVertices(this.body,L),p=this.body;else{var F=a(l,"flagInternal",!1),I=a(l,"removeCollinear",.01),B=a(l,"minimumArea",10);p=f.fromVertices(m,T,L,c,F,I,B)}break;case"fromPhysicsEditor":p=r.parseBody(m,T,l,c);break;case"fromPhysicsTracer":p=o.parseBody(m,T,l,c);break}return p&&this.setExistingBody(p,l.addToWorld),this}};h.exports=v},25106:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(35416),d=e(22806),s=e(39073),a={setToSleep:function(){return d.set(this.body,!0),this},setAwake:function(){return d.set(this.body,!1),this},setSleepThreshold:function(r){return r===void 0&&(r=60),this.body.sleepThreshold=r,this},setSleepEvents:function(r,o){return this.setSleepStartEvent(r),this.setSleepEndEvent(o),this},setSleepStartEvent:function(r){if(r){var o=this.world;s.on(this.body,"sleepStart",function(u){o.emit(f.SLEEP_START,u,this)})}else s.off(this.body,"sleepStart");return this},setSleepEndEvent:function(r){if(r){var o=this.world;s.on(this.body,"sleepEnd",function(u){o.emit(f.SLEEP_END,u,this)})}else s.off(this.body,"sleepEnd");return this}};h.exports=a},82884:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(84125),d={setStatic:function(s){return f.setStatic(this.body,s),this},isStatic:function(){return this.body.isStatic}};h.exports=d},4753:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(84125),d=e(83392),s=e(35786),a=e(62138),r=4,o={x:{get:function(){return this.body.position.x},set:function(u){this._tempVec2.set(u,this.y),f.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(u){this._tempVec2.set(this.x,u),f.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(u){var v=1/this._scaleX,l=1/this._scaleY;this._scaleX=u,this._scaleX===0?this.renderFlags&=~r:this.renderFlags|=r,f.scale(this.body,v,l),f.scale(this.body,u,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(u){var v=1/this._scaleX,l=1/this._scaleY;this._scaleY=u,this._scaleY===0?this.renderFlags&=~r:this.renderFlags|=r,f.scale(this.body,v,l),f.scale(this.body,this._scaleX,u)}},angle:{get:function(){return a(this.body.angle*d.RAD_TO_DEG)},set:function(u){this.rotation=a(u)*d.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(u){this._rotation=s(u),f.setAngle(this.body,this._rotation)}},setPosition:function(u,v){return u===void 0&&(u=0),v===void 0&&(v=u),this._tempVec2.set(u,v),f.setPosition(this.body,this._tempVec2),this},setRotation:function(u){return u===void 0&&(u=0),this._rotation=s(u),f.setAngle(this.body,u),this},setFixedRotation:function(){return f.setInertia(this.body,1/0),this},setAngle:function(u){return u===void 0&&(u=0),this.angle=u,f.setAngle(this.body,this.rotation),this},setScale:function(u,v,l){u===void 0&&(u=1),v===void 0&&(v=u);var c=1/this._scaleX,p=1/this._scaleY;return this._scaleX=u,this._scaleY=v,f.scale(this.body,c,p,l),f.scale(this.body,u,v,l),this}};h.exports=o},37268:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(84125),d={setVelocityX:function(s){return this._tempVec2.set(s,this.body.velocity.y),f.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(s){return this._tempVec2.set(this.body.velocity.x,s),f.setVelocity(this.body,this._tempVec2),this},setVelocity:function(s,a){return this._tempVec2.set(s,a),f.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return f.getVelocity(this.body)},setAngularVelocity:function(s){return f.setAngularVelocity(this.body,s),this},getAngularVelocity:function(){return f.getAngularVelocity(this.body)},setAngularSpeed:function(s){return f.setAngularSpeed(this.body,s),this},getAngularSpeed:function(){return f.getAngularSpeed(this.body)}};h.exports=d},74527:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Bounce:e(95349),Collision:e(70679),Force:e(77178),Friction:e(74015),Gravity:e(11535),Mass:e(74497),Sensor:e(75529),SetBody:e(64024),Sleep:e(25106),Static:e(82884),Transform:e(4753),Velocity:e(37268)}},63201:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="afteradd"},30474:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="afterremove"},44822:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="afterupdate"},88820:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="beforeadd"},94849:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="beforeremove"},6391:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="beforeupdate"},96738:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="collisionactive"},7916:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="collisionend"},59529:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="collisionstart"},10219:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="dragend"},183:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="drag"},39143:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="dragstart"},16483:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pause"},35806:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="resume"},22106:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="sleepend"},5803:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="sleepstart"},35416:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={AFTER_ADD:e(63201),AFTER_REMOVE:e(30474),AFTER_UPDATE:e(44822),BEFORE_ADD:e(88820),BEFORE_REMOVE:e(94849),BEFORE_UPDATE:e(6391),COLLISION_ACTIVE:e(96738),COLLISION_END:e(7916),COLLISION_START:e(59529),DRAG_END:e(10219),DRAG:e(183),DRAG_START:e(39143),PAUSE:e(16483),RESUME:e(35806),SLEEP_END:e(22106),SLEEP_START:e(5803)}},45949:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={BodyBounds:e(63568),Components:e(74527),Events:e(35416),Factory:e(72653),MatterGameObject:e(3860),Image:e(7030),Matter:e(18171),MatterPhysics:e(50583),PolyDecomp:e(81084),Sprite:e(73658),TileBody:e(84720),PhysicsEditorParser:e(10998),PhysicsJSONParser:e(72829),PointerConstraint:e(88596),World:e(31468)}},84125:(h,y,e)=>{var f={};h.exports=f;var d=e(39745),s=e(10438),a=e(22806),r=e(68758),o=e(84091),u=e(50658);(function(){f._timeCorrection=!0,f._inertiaScale=4,f._nextCollidingGroupId=1,f._nextNonCollidingGroupId=-1,f._nextCategory=1,f._baseDelta=16.666666666666668,f.create=function(l){var c={id:r.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!l.hasOwnProperty("position")&&l.hasOwnProperty("vertices")?l.position=d.centre(l.vertices):l.hasOwnProperty("vertices")||(c.vertices=d.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var p=r.extend(c,l);return v(p,l),p.setOnCollideWith=function(g,m){return m?this.onCollideWith[g.id]=m:delete this.onCollideWith[g.id],this},p},f.nextGroup=function(l){return l?f._nextNonCollidingGroupId--:f._nextCollidingGroupId++},f.nextCategory=function(){return f._nextCategory=f._nextCategory<<1,f._nextCategory};var v=function(l,c){if(c=c||{},f.set(l,{bounds:l.bounds||o.create(l.vertices),positionPrev:l.positionPrev||s.clone(l.position),anglePrev:l.anglePrev||l.angle,vertices:l.vertices,parts:l.parts||[l],isStatic:l.isStatic,isSleeping:l.isSleeping,parent:l.parent||l}),d.rotate(l.vertices,l.angle,l.position),u.rotate(l.axes,l.angle),o.update(l.bounds,l.vertices,l.velocity),f.set(l,{axes:c.axes||l.axes,area:c.area||l.area,mass:c.mass||l.mass,inertia:c.inertia||l.inertia}),l.parts.length===1){var p=l.bounds,g=l.centerOfMass,m=l.centerOffset,T=p.max.x-p.min.x,S=p.max.y-p.min.y;g.x=-(p.min.x-l.position.x)/T,g.y=-(p.min.y-l.position.y)/S,m.x=T*g.x,m.y=S*g.y}};f.set=function(l,c,p){var g;typeof c=="string"&&(g=c,c={},c[g]=p);for(g in c)if(Object.prototype.hasOwnProperty.call(c,g))switch(p=c[g],g){case"isStatic":f.setStatic(l,p);break;case"isSleeping":a.set(l,p);break;case"mass":f.setMass(l,p);break;case"density":f.setDensity(l,p);break;case"inertia":f.setInertia(l,p);break;case"vertices":f.setVertices(l,p);break;case"position":f.setPosition(l,p);break;case"angle":f.setAngle(l,p);break;case"velocity":f.setVelocity(l,p);break;case"angularVelocity":f.setAngularVelocity(l,p);break;case"speed":f.setSpeed(l,p);break;case"angularSpeed":f.setAngularSpeed(l,p);break;case"parts":f.setParts(l,p);break;case"centre":f.setCentre(l,p);break;default:l[g]=p}},f.setStatic=function(l,c){for(var p=0;p<l.parts.length;p++){var g=l.parts[p];c?(g.isStatic||(g._original={restitution:g.restitution,friction:g.friction,mass:g.mass,inertia:g.inertia,density:g.density,inverseMass:g.inverseMass,inverseInertia:g.inverseInertia}),g.restitution=0,g.friction=1,g.mass=g.inertia=g.density=1/0,g.inverseMass=g.inverseInertia=0,g.positionPrev.x=g.position.x,g.positionPrev.y=g.position.y,g.anglePrev=g.angle,g.angularVelocity=0,g.speed=0,g.angularSpeed=0,g.motion=0):g._original&&(g.restitution=g._original.restitution,g.friction=g._original.friction,g.mass=g._original.mass,g.inertia=g._original.inertia,g.density=g._original.density,g.inverseMass=g._original.inverseMass,g.inverseInertia=g._original.inverseInertia,g._original=null),g.isStatic=c}},f.setMass=function(l,c){var p=l.inertia/(l.mass/6);l.inertia=p*(c/6),l.inverseInertia=1/l.inertia,l.mass=c,l.inverseMass=1/l.mass,l.density=l.mass/l.area},f.setDensity=function(l,c){f.setMass(l,c*l.area),l.density=c},f.setInertia=function(l,c){l.inertia=c,l.inverseInertia=1/l.inertia},f.setVertices=function(l,c){c[0].body===l?l.vertices=c:l.vertices=d.create(c,l),l.axes=u.fromVertices(l.vertices),l.area=d.area(l.vertices),f.setMass(l,l.density*l.area);var p=d.centre(l.vertices);d.translate(l.vertices,p,-1),f.setInertia(l,f._inertiaScale*d.inertia(l.vertices,l.mass)),d.translate(l.vertices,l.position),o.update(l.bounds,l.vertices,l.velocity)},f.setParts=function(l,c,p){var g;for(c=c.slice(0),l.parts.length=0,l.parts.push(l),l.parent=l,g=0;g<c.length;g++){var m=c[g];m!==l&&(m.parent=l,l.parts.push(m))}if(l.parts.length!==1){if(p=typeof p<"u"?p:!0,p){var T=[];for(g=0;g<c.length;g++)T=T.concat(c[g].vertices);d.clockwiseSort(T);var S=d.hull(T),P=d.centre(S);f.setVertices(l,S),d.translate(l.vertices,P)}var E=f._totalProperties(l),R=E.centre.x,A=E.centre.y,w=l.bounds,O=l.centerOfMass,L=l.centerOffset;o.update(w,l.vertices,l.velocity),O.x=-(w.min.x-R)/(w.max.x-w.min.x),O.y=-(w.min.y-A)/(w.max.y-w.min.y),L.x=R,L.y=A,l.area=E.area,l.parent=l,l.position.x=R,l.position.y=A,l.positionPrev.x=R,l.positionPrev.y=A,f.setMass(l,E.mass),f.setInertia(l,E.inertia),f.setPosition(l,E.centre)}},f.setCentre=function(l,c,p){p?(l.positionPrev.x+=c.x,l.positionPrev.y+=c.y,l.position.x+=c.x,l.position.y+=c.y):(l.positionPrev.x=c.x-(l.position.x-l.positionPrev.x),l.positionPrev.y=c.y-(l.position.y-l.positionPrev.y),l.position.x=c.x,l.position.y=c.y)},f.setPosition=function(l,c,p){var g=s.sub(c,l.position);p?(l.positionPrev.x=l.position.x,l.positionPrev.y=l.position.y,l.velocity.x=g.x,l.velocity.y=g.y,l.speed=s.magnitude(g)):(l.positionPrev.x+=g.x,l.positionPrev.y+=g.y);for(var m=0;m<l.parts.length;m++){var T=l.parts[m];T.position.x+=g.x,T.position.y+=g.y,d.translate(T.vertices,g),o.update(T.bounds,T.vertices,l.velocity)}},f.setAngle=function(l,c,p){var g=c-l.angle;p?(l.anglePrev=l.angle,l.angularVelocity=g,l.angularSpeed=Math.abs(g)):l.anglePrev+=g;for(var m=0;m<l.parts.length;m++){var T=l.parts[m];T.angle+=g,d.rotate(T.vertices,g,l.position),u.rotate(T.axes,g),o.update(T.bounds,T.vertices,l.velocity),m>0&&s.rotateAbout(T.position,g,l.position,T.position)}},f.setVelocity=function(l,c){var p=l.deltaTime/f._baseDelta;l.positionPrev.x=l.position.x-c.x*p,l.positionPrev.y=l.position.y-c.y*p,l.velocity.x=(l.position.x-l.positionPrev.x)/p,l.velocity.y=(l.position.y-l.positionPrev.y)/p,l.speed=s.magnitude(l.velocity)},f.getVelocity=function(l){var c=f._baseDelta/l.deltaTime;return{x:(l.position.x-l.positionPrev.x)*c,y:(l.position.y-l.positionPrev.y)*c}},f.getSpeed=function(l){return s.magnitude(f.getVelocity(l))},f.setSpeed=function(l,c){f.setVelocity(l,s.mult(s.normalise(f.getVelocity(l)),c))},f.setAngularVelocity=function(l,c){var p=l.deltaTime/f._baseDelta;l.anglePrev=l.angle-c*p,l.angularVelocity=(l.angle-l.anglePrev)/p,l.angularSpeed=Math.abs(l.angularVelocity)},f.getAngularVelocity=function(l){return(l.angle-l.anglePrev)*f._baseDelta/l.deltaTime},f.getAngularSpeed=function(l){return Math.abs(f.getAngularVelocity(l))},f.setAngularSpeed=function(l,c){f.setAngularVelocity(l,r.sign(f.getAngularVelocity(l))*c)},f.translate=function(l,c,p){f.setPosition(l,s.add(l.position,c),p)},f.rotate=function(l,c,p,g){if(!p)f.setAngle(l,l.angle+c,g);else{var m=Math.cos(c),T=Math.sin(c),S=l.position.x-p.x,P=l.position.y-p.y;f.setPosition(l,{x:p.x+(S*m-P*T),y:p.y+(S*T+P*m)},g),f.setAngle(l,l.angle+c,g)}},f.scale=function(l,c,p,g){var m=0,T=0;g=g||l.position;for(var S=0;S<l.parts.length;S++){var P=l.parts[S];P.scale.x=c,P.scale.y=p,d.scale(P.vertices,c,p,g),P.axes=u.fromVertices(P.vertices),P.area=d.area(P.vertices),f.setMass(P,l.density*P.area),d.translate(P.vertices,{x:-P.position.x,y:-P.position.y}),f.setInertia(P,f._inertiaScale*d.inertia(P.vertices,P.mass)),d.translate(P.vertices,{x:P.position.x,y:P.position.y}),S>0&&(m+=P.area,T+=P.inertia),P.position.x=g.x+(P.position.x-g.x)*c,P.position.y=g.y+(P.position.y-g.y)*p,o.update(P.bounds,P.vertices,l.velocity)}l.parts.length>1&&(l.area=m,l.isStatic||(f.setMass(l,l.density*m),f.setInertia(l,T))),l.circleRadius&&(c===p?l.circleRadius*=c:l.circleRadius=null)},f.update=function(l,c){c=(typeof c<"u"?c:16.666666666666668)*l.timeScale;var p=c*c,g=f._timeCorrection?c/(l.deltaTime||c):1,m=1-l.frictionAir*(c/r._baseDelta),T=(l.position.x-l.positionPrev.x)*g,S=(l.position.y-l.positionPrev.y)*g;l.velocity.x=T*m+l.force.x/l.mass*p,l.velocity.y=S*m+l.force.y/l.mass*p,l.positionPrev.x=l.position.x,l.positionPrev.y=l.position.y,l.position.x+=l.velocity.x,l.position.y+=l.velocity.y,l.deltaTime=c,l.angularVelocity=(l.angle-l.anglePrev)*m*g+l.torque/l.inertia*p,l.anglePrev=l.angle,l.angle+=l.angularVelocity,l.speed=s.magnitude(l.velocity),l.angularSpeed=Math.abs(l.angularVelocity);for(var P=0;P<l.parts.length;P++){var E=l.parts[P];d.translate(E.vertices,l.velocity),P>0&&(E.position.x+=l.velocity.x,E.position.y+=l.velocity.y),l.angularVelocity!==0&&(d.rotate(E.vertices,l.angularVelocity,l.position),u.rotate(E.axes,l.angularVelocity),P>0&&s.rotateAbout(E.position,l.angularVelocity,l.position,E.position)),o.update(E.bounds,E.vertices,l.velocity)}},f.updateVelocities=function(l){var c=f._baseDelta/l.deltaTime,p=l.velocity;p.x=(l.position.x-l.positionPrev.x)*c,p.y=(l.position.y-l.positionPrev.y)*c,l.speed=Math.sqrt(p.x*p.x+p.y*p.y),l.angularVelocity=(l.angle-l.anglePrev)*c,l.angularSpeed=Math.abs(l.angularVelocity)},f.applyForce=function(l,c,p){var g={x:c.x-l.position.x,y:c.y-l.position.y};l.force.x+=p.x,l.force.y+=p.y,l.torque+=g.x*p.y-g.y*p.x},f._totalProperties=function(l){for(var c={mass:0,area:0,inertia:0,centre:{x:0,y:0}},p=l.parts.length===1?0:1;p<l.parts.length;p++){var g=l.parts[p],m=g.mass!==1/0?g.mass:1;c.mass+=m,c.area+=g.area,c.inertia+=g.inertia,c.centre=s.add(c.centre,s.mult(g.position,m))}return c.centre=s.div(c.centre,c.mass),c}})()},11299:(h,y,e)=>{var f={};h.exports=f;var d=e(39073),s=e(68758),a=e(84091),r=e(84125);(function(){f.create=function(o){return s.extend({id:s.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},o)},f.setModified=function(o,u,v,l){if(d.trigger(o,"compositeModified",o),o.isModified=u,u&&o.cache&&(o.cache.allBodies=null,o.cache.allConstraints=null,o.cache.allComposites=null),v&&o.parent&&f.setModified(o.parent,u,v,l),l)for(var c=0;c<o.composites.length;c++){var p=o.composites[c];f.setModified(p,u,v,l)}},f.add=function(o,u){var v=[].concat(u);d.trigger(o,"beforeAdd",{object:u});for(var l=0;l<v.length;l++){var c=v[l];switch(c.type){case"body":if(c.parent!==c){s.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}f.addBody(o,c);break;case"constraint":f.addConstraint(o,c);break;case"composite":f.addComposite(o,c);break;case"mouseConstraint":f.addConstraint(o,c.constraint);break}}return d.trigger(o,"afterAdd",{object:u}),o},f.remove=function(o,u,v){var l=[].concat(u);d.trigger(o,"beforeRemove",{object:u});for(var c=0;c<l.length;c++){var p=l[c];switch(p.type){case"body":f.removeBody(o,p,v);break;case"constraint":f.removeConstraint(o,p,v);break;case"composite":f.removeComposite(o,p,v);break;case"mouseConstraint":f.removeConstraint(o,p.constraint);break}}return d.trigger(o,"afterRemove",{object:u}),o},f.addComposite=function(o,u){return o.composites.push(u),u.parent=o,f.setModified(o,!0,!0,!1),o},f.removeComposite=function(o,u,v){var l=s.indexOf(o.composites,u);if(l!==-1&&f.removeCompositeAt(o,l),v)for(var c=0;c<o.composites.length;c++)f.removeComposite(o.composites[c],u,!0);return o},f.removeCompositeAt=function(o,u){return o.composites.splice(u,1),f.setModified(o,!0,!0,!1),o},f.addBody=function(o,u){return o.bodies.push(u),f.setModified(o,!0,!0,!1),o},f.removeBody=function(o,u,v){var l=s.indexOf(o.bodies,u);if(l!==-1&&f.removeBodyAt(o,l),v)for(var c=0;c<o.composites.length;c++)f.removeBody(o.composites[c],u,!0);return o},f.removeBodyAt=function(o,u){return o.bodies.splice(u,1),f.setModified(o,!0,!0,!1),o},f.addConstraint=function(o,u){return o.constraints.push(u),f.setModified(o,!0,!0,!1),o},f.removeConstraint=function(o,u,v){var l=s.indexOf(o.constraints,u);if(l!==-1&&f.removeConstraintAt(o,l),v)for(var c=0;c<o.composites.length;c++)f.removeConstraint(o.composites[c],u,!0);return o},f.removeConstraintAt=function(o,u){return o.constraints.splice(u,1),f.setModified(o,!0,!0,!1),o},f.clear=function(o,u,v){if(v)for(var l=0;l<o.composites.length;l++)f.clear(o.composites[l],u,!0);return u?o.bodies=o.bodies.filter(function(c){return c.isStatic}):o.bodies.length=0,o.constraints.length=0,o.composites.length=0,f.setModified(o,!0,!0,!1),o},f.allBodies=function(o){if(o.cache&&o.cache.allBodies)return o.cache.allBodies;for(var u=[].concat(o.bodies),v=0;v<o.composites.length;v++)u=u.concat(f.allBodies(o.composites[v]));return o.cache&&(o.cache.allBodies=u),u},f.allConstraints=function(o){if(o.cache&&o.cache.allConstraints)return o.cache.allConstraints;for(var u=[].concat(o.constraints),v=0;v<o.composites.length;v++)u=u.concat(f.allConstraints(o.composites[v]));return o.cache&&(o.cache.allConstraints=u),u},f.allComposites=function(o){if(o.cache&&o.cache.allComposites)return o.cache.allComposites;for(var u=[].concat(o.composites),v=0;v<o.composites.length;v++)u=u.concat(f.allComposites(o.composites[v]));return o.cache&&(o.cache.allComposites=u),u},f.get=function(o,u,v){var l,c;switch(v){case"body":l=f.allBodies(o);break;case"constraint":l=f.allConstraints(o);break;case"composite":l=f.allComposites(o).concat(o);break}return l?(c=l.filter(function(p){return p.id.toString()===u.toString()}),c.length===0?null:c[0]):null},f.move=function(o,u,v){return f.remove(o,u),f.add(v,u),o},f.rebase=function(o){for(var u=f.allBodies(o).concat(f.allConstraints(o)).concat(f.allComposites(o)),v=0;v<u.length;v++)u[v].id=s.nextId();return o},f.translate=function(o,u,v){for(var l=v?f.allBodies(o):o.bodies,c=0;c<l.length;c++)r.translate(l[c],u);return o},f.rotate=function(o,u,v,l){for(var c=Math.cos(u),p=Math.sin(u),g=l?f.allBodies(o):o.bodies,m=0;m<g.length;m++){var T=g[m],S=T.position.x-v.x,P=T.position.y-v.y;r.setPosition(T,{x:v.x+(S*c-P*p),y:v.y+(S*p+P*c)}),r.rotate(T,u)}return o},f.scale=function(o,u,v,l,c){for(var p=c?f.allBodies(o):o.bodies,g=0;g<p.length;g++){var m=p[g],T=m.position.x-l.x,S=m.position.y-l.y;r.setPosition(m,{x:l.x+T*u,y:l.y+S*v}),r.scale(m,u,v)}return o},f.bounds=function(o){for(var u=f.allBodies(o),v=[],l=0;l<u.length;l+=1){var c=u[l];v.push(c.bounds.min,c.bounds.max)}return a.create(v)}})()},72005:(h,y,e)=>{var f={};h.exports=f;var d=e(11299);(function(){f.create=d.create,f.add=d.add,f.remove=d.remove,f.clear=d.clear,f.addComposite=d.addComposite,f.addBody=d.addBody,f.addConstraint=d.addConstraint})()},63454:(h,y,e)=>{var f={};h.exports=f;var d=e(39745),s=e(70584);(function(){var a=[],r={overlap:0,axis:null},o={overlap:0,axis:null};f.create=function(u,v){return{pair:null,collided:!1,bodyA:u,bodyB:v,parentA:u.parent,parentB:v.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},f.collides=function(u,v,l){if(f._overlapAxes(r,u.vertices,v.vertices,u.axes),r.overlap<=0||(f._overlapAxes(o,v.vertices,u.vertices,v.axes),o.overlap<=0))return null;var c=l&&l.table[s.id(u,v)],p;c?p=c.collision:(p=f.create(u,v),p.collided=!0,p.bodyA=u.id<v.id?u:v,p.bodyB=u.id<v.id?v:u,p.parentA=p.bodyA.parent,p.parentB=p.bodyB.parent),u=p.bodyA,v=p.bodyB;var g;r.overlap<o.overlap?g=r:g=o;var m=p.normal,T=p.supports,S=g.axis,P=S.x,E=S.y;P*(v.position.x-u.position.x)+E*(v.position.y-u.position.y)<0?(m.x=P,m.y=E):(m.x=-P,m.y=-E),p.tangent.x=-m.y,p.tangent.y=m.x,p.depth=g.overlap,p.penetration.x=m.x*p.depth,p.penetration.y=m.y*p.depth;var R=f._findSupports(u,v,m,1),A=0;if(d.contains(u.vertices,R[0])&&(T[A++]=R[0]),d.contains(u.vertices,R[1])&&(T[A++]=R[1]),A<2){var w=f._findSupports(v,u,m,-1);d.contains(v.vertices,w[0])&&(T[A++]=w[0]),A<2&&d.contains(v.vertices,w[1])&&(T[A++]=w[1])}return A===0&&(T[A++]=R[0]),T.length=A,p},f._overlapAxes=function(u,v,l,c){var p=v.length,g=l.length,m=v[0].x,T=v[0].y,S=l[0].x,P=l[0].y,E=c.length,R=Number.MAX_VALUE,A=0,w,O,L,F,I,B;for(I=0;I<E;I++){var G=c[I],N=G.x,U=G.y,Y=m*N+T*U,X=S*N+P*U,b=Y,z=X;for(B=1;B<p;B+=1)F=v[B].x*N+v[B].y*U,F>b?b=F:F<Y&&(Y=F);for(B=1;B<g;B+=1)F=l[B].x*N+l[B].y*U,F>z?z=F:F<X&&(X=F);if(O=b-X,L=z-Y,w=O<L?O:L,w<R&&(R=w,A=I,w<=0))break}u.axis=c[A],u.overlap=R},f._projectToAxis=function(u,v,l){for(var c=v[0].x*l.x+v[0].y*l.y,p=c,g=1;g<v.length;g+=1){var m=v[g].x*l.x+v[g].y*l.y;m>p?p=m:m<c&&(c=m)}u.min=c,u.max=p},f._findSupports=function(u,v,l,c){var p=v.vertices,g=p.length,m=u.position.x,T=u.position.y,S=l.x*c,P=l.y*c,E=Number.MAX_VALUE,R,A,w,O,L;for(L=0;L<g;L+=1)A=p[L],O=S*(m-A.x)+P*(T-A.y),O<E&&(E=O,R=A);return w=p[(g+R.index-1)%g],E=S*(m-w.x)+P*(T-w.y),A=p[(R.index+1)%g],S*(m-A.x)+P*(T-A.y)<E?(a[0]=R,a[1]=A,a):(a[0]=R,a[1]=w,a)}})()},17319:h=>{var y={};h.exports=y,function(){y.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}}()},13657:(h,y,e)=>{var f={};h.exports=f;var d=e(68758),s=e(63454);(function(){f.create=function(a){var r={bodies:[],pairs:null};return d.extend(r,a)},f.setBodies=function(a,r){a.bodies=r.slice(0)},f.clear=function(a){a.bodies=[]},f.collisions=function(a){var r=[],o=a.pairs,u=a.bodies,v=u.length,l=f.canCollide,c=s.collides,p,g;for(u.sort(f._compareBoundsX),p=0;p<v;p++){var m=u[p],T=m.bounds,S=m.bounds.max.x,P=m.bounds.max.y,E=m.bounds.min.y,R=m.isStatic||m.isSleeping,A=m.parts.length,w=A===1;for(g=p+1;g<v;g++){var O=u[g],L=O.bounds;if(L.min.x>S)break;if(!(P<L.min.y||E>L.max.y)&&!(R&&(O.isStatic||O.isSleeping))&&l(m.collisionFilter,O.collisionFilter)){var F=O.parts.length;if(w&&F===1){var I=c(m,O,o);I&&r.push(I)}else for(var B=A>1?1:0,G=F>1?1:0,N=B;N<A;N++)for(var U=m.parts[N],T=U.bounds,Y=G;Y<F;Y++){var X=O.parts[Y],L=X.bounds;if(!(T.min.x>L.max.x||T.max.x<L.min.x||T.max.y<L.min.y||T.min.y>L.max.y)){var I=c(U,X,o);I&&r.push(I)}}}}}return r},f.canCollide=function(a,r){return a.group===r.group&&a.group!==0?a.group>0:(a.mask&r.category)!==0&&(r.mask&a.category)!==0},f._compareBoundsX=function(a,r){return a.bounds.min.x-r.bounds.min.x}})()},70584:(h,y,e)=>{var f={};h.exports=f;var d=e(17319);(function(){f.create=function(s,a){var r=s.bodyA,o=s.bodyB,u={id:f.id(r,o),bodyA:r,bodyB:o,collision:s,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:r.isSensor||o.isSensor,timeCreated:a,timeUpdated:a,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return f.update(u,s,a),u},f.update=function(s,a,r){var o=s.contacts,u=a.supports,v=s.activeContacts,l=a.parentA,c=a.parentB,p=l.vertices.length;s.isActive=!0,s.timeUpdated=r,s.collision=a,s.separation=a.depth,s.inverseMass=l.inverseMass+c.inverseMass,s.friction=l.friction<c.friction?l.friction:c.friction,s.frictionStatic=l.frictionStatic>c.frictionStatic?l.frictionStatic:c.frictionStatic,s.restitution=l.restitution>c.restitution?l.restitution:c.restitution,s.slop=l.slop>c.slop?l.slop:c.slop,a.pair=s,v.length=0;for(var g=0;g<u.length;g++){var m=u[g],T=m.body===l?m.index:p+m.index,S=o[T];S?v.push(S):v.push(o[T]=d.create(m))}},f.setActive=function(s,a,r){a?(s.isActive=!0,s.timeUpdated=r):(s.isActive=!1,s.activeContacts.length=0)},f.id=function(s,a){return s.id<a.id?"A"+s.id+"B"+a.id:"A"+a.id+"B"+s.id}})()},91327:(h,y,e)=>{var f={};h.exports=f;var d=e(70584),s=e(68758);(function(){f.create=function(a){return s.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},a)},f.update=function(a,r,o){var u=a.list,v=u.length,l=a.table,c=r.length,p=a.collisionStart,g=a.collisionEnd,m=a.collisionActive,T,S,P,E;for(p.length=0,g.length=0,m.length=0,E=0;E<v;E++)u[E].confirmedActive=!1;for(E=0;E<c;E++)T=r[E],P=T.pair,P?(P.isActive?m.push(P):p.push(P),d.update(P,T,o),P.confirmedActive=!0):(P=d.create(T,o),l[P.id]=P,p.push(P),u.push(P));var R=[];for(v=u.length,E=0;E<v;E++)P=u[E],P.confirmedActive||(d.setActive(P,!1,o),g.push(P),!P.collision.bodyA.isSleeping&&!P.collision.bodyB.isSleeping&&R.push(E));for(E=0;E<R.length;E++)S=R[E]-E,P=u[S],u.splice(S,1),delete l[P.id]},f.clear=function(a){return a.table={},a.list.length=0,a.collisionStart.length=0,a.collisionActive.length=0,a.collisionEnd.length=0,a}})()},13390:(h,y,e)=>{var f={};h.exports=f;var d=e(10438),s=e(63454),a=e(84091),r=e(68516),o=e(39745);(function(){f.collides=function(u,v){for(var l=[],c=v.length,p=u.bounds,g=s.collides,m=a.overlaps,T=0;T<c;T++){var S=v[T],P=S.parts.length,E=P===1?0:1;if(u!==S&&m(S.bounds,p))for(var R=E;R<P;R++){var A=S.parts[R];if(m(A.bounds,p)){var w=g(A,u);if(w){l.push(w);break}}}}return l},f.ray=function(u,v,l,c){c=c||1e-100;for(var p=d.angle(v,l),g=d.magnitude(d.sub(v,l)),m=(l.x+v.x)*.5,T=(l.y+v.y)*.5,S=r.rectangle(m,T,g,c,{angle:p}),P=f.collides(S,u),E=0;E<P.length;E+=1){var R=P[E];R.body=R.bodyB=R.bodyA}return P},f.region=function(u,v,l){for(var c=[],p=0;p<u.length;p++){var g=u[p],m=a.overlaps(g.bounds,v);(m&&!l||!m&&l)&&c.push(g)}return c},f.point=function(u,v){for(var l=[],c=0;c<u.length;c++){var p=u[c];if(a.contains(p.bounds,v))for(var g=p.parts.length===1?0:1;g<p.parts.length;g++){var m=p.parts[g];if(a.contains(m.bounds,v)&&o.contains(m.vertices,v)){l.push(p);break}}}return l}})()},44272:(h,y,e)=>{var f={};h.exports=f;var d=e(39745),s=e(68758),a=e(84091);(function(){f._restingThresh=2,f._restingThreshTangent=Math.sqrt(6),f._positionDampen=.9,f._positionWarming=.8,f._frictionNormalMultiplier=5,f._frictionMaxStatic=Number.MAX_VALUE,f.preSolvePosition=function(r){var o,u,v,l=r.length;for(o=0;o<l;o++)u=r[o],u.isActive&&(v=u.activeContacts.length,u.collision.parentA.totalContacts+=v,u.collision.parentB.totalContacts+=v)},f.solvePosition=function(r,o,u){var v,l,c,p,g,m,T,S,P=f._positionDampen*(u||1),E=s.clamp(o/s._baseDelta,0,1),R=r.length;for(v=0;v<R;v++)l=r[v],!(!l.isActive||l.isSensor)&&(c=l.collision,p=c.parentA,g=c.parentB,m=c.normal,l.separation=m.x*(g.positionImpulse.x+c.penetration.x-p.positionImpulse.x)+m.y*(g.positionImpulse.y+c.penetration.y-p.positionImpulse.y));for(v=0;v<R;v++)l=r[v],!(!l.isActive||l.isSensor)&&(c=l.collision,p=c.parentA,g=c.parentB,m=c.normal,S=l.separation-l.slop*E,(p.isStatic||g.isStatic)&&(S*=2),p.isStatic||p.isSleeping||(T=P/p.totalContacts,p.positionImpulse.x+=m.x*S*T,p.positionImpulse.y+=m.y*S*T),g.isStatic||g.isSleeping||(T=P/g.totalContacts,g.positionImpulse.x-=m.x*S*T,g.positionImpulse.y-=m.y*S*T))},f.postSolvePosition=function(r){for(var o=f._positionWarming,u=r.length,v=d.translate,l=a.update,c=0;c<u;c++){var p=r[c],g=p.positionImpulse,m=g.x,T=g.y,S=p.velocity;if(p.totalContacts=0,m!==0||T!==0){for(var P=0;P<p.parts.length;P++){var E=p.parts[P];v(E.vertices,g),l(E.bounds,E.vertices,S),E.position.x+=m,E.position.y+=T}p.positionPrev.x+=m,p.positionPrev.y+=T,m*S.x+T*S.y<0?(g.x=0,g.y=0):(g.x*=o,g.y*=o)}}},f.preSolveVelocity=function(r){var o=r.length,u,v;for(u=0;u<o;u++){var l=r[u];if(!(!l.isActive||l.isSensor)){var c=l.activeContacts,p=c.length,g=l.collision,m=g.parentA,T=g.parentB,S=g.normal,P=g.tangent;for(v=0;v<p;v++){var E=c[v],R=E.vertex,A=E.normalImpulse,w=E.tangentImpulse;if(A!==0||w!==0){var O=S.x*A+P.x*w,L=S.y*A+P.y*w;m.isStatic||m.isSleeping||(m.positionPrev.x+=O*m.inverseMass,m.positionPrev.y+=L*m.inverseMass,m.anglePrev+=m.inverseInertia*((R.x-m.position.x)*L-(R.y-m.position.y)*O)),T.isStatic||T.isSleeping||(T.positionPrev.x-=O*T.inverseMass,T.positionPrev.y-=L*T.inverseMass,T.anglePrev-=T.inverseInertia*((R.x-T.position.x)*L-(R.y-T.position.y)*O))}}}}},f.solveVelocity=function(r,o){var u=o/s._baseDelta,v=u*u,l=v*u,c=-f._restingThresh*u,p=f._restingThreshTangent,g=f._frictionNormalMultiplier*u,m=f._frictionMaxStatic,T=r.length,S,P,E,R;for(E=0;E<T;E++){var A=r[E];if(!(!A.isActive||A.isSensor)){var w=A.collision,O=w.parentA,L=w.parentB,F=O.velocity,I=L.velocity,B=w.normal.x,G=w.normal.y,N=w.tangent.x,U=w.tangent.y,Y=A.activeContacts,X=Y.length,b=1/X,z=O.inverseMass+L.inverseMass,D=A.friction*A.frictionStatic*g;for(F.x=O.position.x-O.positionPrev.x,F.y=O.position.y-O.positionPrev.y,I.x=L.position.x-L.positionPrev.x,I.y=L.position.y-L.positionPrev.y,O.angularVelocity=O.angle-O.anglePrev,L.angularVelocity=L.angle-L.anglePrev,R=0;R<X;R++){var V=Y[R],k=V.vertex,W=k.x-O.position.x,H=k.y-O.position.y,$=k.x-L.position.x,K=k.y-L.position.y,Z=F.x-H*O.angularVelocity,j=F.y+W*O.angularVelocity,J=I.x-K*L.angularVelocity,Q=I.y+$*L.angularVelocity,q=Z-J,_=j-Q,tt=B*q+G*_,st=N*q+U*_,it=A.separation+tt,lt=Math.min(it,1);lt=it<0?0:lt;var et=lt*D;st<-et||st>et?(P=st>0?st:-st,S=A.friction*(st>0?1:-1)*l,S<-P?S=-P:S>P&&(S=P)):(S=st,P=m);var ht=W*G-H*B,at=$*G-K*B,ft=b/(z+O.inverseInertia*ht*ht+L.inverseInertia*at*at),vt=(1+A.restitution)*tt*ft;if(S*=ft,tt<c)V.normalImpulse=0;else{var mt=V.normalImpulse;V.normalImpulse+=vt,V.normalImpulse>0&&(V.normalImpulse=0),vt=V.normalImpulse-mt}if(st<-p||st>p)V.tangentImpulse=0;else{var xt=V.tangentImpulse;V.tangentImpulse+=S,V.tangentImpulse<-P&&(V.tangentImpulse=-P),V.tangentImpulse>P&&(V.tangentImpulse=P),S=V.tangentImpulse-xt}var dt=B*vt+N*S,gt=G*vt+U*S;O.isStatic||O.isSleeping||(O.positionPrev.x+=dt*O.inverseMass,O.positionPrev.y+=gt*O.inverseMass,O.anglePrev+=(W*gt-H*dt)*O.inverseInertia),L.isStatic||L.isSleeping||(L.positionPrev.x-=dt*L.inverseMass,L.positionPrev.y-=gt*L.inverseMass,L.anglePrev-=($*gt-K*dt)*L.inverseInertia)}}}}})()},52838:(h,y,e)=>{var f={};h.exports=f;var d=e(39745),s=e(10438),a=e(22806),r=e(84091),o=e(50658),u=e(68758);(function(){f._warming=.4,f._torqueDampen=1,f._minLength=1e-6,f.create=function(v){var l=v;l.bodyA&&!l.pointA&&(l.pointA={x:0,y:0}),l.bodyB&&!l.pointB&&(l.pointB={x:0,y:0});var c=l.bodyA?s.add(l.bodyA.position,l.pointA):l.pointA,p=l.bodyB?s.add(l.bodyB.position,l.pointB):l.pointB,g=s.magnitude(s.sub(c,p));l.length=typeof l.length<"u"?l.length:g,l.id=l.id||u.nextId(),l.label=l.label||"Constraint",l.type="constraint",l.stiffness=l.stiffness||(l.length>0?1:.7),l.damping=l.damping||0,l.angularStiffness=l.angularStiffness||0,l.angleA=l.bodyA?l.bodyA.angle:l.angleA,l.angleB=l.bodyB?l.bodyB.angle:l.angleB,l.plugin={};var m={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return l.length===0&&l.stiffness>.1?(m.type="pin",m.anchors=!1):l.stiffness<.9&&(m.type="spring"),l.render=u.extend(m,l.render),l},f.preSolveAll=function(v){for(var l=0;l<v.length;l+=1){var c=v[l],p=c.constraintImpulse;c.isStatic||p.x===0&&p.y===0&&p.angle===0||(c.position.x+=p.x,c.position.y+=p.y,c.angle+=p.angle)}},f.solveAll=function(v,l){for(var c=u.clamp(l/u._baseDelta,0,1),p=0;p<v.length;p+=1){var g=v[p],m=!g.bodyA||g.bodyA&&g.bodyA.isStatic,T=!g.bodyB||g.bodyB&&g.bodyB.isStatic;(m||T)&&f.solve(v[p],c)}for(p=0;p<v.length;p+=1)g=v[p],m=!g.bodyA||g.bodyA&&g.bodyA.isStatic,T=!g.bodyB||g.bodyB&&g.bodyB.isStatic,!m&&!T&&f.solve(v[p],c)},f.solve=function(v,l){var c=v.bodyA,p=v.bodyB,g=v.pointA,m=v.pointB;if(!(!c&&!p)){c&&!c.isStatic&&(s.rotate(g,c.angle-v.angleA,g),v.angleA=c.angle),p&&!p.isStatic&&(s.rotate(m,p.angle-v.angleB,m),v.angleB=p.angle);var T=g,S=m;if(c&&(T=s.add(c.position,g)),p&&(S=s.add(p.position,m)),!(!T||!S)){var P=s.sub(T,S),E=s.magnitude(P);E<f._minLength&&(E=f._minLength);var R=(E-v.length)/E,A=v.stiffness>=1||v.length===0,w=A?v.stiffness*l:v.stiffness*l*l,O=v.damping*l,L=s.mult(P,R*w),F=(c?c.inverseMass:0)+(p?p.inverseMass:0),I=(c?c.inverseInertia:0)+(p?p.inverseInertia:0),B=F+I,G,N,U,Y,X;if(O>0){var b=s.create();U=s.div(P,E),X=s.sub(p&&s.sub(p.position,p.positionPrev)||b,c&&s.sub(c.position,c.positionPrev)||b),Y=s.dot(U,X)}c&&!c.isStatic&&(N=c.inverseMass/F,c.constraintImpulse.x-=L.x*N,c.constraintImpulse.y-=L.y*N,c.position.x-=L.x*N,c.position.y-=L.y*N,O>0&&(c.positionPrev.x-=O*U.x*Y*N,c.positionPrev.y-=O*U.y*Y*N),G=s.cross(g,L)/B*f._torqueDampen*c.inverseInertia*(1-v.angularStiffness),c.constraintImpulse.angle-=G,c.angle-=G),p&&!p.isStatic&&(N=p.inverseMass/F,p.constraintImpulse.x+=L.x*N,p.constraintImpulse.y+=L.y*N,p.position.x+=L.x*N,p.position.y+=L.y*N,O>0&&(p.positionPrev.x+=O*U.x*Y*N,p.positionPrev.y+=O*U.y*Y*N),G=s.cross(m,L)/B*f._torqueDampen*p.inverseInertia*(1-v.angularStiffness),p.constraintImpulse.angle+=G,p.angle+=G)}}},f.postSolveAll=function(v){for(var l=0;l<v.length;l++){var c=v[l],p=c.constraintImpulse;if(!(c.isStatic||p.x===0&&p.y===0&&p.angle===0)){a.set(c,!1);for(var g=0;g<c.parts.length;g++){var m=c.parts[g];d.translate(m.vertices,p),g>0&&(m.position.x+=p.x,m.position.y+=p.y),p.angle!==0&&(d.rotate(m.vertices,p.angle,c.position),o.rotate(m.axes,p.angle),g>0&&s.rotateAbout(m.position,p.angle,c.position,m.position)),r.update(m.bounds,m.vertices,c.velocity)}p.angle*=f._warming,p.x*=f._warming,p.y*=f._warming}}},f.pointAWorld=function(v){return{x:(v.bodyA?v.bodyA.position.x:0)+(v.pointA?v.pointA.x:0),y:(v.bodyA?v.bodyA.position.y:0)+(v.pointA?v.pointA.y:0)}},f.pointBWorld=function(v){return{x:(v.bodyB?v.bodyB.position.x:0)+(v.pointB?v.pointB.x:0),y:(v.bodyB?v.bodyB.position.y:0)+(v.pointB?v.pointB.y:0)}},f.currentLength=function(v){var l=(v.bodyA?v.bodyA.position.x:0)+(v.pointA?v.pointA.x:0),c=(v.bodyA?v.bodyA.position.y:0)+(v.pointA?v.pointA.y:0),p=(v.bodyB?v.bodyB.position.x:0)+(v.pointB?v.pointB.x:0),g=(v.bodyB?v.bodyB.position.y:0)+(v.pointB?v.pointB.y:0),m=l-p,T=c-g;return Math.sqrt(m*m+T*T)}})()},68758:(h,y,e)=>{var f={};h.exports=f,function(){f._baseDelta=16.666666666666668,f._nextId=0,f._seed=0,f._nowStartTime=+new Date,f._warnedOnce={},f._decomp=null,f.extend=function(s,a){var r,o;typeof a=="boolean"?(r=2,o=a):(r=1,o=!0);for(var u=r;u<arguments.length;u++){var v=arguments[u];if(v)for(var l in v)o&&v[l]&&v[l].constructor===Object&&(!s[l]||s[l].constructor===Object)?(s[l]=s[l]||{},f.extend(s[l],o,v[l])):s[l]=v[l]}return s},f.clone=function(s,a){return f.extend({},a,s)},f.keys=function(s){if(Object.keys)return Object.keys(s);var a=[];for(var r in s)a.push(r);return a},f.values=function(s){var a=[];if(Object.keys){for(var r=Object.keys(s),o=0;o<r.length;o++)a.push(s[r[o]]);return a}for(var u in s)a.push(s[u]);return a},f.get=function(s,a,r,o){a=a.split(".").slice(r,o);for(var u=0;u<a.length;u+=1)s=s[a[u]];return s},f.set=function(s,a,r,o,u){var v=a.split(".").slice(o,u);return f.get(s,a,0,-1)[v[v.length-1]]=r,r},f.shuffle=function(s){for(var a=s.length-1;a>0;a--){var r=Math.floor(f.random()*(a+1)),o=s[a];s[a]=s[r],s[r]=o}return s},f.choose=function(s){return s[Math.floor(f.random()*s.length)]},f.isElement=function(s){return typeof HTMLElement<"u"?s instanceof HTMLElement:!!(s&&s.nodeType&&s.nodeName)},f.isArray=function(s){return Object.prototype.toString.call(s)==="[object Array]"},f.isFunction=function(s){return typeof s=="function"},f.isPlainObject=function(s){return typeof s=="object"&&s.constructor===Object},f.isString=function(s){return toString.call(s)==="[object String]"},f.clamp=function(s,a,r){return s<a?a:s>r?r:s},f.sign=function(s){return s<0?-1:1},f.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-f._nowStartTime},f.random=function(s,a){return s=typeof s<"u"?s:0,a=typeof a<"u"?a:1,s+d()*(a-s)};var d=function(){return f._seed=(f._seed*9301+49297)%233280,f._seed/233280};f.colorToNumber=function(s){return s=s.replace("#",""),s.length==3&&(s=s.charAt(0)+s.charAt(0)+s.charAt(1)+s.charAt(1)+s.charAt(2)+s.charAt(2)),parseInt(s,16)},f.logLevel=1,f.log=function(){console&&f.logLevel>0&&f.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},f.info=function(){console&&f.logLevel>0&&f.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},f.warn=function(){console&&f.logLevel>0&&f.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},f.warnOnce=function(){var s=Array.prototype.slice.call(arguments).join(" ");f._warnedOnce[s]||(f.warn(s),f._warnedOnce[s]=!0)},f.deprecated=function(s,a,r){s[a]=f.chain(function(){f.warnOnce(" deprecated ",r)},s[a])},f.nextId=function(){return f._nextId++},f.indexOf=function(s,a){if(s.indexOf)return s.indexOf(a);for(var r=0;r<s.length;r++)if(s[r]===a)return r;return-1},f.map=function(s,a){if(s.map)return s.map(a);for(var r=[],o=0;o<s.length;o+=1)r.push(a(s[o]));return r},f.topologicalSort=function(s){var a=[],r=[],o=[];for(var u in s)!r[u]&&!o[u]&&f._topologicalSort(u,r,o,s,a);return a},f._topologicalSort=function(s,a,r,o,u){var v=o[s]||[];r[s]=!0;for(var l=0;l<v.length;l+=1){var c=v[l];r[c]||a[c]||f._topologicalSort(c,a,r,o,u)}r[s]=!1,a[s]=!0,u.push(s)},f.chain=function(){for(var s=[],a=0;a<arguments.length;a+=1){var r=arguments[a];r._chained?s.push.apply(s,r._chained):s.push(r)}var o=function(){for(var u,v=new Array(arguments.length),l=0,c=arguments.length;l<c;l++)v[l]=arguments[l];for(l=0;l<s.length;l+=1){var p=s[l].apply(u,v);typeof p<"u"&&(u=p)}return u};return o._chained=s,o},f.chainPathBefore=function(s,a,r){return f.set(s,a,f.chain(r,f.get(s,a)))},f.chainPathAfter=function(s,a,r){return f.set(s,a,f.chain(f.get(s,a),r))},f.setDecomp=function(s){f._decomp=s},f.getDecomp=function(){var s=f._decomp;try{!s&&typeof window<"u"&&(s=window.decomp),!s&&typeof e.g<"u"&&(s=e.g.decomp)}catch{s=null}return s}}()},45775:(h,y,e)=>{var f={};h.exports=f;var d=e(22806),s=e(44272),a=e(13657),r=e(91327),o=e(39073),u=e(11299),v=e(52838),l=e(68758),c=e(84125);(function(){f.create=function(p){p=p||{};var g={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},m=l.extend(g,p);return m.world=p.world||u.create({label:"World"}),m.pairs=p.pairs||r.create(),m.detector=p.detector||a.create(),m.grid={buckets:[]},m.world.gravity=m.gravity,m.broadphase=m.grid,m.metrics={},m},f.update=function(p,g){var m=l.now(),T=p.world,S=p.detector,P=p.pairs,E=p.timing,R=E.timestamp,A;g=typeof g<"u"?g:l._baseDelta,g*=E.timeScale,E.timestamp+=g,E.lastDelta=g;var w={timestamp:E.timestamp,delta:g};o.trigger(p,"beforeUpdate",w);var O=u.allBodies(T),L=u.allConstraints(T);for(T.isModified&&(a.setBodies(S,O),u.setModified(T,!1,!1,!0)),p.enableSleeping&&d.update(O,g),f._bodiesApplyGravity(O,p.gravity),g>0&&f._bodiesUpdate(O,g),o.trigger(p,"beforeSolve",w),v.preSolveAll(O),A=0;A<p.constraintIterations;A++)v.solveAll(L,g);v.postSolveAll(O),S.pairs=p.pairs;var F=a.collisions(S);r.update(P,F,R),p.enableSleeping&&d.afterCollisions(P.list),P.collisionStart.length>0&&o.trigger(p,"collisionStart",{pairs:P.collisionStart,timestamp:E.timestamp,delta:g});var I=l.clamp(20/p.positionIterations,0,1);for(s.preSolvePosition(P.list),A=0;A<p.positionIterations;A++)s.solvePosition(P.list,g,I);for(s.postSolvePosition(O),v.preSolveAll(O),A=0;A<p.constraintIterations;A++)v.solveAll(L,g);for(v.postSolveAll(O),s.preSolveVelocity(P.list),A=0;A<p.velocityIterations;A++)s.solveVelocity(P.list,g);return f._bodiesUpdateVelocities(O),P.collisionActive.length>0&&o.trigger(p,"collisionActive",{pairs:P.collisionActive,timestamp:E.timestamp,delta:g}),P.collisionEnd.length>0&&o.trigger(p,"collisionEnd",{pairs:P.collisionEnd,timestamp:E.timestamp,delta:g}),f._bodiesClearForces(O),o.trigger(p,"afterUpdate",w),p.timing.lastElapsed=l.now()-m,p},f.merge=function(p,g){if(l.extend(p,g),g.world){p.world=g.world,f.clear(p);for(var m=u.allBodies(p.world),T=0;T<m.length;T++){var S=m[T];d.set(S,!1),S.id=l.nextId()}}},f.clear=function(p){r.clear(p.pairs),a.clear(p.detector)},f._bodiesClearForces=function(p){for(var g=p.length,m=0;m<g;m++){var T=p[m];T.force.x=0,T.force.y=0,T.torque=0}},f._bodiesApplyGravity=function(p,g){var m=typeof g.scale<"u"?g.scale:.001,T=p.length;if(!(g.x===0&&g.y===0||m===0))for(var S=0;S<T;S++){var P=p[S];P.ignoreGravity||P.isStatic||P.isSleeping||(P.force.y+=P.mass*g.y*m,P.force.x+=P.mass*g.x*m)}},f._bodiesUpdate=function(p,g){for(var m=p.length,T=0;T<m;T++){var S=p[T];S.isStatic||S.isSleeping||c.update(S,g)}},f._bodiesUpdateVelocities=function(p){for(var g=p.length,m=0;m<g;m++)c.updateVelocities(p[m])}})()},39073:(h,y,e)=>{var f={};h.exports=f;var d=e(68758);(function(){f.on=function(s,a,r){for(var o=a.split(" "),u,v=0;v<o.length;v++)u=o[v],s.events=s.events||{},s.events[u]=s.events[u]||[],s.events[u].push(r);return r},f.off=function(s,a,r){if(!a){s.events={};return}typeof a=="function"&&(r=a,a=d.keys(s.events).join(" "));for(var o=a.split(" "),u=0;u<o.length;u++){var v=s.events[o[u]],l=[];if(r&&v)for(var c=0;c<v.length;c++)v[c]!==r&&l.push(v[c]);s.events[o[u]]=l}},f.trigger=function(s,a,r){var o,u,v,l,c=s.events;if(c&&d.keys(c).length>0){r||(r={}),o=a.split(" ");for(var p=0;p<o.length;p++)if(u=o[p],v=c[u],v){l=d.clone(r,!1),l.name=u,l.source=s;for(var g=0;g<v.length;g++)v[g].apply(s,[l])}}}})()},16929:(h,y,e)=>{var f={};h.exports=f;var d=e(84474),s=e(68758);(function(){f.name="matter-js",f.version="0.19.0",f.uses=[],f.used=[],f.use=function(){d.use(f,Array.prototype.slice.call(arguments))},f.before=function(a,r){return a=a.replace(/^Matter./,""),s.chainPathBefore(f,a,r)},f.after=function(a,r){return a=a.replace(/^Matter./,""),s.chainPathAfter(f,a,r)}})()},84474:(h,y,e)=>{var f={};h.exports=f;var d=e(68758);(function(){f._registry={},f.register=function(s){if(f.isPlugin(s)||d.warn("Plugin.register:",f.toString(s),"does not implement all required fields."),s.name in f._registry){var a=f._registry[s.name],r=f.versionParse(s.version).number,o=f.versionParse(a.version).number;r>o?(d.warn("Plugin.register:",f.toString(a),"was upgraded to",f.toString(s)),f._registry[s.name]=s):r<o?d.warn("Plugin.register:",f.toString(a),"can not be downgraded to",f.toString(s)):s!==a&&d.warn("Plugin.register:",f.toString(s),"is already registered to different plugin object")}else f._registry[s.name]=s;return s},f.resolve=function(s){return f._registry[f.dependencyParse(s).name]},f.toString=function(s){return typeof s=="string"?s:(s.name||"anonymous")+"@"+(s.version||s.range||"0.0.0")},f.isPlugin=function(s){return s&&s.name&&s.version&&s.install},f.isUsed=function(s,a){return s.used.indexOf(a)>-1},f.isFor=function(s,a){var r=s.for&&f.dependencyParse(s.for);return!s.for||a.name===r.name&&f.versionSatisfies(a.version,r.range)},f.use=function(s,a){if(s.uses=(s.uses||[]).concat(a||[]),s.uses.length===0){d.warn("Plugin.use:",f.toString(s),"does not specify any dependencies to install.");return}for(var r=f.dependencies(s),o=d.topologicalSort(r),u=[],v=0;v<o.length;v+=1)if(o[v]!==s.name){var l=f.resolve(o[v]);if(!l){u.push(" "+o[v]);continue}f.isUsed(s,l.name)||(f.isFor(l,s)||(d.warn("Plugin.use:",f.toString(l),"is for",l.for,"but installed on",f.toString(s)+"."),l._warned=!0),l.install?l.install(s):(d.warn("Plugin.use:",f.toString(l),"does not specify an install function."),l._warned=!0),l._warned?(u.push(" "+f.toString(l)),delete l._warned):u.push(" "+f.toString(l)),s.used.push(l.name))}u.length>0&&!l.silent&&d.info(u.join("  "))},f.dependencies=function(s,a){var r=f.dependencyParse(s),o=r.name;if(a=a||{},!(o in a)){s=f.resolve(s)||s,a[o]=d.map(s.uses||[],function(v){f.isPlugin(v)&&f.register(v);var l=f.dependencyParse(v),c=f.resolve(v);return c&&!f.versionSatisfies(c.version,l.range)?(d.warn("Plugin.dependencies:",f.toString(c),"does not satisfy",f.toString(l),"used by",f.toString(r)+"."),c._warned=!0,s._warned=!0):c||(d.warn("Plugin.dependencies:",f.toString(v),"used by",f.toString(r),"could not be resolved."),s._warned=!0),l.name});for(var u=0;u<a[o].length;u+=1)f.dependencies(a[o][u],a);return a}},f.dependencyParse=function(s){if(d.isString(s)){var a=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return a.test(s)||d.warn("Plugin.dependencyParse:",s,"is not a valid dependency string."),{name:s.split("@")[0],range:s.split("@")[1]||"*"}}return{name:s.name,range:s.range||s.version}},f.versionParse=function(s){var a=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;a.test(s)||d.warn("Plugin.versionParse:",s,"is not a valid version or range.");var r=a.exec(s),o=Number(r[4]),u=Number(r[5]),v=Number(r[6]);return{isRange:!!(r[1]||r[2]),version:r[3],range:s,operator:r[1]||r[2]||"",major:o,minor:u,patch:v,parts:[o,u,v],prerelease:r[7],number:o*1e8+u*1e4+v}},f.versionSatisfies=function(s,a){a=a||"*";var r=f.versionParse(a),o=f.versionParse(s);if(r.isRange){if(r.operator==="*"||s==="*")return!0;if(r.operator===">")return o.number>r.number;if(r.operator===">=")return o.number>=r.number;if(r.operator==="~")return o.major===r.major&&o.minor===r.minor&&o.patch>=r.patch;if(r.operator==="^")return r.major>0?o.major===r.major&&o.number>=r.number:r.minor>0?o.minor===r.minor&&o.patch>=r.patch:o.patch===r.patch}return s===a||s==="*"}})()},22806:(h,y,e)=>{var f={};h.exports=f;var d=e(84125),s=e(39073),a=e(68758);(function(){f._motionWakeThreshold=.18,f._motionSleepThreshold=.08,f._minBias=.9,f.update=function(r,o){for(var u=o/a._baseDelta,v=f._motionSleepThreshold,l=0;l<r.length;l++){var c=r[l],p=d.getSpeed(c),g=d.getAngularSpeed(c),m=p*p+g*g;if(c.force.x!==0||c.force.y!==0){f.set(c,!1);continue}var T=Math.min(c.motion,m),S=Math.max(c.motion,m);c.motion=f._minBias*T+(1-f._minBias)*S,c.sleepThreshold>0&&c.motion<v?(c.sleepCounter+=1,c.sleepCounter>=c.sleepThreshold/u&&f.set(c,!0)):c.sleepCounter>0&&(c.sleepCounter-=1)}},f.afterCollisions=function(r){for(var o=f._motionSleepThreshold,u=0;u<r.length;u++){var v=r[u];if(v.isActive){var l=v.collision,c=l.bodyA.parent,p=l.bodyB.parent;if(!(c.isSleeping&&p.isSleeping||c.isStatic||p.isStatic)&&(c.isSleeping||p.isSleeping)){var g=c.isSleeping&&!c.isStatic?c:p,m=g===c?p:c;!g.isStatic&&m.motion>o&&f.set(g,!1)}}}},f.set=function(r,o){var u=r.isSleeping;o?(r.isSleeping=!0,r.sleepCounter=r.sleepThreshold,r.positionImpulse.x=0,r.positionImpulse.y=0,r.positionPrev.x=r.position.x,r.positionPrev.y=r.position.y,r.anglePrev=r.angle,r.speed=0,r.angularSpeed=0,r.motion=0,u||s.trigger(r,"sleepStart")):(r.isSleeping=!1,r.sleepCounter=0,u&&s.trigger(r,"sleepEnd"))}})()},68516:(h,y,e)=>{var f={};h.exports=f;var d=e(39745),s=e(68758),a=e(84125),r=e(84091),o=e(10438);(function(){f.rectangle=function(u,v,l,c,p){p=p||{};var g={label:"Rectangle Body",position:{x:u,y:v},vertices:d.fromPath("L 0 0 L "+l+" 0 L "+l+" "+c+" L 0 "+c)};if(p.chamfer){var m=p.chamfer;g.vertices=d.chamfer(g.vertices,m.radius,m.quality,m.qualityMin,m.qualityMax),delete p.chamfer}return a.create(s.extend({},g,p))},f.trapezoid=function(u,v,l,c,p,g){g=g||{},p*=.5;var m=(1-p*2)*l,T=l*p,S=T+m,P=S+T,E;p<.5?E="L 0 0 L "+T+" "+-c+" L "+S+" "+-c+" L "+P+" 0":E="L 0 0 L "+S+" "+-c+" L "+P+" 0";var R={label:"Trapezoid Body",position:{x:u,y:v},vertices:d.fromPath(E)};if(g.chamfer){var A=g.chamfer;R.vertices=d.chamfer(R.vertices,A.radius,A.quality,A.qualityMin,A.qualityMax),delete g.chamfer}return a.create(s.extend({},R,g))},f.circle=function(u,v,l,c,p){c=c||{};var g={label:"Circle Body",circleRadius:l};p=p||25;var m=Math.ceil(Math.max(10,Math.min(p,l)));return m%2===1&&(m+=1),f.polygon(u,v,m,l,s.extend({},g,c))},f.polygon=function(u,v,l,c,p){if(p=p||{},l<3)return f.circle(u,v,c,p);for(var g=2*Math.PI/l,m="",T=g*.5,S=0;S<l;S+=1){var P=T+S*g,E=Math.cos(P)*c,R=Math.sin(P)*c;m+="L "+E.toFixed(3)+" "+R.toFixed(3)+" "}var A={label:"Polygon Body",position:{x:u,y:v},vertices:d.fromPath(m)};if(p.chamfer){var w=p.chamfer;A.vertices=d.chamfer(A.vertices,w.radius,w.quality,w.qualityMin,w.qualityMax),delete p.chamfer}return a.create(s.extend({},A,p))},f.fromVertices=function(u,v,l,c,p,g,m,T){var S=s.getDecomp(),P,E,R,A,w,O,L,F,I,B,G;for(P=!!(S&&S.quickDecomp),c=c||{},R=[],p=typeof p<"u"?p:!1,g=typeof g<"u"?g:.01,m=typeof m<"u"?m:10,T=typeof T<"u"?T:.01,s.isArray(l[0])||(l=[l]),B=0;B<l.length;B+=1)if(O=l[B],A=d.isConvex(O),w=!A,w&&!P&&s.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),A||!P)A?O=d.clockwiseSort(O):O=d.hull(O),R.push({position:{x:u,y:v},vertices:O});else{var N=O.map(function($){return[$.x,$.y]});S.makeCCW(N),g!==!1&&S.removeCollinearPoints(N,g),T!==!1&&S.removeDuplicatePoints&&S.removeDuplicatePoints(N,T);var U=S.quickDecomp(N);for(L=0;L<U.length;L++){var Y=U[L],X=Y.map(function($){return{x:$[0],y:$[1]}});m>0&&d.area(X)<m||R.push({position:d.centre(X),vertices:X})}}for(L=0;L<R.length;L++)R[L]=a.create(s.extend(R[L],c));if(p){var b=5;for(L=0;L<R.length;L++){var z=R[L];for(F=L+1;F<R.length;F++){var D=R[F];if(r.overlaps(z.bounds,D.bounds)){var V=z.vertices,k=D.vertices;for(I=0;I<z.vertices.length;I++)for(G=0;G<D.vertices.length;G++){var W=o.magnitudeSquared(o.sub(V[(I+1)%V.length],k[G])),H=o.magnitudeSquared(o.sub(V[I],k[(G+1)%k.length]));W<b&&H<b&&(V[I].isInternal=!0,k[G].isInternal=!0)}}}}}return R.length>1?(E=a.create(s.extend({parts:R.slice(0)},c)),a.setPosition(E,{x:u,y:v}),E):R[0]},f.flagCoincidentParts=function(u,v){v===void 0&&(v=5);for(var l=0;l<u.length;l++)for(var c=u[l],p=l+1;p<u.length;p++){var g=u[p];if(r.overlaps(c.bounds,g.bounds))for(var m=c.vertices,T=g.vertices,S=0;S<c.vertices.length;S++)for(var P=0;P<g.vertices.length;P++){var E=o.magnitudeSquared(o.sub(m[(S+1)%m.length],T[P])),R=o.magnitudeSquared(o.sub(m[S],T[(P+1)%T.length]));E<v&&R<v&&(m[S].isInternal=!0,T[P].isInternal=!0)}}return u}})()},56643:(h,y,e)=>{var f={};h.exports=f;var d=e(11299),s=e(52838),a=e(68758),r=e(84125),o=e(68516);(function(){f.stack=function(u,v,l,c,p,g,m){for(var T=d.create({label:"Stack"}),S=u,P=v,E,R=0,A=0;A<c;A++){for(var w=0,O=0;O<l;O++){var L=m(S,P,O,A,E,R);if(L){var F=L.bounds.max.y-L.bounds.min.y,I=L.bounds.max.x-L.bounds.min.x;F>w&&(w=F),r.translate(L,{x:I*.5,y:F*.5}),S=L.bounds.max.x+p,d.addBody(T,L),E=L,R+=1}else S+=p}P+=w+g,S=u}return T},f.chain=function(u,v,l,c,p,g){for(var m=u.bodies,T=1;T<m.length;T++){var S=m[T-1],P=m[T],E=S.bounds.max.y-S.bounds.min.y,R=S.bounds.max.x-S.bounds.min.x,A=P.bounds.max.y-P.bounds.min.y,w=P.bounds.max.x-P.bounds.min.x,O={bodyA:S,pointA:{x:R*v,y:E*l},bodyB:P,pointB:{x:w*c,y:A*p}},L=a.extend(O,g);d.addConstraint(u,s.create(L))}return u.label+=" Chain",u},f.mesh=function(u,v,l,c,p){var g=u.bodies,m,T,S,P,E;for(m=0;m<l;m++){for(T=1;T<v;T++)S=g[T-1+m*v],P=g[T+m*v],d.addConstraint(u,s.create(a.extend({bodyA:S,bodyB:P},p)));if(m>0)for(T=0;T<v;T++)S=g[T+(m-1)*v],P=g[T+m*v],d.addConstraint(u,s.create(a.extend({bodyA:S,bodyB:P},p))),c&&T>0&&(E=g[T-1+(m-1)*v],d.addConstraint(u,s.create(a.extend({bodyA:E,bodyB:P},p)))),c&&T<v-1&&(E=g[T+1+(m-1)*v],d.addConstraint(u,s.create(a.extend({bodyA:E,bodyB:P},p))))}return u.label+=" Mesh",u},f.pyramid=function(u,v,l,c,p,g,m){return f.stack(u,v,l,c,p,g,function(T,S,P,E,R,A){var w=Math.min(c,Math.ceil(l/2)),O=R?R.bounds.max.x-R.bounds.min.x:0;if(!(E>w)){E=w-E;var L=E,F=l-1-E;if(!(P<L||P>F)){A===1&&r.translate(R,{x:(P+(l%2===1?1:-1))*O,y:0});var I=R?P*O:0;return m(u+I+P*p,S,P,E,R,A)}}})},f.newtonsCradle=function(u,v,l,c,p){for(var g=d.create({label:"Newtons Cradle"}),m=0;m<l;m++){var T=1.9,S=o.circle(u+m*(c*T),v+p,c,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),P=s.create({pointA:{x:u+m*(c*T),y:v},bodyB:S});d.addBody(g,S),d.addConstraint(g,P)}return g},f.car=function(u,v,l,c,p){var g=r.nextGroup(!0),m=20,T=-l*.5+m,S=l*.5-m,P=0,E=d.create({label:"Car"}),R=o.rectangle(u,v,l,c,{collisionFilter:{group:g},chamfer:{radius:c*.5},density:2e-4}),A=o.circle(u+T,v+P,p,{collisionFilter:{group:g},friction:.8}),w=o.circle(u+S,v+P,p,{collisionFilter:{group:g},friction:.8}),O=s.create({bodyB:R,pointB:{x:T,y:P},bodyA:A,stiffness:1,length:0}),L=s.create({bodyB:R,pointB:{x:S,y:P},bodyA:w,stiffness:1,length:0});return d.addBody(E,R),d.addBody(E,A),d.addBody(E,w),d.addConstraint(E,O),d.addConstraint(E,L),E},f.softBody=function(u,v,l,c,p,g,m,T,S,P){S=a.extend({inertia:1/0},S),P=a.extend({stiffness:.2,render:{type:"line",anchors:!1}},P);var E=f.stack(u,v,l,c,p,g,function(R,A){return o.circle(R,A,T,S)});return f.mesh(E,l,c,m,P),E.label="Soft Body",E}})()},50658:(h,y,e)=>{var f={};h.exports=f;var d=e(10438),s=e(68758);(function(){f.fromVertices=function(a){for(var r={},o=0;o<a.length;o++){var u=(o+1)%a.length,v=d.normalise({x:a[u].y-a[o].y,y:a[o].x-a[u].x}),l=v.y===0?1/0:v.x/v.y;l=l.toFixed(3).toString(),r[l]=v}return s.values(r)},f.rotate=function(a,r){if(r!==0)for(var o=Math.cos(r),u=Math.sin(r),v=0;v<a.length;v++){var l=a[v],c;c=l.x*o-l.y*u,l.y=l.x*u+l.y*o,l.x=c}}})()},84091:h=>{var y={};h.exports=y,function(){y.create=function(e){var f={min:{x:0,y:0},max:{x:0,y:0}};return e&&y.update(f,e),f},y.update=function(e,f,d){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var s=0;s<f.length;s++){var a=f[s];a.x>e.max.x&&(e.max.x=a.x),a.x<e.min.x&&(e.min.x=a.x),a.y>e.max.y&&(e.max.y=a.y),a.y<e.min.y&&(e.min.y=a.y)}d&&(d.x>0?e.max.x+=d.x:e.min.x+=d.x,d.y>0?e.max.y+=d.y:e.min.y+=d.y)},y.contains=function(e,f){return f.x>=e.min.x&&f.x<=e.max.x&&f.y>=e.min.y&&f.y<=e.max.y},y.overlaps=function(e,f){return e.min.x<=f.max.x&&e.max.x>=f.min.x&&e.max.y>=f.min.y&&e.min.y<=f.max.y},y.translate=function(e,f){e.min.x+=f.x,e.max.x+=f.x,e.min.y+=f.y,e.max.y+=f.y},y.shift=function(e,f){var d=e.max.x-e.min.x,s=e.max.y-e.min.y;e.min.x=f.x,e.max.x=f.x+d,e.min.y=f.y,e.max.y=f.y+s}}()},92765:(h,y,e)=>{var f={};h.exports=f,e(84091);var d=e(68758);(function(){f.pathToVertices=function(s,a){typeof window<"u"&&!("SVGPathSeg"in window)&&d.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var r,o,u,v,l,c,p,g,m,T,S=[],P,E,R=0,A=0,w=0;a=a||15;var O=function(F,I,B){var G=B%2===1&&B>1;if(!m||F!=m.x||I!=m.y){m&&G?(P=m.x,E=m.y):(P=0,E=0);var N={x:P+F,y:E+I};(G||!m)&&(m=N),S.push(N),A=P+F,w=E+I}},L=function(F){var I=F.pathSegTypeAsLetter.toUpperCase();if(I!=="Z"){switch(I){case"M":case"L":case"T":case"C":case"S":case"Q":A=F.x,w=F.y;break;case"H":A=F.x;break;case"V":w=F.y;break}O(A,w,F.pathSegType)}};for(f._svgPathToAbsolute(s),u=s.getTotalLength(),c=[],r=0;r<s.pathSegList.numberOfItems;r+=1)c.push(s.pathSegList.getItem(r));for(p=c.concat();R<u;){if(T=s.getPathSegAtLength(R),l=c[T],l!=g){for(;p.length&&p[0]!=l;)L(p.shift());g=l}switch(l.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":v=s.getPointAtLength(R),O(v.x,v.y,0);break}R+=a}for(r=0,o=p.length;r<o;++r)L(p[r]);return S},f._svgPathToAbsolute=function(s){for(var a,r,o,u,v,l,c=s.pathSegList,p=0,g=0,m=c.numberOfItems,T=0;T<m;++T){var S=c.getItem(T),P=S.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(P))"x"in S&&(p=S.x),"y"in S&&(g=S.y);else switch("x1"in S&&(o=p+S.x1),"x2"in S&&(v=p+S.x2),"y1"in S&&(u=g+S.y1),"y2"in S&&(l=g+S.y2),"x"in S&&(p+=S.x),"y"in S&&(g+=S.y),P){case"m":c.replaceItem(s.createSVGPathSegMovetoAbs(p,g),T);break;case"l":c.replaceItem(s.createSVGPathSegLinetoAbs(p,g),T);break;case"h":c.replaceItem(s.createSVGPathSegLinetoHorizontalAbs(p),T);break;case"v":c.replaceItem(s.createSVGPathSegLinetoVerticalAbs(g),T);break;case"c":c.replaceItem(s.createSVGPathSegCurvetoCubicAbs(p,g,o,u,v,l),T);break;case"s":c.replaceItem(s.createSVGPathSegCurvetoCubicSmoothAbs(p,g,v,l),T);break;case"q":c.replaceItem(s.createSVGPathSegCurvetoQuadraticAbs(p,g,o,u),T);break;case"t":c.replaceItem(s.createSVGPathSegCurvetoQuadraticSmoothAbs(p,g),T);break;case"a":c.replaceItem(s.createSVGPathSegArcAbs(p,g,S.r1,S.r2,S.angle,S.largeArcFlag,S.sweepFlag),T);break;case"z":case"Z":p=a,g=r;break}(P=="M"||P=="m")&&(a=p,r=g)}}})()},10438:h=>{var y={};h.exports=y,function(){y.create=function(e,f){return{x:e||0,y:f||0}},y.clone=function(e){return{x:e.x,y:e.y}},y.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},y.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},y.rotate=function(e,f,d){var s=Math.cos(f),a=Math.sin(f);d||(d={});var r=e.x*s-e.y*a;return d.y=e.x*a+e.y*s,d.x=r,d},y.rotateAbout=function(e,f,d,s){var a=Math.cos(f),r=Math.sin(f);s||(s={});var o=d.x+((e.x-d.x)*a-(e.y-d.y)*r);return s.y=d.y+((e.x-d.x)*r+(e.y-d.y)*a),s.x=o,s},y.normalise=function(e){var f=y.magnitude(e);return f===0?{x:0,y:0}:{x:e.x/f,y:e.y/f}},y.dot=function(e,f){return e.x*f.x+e.y*f.y},y.cross=function(e,f){return e.x*f.y-e.y*f.x},y.cross3=function(e,f,d){return(f.x-e.x)*(d.y-e.y)-(f.y-e.y)*(d.x-e.x)},y.add=function(e,f,d){return d||(d={}),d.x=e.x+f.x,d.y=e.y+f.y,d},y.sub=function(e,f,d){return d||(d={}),d.x=e.x-f.x,d.y=e.y-f.y,d},y.mult=function(e,f){return{x:e.x*f,y:e.y*f}},y.div=function(e,f){return{x:e.x/f,y:e.y/f}},y.perp=function(e,f){return f=f===!0?-1:1,{x:f*-e.y,y:f*e.x}},y.neg=function(e){return{x:-e.x,y:-e.y}},y.angle=function(e,f){return Math.atan2(f.y-e.y,f.x-e.x)},y._temp=[y.create(),y.create(),y.create(),y.create(),y.create(),y.create()]}()},39745:(h,y,e)=>{var f={};h.exports=f;var d=e(10438),s=e(68758);(function(){f.create=function(a,r){for(var o=[],u=0;u<a.length;u++){var v=a[u],l={x:v.x,y:v.y,index:u,body:r,isInternal:!1};o.push(l)}return o},f.fromPath=function(a,r){var o=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,u=[];return a.replace(o,function(v,l,c){u.push({x:parseFloat(l),y:parseFloat(c)})}),f.create(u,r)},f.centre=function(a){for(var r=f.area(a,!0),o={x:0,y:0},u,v,l,c=0;c<a.length;c++)l=(c+1)%a.length,u=d.cross(a[c],a[l]),v=d.mult(d.add(a[c],a[l]),u),o=d.add(o,v);return d.div(o,6*r)},f.mean=function(a){for(var r={x:0,y:0},o=0;o<a.length;o++)r.x+=a[o].x,r.y+=a[o].y;return d.div(r,a.length)},f.area=function(a,r){for(var o=0,u=a.length-1,v=0;v<a.length;v++)o+=(a[u].x-a[v].x)*(a[u].y+a[v].y),u=v;return r?o/2:Math.abs(o)/2},f.inertia=function(a,r){for(var o=0,u=0,v=a,l,c,p=0;p<v.length;p++)c=(p+1)%v.length,l=Math.abs(d.cross(v[c],v[p])),o+=l*(d.dot(v[c],v[c])+d.dot(v[c],v[p])+d.dot(v[p],v[p])),u+=l;return r/6*(o/u)},f.translate=function(a,r,o){o=typeof o<"u"?o:1;var u=a.length,v=r.x*o,l=r.y*o,c;for(c=0;c<u;c++)a[c].x+=v,a[c].y+=l;return a},f.rotate=function(a,r,o){if(r!==0){var u=Math.cos(r),v=Math.sin(r),l=o.x,c=o.y,p=a.length,g,m,T,S;for(S=0;S<p;S++)g=a[S],m=g.x-l,T=g.y-c,g.x=l+(m*u-T*v),g.y=c+(m*v+T*u);return a}},f.contains=function(a,r){for(var o=r.x,u=r.y,v=a.length,l=a[v-1],c,p=0;p<v;p++){if(c=a[p],(o-l.x)*(c.y-l.y)+(u-l.y)*(l.x-c.x)>0)return!1;l=c}return!0},f.scale=function(a,r,o,u){if(r===1&&o===1)return a;u=u||f.centre(a);for(var v,l,c=0;c<a.length;c++)v=a[c],l=d.sub(v,u),a[c].x=u.x+l.x*r,a[c].y=u.y+l.y*o;return a},f.chamfer=function(a,r,o,u,v){typeof r=="number"?r=[r]:r=r||[8],o=typeof o<"u"?o:-1,u=u||2,v=v||14;for(var l=[],c=0;c<a.length;c++){var p=a[c-1>=0?c-1:a.length-1],g=a[c],m=a[(c+1)%a.length],T=r[c<r.length?c:r.length-1];if(T===0){l.push(g);continue}var S=d.normalise({x:g.y-p.y,y:p.x-g.x}),P=d.normalise({x:m.y-g.y,y:g.x-m.x}),E=Math.sqrt(2*Math.pow(T,2)),R=d.mult(s.clone(S),T),A=d.normalise(d.mult(d.add(S,P),.5)),w=d.sub(g,d.mult(A,E)),O=o;o===-1&&(O=Math.pow(T,.32)*1.75),O=s.clamp(O,u,v),O%2===1&&(O+=1);for(var L=Math.acos(d.dot(S,P)),F=L/O,I=0;I<O;I++)l.push(d.add(d.rotate(R,F*I),w))}return l},f.clockwiseSort=function(a){var r=f.mean(a);return a.sort(function(o,u){return d.angle(r,o)-d.angle(r,u)}),a},f.isConvex=function(a){var r=0,o=a.length,u,v,l,c;if(o<3)return null;for(u=0;u<o;u++)if(v=(u+1)%o,l=(u+2)%o,c=(a[v].x-a[u].x)*(a[l].y-a[v].y),c-=(a[v].y-a[u].y)*(a[l].x-a[v].x),c<0?r|=1:c>0&&(r|=2),r===3)return!1;return r!==0?!0:null},f.hull=function(a){var r=[],o=[],u,v;for(a=a.slice(0),a.sort(function(l,c){var p=l.x-c.x;return p!==0?p:l.y-c.y}),v=0;v<a.length;v+=1){for(u=a[v];o.length>=2&&d.cross3(o[o.length-2],o[o.length-1],u)<=0;)o.pop();o.push(u)}for(v=a.length-1;v>=0;v-=1){for(u=a[v];r.length>=2&&d.cross3(r[r.length-2],r[r.length-1],u)<=0;)r.pop();r.push(u)}return r.pop(),o.pop(),r.concat(o)}})()},1675:(h,y,e)=>{var f=e(18171),d={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.19.0",silent:!0,install:function(s){s.after("Body.create",function(){d.Body.init(this)}),s.before("Engine.update",function(a){d.Engine.update(a)})},Body:{init:function(s){s.plugin.attractors=s.plugin.attractors||[]}},Engine:{update:function(s){for(var a=f.Composite.allBodies(s.world),r=0;r<a.length;r++){var o=a[r],u=o.plugin.attractors;if(u&&u.length>0)for(var v=0;v<a.length;v++){var l=a[v];if(r!==v)for(var c=0;c<u.length;c++){var p=u[c],g=p;f.Common.isFunction(p)&&(g=p(o,l)),g&&f.Body.applyForce(l,l.position,g)}}}}},Attractors:{gravityConstant:.001,gravity:function(s,a){var r=f.Vector.sub(a.position,s.position),o=f.Vector.magnitudeSquared(r)||1e-4,u=f.Vector.normalise(r),v=-d.Attractors.gravityConstant*(s.mass*a.mass/o),l=f.Vector.mult(u,v);f.Body.applyForce(s,s.position,f.Vector.neg(l)),f.Body.applyForce(a,a.position,l)}}};h.exports=d},80391:h=>{/**
 * @author       @dxu https://github.com/dxu/matter-collision-events
 * @author       Richard Davey <rich@photonstorm.com>
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.19.0",silent:!0,install:function(e){e.after("Engine.create",function(){e.Events.on(this,"collisionStart",function(f){f.pairs.map(function(d){var s=d.bodyA,a=d.bodyB;s.gameObject&&s.gameObject.emit("collide",s,a,d),a.gameObject&&a.gameObject.emit("collide",a,s,d),e.Events.trigger(s,"onCollide",{pair:d}),e.Events.trigger(a,"onCollide",{pair:d}),s.onCollideCallback&&s.onCollideCallback(d),a.onCollideCallback&&a.onCollideCallback(d),s.onCollideWith[a.id]&&s.onCollideWith[a.id](a,d),a.onCollideWith[s.id]&&a.onCollideWith[s.id](s,d)})}),e.Events.on(this,"collisionActive",function(f){f.pairs.map(function(d){var s=d.bodyA,a=d.bodyB;s.gameObject&&s.gameObject.emit("collideActive",s,a,d),a.gameObject&&a.gameObject.emit("collideActive",a,s,d),e.Events.trigger(s,"onCollideActive",{pair:d}),e.Events.trigger(a,"onCollideActive",{pair:d}),s.onCollideActiveCallback&&s.onCollideActiveCallback(d),a.onCollideActiveCallback&&a.onCollideActiveCallback(d)})}),e.Events.on(this,"collisionEnd",function(f){f.pairs.map(function(d){var s=d.bodyA,a=d.bodyB;s.gameObject&&s.gameObject.emit("collideEnd",s,a,d),a.gameObject&&a.gameObject.emit("collideEnd",a,s,d),e.Events.trigger(s,"onCollideEnd",{pair:d}),e.Events.trigger(a,"onCollideEnd",{pair:d}),s.onCollideEndCallback&&s.onCollideEndCallback(d),a.onCollideEndCallback&&a.onCollideEndCallback(d)})})})}};h.exports=y},44097:(h,y,e)=>{var f=e(18171),d={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.19.0",silent:!0,install:function(s){s.after("Engine.update",function(){d.Engine.update(this)})},Engine:{update:function(s){for(var a=s.world,r=f.Composite.allBodies(a),o=f.Composite.allComposites(a),u=0;u<r.length;u+=1){var v=r[u];v.plugin.wrap&&d.Body.wrap(v,v.plugin.wrap)}for(u=0;u<o.length;u+=1){var l=o[u];l.plugin.wrap&&d.Composite.wrap(l,l.plugin.wrap)}}},Bounds:{wrap:function(s,a){var r=null,o=null;if(typeof a.min.x<"u"&&typeof a.max.x<"u"&&(s.min.x>a.max.x?r=a.min.x-s.max.x:s.max.x<a.min.x&&(r=a.max.x-s.min.x)),typeof a.min.y<"u"&&typeof a.max.y<"u"&&(s.min.y>a.max.y?o=a.min.y-s.max.y:s.max.y<a.min.y&&(o=a.max.y-s.min.y)),r!==null||o!==null)return{x:r||0,y:o||0}}},Body:{wrap:function(s,a){var r=d.Bounds.wrap(s.bounds,a);return r&&f.Body.translate(s,r),r}},Composite:{bounds:function(s){for(var a=f.Composite.allBodies(s),r=[],o=0;o<a.length;o+=1){var u=a[o];r.push(u.bounds.min,u.bounds.max)}return f.Bounds.create(r)},wrap:function(s,a){var r=d.Bounds.wrap(d.Composite.bounds(s),a);return r&&f.Composite.translate(s,r),r}}};h.exports=d},81084:h=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={decomp:L,quickDecomp:G,isSimple:I,removeCollinearPoints:N,removeDuplicatePoints:U,makeCCW:m};function y(b,z,D){D=D||0;var V=[0,0],k,W,H,$,K,Z,j;return k=b[1][1]-b[0][1],W=b[0][0]-b[1][0],H=k*b[0][0]+W*b[0][1],$=z[1][1]-z[0][1],K=z[0][0]-z[1][0],Z=$*z[0][0]+K*z[0][1],j=k*K-$*W,Y(j,0,D)||(V[0]=(K*H-W*Z)/j,V[1]=(k*Z-$*H)/j),V}function e(b,z,D,V){var k=z[0]-b[0],W=z[1]-b[1],H=V[0]-D[0],$=V[1]-D[1];if(H*W-$*k===0)return!1;var K=(k*(D[1]-b[1])+W*(b[0]-D[0]))/(H*W-$*k),Z=(H*(b[1]-D[1])+$*(D[0]-b[0]))/($*k-H*W);return K>=0&&K<=1&&Z>=0&&Z<=1}function f(b,z,D){return(z[0]-b[0])*(D[1]-b[1])-(D[0]-b[0])*(z[1]-b[1])}function d(b,z,D){return f(b,z,D)>0}function s(b,z,D){return f(b,z,D)>=0}function a(b,z,D){return f(b,z,D)<0}function r(b,z,D){return f(b,z,D)<=0}var o=[],u=[];function v(b,z,D,V){if(V){var k=o,W=u;k[0]=z[0]-b[0],k[1]=z[1]-b[1],W[0]=D[0]-z[0],W[1]=D[1]-z[1];var H=k[0]*W[0]+k[1]*W[1],$=Math.sqrt(k[0]*k[0]+k[1]*k[1]),K=Math.sqrt(W[0]*W[0]+W[1]*W[1]),Z=Math.acos(H/($*K));return Z<V}else return f(b,z,D)===0}function l(b,z){var D=z[0]-b[0],V=z[1]-b[1];return D*D+V*V}function c(b,z){var D=b.length;return b[z<0?z%D+D:z%D]}function p(b){b.length=0}function g(b,z,D,V){for(var k=D;k<V;k++)b.push(z[k])}function m(b){for(var z=0,D=b,V=1;V<b.length;++V)(D[V][1]<D[z][1]||D[V][1]===D[z][1]&&D[V][0]>D[z][0])&&(z=V);return d(c(b,z-1),c(b,z),c(b,z+1))?!1:(T(b),!0)}function T(b){for(var z=[],D=b.length,V=0;V!==D;V++)z.push(b.pop());for(var V=0;V!==D;V++)b[V]=z[V]}function S(b,z){return a(c(b,z-1),c(b,z),c(b,z+1))}var P=[],E=[];function R(b,z,D){var V,k,W=P,H=E;if(s(c(b,z+1),c(b,z),c(b,D))&&r(c(b,z-1),c(b,z),c(b,D)))return!1;k=l(c(b,z),c(b,D));for(var $=0;$!==b.length;++$)if(!(($+1)%b.length===z||$===z)&&s(c(b,z),c(b,D),c(b,$+1))&&r(c(b,z),c(b,D),c(b,$))&&(W[0]=c(b,z),W[1]=c(b,D),H[0]=c(b,$),H[1]=c(b,$+1),V=y(W,H),l(c(b,z),V)<k))return!1;return!0}function A(b,z,D){for(var V=0;V!==b.length;++V)if(!(V===z||V===D||(V+1)%b.length===z||(V+1)%b.length===D)&&e(c(b,z),c(b,D),c(b,V),c(b,V+1)))return!1;return!0}function w(b,z,D,V){var k=V||[];if(p(k),z<D)for(var W=z;W<=D;W++)k.push(b[W]);else{for(var W=0;W<=D;W++)k.push(b[W]);for(var W=z;W<b.length;W++)k.push(b[W])}return k}function O(b){for(var z=[],D=[],V=[],k=[],W=Number.MAX_VALUE,H=0;H<b.length;++H)if(S(b,H)){for(var $=0;$<b.length;++$)if(R(b,H,$)){D=O(w(b,H,$,k)),V=O(w(b,$,H,k));for(var K=0;K<V.length;K++)D.push(V[K]);D.length<W&&(z=D,W=D.length,z.push([c(b,H),c(b,$)]))}}return z}function L(b){var z=O(b);return z.length>0?F(b,z):[b]}function F(b,z){if(z.length===0)return[b];if(z instanceof Array&&z.length&&z[0]instanceof Array&&z[0].length===2&&z[0][0]instanceof Array){for(var D=[b],V=0;V<z.length;V++)for(var k=z[V],W=0;W<D.length;W++){var H=D[W],$=F(H,k);if($){D.splice(W,1),D.push($[0],$[1]);break}}return D}else{var k=z,V=b.indexOf(k[0]),W=b.indexOf(k[1]);return V!==-1&&W!==-1?[w(b,V,W),w(b,W,V)]:!1}}function I(b){var z=b,D;for(D=0;D<z.length-1;D++)for(var V=0;V<D-1;V++)if(e(z[D],z[D+1],z[V],z[V+1]))return!1;for(D=1;D<z.length-2;D++)if(e(z[0],z[z.length-1],z[D],z[D+1]))return!1;return!0}function B(b,z,D,V,k){k=k||0;var W=z[1]-b[1],H=b[0]-z[0],$=W*b[0]+H*b[1],K=V[1]-D[1],Z=D[0]-V[0],j=K*D[0]+Z*D[1],J=W*Z-K*H;return Y(J,0,k)?[0,0]:[(Z*$-H*j)/J,(W*j-K*$)/J]}function G(b,z,D,V,k,W,H){W=W||100,H=H||0,k=k||25,z=typeof z<"u"?z:[],D=D||[],V=V||[];var $=[0,0],K=[0,0],Z=[0,0],j=0,J=0,Q=0,q=0,_=0,tt=0,st=0,it=[],lt=[],et=b,ht=b;if(ht.length<3)return z;if(H++,H>W)return console.warn("quickDecomp: max level ("+W+") reached."),z;for(var at=0;at<b.length;++at)if(S(et,at)){D.push(et[at]),j=J=Number.MAX_VALUE;for(var ft=0;ft<b.length;++ft)d(c(et,at-1),c(et,at),c(et,ft))&&r(c(et,at-1),c(et,at),c(et,ft-1))&&(Z=B(c(et,at-1),c(et,at),c(et,ft),c(et,ft-1)),a(c(et,at+1),c(et,at),Z)&&(Q=l(et[at],Z),Q<J&&(J=Q,K=Z,tt=ft))),d(c(et,at+1),c(et,at),c(et,ft+1))&&r(c(et,at+1),c(et,at),c(et,ft))&&(Z=B(c(et,at+1),c(et,at),c(et,ft),c(et,ft+1)),d(c(et,at-1),c(et,at),Z)&&(Q=l(et[at],Z),Q<j&&(j=Q,$=Z,_=ft)));if(tt===(_+1)%b.length)Z[0]=(K[0]+$[0])/2,Z[1]=(K[1]+$[1])/2,V.push(Z),at<_?(g(it,et,at,_+1),it.push(Z),lt.push(Z),tt!==0&&g(lt,et,tt,et.length),g(lt,et,0,at+1)):(at!==0&&g(it,et,at,et.length),g(it,et,0,_+1),it.push(Z),lt.push(Z),g(lt,et,tt,at+1));else{if(tt>_&&(_+=b.length),q=Number.MAX_VALUE,_<tt)return z;for(var ft=tt;ft<=_;++ft)s(c(et,at-1),c(et,at),c(et,ft))&&r(c(et,at+1),c(et,at),c(et,ft))&&(Q=l(c(et,at),c(et,ft)),Q<q&&A(et,at,ft)&&(q=Q,st=ft%b.length));at<st?(g(it,et,at,st+1),st!==0&&g(lt,et,st,ht.length),g(lt,et,0,at+1)):(at!==0&&g(it,et,at,ht.length),g(it,et,0,st+1),g(lt,et,st,at+1))}return it.length<lt.length?(G(it,z,D,V,k,W,H),G(lt,z,D,V,k,W,H)):(G(lt,z,D,V,k,W,H),G(it,z,D,V,k,W,H)),z}return z.push(b),z}function N(b,z){for(var D=0,V=b.length-1;b.length>3&&V>=0;--V)v(c(b,V-1),c(b,V),c(b,V+1),z)&&(b.splice(V%b.length,1),D++);return D}function U(b,z){for(var D=b.length-1;D>=1;--D)for(var V=b[D],k=D-1;k>=0;--k)if(X(V,b[k],z)){b.splice(D,1);continue}}function Y(b,z,D){return D=D||0,Math.abs(b-z)<=D}function X(b,z,D){return Y(b[0],z[0],D)&&Y(b[1],z[1],D)}},88257:(h,y,e)=>{/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2013-2023 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var f=e(56694),d=new f({initialize:function(a){this.pluginManager=a,this.game=a.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});h.exports=d},18360:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};h.exports=y},91963:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={},e={},f={};f.register=function(d,s,a,r){r===void 0&&(r=!1),y[d]={plugin:s,mapping:a,custom:r}},f.registerCustom=function(d,s,a,r){e[d]={plugin:s,mapping:a,data:r}},f.hasCore=function(d){return y.hasOwnProperty(d)},f.hasCustom=function(d){return e.hasOwnProperty(d)},f.getCore=function(d){return y[d]},f.getCustom=function(d){return e[d]},f.getCustomClass=function(d){return e.hasOwnProperty(d)?e[d].plugin:null},f.remove=function(d){y.hasOwnProperty(d)&&delete y[d]},f.removeCustom=function(d){e.hasOwnProperty(d)&&delete e[d]},f.destroyCorePlugins=function(){for(var d in y)y.hasOwnProperty(d)&&delete y[d]},f.destroyCustomPlugins=function(){for(var d in e)e.hasOwnProperty(d)&&delete e[d]},h.exports=f},49274:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(97081),s=e(6659),a=e(76846),r=e(99325),o=e(61286),u=e(72632),v=e(91963),l=e(66458),c=new f({Extends:s,initialize:function(g){s.call(this),this.game=g,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],g.isBooted?this.boot():g.events.once(d.BOOT,this.boot,this)},boot:function(){var p,g,m,T,S,P,E,R=this.game.config,A=R.installGlobalPlugins;for(A=A.concat(this._pendingGlobal),p=0;p<A.length;p++)g=A[p],m=u(g,"key",null),T=u(g,"plugin",null),S=u(g,"start",!1),P=u(g,"mapping",null),E=u(g,"data",null),m&&(T?this.install(m,T,S,P,E):console.warn("Missing `plugin` for key: "+m));for(A=R.installScenePlugins,A=A.concat(this._pendingScene),p=0;p<A.length;p++)g=A[p],m=u(g,"key",null),T=u(g,"plugin",null),P=u(g,"mapping",null),m&&(T?this.installScenePlugin(m,T,P):console.warn("Missing `plugin` for key: "+m));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(d.DESTROY,this.destroy,this)},addToScene:function(p,g,m){var T,S,P,E=this.game,R=p.scene,A=p.settings.map,w=p.settings.isBooted;for(T=0;T<g.length;T++)S=g[T],E[S]?(p[S]=E[S],A.hasOwnProperty(S)&&(R[A[S]]=p[S])):S==="game"&&A.hasOwnProperty(S)&&(R[A[S]]=E);for(var O=0;O<m.length;O++)for(P=m[O],T=0;T<P.length;T++)if(S=P[T],!!v.hasCore(S)){var L=v.getCore(S),F=L.mapping,I=new L.plugin(R,this,F);p[F]=I,L.custom?R[F]=I:A.hasOwnProperty(F)&&(R[A[F]]=I),w&&I.boot()}for(P=this.plugins,T=0;T<P.length;T++){var B=P[T];B.mapping&&(R[B.mapping]=B.plugin)}},getDefaultScenePlugins:function(){var p=this.game.config.defaultPlugins;return p=p.concat(this.scenePlugins),p},installScenePlugin:function(p,g,m,T,S){if(S===void 0&&(S=!1),typeof g!="function"){console.warn("Invalid Scene Plugin: "+p);return}if(v.hasCore(p)||v.register(p,g,m,!0),this.scenePlugins.indexOf(p)===-1)this.scenePlugins.push(p);else if(!S&&v.hasCore(p)){console.warn("Scene Plugin key in use: "+p);return}if(T){var P=new g(T,this,p);T.sys[p]=P,m&&m!==""&&(T[m]=P),P.boot()}},install:function(p,g,m,T,S){if(m===void 0&&(m=!1),T===void 0&&(T=null),S===void 0&&(S=null),typeof g!="function")return console.warn("Invalid Plugin: "+p),null;if(v.hasCustom(p))return console.warn("Plugin key in use: "+p),null;if(T!==null&&(m=!0),!this.game.isBooted)this._pendingGlobal.push({key:p,plugin:g,start:m,mapping:T,data:S});else if(v.registerCustom(p,g,T,S),m)return this.start(p);return null},getIndex:function(p){for(var g=this.plugins,m=0;m<g.length;m++){var T=g[m];if(T.key===p)return m}return-1},getEntry:function(p){var g=this.getIndex(p);if(g!==-1)return this.plugins[g]},isActive:function(p){var g=this.getEntry(p);return g&&g.active},start:function(p,g){g===void 0&&(g=p);var m=this.getEntry(g);return m&&!m.active?(m.active=!0,m.plugin.start()):m||(m=this.createEntry(p,g)),m?m.plugin:null},createEntry:function(p,g){var m=v.getCustom(p);if(m){var T=new m.plugin(this);m={key:g,plugin:T,active:!0,mapping:m.mapping,data:m.data},this.plugins.push(m),T.init(m.data),T.start()}return m},stop:function(p){var g=this.getEntry(p);return g&&g.active&&(g.active=!1,g.plugin.stop()),this},get:function(p,g){g===void 0&&(g=!0);var m=this.getEntry(p);if(m)return m.plugin;var T=this.getClass(p);return T&&g?(m=this.createEntry(p,p),m?m.plugin:null):T||null},getClass:function(p){return v.getCustomClass(p)},removeGlobalPlugin:function(p){var g=this.getEntry(p);g&&l(this.plugins,g),v.removeCustom(p)},removeScenePlugin:function(p){l(this.scenePlugins,p),v.remove(p)},registerGameObject:function(p,g,m){return g&&o.register(p,g),m&&r.register(p,m),this},removeGameObject:function(p,g,m){return g===void 0&&(g=!0),m===void 0&&(m=!0),g&&o.remove(p),m&&r.remove(p),this},registerFileType:function(p,g,m){a.register(p,g),m&&m.sys.load&&(m.sys.load[p]=g)},destroy:function(){for(var p=0;p<this.plugins.length;p++)this.plugins[p].plugin.destroy();v.destroyCustomPlugins(),this.game.noReturn&&v.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});h.exports=c},39283:(h,y,e)=>{/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2013-2023 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var f=e(88257),d=e(56694),s=e(7599),a=new d({Extends:f,initialize:function(o,u,v){f.call(this,u),this.scene=o,this.systems=o.sys,this.pluginKey=v,o.sys.events.once(s.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});h.exports=a},45615:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={BasePlugin:e(88257),DefaultPlugins:e(18360),PluginCache:e(91963),PluginManager:e(49274),ScenePlugin:e(39283)}},75205:()=>{HTMLVideoElement&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(h){const y=performance.now(),e=this.getVideoPlaybackQuality(),f=this.mozPresentedFrames||this.mozPaintedFrames||e.totalVideoFrames-e.droppedVideoFrames,d=(s,a)=>{const r=this.getVideoPlaybackQuality(),o=this.mozPresentedFrames||this.mozPaintedFrames||r.totalVideoFrames-r.droppedVideoFrames;if(o>f){const u=this.mozFrameDelay||r.totalFrameDelay-e.totalFrameDelay||0,v=a-s;h(a,{presentationTime:a+u*1e3,expectedDisplayTime:a+v,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+v/1e3,presentedFrames:o,processingDuration:u}),delete this._rvfcpolyfillmap[y]}else this._rvfcpolyfillmap[y]=requestAnimationFrame(u=>d(a,u))};return this._rvfcpolyfillmap[y]=requestAnimationFrame(s=>d(y,s)),y},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(h){cancelAnimationFrame(this._rvfcpolyfillmap[h]),delete this._rvfcpolyfillmap[h]})},95723:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},27394:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={DEFAULT:0,LINEAR:0,NEAREST:1};h.exports=y},91135:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(89787),d=e(61840),s=e(56694),a=e(86459),r=e(6659),o=e(81044),u=e(32834),v=e(40444),l=e(38203),c=e(69360),p=new s({Extends:r,initialize:function(m){r.call(this);var T=m.config;this.config={clearBeforeRender:T.clearBeforeRender,backgroundColor:T.backgroundColor,antialias:T.antialias,roundPixels:T.roundPixels},this.game=m,this.type=a.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=m.canvas;var S={alpha:m.config.transparent,desynchronized:m.config.desynchronized,willReadFrequently:!1};this.gameContext=T.context?T.context:this.gameCanvas.getContext("2d",S),this.currentContext=this.gameContext,this.antialias=m.config.antialias,this.blendModes=u(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new c,this._tempMatrix2=new c,this._tempMatrix3=new c,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(l.READY,this.boot,this)},boot:function(){var g=this.game,m=g.scale.baseSize;this.width=m.width,this.height=m.height,this.isBooted=!0,g.scale.on(v.RESIZE,this.onResize,this),this.resize(m.width,m.height)},onResize:function(g,m){(m.width!==this.width||m.height!==this.height)&&this.resize(m.width,m.height)},resize:function(g,m){this.width=g,this.height=m,this.emit(o.RESIZE,g,m)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(g){return this.currentContext.globalCompositeOperation=g,this},setContext:function(g){return this.currentContext=g||this.gameContext,this},setAlpha:function(g){return this.currentContext.globalAlpha=g,this},preRender:function(){var g=this.gameContext,m=this.config,T=this.width,S=this.height;g.globalAlpha=1,g.globalCompositeOperation="source-over",g.setTransform(1,0,0,1,0,0),m.clearBeforeRender&&(g.clearRect(0,0,T,S),m.transparent||(g.fillStyle=m.backgroundColor.rgba,g.fillRect(0,0,T,S))),g.save(),this.drawCount=0,this.emit(o.PRE_RENDER)},render:function(g,m,T){var S=m.length;this.emit(o.RENDER,g,T);var P=T.x,E=T.y,R=T.width,A=T.height,w=T.renderToTexture?T.context:g.sys.context;w.save(),this.game.scene.customViewports&&(w.beginPath(),w.rect(P,E,R,A),w.clip()),T.emit(f.PRE_RENDER,T),this.currentContext=w;var O=T.mask;O&&O.preRenderCanvas(this,null,T._maskCamera),T.transparent||(w.fillStyle=T.backgroundColor.rgba,w.fillRect(P,E,R,A)),w.globalAlpha=T.alpha,w.globalCompositeOperation="source-over",this.drawCount+=S,T.renderToTexture&&T.emit(f.PRE_RENDER,T),T.matrix.copyToContext(w);for(var L=0;L<S;L++){var F=m[L];F.mask&&F.mask.preRenderCanvas(this,F,T),F.renderCanvas(this,F,T),F.mask&&F.mask.postRenderCanvas(this,F,T)}w.setTransform(1,0,0,1,0,0),w.globalCompositeOperation="source-over",w.globalAlpha=1,T.flashEffect.postRenderCanvas(w),T.fadeEffect.postRenderCanvas(w),T.dirty=!1,O&&O.postRenderCanvas(this),w.restore(),T.renderToTexture&&(T.emit(f.POST_RENDER,T),T.renderToGame&&g.sys.context.drawImage(T.canvas,P,E)),T.emit(f.POST_RENDER,T)},postRender:function(){var g=this.gameContext;g.restore(),this.emit(o.POST_RENDER);var m=this.snapshotState;m.callback&&(d(this.gameCanvas,m),m.callback=null)},snapshotCanvas:function(g,m,T,S,P,E,R,A,w){T===void 0&&(T=!1),this.snapshotArea(S,P,E,R,m,A,w);var O=this.snapshotState;return O.getPixel=T,d(g,O),O.callback=null,this},snapshot:function(g,m,T){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,g,m,T)},snapshotArea:function(g,m,T,S,P,E,R){var A=this.snapshotState;return A.callback=P,A.type=E,A.encoder=R,A.getPixel=!1,A.x=g,A.y=m,A.width=Math.min(T,this.gameCanvas.width),A.height=Math.min(S,this.gameCanvas.height),this},snapshotPixel:function(g,m,T){return this.snapshotArea(g,m,1,1,T),this.snapshotState.getPixel=!0,this},batchSprite:function(g,m,T,S){var P=T.alpha*g.alpha;if(P!==0){var E=this.currentContext,R=this._tempMatrix1,A=this._tempMatrix2,w=m.canvasData,O=w.x,L=w.y,F=m.cutWidth,I=m.cutHeight,B=m.customPivot,G=m.source.resolution,N=g.displayOriginX,U=g.displayOriginY,Y=-N+m.x,X=-U+m.y;if(g.isCropped){var b=g._crop;(b.flipX!==g.flipX||b.flipY!==g.flipY)&&m.updateCropUVs(b,g.flipX,g.flipY),F=b.cw,I=b.ch,O=b.cx,L=b.cy,Y=-N+b.x,X=-U+b.y,g.flipX&&(Y>=0?Y=-(Y+F):Y<0&&(Y=Math.abs(Y)-F)),g.flipY&&(X>=0?X=-(X+I):X<0&&(X=Math.abs(X)-I))}var z=1,D=1;g.flipX&&(B||(Y+=-m.realWidth+N*2),z=-1),g.flipY&&(B||(X+=-m.realHeight+U*2),D=-1);var V=g.x,k=g.y;A.applyITRS(V,k,g.rotation,g.scaleX*z,g.scaleY*D),R.copyFrom(T.matrix),S?(R.multiplyWithOffset(S,-T.scrollX*g.scrollFactorX,-T.scrollY*g.scrollFactorY),A.e=V,A.f=k):(A.e-=T.scrollX*g.scrollFactorX,A.f-=T.scrollY*g.scrollFactorY),R.multiply(A),T.roundPixels&&(R.e=Math.round(R.e),R.f=Math.round(R.f)),E.save(),R.setToContext(E),E.globalCompositeOperation=this.blendModes[g.blendMode],E.globalAlpha=P,E.imageSmoothingEnabled=!m.source.scaleMode,g.mask&&g.mask.preRenderCanvas(this,g,T),F>0&&I>0&&(T.roundPixels?E.drawImage(m.source.image,O,L,F,I,Math.round(Y),Math.round(X),Math.round(F/G),Math.round(I/G)):E.drawImage(m.source.image,O,L,F,I,Y,X,F/G,I/G)),g.mask&&g.mask.postRenderCanvas(this,g,T),E.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});h.exports=p},6046:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={CanvasRenderer:e(91135),GetBlendModes:e(32834),SetTransform:e(49584)}},32834:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(95723),d=e(98581),s=function(){var a=[],r=d.supportNewBlendModes,o="source-over";return a[f.NORMAL]=o,a[f.ADD]="lighter",a[f.MULTIPLY]=r?"multiply":o,a[f.SCREEN]=r?"screen":o,a[f.OVERLAY]=r?"overlay":o,a[f.DARKEN]=r?"darken":o,a[f.LIGHTEN]=r?"lighten":o,a[f.COLOR_DODGE]=r?"color-dodge":o,a[f.COLOR_BURN]=r?"color-burn":o,a[f.HARD_LIGHT]=r?"hard-light":o,a[f.SOFT_LIGHT]=r?"soft-light":o,a[f.DIFFERENCE]=r?"difference":o,a[f.EXCLUSION]=r?"exclusion":o,a[f.HUE]=r?"hue":o,a[f.SATURATION]=r?"saturation":o,a[f.COLOR]=r?"color":o,a[f.LUMINOSITY]=r?"luminosity":o,a[f.ERASE]="destination-out",a[f.SOURCE_IN]="source-in",a[f.SOURCE_OUT]="source-out",a[f.SOURCE_ATOP]="source-atop",a[f.DESTINATION_OVER]="destination-over",a[f.DESTINATION_IN]="destination-in",a[f.DESTINATION_OUT]="destination-out",a[f.DESTINATION_ATOP]="destination-atop",a[f.LIGHTER]="lighter",a[f.COPY]="copy",a[f.XOR]="xor",a};h.exports=s},49584:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(73329),d=function(s,a,r,o,u){var v=o.alpha*r.alpha;if(v<=0)return!1;var l=f(r,o,u).calc;return a.globalCompositeOperation=s.blendModes[r.blendMode],a.globalAlpha=v,a.save(),l.setToContext(a),a.imageSmoothingEnabled=r.frame?!r.frame.source.scaleMode:s.antialias,!0};h.exports=d},70936:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="postrender"},99298:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="prerender"},7743:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="render"},99519:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="resize"},81044:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={POST_RENDER:e(70936),PRE_RENDER:e(99298),RENDER:e(7743),RESIZE:e(99519)}},42069:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Canvas:e(6046),Events:e(81044),Snapshot:e(95528),WebGL:e(55478)}},61840:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61068),d=e(27119),s=e(72632),a=function(r,o){var u=s(o,"callback"),v=s(o,"type","image/png"),l=s(o,"encoder",.92),c=Math.abs(Math.round(s(o,"x",0))),p=Math.abs(Math.round(s(o,"y",0))),g=Math.floor(s(o,"width",r.width)),m=Math.floor(s(o,"height",r.height)),T=s(o,"getPixel",!1);if(T){var S=r.getContext("2d",{willReadFrequently:!1}),P=S.getImageData(c,p,1,1),E=P.data;u.call(null,new d(E[0],E[1],E[2],E[3]))}else if(c!==0||p!==0||g!==r.width||m!==r.height){var R=f.createWebGL(this,g,m),A=R.getContext("2d",{willReadFrequently:!0});g>0&&m>0&&A.drawImage(r,c,p,g,m,0,0,g,m);var w=new Image;w.onerror=function(){u.call(null),f.remove(R)},w.onload=function(){u.call(null,w),f.remove(R)},w.src=R.toDataURL(v,l)}else{var O=new Image;O.onerror=function(){u.call(null)},O.onload=function(){u.call(null,O)},O.src=r.toDataURL(v,l)}};h.exports=a},1217:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61068),d=e(27119),s=e(72632),a=function(r,o){var u=r,v=s(o,"callback"),l=s(o,"type","image/png"),c=s(o,"encoder",.92),p=Math.abs(Math.round(s(o,"x",0))),g=Math.abs(Math.round(s(o,"y",0))),m=s(o,"getPixel",!1),T=s(o,"isFramebuffer",!1),S=T?s(o,"bufferWidth",1):u.drawingBufferWidth,P=T?s(o,"bufferHeight",1):u.drawingBufferHeight;if(m){var E=new Uint8Array(4),R=T?g:P-g;u.readPixels(p,R,1,1,u.RGBA,u.UNSIGNED_BYTE,E),v.call(null,new d(E[0],E[1],E[2],E[3]))}else{var A=Math.floor(s(o,"width",S)),w=Math.floor(s(o,"height",P)),O=A*w*4,L=new Uint8Array(O);u.readPixels(p,P-g-w,A,w,u.RGBA,u.UNSIGNED_BYTE,L);for(var F=f.createWebGL(this,A,w),I=F.getContext("2d",{willReadFrequently:!0}),B=I.getImageData(0,0,A,w),G=B.data,N=0;N<w;N++)for(var U=0;U<A;U++){var Y=((w-N-1)*A+U)*4,X=T?O-(N*A+(A-U))*4:(N*A+U)*4;G[X+0]=L[Y+0],G[X+1]=L[Y+1],G[X+2]=L[Y+2],G[X+3]=L[Y+3]}I.putImageData(B,0,0);var b=new Image;b.onerror=function(){v.call(null),f.remove(F)},b.onload=function(){v.call(null,b),f.remove(F)},b.src=F.toDataURL(l,c)}};h.exports=a},95528:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Canvas:e(61840),WebGL:e(1217)}},35217:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(65641),s=e(33885),a=e(77290),r=e(72632),o=e(37410),u=e(82127),v=e(5583),l=e(58136),c=e(47406),p=e(81828),g=e(66901),m=e(71264),T=e(77310),S=e(10919),P=e(21213),E=e(51212),R=e(60848),A=new f({initialize:function(O){this.game=O.game,this.renderer=O,this.classes=new s([[d.UTILITY_PIPELINE,R],[d.MULTI_PIPELINE,T],[d.BITMAPMASK_PIPELINE,v],[d.SINGLE_PIPELINE,E],[d.ROPE_PIPELINE,P],[d.LIGHT_PIPELINE,g],[d.POINTLIGHT_PIPELINE,S],[d.MOBILE_PIPELINE,m]]),this.postPipelineClasses=new s,this.pipelines=new s,this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(w,O,L){var F=this.renderer,I=this.renderTargets;this.frameInc=Math.floor(r(w,"frameInc",32));var B=F.width,G=F.height,N=this.game.config.disablePreFX,U=this.game.config.disablePostFX;if(U||this.postPipelineClasses.setAll([[String(c.BARREL),l.Barrel],[String(c.BLOOM),l.Bloom],[String(c.BLUR),l.Blur],[String(c.BOKEH),l.Bokeh],[String(c.CIRCLE),l.Circle],[String(c.COLOR_MATRIX),l.ColorMatrix],[String(c.DISPLACEMENT),l.Displacement],[String(c.GLOW),l.Glow],[String(c.GRADIENT),l.Gradient],[String(c.PIXELATE),l.Pixelate],[String(c.SHADOW),l.Shadow],[String(c.SHINE),l.Shine],[String(c.VIGNETTE),l.Vignette],[String(c.WIPE),l.Wipe]]),!N){this.classes.set(d.FX_PIPELINE,p);for(var Y=Math.min(B,G),X=Math.ceil(Y/this.frameInc),b=1;b<X;b++){var z=b*this.frameInc;I.push(new o(F,z,z)),I.push(new o(F,z,z)),I.push(new o(F,z,z)),this.maxDimension=z}I.push(new o(F,B,G,1,0,!0,!0)),I.push(new o(F,B,G,1,0,!0,!0)),I.push(new o(F,B,G,1,0,!0,!0))}var D,V,k=this,W=this.game;if(this.classes.each(function($,K){D=k.add($,new K({game:W})),$===d.UTILITY_PIPELINE&&(k.UTILITY_PIPELINE=D,k.fullFrame1=D.fullFrame1,k.fullFrame2=D.fullFrame2,k.halfFrame1=D.halfFrame1,k.halfFrame2=D.halfFrame2)}),this.MULTI_PIPELINE=this.get(d.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(d.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(d.MOBILE_PIPELINE),N||(this.FX_PIPELINE=this.get(d.FX_PIPELINE)),w)for(V in w){var H=w[V];D=new H(W),D.name=V,D.isPostFX?this.postPipelineClasses.set(V,H):this.has(V)||(this.classes.set(V,H),this.add(V,D))}this.default=this.get(O),L&&!a.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(w){var O=this.get(w);return O&&(this.default=O),O},add:function(w,O){if(O.isPostFX){console.warn(w+" is a Post Pipeline. Use `addPostPipeline` instead");return}var L=this.pipelines,F=this.renderer;return L.has(w)?console.warn("Pipeline exists: "+w):(O.name=w,O.manager=this,L.set(w,O)),O.hasBooted||O.boot(),F.width!==0&&F.height!==0&&!O.isPreFX&&O.resize(F.width,F.height),O},addPostPipeline:function(w,O){this.postPipelineClasses.has(w)||this.postPipelineClasses.set(w,O)},flush:function(){this.current&&this.current.flush()},has:function(w){var O=this.pipelines;return typeof w=="string"?O.has(w):!!O.contains(w)},get:function(w){var O=this.pipelines;if(typeof w=="string")return O.get(w);if(O.contains(w))return w},getPostPipeline:function(w,O,L){var F=this.postPipelineClasses,I,B="",G=typeof w;if(G==="string"||G==="number"?(I=F.get(w),B=w):G==="function"?(F.contains(w)&&(I=w),B=w.name):G==="object"&&(I=F.get(w.name),B=w.name),I){var N=new I(this.game,L);return N.name=B,O&&(N.gameObject=O),N}},remove:function(w,O,L){O===void 0&&(O=!0),L===void 0&&(L=!0),this.pipelines.delete(w),O&&this.classes.delete(w),L&&this.postPipelineClasses.delete(w)},set:function(w,O,L){if(!w.isPostFX)return this.isCurrent(w,L)||(this.flush(),this.current&&this.current.unbind(),this.current=w,w.bind(L)),w.updateProjectionMatrix(),w.onBind(O),w},preBatch:function(w){if(w.hasPostPipeline){this.flush();for(var O=w.postPipelines,L=O.length-1;L>=0;L--){var F=O[L];F.active&&F.preBatch(w)}}},postBatch:function(w){if(w.hasPostPipeline){this.flush();for(var O=w.postPipelines,L=0;L<O.length;L++){var F=O[L];F.active&&F.postBatch(w)}}},preBatchCamera:function(w){if(w.hasPostPipeline){this.flush();for(var O=w.postPipelines,L=O.length-1;L>=0;L--){var F=O[L];F.active&&F.preBatch(w)}}},postBatchCamera:function(w){if(w.hasPostPipeline){this.flush();for(var O=w.postPipelines,L=0;L<O.length;L++){var F=O[L];F.active&&F.postBatch(w)}}},isCurrent:function(w,O){var L=this.renderer,F=this.current;return F&&!O&&(O=F.currentShader),!(F!==w||O.program!==L.currentProgram)},copyFrame:function(w,O,L,F,I){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(w,O,L,F,I),this},copyToGame:function(w){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(w),this},drawFrame:function(w,O,L,F){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(w,O,L,F),this},blendFrames:function(w,O,L,F,I){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(w,O,L,F,I),this},blendFramesAdditive:function(w,O,L,F,I){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(w,O,L,F,I),this},clearFrame:function(w,O){return this.UTILITY_PIPELINE.clearFrame(w,O),this},blitFrame:function(w,O,L,F,I,B){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(w,O,L,F,I,B),this},copyFrameRect:function(w,O,L,F,I,B,G,N){return this.UTILITY_PIPELINE.copyFrameRect(w,O,L,F,I,B,G,N),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(w){return this.UTILITY_PIPELINE.bind(w)},setFX:function(){return this.set(this.FX_PIPELINE)},rebind:function(w){w===void 0&&this.previous&&(w=this.previous);var O=this.renderer,L=O.gl;L.disable(L.DEPTH_TEST),L.disable(L.CULL_FACE),O.hasActiveStencilMask()?L.clear(L.DEPTH_BUFFER_BIT):(L.disable(L.STENCIL_TEST),L.clear(L.DEPTH_BUFFER_BIT|L.STENCIL_BUFFER_BIT)),L.viewport(0,0,O.width,O.height),O.currentProgram=null,O.setBlendMode(0,!0);var F=O.vaoExtension;F&&F.bindVertexArrayOES(null);var I=this.pipelines.entries;for(var B in I)I[B].glReset=!0;w&&(this.current=w,w.rebind())},clear:function(){var w=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,w.currentProgram=null,w.setBlendMode(0,!0);var O=w.vaoExtension;O&&O.bindVertexArrayOES(null)},getRenderTarget:function(w){var O=this.renderTargets,L=3;if(w>this.maxDimension)return this.targetIndex=O.length-L,O[this.targetIndex];var F=(u(w,this.frameInc,0,!0)-1)*L;return this.targetIndex=F,O[F]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});h.exports=A},37410:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(81044),s=new f({initialize:function(r,o,u,v,l,c,p,g,m){v===void 0&&(v=1),l===void 0&&(l=0),c===void 0&&(c=!0),p===void 0&&(p=!1),g===void 0&&(g=!0),m===void 0&&(m=!0),this.renderer=r,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=v,this.minFilter=l,this.autoClear=c,this.autoResize=!0,this.hasDepthBuffer=g,this.forceClamp=m,this.resize(o,u),p?this.setAutoResize(!0):this.autoResize=!1},setAutoResize:function(a){return a&&!this.autoResize?(this.renderer.on(d.RESIZE,this.resize,this),this.autoResize=!0):!a&&this.autoResize&&(this.renderer.off(d.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(a,r){if(a=Math.round(a*this.scale),r=Math.round(r*this.scale),a<=0&&(a=1),r<=0&&(r=1),this.autoResize&&(a!==this.width||r!==this.height)){var o=this.renderer;o.deleteFramebuffer(this.framebuffer),o.deleteTexture(this.texture),this.texture=o.createTextureFromSource(null,a,r,this.minFilter,this.forceClamp),this.framebuffer=o.createFramebuffer(a,r,this.texture,this.hasDepthBuffer),this.width=a,this.height=r}return this},willResize:function(a,r){return a=Math.round(a*this.scale),r=Math.round(r*this.scale),a<=0&&(a=1),r<=0&&(r=1),a!==this.width||r!==this.height},bind:function(a,r,o){a===void 0&&(a=!1);var u=this.renderer;if(a&&u.flush(),r&&o&&this.resize(r,o),u.pushFramebuffer(this.framebuffer,!1,!1),a&&this.adjustViewport(),this.autoClear){var v=this.renderer.gl;v.clearColor(0,0,0,0),v.clear(v.COLOR_BUFFER_BIT)}u.clearStencilMask()},adjustViewport:function(){var a=this.renderer.gl;a.viewport(0,0,this.width,this.height),a.disable(a.SCISSOR_TEST)},clear:function(){var a=this.renderer,r=a.gl;a.pushFramebuffer(this.framebuffer),r.disable(r.SCISSOR_TEST),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),a.popFramebuffer(),a.resetScissor()},unbind:function(a){a===void 0&&(a=!1);var r=this.renderer;return a&&r.flush(),r.popFramebuffer()},destroy:function(){var a=this.renderer;a.off(d.RESIZE,this.resize,this),a.deleteFramebuffer(this.framebuffer),a.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});h.exports=s},75512:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={getTintFromFloats:function(y,e,f,d){var s=(y*255|0)&255,a=(e*255|0)&255,r=(f*255|0)&255,o=(d*255|0)&255;return(o<<24|s<<16|a<<8|r)>>>0},getTintAppendFloatAlpha:function(y,e){var f=(e*255|0)&255;return(f<<24|y)>>>0},getTintAppendFloatAlphaAndSwap:function(y,e){var f=(y>>16|0)&255,d=(y>>8|0)&255,s=(y|0)&255,a=(e*255|0)&255;return(a<<24|s<<16|d<<8|f)>>>0},getFloatsFromUintRGB:function(y){var e=(y>>16|0)&255,f=(y>>8|0)&255,d=(y|0)&255;return[e/255,f/255,d/255]},checkShaderMax:function(y,e){var f=Math.min(16,y.getParameter(y.MAX_TEXTURE_IMAGE_UNITS));return!e||e===-1?f:Math.min(f,e)},parseFragmentShaderMaxTextures:function(y,e){if(!y)return"";for(var f="",d=0;d<e;d++)d>0&&(f+=`
	else `),d<e-1&&(f+="if (outTexId < "+d+".5)"),f+=`
	{`,f+=`
		texture = texture2D(uMainSampler[`+d+"], outTexCoord);",f+=`
	}`;return y=y.replace(/%count%/gi,e.toString()),y.replace(/%forloop%/gi,f)},setGlowQuality:function(y,e,f,d){return f===void 0&&(f=e.config.glowFXQuality),d===void 0&&(d=e.config.glowFXDistance),y=y.replace(/__SIZE__/gi,(1/f/d).toFixed(7)),y=y.replace(/__DIST__/gi,d.toFixed(0)+".0"),y}}},44775:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(28699),s=e(6659),a=e(18970),r=e(72632),o=e(16650),u=e(81044),v=e(37410),l=e(75512),c=e(71305),p=new f({Extends:s,initialize:function(m){s.call(this);var T=m.game,S=T.renderer,P=S.gl;this.name=r(m,"name","WebGLPipeline"),this.game=T,this.renderer=S,this.manager,this.gl=P,this.view=T.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=r(m,"topology",P.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=r(m,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=m,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[]},boot:function(){var g,m=this.gl,T=this.config,S=this.renderer;this.isPostFX||(this.projectionMatrix=new o().identity());var P=this.renderTargets,E=r(T,"renderTarget",!1);typeof E=="boolean"&&E&&(E=1);var R=S.width,A=S.height;if(typeof E=="number")for(g=0;g<E;g++)P.push(new v(S,R,A,1,0,!0));else if(Array.isArray(E))for(g=0;g<E.length;g++){var w=r(E[g],"scale",1),O=r(E[g],"minFilter",0),L=r(E[g],"autoClear",1),F=r(E[g],"width",null),I=r(E[g],"height",F);F?P.push(new v(S,F,I,1,O,L)):P.push(new v(S,R,A,w,O,L))}P.length&&(this.currentRenderTarget=P[0]),this.setShadersFromConfig(T);var B=this.shaders,G=0;for(g=0;g<B.length;g++)B[g].vertexSize>G&&(G=B[g].vertexSize);var N=r(T,"batchSize",S.config.batchSize);this.vertexCapacity=N*6;var U=new ArrayBuffer(this.vertexCapacity*G);this.vertexData=U,this.bytes=new Uint8Array(U),this.vertexViewF32=new Float32Array(U),this.vertexViewU32=new Uint32Array(U);var Y=r(T,"vertices",null);for(Y?(this.vertexViewF32.set(Y),this.vertexBuffer=S.createVertexBuffer(U,m.STATIC_DRAW)):this.vertexBuffer=S.createVertexBuffer(U.byteLength,m.DYNAMIC_DRAW),this.setVertexBuffer(),g=B.length-1;g>=0;g--)B[g].rebind();this.hasBooted=!0,S.on(u.RESIZE,this.resize,this),S.on(u.PRE_RENDER,this.onPreRender,this),S.on(u.RENDER,this.onRender,this),S.on(u.POST_RENDER,this.onPostRender,this),this.emit(a.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(g,m,T){var S=this.renderer;if(g!==this.currentShader||S.currentProgram!==this.currentShader.program){this.flush();var P=this.setVertexBuffer(T);P&&!m&&(m=!0),g.bind(m,!1),this.currentShader=g}return this},getShaderByName:function(g){for(var m=this.shaders,T=0;T<m.length;T++)if(m[T].name===g)return m[T]},setShadersFromConfig:function(g){var m,T=this.shaders,S=this.renderer;for(m=0;m<T.length;m++)T[m].destroy();var P="vertShader",E="fragShader",R="attributes",A=r(g,P,null),w=l.parseFragmentShaderMaxTextures(r(g,E,null),S.maxTextures),O=r(g,R,null),L=r(g,"shaders",[]),F=L.length;if(F===0)A&&w&&(this.shaders=[new c(this,"default",A,w,d(O))]);else{var I=[];for(m=0;m<F;m++){var B=L[m],G,N,U,Y;if(typeof B=="string"?(G="default",N=A,U=l.parseFragmentShaderMaxTextures(B,S.maxTextures),Y=O):(G=r(B,"name","default"),N=r(B,P,A),U=l.parseFragmentShaderMaxTextures(r(B,E,w),S.maxTextures),Y=r(B,R,O)),G==="default"){var X=U.split(`
`),b=X[0].trim();b.indexOf("#define SHADER_NAME")>-1&&(G=b.substring(20))}N&&U&&I.push(new c(this,G,N,U,d(Y)))}this.shaders=I}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(g){return this.currentBatch={start:this.vertexCount,count:0,texture:[g],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=g,this.batch.push(this.currentBatch),0},addTextureToBatch:function(g){var m=this.currentBatch;m&&(m.texture.push(g),m.unit++,m.maxUnit++)},pushBatch:function(g){if(!this.currentBatch||this.forceZero&&g!==this.currentTexture)return this.createBatch(g);if(g===this.currentTexture)return this.currentUnit;var m=this.currentBatch,T=m.texture.indexOf(g);return T===-1?m.texture.length===this.renderer.maxTextures?this.createBatch(g):(m.unit++,m.maxUnit++,m.texture.push(g),this.currentUnit=m.unit,this.currentTexture=g,m.unit):(this.currentUnit=T,this.currentTexture=g,T)},setGameObject:function(g,m){return m===void 0&&(m=g.frame),this.pushBatch(m.source.glTexture)},shouldFlush:function(g){return g===void 0&&(g=0),this.vertexCount+g>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(g,m){(g!==this.width||m!==this.height)&&this.flush(),this.width=g,this.height=m;for(var T=this.renderTargets,S=0;S<T.length;S++)T[S].resize(g,m);return this.setProjectionMatrix(g,m),this.emit(a.RESIZE,g,m,this),this.onResize(g,m),this},setProjectionMatrix:function(g,m){var T=this.projectionMatrix;if(!T)return this;this.projectionWidth=g,this.projectionHeight=m,T.ortho(0,g,m,0,-1e3,1e3);for(var S=this.shaders,P="uProjectionMatrix",E=0;E<S.length;E++){var R=S[E];R.hasUniform(P)&&(R.resetUniform(P),R.setMatrix4fv(P,!1,T.val,R))}return this},flipProjectionMatrix:function(g){g===void 0&&(g=!0);var m=this.projectionMatrix;if(!m)return this;var T=this.projectionWidth,S=this.projectionHeight;g?m.ortho(0,T,0,S,-1e3,1e3):m.ortho(0,T,S,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,m.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var g=this.renderer.projectionWidth,m=this.renderer.projectionHeight;(this.projectionWidth!==g||this.projectionHeight!==m)&&this.setProjectionMatrix(g,m)}},bind:function(g){if(g===void 0&&(g=this.currentShader),this.glReset)return this.rebind(g);var m=!1,T=this.gl;return T.getParameter(T.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(T.bindBuffer(T.ARRAY_BUFFER,this.vertexBuffer),this.activeBuffer=this.vertexBuffer,m=!0),g.bind(m),this.currentShader=g,this.activeTextures.length=0,this.emit(a.BIND,this,g),this.onActive(g),this},rebind:function(g){this.activeBuffer=null,this.setVertexBuffer();for(var m=this.shaders,T=m.length-1;T>=0;T--){var S=m[T].rebind();(!g||S===g)&&(this.currentShader=S)}return this.activeTextures.length=0,this.emit(a.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},setVertexBuffer:function(g){if(g===void 0&&(g=this.vertexBuffer),g!==this.activeBuffer){var m=this.gl;return this.gl.bindBuffer(m.ARRAY_BUFFER,g),this.activeBuffer=g,!0}return!1},preBatch:function(g){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(g),this},postBatch:function(g){return this.onDraw(this.currentRenderTarget),this.onPostBatch(g),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(g){if(g===void 0&&(g=!1),this.vertexCount>0){this.emit(a.BEFORE_FLUSH,this,g),this.onBeforeFlush(g);var m=this.gl,T=this.vertexCount,S=this.currentShader.vertexSize,P=this.topology;if(this.active){this.setVertexBuffer(),T===this.vertexCapacity?m.bufferData(m.ARRAY_BUFFER,this.vertexData,m.DYNAMIC_DRAW):m.bufferSubData(m.ARRAY_BUFFER,0,this.bytes.subarray(0,T*S));var E,R,A,w=this.batch,O=this.activeTextures;if(this.forceZero)for(O[0]||m.activeTexture(m.TEXTURE0),E=0;E<w.length;E++)R=w[E],A=R.texture[0],O[0]!==A&&(m.bindTexture(m.TEXTURE_2D,A),O[0]=A),m.drawArrays(P,R.start,R.count);else for(E=0;E<w.length;E++){R=w[E];for(var L=0;L<=R.maxUnit;L++)A=R.texture[L],O[L]!==A&&(m.activeTexture(m.TEXTURE0+L),m.bindTexture(m.TEXTURE_2D,A),O[L]=A);m.drawArrays(P,R.start,R.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(a.AFTER_FLUSH,this,g),this.onAfterFlush(g)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(g,m,T,S,P,E,R){var A=this.vertexViewF32,w=this.vertexViewU32,O=this.vertexCount*this.currentShader.vertexComponentCount-1;A[++O]=g,A[++O]=m,A[++O]=T,A[++O]=S,A[++O]=P,A[++O]=E,w[++O]=R,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(g,m,T,S,P,E,R,A,w,O,L,F,I,B,G,N,U,Y,X,b){b===void 0&&(b=this.currentUnit);var z=!1;this.shouldFlush(6)&&(this.flush(),z=!0),this.currentBatch||(b=this.setTexture2D(X));var D=this.vertexViewF32,V=this.vertexViewU32,k=this.vertexCount*this.currentShader.vertexComponentCount-1;return D[++k]=m,D[++k]=T,D[++k]=O,D[++k]=L,D[++k]=b,D[++k]=Y,V[++k]=B,D[++k]=S,D[++k]=P,D[++k]=O,D[++k]=I,D[++k]=b,D[++k]=Y,V[++k]=N,D[++k]=E,D[++k]=R,D[++k]=F,D[++k]=I,D[++k]=b,D[++k]=Y,V[++k]=U,D[++k]=m,D[++k]=T,D[++k]=O,D[++k]=L,D[++k]=b,D[++k]=Y,V[++k]=B,D[++k]=E,D[++k]=R,D[++k]=F,D[++k]=I,D[++k]=b,D[++k]=Y,V[++k]=U,D[++k]=A,D[++k]=w,D[++k]=F,D[++k]=L,D[++k]=b,D[++k]=Y,V[++k]=G,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(g),z},batchTri:function(g,m,T,S,P,E,R,A,w,O,L,F,I,B,G,N,U){U===void 0&&(U=this.currentUnit);var Y=!1;this.shouldFlush(3)&&(this.flush(),Y=!0),this.currentBatch||(U=this.setTexture2D(N));var X=this.vertexViewF32,b=this.vertexViewU32,z=this.vertexCount*this.currentShader.vertexComponentCount-1;return X[++z]=m,X[++z]=T,X[++z]=A,X[++z]=w,X[++z]=U,X[++z]=G,b[++z]=F,X[++z]=S,X[++z]=P,X[++z]=A,X[++z]=L,X[++z]=U,X[++z]=G,b[++z]=I,X[++z]=E,X[++z]=R,X[++z]=O,X[++z]=L,X[++z]=U,X[++z]=G,b[++z]=B,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(g),Y},drawFillRect:function(g,m,T,S,P,E,R,A){R===void 0&&(R=this.renderer.whiteTexture),A===void 0&&(A=!0),g=Math.floor(g),m=Math.floor(m);var w=Math.floor(g+T),O=Math.floor(m+S),L=this.setTexture2D(R),F=l.getTintAppendFloatAlphaAndSwap(P,E),I=0,B=0,G=1,N=1;A&&(B=1,N=0),this.batchQuad(null,g,m,g,O,w,O,w,m,I,B,G,N,F,F,F,F,0,R,L)},setTexture2D:function(g){return g===void 0&&(g=this.renderer.whiteTexture),this.pushBatch(g)},bindTexture:function(g,m){m===void 0&&(m=0);var T=this.gl;return T.activeTexture(T.TEXTURE0+m),T.bindTexture(T.TEXTURE_2D,g),this},bindRenderTarget:function(g,m){return this.bindTexture(g.texture,m)},setTime:function(g,m){return this.set1f(g,this.game.loop.getDuration(),m),this},setBoolean:function(g,m,T){return T===void 0&&(T=this.currentShader),T.setBoolean(g,m),this},set1f:function(g,m,T){return T===void 0&&(T=this.currentShader),T.set1f(g,m),this},set2f:function(g,m,T,S){return S===void 0&&(S=this.currentShader),S.set2f(g,m,T),this},set3f:function(g,m,T,S,P){return P===void 0&&(P=this.currentShader),P.set3f(g,m,T,S),this},set4f:function(g,m,T,S,P,E){return E===void 0&&(E=this.currentShader),E.set4f(g,m,T,S,P),this},set1fv:function(g,m,T){return T===void 0&&(T=this.currentShader),T.set1fv(g,m),this},set2fv:function(g,m,T){return T===void 0&&(T=this.currentShader),T.set2fv(g,m),this},set3fv:function(g,m,T){return T===void 0&&(T=this.currentShader),T.set3fv(g,m),this},set4fv:function(g,m,T){return T===void 0&&(T=this.currentShader),T.set4fv(g,m),this},set1iv:function(g,m,T){return T===void 0&&(T=this.currentShader),T.set1iv(g,m),this},set2iv:function(g,m,T){return T===void 0&&(T=this.currentShader),T.set2iv(g,m),this},set3iv:function(g,m,T){return T===void 0&&(T=this.currentShader),T.set3iv(g,m),this},set4iv:function(g,m,T){return T===void 0&&(T=this.currentShader),T.set4iv(g,m),this},set1i:function(g,m,T){return T===void 0&&(T=this.currentShader),T.set1i(g,m),this},set2i:function(g,m,T,S){return S===void 0&&(S=this.currentShader),S.set2i(g,m,T),this},set3i:function(g,m,T,S,P){return P===void 0&&(P=this.currentShader),P.set3i(g,m,T,S),this},set4i:function(g,m,T,S,P,E){return E===void 0&&(E=this.currentShader),E.set4i(g,m,T,S,P),this},setMatrix2fv:function(g,m,T,S){return S===void 0&&(S=this.currentShader),S.setMatrix2fv(g,m,T),this},setMatrix3fv:function(g,m,T,S){return S===void 0&&(S=this.currentShader),S.setMatrix3fv(g,m,T),this},setMatrix4fv:function(g,m,T,S){return S===void 0&&(S=this.currentShader),S.setMatrix4fv(g,m,T),this},destroy:function(){this.emit(a.DESTROY,this);var g,m=this.shaders;for(g=0;g<m.length;g++)m[g].destroy();var T=this.renderTargets;for(g=0;g<T.length;g++)T[g].destroy();this.gl.deleteBuffer(this.vertexBuffer);var S=this.renderer;return S.off(u.RESIZE,this.resize,this),S.off(u.PRE_RENDER,this.onPreRender,this),S.off(u.RENDER,this.onRender,this),S.off(u.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});h.exports=p},11857:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(66458),d=e(89787),s=e(56694),a=e(86459),r=e(6659),o=e(81044),u=e(28621),v=e(16650),l=e(72283),c=e(35217),p=e(37410),g=e(40444),m=e(38203),T=e(75512),S=e(1217),P=new s({Extends:r,initialize:function(R){r.call(this);var A=R.config,w={alpha:A.transparent,desynchronized:A.desynchronized,depth:!0,antialias:A.antialiasGL,premultipliedAlpha:A.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:A.failIfMajorPerformanceCaveat,powerPreference:A.powerPreference,preserveDrawingBuffer:A.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:A.clearBeforeRender,antialias:A.antialias,backgroundColor:A.backgroundColor,contextCreation:w,roundPixels:A.roundPixels,maxTextures:A.maxTextures,maxTextureSize:A.maxTextureSize,batchSize:A.batchSize,maxLights:A.maxLights,mipmapFilter:A.mipmapFilter},this.game=R,this.type=a.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=R.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=l,this.contextRestoredHandler=l,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(E){var R,A=this.game,w=this.canvas,O=E.backgroundColor;if(A.config.context?R=A.config.context:R=w.getContext("webgl",E.contextCreation)||w.getContext("experimental-webgl",E.contextCreation),!R||R.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=R;var L=this;this.contextLostHandler=function(X){L.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),X.preventDefault()},w.addEventListener("webglcontextlost",this.contextLostHandler,!1),A.context=R;for(var F=0;F<=27;F++)this.blendModes.push({func:[R.ONE,R.ONE_MINUS_SRC_ALPHA],equation:R.FUNC_ADD});this.blendModes[1].func=[R.ONE,R.DST_ALPHA],this.blendModes[2].func=[R.DST_COLOR,R.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[R.ONE,R.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[R.ZERO,R.ONE_MINUS_SRC_ALPHA],equation:R.FUNC_REVERSE_SUBTRACT},this.glFormats=[R.BYTE,R.SHORT,R.UNSIGNED_BYTE,R.UNSIGNED_SHORT,R.FLOAT],this.glFuncMap={mat2:{func:R.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:R.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:R.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:R.uniform1f,length:1},"1fv":{func:R.uniform1fv,length:1},"1i":{func:R.uniform1i,length:1},"1iv":{func:R.uniform1iv,length:1},"2f":{func:R.uniform2f,length:2},"2fv":{func:R.uniform2fv,length:1},"2i":{func:R.uniform2i,length:2},"2iv":{func:R.uniform2iv,length:1},"3f":{func:R.uniform3f,length:3},"3fv":{func:R.uniform3fv,length:1},"3i":{func:R.uniform3i,length:3},"3iv":{func:R.uniform3iv,length:1},"4f":{func:R.uniform4f,length:4},"4fv":{func:R.uniform4fv,length:1},"4i":{func:R.uniform4i,length:4},"4iv":{func:R.uniform4iv,length:1}};var I=R.getSupportedExtensions();(!E.maxTextures||E.maxTextures===-1)&&(E.maxTextures=R.getParameter(R.MAX_TEXTURE_IMAGE_UNITS)),E.maxTextureSize||(E.maxTextureSize=R.getParameter(R.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),this.supportedExtensions=I;var B="ANGLE_instanced_arrays";this.instancedArraysExtension=I.indexOf(B)>-1?R.getExtension(B):null;var G="OES_vertex_array_object";this.vaoExtension=I.indexOf(G)>-1?R.getExtension(G):null,R.disable(R.DEPTH_TEST),R.disable(R.CULL_FACE),R.enable(R.BLEND),R.clearColor(O.redGL,O.greenGL,O.blueGL,O.alphaGL);var N=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];N.indexOf(E.mipmapFilter)!==-1&&(this.mipmapFilter=R[E.mipmapFilter]),this.maxTextures=T.checkShaderMax(R,E.maxTextures),this.textureIndexes=[];for(var U=0;U<this.maxTextures;U++){var Y=R.createTexture();R.activeTexture(R.TEXTURE0+U),R.bindTexture(R.TEXTURE_2D,Y),R.texImage2D(R.TEXTURE_2D,0,R.RGBA,1,1,0,R.RGBA,R.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(U)}return this.pipelines=new c(this),this.setBlendMode(a.BlendModes.NORMAL),this.projectionMatrix=new v().identity(),A.textures.once(m.READY,this.boot,this),this},boot:function(){var E=this.game,R=this.pipelines,A=E.scale.baseSize,w=A.width,O=A.height;this.width=w,this.height=O,this.isBooted=!0,this.renderTarget=new p(this,w,O,1,0,!0,!0),this.maskTarget=new p(this,w,O,1,0,!0,!0),this.maskSource=new p(this,w,O,1,0,!0,!0);var L=E.config;R.boot(L.pipeline,L.defaultPipeline,L.autoMobilePipeline),this.blankTexture=E.textures.getFrame("__DEFAULT").glTexture,this.whiteTexture=E.textures.getFrame("__WHITE").glTexture;var F=this.gl;F.bindFramebuffer(F.FRAMEBUFFER,null),F.enable(F.SCISSOR_TEST),E.scale.on(g.RESIZE,this.onResize,this),this.resize(w,O)},captureFrame:function(E,R){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(E,R,A){},stopCapture:function(){},onCapture:function(E){},onResize:function(E,R){(R.width!==this.width||R.height!==this.height)&&this.resize(R.width,R.height)},beginCapture:function(E,R){E===void 0&&(E=this.width),R===void 0&&(R=this.height),this.renderTarget.bind(!0,E,R),this.setProjectionMatrix(E,R)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(E,R){var A=this.gl;return this.width=E,this.height=R,this.setProjectionMatrix(E,R),A.viewport(0,0,E,R),this.drawingBufferHeight=A.drawingBufferHeight,A.scissor(0,A.drawingBufferHeight-R,E,R),this.defaultScissor[2]=E,this.defaultScissor[3]=R,this.emit(o.RESIZE,E,R),this},getCompressedTextures:function(){var E="WEBGL_compressed_texture_",R="WEBKIT_"+E,A=function(O,L){var F=O.getExtension(E+L)||O.getExtension(R+L);if(F){var I={};for(var B in F)I[F[B]]=B;return I}},w=this.gl;return{ETC:A(w,"etc"),ETC1:A(w,"etc1"),ATC:A(w,"atc"),ASTC:A(w,"astc"),BPTC:A(w,"bptc"),RGTC:A(w,"rgtc"),PVRTC:A(w,"pvrtc"),S3TC:A(w,"s3tc"),S3TCSRGB:A(w,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(E,R){var A=this.compression[E.toUpperCase()];if(R in A)return A[R]},supportsCompressedTexture:function(E,R){var A=this.compression[E.toUpperCase()];return A?R?R in A:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(E,R){return(E!==this.projectionWidth||R!==this.projectionHeight)&&(this.projectionWidth=E,this.projectionHeight=R,this.projectionMatrix.ortho(0,E,R,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(E){return this.supportedExtensions?this.supportedExtensions.indexOf(E):!1},getExtension:function(E){return this.hasExtension(E)?(E in this.extensions||(this.extensions[E]=this.gl.getExtension(E)),this.extensions[E]):null},flush:function(){this.pipelines.flush()},pushScissor:function(E,R,A,w,O){O===void 0&&(O=this.drawingBufferHeight);var L=this.scissorStack,F=[E,R,A,w];return L.push(F),this.setScissor(E,R,A,w,O),this.currentScissor=F,F},setScissor:function(E,R,A,w,O){O===void 0&&(O=this.drawingBufferHeight);var L=this.gl,F=this.currentScissor,I=A>0&&w>0;if(F&&I){var B=F[0],G=F[1],N=F[2],U=F[3];I=B!==E||G!==R||N!==A||U!==w}I&&(this.flush(),L.scissor(E,O-R-w,A,w))},resetScissor:function(){var E=this.gl;E.enable(E.SCISSOR_TEST);var R=this.currentScissor;if(R){var A=R[0],w=R[1],O=R[2],L=R[3];O>0&&L>0&&E.scissor(A,this.drawingBufferHeight-w-L,O,L)}},popScissor:function(){var E=this.scissorStack;E.pop();var R=E[E.length-1];R&&this.setScissor(R[0],R[1],R[2],R[3]),this.currentScissor=R},hasActiveStencilMask:function(){var E=this.currentMask.mask,R=this.currentCameraMask.mask;return E&&E.isStencil||R&&R.isStencil},resetViewport:function(){var E=this.gl;E.viewport(0,0,this.width,this.height),this.drawingBufferHeight=E.drawingBufferHeight},setBlendMode:function(E,R){R===void 0&&(R=!1);var A=this.gl,w=this.blendModes[E];return R||E!==a.BlendModes.SKIP_CHECK&&this.currentBlendMode!==E?(this.flush(),A.enable(A.BLEND),A.blendEquation(w.equation),w.func.length>2?A.blendFuncSeparate(w.func[0],w.func[1],w.func[2],w.func[3]):A.blendFunc(w.func[0],w.func[1]),this.currentBlendMode=E,!0):!1},addBlendMode:function(E,R){var A=this.blendModes.push({func:E,equation:R});return A-1},updateBlendMode:function(E,R,A){return this.blendModes[E]&&(this.blendModes[E].func=R,A&&(this.blendModes[E].equation=A)),this},removeBlendMode:function(E){return E>17&&this.blendModes[E]&&this.blendModes.splice(E,1),this},pushFramebuffer:function(E,R,A,w,O){return E===this.currentFramebuffer?this:(this.fboStack.push(E),this.setFramebuffer(E,R,A,w,O))},setFramebuffer:function(E,R,A,w,O){if(R===void 0&&(R=!1),A===void 0&&(A=!0),w===void 0&&(w=null),O===void 0&&(O=!1),E===this.currentFramebuffer)return this;var L=this.gl,F=this.width,I=this.height;return E&&E.renderTexture&&A?(F=E.renderTexture.width,I=E.renderTexture.height):this.flush(),L.bindFramebuffer(L.FRAMEBUFFER,E),A&&L.viewport(0,0,F,I),w&&L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.TEXTURE_2D,w,0),O&&(L.clearColor(0,0,0,0),L.clear(L.COLOR_BUFFER_BIT)),R&&(E?(this.drawingBufferHeight=I,this.pushScissor(0,0,F,I)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=E,this},popFramebuffer:function(E,R){E===void 0&&(E=!1),R===void 0&&(R=!0);var A=this.fboStack;A.pop();var w=A[A.length-1];return w||(w=null),this.setFramebuffer(w,E,R),w},restoreFramebuffer:function(E,R){E===void 0&&(E=!1),R===void 0&&(R=!0);var A=this.fboStack,w=A[A.length-1];w||(w=null),this.currentFramebuffer=null,this.setFramebuffer(w,E,R)},setProgram:function(E){return E!==this.currentProgram?(this.flush(),this.gl.useProgram(E),this.currentProgram=E,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram),this},createTextureFromSource:function(E,R,A,w,O){O===void 0&&(O=!1);var L=this.gl,F=L.NEAREST,I=L.NEAREST,B=L.CLAMP_TO_EDGE,G=null;R=E?E.width:R,A=E?E.height:A;var N=u(R,A);return N&&!O&&(B=L.REPEAT),w===a.ScaleModes.LINEAR&&this.config.antialias&&(F=N&&this.mipmapFilter?this.mipmapFilter:L.LINEAR,I=L.LINEAR),E&&E.compressed&&(F=L.LINEAR,I=L.LINEAR),!E&&typeof R=="number"&&typeof A=="number"?G=this.createTexture2D(0,F,I,B,B,L.RGBA,null,R,A):G=this.createTexture2D(0,F,I,B,B,L.RGBA,E),G},createTexture2D:function(E,R,A,w,O,L,F,I,B,G,N,U){G=G??!0,N===void 0&&(N=!1),U===void 0&&(U=!1);var Y=this.gl,X=Y.createTexture();Y.activeTexture(Y.TEXTURE0);var b=Y.getParameter(Y.TEXTURE_BINDING_2D);Y.bindTexture(Y.TEXTURE_2D,X),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_MIN_FILTER,R),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_MAG_FILTER,A),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_WRAP_S,O),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_WRAP_T,w),Y.pixelStorei(Y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G),U&&Y.pixelStorei(Y.UNPACK_FLIP_Y_WEBGL,!0);var z=!1;if(F==null)Y.texImage2D(Y.TEXTURE_2D,E,L,I,B,0,L,Y.UNSIGNED_BYTE,null),z=u(I,B);else if(F.compressed){I=F.width,B=F.height,z=F.generateMipmap;for(var D=0;D<F.mipmaps.length;D++)Y.compressedTexImage2D(Y.TEXTURE_2D,D,F.internalFormat,F.mipmaps[D].width,F.mipmaps[D].height,0,F.mipmaps[D].data)}else N||(I=F.width,B=F.height),Y.texImage2D(Y.TEXTURE_2D,E,L,L,Y.UNSIGNED_BYTE,F),z=u(I,B);return z&&Y.generateMipmap(Y.TEXTURE_2D),b&&Y.bindTexture(Y.TEXTURE_2D,b),X.isAlphaPremultiplied=G,X.isRenderTexture=!1,X.width=I,X.height=B,X},createFramebuffer:function(E,R,A,w){w===void 0&&(w=!0);var O=this.gl,L=O.createFramebuffer(),F=0;if(this.setFramebuffer(L),A.isRenderTexture=!0,A.isAlphaPremultiplied=!1,O.framebufferTexture2D(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.TEXTURE_2D,A,0),F=O.checkFramebufferStatus(O.FRAMEBUFFER),F!==O.FRAMEBUFFER_COMPLETE){var I={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"};throw new Error("Framebuffer status: "+(I[F]||F))}if(L.renderTexture=A,w){var B=O.createRenderbuffer();O.bindRenderbuffer(O.RENDERBUFFER,B),O.renderbufferStorage(O.RENDERBUFFER,O.DEPTH_STENCIL,E,R),O.framebufferRenderbuffer(O.FRAMEBUFFER,O.DEPTH_STENCIL_ATTACHMENT,O.RENDERBUFFER,B)}return this.setFramebuffer(null),L},beginBitmapMask:function(E,R){var A=this.gl;A&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==E&&(this.currentMask.mask=E,this.currentMask.camera=R))},drawBitmapMask:function(E,R,A){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),E.renderWebGL(this,E,R),this.maskSource.unbind(!0),this.maskTarget.unbind();var w=this.gl,O=this.getCurrentStencilMask();O?(w.enable(w.STENCIL_TEST),O.mask.applyStencil(this,O.camera,!0)):this.currentMask.mask=null,this.pipelines.set(A),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,this.maskTarget.texture),w.activeTexture(w.TEXTURE1),w.bindTexture(w.TEXTURE_2D,this.maskSource.texture)},createProgram:function(E,R){var A=this.gl,w=A.createProgram(),O=A.createShader(A.VERTEX_SHADER),L=A.createShader(A.FRAGMENT_SHADER);A.shaderSource(O,E),A.shaderSource(L,R),A.compileShader(O),A.compileShader(L);var F=`Shader failed:
`;if(!A.getShaderParameter(O,A.COMPILE_STATUS))throw new Error("Vertex "+F+A.getShaderInfoLog(O));if(!A.getShaderParameter(L,A.COMPILE_STATUS))throw new Error("Fragment "+F+A.getShaderInfoLog(L));if(A.attachShader(w,O),A.attachShader(w,L),A.linkProgram(w),!A.getProgramParameter(w,A.LINK_STATUS))throw new Error("Link "+F+A.getProgramInfoLog(w));return A.useProgram(w),w},createVertexBuffer:function(E,R){var A=this.gl,w=A.createBuffer();return A.bindBuffer(A.ARRAY_BUFFER,w),A.bufferData(A.ARRAY_BUFFER,E,R),A.bindBuffer(A.ARRAY_BUFFER,null),w},createIndexBuffer:function(E,R){var A=this.gl,w=A.createBuffer();return A.bindBuffer(A.ELEMENT_ARRAY_BUFFER,w),A.bufferData(A.ELEMENT_ARRAY_BUFFER,E,R),A.bindBuffer(A.ELEMENT_ARRAY_BUFFER,null),w},deleteTexture:function(E){return E&&this.gl.deleteTexture(E),this},deleteFramebuffer:function(E){if(!E)return this;var R=this.gl;this.currentFramebuffer===E&&(this.currentFramebuffer=null),f(this.fboStack,E),R.bindFramebuffer(R.FRAMEBUFFER,E),E.renderTexture=void 0;var A=R.getFramebufferAttachmentParameter(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);A!==null&&(R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,null,0),R.deleteTexture(A));var w=R.getFramebufferAttachmentParameter(R.FRAMEBUFFER,R.DEPTH_STENCIL_ATTACHMENT,R.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);return w!==null&&R.deleteRenderbuffer(w),R.bindFramebuffer(R.FRAMEBUFFER,null),R.deleteFramebuffer(E),this},deleteProgram:function(E){return E&&this.gl.deleteProgram(E),this},deleteBuffer:function(E){return this.gl.deleteBuffer(E),this},preRenderCamera:function(E){var R=E.x,A=E.y,w=E.width,O=E.height,L=E.backgroundColor;if(E.emit(d.PRE_RENDER,E),this.pipelines.preBatchCamera(E),this.pushScissor(R,A,w,O),E.mask&&(this.currentCameraMask.mask=E.mask,this.currentCameraMask.camera=E._maskCamera,E.mask.preRenderWebGL(this,E,E._maskCamera)),L.alphaGL>0){var F=this.pipelines.setMulti();F.drawFillRect(R,A,w,O,T.getTintFromFloats(L.blueGL,L.greenGL,L.redGL,1),L.alphaGL)}},getCurrentStencilMask:function(){var E=null,R=this.maskStack,A=this.currentCameraMask;return R.length>0?E=R[R.length-1]:A.mask&&A.mask.isStencil&&(E=A),E},postRenderCamera:function(E){var R=E.flashEffect,A=E.fadeEffect;if(R.isRunning||A.isRunning||A.isComplete){var w=this.pipelines.setMulti();R.postRenderWebGL(w,T.getTintFromFloats),A.postRenderWebGL(w,T.getTintFromFloats)}E.dirty=!1,this.popScissor(),E.mask&&(this.currentCameraMask.mask=null,E.mask.postRenderWebGL(this,E._maskCamera)),this.pipelines.postBatchCamera(E),E.emit(d.POST_RENDER,E)},preRender:function(){if(!this.contextLost){var E=this.gl;if(E.bindFramebuffer(E.FRAMEBUFFER,null),this.config.clearBeforeRender){var R=this.config.backgroundColor;E.clearColor(R.redGL,R.greenGL,R.blueGL,R.alphaGL),E.clear(E.COLOR_BUFFER_BIT|E.DEPTH_BUFFER_BIT|E.STENCIL_BUFFER_BIT)}E.enable(E.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&E.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(o.PRE_RENDER)}},render:function(E,R,A){if(!this.contextLost){var w=R.length;if(this.emit(o.RENDER,E,A),this.preRenderCamera(A),w===0){this.setBlendMode(a.BlendModes.NORMAL),this.postRenderCamera(A);return}this.currentType="";for(var O=this.currentMask,L=0;L<w;L++){this.finalType=L===w-1;var F=R[L],I=F.mask;O=this.currentMask,O.mask&&O.mask!==I&&O.mask.postRenderWebGL(this,O.camera),I&&O.mask!==I&&I.preRenderWebGL(this,F,A),F.blendMode!==this.currentBlendMode&&this.setBlendMode(F.blendMode);var B=F.type;B!==this.currentType&&(this.newType=!0,this.currentType=B),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=R[L+1].type===this.currentType,F.renderWebGL(this,F,A),this.newType=!1}O=this.currentMask,O.mask&&O.mask.postRenderWebGL(this,O.camera),this.setBlendMode(a.BlendModes.NORMAL),this.postRenderCamera(A)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(o.POST_RENDER);var E=this.snapshotState;E.callback&&(S(this.gl,E),E.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var E=this.gl,R=this.getCurrentStencilMask();if(R){var A=R.mask;E.enable(E.STENCIL_TEST),A.invertAlpha?E.stencilFunc(E.NOTEQUAL,A.level,255):E.stencilFunc(E.EQUAL,A.level,255)}},snapshot:function(E,R,A){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,E,R,A)},snapshotArea:function(E,R,A,w,O,L,F){var I=this.snapshotState;return I.callback=O,I.type=L,I.encoder=F,I.getPixel=!1,I.x=E,I.y=R,I.width=A,I.height=w,this},snapshotPixel:function(E,R,A){return this.snapshotArea(E,R,1,1,A),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(E,R,A,w,O,L,F,I,B,G,N){O===void 0&&(O=!1),L===void 0&&(L=0),F===void 0&&(F=0),I===void 0&&(I=R),B===void 0&&(B=A),G==="pixel"&&(O=!0,G="image/png");var U=this.currentFramebuffer;this.snapshotArea(L,F,I,B,w,G,N);var Y=this.snapshotState;return Y.getPixel=O,Y.isFramebuffer=!0,Y.bufferWidth=R,Y.bufferHeight=A,Y.width=Math.min(Y.width,R),Y.height=Math.min(Y.height,A),this.setFramebuffer(E),S(this.gl,Y),this.setFramebuffer(U),Y.callback=null,Y.isFramebuffer=!1,this},canvasToTexture:function(E,R,A,w){return A===void 0&&(A=!1),w===void 0&&(w=!1),R?this.updateCanvasTexture(E,R,w):this.createCanvasTexture(E,A,w)},createCanvasTexture:function(E,R,A){R===void 0&&(R=!1),A===void 0&&(A=!1);var w=this.gl,O=w.NEAREST,L=w.NEAREST,F=E.width,I=E.height,B=w.CLAMP_TO_EDGE,G=u(F,I);return!R&&G&&(B=w.REPEAT),this.config.antialias&&(O=G&&this.mipmapFilter?this.mipmapFilter:w.LINEAR,L=w.LINEAR),this.createTexture2D(0,O,L,B,B,w.RGBA,E,F,I,!0,!1,A)},updateCanvasTexture:function(E,R,A){A===void 0&&(A=!1);var w=this.gl,O=E.width,L=E.height;if(O>0&&L>0){w.activeTexture(w.TEXTURE0);var F=w.getParameter(w.TEXTURE_BINDING_2D);w.bindTexture(w.TEXTURE_2D,R),A&&w.pixelStorei(w.UNPACK_FLIP_Y_WEBGL,!0),w.pixelStorei(w.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),w.texImage2D(w.TEXTURE_2D,0,w.RGBA,w.RGBA,w.UNSIGNED_BYTE,E),R.width=O,R.height=L,F&&w.bindTexture(w.TEXTURE_2D,F)}return R},createVideoTexture:function(E,R,A){R===void 0&&(R=!1),A===void 0&&(A=!1);var w=this.gl,O=w.NEAREST,L=w.NEAREST,F=E.videoWidth,I=E.videoHeight,B=w.CLAMP_TO_EDGE,G=u(F,I);return!R&&G&&(B=w.REPEAT),this.config.antialias&&(O=G&&this.mipmapFilter?this.mipmapFilter:w.LINEAR,L=w.LINEAR),this.createTexture2D(0,O,L,B,B,w.RGBA,E,F,I,!0,!0,A)},updateVideoTexture:function(E,R,A){A===void 0&&(A=!1);var w=this.gl,O=E.videoWidth,L=E.videoHeight;if(O>0&&L>0){w.activeTexture(w.TEXTURE0);var F=w.getParameter(w.TEXTURE_BINDING_2D);w.bindTexture(w.TEXTURE_2D,R),w.pixelStorei(w.UNPACK_FLIP_Y_WEBGL,A),w.texImage2D(w.TEXTURE_2D,0,w.RGBA,w.RGBA,w.UNSIGNED_BYTE,E),R.width=O,R.height=L,F&&w.bindTexture(w.TEXTURE_2D,F)}return R},setTextureFilter:function(E,R){var A=this.gl,w=R===0?A.LINEAR:A.NEAREST;A.activeTexture(A.TEXTURE0);var O=A.getParameter(A.TEXTURE_BINDING_2D);return A.bindTexture(A.TEXTURE_2D,E),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,w),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,w),O&&A.bindTexture(A.TEXTURE_2D,O),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});h.exports=P},71305:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(72632),s=e(71402),a=new f({initialize:function(o,u,v,l,c){this.pipeline=o,this.name=u,this.renderer=o.renderer,this.gl=this.renderer.gl,this.fragSrc=l,this.vertSrc=v,this.program=this.renderer.createProgram(v,l),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(c),this.createUniforms()},createAttributes:function(r){var o=0,u=0,v=[];this.vertexComponentCount=0;for(var l=0;l<r.length;l++){var c=r[l],p=c.name,g=d(c,"size",1),m=d(c,"type",s.FLOAT),T=m.enum,S=m.size,P=!!c.normalized;v.push({name:p,size:g,type:T,normalized:P,offset:u,enabled:!1,location:-1}),S===4?o+=g:o++,u+=g*S}this.vertexSize=u,this.vertexComponentCount=o,this.attributes=v},bind:function(r,o){return r===void 0&&(r=!1),o===void 0&&(o=!1),o&&this.pipeline.flush(),this.renderer.setProgram(this.program),r&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(r){r===void 0&&(r=!1);for(var o=this.gl,u=this.vertexSize,v=this.attributes,l=this.program,c=0;c<v.length;c++){var p=v[c],g=p.size,m=p.type,T=p.offset,S=p.enabled,P=p.location,E=!!p.normalized;if(r){var R=o.getAttribLocation(l,p.name);R>=0?(o.enableVertexAttribArray(R),o.vertexAttribPointer(R,g,m,E,u,T),p.enabled=!0,p.location=R):R!==-1&&o.disableVertexAttribArray(R)}else S?o.vertexAttribPointer(P,g,m,E,u,T):!S&&P>-1&&(o.disableVertexAttribArray(P),p.location=-1)}return this},createUniforms:function(){var r=this.gl,o=this.program,u=this.uniforms,v,l,c,p=r.getProgramParameter(o,r.ACTIVE_UNIFORMS);for(v=0;v<p;v++){var g=r.getActiveUniform(o,v);if(g){l=g.name,c=r.getUniformLocation(o,l),c!==null&&(u[l]={name:l,location:c,value1:null,value2:null,value3:null,value4:null});var m=l.indexOf("[");m>0&&(l=l.substr(0,m),u.hasOwnProperty(l)||(c=r.getUniformLocation(o,l),c!==null&&(u[l]={name:l,location:c,value1:null,value2:null,value3:null,value4:null})))}}return this},hasUniform:function(r){return this.uniforms.hasOwnProperty(r)},resetUniform:function(r){var o=this.uniforms[r];return o&&(o.value1=null,o.value2=null,o.value3=null,o.value4=null),this},setUniform1:function(r,o,u,v){var l=this.uniforms[o];return l?((v||l.value1!==u)&&(l.value1=u,this.renderer.setProgram(this.program),r.call(this.gl,l.location,u),this.pipeline.currentShader=this),this):this},setUniform2:function(r,o,u,v,l){var c=this.uniforms[o];return c?((l||c.value1!==u||c.value2!==v)&&(c.value1=u,c.value2=v,this.renderer.setProgram(this.program),r.call(this.gl,c.location,u,v),this.pipeline.currentShader=this),this):this},setUniform3:function(r,o,u,v,l,c){var p=this.uniforms[o];return p?((c||p.value1!==u||p.value2!==v||p.value3!==l)&&(p.value1=u,p.value2=v,p.value3=l,this.renderer.setProgram(this.program),r.call(this.gl,p.location,u,v,l),this.pipeline.currentShader=this),this):this},setUniform4:function(r,o,u,v,l,c,p){var g=this.uniforms[o];return g?((p||g.value1!==u||g.value2!==v||g.value3!==l||g.value4!==c)&&(g.value1=u,g.value2=v,g.value3=l,g.value4=c,this.renderer.setProgram(this.program),r.call(this.gl,g.location,u,v,l,c),this.pipeline.currentShader=this),this):this},setBoolean:function(r,o){return this.setUniform1(this.gl.uniform1i,r,Number(o))},set1f:function(r,o){return this.setUniform1(this.gl.uniform1f,r,o)},set2f:function(r,o,u){return this.setUniform2(this.gl.uniform2f,r,o,u)},set3f:function(r,o,u,v){return this.setUniform3(this.gl.uniform3f,r,o,u,v)},set4f:function(r,o,u,v,l){return this.setUniform4(this.gl.uniform4f,r,o,u,v,l)},set1fv:function(r,o){return this.setUniform1(this.gl.uniform1fv,r,o,!0)},set2fv:function(r,o){return this.setUniform1(this.gl.uniform2fv,r,o,!0)},set3fv:function(r,o){return this.setUniform1(this.gl.uniform3fv,r,o,!0)},set4fv:function(r,o){return this.setUniform1(this.gl.uniform4fv,r,o,!0)},set1iv:function(r,o){return this.setUniform1(this.gl.uniform1iv,r,o,!0)},set2iv:function(r,o){return this.setUniform1(this.gl.uniform2iv,r,o,!0)},set3iv:function(r,o){return this.setUniform1(this.gl.uniform3iv,r,o,!0)},set4iv:function(r,o){return this.setUniform1(this.gl.uniform4iv,r,o,!0)},set1i:function(r,o){return this.setUniform1(this.gl.uniform1i,r,o)},set2i:function(r,o,u){return this.setUniform2(this.gl.uniform2i,r,o,u)},set3i:function(r,o,u,v){return this.setUniform3(this.gl.uniform3i,r,o,u,v)},set4i:function(r,o,u,v,l){return this.setUniform4(this.gl.uniform4i,r,o,u,v,l)},setMatrix2fv:function(r,o,u){return this.setUniform2(this.gl.uniformMatrix2fv,r,o,u,!0)},setMatrix3fv:function(r,o,u){return this.setUniform2(this.gl.uniformMatrix3fv,r,o,u,!0)},setMatrix4fv:function(r,o,u){return this.setUniform2(this.gl.uniformMatrix4fv,r,o,u,!0)},createProgram:function(r,o){r===void 0&&(r=this.vertSrc),o===void 0&&(o=this.fragSrc);var u=this.gl;return this.program&&u.deleteProgram(this.program),this.vertSrc=r,this.fragSrc=o,this.program=this.renderer.createProgram(r,o),this.createUniforms(),this.rebind()},destroy:function(){this.gl.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null,this.attributes=null,this.uniforms=null}});h.exports=a},71402:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};h.exports=y},55478:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(71402),d=e(98611),s={PipelineManager:e(35217),Pipelines:e(62253),RenderTarget:e(37410),Utils:e(75512),WebGLPipeline:e(44775),WebGLRenderer:e(11857),WebGLShader:e(71305)};s=d(!1,s,f),h.exports=s},5583:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(72632),s=e(91679),a=e(89053),r=e(71402),o=e(44775),u=new f({Extends:o,initialize:function(l){l.fragShader=d(l,"fragShader",s),l.vertShader=d(l,"vertShader",a),l.batchSize=d(l,"batchSize",1),l.vertices=d(l,"vertices",[-1,1,-1,-7,7,1]),l.attributes=d(l,"attributes",[{name:"inPosition",size:2,type:r.FLOAT}]),o.call(this,l)},boot:function(){o.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(v,l){o.prototype.resize.call(this,v,l),this.set2f("uResolution",v,l)},beginMask:function(v,l,c){this.renderer.beginBitmapMask(v,c)},endMask:function(v,l,c){var p=this.gl,g=this.renderer,m=v.bitmapMask;m&&p&&(g.drawBitmapMask(m,l,this),c&&this.set2f("uResolution",c.width,c.height),this.set1i("uInvertMaskAlpha",v.invertAlpha),p.drawArrays(this.topology,0,3),c&&this.set2f("uResolution",this.width,this.height),p.bindTexture(p.TEXTURE_2D,null))}});h.exports=u},81828:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(58136),s=e(47406),a=e(72632),r=e(87228),o=e(92462),u=e(75512),v=new f({Extends:r,initialize:function(c){c.shaders=[u.setGlowQuality(o.FXGlowFrag,c.game),o.FXShadowFrag,o.FXPixelateFrag,o.FXVignetteFrag,o.FXShineFrag,o.FXBlurLowFrag,o.FXBlurMedFrag,o.FXBlurHighFrag,o.FXGradientFrag,o.FXBloomFrag,o.ColorMatrixFrag,o.FXCircleFrag,o.FXBarrelFrag,o.FXDisplacementFrag,o.FXWipeFrag,o.FXBokehFrag],r.call(this,c);var p=this.game;this.glow=new d.Glow(p),this.shadow=new d.Shadow(p),this.pixelate=new d.Pixelate(p),this.vignette=new d.Vignette(p),this.shine=new d.Shine(p),this.gradient=new d.Gradient(p),this.circle=new d.Circle(p),this.barrel=new d.Barrel(p),this.wipe=new d.Wipe(p),this.bokeh=new d.Bokeh(p);var g=[];g[s.GLOW]=this.onGlow,g[s.SHADOW]=this.onShadow,g[s.PIXELATE]=this.onPixelate,g[s.VIGNETTE]=this.onVignette,g[s.SHINE]=this.onShine,g[s.BLUR]=this.onBlur,g[s.GRADIENT]=this.onGradient,g[s.BLOOM]=this.onBloom,g[s.COLOR_MATRIX]=this.onColorMatrix,g[s.CIRCLE]=this.onCircle,g[s.BARREL]=this.onBarrel,g[s.DISPLACEMENT]=this.onDisplacement,g[s.WIPE]=this.onWipe,g[s.BOKEH]=this.onBokeh,this.fxHandlers=g,this.source,this.target,this.swap},onDraw:function(l,c,p){this.source=l,this.target=c,this.swap=p;var g=l.width,m=l.height,T=this.tempSprite,S=this.fxHandlers;if(T&&T.preFX)for(var P=T.preFX.list,E=0;E<P.length;E++){var R=P[E];R.active&&S[R.type].call(this,R,g,m)}this.drawToGame(this.source)},runDraw:function(){var l=this.source,c=this.target;this.copy(l,c),this.source=c,this.target=l},onGlow:function(l,c,p){var g=this.shaders[s.GLOW];this.setShader(g),this.glow.onPreRender(l,g,c,p),this.runDraw()},onShadow:function(l){var c=this.shaders[s.SHADOW];this.setShader(c),this.shadow.onPreRender(l,c),this.runDraw()},onPixelate:function(l,c,p){var g=this.shaders[s.PIXELATE];this.setShader(g),this.pixelate.onPreRender(l,g,c,p),this.runDraw()},onVignette:function(l){var c=this.shaders[s.VIGNETTE];this.setShader(c),this.vignette.onPreRender(l,c),this.runDraw()},onShine:function(l,c,p){var g=this.shaders[s.SHINE];this.setShader(g),this.shine.onPreRender(l,g,c,p),this.runDraw()},onBlur:function(l,c,p){var g=a(l,"quality"),m=this.shaders[s.BLUR+g];this.setShader(m),this.set1i("uMainSampler",0),this.set2f("resolution",c,p),this.set1f("strength",a(l,"strength")),this.set3fv("color",a(l,"glcolor"));for(var T=a(l,"x"),S=a(l,"y"),P=a(l,"steps"),E=0;E<P;E++)this.set2f("offset",T,0),this.runDraw(),this.set2f("offset",0,S),this.runDraw()},onGradient:function(l){var c=this.shaders[s.GRADIENT];this.setShader(c),this.gradient.onPreRender(l,c),this.runDraw()},onBloom:function(l,c,p){var g=this.shaders[s.BLOOM];this.copySprite(this.source,this.swap),this.setShader(g),this.set1i("uMainSampler",0),this.set1f("strength",a(l,"blurStrength")),this.set3fv("color",a(l,"glcolor"));for(var m=2/c*a(l,"offsetX"),T=2/p*a(l,"offsetY"),S=a(l,"steps"),P=0;P<S;P++)this.set2f("offset",m,0),this.runDraw(),this.set2f("offset",0,T),this.runDraw();this.blendFrames(this.swap,this.source,this.target,a(l,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(l){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",l.getData()),this.set1f("uAlpha",l.alpha),this.runDraw()},onCircle:function(l,c,p){var g=this.shaders[s.CIRCLE];this.setShader(g),this.circle.onPreRender(l,g,c,p),this.runDraw()},onBarrel:function(l){var c=this.shaders[s.BARREL];this.setShader(c),this.barrel.onPreRender(l,c),this.runDraw()},onDisplacement:function(l){this.setShader(this.shaders[s.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",l.x,l.y),this.bindTexture(l.glTexture,1),this.runDraw()},onWipe:function(l){var c=this.shaders[s.WIPE];this.setShader(c),this.wipe.onPreRender(l,c),this.runDraw()},onBokeh:function(l,c,p){var g=this.shaders[s.BOKEH];this.setShader(g),this.bokeh.onPreRender(l,g,c,p),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,r.prototype.destroy.call(this),this}});h.exports=v},66901:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(72632),s=e(65045),a=e(77310),r=e(69360),o=e(93736),u=e(44775),v=new f({Extends:a,initialize:function(c){var p=d(c,"fragShader",s);c.fragShader=p.replace("%LIGHT_COUNT%",c.game.renderer.config.maxLights),a.call(this,c),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.defaultNormalMap,this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new o,this._tempMatrix=new r,this._tempMatrix2=new r},boot:function(){u.prototype.boot.call(this);var l=this.gl,c=l.createTexture();l.activeTexture(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,c),l.texImage2D(l.TEXTURE_2D,0,l.RGBA,1,1,0,l.RGBA,l.UNSIGNED_BYTE,new Uint8Array([127,127,255,255])),this.defaultNormalMap={glTexture:c}},onRender:function(l,c){var p=l.sys.lights;if(this.lightsActive=!1,!(!p||!p.active)){var g=p.getLights(c),m=g.length;this.lightsActive=!0;var T,S=this.renderer,P=S.height,E=c.matrix,R=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",c.x,c.y,c.rotation,c.zoom),this.set3f("uAmbientLightColor",p.ambientColor.r,p.ambientColor.g,p.ambientColor.b),this.set1i("uLightCount",m),T=0;T<m;T++){var A=g[T].light,w=A.color,O="uLights["+T+"].";E.transformPoint(A.x,A.y,R),this.set2f(O+"position",R.x-c.scrollX*A.scrollFactorX*c.zoom,P-(R.y-c.scrollY*A.scrollFactorY*c.zoom)),this.set3f(O+"color",w.r,w.g,w.b),this.set1f(O+"intensity",A.intensity),this.set1f(O+"radius",A.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(l){if(l!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var c=this.inverseRotationMatrix;if(l){var p=-l,g=Math.cos(p),m=Math.sin(p);c[1]=m,c[3]=-m,c[0]=c[4]=g}else c[0]=c[4]=1,c[1]=c[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,c),this.currentNormalMapRotation=l}},setTexture2D:function(l,c){var p=this.renderer;l===void 0&&(l=p.whiteTexture);var g=this.getNormalMap(c);this.isNewNormalMap(l,g)&&(this.flush(),this.createBatch(l),this.addTextureToBatch(g),this.currentNormalMap=g);var m=0;if(c&&c.parentContainer){var T=c.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);m=T.rotationNormalized}else c&&(m=c.rotation);return this.setNormalMapRotation(m),0},setGameObject:function(l,c){c===void 0&&(c=l.frame);var p=c.glTexture,g=this.getNormalMap(l);if(this.isNewNormalMap(p,g)&&(this.flush(),this.createBatch(p),this.addTextureToBatch(g),this.currentNormalMap=g),l.parentContainer){var m=l.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(m.rotationNormalized)}else this.setNormalMapRotation(l.rotation);return 0},isNewNormalMap:function(l,c){return this.currentTexture!==l||this.currentNormalMap!==c},getNormalMap:function(l){var c;return l?l.displayTexture?c=l.displayTexture.dataSource[l.displayFrame.sourceIndex]:l.texture?c=l.texture.dataSource[l.frame.sourceIndex]:l.tileset&&(Array.isArray(l.tileset)?c=l.tileset[0].image.dataSource[0]:c=l.tileset.image.dataSource[0]):c=this.defaultNormalMap,c||(c=this.defaultNormalMap),c.glTexture},batchSprite:function(l,c,p){this.lightsActive&&a.prototype.batchSprite.call(this,l,c,p)},batchTexture:function(l,c,p,g,m,T,S,P,E,R,A,w,O,L,F,I,B,G,N,U,Y,X,b,z,D,V,k,W,H,$,K,Z){this.lightsActive&&a.prototype.batchTexture.call(this,l,c,p,g,m,T,S,P,E,R,A,w,O,L,F,I,B,G,N,U,Y,X,b,z,D,V,k,W,H,$,K,Z)},batchTextureFrame:function(l,c,p,g,m,T,S){this.lightsActive&&a.prototype.batchTextureFrame.call(this,l,c,p,g,m,T,S)}});h.exports=v},71264:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(72632),s=e(77310),a=e(85060),r=e(18166),o=e(71402),u=e(44775),v=new f({Extends:s,initialize:function(c){c.fragShader=d(c,"fragShader",a),c.vertShader=d(c,"vertShader",r),c.attributes=d(c,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:o.UNSIGNED_BYTE,normalized:!0}]),c.forceZero=!0,s.call(this,c)},boot:function(){u.prototype.boot.call(this);var l=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",l.width,l.height),this.set1i("uRoundPixels",l.config.roundPixels)}});h.exports=v},77310:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(11117),s=e(72632),a=e(53787),r=e(15968),o=e(69360),u=e(75512),v=e(71402),l=e(44775),c=new f({Extends:l,initialize:function(g){var m=g.game.renderer,T=s(g,"fragShader",a);g.fragShader=u.parseFragmentShaderMaxTextures(T,m.maxTextures),g.vertShader=s(g,"vertShader",r),g.attributes=s(g,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:v.UNSIGNED_BYTE,normalized:!0}]),l.call(this,g),this._tempMatrix1=new o,this._tempMatrix2=new o,this._tempMatrix3=new o,this.calcMatrix=new o,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){l.prototype.boot.call(this);var p=this.renderer;this.set1iv("uMainSampler",p.textureIndexes),this.set2f("uResolution",p.width,p.height),this.set1i("uRoundPixels",p.config.roundPixels)},batchSprite:function(p,g,m){this.manager.set(this,p);var T=this._tempMatrix1,S=this._tempMatrix2,P=this._tempMatrix3,E=p.frame,R=E.glTexture,A=E.u0,w=E.v0,O=E.u1,L=E.v1,F=E.x,I=E.y,B=E.cutWidth,G=E.cutHeight,N=E.customPivot,U=p.displayOriginX,Y=p.displayOriginY,X=-U+F,b=-Y+I;if(p.isCropped){var z=p._crop;(z.flipX!==p.flipX||z.flipY!==p.flipY)&&E.updateCropUVs(z,p.flipX,p.flipY),A=z.u0,w=z.v0,O=z.u1,L=z.v1,B=z.width,G=z.height,F=z.x,I=z.y,X=-U+F,b=-Y+I}var D=1,V=1;p.flipX&&(N||(X+=-E.realWidth+U*2),D=-1),(p.flipY||E.source.isGLTexture&&!R.flipY)&&(N||(b+=-E.realHeight+Y*2),V=-1);var k=p.x,W=p.y;S.applyITRS(k,W,p.rotation,p.scaleX*D,p.scaleY*V),T.copyFrom(g.matrix),m?(T.multiplyWithOffset(m,-g.scrollX*p.scrollFactorX,-g.scrollY*p.scrollFactorY),S.e=k,S.f=W):(S.e-=g.scrollX*p.scrollFactorX,S.f-=g.scrollY*p.scrollFactorY),T.multiply(S,P);var H=P.setQuad(X,b,X+B,b+G),$=u.getTintAppendFloatAlpha,K=g.alpha,Z=$(p.tintTopLeft,K*p._alphaTL),j=$(p.tintTopRight,K*p._alphaTR),J=$(p.tintBottomLeft,K*p._alphaBL),Q=$(p.tintBottomRight,K*p._alphaBR);this.shouldFlush(6)&&this.flush();var q=this.setGameObject(p,E);this.manager.preBatch(p),this.currentShader.set1i("uRoundPixels",g.roundPixels),this.batchQuad(p,H[0],H[1],H[2],H[3],H[4],H[5],H[6],H[7],A,w,O,L,Z,j,J,Q,p.tintFill,R,q),this.manager.postBatch(p)},batchTexture:function(p,g,m,T,S,P,E,R,A,w,O,L,F,I,B,G,N,U,Y,X,b,z,D,V,k,W,H,$,K,Z,j,J,Q){Q===void 0&&(Q=!1),this.manager.set(this,p);var q=this._tempMatrix1,_=this._tempMatrix2,tt=this._tempMatrix3,st=U/m+H,it=Y/T+$,lt=(U+X)/m+H,et=(Y+b)/T+$,ht=E,at=R,ft=-G,vt=-N;if(p.isCropped){var mt=p._crop,xt=mt.width,dt=mt.height;ht=xt,at=dt,E=xt,R=dt,U=mt.x,Y=mt.y;var gt=U,Lt=Y;L&&(gt=X-mt.x-xt),F&&(Lt=b-mt.y-dt),st=gt/m+H,it=Lt/T+$,lt=(gt+xt)/m+H,et=(Lt+dt)/T+$,ft=-G+U,vt=-N+Y}F=F^(!j&&g.isRenderTexture?1:0),L&&(ht*=-1,ft+=E),F&&(at*=-1,vt+=R),_.applyITRS(S,P,O,A,w),q.copyFrom(K.matrix),Z?(q.multiplyWithOffset(Z,-K.scrollX*I,-K.scrollY*B),_.e=S,_.f=P):(_.e-=K.scrollX*I,_.f-=K.scrollY*B),q.multiply(_,tt);var Pt=tt.setQuad(ft,vt,ft+ht,vt+at);J==null&&(J=this.setTexture2D(g)),p&&!Q&&this.manager.preBatch(p),this.currentShader.set1i("uRoundPixels",K.roundPixels),this.batchQuad(p,Pt[0],Pt[1],Pt[2],Pt[3],Pt[4],Pt[5],Pt[6],Pt[7],st,it,lt,et,z,D,V,k,W,g,J),p&&!Q&&this.manager.postBatch(p)},batchTextureFrame:function(p,g,m,T,S,P,E){this.manager.set(this);var R=this._tempMatrix1.copyFrom(P),A=this._tempMatrix2;E?R.multiply(E,A):A=R;var w=A.setQuad(g,m,g+p.width,m+p.height),O=this.setTexture2D(p.source.glTexture);T=u.getTintAppendFloatAlpha(T,S),this.batchQuad(null,w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7],p.u0,p.v0,p.u1,p.v1,T,T,T,T,0,p.glTexture,O)},batchFillRect:function(p,g,m,T,S,P){this.renderer.pipelines.set(this);var E=this.calcMatrix;P&&P.multiply(S,E);var R=E.setQuad(p,g,p+m,g+T),A=this.fillTint;this.batchQuad(null,R[0],R[1],R[2],R[3],R[4],R[5],R[6],R[7],0,0,1,1,A.TL,A.TR,A.BL,A.BR,2)},batchFillTriangle:function(p,g,m,T,S,P,E,R){this.renderer.pipelines.set(this);var A=this.calcMatrix;R&&R.multiply(E,A);var w=A.getX(p,g),O=A.getY(p,g),L=A.getX(m,T),F=A.getY(m,T),I=A.getX(S,P),B=A.getY(S,P),G=this.fillTint;this.currentShader.set1i("uRoundPixels",!1),this.batchTri(null,w,O,L,F,I,B,0,0,1,1,G.TL,G.TR,G.BL,2)},batchStrokeTriangle:function(p,g,m,T,S,P,E,R,A){var w=this.tempTriangle;w[0].x=p,w[0].y=g,w[0].width=E,w[1].x=m,w[1].y=T,w[1].width=E,w[2].x=S,w[2].y=P,w[2].width=E,w[3].x=p,w[3].y=g,w[3].width=E,this.batchStrokePath(w,E,!1,R,A)},batchFillPath:function(p,g,m){this.renderer.pipelines.set(this);var T=this.calcMatrix;m&&m.multiply(g,T);for(var S=p.length,P=this.polygonCache,E,R,A=this.fillTint.TL,w=this.fillTint.TR,O=this.fillTint.BL,L=0;L<S;++L)R=p[L],P.push(R.x,R.y);E=d(P),S=E.length,this.currentShader.set1i("uRoundPixels",!1);for(var F=0;F<S;F+=3){var I=E[F+0]*2,B=E[F+1]*2,G=E[F+2]*2,N=P[I+0],U=P[I+1],Y=P[B+0],X=P[B+1],b=P[G+0],z=P[G+1],D=T.getX(N,U),V=T.getY(N,U),k=T.getX(Y,X),W=T.getY(Y,X),H=T.getX(b,z),$=T.getY(b,z);this.batchTri(null,D,V,k,W,H,$,0,0,1,1,A,w,O,2)}P.length=0},batchStrokePath:function(p,g,m,T,S){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var P=p.length-1,E=0;E<P;E++){var R=p[E],A=p[E+1];this.batchLine(R.x,R.y,A.x,A.y,R.width/2,A.width/2,g,E,!m&&E===P-1,T,S)}},batchLine:function(p,g,m,T,S,P,E,R,A,w,O){this.renderer.pipelines.set(this);var L=this.calcMatrix;O&&O.multiply(w,L);var F=m-p,I=T-g,B=Math.sqrt(F*F+I*I);if(B!==0){var G=S*(T-g)/B,N=S*(p-m)/B,U=P*(T-g)/B,Y=P*(p-m)/B,X=m-U,b=T-Y,z=p-G,D=g-N,V=m+U,k=T+Y,W=p+G,H=g+N,$=L.getX(X,b),K=L.getY(X,b),Z=L.getX(z,D),j=L.getY(z,D),J=L.getX(V,k),Q=L.getY(V,k),q=L.getX(W,H),_=L.getY(W,H),tt=this.strokeTint,st=tt.TL,it=tt.TR,lt=tt.BL,et=tt.BR;if(this.currentShader.set1i("uRoundPixels",!1),this.batchQuad(null,q,_,Z,j,$,K,J,Q,0,0,1,1,st,it,lt,et,2),!(E<=2)){var ht=this.prevQuad,at=this.firstQuad;R>0&&ht[4]?this.batchQuad(null,q,_,Z,j,ht[0],ht[1],ht[2],ht[3],0,0,1,1,st,it,lt,et,2):(at[0]=q,at[1]=_,at[2]=Z,at[3]=j,at[4]=1),A&&at[4]?this.batchQuad(null,$,K,J,Q,at[0],at[1],at[2],at[3],0,0,1,1,st,it,lt,et,2):(ht[0]=$,ht[1]=K,ht[2]=J,ht[3]=Q,ht[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,l.prototype.destroy.call(this),this}});h.exports=c},10919:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(72632),s=e(83327),a=e(54677),r=e(44775),o=new f({Extends:r,initialize:function(v){v.vertShader=d(v,"vertShader",a),v.fragShader=d(v,"fragShader",s),v.attributes=d(v,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),r.call(this,v)},onRender:function(u,v){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",v.zoom)},batchPointLight:function(u,v,l,c,p,g,m,T,S,P,E,R){var A=u.color,w=u.intensity,O=u.radius,L=u.attenuation,F=A.r*w,I=A.g*w,B=A.b*w,G=v.alpha*u.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(l,c,E,R,O,L,F,I,B,G),this.batchLightVert(p,g,E,R,O,L,F,I,B,G),this.batchLightVert(m,T,E,R,O,L,F,I,B,G),this.batchLightVert(l,c,E,R,O,L,F,I,B,G),this.batchLightVert(m,T,E,R,O,L,F,I,B,G),this.batchLightVert(S,P,E,R,O,L,F,I,B,G),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(u,v,l,c,p,g,m,T,S,P){var E=this.vertexViewF32,R=this.vertexCount*this.currentShader.vertexComponentCount-1;E[++R]=u,E[++R]=v,E[++R]=l,E[++R]=c,E[++R]=p,E[++R]=g,E[++R]=m,E[++R]=T,E[++R]=S,E[++R]=P,this.vertexCount++}});h.exports=o},80486:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(65246),s=e(72632),a=e(12569),r=e(99365),o=e(44775),u=new f({Extends:o,initialize:function(l){l.renderTarget=s(l,"renderTarget",1),l.fragShader=s(l,"fragShader",a),l.vertShader=s(l,"vertShader",r),l.attributes=s(l,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),l.batchSize=1,l.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],o.call(this,l),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new d,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){o.prototype.boot.call(this);var v=this.manager.UTILITY_PIPELINE;this.fullFrame1=v.fullFrame1,this.fullFrame2=v.fullFrame2,this.halfFrame1=v.halfFrame1,this.halfFrame2=v.halfFrame2;var l=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",l.width,l.height),this.set1i("uRoundPixels",l.config.roundPixels);for(var c=this.renderTargets,p=0;p<c.length;p++)c[p].autoResize=!0},postBatch:function(v){return this.hasBooted||this.bootFX(),this.onDraw(this.currentRenderTarget),this.onPostBatch(v),this},onDraw:function(v){this.bindAndDraw(v)},getController:function(v){return v!==void 0?v:this.controller?this.controller:this},copySprite:function(v,l,c){c===void 0&&(c=!1);var p=this.gl;p.activeTexture(p.TEXTURE0),p.bindTexture(p.TEXTURE_2D,v.texture);var g=p.getParameter(p.FRAMEBUFFER_BINDING);p.bindFramebuffer(p.FRAMEBUFFER,l.framebuffer),p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,l.texture,0),p.clearColor(0,0,0,0),p.clear(p.COLOR_BUFFER_BIT),p.bufferData(p.ARRAY_BUFFER,this.vertexData,p.STATIC_DRAW),p.drawArrays(p.TRIANGLES,0,6),c&&(p.bindTexture(p.TEXTURE_2D,null),p.bindFramebuffer(p.FRAMEBUFFER,g))},copyFrame:function(v,l,c,p,g){this.manager.copyFrame(v,l,c,p,g)},copyToGame:function(v){this.manager.copyToGame(v)},drawFrame:function(v,l,c){this.manager.drawFrame(v,l,c,this.colorMatrix)},blendFrames:function(v,l,c,p,g){this.manager.blendFrames(v,l,c,p,g)},blendFramesAdditive:function(v,l,c,p,g){this.manager.blendFramesAdditive(v,l,c,p,g)},clearFrame:function(v,l){this.manager.clearFrame(v,l)},blitFrame:function(v,l,c,p,g,m){this.manager.blitFrame(v,l,c,p,g,m)},copyFrameRect:function(v,l,c,p,g,m,T,S){this.manager.copyFrameRect(v,l,c,p,g,m,T,S)},bindAndDraw:function(v,l,c,p,g){c===void 0&&(c=!0),p===void 0&&(p=!0);var m=this.gl,T=this.renderer;this.bind(g),this.set1i("uMainSampler",0),l?(m.viewport(0,0,l.width,l.height),m.bindFramebuffer(m.FRAMEBUFFER,l.framebuffer),m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,l.texture,0),c&&(p?m.clearColor(0,0,0,0):m.clearColor(0,0,0,1),m.clear(m.COLOR_BUFFER_BIT))):(T.popFramebuffer(!1,!1),T.currentFramebuffer||m.viewport(0,0,T.width,T.height)),T.restoreStencilMask(),m.activeTexture(m.TEXTURE0),m.bindTexture(m.TEXTURE_2D,v.texture),m.bufferData(m.ARRAY_BUFFER,this.vertexData,m.STATIC_DRAW),m.drawArrays(m.TRIANGLES,0,6),l&&(m.bindTexture(m.TEXTURE_2D,null),m.bindFramebuffer(m.FRAMEBUFFER,T.currentFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,o.prototype.destroy.call(this),this}});h.exports=u},87228:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(95723),d=e(79993),s=e(56694),a=e(37486),r=e(72632),o=e(77310),u=e(12569),v=e(74118),l=e(37410),c=e(85060),p=e(18166),g=e(44775),m=new s({Extends:o,initialize:function(S){var P=r(S,"fragShader",u),E=r(S,"vertShader",p),R=r(S,"drawShader",u),A=[{name:"DrawSprite",fragShader:c,vertShader:p},{name:"CopySprite",fragShader:P,vertShader:E},{name:"DrawGame",fragShader:R,vertShader:p},{name:"ColorMatrix",fragShader:a}],w=r(S,"shaders",[]);S.shaders=A.concat(w),S.vertShader||(S.vertShader=E),S.batchSize=1,o.call(this,S),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new v,this.targetBounds=new v,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){g.prototype.boot.call(this);var T=this.shaders,S=this.renderer;this.drawSpriteShader=T[0],this.copyShader=T[1],this.gameShader=T[2],this.colorMatrixShader=T[3],this.fsTarget=new l(S,S.width,S.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var P=new ArrayBuffer(168);this.quadVertexData=P,this.quadVertexViewF32=new Float32Array(P),this.quadVertexBuffer=S.createVertexBuffer(P,this.gl.STATIC_DRAW),this.onResize(S.width,S.height),this.currentShader=this.copyShader,this.set2f("uResolution",S.width,S.height),this.set1i("uRoundPixels",S.config.roundPixels)},onResize:function(T,S){var P=this.quadVertexViewF32;P[1]=S,P[22]=S,P[14]=T,P[28]=T,P[35]=T,P[36]=S},batchQuad:function(T,S,P,E,R,A,w,O,L,F,I,B,G,N,U,Y,X,b,z){var D=Math.min(S,E,A,O),V=Math.min(P,R,w,L),k=Math.max(S,E,A,O),W=Math.max(P,R,w,L),H=k-D,$=W-V,K=this.spriteBounds.setTo(D,V,H,$),Z=T?T.preFX.padding:0,j=H+Z*2,J=$+Z*2,Q=Math.abs(Math.max(j,J)),q=this.manager.getRenderTarget(Q),_=this.targetBounds.setTo(0,0,q.width,q.height);d(_,K.centerX,K.centerY),this.tempSprite=T;var tt=this.gl,st=this.renderer;st.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",st.width,st.height),this.set1i("uRoundPixels",st.config.roundPixels),this.flipProjectionMatrix(!0),T&&(this.onDrawSprite(T,q),T.preFX.onFX(this));var it=this.fsTarget;return this.flush(),tt.viewport(0,0,st.width,st.height),tt.bindFramebuffer(tt.FRAMEBUFFER,it.framebuffer),tt.framebufferTexture2D(tt.FRAMEBUFFER,tt.COLOR_ATTACHMENT0,tt.TEXTURE_2D,it.texture,0),tt.clearColor(0,0,0,0),tt.clear(tt.COLOR_BUFFER_BIT),this.setTexture2D(z),this.batchVert(S,P,F,I,0,b,N),this.batchVert(E,R,F,G,0,b,Y),this.batchVert(A,w,B,G,0,b,X),this.batchVert(S,P,F,I,0,b,N),this.batchVert(A,w,B,G,0,b,X),this.batchVert(O,L,B,I,0,b,U),this.flush(),this.flipProjectionMatrix(!1),tt.activeTexture(tt.TEXTURE0),tt.bindTexture(tt.TEXTURE_2D,q.texture),tt.copyTexSubImage2D(tt.TEXTURE_2D,0,0,0,_.x,_.y,_.width,_.height),tt.bindFramebuffer(tt.FRAMEBUFFER,null),tt.bindTexture(tt.TEXTURE_2D,null),this.onBatch(T),this.currentShader=this.copyShader,this.onDraw(q,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(T,S,P,E,R,A,w){P===void 0&&(P=!0),E===void 0&&(E=!0),R===void 0&&(R=!1),w===void 0&&(w=this.copyShader);var O=this.gl,L=this.tempSprite;A&&(w=this.colorMatrixShader),this.currentShader=w;var F=this.setVertexBuffer(this.quadVertexBuffer);w.bind(F,!1);var I=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",I.width,I.height),this.set1i("uRoundPixels",I.config.roundPixels),L.preFX.onFXCopy(this),this.onCopySprite(T,S,L),A&&(this.set1fv("uColorMatrix",A.getData()),this.set1f("uAlpha",A.alpha)),O.activeTexture(O.TEXTURE0),O.bindTexture(O.TEXTURE_2D,T.texture),T.height>S.height)O.viewport(0,0,T.width,T.height),this.setTargetUVs(T,S);else{var B=S.height-T.height;O.viewport(0,B,T.width,T.height),this.resetUVs()}if(O.bindFramebuffer(O.FRAMEBUFFER,S.framebuffer),O.framebufferTexture2D(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.TEXTURE_2D,S.texture,0),P&&(O.clearColor(0,0,0,+!E),O.clear(O.COLOR_BUFFER_BIT)),R){var G=this.renderer.currentBlendMode;this.renderer.setBlendMode(f.ERASE)}O.bufferData(O.ARRAY_BUFFER,this.quadVertexData,O.STATIC_DRAW),O.drawArrays(O.TRIANGLES,0,6),R&&this.renderer.setBlendMode(G),O.bindFramebuffer(O.FRAMEBUFFER,null)},copy:function(T,S){var P=this.gl;this.set1i("uMainSampler",0),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,T.texture),P.viewport(0,0,T.width,T.height),this.setUVs(0,0,0,1,1,1,1,0),P.bindFramebuffer(P.FRAMEBUFFER,S.framebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,S.texture,0),P.clearColor(0,0,0,0),P.clear(P.COLOR_BUFFER_BIT),P.bufferData(P.ARRAY_BUFFER,this.quadVertexData,P.STATIC_DRAW),P.drawArrays(P.TRIANGLES,0,6),P.bindFramebuffer(P.FRAMEBUFFER,null)},blendFrames:function(T,S,P,E,R){this.manager.blendFrames(T,S,P,E,R)},blendFramesAdditive:function(T,S,P,E,R){this.manager.blendFramesAdditive(T,S,P,E,R)},drawToGame:function(T){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(T)},copyToGame:function(T){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(T)},bindAndDraw:function(T){var S=this.gl,P=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(T.texture);var E=this._tempMatrix1.loadIdentity(),R=this.targetBounds.x,A=this.targetBounds.y,w=R+T.width,O=A+T.height,L=E.getX(R,A),F=E.getX(R,O),I=E.getX(w,O),B=E.getX(w,A),G=E.getY(R,A),N=E.getY(R,O),U=E.getY(w,O),Y=E.getY(w,A),X=16777215;this.batchVert(L,G,0,0,0,0,X),this.batchVert(F,N,0,1,0,0,X),this.batchVert(I,U,1,1,0,0,X),this.batchVert(L,G,0,0,0,0,X),this.batchVert(I,U,1,1,0,0,X),this.batchVert(B,Y,1,0,0,0,X),P.restoreFramebuffer(!1,!0),P.currentFramebuffer||S.viewport(0,0,P.width,P.height),P.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(T){this.drawToGame(T)},setUVs:function(T,S,P,E,R,A,w,O){var L=this.quadVertexViewF32;L[2]=T,L[3]=S,L[9]=P,L[10]=E,L[16]=R,L[17]=A,L[23]=T,L[24]=S,L[30]=R,L[31]=A,L[37]=w,L[38]=O},setTargetUVs:function(T,S){var P=S.height/T.height;P>.5?P=.5-(P-.5):P=.5+(.5-P),this.setUVs(0,P,0,1+P,1,1+P,1,P)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.gl.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,o.prototype.destroy.call(this),this}});h.exports=m},21213:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(72632),s=e(77310),a=new f({Extends:s,initialize:function(o){o.topology=5,o.batchSize=d(o,"batchSize",256),s.call(this,o)}});h.exports=a},51212:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(72632),s=e(77310),a=e(85060),r=e(18166),o=e(44775),u=new f({Extends:s,initialize:function(l){l.fragShader=d(l,"fragShader",a),l.vertShader=d(l,"vertShader",r),l.forceZero=!0,s.call(this,l)},boot:function(){o.prototype.boot.call(this);var v=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",v.width,v.height),this.set1i("uRoundPixels",v.config.roundPixels)}});h.exports=u},60848:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(2529),d=e(95723),s=e(56694),a=e(65246),r=e(37486),o=e(79060),u=e(72632),v=e(98921),l=e(99365),c=e(44775),p=new s({Extends:c,initialize:function(m){m.renderTarget=u(m,"renderTarget",[{scale:1},{scale:1},{scale:.5},{scale:.5}]),m.vertShader=u(m,"vertShader",l),m.shaders=u(m,"shaders",[{name:"Copy",fragShader:o},{name:"AddBlend",fragShader:f},{name:"LinearBlend",fragShader:v},{name:"ColorMatrix",fragShader:r}]),m.attributes=u(m,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),m.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],m.batchSize=1,c.call(this,m),this.colorMatrix=new a,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){c.prototype.boot.call(this);var g=this.shaders,m=this.renderTargets;this.copyShader=g[0],this.addShader=g[1],this.linearShader=g[2],this.colorMatrixShader=g[3],this.fullFrame1=m[0],this.fullFrame2=m[1],this.halfFrame1=m[2],this.halfFrame2=m[3]},copyFrame:function(g,m,T,S,P){T===void 0&&(T=1),S===void 0&&(S=!0),P===void 0&&(P=!0);var E=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",T),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,g.texture),m?(E.viewport(0,0,m.width,m.height),E.bindFramebuffer(E.FRAMEBUFFER,m.framebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,m.texture,0)):E.viewport(0,0,g.width,g.height),S&&(P?E.clearColor(0,0,0,0):E.clearColor(0,0,0,1),E.clear(E.COLOR_BUFFER_BIT)),E.bufferData(E.ARRAY_BUFFER,this.vertexData,E.STATIC_DRAW),E.drawArrays(E.TRIANGLES,0,6),E.bindFramebuffer(E.FRAMEBUFFER,null),E.bindTexture(E.TEXTURE_2D,null)},blitFrame:function(g,m,T,S,P,E,R){T===void 0&&(T=1),S===void 0&&(S=!0),P===void 0&&(P=!0),E===void 0&&(E=!1),R===void 0&&(R=!1);var A=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",T),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,g.texture),g.height>m.height)A.viewport(0,0,g.width,g.height),this.setTargetUVs(g,m);else{var w=m.height-g.height;A.viewport(0,w,g.width,g.height)}if(A.bindFramebuffer(A.FRAMEBUFFER,m.framebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,m.texture,0),S&&(P?A.clearColor(0,0,0,0):A.clearColor(0,0,0,1),A.clear(A.COLOR_BUFFER_BIT)),E){var O=this.renderer.currentBlendMode;this.renderer.setBlendMode(d.ERASE)}R&&this.flipY(),A.bufferData(A.ARRAY_BUFFER,this.vertexData,A.STATIC_DRAW),A.drawArrays(A.TRIANGLES,0,6),E&&this.renderer.setBlendMode(O),A.bindFramebuffer(A.FRAMEBUFFER,null),A.bindTexture(A.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(g,m,T,S,P,E,R,A){R===void 0&&(R=!0),A===void 0&&(A=!0);var w=this.gl;w.bindFramebuffer(w.FRAMEBUFFER,g.framebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,g.texture,0),R&&(A?w.clearColor(0,0,0,0):w.clearColor(0,0,0,1),w.clear(w.COLOR_BUFFER_BIT)),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,m.texture),w.copyTexSubImage2D(w.TEXTURE_2D,0,0,0,T,S,P,E),w.bindFramebuffer(w.FRAMEBUFFER,null),w.bindTexture(w.TEXTURE_2D,null)},copyToGame:function(g){var m=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),m.activeTexture(m.TEXTURE0),m.bindTexture(m.TEXTURE_2D,g.texture),m.bufferData(m.ARRAY_BUFFER,this.vertexData,m.STATIC_DRAW),m.drawArrays(m.TRIANGLES,0,6)},drawFrame:function(g,m,T,S){T===void 0&&(T=!0),S===void 0&&(S=this.colorMatrix);var P=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",S.getData()),this.set1f("uAlpha",S.alpha),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,g.texture),m?(P.viewport(0,0,m.width,m.height),P.bindFramebuffer(P.FRAMEBUFFER,m.framebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,m.texture,0)):P.viewport(0,0,g.width,g.height),T?P.clearColor(0,0,0,0):P.clearColor(0,0,0,1),P.clear(P.COLOR_BUFFER_BIT),P.bufferData(P.ARRAY_BUFFER,this.vertexData,P.STATIC_DRAW),P.drawArrays(P.TRIANGLES,0,6),P.bindFramebuffer(P.FRAMEBUFFER,null),P.bindTexture(P.TEXTURE_2D,null)},blendFrames:function(g,m,T,S,P,E){S===void 0&&(S=1),P===void 0&&(P=!0),E===void 0&&(E=this.linearShader);var R=this.gl;this.setShader(E),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",S),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,g.texture),R.activeTexture(R.TEXTURE1),R.bindTexture(R.TEXTURE_2D,m.texture),T?(R.bindFramebuffer(R.FRAMEBUFFER,T.framebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,T.texture,0),R.viewport(0,0,T.width,T.height)):R.viewport(0,0,g.width,g.height),P?R.clearColor(0,0,0,0):R.clearColor(0,0,0,1),R.clear(R.COLOR_BUFFER_BIT),R.bufferData(R.ARRAY_BUFFER,this.vertexData,R.STATIC_DRAW),R.drawArrays(R.TRIANGLES,0,6),R.bindFramebuffer(R.FRAMEBUFFER,null),R.bindTexture(R.TEXTURE_2D,null)},blendFramesAdditive:function(g,m,T,S,P){this.blendFrames(g,m,T,S,P,this.addShader)},clearFrame:function(g,m){m===void 0&&(m=!0);var T=this.gl;T.viewport(0,0,g.width,g.height),T.bindFramebuffer(T.FRAMEBUFFER,g.framebuffer),m?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT);var S=this.renderer.currentFramebuffer;T.bindFramebuffer(T.FRAMEBUFFER,S)},setUVs:function(g,m,T,S,P,E,R,A){var w=this.vertexViewF32;w[2]=g,w[3]=m,w[6]=T,w[7]=S,w[10]=P,w[11]=E,w[14]=g,w[15]=m,w[18]=P,w[19]=E,w[22]=R,w[23]=A},setTargetUVs:function(g,m){var T=m.height/g.height;T>.5?T=.5-(T-.5):T=.5+(.5-T),this.setUVs(0,T,0,1+T,1,1+T,1,T)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});h.exports=p},65641:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};h.exports=y},68726:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pipelineafterflush"},67186:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pipelinebeforeflush"},22709:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pipelinebind"},74469:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pipelineboot"},93953:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pipelinedestroy"},51687:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pipelinerebind"},25034:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pipelineresize"},18970:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={AFTER_FLUSH:e(68726),BEFORE_FLUSH:e(67186),BIND:e(22709),BOOT:e(74469),DESTROY:e(93953),REBIND:e(51687),RESIZE:e(25034)}},32469:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(87751),s=e(80486),a=new f({Extends:s,initialize:function(o){s.call(this,{game:o,fragShader:d}),this.amount=1},onPreRender:function(r,o){r=this.getController(r),this.set1f("amount",r.amount,o)}});h.exports=a},2134:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(88222),s=e(80486),a=new f({Extends:s,initialize:function(o){s.call(this,{game:o,fragShader:d}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(r){r=this.getController(r),this.set1f("strength",r.blurStrength),this.set3fv("color",r.glcolor)},onDraw:function(r){var o=this.getController(),u=this.fullFrame1,v=this.fullFrame2;this.copyFrame(r,v);for(var l=2/r.width*o.offsetX,c=2/r.height*o.offsetY,p=0;p<o.steps;p++)this.set2f("offset",l,0),this.copySprite(r,u),this.set2f("offset",0,c),this.copySprite(u,r);this.blendFrames(v,r,u,o.strength),this.copyToGame(u)}});h.exports=a},63377:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(35491),s=e(75568),a=e(44481),r=e(80486),o=new f({Extends:r,initialize:function(v){r.call(this,{game:v,shaders:[{name:"Gaussian5",fragShader:d},{name:"Gaussian9",fragShader:s},{name:"Gaussian13",fragShader:a}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(u){var v=this.getController(),l=this.gl,c=this.fullFrame1,p=l.getParameter(l.FRAMEBUFFER_BINDING);this.bind(this.shaders[v.quality]),l.activeTexture(l.TEXTURE0),l.viewport(0,0,u.width,u.height),this.set1i("uMainSampler",0),this.set2f("resolution",u.width,u.height),this.set1f("strength",v.strength),this.set3fv("color",v.glcolor);for(var g=0;g<v.steps;g++)this.set2f("offset",v.x,0),this.copySprite(u,c),this.set2f("offset",0,v.y),this.copySprite(c,u);l.bindFramebuffer(l.FRAMEBUFFER,p),l.bindTexture(l.TEXTURE_2D,null),this.copyToGame(u)}});h.exports=o},49745:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(69960),s=e(80486),a=new f({Extends:s,initialize:function(o){s.call(this,{game:o,fragShader:d}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(r,o,u,v){r=this.getController(r),this.set1f("radius",r.radius,o),this.set1f("amount",r.amount,o),this.set1f("contrast",r.contrast,o),this.set1f("strength",r.strength,o),this.set2f("blur",r.blurX,r.blurY,o),this.setBoolean("isTiltShift",r.isTiltShift,o),u&&v&&this.set2f("resolution",u,v,o)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});h.exports=a},4323:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(33754),s=e(80486),a=new f({Extends:s,initialize:function(o){s.call(this,{game:o,fragShader:d}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(r,o,u,v){r=this.getController(r),this.set1f("scale",r.scale,o),this.set1f("feather",r.feather,o),this.set1f("thickness",r.thickness,o),this.set3fv("color",r.glcolor,o),this.set4fv("backgroundColor",r.glcolor2,o),u&&v&&this.set2f("resolution",u,v,o)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});h.exports=a},92066:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(80486),s=new f({Extends:d,initialize:function(r){d.call(this,{game:r})},onDraw:function(a){var r=this.fullFrame1;this.controller?this.manager.drawFrame(a,r,!0,this.controller):this.drawFrame(a,r),this.copyToGame(r)}});h.exports=s},89581:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(35668),s=e(80486),a=new f({Extends:s,initialize:function(o){s.call(this,{game:o,fragShader:d}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(r){var o=this.game.textures.getFrame(r);o&&(this.glTexture=o.glTexture)},onDraw:function(r){var o=this.getController(),u=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",o.x,o.y),this.bindTexture(o.glTexture,1),this.copySprite(r,u),this.copyToGame(u)}});h.exports=a},55084:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(72632),s=e(69675),a=e(80486),r=e(75512),o=new f({Extends:a,initialize:function(v,l){var c=d(l,"quality",.1),p=d(l,"distance",10);a.call(this,{game:v,fragShader:r.setGlowQuality(s,v,c,p)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(u,v,l,c){u=this.getController(u),this.set1f("outerStrength",u.outerStrength,v),this.set1f("innerStrength",u.innerStrength,v),this.set4fv("glowColor",u.glcolor,v),this.setBoolean("knockout",u.knockout,v),l&&c&&this.set2f("resolution",l,c,v)},onDraw:function(u){this.set2f("resolution",u.width,u.height),this.bindAndDraw(u)}});h.exports=o},41653:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(90993),s=e(80486),a=new f({Extends:s,initialize:function(o){s.call(this,{game:o,fragShader:d}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(r,o){r=this.getController(r),this.set1f("alpha",r.alpha,o),this.set1i("size",r.size,o),this.set3fv("color1",r.glcolor1,o),this.set3fv("color2",r.glcolor2,o),this.set2f("positionFrom",r.fromX,r.fromY,o),this.set2f("positionTo",r.toX,r.toY,o)}});h.exports=a},73416:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(37945),s=e(80486),a=new f({Extends:s,initialize:function(o){s.call(this,{game:o,fragShader:d}),this.amount=1},onPreRender:function(r,o,u,v){r=this.getController(r),this.set1f("amount",r.amount,o),u&&v&&this.set2f("resolution",u,v,o)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});h.exports=a},58049:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(85718),s=e(80486),a=new f({Extends:s,initialize:function(o){s.call(this,{game:o,fragShader:d}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(r,o){r=this.getController(r);var u=r.samples;this.set1i("samples",u,o),this.set1f("intensity",r.intensity,o),this.set1f("decay",r.decay,o),this.set1f("power",r.power/u,o),this.set2f("lightPosition",r.x,r.y,o),this.set4fv("color",r.glcolor,o)}});h.exports=a},18026:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(13740),s=e(80486),a=new f({Extends:s,initialize:function(o){s.call(this,{game:o,fragShader:d}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(r,o,u,v){r=this.getController(r),this.setTime("time",o),this.set1f("speed",r.speed,o),this.set1f("lineWidth",r.lineWidth,o),this.set1f("gradient",r.gradient,o),this.setBoolean("reveal",r.reveal,o),u&&v&&this.set2f("resolution",u,v,o)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});h.exports=a},72381:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(80617),s=e(80486),a=new f({Extends:s,initialize:function(o){s.call(this,{game:o,fragShader:d}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(r,o){r=this.getController(r),this.set1f("radius",r.radius,o),this.set1f("strength",r.strength,o),this.set2f("position",r.x,r.y,o)}});h.exports=a},80542:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(62879),s=e(80486),a=new f({Extends:s,initialize:function(o){s.call(this,{game:o,fragShader:d}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(r,o){r=this.getController(r);var u=r.progress,v=r.wipeWidth,l=r.direction,c=r.axis;this.set4f("config",u,v,l,c,o),this.setBoolean("reveal",r.reveal,o)}});h.exports=a},58136:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={Barrel:e(32469),Bloom:e(2134),Blur:e(63377),Bokeh:e(49745),Circle:e(4323),ColorMatrix:e(92066),Displacement:e(89581),Glow:e(55084),Gradient:e(41653),Pixelate:e(73416),Shadow:e(58049),Shine:e(18026),Vignette:e(72381),Wipe:e(80542)};h.exports=f},62253:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(65641),d=e(98611),s={FX:e(58136),BitmapMaskPipeline:e(5583),Events:e(18970),FXPipeline:e(81828),LightPipeline:e(66901),MobilePipeline:e(71264),MultiPipeline:e(77310),PointLightPipeline:e(10919),PostFXPipeline:e(80486),PreFXPipeline:e(87228),RopePipeline:e(21213),SinglePipeline:e(51212),UtilityPipeline:e(60848)};s=d(!1,s,f),h.exports=s},2529:h=>{h.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},91679:h=>{h.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},89053:h=>{h.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},37486:h=>{h.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},79060:h=>{h.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},87751:h=>{h.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},88222:h=>{h.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},44481:h=>{h.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},35491:h=>{h.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},75568:h=>{h.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},69960:h=>{h.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},33754:h=>{h.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},35668:h=>{h.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},69675:h=>{h.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},90993:h=>{h.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},37945:h=>{h.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},85718:h=>{h.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},13740:h=>{h.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},80617:h=>{h.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},62879:h=>{h.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},65045:h=>{h.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},98921:h=>{h.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},25005:h=>{h.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},94914:h=>{h.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},11263:h=>{h.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},51852:h=>{h.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},53787:h=>{h.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},15968:h=>{h.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},83327:h=>{h.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},54677:h=>{h.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},12569:h=>{h.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},99365:h=>{h.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},85060:h=>{h.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},18166:h=>{h.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},92462:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={AddBlendFrag:e(2529),BitmapMaskFrag:e(91679),BitmapMaskVert:e(89053),ColorMatrixFrag:e(37486),CopyFrag:e(79060),FXBarrelFrag:e(87751),FXBloomFrag:e(88222),FXBlurHighFrag:e(44481),FXBlurLowFrag:e(35491),FXBlurMedFrag:e(75568),FXBokehFrag:e(69960),FXCircleFrag:e(33754),FXDisplacementFrag:e(35668),FXGlowFrag:e(69675),FXGradientFrag:e(90993),FXPixelateFrag:e(37945),FXShadowFrag:e(85718),FXShineFrag:e(13740),FXVignetteFrag:e(80617),FXWipeFrag:e(62879),LightFrag:e(65045),LinearBlendFrag:e(98921),MeshFrag:e(25005),MeshVert:e(94914),MobileFrag:e(11263),MobileVert:e(51852),MultiFrag:e(53787),MultiVert:e(15968),PointLightFrag:e(83327),PointLightVert:e(54677),PostFXFrag:e(12569),QuadVert:e(99365),SingleFrag:e(85060),SingleVert:e(18166)}},756:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(55301),d=e(56694),s=e(6659),a=e(40444),r=e(97081),o=e(74181),u=e(2893),v=e(9229),l=e(72283),c=e(74118),p=e(90881),g=e(84314),m=e(93736),T=e(47751),S=new d({Extends:s,initialize:function(E){s.call(this),this.game=E,this.canvas,this.canvasBounds=new c,this.parent=null,this.parentIsWindow=!1,this.parentSize=new p,this.gameSize=new p,this.baseSize=new p,this.displaySize=new p,this.scaleMode=f.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new m(1,1),this.autoRound=!1,this.autoCenter=f.CENTER.NO_CENTER,this.orientation=f.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:l,windowResize:l,fullScreenChange:l,fullScreenError:l}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(r.BOOT,this.boot,this)},boot:function(){var P=this.game;this.canvas=P.canvas,this.fullscreen=P.device.fullscreen,this.scaleMode!==f.SCALE_MODE.RESIZE&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===f.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),P.events.on(r.PRE_STEP,this.step,this),P.events.once(r.READY,this.refresh,this),P.events.once(r.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(P){this.getParent(P),this.getParentBounds();var E=P.width,R=P.height,A=P.scaleMode,w=P.zoom,O=P.autoRound;if(typeof E=="string")if(E.substr(-1)!=="%")E=parseInt(E,10);else{var L=this.parentSize.width;L===0&&(L=window.innerWidth);var F=parseInt(E,10)/100;E=Math.floor(L*F)}if(typeof R=="string")if(R.substr(-1)!=="%")R=parseInt(R,10);else{var I=this.parentSize.height;I===0&&(I=window.innerHeight);var B=parseInt(R,10)/100;R=Math.floor(I*B)}this.scaleMode=A,this.autoRound=O,this.autoCenter=P.autoCenter,this.resizeInterval=P.resizeInterval,O&&(E=Math.floor(E),R=Math.floor(R)),this.gameSize.setSize(E,R),w===f.ZOOM.MAX_ZOOM&&(w=this.getMaxZoom()),this.zoom=w,w!==1&&(this._resetZoom=!0),this.baseSize.setSize(E,R),O&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),P.minWidth>0&&this.displaySize.setMin(P.minWidth*w,P.minHeight*w),P.maxWidth>0&&this.displaySize.setMax(P.maxWidth*w,P.maxHeight*w),this.displaySize.setSize(E,R),this.orientation=v(E,R)},getParent:function(P){var E=P.parent;if(E!==null){if(this.parent=u(E),this.parentIsWindow=this.parent===document.body,P.expandParent&&P.scaleMode!==f.SCALE_MODE.NONE){var R=this.parent.getBoundingClientRect();(this.parentIsWindow||R.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",R=this.parent.getBoundingClientRect(),!this.parentIsWindow&&R.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}P.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=u(P.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var P=this.parentSize,E=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(E.height=o(!0));var R=E.width,A=E.height;if(P.width!==R||P.height!==A)return P.setSize(R,A),!0;if(this.canvas){var w=this.canvasBounds,O=this.canvas.getBoundingClientRect();if(O.x!==w.x||O.y!==w.y)return!0}return!1},lockOrientation:function(P){var E=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return E?E.call(screen,P):!1},setParentSize:function(P,E){return this.parentSize.setSize(P,E),this.refresh()},setGameSize:function(P,E){var R=this.autoRound;R&&(P=Math.floor(P),E=Math.floor(E));var A=this.width,w=this.height;return this.gameSize.resize(P,E),this.baseSize.resize(P,E),R&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(P/E),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(A,w)},resize:function(P,E){var R=this.zoom,A=this.autoRound;A&&(P=Math.floor(P),E=Math.floor(E));var w=this.width,O=this.height;this.gameSize.resize(P,E),this.baseSize.resize(P,E),A&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(P*R,E*R),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var L=this.canvas.style,F=P*R,I=E*R;return A&&(F=Math.floor(F),I=Math.floor(I)),(F!==P||I!==E)&&(L.width=F+"px",L.height=I+"px"),this.refresh(w,O)},setZoom:function(P){return this.zoom=P,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},refresh:function(P,E){P===void 0&&(P=this.width),E===void 0&&(E=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var R=this.game.domContainer;if(R){this.baseSize.setCSS(R);var A=this.canvas.style,w=R.style;w.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",w.marginLeft=A.marginLeft,w.marginTop=A.marginTop}return this.emit(a.RESIZE,this.gameSize,this.baseSize,this.displaySize,P,E),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var P=v(this.width,this.height);P!==this.orientation&&(this.orientation=P,this.emit(a.ORIENTATION_CHANGE,P))}},updateScale:function(){var P=this.canvas.style,E=this.gameSize.width,R=this.gameSize.height,A,w,O=this.zoom,L=this.autoRound;this.scaleMode===f.SCALE_MODE.NONE?(this.displaySize.setSize(E*O,R*O),A=this.displaySize.width,w=this.displaySize.height,L&&(A=Math.floor(A),w=Math.floor(w)),this._resetZoom&&(P.width=A+"px",P.height=w+"px",this._resetZoom=!1)):this.scaleMode===f.SCALE_MODE.RESIZE?(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),A=this.displaySize.width,w=this.displaySize.height,L&&(A=Math.floor(A),w=Math.floor(w)),this.canvas.width=A,this.canvas.height=w):(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),A=this.displaySize.width,w=this.displaySize.height,L&&(A=Math.floor(A),w=Math.floor(w)),P.width=A+"px",P.height=w+"px"),this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var P=g(this.parentSize.width,this.gameSize.width,0,!0),E=g(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(P,E),1)},updateCenter:function(){var P=this.autoCenter;if(P!==f.CENTER.NO_CENTER){var E=this.canvas,R=E.style,A=E.getBoundingClientRect(),w=A.width,O=A.height,L=Math.floor((this.parentSize.width-w)/2),F=Math.floor((this.parentSize.height-O)/2);P===f.CENTER.CENTER_HORIZONTALLY?F=0:P===f.CENTER.CENTER_VERTICALLY&&(L=0),R.marginLeft=L+"px",R.marginTop=F+"px"}},updateBounds:function(){var P=this.canvasBounds,E=this.canvas.getBoundingClientRect();P.x=E.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),P.y=E.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),P.width=E.width,P.height=E.height},transformX:function(P){return(P-this.canvasBounds.left)*this.displayScale.x},transformY:function(P){return(P-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(P){P===void 0&&(P={navigationUI:"hide"});var E=this.fullscreen;if(!E.available){this.emit(a.FULLSCREEN_UNSUPPORTED);return}if(!E.active){var R=this.getFullscreenTarget();E.keyboard?R[E.request](Element.ALLOW_KEYBOARD_INPUT):R[E.request](P)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(a.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(P){this.removeFullscreenTarget(),this.emit(a.FULLSCREEN_FAILED,P)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var P=document.createElement("div");P.style.margin="0",P.style.padding="0",P.style.width="100%",P.style.height="100%",this.fullscreenTarget=P,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var E=this.canvas.parentNode;E.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var P=this.fullscreenTarget;if(P&&P.parentNode){var E=P.parentNode;E.insertBefore(this.canvas,P),E.removeChild(P)}}},stopFullscreen:function(){var P=this.fullscreen;if(!P.available)return this.emit(a.FULLSCREEN_UNSUPPORTED),!1;P.active&&document[P.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(a.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(P){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(P)},startListeners:function(){var P=this,E=this.domlisteners;if(E.orientationChange=function(){P.updateBounds(),P._checkOrientation=!0,P.dirty=!0},E.windowResize=function(){P.updateBounds(),P.dirty=!0},window.addEventListener("orientationchange",E.orientationChange,!1),window.addEventListener("resize",E.windowResize,!1),this.fullscreen.available){E.fullScreenChange=function(A){return P.onFullScreenChange(A)},E.fullScreenError=function(A){return P.onFullScreenError(A)};var R=["webkit","moz",""];R.forEach(function(A){document.addEventListener(A+"fullscreenchange",E.fullScreenChange,!1),document.addEventListener(A+"fullscreenerror",E.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",E.fullScreenChange,!1),document.addEventListener("MSFullscreenError",E.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(P,E){P instanceof T||(E=P,P=void 0),E===void 0&&(E=new c);var R=this.baseSize,A=this.parentSize,w=this.canvasBounds,O=this.displayScale,L=w.x>=0?0:-(w.x*O.x),F=w.y>=0?0:-(w.y*O.y),I;A.width>=w.width?I=R.width:I=R.width-(w.width-A.width)*O.x;var B;return A.height>=w.height?B=R.height:B=R.height-(w.height-A.height)*O.y,E.setTo(L,F,I,B),P&&(E.width/=P.zoomX,E.height/=P.zoomY,E.centerX=P.centerX+P.scrollX,E.centerY=P.centerY+P.scrollY),E},step:function(P,E){this.parent&&(this._lastCheck+=E,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var P=this.domlisteners;window.removeEventListener("orientationchange",P.orientationChange,!1),window.removeEventListener("resize",P.windowResize,!1);var E=["webkit","moz",""];E.forEach(function(R){document.removeEventListener(R+"fullscreenchange",P.fullScreenChange,!1),document.removeEventListener(R+"fullscreenerror",P.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",P.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",P.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===f.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===f.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});h.exports=S},35098:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},53539:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},12637:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5}},10217:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},55301:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={CENTER:e(35098),ORIENTATION:e(53539),SCALE_MODE:e(12637),ZOOM:e(10217)};h.exports=f},82085:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="enterfullscreen"},11826:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="fullscreenfailed"},56691:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="fullscreenunsupported"},34739:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="leavefullscreen"},26681:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="orientationchange"},11428:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="resize"},40444:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={ENTER_FULLSCREEN:e(82085),FULLSCREEN_FAILED:e(11826),FULLSCREEN_UNSUPPORTED:e(56691),LEAVE_FULLSCREEN:e(34739),ORIENTATION_CHANGE:e(26681),RESIZE:e(11428)}},86754:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(98611),d=e(55301),s={Center:e(35098),Events:e(40444),Orientation:e(53539),ScaleManager:e(756),ScaleModes:e(12637),Zoom:e(10217)};s=f(!1,s,d.CENTER),s=f(!1,s,d.ORIENTATION),s=f(!1,s,d.SCALE_MODE),s=f(!1,s,d.ZOOM),h.exports=s},47736:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72632),d=e(40587),s=function(a){var r=a.game.config.defaultPhysicsSystem,o=f(a.settings,"physics",!1);if(!(!r&&!o)){var u=[];if(r&&u.push(d(r+"Physics")),o)for(var v in o)v=d(v.concat("Physics")),u.indexOf(v)===-1&&u.push(v);return u}};h.exports=s},91088:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72632),d=function(s){var a=s.plugins.getDefaultScenePlugins(),r=f(s.settings,"plugins",!1);return Array.isArray(r)?r:a||[]};h.exports=d},90415:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};h.exports=y},87157:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(63946),s=new f({initialize:function(r){this.sys=new d(this,r),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});h.exports=s},13553:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(92980),s=e(7599),a=e(97081),r=e(10850),o=e(683),u=e(72283),v=e(87157),l=e(63946),c=new f({initialize:function(g,m){if(this.game=g,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,m){Array.isArray(m)||(m=[m]);for(var T=0;T<m.length;T++)this._pending.push({key:"default",scene:m[T],autoStart:T===0,data:{}})}g.events.once(a.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new v),this.game.events.emit(a.SYSTEM_READY,this.systemScene,this);var p,g,m,T;for(p=0;p<this._pending.length;p++){g=this._pending[p],m=g.key,T=g.scene;var S;T instanceof v?S=this.createSceneFromInstance(m,T):typeof T=="object"?S=this.createSceneFromObject(m,T):typeof T=="function"&&(S=this.createSceneFromFunction(m,T)),m=S.sys.settings.key,this.keys[m]=S,this.scenes.push(S),this._data[m]&&(S.sys.settings.data=this._data[m].data,this._data[m].autoStart&&(g.autoStart=!0)),(g.autoStart||S.sys.settings.active)&&this._start.push(m)}for(this._pending.length=0,this._data={},this.isBooted=!0,p=0;p<this._start.length;p++)g=this._start[p],this.start(g);this._start.length=0}},processQueue:function(){var p=this._pending.length,g=this._queue.length;if(!(p===0&&g===0)){var m,T;if(p){for(m=0;m<p;m++)T=this._pending[m],this.add(T.key,T.scene,T.autoStart,T.data);for(m=0;m<this._start.length;m++)T=this._start[m],this.start(T);this._start.length=0,this._pending.length=0}for(m=0;m<this._queue.length;m++)T=this._queue[m],this[T.op](T.keyA,T.keyB);this._queue.length=0}},add:function(p,g,m,T){if(m===void 0&&(m=!1),T===void 0&&(T={}),this.isProcessing||!this.isBooted)return this._pending.push({key:p,scene:g,autoStart:m,data:T}),this.isBooted||(this._data[p]={data:T}),null;p=this.getKey(p,g);var S;return g instanceof v?S=this.createSceneFromInstance(p,g):typeof g=="object"?(g.key=p,S=this.createSceneFromObject(p,g)):typeof g=="function"&&(S=this.createSceneFromFunction(p,g)),S.sys.settings.data=T,p=S.sys.settings.key,this.keys[p]=S,this.scenes.push(S),(m||S.sys.settings.active)&&(this._pending.length?this._start.push(p):this.start(p)),S},remove:function(p){if(this.isProcessing)this._queue.push({op:"remove",keyA:p,keyB:null});else{var g=this.getScene(p);if(!g||g.sys.isTransitioning())return this;var m=this.scenes.indexOf(g),T=g.sys.settings.key;m>-1&&(delete this.keys[T],this.scenes.splice(m,1),this._start.indexOf(T)>-1&&(m=this._start.indexOf(T),this._start.splice(m,1)),g.sys.destroy())}return this},bootScene:function(p){var g=p.sys,m=g.settings;g.sceneUpdate=u,p.init&&(p.init.call(p,m.data),m.status=d.INIT,m.isTransition&&g.events.emit(s.TRANSITION_INIT,m.transitionFrom,m.transitionDuration));var T;g.load&&(T=g.load,T.reset()),T&&p.preload?(p.preload.call(p),m.status=d.LOADING,T.once(o.COMPLETE,this.loadComplete,this),T.start()):this.create(p)},loadComplete:function(p){this.game.sound&&this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(p.scene)},payloadComplete:function(p){this.bootScene(p.scene)},update:function(p,g){this.processQueue(),this.isProcessing=!0;for(var m=this.scenes.length-1;m>=0;m--){var T=this.scenes[m].sys;T.settings.status>d.START&&T.settings.status<=d.RUNNING&&T.step(p,g),T.scenePlugin._target&&T.scenePlugin.step(p,g)}},render:function(p){for(var g=0;g<this.scenes.length;g++){var m=this.scenes[g].sys;m.settings.visible&&m.settings.status>=d.LOADING&&m.settings.status<d.SLEEPING&&m.render(p)}this.isProcessing=!1},create:function(p){var g=p.sys,m=g.settings;p.create&&(m.status=d.CREATING,p.create.call(p,m.data),m.status===d.DESTROYED)||(m.isTransition&&g.events.emit(s.TRANSITION_START,m.transitionFrom,m.transitionDuration),p.update&&(g.sceneUpdate=p.update),m.status=d.RUNNING,g.events.emit(s.CREATE,p))},createSceneFromFunction:function(p,g){var m=new g;if(m instanceof v){var T=m.sys.settings.key;if(T!==""&&(p=T),this.keys.hasOwnProperty(p))throw new Error("Cannot add a Scene with duplicate key: "+p);return this.createSceneFromInstance(p,m)}else return m.sys=new l(m),m.sys.settings.key=p,m.sys.init(this.game),m},createSceneFromInstance:function(p,g){var m=g.sys.settings.key;return m===""&&(g.sys.settings.key=p),g.sys.init(this.game),g},createSceneFromObject:function(p,g){var m=new v(g),T=m.sys.settings.key;T!==""?p=T:m.sys.settings.key=p,m.sys.init(this.game);for(var S=["init","preload","create","update","render"],P=0;P<S.length;P++){var E=r(g,S[P],null);E&&(m[S[P]]=E)}if(g.hasOwnProperty("extend")){for(var R in g.extend)if(g.extend.hasOwnProperty(R)){var A=g.extend[R];R==="data"&&m.hasOwnProperty("data")&&typeof A=="object"?m.data.merge(A):R!=="sys"&&(m[R]=A)}}return m},getKey:function(p,g){if(p||(p="default"),typeof g=="function")return p;if(g instanceof v?p=g.sys.settings.key:typeof g=="object"&&g.hasOwnProperty("key")&&(p=g.key),this.keys.hasOwnProperty(p))throw new Error("Cannot add a Scene with duplicate key: "+p);return p},getScenes:function(p,g){p===void 0&&(p=!0),g===void 0&&(g=!1);for(var m=[],T=this.scenes,S=0;S<T.length;S++){var P=T[S];P&&(!p||p&&P.sys.isActive())&&m.push(P)}return g?m.reverse():m},getScene:function(p){if(typeof p=="string"){if(this.keys[p])return this.keys[p]}else for(var g=0;g<this.scenes.length;g++)if(p===this.scenes[g])return p;return null},isActive:function(p){var g=this.getScene(p);return g?g.sys.isActive():null},isPaused:function(p){var g=this.getScene(p);return g?g.sys.isPaused():null},isVisible:function(p){var g=this.getScene(p);return g?g.sys.isVisible():null},isSleeping:function(p){var g=this.getScene(p);return g?g.sys.isSleeping():null},pause:function(p,g){var m=this.getScene(p);return m&&m.sys.pause(g),this},resume:function(p,g){var m=this.getScene(p);return m&&m.sys.resume(g),this},sleep:function(p,g){var m=this.getScene(p);return m&&!m.sys.isTransitioning()&&m.sys.sleep(g),this},wake:function(p,g){var m=this.getScene(p);return m&&m.sys.wake(g),this},run:function(p,g){var m=this.getScene(p);if(!m){for(var T=0;T<this._pending.length;T++)if(this._pending[T].key===p){this.queueOp("start",p,g);break}return this}m.sys.isSleeping()?m.sys.wake(g):m.sys.isPaused()?m.sys.resume(g):this.start(p,g)},start:function(p,g){if(!this.isBooted)return this._data[p]={autoStart:!0,data:g},this;var m=this.getScene(p);if(!m)return console.warn("Scene not found for key: "+p),this;var T=m.sys,S=T.settings.status;if(S>=d.START&&S<=d.CREATING)return this;if(S>=d.RUNNING&&S<=d.SLEEPING)T.shutdown(),T.sceneUpdate=u,T.start(g);else{T.sceneUpdate=u,T.start(g);var P;if(T.load&&(P=T.load),P&&T.settings.hasOwnProperty("pack")&&(P.reset(),P.addPack({payload:T.settings.pack})))return T.settings.status=d.LOADING,P.once(o.COMPLETE,this.payloadComplete,this),P.start(),this}return this.bootScene(m),this},stop:function(p,g){var m=this.getScene(p);if(m&&!m.sys.isTransitioning()&&m.sys.settings.status!==d.SHUTDOWN){var T=m.sys.load;T&&(T.off(o.COMPLETE,this.loadComplete,this),T.off(o.COMPLETE,this.payloadComplete,this)),m.sys.shutdown(g)}return this},switch:function(p,g){var m=this.getScene(p),T=this.getScene(g);return m&&T&&m!==T&&(this.sleep(p),this.isSleeping(g)?this.wake(g):this.start(g)),this},getAt:function(p){return this.scenes[p]},getIndex:function(p){var g=this.getScene(p);return this.scenes.indexOf(g)},bringToTop:function(p){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:p,keyB:null});else{var g=this.getIndex(p);if(g!==-1&&g<this.scenes.length){var m=this.getScene(p);this.scenes.splice(g,1),this.scenes.push(m)}}return this},sendToBack:function(p){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:p,keyB:null});else{var g=this.getIndex(p);if(g!==-1&&g>0){var m=this.getScene(p);this.scenes.splice(g,1),this.scenes.unshift(m)}}return this},moveDown:function(p){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:p,keyB:null});else{var g=this.getIndex(p);if(g>0){var m=g-1,T=this.getScene(p),S=this.getAt(m);this.scenes[g]=S,this.scenes[m]=T}}return this},moveUp:function(p){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:p,keyB:null});else{var g=this.getIndex(p);if(g<this.scenes.length-1){var m=g+1,T=this.getScene(p),S=this.getAt(m);this.scenes[g]=S,this.scenes[m]=T}}return this},moveAbove:function(p,g){if(p===g)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:p,keyB:g});else{var m=this.getIndex(p),T=this.getIndex(g);if(m!==-1&&T!==-1&&T<m){var S=this.getAt(T);this.scenes.splice(T,1),this.scenes.splice(m+(T>m),0,S)}}return this},moveBelow:function(p,g){if(p===g)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:p,keyB:g});else{var m=this.getIndex(p),T=this.getIndex(g);if(m!==-1&&T!==-1&&T>m){var S=this.getAt(T);this.scenes.splice(T,1),m===0?this.scenes.unshift(S):this.scenes.splice(m-(T<m),0,S)}}return this},queueOp:function(p,g,m){return this._queue.push({op:p,keyA:g,keyB:m}),this},swapPosition:function(p,g){if(p===g)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:p,keyB:g});else{var m=this.getIndex(p),T=this.getIndex(g);if(m!==T&&m!==-1&&T!==-1){var S=this.getAt(m);this.scenes[m]=this.scenes[T],this.scenes[T]=S}}return this},dump:function(){for(var p=[],g=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],m=0;m<this.scenes.length;m++){var T=this.scenes[m].sys,S=T.settings.visible&&(T.settings.status===d.RUNNING||T.settings.status===d.PAUSED)?"[*] ":"[-] ";S+=T.settings.key+" ("+g[T.settings.status]+")",p.push(S)}console.log(p.join(`
`))},destroy:function(){for(var p=0;p<this.scenes.length;p++){var g=this.scenes[p].sys;g.destroy()}this.systemScene.sys.destroy(),this.update=u,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});h.exports=c},64051:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(82897),d=e(56694),s=e(7599),a=e(72632),r=e(91963),o=new d({initialize:function(v){this.scene=v,this.systems=v.sys,this.settings=v.sys.settings,this.key=v.sys.settings.key,this.manager=v.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,v.sys.events.once(s.BOOT,this.boot,this),v.sys.events.on(s.START,this.pluginStart,this)},boot:function(){this.systems.events.once(s.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(s.SHUTDOWN,this.shutdown,this)},start:function(u,v){return u===void 0&&(u=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",u,v),this},restart:function(u){var v=this.key;return this.manager.queueOp("stop",v),this.manager.queueOp("start",v,u),this},transition:function(u){u===void 0&&(u={});var v=a(u,"target",!1),l=this.manager.getScene(v);if(!v||!this.checkValidTransition(l))return!1;var c=a(u,"duration",1e3);this._elapsed=0,this._target=l,this._duration=c,this._willSleep=a(u,"sleep",!1),this._willRemove=a(u,"remove",!1);var p=a(u,"onUpdate",null);p&&(this._onUpdate=p,this._onUpdateScope=a(u,"onUpdateScope",this.scene));var g=a(u,"allowInput",!1);this.settings.transitionAllowInput=g;var m=l.sys.settings;m.isTransition=!0,m.transitionFrom=this.scene,m.transitionDuration=c,m.transitionAllowInput=g,a(u,"moveAbove",!1)?this.manager.moveAbove(this.key,v):a(u,"moveBelow",!1)&&this.manager.moveBelow(this.key,v),l.sys.isSleeping()?l.sys.wake(a(u,"data")):this.manager.start(v,a(u,"data"));var T=a(u,"onStart",null),S=a(u,"onStartScope",this.scene);return T&&T.call(S,this.scene,l,c),this.systems.events.emit(s.TRANSITION_OUT,l,c),!0},checkValidTransition:function(u){return!(!u||u.sys.isActive()||u.sys.isTransitioning()||u===this.scene||this.systems.isTransitioning())},step:function(u,v){this._elapsed+=v,this.transitionProgress=f(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var u=this._target.sys,v=this._target.sys.settings;u.events.emit(s.TRANSITION_COMPLETE,this.scene),v.isTransition=!1,v.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(u,v,l,c){return this.manager.add(u,v,l,c)},launch:function(u,v){return u&&u!==this.key&&this.manager.queueOp("start",u,v),this},run:function(u,v){return u&&u!==this.key&&this.manager.queueOp("run",u,v),this},pause:function(u,v){return u===void 0&&(u=this.key),this.manager.queueOp("pause",u,v),this},resume:function(u,v){return u===void 0&&(u=this.key),this.manager.queueOp("resume",u,v),this},sleep:function(u,v){return u===void 0&&(u=this.key),this.manager.queueOp("sleep",u,v),this},wake:function(u,v){return u===void 0&&(u=this.key),this.manager.queueOp("wake",u,v),this},switch:function(u){return u!==this.key&&this.manager.queueOp("switch",this.key,u),this},stop:function(u,v){return u===void 0&&(u=this.key),this.manager.queueOp("stop",u,v),this},setActive:function(u,v,l){v===void 0&&(v=this.key);var c=this.manager.getScene(v);return c&&c.sys.setActive(u,l),this},setVisible:function(u,v){v===void 0&&(v=this.key);var l=this.manager.getScene(v);return l&&l.sys.setVisible(u),this},isSleeping:function(u){return u===void 0&&(u=this.key),this.manager.isSleeping(u)},isActive:function(u){return u===void 0&&(u=this.key),this.manager.isActive(u)},isPaused:function(u){return u===void 0&&(u=this.key),this.manager.isPaused(u)},isVisible:function(u){return u===void 0&&(u=this.key),this.manager.isVisible(u)},swapPosition:function(u,v){return v===void 0&&(v=this.key),u!==v&&this.manager.swapPosition(u,v),this},moveAbove:function(u,v){return v===void 0&&(v=this.key),u!==v&&this.manager.moveAbove(u,v),this},moveBelow:function(u,v){return v===void 0&&(v=this.key),u!==v&&this.manager.moveBelow(u,v),this},remove:function(u){return u===void 0&&(u=this.key),this.manager.remove(u),this},moveUp:function(u){return u===void 0&&(u=this.key),this.manager.moveUp(u),this},moveDown:function(u){return u===void 0&&(u=this.key),this.manager.moveDown(u),this},bringToTop:function(u){return u===void 0&&(u=this.key),this.manager.bringToTop(u),this},sendToBack:function(u){return u===void 0&&(u=this.key),this.manager.sendToBack(u),this},get:function(u){return this.manager.getScene(u)},getStatus:function(u){var v=this.manager.getScene(u);if(v)return v.sys.getStatus()},getIndex:function(u){return u===void 0&&(u=this.key),this.manager.getIndex(u)},shutdown:function(){var u=this.systems.events;u.off(s.SHUTDOWN,this.shutdown,this),u.off(s.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(s.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});r.register("ScenePlugin",o,"scenePlugin"),h.exports=o},36765:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(92980),d=e(10850),s=e(30657),a=e(90415),r={create:function(o){return typeof o=="string"?o={key:o}:o===void 0&&(o={}),{status:f.PENDING,key:d(o,"key",""),active:d(o,"active",!1),visible:d(o,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:d(o,"pack",!1),cameras:d(o,"cameras",null),map:d(o,"map",s(a,d(o,"mapAdd",{}))),physics:d(o,"physics",{}),loader:d(o,"loader",{}),plugins:d(o,"plugins",!1),input:d(o,"input",{})}}};h.exports=r},63946:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(92980),s=e(18360),a=e(7599),r=e(47736),o=e(91088),u=e(72283),v=e(36765),l=new f({initialize:function(p,g){this.scene=p,this.game,this.renderer,this.config=g,this.settings=v.create(g),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=u},init:function(c){this.settings.status=d.INIT,this.sceneUpdate=u,this.game=c,this.renderer=c.renderer,this.canvas=c.canvas,this.context=c.context;var p=c.plugins;this.plugins=p,p.addToScene(this,s.Global,[s.CoreScene,o(this),r(this)]),this.events.emit(a.BOOT,this),this.settings.isBooted=!0},step:function(c,p){var g=this.events;g.emit(a.PRE_UPDATE,c,p),g.emit(a.UPDATE,c,p),this.sceneUpdate.call(this.scene,c,p),g.emit(a.POST_UPDATE,c,p)},render:function(c){var p=this.displayList;p.depthSort(),this.events.emit(a.PRE_RENDER,c),this.cameras.render(c,p),this.events.emit(a.RENDER,c)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(c){var p=this.settings,g=this.getStatus();return g!==d.CREATING&&g!==d.RUNNING?console.warn("Cannot pause non-running Scene",p.key):this.settings.active&&(p.status=d.PAUSED,p.active=!1,this.events.emit(a.PAUSE,this,c)),this},resume:function(c){var p=this.events,g=this.settings;return this.settings.active||(g.status=d.RUNNING,g.active=!0,p.emit(a.RESUME,this,c)),this},sleep:function(c){var p=this.settings,g=this.getStatus();return g!==d.CREATING&&g!==d.RUNNING?console.warn("Cannot sleep non-running Scene",p.key):(p.status=d.SLEEPING,p.active=!1,p.visible=!1,this.events.emit(a.SLEEP,this,c)),this},wake:function(c){var p=this.events,g=this.settings;return g.status=d.RUNNING,g.active=!0,g.visible=!0,p.emit(a.WAKE,this,c),g.isTransition&&p.emit(a.TRANSITION_WAKE,g.transitionFrom,g.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var c=this.settings.status;return c>d.PENDING&&c<=d.RUNNING},isSleeping:function(){return this.settings.status===d.SLEEPING},isActive:function(){return this.settings.status===d.RUNNING},isPaused:function(){return this.settings.status===d.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(c){return this.settings.visible=c,this},setActive:function(c,p){return c?this.resume(p):this.pause(p)},start:function(c){var p=this.events,g=this.settings;c&&(g.data=c),g.status=d.START,g.active=!0,g.visible=!0,p.emit(a.START,this),p.emit(a.READY,this,c)},shutdown:function(c){var p=this.events,g=this.settings;p.off(a.TRANSITION_INIT),p.off(a.TRANSITION_START),p.off(a.TRANSITION_COMPLETE),p.off(a.TRANSITION_OUT),g.status=d.SHUTDOWN,g.active=!1,g.visible=!1,p.emit(a.SHUTDOWN,this,c)},destroy:function(){var c=this.events,p=this.settings;p.status=d.DESTROYED,p.active=!1,p.visible=!1,c.emit(a.DESTROY,this),c.removeAllListeners();for(var g=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],m=0;m<g.length;m++)this[g[m]]=null}});h.exports=l},92980:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};h.exports=y},31803:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="addedtoscene"},94817:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="boot"},28977:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="create"},91959:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="destroy"},363:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pause"},15643:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="postupdate"},17058:h=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="prerender"},77125:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="preupdate"},76018:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="ready"},28620:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="removedfromscene"},41538:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="render"},34268:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="resume"},2342:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="shutdown"},96541:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="sleep"},74244:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="start"},17046:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="transitioncomplete"},13637:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="transitioninit"},14733:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="transitionout"},33899:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="transitionstart"},52418:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="transitionwake"},31735:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="update"},8470:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="wake"},7599:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={ADDED_TO_SCENE:e(31803),BOOT:e(94817),CREATE:e(28977),DESTROY:e(91959),PAUSE:e(363),POST_UPDATE:e(15643),PRE_RENDER:e(17058),PRE_UPDATE:e(77125),READY:e(76018),REMOVED_FROM_SCENE:e(28620),RENDER:e(41538),RESUME:e(34268),SHUTDOWN:e(2342),SLEEP:e(96541),START:e(74244),TRANSITION_COMPLETE:e(17046),TRANSITION_INIT:e(13637),TRANSITION_OUT:e(14733),TRANSITION_START:e(33899),TRANSITION_WAKE:e(52418),UPDATE:e(31735),WAKE:e(8470)}},20436:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(92980),d=e(98611),s={Events:e(7599),GetPhysicsPlugins:e(47736),GetScenePlugins:e(91088),SceneManager:e(13553),ScenePlugin:e(64051),Settings:e(36765),Systems:e(63946)};s=d(!1,s,f),h.exports=s},25798:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(6659),s=e(76038),a=e(98611),r=e(72283),o=new f({Extends:d,initialize:function(v,l,c){d.call(this),this.manager=v,this.key=l,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=a(this.config,c),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(u){return!u||!u.name||typeof u.name!="string"?!1:this.markers[u.name]?(console.error("addMarker "+u.name+" already exists in Sound"),!1):(u=a(!0,{name:"",start:0,duration:this.totalDuration-(u.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},u),this.markers[u.name]=u,!0)},updateMarker:function(u){return!u||!u.name||typeof u.name!="string"?!1:this.markers[u.name]?(this.markers[u.name]=a(!0,this.markers[u.name],u),!0):(console.warn("Audio Marker: "+u.name+" missing in Sound: "+this.key),!1)},removeMarker:function(u){var v=this.markers[u];return v?(this.markers[u]=null,v):null},play:function(u,v){if(u===void 0&&(u=""),typeof u=="object"&&(v=u,u=""),typeof u!="string")return!1;if(!u)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[u])return console.warn("Marker: "+u+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[u],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=a(this.currentConfig,v),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:r,calculateRate:function(){var u=1.0005777895065548,v=this.currentConfig.detune+this.manager.detune,l=Math.pow(u,v);this.totalRate=this.currentConfig.rate*this.manager.rate*l},destroy:function(){this.pendingRemove||(this.stop(),this.emit(s.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});h.exports=o},12486:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(32742),s=e(6659),a=e(76038),r=e(97081),o=e(71608),u=e(51463),v=e(72283),l=e(93736),c=new f({Extends:s,initialize:function(g){s.call(this),this.game=g,this.jsonCache=g.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new l,g.events.on(r.BLUR,this.onGameBlur,this),g.events.on(r.FOCUS,this.onGameFocus,this),g.events.on(r.PRE_STEP,this.update,this),g.events.once(r.DESTROY,this.destroy,this)},add:v,addAudioSprite:function(p,g){g===void 0&&(g={});var m=this.add(p,g);m.spritemap=this.jsonCache.get(p).spritemap;for(var T in m.spritemap)if(m.spritemap.hasOwnProperty(T)){var S=d(g),P=m.spritemap[T];S.loop=P.hasOwnProperty("loop")?P.loop:!1,m.addMarker({name:T,start:P.start,duration:P.end-P.start,config:S})}return m},get:function(p){return u(this.sounds,"key",p)},getAll:function(p){return p?o(this.sounds,"key",p):o(this.sounds)},getAllPlaying:function(){return o(this.sounds,"isPlaying",!0)},play:function(p,g){var m=this.add(p);return m.once(a.COMPLETE,m.destroy,m),g?g.name?(m.addMarker(g),m.play(g.name)):m.play(g):m.play()},playAudioSprite:function(p,g,m){var T=this.addAudioSprite(p);return T.once(a.COMPLETE,T.destroy,T),T.play(g,m)},remove:function(p){var g=this.sounds.indexOf(p);return g!==-1?(p.destroy(),this.sounds.splice(g,1),!0):!1},removeAll:function(){this.sounds.forEach(function(p){p.destroy()}),this.sounds.length=0},removeByKey:function(p){for(var g=0,m=this.sounds.length-1;m>=0;m--){var T=this.sounds[m];T.key===p&&(T.destroy(),this.sounds.splice(m,1),g++)}return g},pauseAll:function(){this.forEachActiveSound(function(p){p.pause()}),this.emit(a.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(p){p.resume()}),this.emit(a.RESUME_ALL,this)},setListenerPosition:v,stopAll:function(){this.forEachActiveSound(function(p){p.stop()}),this.emit(a.STOP_ALL,this)},stopByKey:function(p){var g=0;return this.getAll(p).forEach(function(m){m.stop()&&g++}),g},unlock:v,onBlur:v,onFocus:v,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(p,g){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(a.UNLOCKED,this));for(var m=this.sounds.length-1;m>=0;m--)this.sounds[m].pendingRemove&&this.sounds.splice(m,1);this.sounds.forEach(function(T){T.update(p,g)})},destroy:function(){this.game.events.off(r.BLUR,this.onGameBlur,this),this.game.events.off(r.FOCUS,this.onGameFocus,this),this.game.events.off(r.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(p,g){var m=this;this.sounds.forEach(function(T,S){T&&!T.pendingRemove&&p.call(g||m,T,S,m.sounds)})},setRate:function(p){return this.rate=p,this},rate:{get:function(){return this._rate},set:function(p){this._rate=p,this.forEachActiveSound(function(g){g.calculateRate()}),this.emit(a.GLOBAL_RATE,this,p)}},setDetune:function(p){return this.detune=p,this},detune:{get:function(){return this._detune},set:function(p){this._detune=p,this.forEachActiveSound(function(g){g.calculateRate()}),this.emit(a.GLOBAL_DETUNE,this,p)}}});h.exports=c},84191:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(27622),d=e(17546),s=e(55491),a={create:function(r){var o=r.config.audio,u=r.device.audio;return o.noAudio||!u.webAudio&&!u.audioData?new d(r):u.webAudio&&!o.disableWebAudio?new s(r):new f(r)}};h.exports=a},77578:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="complete"},19679:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="decodedall"},56951:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="decoded"},16436:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="destroy"},55154:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="detune"},57818:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="detune"},57890:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="mute"},83022:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="rate"},99170:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="volume"},64289:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="looped"},67214:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="loop"},53128:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="mute"},73078:h=>{/**
 * @author       pi-kei
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pan"},76763:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pauseall"},88426:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pause"},13765:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="play"},80291:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="rate"},11124:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="resumeall"},55382:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="resume"},71157:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="seek"},31776:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="stopall"},39450:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="stop"},21939:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="unlocked"},33019:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="volume"},76038:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={COMPLETE:e(77578),DECODED:e(56951),DECODED_ALL:e(19679),DESTROY:e(16436),DETUNE:e(55154),GLOBAL_DETUNE:e(57818),GLOBAL_MUTE:e(57890),GLOBAL_RATE:e(83022),GLOBAL_VOLUME:e(99170),LOOP:e(67214),LOOPED:e(64289),MUTE:e(53128),PAN:e(73078),PAUSE_ALL:e(76763),PAUSE:e(88426),PLAY:e(13765),RATE:e(80291),RESUME_ALL:e(11124),RESUME:e(55382),SEEK:e(71157),STOP_ALL:e(31776),STOP:e(39450),UNLOCKED:e(21939),VOLUME:e(33019)}},34350:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(25798),d=e(56694),s=e(76038),a=e(82897),r=new d({Extends:f,initialize:function(u,v,l){if(l===void 0&&(l={}),this.tags=u.game.cache.audio.get(v),!this.tags)throw new Error('No cached audio asset with key "'+v);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,f.call(this,u,v,l)},play:function(o,u){return this.manager.isLocked(this,"play",[o,u])||!f.prototype.play.call(this,o,u)||!this.pickAndPlayAudioTag()?!1:(this.emit(s.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!f.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(s.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!f.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(s.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!f.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(s.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var o=this.currentConfig.seek,u=this.currentConfig.delay,v=(this.currentMarker?this.currentMarker.start:0)+o;return this.previousTime=v,this.audio.currentTime=v,this.applyConfig(),u===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+u*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var o=0;o<this.tags.length;o++){var u=this.tags[o];if(u.dataset.used==="false")return u.dataset.used="true",this.audio=u,!0}if(!this.manager.override)return!1;var v=[];this.manager.forEachActiveSound(function(c){c.key===this.key&&c.audio&&v.push(c)},this),v.sort(function(c,p){return c.loop===p.loop?p.seek/p.duration-c.seek/c.duration:c.loop?1:-1});var l=v[0];return this.audio=l.audio,l.reset(),l.audio=null,l.startTime=0,l.previousTime=0,!0},playCatchPromise:function(){var o=this.audio.play();o&&o.catch(function(u){console.warn(u)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){f.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(o){if(this.isPlaying){if(this.startTime>0){this.startTime<o-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,o-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var u=this.currentMarker?this.currentMarker.start:0,v=u+this.duration,l=this.audio.currentTime;if(this.currentConfig.loop)l>=v-this.manager.loopEndOffset?(this.audio.currentTime=u+Math.max(0,l-v),l=this.audio.currentTime):l<u&&(this.audio.currentTime+=u,l=this.audio.currentTime),l<this.previousTime&&this.emit(s.LOOPED,this);else if(l>=v){this.reset(),this.stopAndReleaseAudioTag(),this.emit(s.COMPLETE,this);return}this.previousTime=l}},destroy:function(){f.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=a(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){f.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(o){this.currentConfig.mute=o,!this.manager.isLocked(this,"mute",o)&&(this.updateMute(),this.emit(s.MUTE,this,o))}},setMute:function(o){return this.mute=o,this},volume:{get:function(){return this.currentConfig.volume},set:function(o){this.currentConfig.volume=o,!this.manager.isLocked(this,"volume",o)&&(this.updateVolume(),this.emit(s.VOLUME,this,o))}},setVolume:function(o){return this.volume=o,this},rate:{get:function(){return this.currentConfig.rate},set:function(o){this.currentConfig.rate=o,!this.manager.isLocked(this,s.RATE,o)&&(this.calculateRate(),this.emit(s.RATE,this,o))}},setRate:function(o){return this.rate=o,this},detune:{get:function(){return this.currentConfig.detune},set:function(o){this.currentConfig.detune=o,!this.manager.isLocked(this,s.DETUNE,o)&&(this.calculateRate(),this.emit(s.DETUNE,this,o))}},setDetune:function(o){return this.detune=o,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(o){this.manager.isLocked(this,"seek",o)||this.startTime>0||(this.isPlaying||this.isPaused)&&(o=Math.min(Math.max(0,o),this.duration),this.isPlaying?(this.previousTime=o,this.audio.currentTime=o):this.isPaused&&(this.currentConfig.seek=o),this.emit(s.SEEK,this,o))}},setSeek:function(o){return this.seek=o,this},loop:{get:function(){return this.currentConfig.loop},set:function(o){this.currentConfig.loop=o,!this.manager.isLocked(this,"loop",o)&&(this.audio&&(this.audio.loop=o),this.emit(s.LOOP,this,o))}},setLoop:function(o){return this.loop=o,this},pan:{get:function(){return this.currentConfig.pan},set:function(o){this.currentConfig.pan=o,this.emit(s.PAN,this,o)}},setPan:function(o){return this.pan=o,this}});h.exports=r},27622:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(12486),d=e(56694),s=e(76038),a=e(34350),r=new d({Extends:f,initialize:function(u){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,f.call(this,u)},add:function(o,u){var v=new a(this,o,u);return this.sounds.push(v),v},unlock:function(){this.locked=!1;var o=this;if(this.game.cache.audio.entries.each(function(c,p){for(var g=0;g<p.length;g++)if(p[g].dataset.locked==="true")return o.locked=!0,!1;return!0}),!!this.locked){var u=!1,v=function(){u=!0},l=function(){if(u){u=!1;return}document.body.removeEventListener("touchmove",v),document.body.removeEventListener("touchend",l);var c=[];if(o.game.cache.audio.entries.each(function(g,m){for(var T=0;T<m.length;T++){var S=m[T];S.dataset.locked==="true"&&c.push(S)}return!0}),c.length!==0){var p=c[c.length-1];p.oncanplaythrough=function(){p.oncanplaythrough=null,c.forEach(function(g){g.dataset.locked="false"}),o.unlocked=!0},c.forEach(function(g){g.load()})}};this.once(s.UNLOCKED,function(){for(this.forEachActiveSound(function(p){p.currentMarker===null&&p.duration===0&&(p.duration=p.tags[0].duration),p.totalDuration=p.tags[0].duration});this.lockedActionsQueue.length;){var c=this.lockedActionsQueue.shift();c.sound[c.prop].apply?c.sound[c.prop].apply(c.sound,c.value||[]):c.sound[c.prop]=c.value}},this),document.body.addEventListener("touchmove",v,!1),document.body.addEventListener("touchend",l,!1)}},onBlur:function(){this.forEachActiveSound(function(o){o.isPlaying&&(this.onBlurPausedSounds.push(o),o.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(o){o.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){f.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(o,u,v){return o.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:o,prop:u,value:v}),!0):!1},setMute:function(o){return this.mute=o,this},mute:{get:function(){return this._mute},set:function(o){this._mute=o,this.forEachActiveSound(function(u){u.updateMute()}),this.emit(s.GLOBAL_MUTE,this,o)}},setVolume:function(o){return this.volume=o,this},volume:{get:function(){return this._volume},set:function(o){this._volume=o,this.forEachActiveSound(function(u){u.updateVolume()}),this.emit(s.GLOBAL_VOLUME,this,o)}}});h.exports=r},56751:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={SoundManagerCreator:e(84191),Events:e(76038),BaseSound:e(25798),BaseSoundManager:e(12486),WebAudioSound:e(96008),WebAudioSoundManager:e(55491),HTML5AudioSound:e(34350),HTML5AudioSoundManager:e(27622),NoAudioSound:e(38662),NoAudioSoundManager:e(17546)}},38662:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(25798),d=e(56694),s=e(6659),a=e(98611),r=e(72283),o=function(){return!1},u=function(){return null},v=function(){return this},l=new d({Extends:s,initialize:function(p,g,m){m===void 0&&(m={}),s.call(this),this.manager=p,this.key=g,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=a({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},m),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:o,updateMarker:o,removeMarker:u,play:o,pause:o,resume:o,stop:o,setMute:v,setVolume:v,setRate:v,setDetune:v,setSeek:v,setLoop:v,setPan:v,applyConfig:u,resetConfig:u,update:r,calculateRate:u,destroy:function(){f.prototype.destroy.call(this)}});h.exports=l},17546:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(12486),d=e(56694),s=e(6659),a=e(38662),r=e(72283),o=new d({Extends:s,initialize:function(v){s.call(this),this.game=v,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(u,v){var l=new a(this,u,v);return this.sounds.push(l),l},addAudioSprite:function(u,v){var l=this.add(u,v);return l.spritemap={},l},get:function(u){return f.prototype.get.call(this,u)},getAll:function(u){return f.prototype.getAll.call(this,u)},play:function(u,v){return!1},playAudioSprite:function(u,v,l){return!1},remove:function(u){return f.prototype.remove.call(this,u)},removeAll:function(){return f.prototype.removeAll.call(this)},removeByKey:function(u){return f.prototype.removeByKey.call(this,u)},stopByKey:function(u){return f.prototype.stopByKey.call(this,u)},onBlur:r,onFocus:r,onGameBlur:r,onGameFocus:r,pauseAll:r,resumeAll:r,stopAll:r,update:r,setRate:r,setDetune:r,setMute:r,setVolume:r,unlock:r,forEachActiveSound:function(u,v){f.prototype.forEachActiveSound.call(this,u,v)},destroy:function(){f.prototype.destroy.call(this)}});h.exports=o},96008:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(25798),d=e(56694),s=e(76038),a=e(72632),r=new d({Extends:f,initialize:function(u,v,l){if(l===void 0&&(l={}),this.audioBuffer=u.game.cache.audio.get(v),!this.audioBuffer)throw new Error('Audio key "'+v+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=u.context.createGain(),this.volumeNode=u.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),u.context.createPanner&&(this.spatialNode=u.context.createPanner(),this.volumeNode.connect(this.spatialNode)),u.context.createStereoPanner?(this.pannerNode=u.context.createStereoPanner(),u.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(u.destination)):u.context.createPanner?this.spatialNode.connect(u.destination):this.volumeNode.connect(u.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,f.call(this,u,v,l)},play:function(o,u){return f.prototype.play.call(this,o,u)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(s.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!f.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(s.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!f.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(s.RESUME,this),!0)},stop:function(){return f.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(s.STOP,this),!0):!1},createAndStartBufferSource:function(){var o=this.currentConfig.seek,u=this.currentConfig.delay,v=this.manager.context.currentTime+u,l=(this.currentMarker?this.currentMarker.start:0)+o,c=this.duration-o;this.playTime=v-o,this.startTime=v,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,v),Math.max(0,l),Math.max(0,c)),this.resetConfig()},createAndStartLoopBufferSource:function(){var o=this.getLoopTime(),u=this.currentMarker?this.currentMarker.start:0,v=this.duration;this.loopTime=o,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,o),Math.max(0,u),Math.max(0,v))},createBufferSource:function(){var o=this,u=this.manager.context.createBufferSource();return u.buffer=this.audioBuffer,u.connect(this.muteNode),u.onended=function(v){v.target===o.source&&(o.currentConfig.loop?o.hasLooped=!0:o.hasEnded=!0)},u},stopAndRemoveBufferSource:function(){this.source&&(this.source.stop(),this.source.disconnect(),this.source=null),this.playTime=0,this.startTime=0,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var o=this.currentConfig.source;if(o&&this.manager.context.createPanner){var u=this.spatialNode;u.panningModel=a(o,"panningModel","equalpower"),u.distanceModel=a(o,"distanceModel","inverse"),u.orientationX.value=a(o,"orientationX",0),u.orientationY.value=a(o,"orientationY",0),u.orientationZ.value=a(o,"orientationZ",-1),u.refDistance=a(o,"refDistance",1),u.maxDistance=a(o,"maxDistance",1e4),u.rolloffFactor=a(o,"rolloffFactor",1),u.coneInnerAngle=a(o,"coneInnerAngle",360),u.coneOuterAngle=a(o,"coneOuterAngle",0),u.coneOuterGain=a(o,"coneOuterGain",0),this.spatialSource=a(o,"follow",null),this.spatialSource||(u.positionX.value=a(o,"x",0),u.positionY.value=a(o,"y",0),u.positionZ.value=a(o,"z",0))}f.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(o){this.spatialNode&&(this.spatialNode.positionX.value=o)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(o){this.spatialNode&&(this.spatialNode.positionY.value=o)}},update:function(){if(this.isPlaying&&this.spatialSource){var o=a(this.spatialSource,"x",null),u=a(this.spatialSource,"y",null);o&&o!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=o),u&&u!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=u)}this.hasEnded?(this.hasEnded=!1,f.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(s.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(s.LOOPED,this))},destroy:function(){this.pendingRemove||(f.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){f.prototype.calculateRate.call(this);var o=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,o),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,o)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var o=0,u=0;u<this.rateUpdates.length;u++){var v=0;u<this.rateUpdates.length-1?v=this.rateUpdates[u+1].time:v=this.manager.context.currentTime-this.playTime,o+=(v-this.rateUpdates[u].time)*this.rateUpdates[u].rate}return o},getLoopTime:function(){for(var o=0,u=0;u<this.rateUpdates.length-1;u++)o+=(this.rateUpdates[u+1].time-this.rateUpdates[u].time)*this.rateUpdates[u].rate;var v=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+v.time+(this.duration-o)/v.rate},rate:{get:function(){return this.currentConfig.rate},set:function(o){this.currentConfig.rate=o,this.calculateRate(),this.emit(s.RATE,this,o)}},setRate:function(o){return this.rate=o,this},detune:{get:function(){return this.currentConfig.detune},set:function(o){this.currentConfig.detune=o,this.calculateRate(),this.emit(s.DETUNE,this,o)}},setDetune:function(o){return this.detune=o,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(o){this.currentConfig.mute=o,this.muteNode.gain.setValueAtTime(o?0:1,0),this.emit(s.MUTE,this,o)}},setMute:function(o){return this.mute=o,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(o){this.currentConfig.volume=o,this.volumeNode.gain.setValueAtTime(o,0),this.emit(s.VOLUME,this,o)}},setVolume:function(o){return this.volume=o,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(o){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(o=Math.min(Math.max(0,o),this.duration),this.currentConfig.seek=o,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(s.SEEK,this,o))}},setSeek:function(o){return this.seek=o,this},loop:{get:function(){return this.currentConfig.loop},set:function(o){this.currentConfig.loop=o,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),o&&this.createAndStartLoopBufferSource()),this.emit(s.LOOP,this,o)}},setLoop:function(o){return this.loop=o,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(o){this.currentConfig.pan=o,this.pannerNode&&this.pannerNode.pan.setValueAtTime(o,this.manager.context.currentTime),this.emit(s.PAN,this,o)}},setPan:function(o){return this.pan=o,this}});h.exports=r},55491:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(82329),d=e(12486),s=e(56694),a=e(76038),r=e(97081),o=e(96008),u=e(72632),v=new s({Extends:d,initialize:function(c){this.context=this.createAudioContext(c),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),d.call(this,c),this.locked&&c.isBooted?this.unlock():c.events.once(r.BOOT,this.unlock,this)},createAudioContext:function(l){var c=l.config.audio;if(c.context)return c.context.resume(),c.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(l){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=l,this.masterMuteNode=l.createGain(),this.masterVolumeNode=l.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(l.destination),this.destination=this.masterMuteNode,this},add:function(l,c){var p=new o(this,l,c);return this.sounds.push(p),p},decodeAudio:function(l,c){var p;Array.isArray(l)?p=l:p=[{key:l,data:c}];for(var g=this.game.cache.audio,m=p.length,T=0;T<p.length;T++){var S=p[T],P=S.key,E=S.data;typeof E=="string"&&(E=f(E));var R=(function(w,O){g.add(w,O),this.emit(a.DECODED,w),m--,m===0&&this.emit(a.DECODED_ALL)}).bind(this,P),A=(function(w,O){console.error("Error decoding audio: "+w+" - ",O?O.message:""),m--,m===0&&this.emit(a.DECODED_ALL)}).bind(this,P);this.context.decodeAudioData(E,R,A)}},setListenerPosition:function(l,c){return l===void 0&&(l=this.game.scale.width/2),c===void 0&&(c=this.game.scale.height/2),this.listenerPosition.set(l,c),this},unlock:function(){var l=this,c=document.body,p=function g(){if(l.context&&c){var m=c.removeEventListener.bind(c);l.context.resume().then(function(){m("touchstart",g),m("touchend",g),m("click",g),m("keydown",g),l.unlocked=!0},function(){m("touchstart",g),m("touchend",g),m("click",g),m("keydown",g)})}};c&&(c.addEventListener("touchstart",p,!1),c.addEventListener("touchend",p,!1),c.addEventListener("click",p,!1),c.addEventListener("keydown",p,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var l=this.context;l&&!this.locked&&(l.state==="suspended"||l.state==="interrupted")&&l.resume()},update:function(l,c){var p=this.context.listener;if(p&&p.positionX!==void 0){var g=u(this.listenerPosition,"x",null),m=u(this.listenerPosition,"y",null);g&&g!==this._spatialx&&(this._spatialx=p.positionX.value=g),m&&m!==this._spatialy&&(this._spatialy=p.positionY.value=m)}d.prototype.update.call(this,l,c),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var l=this;this.context.close().then(function(){l.context=null})}d.prototype.destroy.call(this)},setMute:function(l){return this.mute=l,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(l){this.masterMuteNode.gain.setValueAtTime(l?0:1,0),this.emit(a.GLOBAL_MUTE,this,l)}},setVolume:function(l){return this.volume=l,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(l){this.masterVolumeNode.gain.setValueAtTime(l,0),this.emit(a.GLOBAL_VOLUME,this,l)}}});h.exports=v},71207:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(59959),d=e(56694),s=e(72283),a=e(17922),r=new d({initialize:function(u){this.parent=u,this.list=[],this.position=0,this.addCallback=s,this.removeCallback=s,this._sortKey=""},add:function(o,u){return u?f.Add(this.list,o):f.Add(this.list,o,0,this.addCallback,this)},addAt:function(o,u,v){return v?f.AddAt(this.list,o,u):f.AddAt(this.list,o,u,0,this.addCallback,this)},getAt:function(o){return this.list[o]},getIndex:function(o){return this.list.indexOf(o)},sort:function(o,u){return o?(u===void 0&&(u=function(v,l){return v[o]-l[o]}),a(this.list,u),this):this},getByName:function(o){return f.GetFirst(this.list,"name",o)},getRandom:function(o,u){return f.GetRandom(this.list,o,u)},getFirst:function(o,u,v,l){return f.GetFirst(this.list,o,u,v,l)},getAll:function(o,u,v,l){return f.GetAll(this.list,o,u,v,l)},count:function(o,u){return f.CountAllMatching(this.list,o,u)},swap:function(o,u){f.Swap(this.list,o,u)},moveTo:function(o,u){return f.MoveTo(this.list,o,u)},moveAbove:function(o,u){return f.MoveAbove(this.list,o,u)},moveBelow:function(o,u){return f.MoveBelow(this.list,o,u)},remove:function(o,u){return u?f.Remove(this.list,o):f.Remove(this.list,o,this.removeCallback,this)},removeAt:function(o,u){return u?f.RemoveAt(this.list,o):f.RemoveAt(this.list,o,this.removeCallback,this)},removeBetween:function(o,u,v){return v?f.RemoveBetween(this.list,o,u):f.RemoveBetween(this.list,o,u,this.removeCallback,this)},removeAll:function(o){for(var u=this.list.length;u--;)this.remove(this.list[u],o);return this},bringToTop:function(o){return f.BringToTop(this.list,o)},sendToBack:function(o){return f.SendToBack(this.list,o)},moveUp:function(o){return f.MoveUp(this.list,o),o},moveDown:function(o){return f.MoveDown(this.list,o),o},reverse:function(){return this.list.reverse(),this},shuffle:function(){return f.Shuffle(this.list),this},replace:function(o,u){return f.Replace(this.list,o,u)},exists:function(o){return this.list.indexOf(o)>-1},setAll:function(o,u,v,l){return f.SetAll(this.list,o,u,v,l),this},each:function(o,u){for(var v=[null],l=2;l<arguments.length;l++)v.push(arguments[l]);for(l=0;l<this.list.length;l++)v[0]=this.list[l],o.apply(u,v)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});h.exports=r},33885:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=new f({initialize:function(a){this.entries={},this.size=0,this.setAll(a)},setAll:function(s){if(Array.isArray(s))for(var a=0;a<s.length;a++)this.set(s[a][0],s[a][1]);return this},set:function(s,a){return this.has(s)||this.size++,this.entries[s]=a,this},get:function(s){if(this.has(s))return this.entries[s]},getArray:function(){var s=[],a=this.entries;for(var r in a)s.push(a[r]);return s},has:function(s){return this.entries.hasOwnProperty(s)},delete:function(s){return this.has(s)&&(delete this.entries[s],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(s){delete this.entries[s]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var s=[],a=this.entries;for(var r in a)s.push(a[r]);return s},dump:function(){var s=this.entries;console.group("Map");for(var a in s)console.log(a,s[a]);console.groupEnd()},each:function(s){var a=this.entries;for(var r in a)if(s(r,a[r])===!1)break;return this},contains:function(s){var a=this.entries;for(var r in a)if(a[r]===s)return!0;return!1},merge:function(s,a){a===void 0&&(a=!1);var r=this.entries,o=s.entries;for(var u in o)r.hasOwnProperty(u)&&a?r[u]=o[u]:this.set(u,o[u]);return this}});h.exports=d},74623:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(6659),s=e(36716),a=new f({Extends:d,initialize:function(){d.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(r){return this._active.indexOf(r)>-1},isPending:function(r){return this._toProcess>0&&this._pending.indexOf(r)>-1},isDestroying:function(r){return this._destroy.indexOf(r)>-1},add:function(r){return this.checkQueue&&this.isActive(r)&&!this.isDestroying(r)||this.isPending(r)||(this._pending.push(r),this._toProcess++),r},remove:function(r){if(this.isPending(r)){var o=this._pending,u=o.indexOf(r);u!==-1&&o.splice(u,1)}else this.isActive(r)&&(this._destroy.push(r),this._toProcess++);return r},removeAll:function(){for(var r=this._active,o=this._destroy,u=r.length;u--;)o.push(r[u]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var r=this._destroy,o=this._active,u,v;for(u=0;u<r.length;u++){v=r[u];var l=o.indexOf(v);l!==-1&&(o.splice(l,1),this.emit(s.PROCESS_QUEUE_REMOVE,v))}for(r.length=0,r=this._pending,u=0;u<r.length;u++)v=r[u],(!this.checkQueue||this.checkQueue&&o.indexOf(v)===-1)&&(o.push(v),this.emit(s.PROCESS_QUEUE_ADD,v));return r.length=0,this._toProcess=0,o},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});h.exports=a},68687:(h,y,e)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(53466);function d(E){if(!(this instanceof d))return new d(E);this._maxEntries=Math.max(4,E||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}d.prototype={all:function(){return this._all(this.data,[])},search:function(E){var R=this.data,A=[],w=this.toBBox;if(!T(E,R))return A;for(var O=[],L,F,I,B;R;){for(L=0,F=R.children.length;L<F;L++)I=R.children[L],B=R.leaf?w(I):I,T(E,B)&&(R.leaf?A.push(I):m(E,B)?this._all(I,A):O.push(I));R=O.pop()}return A},collides:function(E){var R=this.data,A=this.toBBox;if(!T(E,R))return!1;for(var w=[],O,L,F,I;R;){for(O=0,L=R.children.length;O<L;O++)if(F=R.children[O],I=R.leaf?A(F):F,T(E,I)){if(R.leaf||m(E,I))return!0;w.push(F)}R=w.pop()}return!1},load:function(E){if(!(E&&E.length))return this;if(E.length<this._minEntries){for(var R=0,A=E.length;R<A;R++)this.insert(E[R]);return this}var w=this._build(E.slice(),0,E.length-1,0);if(!this.data.children.length)this.data=w;else if(this.data.height===w.height)this._splitRoot(this.data,w);else{if(this.data.height<w.height){var O=this.data;this.data=w,w=O}this._insert(w,this.data.height-w.height-1,!0)}return this},insert:function(E){return E&&this._insert(E,this.data.height-1),this},clear:function(){return this.data=S([]),this},remove:function(E,R){if(!E)return this;for(var A=this.data,w=this.toBBox(E),O=[],L=[],F,I,B,G;A||O.length;){if(A||(A=O.pop(),I=O[O.length-1],F=L.pop(),G=!0),A.leaf&&(B=s(E,A.children,R),B!==-1))return A.children.splice(B,1),O.push(A),this._condense(O),this;!G&&!A.leaf&&m(A,w)?(O.push(A),L.push(F),F=0,I=A,A=A.children[0]):I?(F++,A=I.children[F],G=!1):A=null}return this},toBBox:function(E){return E},compareMinX:u,compareMinY:v,toJSON:function(){return this.data},fromJSON:function(E){return this.data=E,this},_all:function(E,R){for(var A=[];E;)E.leaf?R.push.apply(R,E.children):A.push.apply(A,E.children),E=A.pop();return R},_build:function(E,R,A,w){var O=A-R+1,L=this._maxEntries,F;if(O<=L)return F=S(E.slice(R,A+1)),a(F,this.toBBox),F;w||(w=Math.ceil(Math.log(O)/Math.log(L)),L=Math.ceil(O/Math.pow(L,w-1))),F=S([]),F.leaf=!1,F.height=w;var I=Math.ceil(O/L),B=I*Math.ceil(Math.sqrt(L)),G,N,U,Y;for(P(E,R,A,B,this.compareMinX),G=R;G<=A;G+=B)for(U=Math.min(G+B-1,A),P(E,G,U,I,this.compareMinY),N=G;N<=U;N+=I)Y=Math.min(N+I-1,U),F.children.push(this._build(E,N,Y,w-1));return a(F,this.toBBox),F},_chooseSubtree:function(E,R,A,w){for(var O,L,F,I,B,G,N,U;w.push(R),!(R.leaf||w.length-1===A);){for(N=U=1/0,O=0,L=R.children.length;O<L;O++)F=R.children[O],B=l(F),G=p(E,F)-B,G<U?(U=G,N=B<N?B:N,I=F):G===U&&B<N&&(N=B,I=F);R=I||R.children[0]}return R},_insert:function(E,R,A){var w=this.toBBox,O=A?E:w(E),L=[],F=this._chooseSubtree(O,this.data,R,L);for(F.children.push(E),o(F,O);R>=0&&L[R].children.length>this._maxEntries;)this._split(L,R),R--;this._adjustParentBBoxes(O,L,R)},_split:function(E,R){var A=E[R],w=A.children.length,O=this._minEntries;this._chooseSplitAxis(A,O,w);var L=this._chooseSplitIndex(A,O,w),F=S(A.children.splice(L,A.children.length-L));F.height=A.height,F.leaf=A.leaf,a(A,this.toBBox),a(F,this.toBBox),R?E[R-1].children.push(F):this._splitRoot(A,F)},_splitRoot:function(E,R){this.data=S([E,R]),this.data.height=E.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(E,R,A){var w,O,L,F,I,B,G,N;for(B=G=1/0,w=R;w<=A-R;w++)O=r(E,0,w,this.toBBox),L=r(E,w,A,this.toBBox),F=g(O,L),I=l(O)+l(L),F<B?(B=F,N=w,G=I<G?I:G):F===B&&I<G&&(G=I,N=w);return N},_chooseSplitAxis:function(E,R,A){var w=E.leaf?this.compareMinX:u,O=E.leaf?this.compareMinY:v,L=this._allDistMargin(E,R,A,w),F=this._allDistMargin(E,R,A,O);L<F&&E.children.sort(w)},_allDistMargin:function(E,R,A,w){E.children.sort(w);var O=this.toBBox,L=r(E,0,R,O),F=r(E,A-R,A,O),I=c(L)+c(F),B,G;for(B=R;B<A-R;B++)G=E.children[B],o(L,E.leaf?O(G):G),I+=c(L);for(B=A-R-1;B>=R;B--)G=E.children[B],o(F,E.leaf?O(G):G),I+=c(F);return I},_adjustParentBBoxes:function(E,R,A){for(var w=A;w>=0;w--)o(R[w],E)},_condense:function(E){for(var R=E.length-1,A;R>=0;R--)E[R].children.length===0?R>0?(A=E[R-1].children,A.splice(A.indexOf(E[R]),1)):this.clear():a(E[R],this.toBBox)},compareMinX:function(E,R){return E.left-R.left},compareMinY:function(E,R){return E.top-R.top},toBBox:function(E){return{minX:E.left,minY:E.top,maxX:E.right,maxY:E.bottom}}};function s(E,R,A){if(!A)return R.indexOf(E);for(var w=0;w<R.length;w++)if(A(E,R[w]))return w;return-1}function a(E,R){r(E,0,E.children.length,R,E)}function r(E,R,A,w,O){O||(O=S(null)),O.minX=1/0,O.minY=1/0,O.maxX=-1/0,O.maxY=-1/0;for(var L=R,F;L<A;L++)F=E.children[L],o(O,E.leaf?w(F):F);return O}function o(E,R){return E.minX=Math.min(E.minX,R.minX),E.minY=Math.min(E.minY,R.minY),E.maxX=Math.max(E.maxX,R.maxX),E.maxY=Math.max(E.maxY,R.maxY),E}function u(E,R){return E.minX-R.minX}function v(E,R){return E.minY-R.minY}function l(E){return(E.maxX-E.minX)*(E.maxY-E.minY)}function c(E){return E.maxX-E.minX+(E.maxY-E.minY)}function p(E,R){return(Math.max(R.maxX,E.maxX)-Math.min(R.minX,E.minX))*(Math.max(R.maxY,E.maxY)-Math.min(R.minY,E.minY))}function g(E,R){var A=Math.max(E.minX,R.minX),w=Math.max(E.minY,R.minY),O=Math.min(E.maxX,R.maxX),L=Math.min(E.maxY,R.maxY);return Math.max(0,O-A)*Math.max(0,L-w)}function m(E,R){return E.minX<=R.minX&&E.minY<=R.minY&&R.maxX<=E.maxX&&R.maxY<=E.maxY}function T(E,R){return R.minX<=E.maxX&&R.minY<=E.maxY&&R.maxX>=E.minX&&R.maxY>=E.minY}function S(E){return{children:E,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function P(E,R,A,w,O){for(var L=[R,A],F;L.length;)A=L.pop(),R=L.pop(),!(A-R<=w)&&(F=R+Math.ceil((A-R)/w/2)*w,f(E,F,R,A,O),L.push(R,F,F,A))}h.exports=d},58403:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=new f({initialize:function(a){if(this.entries=[],Array.isArray(a))for(var r=0;r<a.length;r++)this.set(a[r])},set:function(s){return this.entries.indexOf(s)===-1&&this.entries.push(s),this},get:function(s,a){for(var r=0;r<this.entries.length;r++){var o=this.entries[r];if(o[s]===a)return o}},getArray:function(){return this.entries.slice(0)},delete:function(s){var a=this.entries.indexOf(s);return a>-1&&this.entries.splice(a,1),this},dump:function(){console.group("Set");for(var s=0;s<this.entries.length;s++){var a=this.entries[s];console.log(a)}console.groupEnd()},each:function(s,a){var r,o=this.entries.slice(),u=o.length;if(a)for(r=0;r<u&&s.call(a,o[r],r)!==!1;r++);else for(r=0;r<u&&s(o[r],r)!==!1;r++);return this},iterate:function(s,a){var r,o=this.entries.length;if(a)for(r=0;r<o&&s.call(a,this.entries[r],r)!==!1;r++);else for(r=0;r<o&&s(this.entries[r],r)!==!1;r++);return this},iterateLocal:function(s){var a,r=[];for(a=1;a<arguments.length;a++)r.push(arguments[a]);var o=this.entries.length;for(a=0;a<o;a++){var u=this.entries[a];u[s].apply(u,r)}return this},clear:function(){return this.entries.length=0,this},contains:function(s){return this.entries.indexOf(s)>-1},union:function(s){var a=new d;return s.entries.forEach(function(r){a.set(r)}),this.entries.forEach(function(r){a.set(r)}),a},intersect:function(s){var a=new d;return this.entries.forEach(function(r){s.contains(r)&&a.set(r)}),a},difference:function(s){var a=new d;return this.entries.forEach(function(r){s.contains(r)||a.set(r)}),a},size:{get:function(){return this.entries.length},set:function(s){return s<this.entries.length?this.entries.length=s:this.entries.length}}});h.exports=d},90881:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(82897),d=e(56694),s=e(84314),a=e(93736),r=new d({initialize:function(u,v,l,c){u===void 0&&(u=0),v===void 0&&(v=u),l===void 0&&(l=0),c===void 0&&(c=null),this._width=u,this._height=v,this._parent=c,this.aspectMode=l,this.aspectRatio=v===0?1:u/v,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new a},setAspectMode:function(o){return o===void 0&&(o=0),this.aspectMode=o,this.setSize(this._width,this._height)},setSnap:function(o,u){return o===void 0&&(o=0),u===void 0&&(u=o),this.snapTo.set(o,u),this.setSize(this._width,this._height)},setParent:function(o){return this._parent=o,this.setSize(this._width,this._height)},setMin:function(o,u){return o===void 0&&(o=0),u===void 0&&(u=o),this.minWidth=f(o,0,this.maxWidth),this.minHeight=f(u,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(o,u){return o===void 0&&(o=Number.MAX_VALUE),u===void 0&&(u=o),this.maxWidth=f(o,this.minWidth,Number.MAX_VALUE),this.maxHeight=f(u,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(o,u){switch(o===void 0&&(o=0),u===void 0&&(u=o),this.aspectMode){case r.NONE:this._width=this.getNewWidth(s(o,this.snapTo.x)),this._height=this.getNewHeight(s(u,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case r.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(s(o,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case r.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(s(u,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case r.FIT:this.constrain(o,u,!0);break;case r.ENVELOP:this.constrain(o,u,!1);break}return this},setAspectRatio:function(o){return this.aspectRatio=o,this.setSize(this._width,this._height)},resize:function(o,u){return this._width=this.getNewWidth(s(o,this.snapTo.x)),this._height=this.getNewHeight(s(u,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(o,u){return u===void 0&&(u=!0),o=f(o,this.minWidth,this.maxWidth),u&&this._parent&&o>this._parent.width&&(o=Math.max(this.minWidth,this._parent.width)),o},getNewHeight:function(o,u){return u===void 0&&(u=!0),o=f(o,this.minHeight,this.maxHeight),u&&this._parent&&o>this._parent.height&&(o=Math.max(this.minHeight,this._parent.height)),o},constrain:function(o,u,v){o===void 0&&(o=0),u===void 0&&(u=o),v===void 0&&(v=!0),o=this.getNewWidth(o),u=this.getNewHeight(u);var l=this.snapTo,c=u===0?1:o/u;return v&&this.aspectRatio>c||!v&&this.aspectRatio<c?(o=s(o,l.x),u=o/this.aspectRatio,l.y>0&&(u=s(u,l.y),o=u*this.aspectRatio)):(v&&this.aspectRatio<c||!v&&this.aspectRatio>c)&&(u=s(u,l.y),o=u*this.aspectRatio,l.x>0&&(o=s(o,l.x),u=o*(1/this.aspectRatio))),this._width=o,this._height=u,this},fitTo:function(o,u){return this.constrain(o,u,!0)},envelop:function(o,u){return this.constrain(o,u,!1)},setWidth:function(o){return this.setSize(o,this._height)},setHeight:function(o){return this.setSize(this._width,o)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(o){o&&o.style&&(o.style.width=this._width+"px",o.style.height=this._height+"px")},copy:function(o){return o.setAspectMode(this.aspectMode),o.aspectRatio=this.aspectRatio,o.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(o){this.setSize(o,this._height)}},height:{get:function(){return this._height},set:function(o){this.setSize(this._width,o)}}});r.NONE=0,r.WIDTH_CONTROLS_HEIGHT=1,r.HEIGHT_CONTROLS_WIDTH=2,r.FIT=3,r.ENVELOP=4,h.exports=r},94160:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="add"},95393:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="remove"},36716:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={PROCESS_QUEUE_ADD:e(94160),PROCESS_QUEUE_REMOVE:e(95393)}},20010:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Events:e(36716),List:e(71207),Map:e(33885),ProcessQueue:e(74623),RTree:e(68687),Set:e(58403),Size:e(90881)}},17487:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(82897),s=e(27119),a=e(86459),r=e(28621),o=e(31673),u=new f({Extends:o,initialize:function(l,c,p,g,m){o.call(this,l,c,p,g,m),this.add("__BASE",0,0,0,g,m),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=g,this.height=m,this.imageData=this.context.getImageData(0,0,g,m),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===a.WEBGL&&this.refresh(),this},draw:function(v,l,c,p){return p===void 0&&(p=!0),this.context.drawImage(c,v,l),p&&this.update(),this},drawFrame:function(v,l,c,p,g){c===void 0&&(c=0),p===void 0&&(p=0),g===void 0&&(g=!0);var m=this.manager.getFrame(v,l);if(m){var T=m.canvasData,S=m.cutWidth,P=m.cutHeight,E=m.source.resolution;this.context.drawImage(m.source.image,T.x,T.y,S,P,c,p,S/E,P/E),g&&this.update()}return this},setPixel:function(v,l,c,p,g,m){m===void 0&&(m=255),v=Math.abs(Math.floor(v)),l=Math.abs(Math.floor(l));var T=this.getIndex(v,l);if(T>-1){var S=this.context.getImageData(v,l,1,1);S.data[0]=c,S.data[1]=p,S.data[2]=g,S.data[3]=m,this.context.putImageData(S,v,l)}return this},putData:function(v,l,c,p,g,m,T){return p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=v.width),T===void 0&&(T=v.height),this.context.putImageData(v,l,c,p,g,m,T),this},getData:function(v,l,c,p){v=d(Math.floor(v),0,this.width-1),l=d(Math.floor(l),0,this.height-1),c=d(c,1,this.width-v),p=d(p,1,this.height-l);var g=this.context.getImageData(v,l,c,p);return g},getPixel:function(v,l,c){c||(c=new s);var p=this.getIndex(v,l);if(p>-1){var g=this.data,m=g[p+0],T=g[p+1],S=g[p+2],P=g[p+3];c.setTo(m,T,S,P)}return c},getPixels:function(v,l,c,p){v===void 0&&(v=0),l===void 0&&(l=0),c===void 0&&(c=this.width),p===void 0&&(p=c),v=Math.abs(Math.round(v)),l=Math.abs(Math.round(l));for(var g=d(v,0,this.width),m=d(v+c,0,this.width),T=d(l,0,this.height),S=d(l+p,0,this.height),P=new s,E=[],R=T;R<S;R++){for(var A=[],w=g;w<m;w++)P=this.getPixel(w,R,P),A.push({x:w,y:R,color:P.color,alpha:P.alphaGL});E.push(A)}return E},getIndex:function(v,l){return v=Math.abs(Math.round(v)),l=Math.abs(Math.round(l)),v<this.width&&l<this.height?(v+l*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(v,l,c,p,g){return v===void 0&&(v=0),l===void 0&&(l=0),c===void 0&&(c=this.width),p===void 0&&(p=this.height),g===void 0&&(g=!0),this.context.clearRect(v,l,c,p),g&&this.update(),this},setSize:function(v,l){return l===void 0&&(l=v),(v!==this.width||l!==this.height)&&(this.canvas.width=v,this.canvas.height=l,this._source.width=v,this._source.height=l,this._source.isPowerOf2=r(v,l),this.frames.__BASE.setSize(v,l,0,0),this.width=v,this.height=l,this.refresh()),this},destroy:function(){o.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});h.exports=u},845:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(95723),d=e(51052),s=e(61068),a=e(56694),r=e(86459),o=e(82047),u=e(72632),v=e(65641),l=e(37410),c=e(31673),p=e(75512),g=new a({Extends:c,initialize:function(T,S,P,E){P===void 0&&(P=256),E===void 0&&(E=256),this.type="DynamicTexture";var R=T.game.renderer,A=R&&R.type===r.CANVAS,w=A?s.create2D(this,P,E):[this];c.call(this,T,S,w,P,E),this.add("__BASE",0,0,0,P,E),this.renderer=R,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=A?w:null,this.context=A?w.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new d(0,0,P,E).setScene(T.game.scene.systemScene,!1),this.renderTarget=A?null:new l(R,P,E,1,0,!1,!0,!0,!1),this.pipeline=A?null:R.pipelines.get(v.SINGLE_PIPELINE),A||this.setSize(P,E)},setSize:function(m,T){T===void 0&&(T=m);var S=this.get(),P=S.source;if(m!==this.width||T!==this.height){this.canvas&&(this.canvas.width=m,this.canvas.height=T);var E=this.renderTarget;E&&(E.willResize(m,T)&&(E.resize(m,T),this.renderer.deleteTexture(P.glTexture)),this.setFromRenderTarget()),this.camera.setSize(m,T),P.width=m,P.height=T,S.setSize(m,T),this.width=m,this.height=T}else{var R=this.getSourceImage();S.cutX+m>R.width&&(m=R.width-S.cutX),S.cutY+T>R.height&&(T=R.height-S.cutY),S.setSize(m,T,S.cutX,S.cutY)}return this},setFromRenderTarget:function(){var m=this.get(),T=m.source,S=this.renderTarget;return m.glTexture=S.texture,T.isRenderTexture=!0,T.isGLTexture=!0,T.glTexture=S.texture,T.glTexture.flipY=!0,this},setIsSpriteTexture:function(m){return this.isSpriteTexture=m,this},fill:function(m,T,S,P,E,R){var A=this.camera,w=this.renderer;T===void 0&&(T=1),S===void 0&&(S=0),P===void 0&&(P=0),E===void 0&&(E=this.width),R===void 0&&(R=this.height);var O=m>>16&255,L=m>>8&255,F=m&255,I=this.renderTarget;if(A.preRender(),I){I.bind(!0);var B=this.pipeline.manager.set(this.pipeline),G=w.width/I.width,N=w.height/I.height,U=I.height-(P+R);B.drawFillRect(S*G,U*N,E*G,R*N,p.getTintFromFloats(F/255,L/255,O/255,1),T),I.unbind(!0)}else{var Y=this.context;w.setContext(Y),Y.globalCompositeOperation="source-over",Y.fillStyle="rgba("+O+","+L+","+F+","+T+")",Y.fillRect(S,P,E,R),w.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var m=this.context,T=this.renderTarget;T?T.clear():m&&(m.save(),m.setTransform(1,0,0,1,0,0),m.clearRect(0,0,this.width,this.height),m.restore()),this.dirty=!1}return this},stamp:function(m,T,S,P,E){S===void 0&&(S=0),P===void 0&&(P=0);var R=u(E,"alpha",1),A=u(E,"tint",16777215),w=u(E,"angle",0),O=u(E,"rotation",0),L=u(E,"scale",1),F=u(E,"scaleX",L),I=u(E,"scaleY",L),B=u(E,"originX",.5),G=u(E,"originY",.5),N=u(E,"blendMode",0),U=u(E,"erase",!1),Y=u(E,"skipBatch",!1),X=this.manager.resetStamp(R,A);return X.setAngle(0),w!==0?X.setAngle(w):O!==0&&X.setRotation(O),X.setScale(F,I),X.setTexture(m,T),X.setOrigin(B,G),X.setBlendMode(N),U&&(this._eraseMode=!0),Y?this.batchGameObject(X,S,P):this.draw(X,S,P),U&&(this._eraseMode=!1),this},erase:function(m,T,S){return this._eraseMode=!0,this.draw(m,T,S),this._eraseMode=!1,this},draw:function(m,T,S,P,E){return this.beginDraw(),this.batchDraw(m,T,S,P,E),this.endDraw(),this},drawFrame:function(m,T,S,P,E,R){return this.beginDraw(),this.batchDrawFrame(m,T,S,P,E,R),this.endDraw(),this},repeat:function(m,T,S,P,E,R,A,w,O){if(S===void 0&&(S=0),P===void 0&&(P=0),E===void 0&&(E=this.width),R===void 0&&(R=this.height),A===void 0&&(A=1),w===void 0&&(w=16777215),O===void 0&&(O=!1),m instanceof o?T=m:T=this.manager.getFrame(m,T),!T)return this;var L=this.manager.resetStamp(A,w);L.setFrame(T),L.setOrigin(0);var F=T.width,I=T.height;E=Math.floor(E),R=Math.floor(R);var B=Math.ceil(E/F),G=Math.ceil(R/I),N=B*F-E,U=G*I-R;N>0&&(N=F-N),U>0&&(U=I-U),S<0&&(B+=Math.ceil(Math.abs(S)/F)),P<0&&(G+=Math.ceil(Math.abs(P)/I));var Y=S,X=P,b=!1,z=this.manager.stampCrop.setTo(0,0,F,I);O||this.beginDraw();for(var D=0;D<G;D++){if(X+I<0){X+=I;continue}for(var V=0;V<B;V++){if(b=!1,Y+F<0){Y+=F;continue}else Y<0&&(b=!0,z.width=F+Y,z.x=F-z.width);X<0&&(b=!0,z.height=I+X,z.y=I-z.height),N>0&&V===B-1&&(b=!0,z.width=N),U>0&&D===G-1&&(b=!0,z.height=U),b&&L.setCrop(z),this.batchGameObject(L,Y,X),L.isCropped=!1,z.setTo(0,0,F,I),Y+=F}Y=S,X+=I}return O||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var m=this.camera,T=this.renderer,S=this.renderTarget;m.preRender(),S?T.beginCapture(S.width,S.height):T.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(m,T,S,P,E){return Array.isArray(m)||(m=[m]),this.batchList(m,T,S,P,E),this},batchDrawFrame:function(m,T,S,P,E,R){S===void 0&&(S=0),P===void 0&&(P=0),E===void 0&&(E=1),R===void 0&&(R=16777215);var A=this.manager.getFrame(m,T);return A&&(this.renderTarget?this.pipeline.batchTextureFrame(A,S,P,R,E,this.camera.matrix,null):this.batchTextureFrame(A,S,P,E,R)),this},endDraw:function(m){if(m===void 0&&(m=this._eraseMode),this.isDrawing){var T=this.renderer,S=this.renderTarget;if(S){var P=T.endCapture(),E=T.pipelines.setUtility();E.blitFrame(P,S,1,!1,!1,m,this.isSpriteTexture),T.resetScissor(),T.resetViewport()}else T.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(m,T,S,P,E){var R=m.length;if(R!==0)for(var A=0;A<R;A++){var w=m[A];!w||w===this||(w.renderWebGL||w.renderCanvas?this.batchGameObject(w,T,S):w.isParent||w.list?this.batchGroup(w.getChildren(),T,S):typeof w=="string"?this.batchTextureFrameKey(w,null,T,S,P,E):w instanceof o?this.batchTextureFrame(w,T,S,P,E):Array.isArray(w)&&this.batchList(w,T,S,P,E))}},batchGroup:function(m,T,S){T===void 0&&(T=0),S===void 0&&(S=0);for(var P=0;P<m.length;P++){var E=m[P];E.willRender(this.camera)&&this.batchGameObject(E,E.x+T,E.y+S)}},batchGameObject:function(m,T,S){T===void 0&&(T=m.x),S===void 0&&(S=m.y);var P=m.x,E=m.y,R=this.camera,A=this.renderer,w=this._eraseMode,O=m.mask;if(m.setPosition(T,S),this.canvas){if(w){var L=m.blendMode;m.blendMode=f.ERASE}O&&O.preRenderCanvas(A,m,R),m.renderCanvas(A,m,R,null),O&&O.postRenderCanvas(A,m,R),w&&(m.blendMode=L)}else A&&(O&&O.preRenderWebGL(A,m,R),w||A.setBlendMode(m.blendMode),m.renderWebGL(A,m,R),O&&O.postRenderWebGL(A,R,this.renderTarget));m.setPosition(P,E)},batchTextureFrameKey:function(m,T,S,P,E,R){var A=this.manager.getFrame(m,T);A&&this.batchTextureFrame(A,S,P,E,R)},batchTextureFrame:function(m,T,S,P,E){T===void 0&&(T=0),S===void 0&&(S=0),P===void 0&&(P=1),E===void 0&&(E=16777215);var R=this.camera.matrix,A=this.renderTarget;if(A)this.pipeline.batchTextureFrame(m,T,S,E,P,R,null);else{var w=this.context,O=m.canvasData,L=m.source.image;w.save(),w.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",w.globalAlpha=P,R.setToContext(w),O.width>0&&O.height>0&&w.drawImage(L,O.x,O.y,O.width,O.height,T,S,O.width,O.height),w.restore()}},snapshotArea:function(m,T,S,P,E,R,A){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,E,!1,m,T,S,P,R,A):this.renderer.snapshotCanvas(this.canvas,E,!1,m,T,S,P,R,A),this},snapshot:function(m,T,S){return this.snapshotArea(0,0,this.width,this.height,m,T,S)},snapshotPixel:function(m,T,S){return this.snapshotArea(m,T,1,1,S,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(m,T,S,P){var E=this.manager.resetStamp();E.setTexture(this),E.setOrigin(0),E.renderWebGL(m,E,S,P)},renderCanvas:function(){},destroy:function(){var m=this.manager.stamp;m&&m.texture===this&&this.manager.resetStamp(),c.prototype.destroy.call(this),s.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});h.exports=g},82047:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(82897),s=e(98611),a=new f({initialize:function(o,u,v,l,c,p,g){this.texture=o,this.name=u,this.source=o.source[v],this.sourceIndex=v,this.glTexture=this.source.glTexture,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(p,g,l,c)},setSize:function(r,o,u,v){u===void 0&&(u=0),v===void 0&&(v=0),this.cutX=u,this.cutY=v,this.cutWidth=r,this.cutHeight=o,this.width=r,this.height=o,this.halfWidth=Math.floor(r*.5),this.halfHeight=Math.floor(o*.5),this.centerX=Math.floor(r/2),this.centerY=Math.floor(o/2);var l=this.data,c=l.cut;c.x=u,c.y=v,c.w=r,c.h=o,c.r=u+r,c.b=v+o,l.sourceSize.w=r,l.sourceSize.h=o,l.spriteSourceSize.w=r,l.spriteSourceSize.h=o,l.radius=.5*Math.sqrt(r*r+o*o);var p=l.drawImage;return p.x=u,p.y=v,p.width=r,p.height=o,this.updateUVs()},setTrim:function(r,o,u,v,l,c){var p=this.data,g=p.spriteSourceSize;return p.trim=!0,p.sourceSize.w=r,p.sourceSize.h=o,g.x=u,g.y=v,g.w=l,g.h=c,g.r=u+l,g.b=v+c,this.x=u,this.y=v,this.width=l,this.height=c,this.halfWidth=l*.5,this.halfHeight=c*.5,this.centerX=Math.floor(l/2),this.centerY=Math.floor(c/2),this.updateUVs()},setScale9:function(r,o,u,v){var l=this.data;return l.scale9=!0,l.is3Slice=o===0&&v===this.height,l.scale9Borders.x=r,l.scale9Borders.y=o,l.scale9Borders.w=u,l.scale9Borders.h=v,this},setCropUVs:function(r,o,u,v,l,c,p){var g=this.cutX,m=this.cutY,T=this.cutWidth,S=this.cutHeight,P=this.realWidth,E=this.realHeight;o=d(o,0,P),u=d(u,0,E),v=d(v,0,P-o),l=d(l,0,E-u);var R=g+o,A=m+u,w=v,O=l,L=this.data;if(L.trim){var F=L.spriteSourceSize;v=d(v,0,T-o),l=d(l,0,S-u);var I=o+v,B=u+l,G=!(F.r<o||F.b<u||F.x>I||F.y>B);if(G){var N=Math.max(F.x,o),U=Math.max(F.y,u),Y=Math.min(F.r,I)-N,X=Math.min(F.b,B)-U;w=Y,O=X,c?R=g+(T-(N-F.x)-Y):R=g+(N-F.x),p?A=m+(S-(U-F.y)-X):A=m+(U-F.y),o=N,u=U,v=Y,l=X}else R=0,A=0,w=0,O=0}else c&&(R=g+(T-o-v)),p&&(A=m+(S-u-l));var b=this.source.width,z=this.source.height;return r.u0=Math.max(0,R/b),r.v0=Math.max(0,A/z),r.u1=Math.min(1,(R+w)/b),r.v1=Math.min(1,(A+O)/z),r.x=o,r.y=u,r.cx=R,r.cy=A,r.cw=w,r.ch=O,r.width=v,r.height=l,r.flipX=c,r.flipY=p,r},updateCropUVs:function(r,o,u){return this.setCropUVs(r,r.x,r.y,r.width,r.height,o,u)},setUVs:function(r,o,u,v,l,c){var p=this.data.drawImage;return p.width=r,p.height=o,this.u0=u,this.v0=v,this.u1=l,this.v1=c,this},updateUVs:function(){var r=this.cutX,o=this.cutY,u=this.cutWidth,v=this.cutHeight,l=this.data.drawImage;l.width=u,l.height=v;var c=this.source.width,p=this.source.height;return this.u0=r/c,this.v0=o/p,this.u1=(r+u)/c,this.v1=(o+v)/p,this},updateUVsInverted:function(){var r=this.source.width,o=this.source.height;return this.u0=(this.cutX+this.cutHeight)/r,this.v0=this.cutY/o,this.u1=this.cutX/r,this.v1=(this.cutY+this.cutWidth)/o,this},clone:function(){var r=new a(this.texture,this.name,this.sourceIndex);return r.cutX=this.cutX,r.cutY=this.cutY,r.cutWidth=this.cutWidth,r.cutHeight=this.cutHeight,r.x=this.x,r.y=this.y,r.width=this.width,r.height=this.height,r.halfWidth=this.halfWidth,r.halfHeight=this.halfHeight,r.centerX=this.centerX,r.centerY=this.centerY,r.rotated=this.rotated,r.data=s(!0,r.data,this.data),r.updateUVs(),r},destroy:function(){this.texture=null,this.source=null,this.glTexture=null,this.customData=null,this.data=null},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});h.exports=a},31673:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(82047),s=e(32547),a='Texture "%s" has no frame "%s"',r=new f({initialize:function(u,v,l,c,p){Array.isArray(l)||(l=[l]),this.manager=u,this.key=v,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var g=0;g<l.length;g++)this.source.push(new s(this,l[g],c,p))},add:function(o,u,v,l,c,p){if(this.has(o))return null;var g=new d(this,o,u,v,l,c,p);return this.frames[o]=g,this.firstFrame==="__BASE"&&(this.firstFrame=o),this.frameTotal++,g},remove:function(o){if(this.has(o)){var u=this.get(o);return u.destroy(),delete this.frames[o],!0}return!1},has:function(o){return this.frames.hasOwnProperty(o)},get:function(o){o||(o=this.firstFrame);var u=this.frames[o];return u||(console.warn(a,this.key,o),u=this.frames[this.firstFrame]),u},getTextureSourceIndex:function(o){for(var u=0;u<this.source.length;u++)if(this.source[u]===o)return u;return-1},getFramesFromTextureSource:function(o,u){u===void 0&&(u=!1);var v=[];for(var l in this.frames)if(!(l==="__BASE"&&!u)){var c=this.frames[l];c.sourceIndex===o&&v.push(c)}return v},getFrameNames:function(o){o===void 0&&(o=!1);var u=Object.keys(this.frames);if(!o){var v=u.indexOf("__BASE");v!==-1&&u.splice(v,1)}return u},getSourceImage:function(o){(o==null||this.frameTotal===1)&&(o="__BASE");var u=this.frames[o];return u?u.source.image:(console.warn(a,this.key,o),this.frames.__BASE.source.image)},getDataSourceImage:function(o){(o==null||this.frameTotal===1)&&(o="__BASE");var u=this.frames[o],v;return u?v=u.sourceIndex:(console.warn(a,this.key,o),v=this.frames.__BASE.sourceIndex),this.dataSource[v].image},setDataSource:function(o){Array.isArray(o)||(o=[o]);for(var u=0;u<o.length;u++){var v=this.source[u];this.dataSource.push(new s(this,o[u],v.width,v.height))}},setFilter:function(o){var u;for(u=0;u<this.source.length;u++)this.source[u].setFilter(o);for(u=0;u<this.dataSource.length;u++)this.dataSource[u].setFilter(o)},destroy:function(){var o,u=this.source,v=this.dataSource;for(o=0;o<u.length;o++)u[o]&&u[o].destroy();for(o=0;o<v.length;o++)v[o]&&v[o].destroy();for(var l in this.frames){var c=this.frames[l];c&&c.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});h.exports=r},6237:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61068),d=e(17487),s=e(56694),a=e(27119),r=e(86459),o=e(845),u=e(6659),v=e(38203),l=e(82047),c=e(97081),p=e(52780),g=e(10850),m=e(1539),T=e(42911),S=e(69150),P=e(74118),E=e(31673),R=new s({Extends:u,initialize:function(w){u.call(this),this.game=w,this.name="TextureManager",this.list={},this._tempCanvas=f.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new P,this.silentWarnings=!1,w.events.once(c.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(v.LOAD,this.updatePending,this),this.on(v.ERROR,this.updatePending,this);var A=this.game.config;this.addBase64("__DEFAULT",A.defaultImage),this.addBase64("__MISSING",A.missingImage),this.addBase64("__WHITE",A.whiteImage),this.game.events.once(c.DESTROY,this.destroy,this),this.game.events.once(c.SYSTEM_READY,function(w){this.stamp=new m(w).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(v.LOAD),this.off(v.ERROR),this.emit(v.READY))},checkKey:function(A){return this.exists(A)?(this.silentWarnings||console.error("Texture key already in use: "+A),!1):!0},remove:function(A){if(typeof A=="string")if(this.exists(A))A=this.get(A);else return this.silentWarnings||console.warn("No texture found matching key: "+A),this;var w=A.key;return this.list.hasOwnProperty(w)&&(A.destroy(),this.emit(v.REMOVE,w),this.emit(v.REMOVE_KEY+w)),this},removeKey:function(A){return this.list.hasOwnProperty(A)&&delete this.list[A],this},addBase64:function(A,w){if(this.checkKey(A)){var O=this,L=new Image;L.onerror=function(){O.emit(v.ERROR,A)},L.onload=function(){var F=O.create(A,L);S.Image(F,0),O.emit(v.ADD,A,F),O.emit(v.ADD_KEY+A,F),O.emit(v.LOAD,A,F)},L.src=w}return this},getBase64:function(A,w,O,L){O===void 0&&(O="image/png"),L===void 0&&(L=.92);var F="",I=this.getFrame(A,w);if(I&&(I.source.isRenderTexture||I.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(I){var B=I.canvasData,G=f.create2D(this,B.width,B.height),N=G.getContext("2d",{willReadFrequently:!0});B.width>0&&B.height>0&&N.drawImage(I.source.image,B.x,B.y,B.width,B.height,0,0,B.width,B.height),F=G.toDataURL(O,L),f.remove(G)}return F},addImage:function(A,w,O){var L=null;return this.checkKey(A)&&(L=this.create(A,w),S.Image(L,0),O&&L.setDataSource(O),this.emit(v.ADD,A,L),this.emit(v.ADD_KEY+A,L)),L},addGLTexture:function(A,w,O,L){var F=null;return this.checkKey(A)&&(O===void 0&&(O=w.width),L===void 0&&(L=w.height),F=this.create(A,w,O,L),F.add("__BASE",0,0,0,O,L),this.emit(v.ADD,A,F),this.emit(v.ADD_KEY+A,F)),F},addCompressedTexture:function(A,w,O){var L=null;if(this.checkKey(A)){if(L=this.create(A,w),L.add("__BASE",0,0,0,w.width,w.height),O)if(Array.isArray(O))for(var F=0;F<O.length;F++)S.JSONHash(L,F,O[F]);else S.JSONHash(L,0,O);this.emit(v.ADD,A,L),this.emit(v.ADD_KEY+A,L)}return L},addRenderTexture:function(A,w){var O=null;return this.checkKey(A)&&(O=this.create(A,w),O.add("__BASE",0,0,0,w.width,w.height),this.emit(v.ADD,A,O),this.emit(v.ADD_KEY+A,O)),O},generate:function(A,w){if(this.checkKey(A)){var O=f.create(this,1,1);return w.canvas=O,p(w),this.addCanvas(A,O)}else return null},createCanvas:function(A,w,O){if(w===void 0&&(w=256),O===void 0&&(O=256),this.checkKey(A)){var L=f.create(this,w,O,r.CANVAS,!0);return this.addCanvas(A,L)}return null},addCanvas:function(A,w,O){O===void 0&&(O=!1);var L=null;return O?L=new d(this,A,w,w.width,w.height):this.checkKey(A)&&(L=new d(this,A,w,w.width,w.height),this.list[A]=L,this.emit(v.ADD,A,L),this.emit(v.ADD_KEY+A,L)),L},addDynamicTexture:function(A,w,O){var L=null;return typeof A=="string"&&!this.exists(A)?L=new o(this,A,w,O):(L=A,A=L.key),this.checkKey(A)?(this.list[A]=L,this.emit(v.ADD,A,L),this.emit(v.ADD_KEY+A,L)):L=null,L},addAtlas:function(A,w,O,L){return Array.isArray(O.textures)||Array.isArray(O.frames)?this.addAtlasJSONArray(A,w,O,L):this.addAtlasJSONHash(A,w,O,L)},addAtlasJSONArray:function(A,w,O,L){var F=null;if(w instanceof E?(A=w.key,F=w):this.checkKey(A)&&(F=this.create(A,w)),F){if(Array.isArray(O))for(var I=O.length===1,B=0;B<F.source.length;B++){var G=I?O[0]:O[B];S.JSONArray(F,B,G)}else S.JSONArray(F,0,O);L&&F.setDataSource(L),this.emit(v.ADD,A,F),this.emit(v.ADD_KEY+A,F)}return F},addAtlasJSONHash:function(A,w,O,L){var F=null;if(w instanceof E?(A=w.key,F=w):this.checkKey(A)&&(F=this.create(A,w)),F){if(Array.isArray(O))for(var I=0;I<O.length;I++)S.JSONHash(F,I,O[I]);else S.JSONHash(F,0,O);L&&F.setDataSource(L),this.emit(v.ADD,A,F),this.emit(v.ADD_KEY+A,F)}return F},addAtlasXML:function(A,w,O,L){var F=null;return w instanceof E?(A=w.key,F=w):this.checkKey(A)&&(F=this.create(A,w)),F&&(S.AtlasXML(F,0,O),L&&F.setDataSource(L),this.emit(v.ADD,A,F),this.emit(v.ADD_KEY+A,F)),F},addUnityAtlas:function(A,w,O,L){var F=null;return w instanceof E?(A=w.key,F=w):this.checkKey(A)&&(F=this.create(A,w)),F&&(S.UnityYAML(F,0,O),L&&F.setDataSource(L),this.emit(v.ADD,A,F),this.emit(v.ADD_KEY+A,F)),F},addSpriteSheet:function(A,w,O,L){var F=null;if(w instanceof E?(A=w.key,F=w):this.checkKey(A)&&(F=this.create(A,w)),F){var I=F.source[0].width,B=F.source[0].height;S.SpriteSheet(F,0,0,0,I,B,O),L&&F.setDataSource(L),this.emit(v.ADD,A,F),this.emit(v.ADD_KEY+A,F)}return F},addSpriteSheetFromAtlas:function(A,w){if(!this.checkKey(A))return null;var O=g(w,"atlas",null),L=g(w,"frame",null);if(!(!O||!L)){var F=this.get(O),I=F.get(L);if(I){var B=this.create(A,I.source.image);return I.trimmed?S.SpriteSheetFromAtlas(B,I,w):S.SpriteSheet(B,0,I.cutX,I.cutY,I.cutWidth,I.cutHeight,w),this.emit(v.ADD,A,B),this.emit(v.ADD_KEY+A,B),B}}},create:function(A,w,O,L){var F=null;return this.checkKey(A)&&(F=new E(this,A,w,O,L),this.list[A]=F),F},exists:function(A){return this.list.hasOwnProperty(A)},get:function(A){return A===void 0&&(A="__DEFAULT"),this.list[A]?this.list[A]:A instanceof E?A:A instanceof l?A.texture:this.list.__MISSING},cloneFrame:function(A,w){if(this.list[A])return this.list[A].get(w).clone()},getFrame:function(A,w){if(this.list[A])return this.list[A].get(w)},parseFrame:function(A){if(A){if(typeof A=="string")return this.getFrame(A);if(Array.isArray(A)&&A.length===2)return this.getFrame(A[0],A[1]);if(T(A))return this.getFrame(A.key,A.frame);if(A instanceof E)return A.get();if(A instanceof l)return A}else return},getTextureKeys:function(){var A=[];for(var w in this.list)w!=="__DEFAULT"&&w!=="__MISSING"&&w!=="__WHITE"&&A.push(w);return A},getPixel:function(A,w,O,L){var F=this.getFrame(O,L);if(F){A-=F.x,w-=F.y;var I=F.data.cut;if(A+=I.x,w+=I.y,A>=I.x&&A<I.r&&w>=I.y&&w<I.b){var B=this._tempContext;B.clearRect(0,0,1,1),B.drawImage(F.source.image,A,w,1,1,0,0,1,1);var G=B.getImageData(0,0,1,1);return new a(G.data[0],G.data[1],G.data[2],G.data[3])}}return null},getPixelAlpha:function(A,w,O,L){var F=this.getFrame(O,L);if(F){A-=F.x,w-=F.y;var I=F.data.cut;if(A+=I.x,w+=I.y,A>=I.x&&A<I.r&&w>=I.y&&w<I.b){var B=this._tempContext;B.clearRect(0,0,1,1),B.drawImage(F.source.image,A,w,1,1,0,0,1,1);var G=B.getImageData(0,0,1,1);return G.data[3]}}return null},setTexture:function(A,w,O){return this.list[w]&&(A.texture=this.list[w],A.frame=A.texture.get(O)),A},renameTexture:function(A,w){var O=this.get(A);return O&&A!==w?(O.key=w,this.list[w]=O,delete this.list[A],!0):!1},each:function(A,w){for(var O=[null],L=1;L<arguments.length;L++)O.push(arguments[L]);for(var F in this.list)O[0]=this.list[F],A.apply(w,O)},resetStamp:function(A,w){A===void 0&&(A=1),w===void 0&&(w=16777215);var O=this.stamp;return O.setCrop(),O.setPosition(0),O.setAngle(0),O.setScale(1),O.setAlpha(A),O.setTint(w),O.setTexture("__WHITE"),O},destroy:function(){for(var A in this.list)this.list[A].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,f.remove(this._tempCanvas)}});h.exports=R},32547:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61068),d=e(56694),s=e(28621),a=e(27394),r=new d({initialize:function(u,v,l,c,p){p===void 0&&(p=!1);var g=u.manager.game;this.renderer=g.renderer,this.texture=u,this.source=v,this.image=v.compressed?null:v,this.compressionAlgorithm=v.compressed?v.format:null,this.resolution=1,this.width=l||v.naturalWidth||v.videoWidth||v.width||0,this.height=c||v.naturalHeight||v.videoHeight||v.height||0,this.scaleMode=a.DEFAULT,this.isCanvas=v instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&v instanceof HTMLVideoElement,this.isRenderTexture=v.type==="RenderTexture"||v.type==="DynamicTexture",this.isGLTexture=window.hasOwnProperty("WebGLTexture")&&v instanceof WebGLTexture,this.isPowerOf2=s(this.width,this.height),this.glTexture=null,this.flipY=p,this.init(g)},init:function(o){var u=this.renderer;if(u){var v=this.source;if(u.gl){var l=this.image,c=this.flipY,p=this.width,g=this.height,m=this.scaleMode;this.isCanvas?this.glTexture=u.createCanvasTexture(l,!1,c):this.isVideo?this.glTexture=u.createVideoTexture(l,!1,c):this.isRenderTexture?this.glTexture=u.createTextureFromSource(null,p,g,m):this.isGLTexture?this.glTexture=v:this.compressionAlgorithm?this.glTexture=u.createTextureFromSource(v):this.glTexture=u.createTextureFromSource(l,p,g,m)}else this.isRenderTexture&&(this.image=v.canvas)}o.config.antialias||this.setFilter(1)},setFilter:function(o){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,o),this.scaleMode=o},setFlipY:function(o){return o===void 0&&(o=!0),this.flipY=o,this},update:function(){var o=this.renderer,u=this.image,v=this.flipY,l=o.gl;l&&this.isCanvas?this.glTexture=o.updateCanvasTexture(u,this.glTexture,v):l&&this.isVideo&&(this.glTexture=o.updateVideoTexture(u,this.glTexture,v))},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&f.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});h.exports=r},65154:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={LINEAR:0,NEAREST:1};h.exports=y},49644:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="addtexture"},29569:h=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="addtexture-"},60079:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="onerror"},72665:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="onload"},93006:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="ready"},69018:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="removetexture"},85549:h=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="removetexture-"},38203:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={ADD:e(49644),ADD_KEY:e(29569),ERROR:e(60079),LOAD:e(72665),READY:e(93006),REMOVE:e(69018),REMOVE_KEY:e(85549)}},87499:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(98611),d=e(65154),s={CanvasTexture:e(17487),DynamicTexture:e(845),Events:e(38203),FilterMode:d,Frame:e(82047),Parsers:e(69150),Texture:e(31673),TextureManager:e(6237),TextureSource:e(32547)};s=f(!1,s,d),h.exports=s},35082:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){if(!d.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var s=e.source[f];e.add("__BASE",f,0,0,s.width,s.height);for(var a=d.getElementsByTagName("SubTexture"),r,o=0;o<a.length;o++){var u=a[o].attributes,v=u.name.value,l=parseInt(u.x.value,10),c=parseInt(u.y.value,10),p=parseInt(u.width.value,10),g=parseInt(u.height.value,10);if(r=e.add(v,f,l,c,p,g),u.frameX){var m=Math.abs(parseInt(u.frameX.value,10)),T=Math.abs(parseInt(u.frameY.value,10)),S=parseInt(u.frameWidth.value,10),P=parseInt(u.frameHeight.value,10);r.setTrim(p,g,m,T,S,P)}}return e};h.exports=y},83332:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){var d=e.source[f];return e.add("__BASE",f,0,0,d.width,d.height),e};h.exports=y},21560:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){var d=e.source[f];return e.add("__BASE",f,0,0,d.width,d.height),e};h.exports=y},64423:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(32742),d=function(s,a,r){if(!r.frames&&!r.textures){console.warn("Invalid Texture Atlas JSON Array");return}var o=s.source[a];s.add("__BASE",a,0,0,o.width,o.height);for(var u=Array.isArray(r.textures)?r.textures[a].frames:r.frames,v,l=0;l<u.length;l++){var c=u[l];if(v=s.add(c.filename,a,c.frame.x,c.frame.y,c.frame.w,c.frame.h),!v){console.warn("Invalid atlas json, frame already exists: "+c.filename);continue}c.trimmed&&v.setTrim(c.sourceSize.w,c.sourceSize.h,c.spriteSourceSize.x,c.spriteSourceSize.y,c.spriteSourceSize.w,c.spriteSourceSize.h),c.rotated&&(v.rotated=!0,v.updateUVsInverted());var p=c.anchor||c.pivot;p&&(v.customPivot=!0,v.pivotX=p.x,v.pivotY=p.y),c.scale9Borders&&v.setScale9(c.scale9Borders.x,c.scale9Borders.y,c.scale9Borders.w,c.scale9Borders.h),v.customData=f(c)}for(var g in r)g!=="frames"&&(Array.isArray(r[g])?s.customData[g]=r[g].slice(0):s.customData[g]=r[g]);return s};h.exports=d},17264:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(32742),d=function(s,a,r){if(!r.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var o=s.source[a];s.add("__BASE",a,0,0,o.width,o.height);var u=r.frames,v;for(var l in u)if(u.hasOwnProperty(l)){var c=u[l];if(v=s.add(l,a,c.frame.x,c.frame.y,c.frame.w,c.frame.h),!v){console.warn("Invalid atlas json, frame already exists: "+l);continue}c.trimmed&&v.setTrim(c.sourceSize.w,c.sourceSize.h,c.spriteSourceSize.x,c.spriteSourceSize.y,c.spriteSourceSize.w,c.spriteSourceSize.h),c.rotated&&(v.rotated=!0,v.updateUVsInverted());var p=c.anchor||c.pivot;p&&(v.customPivot=!0,v.pivotX=p.x,v.pivotY=p.y),c.scale9Borders&&v.setScale9(c.scale9Borders.x,c.scale9Borders.y,c.scale9Borders.w,c.scale9Borders.h),v.customData=f(c)}for(var g in r)g!=="frames"&&(Array.isArray(r[g])?s.customData[g]=r[g].slice(0):s.customData[g]=r[g]);return s};h.exports=d},67409:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){var f=[171,75,84,88,32,49,49,187,13,10,26,10],d,s=new Uint8Array(e,0,12);for(d=0;d<s.length;d++)if(s[d]!==f[d]){console.warn("KTXParser - Invalid file format");return}var a=Uint32Array.BYTES_PER_ELEMENT,r=new DataView(e,12,13*a),o=r.getUint32(0,!0)===67305985,u=r.getUint32(1*a,o);if(u!==0){console.warn("KTXParser - Only compressed formats supported");return}var v=r.getUint32(4*a,o),l=r.getUint32(6*a,o),c=r.getUint32(7*a,o),p=Math.max(1,r.getUint32(11*a,o)),g=r.getUint32(12*a,o),m=new Array(p),T=12+13*4+g,S=l,P=c;for(d=0;d<p;d++){var E=new Int32Array(e,T,1)[0];T+=4,m[d]={data:new Uint8Array(e,T,E),width:S,height:P},S=Math.max(1,S>>1),P=Math.max(1,P>>1),T+=E}return{mipmaps:m,width:l,height:c,internalFormat:v,compressed:!0,generateMipmap:!1}};h.exports=y},24904:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(A,w,O,L,F,I,B){return B===void 0&&(B=16),Math.floor((A+O)/F)*Math.floor((w+L)/I)*B}function e(A,w){return A=Math.max(A,16),w=Math.max(w,8),A*w/4}function f(A,w){return A=Math.max(A,8),w=Math.max(w,8),A*w/2}function d(A,w){return y(A,w,3,3,4,4,8)}function s(A,w){return y(A,w,3,3,4,4)}function a(A,w){return y(A,w,4,3,5,4)}function r(A,w){return y(A,w,4,4,5,5)}function o(A,w){return y(A,w,5,4,6,5)}function u(A,w){return y(A,w,5,5,6,6)}function v(A,w){return y(A,w,7,4,8,5)}function l(A,w){return y(A,w,7,5,8,6)}function c(A,w){return y(A,w,7,7,8,8)}function p(A,w){return y(A,w,9,4,10,5)}function g(A,w){return y(A,w,9,5,10,6)}function m(A,w){return y(A,w,9,7,10,8)}function T(A,w){return y(A,w,9,9,10,10)}function S(A,w){return y(A,w,11,9,12,10)}function P(A,w){return y(A,w,11,11,12,12)}var E={0:{sizeFunc:e,glFormat:35841},1:{sizeFunc:e,glFormat:35843},2:{sizeFunc:f,glFormat:35840},3:{sizeFunc:f,glFormat:35842},6:{sizeFunc:d,glFormat:36196},7:{sizeFunc:d,glFormat:33776},8:{sizeFunc:s,glFormat:33777},9:{sizeFunc:s,glFormat:33778},11:{sizeFunc:s,glFormat:33779},22:{sizeFunc:d,glFormat:37492},23:{sizeFunc:s,glFormat:37496},24:{sizeFunc:d,glFormat:37494},25:{sizeFunc:d,glFormat:37488},26:{sizeFunc:s,glFormat:37490},27:{sizeFunc:s,glFormat:37808},28:{sizeFunc:a,glFormat:37809},29:{sizeFunc:r,glFormat:37810},30:{sizeFunc:o,glFormat:37811},31:{sizeFunc:u,glFormat:37812},32:{sizeFunc:v,glFormat:37813},33:{sizeFunc:l,glFormat:37814},34:{sizeFunc:c,glFormat:37815},35:{sizeFunc:p,glFormat:37816},36:{sizeFunc:g,glFormat:37817},37:{sizeFunc:m,glFormat:37818},38:{sizeFunc:T,glFormat:37819},39:{sizeFunc:S,glFormat:37820},40:{sizeFunc:P,glFormat:37821}},R=function(A){for(var w=new Uint32Array(A,0,13),O=w[2],L=E[O].glFormat,F=E[O].sizeFunc,I=w[11],B=w[7],G=w[6],N=52+w[12],U=new Uint8Array(A,N),Y=new Array(I),X=0,b=B,z=G,D=0;D<I;D++){var V=F(b,z);Y[D]={data:new Uint8Array(U.buffer,U.byteOffset+X,V),width:b,height:z},b=Math.max(1,b>>1),z=Math.max(1,z>>1),X+=V}return{mipmaps:Y,width:B,height:G,internalFormat:L,compressed:!0,generateMipmap:!1}};h.exports=R},6143:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72632),d=function(s,a,r,o,u,v,l){var c=f(l,"frameWidth",null),p=f(l,"frameHeight",c);if(c===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var g=s.source[a];s.add("__BASE",a,0,0,g.width,g.height);var m=f(l,"startFrame",0),T=f(l,"endFrame",-1),S=f(l,"margin",0),P=f(l,"spacing",0),E=Math.floor((u-S+P)/(c+P)),R=Math.floor((v-S+P)/(p+P)),A=E*R;A===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",s.key),(m>A||m<-A)&&(m=0),m<0&&(m=A+m),(T===-1||T>A||T<m)&&(T=A);for(var w=S,O=S,L=0,F=0,I=0,B=0;B<A;B++){L=0,F=0;var G=w+c,N=O+p;G>u&&(L=G-u),N>v&&(F=N-v),B>=m&&B<=T&&(s.add(I,a,r+w,o+O,c-L,p-F),I++),w+=c+P,w+c>u&&(w=S,O+=p+P)}return s};h.exports=d},20030:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72632),d=function(s,a,r){var o=f(r,"frameWidth",null),u=f(r,"frameHeight",o);if(!o)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var v=s.source[0];s.add("__BASE",0,0,0,v.width,v.height),f(r,"startFrame",0),f(r,"endFrame",-1);for(var l=f(r,"margin",0),c=f(r,"spacing",0),p=a.cutX,g=a.cutY,m=a.cutWidth,T=a.cutHeight,S=a.realWidth,P=a.realHeight,E=Math.floor((S-l+c)/(o+c)),R=Math.floor((P-l+c)/(u+c)),A=a.x,w=o-A,O=o-(S-m-A),L=a.y,F=u-L,I=u-(P-T-L),B,G=l,N=l,U=0,Y=0,X=0;X<R;X++){for(var b=X===0,z=X===R-1,D=0;D<E;D++){var V=D===0,k=D===E-1;if(B=s.add(U,Y,p+G,g+N,o,u),V||b||k||z){var W=V?A:0,H=b?L:0,$=0,K=0;V&&($+=o-w),k&&($+=o-O),b&&(K+=u-F),z&&(K+=u-I);var Z=o-$,j=u-K;B.cutWidth=Z,B.cutHeight=j,B.setTrim(o,u,W,H,Z,j)}G+=c,V?G+=w:k?G+=O:G+=o,U++}G=l,N+=c,b?N+=F:z?N+=I:N+=u}return s};h.exports=d},89187:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=0,e=function(d,s,a,r){var o=y-r.y-r.height;d.add(a,s,r.x,o,r.width,r.height)},f=function(d,s,a){var r=d.source[s];d.add("__BASE",s,0,0,r.width,r.height),y=r.height;for(var o=a.split(`
`),u=/^[ ]*(- )*(\w+)+[: ]+(.*)/,v="",l="",c={x:0,y:0,width:0,height:0},p=0;p<o.length;p++){var g=o[p].match(u);if(g){var m=g[1]==="- ",T=g[2],S=g[3];if(m&&(l!==v&&(e(d,s,l,c),v=l),c={x:0,y:0,width:0,height:0}),T==="name"){l=S;continue}switch(T){case"x":case"y":case"width":case"height":c[T]=parseInt(S,10);break}}}return l!==v&&e(d,s,l,c),d};h.exports=f},69150:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={AtlasXML:e(35082),Canvas:e(83332),Image:e(21560),JSONArray:e(64423),JSONHash:e(17264),KTXParser:e(67409),PVRParser:e(24904),SpriteSheet:e(6143),SpriteSheetFromAtlas:e(20030),UnityYAML:e(89187)}},93560:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},97042:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=new f({initialize:function(a,r,o,u,v,l,c){(o===void 0||o<=0)&&(o=32),(u===void 0||u<=0)&&(u=32),v===void 0&&(v=0),l===void 0&&(l=0),this.name=a,this.firstgid=r|0,this.imageWidth=o|0,this.imageHeight=u|0,this.imageMargin=v|0,this.imageSpacing=l|0,this.properties=c||{},this.images=[],this.total=0},containsImageIndex:function(s){return s>=this.firstgid&&s<this.firstgid+this.total},addImage:function(s,a){return this.images.push({gid:s,image:a}),this.total++,this}});h.exports=d},46422:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=new f({initialize:function(a){if(this.gids=[],a!==void 0)for(var r=0;r<a.length;++r)for(var o=a[r],u=0;u<o.total;++u)this.gids[o.firstgid+u]=o;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(s){this.gids=s?this._gids:void 0}},getTypeIncludingTile:function(s){if(s.type!==void 0&&s.type!=="")return s.type;if(!(!this.gids||s.gid===void 0)){var a=this.gids[s.gid];if(a){var r=a.getTileData(s.gid);if(r)return r.type}}},setTextureAndFrame:function(s,a,r,o){if(a===null&&this.gids&&o.gid!==void 0){var u=this.gids[o.gid];u&&(a===null&&u.image!==void 0&&(a=u.image.key),r===null&&(r=o.gid-u.firstgid),s.scene.textures.getFrame(a,r)||(a=null,r=null))}s.setTexture(a,r)},setPropertiesFromTiledObject:function(s,a){if(this.gids!==void 0&&a.gid!==void 0){var r=this.gids[a.gid];r!==void 0&&this.setFromJSON(s,r.getTileProperties(a.gid))}this.setFromJSON(s,a.properties)},setFromJSON:function(s,a){if(a){if(Array.isArray(a)){for(var r=0;r<a.length;r++){var o=a[r];s[o.name]!==void 0?s[o.name]=o.value:s.setData(o.name,o.value)}return}for(var u in a)s[u]!==void 0?s[u]=a[u]:s.setData(u,a[u])}}});h.exports=d},15043:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(93560),d=e(16586),s=e(90715),a=e(89797),r=function(o,u,v,l,c,p,g,m){v===void 0&&(v=32),l===void 0&&(l=32),c===void 0&&(c=10),p===void 0&&(p=10),m===void 0&&(m=!1);var T=null;if(Array.isArray(g)){var S=u!==void 0?u:"map";T=s(S,f.ARRAY_2D,g,v,l,m)}else if(u!==void 0){var P=o.cache.tilemap.get(u);P?T=s(u,P.format,P.data,v,l,m):console.warn("No map data found for key "+u)}return T===null&&(T=new d({tileWidth:v,tileHeight:l,width:c,height:p})),new a(o,T)};h.exports=r},29633:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(64937),s=e(12920),a=e(28699),r=e(66658),o=new f({Mixins:[d.AlphaSingle,d.Flip,d.Visible],initialize:function(v,l,c,p,g,m,T,S){this.layer=v,this.index=l,this.x=c,this.y=p,this.width=g,this.height=m,this.right,this.bottom,this.baseWidth=T!==void 0?T:g,this.baseHeight=S!==void 0?S:m,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(u,v){return!(u<this.pixelX||v<this.pixelY||u>this.right||v>this.bottom)},copy:function(u){return this.index=u.index,this.alpha=u.alpha,this.properties=a(u.properties),this.visible=u.visible,this.setFlip(u.flipX,u.flipY),this.tint=u.tint,this.rotation=u.rotation,this.collideUp=u.collideUp,this.collideDown=u.collideDown,this.collideLeft=u.collideLeft,this.collideRight=u.collideRight,this.collisionCallback=u.collisionCallback,this.collisionCallbackContext=u.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(u){var v=this.tilemapLayer;if(v){var l=v.tileToWorldXY(this.x,this.y,void 0,u);return l.x}return this.x*this.baseWidth},getRight:function(u){var v=this.tilemapLayer;return v?this.getLeft(u)+this.width*v.scaleX:this.getLeft(u)+this.width},getTop:function(u){var v=this.tilemapLayer;if(v){var l=v.tileToWorldXY(this.x,this.y,void 0,u);return l.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(u){var v=this.tilemapLayer;return v?this.getTop(u)+this.height*v.scaleY:this.getTop(u)+this.height},getBounds:function(u,v){return v===void 0&&(v=new r),v.x=this.getLeft(u),v.y=this.getTop(u),v.width=this.getRight(u)-v.x,v.height=this.getBottom(u)-v.y,v},getCenterX:function(u){return(this.getLeft(u)+this.getRight(u))/2},getCenterY:function(u){return(this.getTop(u)+this.getBottom(u))/2},intersects:function(u,v,l,c){return!(l<=this.pixelX||c<=this.pixelY||u>=this.right||v>=this.bottom)},isInteresting:function(u,v){return u&&v?this.canCollide||this.hasInterestingFace:u?this.collides:v?this.hasInterestingFace:!1},resetCollision:function(u){if(u===void 0&&(u=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,u){var v=this.tilemapLayer;v&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(u,v,l,c,p){if(v===void 0&&(v=u),l===void 0&&(l=u),c===void 0&&(c=u),p===void 0&&(p=!0),this.collideLeft=u,this.collideRight=v,this.collideUp=l,this.collideDown=c,this.faceLeft=u,this.faceRight=v,this.faceTop=l,this.faceBottom=c,p){var g=this.tilemapLayer;g&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(u,v){return u===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=u,this.collisionCallbackContext=v),this},setSize:function(u,v,l,c){return u!==void 0&&(this.width=u),v!==void 0&&(this.height=v),l!==void 0&&(this.baseWidth=l),c!==void 0&&(this.baseHeight=c),this.updatePixelXY(),this},updatePixelXY:function(){var u=this.layer.orientation;if(u===s.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(u===s.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(u===s.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(u===s.HEXAGONAL){var v=this.layer.staggerAxis,l=this.layer.staggerIndex,c=this.layer.hexSideLength,p,g;v==="y"?(g=(this.baseHeight-c)/2+c,l==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*g):v==="x"&&(p=(this.baseWidth-c)/2+c,this.pixelX=this.x*p,l==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var u=this.layer.tilemapLayer;if(u){var v=u.gidMap[this.index];if(v)return v}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var u=this.tilemapLayer;return u?u.tilemap:null}}});h.exports=o},89797:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(14556),d=e(56694),s=e(75606),a=e(93560),r=e(72632),o=e(94990),u=e(46422),v=e(12920),l=e(52257),c=e(72677),p=e(13747),g=e(29633),m=e(5047),T=e(87177),S=e(47975),P=new d({initialize:function(R,A){this.scene=R,this.tileWidth=A.tileWidth,this.tileHeight=A.tileHeight,this.width=A.width,this.height=A.height,this.orientation=A.orientation,this.renderOrder=A.renderOrder,this.format=A.format,this.version=A.version,this.properties=A.properties,this.widthInPixels=A.widthInPixels,this.heightInPixels=A.heightInPixels,this.imageCollections=A.imageCollections,this.images=A.images,this.layers=A.layers,this.tiles=A.tiles,this.tilesets=A.tilesets,this.objects=A.objects,this.currentLayerIndex=0,this.hexSideLength=A.hexSideLength;var w=this.orientation;this._convert={WorldToTileXY:m.GetWorldToTileXYFunction(w),WorldToTileX:m.GetWorldToTileXFunction(w),WorldToTileY:m.GetWorldToTileYFunction(w),TileToWorldXY:m.GetTileToWorldXYFunction(w),TileToWorldX:m.GetTileToWorldXFunction(w),TileToWorldY:m.GetTileToWorldYFunction(w),GetTileCorners:m.GetTileCornersFunction(w)}},setRenderOrder:function(E){var R=["right-down","left-down","right-up","left-up"];return typeof E=="number"&&(E=R[E]),R.indexOf(E)>-1&&(this.renderOrder=E),this},addTilesetImage:function(E,R,A,w,O,L,F,I){if(E===void 0)return null;if(R==null&&(R=E),!this.scene.sys.textures.exists(R))return console.warn("Invalid Tileset Image: "+R),null;var B=this.scene.sys.textures.get(R),G=this.getTilesetIndex(E);if(G===null&&this.format===a.TILED_JSON)return console.warn("No data found for Tileset: "+E),null;var N=this.tilesets[G];return N?(N.setTileSize(A,w),N.setSpacing(O,L),N.setImage(B),N):(A===void 0&&(A=this.tileWidth),w===void 0&&(w=this.tileHeight),O===void 0&&(O=0),L===void 0&&(L=0),F===void 0&&(F=0),I===void 0&&(I={x:0,y:0}),N=new S(E,F,A,w,O,L,void 0,void 0,I),N.setImage(B),this.tilesets.push(N),this.tiles=f(this),N)},copy:function(E,R,A,w,O,L,F,I){return I=this.getLayer(I),I!==null?(m.Copy(E,R,A,w,O,L,F,I),this):null},createBlankLayer:function(E,R,A,w,O,L,F,I){A===void 0&&(A=0),w===void 0&&(w=0),O===void 0&&(O=this.width),L===void 0&&(L=this.height),F===void 0&&(F=this.tileWidth),I===void 0&&(I=this.tileHeight);var B=this.getLayerIndex(E);if(B!==null)return console.warn("Invalid Tilemap Layer ID: "+E),null;for(var G=new o({name:E,tileWidth:F,tileHeight:I,width:O,height:L,orientation:this.orientation}),N,U=0;U<L;U++){N=[];for(var Y=0;Y<O;Y++)N.push(new g(G,-1,Y,U,F,I,this.tileWidth,this.tileHeight));G.data.push(N)}this.layers.push(G),this.currentLayerIndex=this.layers.length-1;var X=new T(this.scene,this,this.currentLayerIndex,R,A,w);return X.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(X),X},createLayer:function(E,R,A,w){var O=this.getLayerIndex(E);if(O===null)return console.warn("Invalid Tilemap Layer ID: "+E),typeof E=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var L=this.layers[O];if(L.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+E),null;this.currentLayerIndex=O,A===void 0&&(A=L.x),w===void 0&&(w=L.y);var F=new T(this.scene,this,O,R,A,w);return F.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(F),F},createFromObjects:function(E,R,A){A===void 0&&(A=!0);var w=[],O=this.getObjectLayer(E);if(!O)return console.warn("createFromObjects: Invalid objectLayerName given: "+E),w;var L=new u(A?this.tilesets:void 0);Array.isArray(R)||(R=[R]);for(var F=O.objects,I=0;I<R.length;I++){var B=R[I],G=r(B,"id",null),N=r(B,"gid",null),U=r(B,"name",null),Y=r(B,"type",null);L.enabled=!r(B,"ignoreTileset",null);for(var X,b=[],z=0;z<F.length;z++)X=F[z],(G===null&&N===null&&U===null&&Y===null||G!==null&&X.id===G||N!==null&&X.gid===N||U!==null&&X.name===U||Y!==null&&L.getTypeIncludingTile(X)===Y)&&b.push(X);for(var D=r(B,"classType",p),V=r(B,"scene",this.scene),k=r(B,"container",null),W=r(B,"key",null),H=r(B,"frame",null),$=0;$<b.length;$++){X=b[$];var K=new D(V);if(K.setName(X.name),K.setPosition(X.x,X.y),L.setTextureAndFrame(K,W,H,X),X.width&&(K.displayWidth=X.width),X.height&&(K.displayHeight=X.height),this.orientation===v.ISOMETRIC){var Z=this.tileWidth/this.tileHeight,j={x:K.x-K.y,y:(K.x+K.y)/Z};K.x=j.x,K.y=j.y}var J={x:K.originX*X.width,y:(K.originY-(X.gid?1:0))*X.height};if(X.rotation){var Q=s(X.rotation);l(J,Q),K.rotation=Q}K.x+=J.x,K.y+=J.y,(X.flippedHorizontal!==void 0||X.flippedVertical!==void 0)&&K.setFlip(X.flippedHorizontal,X.flippedVertical),X.visible||(K.visible=!1),L.setPropertiesFromTiledObject(K,X),k?k.add(K):V.add.existing(K),w.push(K)}}return w},createFromTiles:function(E,R,A,w,O,L){return L=this.getLayer(L),L===null?null:m.CreateFromTiles(E,R,A,w,O,L)},fill:function(E,R,A,w,O,L,F){return L===void 0&&(L=!0),F=this.getLayer(F),F===null?null:(m.Fill(E,R,A,w,O,L,F),this)},filterObjects:function(E,R,A){if(typeof E=="string"){var w=E;if(E=this.getObjectLayer(E),!E)return console.warn("No object layer found with the name: "+w),null}return E.objects.filter(R,A)},filterTiles:function(E,R,A,w,O,L,F,I){return I=this.getLayer(I),I===null?null:m.FilterTiles(E,R,A,w,O,L,F,I)},findByIndex:function(E,R,A,w){return w=this.getLayer(w),w===null?null:m.FindByIndex(E,R,A,w)},findObject:function(E,R,A){if(typeof E=="string"){var w=E;if(E=this.getObjectLayer(E),!E)return console.warn("No object layer found with the name: "+w),null}return E.objects.find(R,A)||null},findTile:function(E,R,A,w,O,L,F,I){return I=this.getLayer(I),I===null?null:m.FindTile(E,R,A,w,O,L,F,I)},forEachTile:function(E,R,A,w,O,L,F,I){return I=this.getLayer(I),I===null?null:(m.ForEachTile(E,R,A,w,O,L,F,I),this)},getImageIndex:function(E){return this.getIndex(this.images,E)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(E){return E.name})},getIndex:function(E,R){for(var A=0;A<E.length;A++)if(E[A].name===R)return A;return null},getLayer:function(E){var R=this.getLayerIndex(E);return R!==null?this.layers[R]:null},getObjectLayer:function(E){var R=this.getIndex(this.objects,E);return R!==null?this.objects[R]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(E){return E.name})},getLayerIndex:function(E){return E===void 0?this.currentLayerIndex:typeof E=="string"?this.getLayerIndexByName(E):typeof E=="number"&&E<this.layers.length?E:E instanceof T&&E.tilemap===this?E.layerIndex:null},getLayerIndexByName:function(E){return this.getIndex(this.layers,E)},getTileAt:function(E,R,A,w){return w=this.getLayer(w),w===null?null:m.GetTileAt(E,R,A,w)},getTileAtWorldXY:function(E,R,A,w,O){return O=this.getLayer(O),O===null?null:m.GetTileAtWorldXY(E,R,A,w,O)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(E){return E.name})},getTilesWithin:function(E,R,A,w,O,L){return L=this.getLayer(L),L===null?null:m.GetTilesWithin(E,R,A,w,O,L)},getTilesWithinShape:function(E,R,A,w){return w=this.getLayer(w),w===null?null:m.GetTilesWithinShape(E,R,A,w)},getTilesWithinWorldXY:function(E,R,A,w,O,L,F){return F=this.getLayer(F),F===null?null:m.GetTilesWithinWorldXY(E,R,A,w,O,L,F)},getTileset:function(E){var R=this.getIndex(this.tilesets,E);return R!==null?this.tilesets[R]:null},getTilesetIndex:function(E){return this.getIndex(this.tilesets,E)},hasTileAt:function(E,R,A){return A=this.getLayer(A),A===null?null:m.HasTileAt(E,R,A)},hasTileAtWorldXY:function(E,R,A,w){return w=this.getLayer(w),w===null?null:m.HasTileAtWorldXY(E,R,A,w)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(E){this.setLayer(E)}},putTileAt:function(E,R,A,w,O){return w===void 0&&(w=!0),O=this.getLayer(O),O===null?null:m.PutTileAt(E,R,A,w,O)},putTileAtWorldXY:function(E,R,A,w,O,L){return w===void 0&&(w=!0),L=this.getLayer(L),L===null?null:m.PutTileAtWorldXY(E,R,A,w,O,L)},putTilesAt:function(E,R,A,w,O){return w===void 0&&(w=!0),O=this.getLayer(O),O===null?null:(m.PutTilesAt(E,R,A,w,O),this)},randomize:function(E,R,A,w,O,L){return L=this.getLayer(L),L===null?null:(m.Randomize(E,R,A,w,O,L),this)},calculateFacesAt:function(E,R,A){return A=this.getLayer(A),A===null?null:(m.CalculateFacesAt(E,R,A),this)},calculateFacesWithin:function(E,R,A,w,O){return O=this.getLayer(O),O===null?null:(m.CalculateFacesWithin(E,R,A,w,O),this)},removeLayer:function(E){var R=this.getLayerIndex(E);if(R!==null){c(this.layers,R);for(var A=R;A<this.layers.length;A++)this.layers[A].tilemapLayer&&this.layers[A].tilemapLayer.layerIndex--;return this.currentLayerIndex===R&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(E){var R=this.getLayerIndex(E);return R!==null?(E=this.layers[R],E.tilemapLayer.destroy(),c(this.layers,R),this.currentLayerIndex===R&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var E=this.layers,R=0;R<E.length;R++)E[R].tilemapLayer&&E[R].tilemapLayer.destroy(!1);return E.length=0,this.currentLayerIndex=0,this},removeTile:function(E,R,A){R===void 0&&(R=-1),A===void 0&&(A=!0);var w=[];Array.isArray(E)||(E=[E]);for(var O=0;O<E.length;O++){var L=E[O];w.push(this.removeTileAt(L.x,L.y,!0,A,L.tilemapLayer)),R>-1&&this.putTileAt(R,L.x,L.y,A,L.tilemapLayer)}return w},removeTileAt:function(E,R,A,w,O){return A===void 0&&(A=!0),w===void 0&&(w=!0),O=this.getLayer(O),O===null?null:m.RemoveTileAt(E,R,A,w,O)},removeTileAtWorldXY:function(E,R,A,w,O,L){return A===void 0&&(A=!0),w===void 0&&(w=!0),L=this.getLayer(L),L===null?null:m.RemoveTileAtWorldXY(E,R,A,w,O,L)},renderDebug:function(E,R,A){return A=this.getLayer(A),A===null?null:(this.orientation===v.ORTHOGONAL&&m.RenderDebug(E,R,A),this)},renderDebugFull:function(E,R){for(var A=this.layers,w=0;w<A.length;w++)m.RenderDebug(E,R,A[w]);return this},replaceByIndex:function(E,R,A,w,O,L,F){return F=this.getLayer(F),F===null?null:(m.ReplaceByIndex(E,R,A,w,O,L,F),this)},setCollision:function(E,R,A,w,O){return R===void 0&&(R=!0),A===void 0&&(A=!0),O===void 0&&(O=!0),w=this.getLayer(w),w===null?null:(m.SetCollision(E,R,A,w,O),this)},setCollisionBetween:function(E,R,A,w,O){return A===void 0&&(A=!0),w===void 0&&(w=!0),O=this.getLayer(O),O===null?null:(m.SetCollisionBetween(E,R,A,w,O),this)},setCollisionByProperty:function(E,R,A,w){return R===void 0&&(R=!0),A===void 0&&(A=!0),w=this.getLayer(w),w===null?null:(m.SetCollisionByProperty(E,R,A,w),this)},setCollisionByExclusion:function(E,R,A,w){return R===void 0&&(R=!0),A===void 0&&(A=!0),w=this.getLayer(w),w===null?null:(m.SetCollisionByExclusion(E,R,A,w),this)},setCollisionFromCollisionGroup:function(E,R,A){return E===void 0&&(E=!0),R===void 0&&(R=!0),A=this.getLayer(A),A===null?null:(m.SetCollisionFromCollisionGroup(E,R,A),this)},setTileIndexCallback:function(E,R,A,w){return w=this.getLayer(w),w===null?null:(m.SetTileIndexCallback(E,R,A,w),this)},setTileLocationCallback:function(E,R,A,w,O,L,F){return F=this.getLayer(F),F===null?null:(m.SetTileLocationCallback(E,R,A,w,O,L,F),this)},setLayer:function(E){var R=this.getLayerIndex(E);return R!==null&&(this.currentLayerIndex=R),this},setBaseTileSize:function(E,R){this.tileWidth=E,this.tileHeight=R,this.widthInPixels=this.width*E,this.heightInPixels=this.height*R;for(var A=0;A<this.layers.length;A++){this.layers[A].baseTileWidth=E,this.layers[A].baseTileHeight=R;for(var w=this.layers[A].data,O=this.layers[A].width,L=this.layers[A].height,F=0;F<L;F++)for(var I=0;I<O;I++){var B=w[F][I];B!==null&&B.setSize(void 0,void 0,E,R)}}return this},setLayerTileSize:function(E,R,A){if(A=this.getLayer(A),A===null)return this;A.tileWidth=E,A.tileHeight=R;for(var w=A.data,O=A.width,L=A.height,F=0;F<L;F++)for(var I=0;I<O;I++){var B=w[F][I];B!==null&&B.setSize(E,R)}return this},shuffle:function(E,R,A,w,O){return O=this.getLayer(O),O===null?null:(m.Shuffle(E,R,A,w,O),this)},swapByIndex:function(E,R,A,w,O,L,F){return F=this.getLayer(F),F===null?null:(m.SwapByIndex(E,R,A,w,O,L,F),this)},tileToWorldX:function(E,R,A){return A=this.getLayer(A),A===null?null:this._convert.TileToWorldX(E,R,A)},tileToWorldY:function(E,R,A){return A=this.getLayer(A),A===null?null:this._convert.TileToWorldY(E,R,A)},tileToWorldXY:function(E,R,A,w,O){return O=this.getLayer(O),O===null?null:this._convert.TileToWorldXY(E,R,A,w,O)},getTileCorners:function(E,R,A,w){return w=this.getLayer(w),w===null?null:this._convert.GetTileCorners(E,R,A,w)},weightedRandomize:function(E,R,A,w,O,L){return L=this.getLayer(L),L===null?null:(m.WeightedRandomize(R,A,w,O,E,L),this)},worldToTileX:function(E,R,A,w){return w=this.getLayer(w),w===null?null:this._convert.WorldToTileX(E,R,A,w)},worldToTileY:function(E,R,A,w){return w=this.getLayer(w),w===null?null:this._convert.WorldToTileY(E,R,A,w)},worldToTileXY:function(E,R,A,w,O,L){return L=this.getLayer(L),L===null?null:this._convert.WorldToTileXY(E,R,A,w,O,L)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});h.exports=P},4843:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(99325),d=e(15043);f.register("tilemap",function(s){var a=s!==void 0?s:{};return d(this.scene,a.key,a.tileWidth,a.tileHeight,a.width,a.height,a.data,a.insertNull)})},37940:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61286),d=e(15043);f.register("tilemap",function(s,a,r,o,u,v,l){return s===null&&(s=void 0),a===null&&(a=void 0),r===null&&(r=void 0),o===null&&(o=void 0),u===null&&(u=void 0),d(this.scene,s,a,r,o,u,v,l)})},87177:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(95239),s=e(64937),a=e(89980),r=e(5047),o=e(96193),u=e(93736),v=new f({Extends:a,Mixins:[s.Alpha,s.BlendMode,s.ComputedSize,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.PostPipeline,s.Transform,s.Visible,s.ScrollFactor,d,o],initialize:function(c,p,g,m,T,S){a.call(this,c,"TilemapLayer"),this.isTilemap=!0,this.tilemap=p,this.layerIndex=g,this.layer=p.layers[g],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=r.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new u,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(m),this.setAlpha(this.layer.alpha),this.setPosition(T,S),this.setOrigin(0,0),this.setSize(p.tileWidth*this.layer.width,p.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(l){var c=[],p=[],g=this.tilemap;Array.isArray(l)||(l=[l]);for(var m=0;m<l.length;m++){var T=l[m];if(typeof T=="string"&&(T=g.getTileset(T)),T){p.push(T);for(var S=T.firstgid,P=0;P<T.total;P++)c[S+P]=T}}this.gidMap=c,this.tileset=p},setRenderOrder:function(l){var c=["right-down","left-down","right-up","left-up"];return typeof l=="string"&&(l=c.indexOf(l)),l>=0&&l<4&&(this._renderOrder=l),this},calculateFacesAt:function(l,c){return r.CalculateFacesAt(l,c,this.layer),this},calculateFacesWithin:function(l,c,p,g){return r.CalculateFacesWithin(l,c,p,g,this.layer),this},createFromTiles:function(l,c,p,g,m){return r.CreateFromTiles(l,c,p,g,m,this.layer)},cull:function(l){return this.cullCallback(this.layer,l,this.culledTiles,this._renderOrder)},copy:function(l,c,p,g,m,T,S){return r.Copy(l,c,p,g,m,T,S,this.layer),this},fill:function(l,c,p,g,m,T){return r.Fill(l,c,p,g,m,T,this.layer),this},filterTiles:function(l,c,p,g,m,T,S){return r.FilterTiles(l,c,p,g,m,T,S,this.layer)},findByIndex:function(l,c,p){return r.FindByIndex(l,c,p,this.layer)},findTile:function(l,c,p,g,m,T,S){return r.FindTile(l,c,p,g,m,T,S,this.layer)},forEachTile:function(l,c,p,g,m,T,S){return r.ForEachTile(l,c,p,g,m,T,S,this.layer),this},setTint:function(l,c,p,g,m,T){l===void 0&&(l=16777215);var S=function(P){P.tint=l,P.tintFill=!1};return this.forEachTile(S,this,c,p,g,m,T)},setTintFill:function(l,c,p,g,m,T){l===void 0&&(l=16777215);var S=function(P){P.tint=l,P.tintFill=!0};return this.forEachTile(S,this,c,p,g,m,T)},getTileAt:function(l,c,p){return r.GetTileAt(l,c,p,this.layer)},getTileAtWorldXY:function(l,c,p,g){return r.GetTileAtWorldXY(l,c,p,g,this.layer)},getIsoTileAtWorldXY:function(l,c,p,g,m){p===void 0&&(p=!0);var T=this.tempVec;return r.IsometricWorldToTileXY(l,c,!0,T,m,this.layer,p),this.getTileAt(T.x,T.y,g)},getTilesWithin:function(l,c,p,g,m){return r.GetTilesWithin(l,c,p,g,m,this.layer)},getTilesWithinShape:function(l,c,p){return r.GetTilesWithinShape(l,c,p,this.layer)},getTilesWithinWorldXY:function(l,c,p,g,m,T){return r.GetTilesWithinWorldXY(l,c,p,g,m,T,this.layer)},hasTileAt:function(l,c){return r.HasTileAt(l,c,this.layer)},hasTileAtWorldXY:function(l,c,p){return r.HasTileAtWorldXY(l,c,p,this.layer)},putTileAt:function(l,c,p,g){return r.PutTileAt(l,c,p,g,this.layer)},putTileAtWorldXY:function(l,c,p,g,m){return r.PutTileAtWorldXY(l,c,p,g,m,this.layer)},putTilesAt:function(l,c,p,g){return r.PutTilesAt(l,c,p,g,this.layer),this},randomize:function(l,c,p,g,m){return r.Randomize(l,c,p,g,m,this.layer),this},removeTileAt:function(l,c,p,g){return r.RemoveTileAt(l,c,p,g,this.layer)},removeTileAtWorldXY:function(l,c,p,g,m){return r.RemoveTileAtWorldXY(l,c,p,g,m,this.layer)},renderDebug:function(l,c){return r.RenderDebug(l,c,this.layer),this},replaceByIndex:function(l,c,p,g,m,T){return r.ReplaceByIndex(l,c,p,g,m,T,this.layer),this},setSkipCull:function(l){return l===void 0&&(l=!0),this.skipCull=l,this},setCullPadding:function(l,c){return l===void 0&&(l=1),c===void 0&&(c=1),this.cullPaddingX=l,this.cullPaddingY=c,this},setCollision:function(l,c,p,g){return r.SetCollision(l,c,p,this.layer,g),this},setCollisionBetween:function(l,c,p,g){return r.SetCollisionBetween(l,c,p,g,this.layer),this},setCollisionByProperty:function(l,c,p){return r.SetCollisionByProperty(l,c,p,this.layer),this},setCollisionByExclusion:function(l,c,p){return r.SetCollisionByExclusion(l,c,p,this.layer),this},setCollisionFromCollisionGroup:function(l,c){return r.SetCollisionFromCollisionGroup(l,c,this.layer),this},setTileIndexCallback:function(l,c,p){return r.SetTileIndexCallback(l,c,p,this.layer),this},setTileLocationCallback:function(l,c,p,g,m,T){return r.SetTileLocationCallback(l,c,p,g,m,T,this.layer),this},shuffle:function(l,c,p,g){return r.Shuffle(l,c,p,g,this.layer),this},swapByIndex:function(l,c,p,g,m,T){return r.SwapByIndex(l,c,p,g,m,T,this.layer),this},tileToWorldX:function(l,c){return this.tilemap.tileToWorldX(l,c,this)},tileToWorldY:function(l,c){return this.tilemap.tileToWorldY(l,c,this)},tileToWorldXY:function(l,c,p,g){return this.tilemap.tileToWorldXY(l,c,p,g,this)},getTileCorners:function(l,c,p){return this.tilemap.getTileCorners(l,c,p,this)},weightedRandomize:function(l,c,p,g,m){return r.WeightedRandomize(c,p,g,m,l,this.layer),this},worldToTileX:function(l,c,p){return this.tilemap.worldToTileX(l,c,p,this)},worldToTileY:function(l,c,p){return this.tilemap.worldToTileY(l,c,p,this)},worldToTileXY:function(l,c,p,g,m){return this.tilemap.worldToTileXY(l,c,p,g,m,this)},destroy:function(l){l===void 0&&(l=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),l&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],a.prototype.destroy.call(this))}});h.exports=v},17394:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(69360),d=new f,s=new f,a=new f,r=function(o,u,v,l){var c=u.cull(v),p=c.length,g=v.alpha*u.alpha;if(!(p===0||g<=0)){var m=d,T=s,S=a;T.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY),m.copyFrom(v.matrix);var P=o.currentContext,E=u.gidMap;P.save(),l?(m.multiplyWithOffset(l,-v.scrollX*u.scrollFactorX,-v.scrollY*u.scrollFactorY),T.e=u.x,T.f=u.y,m.multiply(T,S),S.copyToContext(P)):(T.e-=v.scrollX*u.scrollFactorX,T.f-=v.scrollY*u.scrollFactorY,T.copyToContext(P)),(!o.antialias||u.scaleX>1||u.scaleY>1)&&(P.imageSmoothingEnabled=!1);for(var R=0;R<p;R++){var A=c[R],w=E[A.index];if(w){var O=w.image.getSourceImage(),L=w.getTileTextureCoordinates(A.index),F=w.tileWidth,I=w.tileHeight;if(!(L===null||F===0||I===0)){var B=F*.5,G=I*.5;L.x+=w.tileOffset.x,L.y+=w.tileOffset.y,P.save(),P.translate(A.pixelX+B,A.pixelY+G),A.rotation!==0&&P.rotate(A.rotation),(A.flipX||A.flipY)&&P.scale(A.flipX?-1:1,A.flipY?-1:1),P.globalAlpha=g*A.alpha,P.drawImage(O,L.x,L.y,F,I,-B,-G,F,I),P.restore()}}}P.restore()}};h.exports=r},96193:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),d=f,s=f;d=e(51395),s=e(17394),h.exports={renderWebGL:d,renderCanvas:s}},51395:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(75512),d=function(s,a,r){var o=a.cull(r),u=o.length,v=r.alpha*a.alpha;if(!(u===0||v<=0)){var l=a.gidMap,c=s.pipelines.set(a.pipeline,a),p=f.getTintAppendFloatAlpha,g=a.scrollFactorX,m=a.scrollFactorY,T=a.x,S=a.y,P=a.scaleX,E=a.scaleY;s.pipelines.preBatch(a);for(var R=0;R<u;R++){var A=o[R],w=l[A.index];if(w){var O=w.getTileTextureCoordinates(A.index);if(O!==null){var L=w.glTexture,F=c.setTexture2D(L,a),I=w.tileWidth,B=w.tileHeight,G=O.x,N=O.y,U=w.tileWidth*.5,Y=w.tileHeight*.5,X=w.tileOffset.x,b=w.tileOffset.y,z=p(A.tint,v*A.alpha);c.batchTexture(a,L,L.width,L.height,T+A.pixelX*P+(U*P-X),S+A.pixelY*E+(Y*E-b),A.width,A.height,P,E,A.rotation,A.flipX,A.flipY,g,m,U,Y,G,N,I,B,z,z,z,z,A.tintFill,0,0,r,null,!0,F,!0)}}}s.pipelines.postBatch(a)}};h.exports=d},47975:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(93736),s=new f({initialize:function(r,o,u,v,l,c,p,g,m){(u===void 0||u<=0)&&(u=32),(v===void 0||v<=0)&&(v=32),l===void 0&&(l=0),c===void 0&&(c=0),p===void 0&&(p={}),g===void 0&&(g={}),this.name=r,this.firstgid=o,this.tileWidth=u,this.tileHeight=v,this.tileMargin=l,this.tileSpacing=c,this.tileProperties=p,this.tileData=g,this.tileOffset=new d,m!==void 0&&this.tileOffset.set(m.x,m.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(a){return this.containsTileIndex(a)?this.tileProperties[a-this.firstgid]:null},getTileData:function(a){return this.containsTileIndex(a)?this.tileData[a-this.firstgid]:null},getTileCollisionGroup:function(a){var r=this.getTileData(a);return r&&r.objectgroup?r.objectgroup:null},containsTileIndex:function(a){return a>=this.firstgid&&a<this.firstgid+this.total},getTileTextureCoordinates:function(a){return this.containsTileIndex(a)?this.texCoordinates[a-this.firstgid]:null},setImage:function(a){return this.image=a,this.glTexture=a.get().source.glTexture,this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setTileSize:function(a,r){return a!==void 0&&(this.tileWidth=a),r!==void 0&&(this.tileHeight=r),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(a,r){return a!==void 0&&(this.tileMargin=a),r!==void 0&&(this.tileSpacing=r),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(a,r){var o=(r-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),u=(a-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(o%1!==0||u%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),o=Math.floor(o),u=Math.floor(u),this.rows=o,this.columns=u,this.total=o*u,this.texCoordinates.length=0;for(var v=this.tileMargin,l=this.tileMargin,c=0;c<this.rows;c++){for(var p=0;p<this.columns;p++)this.texCoordinates.push({x:v,y:l}),v+=this.tileWidth+this.tileSpacing;v=this.tileMargin,l+=this.tileHeight+this.tileSpacing}return this}});h.exports=s},92839:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(15494),d=function(s,a,r){var o=f(s,a,!0,r),u=f(s,a-1,!0,r),v=f(s,a+1,!0,r),l=f(s-1,a,!0,r),c=f(s+1,a,!0,r),p=o&&o.collides;return p&&(o.faceTop=!0,o.faceBottom=!0,o.faceLeft=!0,o.faceRight=!0),u&&u.collides&&(p&&(o.faceTop=!1),u.faceBottom=!p),v&&v.collides&&(p&&(o.faceBottom=!1),v.faceTop=!p),l&&l.collides&&(p&&(o.faceLeft=!1),l.faceRight=!p),c&&c.collides&&(p&&(o.faceRight=!1),c.faceLeft=!p),o&&!o.collides&&o.resetFaces(),o};h.exports=d},60386:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(15494),d=e(50811),s=function(a,r,o,u,v){for(var l=null,c=null,p=null,g=null,m=d(a,r,o,u,null,v),T=0;T<m.length;T++){var S=m[T];S&&(S.collides?(l=f(S.x,S.y-1,!0,v),c=f(S.x,S.y+1,!0,v),p=f(S.x-1,S.y,!0,v),g=f(S.x+1,S.y,!0,v),S.faceTop=!(l&&l.collides),S.faceBottom=!(c&&c.collides),S.faceLeft=!(p&&p.collides),S.faceRight=!(g&&g.collides)):S.resetFaces())}};h.exports=s},13125:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(93736),d=new f,s=function(a,r,o,u){var v=o.tilemapLayer,l=v.cullPaddingX,c=v.cullPaddingY,p=v.tilemap.tileToWorldXY(a,r,d,u,v);return p.x>u.worldView.x+v.scaleX*o.tileWidth*(-l-.5)&&p.x<u.worldView.right+v.scaleX*o.tileWidth*(l-.5)&&p.y>u.worldView.y+v.scaleY*o.tileHeight*(-c-1)&&p.y<u.worldView.bottom+v.scaleY*o.tileHeight*(c-.5)};h.exports=s},17347:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(60386),d=e(50811),s=e(62839),a=e(29633),r=function(o,u,v,l,c,p,g,m){g===void 0&&(g=!0);var T=d(o,u,v,l,null,m),S=[];T.forEach(function(L){var F=new a(L.layer,L.index,L.x,L.y,L.width,L.height,L.baseWidth,L.baseHeight);F.copy(L),S.push(F)});for(var P=c-o,E=p-u,R=0;R<S.length;R++){var A=S[R],w=A.x+P,O=A.y+E;s(w,O,m)&&m.data[O][w]&&(A.x=w,A.y=O,A.updatePixelXY(),m.data[O][w]=A)}g&&f(c-1,p-1,v+2,l+2,m),T.length=0,S.length=0};h.exports=r},93604:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(50811),d=e(51202),s=function(a,r,o,u,v,l){o||(o={}),Array.isArray(a)||(a=[a]);var c=l.tilemapLayer;u||(u=c.scene),v||(v=u.cameras.main);var p=f(0,0,l.width,l.height,null,l),g=[],m;for(m=0;m<p.length;m++){var T=p[m];if(a.indexOf(T.index)!==-1){var S=c.tileToWorldXY(T.x,T.y,void 0,v,l);o.x=S.x,o.y=S.y,g.push(u.make.sprite(o))}}if(typeof r=="number")for(m=0;m<a.length;m++)d(a[m],r,0,0,l.width,l.height,l);else if(Array.isArray(r))for(m=0;m<a.length;m++)d(a[m],r[m],0,0,l.width,l.height,l);return g};h.exports=s},71586:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(74118),d=e(82127),s=e(84314),a=new f,r=function(o,u){var v=o.tilemapLayer.tilemap,l=o.tilemapLayer,c=Math.floor(v.tileWidth*l.scaleX),p=Math.floor(v.tileHeight*l.scaleY),g=s(u.worldView.x-l.x,c,0,!0)-l.cullPaddingX,m=d(u.worldView.right-l.x,c,0,!0)+l.cullPaddingX,T=s(u.worldView.y-l.y,p,0,!0)-l.cullPaddingY,S=d(u.worldView.bottom-l.y,p,0,!0)+l.cullPaddingY;return a.setTo(g,T,m-g,S-T)};h.exports=r},381:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(71586),d=e(6987),s=function(a,r,o,u){o===void 0&&(o=[]),u===void 0&&(u=0),o.length=0;var v=a.tilemapLayer,l=f(a,r);return(v.skipCull||v.scrollFactorX!==1||v.scrollFactorY!==1)&&(l.left=0,l.right=a.width,l.top=0,l.bottom=a.height),d(a,l,u,o),o};h.exports=s},97734:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(50811),d=e(60386),s=e(68234),a=function(r,o,u,v,l,c,p){for(var g=p.collideIndexes.indexOf(r)!==-1,m=f(o,u,v,l,null,p),T=0;T<m.length;T++)m[T].index=r,s(m[T],g);c&&d(o-1,u-1,v+2,l+2,p)};h.exports=a},63555:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(50811),d=function(s,a,r,o,u,v,l,c){var p=f(r,o,u,v,l,c);return p.filter(s,a)};h.exports=d},37982:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){f===void 0&&(f=0),d===void 0&&(d=!1);var a=0,r,o,u;if(d){for(o=s.height-1;o>=0;o--)for(r=s.width-1;r>=0;r--)if(u=s.data[o][r],u&&u.index===e){if(a===f)return u;a+=1}}else for(o=0;o<s.height;o++)for(r=0;r<s.width;r++)if(u=s.data[o][r],u&&u.index===e){if(a===f)return u;a+=1}return null};h.exports=y},48297:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(50811),d=function(s,a,r,o,u,v,l,c){var p=f(r,o,u,v,l,c);return p.find(s,a)||null};h.exports=d},80916:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(50811),d=function(s,a,r,o,u,v,l,c){var p=f(r,o,u,v,l,c);p.forEach(s,a)};h.exports=d},31493:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(12920),d=e(381),s=e(37524),a=e(20887),r=e(72283),o=e(19242),u=function(v){return v===f.ORTHOGONAL?d:v===f.HEXAGONAL?s:v===f.STAGGERED?o:v===f.ISOMETRIC?a:r};h.exports=u},15494:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(62839),d=function(s,a,r,o){if(r===void 0&&(r=!1),f(s,a,o)){var u=o.data[a][s]||null;return u?u.index===-1?r?u:null:u:null}else return null};h.exports=d},24640:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(15494),d=e(93736),s=new d,a=function(r,o,u,v,l){return l.tilemapLayer.worldToTileXY(r,o,!0,s,v),f(s.x,s.y,u,l)};h.exports=a},48495:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(93736),d=function(s,a,r,o){var u=o.baseTileWidth,v=o.baseTileHeight,l=o.tilemapLayer,c=0,p=0;l&&(r||(r=l.scene.cameras.main),c=l.x+r.scrollX*(1-l.scrollFactorX),p=l.y+r.scrollY*(1-l.scrollFactorY),u*=l.scaleX,v*=l.scaleY);var g=c+s*u,m=p+a*v;return[new f(g,m),new f(g+u,m),new f(g+u,m+v),new f(g,m+v)]};h.exports=d},7160:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(12920),d=e(63634),s=e(72283),a=e(48495),r=function(o){return o===f.ORTHOGONAL?a:o===f.ISOMETRIC?s:o===f.HEXAGONAL?d:(o===f.STAGGERED,s)};h.exports=r},16884:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(12920),d=e(72283),s=e(44150),a=function(r){return r===f.ORTHOGONAL?s:d};h.exports=a},68182:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(12920),d=e(21715),s=e(21808),a=e(72283),r=e(33388),o=e(46836),u=function(v){return v===f.ORTHOGONAL?o:v===f.ISOMETRIC?s:v===f.HEXAGONAL?d:v===f.STAGGERED?r:a};h.exports=u},3752:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(12920),d=e(72283),s=e(84132),a=e(42477),r=function(o){return o===f.ORTHOGONAL?a:o===f.STAGGERED?s:d};h.exports=r},50811:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72632),d=function(s,a,r,o,u,v){s===void 0&&(s=0),a===void 0&&(a=0),r===void 0&&(r=v.width),o===void 0&&(o=v.height),u||(u={});var l=f(u,"isNotEmpty",!1),c=f(u,"isColliding",!1),p=f(u,"hasInterestingFace",!1);s<0&&(r+=s,s=0),a<0&&(o+=a,a=0),s+r>v.width&&(r=Math.max(v.width-s,0)),a+o>v.height&&(o=Math.max(v.height-a,0));for(var g=[],m=a;m<a+o;m++)for(var T=s;T<s+r;T++){var S=v.data[m][T];if(S!==null){if(l&&S.index===-1||c&&!S.collides||p&&!S.hasInterestingFace)continue;g.push(S)}}return g};h.exports=d},31674:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(84068),d=e(50811),s=e(7563),a=e(72283),r=e(93736),o=function(p,g){return s.RectangleToTriangle(g,p)},u=new r,v=new r,l=new r,c=function(p,g,m,T){if(p===void 0)return[];var S=a;p instanceof f.Circle?S=s.CircleToRectangle:p instanceof f.Rectangle?S=s.RectangleToRectangle:p instanceof f.Triangle?S=o:p instanceof f.Line&&(S=s.LineToRectangle),T.tilemapLayer.worldToTileXY(p.left,p.top,!0,v,m);var P=v.x,E=v.y;T.tilemapLayer.worldToTileXY(p.right,p.bottom,!1,l,m);var R=Math.ceil(l.x),A=Math.ceil(l.y),w=Math.max(R-P,1),O=Math.max(A-E,1),L=d(P,E,w,O,g,T),F=T.tileWidth,I=T.tileHeight;T.tilemapLayer&&(F*=T.tilemapLayer.scaleX,I*=T.tilemapLayer.scaleY);for(var B=[],G=new f.Rectangle(0,0,F,I),N=0;N<L.length;N++){var U=L[N];T.tilemapLayer.tileToWorldXY(U.x,U.y,u,m),G.x=u.x,G.y=u.y,S(p,G)&&B.push(U)}return B};h.exports=c},44662:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(50811),d=e(93736),s=new d,a=new d,r=function(o,u,v,l,c,p,g){var m=g.tilemapLayer.tilemap._convert.WorldToTileXY;m(o,u,!0,s,p,g);var T=s.x,S=s.y;m(o+v,u+l,!1,a,p,g);var P=Math.ceil(a.x),E=Math.ceil(a.y);return f(T,S,P-T,E-S,c,g)};h.exports=r},29296:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(12920),d=e(10618),s=e(806),a=function(r){return r===f.ORTHOGONAL?s:d};h.exports=a},32688:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(12920),d=e(11516),s=e(18750),a=e(72283),r=e(90562),o=e(45676),u=function(v){return v===f.ORTHOGONAL?o:v===f.ISOMETRIC?s:v===f.HEXAGONAL?d:v===f.STAGGERED?r:a};h.exports=u},74326:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(12920),d=e(10618),s=e(3689),a=e(70520),r=function(o){return o===f.ORTHOGONAL?a:o===f.STAGGERED?s:d};h.exports=r},46598:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(62839),d=function(s,a,r){if(f(s,a,r)){var o=r.data[a][s];return o!==null&&o.index>-1}else return!1};h.exports=d},28654:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(46598),d=e(93736),s=new d,a=function(r,o,u,v){v.tilemapLayer.worldToTileXY(r,o,!0,s,u);var l=s.x,c=s.y;return f(l,c,v)};h.exports=a},6358:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(82127),d=e(84314),s=function(a,r){var o=a.tilemapLayer.tilemap,u=a.tilemapLayer,v=Math.floor(o.tileWidth*u.scaleX),l=Math.floor(o.tileHeight*u.scaleY),c=a.hexSideLength,p,g,m,T;if(a.staggerAxis==="y"){var S=(l-c)/2+c;p=d(r.worldView.x-u.x,v,0,!0)-u.cullPaddingX,g=f(r.worldView.right-u.x,v,0,!0)+u.cullPaddingX,m=d(r.worldView.y-u.y,S,0,!0)-u.cullPaddingY,T=f(r.worldView.bottom-u.y,S,0,!0)+u.cullPaddingY}else{var P=(v-c)/2+c;p=d(r.worldView.x-u.x,P,0,!0)-u.cullPaddingX,g=f(r.worldView.right-u.x,P,0,!0)+u.cullPaddingX,m=d(r.worldView.y-u.y,l,0,!0)-u.cullPaddingY,T=f(r.worldView.bottom-u.y,l,0,!0)+u.cullPaddingY}return{left:p,right:g,top:m,bottom:T}};h.exports=s},37524:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(6358),d=e(6987),s=function(a,r,o,u){o===void 0&&(o=[]),u===void 0&&(u=0),o.length=0;var v=a.tilemapLayer,l=f(a,r);return v.skipCull&&v.scrollFactorX===1&&v.scrollFactorY===1&&(l.left=0,l.right=a.width,l.top=0,l.bottom=a.height),d(a,l,u,o),o};h.exports=s},63634:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(21715),d=e(93736),s=new d,a=function(r,o,u,v){var l=v.baseTileWidth,c=v.baseTileHeight,p=v.tilemapLayer;p&&(l*=p.scaleX,c*=p.scaleY);var g=f(r,o,s,u,v),m=[],T=.5773502691896257,S,P;v.staggerAxis==="y"?(S=T*l,P=c/2):(S=l/2,P=T*c);for(var E=0;E<6;E++){var R=2*Math.PI*(.5-E)/6;m.push(new d(g.x+S*Math.cos(R),g.y+P*Math.sin(R)))}return m};h.exports=a},21715:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(93736),d=function(s,a,r,o,u){r||(r=new f);var v=u.baseTileWidth,l=u.baseTileHeight,c=u.tilemapLayer,p=0,g=0;c&&(o||(o=c.scene.cameras.main),p=c.x+o.scrollX*(1-c.scrollFactorX),g=c.y+o.scrollY*(1-c.scrollFactorY),v*=c.scaleX,l*=c.scaleY);var m=v/2,T=l/2,S,P;return u.staggerAxis==="y"?(S=p+v*s+v,P=g+1.5*a*T+T,a%2===0&&(this.staggerIndex==="odd"?S-=m:S+=m)):this.staggerAxis==="x"&&this.staggerIndex==="odd"&&(S=p+1.5*s*m+m,P=g+l*s+l,s%2===0&&(this.staggerIndex==="odd"?P-=T:P+=T)),r.set(S,P)};h.exports=d},11516:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(93736),d=function(s,a,r,o,u,v){o||(o=new f);var l=v.baseTileWidth,c=v.baseTileHeight,p=v.tilemapLayer;p&&(u||(u=p.scene.cameras.main),s=s-(p.x+u.scrollX*(1-p.scrollFactorX)),a=a-(p.y+u.scrollY*(1-p.scrollFactorY)),l*=p.scaleX,c*=p.scaleY);var g=.5773502691896257,m=-.3333333333333333,T=0,S=.6666666666666666,P=l/2,E=c/2,R,A,w,O,L;v.staggerAxis==="y"?(R=(s-P)/(g*l),A=(a-E)/E,w=g*R+m*A,O=T*R+S*A):(R=(s-P)/P,A=(a-E)/(g*c),w=m*R+g*A,O=S*R+T*A),L=-w-O;var F=Math.round(w),I=Math.round(O),B=Math.round(L),G=Math.abs(F-w),N=Math.abs(I-O),U=Math.abs(B-L);G>N&&G>U?F=-I-B:N>U&&(I=-F-B);var Y,X=I;return v.staggerIndex==="odd"?Y=X%2===0?I/2+F:I/2+F-.5:Y=X%2===0?I/2+F:I/2+F+.5,o.set(Y,X)};h.exports=d},62839:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){return e>=0&&e<d.width&&f>=0&&f<d.height};h.exports=y},20887:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(13125),d=function(s,a,r,o){r===void 0&&(r=[]),o===void 0&&(o=0),r.length=0;var u=s.tilemapLayer,v=s.data,l=s.width,c=s.height,p=u.skipCull,g=0,m=l,T=0,S=c,P,E,R;if(o===0){for(E=T;E<S;E++)for(P=g;P<m;P++)if(p||f(P,E,s,a)){if(R=v[E][P],!R||R.index===-1||!R.visible||R.alpha===0)continue;r.push(R)}}else if(o===1){for(E=T;E<S;E++)for(P=m;P>=g;P--)if(p||f(P,E,s,a)){if(R=v[E][P],!R||R.index===-1||!R.visible||R.alpha===0)continue;r.push(R)}}else if(o===2){for(E=S;E>=T;E--)for(P=g;P<m;P++)if(p||f(P,E,s,a)){if(R=v[E][P],!R||R.index===-1||!R.visible||R.alpha===0)continue;r.push(R)}}else if(o===3){for(E=S;E>=T;E--)for(P=m;P>=g;P--)if(p||f(P,E,s,a)){if(R=v[E][P],!R||R.index===-1||!R.visible||R.alpha===0)continue;r.push(R)}}return u.tilesDrawn=r.length,u.tilesTotal=l*c,r};h.exports=d},21808:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(93736),d=function(s,a,r,o,u){r||(r=new f);var v=u.baseTileWidth,l=u.baseTileHeight,c=u.tilemapLayer,p=0,g=0;c&&(o||(o=c.scene.cameras.main),p=c.x+o.scrollX*(1-c.scrollFactorX),v*=c.scaleX,g=c.y+o.scrollY*(1-c.scrollFactorY),l*=c.scaleY);var m=p+(s-a)*(v/2),T=g+(s+a)*(l/2);return r.set(m,T)};h.exports=d},18750:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(93736),d=function(s,a,r,o,u,v,l){o||(o=new f);var c=v.baseTileWidth,p=v.baseTileHeight,g=v.tilemapLayer;g&&(u||(u=g.scene.cameras.main),a=a-(g.y+u.scrollY*(1-g.scrollFactorY)),p*=g.scaleY,s=s-(g.x+u.scrollX*(1-g.scrollFactorX)),c*=g.scaleX);var m=c/2,T=p/2;s=s-m,l||(a=a-p);var S=.5*(s/m+a/T),P=.5*(-s/m+a/T);return r&&(S=Math.floor(S),P=Math.floor(P)),o.set(S,P)};h.exports=d},29003:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(29633),d=e(62839),s=e(92839),a=e(68234),r=function(o,u,v,l,c){if(l===void 0&&(l=!0),!d(u,v,c))return null;var p,g=c.data[v][u],m=g&&g.collides;o instanceof f?(c.data[v][u]===null&&(c.data[v][u]=new f(c,o.index,u,v,c.tileWidth,c.tileHeight)),c.data[v][u].copy(o)):(p=o,c.data[v][u]===null?c.data[v][u]=new f(c,p,u,v,c.tileWidth,c.tileHeight):c.data[v][u].index=p);var T=c.data[v][u],S=c.collideIndexes.indexOf(T.index)!==-1;if(p=o instanceof f?o.index:o,p===-1)T.width=c.tileWidth,T.height=c.tileHeight;else{var P=c.tilemapLayer.tilemap,E=P.tiles,R=E[p][2],A=P.tilesets[R];T.width=A.tileWidth,T.height=A.tileHeight}return a(T,S),l&&m!==T.collides&&s(u,v,c),T};h.exports=r},48565:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(29003),d=e(93736),s=new d,a=function(r,o,u,v,l,c){return c.tilemapLayer.worldToTileXY(o,u,!0,s,l,c),f(r,s.x,s.y,v,c)};h.exports=a},56547:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(60386),d=e(29003),s=function(a,r,o,u,v){if(u===void 0&&(u=!0),!Array.isArray(a))return null;Array.isArray(a[0])||(a=[a]);for(var l=a.length,c=a[0].length,p=0;p<l;p++)for(var g=0;g<c;g++){var m=a[p][g];d(m,r+g,o+p,!1,v)}u&&f(r-1,o-1,c+2,l+2,v)};h.exports=s},91180:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(50811),d=e(72861),s=function(a,r,o,u,v,l){var c,p=f(a,r,o,u,{},l);if(!v)for(v=[],c=0;c<p.length;c++)v.indexOf(p[c].index)===-1&&v.push(p[c].index);for(c=0;c<p.length;c++)p[c].index=d(v)};h.exports=s},929:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(29633),d=e(62839),s=e(92839),a=function(r,o,u,v,l){if(u===void 0&&(u=!0),v===void 0&&(v=!0),!d(r,o,l))return null;var c=l.data[o][r];if(c)l.data[o][r]=u?null:new f(l,-1,r,o,l.tileWidth,l.tileHeight);else return null;return v&&c&&c.collides&&s(r,o,l),c};h.exports=a},17384:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(929),d=e(93736),s=new d,a=function(r,o,u,v,l,c){return c.tilemapLayer.worldToTileXY(r,o,!0,s,l,c),f(s.x,s.y,u,v,c)};h.exports=a},93763:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(50811),d=e(95509),s=new d(105,210,231,150),a=new d(243,134,48,200),r=new d(40,39,37,150),o=function(u,v,l){v===void 0&&(v={});var c=v.tileColor!==void 0?v.tileColor:s,p=v.collidingTileColor!==void 0?v.collidingTileColor:a,g=v.faceColor!==void 0?v.faceColor:r,m=f(0,0,l.width,l.height,null,l);u.translateCanvas(l.tilemapLayer.x,l.tilemapLayer.y),u.scaleCanvas(l.tilemapLayer.scaleX,l.tilemapLayer.scaleY);for(var T=0;T<m.length;T++){var S=m[T],P=S.width,E=S.height,R=S.pixelX,A=S.pixelY,w=S.collides?p:c;w!==null&&(u.fillStyle(w.color,w.alpha/255),u.fillRect(R,A,P,E)),R+=1,A+=1,P-=2,E-=2,g!==null&&(u.lineStyle(1,g.color,g.alpha/255),S.faceTop&&u.lineBetween(R,A,R+P,A),S.faceRight&&u.lineBetween(R+P,A,R+P,A+E),S.faceBottom&&u.lineBetween(R,A+E,R+P,A+E),S.faceLeft&&u.lineBetween(R,A,R,A+E))}};h.exports=o},51202:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(50811),d=function(s,a,r,o,u,v,l){for(var c=f(r,o,u,v,null,l),p=0;p<c.length;p++)c[p]&&c[p].index===s&&(c[p].index=a)};h.exports=d},6987:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){var a=e.data,r=e.width,o=e.height,u=e.tilemapLayer,v=Math.max(0,f.left),l=Math.min(r,f.right),c=Math.max(0,f.top),p=Math.min(o,f.bottom),g,m,T;if(d===0)for(m=c;m<p;m++)for(g=v;a[m]&&g<l;g++)T=a[m][g],!(!T||T.index===-1||!T.visible||T.alpha===0)&&s.push(T);else if(d===1)for(m=c;m<p;m++)for(g=l;a[m]&&g>=v;g--)T=a[m][g],!(!T||T.index===-1||!T.visible||T.alpha===0)&&s.push(T);else if(d===2)for(m=p;m>=c;m--)for(g=v;a[m]&&g<l;g++)T=a[m][g],!(!T||T.index===-1||!T.visible||T.alpha===0)&&s.push(T);else if(d===3)for(m=p;m>=c;m--)for(g=l;a[m]&&g>=v;g--)T=a[m][g],!(!T||T.index===-1||!T.visible||T.alpha===0)&&s.push(T);return u.tilesDrawn=s.length,u.tilesTotal=r*o,s};h.exports=y},51710:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(68234),d=e(60386),s=e(91181),a=function(r,o,u,v,l){o===void 0&&(o=!0),u===void 0&&(u=!0),l===void 0&&(l=!0),Array.isArray(r)||(r=[r]);for(var c=0;c<r.length;c++)s(r[c],o,v);if(l)for(var p=0;p<v.height;p++)for(var g=0;g<v.width;g++){var m=v.data[p][g];m&&r.indexOf(m.index)!==-1&&f(m,o)}u&&d(0,0,v.width,v.height,v)};h.exports=a},15216:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(68234),d=e(60386),s=e(91181),a=function(r,o,u,v,l,c){if(u===void 0&&(u=!0),v===void 0&&(v=!0),c===void 0&&(c=!0),!(r>o)){for(var p=r;p<=o;p++)s(p,u,l);if(c)for(var g=0;g<l.height;g++)for(var m=0;m<l.width;m++){var T=l.data[g][m];T&&T.index>=r&&T.index<=o&&f(T,u)}v&&d(0,0,l.width,l.height,l)}};h.exports=a},33158:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(68234),d=e(60386),s=e(91181),a=function(r,o,u,v){o===void 0&&(o=!0),u===void 0&&(u=!0),Array.isArray(r)||(r=[r]);for(var l=0;l<v.height;l++)for(var c=0;c<v.width;c++){var p=v.data[l][c];p&&r.indexOf(p.index)===-1&&(f(p,o),s(p.index,o,v))}u&&d(0,0,v.width,v.height,v)};h.exports=a},4180:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(68234),d=e(60386),s=e(19256),a=function(r,o,u,v){o===void 0&&(o=!0),u===void 0&&(u=!0);for(var l=0;l<v.height;l++)for(var c=0;c<v.width;c++){var p=v.data[l][c];if(p){for(var g in r)if(s(p.properties,g)){var m=r[g];Array.isArray(m)||(m=[m]);for(var T=0;T<m.length;T++)p.properties[g]===m[T]&&f(p,o)}}}u&&d(0,0,v.width,v.height,v)};h.exports=a},18625:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(68234),d=e(60386),s=function(a,r,o){a===void 0&&(a=!0),r===void 0&&(r=!0);for(var u=0;u<o.height;u++)for(var v=0;v<o.width;v++){var l=o.data[u][v];if(l){var c=l.getCollisionGroup();c&&c.objects&&c.objects.length>0&&f(l,a)}}r&&d(0,0,o.width,o.height,o)};h.exports=s},91181:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){var s=d.collideIndexes.indexOf(e);f&&s===-1?d.collideIndexes.push(e):!f&&s!==-1&&d.collideIndexes.splice(s,1)};h.exports=y},68234:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){f?e.setCollision(!0,!0,!0,!0,!1):e.resetCollision(!1)};h.exports=y},11628:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){if(typeof e=="number")s.callbacks[e]=f!==null?{callback:f,callbackContext:d}:void 0;else for(var a=0,r=e.length;a<r;a++)s.callbacks[e[a]]=f!==null?{callback:f,callbackContext:d}:void 0};h.exports=y},72732:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(50811),d=function(s,a,r,o,u,v,l){for(var c=f(s,a,r,o,null,l),p=0;p<c.length;p++)c[p].setCollisionCallback(u,v)};h.exports=d},34397:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(50811),d=e(18592),s=function(a,r,o,u,v){var l=f(a,r,o,u,null,v),c=l.map(function(g){return g.index});d(c);for(var p=0;p<l.length;p++)l[p].index=c[p]};h.exports=s},53945:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(82127),d=e(84314),s=function(a,r){var o=a.tilemapLayer.tilemap,u=a.tilemapLayer,v=Math.floor(o.tileWidth*u.scaleX),l=Math.floor(o.tileHeight*u.scaleY),c=d(r.worldView.x-u.x,v,0,!0)-u.cullPaddingX,p=f(r.worldView.right-u.x,v,0,!0)+u.cullPaddingX,g=d(r.worldView.y-u.y,l/2,0,!0)-u.cullPaddingY,m=f(r.worldView.bottom-u.y,l/2,0,!0)+u.cullPaddingY;return{left:c,right:p,top:g,bottom:m}};h.exports=s},19242:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(53945),d=e(6987),s=function(a,r,o,u){o===void 0&&(o=[]),u===void 0&&(u=0),o.length=0;var v=a.tilemapLayer,l=f(a,r);return v.skipCull&&v.scrollFactorX===1&&v.scrollFactorY===1&&(l.left=0,l.right=a.width,l.top=0,l.bottom=a.height),d(a,l,u,o),o};h.exports=s},33388:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(93736),d=function(s,a,r,o,u){r||(r=new f);var v=u.baseTileWidth,l=u.baseTileHeight,c=u.tilemapLayer,p=0,g=0;c&&(o||(o=c.scene.cameras.main),p=c.x+o.scrollX*(1-c.scrollFactorX),v*=c.scaleX,g=c.y+o.scrollY*(1-c.scrollFactorY),l*=c.scaleY);var m=p+s*v+a%2*(v/2),T=g+a*(l/2);return r.set(m,T)};h.exports=d},84132:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){var s=d.baseTileHeight,a=d.tilemapLayer,r=0;return a&&(f===void 0&&(f=a.scene.cameras.main),r=a.y+f.scrollY*(1-a.scrollFactorY),s*=a.scaleY),r+e*(s/2)+s};h.exports=y},90562:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(93736),d=function(s,a,r,o,u,v){o||(o=new f);var l=v.baseTileWidth,c=v.baseTileHeight,p=v.tilemapLayer;p&&(u||(u=p.scene.cameras.main),a=a-(p.y+u.scrollY*(1-p.scrollFactorY)),c*=p.scaleY,s=s-(p.x+u.scrollX*(1-p.scrollFactorX)),l*=p.scaleX);var g=r?Math.floor(a/(c/2)):a/(c/2),m=r?Math.floor((s+g%2*.5*l)/l):(s+g%2*.5*l)/l;return o.set(m,g)};h.exports=d},3689:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){var a=s.baseTileHeight,r=s.tilemapLayer;return r&&(d||(d=r.scene.cameras.main),e=e-(r.y+d.scrollY*(1-r.scrollFactorY)),a*=r.scaleY),f?Math.floor(e/(a/2)):e/(a/2)};h.exports=y},55217:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(50811),d=function(s,a,r,o,u,v,l){for(var c=f(r,o,u,v,null,l),p=0;p<c.length;p++)c[p]&&(c[p].index===s?c[p].index=a:c[p].index===a&&(c[p].index=s))};h.exports=d},44150:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){var s=d.baseTileWidth,a=d.tilemapLayer,r=0;return a&&(f||(f=a.scene.cameras.main),r=a.x+f.scrollX*(1-a.scrollFactorX),s*=a.scaleX),r+e*s};h.exports=y},46836:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(44150),d=e(42477),s=e(93736),a=function(r,o,u,v,l){return u||(u=new s(0,0)),u.x=f(r,v,l),u.y=d(o,v,l),u};h.exports=a},42477:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){var s=d.baseTileHeight,a=d.tilemapLayer,r=0;return a&&(f||(f=a.scene.cameras.main),r=a.y+f.scrollY*(1-a.scrollFactorY),s*=a.scaleY),r+e*s};h.exports=y},39677:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(50811),d=function(s,a,r,o,u,v){if(u){var l,c=f(s,a,r,o,null,v),p=0;for(l=0;l<u.length;l++)p+=u[l].weight;if(!(p<=0))for(l=0;l<c.length;l++){for(var g=Math.random()*p,m=0,T=-1,S=0;S<u.length;S++)if(m+=u[S].weight,g<=m){var P=u[S].index;T=Array.isArray(P)?P[Math.floor(Math.random()*P.length)]:P;break}c[l].index=T}}};h.exports=d},806:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(45676),d=e(93736),s=new d,a=function(r,o,u,v){return f(r,0,o,s,u,v),s.x};h.exports=a},45676:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(93736),d=function(s,a,r,o,u,v){r===void 0&&(r=!0),o||(o=new f);var l=v.baseTileWidth,c=v.baseTileHeight,p=v.tilemapLayer;p&&(u||(u=p.scene.cameras.main),s=s-(p.x+u.scrollX*(1-p.scrollFactorX)),a=a-(p.y+u.scrollY*(1-p.scrollFactorY)),l*=p.scaleX,c*=p.scaleY);var g=s/l,m=a/c;return r&&(g=Math.floor(g),m=Math.floor(m)),o.set(g,m)};h.exports=d},70520:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(45676),d=e(93736),s=new d,a=function(r,o,u,v){return f(0,r,o,s,u,v),s.y};h.exports=a},5047:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={CalculateFacesAt:e(92839),CalculateFacesWithin:e(60386),CheckIsoBounds:e(13125),Copy:e(17347),CreateFromTiles:e(93604),CullBounds:e(71586),CullTiles:e(381),Fill:e(97734),FilterTiles:e(63555),FindByIndex:e(37982),FindTile:e(48297),ForEachTile:e(80916),GetCullTilesFunction:e(31493),GetTileAt:e(15494),GetTileAtWorldXY:e(24640),GetTileCorners:e(48495),GetTileCornersFunction:e(7160),GetTilesWithin:e(50811),GetTilesWithinShape:e(31674),GetTilesWithinWorldXY:e(44662),GetTileToWorldXFunction:e(16884),GetTileToWorldXYFunction:e(68182),GetTileToWorldYFunction:e(3752),GetWorldToTileXFunction:e(29296),GetWorldToTileXYFunction:e(32688),GetWorldToTileYFunction:e(74326),HasTileAt:e(46598),HasTileAtWorldXY:e(28654),HexagonalCullBounds:e(6358),HexagonalCullTiles:e(37524),HexagonalGetTileCorners:e(63634),HexagonalTileToWorldXY:e(21715),HexagonalWorldToTileXY:e(11516),IsInLayerBounds:e(62839),IsometricCullTiles:e(20887),IsometricTileToWorldXY:e(21808),IsometricWorldToTileXY:e(18750),PutTileAt:e(29003),PutTileAtWorldXY:e(48565),PutTilesAt:e(56547),Randomize:e(91180),RemoveTileAt:e(929),RemoveTileAtWorldXY:e(17384),RenderDebug:e(93763),ReplaceByIndex:e(51202),RunCull:e(6987),SetCollision:e(51710),SetCollisionBetween:e(15216),SetCollisionByExclusion:e(33158),SetCollisionByProperty:e(4180),SetCollisionFromCollisionGroup:e(18625),SetLayerCollisionIndex:e(91181),SetTileCollision:e(68234),SetTileIndexCallback:e(11628),SetTileLocationCallback:e(72732),Shuffle:e(34397),StaggeredCullBounds:e(53945),StaggeredCullTiles:e(19242),StaggeredTileToWorldXY:e(33388),StaggeredTileToWorldY:e(84132),StaggeredWorldToTileXY:e(90562),StaggeredWorldToTileY:e(3689),SwapByIndex:e(55217),TileToWorldX:e(44150),TileToWorldXY:e(46836),TileToWorldY:e(42477),WeightedRandomize:e(39677),WorldToTileX:e(806),WorldToTileXY:e(45676),WorldToTileY:e(70520)}},12920:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},84758:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={ORIENTATION:e(12920)};h.exports=f},52678:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(98611),d=e(84758),s={Components:e(5047),Parsers:e(34124),Formats:e(93560),ImageCollection:e(97042),ParseToTilemap:e(15043),Tile:e(29633),Tilemap:e(89797),TilemapCreator:e(4843),TilemapFactory:e(37940),Tileset:e(47975),TilemapLayer:e(87177),Orientation:e(12920),LayerData:e(94990),MapData:e(16586),ObjectLayer:e(15256)};s=f(!1,s,d.ORIENTATION),h.exports=s},94990:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(12920),s=e(72632),a=new f({initialize:function(o){o===void 0&&(o={}),this.name=s(o,"name","layer"),this.id=s(o,"id",0),this.x=s(o,"x",0),this.y=s(o,"y",0),this.width=s(o,"width",0),this.height=s(o,"height",0),this.tileWidth=s(o,"tileWidth",0),this.tileHeight=s(o,"tileHeight",0),this.baseTileWidth=s(o,"baseTileWidth",this.tileWidth),this.baseTileHeight=s(o,"baseTileHeight",this.tileHeight),this.orientation=s(o,"orientation",d.ORTHOGONAL),this.widthInPixels=s(o,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=s(o,"heightInPixels",this.height*this.baseTileHeight),this.alpha=s(o,"alpha",1),this.visible=s(o,"visible",!0),this.properties=s(o,"properties",[]),this.indexes=s(o,"indexes",[]),this.collideIndexes=s(o,"collideIndexes",[]),this.callbacks=s(o,"callbacks",[]),this.bodies=s(o,"bodies",[]),this.data=s(o,"data",[]),this.tilemapLayer=s(o,"tilemapLayer",null),this.hexSideLength=s(o,"hexSideLength",0),this.staggerAxis=s(o,"staggerAxis","y"),this.staggerIndex=s(o,"staggerIndex","odd")}});h.exports=a},16586:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(12920),s=e(72632),a=new f({initialize:function(o){o===void 0&&(o={}),this.name=s(o,"name","map"),this.width=s(o,"width",0),this.height=s(o,"height",0),this.infinite=s(o,"infinite",!1),this.tileWidth=s(o,"tileWidth",0),this.tileHeight=s(o,"tileHeight",0),this.widthInPixels=s(o,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=s(o,"heightInPixels",this.height*this.tileHeight),this.format=s(o,"format",null),this.orientation=s(o,"orientation",d.ORTHOGONAL),this.renderOrder=s(o,"renderOrder","right-down"),this.version=s(o,"version","1"),this.properties=s(o,"properties",{}),this.layers=s(o,"layers",[]),this.images=s(o,"images",[]),this.objects=s(o,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=s(o,"collision",{}),this.tilesets=s(o,"tilesets",[]),this.imageCollections=s(o,"imageCollections",[]),this.tiles=s(o,"tiles",[]),this.hexSideLength=s(o,"hexSideLength",0),this.staggerAxis=s(o,"staggerAxis","y"),this.staggerIndex=s(o,"staggerIndex","odd")}});h.exports=a},15256:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(72632),s=new f({initialize:function(r){r===void 0&&(r={}),this.name=d(r,"name","object layer"),this.id=d(r,"id",0),this.opacity=d(r,"opacity",1),this.properties=d(r,"properties",{}),this.propertyTypes=d(r,"propertytypes",{}),this.type=d(r,"type","objectgroup"),this.visible=d(r,"visible",!0),this.objects=d(r,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});h.exports=s},21394:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(12920),d=function(s){return s=s.toLowerCase(),s==="isometric"?f.ISOMETRIC:s==="staggered"?f.STAGGERED:s==="hexagonal"?f.HEXAGONAL:f.ORTHOGONAL};h.exports=d},90715:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(93560),d=e(84346),s=e(96097),a=e(2378),r=e(44909),o=function(u,v,l,c,p,g){var m;switch(v){case f.ARRAY_2D:m=d(u,l,c,p,g);break;case f.CSV:m=s(u,l,c,p,g);break;case f.TILED_JSON:m=a(u,l,g);break;case f.WELTMEISTER:m=r(u,l,g);break;default:console.warn("Unrecognized tilemap data format: "+v),m=null}return m};h.exports=o},84346:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(93560),d=e(94990),s=e(16586),a=e(29633),r=function(o,u,v,l,c){for(var p=new d({tileWidth:v,tileHeight:l}),g=new s({name:o,tileWidth:v,tileHeight:l,format:f.ARRAY_2D,layers:[p]}),m=[],T=u.length,S=0,P=0;P<u.length;P++){m[P]=[];for(var E=u[P],R=0;R<E.length;R++){var A=parseInt(E[R],10);isNaN(A)||A===-1?m[P][R]=c?null:new a(p,-1,R,P,v,l):m[P][R]=new a(p,A,R,P,v,l)}S===0&&(S=E.length)}return g.width=p.width=S,g.height=p.height=T,g.widthInPixels=p.widthInPixels=S*v,g.heightInPixels=p.heightInPixels=T*l,p.data=m,g};h.exports=r},96097:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(93560),d=e(84346),s=function(a,r,o,u,v){var l=r.trim().split(`
`).map(function(p){return p.split(",")}),c=d(a,l,o,u,v);return c.format=f.CSV,c};h.exports=s},30951:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(94990),d=e(29633),s=function(a,r){for(var o=[],u=0;u<a.layer.length;u++){for(var v=a.layer[u],l=new f({name:v.name,width:v.width,height:v.height,tileWidth:v.tilesize,tileHeight:v.tilesize,visible:v.visible===1}),c=[],p=[],g=0;g<v.data.length;g++){for(var m=0;m<v.data[g].length;m++){var T=v.data[g][m]-1,S;T>-1?S=new d(l,T,m,g,v.tilesize,v.tilesize):S=r?null:new d(l,-1,m,g,v.tilesize,v.tilesize),c.push(S)}p.push(c),c=[]}l.data=p,o.push(l)}return o};h.exports=s},47488:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(47975),d=function(s){for(var a=[],r=[],o=0;o<s.layer.length;o++){var u=s.layer[o],v=u.tilesetName;v!==""&&r.indexOf(v)===-1&&(r.push(v),a.push(new f(v,0,u.tilesize,u.tilesize,0,0)))}return a};h.exports=d},44909:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(93560),d=e(16586),s=e(30951),a=e(47488),r=function(o,u,v){if(u.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+o),null;for(var l=0,c=0,p=0;p<u.layer.length;p++)u.layer[p].width>l&&(l=u.layer[p].width),u.layer[p].height>c&&(c=u.layer[p].height);var g=new d({width:l,height:c,name:o,tileWidth:u.layer[0].tilesize,tileHeight:u.layer[0].tilesize,format:f.WELTMEISTER});return g.layers=s(u,v),g.tilesets=a(u),g};h.exports=r},24507:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={ParseTileLayers:e(30951),ParseTilesets:e(47488),ParseWeltmeister:e(44909)}},34124:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={FromOrientationString:e(21394),Parse:e(90715),Parse2DArray:e(84346),ParseCSV:e(96097),Impact:e(24507),Tiled:e(50044)}},48646:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(98611),d=function(s){for(var a,r,o,u,v,l=0;l<s.layers.length;l++){a=s.layers[l],u=null;for(var c=0;c<a.data.length;c++){v=a.data[c];for(var p=0;p<v.length;p++)r=v[p],!(r===null||r.index<0)&&(o=s.tiles[r.index][2],u=s.tilesets[o],r.width=u.tileWidth,r.height=u.tileHeight,u.tileProperties&&u.tileProperties[r.index-u.firstgid]&&(r.properties=f(r.properties,u.tileProperties[r.index-u.firstgid])))}}};h.exports=d},43908:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){for(var f=window.atob(e),d=f.length,s=new Array(d/4),a=0;a<d;a+=4)s[a/4]=(f.charCodeAt(a)|f.charCodeAt(a+1)<<8|f.charCodeAt(a+2)<<16|f.charCodeAt(a+3)<<24)>>>0;return s};h.exports=y},14556:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(47975),d=function(s){var a,r,o=[];for(a=0;a<s.imageCollections.length;a++)for(var u=s.imageCollections[a],v=u.images,l=0;l<v.length;l++){var c=v[l];r=new f(c.image,c.gid,u.imageWidth,u.imageHeight,0,0),r.updateTileData(u.imageWidth,u.imageHeight),s.tilesets.push(r)}for(a=0;a<s.tilesets.length;a++){r=s.tilesets[a];for(var p=r.tileMargin,g=r.tileMargin,m=0,T=0,S=0,P=r.firstgid;P<r.firstgid+r.total&&(o[P]=[p,g,a],p+=r.tileWidth+r.tileSpacing,m++,!(m===r.total||(T++,T===r.columns&&(p=r.tileMargin,g+=r.tileHeight+r.tileSpacing,T=0,S++,S===r.rows))));P++);}return o};h.exports=d},92044:(h,y,e)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72632),d=function(s,a,r){if(!a)return{i:0,layers:s.layers,name:"",opacity:1,visible:!0,x:0,y:0};var o=a.x+f(a,"startx",0)*s.tilewidth+f(a,"offsetx",0),u=a.y+f(a,"starty",0)*s.tileheight+f(a,"offsety",0);return{i:0,layers:a.layers,name:r.name+a.name+"/",opacity:r.opacity*a.opacity,visible:r.visible&&a.visible,x:r.x+o,y:r.y+u}};h.exports=d},8847:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=2147483648,e=1073741824,f=536870912,d=function(s){var a=!!(s&y),r=!!(s&e),o=!!(s&f);s=s&~(y|e|f);var u=0,v=!1;return a&&r&&o?(u=Math.PI/2,v=!0):a&&r&&!o?(u=Math.PI,v=!1):a&&!r&&o?(u=Math.PI/2,v=!1):a&&!r&&!o?(u=0,v=!0):!a&&r&&o?(u=3*Math.PI/2,v=!1):!a&&r&&!o?(u=Math.PI,v=!0):!a&&!r&&o?(u=3*Math.PI/2,v=!0):!a&&!r&&!o&&(u=0,v=!1),{gid:s,flippedHorizontal:a,flippedVertical:r,flippedAntiDiagonal:o,rotation:u,flipped:v}};h.exports=d},78339:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72632),d=e(92044),s=function(a){for(var r=[],o=[],u=d(a);u.i<u.layers.length||o.length>0;){if(u.i>=u.layers.length){if(o.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}u=o.pop();continue}var v=u.layers[u.i];if(u.i++,v.type!=="imagelayer"){if(v.type==="group"){var l=d(a,v,u);o.push(u),u=l}continue}var c=f(v,"offsetx",0)+f(v,"startx",0),p=f(v,"offsety",0)+f(v,"starty",0);r.push({name:u.name+v.name,image:v.image,x:u.x+c+v.x,y:u.y+p+v.y,alpha:u.opacity*v.opacity,visible:u.visible&&v.visible,properties:f(v,"properties",{})})}return r};h.exports=s},2378:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(48646),d=e(14556),s=e(12920),a=e(28699),r=e(93560),o=e(21394),u=e(16586),v=e(78339),l=e(61136),c=e(95925),p=e(93392),g=function(m,T,S){var P=a(T),E=new u({width:P.width,height:P.height,name:m,tileWidth:P.tilewidth,tileHeight:P.tileheight,orientation:o(P.orientation),format:r.TILED_JSON,version:P.version,properties:P.properties,renderOrder:P.renderorder,infinite:P.infinite});E.orientation===s.HEXAGONAL&&(E.hexSideLength=P.hexsidelength,E.staggerAxis=P.staggeraxis,E.staggerIndex=P.staggerindex),E.layers=c(P,S),E.images=v(P);var R=p(P);return E.tilesets=R.tilesets,E.imageCollections=R.imageCollections,E.objects=l(P),E.tiles=d(E),f(E),E};h.exports=g},4281:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(28820),d=e(8847),s=function(o){return{x:o.x,y:o.y}},a=["id","name","type","rotation","properties","visible","x","y","width","height"],r=function(o,u,v){u===void 0&&(u=0),v===void 0&&(v=0);var l=f(o,a);if(l.x+=u,l.y+=v,o.gid){var c=d(o.gid);l.gid=c.gid,l.flippedHorizontal=c.flippedHorizontal,l.flippedVertical=c.flippedVertical,l.flippedAntiDiagonal=c.flippedAntiDiagonal}else o.polyline?l.polyline=o.polyline.map(s):o.polygon?l.polygon=o.polygon.map(s):o.ellipse?l.ellipse=o.ellipse:o.text?l.text=o.text:o.point?l.point=!0:l.rectangle=!0;return l};h.exports=r},61136:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72632),d=e(4281),s=e(15256),a=e(92044),r=function(o){for(var u=[],v=[],l=a(o);l.i<l.layers.length||v.length>0;){if(l.i>=l.layers.length){if(v.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}l=v.pop();continue}var c=l.layers[l.i];if(l.i++,c.opacity*=l.opacity,c.visible=l.visible&&c.visible,c.type!=="objectgroup"){if(c.type==="group"){var p=a(o,c,l);v.push(l),l=p}continue}c.name=l.name+c.name;for(var g=l.x+f(c,"startx",0)+f(c,"offsetx",0),m=l.y+f(c,"starty",0)+f(c,"offsety",0),T=[],S=0;S<c.objects.length;S++){var P=d(c.objects[S],g,m);T.push(P)}var E=new s(c);E.objects=T,u.push(E)}return u};h.exports=r},95925:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(43908),d=e(12920),s=e(92044),a=e(21394),r=e(72632),o=e(94990),u=e(8847),v=e(29633),l=function(c,p){for(var g=r(c,"infinite",!1),m=[],T=[],S=s(c);S.i<S.layers.length||T.length>0;){if(S.i>=S.layers.length){if(T.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}S=T.pop();continue}var P=S.layers[S.i];if(S.i++,P.type!=="tilelayer"){if(P.type==="group"){var E=s(c,P,S);T.push(S),S=E}continue}if(P.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+P.name+"'");continue}else if(P.encoding&&P.encoding==="base64"){if(P.chunks)for(var R=0;R<P.chunks.length;R++)P.chunks[R].data=f(P.chunks[R].data);P.data&&(P.data=f(P.data)),delete P.encoding}var A,w,O,L,F=[],I=0;if(g){var B=r(P,"startx",0)+P.x,G=r(P,"starty",0)+P.y;A=new o({name:S.name+P.name,id:P.id,x:S.x+r(P,"offsetx",0)+B*c.tilewidth,y:S.y+r(P,"offsety",0)+G*c.tileheight,width:P.width,height:P.height,tileWidth:c.tilewidth,tileHeight:c.tileheight,alpha:S.opacity*P.opacity,visible:S.visible&&P.visible,properties:r(P,"properties",[]),orientation:a(c.orientation)}),A.orientation===d.HEXAGONAL&&(A.hexSideLength=c.hexsidelength,A.staggerAxis=c.staggeraxis,A.staggerIndex=c.staggerindex);for(var N=0;N<P.height;N++){F[N]=[null];for(var U=0;U<P.width;U++)F[N][U]=null}for(N=0,K=P.chunks.length;N<K;N++)for(var Y=P.chunks[N],X=Y.x-B,b=Y.y-G,z=0,D=0,V=Y.data.length;D<V;D++){var k=I+X,W=z+b;w=u(Y.data[D]),w.gid>0?(O=new v(A,w.gid,k,W,c.tilewidth,c.tileheight),O.rotation=w.rotation,O.flipX=w.flipped,F[W][k]=O):(L=p?null:new v(A,-1,k,W,c.tilewidth,c.tileheight),F[W][k]=L),I++,I===Y.width&&(z++,I=0)}}else{A=new o({name:S.name+P.name,id:P.id,x:S.x+r(P,"offsetx",0)+P.x,y:S.y+r(P,"offsety",0)+P.y,width:P.width,height:P.height,tileWidth:c.tilewidth,tileHeight:c.tileheight,alpha:S.opacity*P.opacity,visible:S.visible&&P.visible,properties:r(P,"properties",[]),orientation:a(c.orientation)}),A.orientation===d.HEXAGONAL&&(A.hexSideLength=c.hexsidelength,A.staggerAxis=c.staggeraxis,A.staggerIndex=c.staggerindex);for(var H=[],$=0,K=P.data.length;$<K;$++)w=u(P.data[$]),w.gid>0?(O=new v(A,w.gid,I,F.length,c.tilewidth,c.tileheight),O.rotation=w.rotation,O.flipX=w.flipped,H.push(O)):(L=p?null:new v(A,-1,I,F.length,c.tilewidth,c.tileheight),H.push(L)),I++,I===P.width&&(F.push(H),I=0,H=[])}A.data=F,m.push(A)}return m};h.exports=l},93392:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(47975),d=e(97042),s=e(4281),a=e(39642),r=function(o){for(var u=[],v=[],l=null,c,p=0;p<o.tilesets.length;p++){var g=o.tilesets[p];if(g.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(g.image){var m=new f(g.name,g.firstgid,g.tilewidth,g.tileheight,g.margin,g.spacing,void 0,void 0,g.tileoffset);if(o.version>1){var T=void 0,S=void 0;if(Array.isArray(g.tiles)){T=T||{},S=S||{};for(var P=0;P<g.tiles.length;P++){var E=g.tiles[P];if(E.properties){var R={};E.properties.forEach(function(N){R[N.name]=N.value}),S[E.id]=R}if(E.objectgroup&&((T[E.id]||(T[E.id]={})).objectgroup=E.objectgroup,E.objectgroup.objects)){var A=E.objectgroup.objects.map(function(N){return s(N)});T[E.id].objectgroup.objects=A}E.animation&&((T[E.id]||(T[E.id]={})).animation=E.animation),E.type&&((T[E.id]||(T[E.id]={})).type=E.type)}}Array.isArray(g.wangsets)&&(T=T||{},S=S||{},a(g.wangsets,T)),T&&(m.tileData=T,m.tileProperties=S)}else if(g.tileproperties&&(m.tileProperties=g.tileproperties),g.tiles){m.tileData=g.tiles;for(c in m.tileData){var w=m.tileData[c].objectgroup;if(w&&w.objects){var O=w.objects.map(function(N){return s(N)});m.tileData[c].objectgroup.objects=O}}}m.updateTileData(g.imagewidth,g.imageheight),u.push(m)}else{var L=new d(g.name,g.firstgid,g.tilewidth,g.tileheight,g.margin,g.spacing,g.properties),F=0;for(P=0;P<g.tiles.length;P++){E=g.tiles[P];var I=E.image,B=parseInt(E.id,10),G=g.firstgid+B;L.addImage(G,I),F=Math.max(B,F)}L.maxId=F,v.push(L)}l&&(l.lastgid=g.firstgid-1),l=g}return{tilesets:u,imageCollections:v}};h.exports=r},39642:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){for(var d=0;d<e.length;d++){var s=e[d],a=d;if(s.name&&s.name!==""&&(a=s.name),Array.isArray(s.wangtiles)&&s.wangtiles.length>0){var r={},o={},u,v,l;if(Array.isArray(s.edgecolors))for(u=0;u<s.edgecolors.length;u++)l=1+u,v=s.edgecolors[u],v.name!==""&&(r[l]=v.name);if(Array.isArray(s.cornercolors))for(u=0;u<s.cornercolors.length;u++)l=1+u,v=s.cornercolors[u],v.name!==""&&(o[l]=v.name);if(Array.isArray(s.colors))for(u=0;u<s.colors.length;u++)v=s.colors[u],l=1+u,v.name!==""&&(r[l]=o[l]=v.name);for(var c=[r,o,r,o,r,o,r,o],p=0;p<s.wangtiles.length;p++){var g=s.wangtiles[p],m=f[g.tileid]||(f[g.tileid]={});m=m.wangid||(m.wangid={});for(var T=[],S=0;S<Math.min(c.length,g.wangid.length);S++){if(v=g.wangid[S],v===0){T.push(void 0);continue}var P=c[S][v];if(P!==void 0){T.push(P);continue}T.push(v)}m[a]=T}}}};h.exports=y},50044:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={AssignTileProperties:e(48646),Base64Decode:e(43908),BuildTilesetIndex:e(14556),CreateGroupLayer:e(92044),ParseGID:e(8847),ParseImageLayers:e(78339),ParseJSONTiled:e(2378),ParseObject:e(4281),ParseObjectLayers:e(61136),ParseTileLayers:e(95925),ParseTilesets:e(93392)}},73779:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(91963),s=e(7599),a=e(57911),r=e(66458),o=new f({initialize:function(v){this.scene=v,this.systems=v.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],v.sys.events.once(s.BOOT,this.boot,this),v.sys.events.on(s.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(s.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var u=this.systems.events;u.on(s.PRE_UPDATE,this.preUpdate,this),u.on(s.UPDATE,this.update,this),u.once(s.SHUTDOWN,this.shutdown,this)},addEvent:function(u){var v;return u instanceof a?(v=u,this.removeEvent(v),v.elapsed=v.startAt,v.hasDispatched=!1,v.repeatCount=v.repeat===-1||v.loop?999999999999:v.repeat):v=new a(u),this._pendingInsertion.push(v),v},delayedCall:function(u,v,l,c){return this.addEvent({delay:u,callback:v,args:l,callbackScope:c})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(u){Array.isArray(u)||(u=[u]);for(var v=0;v<u.length;v++){var l=u[v];r(this._pendingRemoval,l),r(this._pendingInsertion,l),r(this._active,l)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var u=this._pendingRemoval.length,v=this._pendingInsertion.length;if(!(u===0&&v===0)){var l,c;for(l=0;l<u;l++){c=this._pendingRemoval[l];var p=this._active.indexOf(c);p>-1&&this._active.splice(p,1),c.destroy()}for(l=0;l<v;l++)c=this._pendingInsertion[l],this._active.push(c);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(u,v){if(this.now=u,!this.paused){v*=this.timeScale;for(var l=0;l<this._active.length;l++){var c=this._active[l];if(!c.paused&&(c.elapsed+=v*c.timeScale,c.elapsed>=c.delay)){var p=c.elapsed-c.delay;if(c.elapsed=c.delay,!c.hasDispatched&&c.callback&&(c.hasDispatched=!0,c.callback.apply(c.callbackScope,c.args)),c.repeatCount>0){if(c.repeatCount--,p>=c.delay)for(;p>=c.delay&&c.repeatCount>0;)c.callback&&c.callback.apply(c.callbackScope,c.args),p-=c.delay,c.repeatCount--;c.elapsed=p,c.hasDispatched=!1}else c.hasDispatched&&this._pendingRemoval.push(c)}}}},shutdown:function(){var u;for(u=0;u<this._pendingInsertion.length;u++)this._pendingInsertion[u].destroy();for(u=0;u<this._active.length;u++)this._active[u].destroy();for(u=0;u<this._pendingRemoval.length;u++)this._pendingRemoval[u].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var v=this.systems.events;v.off(s.PRE_UPDATE,this.preUpdate,this),v.off(s.UPDATE,this.update,this),v.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(s.START,this.start,this),this.scene=null,this.systems=null}});d.register("Clock",o,"time"),h.exports=o},20517:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(6659),s=e(61286),a=e(72632),r=e(7599),o=e(52944),u=new f({Extends:d,initialize:function(l,c){d.call(this),this.scene=l,this.systems=l.sys,this.elapsed=0,this.paused=!0,this.complete=!1,this.totalComplete=0,this.events=[];var p=this.systems.events;p.on(r.PRE_UPDATE,this.preUpdate,this),p.on(r.UPDATE,this.update,this),p.once(r.SHUTDOWN,this.destroy,this),c&&this.add(c)},preUpdate:function(v,l){this.paused||(this.elapsed+=l)},update:function(){if(!(this.paused||this.complete)){var v,l=this.events,c=!1,p=this.systems,g;for(v=0;v<l.length;v++){var m=l[v];if(!m.complete&&m.time<=this.elapsed){if(m.complete=!0,this.totalComplete++,g=m.target?m.target:this,m.if&&!m.if.call(g,m))continue;if(m.once&&(c=!0),m.set&&m.target)for(var T in m.set)m.target[T]=m.set[T];m.tween&&p.tweens.add(m.tween),m.sound&&(typeof m.sound=="string"?p.sound.play(m.sound):p.sound.play(m.sound.key,m.sound.config)),m.event&&this.emit(m.event,g),m.run&&m.run.call(g),m.stop&&this.stop()}}if(c)for(v=0;v<l.length;v++)l[v].complete&&l[v].once&&(l.splice(v,1),v--);this.totalComplete>=l.length&&(this.complete=!0),this.complete&&this.emit(o.COMPLETE,this)}},play:function(v){return v===void 0&&(v=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,v&&this.reset(),this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(){this.elapsed=0;for(var v=0;v<this.events.length;v++)this.events[v].complete=!1;return this.play(!1)},add:function(v){Array.isArray(v)||(v=[v]);var l=this.events,c=0;l.length>0&&(c=l[l.length-1].time);for(var p=0;p<v.length;p++){var g=v[p],m=a(g,"at",0),T=a(g,"in",null);T!==null&&(m=this.elapsed+T);var S=a(g,"from",null);S!==null&&(m=c+S),l.push({complete:!1,time:m,if:a(g,"if",null),run:a(g,"run",null),event:a(g,"event",null),target:a(g,"target",null),set:a(g,"set",null),tween:a(g,"tween",null),sound:a(g,"sound",null),once:a(g,"once",!1),stop:a(g,"stop",!1)}),c=m}return this.complete=!1,this},clear:function(){return this.events=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var v=Math.min(this.totalComplete,this.events.length);return v/this.events.length},destroy:function(){var v=this.systems.events;v.off(r.PRE_UPDATE,this.preUpdate,this),v.off(r.UPDATE,this.update,this),v.off(r.SHUTDOWN,this.destroy,this),this.scene=null,this.systems=null,this.events=[]}});s.register("timeline",function(v){return new u(this.scene,v)}),h.exports=u},57911:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(72632),s=new f({initialize:function(r){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(r)},reset:function(a){if(this.delay=d(a,"delay",0),this.repeat=d(a,"repeat",0),this.loop=d(a,"loop",!1),this.callback=d(a,"callback",void 0),this.callbackScope=d(a,"callbackScope",this),this.args=d(a,"args",[]),this.timeScale=d(a,"timeScale",1),this.startAt=d(a,"startAt",0),this.paused=d(a,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay===0&&(this.repeat>0||this.loop))throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var a=this.delay+this.delay*this.repeat,r=this.elapsed+this.delay*(this.repeat-this.repeatCount);return r/a}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(a){a===void 0&&(a=!1),this.elapsed=this.delay,this.hasDispatched=!a,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});h.exports=s},12144:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="complete"},52944:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={COMPLETE:e(12144)}},97121:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Clock:e(73779),Events:e(52944),Timeline:e(20517),TimerEvent:e(57911)}},64532:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(66458),d=e(56694),s=e(5454),a=e(68710),r=e(91963),o=e(7599),u=e(91944),v=e(39366),l=e(68061),c=e(45641),p=e(56034),g=new d({initialize:function(T){this.scene=T,this.events=T.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.events.once(o.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(o.UPDATE,this.update,this),this.events.once(o.SHUTDOWN,this.shutdown,this)},create:function(m){Array.isArray(m)||(m=[m]);for(var T=[],S=0;S<m.length;S++){var P=m[S];P instanceof v||P instanceof c?T.push(P):Array.isArray(P.tweens)?T.push(p(this,P)):T.push(l(this,P))}return T.length===1?T[0]:T},add:function(m){var T=m,S=this.tweens;return T instanceof v||T instanceof c||(Array.isArray(T.tweens)?T=p(this,T):T=l(this,T)),S.push(T.reset()),T},addMultiple:function(m){for(var T,S=[],P=this.tweens,E=0;E<m.length;E++)T=m[E],T instanceof v||T instanceof c||(Array.isArray(T.tweens)?T=p(this,T):T=l(this,T)),P.push(T.reset()),S.push(T);return S},chain:function(m){var T=p(this,m);return this.tweens.push(T.init()),T},getChainedTweens:function(m){return m.getChainedTweens()},has:function(m){return this.tweens.indexOf(m)>-1},existing:function(m){return this.has(m)||this.tweens.push(m.reset()),this},addCounter:function(m){var T=a(this,m);return this.tweens.push(T.reset()),T},stagger:function(m,T){return u(m,T)},setLagSmooth:function(m,T){return m===void 0&&(m=1/1e-8),T===void 0&&(T=0),this.maxLag=m,this.lagSkip=Math.min(T,this.maxLag),this},setFps:function(m){return m===void 0&&(m=240),this.gap=1e3/m,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(m){var T=Date.now()-this.prevTime;T>this.maxLag&&(this.startTime+=T-this.lagSkip),this.prevTime+=T;var S=this.prevTime-this.startTime,P=S-this.nextTime,E=S-this.time*1e3;return P>0||m?(S/=1e3,this.time=S,this.nextTime+=P+(P>=this.gap?4:this.gap-P)):E=0,E},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(m){m===void 0&&(m=!1);var T=this.getDelta(m);if(!(T<=0)){this.processing=!0;var S,P,E=[],R=this.tweens;for(S=0;S<R.length;S++)P=R[S],P.update(T)&&E.push(P);var A=E.length;if(A&&R.length>0){for(S=0;S<A;S++){P=E[S];var w=R.indexOf(P);w>-1&&(P.isPendingRemove()||P.isDestroyed())&&(R.splice(w,1),P.destroy())}E.length=0}this.processing=!1}},remove:function(m){return this.processing?m.setPendingRemoveState():(f(this.tweens,m),m.setRemovedState()),this},reset:function(m){return this.existing(m),m.seek(),m.setActiveState(),this},makeActive:function(m){return this.existing(m),m.setActiveState(),this},each:function(m,T){var S,P=[null];for(S=1;S<arguments.length;S++)P.push(arguments[S]);return this.tweens.forEach(function(E){P[0]=E,m.apply(T,P)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(m){var T=[],S=this.tweens;Array.isArray(m)?m=s(m):m=[m];for(var P=m.length,E=0;E<S.length;E++)for(var R=S[E],A=0;A<P;A++)!R.isDestroyed()&&R.hasTarget(m[A])&&T.push(R);return T},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(m){return this.timeScale=m,this},isTweening:function(m){for(var T=this.tweens,S,P=0;P<T.length;P++)if(S=T[P],S.isPlaying()&&S.hasTarget(m))return!0;return!1},killAll:function(){for(var m=this.processing?this.getTweens():this.tweens,T=0;T<m.length;T++)m[T].destroy();return this.processing||(m.length=0),this},killTweensOf:function(m){for(var T=this.getTweensOf(m),S=0;S<T.length;S++)T[S].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(o.UPDATE,this.update,this),this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.events=null}});r.register("TweenManager",g,"tweens"),h.exports=g},63130:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){return e&&e.hasOwnProperty(f)?e[f]:d};h.exports=y},21902:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(35060),d=e(40587),s=function(a,r){var o=f.Power0;if(typeof a=="string")if(f.hasOwnProperty(a))o=f[a];else{var u="";if(a.indexOf(".")){u=a.substring(a.indexOf(".")+1);var v=u.toLowerCase();v==="in"?u="easeIn":v==="out"?u="easeOut":v==="inout"&&(u="easeInOut")}a=d(a.substring(0,a.indexOf(".")+1)+u),f.hasOwnProperty(a)&&(o=f[a])}else typeof a=="function"&&(o=a);if(!r)return o;var l=r.slice(0);return l.unshift(0),function(c){return l[0]=c,o.apply(this,l)}};h.exports=s},4840:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(63210),d=e(88332),s=e(47614),a={bezier:f,catmull:d,catmullrom:d,linear:s},r=function(o){if(o===null)return null;var u=a.linear;return typeof o=="string"?a.hasOwnProperty(o)&&(u=a[o]):typeof o=="function"&&(u=o),u};h.exports=r},28348:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){var s;if(e.hasOwnProperty(f)){var a=typeof e[f];a==="function"?s=function(r,o,u,v,l,c){return e[f](r,o,u,v,l,c)}:s=function(){return e[f]}}else typeof d=="function"?s=d:s=function(){return d};return s};h.exports=y},92407:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(53709),d=function(s){var a,r=[];if(s.hasOwnProperty("props"))for(a in s.props)a.substring(0,1)!=="_"&&r.push({key:a,value:s.props[a]});else for(a in s)f.indexOf(a)===-1&&a.substring(0,1)!=="_"&&r.push({key:a,value:s[a]});return r};h.exports=d},65868:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(10850),d=function(s){var a=f(s,"targets",null);return a===null||(typeof a=="function"&&(a=a.call()),Array.isArray(a)||(a=[a])),a};h.exports=d},9744:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(17489),d=e(61616);function s(v){return!!v.getActive&&typeof v.getActive=="function"}function a(v){return!!v.getStart&&typeof v.getStart=="function"}function r(v){return!!v.getEnd&&typeof v.getEnd=="function"}function o(v){return a(v)||r(v)||s(v)}var u=function(v,l){var c,p=function(Y,X,b){return b},g=function(Y,X,b){return b},m=null,T=typeof l;if(T==="number")p=function(){return l};else if(Array.isArray(l))g=function(){return l[0]},p=function(){return l[l.length-1]};else if(T==="string"){var S=l.toLowerCase(),P=S.substring(0,6)==="random",E=S.substring(0,3)==="int";if(P||E){var R=S.indexOf("("),A=S.indexOf(")"),w=S.indexOf(",");if(R&&A&&w){var O=parseFloat(S.substring(R+1,w)),L=parseFloat(S.substring(w+1,A));P?p=function(){return d(O,L)}:p=function(){return f(O,L)}}else throw new Error("invalid random() format")}else{S=S[0];var F=parseFloat(l.substr(2));switch(S){case"+":p=function(Y,X,b){return b+F};break;case"-":p=function(Y,X,b){return b-F};break;case"*":p=function(Y,X,b){return b*F};break;case"/":p=function(Y,X,b){return b/F};break;default:p=function(){return parseFloat(l)}}}}else if(T==="function")p=l;else if(T==="object")if(o(l))s(l)&&(m=l.getActive),r(l)&&(p=l.getEnd),a(l)&&(g=l.getStart);else if(l.hasOwnProperty("value"))c=u(v,l.value);else{var I=l.hasOwnProperty("to"),B=l.hasOwnProperty("from"),G=l.hasOwnProperty("start");if(I&&(B||G)){if(c=u(v,l.to),G){var N=u(v,l.start);c.getActive=N.getEnd}if(B){var U=u(v,l.from);c.getStart=U.getEnd}}}return c||(c={getActive:m,getEnd:p,getStart:g}),c};h.exports=u},68710:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(502),d=e(99730),s=e(20494),a=e(63130),r=e(21902),o=e(28348),u=e(10850),v=e(9744),l=e(72066),c=e(39366),p=function(g,m,T){if(m instanceof c)return m.parent=g,m;T===void 0?T=d:T=l(d,T);var S=u(m,"from",0),P=u(m,"to",1),E=[{value:S}],R=u(m,"delay",T.delay),A=u(m,"easeParams",T.easeParams),w=u(m,"ease",T.ease),O=v("value",P),L=new c(g,E),F=L.add(0,"value",O.getEnd,O.getStart,O.getActive,r(u(m,"ease",w),u(m,"easeParams",A)),o(m,"delay",R),u(m,"duration",T.duration),a(m,"yoyo",T.yoyo),u(m,"hold",T.hold),u(m,"repeat",T.repeat),u(m,"repeatDelay",T.repeatDelay),!1,!1);F.start=S,F.current=S,L.completeDelay=s(m,"completeDelay",0),L.loop=Math.round(s(m,"loop",0)),L.loopDelay=Math.round(s(m,"loopDelay",0)),L.paused=a(m,"paused",!1),L.persist=a(m,"persist",!1),L.callbackScope=u(m,"callbackScope",L);for(var I=f.TYPES,B=0;B<I.length;B++){var G=I[B],N=u(m,G,!1);if(N){var U=u(m,G+"Params",[]);L.setCallback(G,N,U)}}return L};h.exports=p},91944:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(21902),d=e(10850),s=e(83392),a=function(r,o){o===void 0&&(o={});var u,v=d(o,"start",0),l=d(o,"ease",null),c=d(o,"grid",null),p=d(o,"from",0),g=p==="first",m=p==="center",T=p==="last",S=typeof p=="number",P=Array.isArray(r),E=parseFloat(P?r[0]:r),R=P?parseFloat(r[1]):0,A=Math.max(E,R);if(P&&(v+=E),c){var w=c[0],O=c[1],L=0,F=0,I=0,B=0,G=[];T?(L=w-1,F=O-1):S?(L=p%w,F=Math.floor(p/w)):m&&(L=(w-1)/2,F=(O-1)/2);for(var N=s.MIN_SAFE_INTEGER,U=0;U<O;U++){G[U]=[];for(var Y=0;Y<w;Y++){I=L-Y,B=F-U;var X=Math.sqrt(I*I+B*B);X>N&&(N=X),G[U][Y]=X}}}var b=l?f(l):null;return c?u=function(z,D,V,k){var W=0,H=k%w,$=Math.floor(k/w);H>=0&&H<w&&$>=0&&$<O&&(W=G[$][H]);var K;if(P){var Z=R-E;b?K=W/N*Z*b(W/N):K=W/N*Z}else b?K=W*E*b(W/N):K=W*E;return K+v}:u=function(z,D,V,k,W){W--;var H;g?H=k:m?H=Math.abs(W/2-k):T?H=W-k:S&&(H=Math.abs(p-k));var $;if(P){var K;m?K=(R-E)/W*(H*2):K=(R-E)/W*H,b?$=K*b(H/W):$=K}else b?$=W*A*b(H/W):$=H*E;return $+v},u};h.exports=a},68061:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(502),d=e(99730),s=e(20494),a=e(63130),r=e(21902),o=e(4840),u=e(28348),v=e(92407),l=e(65868),c=e(10850),p=e(9744),g=e(72066),m=e(39366),T=function(S,P,E){if(P instanceof m)return P.parent=S,P;E===void 0?E=d:E=g(d,E);var R=l(P);!R&&E.targets&&(R=E.targets);for(var A=v(P),w=c(P,"delay",E.delay),O=c(P,"duration",E.duration),L=c(P,"easeParams",E.easeParams),F=c(P,"ease",E.ease),I=c(P,"hold",E.hold),B=c(P,"repeat",E.repeat),G=c(P,"repeatDelay",E.repeatDelay),N=a(P,"yoyo",E.yoyo),U=a(P,"flipX",E.flipX),Y=a(P,"flipY",E.flipY),X=c(P,"interpolation",E.interpolation),b=function(J,Q,q,_){if(q==="texture"){var tt=_,st=void 0;Array.isArray(_)?(tt=_[0],st=_[1]):_.hasOwnProperty("value")?(tt=_.value,Array.isArray(_.value)?(tt=_.value[0],st=_.value[1]):typeof _.value=="string"&&(tt=_.value)):typeof _=="string"&&(tt=_),J.addFrame(Q,tt,st,u(_,"delay",w),c(_,"duration",O),c(_,"hold",I),c(_,"repeat",B),c(_,"repeatDelay",G),a(_,"flipX",U),a(_,"flipY",Y))}else{var it=p(q,_),lt=o(c(_,"interpolation",X));J.add(Q,q,it.getEnd,it.getStart,it.getActive,r(c(_,"ease",F),c(_,"easeParams",L)),u(_,"delay",w),c(_,"duration",O),a(_,"yoyo",N),c(_,"hold",I),c(_,"repeat",B),c(_,"repeatDelay",G),a(_,"flipX",U),a(_,"flipY",Y),lt,lt?_:null)}},z=new m(S,R),D=0;D<A.length;D++)for(var V=A[D].key,k=A[D].value,W=0;W<R.length;W++)V==="scale"&&!R[W].hasOwnProperty("scale")?(b(z,W,"scaleX",k),b(z,W,"scaleY",k)):b(z,W,V,k);z.completeDelay=s(P,"completeDelay",0),z.loop=Math.round(s(P,"loop",0)),z.loopDelay=Math.round(s(P,"loopDelay",0)),z.paused=a(P,"paused",!1),z.persist=a(P,"persist",!1),z.callbackScope=c(P,"callbackScope",z);for(var H=f.TYPES,$=0;$<H.length;$++){var K=H[$],Z=c(P,K,!1);if(Z){var j=c(P,K+"Params",[]);z.setCallback(K,Z,j)}}return z};h.exports=T},56034:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(502),d=e(20494),s=e(63130),a=e(65868),r=e(10850),o=e(68061),u=e(45641),v=function(l,c){if(c instanceof u)return c.parent=l,c;var p=new u(l);p.startDelay=r(c,"delay",0),p.completeDelay=d(c,"completeDelay",0),p.loop=Math.round(d(c,"loop",r(c,"repeat",0))),p.loopDelay=Math.round(d(c,"loopDelay",r(c,"repeatDelay",0))),p.paused=s(c,"paused",!1),p.persist=s(c,"persist",!0),p.callbackScope=r(c,"callbackScope",p);var g,m=f.TYPES;for(g=0;g<m.length;g++){var T=m[g],S=r(c,T,!1);if(S){var P=r(c,T+"Params",[]);p.setCallback(T,S,P)}}var E=r(c,"tweens",null);if(Array.isArray(E)){var R=[],A=a(c),w=void 0;for(A&&(w={targets:A}),g=0;g<E.length;g++)R.push(o(p,E[g],w));p.add(R)}return p};h.exports=v},79619:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={GetBoolean:e(63130),GetEaseFunction:e(21902),GetInterpolationFunction:e(4840),GetNewValue:e(28348),GetProps:e(92407),GetTargets:e(65868),GetValueOp:e(9744),NumberTweenBuilder:e(68710),StaggerBuilder:e(91944),TweenBuilder:e(68061)}},5570:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="active"},6383:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="complete"},72582:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="loop"},90281:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pause"},80803:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="repeat"},13640:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="resume"},10472:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="start"},5379:h=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="stop"},43449:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="update"},61541:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="yoyo"},54272:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={TWEEN_ACTIVE:e(5570),TWEEN_COMPLETE:e(6383),TWEEN_LOOP:e(72582),TWEEN_PAUSE:e(90281),TWEEN_RESUME:e(13640),TWEEN_REPEAT:e(80803),TWEEN_START:e(10472),TWEEN_STOP:e(5379),TWEEN_UPDATE:e(43449),TWEEN_YOYO:e(61541)}},75193:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={States:e(55303),Builders:e(79619),Events:e(54272),TweenManager:e(64532),Tween:e(39366),TweenData:e(15718),TweenFrameData:e(96490),BaseTween:e(502),TweenChain:e(45641)};h.exports=f},502:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(6659),s=e(54272),a=e(55303),r=new f({Extends:d,initialize:function(u){d.call(this),this.parent=u,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=a.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(o){return this.timeScale=o,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(s.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(s.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(s.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(s.TWEEN_COMPLETE,"onComplete")},complete:function(o){return o===void 0&&(o=0),o?(this.setCompleteDelayState(),this.countdown=o):this.onCompleteHandler(),this},completeAfterLoop:function(o){return o===void 0&&(o=0),this.loopCounter>o&&(this.loopCounter=o),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(s.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(o){this.countdown-=o,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(s.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(o){return this.countdown-=o,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(s.TWEEN_START,"onStart"),o=0),o},updateCompleteDelay:function(o){this.countdown-=o,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(o,u,v){return v===void 0&&(v=[]),this.callbacks.hasOwnProperty(o)&&(this.callbacks[o]={func:u,params:v}),this},setPendingState:function(){this.state=a.PENDING},setActiveState:function(){this.state=a.ACTIVE},setLoopDelayState:function(){this.state=a.LOOP_DELAY},setCompleteDelayState:function(){this.state=a.COMPLETE_DELAY},setStartDelayState:function(){this.state=a.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=a.PENDING_REMOVE},setRemovedState:function(){this.state=a.REMOVED},setFinishedState:function(){this.state=a.FINISHED},setDestroyedState:function(){this.state=a.DESTROYED},isPending:function(){return this.state===a.PENDING},isActive:function(){return this.state===a.ACTIVE},isLoopDelayed:function(){return this.state===a.LOOP_DELAY},isCompleteDelayed:function(){return this.state===a.COMPLETE_DELAY},isStartDelayed:function(){return this.state===a.START_DELAY},isPendingRemove:function(){return this.state===a.PENDING_REMOVE},isRemoved:function(){return this.state===a.REMOVED},isFinished:function(){return this.state===a.FINISHED},isDestroyed:function(){return this.state===a.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(o){o.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});r.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],h.exports=r},65521:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),d=e(54272),s=e(55303),a=new f({initialize:function(o,u,v,l,c,p,g,m,T,S){this.tween=o,this.targetIndex=u,this.duration=l,this.totalDuration=0,this.delay=0,this.getDelay=v,this.yoyo=c,this.hold=p,this.repeat=g,this.repeatDelay=m,this.repeatCounter=0,this.flipX=T,this.flipY=S,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(r){r===void 0&&(r=this.current),this.tween.targets[this.targetIndex][this.key]=r},setCreatedState:function(){this.state=s.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=s.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=s.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=s.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=s.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=s.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=s.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=s.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===s.CREATED},isDelayed:function(){return this.state===s.DELAY},isPendingRender:function(){return this.state===s.PENDING_RENDER},isPlayingForward:function(){return this.state===s.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===s.PLAYING_BACKWARD},isHolding:function(){return this.state===s.HOLD_DELAY},isRepeating:function(){return this.state===s.REPEAT_DELAY},isComplete:function(){return this.state===s.COMPLETE},setStateFromEnd:function(r){this.yoyo?this.onRepeat(r,!0,!0):this.repeatCounter>0?this.onRepeat(r,!0,!1):this.setCompleteState()},setStateFromStart:function(r){this.repeatCounter>0?this.onRepeat(r,!1):this.setCompleteState()},reset:function(){var r=this.tween,o=r.totalTargets,u=this.targetIndex,v=r.targets[u],l=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(v,l,0,u,o,r),this.repeatCounter=this.repeat===-1?s.MAX:this.repeat,this.setPendingRenderState();var c=this.duration+this.hold;this.yoyo&&(c+=this.duration);var p=c+this.repeatDelay;this.totalDuration=this.delay+c,this.repeat===-1?(this.totalDuration+=p*s.MAX,r.isInfinite=!0):this.repeat>0&&(this.totalDuration+=p*this.repeat),this.totalDuration>r.duration&&(r.duration=this.totalDuration),this.delay<r.startDelay&&(r.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(r,o,u){var v=this.tween,l=v.totalTargets,c=this.targetIndex,p=v.targets[c],g=this.key,m=g!=="texture";if(this.elapsed=r,this.progress=r/this.duration,this.flipX&&p.toggleFlipX(),this.flipY&&p.toggleFlipY(),m&&(o||u)&&(this.start=this.getStartValue(p,g,this.start,c,l,v)),u){this.setPlayingBackwardState(),this.dispatchEvent(d.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,m&&(this.end=this.getEndValue(p,g,this.start,c,l,v)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-r,m&&(this.current=this.start,p[g]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(d.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});h.exports=a},99730:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};h.exports=y},53709:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},39366:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(502),d=e(56694),s=e(54272),a=e(99325),r=e(61286),o=e(83392),u=e(55303),v=e(15718),l=e(96490),c=new d({Extends:f,initialize:function(g,m){f.call(this,g),this.targets=m,this.totalTargets=m.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(p,g,m,T,S,P,E,R,A,w,O,L,F,I,B,G){var N=new v(this,p,g,m,T,S,P,E,R,A,w,O,L,F,I,B,G);return this.totalData=this.data.push(N),N},addFrame:function(p,g,m,T,S,P,E,R,A,w){var O=new l(this,p,g,m,T,S,P,E,R,A,w);return this.totalData=this.data.push(O),O},getValue:function(p){p===void 0&&(p=0);var g=null;return this.data&&(g=this.data[p].current),g},hasTarget:function(p){return this.targets&&this.targets.indexOf(p)!==-1},updateTo:function(p,g,m){if(m===void 0&&(m=!1),p!=="texture")for(var T=0;T<this.totalData;T++){var S=this.data[T];S.key===p&&(S.isPlayingForward()||S.isPlayingBackward())&&(S.end=g,m&&(S.start=S.current))}return this},restart:function(){switch(this.state){case u.REMOVED:case u.FINISHED:this.seek(),this.parent.makeActive(this);break;case u.PENDING:case u.PENDING_REMOVE:this.parent.reset(this);break;case u.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(s.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,f.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(p,g,m){if(p===void 0&&(p=0),g===void 0&&(g=16.6),m===void 0&&(m=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;m||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(s.TWEEN_ACTIVE,"onActive");var T=this.paused;if(this.paused=!1,p>0){for(var S=Math.floor(p/g),P=p-S*g,E=0;E<S;E++)this.update(g);P>0&&this.update(P)}return this.paused=T,this.isSeeking=!1,this},initTweenData:function(p){p===void 0&&(p=!1),this.duration=0,this.startDelay=o.MAX_SAFE_INTEGER;for(var g=this.data,m=0;m<this.totalData;m++)g[m].reset(p);this.duration=Math.max(this.duration,.01);var T=this.duration,S=this.completeDelay,P=this.loopCounter,E=this.loopDelay;P>0?this.totalDuration=T+S+(T+E)*P:this.totalDuration=T+S},reset:function(p){return p===void 0&&(p=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=u.MAX),p||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(s.TWEEN_ACTIVE,"onActive")),this},update:function(p){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(p*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(p),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(p),!1;this.hasStarted||(this.startDelay-=p,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(s.TWEEN_START,"onStart"),p=0));var g=!1;if(this.isActive())for(var m=this.data,T=0;T<this.totalData;T++)m[T].update(p)&&(g=!0);this.elapsed+=p,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=p,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),g||this.nextState();var S=this.isPendingRemove();return S&&this.persist&&(this.setFinishedState(),S=!1),S},forward:function(p){return this.update(p),this},rewind:function(p){return this.update(-p),this},dispatchEvent:function(p,g){if(!this.isSeeking){this.emit(p,this,this.targets);var m=this.callbacks[g];m&&m.func.apply(this.callbackScope,[this,this.targets].concat(m.params))}},destroy:function(){f.prototype.destroy.call(this),this.targets=null}});r.register("tween",function(p){return this.scene.sys.tweens.add(p)}),a.register("tween",function(p){return this.scene.sys.tweens.create(p)}),h.exports=c},45641:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(66458),d=e(502),s=e(56694),a=e(54272),r=e(99325),o=e(61286),u=e(55303),v=new s({Extends:d,initialize:function(c){d.call(this,c),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?u.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive"),this},add:function(l){var c=this.parent.create(l);Array.isArray(c)||(c=[c]);for(var p=this.data,g=0;g<c.length;g++){var m=c[g];m.parent=this,p.push(m.reset())}return this.totalData=p.length,this},remove:function(l){return f(this.data,l),l.setRemovedState(),l===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(l){for(var c=this.data,p=0;p<this.totalData;p++)if(c[p].hasTarget(l))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(l){return l.seek(),l.setActiveState(),this},makeActive:function(l){return l.reset(),l.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(a.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var l=this.data,c=this.totalData,p=0;p<c;p++)l[p].reset(!1);this.currentIndex=0,this.currentTween=l[0]},update:function(l){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;l*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(l):this.isCompleteDelayed()?this.updateCompleteDelay(l):this.isStartDelayed()&&(l=this.updateStartCountdown(l));var c=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(l)&&this.nextTween()&&this.nextState(),c=this.isPendingRemove(),c&&this.persist&&(this.setFinishedState(),c=!1)),c},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(l){this.currentIndex=l,this.currentTween=this.data[l],this.currentTween.setActiveState(),this.currentTween.dispatchEvent(a.TWEEN_ACTIVE,"onActive")},dispatchEvent:function(l,c){this.emit(l,this);var p=this.callbacks[c];p&&p.func.apply(this.callbackScope,[this].concat(p.params))},destroy:function(){d.prototype.destroy.call(this),this.currentTween=null}});o.register("tweenchain",function(l){return this.scene.sys.tweens.chain(l)}),r.register("tweenchain",function(l){return this.scene.sys.tweens.create(l)}),h.exports=v},15718:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(65521),d=e(82897),s=e(56694),a=e(54272),r=new s({Extends:f,initialize:function(u,v,l,c,p,g,m,T,S,P,E,R,A,w,O,L,F){f.call(this,u,v,T,S,P,E,R,A,w,O),this.key=l,this.getActiveValue=g,this.getEndValue=c,this.getStartValue=p,this.ease=m,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=L,this.interpolationData=F},reset:function(o){f.prototype.reset.call(this);var u=this.tween.targets[this.targetIndex],v=this.key;o&&(u[v]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(u[v]=this.getActiveValue(u,v,0))},update:function(o){var u=this.tween,v=u.totalTargets,l=this.targetIndex,c=u.targets[l],p=this.key;if(!c)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=o,this.elapsed<=0&&(this.elapsed=0,o=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(a.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(c,p,c[p],l,v,u),this.end=this.getEndValue(c,p,this.start,l,v,u),this.current=this.start,c[p]=this.start,this.setPlayingForwardState(),!0;var g=this.isPlayingForward(),m=this.isPlayingBackward();if(g||m){var T=this.elapsed,S=this.duration,P=0,E=!1;T+=o,T>=S?(P=T-S,T=S,E=!0):T<0&&(T=0);var R=d(T/S,0,1);if(this.elapsed=T,this.progress=R,this.previous=this.current,E)g?(this.current=this.end,c[p]=this.end,this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(P)):(this.current=this.start,c[p]=this.start,this.setStateFromStart(P));else{g||(R=1-R);var A=this.ease(R);this.interpolation?this.current=this.interpolation(this.interpolationData,A):this.current=this.start+(this.end-this.start)*A,c[p]=this.current}this.dispatchEvent(a.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(o,u){var v=this.tween;if(!v.isSeeking){var l=v.targets[this.targetIndex],c=this.key,p=this.current,g=this.previous;v.emit(o,v,c,l,p,g);var m=v.callbacks[u];m&&m.func.apply(v.callbackScope,[v,l,c,p,g].concat(m.params))}},destroy:function(){f.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});h.exports=r},96490:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(65521),d=e(82897),s=e(56694),a=e(54272),r=new s({Extends:f,initialize:function(u,v,l,c,p,g,m,T,S,P,E){f.call(this,u,v,p,g,!1,m,T,S,P,E),this.key="texture",this.startTexture=null,this.endTexture=l,this.startFrame=null,this.endFrame=c,this.yoyo=T!==0},reset:function(o){f.prototype.reset.call(this);var u=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=u.texture.key,this.startFrame=u.frame.name),o&&u.setTexture(this.startTexture,this.startFrame)},update:function(o){var u=this.tween,v=this.targetIndex,l=u.targets[v];if(!l)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=o,this.elapsed<=0&&(this.elapsed=0,o=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(a.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&l.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var c=this.isPlayingForward(),p=this.isPlayingBackward();if(c||p){var g=this.elapsed,m=this.duration,T=0,S=!1;g+=o,g>=m?(T=g-m,g=m,S=!0):g<0&&(g=0);var P=d(g/m,0,1);this.elapsed=g,this.progress=P,S&&(c?(l.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(T)):(l.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(T))),this.dispatchEvent(a.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(o,u){var v=this.tween;if(!v.isSeeking){var l=v.targets[this.targetIndex],c=this.key;v.emit(o,v,c,l);var p=v.callbacks[u];p&&p.func.apply(v.callbackScope,[v,l,c].concat(p.params))}},destroy:function(){f.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});h.exports=r},55303:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};h.exports=y},56694:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(r){return!!r.get&&typeof r.get=="function"||!!r.set&&typeof r.set=="function"}function e(r,o,u){var v=u?r[o]:Object.getOwnPropertyDescriptor(r,o);return!u&&v.value&&typeof v.value=="object"&&(v=v.value),v&&y(v)?(typeof v.enumerable>"u"&&(v.enumerable=!0),typeof v.configurable>"u"&&(v.configurable=!0),v):!1}function f(r,o){var u=Object.getOwnPropertyDescriptor(r,o);return u?(u.value&&typeof u.value=="object"&&(u=u.value),u.configurable===!1):!1}function d(r,o,u,v){for(var l in o)if(o.hasOwnProperty(l)){var c=e(o,l,u);if(c!==!1){var p=v||r;if(f(p.prototype,l)){if(a.ignoreFinals)continue;throw new Error("cannot override final property '"+l+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(r.prototype,l,c)}else r.prototype[l]=o[l]}}function s(r,o){if(o){Array.isArray(o)||(o=[o]);for(var u=0;u<o.length;u++)d(r,o[u].prototype||o[u])}}function a(r){r||(r={});var o,u;if(r.initialize){if(typeof r.initialize!="function")throw new Error("initialize must be a function");o=r.initialize,delete r.initialize}else if(r.Extends){var v=r.Extends;o=function(){v.apply(this,arguments)}}else o=function(){};r.Extends?(o.prototype=Object.create(r.Extends.prototype),o.prototype.constructor=o,u=r.Extends,delete r.Extends):o.prototype.constructor=o;var l=null;return r.Mixins&&(l=r.Mixins,delete r.Mixins),s(o,l),d(o,r,!0,u),o}a.extend=d,a.mixin=s,a.ignoreFinals=!1,h.exports=a},72283:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){};h.exports=y},10618:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){return null};h.exports=y},78991:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s,a){if(a===void 0&&(a=e),d>0){var r=d-e.length;if(r<=0)return null}if(!Array.isArray(f))return e.indexOf(f)===-1?(e.push(f),s&&s.call(a,f),f):null;for(var o=f.length-1;o>=0;)e.indexOf(f[o])!==-1&&f.splice(o,1),o--;if(o=f.length,o===0)return null;d>0&&o>r&&(f.splice(r),o=r);for(var u=0;u<o;u++){var v=f[u];e.push(v),s&&s.call(a,v)}return f};h.exports=y},48522:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s,a,r){if(d===void 0&&(d=0),r===void 0&&(r=e),s>0){var o=s-e.length;if(o<=0)return null}if(!Array.isArray(f))return e.indexOf(f)===-1?(e.splice(d,0,f),a&&a.call(r,f),f):null;for(var u=f.length-1;u>=0;)e.indexOf(f[u])!==-1&&f.pop(),u--;if(u=f.length,u===0)return null;s>0&&u>o&&(f.splice(o),u=o);for(var v=u-1;v>=0;v--){var l=f[v];e.splice(d,0,l),a&&a.call(r,l)}return f};h.exports=y},58742:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){var d=e.indexOf(f);return d!==-1&&d<e.length&&(e.splice(d,1),e.push(f)),f};h.exports=y},30164:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(45838),d=function(s,a,r,o,u){o===void 0&&(o=0),u===void 0&&(u=s.length);var v=0;if(f(s,o,u))for(var l=o;l<u;l++){var c=s[l];c[a]===r&&v++}return v};h.exports=d},36337:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){var s,a=[null];for(s=3;s<arguments.length;s++)a.push(arguments[s]);for(s=0;s<e.length;s++)a[0]=e[s],f.apply(d,a);return e};h.exports=y},46208:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(45838),d=function(s,a,r,o,u){if(o===void 0&&(o=0),u===void 0&&(u=s.length),f(s,o,u)){var v,l=[null];for(v=5;v<arguments.length;v++)l.push(arguments[v]);for(v=o;v<u;v++)l[0]=s[v],a.apply(r,l)}return s};h.exports=d},2406:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){if(f.length){if(f.length===1)return f[0]}else return NaN;var s=1,a,r;if(d){if(e<f[0][d])return f[0];for(;f[s][d]<e;)s++}else for(;f[s]<e;)s++;return s>f.length&&(s=f.length),d?(a=f[s-1][d],r=f[s][d],r-e<=e-a?f[s]:f[s-1]):(a=f[s-1],r=f[s],r-e<=e-a?r:a)};h.exports=y},5454:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){f===void 0&&(f=[]);for(var d=0;d<e.length;d++)Array.isArray(e[d])?y(e[d],f):f.push(e[d]);return f};h.exports=y},71608:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(45838),d=function(s,a,r,o,u){o===void 0&&(o=0),u===void 0&&(u=s.length);var v=[];if(f(s,o,u))for(var l=o;l<u;l++){var c=s[l];(!a||a&&r===void 0&&c.hasOwnProperty(a)||a&&r!==void 0&&c[a]===r)&&v.push(c)}return v};h.exports=d},51463:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(45838),d=function(s,a,r,o,u){if(o===void 0&&(o=0),u===void 0&&(u=s.length),f(s,o,u))for(var v=o;v<u;v++){var l=s[v];if(!a||a&&r===void 0&&l.hasOwnProperty(a)||a&&r!==void 0&&l[a]===r)return l}return null};h.exports=d},72861:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){f===void 0&&(f=0),d===void 0&&(d=e.length);var s=f+Math.floor(Math.random()*d);return e[s]===void 0?null:e[s]};h.exports=y},24218:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){if(f===d)return e;var s=e.indexOf(f),a=e.indexOf(d);if(s<0||a<0)throw new Error("Supplied items must be elements of the same array");return s>a||(e.splice(s,1),a===e.length-1?e.push(f):e.splice(a,0,f)),e};h.exports=y},58258:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){if(f===d)return e;var s=e.indexOf(f),a=e.indexOf(d);if(s<0||a<0)throw new Error("Supplied items must be elements of the same array");return s<a||(e.splice(s,1),a===0?e.unshift(f):e.splice(a,0,f)),e};h.exports=y},51172:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){var d=e.indexOf(f);if(d>0){var s=e[d-1],a=e.indexOf(s);e[d]=s,e[a]=f}return e};h.exports=y},68396:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){var s=e.indexOf(f);if(s===-1||d<0||d>=e.length)throw new Error("Supplied index out of bounds");return s!==d&&(e.splice(s,1),e.splice(d,0,f)),f};h.exports=y},27555:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){var d=e.indexOf(f);if(d!==-1&&d<e.length-1){var s=e[d+1],a=e.indexOf(s);e[d]=s,e[a]=f}return e};h.exports=y},13401:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){var a=[],r,o=!1;if((d||s)&&(o=!0,d||(d=""),s||(s="")),f<e)for(r=e;r>=f;r--)o?a.push(d+r.toString()+s):a.push(r);else for(r=e;r<=f;r++)o?a.push(d+r.toString()+s):a.push(r);return a};h.exports=y},89955:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(67233),d=function(s,a,r){s===void 0&&(s=0),a===void 0&&(a=null),r===void 0&&(r=1),a===null&&(a=s,s=0);for(var o=[],u=Math.max(f((a-s)/(r||1)),0),v=0;v<u;v++)o.push(s),s+=r;return o};h.exports=d},53466:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(d,s,a){var r=d[s];d[s]=d[a],d[a]=r}function e(d,s){return d<s?-1:d>s?1:0}var f=function(d,s,a,r,o){for(a===void 0&&(a=0),r===void 0&&(r=d.length-1),o===void 0&&(o=e);r>a;){if(r-a>600){var u=r-a+1,v=s-a+1,l=Math.log(u),c=.5*Math.exp(2*l/3),p=.5*Math.sqrt(l*c*(u-c)/u)*(v-u/2<0?-1:1),g=Math.max(a,Math.floor(s-v*c/u+p)),m=Math.min(r,Math.floor(s+(u-v)*c/u+p));f(d,s,g,m,o)}var T=d[s],S=a,P=r;for(y(d,a,s),o(d[r],T)>0&&y(d,a,r);S<P;){for(y(d,S,P),S++,P--;o(d[S],T)<0;)S++;for(;o(d[P],T)>0;)P--}o(d[a],T)===0?y(d,a,P):(P++,y(d,P,r)),P<=s&&(a=P+1),s<=P&&(r=P-1)}};h.exports=f},75757:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(10850),d=e(18592),s=function(r,o,u){for(var v=[],l=0;l<r.length;l++)for(var c=0;c<o.length;c++)for(var p=0;p<u;p++)v.push({a:r[l],b:o[c]});return v},a=function(r,o,u){var v=f(u,"max",0),l=f(u,"qty",1),c=f(u,"random",!1),p=f(u,"randomB",!1),g=f(u,"repeat",0),m=f(u,"yoyo",!1),T=[];if(p&&d(o),g===-1)if(v===0)g=0;else{var S=r.length*o.length*l;m&&(S*=2),g=Math.ceil(v/S)}for(var P=0;P<=g;P++){var E=s(r,o,l);c&&d(E),T=T.concat(E),m&&(E.reverse(),T=T.concat(E))}return v&&T.splice(v),T};h.exports=a},66458:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72677),d=function(s,a,r,o){o===void 0&&(o=s);var u;if(!Array.isArray(a))return u=s.indexOf(a),u!==-1?(f(s,u),r&&r.call(o,a),a):null;for(var v=a.length-1,l=[];v>=0;){var c=a[v];u=s.indexOf(c),u!==-1&&(f(s,u),l.push(c),r&&r.call(o,c)),v--}return l};h.exports=d},8324:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72677),d=function(s,a,r,o){if(o===void 0&&(o=s),a<0||a>s.length-1)throw new Error("Index out of bounds");var u=f(s,a);return r&&r.call(o,u),u};h.exports=d},47427:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(45838),d=function(s,a,r,o,u){if(a===void 0&&(a=0),r===void 0&&(r=s.length),u===void 0&&(u=s),f(s,a,r)){var v=r-a,l=s.splice(a,v);if(o)for(var c=0;c<l.length;c++){var p=l[c];o.call(u,p)}return l}else return[]};h.exports=d},50147:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72677),d=function(s,a,r){a===void 0&&(a=0),r===void 0&&(r=s.length);var o=a+Math.floor(Math.random()*r);return f(s,o)};h.exports=d},80402:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){var s=e.indexOf(f),a=e.indexOf(d);return s!==-1&&a===-1?(e[s]=d,!0):!1};h.exports=y},77640:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){f===void 0&&(f=1);for(var d=null,s=0;s<f;s++)d=e.shift(),e.push(d);return d};h.exports=y},38487:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){f===void 0&&(f=1);for(var d=null,s=0;s<f;s++)d=e.pop(),e.unshift(d);return d};h.exports=y},45838:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){var a=e.length;if(f<0||f>a||f>=d||d>a){if(s)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};h.exports=y},27847:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){var d=e.indexOf(f);return d!==-1&&d>0&&(e.splice(d,1),e.unshift(f)),f};h.exports=y},6034:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(45838),d=function(s,a,r,o,u){if(o===void 0&&(o=0),u===void 0&&(u=s.length),f(s,o,u))for(var v=o;v<u;v++){var l=s[v];l.hasOwnProperty(a)&&(l[a]=r)}return s};h.exports=d},18592:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){for(var f=e.length-1;f>0;f--){var d=Math.floor(Math.random()*(f+1)),s=e[f];e[f]=e[d],e[d]=s}return e};h.exports=y},28834:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){var f=/\D/g;return e.sort(function(d,s){return parseInt(d.replace(f,""),10)-parseInt(s.replace(f,""),10)}),e};h.exports=y},72677:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){if(!(f>=e.length)){for(var d=e.length-1,s=e[f],a=f;a<d;a++)e[a]=e[a+1];return e.length=d,s}};h.exports=y},17922:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(77290);function d(o,u){return String(o).localeCompare(u)}function s(o,u){var v=o.length;if(v<=1)return o;for(var l=new Array(v),c=1;c<v;c*=2){a(o,u,c,l);var p=o;o=l,l=p}return o}function a(o,u,v,l){var c=o.length,p=0,g=v*2,m,T,S,P,E;for(m=0;m<c;m+=g)for(T=m+v,S=T+v,T>c&&(T=c),S>c&&(S=c),P=m,E=T;;)if(P<T&&E<S)u(o[P],o[E])<=0?l[p++]=o[P++]:l[p++]=o[E++];else if(P<T)l[p++]=o[P++];else if(E<S)l[p++]=o[E++];else break}var r=function(o,u){if(u===void 0&&(u=d),!o||o.length<2)return o;if(f.features.stableSort)return o.sort(u);var v=s(o,u);return v!==o&&a(v,null,o.length,o),o};h.exports=r},96928:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){if(f===d)return e;var s=e.indexOf(f),a=e.indexOf(d);if(s<0||a<0)throw new Error("Supplied items must be elements of the same array");return e[s]=d,e[a]=f,e};h.exports=y},59959:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Matrix:e(13515),Add:e(78991),AddAt:e(48522),BringToTop:e(58742),CountAllMatching:e(30164),Each:e(36337),EachInRange:e(46208),FindClosestInSorted:e(2406),Flatten:e(5454),GetAll:e(71608),GetFirst:e(51463),GetRandom:e(72861),MoveDown:e(51172),MoveTo:e(68396),MoveUp:e(27555),MoveAbove:e(24218),MoveBelow:e(58258),NumberArray:e(13401),NumberArrayStep:e(89955),QuickSelect:e(53466),Range:e(75757),Remove:e(66458),RemoveAt:e(8324),RemoveBetween:e(47427),RemoveRandomElement:e(50147),Replace:e(80402),RotateLeft:e(77640),RotateRight:e(38487),SafeRange:e(45838),SendToBack:e(27847),SetAll:e(6034),Shuffle:e(18592),SortByDigits:e(28834),SpliceOne:e(72677),StableSort:e(17922),Swap:e(96928)}},97494:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){if(!Array.isArray(e)||!Array.isArray(e[0]))return!1;for(var f=e[0].length,d=1;d<e.length;d++)if(e[d].length!==f)return!1;return!0};h.exports=y},68428:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(76400),d=e(97494),s=function(a){var r="";if(!d(a))return r;for(var o=0;o<a.length;o++){for(var u=0;u<a[o].length;u++){var v=a[o][u].toString();v!=="undefined"?r+=f(v,2):r+="?",u<a[o].length-1&&(r+=" |")}if(o<a.length-1){r+=`
`;for(var l=0;l<a[o].length;l++)r+="---",l<a[o].length-1&&(r+="+");r+=`
`}}return r};h.exports=s},59521:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.reverse()};h.exports=y},51995:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){for(var f=0;f<e.length;f++)e[f].reverse();return e};h.exports=y},89011:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(63515),d=function(s){return f(s,180)};h.exports=d},42549:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(63515),d=function(s,a){a===void 0&&(a=1);for(var r=0;r<a;r++)s=f(s,90);return s};h.exports=d},63515:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(97494),d=e(78581),s=function(a,r){if(r===void 0&&(r=90),!f(a))return null;if(typeof r!="string"&&(r=(r%360+360)%360),r===90||r===-270||r==="rotateLeft")a=d(a),a.reverse();else if(r===-90||r===270||r==="rotateRight")a.reverse(),a=d(a);else if(Math.abs(r)===180||r==="rotate180"){for(var o=0;o<a.length;o++)a[o].reverse();a.reverse()}return a};h.exports=s},14305:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(63515),d=function(s,a){a===void 0&&(a=1);for(var r=0;r<a;r++)s=f(s,-90);return s};h.exports=d},27365:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(77640),d=e(38487),s=function(a,r,o){if(r===void 0&&(r=0),o===void 0&&(o=0),o!==0&&(o<0?f(a,Math.abs(o)):d(a,o)),r!==0)for(var u=0;u<a.length;u++){var v=a[u];r<0?f(v,Math.abs(r)):d(v,r)}return a};h.exports=s},78581:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){for(var f=e.length,d=e[0].length,s=new Array(d),a=0;a<d;a++){s[a]=new Array(f);for(var r=f-1;r>-1;r--)s[a][r]=e[r][a]}return s};h.exports=y},13515:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={CheckMatrix:e(97494),MatrixToString:e(68428),ReverseColumns:e(59521),ReverseRows:e(51995),Rotate180:e(89011),RotateLeft:e(42549),RotateMatrix:e(63515),RotateRight:e(14305),Translate:e(27365),TransposeMatrix:e(78581)}},40581:h=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=function(f,d){for(var s=new Uint8Array(f),a=s.length,r=d?"data:"+d+";base64,":"",o=0;o<a;o+=3)r+=y[s[o]>>2],r+=y[(s[o]&3)<<4|s[o+1]>>4],r+=y[(s[o+1]&15)<<2|s[o+2]>>6],r+=y[s[o+2]&63];return a%3===2?r=r.substring(0,r.length-1)+"=":a%3===1&&(r=r.substring(0,r.length-2)+"=="),r};h.exports=e},82329:h=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=new Uint8Array(256),f=0;f<y.length;f++)e[y.charCodeAt(f)]=f;var d=function(s){s=s.substr(s.indexOf(",")+1);var a=s.length,r=a*.75,o=0,u,v,l,c;s[a-1]==="="&&(r--,s[a-2]==="="&&r--);for(var p=new ArrayBuffer(r),g=new Uint8Array(p),m=0;m<a;m+=4)u=e[s.charCodeAt(m)],v=e[s.charCodeAt(m+1)],l=e[s.charCodeAt(m+2)],c=e[s.charCodeAt(m+3)],g[o++]=u<<2|v>>4,g[o++]=(v&15)<<4|l>>2,g[o++]=(l&3)<<6|c&63;return p};h.exports=d},78417:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={ArrayBufferToBase64:e(40581),Base64ToArrayBuffer:e(82329)}},22178:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Array:e(59959),Base64:e(78417),Objects:e(64615),String:e(50379),NOOP:e(72283),NULL:e(10618)}},32742:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){var f={};for(var d in e)Array.isArray(e[d])?f[d]=e[d].slice(0):f[d]=e[d];return f};h.exports=y},28699:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){var f,d,s;if(typeof e!="object"||e===null)return e;f=Array.isArray(e)?[]:{};for(s in e)d=e[s],f[s]=y(d);return f};h.exports=y},98611:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(42911),d=function(){var s,a,r,o,u,v,l=arguments[0]||{},c=1,p=arguments.length,g=!1;for(typeof l=="boolean"&&(g=l,l=arguments[1]||{},c=2),p===c&&(l=this,--c);c<p;c++)if((s=arguments[c])!=null)for(a in s)r=l[a],o=s[a],l!==o&&(g&&o&&(f(o)||(u=Array.isArray(o)))?(u?(u=!1,v=r&&Array.isArray(r)?r:[]):v=r&&f(r)?r:{},l[a]=d(g,v,o)):o!==void 0&&(l[a]=o));return l};h.exports=d},20494:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(5923),d=e(10850),s=function(a,r,o){var u=d(a,r,null);if(u===null)return o;if(Array.isArray(u))return f.RND.pick(u);if(typeof u=="object"){if(u.hasOwnProperty("randInt"))return f.RND.integerInRange(u.randInt[0],u.randInt[1]);if(u.hasOwnProperty("randFloat"))return f.RND.realInRange(u.randFloat[0],u.randFloat[1])}else if(typeof u=="function")return u(r);return u};h.exports=s},72632:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){var s=typeof e;return!e||s==="number"||s==="string"?d:e.hasOwnProperty(f)&&e[f]!==void 0?e[f]:d};h.exports=y},94324:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(10850),d=e(82897),s=function(a,r,o,u,v){v===void 0&&(v=o);var l=f(a,r,v);return d(l,o,u)};h.exports=s},10850:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){if(!e&&!s||typeof e=="number")return d;if(e&&e.hasOwnProperty(f))return e[f];if(s&&s.hasOwnProperty(f))return s[f];if(f.indexOf(".")!==-1){for(var a=f.split("."),r=e,o=s,u=d,v=d,l=!0,c=!0,p=0;p<a.length;p++)r&&r.hasOwnProperty(a[p])?(u=r[a[p]],r=r[a[p]]):l=!1,o&&o.hasOwnProperty(a[p])?(v=o[a[p]],o=o[a[p]]):c=!1;return l?u:c?v:d}else return d};h.exports=y},87701:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){for(var d=0;d<f.length;d++)if(!e.hasOwnProperty(f[d]))return!1;return!0};h.exports=y},53523:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){for(var d=0;d<f.length;d++)if(e.hasOwnProperty(f[d]))return!0;return!1};h.exports=y},19256:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e.hasOwnProperty(f)};h.exports=y},42911:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){if(!e||typeof e!="object"||e.nodeType||e===e.window)return!1;try{if(e.constructor&&!{}.hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};h.exports=y},30657:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(32742),d=function(s,a){var r=f(s);for(var o in a)r.hasOwnProperty(o)||(r[o]=a[o]);return r};h.exports=d},72066:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(32742),d=function(s,a){var r=f(s);for(var o in a)r.hasOwnProperty(o)&&(r[o]=a[o]);return r};h.exports=d},28820:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(19256),d=function(s,a){for(var r={},o=0;o<a.length;o++){var u=a[o];f(s,u)&&(r[u]=s[u])}return r};h.exports=d},22440:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d){if(!e||typeof e=="number")return!1;if(e.hasOwnProperty(f))return e[f]=d,!0;if(f.indexOf(".")!==-1){for(var s=f.split("."),a=e,r=e,o=0;o<s.length;o++)if(a.hasOwnProperty(s[o]))r=a,a=a[s[o]];else return!1;return r[s[s.length-1]]=d,!0}return!1};h.exports=y},64615:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Clone:e(32742),DeepCopy:e(28699),Extend:e(98611),GetAdvancedValue:e(20494),GetFastValue:e(72632),GetMinMaxValue:e(94324),GetValue:e(10850),HasAll:e(87701),HasAny:e(53523),HasValue:e(19256),IsPlainObject:e(42911),Merge:e(30657),MergeRight:e(72066),Pick:e(28820),SetValue:e(22440)}},69429:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e.replace(/%([0-9]+)/g,function(d,s){return f[Number(s)-1]})};h.exports=y},76400:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,d,s){f===void 0&&(f=0),d===void 0&&(d=" "),s===void 0&&(s=3),e=e.toString();var a=0;if(f+1>=e.length)switch(s){case 1:e=new Array(f+1-e.length).join(d)+e;break;case 3:var r=Math.ceil((a=f-e.length)/2),o=a-r;e=new Array(o+1).join(d)+e+new Array(r+1).join(d);break;default:e=e+new Array(f+1-e.length).join(d);break}return e};h.exports=y},76872:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return f===0?e.slice(1):e.slice(0,f-1)+e.slice(f)};h.exports=y},8051:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.split("").reverse().join("")};h.exports=y},76583:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var f=Math.random()*16|0,d=e==="x"?f:f&3|8;return d.toString(16)})};h.exports=y},40587:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e&&e[0].toUpperCase()+e.slice(1)};h.exports=y},50379:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Format:e(69429),Pad:e(76400),RemoveAt:e(76872),Reverse:e(8051),UppercaseFirst:e(40587),UUID:e(76583)}}},x={};function C(h){var y=x[h];if(y!==void 0)return y.exports;var e=x[h]={exports:{}};return n[h](e,e.exports,C),e.exports}C.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var M=C(92491);return M})())})(IS);var RA=IS.exports;const oi=xT(RA);class AA extends oi.Scene{constructor(){super("preloader")}preload(){this.load.image("tiles2","assets/tilemap/brick2.png"),this.load.tilemapTiledJSON("brick2","assets/tilemap/brick2.json"),this.load.image("tiles","assets/tilemap/forest-tileset.png"),this.load.tilemapTiledJSON("map","assets/tilemap/map.json"),this.load.image("sky","assets/bg/Sky.png"),this.load.image("mountains","assets/bg/Mountains.png"),this.load.image("middle","assets/bg/Middle.png"),this.load.image("foreground","assets/bg/Foreground.png"),this.load.spine("shadow","assets/spine/shadow.json","assets/spine/shadow.atlas"),this.load.atlas("lizard","assets/lizard/lizard.png","assets/lizard/lizard.json"),this.load.image("ground","assets/world/Tile-1.jpg"),this.load.image("star","assets/star.png")}create(){this.scene.start("Game")}}(()=>{var i={4399:C=>{var M=Object.prototype.hasOwnProperty,h="~";function y(){}Object.create&&(y.prototype=Object.create(null),new y().__proto__||(h=!1));function e(a,r,o){this.fn=a,this.context=r,this.once=o||!1}function f(a,r,o,u,v){if(typeof o!="function")throw new TypeError("The listener must be a function");var l=new e(o,u||a,v),c=h?h+r:r;return a._events[c]?a._events[c].fn?a._events[c]=[a._events[c],l]:a._events[c].push(l):(a._events[c]=l,a._eventsCount++),a}function d(a,r){--a._eventsCount===0?a._events=new y:delete a._events[r]}function s(){this._events=new y,this._eventsCount=0}s.prototype.eventNames=function(){var r=[],o,u;if(this._eventsCount===0)return r;for(u in o=this._events)M.call(o,u)&&r.push(h?u.slice(1):u);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(o)):r},s.prototype.listeners=function(r){var o=h?h+r:r,u=this._events[o];if(!u)return[];if(u.fn)return[u.fn];for(var v=0,l=u.length,c=new Array(l);v<l;v++)c[v]=u[v].fn;return c},s.prototype.listenerCount=function(r){var o=h?h+r:r,u=this._events[o];return u?u.fn?1:u.length:0},s.prototype.emit=function(r,o,u,v,l,c){var p=h?h+r:r;if(!this._events[p])return!1;var g=this._events[p],m=arguments.length,T,S;if(g.fn){switch(g.once&&this.removeListener(r,g.fn,void 0,!0),m){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,o),!0;case 3:return g.fn.call(g.context,o,u),!0;case 4:return g.fn.call(g.context,o,u,v),!0;case 5:return g.fn.call(g.context,o,u,v,l),!0;case 6:return g.fn.call(g.context,o,u,v,l,c),!0}for(S=1,T=new Array(m-1);S<m;S++)T[S-1]=arguments[S];g.fn.apply(g.context,T)}else{var P=g.length,E;for(S=0;S<P;S++)switch(g[S].once&&this.removeListener(r,g[S].fn,void 0,!0),m){case 1:g[S].fn.call(g[S].context);break;case 2:g[S].fn.call(g[S].context,o);break;case 3:g[S].fn.call(g[S].context,o,u);break;case 4:g[S].fn.call(g[S].context,o,u,v);break;default:if(!T)for(E=1,T=new Array(m-1);E<m;E++)T[E-1]=arguments[E];g[S].fn.apply(g[S].context,T)}}return!0},s.prototype.on=function(r,o,u){return f(this,r,o,u,!1)},s.prototype.once=function(r,o,u){return f(this,r,o,u,!0)},s.prototype.removeListener=function(r,o,u,v){var l=h?h+r:r;if(!this._events[l])return this;if(!o)return d(this,l),this;var c=this._events[l];if(c.fn)c.fn===o&&(!v||c.once)&&(!u||c.context===u)&&d(this,l);else{for(var p=0,g=[],m=c.length;p<m;p++)(c[p].fn!==o||v&&!c[p].once||u&&c[p].context!==u)&&g.push(c[p]);g.length?this._events[l]=g.length===1?g[0]:g:d(this,l)}return this},s.prototype.removeAllListeners=function(r){var o;return r?(o=h?h+r:r,this._events[o]&&d(this,o)):(this._events=new y,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=h,s.EventEmitter=s,C.exports=s},1847:C=>{(function(){var M=this&&this.__extends||function(){var y=function(e,f){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,s){d.__proto__=s}||function(d,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(d[a]=s[a])},y(e,f)};return function(e,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");y(e,f);function d(){this.constructor=e}e.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}(),h;(function(y){var e=function(){function O(L,F,I){if(L==null)throw new Error("name cannot be null.");if(F==null)throw new Error("timelines cannot be null.");this.name=L,this.timelines=F,this.timelineIds=[];for(var B=0;B<F.length;B++)this.timelineIds[F[B].getPropertyId()]=!0;this.duration=I}return O.prototype.hasTimeline=function(L){return this.timelineIds[L]==!0},O.prototype.apply=function(L,F,I,B,G,N,U,Y){if(L==null)throw new Error("skeleton cannot be null.");B&&this.duration!=0&&(I%=this.duration,F>0&&(F%=this.duration));for(var X=this.timelines,b=0,z=X.length;b<z;b++)X[b].apply(L,F,I,G,N,U,Y)},O.binarySearch=function(L,F,I){I===void 0&&(I=1);var B=0,G=L.length/I-2;if(G==0)return I;for(var N=G>>>1;;){if(L[(N+1)*I]<=F?B=N+1:G=N,B==G)return(B+1)*I;N=B+G>>>1}},O.linearSearch=function(L,F,I){for(var B=0,G=L.length-I;B<=G;B+=I)if(L[B]>F)return B;return-1},O}();y.Animation=e;var f;(function(O){O[O.setup=0]="setup",O[O.first=1]="first",O[O.replace=2]="replace",O[O.add=3]="add"})(f=y.MixBlend||(y.MixBlend={}));var d;(function(O){O[O.mixIn=0]="mixIn",O[O.mixOut=1]="mixOut"})(d=y.MixDirection||(y.MixDirection={}));var s;(function(O){O[O.rotate=0]="rotate",O[O.translate=1]="translate",O[O.scale=2]="scale",O[O.shear=3]="shear",O[O.attachment=4]="attachment",O[O.color=5]="color",O[O.deform=6]="deform",O[O.event=7]="event",O[O.drawOrder=8]="drawOrder",O[O.ikConstraint=9]="ikConstraint",O[O.transformConstraint=10]="transformConstraint",O[O.pathConstraintPosition=11]="pathConstraintPosition",O[O.pathConstraintSpacing=12]="pathConstraintSpacing",O[O.pathConstraintMix=13]="pathConstraintMix",O[O.twoColor=14]="twoColor"})(s=y.TimelineType||(y.TimelineType={}));var a=function(){function O(L){if(L<=0)throw new Error("frameCount must be > 0: "+L);this.curves=y.Utils.newFloatArray((L-1)*O.BEZIER_SIZE)}return O.prototype.getFrameCount=function(){return this.curves.length/O.BEZIER_SIZE+1},O.prototype.setLinear=function(L){this.curves[L*O.BEZIER_SIZE]=O.LINEAR},O.prototype.setStepped=function(L){this.curves[L*O.BEZIER_SIZE]=O.STEPPED},O.prototype.getCurveType=function(L){var F=L*O.BEZIER_SIZE;if(F==this.curves.length)return O.LINEAR;var I=this.curves[F];return I==O.LINEAR?O.LINEAR:I==O.STEPPED?O.STEPPED:O.BEZIER},O.prototype.setCurve=function(L,F,I,B,G){var N=(-F*2+B)*.03,U=(-I*2+G)*.03,Y=((F-B)*3+1)*.006,X=((I-G)*3+1)*.006,b=N*2+Y,z=U*2+X,D=F*.3+N+Y*.16666667,V=I*.3+U+X*.16666667,k=L*O.BEZIER_SIZE,W=this.curves;W[k++]=O.BEZIER;for(var H=D,$=V,K=k+O.BEZIER_SIZE-1;k<K;k+=2)W[k]=H,W[k+1]=$,D+=b,V+=z,b+=Y,z+=X,H+=D,$+=V},O.prototype.getCurvePercent=function(L,F){F=y.MathUtils.clamp(F,0,1);var I=this.curves,B=L*O.BEZIER_SIZE,G=I[B];if(G==O.LINEAR)return F;if(G==O.STEPPED)return 0;B++;for(var N=0,U=B,Y=B+O.BEZIER_SIZE-1;B<Y;B+=2)if(N=I[B],N>=F){var X=void 0,b=void 0;return B==U?(X=0,b=0):(X=I[B-2],b=I[B-1]),b+(I[B+1]-b)*(F-X)/(N-X)}var z=I[B-1];return z+(1-z)*(F-N)/(1-N)},O.LINEAR=0,O.STEPPED=1,O.BEZIER=2,O.BEZIER_SIZE=10*2-1,O}();y.CurveTimeline=a;var r=function(O){M(L,O);function L(F){var I=O.call(this,F)||this;return I.frames=y.Utils.newFloatArray(F<<1),I}return L.prototype.getPropertyId=function(){return(s.rotate<<24)+this.boneIndex},L.prototype.setFrame=function(F,I,B){F<<=1,this.frames[F]=I,this.frames[F+L.ROTATION]=B},L.prototype.apply=function(F,I,B,G,N,U,Y){var X=this.frames,b=F.bones[this.boneIndex];if(b.active){if(B<X[0]){switch(U){case f.setup:b.rotation=b.data.rotation;return;case f.first:var z=b.data.rotation-b.rotation;b.rotation+=(z-(16384-(16384.499999999996-z/360|0))*360)*N}return}if(B>=X[X.length-L.ENTRIES]){var D=X[X.length+L.PREV_ROTATION];switch(U){case f.setup:b.rotation=b.data.rotation+D*N;break;case f.first:case f.replace:D+=b.data.rotation-b.rotation,D-=(16384-(16384.499999999996-D/360|0))*360;case f.add:b.rotation+=D*N}return}var V=e.binarySearch(X,B,L.ENTRIES),k=X[V+L.PREV_ROTATION],W=X[V],H=this.getCurvePercent((V>>1)-1,1-(B-W)/(X[V+L.PREV_TIME]-W)),$=X[V+L.ROTATION]-k;switch($=k+($-(16384-(16384.499999999996-$/360|0))*360)*H,U){case f.setup:b.rotation=b.data.rotation+($-(16384-(16384.499999999996-$/360|0))*360)*N;break;case f.first:case f.replace:$+=b.data.rotation-b.rotation;case f.add:b.rotation+=($-(16384-(16384.499999999996-$/360|0))*360)*N}}},L.ENTRIES=2,L.PREV_TIME=-2,L.PREV_ROTATION=-1,L.ROTATION=1,L}(a);y.RotateTimeline=r;var o=function(O){M(L,O);function L(F){var I=O.call(this,F)||this;return I.frames=y.Utils.newFloatArray(F*L.ENTRIES),I}return L.prototype.getPropertyId=function(){return(s.translate<<24)+this.boneIndex},L.prototype.setFrame=function(F,I,B,G){F*=L.ENTRIES,this.frames[F]=I,this.frames[F+L.X]=B,this.frames[F+L.Y]=G},L.prototype.apply=function(F,I,B,G,N,U,Y){var X=this.frames,b=F.bones[this.boneIndex];if(b.active){if(B<X[0]){switch(U){case f.setup:b.x=b.data.x,b.y=b.data.y;return;case f.first:b.x+=(b.data.x-b.x)*N,b.y+=(b.data.y-b.y)*N}return}var z=0,D=0;if(B>=X[X.length-L.ENTRIES])z=X[X.length+L.PREV_X],D=X[X.length+L.PREV_Y];else{var V=e.binarySearch(X,B,L.ENTRIES);z=X[V+L.PREV_X],D=X[V+L.PREV_Y];var k=X[V],W=this.getCurvePercent(V/L.ENTRIES-1,1-(B-k)/(X[V+L.PREV_TIME]-k));z+=(X[V+L.X]-z)*W,D+=(X[V+L.Y]-D)*W}switch(U){case f.setup:b.x=b.data.x+z*N,b.y=b.data.y+D*N;break;case f.first:case f.replace:b.x+=(b.data.x+z-b.x)*N,b.y+=(b.data.y+D-b.y)*N;break;case f.add:b.x+=z*N,b.y+=D*N}}},L.ENTRIES=3,L.PREV_TIME=-3,L.PREV_X=-2,L.PREV_Y=-1,L.X=1,L.Y=2,L}(a);y.TranslateTimeline=o;var u=function(O){M(L,O);function L(F){return O.call(this,F)||this}return L.prototype.getPropertyId=function(){return(s.scale<<24)+this.boneIndex},L.prototype.apply=function(F,I,B,G,N,U,Y){var X=this.frames,b=F.bones[this.boneIndex];if(b.active){if(B<X[0]){switch(U){case f.setup:b.scaleX=b.data.scaleX,b.scaleY=b.data.scaleY;return;case f.first:b.scaleX+=(b.data.scaleX-b.scaleX)*N,b.scaleY+=(b.data.scaleY-b.scaleY)*N}return}var z=0,D=0;if(B>=X[X.length-L.ENTRIES])z=X[X.length+L.PREV_X]*b.data.scaleX,D=X[X.length+L.PREV_Y]*b.data.scaleY;else{var V=e.binarySearch(X,B,L.ENTRIES);z=X[V+L.PREV_X],D=X[V+L.PREV_Y];var k=X[V],W=this.getCurvePercent(V/L.ENTRIES-1,1-(B-k)/(X[V+L.PREV_TIME]-k));z=(z+(X[V+L.X]-z)*W)*b.data.scaleX,D=(D+(X[V+L.Y]-D)*W)*b.data.scaleY}if(N==1)U==f.add?(b.scaleX+=z-b.data.scaleX,b.scaleY+=D-b.data.scaleY):(b.scaleX=z,b.scaleY=D);else{var H=0,$=0;if(Y==d.mixOut)switch(U){case f.setup:H=b.data.scaleX,$=b.data.scaleY,b.scaleX=H+(Math.abs(z)*y.MathUtils.signum(H)-H)*N,b.scaleY=$+(Math.abs(D)*y.MathUtils.signum($)-$)*N;break;case f.first:case f.replace:H=b.scaleX,$=b.scaleY,b.scaleX=H+(Math.abs(z)*y.MathUtils.signum(H)-H)*N,b.scaleY=$+(Math.abs(D)*y.MathUtils.signum($)-$)*N;break;case f.add:H=b.scaleX,$=b.scaleY,b.scaleX=H+(Math.abs(z)*y.MathUtils.signum(H)-b.data.scaleX)*N,b.scaleY=$+(Math.abs(D)*y.MathUtils.signum($)-b.data.scaleY)*N}else switch(U){case f.setup:H=Math.abs(b.data.scaleX)*y.MathUtils.signum(z),$=Math.abs(b.data.scaleY)*y.MathUtils.signum(D),b.scaleX=H+(z-H)*N,b.scaleY=$+(D-$)*N;break;case f.first:case f.replace:H=Math.abs(b.scaleX)*y.MathUtils.signum(z),$=Math.abs(b.scaleY)*y.MathUtils.signum(D),b.scaleX=H+(z-H)*N,b.scaleY=$+(D-$)*N;break;case f.add:H=y.MathUtils.signum(z),$=y.MathUtils.signum(D),b.scaleX=Math.abs(b.scaleX)*H+(z-Math.abs(b.data.scaleX)*H)*N,b.scaleY=Math.abs(b.scaleY)*$+(D-Math.abs(b.data.scaleY)*$)*N}}}},L}(o);y.ScaleTimeline=u;var v=function(O){M(L,O);function L(F){return O.call(this,F)||this}return L.prototype.getPropertyId=function(){return(s.shear<<24)+this.boneIndex},L.prototype.apply=function(F,I,B,G,N,U,Y){var X=this.frames,b=F.bones[this.boneIndex];if(b.active){if(B<X[0]){switch(U){case f.setup:b.shearX=b.data.shearX,b.shearY=b.data.shearY;return;case f.first:b.shearX+=(b.data.shearX-b.shearX)*N,b.shearY+=(b.data.shearY-b.shearY)*N}return}var z=0,D=0;if(B>=X[X.length-L.ENTRIES])z=X[X.length+L.PREV_X],D=X[X.length+L.PREV_Y];else{var V=e.binarySearch(X,B,L.ENTRIES);z=X[V+L.PREV_X],D=X[V+L.PREV_Y];var k=X[V],W=this.getCurvePercent(V/L.ENTRIES-1,1-(B-k)/(X[V+L.PREV_TIME]-k));z=z+(X[V+L.X]-z)*W,D=D+(X[V+L.Y]-D)*W}switch(U){case f.setup:b.shearX=b.data.shearX+z*N,b.shearY=b.data.shearY+D*N;break;case f.first:case f.replace:b.shearX+=(b.data.shearX+z-b.shearX)*N,b.shearY+=(b.data.shearY+D-b.shearY)*N;break;case f.add:b.shearX+=z*N,b.shearY+=D*N}}},L}(o);y.ShearTimeline=v;var l=function(O){M(L,O);function L(F){var I=O.call(this,F)||this;return I.frames=y.Utils.newFloatArray(F*L.ENTRIES),I}return L.prototype.getPropertyId=function(){return(s.color<<24)+this.slotIndex},L.prototype.setFrame=function(F,I,B,G,N,U){F*=L.ENTRIES,this.frames[F]=I,this.frames[F+L.R]=B,this.frames[F+L.G]=G,this.frames[F+L.B]=N,this.frames[F+L.A]=U},L.prototype.apply=function(F,I,B,G,N,U,Y){var X=F.slots[this.slotIndex];if(X.bone.active){var b=this.frames;if(B<b[0]){switch(U){case f.setup:X.color.setFromColor(X.data.color);return;case f.first:var z=X.color,D=X.data.color;z.add((D.r-z.r)*N,(D.g-z.g)*N,(D.b-z.b)*N,(D.a-z.a)*N)}return}var V=0,k=0,W=0,H=0;if(B>=b[b.length-L.ENTRIES]){var $=b.length;V=b[$+L.PREV_R],k=b[$+L.PREV_G],W=b[$+L.PREV_B],H=b[$+L.PREV_A]}else{var K=e.binarySearch(b,B,L.ENTRIES);V=b[K+L.PREV_R],k=b[K+L.PREV_G],W=b[K+L.PREV_B],H=b[K+L.PREV_A];var Z=b[K],j=this.getCurvePercent(K/L.ENTRIES-1,1-(B-Z)/(b[K+L.PREV_TIME]-Z));V+=(b[K+L.R]-V)*j,k+=(b[K+L.G]-k)*j,W+=(b[K+L.B]-W)*j,H+=(b[K+L.A]-H)*j}if(N==1)X.color.set(V,k,W,H);else{var z=X.color;U==f.setup&&z.setFromColor(X.data.color),z.add((V-z.r)*N,(k-z.g)*N,(W-z.b)*N,(H-z.a)*N)}}},L.ENTRIES=5,L.PREV_TIME=-5,L.PREV_R=-4,L.PREV_G=-3,L.PREV_B=-2,L.PREV_A=-1,L.R=1,L.G=2,L.B=3,L.A=4,L}(a);y.ColorTimeline=l;var c=function(O){M(L,O);function L(F){var I=O.call(this,F)||this;return I.frames=y.Utils.newFloatArray(F*L.ENTRIES),I}return L.prototype.getPropertyId=function(){return(s.twoColor<<24)+this.slotIndex},L.prototype.setFrame=function(F,I,B,G,N,U,Y,X,b){F*=L.ENTRIES,this.frames[F]=I,this.frames[F+L.R]=B,this.frames[F+L.G]=G,this.frames[F+L.B]=N,this.frames[F+L.A]=U,this.frames[F+L.R2]=Y,this.frames[F+L.G2]=X,this.frames[F+L.B2]=b},L.prototype.apply=function(F,I,B,G,N,U,Y){var X=F.slots[this.slotIndex];if(X.bone.active){var b=this.frames;if(B<b[0]){switch(U){case f.setup:X.color.setFromColor(X.data.color),X.darkColor.setFromColor(X.data.darkColor);return;case f.first:var z=X.color,D=X.darkColor,V=X.data.color,k=X.data.darkColor;z.add((V.r-z.r)*N,(V.g-z.g)*N,(V.b-z.b)*N,(V.a-z.a)*N),D.add((k.r-D.r)*N,(k.g-D.g)*N,(k.b-D.b)*N,0)}return}var W=0,H=0,$=0,K=0,Z=0,j=0,J=0;if(B>=b[b.length-L.ENTRIES]){var Q=b.length;W=b[Q+L.PREV_R],H=b[Q+L.PREV_G],$=b[Q+L.PREV_B],K=b[Q+L.PREV_A],Z=b[Q+L.PREV_R2],j=b[Q+L.PREV_G2],J=b[Q+L.PREV_B2]}else{var q=e.binarySearch(b,B,L.ENTRIES);W=b[q+L.PREV_R],H=b[q+L.PREV_G],$=b[q+L.PREV_B],K=b[q+L.PREV_A],Z=b[q+L.PREV_R2],j=b[q+L.PREV_G2],J=b[q+L.PREV_B2];var _=b[q],tt=this.getCurvePercent(q/L.ENTRIES-1,1-(B-_)/(b[q+L.PREV_TIME]-_));W+=(b[q+L.R]-W)*tt,H+=(b[q+L.G]-H)*tt,$+=(b[q+L.B]-$)*tt,K+=(b[q+L.A]-K)*tt,Z+=(b[q+L.R2]-Z)*tt,j+=(b[q+L.G2]-j)*tt,J+=(b[q+L.B2]-J)*tt}if(N==1)X.color.set(W,H,$,K),X.darkColor.set(Z,j,J,1);else{var z=X.color,D=X.darkColor;U==f.setup&&(z.setFromColor(X.data.color),D.setFromColor(X.data.darkColor)),z.add((W-z.r)*N,(H-z.g)*N,($-z.b)*N,(K-z.a)*N),D.add((Z-D.r)*N,(j-D.g)*N,(J-D.b)*N,0)}}},L.ENTRIES=8,L.PREV_TIME=-8,L.PREV_R=-7,L.PREV_G=-6,L.PREV_B=-5,L.PREV_A=-4,L.PREV_R2=-3,L.PREV_G2=-2,L.PREV_B2=-1,L.R=1,L.G=2,L.B=3,L.A=4,L.R2=5,L.G2=6,L.B2=7,L}(a);y.TwoColorTimeline=c;var p=function(){function O(L){this.frames=y.Utils.newFloatArray(L),this.attachmentNames=new Array(L)}return O.prototype.getPropertyId=function(){return(s.attachment<<24)+this.slotIndex},O.prototype.getFrameCount=function(){return this.frames.length},O.prototype.setFrame=function(L,F,I){this.frames[L]=F,this.attachmentNames[L]=I},O.prototype.apply=function(L,F,I,B,G,N,U){var Y=L.slots[this.slotIndex];if(Y.bone.active){if(U==d.mixOut){N==f.setup&&this.setAttachment(L,Y,Y.data.attachmentName);return}var X=this.frames;if(I<X[0]){(N==f.setup||N==f.first)&&this.setAttachment(L,Y,Y.data.attachmentName);return}var b=0;I>=X[X.length-1]?b=X.length-1:b=e.binarySearch(X,I,1)-1;var z=this.attachmentNames[b];L.slots[this.slotIndex].setAttachment(z==null?null:L.getAttachment(this.slotIndex,z))}},O.prototype.setAttachment=function(L,F,I){F.setAttachment(I==null?null:L.getAttachment(this.slotIndex,I))},O}();y.AttachmentTimeline=p;var g=null,m=function(O){M(L,O);function L(F){var I=O.call(this,F)||this;return I.frames=y.Utils.newFloatArray(F),I.frameVertices=new Array(F),g==null&&(g=y.Utils.newFloatArray(64)),I}return L.prototype.getPropertyId=function(){return(s.deform<<27)+ +this.attachment.id+this.slotIndex},L.prototype.setFrame=function(F,I,B){this.frames[F]=I,this.frameVertices[F]=B},L.prototype.apply=function(F,I,B,G,N,U,Y){var X=F.slots[this.slotIndex];if(X.bone.active){var b=X.getAttachment();if(!(!(b instanceof y.VertexAttachment)||b.deformAttachment!=this.attachment)){var z=X.deform;z.length==0&&(U=f.setup);var D=this.frameVertices,V=D[0].length,k=this.frames;if(B<k[0]){var W=b;switch(U){case f.setup:z.length=0;return;case f.first:if(N==1){z.length=0;break}var H=y.Utils.setArraySize(z,V);if(W.bones==null)for(var $=W.vertices,K=0;K<V;K++)H[K]+=($[K]-H[K])*N;else{N=1-N;for(var K=0;K<V;K++)H[K]*=N}}return}var Z=y.Utils.setArraySize(z,V);if(B>=k[k.length-1]){var j=D[k.length-1];if(N==1)if(U==f.add){var W=b;if(W.bones==null)for(var $=W.vertices,J=0;J<V;J++)Z[J]+=j[J]-$[J];else for(var Q=0;Q<V;Q++)Z[Q]+=j[Q]}else y.Utils.arrayCopy(j,0,Z,0,V);else switch(U){case f.setup:{var q=b;if(q.bones==null)for(var $=q.vertices,_=0;_<V;_++){var tt=$[_];Z[_]=tt+(j[_]-tt)*N}else for(var st=0;st<V;st++)Z[st]=j[st]*N;break}case f.first:case f.replace:for(var it=0;it<V;it++)Z[it]+=(j[it]-Z[it])*N;break;case f.add:var W=b;if(W.bones==null)for(var $=W.vertices,lt=0;lt<V;lt++)Z[lt]+=(j[lt]-$[lt])*N;else for(var et=0;et<V;et++)Z[et]+=j[et]*N}return}var ht=e.binarySearch(k,B),at=D[ht-1],ft=D[ht],vt=k[ht],mt=this.getCurvePercent(ht-1,1-(B-vt)/(k[ht-1]-vt));if(N==1)if(U==f.add){var W=b;if(W.bones==null)for(var $=W.vertices,xt=0;xt<V;xt++){var dt=at[xt];Z[xt]+=dt+(ft[xt]-dt)*mt-$[xt]}else for(var gt=0;gt<V;gt++){var dt=at[gt];Z[gt]+=dt+(ft[gt]-dt)*mt}}else for(var Lt=0;Lt<V;Lt++){var dt=at[Lt];Z[Lt]=dt+(ft[Lt]-dt)*mt}else switch(U){case f.setup:{var Pt=b;if(Pt.bones==null)for(var $=Pt.vertices,Bt=0;Bt<V;Bt++){var dt=at[Bt],tt=$[Bt];Z[Bt]=tt+(dt+(ft[Bt]-dt)*mt-tt)*N}else for(var zt=0;zt<V;zt++){var dt=at[zt];Z[zt]=(dt+(ft[zt]-dt)*mt)*N}break}case f.first:case f.replace:for(var kt=0;kt<V;kt++){var dt=at[kt];Z[kt]+=(dt+(ft[kt]-dt)*mt-Z[kt])*N}break;case f.add:var W=b;if(W.bones==null)for(var $=W.vertices,ze=0;ze<V;ze++){var dt=at[ze];Z[ze]+=(dt+(ft[ze]-dt)*mt-$[ze])*N}else for(var qe=0;qe<V;qe++){var dt=at[qe];Z[qe]+=(dt+(ft[qe]-dt)*mt)*N}}}}},L}(a);y.DeformTimeline=m;var T=function(){function O(L){this.frames=y.Utils.newFloatArray(L),this.events=new Array(L)}return O.prototype.getPropertyId=function(){return s.event<<24},O.prototype.getFrameCount=function(){return this.frames.length},O.prototype.setFrame=function(L,F){this.frames[L]=F.time,this.events[L]=F},O.prototype.apply=function(L,F,I,B,G,N,U){if(B!=null){var Y=this.frames,X=this.frames.length;if(F>I)this.apply(L,F,Number.MAX_VALUE,B,G,N,U),F=-1;else if(F>=Y[X-1])return;if(!(I<Y[0])){var b=0;if(F<Y[0])b=0;else{b=e.binarySearch(Y,F);for(var z=Y[b];b>0&&Y[b-1]==z;)b--}for(;b<X&&I>=Y[b];b++)B.push(this.events[b])}}},O}();y.EventTimeline=T;var S=function(){function O(L){this.frames=y.Utils.newFloatArray(L),this.drawOrders=new Array(L)}return O.prototype.getPropertyId=function(){return s.drawOrder<<24},O.prototype.getFrameCount=function(){return this.frames.length},O.prototype.setFrame=function(L,F,I){this.frames[L]=F,this.drawOrders[L]=I},O.prototype.apply=function(L,F,I,B,G,N,U){var Y=L.drawOrder,X=L.slots;if(U==d.mixOut){N==f.setup&&y.Utils.arrayCopy(L.slots,0,L.drawOrder,0,L.slots.length);return}var b=this.frames;if(I<b[0]){(N==f.setup||N==f.first)&&y.Utils.arrayCopy(L.slots,0,L.drawOrder,0,L.slots.length);return}var z=0;I>=b[b.length-1]?z=b.length-1:z=e.binarySearch(b,I)-1;var D=this.drawOrders[z];if(D==null)y.Utils.arrayCopy(X,0,Y,0,X.length);else for(var V=0,k=D.length;V<k;V++)Y[V]=X[D[V]]},O}();y.DrawOrderTimeline=S;var P=function(O){M(L,O);function L(F){var I=O.call(this,F)||this;return I.frames=y.Utils.newFloatArray(F*L.ENTRIES),I}return L.prototype.getPropertyId=function(){return(s.ikConstraint<<24)+this.ikConstraintIndex},L.prototype.setFrame=function(F,I,B,G,N,U,Y){F*=L.ENTRIES,this.frames[F]=I,this.frames[F+L.MIX]=B,this.frames[F+L.SOFTNESS]=G,this.frames[F+L.BEND_DIRECTION]=N,this.frames[F+L.COMPRESS]=U?1:0,this.frames[F+L.STRETCH]=Y?1:0},L.prototype.apply=function(F,I,B,G,N,U,Y){var X=this.frames,b=F.ikConstraints[this.ikConstraintIndex];if(b.active){if(B<X[0]){switch(U){case f.setup:b.mix=b.data.mix,b.softness=b.data.softness,b.bendDirection=b.data.bendDirection,b.compress=b.data.compress,b.stretch=b.data.stretch;return;case f.first:b.mix+=(b.data.mix-b.mix)*N,b.softness+=(b.data.softness-b.softness)*N,b.bendDirection=b.data.bendDirection,b.compress=b.data.compress,b.stretch=b.data.stretch}return}if(B>=X[X.length-L.ENTRIES]){U==f.setup?(b.mix=b.data.mix+(X[X.length+L.PREV_MIX]-b.data.mix)*N,b.softness=b.data.softness+(X[X.length+L.PREV_SOFTNESS]-b.data.softness)*N,Y==d.mixOut?(b.bendDirection=b.data.bendDirection,b.compress=b.data.compress,b.stretch=b.data.stretch):(b.bendDirection=X[X.length+L.PREV_BEND_DIRECTION],b.compress=X[X.length+L.PREV_COMPRESS]!=0,b.stretch=X[X.length+L.PREV_STRETCH]!=0)):(b.mix+=(X[X.length+L.PREV_MIX]-b.mix)*N,b.softness+=(X[X.length+L.PREV_SOFTNESS]-b.softness)*N,Y==d.mixIn&&(b.bendDirection=X[X.length+L.PREV_BEND_DIRECTION],b.compress=X[X.length+L.PREV_COMPRESS]!=0,b.stretch=X[X.length+L.PREV_STRETCH]!=0));return}var z=e.binarySearch(X,B,L.ENTRIES),D=X[z+L.PREV_MIX],V=X[z+L.PREV_SOFTNESS],k=X[z],W=this.getCurvePercent(z/L.ENTRIES-1,1-(B-k)/(X[z+L.PREV_TIME]-k));U==f.setup?(b.mix=b.data.mix+(D+(X[z+L.MIX]-D)*W-b.data.mix)*N,b.softness=b.data.softness+(V+(X[z+L.SOFTNESS]-V)*W-b.data.softness)*N,Y==d.mixOut?(b.bendDirection=b.data.bendDirection,b.compress=b.data.compress,b.stretch=b.data.stretch):(b.bendDirection=X[z+L.PREV_BEND_DIRECTION],b.compress=X[z+L.PREV_COMPRESS]!=0,b.stretch=X[z+L.PREV_STRETCH]!=0)):(b.mix+=(D+(X[z+L.MIX]-D)*W-b.mix)*N,b.softness+=(V+(X[z+L.SOFTNESS]-V)*W-b.softness)*N,Y==d.mixIn&&(b.bendDirection=X[z+L.PREV_BEND_DIRECTION],b.compress=X[z+L.PREV_COMPRESS]!=0,b.stretch=X[z+L.PREV_STRETCH]!=0))}},L.ENTRIES=6,L.PREV_TIME=-6,L.PREV_MIX=-5,L.PREV_SOFTNESS=-4,L.PREV_BEND_DIRECTION=-3,L.PREV_COMPRESS=-2,L.PREV_STRETCH=-1,L.MIX=1,L.SOFTNESS=2,L.BEND_DIRECTION=3,L.COMPRESS=4,L.STRETCH=5,L}(a);y.IkConstraintTimeline=P;var E=function(O){M(L,O);function L(F){var I=O.call(this,F)||this;return I.frames=y.Utils.newFloatArray(F*L.ENTRIES),I}return L.prototype.getPropertyId=function(){return(s.transformConstraint<<24)+this.transformConstraintIndex},L.prototype.setFrame=function(F,I,B,G,N,U){F*=L.ENTRIES,this.frames[F]=I,this.frames[F+L.ROTATE]=B,this.frames[F+L.TRANSLATE]=G,this.frames[F+L.SCALE]=N,this.frames[F+L.SHEAR]=U},L.prototype.apply=function(F,I,B,G,N,U,Y){var X=this.frames,b=F.transformConstraints[this.transformConstraintIndex];if(b.active){if(B<X[0]){var z=b.data;switch(U){case f.setup:b.rotateMix=z.rotateMix,b.translateMix=z.translateMix,b.scaleMix=z.scaleMix,b.shearMix=z.shearMix;return;case f.first:b.rotateMix+=(z.rotateMix-b.rotateMix)*N,b.translateMix+=(z.translateMix-b.translateMix)*N,b.scaleMix+=(z.scaleMix-b.scaleMix)*N,b.shearMix+=(z.shearMix-b.shearMix)*N}return}var D=0,V=0,k=0,W=0;if(B>=X[X.length-L.ENTRIES]){var H=X.length;D=X[H+L.PREV_ROTATE],V=X[H+L.PREV_TRANSLATE],k=X[H+L.PREV_SCALE],W=X[H+L.PREV_SHEAR]}else{var $=e.binarySearch(X,B,L.ENTRIES);D=X[$+L.PREV_ROTATE],V=X[$+L.PREV_TRANSLATE],k=X[$+L.PREV_SCALE],W=X[$+L.PREV_SHEAR];var K=X[$],Z=this.getCurvePercent($/L.ENTRIES-1,1-(B-K)/(X[$+L.PREV_TIME]-K));D+=(X[$+L.ROTATE]-D)*Z,V+=(X[$+L.TRANSLATE]-V)*Z,k+=(X[$+L.SCALE]-k)*Z,W+=(X[$+L.SHEAR]-W)*Z}if(U==f.setup){var z=b.data;b.rotateMix=z.rotateMix+(D-z.rotateMix)*N,b.translateMix=z.translateMix+(V-z.translateMix)*N,b.scaleMix=z.scaleMix+(k-z.scaleMix)*N,b.shearMix=z.shearMix+(W-z.shearMix)*N}else b.rotateMix+=(D-b.rotateMix)*N,b.translateMix+=(V-b.translateMix)*N,b.scaleMix+=(k-b.scaleMix)*N,b.shearMix+=(W-b.shearMix)*N}},L.ENTRIES=5,L.PREV_TIME=-5,L.PREV_ROTATE=-4,L.PREV_TRANSLATE=-3,L.PREV_SCALE=-2,L.PREV_SHEAR=-1,L.ROTATE=1,L.TRANSLATE=2,L.SCALE=3,L.SHEAR=4,L}(a);y.TransformConstraintTimeline=E;var R=function(O){M(L,O);function L(F){var I=O.call(this,F)||this;return I.frames=y.Utils.newFloatArray(F*L.ENTRIES),I}return L.prototype.getPropertyId=function(){return(s.pathConstraintPosition<<24)+this.pathConstraintIndex},L.prototype.setFrame=function(F,I,B){F*=L.ENTRIES,this.frames[F]=I,this.frames[F+L.VALUE]=B},L.prototype.apply=function(F,I,B,G,N,U,Y){var X=this.frames,b=F.pathConstraints[this.pathConstraintIndex];if(b.active){if(B<X[0]){switch(U){case f.setup:b.position=b.data.position;return;case f.first:b.position+=(b.data.position-b.position)*N}return}var z=0;if(B>=X[X.length-L.ENTRIES])z=X[X.length+L.PREV_VALUE];else{var D=e.binarySearch(X,B,L.ENTRIES);z=X[D+L.PREV_VALUE];var V=X[D],k=this.getCurvePercent(D/L.ENTRIES-1,1-(B-V)/(X[D+L.PREV_TIME]-V));z+=(X[D+L.VALUE]-z)*k}U==f.setup?b.position=b.data.position+(z-b.data.position)*N:b.position+=(z-b.position)*N}},L.ENTRIES=2,L.PREV_TIME=-2,L.PREV_VALUE=-1,L.VALUE=1,L}(a);y.PathConstraintPositionTimeline=R;var A=function(O){M(L,O);function L(F){return O.call(this,F)||this}return L.prototype.getPropertyId=function(){return(s.pathConstraintSpacing<<24)+this.pathConstraintIndex},L.prototype.apply=function(F,I,B,G,N,U,Y){var X=this.frames,b=F.pathConstraints[this.pathConstraintIndex];if(b.active){if(B<X[0]){switch(U){case f.setup:b.spacing=b.data.spacing;return;case f.first:b.spacing+=(b.data.spacing-b.spacing)*N}return}var z=0;if(B>=X[X.length-L.ENTRIES])z=X[X.length+L.PREV_VALUE];else{var D=e.binarySearch(X,B,L.ENTRIES);z=X[D+L.PREV_VALUE];var V=X[D],k=this.getCurvePercent(D/L.ENTRIES-1,1-(B-V)/(X[D+L.PREV_TIME]-V));z+=(X[D+L.VALUE]-z)*k}U==f.setup?b.spacing=b.data.spacing+(z-b.data.spacing)*N:b.spacing+=(z-b.spacing)*N}},L}(R);y.PathConstraintSpacingTimeline=A;var w=function(O){M(L,O);function L(F){var I=O.call(this,F)||this;return I.frames=y.Utils.newFloatArray(F*L.ENTRIES),I}return L.prototype.getPropertyId=function(){return(s.pathConstraintMix<<24)+this.pathConstraintIndex},L.prototype.setFrame=function(F,I,B,G){F*=L.ENTRIES,this.frames[F]=I,this.frames[F+L.ROTATE]=B,this.frames[F+L.TRANSLATE]=G},L.prototype.apply=function(F,I,B,G,N,U,Y){var X=this.frames,b=F.pathConstraints[this.pathConstraintIndex];if(b.active){if(B<X[0]){switch(U){case f.setup:b.rotateMix=b.data.rotateMix,b.translateMix=b.data.translateMix;return;case f.first:b.rotateMix+=(b.data.rotateMix-b.rotateMix)*N,b.translateMix+=(b.data.translateMix-b.translateMix)*N}return}var z=0,D=0;if(B>=X[X.length-L.ENTRIES])z=X[X.length+L.PREV_ROTATE],D=X[X.length+L.PREV_TRANSLATE];else{var V=e.binarySearch(X,B,L.ENTRIES);z=X[V+L.PREV_ROTATE],D=X[V+L.PREV_TRANSLATE];var k=X[V],W=this.getCurvePercent(V/L.ENTRIES-1,1-(B-k)/(X[V+L.PREV_TIME]-k));z+=(X[V+L.ROTATE]-z)*W,D+=(X[V+L.TRANSLATE]-D)*W}U==f.setup?(b.rotateMix=b.data.rotateMix+(z-b.data.rotateMix)*N,b.translateMix=b.data.translateMix+(D-b.data.translateMix)*N):(b.rotateMix+=(z-b.rotateMix)*N,b.translateMix+=(D-b.translateMix)*N)}},L.ENTRIES=3,L.PREV_TIME=-3,L.PREV_ROTATE=-2,L.PREV_TRANSLATE=-1,L.ROTATE=1,L.TRANSLATE=2,L}(a);y.PathConstraintMixTimeline=w})(h||(h={}));var h;(function(y){var e=function(){function r(o){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new d(this),this.propertyIDs=new y.IntSet,this.animationsChanged=!1,this.trackEntryPool=new y.Pool(function(){return new f}),this.data=o}return r.prototype.update=function(o){o*=this.timeScale;for(var u=this.tracks,v=0,l=u.length;v<l;v++){var c=u[v];if(c!=null){c.animationLast=c.nextAnimationLast,c.trackLast=c.nextTrackLast;var p=o*c.timeScale;if(c.delay>0){if(c.delay-=p,c.delay>0)continue;p=-c.delay,c.delay=0}var g=c.next;if(g!=null){var m=c.trackLast-g.delay;if(m>=0){for(g.delay=0,g.trackTime+=c.timeScale==0?0:(m/c.timeScale+o)*g.timeScale,c.trackTime+=p,this.setCurrent(v,g,!0);g.mixingFrom!=null;)g.mixTime+=o,g=g.mixingFrom;continue}}else if(c.trackLast>=c.trackEnd&&c.mixingFrom==null){u[v]=null,this.queue.end(c),this.disposeNext(c);continue}if(c.mixingFrom!=null&&this.updateMixingFrom(c,o)){var T=c.mixingFrom;for(c.mixingFrom=null,T!=null&&(T.mixingTo=null);T!=null;)this.queue.end(T),T=T.mixingFrom}c.trackTime+=p}}this.queue.drain()},r.prototype.updateMixingFrom=function(o,u){var v=o.mixingFrom;if(v==null)return!0;var l=this.updateMixingFrom(v,u);return v.animationLast=v.nextAnimationLast,v.trackLast=v.nextTrackLast,o.mixTime>0&&o.mixTime>=o.mixDuration?((v.totalAlpha==0||o.mixDuration==0)&&(o.mixingFrom=v.mixingFrom,v.mixingFrom!=null&&(v.mixingFrom.mixingTo=o),o.interruptAlpha=v.interruptAlpha,this.queue.end(v)),l):(v.trackTime+=u*v.timeScale,o.mixTime+=u,!1)},r.prototype.apply=function(o){if(o==null)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var u=this.events,v=this.tracks,l=!1,c=0,p=v.length;c<p;c++){var g=v[c];if(!(g==null||g.delay>0)){l=!0;var m=c==0?y.MixBlend.first:g.mixBlend,T=g.alpha;g.mixingFrom!=null?T*=this.applyMixingFrom(g,o,m):g.trackTime>=g.trackEnd&&g.next==null&&(T=0);var S=g.animationLast,P=g.getAnimationTime(),E=g.animation.timelines.length,R=g.animation.timelines;if(c==0&&T==1||m==y.MixBlend.add)for(var A=0;A<E;A++){y.Utils.webkit602BugfixHelper(T,m);var w=R[A];w instanceof y.AttachmentTimeline?this.applyAttachmentTimeline(w,o,P,m,!0):w.apply(o,S,P,u,T,m,y.MixDirection.mixIn)}else{var O=g.timelineMode,L=g.timelinesRotation.length==0;L&&y.Utils.setArraySize(g.timelinesRotation,E<<1,null);for(var F=g.timelinesRotation,A=0;A<E;A++){var I=R[A],B=O[A]==r.SUBSEQUENT?m:y.MixBlend.setup;I instanceof y.RotateTimeline?this.applyRotateTimeline(I,o,P,T,B,F,A<<1,L):I instanceof y.AttachmentTimeline?this.applyAttachmentTimeline(I,o,P,m,!0):(y.Utils.webkit602BugfixHelper(T,m),I.apply(o,S,P,u,T,B,y.MixDirection.mixIn))}}this.queueEvents(g,P),u.length=0,g.nextAnimationLast=P,g.nextTrackLast=g.trackTime}}for(var G=this.unkeyedState+r.SETUP,N=o.slots,U=0,Y=o.slots.length;U<Y;U++){var X=N[U];if(X.attachmentState==G){var b=X.data.attachmentName;X.setAttachment(b==null?null:o.getAttachment(X.data.index,b))}}return this.unkeyedState+=2,this.queue.drain(),l},r.prototype.applyMixingFrom=function(o,u,v){var l=o.mixingFrom;l.mixingFrom!=null&&this.applyMixingFrom(l,u,v);var c=0;o.mixDuration==0?(c=1,v==y.MixBlend.first&&(v=y.MixBlend.setup)):(c=o.mixTime/o.mixDuration,c>1&&(c=1),v!=y.MixBlend.first&&(v=l.mixBlend));var p=c<l.eventThreshold?this.events:null,g=c<l.attachmentThreshold,m=c<l.drawOrderThreshold,T=l.animationLast,S=l.getAnimationTime(),P=l.animation.timelines.length,E=l.animation.timelines,R=l.alpha*o.interruptAlpha,A=R*(1-c);if(v==y.MixBlend.add)for(var w=0;w<P;w++)E[w].apply(u,T,S,p,A,v,y.MixDirection.mixOut);else{var O=l.timelineMode,L=l.timelineHoldMix,F=l.timelinesRotation.length==0;F&&y.Utils.setArraySize(l.timelinesRotation,P<<1,null);var I=l.timelinesRotation;l.totalAlpha=0;for(var w=0;w<P;w++){var B=E[w],G=y.MixDirection.mixOut,N=void 0,U=0;switch(O[w]){case r.SUBSEQUENT:if(!m&&B instanceof y.DrawOrderTimeline)continue;N=v,U=A;break;case r.FIRST:N=y.MixBlend.setup,U=A;break;case r.HOLD_SUBSEQUENT:N=v,U=R;break;case r.HOLD_FIRST:N=y.MixBlend.setup,U=R;break;default:N=y.MixBlend.setup;var Y=L[w];U=R*Math.max(0,1-Y.mixTime/Y.mixDuration);break}l.totalAlpha+=U,B instanceof y.RotateTimeline?this.applyRotateTimeline(B,u,S,U,N,I,w<<1,F):B instanceof y.AttachmentTimeline?this.applyAttachmentTimeline(B,u,S,N,g):(y.Utils.webkit602BugfixHelper(U,v),m&&B instanceof y.DrawOrderTimeline&&N==y.MixBlend.setup&&(G=y.MixDirection.mixIn),B.apply(u,T,S,p,U,N,G))}}return o.mixDuration>0&&this.queueEvents(l,S),this.events.length=0,l.nextAnimationLast=S,l.nextTrackLast=l.trackTime,c},r.prototype.applyAttachmentTimeline=function(o,u,v,l,c){var p=u.slots[o.slotIndex];if(p.bone.active){var g=o.frames;if(v<g[0])(l==y.MixBlend.setup||l==y.MixBlend.first)&&this.setAttachment(u,p,p.data.attachmentName,c);else{var m;v>=g[g.length-1]?m=g.length-1:m=y.Animation.binarySearch(g,v)-1,this.setAttachment(u,p,o.attachmentNames[m],c)}p.attachmentState<=this.unkeyedState&&(p.attachmentState=this.unkeyedState+r.SETUP)}},r.prototype.setAttachment=function(o,u,v,l){u.setAttachment(v==null?null:o.getAttachment(u.data.index,v)),l&&(u.attachmentState=this.unkeyedState+r.CURRENT)},r.prototype.applyRotateTimeline=function(o,u,v,l,c,p,g,m){if(m&&(p[g]=0),l==1){o.apply(u,0,v,null,1,c,y.MixDirection.mixIn);return}var T=o,S=T.frames,P=u.bones[T.boneIndex];if(P.active){var E=0,R=0;if(v<S[0])switch(c){case y.MixBlend.setup:P.rotation=P.data.rotation;default:return;case y.MixBlend.first:E=P.rotation,R=P.data.rotation}else if(E=c==y.MixBlend.setup?P.data.rotation:P.rotation,v>=S[S.length-y.RotateTimeline.ENTRIES])R=P.data.rotation+S[S.length+y.RotateTimeline.PREV_ROTATION];else{var A=y.Animation.binarySearch(S,v,y.RotateTimeline.ENTRIES),w=S[A+y.RotateTimeline.PREV_ROTATION],O=S[A],L=T.getCurvePercent((A>>1)-1,1-(v-O)/(S[A+y.RotateTimeline.PREV_TIME]-O));R=S[A+y.RotateTimeline.ROTATION]-w,R-=(16384-(16384.499999999996-R/360|0))*360,R=w+R*L+P.data.rotation,R-=(16384-(16384.499999999996-R/360|0))*360}var F=0,I=R-E;if(I-=(16384-(16384.499999999996-I/360|0))*360,I==0)F=p[g];else{var B=0,G=0;m?(B=0,G=I):(B=p[g],G=p[g+1]);var N=I>0,U=B>=0;y.MathUtils.signum(G)!=y.MathUtils.signum(I)&&Math.abs(G)<=90&&(Math.abs(B)>180&&(B+=360*y.MathUtils.signum(B)),U=N),F=I+B-B%360,U!=N&&(F+=360*y.MathUtils.signum(B)),p[g]=F}p[g+1]=I,E+=F*l,P.rotation=E-(16384-(16384.499999999996-E/360|0))*360}},r.prototype.queueEvents=function(o,u){for(var v=o.animationStart,l=o.animationEnd,c=l-v,p=o.trackLast%c,g=this.events,m=0,T=g.length;m<T;m++){var S=g[m];if(S.time<p)break;S.time>l||this.queue.event(o,S)}var P=!1;for(o.loop?P=c==0||p>o.trackTime%c:P=u>=l&&o.animationLast<l,P&&this.queue.complete(o);m<T;m++){var E=g[m];E.time<v||this.queue.event(o,g[m])}},r.prototype.clearTracks=function(){var o=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var u=0,v=this.tracks.length;u<v;u++)this.clearTrack(u);this.tracks.length=0,this.queue.drainDisabled=o,this.queue.drain()},r.prototype.clearTrack=function(o){if(!(o>=this.tracks.length)){var u=this.tracks[o];if(u!=null){this.queue.end(u),this.disposeNext(u);for(var v=u;;){var l=v.mixingFrom;if(l==null)break;this.queue.end(l),v.mixingFrom=null,v.mixingTo=null,v=l}this.tracks[u.trackIndex]=null,this.queue.drain()}}},r.prototype.setCurrent=function(o,u,v){var l=this.expandToIndex(o);this.tracks[o]=u,l!=null&&(v&&this.queue.interrupt(l),u.mixingFrom=l,l.mixingTo=u,u.mixTime=0,l.mixingFrom!=null&&l.mixDuration>0&&(u.interruptAlpha*=Math.min(1,l.mixTime/l.mixDuration)),l.timelinesRotation.length=0),this.queue.start(u)},r.prototype.setAnimation=function(o,u,v){var l=this.data.skeletonData.findAnimation(u);if(l==null)throw new Error("Animation not found: "+u);return this.setAnimationWith(o,l,v)},r.prototype.setAnimationWith=function(o,u,v){if(u==null)throw new Error("animation cannot be null.");var l=!0,c=this.expandToIndex(o);c!=null&&(c.nextTrackLast==-1?(this.tracks[o]=c.mixingFrom,this.queue.interrupt(c),this.queue.end(c),this.disposeNext(c),c=c.mixingFrom,l=!1):this.disposeNext(c));var p=this.trackEntry(o,u,v,c);return this.setCurrent(o,p,l),this.queue.drain(),p},r.prototype.addAnimation=function(o,u,v,l){var c=this.data.skeletonData.findAnimation(u);if(c==null)throw new Error("Animation not found: "+u);return this.addAnimationWith(o,c,v,l)},r.prototype.addAnimationWith=function(o,u,v,l){if(u==null)throw new Error("animation cannot be null.");var c=this.expandToIndex(o);if(c!=null)for(;c.next!=null;)c=c.next;var p=this.trackEntry(o,u,v,c);if(c==null)this.setCurrent(o,p,!0),this.queue.drain();else if(c.next=p,l<=0){var g=c.animationEnd-c.animationStart;g!=0?(c.loop?l+=g*(1+(c.trackTime/g|0)):l+=Math.max(g,c.trackTime),l-=this.data.getMix(c.animation,u)):l=c.trackTime}return p.delay=l,p},r.prototype.setEmptyAnimation=function(o,u){var v=this.setAnimationWith(o,r.emptyAnimation,!1);return v.mixDuration=u,v.trackEnd=u,v},r.prototype.addEmptyAnimation=function(o,u,v){v<=0&&(v-=u);var l=this.addAnimationWith(o,r.emptyAnimation,!1,v);return l.mixDuration=u,l.trackEnd=u,l},r.prototype.setEmptyAnimations=function(o){var u=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var v=0,l=this.tracks.length;v<l;v++){var c=this.tracks[v];c!=null&&this.setEmptyAnimation(c.trackIndex,o)}this.queue.drainDisabled=u,this.queue.drain()},r.prototype.expandToIndex=function(o){return o<this.tracks.length?this.tracks[o]:(y.Utils.ensureArrayCapacity(this.tracks,o+1,null),this.tracks.length=o+1,null)},r.prototype.trackEntry=function(o,u,v,l){var c=this.trackEntryPool.obtain();return c.trackIndex=o,c.animation=u,c.loop=v,c.holdPrevious=!1,c.eventThreshold=0,c.attachmentThreshold=0,c.drawOrderThreshold=0,c.animationStart=0,c.animationEnd=u.duration,c.animationLast=-1,c.nextAnimationLast=-1,c.delay=0,c.trackTime=0,c.trackLast=-1,c.nextTrackLast=-1,c.trackEnd=Number.MAX_VALUE,c.timeScale=1,c.alpha=1,c.interruptAlpha=1,c.mixTime=0,c.mixDuration=l==null?0:this.data.getMix(l.animation,u),c.mixBlend=y.MixBlend.replace,c},r.prototype.disposeNext=function(o){for(var u=o.next;u!=null;)this.queue.dispose(u),u=u.next;o.next=null},r.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var o=0,u=this.tracks.length;o<u;o++){var v=this.tracks[o];if(v!=null){for(;v.mixingFrom!=null;)v=v.mixingFrom;do(v.mixingFrom==null||v.mixBlend!=y.MixBlend.add)&&this.computeHold(v),v=v.mixingTo;while(v!=null)}}},r.prototype.computeHold=function(o){var u=o.mixingTo,v=o.animation.timelines,l=o.animation.timelines.length,c=y.Utils.setArraySize(o.timelineMode,l);o.timelineHoldMix.length=0;var p=y.Utils.setArraySize(o.timelineHoldMix,l),g=this.propertyIDs;if(u!=null&&u.holdPrevious){for(var m=0;m<l;m++)c[m]=g.add(v[m].getPropertyId())?r.HOLD_FIRST:r.HOLD_SUBSEQUENT;return}t:for(var m=0;m<l;m++){var T=v[m],S=T.getPropertyId();if(!g.add(S))c[m]=r.SUBSEQUENT;else if(u==null||T instanceof y.AttachmentTimeline||T instanceof y.DrawOrderTimeline||T instanceof y.EventTimeline||!u.animation.hasTimeline(S))c[m]=r.FIRST;else{for(var P=u.mixingTo;P!=null;P=P.mixingTo)if(!P.animation.hasTimeline(S)){if(o.mixDuration>0){c[m]=r.HOLD_MIX,p[m]=P;continue t}break}c[m]=r.HOLD_FIRST}}},r.prototype.getCurrent=function(o){return o>=this.tracks.length?null:this.tracks[o]},r.prototype.addListener=function(o){if(o==null)throw new Error("listener cannot be null.");this.listeners.push(o)},r.prototype.removeListener=function(o){var u=this.listeners.indexOf(o);u>=0&&this.listeners.splice(u,1)},r.prototype.clearListeners=function(){this.listeners.length=0},r.prototype.clearListenerNotifications=function(){this.queue.clear()},r.emptyAnimation=new y.Animation("<empty>",[],0),r.SUBSEQUENT=0,r.FIRST=1,r.HOLD_SUBSEQUENT=2,r.HOLD_FIRST=3,r.HOLD_MIX=4,r.SETUP=1,r.CURRENT=2,r}();y.AnimationState=e;var f=function(){function r(){this.mixBlend=y.MixBlend.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return r.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},r.prototype.getAnimationTime=function(){if(this.loop){var o=this.animationEnd-this.animationStart;return o==0?this.animationStart:this.trackTime%o+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},r.prototype.setAnimationLast=function(o){this.animationLast=o,this.nextAnimationLast=o},r.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},r.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},r}();y.TrackEntry=f;var d=function(){function r(o){this.objects=[],this.drainDisabled=!1,this.animState=o}return r.prototype.start=function(o){this.objects.push(s.start),this.objects.push(o),this.animState.animationsChanged=!0},r.prototype.interrupt=function(o){this.objects.push(s.interrupt),this.objects.push(o)},r.prototype.end=function(o){this.objects.push(s.end),this.objects.push(o),this.animState.animationsChanged=!0},r.prototype.dispose=function(o){this.objects.push(s.dispose),this.objects.push(o)},r.prototype.complete=function(o){this.objects.push(s.complete),this.objects.push(o)},r.prototype.event=function(o,u){this.objects.push(s.event),this.objects.push(o),this.objects.push(u)},r.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var o=this.objects,u=this.animState.listeners,v=0;v<o.length;v+=2){var l=o[v],c=o[v+1];switch(l){case s.start:c.listener!=null&&c.listener.start&&c.listener.start(c);for(var p=0;p<u.length;p++)u[p].start&&u[p].start(c);break;case s.interrupt:c.listener!=null&&c.listener.interrupt&&c.listener.interrupt(c);for(var p=0;p<u.length;p++)u[p].interrupt&&u[p].interrupt(c);break;case s.end:c.listener!=null&&c.listener.end&&c.listener.end(c);for(var p=0;p<u.length;p++)u[p].end&&u[p].end(c);case s.dispose:c.listener!=null&&c.listener.dispose&&c.listener.dispose(c);for(var p=0;p<u.length;p++)u[p].dispose&&u[p].dispose(c);this.animState.trackEntryPool.free(c);break;case s.complete:c.listener!=null&&c.listener.complete&&c.listener.complete(c);for(var p=0;p<u.length;p++)u[p].complete&&u[p].complete(c);break;case s.event:var g=o[v+++2];c.listener!=null&&c.listener.event&&c.listener.event(c,g);for(var p=0;p<u.length;p++)u[p].event&&u[p].event(c,g);break}}this.clear(),this.drainDisabled=!1}},r.prototype.clear=function(){this.objects.length=0},r}();y.EventQueue=d;var s;(function(r){r[r.start=0]="start",r[r.interrupt=1]="interrupt",r[r.end=2]="end",r[r.dispose=3]="dispose",r[r.complete=4]="complete",r[r.event=5]="event"})(s=y.EventType||(y.EventType={}));var a=function(){function r(){}return r.prototype.start=function(o){},r.prototype.interrupt=function(o){},r.prototype.end=function(o){},r.prototype.dispose=function(o){},r.prototype.complete=function(o){},r.prototype.event=function(o,u){},r}();y.AnimationStateAdapter=a})(h||(h={}));var h;(function(y){var e=function(){function f(d){if(this.animationToMixTime={},this.defaultMix=0,d==null)throw new Error("skeletonData cannot be null.");this.skeletonData=d}return f.prototype.setMix=function(d,s,a){var r=this.skeletonData.findAnimation(d);if(r==null)throw new Error("Animation not found: "+d);var o=this.skeletonData.findAnimation(s);if(o==null)throw new Error("Animation not found: "+s);this.setMixWith(r,o,a)},f.prototype.setMixWith=function(d,s,a){if(d==null)throw new Error("from cannot be null.");if(s==null)throw new Error("to cannot be null.");var r=d.name+"."+s.name;this.animationToMixTime[r]=a},f.prototype.getMix=function(d,s){var a=d.name+"."+s.name,r=this.animationToMixTime[a];return r===void 0?this.defaultMix:r},f}();y.AnimationStateData=e})(h||(h={}));var h;(function(y){var e=function(){function f(d,s){s===void 0&&(s=""),this.assets={},this.errors={},this.toLoad=0,this.loaded=0,this.rawDataUris={},this.textureLoader=d,this.pathPrefix=s}return f.prototype.downloadText=function(d,s,a){var r=new XMLHttpRequest;r.overrideMimeType("text/html"),this.rawDataUris[d]&&(d=this.rawDataUris[d]),r.open("GET",d,!0),r.onload=function(){r.status==200?s(r.responseText):a(r.status,r.responseText)},r.onerror=function(){a(r.status,r.responseText)},r.send()},f.prototype.downloadBinary=function(d,s,a){var r=new XMLHttpRequest;this.rawDataUris[d]&&(d=this.rawDataUris[d]),r.open("GET",d,!0),r.responseType="arraybuffer",r.onload=function(){r.status==200?s(new Uint8Array(r.response)):a(r.status,r.responseText)},r.onerror=function(){a(r.status,r.responseText)},r.send()},f.prototype.setRawDataURI=function(d,s){this.rawDataUris[this.pathPrefix+d]=s},f.prototype.loadBinary=function(d,s,a){var r=this;s===void 0&&(s=null),a===void 0&&(a=null),d=this.pathPrefix+d,this.toLoad++,this.downloadBinary(d,function(o){r.assets[d]=o,s&&s(d,o),r.toLoad--,r.loaded++},function(o,u){r.errors[d]="Couldn't load binary ".concat(d,": status ").concat(status,", ").concat(u),a&&a(d,"Couldn't load binary ".concat(d,": status ").concat(status,", ").concat(u)),r.toLoad--,r.loaded++})},f.prototype.loadText=function(d,s,a){var r=this;s===void 0&&(s=null),a===void 0&&(a=null),d=this.pathPrefix+d,this.toLoad++,this.downloadText(d,function(o){r.assets[d]=o,s&&s(d,o),r.toLoad--,r.loaded++},function(o,u){r.errors[d]="Couldn't load text ".concat(d,": status ").concat(status,", ").concat(u),a&&a(d,"Couldn't load text ".concat(d,": status ").concat(status,", ").concat(u)),r.toLoad--,r.loaded++})},f.prototype.loadTexture=function(d,s,a){var r=this;s===void 0&&(s=null),a===void 0&&(a=null),d=this.pathPrefix+d;var o=d;this.toLoad++;var u=new Image;u.crossOrigin="anonymous",u.onload=function(v){var l=r.textureLoader(u);r.assets[o]=l,r.toLoad--,r.loaded++,s&&s(d,u)},u.onerror=function(v){r.errors[d]="Couldn't load image ".concat(d),r.toLoad--,r.loaded++,a&&a(d,"Couldn't load image ".concat(d))},this.rawDataUris[d]&&(d=this.rawDataUris[d]),u.src=d},f.prototype.loadTextureAtlas=function(d,s,a){var r=this;s===void 0&&(s=null),a===void 0&&(a=null);var o=d.lastIndexOf("/")>=0?d.substring(0,d.lastIndexOf("/")):"";d=this.pathPrefix+d,this.toLoad++,this.downloadText(d,function(u){var v={count:0},l=new Array;try{var c=new y.TextureAtlas(u,function(P){l.push(o==""?P:o+"/"+P);var E=document.createElement("img");return E.width=16,E.height=16,new y.FakeTexture(E)})}catch(P){var p=P;r.errors[d]="Couldn't load texture atlas ".concat(d,": ").concat(p.message),a&&a(d,"Couldn't load texture atlas ".concat(d,": ").concat(p.message)),r.toLoad--,r.loaded++;return}for(var g=function(P){var E=!1;r.loadTexture(P,function(R,A){if(v.count++,v.count==l.length)if(E)r.errors[d]="Couldn't load texture atlas page ".concat(R,"} of atlas ").concat(d),a&&a(d,"Couldn't load texture atlas page ".concat(R," of atlas ").concat(d)),r.toLoad--,r.loaded++;else try{var w=new y.TextureAtlas(u,function(L){return r.get(o==""?L:o+"/"+L)});r.assets[d]=w,s&&s(d,w),r.toLoad--,r.loaded++}catch(L){var O=L;r.errors[d]="Couldn't load texture atlas ".concat(d,": ").concat(O.message),a&&a(d,"Couldn't load texture atlas ".concat(d,": ").concat(O.message)),r.toLoad--,r.loaded++}},function(R,A){E=!0,v.count++,v.count==l.length&&(r.errors[d]="Couldn't load texture atlas page ".concat(R,"} of atlas ").concat(d),a&&a(d,"Couldn't load texture atlas page ".concat(R," of atlas ").concat(d)),r.toLoad--,r.loaded++)})},m=0,T=l;m<T.length;m++){var S=T[m];g(S)}},function(u,v){r.errors[d]="Couldn't load texture atlas ".concat(d,": status ").concat(status,", ").concat(v),a&&a(d,"Couldn't load texture atlas ".concat(d,": status ").concat(status,", ").concat(v)),r.toLoad--,r.loaded++})},f.prototype.get=function(d){return d=this.pathPrefix+d,this.assets[d]},f.prototype.remove=function(d){d=this.pathPrefix+d;var s=this.assets[d];s.dispose&&s.dispose(),this.assets[d]=null},f.prototype.removeAll=function(){for(var d in this.assets){var s=this.assets[d];s.dispose&&s.dispose()}this.assets={}},f.prototype.isLoadingComplete=function(){return this.toLoad==0},f.prototype.getToLoad=function(){return this.toLoad},f.prototype.getLoaded=function(){return this.loaded},f.prototype.dispose=function(){this.removeAll()},f.prototype.hasErrors=function(){return Object.keys(this.errors).length>0},f.prototype.getErrors=function(){return this.errors},f}();y.AssetManager=e})(h||(h={}));var h;(function(y){var e=function(){function f(d){this.atlas=d}return f.prototype.newRegionAttachment=function(d,s,a){var r=this.atlas.findRegion(a);if(r==null)throw new Error("Region not found in atlas: "+a+" (region attachment: "+s+")");r.renderObject=r;var o=new y.RegionAttachment(s);return o.setRegion(r),o},f.prototype.newMeshAttachment=function(d,s,a){var r=this.atlas.findRegion(a);if(r==null)throw new Error("Region not found in atlas: "+a+" (mesh attachment: "+s+")");r.renderObject=r;var o=new y.MeshAttachment(s);return o.region=r,o},f.prototype.newBoundingBoxAttachment=function(d,s){return new y.BoundingBoxAttachment(s)},f.prototype.newPathAttachment=function(d,s){return new y.PathAttachment(s)},f.prototype.newPointAttachment=function(d,s){return new y.PointAttachment(s)},f.prototype.newClippingAttachment=function(d,s){return new y.ClippingAttachment(s)},f}();y.AtlasAttachmentLoader=e})(h||(h={}));var h;(function(y){(function(e){e[e.Normal=0]="Normal",e[e.Additive=1]="Additive",e[e.Multiply=2]="Multiply",e[e.Screen=3]="Screen"})(y.BlendMode||(y.BlendMode={}))})(h||(h={}));var h;(function(y){var e=function(){function f(d,s,a){if(this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.a=0,this.b=0,this.c=0,this.d=0,this.worldY=0,this.worldX=0,this.sorted=!1,this.active=!1,d==null)throw new Error("data cannot be null.");if(s==null)throw new Error("skeleton cannot be null.");this.data=d,this.skeleton=s,this.parent=a,this.setToSetupPose()}return f.prototype.isActive=function(){return this.active},f.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},f.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},f.prototype.updateWorldTransformWith=function(d,s,a,r,o,u,v){this.ax=d,this.ay=s,this.arotation=a,this.ascaleX=r,this.ascaleY=o,this.ashearX=u,this.ashearY=v,this.appliedValid=!0;var l=this.parent;if(l==null){var c=this.skeleton,p=a+90+v,g=c.scaleX,m=c.scaleY;this.a=y.MathUtils.cosDeg(a+u)*r*g,this.b=y.MathUtils.cosDeg(p)*o*g,this.c=y.MathUtils.sinDeg(a+u)*r*m,this.d=y.MathUtils.sinDeg(p)*o*m,this.worldX=d*g+c.x,this.worldY=s*m+c.y;return}var T=l.a,S=l.b,P=l.c,E=l.d;switch(this.worldX=T*d+S*s+l.worldX,this.worldY=P*d+E*s+l.worldY,this.data.transformMode){case y.TransformMode.Normal:{var p=a+90+v,R=y.MathUtils.cosDeg(a+u)*r,A=y.MathUtils.cosDeg(p)*o,w=y.MathUtils.sinDeg(a+u)*r,O=y.MathUtils.sinDeg(p)*o;this.a=T*R+S*w,this.b=T*A+S*O,this.c=P*R+E*w,this.d=P*A+E*O;return}case y.TransformMode.OnlyTranslation:{var p=a+90+v;this.a=y.MathUtils.cosDeg(a+u)*r,this.b=y.MathUtils.cosDeg(p)*o,this.c=y.MathUtils.sinDeg(a+u)*r,this.d=y.MathUtils.sinDeg(p)*o;break}case y.TransformMode.NoRotationOrReflection:{var L=T*T+P*P,F=0;L>1e-4?(L=Math.abs(T*E-S*P)/L,T/=this.skeleton.scaleX,P/=this.skeleton.scaleY,S=P*L,E=T*L,F=Math.atan2(P,T)*y.MathUtils.radDeg):(T=0,P=0,F=90-Math.atan2(E,S)*y.MathUtils.radDeg);var I=a+u-F,B=a+v-F+90,R=y.MathUtils.cosDeg(I)*r,A=y.MathUtils.cosDeg(B)*o,w=y.MathUtils.sinDeg(I)*r,O=y.MathUtils.sinDeg(B)*o;this.a=T*R-S*w,this.b=T*A-S*O,this.c=P*R+E*w,this.d=P*A+E*O;break}case y.TransformMode.NoScale:case y.TransformMode.NoScaleOrReflection:{var G=y.MathUtils.cosDeg(a),N=y.MathUtils.sinDeg(a),U=(T*G+S*N)/this.skeleton.scaleX,Y=(P*G+E*N)/this.skeleton.scaleY,L=Math.sqrt(U*U+Y*Y);L>1e-5&&(L=1/L),U*=L,Y*=L,L=Math.sqrt(U*U+Y*Y),this.data.transformMode==y.TransformMode.NoScale&&T*E-S*P<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(L=-L);var X=Math.PI/2+Math.atan2(Y,U),b=Math.cos(X)*L,z=Math.sin(X)*L,R=y.MathUtils.cosDeg(u)*r,A=y.MathUtils.cosDeg(90+v)*o,w=y.MathUtils.sinDeg(u)*r,O=y.MathUtils.sinDeg(90+v)*o;this.a=U*R+b*w,this.b=U*A+b*O,this.c=Y*R+z*w,this.d=Y*A+z*O;break}}this.a*=this.skeleton.scaleX,this.b*=this.skeleton.scaleX,this.c*=this.skeleton.scaleY,this.d*=this.skeleton.scaleY},f.prototype.setToSetupPose=function(){var d=this.data;this.x=d.x,this.y=d.y,this.rotation=d.rotation,this.scaleX=d.scaleX,this.scaleY=d.scaleY,this.shearX=d.shearX,this.shearY=d.shearY},f.prototype.getWorldRotationX=function(){return Math.atan2(this.c,this.a)*y.MathUtils.radDeg},f.prototype.getWorldRotationY=function(){return Math.atan2(this.d,this.b)*y.MathUtils.radDeg},f.prototype.getWorldScaleX=function(){return Math.sqrt(this.a*this.a+this.c*this.c)},f.prototype.getWorldScaleY=function(){return Math.sqrt(this.b*this.b+this.d*this.d)},f.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var d=this.parent;if(d==null){this.ax=this.worldX,this.ay=this.worldY,this.arotation=Math.atan2(this.c,this.a)*y.MathUtils.radDeg,this.ascaleX=Math.sqrt(this.a*this.a+this.c*this.c),this.ascaleY=Math.sqrt(this.b*this.b+this.d*this.d),this.ashearX=0,this.ashearY=Math.atan2(this.a*this.b+this.c*this.d,this.a*this.d-this.b*this.c)*y.MathUtils.radDeg;return}var s=d.a,a=d.b,r=d.c,o=d.d,u=1/(s*o-a*r),v=this.worldX-d.worldX,l=this.worldY-d.worldY;this.ax=v*o*u-l*a*u,this.ay=l*s*u-v*r*u;var c=u*o,p=u*s,g=u*a,m=u*r,T=c*this.a-g*this.c,S=c*this.b-g*this.d,P=p*this.c-m*this.a,E=p*this.d-m*this.b;if(this.ashearX=0,this.ascaleX=Math.sqrt(T*T+P*P),this.ascaleX>1e-4){var R=T*E-S*P;this.ascaleY=R/this.ascaleX,this.ashearY=Math.atan2(T*S+P*E,R)*y.MathUtils.radDeg,this.arotation=Math.atan2(P,T)*y.MathUtils.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(S*S+E*E),this.ashearY=0,this.arotation=90-Math.atan2(E,S)*y.MathUtils.radDeg},f.prototype.worldToLocal=function(d){var s=this.a,a=this.b,r=this.c,o=this.d,u=1/(s*o-a*r),v=d.x-this.worldX,l=d.y-this.worldY;return d.x=v*o*u-l*a*u,d.y=l*s*u-v*r*u,d},f.prototype.localToWorld=function(d){var s=d.x,a=d.y;return d.x=s*this.a+a*this.b+this.worldX,d.y=s*this.c+a*this.d+this.worldY,d},f.prototype.worldToLocalRotation=function(d){var s=y.MathUtils.sinDeg(d),a=y.MathUtils.cosDeg(d);return Math.atan2(this.a*s-this.c*a,this.d*a-this.b*s)*y.MathUtils.radDeg+this.rotation-this.shearX},f.prototype.localToWorldRotation=function(d){d-=this.rotation-this.shearX;var s=y.MathUtils.sinDeg(d),a=y.MathUtils.cosDeg(d);return Math.atan2(a*this.c+s*this.d,a*this.a+s*this.b)*y.MathUtils.radDeg},f.prototype.rotateWorld=function(d){var s=this.a,a=this.b,r=this.c,o=this.d,u=y.MathUtils.cosDeg(d),v=y.MathUtils.sinDeg(d);this.a=u*s-v*r,this.b=u*a-v*o,this.c=v*s+u*r,this.d=v*a+u*o,this.appliedValid=!1},f}();y.Bone=e})(h||(h={}));var h;(function(y){var e=function(){function d(s,a,r){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=f.Normal,this.skinRequired=!1,this.color=new y.Color,s<0)throw new Error("index must be >= 0.");if(a==null)throw new Error("name cannot be null.");this.index=s,this.name=a,this.parent=r}return d}();y.BoneData=e;var f;(function(d){d[d.Normal=0]="Normal",d[d.OnlyTranslation=1]="OnlyTranslation",d[d.NoRotationOrReflection=2]="NoRotationOrReflection",d[d.NoScale=3]="NoScale",d[d.NoScaleOrReflection=4]="NoScaleOrReflection"})(f=y.TransformMode||(y.TransformMode={}))})(h||(h={}));var h;(function(y){var e=function(){function f(d,s,a){this.name=d,this.order=s,this.skinRequired=a}return f}();y.ConstraintData=e})(h||(h={}));var h;(function(y){var e=function(){function f(d,s){if(s==null)throw new Error("data cannot be null.");this.time=d,this.data=s}return f}();y.Event=e})(h||(h={}));var h;(function(y){var e=function(){function f(d){this.name=d}return f}();y.EventData=e})(h||(h={}));var h;(function(y){var e=function(){function f(d,s){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,d==null)throw new Error("data cannot be null.");if(s==null)throw new Error("skeleton cannot be null.");this.data=d,this.mix=d.mix,this.softness=d.softness,this.bendDirection=d.bendDirection,this.compress=d.compress,this.stretch=d.stretch,this.bones=new Array;for(var a=0;a<d.bones.length;a++)this.bones.push(s.findBone(d.bones[a].name));this.target=s.findBone(d.target.name)}return f.prototype.isActive=function(){return this.active},f.prototype.apply=function(){this.update()},f.prototype.update=function(){var d=this.target,s=this.bones;switch(s.length){case 1:this.apply1(s[0],d.worldX,d.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(s[0],s[1],d.worldX,d.worldY,this.bendDirection,this.stretch,this.softness,this.mix);break}},f.prototype.apply1=function(d,s,a,r,o,u,v){d.appliedValid||d.updateAppliedTransform();var l=d.parent,c=l.a,p=l.b,g=l.c,m=l.d,T=-d.ashearX-d.arotation,S=0,P=0;switch(d.data.transformMode){case y.TransformMode.OnlyTranslation:S=s-d.worldX,P=a-d.worldY;break;case y.TransformMode.NoRotationOrReflection:var E=Math.abs(c*m-p*g)/(c*c+g*g),R=c/d.skeleton.scaleX,A=g/d.skeleton.scaleY;p=-A*E*d.skeleton.scaleX,m=R*E*d.skeleton.scaleY,T+=Math.atan2(A,R)*y.MathUtils.radDeg;default:var w=s-l.worldX,O=a-l.worldY,L=c*m-p*g;S=(w*m-O*p)/L-d.ax,P=(O*c-w*g)/L-d.ay}T+=Math.atan2(P,S)*y.MathUtils.radDeg,d.ascaleX<0&&(T+=180),T>180?T-=360:T<-180&&(T+=360);var F=d.ascaleX,I=d.ascaleY;if(r||o){switch(d.data.transformMode){case y.TransformMode.NoScale:case y.TransformMode.NoScaleOrReflection:S=s-d.worldX,P=a-d.worldY}var B=d.data.length*F,G=Math.sqrt(S*S+P*P);if(r&&G<B||o&&G>B&&B>1e-4){var E=(G/B-1)*v+1;F*=E,u&&(I*=E)}}d.updateWorldTransformWith(d.ax,d.ay,d.arotation+T*v,F,I,d.ashearX,d.ashearY)},f.prototype.apply2=function(d,s,a,r,o,u,v,l){if(l==0){s.updateWorldTransform();return}d.appliedValid||d.updateAppliedTransform(),s.appliedValid||s.updateAppliedTransform();var c=d.ax,p=d.ay,g=d.ascaleX,m=g,T=d.ascaleY,S=s.ascaleX,P=0,E=0,R=0;g<0?(g=-g,P=180,R=-1):(P=0,R=1),T<0&&(T=-T,R=-R),S<0?(S=-S,E=180):E=0;var A=s.ax,w=0,O=0,L=0,F=d.a,I=d.b,B=d.c,G=d.d,N=Math.abs(g-T)<=1e-4;N?(w=s.ay,O=F*A+I*w+d.worldX,L=B*A+G*w+d.worldY):(w=0,O=F*A+d.worldX,L=B*A+d.worldY);var U=d.parent;F=U.a,I=U.b,B=U.c,G=U.d;var Y=1/(F*G-I*B),X=O-U.worldX,b=L-U.worldY,z=(X*G-b*I)*Y-c,D=(b*F-X*B)*Y-p,V=Math.sqrt(z*z+D*D),k=s.data.length*S,W,H;if(V<1e-4){this.apply1(d,a,r,!1,u,!1,l),s.updateWorldTransformWith(A,w,0,s.ascaleX,s.ascaleY,s.ashearX,s.ashearY);return}X=a-U.worldX,b=r-U.worldY;var $=(X*G-b*I)*Y-c,K=(b*F-X*B)*Y-p,Z=$*$+K*K;if(v!=0){v*=g*(S+1)/2;var j=Math.sqrt(Z),J=j-V-k*g+v;if(J>0){var Q=Math.min(1,J/(v*2))-1;Q=(J-v*(1-Q*Q))/j,$-=Q*$,K-=Q*K,Z=$*$+K*K}}t:if(N){k*=g;var q=(Z-V*V-k*k)/(2*V*k);q<-1?q=-1:q>1&&(q=1,u&&(m*=(Math.sqrt(Z)/(V+k)-1)*l+1)),H=Math.acos(q)*o,F=V+k*q,I=k*Math.sin(H),W=Math.atan2(K*F-$*I,$*F+K*I)}else{F=g*k,I=T*k;var _=F*F,tt=I*I,st=Math.atan2(K,$);B=tt*V*V+_*Z-_*tt;var it=-2*tt*V,lt=tt-_;if(G=it*it-4*lt*B,G>=0){var et=Math.sqrt(G);it<0&&(et=-et),et=-(it+et)/2;var ht=et/lt,at=B/et,ft=Math.abs(ht)<Math.abs(at)?ht:at;if(ft*ft<=Z){b=Math.sqrt(Z-ft*ft)*o,W=st-Math.atan2(b,ft),H=Math.atan2(b/T,(ft-V)/g);break t}}var vt=y.MathUtils.PI,mt=V-F,xt=mt*mt,dt=0,gt=0,Lt=V+F,Pt=Lt*Lt,Bt=0;B=-F*V/(_-tt),B>=-1&&B<=1&&(B=Math.acos(B),X=F*Math.cos(B)+V,b=I*Math.sin(B),G=X*X+b*b,G<xt&&(vt=B,xt=G,mt=X,dt=b),G>Pt&&(gt=B,Pt=G,Lt=X,Bt=b)),Z<=(xt+Pt)/2?(W=st-Math.atan2(dt*o,mt),H=vt*o):(W=st-Math.atan2(Bt*o,Lt),H=gt*o)}var zt=Math.atan2(w,A)*R,kt=d.arotation;W=(W-zt)*y.MathUtils.radDeg+P-kt,W>180?W-=360:W<-180&&(W+=360),d.updateWorldTransformWith(c,p,kt+W*l,m,d.ascaleY,0,0),kt=s.arotation,H=((H+zt)*y.MathUtils.radDeg-s.ashearX)*R+E-kt,H>180?H-=360:H<-180&&(H+=360),s.updateWorldTransformWith(A,w,kt+H*l,s.ascaleX,s.ascaleY,s.ashearX,s.ashearY)},f}();y.IkConstraint=e})(h||(h={}));var h;(function(y){var e=function(f){M(d,f);function d(s){var a=f.call(this,s,0,!1)||this;return a.bones=new Array,a.bendDirection=1,a.compress=!1,a.stretch=!1,a.uniform=!1,a.mix=1,a.softness=0,a}return d}(y.ConstraintData);y.IkConstraintData=e})(h||(h={}));var h;(function(y){var e=function(){function f(d,s){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,d==null)throw new Error("data cannot be null.");if(s==null)throw new Error("skeleton cannot be null.");this.data=d,this.bones=new Array;for(var a=0,r=d.bones.length;a<r;a++)this.bones.push(s.findBone(d.bones[a].name));this.target=s.findSlot(d.target.name),this.position=d.position,this.spacing=d.spacing,this.rotateMix=d.rotateMix,this.translateMix=d.translateMix}return f.prototype.isActive=function(){return this.active},f.prototype.apply=function(){this.update()},f.prototype.update=function(){var d=this.target.getAttachment();if(d instanceof y.PathAttachment){var s=this.rotateMix,a=this.translateMix,r=a>0,o=s>0;if(!(!r&&!o)){var u=this.data,v=u.spacingMode==y.SpacingMode.Percent,l=u.rotateMode,c=l==y.RotateMode.Tangent,p=l==y.RotateMode.ChainScale,g=this.bones.length,m=c?g:g+1,T=this.bones,S=y.Utils.setArraySize(this.spaces,m),P=null,E=this.spacing;if(p||!v){p&&(P=y.Utils.setArraySize(this.lengths,g));for(var R=u.spacingMode==y.SpacingMode.Length,A=0,w=m-1;A<w;){var O=T[A],L=O.data.length;if(L<f.epsilon)p&&(P[A]=0),S[++A]=0;else if(v){if(p){var F=L*O.a,I=L*O.c,B=Math.sqrt(F*F+I*I);P[A]=B}S[++A]=E}else{var F=L*O.a,I=L*O.c,G=Math.sqrt(F*F+I*I);p&&(P[A]=G),S[++A]=(R?L+E:E)*G/L}}}else for(var A=1;A<m;A++)S[A]=E;var N=this.computeWorldPositions(d,m,c,u.positionMode==y.PositionMode.Percent,v),U=N[0],Y=N[1],X=u.offsetRotation,b=!1;if(X==0)b=l==y.RotateMode.Chain;else{b=!1;var z=this.target.bone;X*=z.a*z.d-z.b*z.c>0?y.MathUtils.degRad:-y.MathUtils.degRad}for(var A=0,z=3;A<g;A++,z+=3){var O=T[A];O.worldX+=(U-O.worldX)*a,O.worldY+=(Y-O.worldY)*a;var F=N[z],I=N[z+1],D=F-U,V=I-Y;if(p){var k=P[A];if(k!=0){var W=(Math.sqrt(D*D+V*V)/k-1)*s+1;O.a*=W,O.c*=W}}if(U=F,Y=I,o){var H=O.a,$=O.b,K=O.c,Z=O.d,j=0,J=0,Q=0;if(c?j=N[z-1]:S[A+1]==0?j=N[z+2]:j=Math.atan2(V,D),j-=Math.atan2(K,H),b){J=Math.cos(j),Q=Math.sin(j);var q=O.data.length;U+=(q*(J*H-Q*K)-D)*s,Y+=(q*(Q*H+J*K)-V)*s}else j+=X;j>y.MathUtils.PI?j-=y.MathUtils.PI2:j<-y.MathUtils.PI&&(j+=y.MathUtils.PI2),j*=s,J=Math.cos(j),Q=Math.sin(j),O.a=J*H-Q*K,O.b=J*$-Q*Z,O.c=Q*H+J*K,O.d=Q*$+J*Z}O.appliedValid=!1}}}},f.prototype.computeWorldPositions=function(d,s,a,r,o){var u=this.target,v=this.position,l=this.spaces,c=y.Utils.setArraySize(this.positions,s*3+2),p=null,g=d.closed,m=d.worldVerticesLength,T=m/6,S=f.NONE;if(!d.constantSpeed){var P=d.lengths;T-=g?1:2;var E=P[T];if(r&&(v*=E),o)for(var R=1;R<s;R++)l[R]*=E;p=y.Utils.setArraySize(this.world,8);for(var R=0,A=0,w=0;R<s;R++,A+=3){var O=l[R];v+=O;var L=v;if(g)L%=E,L<0&&(L+=E),w=0;else if(L<0){S!=f.BEFORE&&(S=f.BEFORE,d.computeWorldVertices(u,2,4,p,0,2)),this.addBeforePosition(L,p,0,c,A);continue}else if(L>E){S!=f.AFTER&&(S=f.AFTER,d.computeWorldVertices(u,m-6,4,p,0,2)),this.addAfterPosition(L-E,p,0,c,A);continue}for(;;w++){var F=P[w];if(!(L>F)){if(w==0)L/=F;else{var I=P[w-1];L=(L-I)/(F-I)}break}}w!=S&&(S=w,g&&w==T?(d.computeWorldVertices(u,m-4,4,p,0,2),d.computeWorldVertices(u,0,4,p,4,2)):d.computeWorldVertices(u,w*6+2,8,p,0,2)),this.addCurvePosition(L,p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],c,A,a||R>0&&O==0)}return c}g?(m+=2,p=y.Utils.setArraySize(this.world,m),d.computeWorldVertices(u,2,m-4,p,0,2),d.computeWorldVertices(u,0,2,p,m-4,2),p[m-2]=p[0],p[m-1]=p[1]):(T--,m-=4,p=y.Utils.setArraySize(this.world,m),d.computeWorldVertices(u,2,m,p,0,2));for(var B=y.Utils.setArraySize(this.curves,T),G=0,N=p[0],U=p[1],Y=0,X=0,b=0,z=0,D=0,V=0,k=0,W=0,H=0,$=0,K=0,Z=0,j=0,J=0,R=0,Q=2;R<T;R++,Q+=6)Y=p[Q],X=p[Q+1],b=p[Q+2],z=p[Q+3],D=p[Q+4],V=p[Q+5],k=(N-Y*2+b)*.1875,W=(U-X*2+z)*.1875,H=((Y-b)*3-N+D)*.09375,$=((X-z)*3-U+V)*.09375,K=k*2+H,Z=W*2+$,j=(Y-N)*.75+k+H*.16666667,J=(X-U)*.75+W+$*.16666667,G+=Math.sqrt(j*j+J*J),j+=K,J+=Z,K+=H,Z+=$,G+=Math.sqrt(j*j+J*J),j+=K,J+=Z,G+=Math.sqrt(j*j+J*J),j+=K+H,J+=Z+$,G+=Math.sqrt(j*j+J*J),B[R]=G,N=D,U=V;if(r?v*=G:v*=G/d.lengths[T-1],o)for(var R=1;R<s;R++)l[R]*=G;for(var q=this.segments,_=0,R=0,A=0,w=0,tt=0;R<s;R++,A+=3){var O=l[R];v+=O;var L=v;if(g)L%=G,L<0&&(L+=G),w=0;else if(L<0){this.addBeforePosition(L,p,0,c,A);continue}else if(L>G){this.addAfterPosition(L-G,p,m-4,c,A);continue}for(;;w++){var st=B[w];if(!(L>st)){if(w==0)L/=st;else{var I=B[w-1];L=(L-I)/(st-I)}break}}if(w!=S){S=w;var it=w*6;for(N=p[it],U=p[it+1],Y=p[it+2],X=p[it+3],b=p[it+4],z=p[it+5],D=p[it+6],V=p[it+7],k=(N-Y*2+b)*.03,W=(U-X*2+z)*.03,H=((Y-b)*3-N+D)*.006,$=((X-z)*3-U+V)*.006,K=k*2+H,Z=W*2+$,j=(Y-N)*.3+k+H*.16666667,J=(X-U)*.3+W+$*.16666667,_=Math.sqrt(j*j+J*J),q[0]=_,it=1;it<8;it++)j+=K,J+=Z,K+=H,Z+=$,_+=Math.sqrt(j*j+J*J),q[it]=_;j+=K,J+=Z,_+=Math.sqrt(j*j+J*J),q[8]=_,j+=K+H,J+=Z+$,_+=Math.sqrt(j*j+J*J),q[9]=_,tt=0}for(L*=_;;tt++){var lt=q[tt];if(!(L>lt)){if(tt==0)L/=lt;else{var I=q[tt-1];L=tt+(L-I)/(lt-I)}break}}this.addCurvePosition(L*.1,N,U,Y,X,b,z,D,V,c,A,a||R>0&&O==0)}return c},f.prototype.addBeforePosition=function(d,s,a,r,o){var u=s[a],v=s[a+1],l=s[a+2]-u,c=s[a+3]-v,p=Math.atan2(c,l);r[o]=u+d*Math.cos(p),r[o+1]=v+d*Math.sin(p),r[o+2]=p},f.prototype.addAfterPosition=function(d,s,a,r,o){var u=s[a+2],v=s[a+3],l=u-s[a],c=v-s[a+1],p=Math.atan2(c,l);r[o]=u+d*Math.cos(p),r[o+1]=v+d*Math.sin(p),r[o+2]=p},f.prototype.addCurvePosition=function(d,s,a,r,o,u,v,l,c,p,g,m){if(d==0||isNaN(d)){p[g]=s,p[g+1]=a,p[g+2]=Math.atan2(o-a,r-s);return}var T=d*d,S=T*d,P=1-d,E=P*P,R=E*P,A=P*d,w=A*3,O=P*w,L=w*d,F=s*R+r*O+u*L+l*S,I=a*R+o*O+v*L+c*S;p[g]=F,p[g+1]=I,m&&(d<.001?p[g+2]=Math.atan2(o-a,r-s):p[g+2]=Math.atan2(I-(a*E+o*A*2+v*T),F-(s*E+r*A*2+u*T)))},f.NONE=-1,f.BEFORE=-2,f.AFTER=-3,f.epsilon=1e-5,f}();y.PathConstraint=e})(h||(h={}));var h;(function(y){var e=function(f){M(d,f);function d(s){var a=f.call(this,s,0,!1)||this;return a.bones=new Array,a}return d}(y.ConstraintData);y.PathConstraintData=e,function(f){f[f.Fixed=0]="Fixed",f[f.Percent=1]="Percent"}(y.PositionMode||(y.PositionMode={})),function(f){f[f.Length=0]="Length",f[f.Fixed=1]="Fixed",f[f.Percent=2]="Percent"}(y.SpacingMode||(y.SpacingMode={})),function(f){f[f.Tangent=0]="Tangent",f[f.Chain=1]="Chain",f[f.ChainScale=2]="ChainScale"}(y.RotateMode||(y.RotateMode={}))})(h||(h={}));var h;(function(y){var e=function(){function d(s){this.toLoad=new Array,this.assets={},this.clientId=s}return d.prototype.loaded=function(){var s=0;for(var a in this.assets)s++;return s},d}(),f=function(){function d(s){s===void 0&&(s=""),this.clientAssets={},this.queuedAssets={},this.rawAssets={},this.errors={},this.pathPrefix=s}return d.prototype.queueAsset=function(s,a,r){var o=this.clientAssets[s];return o==null&&(o=new e(s),this.clientAssets[s]=o),a!==null&&(o.textureLoader=a),o.toLoad.push(r),this.queuedAssets[r]===r?!1:(this.queuedAssets[r]=r,!0)},d.prototype.loadText=function(s,a){var r=this;if(a=this.pathPrefix+a,!!this.queueAsset(s,null,a)){var o=new XMLHttpRequest;o.overrideMimeType("text/html"),o.onreadystatechange=function(){o.readyState==XMLHttpRequest.DONE&&(o.status>=200&&o.status<300?r.rawAssets[a]=o.responseText:r.errors[a]="Couldn't load text ".concat(a,": status ").concat(o.status,", ").concat(o.responseText))},o.open("GET",a,!0),o.send()}},d.prototype.loadJson=function(s,a){var r=this;if(a=this.pathPrefix+a,!!this.queueAsset(s,null,a)){var o=new XMLHttpRequest;o.overrideMimeType("text/html"),o.onreadystatechange=function(){o.readyState==XMLHttpRequest.DONE&&(o.status>=200&&o.status<300?r.rawAssets[a]=JSON.parse(o.responseText):r.errors[a]="Couldn't load text ".concat(a,": status ").concat(o.status,", ").concat(o.responseText))},o.open("GET",a,!0),o.send()}},d.prototype.loadTexture=function(s,a,r){var o=this;if(r=this.pathPrefix+r,!!this.queueAsset(s,a,r)){var u=!!(typeof window<"u"&&typeof navigator<"u"&&window.document),v=!u&&typeof importScripts<"u";if(v){var l={mode:"cors"};fetch(r,l).then(function(p){return p.ok||(o.errors[r]="Couldn't load image "+r),p.blob()}).then(function(p){return createImageBitmap(p,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(p){o.rawAssets[r]=p})}else{var c=new Image;c.crossOrigin="anonymous",c.onload=function(p){o.rawAssets[r]=c},c.onerror=function(p){o.errors[r]="Couldn't load image ".concat(r)},c.src=r}}},d.prototype.get=function(s,a){a=this.pathPrefix+a;var r=this.clientAssets[s];return r==null?!0:r.assets[a]},d.prototype.updateClientAssets=function(s){for(var a=!!(typeof window<"u"&&typeof navigator<"u"&&window.document),r=!a&&typeof importScripts<"u",o=0;o<s.toLoad.length;o++){var u=s.toLoad[o],v=s.assets[u];if(v==null){var l=this.rawAssets[u];if(l==null)continue;r?l instanceof ImageBitmap?s.assets[u]=s.textureLoader(l):s.assets[u]=l:l instanceof HTMLImageElement?s.assets[u]=s.textureLoader(l):s.assets[u]=l}}},d.prototype.isLoadingComplete=function(s){var a=this.clientAssets[s];return a==null?!0:(this.updateClientAssets(a),a.toLoad.length==a.loaded())},d.prototype.dispose=function(){},d.prototype.hasErrors=function(){return Object.keys(this.errors).length>0},d.prototype.getErrors=function(){return this.errors},d}();y.SharedAssetManager=f})(h||(h={}));var h;(function(y){var e=function(){function f(d){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,d==null)throw new Error("data cannot be null.");this.data=d,this.bones=new Array;for(var s=0;s<d.bones.length;s++){var a=d.bones[s],r=void 0;if(a.parent==null)r=new y.Bone(a,this,null);else{var o=this.bones[a.parent.index];r=new y.Bone(a,this,o),o.children.push(r)}this.bones.push(r)}this.slots=new Array,this.drawOrder=new Array;for(var s=0;s<d.slots.length;s++){var u=d.slots[s],r=this.bones[u.boneData.index],v=new y.Slot(u,r);this.slots.push(v),this.drawOrder.push(v)}this.ikConstraints=new Array;for(var s=0;s<d.ikConstraints.length;s++){var l=d.ikConstraints[s];this.ikConstraints.push(new y.IkConstraint(l,this))}this.transformConstraints=new Array;for(var s=0;s<d.transformConstraints.length;s++){var c=d.transformConstraints[s];this.transformConstraints.push(new y.TransformConstraint(c,this))}this.pathConstraints=new Array;for(var s=0;s<d.pathConstraints.length;s++){var p=d.pathConstraints[s];this.pathConstraints.push(new y.PathConstraint(p,this))}this.color=new y.Color(1,1,1,1),this.updateCache()}return f.prototype.updateCache=function(){var d=this._updateCache;d.length=0,this.updateCacheReset.length=0;for(var s=this.bones,a=0,r=s.length;a<r;a++){var o=s[a];o.sorted=o.data.skinRequired,o.active=!o.sorted}if(this.skin!=null)for(var u=this.skin.bones,a=0,r=this.skin.bones.length;a<r;a++){var o=this.bones[u[a].index];do o.sorted=!1,o.active=!0,o=o.parent;while(o!=null)}var v=this.ikConstraints,l=this.transformConstraints,c=this.pathConstraints,p=v.length,g=l.length,m=c.length,T=p+g+m;t:for(var a=0;a<T;a++){for(var S=0;S<p;S++){var P=v[S];if(P.data.order==a){this.sortIkConstraint(P);continue t}}for(var S=0;S<g;S++){var P=l[S];if(P.data.order==a){this.sortTransformConstraint(P);continue t}}for(var S=0;S<m;S++){var P=c[S];if(P.data.order==a){this.sortPathConstraint(P);continue t}}}for(var a=0,r=s.length;a<r;a++)this.sortBone(s[a])},f.prototype.sortIkConstraint=function(d){if(d.active=d.target.isActive()&&(!d.data.skinRequired||this.skin!=null&&y.Utils.contains(this.skin.constraints,d.data,!0)),!!d.active){var s=d.target;this.sortBone(s);var a=d.bones,r=a[0];if(this.sortBone(r),a.length>1){var o=a[a.length-1];this._updateCache.indexOf(o)>-1||this.updateCacheReset.push(o)}this._updateCache.push(d),this.sortReset(r.children),a[a.length-1].sorted=!0}},f.prototype.sortPathConstraint=function(d){if(d.active=d.target.bone.isActive()&&(!d.data.skinRequired||this.skin!=null&&y.Utils.contains(this.skin.constraints,d.data,!0)),!!d.active){var s=d.target,a=s.data.index,r=s.bone;this.skin!=null&&this.sortPathConstraintAttachment(this.skin,a,r),this.data.defaultSkin!=null&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,a,r);for(var o=0,u=this.data.skins.length;o<u;o++)this.sortPathConstraintAttachment(this.data.skins[o],a,r);var v=s.getAttachment();v instanceof y.PathAttachment&&this.sortPathConstraintAttachmentWith(v,r);for(var l=d.bones,c=l.length,o=0;o<c;o++)this.sortBone(l[o]);this._updateCache.push(d);for(var o=0;o<c;o++)this.sortReset(l[o].children);for(var o=0;o<c;o++)l[o].sorted=!0}},f.prototype.sortTransformConstraint=function(d){if(d.active=d.target.isActive()&&(!d.data.skinRequired||this.skin!=null&&y.Utils.contains(this.skin.constraints,d.data,!0)),!!d.active){this.sortBone(d.target);var s=d.bones,a=s.length;if(d.data.local)for(var r=0;r<a;r++){var o=s[r];this.sortBone(o.parent),this._updateCache.indexOf(o)>-1||this.updateCacheReset.push(o)}else for(var r=0;r<a;r++)this.sortBone(s[r]);this._updateCache.push(d);for(var u=0;u<a;u++)this.sortReset(s[u].children);for(var u=0;u<a;u++)s[u].sorted=!0}},f.prototype.sortPathConstraintAttachment=function(d,s,a){var r=d.attachments[s];if(r)for(var o in r)this.sortPathConstraintAttachmentWith(r[o],a)},f.prototype.sortPathConstraintAttachmentWith=function(d,s){if(d instanceof y.PathAttachment){var a=d.bones;if(a==null)this.sortBone(s);else for(var r=this.bones,o=0;o<a.length;)for(var u=a[o++],v=o+u;o<v;o++){var l=a[o];this.sortBone(r[l])}}},f.prototype.sortBone=function(d){if(!d.sorted){var s=d.parent;s!=null&&this.sortBone(s),d.sorted=!0,this._updateCache.push(d)}},f.prototype.sortReset=function(d){for(var s=0,a=d.length;s<a;s++){var r=d[s];r.active&&(r.sorted&&this.sortReset(r.children),r.sorted=!1)}},f.prototype.updateWorldTransform=function(){for(var d=this.updateCacheReset,s=0,a=d.length;s<a;s++){var r=d[s];r.ax=r.x,r.ay=r.y,r.arotation=r.rotation,r.ascaleX=r.scaleX,r.ascaleY=r.scaleY,r.ashearX=r.shearX,r.ashearY=r.shearY,r.appliedValid=!0}for(var o=this._updateCache,s=0,a=o.length;s<a;s++)o[s].update()},f.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},f.prototype.setBonesToSetupPose=function(){for(var d=this.bones,s=0,a=d.length;s<a;s++)d[s].setToSetupPose();for(var r=this.ikConstraints,s=0,a=r.length;s<a;s++){var o=r[s];o.mix=o.data.mix,o.softness=o.data.softness,o.bendDirection=o.data.bendDirection,o.compress=o.data.compress,o.stretch=o.data.stretch}for(var u=this.transformConstraints,s=0,a=u.length;s<a;s++){var o=u[s],v=o.data;o.rotateMix=v.rotateMix,o.translateMix=v.translateMix,o.scaleMix=v.scaleMix,o.shearMix=v.shearMix}for(var l=this.pathConstraints,s=0,a=l.length;s<a;s++){var o=l[s],v=o.data;o.position=v.position,o.spacing=v.spacing,o.rotateMix=v.rotateMix,o.translateMix=v.translateMix}},f.prototype.setSlotsToSetupPose=function(){var d=this.slots;y.Utils.arrayCopy(d,0,this.drawOrder,0,d.length);for(var s=0,a=d.length;s<a;s++)d[s].setToSetupPose()},f.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},f.prototype.findBone=function(d){if(d==null)throw new Error("boneName cannot be null.");for(var s=this.bones,a=0,r=s.length;a<r;a++){var o=s[a];if(o.data.name==d)return o}return null},f.prototype.findBoneIndex=function(d){if(d==null)throw new Error("boneName cannot be null.");for(var s=this.bones,a=0,r=s.length;a<r;a++)if(s[a].data.name==d)return a;return-1},f.prototype.findSlot=function(d){if(d==null)throw new Error("slotName cannot be null.");for(var s=this.slots,a=0,r=s.length;a<r;a++){var o=s[a];if(o.data.name==d)return o}return null},f.prototype.findSlotIndex=function(d){if(d==null)throw new Error("slotName cannot be null.");for(var s=this.slots,a=0,r=s.length;a<r;a++)if(s[a].data.name==d)return a;return-1},f.prototype.setSkinByName=function(d){var s=this.data.findSkin(d);if(s==null)throw new Error("Skin not found: "+d);this.setSkin(s)},f.prototype.setSkin=function(d){if(d!=this.skin){if(d!=null)if(this.skin!=null)d.attachAll(this,this.skin);else for(var s=this.slots,a=0,r=s.length;a<r;a++){var o=s[a],u=o.data.attachmentName;if(u!=null){var v=d.getAttachment(a,u);v!=null&&o.setAttachment(v)}}this.skin=d,this.updateCache()}},f.prototype.getAttachmentByName=function(d,s){return this.getAttachment(this.data.findSlotIndex(d),s)},f.prototype.getAttachment=function(d,s){if(s==null)throw new Error("attachmentName cannot be null.");if(this.skin!=null){var a=this.skin.getAttachment(d,s);if(a!=null)return a}return this.data.defaultSkin!=null?this.data.defaultSkin.getAttachment(d,s):null},f.prototype.setAttachment=function(d,s){if(d==null)throw new Error("slotName cannot be null.");for(var a=this.slots,r=0,o=a.length;r<o;r++){var u=a[r];if(u.data.name==d){var v=null;if(s!=null&&(v=this.getAttachment(r,s),v==null))throw new Error("Attachment not found: "+s+", for slot: "+d);u.setAttachment(v);return}}throw new Error("Slot not found: "+d)},f.prototype.findIkConstraint=function(d){if(d==null)throw new Error("constraintName cannot be null.");for(var s=this.ikConstraints,a=0,r=s.length;a<r;a++){var o=s[a];if(o.data.name==d)return o}return null},f.prototype.findTransformConstraint=function(d){if(d==null)throw new Error("constraintName cannot be null.");for(var s=this.transformConstraints,a=0,r=s.length;a<r;a++){var o=s[a];if(o.data.name==d)return o}return null},f.prototype.findPathConstraint=function(d){if(d==null)throw new Error("constraintName cannot be null.");for(var s=this.pathConstraints,a=0,r=s.length;a<r;a++){var o=s[a];if(o.data.name==d)return o}return null},f.prototype.getBounds=function(d,s,a){if(a===void 0&&(a=new Array(2)),d==null)throw new Error("offset cannot be null.");if(s==null)throw new Error("size cannot be null.");for(var r=this.drawOrder,o=Number.POSITIVE_INFINITY,u=Number.POSITIVE_INFINITY,v=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY,c=0,p=r.length;c<p;c++){var g=r[c];if(g.bone.active){var m=0,T=null,S=g.getAttachment();if(S instanceof y.RegionAttachment)m=8,T=y.Utils.setArraySize(a,m,0),S.computeWorldVertices(g.bone,T,0,2);else if(S instanceof y.MeshAttachment){var P=S;m=P.worldVerticesLength,T=y.Utils.setArraySize(a,m,0),P.computeWorldVertices(g,0,m,T,0,2)}if(T!=null)for(var E=0,R=T.length;E<R;E+=2){var A=T[E],w=T[E+1];o=Math.min(o,A),u=Math.min(u,w),v=Math.max(v,A),l=Math.max(l,w)}}}d.set(o,u),s.set(v-o,l-u)},f.prototype.update=function(d){this.time+=d},f}();y.Skeleton=e})(h||(h={}));var h;(function(y){var e=function(){function a(r){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=r}return a.prototype.readSkeletonData=function(r){var o=this.scale,u=new y.SkeletonData;u.name="";var v=new f(r);if(u.hash=v.readString(),u.version=v.readString(),u.version=="3.8.75")throw new Error("Unsupported skeleton data, please export with a newer version of Spine.");u.x=v.readFloat(),u.y=v.readFloat(),u.width=v.readFloat(),u.height=v.readFloat();var l=v.readBoolean();l&&(u.fps=v.readFloat(),u.imagesPath=v.readString(),u.audioPath=v.readString());var c=0;c=v.readInt(!0);for(var p=0;p<c;p++)v.strings.push(v.readString());c=v.readInt(!0);for(var p=0;p<c;p++){var g=v.readString(),m=p==0?null:u.bones[v.readInt(!0)],T=new y.BoneData(p,g,m);T.rotation=v.readFloat(),T.x=v.readFloat()*o,T.y=v.readFloat()*o,T.scaleX=v.readFloat(),T.scaleY=v.readFloat(),T.shearX=v.readFloat(),T.shearY=v.readFloat(),T.length=v.readFloat()*o,T.transformMode=a.TransformModeValues[v.readInt(!0)],T.skinRequired=v.readBoolean(),l&&y.Color.rgba8888ToColor(T.color,v.readInt32()),u.bones.push(T)}c=v.readInt(!0);for(var p=0;p<c;p++){var S=v.readString(),P=u.bones[v.readInt(!0)],T=new y.SlotData(p,S,P);y.Color.rgba8888ToColor(T.color,v.readInt32());var E=v.readInt32();E!=-1&&y.Color.rgb888ToColor(T.darkColor=new y.Color,E),T.attachmentName=v.readStringRef(),T.blendMode=a.BlendModeValues[v.readInt(!0)],u.slots.push(T)}c=v.readInt(!0);for(var p=0,R=void 0;p<c;p++){var T=new y.IkConstraintData(v.readString());T.order=v.readInt(!0),T.skinRequired=v.readBoolean(),R=v.readInt(!0);for(var A=0;A<R;A++)T.bones.push(u.bones[v.readInt(!0)]);T.target=u.bones[v.readInt(!0)],T.mix=v.readFloat(),T.softness=v.readFloat()*o,T.bendDirection=v.readByte(),T.compress=v.readBoolean(),T.stretch=v.readBoolean(),T.uniform=v.readBoolean(),u.ikConstraints.push(T)}c=v.readInt(!0);for(var p=0,R=void 0;p<c;p++){var T=new y.TransformConstraintData(v.readString());T.order=v.readInt(!0),T.skinRequired=v.readBoolean(),R=v.readInt(!0);for(var A=0;A<R;A++)T.bones.push(u.bones[v.readInt(!0)]);T.target=u.bones[v.readInt(!0)],T.local=v.readBoolean(),T.relative=v.readBoolean(),T.offsetRotation=v.readFloat(),T.offsetX=v.readFloat()*o,T.offsetY=v.readFloat()*o,T.offsetScaleX=v.readFloat(),T.offsetScaleY=v.readFloat(),T.offsetShearY=v.readFloat(),T.rotateMix=v.readFloat(),T.translateMix=v.readFloat(),T.scaleMix=v.readFloat(),T.shearMix=v.readFloat(),u.transformConstraints.push(T)}c=v.readInt(!0);for(var p=0,R=void 0;p<c;p++){var T=new y.PathConstraintData(v.readString());T.order=v.readInt(!0),T.skinRequired=v.readBoolean(),R=v.readInt(!0);for(var A=0;A<R;A++)T.bones.push(u.bones[v.readInt(!0)]);T.target=u.slots[v.readInt(!0)],T.positionMode=a.PositionModeValues[v.readInt(!0)],T.spacingMode=a.SpacingModeValues[v.readInt(!0)],T.rotateMode=a.RotateModeValues[v.readInt(!0)],T.offsetRotation=v.readFloat(),T.position=v.readFloat(),T.positionMode==y.PositionMode.Fixed&&(T.position*=o),T.spacing=v.readFloat(),(T.spacingMode==y.SpacingMode.Length||T.spacingMode==y.SpacingMode.Fixed)&&(T.spacing*=o),T.rotateMix=v.readFloat(),T.translateMix=v.readFloat(),u.pathConstraints.push(T)}var w=this.readSkin(v,u,!0,l);w!=null&&(u.defaultSkin=w,u.skins.push(w));{var p=u.skins.length;for(y.Utils.setArraySize(u.skins,c=p+v.readInt(!0));p<c;p++)u.skins[p]=this.readSkin(v,u,!1,l)}c=this.linkedMeshes.length;for(var p=0;p<c;p++){var O=this.linkedMeshes[p],L=O.skin==null?u.defaultSkin:u.findSkin(O.skin);if(L==null)throw new Error("Skin not found: "+O.skin);var F=L.getAttachment(O.slotIndex,O.parent);if(F==null)throw new Error("Parent mesh not found: "+O.parent);O.mesh.deformAttachment=O.inheritDeform?F:O.mesh,O.mesh.setParentMesh(F),O.mesh.updateUVs()}this.linkedMeshes.length=0,c=v.readInt(!0);for(var p=0;p<c;p++){var T=new y.EventData(v.readStringRef());T.intValue=v.readInt(!1),T.floatValue=v.readFloat(),T.stringValue=v.readString(),T.audioPath=v.readString(),T.audioPath!=null&&(T.volume=v.readFloat(),T.balance=v.readFloat()),u.events.push(T)}c=v.readInt(!0);for(var p=0;p<c;p++)u.animations.push(this.readAnimation(v,v.readString(),u));return u},a.prototype.readSkin=function(r,o,u,v){var l=null,c=0;if(u){if(c=r.readInt(!0),c==0)return null;l=new y.Skin("default")}else{l=new y.Skin(r.readStringRef()),l.bones.length=r.readInt(!0);for(var p=0,g=l.bones.length;p<g;p++)l.bones[p]=o.bones[r.readInt(!0)];for(var p=0,g=r.readInt(!0);p<g;p++)l.constraints.push(o.ikConstraints[r.readInt(!0)]);for(var p=0,g=r.readInt(!0);p<g;p++)l.constraints.push(o.transformConstraints[r.readInt(!0)]);for(var p=0,g=r.readInt(!0);p<g;p++)l.constraints.push(o.pathConstraints[r.readInt(!0)]);c=r.readInt(!0)}for(var p=0;p<c;p++)for(var m=r.readInt(!0),T=0,S=r.readInt(!0);T<S;T++){var P=r.readStringRef(),E=this.readAttachment(r,o,l,m,P,v);E!=null&&l.setAttachment(m,P,E)}return l},a.prototype.readAttachment=function(r,o,u,v,l,c){var p=this.scale,g=r.readStringRef();g==null&&(g=l);var m=r.readByte(),T=a.AttachmentTypeValues[m];switch(T){case y.AttachmentType.Region:{var S=r.readStringRef(),P=r.readFloat(),E=r.readFloat(),R=r.readFloat(),A=r.readFloat(),w=r.readFloat(),O=r.readFloat(),L=r.readFloat(),F=r.readInt32();S==null&&(S=g);var I=this.attachmentLoader.newRegionAttachment(u,g,S);return I==null?null:(I.path=S,I.x=E*p,I.y=R*p,I.scaleX=A,I.scaleY=w,I.rotation=P,I.width=O*p,I.height=L*p,y.Color.rgba8888ToColor(I.color,F),I.updateOffset(),I)}case y.AttachmentType.BoundingBox:{var B=r.readInt(!0),G=this.readVertices(r,B),F=c?r.readInt32():0,N=this.attachmentLoader.newBoundingBoxAttachment(u,g);return N==null?null:(N.worldVerticesLength=B<<1,N.vertices=G.vertices,N.bones=G.bones,c&&y.Color.rgba8888ToColor(N.color,F),N)}case y.AttachmentType.Mesh:{var S=r.readStringRef(),F=r.readInt32(),B=r.readInt(!0),U=this.readFloatArray(r,B<<1,1),Y=this.readShortArray(r),G=this.readVertices(r,B),X=r.readInt(!0),b=null,O=0,L=0;c&&(b=this.readShortArray(r),O=r.readFloat(),L=r.readFloat()),S==null&&(S=g);var z=this.attachmentLoader.newMeshAttachment(u,g,S);return z==null?null:(z.path=S,y.Color.rgba8888ToColor(z.color,F),z.bones=G.bones,z.vertices=G.vertices,z.worldVerticesLength=B<<1,z.triangles=Y,z.regionUVs=U,z.updateUVs(),z.hullLength=X<<1,c&&(z.edges=b,z.width=O*p,z.height=L*p),z)}case y.AttachmentType.LinkedMesh:{var S=r.readStringRef(),F=r.readInt32(),D=r.readStringRef(),V=r.readStringRef(),k=r.readBoolean(),O=0,L=0;c&&(O=r.readFloat(),L=r.readFloat()),S==null&&(S=g);var z=this.attachmentLoader.newMeshAttachment(u,g,S);return z==null?null:(z.path=S,y.Color.rgba8888ToColor(z.color,F),c&&(z.width=O*p,z.height=L*p),this.linkedMeshes.push(new d(z,D,v,V,k)),z)}case y.AttachmentType.Path:{for(var W=r.readBoolean(),H=r.readBoolean(),B=r.readInt(!0),G=this.readVertices(r,B),$=y.Utils.newArray(B/3,0),K=0,Z=$.length;K<Z;K++)$[K]=r.readFloat()*p;var F=c?r.readInt32():0,S=this.attachmentLoader.newPathAttachment(u,g);return S==null?null:(S.closed=W,S.constantSpeed=H,S.worldVerticesLength=B<<1,S.vertices=G.vertices,S.bones=G.bones,S.lengths=$,c&&y.Color.rgba8888ToColor(S.color,F),S)}case y.AttachmentType.Point:{var P=r.readFloat(),E=r.readFloat(),R=r.readFloat(),F=c?r.readInt32():0,j=this.attachmentLoader.newPointAttachment(u,g);return j==null?null:(j.x=E*p,j.y=R*p,j.rotation=P,c&&y.Color.rgba8888ToColor(j.color,F),j)}case y.AttachmentType.Clipping:{var J=r.readInt(!0),B=r.readInt(!0),G=this.readVertices(r,B),F=c?r.readInt32():0,Q=this.attachmentLoader.newClippingAttachment(u,g);return Q==null?null:(Q.endSlot=o.slots[J],Q.worldVerticesLength=B<<1,Q.vertices=G.vertices,Q.bones=G.bones,c&&y.Color.rgba8888ToColor(Q.color,F),Q)}}return null},a.prototype.readVertices=function(r,o){var u=o<<1,v=new s,l=this.scale;if(!r.readBoolean())return v.vertices=this.readFloatArray(r,u,l),v;for(var c=new Array,p=new Array,g=0;g<o;g++){var m=r.readInt(!0);p.push(m);for(var T=0;T<m;T++)p.push(r.readInt(!0)),c.push(r.readFloat()*l),c.push(r.readFloat()*l),c.push(r.readFloat())}return v.vertices=y.Utils.toFloatArray(c),v.bones=p,v},a.prototype.readFloatArray=function(r,o,u){var v=new Array(o);if(u==1)for(var l=0;l<o;l++)v[l]=r.readFloat();else for(var l=0;l<o;l++)v[l]=r.readFloat()*u;return v},a.prototype.readShortArray=function(r){for(var o=r.readInt(!0),u=new Array(o),v=0;v<o;v++)u[v]=r.readShort();return u},a.prototype.readAnimation=function(r,o,u){for(var v=new Array,l=this.scale,c=0,p=new y.Color,g=new y.Color,m=0,T=r.readInt(!0);m<T;m++)for(var S=r.readInt(!0),P=0,E=r.readInt(!0);P<E;P++){var R=r.readByte(),A=r.readInt(!0);switch(R){case a.SLOT_ATTACHMENT:{var w=new y.AttachmentTimeline(A);w.slotIndex=S;for(var O=0;O<A;O++)w.setFrame(O,r.readFloat(),r.readStringRef());v.push(w),c=Math.max(c,w.frames[A-1]);break}case a.SLOT_COLOR:{var w=new y.ColorTimeline(A);w.slotIndex=S;for(var O=0;O<A;O++){var L=r.readFloat();y.Color.rgba8888ToColor(p,r.readInt32()),w.setFrame(O,L,p.r,p.g,p.b,p.a),O<A-1&&this.readCurve(r,O,w)}v.push(w),c=Math.max(c,w.frames[(A-1)*y.ColorTimeline.ENTRIES]);break}case a.SLOT_TWO_COLOR:{var w=new y.TwoColorTimeline(A);w.slotIndex=S;for(var O=0;O<A;O++){var L=r.readFloat();y.Color.rgba8888ToColor(p,r.readInt32()),y.Color.rgb888ToColor(g,r.readInt32()),w.setFrame(O,L,p.r,p.g,p.b,p.a,g.r,g.g,g.b),O<A-1&&this.readCurve(r,O,w)}v.push(w),c=Math.max(c,w.frames[(A-1)*y.TwoColorTimeline.ENTRIES]);break}}}for(var m=0,T=r.readInt(!0);m<T;m++)for(var F=r.readInt(!0),P=0,E=r.readInt(!0);P<E;P++){var R=r.readByte(),A=r.readInt(!0);switch(R){case a.BONE_ROTATE:{var w=new y.RotateTimeline(A);w.boneIndex=F;for(var O=0;O<A;O++)w.setFrame(O,r.readFloat(),r.readFloat()),O<A-1&&this.readCurve(r,O,w);v.push(w),c=Math.max(c,w.frames[(A-1)*y.RotateTimeline.ENTRIES]);break}case a.BONE_TRANSLATE:case a.BONE_SCALE:case a.BONE_SHEAR:{var w=void 0,I=1;R==a.BONE_SCALE?w=new y.ScaleTimeline(A):R==a.BONE_SHEAR?w=new y.ShearTimeline(A):(w=new y.TranslateTimeline(A),I=l),w.boneIndex=F;for(var O=0;O<A;O++)w.setFrame(O,r.readFloat(),r.readFloat()*I,r.readFloat()*I),O<A-1&&this.readCurve(r,O,w);v.push(w),c=Math.max(c,w.frames[(A-1)*y.TranslateTimeline.ENTRIES]);break}}}for(var m=0,T=r.readInt(!0);m<T;m++){var B=r.readInt(!0),A=r.readInt(!0),w=new y.IkConstraintTimeline(A);w.ikConstraintIndex=B;for(var O=0;O<A;O++)w.setFrame(O,r.readFloat(),r.readFloat(),r.readFloat()*l,r.readByte(),r.readBoolean(),r.readBoolean()),O<A-1&&this.readCurve(r,O,w);v.push(w),c=Math.max(c,w.frames[(A-1)*y.IkConstraintTimeline.ENTRIES])}for(var m=0,T=r.readInt(!0);m<T;m++){var B=r.readInt(!0),A=r.readInt(!0),w=new y.TransformConstraintTimeline(A);w.transformConstraintIndex=B;for(var O=0;O<A;O++)w.setFrame(O,r.readFloat(),r.readFloat(),r.readFloat(),r.readFloat(),r.readFloat()),O<A-1&&this.readCurve(r,O,w);v.push(w),c=Math.max(c,w.frames[(A-1)*y.TransformConstraintTimeline.ENTRIES])}for(var m=0,T=r.readInt(!0);m<T;m++)for(var B=r.readInt(!0),G=u.pathConstraints[B],P=0,E=r.readInt(!0);P<E;P++){var R=r.readByte(),A=r.readInt(!0);switch(R){case a.PATH_POSITION:case a.PATH_SPACING:{var w=void 0,I=1;R==a.PATH_SPACING?(w=new y.PathConstraintSpacingTimeline(A),(G.spacingMode==y.SpacingMode.Length||G.spacingMode==y.SpacingMode.Fixed)&&(I=l)):(w=new y.PathConstraintPositionTimeline(A),G.positionMode==y.PositionMode.Fixed&&(I=l)),w.pathConstraintIndex=B;for(var O=0;O<A;O++)w.setFrame(O,r.readFloat(),r.readFloat()*I),O<A-1&&this.readCurve(r,O,w);v.push(w),c=Math.max(c,w.frames[(A-1)*y.PathConstraintPositionTimeline.ENTRIES]);break}case a.PATH_MIX:{var w=new y.PathConstraintMixTimeline(A);w.pathConstraintIndex=B;for(var O=0;O<A;O++)w.setFrame(O,r.readFloat(),r.readFloat(),r.readFloat()),O<A-1&&this.readCurve(r,O,w);v.push(w),c=Math.max(c,w.frames[(A-1)*y.PathConstraintMixTimeline.ENTRIES]);break}}}for(var m=0,T=r.readInt(!0);m<T;m++)for(var N=u.skins[r.readInt(!0)],P=0,E=r.readInt(!0);P<E;P++)for(var S=r.readInt(!0),U=0,Y=r.readInt(!0);U<Y;U++){var X=N.getAttachment(S,r.readStringRef()),b=X.bones!=null,z=X.vertices,D=b?z.length/3*2:z.length,A=r.readInt(!0),w=new y.DeformTimeline(A);w.slotIndex=S,w.attachment=X;for(var O=0;O<A;O++){var L=r.readFloat(),V=void 0,k=r.readInt(!0);if(k==0)V=b?y.Utils.newFloatArray(D):z;else{V=y.Utils.newFloatArray(D);var W=r.readInt(!0);if(k+=W,l==1)for(var H=W;H<k;H++)V[H]=r.readFloat();else for(var H=W;H<k;H++)V[H]=r.readFloat()*l;if(!b)for(var H=0,$=V.length;H<$;H++)V[H]+=z[H]}w.setFrame(O,L,V),O<A-1&&this.readCurve(r,O,w)}v.push(w),c=Math.max(c,w.frames[A-1])}var K=r.readInt(!0);if(K>0){for(var w=new y.DrawOrderTimeline(K),Z=u.slots.length,m=0;m<K;m++){for(var L=r.readFloat(),j=r.readInt(!0),J=y.Utils.newArray(Z,0),P=Z-1;P>=0;P--)J[P]=-1;for(var Q=y.Utils.newArray(Z-j,0),q=0,_=0,P=0;P<j;P++){for(var S=r.readInt(!0);q!=S;)Q[_++]=q++;J[q+r.readInt(!0)]=q++}for(;q<Z;)Q[_++]=q++;for(var P=Z-1;P>=0;P--)J[P]==-1&&(J[P]=Q[--_]);w.setFrame(m,L,J)}v.push(w),c=Math.max(c,w.frames[K-1])}var tt=r.readInt(!0);if(tt>0){for(var w=new y.EventTimeline(tt),m=0;m<tt;m++){var L=r.readFloat(),st=u.events[r.readInt(!0)],it=new y.Event(L,st);it.intValue=r.readInt(!1),it.floatValue=r.readFloat(),it.stringValue=r.readBoolean()?r.readString():st.stringValue,it.data.audioPath!=null&&(it.volume=r.readFloat(),it.balance=r.readFloat()),w.setFrame(m,it)}v.push(w),c=Math.max(c,w.frames[tt-1])}return new y.Animation(o,v,c)},a.prototype.readCurve=function(r,o,u){switch(r.readByte()){case a.CURVE_STEPPED:u.setStepped(o);break;case a.CURVE_BEZIER:this.setCurve(u,o,r.readFloat(),r.readFloat(),r.readFloat(),r.readFloat());break}},a.prototype.setCurve=function(r,o,u,v,l,c){r.setCurve(o,u,v,l,c)},a.AttachmentTypeValues=[0,1,2,3,4,5,6],a.TransformModeValues=[y.TransformMode.Normal,y.TransformMode.OnlyTranslation,y.TransformMode.NoRotationOrReflection,y.TransformMode.NoScale,y.TransformMode.NoScaleOrReflection],a.PositionModeValues=[y.PositionMode.Fixed,y.PositionMode.Percent],a.SpacingModeValues=[y.SpacingMode.Length,y.SpacingMode.Fixed,y.SpacingMode.Percent],a.RotateModeValues=[y.RotateMode.Tangent,y.RotateMode.Chain,y.RotateMode.ChainScale],a.BlendModeValues=[y.BlendMode.Normal,y.BlendMode.Additive,y.BlendMode.Multiply,y.BlendMode.Screen],a.BONE_ROTATE=0,a.BONE_TRANSLATE=1,a.BONE_SCALE=2,a.BONE_SHEAR=3,a.SLOT_ATTACHMENT=0,a.SLOT_COLOR=1,a.SLOT_TWO_COLOR=2,a.PATH_POSITION=0,a.PATH_SPACING=1,a.PATH_MIX=2,a.CURVE_LINEAR=0,a.CURVE_STEPPED=1,a.CURVE_BEZIER=2,a}();y.SkeletonBinary=e;var f=function(){function a(r,o,u,v){o===void 0&&(o=new Array),u===void 0&&(u=0),v===void 0&&(v=new DataView(r.buffer)),this.strings=o,this.index=u,this.buffer=v}return a.prototype.readByte=function(){return this.buffer.getInt8(this.index++)},a.prototype.readShort=function(){var r=this.buffer.getInt16(this.index);return this.index+=2,r},a.prototype.readInt32=function(){var r=this.buffer.getInt32(this.index);return this.index+=4,r},a.prototype.readInt=function(r){var o=this.readByte(),u=o&127;return o&128&&(o=this.readByte(),u|=(o&127)<<7,o&128&&(o=this.readByte(),u|=(o&127)<<14,o&128&&(o=this.readByte(),u|=(o&127)<<21,o&128&&(o=this.readByte(),u|=(o&127)<<28)))),r?u:u>>>1^-(u&1)},a.prototype.readStringRef=function(){var r=this.readInt(!0);return r==0?null:this.strings[r-1]},a.prototype.readString=function(){var r=this.readInt(!0);switch(r){case 0:return null;case 1:return""}r--;for(var o="",u=0;u<r;){var v=this.readByte();switch(v>>4){case 12:case 13:o+=String.fromCharCode((v&31)<<6|this.readByte()&63),u+=2;break;case 14:o+=String.fromCharCode((v&15)<<12|(this.readByte()&63)<<6|this.readByte()&63),u+=3;break;default:o+=String.fromCharCode(v),u++}}return o},a.prototype.readFloat=function(){var r=this.buffer.getFloat32(this.index);return this.index+=4,r},a.prototype.readBoolean=function(){return this.readByte()!=0},a}(),d=function(){function a(r,o,u,v,l){this.mesh=r,this.skin=o,this.slotIndex=u,this.parent=v,this.inheritDeform=l}return a}(),s=function(){function a(r,o){r===void 0&&(r=null),o===void 0&&(o=null),this.bones=r,this.vertices=o}return a}()})(h||(h={}));var h;(function(y){var e=function(){function f(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new y.Pool(function(){return y.Utils.newFloatArray(16)})}return f.prototype.update=function(d,s){if(d==null)throw new Error("skeleton cannot be null.");var a=this.boundingBoxes,r=this.polygons,o=this.polygonPool,u=d.slots,v=u.length;a.length=0,o.freeAll(r),r.length=0;for(var l=0;l<v;l++){var c=u[l];if(c.bone.active){var p=c.getAttachment();if(p instanceof y.BoundingBoxAttachment){var g=p;a.push(g);var m=o.obtain();m.length!=g.worldVerticesLength&&(m=y.Utils.newFloatArray(g.worldVerticesLength)),r.push(m),g.computeWorldVertices(c,0,g.worldVerticesLength,m,0,2)}}}s?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},f.prototype.aabbCompute=function(){for(var d=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,r=Number.NEGATIVE_INFINITY,o=this.polygons,u=0,v=o.length;u<v;u++)for(var l=o[u],c=l,p=0,g=l.length;p<g;p+=2){var m=c[p],T=c[p+1];d=Math.min(d,m),s=Math.min(s,T),a=Math.max(a,m),r=Math.max(r,T)}this.minX=d,this.minY=s,this.maxX=a,this.maxY=r},f.prototype.aabbContainsPoint=function(d,s){return d>=this.minX&&d<=this.maxX&&s>=this.minY&&s<=this.maxY},f.prototype.aabbIntersectsSegment=function(d,s,a,r){var o=this.minX,u=this.minY,v=this.maxX,l=this.maxY;if(d<=o&&a<=o||s<=u&&r<=u||d>=v&&a>=v||s>=l&&r>=l)return!1;var c=(r-s)/(a-d),p=c*(o-d)+s;if(p>u&&p<l||(p=c*(v-d)+s,p>u&&p<l))return!0;var g=(u-s)/c+d;return g>o&&g<v||(g=(l-s)/c+d,g>o&&g<v)},f.prototype.aabbIntersectsSkeleton=function(d){return this.minX<d.maxX&&this.maxX>d.minX&&this.minY<d.maxY&&this.maxY>d.minY},f.prototype.containsPoint=function(d,s){for(var a=this.polygons,r=0,o=a.length;r<o;r++)if(this.containsPointPolygon(a[r],d,s))return this.boundingBoxes[r];return null},f.prototype.containsPointPolygon=function(d,s,a){for(var r=d,o=d.length,u=o-2,v=!1,l=0;l<o;l+=2){var c=r[l+1],p=r[u+1];if(c<a&&p>=a||p<a&&c>=a){var g=r[l];g+(a-c)/(p-c)*(r[u]-g)<s&&(v=!v)}u=l}return v},f.prototype.intersectsSegment=function(d,s,a,r){for(var o=this.polygons,u=0,v=o.length;u<v;u++)if(this.intersectsSegmentPolygon(o[u],d,s,a,r))return this.boundingBoxes[u];return null},f.prototype.intersectsSegmentPolygon=function(d,s,a,r,o){for(var u=d,v=d.length,l=s-r,c=a-o,p=s*o-a*r,g=u[v-2],m=u[v-1],T=0;T<v;T+=2){var S=u[T],P=u[T+1],E=g*P-m*S,R=g-S,A=m-P,w=l*A-c*R,O=(p*R-l*E)/w;if((O>=g&&O<=S||O>=S&&O<=g)&&(O>=s&&O<=r||O>=r&&O<=s)){var L=(p*A-c*E)/w;if((L>=m&&L<=P||L>=P&&L<=m)&&(L>=a&&L<=o||L>=o&&L<=a))return!0}g=S,m=P}return!1},f.prototype.getPolygon=function(d){if(d==null)throw new Error("boundingBox cannot be null.");var s=this.boundingBoxes.indexOf(d);return s==-1?null:this.polygons[s]},f.prototype.getWidth=function(){return this.maxX-this.minX},f.prototype.getHeight=function(){return this.maxY-this.minY},f}();y.SkeletonBounds=e})(h||(h={}));var h;(function(y){var e=function(){function f(){this.triangulator=new y.Triangulator,this.clippingPolygon=new Array,this.clipOutput=new Array,this.clippedVertices=new Array,this.clippedTriangles=new Array,this.scratch=new Array}return f.prototype.clipStart=function(d,s){if(this.clipAttachment!=null)return 0;this.clipAttachment=s;var a=s.worldVerticesLength,r=y.Utils.setArraySize(this.clippingPolygon,a);s.computeWorldVertices(d,0,a,r,0,2);var o=this.clippingPolygon;f.makeClockwise(o);for(var u=this.clippingPolygons=this.triangulator.decompose(o,this.triangulator.triangulate(o)),v=0,l=u.length;v<l;v++){var c=u[v];f.makeClockwise(c),c.push(c[0]),c.push(c[1])}return u.length},f.prototype.clipEndWithSlot=function(d){this.clipAttachment!=null&&this.clipAttachment.endSlot==d.data&&this.clipEnd()},f.prototype.clipEnd=function(){this.clipAttachment!=null&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)},f.prototype.isClipping=function(){return this.clipAttachment!=null},f.prototype.clipTriangles=function(d,s,a,r,o,u,v,l){var c=this.clipOutput,p=this.clippedVertices,g=this.clippedTriangles,m=this.clippingPolygons,T=this.clippingPolygons.length,S=l?12:8,P=0;p.length=0,g.length=0;t:for(var E=0;E<r;E+=3){var R=a[E]<<1,A=d[R],w=d[R+1],O=o[R],L=o[R+1];R=a[E+1]<<1;var F=d[R],I=d[R+1],B=o[R],G=o[R+1];R=a[E+2]<<1;for(var N=d[R],U=d[R+1],Y=o[R],X=o[R+1],b=0;b<T;b++){var z=p.length;if(this.clip(A,w,F,I,N,U,m[b],c)){var D=c.length;if(D==0)continue;for(var V=I-U,k=N-F,W=A-N,H=U-w,$=1/(V*W+k*(w-U)),K=D>>1,Z=this.clipOutput,j=y.Utils.setArraySize(p,z+K*S),J=0;J<D;J+=2){var Q=Z[J],q=Z[J+1];j[z]=Q,j[z+1]=q,j[z+2]=u.r,j[z+3]=u.g,j[z+4]=u.b,j[z+5]=u.a;var _=Q-N,tt=q-U,st=(V*_+k*tt)*$,it=(H*_+W*tt)*$,lt=1-st-it;j[z+6]=O*st+B*it+Y*lt,j[z+7]=L*st+G*it+X*lt,l&&(j[z+8]=v.r,j[z+9]=v.g,j[z+10]=v.b,j[z+11]=v.a),z+=S}z=g.length;var et=y.Utils.setArraySize(g,z+3*(K-2));K--;for(var J=1;J<K;J++)et[z]=P,et[z+1]=P+J,et[z+2]=P+J+1,z+=3;P+=K+1}else{var j=y.Utils.setArraySize(p,z+3*S);j[z]=A,j[z+1]=w,j[z+2]=u.r,j[z+3]=u.g,j[z+4]=u.b,j[z+5]=u.a,l?(j[z+6]=O,j[z+7]=L,j[z+8]=v.r,j[z+9]=v.g,j[z+10]=v.b,j[z+11]=v.a,j[z+12]=F,j[z+13]=I,j[z+14]=u.r,j[z+15]=u.g,j[z+16]=u.b,j[z+17]=u.a,j[z+18]=B,j[z+19]=G,j[z+20]=v.r,j[z+21]=v.g,j[z+22]=v.b,j[z+23]=v.a,j[z+24]=N,j[z+25]=U,j[z+26]=u.r,j[z+27]=u.g,j[z+28]=u.b,j[z+29]=u.a,j[z+30]=Y,j[z+31]=X,j[z+32]=v.r,j[z+33]=v.g,j[z+34]=v.b,j[z+35]=v.a):(j[z+6]=O,j[z+7]=L,j[z+8]=F,j[z+9]=I,j[z+10]=u.r,j[z+11]=u.g,j[z+12]=u.b,j[z+13]=u.a,j[z+14]=B,j[z+15]=G,j[z+16]=N,j[z+17]=U,j[z+18]=u.r,j[z+19]=u.g,j[z+20]=u.b,j[z+21]=u.a,j[z+22]=Y,j[z+23]=X),z=g.length;var et=y.Utils.setArraySize(g,z+3);et[z]=P,et[z+1]=P+1,et[z+2]=P+2,P+=3;continue t}}}},f.prototype.clip=function(d,s,a,r,o,u,v,l){var c=l,p=!1,g=null;v.length%4>=2?(g=l,l=this.scratch):g=this.scratch,g.length=0,g.push(d),g.push(s),g.push(a),g.push(r),g.push(o),g.push(u),g.push(d),g.push(s),l.length=0;for(var m=v,T=v.length-4,S=0;;S+=2){for(var P=m[S],E=m[S+1],R=m[S+2],A=m[S+3],w=P-R,O=E-A,L=g,F=g.length-2,I=l.length,B=0;B<F;B+=2){var G=L[B],N=L[B+1],U=L[B+2],Y=L[B+3],X=w*(Y-A)-O*(U-R)>0;if(w*(N-A)-O*(G-R)>0){if(X){l.push(U),l.push(Y);continue}var b=Y-N,z=U-G,D=b*(R-P)-z*(A-E);if(Math.abs(D)>1e-6){var V=(z*(E-N)-b*(P-G))/D;l.push(P+(R-P)*V),l.push(E+(A-E)*V)}else l.push(P),l.push(E)}else if(X){var b=Y-N,z=U-G,D=b*(R-P)-z*(A-E);if(Math.abs(D)>1e-6){var V=(z*(E-N)-b*(P-G))/D;l.push(P+(R-P)*V),l.push(E+(A-E)*V)}else l.push(P),l.push(E);l.push(U),l.push(Y)}p=!0}if(I==l.length)return c.length=0,!0;if(l.push(l[0]),l.push(l[1]),S==T)break;var k=l;l=g,l.length=0,g=k}if(c!=l){c.length=0;for(var S=0,W=l.length-2;S<W;S++)c[S]=l[S]}else c.length=c.length-2;return p},f.makeClockwise=function(d){for(var s=d,a=d.length,r=s[a-2]*s[1]-s[0]*s[a-1],o=0,u=0,v=0,l=0,c=0,p=a-3;c<p;c+=2)o=s[c],u=s[c+1],v=s[c+2],l=s[c+3],r+=o*l-v*u;if(!(r<0))for(var c=0,g=a-2,p=a>>1;c<p;c+=2){var m=s[c],T=s[c+1],S=g-c;s[c]=s[S],s[c+1]=s[S+1],s[S]=m,s[S+1]=T}},f}();y.SkeletonClipping=e})(h||(h={}));var h;(function(y){var e=function(){function f(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return f.prototype.findBone=function(d){if(d==null)throw new Error("boneName cannot be null.");for(var s=this.bones,a=0,r=s.length;a<r;a++){var o=s[a];if(o.name==d)return o}return null},f.prototype.findBoneIndex=function(d){if(d==null)throw new Error("boneName cannot be null.");for(var s=this.bones,a=0,r=s.length;a<r;a++)if(s[a].name==d)return a;return-1},f.prototype.findSlot=function(d){if(d==null)throw new Error("slotName cannot be null.");for(var s=this.slots,a=0,r=s.length;a<r;a++){var o=s[a];if(o.name==d)return o}return null},f.prototype.findSlotIndex=function(d){if(d==null)throw new Error("slotName cannot be null.");for(var s=this.slots,a=0,r=s.length;a<r;a++)if(s[a].name==d)return a;return-1},f.prototype.findSkin=function(d){if(d==null)throw new Error("skinName cannot be null.");for(var s=this.skins,a=0,r=s.length;a<r;a++){var o=s[a];if(o.name==d)return o}return null},f.prototype.findEvent=function(d){if(d==null)throw new Error("eventDataName cannot be null.");for(var s=this.events,a=0,r=s.length;a<r;a++){var o=s[a];if(o.name==d)return o}return null},f.prototype.findAnimation=function(d){if(d==null)throw new Error("animationName cannot be null.");for(var s=this.animations,a=0,r=s.length;a<r;a++){var o=s[a];if(o.name==d)return o}return null},f.prototype.findIkConstraint=function(d){if(d==null)throw new Error("constraintName cannot be null.");for(var s=this.ikConstraints,a=0,r=s.length;a<r;a++){var o=s[a];if(o.name==d)return o}return null},f.prototype.findTransformConstraint=function(d){if(d==null)throw new Error("constraintName cannot be null.");for(var s=this.transformConstraints,a=0,r=s.length;a<r;a++){var o=s[a];if(o.name==d)return o}return null},f.prototype.findPathConstraint=function(d){if(d==null)throw new Error("constraintName cannot be null.");for(var s=this.pathConstraints,a=0,r=s.length;a<r;a++){var o=s[a];if(o.name==d)return o}return null},f.prototype.findPathConstraintIndex=function(d){if(d==null)throw new Error("pathConstraintName cannot be null.");for(var s=this.pathConstraints,a=0,r=s.length;a<r;a++)if(s[a].name==d)return a;return-1},f}();y.SkeletonData=e})(h||(h={}));var h;(function(y){var e=function(){function d(s){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=s}return d.prototype.readSkeletonData=function(s){var a=this.scale,r=new y.SkeletonData,o=typeof s=="string"?JSON.parse(s):s,u=o.skeleton;if(u!=null){if(r.hash=u.hash,r.version=u.spine,r.version=="3.8.75")throw new Error("Unsupported skeleton data, please export with a newer version of Spine.");r.x=u.x,r.y=u.y,r.width=u.width,r.height=u.height,r.fps=u.fps,r.imagesPath=u.images}if(o.bones)for(var v=0;v<o.bones.length;v++){var l=o.bones[v],c=null,p=this.getValue(l,"parent",null);if(p!=null&&(c=r.findBone(p),c==null))throw new Error("Parent bone not found: "+p);var g=new y.BoneData(r.bones.length,l.name,c);g.length=this.getValue(l,"length",0)*a,g.x=this.getValue(l,"x",0)*a,g.y=this.getValue(l,"y",0)*a,g.rotation=this.getValue(l,"rotation",0),g.scaleX=this.getValue(l,"scaleX",1),g.scaleY=this.getValue(l,"scaleY",1),g.shearX=this.getValue(l,"shearX",0),g.shearY=this.getValue(l,"shearY",0),g.transformMode=d.transformModeFromString(this.getValue(l,"transform","normal")),g.skinRequired=this.getValue(l,"skin",!1),r.bones.push(g)}if(o.slots)for(var v=0;v<o.slots.length;v++){var m=o.slots[v],T=m.name,S=m.bone,P=r.findBone(S);if(P==null)throw new Error("Slot bone not found: "+S);var g=new y.SlotData(r.slots.length,T,P),E=this.getValue(m,"color",null);E!=null&&g.color.setFromString(E);var R=this.getValue(m,"dark",null);R!=null&&(g.darkColor=new y.Color(1,1,1,1),g.darkColor.setFromString(R)),g.attachmentName=this.getValue(m,"attachment",null),g.blendMode=d.blendModeFromString(this.getValue(m,"blend","normal")),r.slots.push(g)}if(o.ik)for(var v=0;v<o.ik.length;v++){var A=o.ik[v],g=new y.IkConstraintData(A.name);g.order=this.getValue(A,"order",0),g.skinRequired=this.getValue(A,"skin",!1);for(var w=0;w<A.bones.length;w++){var S=A.bones[w],O=r.findBone(S);if(O==null)throw new Error("IK bone not found: "+S);g.bones.push(O)}var L=A.target;if(g.target=r.findBone(L),g.target==null)throw new Error("IK target bone not found: "+L);g.mix=this.getValue(A,"mix",1),g.softness=this.getValue(A,"softness",0)*a,g.bendDirection=this.getValue(A,"bendPositive",!0)?1:-1,g.compress=this.getValue(A,"compress",!1),g.stretch=this.getValue(A,"stretch",!1),g.uniform=this.getValue(A,"uniform",!1),r.ikConstraints.push(g)}if(o.transform)for(var v=0;v<o.transform.length;v++){var A=o.transform[v],g=new y.TransformConstraintData(A.name);g.order=this.getValue(A,"order",0),g.skinRequired=this.getValue(A,"skin",!1);for(var w=0;w<A.bones.length;w++){var S=A.bones[w],O=r.findBone(S);if(O==null)throw new Error("Transform constraint bone not found: "+S);g.bones.push(O)}var L=A.target;if(g.target=r.findBone(L),g.target==null)throw new Error("Transform constraint target bone not found: "+L);g.local=this.getValue(A,"local",!1),g.relative=this.getValue(A,"relative",!1),g.offsetRotation=this.getValue(A,"rotation",0),g.offsetX=this.getValue(A,"x",0)*a,g.offsetY=this.getValue(A,"y",0)*a,g.offsetScaleX=this.getValue(A,"scaleX",0),g.offsetScaleY=this.getValue(A,"scaleY",0),g.offsetShearY=this.getValue(A,"shearY",0),g.rotateMix=this.getValue(A,"rotateMix",1),g.translateMix=this.getValue(A,"translateMix",1),g.scaleMix=this.getValue(A,"scaleMix",1),g.shearMix=this.getValue(A,"shearMix",1),r.transformConstraints.push(g)}if(o.path)for(var v=0;v<o.path.length;v++){var A=o.path[v],g=new y.PathConstraintData(A.name);g.order=this.getValue(A,"order",0),g.skinRequired=this.getValue(A,"skin",!1);for(var w=0;w<A.bones.length;w++){var S=A.bones[w],O=r.findBone(S);if(O==null)throw new Error("Transform constraint bone not found: "+S);g.bones.push(O)}var L=A.target;if(g.target=r.findSlot(L),g.target==null)throw new Error("Path target slot not found: "+L);g.positionMode=d.positionModeFromString(this.getValue(A,"positionMode","percent")),g.spacingMode=d.spacingModeFromString(this.getValue(A,"spacingMode","length")),g.rotateMode=d.rotateModeFromString(this.getValue(A,"rotateMode","tangent")),g.offsetRotation=this.getValue(A,"rotation",0),g.position=this.getValue(A,"position",0),g.positionMode==y.PositionMode.Fixed&&(g.position*=a),g.spacing=this.getValue(A,"spacing",0),(g.spacingMode==y.SpacingMode.Length||g.spacingMode==y.SpacingMode.Fixed)&&(g.spacing*=a),g.rotateMix=this.getValue(A,"rotateMix",1),g.translateMix=this.getValue(A,"translateMix",1),r.pathConstraints.push(g)}if(o.skins)for(var v=0;v<o.skins.length;v++){var F=o.skins[v],I=new y.Skin(F.name);if(F.bones)for(var B=0;B<F.bones.length;B++){var O=r.findBone(F.bones[B]);if(O==null)throw new Error("Skin bone not found: "+F.bones[v]);I.bones.push(O)}if(F.ik)for(var B=0;B<F.ik.length;B++){var G=r.findIkConstraint(F.ik[B]);if(G==null)throw new Error("Skin IK constraint not found: "+F.ik[v]);I.constraints.push(G)}if(F.transform)for(var B=0;B<F.transform.length;B++){var G=r.findTransformConstraint(F.transform[B]);if(G==null)throw new Error("Skin transform constraint not found: "+F.transform[v]);I.constraints.push(G)}if(F.path)for(var B=0;B<F.path.length;B++){var G=r.findPathConstraint(F.path[B]);if(G==null)throw new Error("Skin path constraint not found: "+F.path[v]);I.constraints.push(G)}for(var T in F.attachments){var N=r.findSlot(T);if(N==null)throw new Error("Slot not found: "+T);var m=F.attachments[T];for(var U in m){var Y=this.readAttachment(m[U],I,N.index,U,r);Y!=null&&I.setAttachment(N.index,U,Y)}}r.skins.push(I),I.name=="default"&&(r.defaultSkin=I)}for(var v=0,X=this.linkedMeshes.length;v<X;v++){var b=this.linkedMeshes[v],I=b.skin==null?r.defaultSkin:r.findSkin(b.skin);if(I==null)throw new Error("Skin not found: "+b.skin);var z=I.getAttachment(b.slotIndex,b.parent);if(z==null)throw new Error("Parent mesh not found: "+b.parent);b.mesh.deformAttachment=b.inheritDeform?z:b.mesh,b.mesh.setParentMesh(z),b.mesh.updateUVs()}if(this.linkedMeshes.length=0,o.events)for(var D in o.events){var V=o.events[D],g=new y.EventData(D);g.intValue=this.getValue(V,"int",0),g.floatValue=this.getValue(V,"float",0),g.stringValue=this.getValue(V,"string",""),g.audioPath=this.getValue(V,"audio",null),g.audioPath!=null&&(g.volume=this.getValue(V,"volume",1),g.balance=this.getValue(V,"balance",0)),r.events.push(g)}if(o.animations)for(var k in o.animations){var W=o.animations[k];this.readAnimation(W,k,r)}return r},d.prototype.readAttachment=function(s,a,r,o,u){var v=this.scale;o=this.getValue(s,"name",o);var l=this.getValue(s,"type","region");switch(l){case"region":{var c=this.getValue(s,"path",o),p=this.attachmentLoader.newRegionAttachment(a,o,c);if(p==null)return null;p.path=c,p.x=this.getValue(s,"x",0)*v,p.y=this.getValue(s,"y",0)*v,p.scaleX=this.getValue(s,"scaleX",1),p.scaleY=this.getValue(s,"scaleY",1),p.rotation=this.getValue(s,"rotation",0),p.width=s.width*v,p.height=s.height*v;var g=this.getValue(s,"color",null);return g!=null&&p.color.setFromString(g),p.updateOffset(),p}case"boundingbox":{var m=this.attachmentLoader.newBoundingBoxAttachment(a,o);if(m==null)return null;this.readVertices(s,m,s.vertexCount<<1);var g=this.getValue(s,"color",null);return g!=null&&m.color.setFromString(g),m}case"mesh":case"linkedmesh":{var c=this.getValue(s,"path",o),T=this.attachmentLoader.newMeshAttachment(a,o,c);if(T==null)return null;T.path=c;var g=this.getValue(s,"color",null);g!=null&&T.color.setFromString(g),T.width=this.getValue(s,"width",0)*v,T.height=this.getValue(s,"height",0)*v;var S=this.getValue(s,"parent",null);if(S!=null)return this.linkedMeshes.push(new f(T,this.getValue(s,"skin",null),r,S,this.getValue(s,"deform",!0))),T;var P=s.uvs;return this.readVertices(s,T,P.length),T.triangles=s.triangles,T.regionUVs=P,T.updateUVs(),T.edges=this.getValue(s,"edges",null),T.hullLength=this.getValue(s,"hull",0)*2,T}case"path":{var c=this.attachmentLoader.newPathAttachment(a,o);if(c==null)return null;c.closed=this.getValue(s,"closed",!1),c.constantSpeed=this.getValue(s,"constantSpeed",!0);var E=s.vertexCount;this.readVertices(s,c,E<<1);for(var R=y.Utils.newArray(E/3,0),A=0;A<s.lengths.length;A++)R[A]=s.lengths[A]*v;c.lengths=R;var g=this.getValue(s,"color",null);return g!=null&&c.color.setFromString(g),c}case"point":{var w=this.attachmentLoader.newPointAttachment(a,o);if(w==null)return null;w.x=this.getValue(s,"x",0)*v,w.y=this.getValue(s,"y",0)*v,w.rotation=this.getValue(s,"rotation",0);var g=this.getValue(s,"color",null);return g!=null&&w.color.setFromString(g),w}case"clipping":{var O=this.attachmentLoader.newClippingAttachment(a,o);if(O==null)return null;var L=this.getValue(s,"end",null);if(L!=null){var F=u.findSlot(L);if(F==null)throw new Error("Clipping end slot not found: "+L);O.endSlot=F}var E=s.vertexCount;this.readVertices(s,O,E<<1);var g=this.getValue(s,"color",null);return g!=null&&O.color.setFromString(g),O}}return null},d.prototype.readVertices=function(s,a,r){var o=this.scale;a.worldVerticesLength=r;var u=s.vertices;if(r==u.length){var v=y.Utils.toFloatArray(u);if(o!=1)for(var l=0,c=u.length;l<c;l++)v[l]*=o;a.vertices=v;return}for(var p=new Array,g=new Array,l=0,c=u.length;l<c;){var m=u[l++];g.push(m);for(var T=l+m*4;l<T;l+=4)g.push(u[l]),p.push(u[l+1]*o),p.push(u[l+2]*o),p.push(u[l+3])}a.bones=g,a.vertices=y.Utils.toFloatArray(p)},d.prototype.readAnimation=function(s,a,r){var o=this.scale,u=new Array,v=0;if(s.slots)for(var l in s.slots){var c=s.slots[l],p=r.findSlotIndex(l);if(p==-1)throw new Error("Slot not found: "+l);for(var g in c){var m=c[g];if(g=="attachment"){var T=new y.AttachmentTimeline(m.length);T.slotIndex=p;for(var S=0,P=0;P<m.length;P++){var E=m[P];T.setFrame(S++,this.getValue(E,"time",0),E.name)}u.push(T),v=Math.max(v,T.frames[T.getFrameCount()-1])}else if(g=="color"){var T=new y.ColorTimeline(m.length);T.slotIndex=p;for(var S=0,P=0;P<m.length;P++){var E=m[P],R=new y.Color;R.setFromString(E.color),T.setFrame(S,this.getValue(E,"time",0),R.r,R.g,R.b,R.a),this.readCurve(E,T,S),S++}u.push(T),v=Math.max(v,T.frames[(T.getFrameCount()-1)*y.ColorTimeline.ENTRIES])}else if(g=="twoColor"){var T=new y.TwoColorTimeline(m.length);T.slotIndex=p;for(var S=0,P=0;P<m.length;P++){var E=m[P],A=new y.Color,w=new y.Color;A.setFromString(E.light),w.setFromString(E.dark),T.setFrame(S,this.getValue(E,"time",0),A.r,A.g,A.b,A.a,w.r,w.g,w.b),this.readCurve(E,T,S),S++}u.push(T),v=Math.max(v,T.frames[(T.getFrameCount()-1)*y.TwoColorTimeline.ENTRIES])}else throw new Error("Invalid timeline type for a slot: "+g+" ("+l+")")}}if(s.bones)for(var O in s.bones){var L=s.bones[O],F=r.findBoneIndex(O);if(F==-1)throw new Error("Bone not found: "+O);for(var g in L){var m=L[g];if(g==="rotate"){var T=new y.RotateTimeline(m.length);T.boneIndex=F;for(var S=0,P=0;P<m.length;P++){var E=m[P];T.setFrame(S,this.getValue(E,"time",0),this.getValue(E,"angle",0)),this.readCurve(E,T,S),S++}u.push(T),v=Math.max(v,T.frames[(T.getFrameCount()-1)*y.RotateTimeline.ENTRIES])}else if(g==="translate"||g==="scale"||g==="shear"){var T=null,I=1,B=0;g==="scale"?(T=new y.ScaleTimeline(m.length),B=1):g==="shear"?T=new y.ShearTimeline(m.length):(T=new y.TranslateTimeline(m.length),I=o),T.boneIndex=F;for(var S=0,P=0;P<m.length;P++){var E=m[P],G=this.getValue(E,"x",B),N=this.getValue(E,"y",B);T.setFrame(S,this.getValue(E,"time",0),G*I,N*I),this.readCurve(E,T,S),S++}u.push(T),v=Math.max(v,T.frames[(T.getFrameCount()-1)*y.TranslateTimeline.ENTRIES])}else throw new Error("Invalid timeline type for a bone: "+g+" ("+O+")")}}if(s.ik)for(var U in s.ik){var Y=s.ik[U],X=r.findIkConstraint(U),T=new y.IkConstraintTimeline(Y.length);T.ikConstraintIndex=r.ikConstraints.indexOf(X);for(var S=0,P=0;P<Y.length;P++){var E=Y[P];T.setFrame(S,this.getValue(E,"time",0),this.getValue(E,"mix",1),this.getValue(E,"softness",0)*o,this.getValue(E,"bendPositive",!0)?1:-1,this.getValue(E,"compress",!1),this.getValue(E,"stretch",!1)),this.readCurve(E,T,S),S++}u.push(T),v=Math.max(v,T.frames[(T.getFrameCount()-1)*y.IkConstraintTimeline.ENTRIES])}if(s.transform)for(var U in s.transform){var Y=s.transform[U],X=r.findTransformConstraint(U),T=new y.TransformConstraintTimeline(Y.length);T.transformConstraintIndex=r.transformConstraints.indexOf(X);for(var S=0,P=0;P<Y.length;P++){var E=Y[P];T.setFrame(S,this.getValue(E,"time",0),this.getValue(E,"rotateMix",1),this.getValue(E,"translateMix",1),this.getValue(E,"scaleMix",1),this.getValue(E,"shearMix",1)),this.readCurve(E,T,S),S++}u.push(T),v=Math.max(v,T.frames[(T.getFrameCount()-1)*y.TransformConstraintTimeline.ENTRIES])}if(s.path)for(var U in s.path){var Y=s.path[U],b=r.findPathConstraintIndex(U);if(b==-1)throw new Error("Path constraint not found: "+U);var z=r.pathConstraints[b];for(var g in Y){var m=Y[g];if(g==="position"||g==="spacing"){var T=null,I=1;g==="spacing"?(T=new y.PathConstraintSpacingTimeline(m.length),(z.spacingMode==y.SpacingMode.Length||z.spacingMode==y.SpacingMode.Fixed)&&(I=o)):(T=new y.PathConstraintPositionTimeline(m.length),z.positionMode==y.PositionMode.Fixed&&(I=o)),T.pathConstraintIndex=b;for(var S=0,P=0;P<m.length;P++){var E=m[P];T.setFrame(S,this.getValue(E,"time",0),this.getValue(E,g,0)*I),this.readCurve(E,T,S),S++}u.push(T),v=Math.max(v,T.frames[(T.getFrameCount()-1)*y.PathConstraintPositionTimeline.ENTRIES])}else if(g==="mix"){var T=new y.PathConstraintMixTimeline(m.length);T.pathConstraintIndex=b;for(var S=0,P=0;P<m.length;P++){var E=m[P];T.setFrame(S,this.getValue(E,"time",0),this.getValue(E,"rotateMix",1),this.getValue(E,"translateMix",1)),this.readCurve(E,T,S),S++}u.push(T),v=Math.max(v,T.frames[(T.getFrameCount()-1)*y.PathConstraintMixTimeline.ENTRIES])}}}if(s.deform)for(var D in s.deform){var V=s.deform[D],k=r.findSkin(D);if(k==null)throw new Error("Skin not found: "+D);for(var l in V){var c=V[l],p=r.findSlotIndex(l);if(p==-1)throw new Error("Slot not found: "+c.name);for(var g in c){var m=c[g],W=k.getAttachment(p,g);if(W==null)throw new Error("Deform attachment not found: "+m.name);var H=W.bones!=null,$=W.vertices,K=H?$.length/3*2:$.length,T=new y.DeformTimeline(m.length);T.slotIndex=p,T.attachment=W;for(var S=0,Z=0;Z<m.length;Z++){var E=m[Z],j=void 0,J=this.getValue(E,"vertices",null);if(J==null)j=H?y.Utils.newFloatArray(K):$;else{j=y.Utils.newFloatArray(K);var Q=this.getValue(E,"offset",0);if(y.Utils.arrayCopy(J,0,j,Q,J.length),o!=1)for(var P=Q,q=P+J.length;P<q;P++)j[P]*=o;if(!H)for(var P=0;P<K;P++)j[P]+=$[P]}T.setFrame(S,this.getValue(E,"time",0),j),this.readCurve(E,T,S),S++}u.push(T),v=Math.max(v,T.frames[T.getFrameCount()-1])}}}var _=s.drawOrder;if(_==null&&(_=s.draworder),_!=null){for(var T=new y.DrawOrderTimeline(_.length),tt=r.slots.length,S=0,Z=0;Z<_.length;Z++){var st=_[Z],it=null,lt=this.getValue(st,"offsets",null);if(lt!=null){it=y.Utils.newArray(tt,-1);for(var et=y.Utils.newArray(tt-lt.length,0),ht=0,at=0,P=0;P<lt.length;P++){var ft=lt[P],p=r.findSlotIndex(ft.slot);if(p==-1)throw new Error("Slot not found: "+ft.slot);for(;ht!=p;)et[at++]=ht++;it[ht+ft.offset]=ht++}for(;ht<tt;)et[at++]=ht++;for(var P=tt-1;P>=0;P--)it[P]==-1&&(it[P]=et[--at])}T.setFrame(S++,this.getValue(st,"time",0),it)}u.push(T),v=Math.max(v,T.frames[T.getFrameCount()-1])}if(s.events){for(var T=new y.EventTimeline(s.events.length),S=0,P=0;P<s.events.length;P++){var vt=s.events[P],mt=r.findEvent(vt.name);if(mt==null)throw new Error("Event not found: "+vt.name);var xt=new y.Event(y.Utils.toSinglePrecision(this.getValue(vt,"time",0)),mt);xt.intValue=this.getValue(vt,"int",mt.intValue),xt.floatValue=this.getValue(vt,"float",mt.floatValue),xt.stringValue=this.getValue(vt,"string",mt.stringValue),xt.data.audioPath!=null&&(xt.volume=this.getValue(vt,"volume",1),xt.balance=this.getValue(vt,"balance",0)),T.setFrame(S++,xt)}u.push(T),v=Math.max(v,T.frames[T.getFrameCount()-1])}if(isNaN(v))throw new Error("Error while parsing animation, duration is NaN");r.animations.push(new y.Animation(a,u,v))},d.prototype.readCurve=function(s,a,r){if(s.hasOwnProperty("curve"))if(s.curve=="stepped")a.setStepped(r);else{var o=s.curve;a.setCurve(r,o,this.getValue(s,"c2",0),this.getValue(s,"c3",1),this.getValue(s,"c4",1))}},d.prototype.getValue=function(s,a,r){return s[a]!==void 0?s[a]:r},d.blendModeFromString=function(s){if(s=s.toLowerCase(),s=="normal")return y.BlendMode.Normal;if(s=="additive")return y.BlendMode.Additive;if(s=="multiply")return y.BlendMode.Multiply;if(s=="screen")return y.BlendMode.Screen;throw new Error("Unknown blend mode: ".concat(s))},d.positionModeFromString=function(s){if(s=s.toLowerCase(),s=="fixed")return y.PositionMode.Fixed;if(s=="percent")return y.PositionMode.Percent;throw new Error("Unknown position mode: ".concat(s))},d.spacingModeFromString=function(s){if(s=s.toLowerCase(),s=="length")return y.SpacingMode.Length;if(s=="fixed")return y.SpacingMode.Fixed;if(s=="percent")return y.SpacingMode.Percent;throw new Error("Unknown position mode: ".concat(s))},d.rotateModeFromString=function(s){if(s=s.toLowerCase(),s=="tangent")return y.RotateMode.Tangent;if(s=="chain")return y.RotateMode.Chain;if(s=="chainscale")return y.RotateMode.ChainScale;throw new Error("Unknown rotate mode: ".concat(s))},d.transformModeFromString=function(s){if(s=s.toLowerCase(),s=="normal")return y.TransformMode.Normal;if(s=="onlytranslation")return y.TransformMode.OnlyTranslation;if(s=="norotationorreflection")return y.TransformMode.NoRotationOrReflection;if(s=="noscale")return y.TransformMode.NoScale;if(s=="noscaleorreflection")return y.TransformMode.NoScaleOrReflection;throw new Error("Unknown transform mode: ".concat(s))},d}();y.SkeletonJson=e;var f=function(){function d(s,a,r,o,u){this.mesh=s,this.skin=a,this.slotIndex=r,this.parent=o,this.inheritDeform=u}return d}()})(h||(h={}));var h;(function(y){var e=function(){function d(s,a,r){this.slotIndex=s,this.name=a,this.attachment=r}return d}();y.SkinEntry=e;var f=function(){function d(s){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,s==null)throw new Error("name cannot be null.");this.name=s}return d.prototype.setAttachment=function(s,a,r){if(r==null)throw new Error("attachment cannot be null.");var o=this.attachments;s>=o.length&&(o.length=s+1),o[s]||(o[s]={}),o[s][a]=r},d.prototype.addSkin=function(s){for(var a=0;a<s.bones.length;a++){for(var r=s.bones[a],o=!1,u=0;u<this.bones.length;u++)if(this.bones[u]==r){o=!0;break}o||this.bones.push(r)}for(var a=0;a<s.constraints.length;a++){for(var v=s.constraints[a],o=!1,u=0;u<this.constraints.length;u++)if(this.constraints[u]==v){o=!0;break}o||this.constraints.push(v)}for(var l=s.getAttachments(),a=0;a<l.length;a++){var c=l[a];this.setAttachment(c.slotIndex,c.name,c.attachment)}},d.prototype.copySkin=function(s){for(var a=0;a<s.bones.length;a++){for(var r=s.bones[a],o=!1,u=0;u<this.bones.length;u++)if(this.bones[u]==r){o=!0;break}o||this.bones.push(r)}for(var a=0;a<s.constraints.length;a++){for(var v=s.constraints[a],o=!1,u=0;u<this.constraints.length;u++)if(this.constraints[u]==v){o=!0;break}o||this.constraints.push(v)}for(var l=s.getAttachments(),a=0;a<l.length;a++){var c=l[a];c.attachment!=null&&(c.attachment instanceof y.MeshAttachment?(c.attachment=c.attachment.newLinkedMesh(),this.setAttachment(c.slotIndex,c.name,c.attachment)):(c.attachment=c.attachment.copy(),this.setAttachment(c.slotIndex,c.name,c.attachment)))}},d.prototype.getAttachment=function(s,a){var r=this.attachments[s];return r?r[a]:null},d.prototype.removeAttachment=function(s,a){var r=this.attachments[s];r&&(r[a]=null)},d.prototype.getAttachments=function(){for(var s=new Array,a=0;a<this.attachments.length;a++){var r=this.attachments[a];if(r)for(var o in r){var u=r[o];u&&s.push(new e(a,o,u))}}return s},d.prototype.getAttachmentsForSlot=function(s,a){var r=this.attachments[s];if(r)for(var o in r){var u=r[o];u&&a.push(new e(s,o,u))}},d.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},d.prototype.attachAll=function(s,a){for(var r=0,o=0;o<s.slots.length;o++){var u=s.slots[o],v=u.getAttachment();if(v&&r<a.attachments.length){var l=a.attachments[r];for(var c in l){var p=l[c];if(v==p){var g=this.getAttachment(r,c);g!=null&&u.setAttachment(g);break}}}r++}},d}();y.Skin=f})(h||(h={}));var h;(function(y){var e=function(){function f(d,s){if(this.deform=new Array,d==null)throw new Error("data cannot be null.");if(s==null)throw new Error("bone cannot be null.");this.data=d,this.bone=s,this.color=new y.Color,this.darkColor=d.darkColor==null?null:new y.Color,this.setToSetupPose()}return f.prototype.getSkeleton=function(){return this.bone.skeleton},f.prototype.getAttachment=function(){return this.attachment},f.prototype.setAttachment=function(d){this.attachment!=d&&(this.attachment=d,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)},f.prototype.setAttachmentTime=function(d){this.attachmentTime=this.bone.skeleton.time-d},f.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},f.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor!=null&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName==null?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},f}();y.Slot=e})(h||(h={}));var h;(function(y){var e=function(){function f(d,s,a){if(this.color=new y.Color(1,1,1,1),d<0)throw new Error("index must be >= 0.");if(s==null)throw new Error("name cannot be null.");if(a==null)throw new Error("boneData cannot be null.");this.index=d,this.name=s,this.boneData=a}return f}();y.SlotData=e})(h||(h={}));var h;(function(y){var e=function(){function r(o){this._image=o}return r.prototype.getImage=function(){return this._image},r.filterFromString=function(o){switch(o.toLowerCase()){case"nearest":return f.Nearest;case"linear":return f.Linear;case"mipmap":return f.MipMap;case"mipmapnearestnearest":return f.MipMapNearestNearest;case"mipmaplinearnearest":return f.MipMapLinearNearest;case"mipmapnearestlinear":return f.MipMapNearestLinear;case"mipmaplinearlinear":return f.MipMapLinearLinear;default:throw new Error("Unknown texture filter ".concat(o))}},r.wrapFromString=function(o){switch(o.toLowerCase()){case"mirroredtepeat":return d.MirroredRepeat;case"clamptoedge":return d.ClampToEdge;case"repeat":return d.Repeat;default:throw new Error("Unknown texture wrap ".concat(o))}},r}();y.Texture=e;var f;(function(r){r[r.Nearest=9728]="Nearest",r[r.Linear=9729]="Linear",r[r.MipMap=9987]="MipMap",r[r.MipMapNearestNearest=9984]="MipMapNearestNearest",r[r.MipMapLinearNearest=9985]="MipMapLinearNearest",r[r.MipMapNearestLinear=9986]="MipMapNearestLinear",r[r.MipMapLinearLinear=9987]="MipMapLinearLinear"})(f=y.TextureFilter||(y.TextureFilter={}));var d;(function(r){r[r.MirroredRepeat=33648]="MirroredRepeat",r[r.ClampToEdge=33071]="ClampToEdge",r[r.Repeat=10497]="Repeat"})(d=y.TextureWrap||(y.TextureWrap={}));var s=function(){function r(){this.u=0,this.v=0,this.u2=0,this.v2=0,this.width=0,this.height=0,this.rotate=!1,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0}return r}();y.TextureRegion=s;var a=function(r){M(o,r);function o(){return r!==null&&r.apply(this,arguments)||this}return o.prototype.setFilters=function(u,v){},o.prototype.setWraps=function(u,v){},o.prototype.dispose=function(){},o}(e);y.FakeTexture=a})(h||(h={}));var h;(function(y){var e=function(){function a(r,o){this.pages=new Array,this.regions=new Array,this.load(r,o)}return a.prototype.load=function(r,o){if(o==null)throw new Error("textureLoader cannot be null.");for(var u=new f(r),v=new Array(4),l=null;;){var c=u.readLine();if(c==null)break;if(c=c.trim(),c.length==0)l=null;else if(l){var g=new s;g.name=c,g.page=l;var m=u.readValue();m.toLocaleLowerCase()=="true"?g.degrees=90:m.toLocaleLowerCase()=="false"?g.degrees=0:g.degrees=parseFloat(m),g.rotate=g.degrees==90,u.readTuple(v);var T=parseInt(v[0]),S=parseInt(v[1]);u.readTuple(v);var P=parseInt(v[0]),E=parseInt(v[1]);g.u=T/l.width,g.v=S/l.height,g.rotate?(g.u2=(T+E)/l.width,g.v2=(S+P)/l.height):(g.u2=(T+P)/l.width,g.v2=(S+E)/l.height),g.x=T,g.y=S,g.width=Math.abs(P),g.height=Math.abs(E),u.readTuple(v)==4&&u.readTuple(v)==4&&u.readTuple(v),g.originalWidth=parseInt(v[0]),g.originalHeight=parseInt(v[1]),u.readTuple(v),g.offsetX=parseInt(v[0]),g.offsetY=parseInt(v[1]),g.index=parseInt(u.readValue()),g.texture=l.texture,this.regions.push(g)}else{l=new d,l.name=c,u.readTuple(v)==2&&(l.width=parseInt(v[0]),l.height=parseInt(v[1]),u.readTuple(v)),u.readTuple(v),l.minFilter=y.Texture.filterFromString(v[0]),l.magFilter=y.Texture.filterFromString(v[1]);var p=u.readValue();l.uWrap=y.TextureWrap.ClampToEdge,l.vWrap=y.TextureWrap.ClampToEdge,p=="x"?l.uWrap=y.TextureWrap.Repeat:p=="y"?l.vWrap=y.TextureWrap.Repeat:p=="xy"&&(l.uWrap=l.vWrap=y.TextureWrap.Repeat),l.texture=o(c),l.texture.setFilters(l.minFilter,l.magFilter),l.texture.setWraps(l.uWrap,l.vWrap),l.width=l.texture.getImage().width,l.height=l.texture.getImage().height,this.pages.push(l)}}},a.prototype.findRegion=function(r){for(var o=0;o<this.regions.length;o++)if(this.regions[o].name==r)return this.regions[o];return null},a.prototype.dispose=function(){for(var r=0;r<this.pages.length;r++)this.pages[r].texture.dispose()},a}();y.TextureAtlas=e;var f=function(){function a(r){this.index=0,this.lines=r.split(/\r\n|\r|\n/)}return a.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},a.prototype.readValue=function(){var r=this.readLine(),o=r.indexOf(":");if(o==-1)throw new Error("Invalid line: "+r);return r.substring(o+1).trim()},a.prototype.readTuple=function(r){var o=this.readLine(),u=o.indexOf(":");if(u==-1)throw new Error("Invalid line: "+o);for(var v=0,l=u+1;v<3;v++){var c=o.indexOf(",",l);if(c==-1)break;r[v]=o.substr(l,c-l).trim(),l=c+1}return r[v]=o.substring(l).trim(),v+1},a}(),d=function(){function a(){}return a}();y.TextureAtlasPage=d;var s=function(a){M(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r}(y.TextureRegion);y.TextureAtlasRegion=s})(h||(h={}));var h;(function(y){var e=function(){function f(d,s){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new y.Vector2,this.active=!1,d==null)throw new Error("data cannot be null.");if(s==null)throw new Error("skeleton cannot be null.");this.data=d,this.rotateMix=d.rotateMix,this.translateMix=d.translateMix,this.scaleMix=d.scaleMix,this.shearMix=d.shearMix,this.bones=new Array;for(var a=0;a<d.bones.length;a++)this.bones.push(s.findBone(d.bones[a].name));this.target=s.findBone(d.target.name)}return f.prototype.isActive=function(){return this.active},f.prototype.apply=function(){this.update()},f.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},f.prototype.applyAbsoluteWorld=function(){for(var d=this.rotateMix,s=this.translateMix,a=this.scaleMix,r=this.shearMix,o=this.target,u=o.a,v=o.b,l=o.c,c=o.d,p=u*c-v*l>0?y.MathUtils.degRad:-y.MathUtils.degRad,g=this.data.offsetRotation*p,m=this.data.offsetShearY*p,T=this.bones,S=0,P=T.length;S<P;S++){var E=T[S],R=!1;if(d!=0){var A=E.a,w=E.b,O=E.c,L=E.d,F=Math.atan2(l,u)-Math.atan2(O,A)+g;F>y.MathUtils.PI?F-=y.MathUtils.PI2:F<-y.MathUtils.PI&&(F+=y.MathUtils.PI2),F*=d;var I=Math.cos(F),B=Math.sin(F);E.a=I*A-B*O,E.b=I*w-B*L,E.c=B*A+I*O,E.d=B*w+I*L,R=!0}if(s!=0){var G=this.temp;o.localToWorld(G.set(this.data.offsetX,this.data.offsetY)),E.worldX+=(G.x-E.worldX)*s,E.worldY+=(G.y-E.worldY)*s,R=!0}if(a>0){var N=Math.sqrt(E.a*E.a+E.c*E.c),U=Math.sqrt(u*u+l*l);N>1e-5&&(N=(N+(U-N+this.data.offsetScaleX)*a)/N),E.a*=N,E.c*=N,N=Math.sqrt(E.b*E.b+E.d*E.d),U=Math.sqrt(v*v+c*c),N>1e-5&&(N=(N+(U-N+this.data.offsetScaleY)*a)/N),E.b*=N,E.d*=N,R=!0}if(r>0){var w=E.b,L=E.d,Y=Math.atan2(L,w),F=Math.atan2(c,v)-Math.atan2(l,u)-(Y-Math.atan2(E.c,E.a));F>y.MathUtils.PI?F-=y.MathUtils.PI2:F<-y.MathUtils.PI&&(F+=y.MathUtils.PI2),F=Y+(F+m)*r;var N=Math.sqrt(w*w+L*L);E.b=Math.cos(F)*N,E.d=Math.sin(F)*N,R=!0}R&&(E.appliedValid=!1)}},f.prototype.applyRelativeWorld=function(){for(var d=this.rotateMix,s=this.translateMix,a=this.scaleMix,r=this.shearMix,o=this.target,u=o.a,v=o.b,l=o.c,c=o.d,p=u*c-v*l>0?y.MathUtils.degRad:-y.MathUtils.degRad,g=this.data.offsetRotation*p,m=this.data.offsetShearY*p,T=this.bones,S=0,P=T.length;S<P;S++){var E=T[S],R=!1;if(d!=0){var A=E.a,w=E.b,O=E.c,L=E.d,F=Math.atan2(l,u)+g;F>y.MathUtils.PI?F-=y.MathUtils.PI2:F<-y.MathUtils.PI&&(F+=y.MathUtils.PI2),F*=d;var I=Math.cos(F),B=Math.sin(F);E.a=I*A-B*O,E.b=I*w-B*L,E.c=B*A+I*O,E.d=B*w+I*L,R=!0}if(s!=0){var G=this.temp;o.localToWorld(G.set(this.data.offsetX,this.data.offsetY)),E.worldX+=G.x*s,E.worldY+=G.y*s,R=!0}if(a>0){var N=(Math.sqrt(u*u+l*l)-1+this.data.offsetScaleX)*a+1;E.a*=N,E.c*=N,N=(Math.sqrt(v*v+c*c)-1+this.data.offsetScaleY)*a+1,E.b*=N,E.d*=N,R=!0}if(r>0){var F=Math.atan2(c,v)-Math.atan2(l,u);F>y.MathUtils.PI?F-=y.MathUtils.PI2:F<-y.MathUtils.PI&&(F+=y.MathUtils.PI2);var w=E.b,L=E.d;F=Math.atan2(L,w)+(F-y.MathUtils.PI/2+m)*r;var N=Math.sqrt(w*w+L*L);E.b=Math.cos(F)*N,E.d=Math.sin(F)*N,R=!0}R&&(E.appliedValid=!1)}},f.prototype.applyAbsoluteLocal=function(){var d=this.rotateMix,s=this.translateMix,a=this.scaleMix,r=this.shearMix,o=this.target;o.appliedValid||o.updateAppliedTransform();for(var u=this.bones,v=0,l=u.length;v<l;v++){var c=u[v];c.appliedValid||c.updateAppliedTransform();var p=c.arotation;if(d!=0){var g=o.arotation-p+this.data.offsetRotation;g-=(16384-(16384.499999999996-g/360|0))*360,p+=g*d}var m=c.ax,T=c.ay;s!=0&&(m+=(o.ax-m+this.data.offsetX)*s,T+=(o.ay-T+this.data.offsetY)*s);var S=c.ascaleX,P=c.ascaleY;a!=0&&(S>1e-5&&(S=(S+(o.ascaleX-S+this.data.offsetScaleX)*a)/S),P>1e-5&&(P=(P+(o.ascaleY-P+this.data.offsetScaleY)*a)/P));var E=c.ashearY;if(r!=0){var g=o.ashearY-E+this.data.offsetShearY;g-=(16384-(16384.499999999996-g/360|0))*360,c.shearY+=g*r}c.updateWorldTransformWith(m,T,p,S,P,c.ashearX,E)}},f.prototype.applyRelativeLocal=function(){var d=this.rotateMix,s=this.translateMix,a=this.scaleMix,r=this.shearMix,o=this.target;o.appliedValid||o.updateAppliedTransform();for(var u=this.bones,v=0,l=u.length;v<l;v++){var c=u[v];c.appliedValid||c.updateAppliedTransform();var p=c.arotation;d!=0&&(p+=(o.arotation+this.data.offsetRotation)*d);var g=c.ax,m=c.ay;s!=0&&(g+=(o.ax+this.data.offsetX)*s,m+=(o.ay+this.data.offsetY)*s);var T=c.ascaleX,S=c.ascaleY;a!=0&&(T>1e-5&&(T*=(o.ascaleX-1+this.data.offsetScaleX)*a+1),S>1e-5&&(S*=(o.ascaleY-1+this.data.offsetScaleY)*a+1));var P=c.ashearY;r!=0&&(P+=(o.ashearY+this.data.offsetShearY)*r),c.updateWorldTransformWith(g,m,p,T,S,c.ashearX,P)}},f}();y.TransformConstraint=e})(h||(h={}));var h;(function(y){var e=function(f){M(d,f);function d(s){var a=f.call(this,s,0,!1)||this;return a.bones=new Array,a.rotateMix=0,a.translateMix=0,a.scaleMix=0,a.shearMix=0,a.offsetRotation=0,a.offsetX=0,a.offsetY=0,a.offsetScaleX=0,a.offsetScaleY=0,a.offsetShearY=0,a.relative=!1,a.local=!1,a}return d}(y.ConstraintData);y.TransformConstraintData=e})(h||(h={}));var h;(function(y){var e=function(){function f(){this.convexPolygons=new Array,this.convexPolygonsIndices=new Array,this.indicesArray=new Array,this.isConcaveArray=new Array,this.triangles=new Array,this.polygonPool=new y.Pool(function(){return new Array}),this.polygonIndicesPool=new y.Pool(function(){return new Array})}return f.prototype.triangulate=function(d){var s=d,a=d.length>>1,r=this.indicesArray;r.length=0;for(var o=0;o<a;o++)r[o]=o;var u=this.isConcaveArray;u.length=0;for(var o=0,v=a;o<v;++o)u[o]=f.isConcave(o,a,s,r);var l=this.triangles;for(l.length=0;a>3;){for(var c=a-1,o=0,p=1;;){t:if(!u[o]){for(var g=r[c]<<1,m=r[o]<<1,T=r[p]<<1,S=s[g],P=s[g+1],E=s[m],R=s[m+1],A=s[T],w=s[T+1],O=(p+1)%a;O!=c;O=(O+1)%a)if(u[O]){var L=r[O]<<1,F=s[L],I=s[L+1];if(f.positiveArea(A,w,S,P,F,I)&&f.positiveArea(S,P,E,R,F,I)&&f.positiveArea(E,R,A,w,F,I))break t}break}if(p==0){do{if(!u[o])break;o--}while(o>0);break}c=o,o=p,p=(p+1)%a}l.push(r[(a+o-1)%a]),l.push(r[o]),l.push(r[(o+1)%a]),r.splice(o,1),u.splice(o,1),a--;var B=(a+o-1)%a,G=o==a?0:o;u[B]=f.isConcave(B,a,s,r),u[G]=f.isConcave(G,a,s,r)}return a==3&&(l.push(r[2]),l.push(r[0]),l.push(r[1])),l},f.prototype.decompose=function(d,s){var a=d,r=this.convexPolygons;this.polygonPool.freeAll(r),r.length=0;var o=this.convexPolygonsIndices;this.polygonIndicesPool.freeAll(o),o.length=0;var u=this.polygonIndicesPool.obtain();u.length=0;var v=this.polygonPool.obtain();v.length=0;for(var l=-1,c=0,p=0,g=s.length;p<g;p+=3){var m=s[p]<<1,T=s[p+1]<<1,S=s[p+2]<<1,P=a[m],E=a[m+1],R=a[T],A=a[T+1],w=a[S],O=a[S+1],L=!1;if(l==m){var F=v.length-4,I=f.winding(v[F],v[F+1],v[F+2],v[F+3],w,O),B=f.winding(w,O,v[0],v[1],v[2],v[3]);I==c&&B==c&&(v.push(w),v.push(O),u.push(S),L=!0)}L||(v.length>0?(r.push(v),o.push(u)):(this.polygonPool.free(v),this.polygonIndicesPool.free(u)),v=this.polygonPool.obtain(),v.length=0,v.push(P),v.push(E),v.push(R),v.push(A),v.push(w),v.push(O),u=this.polygonIndicesPool.obtain(),u.length=0,u.push(m),u.push(T),u.push(S),c=f.winding(P,E,R,A,w,O),l=m)}v.length>0&&(r.push(v),o.push(u));for(var p=0,g=r.length;p<g;p++)if(u=o[p],u.length!=0){var G=u[0],N=u[u.length-1];v=r[p];for(var F=v.length-4,U=v[F],Y=v[F+1],X=v[F+2],b=v[F+3],z=v[0],D=v[1],V=v[2],k=v[3],W=f.winding(U,Y,X,b,z,D),H=0;H<g;H++)if(H!=p){var $=o[H];if($.length==3){var K=$[0],Z=$[1],j=$[2],J=r[H],w=J[J.length-2],O=J[J.length-1];if(!(K!=G||Z!=N)){var I=f.winding(U,Y,X,b,w,O),B=f.winding(w,O,z,D,V,k);I==W&&B==W&&(J.length=0,$.length=0,v.push(w),v.push(O),u.push(j),U=X,Y=b,X=w,b=O,H=0)}}}}for(var p=r.length-1;p>=0;p--)v=r[p],v.length==0&&(r.splice(p,1),this.polygonPool.free(v),u=o[p],o.splice(p,1),this.polygonIndicesPool.free(u));return r},f.isConcave=function(d,s,a,r){var o=r[(s+d-1)%s]<<1,u=r[d]<<1,v=r[(d+1)%s]<<1;return!this.positiveArea(a[o],a[o+1],a[u],a[u+1],a[v],a[v+1])},f.positiveArea=function(d,s,a,r,o,u){return d*(u-r)+a*(s-u)+o*(r-s)>=0},f.winding=function(d,s,a,r,o,u){var v=a-d,l=r-s;return o*l-u*v+v*s-d*l>=0?1:-1},f}();y.Triangulator=e})(h||(h={}));var h;(function(y){var e=function(){function g(){this.array=new Array}return g.prototype.add=function(m){var T=this.contains(m);return this.array[m|0]=m|0,!T},g.prototype.contains=function(m){return this.array[m|0]!=null},g.prototype.remove=function(m){this.array[m|0]=void 0},g.prototype.clear=function(){this.array.length=0},g}();y.IntSet=e;var f=function(){function g(m,T,S,P){m===void 0&&(m=0),T===void 0&&(T=0),S===void 0&&(S=0),P===void 0&&(P=0),this.r=m,this.g=T,this.b=S,this.a=P}return g.prototype.set=function(m,T,S,P){return this.r=m,this.g=T,this.b=S,this.a=P,this.clamp(),this},g.prototype.setFromColor=function(m){return this.r=m.r,this.g=m.g,this.b=m.b,this.a=m.a,this},g.prototype.setFromString=function(m){return m=m.charAt(0)=="#"?m.substr(1):m,this.r=parseInt(m.substr(0,2),16)/255,this.g=parseInt(m.substr(2,2),16)/255,this.b=parseInt(m.substr(4,2),16)/255,this.a=(m.length!=8?255:parseInt(m.substr(6,2),16))/255,this},g.prototype.add=function(m,T,S,P){return this.r+=m,this.g+=T,this.b+=S,this.a+=P,this.clamp(),this},g.prototype.clamp=function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this},g.rgba8888ToColor=function(m,T){m.r=((T&4278190080)>>>24)/255,m.g=((T&16711680)>>>16)/255,m.b=((T&65280)>>>8)/255,m.a=(T&255)/255},g.rgb888ToColor=function(m,T){m.r=((T&16711680)>>>16)/255,m.g=((T&65280)>>>8)/255,m.b=(T&255)/255},g.WHITE=new g(1,1,1,1),g.RED=new g(1,0,0,1),g.GREEN=new g(0,1,0,1),g.BLUE=new g(0,0,1,1),g.MAGENTA=new g(1,0,1,1),g}();y.Color=f;var d=function(){function g(){}return g.clamp=function(m,T,S){return m<T?T:m>S?S:m},g.cosDeg=function(m){return Math.cos(m*g.degRad)},g.sinDeg=function(m){return Math.sin(m*g.degRad)},g.signum=function(m){return m>0?1:m<0?-1:0},g.toInt=function(m){return m>0?Math.floor(m):Math.ceil(m)},g.cbrt=function(m){var T=Math.pow(Math.abs(m),.3333333333333333);return m<0?-T:T},g.randomTriangular=function(m,T){return g.randomTriangularWith(m,T,(m+T)*.5)},g.randomTriangularWith=function(m,T,S){var P=Math.random(),E=T-m;return P<=(S-m)/E?m+Math.sqrt(P*E*(S-m)):T-Math.sqrt((1-P)*E*(T-S))},g.PI=3.1415927,g.PI2=g.PI*2,g.radiansToDegrees=180/g.PI,g.radDeg=g.radiansToDegrees,g.degreesToRadians=g.PI/180,g.degRad=g.degreesToRadians,g}();y.MathUtils=d;var s=function(){function g(){}return g.prototype.apply=function(m,T,S){return m+(T-m)*this.applyInternal(S)},g}();y.Interpolation=s;var a=function(g){M(m,g);function m(T){var S=g.call(this)||this;return S.power=2,S.power=T,S}return m.prototype.applyInternal=function(T){return T<=.5?Math.pow(T*2,this.power)/2:Math.pow((T-1)*2,this.power)/(this.power%2==0?-2:2)+1},m}(s);y.Pow=a;var r=function(g){M(m,g);function m(T){return g.call(this,T)||this}return m.prototype.applyInternal=function(T){return Math.pow(T-1,this.power)*(this.power%2==0?-1:1)+1},m}(a);y.PowOut=r;var o=function(){function g(){}return g.arrayCopy=function(m,T,S,P,E){for(var R=T,A=P;R<T+E;R++,A++)S[A]=m[R]},g.setArraySize=function(m,T,S){S===void 0&&(S=0);var P=m.length;if(P==T)return m;if(m.length=T,P<T)for(var E=P;E<T;E++)m[E]=S;return m},g.ensureArrayCapacity=function(m,T,S){return S===void 0&&(S=0),m.length>=T?m:g.setArraySize(m,T,S)},g.newArray=function(m,T){for(var S=new Array(m),P=0;P<m;P++)S[P]=T;return S},g.newFloatArray=function(m){if(g.SUPPORTS_TYPED_ARRAYS)return new Float32Array(m);for(var T=new Array(m),S=0;S<T.length;S++)T[S]=0;return T},g.newShortArray=function(m){if(g.SUPPORTS_TYPED_ARRAYS)return new Int16Array(m);for(var T=new Array(m),S=0;S<T.length;S++)T[S]=0;return T},g.toFloatArray=function(m){return g.SUPPORTS_TYPED_ARRAYS?new Float32Array(m):m},g.toSinglePrecision=function(m){return g.SUPPORTS_TYPED_ARRAYS?Math.fround(m):m},g.webkit602BugfixHelper=function(m,T){},g.contains=function(m,T,S){for(var P=0;P<m.length;P++)if(m[P]==T)return!0;return!1},g.SUPPORTS_TYPED_ARRAYS=typeof Float32Array<"u",g}();y.Utils=o;var u=function(){function g(){}return g.logBones=function(m){for(var T=0;T<m.bones.length;T++){var S=m.bones[T];console.log(S.data.name+", "+S.a+", "+S.b+", "+S.c+", "+S.d+", "+S.worldX+", "+S.worldY)}},g}();y.DebugUtils=u;var v=function(){function g(m){this.items=new Array,this.instantiator=m}return g.prototype.obtain=function(){return this.items.length>0?this.items.pop():this.instantiator()},g.prototype.free=function(m){m.reset&&m.reset(),this.items.push(m)},g.prototype.freeAll=function(m){for(var T=0;T<m.length;T++)this.free(m[T])},g.prototype.clear=function(){this.items.length=0},g}();y.Pool=v;var l=function(){function g(m,T){m===void 0&&(m=0),T===void 0&&(T=0),this.x=m,this.y=T}return g.prototype.set=function(m,T){return this.x=m,this.y=T,this},g.prototype.length=function(){var m=this.x,T=this.y;return Math.sqrt(m*m+T*T)},g.prototype.normalize=function(){var m=this.length();return m!=0&&(this.x/=m,this.y/=m),this},g}();y.Vector2=l;var c=function(){function g(){this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}return g.prototype.update=function(){var m=Date.now()/1e3;this.delta=m-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=m,this.frameCount++,this.frameTime>1&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)},g}();y.TimeKeeper=c;var p=function(){function g(m){m===void 0&&(m=32),this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(m)}return g.prototype.hasEnoughData=function(){return this.addedValues>=this.values.length},g.prototype.addValue=function(m){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=m,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0},g.prototype.getMean=function(){if(this.hasEnoughData()){if(this.dirty){for(var m=0,T=0;T<this.values.length;T++)m+=this.values[T];this.mean=m/this.values.length,this.dirty=!1}return this.mean}else return 0},g}();y.WindowedMean=p})(h||(h={})),function(){Math.fround||(Math.fround=function(y){return function(e){return y[0]=e,y[0]}}(new Float32Array(1)))}();var h;(function(y){var e=function(){function d(s){if(s==null)throw new Error("name cannot be null.");this.name=s}return d}();y.Attachment=e;var f=function(d){M(s,d);function s(a){var r=d.call(this,a)||this;return r.id=(s.nextID++&65535)<<11,r.worldVerticesLength=0,r.deformAttachment=r,r}return s.prototype.computeWorldVertices=function(a,r,o,u,v,l){o=v+(o>>1)*l;var c=a.bone.skeleton,p=a.deform,g=this.vertices,m=this.bones;if(m==null){p.length>0&&(g=p);for(var T=a.bone,S=T.worldX,P=T.worldY,E=T.a,R=T.b,A=T.c,w=T.d,O=r,L=v;L<o;O+=2,L+=l){var F=g[O],I=g[O+1];u[L]=F*E+I*R+S,u[L+1]=F*A+I*w+P}return}for(var B=0,G=0,N=0;N<r;N+=2){var U=m[B];B+=U+1,G+=U}var Y=c.bones;if(p.length==0)for(var L=v,R=G*3;L<o;L+=l){var X=0,b=0,U=m[B++];for(U+=B;B<U;B++,R+=3){var T=Y[m[B]],F=g[R],I=g[R+1],z=g[R+2];X+=(F*T.a+I*T.b+T.worldX)*z,b+=(F*T.c+I*T.d+T.worldY)*z}u[L]=X,u[L+1]=b}else for(var D=p,L=v,R=G*3,V=G<<1;L<o;L+=l){var X=0,b=0,U=m[B++];for(U+=B;B<U;B++,R+=3,V+=2){var T=Y[m[B]],F=g[R]+D[V],I=g[R+1]+D[V+1],z=g[R+2];X+=(F*T.a+I*T.b+T.worldX)*z,b+=(F*T.c+I*T.d+T.worldY)*z}u[L]=X,u[L+1]=b}},s.prototype.copyTo=function(a){this.bones!=null?(a.bones=new Array(this.bones.length),y.Utils.arrayCopy(this.bones,0,a.bones,0,this.bones.length)):a.bones=null,this.vertices!=null?(a.vertices=y.Utils.newFloatArray(this.vertices.length),y.Utils.arrayCopy(this.vertices,0,a.vertices,0,this.vertices.length)):a.vertices=null,a.worldVerticesLength=this.worldVerticesLength,a.deformAttachment=this.deformAttachment},s.nextID=0,s}(e);y.VertexAttachment=f})(h||(h={}));var h;(function(y){(function(e){e[e.Region=0]="Region",e[e.BoundingBox=1]="BoundingBox",e[e.Mesh=2]="Mesh",e[e.LinkedMesh=3]="LinkedMesh",e[e.Path=4]="Path",e[e.Point=5]="Point",e[e.Clipping=6]="Clipping"})(y.AttachmentType||(y.AttachmentType={}))})(h||(h={}));var h;(function(y){var e=function(f){M(d,f);function d(s){var a=f.call(this,s)||this;return a.color=new y.Color(1,1,1,1),a}return d.prototype.copy=function(){var s=new d(this.name);return this.copyTo(s),s.color.setFromColor(this.color),s},d}(y.VertexAttachment);y.BoundingBoxAttachment=e})(h||(h={}));var h;(function(y){var e=function(f){M(d,f);function d(s){var a=f.call(this,s)||this;return a.color=new y.Color(.2275,.2275,.8078,1),a}return d.prototype.copy=function(){var s=new d(this.name);return this.copyTo(s),s.endSlot=this.endSlot,s.color.setFromColor(this.color),s},d}(y.VertexAttachment);y.ClippingAttachment=e})(h||(h={}));var h;(function(y){var e=function(f){M(d,f);function d(s){var a=f.call(this,s)||this;return a.color=new y.Color(1,1,1,1),a.tempColor=new y.Color(0,0,0,0),a}return d.prototype.updateUVs=function(){var s=this.regionUVs;(this.uvs==null||this.uvs.length!=s.length)&&(this.uvs=y.Utils.newFloatArray(s.length));var a=this.uvs,r=this.uvs.length,o=this.region.u,u=this.region.v,v=0,l=0;if(this.region instanceof y.TextureAtlasRegion){var c=this.region,p=c.texture.getImage().width,g=c.texture.getImage().height;switch(c.degrees){case 90:o-=(c.originalHeight-c.offsetY-c.height)/p,u-=(c.originalWidth-c.offsetX-c.width)/g,v=c.originalHeight/p,l=c.originalWidth/g;for(var m=0;m<r;m+=2)a[m]=o+s[m+1]*v,a[m+1]=u+(1-s[m])*l;return;case 180:o-=(c.originalWidth-c.offsetX-c.width)/p,u-=c.offsetY/g,v=c.originalWidth/p,l=c.originalHeight/g;for(var m=0;m<r;m+=2)a[m]=o+(1-s[m])*v,a[m+1]=u+(1-s[m+1])*l;return;case 270:o-=c.offsetY/p,u-=c.offsetX/g,v=c.originalHeight/p,l=c.originalWidth/g;for(var m=0;m<r;m+=2)a[m]=o+(1-s[m+1])*v,a[m+1]=u+s[m]*l;return}o-=c.offsetX/p,u-=(c.originalHeight-c.offsetY-c.height)/g,v=c.originalWidth/p,l=c.originalHeight/g}else this.region==null?(o=u=0,v=l=1):(v=this.region.u2-o,l=this.region.v2-u);for(var m=0;m<r;m+=2)a[m]=o+s[m]*v,a[m+1]=u+s[m+1]*l},d.prototype.getParentMesh=function(){return this.parentMesh},d.prototype.setParentMesh=function(s){this.parentMesh=s,s!=null&&(this.bones=s.bones,this.vertices=s.vertices,this.worldVerticesLength=s.worldVerticesLength,this.regionUVs=s.regionUVs,this.triangles=s.triangles,this.hullLength=s.hullLength,this.worldVerticesLength=s.worldVerticesLength)},d.prototype.copy=function(){if(this.parentMesh!=null)return this.newLinkedMesh();var s=new d(this.name);return s.region=this.region,s.path=this.path,s.color.setFromColor(this.color),this.copyTo(s),s.regionUVs=new Array(this.regionUVs.length),y.Utils.arrayCopy(this.regionUVs,0,s.regionUVs,0,this.regionUVs.length),s.uvs=new Array(this.uvs.length),y.Utils.arrayCopy(this.uvs,0,s.uvs,0,this.uvs.length),s.triangles=new Array(this.triangles.length),y.Utils.arrayCopy(this.triangles,0,s.triangles,0,this.triangles.length),s.hullLength=this.hullLength,this.edges!=null&&(s.edges=new Array(this.edges.length),y.Utils.arrayCopy(this.edges,0,s.edges,0,this.edges.length)),s.width=this.width,s.height=this.height,s},d.prototype.newLinkedMesh=function(){var s=new d(this.name);return s.region=this.region,s.path=this.path,s.color.setFromColor(this.color),s.deformAttachment=this.deformAttachment,s.setParentMesh(this.parentMesh!=null?this.parentMesh:this),s.updateUVs(),s},d}(y.VertexAttachment);y.MeshAttachment=e})(h||(h={}));var h;(function(y){var e=function(f){M(d,f);function d(s){var a=f.call(this,s)||this;return a.closed=!1,a.constantSpeed=!1,a.color=new y.Color(1,1,1,1),a}return d.prototype.copy=function(){var s=new d(this.name);return this.copyTo(s),s.lengths=new Array(this.lengths.length),y.Utils.arrayCopy(this.lengths,0,s.lengths,0,this.lengths.length),s.closed=closed,s.constantSpeed=this.constantSpeed,s.color.setFromColor(this.color),s},d}(y.VertexAttachment);y.PathAttachment=e})(h||(h={}));var h;(function(y){var e=function(f){M(d,f);function d(s){var a=f.call(this,s)||this;return a.color=new y.Color(.38,.94,0,1),a}return d.prototype.computeWorldPosition=function(s,a){return a.x=this.x*s.a+this.y*s.b+s.worldX,a.y=this.x*s.c+this.y*s.d+s.worldY,a},d.prototype.computeWorldRotation=function(s){var a=y.MathUtils.cosDeg(this.rotation),r=y.MathUtils.sinDeg(this.rotation),o=a*s.a+r*s.b,u=a*s.c+r*s.d;return Math.atan2(u,o)*y.MathUtils.radDeg},d.prototype.copy=function(){var s=new d(this.name);return s.x=this.x,s.y=this.y,s.rotation=this.rotation,s.color.setFromColor(this.color),s},d}(y.VertexAttachment);y.PointAttachment=e})(h||(h={}));var h;(function(y){var e=function(f){M(d,f);function d(s){var a=f.call(this,s)||this;return a.x=0,a.y=0,a.scaleX=1,a.scaleY=1,a.rotation=0,a.width=0,a.height=0,a.color=new y.Color(1,1,1,1),a.offset=y.Utils.newFloatArray(8),a.uvs=y.Utils.newFloatArray(8),a.tempColor=new y.Color(1,1,1,1),a}return d.prototype.updateOffset=function(){var s=this.width/this.region.originalWidth*this.scaleX,a=this.height/this.region.originalHeight*this.scaleY,r=-this.width/2*this.scaleX+this.region.offsetX*s,o=-this.height/2*this.scaleY+this.region.offsetY*a,u=r+this.region.width*s,v=o+this.region.height*a,l=this.rotation*Math.PI/180,c=Math.cos(l),p=Math.sin(l),g=r*c+this.x,m=r*p,T=o*c+this.y,S=o*p,P=u*c+this.x,E=u*p,R=v*c+this.y,A=v*p,w=this.offset;w[d.OX1]=g-S,w[d.OY1]=T+m,w[d.OX2]=g-A,w[d.OY2]=R+m,w[d.OX3]=P-A,w[d.OY3]=R+E,w[d.OX4]=P-S,w[d.OY4]=T+E},d.prototype.setRegion=function(s){this.region=s;var a=this.uvs;s.rotate?(a[2]=s.u,a[3]=s.v2,a[4]=s.u,a[5]=s.v,a[6]=s.u2,a[7]=s.v,a[0]=s.u2,a[1]=s.v2):(a[0]=s.u,a[1]=s.v2,a[2]=s.u,a[3]=s.v,a[4]=s.u2,a[5]=s.v,a[6]=s.u2,a[7]=s.v2)},d.prototype.computeWorldVertices=function(s,a,r,o){var u=this.offset,v=s.worldX,l=s.worldY,c=s.a,p=s.b,g=s.c,m=s.d,T=0,S=0;T=u[d.OX1],S=u[d.OY1],a[r]=T*c+S*p+v,a[r+1]=T*g+S*m+l,r+=o,T=u[d.OX2],S=u[d.OY2],a[r]=T*c+S*p+v,a[r+1]=T*g+S*m+l,r+=o,T=u[d.OX3],S=u[d.OY3],a[r]=T*c+S*p+v,a[r+1]=T*g+S*m+l,r+=o,T=u[d.OX4],S=u[d.OY4],a[r]=T*c+S*p+v,a[r+1]=T*g+S*m+l},d.prototype.copy=function(){var s=new d(this.name);return s.region=this.region,s.rendererObject=this.rendererObject,s.path=this.path,s.x=this.x,s.y=this.y,s.scaleX=this.scaleX,s.scaleY=this.scaleY,s.rotation=this.rotation,s.width=this.width,s.height=this.height,y.Utils.arrayCopy(this.uvs,0,s.uvs,0,8),y.Utils.arrayCopy(this.offset,0,s.offset,0,8),s.color.setFromColor(this.color),s},d.OX1=0,d.OY1=1,d.OX2=2,d.OY2=3,d.OX3=4,d.OY3=5,d.OX4=6,d.OY4=7,d.X1=0,d.Y1=1,d.C1R=2,d.C1G=3,d.C1B=4,d.C1A=5,d.U1=6,d.V1=7,d.X2=8,d.Y2=9,d.C2R=10,d.C2G=11,d.C2B=12,d.C2A=13,d.U2=14,d.V2=15,d.X3=16,d.Y3=17,d.C3R=18,d.C3G=19,d.C3B=20,d.C3A=21,d.U3=22,d.V3=23,d.X4=24,d.Y4=25,d.C4R=26,d.C4G=27,d.C4B=28,d.C4A=29,d.U4=30,d.V4=31,d}(y.Attachment);y.RegionAttachment=e})(h||(h={}));var h;(function(y){var e=function(){function f(d,s){this.jitterX=0,this.jitterY=0,this.jitterX=d,this.jitterY=s}return f.prototype.begin=function(d){},f.prototype.transform=function(d,s,a,r){d.x+=y.MathUtils.randomTriangular(-this.jitterX,this.jitterY),d.y+=y.MathUtils.randomTriangular(-this.jitterX,this.jitterY)},f.prototype.end=function(){},f}();y.JitterEffect=e})(h||(h={}));var h;(function(y){var e=function(){function f(d){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=d}return f.prototype.begin=function(d){this.worldX=d.x+this.centerX,this.worldY=d.y+this.centerY},f.prototype.transform=function(d,s,a,r){var o=this.angle*y.MathUtils.degreesToRadians,u=d.x-this.worldX,v=d.y-this.worldY,l=Math.sqrt(u*u+v*v);if(l<this.radius){var c=f.interpolation.apply(0,o,(this.radius-l)/this.radius),p=Math.cos(c),g=Math.sin(c);d.x=p*u-g*v+this.worldX,d.y=g*u+p*v+this.worldY}},f.prototype.end=function(){},f.interpolation=new y.PowOut(2),f}();y.SwirlEffect=e})(h||(h={}));var h;(function(y){(function(e){var f=function(d){M(s,d);function s(a){return a===void 0&&(a=""),d.call(this,function(r){return new y.canvas.CanvasTexture(r)},a)||this}return s}(y.AssetManager);e.AssetManager=f})(y.canvas||(y.canvas={}))})(h||(h={}));var h;(function(y){(function(e){var f=function(d){M(s,d);function s(a){return d.call(this,a)||this}return s.prototype.setFilters=function(a,r){},s.prototype.setWraps=function(a,r){},s.prototype.dispose=function(){},s}(y.Texture);e.CanvasTexture=f})(y.canvas||(y.canvas={}))})(h||(h={}));var h;(function(y){(function(e){var f=function(){function d(s){this.triangleRendering=!1,this.debugRendering=!1,this.vertices=y.Utils.newFloatArray(8192),this.tempColor=new y.Color,this.ctx=s}return d.prototype.draw=function(s){this.triangleRendering?this.drawTriangles(s):this.drawImages(s)},d.prototype.drawImages=function(s){var a=this.ctx,r=s.drawOrder;this.debugRendering&&(a.strokeStyle="green"),a.save();for(var o=0,u=r.length;o<u;o++){var v=r[o];if(v.bone.active){var l=v.getAttachment(),c=null,p=null,g=null;if(l instanceof y.RegionAttachment)c=l,p=c.region,g=p.texture.getImage();else continue;var m=v.bone.skeleton,T=m.color,S=v.color,P=c.color,E=T.a*S.a*P.a,R=this.tempColor;R.set(T.r*S.r*P.r,T.g*S.g*P.g,T.b*S.b*P.b,E);var A=l,w=v.bone,O=p.width,L=p.height;a.save(),a.transform(w.a,w.c,w.b,w.d,w.worldX,w.worldY),a.translate(l.offset[0],l.offset[1]),a.rotate(l.rotation*Math.PI/180);var F=A.width/O;if(a.scale(F*l.scaleX,F*l.scaleY),a.translate(O/2,L/2),l.region.rotate){var I=O;O=L,L=I,a.rotate(-Math.PI/2)}a.scale(1,-1),a.translate(-O/2,-L/2),a.globalAlpha=R.a,a.drawImage(g,p.x,p.y,O,L,0,0,O,L),this.debugRendering&&a.strokeRect(0,0,O,L),a.restore()}}a.restore()},d.prototype.drawTriangles=function(s){for(var a=this.vertices,r=null,o=s.drawOrder,u=0,v=o.length;u<v;u++){var l=o[u],c=l.getAttachment(),p=null,g=null;if(c instanceof y.RegionAttachment){var m=c;a=this.computeRegionVertices(l,m,!1),r=d.QUAD_TRIANGLES,g=m.region,p=g.texture.getImage()}else if(c instanceof y.MeshAttachment){var T=c;a=this.computeMeshVertices(l,T,!1),r=T.triangles,p=T.region.renderObject.texture.getImage()}else continue;if(p!=null){l.data.blendMode;var S=l.bone.skeleton,P=S.color,E=l.color,R=c.color,A=P.a*E.a*R.a,w=this.tempColor;w.set(P.r*E.r*R.r,P.g*E.g*R.g,P.b*E.b*R.b,A);var O=this.ctx;O.globalAlpha=w.a;for(var L=0;L<r.length;L+=3){var F=r[L]*8,I=r[L+1]*8,B=r[L+2]*8,G=a[F],N=a[F+1],U=a[F+6],Y=a[F+7],X=a[I],b=a[I+1],z=a[I+6],D=a[I+7],V=a[B],k=a[B+1],W=a[B+6],H=a[B+7];this.drawTriangle(p,G,N,U,Y,X,b,z,D,V,k,W,H),this.debugRendering&&(O.strokeStyle="green",O.beginPath(),O.moveTo(G,N),O.lineTo(X,b),O.lineTo(V,k),O.lineTo(G,N),O.stroke())}}}this.ctx.globalAlpha=1},d.prototype.drawTriangle=function(s,a,r,o,u,v,l,c,p,g,m,T,S){var P=this.ctx;o*=s.width,u*=s.height,c*=s.width,p*=s.height,T*=s.width,S*=s.height,P.beginPath(),P.moveTo(a,r),P.lineTo(v,l),P.lineTo(g,m),P.closePath(),v-=a,l-=r,g-=a,m-=r,c-=o,p-=u,T-=o,S-=u;var E=1/(c*S-T*p),R=(S*v-p*g)*E,A=(S*l-p*m)*E,w=(c*g-T*v)*E,O=(c*m-T*l)*E,L=a-R*o-w*u,F=r-A*o-O*u;P.save(),P.transform(R,A,w,O,L,F),P.clip(),P.drawImage(s,0,0),P.restore()},d.prototype.computeRegionVertices=function(s,a,r){var o=s.bone.skeleton,u=o.color,v=s.color,l=a.color,c=u.a*v.a*l.a,p=r?c:1,g=this.tempColor;g.set(u.r*v.r*l.r*p,u.g*v.g*l.g*p,u.b*v.b*l.b*p,c),a.computeWorldVertices(s.bone,this.vertices,0,d.VERTEX_SIZE);var m=this.vertices,T=a.uvs;return m[y.RegionAttachment.C1R]=g.r,m[y.RegionAttachment.C1G]=g.g,m[y.RegionAttachment.C1B]=g.b,m[y.RegionAttachment.C1A]=g.a,m[y.RegionAttachment.U1]=T[0],m[y.RegionAttachment.V1]=T[1],m[y.RegionAttachment.C2R]=g.r,m[y.RegionAttachment.C2G]=g.g,m[y.RegionAttachment.C2B]=g.b,m[y.RegionAttachment.C2A]=g.a,m[y.RegionAttachment.U2]=T[2],m[y.RegionAttachment.V2]=T[3],m[y.RegionAttachment.C3R]=g.r,m[y.RegionAttachment.C3G]=g.g,m[y.RegionAttachment.C3B]=g.b,m[y.RegionAttachment.C3A]=g.a,m[y.RegionAttachment.U3]=T[4],m[y.RegionAttachment.V3]=T[5],m[y.RegionAttachment.C4R]=g.r,m[y.RegionAttachment.C4G]=g.g,m[y.RegionAttachment.C4B]=g.b,m[y.RegionAttachment.C4A]=g.a,m[y.RegionAttachment.U4]=T[6],m[y.RegionAttachment.V4]=T[7],m},d.prototype.computeMeshVertices=function(s,a,r){var o=s.bone.skeleton,u=o.color,v=s.color,l=a.color,c=u.a*v.a*l.a,p=r?c:1,g=this.tempColor;g.set(u.r*v.r*l.r*p,u.g*v.g*l.g*p,u.b*v.b*l.b*p,c);var m=a.worldVerticesLength/2;this.vertices.length<a.worldVerticesLength&&(this.vertices=y.Utils.newFloatArray(a.worldVerticesLength));var T=this.vertices;a.computeWorldVertices(s,0,a.worldVerticesLength,T,0,d.VERTEX_SIZE);for(var S=a.uvs,P=0,E=m,R=0,A=2;P<E;P++)T[A++]=g.r,T[A++]=g.g,T[A++]=g.b,T[A++]=g.a,T[A++]=S[R++],T[A++]=S[R++],A+=2;return T},d.QUAD_TRIANGLES=[0,1,2,2,3,0],d.VERTEX_SIZE=8,d}();e.SkeletonRenderer=f})(y.canvas||(y.canvas={}))})(h||(h={}));var h;(function(y){(function(e){var f=function(d){M(s,d);function s(a,r){return r===void 0&&(r=""),d.call(this,function(o){return new y.webgl.GLTexture(a,o)},r)||this}return s}(y.AssetManager);e.AssetManager=f})(y.webgl||(y.webgl={}))})(h||(h={}));var h;(function(y){(function(e){var f=function(){function d(s,a){this.position=new e.Vector3(0,0,0),this.direction=new e.Vector3(0,0,-1),this.up=new e.Vector3(0,1,0),this.near=0,this.far=100,this.zoom=1,this.viewportWidth=0,this.viewportHeight=0,this.projectionView=new e.Matrix4,this.inverseProjectionView=new e.Matrix4,this.projection=new e.Matrix4,this.view=new e.Matrix4,this.tmp=new e.Vector3,this.viewportWidth=s,this.viewportHeight=a,this.update()}return d.prototype.update=function(){var s=this.projection,a=this.view,r=this.projectionView,o=this.inverseProjectionView,u=this.zoom,v=this.viewportWidth,l=this.viewportHeight;s.ortho(u*(-v/2),u*(v/2),u*(-l/2),u*(l/2),this.near,this.far),a.lookAt(this.position,this.direction,this.up),r.set(s.values),r.multiply(a),o.set(r.values).invert()},d.prototype.screenToWorld=function(s,a,r){var o=s.x,u=r-s.y-1,v=this.tmp;return v.x=2*o/a-1,v.y=2*u/r-1,v.z=2*s.z-1,v.project(this.inverseProjectionView),s.set(v.x,v.y,v.z),s},d.prototype.setViewport=function(s,a){this.viewportWidth=s,this.viewportHeight=a},d}();e.OrthoCamera=f})(y.webgl||(y.webgl={}))})(h||(h={}));var h;(function(y){(function(e){var f=function(d){M(s,d);function s(a,r,o){o===void 0&&(o=!1);var u=d.call(this,r)||this;return u.texture=null,u.boundUnit=0,u.useMipMaps=!1,u.context=a instanceof e.ManagedWebGLRenderingContext?a:new e.ManagedWebGLRenderingContext(a),u.useMipMaps=o,u.restore(),u.context.addRestorable(u),u}return s.prototype.setFilters=function(a,r){var o=this.context.gl;this.bind(),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,a),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,s.validateMagFilter(r))},s.validateMagFilter=function(a){switch(a){case y.TextureFilter.MipMap:case y.TextureFilter.MipMapLinearLinear:case y.TextureFilter.MipMapLinearNearest:case y.TextureFilter.MipMapNearestLinear:case y.TextureFilter.MipMapNearestNearest:return y.TextureFilter.Linear;default:return a}},s.prototype.setWraps=function(a,r){var o=this.context.gl;this.bind(),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,a),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,r)},s.prototype.update=function(a){var r=this.context.gl;this.texture||(this.texture=this.context.gl.createTexture()),this.bind(),s.DISABLE_UNPACK_PREMULTIPLIED_ALPHA_WEBGL&&r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,this._image),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,a?r.LINEAR_MIPMAP_LINEAR:r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),a&&r.generateMipmap(r.TEXTURE_2D)},s.prototype.restore=function(){this.texture=null,this.update(this.useMipMaps)},s.prototype.bind=function(a){a===void 0&&(a=0);var r=this.context.gl;this.boundUnit=a,r.activeTexture(r.TEXTURE0+a),r.bindTexture(r.TEXTURE_2D,this.texture)},s.prototype.unbind=function(){var a=this.context.gl;a.activeTexture(a.TEXTURE0+this.boundUnit),a.bindTexture(a.TEXTURE_2D,null)},s.prototype.dispose=function(){this.context.removeRestorable(this);var a=this.context.gl;a.deleteTexture(this.texture)},s.DISABLE_UNPACK_PREMULTIPLIED_ALPHA_WEBGL=!1,s}(y.Texture);e.GLTexture=f})(y.webgl||(y.webgl={}))})(h||(h={}));var h;(function(y){(function(e){e.M00=0,e.M01=4,e.M02=8,e.M03=12,e.M10=1,e.M11=5,e.M12=9,e.M13=13,e.M20=2,e.M21=6,e.M22=10,e.M23=14,e.M30=3,e.M31=7,e.M32=11,e.M33=15;var f=function(){function d(){this.temp=new Float32Array(16),this.values=new Float32Array(16);var s=this.values;s[e.M00]=1,s[e.M11]=1,s[e.M22]=1,s[e.M33]=1}return d.prototype.set=function(s){return this.values.set(s),this},d.prototype.transpose=function(){var s=this.temp,a=this.values;return s[e.M00]=a[e.M00],s[e.M01]=a[e.M10],s[e.M02]=a[e.M20],s[e.M03]=a[e.M30],s[e.M10]=a[e.M01],s[e.M11]=a[e.M11],s[e.M12]=a[e.M21],s[e.M13]=a[e.M31],s[e.M20]=a[e.M02],s[e.M21]=a[e.M12],s[e.M22]=a[e.M22],s[e.M23]=a[e.M32],s[e.M30]=a[e.M03],s[e.M31]=a[e.M13],s[e.M32]=a[e.M23],s[e.M33]=a[e.M33],this.set(s)},d.prototype.identity=function(){var s=this.values;return s[e.M00]=1,s[e.M01]=0,s[e.M02]=0,s[e.M03]=0,s[e.M10]=0,s[e.M11]=1,s[e.M12]=0,s[e.M13]=0,s[e.M20]=0,s[e.M21]=0,s[e.M22]=1,s[e.M23]=0,s[e.M30]=0,s[e.M31]=0,s[e.M32]=0,s[e.M33]=1,this},d.prototype.invert=function(){var s=this.values,a=this.temp,r=s[e.M30]*s[e.M21]*s[e.M12]*s[e.M03]-s[e.M20]*s[e.M31]*s[e.M12]*s[e.M03]-s[e.M30]*s[e.M11]*s[e.M22]*s[e.M03]+s[e.M10]*s[e.M31]*s[e.M22]*s[e.M03]+s[e.M20]*s[e.M11]*s[e.M32]*s[e.M03]-s[e.M10]*s[e.M21]*s[e.M32]*s[e.M03]-s[e.M30]*s[e.M21]*s[e.M02]*s[e.M13]+s[e.M20]*s[e.M31]*s[e.M02]*s[e.M13]+s[e.M30]*s[e.M01]*s[e.M22]*s[e.M13]-s[e.M00]*s[e.M31]*s[e.M22]*s[e.M13]-s[e.M20]*s[e.M01]*s[e.M32]*s[e.M13]+s[e.M00]*s[e.M21]*s[e.M32]*s[e.M13]+s[e.M30]*s[e.M11]*s[e.M02]*s[e.M23]-s[e.M10]*s[e.M31]*s[e.M02]*s[e.M23]-s[e.M30]*s[e.M01]*s[e.M12]*s[e.M23]+s[e.M00]*s[e.M31]*s[e.M12]*s[e.M23]+s[e.M10]*s[e.M01]*s[e.M32]*s[e.M23]-s[e.M00]*s[e.M11]*s[e.M32]*s[e.M23]-s[e.M20]*s[e.M11]*s[e.M02]*s[e.M33]+s[e.M10]*s[e.M21]*s[e.M02]*s[e.M33]+s[e.M20]*s[e.M01]*s[e.M12]*s[e.M33]-s[e.M00]*s[e.M21]*s[e.M12]*s[e.M33]-s[e.M10]*s[e.M01]*s[e.M22]*s[e.M33]+s[e.M00]*s[e.M11]*s[e.M22]*s[e.M33];if(r==0)throw new Error("non-invertible matrix");var o=1/r;return a[e.M00]=s[e.M12]*s[e.M23]*s[e.M31]-s[e.M13]*s[e.M22]*s[e.M31]+s[e.M13]*s[e.M21]*s[e.M32]-s[e.M11]*s[e.M23]*s[e.M32]-s[e.M12]*s[e.M21]*s[e.M33]+s[e.M11]*s[e.M22]*s[e.M33],a[e.M01]=s[e.M03]*s[e.M22]*s[e.M31]-s[e.M02]*s[e.M23]*s[e.M31]-s[e.M03]*s[e.M21]*s[e.M32]+s[e.M01]*s[e.M23]*s[e.M32]+s[e.M02]*s[e.M21]*s[e.M33]-s[e.M01]*s[e.M22]*s[e.M33],a[e.M02]=s[e.M02]*s[e.M13]*s[e.M31]-s[e.M03]*s[e.M12]*s[e.M31]+s[e.M03]*s[e.M11]*s[e.M32]-s[e.M01]*s[e.M13]*s[e.M32]-s[e.M02]*s[e.M11]*s[e.M33]+s[e.M01]*s[e.M12]*s[e.M33],a[e.M03]=s[e.M03]*s[e.M12]*s[e.M21]-s[e.M02]*s[e.M13]*s[e.M21]-s[e.M03]*s[e.M11]*s[e.M22]+s[e.M01]*s[e.M13]*s[e.M22]+s[e.M02]*s[e.M11]*s[e.M23]-s[e.M01]*s[e.M12]*s[e.M23],a[e.M10]=s[e.M13]*s[e.M22]*s[e.M30]-s[e.M12]*s[e.M23]*s[e.M30]-s[e.M13]*s[e.M20]*s[e.M32]+s[e.M10]*s[e.M23]*s[e.M32]+s[e.M12]*s[e.M20]*s[e.M33]-s[e.M10]*s[e.M22]*s[e.M33],a[e.M11]=s[e.M02]*s[e.M23]*s[e.M30]-s[e.M03]*s[e.M22]*s[e.M30]+s[e.M03]*s[e.M20]*s[e.M32]-s[e.M00]*s[e.M23]*s[e.M32]-s[e.M02]*s[e.M20]*s[e.M33]+s[e.M00]*s[e.M22]*s[e.M33],a[e.M12]=s[e.M03]*s[e.M12]*s[e.M30]-s[e.M02]*s[e.M13]*s[e.M30]-s[e.M03]*s[e.M10]*s[e.M32]+s[e.M00]*s[e.M13]*s[e.M32]+s[e.M02]*s[e.M10]*s[e.M33]-s[e.M00]*s[e.M12]*s[e.M33],a[e.M13]=s[e.M02]*s[e.M13]*s[e.M20]-s[e.M03]*s[e.M12]*s[e.M20]+s[e.M03]*s[e.M10]*s[e.M22]-s[e.M00]*s[e.M13]*s[e.M22]-s[e.M02]*s[e.M10]*s[e.M23]+s[e.M00]*s[e.M12]*s[e.M23],a[e.M20]=s[e.M11]*s[e.M23]*s[e.M30]-s[e.M13]*s[e.M21]*s[e.M30]+s[e.M13]*s[e.M20]*s[e.M31]-s[e.M10]*s[e.M23]*s[e.M31]-s[e.M11]*s[e.M20]*s[e.M33]+s[e.M10]*s[e.M21]*s[e.M33],a[e.M21]=s[e.M03]*s[e.M21]*s[e.M30]-s[e.M01]*s[e.M23]*s[e.M30]-s[e.M03]*s[e.M20]*s[e.M31]+s[e.M00]*s[e.M23]*s[e.M31]+s[e.M01]*s[e.M20]*s[e.M33]-s[e.M00]*s[e.M21]*s[e.M33],a[e.M22]=s[e.M01]*s[e.M13]*s[e.M30]-s[e.M03]*s[e.M11]*s[e.M30]+s[e.M03]*s[e.M10]*s[e.M31]-s[e.M00]*s[e.M13]*s[e.M31]-s[e.M01]*s[e.M10]*s[e.M33]+s[e.M00]*s[e.M11]*s[e.M33],a[e.M23]=s[e.M03]*s[e.M11]*s[e.M20]-s[e.M01]*s[e.M13]*s[e.M20]-s[e.M03]*s[e.M10]*s[e.M21]+s[e.M00]*s[e.M13]*s[e.M21]+s[e.M01]*s[e.M10]*s[e.M23]-s[e.M00]*s[e.M11]*s[e.M23],a[e.M30]=s[e.M12]*s[e.M21]*s[e.M30]-s[e.M11]*s[e.M22]*s[e.M30]-s[e.M12]*s[e.M20]*s[e.M31]+s[e.M10]*s[e.M22]*s[e.M31]+s[e.M11]*s[e.M20]*s[e.M32]-s[e.M10]*s[e.M21]*s[e.M32],a[e.M31]=s[e.M01]*s[e.M22]*s[e.M30]-s[e.M02]*s[e.M21]*s[e.M30]+s[e.M02]*s[e.M20]*s[e.M31]-s[e.M00]*s[e.M22]*s[e.M31]-s[e.M01]*s[e.M20]*s[e.M32]+s[e.M00]*s[e.M21]*s[e.M32],a[e.M32]=s[e.M02]*s[e.M11]*s[e.M30]-s[e.M01]*s[e.M12]*s[e.M30]-s[e.M02]*s[e.M10]*s[e.M31]+s[e.M00]*s[e.M12]*s[e.M31]+s[e.M01]*s[e.M10]*s[e.M32]-s[e.M00]*s[e.M11]*s[e.M32],a[e.M33]=s[e.M01]*s[e.M12]*s[e.M20]-s[e.M02]*s[e.M11]*s[e.M20]+s[e.M02]*s[e.M10]*s[e.M21]-s[e.M00]*s[e.M12]*s[e.M21]-s[e.M01]*s[e.M10]*s[e.M22]+s[e.M00]*s[e.M11]*s[e.M22],s[e.M00]=a[e.M00]*o,s[e.M01]=a[e.M01]*o,s[e.M02]=a[e.M02]*o,s[e.M03]=a[e.M03]*o,s[e.M10]=a[e.M10]*o,s[e.M11]=a[e.M11]*o,s[e.M12]=a[e.M12]*o,s[e.M13]=a[e.M13]*o,s[e.M20]=a[e.M20]*o,s[e.M21]=a[e.M21]*o,s[e.M22]=a[e.M22]*o,s[e.M23]=a[e.M23]*o,s[e.M30]=a[e.M30]*o,s[e.M31]=a[e.M31]*o,s[e.M32]=a[e.M32]*o,s[e.M33]=a[e.M33]*o,this},d.prototype.determinant=function(){var s=this.values;return s[e.M30]*s[e.M21]*s[e.M12]*s[e.M03]-s[e.M20]*s[e.M31]*s[e.M12]*s[e.M03]-s[e.M30]*s[e.M11]*s[e.M22]*s[e.M03]+s[e.M10]*s[e.M31]*s[e.M22]*s[e.M03]+s[e.M20]*s[e.M11]*s[e.M32]*s[e.M03]-s[e.M10]*s[e.M21]*s[e.M32]*s[e.M03]-s[e.M30]*s[e.M21]*s[e.M02]*s[e.M13]+s[e.M20]*s[e.M31]*s[e.M02]*s[e.M13]+s[e.M30]*s[e.M01]*s[e.M22]*s[e.M13]-s[e.M00]*s[e.M31]*s[e.M22]*s[e.M13]-s[e.M20]*s[e.M01]*s[e.M32]*s[e.M13]+s[e.M00]*s[e.M21]*s[e.M32]*s[e.M13]+s[e.M30]*s[e.M11]*s[e.M02]*s[e.M23]-s[e.M10]*s[e.M31]*s[e.M02]*s[e.M23]-s[e.M30]*s[e.M01]*s[e.M12]*s[e.M23]+s[e.M00]*s[e.M31]*s[e.M12]*s[e.M23]+s[e.M10]*s[e.M01]*s[e.M32]*s[e.M23]-s[e.M00]*s[e.M11]*s[e.M32]*s[e.M23]-s[e.M20]*s[e.M11]*s[e.M02]*s[e.M33]+s[e.M10]*s[e.M21]*s[e.M02]*s[e.M33]+s[e.M20]*s[e.M01]*s[e.M12]*s[e.M33]-s[e.M00]*s[e.M21]*s[e.M12]*s[e.M33]-s[e.M10]*s[e.M01]*s[e.M22]*s[e.M33]+s[e.M00]*s[e.M11]*s[e.M22]*s[e.M33]},d.prototype.translate=function(s,a,r){var o=this.values;return o[e.M03]+=s,o[e.M13]+=a,o[e.M23]+=r,this},d.prototype.copy=function(){return new d().set(this.values)},d.prototype.projection=function(s,a,r,o){this.identity();var u=1/Math.tan(r*(Math.PI/180)/2),v=(a+s)/(s-a),l=2*a*s/(s-a),c=this.values;return c[e.M00]=u/o,c[e.M10]=0,c[e.M20]=0,c[e.M30]=0,c[e.M01]=0,c[e.M11]=u,c[e.M21]=0,c[e.M31]=0,c[e.M02]=0,c[e.M12]=0,c[e.M22]=v,c[e.M32]=-1,c[e.M03]=0,c[e.M13]=0,c[e.M23]=l,c[e.M33]=0,this},d.prototype.ortho2d=function(s,a,r,o){return this.ortho(s,s+r,a,a+o,0,1)},d.prototype.ortho=function(s,a,r,o,u,v){this.identity();var l=2/(a-s),c=2/(o-r),p=-2/(v-u),g=-(a+s)/(a-s),m=-(o+r)/(o-r),T=-(v+u)/(v-u),S=this.values;return S[e.M00]=l,S[e.M10]=0,S[e.M20]=0,S[e.M30]=0,S[e.M01]=0,S[e.M11]=c,S[e.M21]=0,S[e.M31]=0,S[e.M02]=0,S[e.M12]=0,S[e.M22]=p,S[e.M32]=0,S[e.M03]=g,S[e.M13]=m,S[e.M23]=T,S[e.M33]=1,this},d.prototype.multiply=function(s){var a=this.temp,r=this.values,o=s.values;return a[e.M00]=r[e.M00]*o[e.M00]+r[e.M01]*o[e.M10]+r[e.M02]*o[e.M20]+r[e.M03]*o[e.M30],a[e.M01]=r[e.M00]*o[e.M01]+r[e.M01]*o[e.M11]+r[e.M02]*o[e.M21]+r[e.M03]*o[e.M31],a[e.M02]=r[e.M00]*o[e.M02]+r[e.M01]*o[e.M12]+r[e.M02]*o[e.M22]+r[e.M03]*o[e.M32],a[e.M03]=r[e.M00]*o[e.M03]+r[e.M01]*o[e.M13]+r[e.M02]*o[e.M23]+r[e.M03]*o[e.M33],a[e.M10]=r[e.M10]*o[e.M00]+r[e.M11]*o[e.M10]+r[e.M12]*o[e.M20]+r[e.M13]*o[e.M30],a[e.M11]=r[e.M10]*o[e.M01]+r[e.M11]*o[e.M11]+r[e.M12]*o[e.M21]+r[e.M13]*o[e.M31],a[e.M12]=r[e.M10]*o[e.M02]+r[e.M11]*o[e.M12]+r[e.M12]*o[e.M22]+r[e.M13]*o[e.M32],a[e.M13]=r[e.M10]*o[e.M03]+r[e.M11]*o[e.M13]+r[e.M12]*o[e.M23]+r[e.M13]*o[e.M33],a[e.M20]=r[e.M20]*o[e.M00]+r[e.M21]*o[e.M10]+r[e.M22]*o[e.M20]+r[e.M23]*o[e.M30],a[e.M21]=r[e.M20]*o[e.M01]+r[e.M21]*o[e.M11]+r[e.M22]*o[e.M21]+r[e.M23]*o[e.M31],a[e.M22]=r[e.M20]*o[e.M02]+r[e.M21]*o[e.M12]+r[e.M22]*o[e.M22]+r[e.M23]*o[e.M32],a[e.M23]=r[e.M20]*o[e.M03]+r[e.M21]*o[e.M13]+r[e.M22]*o[e.M23]+r[e.M23]*o[e.M33],a[e.M30]=r[e.M30]*o[e.M00]+r[e.M31]*o[e.M10]+r[e.M32]*o[e.M20]+r[e.M33]*o[e.M30],a[e.M31]=r[e.M30]*o[e.M01]+r[e.M31]*o[e.M11]+r[e.M32]*o[e.M21]+r[e.M33]*o[e.M31],a[e.M32]=r[e.M30]*o[e.M02]+r[e.M31]*o[e.M12]+r[e.M32]*o[e.M22]+r[e.M33]*o[e.M32],a[e.M33]=r[e.M30]*o[e.M03]+r[e.M31]*o[e.M13]+r[e.M32]*o[e.M23]+r[e.M33]*o[e.M33],this.set(this.temp)},d.prototype.multiplyLeft=function(s){var a=this.temp,r=this.values,o=s.values;return a[e.M00]=o[e.M00]*r[e.M00]+o[e.M01]*r[e.M10]+o[e.M02]*r[e.M20]+o[e.M03]*r[e.M30],a[e.M01]=o[e.M00]*r[e.M01]+o[e.M01]*r[e.M11]+o[e.M02]*r[e.M21]+o[e.M03]*r[e.M31],a[e.M02]=o[e.M00]*r[e.M02]+o[e.M01]*r[e.M12]+o[e.M02]*r[e.M22]+o[e.M03]*r[e.M32],a[e.M03]=o[e.M00]*r[e.M03]+o[e.M01]*r[e.M13]+o[e.M02]*r[e.M23]+o[e.M03]*r[e.M33],a[e.M10]=o[e.M10]*r[e.M00]+o[e.M11]*r[e.M10]+o[e.M12]*r[e.M20]+o[e.M13]*r[e.M30],a[e.M11]=o[e.M10]*r[e.M01]+o[e.M11]*r[e.M11]+o[e.M12]*r[e.M21]+o[e.M13]*r[e.M31],a[e.M12]=o[e.M10]*r[e.M02]+o[e.M11]*r[e.M12]+o[e.M12]*r[e.M22]+o[e.M13]*r[e.M32],a[e.M13]=o[e.M10]*r[e.M03]+o[e.M11]*r[e.M13]+o[e.M12]*r[e.M23]+o[e.M13]*r[e.M33],a[e.M20]=o[e.M20]*r[e.M00]+o[e.M21]*r[e.M10]+o[e.M22]*r[e.M20]+o[e.M23]*r[e.M30],a[e.M21]=o[e.M20]*r[e.M01]+o[e.M21]*r[e.M11]+o[e.M22]*r[e.M21]+o[e.M23]*r[e.M31],a[e.M22]=o[e.M20]*r[e.M02]+o[e.M21]*r[e.M12]+o[e.M22]*r[e.M22]+o[e.M23]*r[e.M32],a[e.M23]=o[e.M20]*r[e.M03]+o[e.M21]*r[e.M13]+o[e.M22]*r[e.M23]+o[e.M23]*r[e.M33],a[e.M30]=o[e.M30]*r[e.M00]+o[e.M31]*r[e.M10]+o[e.M32]*r[e.M20]+o[e.M33]*r[e.M30],a[e.M31]=o[e.M30]*r[e.M01]+o[e.M31]*r[e.M11]+o[e.M32]*r[e.M21]+o[e.M33]*r[e.M31],a[e.M32]=o[e.M30]*r[e.M02]+o[e.M31]*r[e.M12]+o[e.M32]*r[e.M22]+o[e.M33]*r[e.M32],a[e.M33]=o[e.M30]*r[e.M03]+o[e.M31]*r[e.M13]+o[e.M32]*r[e.M23]+o[e.M33]*r[e.M33],this.set(this.temp)},d.prototype.lookAt=function(s,a,r){d.initTemps();var o=d.xAxis,u=d.yAxis,v=d.zAxis;v.setFrom(a).normalize(),o.setFrom(a).normalize(),o.cross(r).normalize(),u.setFrom(o).cross(v).normalize(),this.identity();var l=this.values;return l[e.M00]=o.x,l[e.M01]=o.y,l[e.M02]=o.z,l[e.M10]=u.x,l[e.M11]=u.y,l[e.M12]=u.z,l[e.M20]=-v.x,l[e.M21]=-v.y,l[e.M22]=-v.z,d.tmpMatrix.identity(),d.tmpMatrix.values[e.M03]=-s.x,d.tmpMatrix.values[e.M13]=-s.y,d.tmpMatrix.values[e.M23]=-s.z,this.multiply(d.tmpMatrix),this},d.initTemps=function(){d.xAxis===null&&(d.xAxis=new e.Vector3),d.yAxis===null&&(d.yAxis=new e.Vector3),d.zAxis===null&&(d.zAxis=new e.Vector3)},d.xAxis=null,d.yAxis=null,d.zAxis=null,d.tmpMatrix=new d,d}();e.Matrix4=f})(y.webgl||(y.webgl={}))})(h||(h={}));var h;(function(y){(function(e){var f=function(){function l(c,p,g,m){this.attributes=p,this.verticesLength=0,this.dirtyVertices=!1,this.indicesLength=0,this.dirtyIndices=!1,this.elementsPerVertex=0,this.context=c instanceof e.ManagedWebGLRenderingContext?c:new e.ManagedWebGLRenderingContext(c),this.elementsPerVertex=0;for(var T=0;T<p.length;T++)this.elementsPerVertex+=p[T].numElements;this.vertices=new Float32Array(g*this.elementsPerVertex),this.indices=new Uint16Array(m),this.context.addRestorable(this)}return l.prototype.getAttributes=function(){return this.attributes},l.prototype.maxVertices=function(){return this.vertices.length/this.elementsPerVertex},l.prototype.numVertices=function(){return this.verticesLength/this.elementsPerVertex},l.prototype.setVerticesLength=function(c){this.dirtyVertices=!0,this.verticesLength=c},l.prototype.getVertices=function(){return this.vertices},l.prototype.maxIndices=function(){return this.indices.length},l.prototype.numIndices=function(){return this.indicesLength},l.prototype.setIndicesLength=function(c){this.dirtyIndices=!0,this.indicesLength=c},l.prototype.getIndices=function(){return this.indices},l.prototype.getVertexSizeInFloats=function(){for(var c=0,p=0;p<this.attributes.length;p++){var g=this.attributes[p];c+=g.numElements}return c},l.prototype.setVertices=function(c){if(this.dirtyVertices=!0,c.length>this.vertices.length)throw Error("Mesh can't store more than "+this.maxVertices()+" vertices");this.vertices.set(c,0),this.verticesLength=c.length},l.prototype.setIndices=function(c){if(this.dirtyIndices=!0,c.length>this.indices.length)throw Error("Mesh can't store more than "+this.maxIndices()+" indices");this.indices.set(c,0),this.indicesLength=c.length},l.prototype.draw=function(c,p){this.drawWithOffset(c,p,0,this.indicesLength>0?this.indicesLength:this.verticesLength/this.elementsPerVertex)},l.prototype.drawWithOffset=function(c,p,g,m){var T=this.context.gl;(this.dirtyVertices||this.dirtyIndices)&&this.update(),this.bind(c),this.indicesLength>0?T.drawElements(p,m,T.UNSIGNED_SHORT,g*2):T.drawArrays(p,g,m),this.unbind(c)},l.prototype.bind=function(c){var p=this.context.gl;p.bindBuffer(p.ARRAY_BUFFER,this.verticesBuffer);for(var g=0,m=0;m<this.attributes.length;m++){var T=this.attributes[m],S=c.getAttributeLocation(T.name);p.enableVertexAttribArray(S),p.vertexAttribPointer(S,T.numElements,p.FLOAT,!1,this.elementsPerVertex*4,g*4),g+=T.numElements}this.indicesLength>0&&p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,this.indicesBuffer)},l.prototype.unbind=function(c){for(var p=this.context.gl,g=0;g<this.attributes.length;g++){var m=this.attributes[g],T=c.getAttributeLocation(m.name);p.disableVertexAttribArray(T)}p.bindBuffer(p.ARRAY_BUFFER,null),this.indicesLength>0&&p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,null)},l.prototype.update=function(){var c=this.context.gl;this.dirtyVertices&&(this.verticesBuffer||(this.verticesBuffer=c.createBuffer()),c.bindBuffer(c.ARRAY_BUFFER,this.verticesBuffer),c.bufferData(c.ARRAY_BUFFER,this.vertices.subarray(0,this.verticesLength),c.DYNAMIC_DRAW),this.dirtyVertices=!1),this.dirtyIndices&&(this.indicesBuffer||(this.indicesBuffer=c.createBuffer()),c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),c.bufferData(c.ELEMENT_ARRAY_BUFFER,this.indices.subarray(0,this.indicesLength),c.DYNAMIC_DRAW),this.dirtyIndices=!1)},l.prototype.restore=function(){this.verticesBuffer=null,this.indicesBuffer=null,this.update()},l.prototype.dispose=function(){this.context.removeRestorable(this);var c=this.context.gl;c.deleteBuffer(this.verticesBuffer),c.deleteBuffer(this.indicesBuffer)},l}();e.Mesh=f;var d=function(){function l(c,p,g){this.name=c,this.type=p,this.numElements=g}return l}();e.VertexAttribute=d;var s=function(l){M(c,l);function c(){return l.call(this,e.Shader.POSITION,v.Float,2)||this}return c}(d);e.Position2Attribute=s;var a=function(l){M(c,l);function c(){return l.call(this,e.Shader.POSITION,v.Float,3)||this}return c}(d);e.Position3Attribute=a;var r=function(l){M(c,l);function c(p){return p===void 0&&(p=0),l.call(this,e.Shader.TEXCOORDS+(p==0?"":p),v.Float,2)||this}return c}(d);e.TexCoordAttribute=r;var o=function(l){M(c,l);function c(){return l.call(this,e.Shader.COLOR,v.Float,4)||this}return c}(d);e.ColorAttribute=o;var u=function(l){M(c,l);function c(){return l.call(this,e.Shader.COLOR2,v.Float,4)||this}return c}(d);e.Color2Attribute=u;var v;(function(l){l[l.Float=0]="Float"})(v=e.VertexAttributeType||(e.VertexAttributeType={}))})(y.webgl||(y.webgl={}))})(h||(h={}));var h;(function(y){(function(e){var f=function(){function d(s,a,r){if(a===void 0&&(a=!0),r===void 0&&(r=10920),this.isDrawing=!1,this.shader=null,this.lastTexture=null,this.verticesLength=0,this.indicesLength=0,r>10920)throw new Error("Can't have more than 10920 triangles per batch: "+r);this.context=s instanceof e.ManagedWebGLRenderingContext?s:new e.ManagedWebGLRenderingContext(s);var o=a?[new e.Position2Attribute,new e.ColorAttribute,new e.TexCoordAttribute,new e.Color2Attribute]:[new e.Position2Attribute,new e.ColorAttribute,new e.TexCoordAttribute];this.mesh=new e.Mesh(s,o,r,r*3),this.srcBlend=this.context.gl.SRC_ALPHA,this.dstBlend=this.context.gl.ONE_MINUS_SRC_ALPHA}return d.prototype.begin=function(s){var a=this.context.gl;if(this.isDrawing)throw new Error("PolygonBatch is already drawing. Call PolygonBatch.end() before calling PolygonBatch.begin()");this.drawCalls=0,this.shader=s,this.lastTexture=null,this.isDrawing=!0,a.enable(a.BLEND),a.blendFunc(this.srcBlend,this.dstBlend)},d.prototype.setBlendMode=function(s,a){var r=this.context.gl;this.srcBlend=s,this.dstBlend=a,this.isDrawing&&(this.flush(),r.blendFunc(this.srcBlend,this.dstBlend))},d.prototype.draw=function(s,a,r){s!=this.lastTexture?(this.flush(),this.lastTexture=s):(this.verticesLength+a.length>this.mesh.getVertices().length||this.indicesLength+r.length>this.mesh.getIndices().length)&&this.flush();var o=this.mesh.numVertices();this.mesh.getVertices().set(a,this.verticesLength),this.verticesLength+=a.length,this.mesh.setVerticesLength(this.verticesLength);for(var u=this.mesh.getIndices(),v=this.indicesLength,l=0;l<r.length;v++,l++)u[v]=r[l]+o;this.indicesLength+=r.length,this.mesh.setIndicesLength(this.indicesLength)},d.prototype.flush=function(){var s=this.context.gl;this.verticesLength!=0&&(this.lastTexture.bind(),this.mesh.draw(this.shader,s.TRIANGLES),this.verticesLength=0,this.indicesLength=0,this.mesh.setVerticesLength(0),this.mesh.setIndicesLength(0),this.drawCalls++)},d.prototype.end=function(){var s=this.context.gl;if(!this.isDrawing)throw new Error("PolygonBatch is not drawing. Call PolygonBatch.begin() before calling PolygonBatch.end()");(this.verticesLength>0||this.indicesLength>0)&&this.flush(),this.shader=null,this.lastTexture=null,this.isDrawing=!1,s.disable(s.BLEND)},d.prototype.getDrawCalls=function(){return this.drawCalls},d.prototype.dispose=function(){this.mesh.dispose()},d}();e.PolygonBatcher=f})(y.webgl||(y.webgl={}))})(h||(h={}));var h;(function(y){(function(e){var f=function(){function s(a,r,o){o===void 0&&(o=!0),this.twoColorTint=!1,this.activeRenderer=null,this.QUAD=[0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0],this.QUAD_TRIANGLES=[0,1,2,2,3,0],this.WHITE=new y.Color(1,1,1,1),this.canvas=a,this.context=r instanceof e.ManagedWebGLRenderingContext?r:new e.ManagedWebGLRenderingContext(r),this.twoColorTint=o,this.camera=new e.OrthoCamera(a.width,a.height),this.batcherShader=o?e.Shader.newTwoColoredTextured(this.context):e.Shader.newColoredTextured(this.context),this.batcher=new e.PolygonBatcher(this.context,o),this.shapesShader=e.Shader.newColored(this.context),this.shapes=new e.ShapeRenderer(this.context),this.skeletonRenderer=new e.SkeletonRenderer(this.context,o),this.skeletonDebugRenderer=new e.SkeletonDebugRenderer(this.context)}return s.prototype.begin=function(){this.camera.update(),this.enableRenderer(this.batcher)},s.prototype.drawSkeleton=function(a,r,o,u){r===void 0&&(r=!1),o===void 0&&(o=-1),u===void 0&&(u=-1),this.enableRenderer(this.batcher),this.skeletonRenderer.premultipliedAlpha=r,this.skeletonRenderer.draw(this.batcher,a,o,u)},s.prototype.drawSkeletonDebug=function(a,r,o){r===void 0&&(r=!1),o===void 0&&(o=null),this.enableRenderer(this.shapes),this.skeletonDebugRenderer.premultipliedAlpha=r,this.skeletonDebugRenderer.draw(this.shapes,a,o)},s.prototype.drawTexture=function(a,r,o,u,v,l){l===void 0&&(l=null),this.enableRenderer(this.batcher),l===null&&(l=this.WHITE);var c=this.QUAD,p=0;c[p++]=r,c[p++]=o,c[p++]=l.r,c[p++]=l.g,c[p++]=l.b,c[p++]=l.a,c[p++]=0,c[p++]=1,this.twoColorTint&&(c[p++]=0,c[p++]=0,c[p++]=0,c[p++]=0),c[p++]=r+u,c[p++]=o,c[p++]=l.r,c[p++]=l.g,c[p++]=l.b,c[p++]=l.a,c[p++]=1,c[p++]=1,this.twoColorTint&&(c[p++]=0,c[p++]=0,c[p++]=0,c[p++]=0),c[p++]=r+u,c[p++]=o+v,c[p++]=l.r,c[p++]=l.g,c[p++]=l.b,c[p++]=l.a,c[p++]=1,c[p++]=0,this.twoColorTint&&(c[p++]=0,c[p++]=0,c[p++]=0,c[p++]=0),c[p++]=r,c[p++]=o+v,c[p++]=l.r,c[p++]=l.g,c[p++]=l.b,c[p++]=l.a,c[p++]=0,c[p++]=0,this.twoColorTint&&(c[p++]=0,c[p++]=0,c[p++]=0,c[p++]=0),this.batcher.draw(a,c,this.QUAD_TRIANGLES)},s.prototype.drawTextureUV=function(a,r,o,u,v,l,c,p,g,m){m===void 0&&(m=null),this.enableRenderer(this.batcher),m===null&&(m=this.WHITE);var T=this.QUAD,S=0;T[S++]=r,T[S++]=o,T[S++]=m.r,T[S++]=m.g,T[S++]=m.b,T[S++]=m.a,T[S++]=l,T[S++]=c,this.twoColorTint&&(T[S++]=0,T[S++]=0,T[S++]=0,T[S++]=0),T[S++]=r+u,T[S++]=o,T[S++]=m.r,T[S++]=m.g,T[S++]=m.b,T[S++]=m.a,T[S++]=p,T[S++]=c,this.twoColorTint&&(T[S++]=0,T[S++]=0,T[S++]=0,T[S++]=0),T[S++]=r+u,T[S++]=o+v,T[S++]=m.r,T[S++]=m.g,T[S++]=m.b,T[S++]=m.a,T[S++]=p,T[S++]=g,this.twoColorTint&&(T[S++]=0,T[S++]=0,T[S++]=0,T[S++]=0),T[S++]=r,T[S++]=o+v,T[S++]=m.r,T[S++]=m.g,T[S++]=m.b,T[S++]=m.a,T[S++]=l,T[S++]=g,this.twoColorTint&&(T[S++]=0,T[S++]=0,T[S++]=0,T[S++]=0),this.batcher.draw(a,T,this.QUAD_TRIANGLES)},s.prototype.drawTextureRotated=function(a,r,o,u,v,l,c,p,g,m){g===void 0&&(g=null),this.enableRenderer(this.batcher),g===null&&(g=this.WHITE);var T=this.QUAD,S=r+l,P=o+c,E=-l,R=-c,A=u-l,w=v-c,O=E,L=R,F=E,I=w,B=A,G=w,N=A,U=R,Y=0,X=0,b=0,z=0,D=0,V=0,k=0,W=0;if(p!=0){var H=y.MathUtils.cosDeg(p),$=y.MathUtils.sinDeg(p);Y=H*O-$*L,X=$*O+H*L,k=H*F-$*I,W=$*F+H*I,D=H*B-$*G,V=$*B+H*G,b=D+(Y-k),z=V+(X-W)}else Y=O,X=L,k=F,W=I,D=B,V=G,b=N,z=U;Y+=S,X+=P,b+=S,z+=P,D+=S,V+=P,k+=S,W+=P;var K=0;T[K++]=Y,T[K++]=X,T[K++]=g.r,T[K++]=g.g,T[K++]=g.b,T[K++]=g.a,T[K++]=0,T[K++]=1,this.twoColorTint&&(T[K++]=0,T[K++]=0,T[K++]=0,T[K++]=0),T[K++]=b,T[K++]=z,T[K++]=g.r,T[K++]=g.g,T[K++]=g.b,T[K++]=g.a,T[K++]=1,T[K++]=1,this.twoColorTint&&(T[K++]=0,T[K++]=0,T[K++]=0,T[K++]=0),T[K++]=D,T[K++]=V,T[K++]=g.r,T[K++]=g.g,T[K++]=g.b,T[K++]=g.a,T[K++]=1,T[K++]=0,this.twoColorTint&&(T[K++]=0,T[K++]=0,T[K++]=0,T[K++]=0),T[K++]=k,T[K++]=W,T[K++]=g.r,T[K++]=g.g,T[K++]=g.b,T[K++]=g.a,T[K++]=0,T[K++]=0,this.twoColorTint&&(T[K++]=0,T[K++]=0,T[K++]=0,T[K++]=0),this.batcher.draw(a,T,this.QUAD_TRIANGLES)},s.prototype.drawRegion=function(a,r,o,u,v,l,c){l===void 0&&(l=null),this.enableRenderer(this.batcher),l===null&&(l=this.WHITE);var p=this.QUAD,g=0;p[g++]=r,p[g++]=o,p[g++]=l.r,p[g++]=l.g,p[g++]=l.b,p[g++]=l.a,p[g++]=a.u,p[g++]=a.v2,this.twoColorTint&&(p[g++]=0,p[g++]=0,p[g++]=0,p[g++]=0),p[g++]=r+u,p[g++]=o,p[g++]=l.r,p[g++]=l.g,p[g++]=l.b,p[g++]=l.a,p[g++]=a.u2,p[g++]=a.v2,this.twoColorTint&&(p[g++]=0,p[g++]=0,p[g++]=0,p[g++]=0),p[g++]=r+u,p[g++]=o+v,p[g++]=l.r,p[g++]=l.g,p[g++]=l.b,p[g++]=l.a,p[g++]=a.u2,p[g++]=a.v,this.twoColorTint&&(p[g++]=0,p[g++]=0,p[g++]=0,p[g++]=0),p[g++]=r,p[g++]=o+v,p[g++]=l.r,p[g++]=l.g,p[g++]=l.b,p[g++]=l.a,p[g++]=a.u,p[g++]=a.v,this.twoColorTint&&(p[g++]=0,p[g++]=0,p[g++]=0,p[g++]=0),this.batcher.draw(a.texture,p,this.QUAD_TRIANGLES)},s.prototype.line=function(a,r,o,u,v,l){v===void 0&&(v=null),this.enableRenderer(this.shapes),this.shapes.line(a,r,o,u,v)},s.prototype.triangle=function(a,r,o,u,v,l,c,p,g,m){p===void 0&&(p=null),g===void 0&&(g=null),m===void 0&&(m=null),this.enableRenderer(this.shapes),this.shapes.triangle(a,r,o,u,v,l,c,p,g,m)},s.prototype.quad=function(a,r,o,u,v,l,c,p,g,m,T,S,P){m===void 0&&(m=null),T===void 0&&(T=null),S===void 0&&(S=null),P===void 0&&(P=null),this.enableRenderer(this.shapes),this.shapes.quad(a,r,o,u,v,l,c,p,g,m,T,S,P)},s.prototype.rect=function(a,r,o,u,v,l){l===void 0&&(l=null),this.enableRenderer(this.shapes),this.shapes.rect(a,r,o,u,v,l)},s.prototype.rectLine=function(a,r,o,u,v,l,c){c===void 0&&(c=null),this.enableRenderer(this.shapes),this.shapes.rectLine(a,r,o,u,v,l,c)},s.prototype.polygon=function(a,r,o,u){u===void 0&&(u=null),this.enableRenderer(this.shapes),this.shapes.polygon(a,r,o,u)},s.prototype.circle=function(a,r,o,u,v,l){v===void 0&&(v=null),l===void 0&&(l=0),this.enableRenderer(this.shapes),this.shapes.circle(a,r,o,u,v,l)},s.prototype.curve=function(a,r,o,u,v,l,c,p,g,m){m===void 0&&(m=null),this.enableRenderer(this.shapes),this.shapes.curve(a,r,o,u,v,l,c,p,g,m)},s.prototype.end=function(){this.activeRenderer===this.batcher?this.batcher.end():this.activeRenderer===this.shapes&&this.shapes.end(),this.activeRenderer=null},s.prototype.resize=function(a){var r=this.canvas,o=r.clientWidth,u=r.clientHeight;if((r.width!=o||r.height!=u)&&(r.width=o,r.height=u),this.context.gl.viewport(0,0,r.width,r.height),a!==d.Stretch){if(a===d.Expand)this.camera.setViewport(o,u);else if(a===d.Fit){var v=r.width,l=r.height,c=this.camera.viewportWidth,p=this.camera.viewportHeight,g=p/c,m=l/v,T=g<m?c/v:p/l;this.camera.viewportWidth=v*T,this.camera.viewportHeight=l*T}}this.camera.update()},s.prototype.enableRenderer=function(a){this.activeRenderer!==a&&(this.end(),a instanceof e.PolygonBatcher?(this.batcherShader.bind(),this.batcherShader.setUniform4x4f(e.Shader.MVP_MATRIX,this.camera.projectionView.values),this.batcherShader.setUniformi("u_texture",0),this.batcher.begin(this.batcherShader),this.activeRenderer=this.batcher):a instanceof e.ShapeRenderer?(this.shapesShader.bind(),this.shapesShader.setUniform4x4f(e.Shader.MVP_MATRIX,this.camera.projectionView.values),this.shapes.begin(this.shapesShader),this.activeRenderer=this.shapes):this.activeRenderer=this.skeletonDebugRenderer)},s.prototype.dispose=function(){this.batcher.dispose(),this.batcherShader.dispose(),this.shapes.dispose(),this.shapesShader.dispose(),this.skeletonDebugRenderer.dispose()},s}();e.SceneRenderer=f;var d;(function(s){s[s.Stretch=0]="Stretch",s[s.Expand=1]="Expand",s[s.Fit=2]="Fit"})(d=e.ResizeMode||(e.ResizeMode={}))})(y.webgl||(y.webgl={}))})(h||(h={}));var h;(function(y){(function(e){var f=function(){function d(s,a,r){this.vertexShader=a,this.fragmentShader=r,this.vs=null,this.fs=null,this.program=null,this.tmp2x2=new Float32Array(4),this.tmp3x3=new Float32Array(9),this.tmp4x4=new Float32Array(16),this.vsSource=a,this.fsSource=r,this.context=s instanceof e.ManagedWebGLRenderingContext?s:new e.ManagedWebGLRenderingContext(s),this.context.addRestorable(this),this.compile()}return d.prototype.getProgram=function(){return this.program},d.prototype.getVertexShader=function(){return this.vertexShader},d.prototype.getFragmentShader=function(){return this.fragmentShader},d.prototype.getVertexShaderSource=function(){return this.vsSource},d.prototype.getFragmentSource=function(){return this.fsSource},d.prototype.compile=function(){var s=this.context.gl;try{this.vs=this.compileShader(s.VERTEX_SHADER,this.vertexShader),this.fs=this.compileShader(s.FRAGMENT_SHADER,this.fragmentShader),this.program=this.compileProgram(this.vs,this.fs)}catch(a){throw this.dispose(),a}},d.prototype.compileShader=function(s,a){var r=this.context.gl,o=r.createShader(s);if(r.shaderSource(o,a),r.compileShader(o),!r.getShaderParameter(o,r.COMPILE_STATUS)){var u="Couldn't compile shader: "+r.getShaderInfoLog(o);if(r.deleteShader(o),!r.isContextLost())throw new Error(u)}return o},d.prototype.compileProgram=function(s,a){var r=this.context.gl,o=r.createProgram();if(r.attachShader(o,s),r.attachShader(o,a),r.linkProgram(o),!r.getProgramParameter(o,r.LINK_STATUS)){var u="Couldn't compile shader program: "+r.getProgramInfoLog(o);if(r.deleteProgram(o),!r.isContextLost())throw new Error(u)}return o},d.prototype.restore=function(){this.compile()},d.prototype.bind=function(){this.context.gl.useProgram(this.program)},d.prototype.unbind=function(){this.context.gl.useProgram(null)},d.prototype.setUniformi=function(s,a){this.context.gl.uniform1i(this.getUniformLocation(s),a)},d.prototype.setUniformf=function(s,a){this.context.gl.uniform1f(this.getUniformLocation(s),a)},d.prototype.setUniform2f=function(s,a,r){this.context.gl.uniform2f(this.getUniformLocation(s),a,r)},d.prototype.setUniform3f=function(s,a,r,o){this.context.gl.uniform3f(this.getUniformLocation(s),a,r,o)},d.prototype.setUniform4f=function(s,a,r,o,u){this.context.gl.uniform4f(this.getUniformLocation(s),a,r,o,u)},d.prototype.setUniform2x2f=function(s,a){var r=this.context.gl;this.tmp2x2.set(a),r.uniformMatrix2fv(this.getUniformLocation(s),!1,this.tmp2x2)},d.prototype.setUniform3x3f=function(s,a){var r=this.context.gl;this.tmp3x3.set(a),r.uniformMatrix3fv(this.getUniformLocation(s),!1,this.tmp3x3)},d.prototype.setUniform4x4f=function(s,a){var r=this.context.gl;this.tmp4x4.set(a),r.uniformMatrix4fv(this.getUniformLocation(s),!1,this.tmp4x4)},d.prototype.getUniformLocation=function(s){var a=this.context.gl,r=a.getUniformLocation(this.program,s);if(!r&&!a.isContextLost())throw new Error("Couldn't find location for uniform ".concat(s));return r},d.prototype.getAttributeLocation=function(s){var a=this.context.gl,r=a.getAttribLocation(this.program,s);if(r==-1&&!a.isContextLost())throw new Error("Couldn't find location for attribute ".concat(s));return r},d.prototype.dispose=function(){this.context.removeRestorable(this);var s=this.context.gl;this.vs&&(s.deleteShader(this.vs),this.vs=null),this.fs&&(s.deleteShader(this.fs),this.fs=null),this.program&&(s.deleteProgram(this.program),this.program=null)},d.newColoredTextured=function(s){var a=`
				attribute vec4 `.concat(d.POSITION,`;
				attribute vec4 `).concat(d.COLOR,`;
				attribute vec2 `).concat(d.TEXCOORDS,`;
				uniform mat4 `).concat(d.MVP_MATRIX,`;
				varying vec4 v_color;
				varying vec2 v_texCoords;

				void main () {
					v_color = `).concat(d.COLOR,`;
					v_texCoords = `).concat(d.TEXCOORDS,`;
					gl_Position = `).concat(d.MVP_MATRIX," * ").concat(d.POSITION,`;
				}
			`),r=`
				#ifdef GL_ES
					#define LOWP lowp
					precision mediump float;
				#else
					#define LOWP
				#endif
				varying LOWP vec4 v_color;
				varying vec2 v_texCoords;
				uniform sampler2D u_texture;

				void main () {
					gl_FragColor = v_color * texture2D(u_texture, v_texCoords);
				}
			`;return new d(s,a,r)},d.newTwoColoredTextured=function(s){var a=`
				attribute vec4 `.concat(d.POSITION,`;
				attribute vec4 `).concat(d.COLOR,`;
				attribute vec4 `).concat(d.COLOR2,`;
				attribute vec2 `).concat(d.TEXCOORDS,`;
				uniform mat4 `).concat(d.MVP_MATRIX,`;
				varying vec4 v_light;
				varying vec4 v_dark;
				varying vec2 v_texCoords;

				void main () {
					v_light = `).concat(d.COLOR,`;
					v_dark = `).concat(d.COLOR2,`;
					v_texCoords = `).concat(d.TEXCOORDS,`;
					gl_Position = `).concat(d.MVP_MATRIX," * ").concat(d.POSITION,`;
				}
			`),r=`
				#ifdef GL_ES
					#define LOWP lowp
					precision mediump float;
				#else
					#define LOWP
				#endif
				varying LOWP vec4 v_light;
				varying LOWP vec4 v_dark;
				varying vec2 v_texCoords;
				uniform sampler2D u_texture;

				void main () {
					vec4 texColor = texture2D(u_texture, v_texCoords);
					gl_FragColor.a = texColor.a * v_light.a;
					gl_FragColor.rgb = ((texColor.a - 1.0) * v_dark.a + 1.0 - texColor.rgb) * v_dark.rgb + texColor.rgb * v_light.rgb;
				}
			`;return new d(s,a,r)},d.newColored=function(s){var a=`
				attribute vec4 `.concat(d.POSITION,`;
				attribute vec4 `).concat(d.COLOR,`;
				uniform mat4 `).concat(d.MVP_MATRIX,`;
				varying vec4 v_color;

				void main () {
					v_color = `).concat(d.COLOR,`;
					gl_Position = `).concat(d.MVP_MATRIX," * ").concat(d.POSITION,`;
				}
			`),r=`
				#ifdef GL_ES
					#define LOWP lowp
					precision mediump float;
				#else
					#define LOWP
				#endif
				varying LOWP vec4 v_color;

				void main () {
					gl_FragColor = v_color;
				}
			`;return new d(s,a,r)},d.MVP_MATRIX="u_projTrans",d.POSITION="a_position",d.COLOR="a_color",d.COLOR2="a_color2",d.TEXCOORDS="a_texCoords",d.SAMPLER="u_texture",d}();e.Shader=f})(y.webgl||(y.webgl={}))})(h||(h={}));var h;(function(y){(function(e){var f=function(){function s(a,r){if(r===void 0&&(r=10920),this.isDrawing=!1,this.shapeType=d.Filled,this.color=new y.Color(1,1,1,1),this.vertexIndex=0,this.tmp=new y.Vector2,r>10920)throw new Error("Can't have more than 10920 triangles per batch: "+r);this.context=a instanceof e.ManagedWebGLRenderingContext?a:new e.ManagedWebGLRenderingContext(a),this.mesh=new e.Mesh(a,[new e.Position2Attribute,new e.ColorAttribute],r,0),this.srcBlend=this.context.gl.SRC_ALPHA,this.dstBlend=this.context.gl.ONE_MINUS_SRC_ALPHA}return s.prototype.begin=function(a){if(this.isDrawing)throw new Error("ShapeRenderer.begin() has already been called");this.shader=a,this.vertexIndex=0,this.isDrawing=!0;var r=this.context.gl;r.enable(r.BLEND),r.blendFunc(this.srcBlend,this.dstBlend)},s.prototype.setBlendMode=function(a,r){var o=this.context.gl;this.srcBlend=a,this.dstBlend=r,this.isDrawing&&(this.flush(),o.blendFunc(this.srcBlend,this.dstBlend))},s.prototype.setColor=function(a){this.color.setFromColor(a)},s.prototype.setColorWith=function(a,r,o,u){this.color.set(a,r,o,u)},s.prototype.point=function(a,r,o){o===void 0&&(o=null),this.check(d.Point,1),o===null&&(o=this.color),this.vertex(a,r,o)},s.prototype.line=function(a,r,o,u,v){v===void 0&&(v=null),this.check(d.Line,2),this.mesh.getVertices(),this.vertexIndex,v===null&&(v=this.color),this.vertex(a,r,v),this.vertex(o,u,v)},s.prototype.triangle=function(a,r,o,u,v,l,c,p,g,m){p===void 0&&(p=null),g===void 0&&(g=null),m===void 0&&(m=null),this.check(a?d.Filled:d.Line,3),this.mesh.getVertices(),this.vertexIndex,p===null&&(p=this.color),g===null&&(g=this.color),m===null&&(m=this.color),a?(this.vertex(r,o,p),this.vertex(u,v,g),this.vertex(l,c,m)):(this.vertex(r,o,p),this.vertex(u,v,g),this.vertex(u,v,p),this.vertex(l,c,g),this.vertex(l,c,p),this.vertex(r,o,g))},s.prototype.quad=function(a,r,o,u,v,l,c,p,g,m,T,S,P){m===void 0&&(m=null),T===void 0&&(T=null),S===void 0&&(S=null),P===void 0&&(P=null),this.check(a?d.Filled:d.Line,3),this.mesh.getVertices(),this.vertexIndex,m===null&&(m=this.color),T===null&&(T=this.color),S===null&&(S=this.color),P===null&&(P=this.color),a?(this.vertex(r,o,m),this.vertex(u,v,T),this.vertex(l,c,S),this.vertex(l,c,S),this.vertex(p,g,P),this.vertex(r,o,m)):(this.vertex(r,o,m),this.vertex(u,v,T),this.vertex(u,v,T),this.vertex(l,c,S),this.vertex(l,c,S),this.vertex(p,g,P),this.vertex(p,g,P),this.vertex(r,o,m))},s.prototype.rect=function(a,r,o,u,v,l){l===void 0&&(l=null),this.quad(a,r,o,r+u,o,r+u,o+v,r,o+v,l,l,l,l)},s.prototype.rectLine=function(a,r,o,u,v,l,c){c===void 0&&(c=null),this.check(a?d.Filled:d.Line,8),c===null&&(c=this.color);var p=this.tmp.set(v-o,r-u);p.normalize(),l*=.5;var g=p.x*l,m=p.y*l;a?(this.vertex(r+g,o+m,c),this.vertex(r-g,o-m,c),this.vertex(u+g,v+m,c),this.vertex(u-g,v-m,c),this.vertex(u+g,v+m,c),this.vertex(r-g,o-m,c)):(this.vertex(r+g,o+m,c),this.vertex(r-g,o-m,c),this.vertex(u+g,v+m,c),this.vertex(u-g,v-m,c),this.vertex(u+g,v+m,c),this.vertex(r+g,o+m,c),this.vertex(u-g,v-m,c),this.vertex(r-g,o-m,c))},s.prototype.x=function(a,r,o){this.line(a-o,r-o,a+o,r+o),this.line(a-o,r+o,a+o,r-o)},s.prototype.polygon=function(a,r,o,u){if(u===void 0&&(u=null),o<3)throw new Error("Polygon must contain at least 3 vertices");this.check(d.Line,o*2),u===null&&(u=this.color),this.mesh.getVertices(),this.vertexIndex,r<<=1,o<<=1;for(var v=a[r],l=a[r+1],c=r+o,p=r,g=r+o-2;p<g;p+=2){var m=a[p],T=a[p+1],S=0,P=0;p+2>=c?(S=v,P=l):(S=a[p+2],P=a[p+3]),this.vertex(m,T,u),this.vertex(S,P,u)}},s.prototype.circle=function(a,r,o,u,v,l){if(v===void 0&&(v=null),l===void 0&&(l=0),l===0&&(l=Math.max(1,6*y.MathUtils.cbrt(u)|0)),l<=0)throw new Error("segments must be > 0.");v===null&&(v=this.color);var c=2*y.MathUtils.PI/l,p=Math.cos(c),g=Math.sin(c),m=u,T=0;if(a){this.check(d.Filled,l*3+3),l--;for(var S=0;S<l;S++){this.vertex(r,o,v),this.vertex(r+m,o+T,v);var E=m;m=p*m-g*T,T=g*E+p*T,this.vertex(r+m,o+T,v)}this.vertex(r,o,v),this.vertex(r+m,o+T,v)}else{this.check(d.Line,l*2+2);for(var S=0;S<l;S++){this.vertex(r+m,o+T,v);var P=m;m=p*m-g*T,T=g*P+p*T,this.vertex(r+m,o+T,v)}this.vertex(r+m,o+T,v)}m=u,T=0,this.vertex(r+m,o+T,v)},s.prototype.curve=function(a,r,o,u,v,l,c,p,g,m){m===void 0&&(m=null),this.check(d.Line,g*2+2),m===null&&(m=this.color);for(var T=1/g,S=T*T,P=T*T*T,E=3*T,R=3*S,A=6*S,w=6*P,O=a-o*2+v,L=r-u*2+l,F=(o-v)*3-a+c,I=(u-l)*3-r+p,B=a,G=r,N=(o-a)*E+O*R+F*P,U=(u-r)*E+L*R+I*P,Y=O*A+F*w,X=L*A+I*w,b=F*w,z=I*w;g-- >0;)this.vertex(B,G,m),B+=N,G+=U,N+=Y,U+=X,Y+=b,X+=z,this.vertex(B,G,m);this.vertex(B,G,m),this.vertex(c,p,m)},s.prototype.vertex=function(a,r,o){var u=this.vertexIndex,v=this.mesh.getVertices();v[u++]=a,v[u++]=r,v[u++]=o.r,v[u++]=o.g,v[u++]=o.b,v[u++]=o.a,this.vertexIndex=u},s.prototype.end=function(){if(!this.isDrawing)throw new Error("ShapeRenderer.begin() has not been called");this.flush(),this.context.gl.disable(this.context.gl.BLEND),this.isDrawing=!1},s.prototype.flush=function(){this.vertexIndex!=0&&(this.mesh.setVerticesLength(this.vertexIndex),this.mesh.draw(this.shader,this.shapeType),this.vertexIndex=0)},s.prototype.check=function(a,r){if(!this.isDrawing)throw new Error("ShapeRenderer.begin() has not been called");if(this.shapeType==a)if(this.mesh.maxVertices()-this.mesh.numVertices()<r)this.flush();else return;else this.flush(),this.shapeType=a},s.prototype.dispose=function(){this.mesh.dispose()},s}();e.ShapeRenderer=f;var d;(function(s){s[s.Point=0]="Point",s[s.Line=1]="Line",s[s.Filled=4]="Filled"})(d=e.ShapeType||(e.ShapeType={}))})(y.webgl||(y.webgl={}))})(h||(h={}));var h;(function(y){(function(e){var f=function(){function d(s){this.boneLineColor=new y.Color(1,0,0,1),this.boneOriginColor=new y.Color(0,1,0,1),this.attachmentLineColor=new y.Color(0,0,1,.5),this.triangleLineColor=new y.Color(1,.64,0,.5),this.pathColor=new y.Color().setFromString("FF7F00"),this.clipColor=new y.Color(.8,0,0,2),this.aabbColor=new y.Color(0,1,0,.5),this.drawBones=!0,this.drawRegionAttachments=!0,this.drawBoundingBoxes=!0,this.drawMeshHull=!0,this.drawMeshTriangles=!0,this.drawPaths=!0,this.drawSkeletonXY=!1,this.drawClipping=!0,this.premultipliedAlpha=!1,this.scale=1,this.boneWidth=2,this.bounds=new y.SkeletonBounds,this.temp=new Array,this.vertices=y.Utils.newFloatArray(2048),this.context=s instanceof e.ManagedWebGLRenderingContext?s:new e.ManagedWebGLRenderingContext(s)}return d.prototype.draw=function(s,a,r){r===void 0&&(r=null);var o=a.x,u=a.y,v=this.context.gl,l=this.premultipliedAlpha?v.ONE:v.SRC_ALPHA;s.setBlendMode(l,v.ONE_MINUS_SRC_ALPHA);var c=a.bones;if(this.drawBones){s.setColor(this.boneLineColor);for(var p=0,g=c.length;p<g;p++){var m=c[p];if(!(r&&r.indexOf(m.data.name)>-1)&&m.parent!=null){var T=o+m.data.length*m.a+m.worldX,S=u+m.data.length*m.c+m.worldY;s.rectLine(!0,o+m.worldX,u+m.worldY,T,S,this.boneWidth*this.scale)}}this.drawSkeletonXY&&s.x(o,u,4*this.scale)}if(this.drawRegionAttachments){s.setColor(this.attachmentLineColor);for(var P=a.slots,p=0,g=P.length;p<g;p++){var E=P[p],R=E.getAttachment();if(R instanceof y.RegionAttachment){var A=R,w=this.vertices;A.computeWorldVertices(E.bone,w,0,2),s.line(w[0],w[1],w[2],w[3]),s.line(w[2],w[3],w[4],w[5]),s.line(w[4],w[5],w[6],w[7]),s.line(w[6],w[7],w[0],w[1])}}}if(this.drawMeshHull||this.drawMeshTriangles)for(var P=a.slots,p=0,g=P.length;p<g;p++){var E=P[p];if(E.bone.active){var R=E.getAttachment();if(R instanceof y.MeshAttachment){var O=R,w=this.vertices;O.computeWorldVertices(E,0,O.worldVerticesLength,w,0,2);var L=O.triangles,F=O.hullLength;if(this.drawMeshTriangles){s.setColor(this.triangleLineColor);for(var I=0,B=L.length;I<B;I+=3){var G=L[I]*2,N=L[I+1]*2,U=L[I+2]*2;s.triangle(!1,w[G],w[G+1],w[N],w[N+1],w[U],w[U+1])}}if(this.drawMeshHull&&F>0){s.setColor(this.attachmentLineColor),F=(F>>1)*2;for(var Y=w[F-2],X=w[F-1],I=0,B=F;I<B;I+=2){var T=w[I],S=w[I+1];s.line(T,S,Y,X),Y=T,X=S}}}}}if(this.drawBoundingBoxes){var b=this.bounds;b.update(a,!0),s.setColor(this.aabbColor),s.rect(!1,b.minX,b.minY,b.getWidth(),b.getHeight());for(var z=b.polygons,D=b.boundingBoxes,p=0,g=z.length;p<g;p++){var V=z[p];s.setColor(D[p].color),s.polygon(V,0,V.length)}}if(this.drawPaths)for(var P=a.slots,p=0,g=P.length;p<g;p++){var E=P[p];if(E.bone.active){var R=E.getAttachment();if(R instanceof y.PathAttachment){var k=R,B=k.worldVerticesLength,W=this.temp=y.Utils.setArraySize(this.temp,B,0);k.computeWorldVertices(E,0,B,W,0,2);var H=this.pathColor,$=W[2],K=W[3],Z=0,j=0;if(k.closed){s.setColor(H);var J=W[0],Q=W[1],q=W[B-2],_=W[B-1];Z=W[B-4],j=W[B-3],s.curve($,K,J,Q,q,_,Z,j,32),s.setColor(d.LIGHT_GRAY),s.line($,K,J,Q),s.line(Z,j,q,_)}B-=4;for(var I=4;I<B;I+=6){var J=W[I],Q=W[I+1],q=W[I+2],_=W[I+3];Z=W[I+4],j=W[I+5],s.setColor(H),s.curve($,K,J,Q,q,_,Z,j,32),s.setColor(d.LIGHT_GRAY),s.line($,K,J,Q),s.line(Z,j,q,_),$=Z,K=j}}}}if(this.drawBones){s.setColor(this.boneOriginColor);for(var p=0,g=c.length;p<g;p++){var m=c[p];r&&r.indexOf(m.data.name)>-1||s.circle(!0,o+m.worldX,u+m.worldY,3*this.scale,d.GREEN,8)}}if(this.drawClipping){var P=a.slots;s.setColor(this.clipColor);for(var p=0,g=P.length;p<g;p++){var E=P[p];if(E.bone.active){var R=E.getAttachment();if(R instanceof y.ClippingAttachment){var tt=R,B=tt.worldVerticesLength,W=this.temp=y.Utils.setArraySize(this.temp,B,0);tt.computeWorldVertices(E,0,B,W,0,2);for(var st=0,it=W.length;st<it;st+=2){var T=W[st],S=W[st+1],Z=W[(st+2)%W.length],j=W[(st+3)%W.length];s.line(T,S,Z,j)}}}}}},d.prototype.dispose=function(){},d.LIGHT_GRAY=new y.Color(.7529411764705882,.7529411764705882,.7529411764705882,1),d.GREEN=new y.Color(0,1,0,1),d}();e.SkeletonDebugRenderer=f})(y.webgl||(y.webgl={}))})(h||(h={}));var h;(function(y){(function(e){var f=function(){function s(a,r,o){this.vertices=a,this.numVertices=r,this.numFloats=o}return s}(),d=function(){function s(a,r){r===void 0&&(r=!0),this.premultipliedAlpha=!1,this.vertexEffect=null,this.tempColor=new y.Color,this.tempColor2=new y.Color,this.vertexSize=2+2+4,this.twoColorTint=!1,this.renderable=new f(null,0,0),this.clipper=new y.SkeletonClipping,this.temp=new y.Vector2,this.temp2=new y.Vector2,this.temp3=new y.Color,this.temp4=new y.Color,this.twoColorTint=r,r&&(this.vertexSize+=4),this.vertices=y.Utils.newFloatArray(this.vertexSize*1024)}return s.prototype.draw=function(a,r,o,u){o===void 0&&(o=-1),u===void 0&&(u=-1);var v=this.clipper,l=this.premultipliedAlpha,c=this.twoColorTint,p=null,g=this.temp,m=this.temp2,T=this.temp3,S=this.temp4,P=this.renderable,E=null,R=null,A=r.drawOrder,w=null,O=r.color,L=c?12:8,F=!1;o==-1&&(F=!0);for(var I=0,B=A.length;I<B;I++){var G=v.isClipping()?2:L,N=A[I];if(!N.bone.active){v.clipEndWithSlot(N);continue}if(o>=0&&o==N.data.index&&(F=!0),!F){v.clipEndWithSlot(N);continue}u>=0&&u==N.data.index&&(F=!1);var U=N.getAttachment(),Y=null;if(U instanceof y.RegionAttachment){var X=U;P.vertices=this.vertices,P.numVertices=4,P.numFloats=G<<2,X.computeWorldVertices(N.bone,P.vertices,0,G),R=s.QUAD_TRIANGLES,E=X.uvs,Y=X.region.renderObject.texture,w=X.color}else if(U instanceof y.MeshAttachment){var b=U;P.vertices=this.vertices,P.numVertices=b.worldVerticesLength>>1,P.numFloats=P.numVertices*G,P.numFloats>P.vertices.length&&(P.vertices=this.vertices=y.Utils.newFloatArray(P.numFloats)),b.computeWorldVertices(N,0,b.worldVerticesLength,P.vertices,0,G),R=b.triangles,Y=b.region.renderObject.texture,E=b.uvs,w=b.color}else if(U instanceof y.ClippingAttachment){var z=U;v.clipStart(N,z);continue}else{v.clipEndWithSlot(N);continue}if(Y!=null){var D=N.color,V=this.tempColor;V.r=O.r*D.r*w.r,V.g=O.g*D.g*w.g,V.b=O.b*D.b*w.b,V.a=O.a*D.a*w.a,l&&(V.r*=V.a,V.g*=V.a,V.b*=V.a);var k=this.tempColor2;N.darkColor==null?k.set(0,0,0,1):(l?(k.r=N.darkColor.r*V.a,k.g=N.darkColor.g*V.a,k.b=N.darkColor.b*V.a):k.setFromColor(N.darkColor),k.a=l?1:0);var W=N.data.blendMode;if(W!=p&&(p=W,a.setBlendMode(e.WebGLBlendModeConverter.getSourceGLBlendMode(p,l),e.WebGLBlendModeConverter.getDestGLBlendMode(p))),v.isClipping()){v.clipTriangles(P.vertices,P.numFloats,R,R.length,E,V,k,c);var H=new Float32Array(v.clippedVertices),$=v.clippedTriangles;if(this.vertexEffect!=null){var K=this.vertexEffect,Z=H;if(c)for(var j=0,Q=H.length;j<Q;j+=L)g.x=Z[j],g.y=Z[j+1],T.set(Z[j+2],Z[j+3],Z[j+4],Z[j+5]),m.x=Z[j+6],m.y=Z[j+7],S.set(Z[j+8],Z[j+9],Z[j+10],Z[j+11]),K.transform(g,m,T,S),Z[j]=g.x,Z[j+1]=g.y,Z[j+2]=T.r,Z[j+3]=T.g,Z[j+4]=T.b,Z[j+5]=T.a,Z[j+6]=m.x,Z[j+7]=m.y,Z[j+8]=S.r,Z[j+9]=S.g,Z[j+10]=S.b,Z[j+11]=S.a;else for(var j=0,J=H.length;j<J;j+=L)g.x=Z[j],g.y=Z[j+1],T.set(Z[j+2],Z[j+3],Z[j+4],Z[j+5]),m.x=Z[j+6],m.y=Z[j+7],S.set(0,0,0,0),K.transform(g,m,T,S),Z[j]=g.x,Z[j+1]=g.y,Z[j+2]=T.r,Z[j+3]=T.g,Z[j+4]=T.b,Z[j+5]=T.a,Z[j+6]=m.x,Z[j+7]=m.y}a.draw(Y,H,$)}else{var Z=P.vertices;if(this.vertexEffect!=null){var K=this.vertexEffect;if(c)for(var j=0,q=0,tt=P.numFloats;j<tt;j+=L,q+=2)g.x=Z[j],g.y=Z[j+1],m.x=E[q],m.y=E[q+1],T.setFromColor(V),S.setFromColor(k),K.transform(g,m,T,S),Z[j]=g.x,Z[j+1]=g.y,Z[j+2]=T.r,Z[j+3]=T.g,Z[j+4]=T.b,Z[j+5]=T.a,Z[j+6]=m.x,Z[j+7]=m.y,Z[j+8]=S.r,Z[j+9]=S.g,Z[j+10]=S.b,Z[j+11]=S.a;else for(var j=0,q=0,_=P.numFloats;j<_;j+=L,q+=2)g.x=Z[j],g.y=Z[j+1],m.x=E[q],m.y=E[q+1],T.setFromColor(V),S.set(0,0,0,0),K.transform(g,m,T,S),Z[j]=g.x,Z[j+1]=g.y,Z[j+2]=T.r,Z[j+3]=T.g,Z[j+4]=T.b,Z[j+5]=T.a,Z[j+6]=m.x,Z[j+7]=m.y}else if(c)for(var j=2,q=0,it=P.numFloats;j<it;j+=L,q+=2)Z[j]=V.r,Z[j+1]=V.g,Z[j+2]=V.b,Z[j+3]=V.a,Z[j+4]=E[q],Z[j+5]=E[q+1],Z[j+6]=k.r,Z[j+7]=k.g,Z[j+8]=k.b,Z[j+9]=k.a;else for(var j=2,q=0,st=P.numFloats;j<st;j+=L,q+=2)Z[j]=V.r,Z[j+1]=V.g,Z[j+2]=V.b,Z[j+3]=V.a,Z[j+4]=E[q],Z[j+5]=E[q+1];var lt=P.vertices.subarray(0,P.numFloats);a.draw(Y,lt,R)}}v.clipEndWithSlot(N)}v.clipEnd()},s.QUAD_TRIANGLES=[0,1,2,2,3,0],s}();e.SkeletonRenderer=d})(y.webgl||(y.webgl={}))})(h||(h={}));var h;(function(y){(function(e){var f=function(){function d(s,a,r){s===void 0&&(s=0),a===void 0&&(a=0),r===void 0&&(r=0),this.x=0,this.y=0,this.z=0,this.x=s,this.y=a,this.z=r}return d.prototype.setFrom=function(s){return this.x=s.x,this.y=s.y,this.z=s.z,this},d.prototype.set=function(s,a,r){return this.x=s,this.y=a,this.z=r,this},d.prototype.add=function(s){return this.x+=s.x,this.y+=s.y,this.z+=s.z,this},d.prototype.sub=function(s){return this.x-=s.x,this.y-=s.y,this.z-=s.z,this},d.prototype.scale=function(s){return this.x*=s,this.y*=s,this.z*=s,this},d.prototype.normalize=function(){var s=this.length();return s==0?this:(s=1/s,this.x*=s,this.y*=s,this.z*=s,this)},d.prototype.cross=function(s){return this.set(this.y*s.z-this.z*s.y,this.z*s.x-this.x*s.z,this.x*s.y-this.y*s.x)},d.prototype.multiply=function(s){var a=s.values;return this.set(this.x*a[e.M00]+this.y*a[e.M01]+this.z*a[e.M02]+a[e.M03],this.x*a[e.M10]+this.y*a[e.M11]+this.z*a[e.M12]+a[e.M13],this.x*a[e.M20]+this.y*a[e.M21]+this.z*a[e.M22]+a[e.M23])},d.prototype.project=function(s){var a=s.values,r=1/(this.x*a[e.M30]+this.y*a[e.M31]+this.z*a[e.M32]+a[e.M33]);return this.set((this.x*a[e.M00]+this.y*a[e.M01]+this.z*a[e.M02]+a[e.M03])*r,(this.x*a[e.M10]+this.y*a[e.M11]+this.z*a[e.M12]+a[e.M13])*r,(this.x*a[e.M20]+this.y*a[e.M21]+this.z*a[e.M22]+a[e.M23])*r)},d.prototype.dot=function(s){return this.x*s.x+this.y*s.y+this.z*s.z},d.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},d.prototype.distance=function(s){var a=s.x-this.x,r=s.y-this.y,o=s.z-this.z;return Math.sqrt(a*a+r*r+o*o)},d}();e.Vector3=f})(y.webgl||(y.webgl={}))})(h||(h={}));var h;(function(y){(function(e){var f=function(){function s(a,r){r===void 0&&(r={alpha:"true"}),this.restorables=new Array,a instanceof WebGLRenderingContext||a instanceof WebGL2RenderingContext?(this.gl=a,this.canvas=this.gl.canvas):this.setupCanvas(a,r)}return s.prototype.setupCanvas=function(a,r){var o=this;this.gl=a.getContext("webgl2",r)||a.getContext("webgl",r),this.canvas=a,a.addEventListener("webglcontextlost",function(u){u&&u.preventDefault()}),a.addEventListener("webglcontextrestored",function(u){for(var v=0,l=o.restorables.length;v<l;v++)o.restorables[v].restore()})},s.prototype.addRestorable=function(a){this.restorables.push(a)},s.prototype.removeRestorable=function(a){var r=this.restorables.indexOf(a);r>-1&&this.restorables.splice(r,1)},s}();e.ManagedWebGLRenderingContext=f;var d=function(){function s(){}return s.getDestGLBlendMode=function(a){switch(a){case y.BlendMode.Normal:return s.ONE_MINUS_SRC_ALPHA;case y.BlendMode.Additive:return s.ONE;case y.BlendMode.Multiply:return s.ONE_MINUS_SRC_ALPHA;case y.BlendMode.Screen:return s.ONE_MINUS_SRC_ALPHA;default:throw new Error("Unknown blend mode: "+a)}},s.getSourceGLBlendMode=function(a,r){switch(r===void 0&&(r=!1),a){case y.BlendMode.Normal:return r?s.ONE:s.SRC_ALPHA;case y.BlendMode.Additive:return r?s.ONE:s.SRC_ALPHA;case y.BlendMode.Multiply:return s.DST_COLOR;case y.BlendMode.Screen:return s.ONE;default:throw new Error("Unknown blend mode: "+a)}},s.ZERO=0,s.ONE=1,s.SRC_COLOR=768,s.ONE_MINUS_SRC_COLOR=769,s.SRC_ALPHA=770,s.ONE_MINUS_SRC_ALPHA=771,s.DST_ALPHA=772,s.ONE_MINUS_DST_ALPHA=773,s.DST_COLOR=774,s}();e.WebGLBlendModeConverter=d})(y.webgl||(y.webgl={}))})(h||(h={})),C.exports=h}).call(window)},3524:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2022 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var y=h(7473),e=h(4597),f=h(6732),d=h(2482),s=h(704),a=h(3137),r=h(1192),o=new y({Extends:a,initialize:function(v,l,c,p,g,m,T){var S,P,E,R=[],A=v.cacheManager.custom.spine;if(d(l)){var w=l;for(l=e(w,"key"),P=new s(v,{key:l,url:e(w,"jsonURL"),extension:e(w,"jsonExtension","json"),xhrSettings:e(w,"jsonXhrSettings")}),p=e(w,"atlasURL"),g=e(w,"preMultipliedAlpha"),Array.isArray(p)||(p=[p]),S=0;S<p.length;S++)E=new r(v,{key:l+"!"+S,url:p[S],extension:e(w,"atlasExtension","atlas"),xhrSettings:e(w,"atlasXhrSettings")}),E.cache=A,R.push(E)}else for(P=new s(v,l,c,m),Array.isArray(p)||(p=[p]),S=0;S<p.length;S++)E=new r(v,l+"!"+S,p[S],T),E.cache=A,R.push(E);R.unshift(P),a.call(this,v,"spine",l,R),this.config.preMultipliedAlpha=g},onFileComplete:function(u){var v=this.files.indexOf(u);if(v!==-1&&(this.pending--,u.type==="text")){for(var l=u.data.split(`
`),c=[],p=0;p<l.length;p++){var g=l[p];g.trim()===""&&p<l.length-1&&(g=l[p+1],c.push(g))}var m=this.config,T=this.loader,S=T.baseURL,P=T.path,E=T.prefix,R=e(m,"baseURL",this.baseURL),A=e(m,"path",u.src.match(/^.*\//))[0],w=e(m,"prefix",this.prefix),O=e(m,"textureXhrSettings");T.setBaseURL(R),T.setPath(A),T.setPrefix(w);for(var L=0;L<c.length;L++){var F=c[L],I=this.key+":"+F,B=new f(T,I,F,O);T.keyExists(B)||(this.addToMultiFile(B),T.addFile(B))}T.setBaseURL(S),T.setPath(P),T.setPrefix(E)}},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0];u.addToCache();for(var v,l="",c="",p=!!this.config.preMultipliedAlpha,g=this.loader.textureManager,m=1;m<this.files.length;m++){var T=this.files[m];if(T.type==="text")l=T.key.replace(/![\d]$/,""),v=T.cache,c=c.concat(T.data);else{var S=T.key.trim(),P=S.indexOf("!"),E=S.substr(P+1);g.exists(E)||g.addImage(E,T.data)}T.pendingDestroy()}v.add(l,{preMultipliedAlpha:p,data:c,prefix:this.prefix}),this.complete=!0}}});C.exports=o},4513:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2022 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var y=h(2494),e=h(7473),f=h(5851),d=h(3527),s=h(5722),a=h(1847),r=h(3524),o=h(8332),u=h(5782),v=h(1984),l=new e({Extends:s,initialize:function(p,g,m){s.call(this,p,g,m);var T=g.game;this.isWebGL=T.config.renderType===2,this.cache=T.cache.addCustom("spine"),this.spineTextures=T.cache.addCustom("spineTextures"),this.json=T.cache.json,this.textures=T.textures,this.drawDebug=!1,this.gl,this.renderer,this.sceneRenderer,this.skeletonRenderer,this.skeletonDebugRenderer,this.plugin=a,this.temp1,this.temp2,this.isWebGL?(this.runtime=a.webgl,this.renderer=T.renderer,this.gl=T.renderer.gl,this.getAtlas=this.getAtlasWebGL):(this.runtime=a.canvas,this.renderer=T.renderer,this.getAtlas=this.getAtlasCanvas),this.renderer||(this.renderer={width:T.scale.width,height:T.scale.height,preRender:v,postRender:v,render:v,destroy:v});var S=this.isWebGL,P=function(w,O,L,F,I){S&&this.scene.sys.renderer.pipelines.clear();var B=this.scene.sys[m],G=new o(this.scene,B,w,O,L,F,I);return this.displayList.add(G),this.updateList.add(G),S&&this.scene.sys.renderer.pipelines.rebind(),G},E=function(w,O){w===void 0&&(w={}),S&&this.scene.sys.renderer.pipelines.clear();var L=f(w,"key",null),F=f(w,"animationName",null),I=f(w,"loop",!1),B=this.scene.sys[m],G=new o(this.scene,B,0,0,L,F,I);O!==void 0&&(w.add=O),y(this.scene,G,w);var N=f(w,"skinName",!1);N&&G.setSkinByName(N);var U=f(w,"slotName",!1),Y=f(w,"attachmentName",null);return U&&G.setAttachment(U,Y),S&&this.scene.sys.renderer.pipelines.rebind(),G.refresh()},R=function(w,O,L){var F=this.scene.sys[m],I=new u(this.scene,F,w,O,L);return this.displayList.add(I),I},A=function(w,O){w===void 0&&(w={});var L=f(w,"x",0),F=f(w,"y",0),I=f(w,"children",null),B=this.scene.sys[m],G=new u(this.scene,B,L,F,I);return O!==void 0&&(w.add=O),y(this.scene,G,w),G};g.registerFileType("spine",this.spineFileCallback,p),g.registerGameObject("spine",P,E),g.registerGameObject("spineContainer",R,A)},boot:function(){this.isWebGL?(this.bootWebGL(),this.onResize(),this.game.scale.on(d,this.onResize,this)):this.bootCanvas();var c=this.systems.events;c.once("shutdown",this.shutdown,this),c.once("destroy",this.destroy,this),this.game.events.once("destroy",this.gameDestroy,this)},bootCanvas:function(){this.skeletonRenderer=new a.canvas.SkeletonRenderer(this.scene.sys.context)},bootWebGL:function(){var c=function(g,m){if(g!==this.srcBlend||m!==this.dstBlend){var T=this.context.gl;this.srcBlend=g,this.dstBlend=m,this.isDrawing&&(this.flush(),T.blendFunc(this.srcBlend,this.dstBlend))}},p=this.renderer.spineSceneRenderer;p||(p=new a.webgl.SceneRenderer(this.renderer.canvas,this.gl,!0),p.batcher.setBlendMode=c,p.shapes.setBlendMode=c,this.renderer.spineSceneRenderer=p),this.sceneRenderer=p,this.skeletonRenderer=p.skeletonRenderer,this.skeletonDebugRenderer=p.skeletonDebugRenderer,this.temp1=new a.webgl.Vector3(0,0,0),this.temp2=new a.webgl.Vector3(0,0,0)},getAtlasCanvas:function(c){var p=this.cache.get(c);if(!p){console.warn("No atlas data for: "+c);return}var g,m=this.spineTextures;if(m.has(c))g=m.get(c);else{var T=this.textures;g=new a.TextureAtlas(p.data,function(S){return new a.canvas.CanvasTexture(T.get(p.prefix+c+":"+S).getSourceImage())})}return g},getAtlasWebGL:function(c){var p=this.cache.get(c);if(!p){console.warn("No atlas data for: "+c);return}var g,m=this.spineTextures;if(m.has(c))g=m.get(c);else{var T=this.textures,S=this.sceneRenderer.context.gl;S.pixelStorei(S.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),g=new a.TextureAtlas(p.data,function(P){return new a.webgl.GLTexture(S,T.get(p.prefix+c+":"+P).getSourceImage(),!1)})}return g},spineFileCallback:function(c,p,g,m,T,S,P){var E;if(P=P||{},Array.isArray(c))for(var R=0;R<c.length;R++)E=new r(this,c[R]),E.prefix=E.prefix||P.prefix||"",this.addFile(E.files);else E=new r(this,c,p,g,m,T,S),E.prefix=E.prefix||P.prefix||"",this.addFile(E.files);return this},worldToLocal:function(c,p,g,m){var T=this.temp1,S=this.temp2,P=this.sceneRenderer.camera;T.set(c+g.x,p-g.y,0);var E=P.viewportWidth,R=P.viewportHeight;return P.screenToWorld(T,E,R),m&&m.parent!==null?(m.parent.worldToLocal(S.set(T.x-g.x,T.y-g.y,0)),new a.Vector2(S.x,S.y)):m?new a.Vector2(T.x-g.x,T.y-g.y):new a.Vector2(T.x,T.y)},getVector2:function(c,p){return new a.Vector2(c,p)},getVector3:function(c,p,g){return new a.webgl.Vector3(c,p,g)},setDebugBones:function(c){return c===void 0&&(c=!0),this.skeletonDebugRenderer.drawBones=c,this},setDebugRegionAttachments:function(c){return c===void 0&&(c=!0),this.skeletonDebugRenderer.drawRegionAttachments=c,this},setDebugBoundingBoxes:function(c){return c===void 0&&(c=!0),this.skeletonDebugRenderer.drawBoundingBoxes=c,this},setDebugMeshHull:function(c){return c===void 0&&(c=!0),this.skeletonDebugRenderer.drawMeshHull=c,this},setDebugMeshTriangles:function(c){return c===void 0&&(c=!0),this.skeletonDebugRenderer.drawMeshTriangles=c,this},setDebugPaths:function(c){return c===void 0&&(c=!0),this.skeletonDebugRenderer.drawPaths=c,this},setDebugSkeletonXY:function(c){return c===void 0&&(c=!0),this.skeletonDebugRenderer.drawSkeletonXY=c,this},setDebugClipping:function(c){return c===void 0&&(c=!0),this.skeletonDebugRenderer.drawClipping=c,this},setEffect:function(c){return this.sceneRenderer.skeletonRenderer.vertexEffect=c,this},createSkeleton:function(c,p){var g=c,m=c,T=c.indexOf(".")!==-1;if(T){var S=c.split(".");g=S.shift(),m=S.join(".")}var P=this.cache.get(g),E=this.getAtlas(g);if(!E)return null;this.spineTextures.has(g)||this.spineTextures.add(g,E);var R=P.preMultipliedAlpha,A=new a.AtlasAttachmentLoader(E),w=new a.SkeletonJson(A),O;if(p)O=p;else{var L=this.json.get(g);O=T?f(L,m):L}if(O){var F=w.readSkeletonData(O),I=new a.Skeleton(F);return{skeletonData:F,skeleton:I,preMultipliedAlpha:R}}else return null},createAnimationState:function(c){var p=new a.AnimationStateData(c.data),g=new a.AnimationState(p);return{stateData:p,state:g}},getBounds:function(c){var p=new a.Vector2,g=new a.Vector2;return c.getBounds(p,g,[]),{offset:p,size:g}},onResize:function(){var c=this.renderer,p=this.sceneRenderer,g=c.width,m=c.height;p.camera.position.x=g/2,p.camera.position.y=m/2,p.camera.setViewport(g,m)},shutdown:function(){var c=this.systems.events;c.off("shutdown",this.shutdown,this),this.isWebGL&&this.game.scale.off(d,this.onResize,this)},destroy:function(){this.shutdown(),this.game=null,this.scene=null,this.systems=null,this.cache=null,this.spineTextures=null,this.json=null,this.textures=null,this.skeletonRenderer=null,this.gl=null},gameDestroy:function(){this.pluginManager.removeGameObject("spine",!0,!0),this.pluginManager.removeGameObject("spineContainer",!0,!0),this.pluginManager=null;var c=this.renderer.spineSceneRenderer;c&&c.dispose(),this.renderer.spineSceneRenderer=null,this.sceneRenderer=null}});l.SpineGameObject=o,l.SpineContainer=u,C.exports=l},5782:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2022 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var y=h(7473),e=h(7361),f=h(7738),d=new y({Extends:e,Mixins:[f],initialize:function(a,r,o,u,v){e.call(this,a,o,u,v),this.type="Spine",this.plugin=r},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[],this._displayList=null,this.plugin=null}});C.exports=d},8064:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2022 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f){var d=y.list;if(d.length!==0){e.addToRenderList(y);var s=y.localTransform;f?(s.loadIdentity(),s.multiply(f),s.translate(y.x,y.y),s.rotate(y.rotation),s.scale(y.scaleX,y.scaleY)):s.applyITRS(y.x,y.y,y.rotation,y.scaleX,y.scaleY);var a=y.blendMode!==-1;a||h.setBlendMode(0);var r=y._alpha,o=y.scrollFactorX,u=y.scrollFactorY;y.mask&&y.mask.preRenderCanvas(h,null,e);for(var v=0;v<d.length;v++){var l=d[v];if(l.willRender(e)){var c=l.alpha,p=l.scrollFactorX,g=l.scrollFactorY;!a&&l.blendMode!==h.currentBlendMode&&h.setBlendMode(l.blendMode),l.setScrollFactor(p*o,g*u),l.setAlpha(c*r),l.renderCanvas(h,l,e,s),l.setAlpha(c),l.setScrollFactor(p,g)}}y.mask&&y.mask.postRenderCanvas(h)}};C.exports=M},7738:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2022 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(1984),e=h(1984);y=h(434),e=h(8064),C.exports={renderWebGL:y,renderCanvas:e}},434:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2022 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f){var d=y.plugin,s=d.sceneRenderer,a=y.list;if(a.length===0){s.batcher.isDrawing&&h.finalType&&(s.end(),h.pipelines.rebind());return}e.addToRenderList(y);var r=y.localTransform;f?(r.loadIdentity(),r.multiply(f),r.translate(y.x,y.y),r.rotate(y.rotation),r.scale(y.scaleX,y.scaleY)):r.applyITRS(y.x,y.y,y.rotation,y.scaleX,y.scaleY),h.newType&&(h.pipelines.clear(),s.begin());var o=h.nextTypeMatch;h.nextTypeMatch=!0,h.newType=!1;for(var u=0;u<a.length;u++){var v=a[u];if(v.willRender(e,y)){var l=v.mask;l&&(s.end(),h.pipelines.rebind(),l.preRenderWebGL(h,v,e),h.pipelines.clear(),s.begin()),v.renderWebGL(h,v,e,r,y),l&&(s.end(),h.pipelines.rebind(),l.postRenderWebGL(h,e),h.pipelines.clear(),s.begin())}}h.nextTypeMatch=o,(!o||y.mask)&&(s.end(),h.pipelines.rebind())};C.exports=M},6576:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2022 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="complete"},8621:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2022 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="dispose"},8944:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2022 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="end"},7494:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2022 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="event"},1908:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2022 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="interrupted"},5591:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2022 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="start"},5146:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2022 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={COMPLETE:h(6576),DISPOSE:h(8621),END:h(8944),EVENT:h(7494),INTERRUPTED:h(1908),START:h(5591)}},8332:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2022 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var y=h(6412),e=h(2915),f=h(7473),d=h(1991),s=h(3131),a=h(9660),r=h(4627),o=h(3212),u=h(8414),v=h(3426),l=h(7149),c=h(2273),p=h(4208),g=h(5146),m=h(2762),T=new f({Extends:c,Mixins:[d,s,a,r,o,u,m],initialize:function(P,E,R,A,w,O,L){c.call(this,P,"Spine"),this.plugin=E,this.skeleton=null,this.skeletonData=null,this.state=null,this.stateData=null,this.root=null,this.bounds=null,this.drawDebug=!1,this.timeScale=1,this.displayOriginX=0,this.displayOriginY=0,this.preMultipliedAlpha=!1,this.blendMode=-1,this.setPosition(R,A),w&&this.setSkeleton(w,O,L)},willRender:function(S,P){var E=15,R=!this.skeleton||!(E!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&S.id);if(!P&&!R&&this.parentContainer){var A=this.plugin,w=A.sceneRenderer;A.gl&&w.batcher.isDrawing&&(w.end(),A.renderer.pipelines.rebind())}return R},setAlpha:function(S,P){if(S===void 0&&(S=1),P){var E=this.findSlot(P);E&&(E.color.a=e(S,0,1))}else this.alpha=S;return this},alpha:{get:function(){return this.skeleton.color.a},set:function(S){var P=e(S,0,1);this.skeleton&&(this.skeleton.color.a=P),P===0?this.renderFlags&=-3:this.renderFlags|=2}},red:{get:function(){return this.skeleton.color.r},set:function(S){var P=e(S,0,1);this.skeleton&&(this.skeleton.color.r=P)}},green:{get:function(){return this.skeleton.color.g},set:function(S){var P=e(S,0,1);this.skeleton&&(this.skeleton.color.g=P)}},blue:{get:function(){return this.skeleton.color.b},set:function(S){var P=e(S,0,1);this.skeleton&&(this.skeleton.color.b=P)}},setColor:function(S,P){S===void 0&&(S=16777215);var E=(S>>16&255)/255,R=(S>>8&255)/255,A=(S&255)/255,w=S>16777215?(S>>>24)/255:null,O=this.skeleton;if(P){var L=this.findSlot(P);L&&(O=L)}return O.color.r=E,O.color.g=R,O.color.b=A,w!==null&&(O.color.a=w),this},setSkeletonFromJSON:function(S,P,E,R){return this.setSkeleton(S,E,R,P)},setSkeleton:function(S,P,E,R){this.state&&(this.state.clearListeners(),this.state.clearListenerNotifications());var A=this.plugin.createSkeleton(S,R);this.skeletonData=A.skeletonData,this.preMultipliedAlpha=A.preMultipliedAlpha;var w=A.skeleton;return w.setSkin(),w.setToSetupPose(),this.skeleton=w,A=this.plugin.createAnimationState(w),this.state&&(this.state.clearListeners(),this.state.clearListenerNotifications()),this.state=A.state,this.stateData=A.stateData,this.state.addListener({event:this.onEvent.bind(this),complete:this.onComplete.bind(this),start:this.onStart.bind(this),end:this.onEnd.bind(this),dispose:this.onDispose.bind(this),interrupted:this.onInterrupted.bind(this)}),P&&this.setAnimation(0,P,E),this.root=this.getRootBone(),this.root&&(this.root.rotation=p(v(this.rotation))+90),this.state.apply(w),w.updateCache(),this.updateSize()},onComplete:function(S){this.emit(g.COMPLETE,S)},onDispose:function(S){this.emit(g.DISPOSE,S)},onEnd:function(S){this.emit(g.END,S)},onEvent:function(S,P){this.emit(g.EVENT,S,P)},onInterrupted:function(S){this.emit(g.INTERRUPTED,S)},onStart:function(S){this.emit(g.START,S)},refresh:function(){return this.root&&(this.root.rotation=p(v(this.rotation))+90),this.updateSize(),this.skeleton.updateCache(),this},setSize:function(S,P,E,R){var A=this.skeleton;return S===void 0&&(S=A.data.width),P===void 0&&(P=A.data.height),E===void 0&&(E=0),R===void 0&&(R=0),this.width=S,this.height=P,this.displayOriginX=A.x-E,this.displayOriginY=A.y-R,this},setOffset:function(S,P){var E=this.skeleton;return S===void 0&&(S=0),P===void 0&&(P=0),this.displayOriginX=E.x-S,this.displayOriginY=E.y-P,this},updateSize:function(){var S=this.skeleton,P=this.plugin.renderer,E=P.height,R=this.scaleX,A=this.scaleY;S.x=this.x,S.y=E-this.y,S.scaleX=1,S.scaleY=1,S.updateWorldTransform();var w=this.getBounds();return this.width=w.size.x,this.height=w.size.y,this.displayOriginX=this.x-w.offset.x,this.displayOriginY=this.y-(E-(this.height+w.offset.y)),S.scaleX=R,S.scaleY=A,S.updateWorldTransform(),this},scaleX:{get:function(){return this._scaleX},set:function(S){this._scaleX=S,this.refresh()}},scaleY:{get:function(){return this._scaleY},set:function(S){this._scaleY=S,this.refresh()}},getBoneList:function(){var S=[],P=this.skeletonData;if(P)for(var E=0;E<P.bones.length;E++)S.push(P.bones[E].name);return S},getSkinList:function(){var S=[],P=this.skeletonData;if(P)for(var E=0;E<P.skins.length;E++)S.push(P.skins[E].name);return S},getSlotList:function(){for(var S=[],P=this.skeleton,E=0;E<P.slots.length;E++)S.push(P.slots[E].data.name);return S},getAnimationList:function(){var S=[],P=this.skeletonData;if(P)for(var E=0;E<P.animations.length;E++)S.push(P.animations[E].name);return S},getCurrentAnimation:function(S){S===void 0&&(S=0);var P=this.state.getCurrent(S);if(P)return P.animation},play:function(S,P,E){return this.setAnimation(0,S,P,E),this},setAnimation:function(S,P,E,R){if(E===void 0&&(E=!1),R===void 0&&(R=!1),R&&this.state){var A=this.state.getCurrent(S);if(A&&A.animation.name===P&&!A.isComplete())return}if(this.findAnimation(P))return this.state.setAnimation(S,P,E)},addAnimation:function(S,P,E,R){return E===void 0&&(E=!1),R===void 0&&(R=0),this.state.addAnimation(S,P,E,R)},setEmptyAnimation:function(S,P){return this.state.setEmptyAnimation(S,P)},clearTrack:function(S){return this.state.clearTrack(S),this},clearTracks:function(){return this.state.clearTracks(),this},setSkinByName:function(S){var P=this.skeleton;return P.setSkinByName(S),P.setSlotsToSetupPose(),this.state.apply(P),this},setSkin:function(S){var P=this.skeleton;return P.setSkin(S),P.setSlotsToSetupPose(),this.state.apply(P),this},setMix:function(S,P,E){return this.stateData.setMix(S,P,E),this},getAttachment:function(S,P){return this.skeleton.getAttachment(S,P)},getAttachmentByName:function(S,P){return this.skeleton.getAttachmentByName(S,P)},setAttachment:function(S,P){if(Array.isArray(S)&&Array.isArray(P)&&S.length===P.length)for(var E=0;E<S.length;E++)this.skeleton.setAttachment(S[E],P[E]);else this.skeleton.setAttachment(S,P);return this},setToSetupPose:function(){return this.skeleton.setToSetupPose(),this},setSlotsToSetupPose:function(){return this.skeleton.setSlotsToSetupPose(),this},setBonesToSetupPose:function(){return this.skeleton.setBonesToSetupPose(),this},getRootBone:function(){return this.skeleton.getRootBone()},angleBoneToXY:function(S,P,E,R,A,w){R===void 0&&(R=0),A===void 0&&(A=0),w===void 0&&(w=360);var O=this.plugin.renderer,L=O.height,F=v(y(S.worldX,L-S.worldY,P,E)+l(R));return S.rotation=e(p(F),A,w),this},findBone:function(S){return this.skeleton.findBone(S)},findBoneIndex:function(S){return this.skeleton.findBoneIndex(S)},findSlot:function(S){return this.skeleton.findSlot(S)},findSlotIndex:function(S){return this.skeleton.findSlotIndex(S)},findSkin:function(S){return this.skeletonData.findSkin(S)},findEvent:function(S){return this.skeletonData.findEvent(S)},findAnimation:function(S){return this.skeletonData.findAnimation(S)},findIkConstraint:function(S){return this.skeletonData.findIkConstraint(S)},findTransformConstraint:function(S){return this.skeletonData.findTransformConstraint(S)},findPathConstraint:function(S){return this.skeletonData.findPathConstraint(S)},findPathConstraintIndex:function(S){return this.skeletonData.findPathConstraintIndex(S)},getBounds:function(){return this.plugin.getBounds(this.skeleton)},preUpdate:function(S,P){var E=this.skeleton;this.state.update(P/1e3*this.timeScale),this.state.apply(E)},preDestroy:function(){this.state&&(this.state.clearListeners(),this.state.clearListenerNotifications()),this.plugin=null,this.skeleton=null,this.skeletonData=null,this.state=null,this.stateData=null}});C.exports=T},2753:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2022 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var y=h(3426),e=h(4208),f=h(8445),d=function(s,a,r,o){var u=s.currentContext,v=a.plugin,l=a.skeleton,c=v.skeletonRenderer,p=s._tempMatrix1,g=s._tempMatrix2,m=s._tempMatrix3;r.addToRenderList(a),g.applyITRS(a.x,a.y,a.rotation,Math.abs(a.scaleX),Math.abs(a.scaleY)),p.copyFrom(r.matrix),o?(p.multiplyWithOffset(o,-r.scrollX*a.scrollFactorX,-r.scrollY*a.scrollFactorY),g.e=a.x,g.f=a.y,p.multiply(g,m)):(g.e-=r.scrollX*a.scrollFactorX,g.f-=r.scrollY*a.scrollFactorY,p.multiply(g,m)),l.x=m.tx,l.y=m.ty,l.scaleX=m.scaleX,l.scaleY=m.scaleY*-1,a.scaleX<0?(l.scaleX*=-1,a.root.rotation=e(m.rotationNormalized)):a.root.rotation=f(e(y(m.rotationNormalized))+90,0,360),a.scaleY<0&&(l.scaleY*=-1,a.scaleX<0?a.root.rotation-=e(m.rotationNormalized)*2:a.root.rotation+=e(m.rotationNormalized)*2),r.renderToTexture&&(l.y=m.ty,l.scaleY*=-1),l.updateWorldTransform(),c.ctx=u,c.debugRendering=v.drawDebug||a.drawDebug,u.save(),c.draw(l),u.restore()};C.exports=d},2762:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2022 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var y=h(1984),e=h(1984),f=h(1984);y=h(4290),f=h(780),e=h(2753),C.exports={renderWebGL:y,renderCanvas:e,renderDirect:f}},780:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2022 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var y=h(2915),e=h(3426),f=h(2208),d=h(4208),s=h(8445),a=function(r,o,u,v,l){var c=o.plugin,p=o.skeleton,g=c.sceneRenderer;r.pipelines.clear(),g.begin();var m=o.scrollFactorX,T=o.scrollFactorY,S=p.color.a;l&&(o.scrollFactorX=l.scrollFactorX,o.scrollFactorY=l.scrollFactorY,p.color.a=y(S*l.alpha,0,1)),u.addToRenderList(o);var P=f(o,u,v).calc,E=r.height;if(p.x=P.tx,p.y=E-P.ty,p.scaleX=P.scaleX,p.scaleY=P.scaleY,o.scaleX<0?(p.scaleX*=-1,o.root.rotation=s(d(P.rotationNormalized)-180,0,360)):o.root.rotation=s(d(e(P.rotationNormalized))+90,0,360),o.scaleY<0&&(p.scaleY*=-1,o.scaleX<0?o.root.rotation-=d(P.rotationNormalized)*2:o.root.rotation+=d(P.rotationNormalized)*2),p.updateWorldTransform(),g.drawSkeleton(p,o.preMultipliedAlpha),l&&(o.scrollFactorX=m,o.scrollFactorY=T,p.color.a=S),c.drawDebug||o.drawDebug){var R=p.x,A=p.y;p.x=0,p.y=0,g.drawSkeletonDebug(p,o.preMultipliedAlpha),p.x=R,p.y=A}g.end(),r.pipelines.rebind()};C.exports=a},4290:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2022 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var y=h(2915),e=h(3426),f=h(2208),d=h(4208),s=h(8445),a=function(r,o,u,v,l){var c=o.plugin,p=o.skeleton,g=c.sceneRenderer;r.newType&&(r.pipelines.clear(),g.begin());var m=o.scrollFactorX,T=o.scrollFactorY,S=p.color.a;l&&(o.scrollFactorX=l.scrollFactorX,o.scrollFactorY=l.scrollFactorY,p.color.a=y(S*l.alpha,0,1)),u.addToRenderList(o);var P=f(o,u,v).calc,E=r.height;if(p.x=P.tx,p.y=E-P.ty,p.scaleX=P.scaleX,p.scaleY=P.scaleY,o.scaleX<0?(p.scaleX*=-1,o.root.rotation=s(d(P.rotationNormalized)-180,0,360)):o.root.rotation=s(d(e(P.rotationNormalized))+90,0,360),o.scaleY<0&&(p.scaleY*=-1,o.scaleX<0?o.root.rotation-=d(P.rotationNormalized)*2:o.root.rotation+=d(P.rotationNormalized)*2),p.updateWorldTransform(),g.drawSkeleton(p,o.preMultipliedAlpha),l&&(o.scrollFactorX=m,o.scrollFactorY=T,p.color.a=S),c.drawDebug||o.drawDebug){var R=p.x,A=p.y;p.x=0,p.y=0,g.drawSkeletonDebug(p,o.preMultipliedAlpha),p.x=R,p.y=A,g.end(),r.pipelines.rebind()}else r.nextTypeMatch||(g.end(),r.pipelines.rebind())};C.exports=a},9454:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={VERSION:"3.70.0",BlendModes:h(8351),ScaleModes:h(8196),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};C.exports=y},1081:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(6748),f=new y({initialize:function(s,a){this.parent=s,this.events=a,a||(this.events=s.events?s.events:s),this.list={},this.values={},this._frozen=!1,!s.hasOwnProperty("sys")&&this.events&&this.events.once(e.DESTROY,this.destroy,this)},get:function(d){var s=this.list;if(Array.isArray(d)){for(var a=[],r=0;r<d.length;r++)a.push(s[d[r]]);return a}else return s[d]},getAll:function(){var d={};for(var s in this.list)this.list.hasOwnProperty(s)&&(d[s]=this.list[s]);return d},query:function(d){var s={};for(var a in this.list)this.list.hasOwnProperty(a)&&a.match(d)&&(s[a]=this.list[a]);return s},set:function(d,s){if(this._frozen)return this;if(typeof d=="string")return this.setValue(d,s);for(var a in d)this.setValue(a,d[a]);return this},inc:function(d,s){if(this._frozen)return this;s===void 0&&(s=1);var a=this.get(d);return a===void 0&&(a=0),this.set(d,a+s),this},toggle:function(d){return this._frozen?this:(this.set(d,!this.get(d)),this)},setValue:function(d,s){if(this._frozen)return this;if(this.has(d))this.values[d]=s;else{var a=this,r=this.list,o=this.events,u=this.parent;Object.defineProperty(this.values,d,{enumerable:!0,configurable:!0,get:function(){return r[d]},set:function(v){if(!a._frozen){var l=r[d];r[d]=v,o.emit(e.CHANGE_DATA,u,d,v,l),o.emit(e.CHANGE_DATA_KEY+d,u,v,l)}}}),r[d]=s,o.emit(e.SET_DATA,u,d,s)}return this},each:function(d,s){for(var a=[this.parent,null,void 0],r=1;r<arguments.length;r++)a.push(arguments[r]);for(var o in this.list)a[1]=o,a[2]=this.list[o],d.apply(s,a);return this},merge:function(d,s){s===void 0&&(s=!0);for(var a in d)d.hasOwnProperty(a)&&(s||!s&&!this.has(a))&&this.setValue(a,d[a]);return this},remove:function(d){if(this._frozen)return this;if(Array.isArray(d))for(var s=0;s<d.length;s++)this.removeValue(d[s]);else return this.removeValue(d);return this},removeValue:function(d){if(this.has(d)){var s=this.list[d];delete this.list[d],delete this.values[d],this.events.emit(e.REMOVE_DATA,this.parent,d,s)}return this},pop:function(d){var s=void 0;return!this._frozen&&this.has(d)&&(s=this.list[d],delete this.list[d],delete this.values[d],this.events.emit(e.REMOVE_DATA,this.parent,d,s)),s},has:function(d){return this.list.hasOwnProperty(d)},setFreeze:function(d){return this._frozen=d,this},reset:function(){for(var d in this.list)delete this.list[d],delete this.values[d];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(e.CHANGE_DATA),this.events.off(e.SET_DATA),this.events.off(e.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(d){this._frozen=!!d}},count:{get:function(){var d=0;for(var s in this.list)this.list[s]!==void 0&&d++;return d}}});C.exports=f},9044:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="changedata"},7801:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="changedata-"},4873:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="destroy"},9966:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="removedata"},4586:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="setdata"},6748:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={CHANGE_DATA:h(9044),CHANGE_DATA_KEY:h(7801),DESTROY:h(4873),REMOVE_DATA:h(9966),SET_DATA:h(4586)}},3004:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(2776),e={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function f(){if(typeof importScripts=="function")return e;e.audioData=!!window.Audio,e.webAudio=!!(window.AudioContext||window.webkitAudioContext);var d=document.createElement("audio"),s=!!d.canPlayType;try{if(s){var a=function(u,v){var l=d.canPlayType("audio/"+u).replace(/^no$/,"");return v?!!(l||d.canPlayType("audio/"+v).replace(/^no$/,"")):!!l};if(e.ogg=a('ogg; codecs="vorbis"'),e.opus=a('ogg; codecs="opus"',"opus"),e.mp3=a("mpeg"),e.wav=a("wav"),e.m4a=a("x-m4a"),e.aac=a("aac"),e.flac=a("flac","x-flac"),e.webm=a('webm; codecs="vorbis"'),d.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(y.edge)e.dolby=!0;else if(y.safari&&y.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var r=parseInt(RegExp.$1,10),o=parseInt(RegExp.$2,10);(r===10&&o>=11||r>10)&&(e.dolby=!0)}}}}catch{}return e}C.exports=f()},2776:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(5203),e={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function f(){var d=navigator.userAgent;return/Edg\/\d+/.test(d)?(e.edge=!0,e.es2019=!0):/OPR/.test(d)?(e.opera=!0,e.es2019=!0):/Chrome\/(\d+)/.test(d)&&!y.windowsPhone?(e.chrome=!0,e.chromeVersion=parseInt(RegExp.$1,10),e.es2019=e.chromeVersion>69):/Firefox\D+(\d+)/.test(d)?(e.firefox=!0,e.firefoxVersion=parseInt(RegExp.$1,10),e.es2019=e.firefoxVersion>10):/AppleWebKit/.test(d)&&y.iOS?(e.mobileSafari=!0,e.es2019=!0):/MSIE (\d+\.\d+);/.test(d)?(e.ie=!0,e.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+) Safari/.test(d)&&!y.windowsPhone?(e.safari=!0,e.safariVersion=parseInt(RegExp.$1,10),e.es2019=e.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(d)&&(e.ie=!0,e.trident=!0,e.tridentVersion=parseInt(RegExp.$1,10),e.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(d)&&(e.silk=!0),e}C.exports=f()},6505:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(8073),e={supportInverseAlpha:!1,supportNewBlendModes:!1};function f(){var a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",r="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",o=new Image;return o.onload=function(){var u=new Image;u.onload=function(){var v=y.create2D(u,6),l=v.getContext("2d",{willReadFrequently:!0});if(l.globalCompositeOperation="multiply",l.drawImage(o,0,0),l.drawImage(u,2,0),!l.getImageData(2,0,1,1))return!1;var c=l.getImageData(2,0,1,1).data;y.remove(u),e.supportNewBlendModes=c[0]===255&&c[1]===0&&c[2]===0},u.src=a+"/wCKxvRF"+r},o.src=a+"AP804Oa6"+r,!1}function d(){var a=y.create2D(this,2),r=a.getContext("2d",{willReadFrequently:!0});r.fillStyle="rgba(10, 20, 30, 0.5)",r.fillRect(0,0,1,1);var o=r.getImageData(0,0,1,1);if(o===null)return!1;r.putImageData(o,1,0);var u=r.getImageData(1,0,1,1),v=u.data[0]===o.data[0]&&u.data[1]===o.data[1]&&u.data[2]===o.data[2]&&u.data[3]===o.data[3];return y.remove(this),v}function s(){return typeof importScripts!="function"&&document!==void 0&&(e.supportNewBlendModes=f(),e.supportInverseAlpha=d()),e}C.exports=s()},6543:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(5203),e=h(2776),f=h(8073),d={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function s(){var r=new ArrayBuffer(4),o=new Uint8Array(r),u=new Uint32Array(r);return o[0]=161,o[1]=178,o[2]=195,o[3]=212,u[0]===3569595041?!0:u[0]===2712847316?!1:null}function a(){if(typeof importScripts=="function")return d;d.canvas=!!window.CanvasRenderingContext2D;try{d.localStorage=!!localStorage.getItem}catch{d.localStorage=!1}d.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,d.fileSystem=!!window.requestFileSystem;var r=!1,o=function(){if(window.WebGLRenderingContext)try{var u=f.createWebGL(this),v=u.getContext("webgl")||u.getContext("experimental-webgl"),l=f.create2D(this),c=l.getContext("2d",{willReadFrequently:!0}),p=c.createImageData(1,1);return r=p.data instanceof Uint8ClampedArray,f.remove(u),f.remove(l),!!v}catch{return!1}return!1};return d.webGL=o(),d.worker=!!window.Worker,d.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,d.getUserMedia=d.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,e.firefox&&e.firefoxVersion<21&&(d.getUserMedia=!1),!y.iOS&&(e.ie||e.firefox||e.chrome)&&(d.canvasBitBltShift=!0),(e.safari||e.mobileSafari)&&(d.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(d.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(d.littleEndian=s()),d.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&d.littleEndian!==null&&r,d}C.exports=a()},3922:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={available:!1,cancel:"",keyboard:!1,request:""};function h(){if(typeof importScripts=="function")return M;var y,e="Fullscreen",f="FullScreen",d=["request"+e,"request"+f,"webkitRequest"+e,"webkitRequest"+f,"msRequest"+e,"msRequest"+f,"mozRequest"+f,"mozRequest"+e];for(y=0;y<d.length;y++)if(document.documentElement[d[y]]){M.available=!0,M.request=d[y];break}var s=["cancel"+f,"exit"+e,"webkitCancel"+f,"webkitExit"+e,"msCancel"+f,"msExit"+e,"mozCancel"+f,"mozExit"+e];if(M.available){for(y=0;y<s.length;y++)if(document[s[y]]){M.cancel=s[y];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(M.keyboard=!0),Object.defineProperty(M,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),M}C.exports=h()},1454:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(2776),e={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function f(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(e.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(e.mspointer=!0),navigator.getGamepads&&(e.gamepads=!0),"onwheel"in window||y.ie&&"WheelEvent"in window?e.wheelEvent="wheel":"onmousewheel"in window?e.wheelEvent="mousewheel":y.firefox&&"MouseScrollEvent"in window&&(e.wheelEvent="DOMMouseScroll")),e}C.exports=f()},5203:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function h(){if(typeof importScripts=="function")return M;var y=navigator.userAgent;/Windows/.test(y)?M.windows=!0:/Mac OS/.test(y)&&!/like Mac OS/.test(y)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(M.iOS=!0,M.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),M.iOSVersion=parseInt(RegExp.$1,10)):M.macOS=!0:/Android/.test(y)?M.android=!0:/Linux/.test(y)?M.linux=!0:/iP[ao]d|iPhone/i.test(y)?(M.iOS=!0,navigator.appVersion.match(/OS (\d+)/),M.iOSVersion=parseInt(RegExp.$1,10),M.iPhone=y.toLowerCase().indexOf("iphone")!==-1,M.iPad=y.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(y)||/\bKF[A-Z][A-Z]+/.test(y)||/Silk.*Mobile Safari/.test(y)?M.kindle=!0:/CrOS/.test(y)&&(M.chromeOS=!0),(/Windows Phone/i.test(y)||/IEMobile/i.test(y))&&(M.android=!1,M.iOS=!1,M.macOS=!1,M.windows=!0,M.windowsPhone=!0);var e=/Silk/.test(y);return(M.windows||M.macOS||M.linux&&!e||M.chromeOS)&&(M.desktop=!0),(M.windowsPhone||/Windows NT/i.test(y)&&/Touch/i.test(y))&&(M.desktop=!1),navigator.standalone&&(M.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(M.cordova=!0),window.ejecta!==void 0&&(M.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(M.node=!0),M.node&&typeof process.versions=="object"&&(M.nodeWebkit=!!process.versions["node-webkit"],M.electron=!!process.versions.electron),/Crosswalk/.test(y)&&(M.crosswalk=!0),M.pixelRatio=window.devicePixelRatio||1,M}C.exports=h()},2131:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(4597),e={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function f(){if(typeof importScripts=="function")return e;var d=document.createElement("video"),s=!!d.canPlayType,a=/^no$/;try{s&&(d.canPlayType('video/ogg; codecs="theora"').replace(a,"")&&(e.ogg=!0),d.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(a,"")&&(e.h264=!0,e.mp4=!0),d.canPlayType("video/x-m4v").replace(a,"")&&(e.m4v=!0),d.canPlayType('video/webm; codecs="vp8, vorbis"').replace(a,"")&&(e.webm=!0),d.canPlayType('video/webm; codecs="vp9"').replace(a,"")&&(e.vp9=!0),d.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(a,"")&&(e.hls=!0))}catch{}return d.parentNode&&d.parentNode.removeChild(d),e.getVideoURL=function(r){Array.isArray(r)||(r=[r]);for(var o=0;o<r.length;o++){var u=y(r[o],"url",r[o]);if(u.indexOf("blob:")===0)return{url:u,type:""};var v;if(u.indexOf("data:")===0?v=u.split(",")[0].match(/\/(.*?);/):v=u.match(/\.([a-zA-Z0-9]+)($|\?)/),v=y(r[o],"type",v?v[1]:"").toLowerCase(),e[v])return{url:u,type:v}}return null},e}C.exports=f()},9356:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={os:h(5203),browser:h(2776),features:h(6543),input:h(1454),audio:h(3004),video:h(2131),fullscreen:h(3922),canvasFeatures:h(6505)}},5686:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=new Float32Array(20),f=new y({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(d){return this._matrix.set(d),this._dirty=!0,this},reset:function(){var d=this._matrix;return d.fill(0),d[0]=1,d[6]=1,d[12]=1,d[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var d=this._data;return this._dirty&&(d.set(this._matrix),d[4]/=255,d[9]/=255,d[14]/=255,d[19]/=255,this._dirty=!1),d},brightness:function(d,s){d===void 0&&(d=0),s===void 0&&(s=!1);var a=d;return this.multiply([a,0,0,0,0,0,a,0,0,0,0,0,a,0,0,0,0,0,1,0],s)},saturate:function(d,s){d===void 0&&(d=0),s===void 0&&(s=!1);var a=d*2/3+1,r=(a-1)*-.5;return this.multiply([a,r,r,0,0,r,a,r,0,0,r,r,a,0,0,0,0,0,1,0],s)},desaturate:function(d){return d===void 0&&(d=!1),this.saturate(-1,d)},hue:function(d,s){d===void 0&&(d=0),s===void 0&&(s=!1),d=d/180*Math.PI;var a=Math.cos(d),r=Math.sin(d),o=.213,u=.715,v=.072;return this.multiply([o+a*(1-o)+r*-o,u+a*-u+r*-u,v+a*-v+r*(1-v),0,0,o+a*-o+r*.143,u+a*(1-u)+r*.14,v+a*-v+r*-.283,0,0,o+a*-o+r*-(1-o),u+a*-u+r*u,v+a*(1-v)+r*v,0,0,0,0,0,1,0],s)},grayscale:function(d,s){return d===void 0&&(d=1),s===void 0&&(s=!1),this.saturate(-d,s)},blackWhite:function(d){return d===void 0&&(d=!1),this.multiply(f.BLACK_WHITE,d)},contrast:function(d,s){d===void 0&&(d=0),s===void 0&&(s=!1);var a=d+1,r=-.5*(a-1);return this.multiply([a,0,0,0,r,0,a,0,0,r,0,0,a,0,r,0,0,0,1,0],s)},negative:function(d){return d===void 0&&(d=!1),this.multiply(f.NEGATIVE,d)},desaturateLuminance:function(d){return d===void 0&&(d=!1),this.multiply(f.DESATURATE_LUMINANCE,d)},sepia:function(d){return d===void 0&&(d=!1),this.multiply(f.SEPIA,d)},night:function(d,s){return d===void 0&&(d=.1),s===void 0&&(s=!1),this.multiply([d*-2,-d,0,0,0,-d,0,d,0,0,0,d,d*2,0,0,0,0,0,1,0],s)},lsd:function(d){return d===void 0&&(d=!1),this.multiply(f.LSD,d)},brown:function(d){return d===void 0&&(d=!1),this.multiply(f.BROWN,d)},vintagePinhole:function(d){return d===void 0&&(d=!1),this.multiply(f.VINTAGE,d)},kodachrome:function(d){return d===void 0&&(d=!1),this.multiply(f.KODACHROME,d)},technicolor:function(d){return d===void 0&&(d=!1),this.multiply(f.TECHNICOLOR,d)},polaroid:function(d){return d===void 0&&(d=!1),this.multiply(f.POLAROID,d)},shiftToBGR:function(d){return d===void 0&&(d=!1),this.multiply(f.SHIFT_BGR,d)},multiply:function(d,s){s===void 0&&(s=!1),s||this.reset();var a=this._matrix,r=e;return r.set(a),a.set([r[0]*d[0]+r[1]*d[5]+r[2]*d[10]+r[3]*d[15],r[0]*d[1]+r[1]*d[6]+r[2]*d[11]+r[3]*d[16],r[0]*d[2]+r[1]*d[7]+r[2]*d[12]+r[3]*d[17],r[0]*d[3]+r[1]*d[8]+r[2]*d[13]+r[3]*d[18],r[0]*d[4]+r[1]*d[9]+r[2]*d[14]+r[3]*d[19]+r[4],r[5]*d[0]+r[6]*d[5]+r[7]*d[10]+r[8]*d[15],r[5]*d[1]+r[6]*d[6]+r[7]*d[11]+r[8]*d[16],r[5]*d[2]+r[6]*d[7]+r[7]*d[12]+r[8]*d[17],r[5]*d[3]+r[6]*d[8]+r[7]*d[13]+r[8]*d[18],r[5]*d[4]+r[6]*d[9]+r[7]*d[14]+r[8]*d[19]+r[9],r[10]*d[0]+r[11]*d[5]+r[12]*d[10]+r[13]*d[15],r[10]*d[1]+r[11]*d[6]+r[12]*d[11]+r[13]*d[16],r[10]*d[2]+r[11]*d[7]+r[12]*d[12]+r[13]*d[17],r[10]*d[3]+r[11]*d[8]+r[12]*d[13]+r[13]*d[18],r[10]*d[4]+r[11]*d[9]+r[12]*d[14]+r[13]*d[19]+r[14],r[15]*d[0]+r[16]*d[5]+r[17]*d[10]+r[18]*d[15],r[15]*d[1]+r[16]*d[6]+r[17]*d[11]+r[18]*d[16],r[15]*d[2]+r[16]*d[7]+r[17]*d[12]+r[18]*d[17],r[15]*d[3]+r[16]*d[8]+r[17]*d[13]+r[18]*d[18],r[15]*d[4]+r[16]*d[9]+r[17]*d[14]+r[18]*d[19]+r[19]]),this._dirty=!0,this}});f.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],f.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],f.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],f.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],f.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],f.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],f.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],f.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],f.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],f.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],f.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],C.exports=f},8073:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(9454),e=h(2150),f=[],d=!1,s=function(){var a=function(m,T,S,P,E){T===void 0&&(T=1),S===void 0&&(S=1),P===void 0&&(P=y.CANVAS),E===void 0&&(E=!1);var R,A=u(P);return A===null?(A={parent:m,canvas:document.createElement("canvas"),type:P},P===y.CANVAS&&f.push(A),R=A.canvas):(A.parent=m,R=A.canvas),E&&(A.parent=R),R.width=T,R.height=S,d&&P===y.CANVAS&&e.disable(R.getContext("2d",{willReadFrequently:!1})),R},r=function(m,T,S){return a(m,T,S,y.CANVAS)},o=function(m,T,S){return a(m,T,S,y.WEBGL)},u=function(m){if(m===void 0&&(m=y.CANVAS),m===y.WEBGL)return null;for(var T=0;T<f.length;T++){var S=f[T];if(!S.parent&&S.type===m)return S}return null},v=function(m){var T=m instanceof HTMLCanvasElement;f.forEach(function(S){(T&&S.canvas===m||!T&&S.parent===m)&&(S.parent=null,S.canvas.width=1,S.canvas.height=1)})},l=function(){var m=0;return f.forEach(function(T){T.parent&&m++}),m},c=function(){return f.length-l()},p=function(){d=!0},g=function(){d=!1};return{create2D:r,create:a,createWebGL:o,disableSmoothing:p,enableSmoothing:g,first:u,free:c,pool:f,remove:v,total:l}};C.exports=s()},2150:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M="",h=function(){var y=function(s){for(var a=["i","webkitI","msI","mozI","oI"],r=0;r<a.length;r++){var o=a[r]+"mageSmoothingEnabled";if(o in s)return o}return null},e=function(s){return M===""&&(M=y(s)),M&&(s[M]=!0),s},f=function(s){return M===""&&(M=y(s)),M&&(s[M]=!1),s},d=function(s){return M!==null?s[M]:null};return{disable:f,enable:e,getPrefix:y,isEnabled:d}};C.exports=h()},7499:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(3649),f=new y({initialize:function(s,a,r,o,u,v){a||(a=s.sys.make.image({x:r,y:o,key:u,frame:v,add:!1})),this.bitmapMask=a,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(d){this.bitmapMask=d},preRenderWebGL:function(d,s,a){d.pipelines.BITMAPMASK_PIPELINE.beginMask(this,s,a)},postRenderWebGL:function(d,s,a){d.pipelines.BITMAPMASK_PIPELINE.endMask(this,s,a)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});e.register("bitmapMask",function(d,s,a,r,o){return new f(this.scene,d,s,a,r,o)}),C.exports=f},6726:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=new y({initialize:function(d,s){this.geometryMask=s,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(f){return this.geometryMask=f,this},setInvertAlpha:function(f){return f===void 0&&(f=!0),this.invertAlpha=f,this},preRenderWebGL:function(f,d,s){var a=f.gl;f.flush(),f.maskStack.length===0&&(a.enable(a.STENCIL_TEST),a.clear(a.STENCIL_BUFFER_BIT),f.maskCount=0),f.currentCameraMask.mask!==this&&(f.currentMask.mask=this),f.maskStack.push({mask:this,camera:s}),this.applyStencil(f,s,!0),f.maskCount++},applyStencil:function(f,d,s){var a=f.gl,r=this.geometryMask,o=f.maskCount,u=255;a.colorMask(!1,!1,!1,!1),s?(a.stencilFunc(a.EQUAL,o,u),a.stencilOp(a.KEEP,a.KEEP,a.INCR),o++):(a.stencilFunc(a.EQUAL,o+1,u),a.stencilOp(a.KEEP,a.KEEP,a.DECR)),this.level=o,r.renderWebGL(f,r,d),f.flush(),a.colorMask(!0,!0,!0,!0),a.stencilOp(a.KEEP,a.KEEP,a.KEEP),this.invertAlpha?a.stencilFunc(a.NOTEQUAL,o,u):a.stencilFunc(a.EQUAL,o,u)},postRenderWebGL:function(f){var d=f.gl;f.maskStack.pop(),f.maskCount--,f.flush();var s=f.currentMask;if(f.maskStack.length===0)s.mask=null,d.disable(d.STENCIL_TEST);else{var a=f.maskStack[f.maskStack.length-1];a.mask.applyStencil(f,a.camera,!1),f.currentCameraMask.mask!==a.mask?(s.mask=a.mask,s.camera=a.camera):s.mask=null}},preRenderCanvas:function(f,d,s){var a=this.geometryMask;f.currentContext.save(),a.renderCanvas(f,a,s,null,null,!0),f.currentContext.clip()},postRenderCanvas:function(f){f.currentContext.restore()},destroy:function(){this.geometryMask=null}});C.exports=e},7340:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(6128),f=h(1571),d=new y({Extends:e,initialize:function(a,r){r===void 0&&(r=1),e.call(this,f.BARREL,a),this.amount=r}});C.exports=d},5170:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(6128),f=h(1571),d=new y({Extends:e,initialize:function(a,r,o,u,v,l,c){o===void 0&&(o=1),u===void 0&&(u=1),v===void 0&&(v=1),l===void 0&&(l=1),c===void 0&&(c=4),e.call(this,f.BLOOM,a),this.steps=c,this.offsetX=o,this.offsetY=u,this.blurStrength=v,this.strength=l,this.glcolor=[1,1,1],r!=null&&(this.color=r)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var a=this.glcolor;a[0]=(s>>16&255)/255,a[1]=(s>>8&255)/255,a[2]=(s&255)/255}}});C.exports=d},4199:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(6128),f=h(1571),d=new y({Extends:e,initialize:function(a,r,o,u,v,l,c){r===void 0&&(r=0),o===void 0&&(o=2),u===void 0&&(u=2),v===void 0&&(v=1),c===void 0&&(c=4),e.call(this,f.BLUR,a),this.quality=r,this.x=o,this.y=u,this.steps=c,this.strength=v,this.glcolor=[1,1,1],l!=null&&(this.color=l)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var a=this.glcolor;a[0]=(s>>16&255)/255,a[1]=(s>>8&255)/255,a[2]=(s&255)/255}}});C.exports=d},3132:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(6128),f=h(1571),d=new y({Extends:e,initialize:function(a,r,o,u,v,l,c,p){r===void 0&&(r=.5),o===void 0&&(o=1),u===void 0&&(u=.2),v===void 0&&(v=!1),l===void 0&&(l=1),c===void 0&&(c=1),p===void 0&&(p=1),e.call(this,f.BOKEH,a),this.radius=r,this.amount=o,this.contrast=u,this.isTiltShift=v,this.strength=p,this.blurX=l,this.blurY=c}});C.exports=d},6610:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(6128),f=h(1571),d=new y({Extends:e,initialize:function(a,r,o,u,v,l){r===void 0&&(r=8),v===void 0&&(v=1),l===void 0&&(l=.005),e.call(this,f.CIRCLE,a),this.scale=v,this.feather=l,this.thickness=r,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],o!=null&&(this.color=o),u!=null&&(this.backgroundColor=u)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var a=this.glcolor;a[0]=(s>>16&255)/255,a[1]=(s>>8&255)/255,a[2]=(s&255)/255}},backgroundColor:{get:function(){var s=this.glcolor2;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var a=this.glcolor2;a[0]=(s>>16&255)/255,a[1]=(s>>8&255)/255,a[2]=(s&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(s){this.glcolor2[3]=s}}});C.exports=d},4931:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(5686),f=h(1571),d=new y({Extends:e,initialize:function(a){e.call(this),this.type=f.COLOR_MATRIX,this.gameObject=a,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});C.exports=d},6128:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=new y({initialize:function(d,s){this.type=d,this.gameObject=s,this.active=!0},setActive:function(f){return this.active=f,this},destroy:function(){this.gameObject=null,this.active=!1}});C.exports=e},9195:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(6128),f=h(1571),d=new y({Extends:e,initialize:function(a,r,o,u){r===void 0&&(r="__WHITE"),o===void 0&&(o=.005),u===void 0&&(u=.005),e.call(this,f.DISPLACEMENT,a),this.x=o,this.y=u,this.glTexture,this.setTexture(r)},setTexture:function(s){var a=this.gameObject.scene.sys.textures.getFrame(s);return a&&(this.glTexture=a.glTexture),this}});C.exports=d},445:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(6128),f=h(1571),d=new y({Extends:e,initialize:function(a,r,o,u,v){o===void 0&&(o=4),u===void 0&&(u=0),v===void 0&&(v=!1),e.call(this,f.GLOW,a),this.outerStrength=o,this.innerStrength=u,this.knockout=v,this.glcolor=[1,1,1,1],r!==void 0&&(this.color=r)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var a=this.glcolor;a[0]=(s>>16&255)/255,a[1]=(s>>8&255)/255,a[2]=(s&255)/255}}});C.exports=d},7724:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(6128),f=h(1571),d=new y({Extends:e,initialize:function(a,r,o,u,v,l,c,p,g){u===void 0&&(u=.2),v===void 0&&(v=0),l===void 0&&(l=0),c===void 0&&(c=0),p===void 0&&(p=1),g===void 0&&(g=0),e.call(this,f.GRADIENT,a),this.alpha=u,this.size=g,this.fromX=v,this.fromY=l,this.toX=c,this.toY=p,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],r!=null&&(this.color1=r),o!=null&&(this.color2=o)},color1:{get:function(){var s=this.glcolor1;return(s[0]<<16)+(s[1]<<8)+(s[2]|0)},set:function(s){var a=this.glcolor1;a[0]=s>>16&255,a[1]=s>>8&255,a[2]=s&255}},color2:{get:function(){var s=this.glcolor2;return(s[0]<<16)+(s[1]<<8)+(s[2]|0)},set:function(s){var a=this.glcolor2;a[0]=s>>16&255,a[1]=s>>8&255,a[2]=s&255}}});C.exports=d},4412:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(6128),f=h(1571),d=new y({Extends:e,initialize:function(a,r){r===void 0&&(r=1),e.call(this,f.PIXELATE,a),this.amount=r}});C.exports=d},75:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(6128),f=h(1571),d=new y({Extends:e,initialize:function(a,r,o,u,v,l,c,p){r===void 0&&(r=0),o===void 0&&(o=0),u===void 0&&(u=.1),v===void 0&&(v=1),c===void 0&&(c=6),p===void 0&&(p=1),e.call(this,f.SHADOW,a),this.x=r,this.y=o,this.decay=u,this.power=v,this.glcolor=[0,0,0,1],this.samples=c,this.intensity=p,l!==void 0&&(this.color=l)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var a=this.glcolor;a[0]=(s>>16&255)/255,a[1]=(s>>8&255)/255,a[2]=(s&255)/255}}});C.exports=d},8734:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(6128),f=h(1571),d=new y({Extends:e,initialize:function(a,r,o,u,v){r===void 0&&(r=.5),o===void 0&&(o=.5),u===void 0&&(u=3),v===void 0&&(v=!1),e.call(this,f.SHINE,a),this.speed=r,this.lineWidth=o,this.gradient=u,this.reveal=v}});C.exports=d},2437:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(6128),f=h(1571),d=new y({Extends:e,initialize:function(a,r,o,u,v){r===void 0&&(r=.5),o===void 0&&(o=.5),u===void 0&&(u=.5),v===void 0&&(v=.5),e.call(this,f.VIGNETTE,a),this.x=r,this.y=o,this.radius=u,this.strength=v}});C.exports=d},5984:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(6128),f=h(1571),d=new y({Extends:e,initialize:function(a,r,o,u,v){r===void 0&&(r=.1),o===void 0&&(o=0),u===void 0&&(u=0),v===void 0&&(v=!1),e.call(this,f.WIPE,a),this.progress=0,this.wipeWidth=r,this.direction=o,this.axis=u,this.reveal=v}});C.exports=d},1571:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};C.exports=M},7347:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(1030),e=h(1571),f={Barrel:h(7340),Controller:h(6128),Bloom:h(5170),Blur:h(4199),Bokeh:h(3132),Circle:h(6610),ColorMatrix:h(4931),Displacement:h(9195),Glow:h(445),Gradient:h(7724),Pixelate:h(4412),Shadow:h(75),Shine:h(8734),Vignette:h(2437),Wipe:h(5984)};f=y(!1,f,e),C.exports=f},2494:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(8351),e=h(8361),f=function(d,s,a){s.x=e(a,"x",0),s.y=e(a,"y",0),s.depth=e(a,"depth",0),s.flipX=e(a,"flipX",!1),s.flipY=e(a,"flipY",!1);var r=e(a,"scale",null);typeof r=="number"?s.setScale(r):r!==null&&(s.scaleX=e(r,"x",1),s.scaleY=e(r,"y",1));var o=e(a,"scrollFactor",null);typeof o=="number"?s.setScrollFactor(o):o!==null&&(s.scrollFactorX=e(o,"x",1),s.scrollFactorY=e(o,"y",1)),s.rotation=e(a,"rotation",0);var u=e(a,"angle",null);u!==null&&(s.angle=u),s.alpha=e(a,"alpha",1);var v=e(a,"origin",null);if(typeof v=="number")s.setOrigin(v);else if(v!==null){var l=e(v,"x",.5),c=e(v,"y",.5);s.setOrigin(l,c)}s.blendMode=e(a,"blendMode",y.NORMAL),s.visible=e(a,"visible",!0);var p=e(a,"add",!0);return p&&d.sys.displayList.add(s),s.preUpdate&&d.sys.updateList.add(s),s};C.exports=f},2273:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(6125),f=h(1081),d=h(4399),s=h(3389),a=h(204),r=new y({Extends:d,initialize:function(u,v){d.call(this),this.scene=u,this.displayList=null,this.type=v,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(s.ADDED_TO_SCENE,this.addedToScene,this),this.on(s.REMOVED_FROM_SCENE,this.removedFromScene,this),u.sys.queueDepthSort()},setActive:function(o){return this.active=o,this},setName:function(o){return this.name=o,this},setState:function(o){return this.state=o,this},setDataEnabled:function(){return this.data||(this.data=new f(this)),this},setData:function(o,u){return this.data||(this.data=new f(this)),this.data.set(o,u),this},incData:function(o,u){return this.data||(this.data=new f(this)),this.data.inc(o,u),this},toggleData:function(o){return this.data||(this.data=new f(this)),this.data.toggle(o),this},getData:function(o){return this.data||(this.data=new f(this)),this.data.get(o)},setInteractive:function(o,u,v){return this.scene.sys.input.enable(this,o,u,v),this},disableInteractive:function(){return this.scene.sys.input.disable(this),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return e(this)},willRender:function(o){var u=this.displayList&&this.displayList.active?this.displayList.willRender(o):!0;return!(!u||r.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&o.id)},getIndexList:function(){for(var o=this,u=this.parentContainer,v=[];u&&(v.unshift(u.getIndex(o)),o=u,u.parentContainer);)u=u.parentContainer;return this.displayList?v.unshift(this.displayList.getIndex(o)):v.unshift(this.scene.sys.displayList.getIndex(o)),v},addToDisplayList:function(o){return o===void 0&&(o=this.scene.sys.displayList),this.displayList&&this.displayList!==o&&this.removeFromDisplayList(),o.exists(this)||(this.displayList=o,o.add(this,!0),o.queueDepthSort(),this.emit(s.ADDED_TO_SCENE,this,this.scene),o.events.emit(a.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var o=this.displayList||this.scene.sys.displayList;return o&&o.exists(this)&&(o.remove(this,!0),o.queueDepthSort(),this.displayList=null,this.emit(s.REMOVED_FROM_SCENE,this,this.scene),o.events.emit(a.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(o){!this.scene||this.ignoreDestroy||(o===void 0&&(o=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(s.DESTROY,this,o),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});r.RENDER_MASK=15,C.exports=r},3649:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(8456),f=h(204),d=new y({initialize:function(a){this.scene=a,this.systems=a.sys,this.events=a.sys.events,this.displayList,this.updateList,this.events.once(f.BOOT,this.boot,this),this.events.on(f.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(f.DESTROY,this.destroy,this)},start:function(){this.events.once(f.SHUTDOWN,this.shutdown,this)},existing:function(s){return(s.renderCanvas||s.renderWebGL)&&this.displayList.add(s),s.preUpdate&&this.updateList.add(s),s},shutdown:function(){this.events.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(f.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});d.register=function(s,a){d.prototype.hasOwnProperty(s)||(d.prototype[s]=a)},d.remove=function(s){d.prototype.hasOwnProperty(s)&&delete d.prototype[s]},e.register("GameObjectFactory",d,"add"),C.exports=d},2208:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(4227),e=new y,f=new y,d=new y,s={camera:e,sprite:f,calc:d},a=function(r,o,u){var v=e,l=f,c=d;return l.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),v.copyFrom(o.matrix),u?(v.multiplyWithOffset(u,-o.scrollX*r.scrollFactorX,-o.scrollY*r.scrollFactorY),l.e=r.x,l.f=r.y):(l.e-=o.scrollX*r.scrollFactorX,l.f-=o.scrollY*r.scrollFactorY),v.multiply(l,c),s};C.exports=a},4344:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(2915),e=2,f={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(d,s,a,r){return d===void 0&&(d=1),s===void 0?this.alpha=d:(this._alphaTL=y(d,0,1),this._alphaTR=y(s,0,1),this._alphaBL=y(a,0,1),this._alphaBR=y(r,0,1)),this},alpha:{get:function(){return this._alpha},set:function(d){var s=y(d,0,1);this._alpha=s,this._alphaTL=s,this._alphaTR=s,this._alphaBL=s,this._alphaBR=s,s===0?this.renderFlags&=~e:this.renderFlags|=e}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(d){var s=y(d,0,1);this._alphaTL=s,s!==0&&(this.renderFlags|=e)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(d){var s=y(d,0,1);this._alphaTR=s,s!==0&&(this.renderFlags|=e)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(d){var s=y(d,0,1);this._alphaBL=s,s!==0&&(this.renderFlags|=e)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(d){var s=y(d,0,1);this._alphaBR=s,s!==0&&(this.renderFlags|=e)}}};C.exports=f},4518:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(2915),e=2,f={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(d){return d===void 0&&(d=1),this.alpha=d,this},alpha:{get:function(){return this._alpha},set:function(d){var s=y(d,0,1);this._alpha=s,s===0?this.renderFlags&=~e:this.renderFlags|=e}}};C.exports=f},5173:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(8351),e={_blendMode:y.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(f){typeof f=="string"&&(f=y[f]),f|=0,f>=-1&&(this._blendMode=f)}},setBlendMode:function(f){return this.blendMode=f,this}};C.exports=e},1991:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(h){this.scaleX=h/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(h){this.scaleY=h/this.height}},setSize:function(h,y){return this.width=h,this.height=y,this},setDisplaySize:function(h,y){return this.displayWidth=h,this.displayHeight=y,this}};C.exports=M},8305:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={texture:null,frame:null,isCropped:!1,setCrop:function(h,y,e,f){if(h===void 0)this.isCropped=!1;else if(this.frame){if(typeof h=="number")this.frame.setCropUVs(this._crop,h,y,e,f,this.flipX,this.flipY);else{var d=h;this.frame.setCropUVs(this._crop,d.x,d.y,d.width,d.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};C.exports=M},3131:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={_depth:0,depth:{get:function(){return this._depth},set:function(h){this.displayList&&this.displayList.queueDepthSort(),this._depth=h}},setDepth:function(h){return h===void 0&&(h=0),this.depth=h,this}};C.exports=M},1626:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(7347),f=h(8935),d=new y({initialize:function(a,r){this.gameObject=a,this.isPost=r,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(s){return s===void 0&&(s=0),this.padding=s,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(s){if(!this.isPost){var a=this.gameObject.scene.sys.renderer;a&&a.pipelines?(this.gameObject.pipeline=a.pipelines.FX_PIPELINE,s!==void 0&&(this.padding=s),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var s=this.list,a=0;a<s.length;a++)s[a].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(s){var a;if(this.isPost){var r=this.gameObject.getPostPipeline(String(s.type));for(Array.isArray(r)||(r=[r]),a=0;a<r.length;a++){var o=r[a];if(o.controller===s){this.gameObject.removePostPipeline(o),s.destroy();break}}}else{var u=this.list;for(a=0;a<u.length;a++)u[a]===s&&(f(u,a),s.destroy())}return this.gameObject},disable:function(s){return s===void 0&&(s=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,s&&this.clear(),this.gameObject},add:function(s,a){if(this.isPost){var r=String(s.type);this.gameObject.setPostPipeline(r,a);var o=this.gameObject.getPostPipeline(r);if(o)return Array.isArray(o)&&(o=o.pop()),o.controller=s,s}else return this.enabled||this.enable(),this.list.push(s),s},addGlow:function(s,a,r,o,u,v){return this.add(new e.Glow(this.gameObject,s,a,r,o),{quality:u,distance:v})},addShadow:function(s,a,r,o,u,v,l){return this.add(new e.Shadow(this.gameObject,s,a,r,o,u,v,l))},addPixelate:function(s){return this.add(new e.Pixelate(this.gameObject,s))},addVignette:function(s,a,r,o){return this.add(new e.Vignette(this.gameObject,s,a,r,o))},addShine:function(s,a,r,o){return this.add(new e.Shine(this.gameObject,s,a,r,o))},addBlur:function(s,a,r,o,u,v){return this.add(new e.Blur(this.gameObject,s,a,r,o,u,v))},addGradient:function(s,a,r,o,u,v,l,c){return this.add(new e.Gradient(this.gameObject,s,a,r,o,u,v,l,c))},addBloom:function(s,a,r,o,u,v){return this.add(new e.Bloom(this.gameObject,s,a,r,o,u,v))},addColorMatrix:function(){return this.add(new e.ColorMatrix(this.gameObject))},addCircle:function(s,a,r,o,u){return this.add(new e.Circle(this.gameObject,s,a,r,o,u))},addBarrel:function(s){return this.add(new e.Barrel(this.gameObject,s))},addDisplacement:function(s,a,r){return this.add(new e.Displacement(this.gameObject,s,a,r))},addWipe:function(s,a,r){return this.add(new e.Wipe(this.gameObject,s,a,r))},addReveal:function(s,a,r){return this.add(new e.Wipe(this.gameObject,s,a,r,!0))},addBokeh:function(s,a,r){return this.add(new e.Bokeh(this.gameObject,s,a,r))},addTiltShift:function(s,a,r,o,u,v){return this.add(new e.Bokeh(this.gameObject,s,a,r,!0,o,u,v))},destroy:function(){this.clear(),this.gameObject=null}});C.exports=d},9660:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(h){return this.flipX=h,this},setFlipY:function(h){return this.flipY=h,this},setFlip:function(h,y){return this.flipX=h,this.flipY=y,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};C.exports=M},3671:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(1392),e=h(9876),f=h(2529),d={prepareBoundsOutput:function(s,a){if(a===void 0&&(a=!1),this.rotation!==0&&e(s,this.x,this.y,this.rotation),a&&this.parentContainer){var r=this.parentContainer.getBoundsTransformMatrix();r.transformPoint(s.x,s.y,s)}return s},getCenter:function(s,a){return s===void 0&&(s=new f),s.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,s.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(s,a)},getTopLeft:function(s,a){return s||(s=new f),s.x=this.x-this.displayWidth*this.originX,s.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(s,a)},getTopCenter:function(s,a){return s||(s=new f),s.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,s.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(s,a)},getTopRight:function(s,a){return s||(s=new f),s.x=this.x-this.displayWidth*this.originX+this.displayWidth,s.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(s,a)},getLeftCenter:function(s,a){return s||(s=new f),s.x=this.x-this.displayWidth*this.originX,s.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(s,a)},getRightCenter:function(s,a){return s||(s=new f),s.x=this.x-this.displayWidth*this.originX+this.displayWidth,s.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(s,a)},getBottomLeft:function(s,a){return s||(s=new f),s.x=this.x-this.displayWidth*this.originX,s.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(s,a)},getBottomCenter:function(s,a){return s||(s=new f),s.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,s.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(s,a)},getBottomRight:function(s,a){return s||(s=new f),s.x=this.x-this.displayWidth*this.originX+this.displayWidth,s.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(s,a)},getBounds:function(s){s===void 0&&(s=new y);var a,r,o,u,v,l,c,p;if(this.parentContainer){var g=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(s),g.transformPoint(s.x,s.y,s),a=s.x,r=s.y,this.getTopRight(s),g.transformPoint(s.x,s.y,s),o=s.x,u=s.y,this.getBottomLeft(s),g.transformPoint(s.x,s.y,s),v=s.x,l=s.y,this.getBottomRight(s),g.transformPoint(s.x,s.y,s),c=s.x,p=s.y}else this.getTopLeft(s),a=s.x,r=s.y,this.getTopRight(s),o=s.x,u=s.y,this.getBottomLeft(s),v=s.x,l=s.y,this.getBottomRight(s),c=s.x,p=s.y;return s.x=Math.min(a,o,v,c),s.y=Math.min(r,u,l,p),s.width=Math.max(a,o,v,c)-s.x,s.height=Math.max(r,u,l,p)-s.y,s}};C.exports=d},2246:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7499),e=h(6726),f={mask:null,setMask:function(d){return this.mask=d,this},clearMask:function(d){return d===void 0&&(d=!1),d&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(d,s,a,r,o){return d===void 0&&(this.texture||this.shader||this.geom)&&(d=this),new y(this.scene,d,s,a,r,o)},createGeometryMask:function(d){return d===void 0&&(this.type==="Graphics"||this.geom)&&(d=this),new e(this.scene,d)}};C.exports=f},5085:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(h){this._displayOriginX=h,this.originX=h/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(h){this._displayOriginY=h,this.originY=h/this.height}},setOrigin:function(h,y){return h===void 0&&(h=.5),y===void 0&&(y=h),this.originX=h,this.originY=y,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(h,y){return h===void 0&&(h=0),y===void 0&&(y=h),this.displayOriginX=h,this.displayOriginY=y,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};C.exports=M},77:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7149),e=h(1864),f=h(5851),d=h(3747),s=h(2529),a={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:d.PLAYING_FORWARD,setPath:function(r,o){o===void 0&&(o=this.pathConfig);var u=this.pathTween;return u&&u.isPlaying()&&u.stop(),this.path=r,o&&this.startFollow(o),this},setRotateToPath:function(r,o){return o===void 0&&(o=0),this.rotateToPath=r,this.pathRotationOffset=o,this},isFollowing:function(){var r=this.pathTween;return r&&r.isPlaying()},startFollow:function(r,o){r===void 0&&(r={}),o===void 0&&(o=0);var u=this.pathTween;u&&u.isPlaying()&&u.stop(),typeof r=="number"&&(r={duration:r}),r.from=f(r,"from",0),r.to=f(r,"to",1);var v=e(r,"positionOnPath",!1);this.rotateToPath=e(r,"rotateToPath",!1),this.pathRotationOffset=f(r,"rotationOffset",0);var l=f(r,"startAt",o);if(l&&(r.onStart=function(p){var g=p.data[0];g.progress=l,g.elapsed=g.duration*l;var m=g.ease(g.progress);g.current=g.start+(g.end-g.start)*m,g.setTargetValue()}),this.pathOffset||(this.pathOffset=new s(this.x,this.y)),this.pathVector||(this.pathVector=new s),this.pathDelta||(this.pathDelta=new s),this.pathDelta.reset(),r.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(r),this.path.getStartPoint(this.pathOffset),v&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=d.PLAYING_FORWARD,this.rotateToPath){var c=this.path.getPoint(.1);this.rotation=Math.atan2(c.y-this.y,c.x-this.x)+y(this.pathRotationOffset)}return this.pathConfig=r,this},pauseFollow:function(){var r=this.pathTween;return r&&r.isPlaying()&&r.pause(),this},resumeFollow:function(){var r=this.pathTween;return r&&r.isPaused()&&r.resume(),this},stopFollow:function(){var r=this.pathTween;return r&&r.isPlaying()&&r.stop(),this},pathUpdate:function(){var r=this.pathTween;if(r&&r.data){var o=r.data[0],u=this.pathDelta,v=this.pathVector;if(u.copy(v).negate(),o.state===d.COMPLETE){this.path.getPoint(o.end,v),u.add(v),v.add(this.pathOffset),this.setPosition(v.x,v.y);return}else if(o.state!==d.PLAYING_FORWARD&&o.state!==d.PLAYING_BACKWARD)return;this.path.getPoint(r.getValue(),v),u.add(v),v.add(this.pathOffset);var l=this.x,c=this.y;this.setPosition(v.x,v.y);var p=this.x-l,g=this.y-c;if(p===0&&g===0)return;if(o.state!==this._prevDirection){this._prevDirection=o.state;return}this.rotateToPath&&(this.rotation=Math.atan2(g,p)+y(this.pathRotationOffset))}}};C.exports=a},986:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(3911),e={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(f){this.pipelineData={};var d=this.scene.sys.renderer;if(!d)return!1;var s=d.pipelines;if(s){f===void 0&&(f=s.default);var a=s.get(f);if(a)return this.defaultPipeline=a,this.pipeline=a,!0}return!1},setPipeline:function(f,d,s){var a=this.scene.sys.renderer;if(!a)return this;var r=a.pipelines;if(r){var o=r.get(f);o&&(this.pipeline=o),d&&(this.pipelineData=s?y(d):d)}return this},setPipelineData:function(f,d){var s=this.pipelineData;return d===void 0?delete s[f]:s[f]=d,this},resetPipeline:function(f){return f===void 0&&(f=!1),this.pipeline=this.defaultPipeline,f&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline.name}};C.exports=e},4461:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(3911),e=h(1626),f=h(8935),d={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(s){this.postPipelines=[],this.postPipelineData={},this.postFX=new e(this,!0),s&&(this.preFX=new e(this,!1))},setPostPipeline:function(s,a,r){var o=this.scene.sys.renderer;if(!o)return this;var u=o.pipelines;if(u){Array.isArray(s)||(s=[s]);for(var v=0;v<s.length;v++){var l=u.getPostPipeline(s[v],this,a);l&&this.postPipelines.push(l)}a&&(this.postPipelineData=r?y(a):a)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(s,a){var r=this.postPipelineData;return a===void 0?delete r[s]:r[s]=a,this},getPostPipeline:function(s){for(var a=typeof s=="string",r=this.postPipelines,o=[],u=0;u<r.length;u++){var v=r[u];(a&&v.name===s||!a&&v instanceof s)&&o.push(v)}return o.length===1?o[0]:o},resetPostPipeline:function(s){s===void 0&&(s=!1);for(var a=this.postPipelines,r=0;r<a.length;r++)a[r].destroy();this.postPipelines=[],this.hasPostPipeline=!1,s&&(this.postPipelineData={})},removePostPipeline:function(s){for(var a=typeof s=="string",r=this.postPipelines,o=r.length-1;o>=0;o--){var u=r[o];(a&&u.name===s||!a&&u===s)&&(u.destroy(),f(r,o))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};C.exports=d},4627:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(h,y){return y===void 0&&(y=h),this.scrollFactorX=h,this.scrollFactorY=y,this}};C.exports=M},1868:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(h){this.scaleX=h/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(h){this.scaleY=h/this.frame.realHeight}},setSizeToFrame:function(h){h||(h=this.frame),this.width=h.realWidth,this.height=h.realHeight;var y=this.input;return y&&!y.customHitArea&&(y.hitArea.width=this.width,y.hitArea.height=this.height),this},setSize:function(h,y){return this.width=h,this.height=y,this},setDisplaySize:function(h,y){return this.displayWidth=h,this.displayHeight=y,this}};C.exports=M},4976:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(2362),e=8,f={texture:null,frame:null,isCropped:!1,setTexture:function(d,s,a,r){return this.texture=this.scene.sys.textures.get(d),this.setFrame(s,a,r)},setFrame:function(d,s,a){return s===void 0&&(s=!0),a===void 0&&(a=!0),d instanceof y?(this.texture=this.scene.sys.textures.get(d.texture.key),this.frame=d):this.frame=this.texture.get(d),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~e:this.renderFlags|=e,this._sizeComponent&&s&&this.setSizeToFrame(),this._originComponent&&a&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};C.exports=f},9243:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(2362),e=8,f={texture:null,frame:null,isCropped:!1,setCrop:function(d,s,a,r){if(d===void 0)this.isCropped=!1;else if(this.frame){if(typeof d=="number")this.frame.setCropUVs(this._crop,d,s,a,r,this.flipX,this.flipY);else{var o=d;this.frame.setCropUVs(this._crop,o.x,o.y,o.width,o.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(d,s){return this.texture=this.scene.sys.textures.get(d),this.setFrame(s)},setFrame:function(d,s,a){return s===void 0&&(s=!0),a===void 0&&(a=!0),d instanceof y?(this.texture=this.scene.sys.textures.get(d.texture.key),this.frame=d):this.frame=this.texture.get(d),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~e:this.renderFlags|=e,this._sizeComponent&&s&&this.setSizeToFrame(),this._originComponent&&a&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};C.exports=f},5693:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(h,y,e,f){return h===void 0&&(h=16777215),y===void 0&&(y=h,e=h,f=h),this.tintTopLeft=h,this.tintTopRight=y,this.tintBottomLeft=e,this.tintBottomRight=f,this.tintFill=!1,this},setTintFill:function(h,y,e,f){return this.setTint(h,y,e,f),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(h){this.setTint(h,h,h,h)}},isTinted:{get:function(){var h=16777215;return this.tintFill||this.tintTopLeft!==h||this.tintTopRight!==h||this.tintBottomLeft!==h||this.tintBottomRight!==h}}};C.exports=M},6125:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){var y={name:h.name,type:h.type,x:h.x,y:h.y,depth:h.depth,scale:{x:h.scaleX,y:h.scaleY},origin:{x:h.originX,y:h.originY},flipX:h.flipX,flipY:h.flipY,rotation:h.rotation,alpha:h.alpha,visible:h.visible,blendMode:h.blendMode,textureKey:"",frameKey:"",data:{}};return h.texture&&(y.textureKey=h.texture.key,y.frameKey=h.frame.name),y};C.exports=M},3212:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7425),e=h(4227),f=h(7556),d=h(3692),s=h(2820),a=h(2529),r=4,o={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(u){this._scaleX=u,this._scaleY=u,u===0?this.renderFlags&=~r:this.renderFlags|=r}},scaleX:{get:function(){return this._scaleX},set:function(u){this._scaleX=u,u===0?this.renderFlags&=~r:this._scaleY!==0&&(this.renderFlags|=r)}},scaleY:{get:function(){return this._scaleY},set:function(u){this._scaleY=u,u===0?this.renderFlags&=~r:this._scaleX!==0&&(this.renderFlags|=r)}},angle:{get:function(){return s(this._rotation*y.RAD_TO_DEG)},set:function(u){this.rotation=s(u)*y.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(u){this._rotation=d(u)}},setPosition:function(u,v,l,c){return u===void 0&&(u=0),v===void 0&&(v=u),l===void 0&&(l=0),c===void 0&&(c=0),this.x=u,this.y=v,this.z=l,this.w=c,this},copyPosition:function(u){return u.x!==void 0&&(this.x=u.x),u.y!==void 0&&(this.y=u.y),u.z!==void 0&&(this.z=u.z),u.w!==void 0&&(this.w=u.w),this},setRandomPosition:function(u,v,l,c){return u===void 0&&(u=0),v===void 0&&(v=0),l===void 0&&(l=this.scene.sys.scale.width),c===void 0&&(c=this.scene.sys.scale.height),this.x=u+Math.random()*l,this.y=v+Math.random()*c,this},setRotation:function(u){return u===void 0&&(u=0),this.rotation=u,this},setAngle:function(u){return u===void 0&&(u=0),this.angle=u,this},setScale:function(u,v){return u===void 0&&(u=1),v===void 0&&(v=u),this.scaleX=u,this.scaleY=v,this},setX:function(u){return u===void 0&&(u=0),this.x=u,this},setY:function(u){return u===void 0&&(u=0),this.y=u,this},setZ:function(u){return u===void 0&&(u=0),this.z=u,this},setW:function(u){return u===void 0&&(u=0),this.w=u,this},getLocalTransformMatrix:function(u){return u===void 0&&(u=new e),u.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(u,v){u===void 0&&(u=new e);var l=this.parentContainer;if(!l)return this.getLocalTransformMatrix(u);for(v||(v=new e),u.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);l;)v.applyITRS(l.x,l.y,l._rotation,l._scaleX,l._scaleY),v.multiply(u,u),l=l.parentContainer;return u},getLocalPoint:function(u,v,l,c){l||(l=new a),c||(c=this.scene.sys.cameras.main);var p=c.scrollX,g=c.scrollY,m=u+p*this.scrollFactorX-p,T=v+g*this.scrollFactorY-g;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(m,T,l):f(m,T,this.x,this.y,this.rotation,this.scaleX,this.scaleY,l),this._originComponent&&(l.x+=this._displayOriginX,l.y+=this._displayOriginY),l},getParentRotation:function(){for(var u=0,v=this.parentContainer;v;)u+=v.rotation,v=v.parentContainer;return u}};C.exports=o},4227:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(7425),f=h(2529),d=new y({initialize:function(a,r,o,u,v,l){a===void 0&&(a=1),r===void 0&&(r=0),o===void 0&&(o=0),u===void 0&&(u=1),v===void 0&&(v=0),l===void 0&&(l=0),this.matrix=new Float32Array([a,r,o,u,v,l,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(s){this.matrix[0]=s}},b:{get:function(){return this.matrix[1]},set:function(s){this.matrix[1]=s}},c:{get:function(){return this.matrix[2]},set:function(s){this.matrix[2]=s}},d:{get:function(){return this.matrix[3]},set:function(s){this.matrix[3]=s}},e:{get:function(){return this.matrix[4]},set:function(s){this.matrix[4]=s}},f:{get:function(){return this.matrix[5]},set:function(s){this.matrix[5]=s}},tx:{get:function(){return this.matrix[4]},set:function(s){this.matrix[4]=s}},ty:{get:function(){return this.matrix[5]},set:function(s){this.matrix[5]=s}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var s=this.matrix,a=s[0],r=s[1],o=s[2],u=s[3];return a||r?r>0?Math.acos(a/this.scaleX):-Math.acos(a/this.scaleX):o||u?e.TAU-(u>0?Math.acos(-o/this.scaleY):-Math.acos(o/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var s=this.matrix;return s[0]=1,s[1]=0,s[2]=0,s[3]=1,s[4]=0,s[5]=0,this},translate:function(s,a){var r=this.matrix;return r[4]=r[0]*s+r[2]*a+r[4],r[5]=r[1]*s+r[3]*a+r[5],this},scale:function(s,a){var r=this.matrix;return r[0]*=s,r[1]*=s,r[2]*=a,r[3]*=a,this},rotate:function(s){var a=Math.sin(s),r=Math.cos(s),o=this.matrix,u=o[0],v=o[1],l=o[2],c=o[3];return o[0]=u*r+l*a,o[1]=v*r+c*a,o[2]=u*-a+l*r,o[3]=v*-a+c*r,this},multiply:function(s,a){var r=this.matrix,o=s.matrix,u=r[0],v=r[1],l=r[2],c=r[3],p=r[4],g=r[5],m=o[0],T=o[1],S=o[2],P=o[3],E=o[4],R=o[5],A=a===void 0?r:a.matrix;return A[0]=m*u+T*l,A[1]=m*v+T*c,A[2]=S*u+P*l,A[3]=S*v+P*c,A[4]=E*u+R*l+p,A[5]=E*v+R*c+g,A},multiplyWithOffset:function(s,a,r){var o=this.matrix,u=s.matrix,v=o[0],l=o[1],c=o[2],p=o[3],g=o[4],m=o[5],T=a*v+r*c+g,S=a*l+r*p+m,P=u[0],E=u[1],R=u[2],A=u[3],w=u[4],O=u[5];return o[0]=P*v+E*c,o[1]=P*l+E*p,o[2]=R*v+A*c,o[3]=R*l+A*p,o[4]=w*v+O*c+T,o[5]=w*l+O*p+S,this},transform:function(s,a,r,o,u,v){var l=this.matrix,c=l[0],p=l[1],g=l[2],m=l[3],T=l[4],S=l[5];return l[0]=s*c+a*g,l[1]=s*p+a*m,l[2]=r*c+o*g,l[3]=r*p+o*m,l[4]=u*c+v*g+T,l[5]=u*p+v*m+S,this},transformPoint:function(s,a,r){r===void 0&&(r={x:0,y:0});var o=this.matrix,u=o[0],v=o[1],l=o[2],c=o[3],p=o[4],g=o[5];return r.x=s*u+a*l+p,r.y=s*v+a*c+g,r},invert:function(){var s=this.matrix,a=s[0],r=s[1],o=s[2],u=s[3],v=s[4],l=s[5],c=a*u-r*o;return s[0]=u/c,s[1]=-r/c,s[2]=-o/c,s[3]=a/c,s[4]=(o*l-u*v)/c,s[5]=-(a*l-r*v)/c,this},copyFrom:function(s){var a=this.matrix;return a[0]=s.a,a[1]=s.b,a[2]=s.c,a[3]=s.d,a[4]=s.e,a[5]=s.f,this},copyFromArray:function(s){var a=this.matrix;return a[0]=s[0],a[1]=s[1],a[2]=s[2],a[3]=s[3],a[4]=s[4],a[5]=s[5],this},copyToContext:function(s){var a=this.matrix;return s.transform(a[0],a[1],a[2],a[3],a[4],a[5]),s},setToContext:function(s){return s.setTransform(this),s},copyToArray:function(s){var a=this.matrix;return s===void 0?s=[a[0],a[1],a[2],a[3],a[4],a[5]]:(s[0]=a[0],s[1]=a[1],s[2]=a[2],s[3]=a[3],s[4]=a[4],s[5]=a[5]),s},setTransform:function(s,a,r,o,u,v){var l=this.matrix;return l[0]=s,l[1]=a,l[2]=r,l[3]=o,l[4]=u,l[5]=v,this},decomposeMatrix:function(){var s=this.decomposedMatrix,a=this.matrix,r=a[0],o=a[1],u=a[2],v=a[3],l=r*v-o*u;if(s.translateX=a[4],s.translateY=a[5],r||o){var c=Math.sqrt(r*r+o*o);s.rotation=o>0?Math.acos(r/c):-Math.acos(r/c),s.scaleX=c,s.scaleY=l/c}else if(u||v){var p=Math.sqrt(u*u+v*v);s.rotation=Math.PI*.5-(v>0?Math.acos(-u/p):-Math.acos(u/p)),s.scaleX=l/p,s.scaleY=p}else s.rotation=0,s.scaleX=0,s.scaleY=0;return s},applyITRS:function(s,a,r,o,u){var v=this.matrix,l=Math.sin(r),c=Math.cos(r);return v[4]=s,v[5]=a,v[0]=c*o,v[1]=l*o,v[2]=-l*u,v[3]=c*u,this},applyInverse:function(s,a,r){r===void 0&&(r=new f);var o=this.matrix,u=o[0],v=o[1],l=o[2],c=o[3],p=o[4],g=o[5],m=1/(u*c+l*-v);return r.x=c*m*s+-l*m*a+(g*l-p*c)*m,r.y=u*m*a+-v*m*s+(-g*u+p*v)*m,r},setQuad:function(s,a,r,o,u,v){u===void 0&&(u=!1),v===void 0&&(v=this.quad);var l=this.matrix,c=l[0],p=l[1],g=l[2],m=l[3],T=l[4],S=l[5];return u?(v[0]=Math.round(s*c+a*g+T),v[1]=Math.round(s*p+a*m+S),v[2]=Math.round(s*c+o*g+T),v[3]=Math.round(s*p+o*m+S),v[4]=Math.round(r*c+o*g+T),v[5]=Math.round(r*p+o*m+S),v[6]=Math.round(r*c+a*g+T),v[7]=Math.round(r*p+a*m+S)):(v[0]=s*c+a*g+T,v[1]=s*p+a*m+S,v[2]=s*c+o*g+T,v[3]=s*p+o*m+S,v[4]=r*c+o*g+T,v[5]=r*p+o*m+S,v[6]=r*c+a*g+T,v[7]=r*p+a*m+S),v},getX:function(s,a){return s*this.a+a*this.c+this.e},getY:function(s,a){return s*this.b+a*this.d+this.f},getXRound:function(s,a,r){var o=this.getX(s,a);return r&&(o=Math.round(o)),o},getYRound:function(s,a,r){var o=this.getY(s,a);return r&&(o=Math.round(o)),o},getCSSMatrix:function(){var s=this.matrix;return"matrix("+s[0]+","+s[1]+","+s[2]+","+s[3]+","+s[4]+","+s[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});C.exports=d},8414:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=1,h={_visible:!0,visible:{get:function(){return this._visible},set:function(y){y?(this._visible=!0,this.renderFlags|=M):(this._visible=!1,this.renderFlags&=~M)}},setVisible:function(y){return this.visible=y,this}};C.exports=h},4286:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Alpha:h(4344),AlphaSingle:h(4518),BlendMode:h(5173),ComputedSize:h(1991),Crop:h(8305),Depth:h(3131),Flip:h(9660),FX:h(1626),GetBounds:h(3671),Mask:h(2246),Origin:h(5085),PathFollower:h(77),Pipeline:h(986),PostPipeline:h(4461),ScrollFactor:h(4627),Size:h(1868),Texture:h(4976),TextureCrop:h(9243),Tint:h(5693),ToJSON:h(6125),Transform:h(3212),TransformMatrix:h(4227),Visible:h(8414)}},7361:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(1953),e=h(8351),f=h(7473),d=h(4286),s=h(3389),a=h(2273),r=h(1392),o=h(3232),u=h(9422),v=h(2529),l=new f({Extends:a,Mixins:[d.AlphaSingle,d.BlendMode,d.ComputedSize,d.Depth,d.Mask,d.PostPipeline,d.Transform,d.Visible,o],initialize:function(p,g,m,T){a.call(this,p,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new d.TransformMatrix,this.tempTransformMatrix=new d.TransformMatrix,this._sortKey="",this._sysEvents=p.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(g,m),this.setBlendMode(e.SKIP_CHECK),T&&this.add(T)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(c){return c===void 0&&(c=!0),this.exclusive=c,this},getBounds:function(c){if(c===void 0&&(c=new r),c.setTo(this.x,this.y,0,0),this.parentContainer){var p=this.parentContainer.getBoundsTransformMatrix(),g=p.transformPoint(this.x,this.y);c.setTo(g.x,g.y,0,0)}if(this.list.length>0){var m=this.list,T=new r,S=!1;c.setEmpty();for(var P=0;P<m.length;P++){var E=m[P];E.getBounds&&(E.getBounds(T),S?u(T,c,c):(c.setTo(T.x,T.y,T.width,T.height),S=!0))}}return c},addHandler:function(c){c.once(s.DESTROY,this.remove,this),this.exclusive&&(c.parentContainer&&c.parentContainer.remove(c),c.parentContainer=this,c.removeFromDisplayList(),c.addedToScene())},removeHandler:function(c){c.off(s.DESTROY,this.remove,this),this.exclusive&&(c.parentContainer=null,c.removedFromScene(),c.addToDisplayList())},pointToContainer:function(c,p){p===void 0&&(p=new v),this.parentContainer?this.parentContainer.pointToContainer(c,p):(p.x=c.x,p.y=c.y);var g=this.tempTransformMatrix;return g.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),g.invert(),g.transformPoint(c.x,c.y,p),p},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(c){return y.Add(this.list,c,this.maxSize,this.addHandler,this),this},addAt:function(c,p){return y.AddAt(this.list,c,p,this.maxSize,this.addHandler,this),this},getAt:function(c){return this.list[c]},getIndex:function(c){return this.list.indexOf(c)},sort:function(c,p){return c?(p===void 0&&(p=function(g,m){return g[c]-m[c]}),y.StableSort(this.list,p),this):this},getByName:function(c){return y.GetFirst(this.list,"name",c)},getRandom:function(c,p){return y.GetRandom(this.list,c,p)},getFirst:function(c,p,g,m){return y.GetFirst(this.list,c,p,g,m)},getAll:function(c,p,g,m){return y.GetAll(this.list,c,p,g,m)},count:function(c,p,g,m){return y.CountAllMatching(this.list,c,p,g,m)},swap:function(c,p){return y.Swap(this.list,c,p),this},moveTo:function(c,p){return y.MoveTo(this.list,c,p),this},moveAbove:function(c,p){return y.MoveAbove(this.list,c,p),this},moveBelow:function(c,p){return y.MoveBelow(this.list,c,p),this},remove:function(c,p){var g=y.Remove(this.list,c,this.removeHandler,this);if(p&&g){Array.isArray(g)||(g=[g]);for(var m=0;m<g.length;m++)g[m].destroy()}return this},removeAt:function(c,p){var g=y.RemoveAt(this.list,c,this.removeHandler,this);return p&&g&&g.destroy(),this},removeBetween:function(c,p,g){var m=y.RemoveBetween(this.list,c,p,this.removeHandler,this);if(g)for(var T=0;T<m.length;T++)m[T].destroy();return this},removeAll:function(c){var p=this.list;if(c){for(var g=0;g<p.length;g++)p[g]&&p[g].scene&&(p[g].off(s.DESTROY,this.remove,this),p[g].destroy());this.list=[]}else y.RemoveBetween(p,0,p.length,this.removeHandler,this);return this},bringToTop:function(c){return y.BringToTop(this.list,c),this},sendToBack:function(c){return y.SendToBack(this.list,c),this},moveUp:function(c){return y.MoveUp(this.list,c),this},moveDown:function(c){return y.MoveDown(this.list,c),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return y.Shuffle(this.list),this},replace:function(c,p,g){var m=y.Replace(this.list,c,p);return m&&(this.addHandler(p),this.removeHandler(c),g&&c.destroy()),this},exists:function(c){return this.list.indexOf(c)>-1},setAll:function(c,p,g,m){return y.SetAll(this.list,c,p,g,m),this},each:function(c,p){var g=[null],m,T=this.list.slice(),S=T.length;for(m=2;m<arguments.length;m++)g.push(arguments[m]);for(m=0;m<S;m++)g[0]=T[m],c.apply(p,g);return this},iterate:function(c,p){var g=[null],m;for(m=2;m<arguments.length;m++)g.push(arguments[m]);for(m=0;m<this.list.length;m++)g[0]=this.list[m],c.apply(p,g);return this},setScrollFactor:function(c,p,g){return p===void 0&&(p=c),g===void 0&&(g=!1),this.scrollFactorX=c,this.scrollFactorY=p,g&&(y.SetAll(this.list,"scrollFactorX",c),y.SetAll(this.list,"scrollFactorY",p)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]}});C.exports=l},2840:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f){e.addToRenderList(y);var d=y.list;if(d.length!==0){var s=y.localTransform;f?(s.loadIdentity(),s.multiply(f),s.translate(y.x,y.y),s.rotate(y.rotation),s.scale(y.scaleX,y.scaleY)):s.applyITRS(y.x,y.y,y.rotation,y.scaleX,y.scaleY);var a=y.blendMode!==-1;a||h.setBlendMode(0);var r=y._alpha,o=y.scrollFactorX,u=y.scrollFactorY;y.mask&&y.mask.preRenderCanvas(h,null,e);for(var v=0;v<d.length;v++){var l=d[v];if(l.willRender(e)){var c=l.alpha,p=l.scrollFactorX,g=l.scrollFactorY;!a&&l.blendMode!==h.currentBlendMode&&h.setBlendMode(l.blendMode),l.setScrollFactor(p*o,g*u),l.setAlpha(c*r),l.renderCanvas(h,l,e,s),l.setAlpha(c),l.setScrollFactor(p,g)}}y.mask&&y.mask.postRenderCanvas(h)}};C.exports=M},3232:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(1984),e=y,f=y;e=h(4343),f=h(2840),C.exports={renderWebGL:e,renderCanvas:f}},4343:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f){e.addToRenderList(y);var d=y.list,s=d.length;if(s!==0){var a=y.localTransform;f?(a.loadIdentity(),a.multiply(f),a.translate(y.x,y.y),a.rotate(y.rotation),a.scale(y.scaleX,y.scaleY)):a.applyITRS(y.x,y.y,y.rotation,y.scaleX,y.scaleY),h.pipelines.preBatch(y);var r=y.blendMode!==-1;r||h.setBlendMode(0);for(var o=y.alpha,u=y.scrollFactorX,v=y.scrollFactorY,l=0;l<s;l++){var c=d[l];if(c.willRender(e)){var p,g,m,T;if(c.alphaTopLeft!==void 0)p=c.alphaTopLeft,g=c.alphaTopRight,m=c.alphaBottomLeft,T=c.alphaBottomRight;else{var S=c.alpha;p=S,g=S,m=S,T=S}var P=c.scrollFactorX,E=c.scrollFactorY;!r&&c.blendMode!==h.currentBlendMode&&h.setBlendMode(c.blendMode);var R=c.mask;R&&R.preRenderWebGL(h,c,e);var A=c.type;A!==h.currentType&&(h.newType=!0,h.currentType=A),h.nextTypeMatch=l<s-1?d[l+1].type===h.currentType:!1,c.setScrollFactor(P*u,E*v),c.setAlpha(p*o,g*o,m*o,T*o),c.renderWebGL(h,c,e,a,y),c.setAlpha(p,g,m,T),c.setScrollFactor(P,E),R&&R.postRenderWebGL(h,e),h.newType=!1}}h.pipelines.postBatch(y)}};C.exports=M},6608:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="addedtoscene"},4265:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="destroy"},8671:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="removedfromscene"},3420:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="complete"},601:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="created"},7919:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="error"},6231:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="locked"},5241:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="loop"},8325:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="playing"},3356:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="play"},7513:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="seeked"},5788:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="seeking"},7111:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="stalled"},8118:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="stop"},9184:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="textureready"},4287:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="unlocked"},857:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="unsupported"},3389:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={ADDED_TO_SCENE:h(6608),DESTROY:h(4265),REMOVED_FROM_SCENE:h(8671),VIDEO_COMPLETE:h(3420),VIDEO_CREATED:h(601),VIDEO_ERROR:h(7919),VIDEO_LOCKED:h(6231),VIDEO_LOOP:h(5241),VIDEO_PLAY:h(3356),VIDEO_PLAYING:h(8325),VIDEO_SEEKED:h(7513),VIDEO_SEEKING:h(5788),VIDEO_STALLED:h(7111),VIDEO_STOP:h(8118),VIDEO_TEXTURE:h(9184),VIDEO_UNLOCKED:h(4287),VIDEO_UNSUPPORTED:h(857)}},1643:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};C.exports=M},8881:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7655),e=function(f,d,s){return s===void 0&&(s=new y),s.x=f.x1+(f.x2-f.x1)*d,s.y=f.y1+(f.y2-f.y1)*d,s};C.exports=e},4479:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(4771),e=h(7655),f=function(d,s,a,r){r===void 0&&(r=[]),!s&&a>0&&(s=y(d)/a);for(var o=d.x1,u=d.y1,v=d.x2,l=d.y2,c=0;c<s;c++){var p=c/s,g=o+(v-o)*p,m=u+(l-u)*p;r.push(new e(g,m))}return r};C.exports=f},4771:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return Math.sqrt((h.x2-h.x1)*(h.x2-h.x1)+(h.y2-h.y1)*(h.y2-h.y1))};C.exports=M},284:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(8881),f=h(4479),d=h(1643),s=h(3915),a=h(2529),r=new y({initialize:function(u,v,l,c){u===void 0&&(u=0),v===void 0&&(v=0),l===void 0&&(l=0),c===void 0&&(c=0),this.type=d.LINE,this.x1=u,this.y1=v,this.x2=l,this.y2=c},getPoint:function(o,u){return e(this,o,u)},getPoints:function(o,u,v){return f(this,o,u,v)},getRandomPoint:function(o){return s(this,o)},setTo:function(o,u,v,l){return o===void 0&&(o=0),u===void 0&&(u=0),v===void 0&&(v=0),l===void 0&&(l=0),this.x1=o,this.y1=u,this.x2=v,this.y2=l,this},setFromObjects:function(o,u){return this.x1=o.x,this.y1=o.y,this.x2=u.x,this.y2=u.y,this},getPointA:function(o){return o===void 0&&(o=new a),o.set(this.x1,this.y1),o},getPointB:function(o){return o===void 0&&(o=new a),o.set(this.x2,this.y2),o},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(o){this.x1<=this.x2?this.x1=o:this.x2=o}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(o){this.x1>this.x2?this.x1=o:this.x2=o}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(o){this.y1<=this.y2?this.y1=o:this.y2=o}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(o){this.y1>this.y2?this.y1=o:this.y2=o}}});C.exports=r},3915:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7655),e=function(f,d){d===void 0&&(d=new y);var s=Math.random();return d.x=f.x1+s*(f.x2-f.x1),d.y=f.y1+s*(f.y2-f.y1),d};C.exports=e},7655:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(1643),f=new y({initialize:function(s,a){s===void 0&&(s=0),a===void 0&&(a=s),this.type=e.POINT,this.x=s,this.y=a},setTo:function(d,s){return d===void 0&&(d=0),s===void 0&&(s=d),this.x=d,this.y=s,this}});C.exports=f},5956:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){return h.width<=0||h.height<=0?!1:h.x<=y&&h.x+h.width>=y&&h.y<=e&&h.y+h.height>=e};C.exports=M},716:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7120),e=h(7655),f=function(d,s,a){if(a===void 0&&(a=new e),s<=0||s>=1)return a.x=d.x,a.y=d.y,a;var r=y(d)*s;return s>.5?(r-=d.width+d.height,r<=d.width?(a.x=d.right-r,a.y=d.bottom):(a.x=d.x,a.y=d.bottom-(r-d.width))):r<=d.width?(a.x=d.x+r,a.y=d.y):(a.x=d.right,a.y=d.y+(r-d.width)),a};C.exports=f},8151:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(716),e=h(7120),f=function(d,s,a,r){r===void 0&&(r=[]),!s&&a>0&&(s=e(d)/a);for(var o=0;o<s;o++){var u=o/s;r.push(y(d,u))}return r};C.exports=f},7120:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return 2*(h.width+h.height)};C.exports=M},2161:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7655),e=function(f,d){return d===void 0&&(d=new y),d.x=f.x+Math.random()*f.width,d.y=f.y+Math.random()*f.height,d};C.exports=e},1392:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(5956),f=h(716),d=h(8151),s=h(1643),a=h(284),r=h(2161),o=new y({initialize:function(v,l,c,p){v===void 0&&(v=0),l===void 0&&(l=0),c===void 0&&(c=0),p===void 0&&(p=0),this.type=s.RECTANGLE,this.x=v,this.y=l,this.width=c,this.height=p},contains:function(u,v){return e(this,u,v)},getPoint:function(u,v){return f(this,u,v)},getPoints:function(u,v,l){return d(this,u,v,l)},getRandomPoint:function(u){return r(this,u)},setTo:function(u,v,l,c){return this.x=u,this.y=v,this.width=l,this.height=c,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(u,v){return v===void 0&&(v=u),this.x=u,this.y=v,this},setSize:function(u,v){return v===void 0&&(v=u),this.width=u,this.height=v,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(u){return u===void 0&&(u=new a),u.setTo(this.x,this.y,this.right,this.y),u},getLineB:function(u){return u===void 0&&(u=new a),u.setTo(this.right,this.y,this.right,this.bottom),u},getLineC:function(u){return u===void 0&&(u=new a),u.setTo(this.right,this.bottom,this.x,this.bottom),u},getLineD:function(u){return u===void 0&&(u=new a),u.setTo(this.x,this.bottom,this.x,this.y),u},left:{get:function(){return this.x},set:function(u){u>=this.right?this.width=0:this.width=this.right-u,this.x=u}},right:{get:function(){return this.x+this.width},set:function(u){u<=this.x?this.width=0:this.width=u-this.x}},top:{get:function(){return this.y},set:function(u){u>=this.bottom?this.height=0:this.height=this.bottom-u,this.y=u}},bottom:{get:function(){return this.y+this.height},set:function(u){u<=this.y?this.height=0:this.height=u-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(u){this.x=u-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(u){this.y=u-this.height/2}}});C.exports=o},9422:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(1392),e=function(f,d,s){s===void 0&&(s=new y);var a=Math.min(f.x,d.x),r=Math.min(f.y,d.y),o=Math.max(f.right,d.right)-a,u=Math.max(f.bottom,d.bottom)-r;return s.setTo(a,r,o,u)};C.exports=e},1593:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(4359),f=h(1179),d=h(4597),s=h(5593),a=h(7410),r=h(5874),o=h(707),u=new y({initialize:function(l,c){if(this.loader=l,this.cache=d(c,"cache",!1),this.type=d(c,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=d(c,"key",!1);var p=this.key;if(l.prefix&&l.prefix!==""&&(this.key=l.prefix+p),!this.key)throw new Error("Invalid File key: "+this.key);var g=d(c,"url");g===void 0?g=l.path+p+"."+d(c,"extension",""):typeof g=="string"&&!g.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(g=l.path+g),this.url=g,this.src="",this.xhrSettings=o(d(c,"responseType",void 0)),d(c,"xhrSettings",!1)&&(this.xhrSettings=a(this.xhrSettings,d(c,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?e.FILE_POPULATED:e.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=d(c,"config",{}),this.multiFile,this.linkFile},setLink:function(v){this.linkFile=v,v.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===e.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=e.FILE_LOADING,this.src=s(this,this.loader.baseURL),this.src.indexOf("data:")===0?console.warn("Local data URIs are not supported: "+this.key):this.xhrLoader=r(this,this.loader.xhr))},onLoad:function(v,l){var c=v.responseURL&&this.loader.localSchemes.some(function(m){return v.responseURL.indexOf(m)===0}),p=c&&l.target.status===0,g=!(l.target&&l.target.status!==200)||p;v.readyState===4&&v.status>=400&&v.status<=599&&(g=!1),this.state=e.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,g)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(v){v.lengthComputable&&(this.bytesLoaded=v.loaded,this.bytesTotal=v.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(f.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=e.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=e.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=e.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(v){if(this.state!==e.FILE_PENDING_DESTROY){v===void 0&&(v=this.data);var l=this.key,c=this.type;this.loader.emit(f.FILE_COMPLETE,l,c,v),this.loader.emit(f.FILE_KEY_COMPLETE+c+"-"+l,l,c,v),this.loader.flagForRemoval(this),this.state=e.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});u.createObjectURL=function(v,l,c){if(typeof URL=="function")v.src=URL.createObjectURL(l);else{var p=new FileReader;p.onload=function(){v.removeAttribute("crossOrigin"),v.src="data:"+(l.type||c)+";base64,"+p.result.split(",")[1]},p.onerror=v.onerror,p.readAsDataURL(l)}},u.revokeObjectURL=function(v){typeof URL=="function"&&URL.revokeObjectURL(v.src)},C.exports=u},9845:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={},h={install:function(y){for(var e in M)y[e]=M[e]},register:function(y,e){M[y]=e},destroy:function(){M={}}};C.exports=h},5593:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){return h.url?h.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?h.url:y+h.url:!1};C.exports=M},7410:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(1030),e=h(707),f=function(d,s){var a=d===void 0?e():y({},d);if(s)for(var r in s)s[r]!==void 0&&(a[r]=s[r]);return a};C.exports=f},3137:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(4359),f=h(1179),d=new y({initialize:function(a,r,o,u){var v=[];u.forEach(function(p){p&&v.push(p)}),this.loader=a,this.type=r,this.key=o;var l=this.key;a.prefix&&a.prefix!==""&&(this.key=a.prefix+l),this.multiKeyIndex=a.multiKeyIndex++,this.files=v,this.state=e.FILE_PENDING,this.complete=!1,this.pending=v.length,this.failed=0,this.config={},this.baseURL=a.baseURL,this.path=a.path,this.prefix=a.prefix;for(var c=0;c<v.length;c++)v[c].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(s){return this.files.push(s),s.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(s){var a=this.files.indexOf(s);a!==-1&&this.pending--},onFileFailed:function(s){var a=this.files.indexOf(s);a!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,s.type,s.key))},pendingDestroy:function(){if(this.state!==e.FILE_PENDING_DESTROY){var s=this.key,a=this.type;this.loader.emit(f.FILE_COMPLETE,s,a),this.loader.emit(f.FILE_KEY_COMPLETE+a+"-"+s,s,a),this.loader.flagForRemoval(this);for(var r=0;r<this.files.length;r++)this.files[r].pendingDestroy();this.state=e.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});C.exports=d},5874:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7410),e=function(f,d){var s=y(d,f.xhrSettings),a=new XMLHttpRequest;if(a.open("GET",f.src,s.async,s.user,s.password),a.responseType=f.xhrSettings.responseType,a.timeout=s.timeout,s.headers)for(var r in s.headers)a.setRequestHeader(r,s.headers[r]);return s.header&&s.headerValue&&a.setRequestHeader(s.header,s.headerValue),s.requestedWith&&a.setRequestHeader("X-Requested-With",s.requestedWith),s.overrideMimeType&&a.overrideMimeType(s.overrideMimeType),s.withCredentials&&(a.withCredentials=!0),a.onload=f.onLoad.bind(f,a),a.onerror=f.onError.bind(f,a),a.onprogress=f.onProgress.bind(f),a.send(),a};C.exports=e},707:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f,d,s){return h===void 0&&(h=""),y===void 0&&(y=!0),e===void 0&&(e=""),f===void 0&&(f=""),d===void 0&&(d=0),s===void 0&&(s=!1),{responseType:h,async:y,user:e,password:f,timeout:d,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:s}};C.exports=M},4359:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};C.exports=M},462:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="addfile"},7297:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="complete"},8660:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="filecomplete"},6484:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="filecomplete-"},7972:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="loaderror"},1906:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="load"},1441:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="fileprogress"},1072:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="postprocess"},1927:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="progress"},6597:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="start"},1179:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={ADD:h(462),COMPLETE:h(7297),FILE_COMPLETE:h(8660),FILE_KEY_COMPLETE:h(6484),FILE_LOAD_ERROR:h(7972),FILE_LOAD:h(1906),FILE_PROGRESS:h(1441),POST_PROCESS:h(1072),PROGRESS:h(1927),START:h(6597)}},6732:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(4359),f=h(1593),d=h(9845),s=h(4597),a=h(2482),r=h(5593),o=new y({Extends:f,initialize:function u(v,l,c,p,g){var m="png",T;if(a(l)){var S=l;l=s(S,"key"),c=s(S,"url"),T=s(S,"normalMap"),p=s(S,"xhrSettings"),m=s(S,"extension",m),g=s(S,"frameConfig")}Array.isArray(c)&&(T=c[1],c=c[0]);var P={type:"image",cache:v.textureManager,extension:m,responseType:"blob",key:l,url:c,xhrSettings:p,config:g};if(f.call(this,v,P),T){var E=new u(v,this.key,T,p,g);E.type="normalMap",this.setLink(E),v.addFile(E)}this.useImageElementLoad=v.imageLoadType==="HTMLImageElement",this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=e.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var u=this;this.data.onload=function(){f.revokeObjectURL(u.data),u.onProcessComplete()},this.data.onerror=function(){f.revokeObjectURL(u.data),u.onProcessError()},f.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var u=this.state;this.state=e.FILE_PROCESSING,u===e.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){if(this.state=e.FILE_LOADING,this.src=r(this,this.loader.baseURL),this.src.indexOf("data:")===0)console.warn("Local data URIs are not supported: "+this.key);else{this.data=new Image,this.data.crossOrigin=this.crossOrigin;var u=this;this.data.onload=function(){u.state=e.FILE_LOADED,u.loader.nextFile(u,!0)},this.data.onerror=function(){u.loader.nextFile(u,!1)},this.data.src=this.src}},addToCache:function(){var u=this.linkFile;u?u.state>=e.FILE_COMPLETE&&(u.type==="spritesheet"?u.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,u.data,this.data):this.cache.addImage(this.key,this.data,u.data)):this.cache.addImage(this.key,this.data)}});d.register("image",function(u,v,l){if(Array.isArray(u))for(var c=0;c<u.length;c++)this.addFile(new o(this,u[c]));else this.addFile(new o(this,u,v,l));return this}),C.exports=o},704:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(4359),f=h(1593),d=h(9845),s=h(4597),a=h(5851),r=h(2482),o=new y({Extends:f,initialize:function(v,l,c,p,g){var m="json";if(r(l)){var T=l;l=s(T,"key"),c=s(T,"url"),p=s(T,"xhrSettings"),m=s(T,"extension",m),g=s(T,"dataKey",g)}var S={type:"json",cache:v.cacheManager.json,extension:m,responseType:"text",key:l,url:c,xhrSettings:p,config:g};f.call(this,v,S),r(c)&&(g?this.data=a(c,g):this.data=c,this.state=e.FILE_POPULATED)},onProcess:function(){if(this.state!==e.FILE_POPULATED){this.state=e.FILE_PROCESSING;try{var u=JSON.parse(this.xhrLoader.responseText)}catch(l){throw this.onProcessError(),l}var v=this.config;typeof v=="string"?this.data=a(u,v,u):this.data=u}this.onProcessComplete()}});d.register("json",function(u,v,l,c){if(Array.isArray(u))for(var p=0;p<u.length;p++)this.addFile(new o(this,u[p]));else this.addFile(new o(this,u,v,c,l));return this}),C.exports=o},1192:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(4359),f=h(1593),d=h(9845),s=h(4597),a=h(2482),r=new y({Extends:f,initialize:function(u,v,l,c){var p="text",g="txt",m=u.cacheManager.text;if(a(v)){var T=v;v=s(T,"key"),l=s(T,"url"),c=s(T,"xhrSettings"),g=s(T,"extension",g),p=s(T,"type",p),m=s(T,"cache",m)}var S={type:p,cache:m,extension:g,responseType:"text",key:v,url:l,xhrSettings:c};f.call(this,u,S)},onProcess:function(){this.state=e.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});d.register("text",function(o,u,v){if(Array.isArray(o))for(var l=0;l<o.length;l++)this.addFile(new r(this,o[l]));else this.addFile(new r(this,o,u,v));return this}),C.exports=r},3136:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){for(var y=0,e=0;e<h.length;e++)y+=+h[e];return y/h.length};C.exports=M},785:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(3916),e=function(f,d){return y(f)/y(d)/y(f-d)};C.exports=e},7025:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){return Math.floor(Math.random()*(y-h+1)+h)};C.exports=M},48:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f,d){var s=(f-y)*.5,a=(d-e)*.5,r=h*h,o=h*r;return(2*e-2*f+s+a)*o+(-3*e+3*f-2*s-a)*r+s*h+e};C.exports=M},5035:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){y===void 0&&(y=0),e===void 0&&(e=10);var f=Math.pow(e,-y);return Math.ceil(h*f)/f};C.exports=M},2915:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){return Math.max(y,Math.min(e,h))};C.exports=M},7149:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7425),e=function(f){return f*y.DEG_TO_RAD};C.exports=e},2975:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){return Math.abs(h-y)};C.exports=M},2107:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(2915),e=h(7473),f=h(9652),d=h(1984),s=new f,a=new e({initialize:function r(o,u,v,l){o===void 0&&(o=0),u===void 0&&(u=0),v===void 0&&(v=0),l===void 0&&(l=r.DefaultOrder),this._x=o,this._y=u,this._z=v,this._order=l,this.onChangeCallback=d},x:{get:function(){return this._x},set:function(r){this._x=r,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(r){this._y=r,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(r){this._z=r,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(r){this._order=r,this.onChangeCallback(this)}},set:function(r,o,u,v){return v===void 0&&(v=this._order),this._x=r,this._y=o,this._z=u,this._order=v,this.onChangeCallback(this),this},copy:function(r){return this.set(r.x,r.y,r.z,r.order)},setFromQuaternion:function(r,o,u){return o===void 0&&(o=this._order),u===void 0&&(u=!1),s.fromQuat(r),this.setFromRotationMatrix(s,o,u)},setFromRotationMatrix:function(r,o,u){o===void 0&&(o=this._order),u===void 0&&(u=!1);var v=r.val,l=v[0],c=v[4],p=v[8],g=v[1],m=v[5],T=v[9],S=v[2],P=v[6],E=v[10],R=0,A=0,w=0,O=.99999;switch(o){case"XYZ":{A=Math.asin(y(p,-1,1)),Math.abs(p)<O?(R=Math.atan2(-T,E),w=Math.atan2(-c,l)):R=Math.atan2(P,m);break}case"YXZ":{R=Math.asin(-y(T,-1,1)),Math.abs(T)<O?(A=Math.atan2(p,E),w=Math.atan2(g,m)):A=Math.atan2(-S,l);break}case"ZXY":{R=Math.asin(y(P,-1,1)),Math.abs(P)<O?(A=Math.atan2(-S,E),w=Math.atan2(-c,m)):w=Math.atan2(g,l);break}case"ZYX":{A=Math.asin(-y(S,-1,1)),Math.abs(S)<O?(R=Math.atan2(P,E),w=Math.atan2(g,l)):w=Math.atan2(-c,m);break}case"YZX":{w=Math.asin(y(g,-1,1)),Math.abs(g)<O?(R=Math.atan2(-T,m),A=Math.atan2(-S,l)):A=Math.atan2(p,E);break}case"XZY":{w=Math.asin(-y(c,-1,1)),Math.abs(c)<O?(R=Math.atan2(P,m),A=Math.atan2(p,l)):R=Math.atan2(-T,E);break}}return this._x=R,this._y=A,this._z=w,this._order=o,u&&this.onChangeCallback(this),this}});a.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],a.DefaultOrder="XYZ",C.exports=a},3916:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){if(h===0)return 1;for(var y=h;--h;)y*=h;return y};C.exports=M},104:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){return Math.random()*(y-h)+h};C.exports=M},4941:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){y===void 0&&(y=0),e===void 0&&(e=10);var f=Math.pow(e,-y);return Math.floor(h*f)/f};C.exports=M},1555:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(2915),e=function(f,d,s){return f=y(f,0,1),(s-d)*f+d};C.exports=e},5005:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){return h/y/1e3};C.exports=M},3702:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return h==parseFloat(h)?!(h%2):void 0};C.exports=M},8820:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return h===parseFloat(h)?!(h%2):void 0};C.exports=M},1743:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){return(y-h)*e+h};C.exports=M},3416:C=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){return e===void 0&&(e=0),h.clone().lerp(y,e)};C.exports=M},2149:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=new y({initialize:function(d){this.val=new Float32Array(9),d?this.copy(d):this.identity()},clone:function(){return new e(this)},set:function(f){return this.copy(f)},copy:function(f){var d=this.val,s=f.val;return d[0]=s[0],d[1]=s[1],d[2]=s[2],d[3]=s[3],d[4]=s[4],d[5]=s[5],d[6]=s[6],d[7]=s[7],d[8]=s[8],this},fromMat4:function(f){var d=f.val,s=this.val;return s[0]=d[0],s[1]=d[1],s[2]=d[2],s[3]=d[4],s[4]=d[5],s[5]=d[6],s[6]=d[8],s[7]=d[9],s[8]=d[10],this},fromArray:function(f){var d=this.val;return d[0]=f[0],d[1]=f[1],d[2]=f[2],d[3]=f[3],d[4]=f[4],d[5]=f[5],d[6]=f[6],d[7]=f[7],d[8]=f[8],this},identity:function(){var f=this.val;return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=1,f[5]=0,f[6]=0,f[7]=0,f[8]=1,this},transpose:function(){var f=this.val,d=f[1],s=f[2],a=f[5];return f[1]=f[3],f[2]=f[6],f[3]=d,f[5]=f[7],f[6]=s,f[7]=a,this},invert:function(){var f=this.val,d=f[0],s=f[1],a=f[2],r=f[3],o=f[4],u=f[5],v=f[6],l=f[7],c=f[8],p=c*o-u*l,g=-c*r+u*v,m=l*r-o*v,T=d*p+s*g+a*m;return T?(T=1/T,f[0]=p*T,f[1]=(-c*s+a*l)*T,f[2]=(u*s-a*o)*T,f[3]=g*T,f[4]=(c*d-a*v)*T,f[5]=(-u*d+a*r)*T,f[6]=m*T,f[7]=(-l*d+s*v)*T,f[8]=(o*d-s*r)*T,this):null},adjoint:function(){var f=this.val,d=f[0],s=f[1],a=f[2],r=f[3],o=f[4],u=f[5],v=f[6],l=f[7],c=f[8];return f[0]=o*c-u*l,f[1]=a*l-s*c,f[2]=s*u-a*o,f[3]=u*v-r*c,f[4]=d*c-a*v,f[5]=a*r-d*u,f[6]=r*l-o*v,f[7]=s*v-d*l,f[8]=d*o-s*r,this},determinant:function(){var f=this.val,d=f[0],s=f[1],a=f[2],r=f[3],o=f[4],u=f[5],v=f[6],l=f[7],c=f[8];return d*(c*o-u*l)+s*(-c*r+u*v)+a*(l*r-o*v)},multiply:function(f){var d=this.val,s=d[0],a=d[1],r=d[2],o=d[3],u=d[4],v=d[5],l=d[6],c=d[7],p=d[8],g=f.val,m=g[0],T=g[1],S=g[2],P=g[3],E=g[4],R=g[5],A=g[6],w=g[7],O=g[8];return d[0]=m*s+T*o+S*l,d[1]=m*a+T*u+S*c,d[2]=m*r+T*v+S*p,d[3]=P*s+E*o+R*l,d[4]=P*a+E*u+R*c,d[5]=P*r+E*v+R*p,d[6]=A*s+w*o+O*l,d[7]=A*a+w*u+O*c,d[8]=A*r+w*v+O*p,this},translate:function(f){var d=this.val,s=f.x,a=f.y;return d[6]=s*d[0]+a*d[3]+d[6],d[7]=s*d[1]+a*d[4]+d[7],d[8]=s*d[2]+a*d[5]+d[8],this},rotate:function(f){var d=this.val,s=d[0],a=d[1],r=d[2],o=d[3],u=d[4],v=d[5],l=Math.sin(f),c=Math.cos(f);return d[0]=c*s+l*o,d[1]=c*a+l*u,d[2]=c*r+l*v,d[3]=c*o-l*s,d[4]=c*u-l*a,d[5]=c*v-l*r,this},scale:function(f){var d=this.val,s=f.x,a=f.y;return d[0]=s*d[0],d[1]=s*d[1],d[2]=s*d[2],d[3]=a*d[3],d[4]=a*d[4],d[5]=a*d[5],this},fromQuat:function(f){var d=f.x,s=f.y,a=f.z,r=f.w,o=d+d,u=s+s,v=a+a,l=d*o,c=d*u,p=d*v,g=s*u,m=s*v,T=a*v,S=r*o,P=r*u,E=r*v,R=this.val;return R[0]=1-(g+T),R[3]=c+E,R[6]=p-P,R[1]=c-E,R[4]=1-(l+T),R[7]=m+S,R[2]=p+P,R[5]=m-S,R[8]=1-(l+g),this},normalFromMat4:function(f){var d=f.val,s=this.val,a=d[0],r=d[1],o=d[2],u=d[3],v=d[4],l=d[5],c=d[6],p=d[7],g=d[8],m=d[9],T=d[10],S=d[11],P=d[12],E=d[13],R=d[14],A=d[15],w=a*l-r*v,O=a*c-o*v,L=a*p-u*v,F=r*c-o*l,I=r*p-u*l,B=o*p-u*c,G=g*E-m*P,N=g*R-T*P,U=g*A-S*P,Y=m*R-T*E,X=m*A-S*E,b=T*A-S*R,z=w*b-O*X+L*Y+F*U-I*N+B*G;return z?(z=1/z,s[0]=(l*b-c*X+p*Y)*z,s[1]=(c*U-v*b-p*N)*z,s[2]=(v*X-l*U+p*G)*z,s[3]=(o*X-r*b-u*Y)*z,s[4]=(a*b-o*U+u*N)*z,s[5]=(r*U-a*X-u*G)*z,s[6]=(E*B-R*I+A*F)*z,s[7]=(R*L-P*B-A*O)*z,s[8]=(P*I-E*L+A*w)*z,this):null}});C.exports=e},9652:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(5689),f=1e-6,d=new y({initialize:function(l){this.val=new Float32Array(16),l?this.copy(l):this.identity()},clone:function(){return new d(this)},set:function(v){return this.copy(v)},setValues:function(v,l,c,p,g,m,T,S,P,E,R,A,w,O,L,F){var I=this.val;return I[0]=v,I[1]=l,I[2]=c,I[3]=p,I[4]=g,I[5]=m,I[6]=T,I[7]=S,I[8]=P,I[9]=E,I[10]=R,I[11]=A,I[12]=w,I[13]=O,I[14]=L,I[15]=F,this},copy:function(v){var l=v.val;return this.setValues(l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],l[8],l[9],l[10],l[11],l[12],l[13],l[14],l[15])},fromArray:function(v){return this.setValues(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],v[12],v[13],v[14],v[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(v,l,c){var p=s.fromQuat(c),g=p.val,m=l.x,T=l.y,S=l.z;return this.setValues(g[0]*m,g[1]*m,g[2]*m,0,g[4]*T,g[5]*T,g[6]*T,0,g[8]*S,g[9]*S,g[10]*S,0,v.x,v.y,v.z,1)},xyz:function(v,l,c){this.identity();var p=this.val;return p[12]=v,p[13]=l,p[14]=c,this},scaling:function(v,l,c){this.zero();var p=this.val;return p[0]=v,p[5]=l,p[10]=c,p[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var v=this.val,l=v[1],c=v[2],p=v[3],g=v[6],m=v[7],T=v[11];return v[1]=v[4],v[2]=v[8],v[3]=v[12],v[4]=l,v[6]=v[9],v[7]=v[13],v[8]=c,v[9]=g,v[11]=v[14],v[12]=p,v[13]=m,v[14]=T,this},getInverse:function(v){return this.copy(v),this.invert()},invert:function(){var v=this.val,l=v[0],c=v[1],p=v[2],g=v[3],m=v[4],T=v[5],S=v[6],P=v[7],E=v[8],R=v[9],A=v[10],w=v[11],O=v[12],L=v[13],F=v[14],I=v[15],B=l*T-c*m,G=l*S-p*m,N=l*P-g*m,U=c*S-p*T,Y=c*P-g*T,X=p*P-g*S,b=E*L-R*O,z=E*F-A*O,D=E*I-w*O,V=R*F-A*L,k=R*I-w*L,W=A*I-w*F,H=B*W-G*k+N*V+U*D-Y*z+X*b;return H?(H=1/H,this.setValues((T*W-S*k+P*V)*H,(p*k-c*W-g*V)*H,(L*X-F*Y+I*U)*H,(A*Y-R*X-w*U)*H,(S*D-m*W-P*z)*H,(l*W-p*D+g*z)*H,(F*N-O*X-I*G)*H,(E*X-A*N+w*G)*H,(m*k-T*D+P*b)*H,(c*D-l*k-g*b)*H,(O*Y-L*N+I*B)*H,(R*N-E*Y-w*B)*H,(T*z-m*V-S*b)*H,(l*V-c*z+p*b)*H,(L*G-O*U-F*B)*H,(E*U-R*G+A*B)*H)):this},adjoint:function(){var v=this.val,l=v[0],c=v[1],p=v[2],g=v[3],m=v[4],T=v[5],S=v[6],P=v[7],E=v[8],R=v[9],A=v[10],w=v[11],O=v[12],L=v[13],F=v[14],I=v[15];return this.setValues(T*(A*I-w*F)-R*(S*I-P*F)+L*(S*w-P*A),-(c*(A*I-w*F)-R*(p*I-g*F)+L*(p*w-g*A)),c*(S*I-P*F)-T*(p*I-g*F)+L*(p*P-g*S),-(c*(S*w-P*A)-T*(p*w-g*A)+R*(p*P-g*S)),-(m*(A*I-w*F)-E*(S*I-P*F)+O*(S*w-P*A)),l*(A*I-w*F)-E*(p*I-g*F)+O*(p*w-g*A),-(l*(S*I-P*F)-m*(p*I-g*F)+O*(p*P-g*S)),l*(S*w-P*A)-m*(p*w-g*A)+E*(p*P-g*S),m*(R*I-w*L)-E*(T*I-P*L)+O*(T*w-P*R),-(l*(R*I-w*L)-E*(c*I-g*L)+O*(c*w-g*R)),l*(T*I-P*L)-m*(c*I-g*L)+O*(c*P-g*T),-(l*(T*w-P*R)-m*(c*w-g*R)+E*(c*P-g*T)),-(m*(R*F-A*L)-E*(T*F-S*L)+O*(T*A-S*R)),l*(R*F-A*L)-E*(c*F-p*L)+O*(c*A-p*R),-(l*(T*F-S*L)-m*(c*F-p*L)+O*(c*S-p*T)),l*(T*A-S*R)-m*(c*A-p*R)+E*(c*S-p*T))},determinant:function(){var v=this.val,l=v[0],c=v[1],p=v[2],g=v[3],m=v[4],T=v[5],S=v[6],P=v[7],E=v[8],R=v[9],A=v[10],w=v[11],O=v[12],L=v[13],F=v[14],I=v[15],B=l*T-c*m,G=l*S-p*m,N=l*P-g*m,U=c*S-p*T,Y=c*P-g*T,X=p*P-g*S,b=E*L-R*O,z=E*F-A*O,D=E*I-w*O,V=R*F-A*L,k=R*I-w*L,W=A*I-w*F;return B*W-G*k+N*V+U*D-Y*z+X*b},multiply:function(v){var l=this.val,c=l[0],p=l[1],g=l[2],m=l[3],T=l[4],S=l[5],P=l[6],E=l[7],R=l[8],A=l[9],w=l[10],O=l[11],L=l[12],F=l[13],I=l[14],B=l[15],G=v.val,N=G[0],U=G[1],Y=G[2],X=G[3];return l[0]=N*c+U*T+Y*R+X*L,l[1]=N*p+U*S+Y*A+X*F,l[2]=N*g+U*P+Y*w+X*I,l[3]=N*m+U*E+Y*O+X*B,N=G[4],U=G[5],Y=G[6],X=G[7],l[4]=N*c+U*T+Y*R+X*L,l[5]=N*p+U*S+Y*A+X*F,l[6]=N*g+U*P+Y*w+X*I,l[7]=N*m+U*E+Y*O+X*B,N=G[8],U=G[9],Y=G[10],X=G[11],l[8]=N*c+U*T+Y*R+X*L,l[9]=N*p+U*S+Y*A+X*F,l[10]=N*g+U*P+Y*w+X*I,l[11]=N*m+U*E+Y*O+X*B,N=G[12],U=G[13],Y=G[14],X=G[15],l[12]=N*c+U*T+Y*R+X*L,l[13]=N*p+U*S+Y*A+X*F,l[14]=N*g+U*P+Y*w+X*I,l[15]=N*m+U*E+Y*O+X*B,this},multiplyLocal:function(v){var l=this.val,c=v.val;return this.setValues(l[0]*c[0]+l[1]*c[4]+l[2]*c[8]+l[3]*c[12],l[0]*c[1]+l[1]*c[5]+l[2]*c[9]+l[3]*c[13],l[0]*c[2]+l[1]*c[6]+l[2]*c[10]+l[3]*c[14],l[0]*c[3]+l[1]*c[7]+l[2]*c[11]+l[3]*c[15],l[4]*c[0]+l[5]*c[4]+l[6]*c[8]+l[7]*c[12],l[4]*c[1]+l[5]*c[5]+l[6]*c[9]+l[7]*c[13],l[4]*c[2]+l[5]*c[6]+l[6]*c[10]+l[7]*c[14],l[4]*c[3]+l[5]*c[7]+l[6]*c[11]+l[7]*c[15],l[8]*c[0]+l[9]*c[4]+l[10]*c[8]+l[11]*c[12],l[8]*c[1]+l[9]*c[5]+l[10]*c[9]+l[11]*c[13],l[8]*c[2]+l[9]*c[6]+l[10]*c[10]+l[11]*c[14],l[8]*c[3]+l[9]*c[7]+l[10]*c[11]+l[11]*c[15],l[12]*c[0]+l[13]*c[4]+l[14]*c[8]+l[15]*c[12],l[12]*c[1]+l[13]*c[5]+l[14]*c[9]+l[15]*c[13],l[12]*c[2]+l[13]*c[6]+l[14]*c[10]+l[15]*c[14],l[12]*c[3]+l[13]*c[7]+l[14]*c[11]+l[15]*c[15])},premultiply:function(v){return this.multiplyMatrices(v,this)},multiplyMatrices:function(v,l){var c=v.val,p=l.val,g=c[0],m=c[4],T=c[8],S=c[12],P=c[1],E=c[5],R=c[9],A=c[13],w=c[2],O=c[6],L=c[10],F=c[14],I=c[3],B=c[7],G=c[11],N=c[15],U=p[0],Y=p[4],X=p[8],b=p[12],z=p[1],D=p[5],V=p[9],k=p[13],W=p[2],H=p[6],$=p[10],K=p[14],Z=p[3],j=p[7],J=p[11],Q=p[15];return this.setValues(g*U+m*z+T*W+S*Z,P*U+E*z+R*W+A*Z,w*U+O*z+L*W+F*Z,I*U+B*z+G*W+N*Z,g*Y+m*D+T*H+S*j,P*Y+E*D+R*H+A*j,w*Y+O*D+L*H+F*j,I*Y+B*D+G*H+N*j,g*X+m*V+T*$+S*J,P*X+E*V+R*$+A*J,w*X+O*V+L*$+F*J,I*X+B*V+G*$+N*J,g*b+m*k+T*K+S*Q,P*b+E*k+R*K+A*Q,w*b+O*k+L*K+F*Q,I*b+B*k+G*K+N*Q)},translate:function(v){return this.translateXYZ(v.x,v.y,v.z)},translateXYZ:function(v,l,c){var p=this.val;return p[12]=p[0]*v+p[4]*l+p[8]*c+p[12],p[13]=p[1]*v+p[5]*l+p[9]*c+p[13],p[14]=p[2]*v+p[6]*l+p[10]*c+p[14],p[15]=p[3]*v+p[7]*l+p[11]*c+p[15],this},scale:function(v){return this.scaleXYZ(v.x,v.y,v.z)},scaleXYZ:function(v,l,c){var p=this.val;return p[0]=p[0]*v,p[1]=p[1]*v,p[2]=p[2]*v,p[3]=p[3]*v,p[4]=p[4]*l,p[5]=p[5]*l,p[6]=p[6]*l,p[7]=p[7]*l,p[8]=p[8]*c,p[9]=p[9]*c,p[10]=p[10]*c,p[11]=p[11]*c,this},makeRotationAxis:function(v,l){var c=Math.cos(l),p=Math.sin(l),g=1-c,m=v.x,T=v.y,S=v.z,P=g*m,E=g*T;return this.setValues(P*m+c,P*T-p*S,P*S+p*T,0,P*T+p*S,E*T+c,E*S-p*m,0,P*S-p*T,E*S+p*m,g*S*S+c,0,0,0,0,1)},rotate:function(v,l){var c=this.val,p=l.x,g=l.y,m=l.z,T=Math.sqrt(p*p+g*g+m*m);if(Math.abs(T)<f)return this;T=1/T,p*=T,g*=T,m*=T;var S=Math.sin(v),P=Math.cos(v),E=1-P,R=c[0],A=c[1],w=c[2],O=c[3],L=c[4],F=c[5],I=c[6],B=c[7],G=c[8],N=c[9],U=c[10],Y=c[11],X=c[12],b=c[13],z=c[14],D=c[15],V=p*p*E+P,k=g*p*E+m*S,W=m*p*E-g*S,H=p*g*E-m*S,$=g*g*E+P,K=m*g*E+p*S,Z=p*m*E+g*S,j=g*m*E-p*S,J=m*m*E+P;return this.setValues(R*V+L*k+G*W,A*V+F*k+N*W,w*V+I*k+U*W,O*V+B*k+Y*W,R*H+L*$+G*K,A*H+F*$+N*K,w*H+I*$+U*K,O*H+B*$+Y*K,R*Z+L*j+G*J,A*Z+F*j+N*J,w*Z+I*j+U*J,O*Z+B*j+Y*J,X,b,z,D)},rotateX:function(v){var l=this.val,c=Math.sin(v),p=Math.cos(v),g=l[4],m=l[5],T=l[6],S=l[7],P=l[8],E=l[9],R=l[10],A=l[11];return l[4]=g*p+P*c,l[5]=m*p+E*c,l[6]=T*p+R*c,l[7]=S*p+A*c,l[8]=P*p-g*c,l[9]=E*p-m*c,l[10]=R*p-T*c,l[11]=A*p-S*c,this},rotateY:function(v){var l=this.val,c=Math.sin(v),p=Math.cos(v),g=l[0],m=l[1],T=l[2],S=l[3],P=l[8],E=l[9],R=l[10],A=l[11];return l[0]=g*p-P*c,l[1]=m*p-E*c,l[2]=T*p-R*c,l[3]=S*p-A*c,l[8]=g*c+P*p,l[9]=m*c+E*p,l[10]=T*c+R*p,l[11]=S*c+A*p,this},rotateZ:function(v){var l=this.val,c=Math.sin(v),p=Math.cos(v),g=l[0],m=l[1],T=l[2],S=l[3],P=l[4],E=l[5],R=l[6],A=l[7];return l[0]=g*p+P*c,l[1]=m*p+E*c,l[2]=T*p+R*c,l[3]=S*p+A*c,l[4]=P*p-g*c,l[5]=E*p-m*c,l[6]=R*p-T*c,l[7]=A*p-S*c,this},fromRotationTranslation:function(v,l){var c=v.x,p=v.y,g=v.z,m=v.w,T=c+c,S=p+p,P=g+g,E=c*T,R=c*S,A=c*P,w=p*S,O=p*P,L=g*P,F=m*T,I=m*S,B=m*P;return this.setValues(1-(w+L),R+B,A-I,0,R-B,1-(E+L),O+F,0,A+I,O-F,1-(E+w),0,l.x,l.y,l.z,1)},fromQuat:function(v){var l=v.x,c=v.y,p=v.z,g=v.w,m=l+l,T=c+c,S=p+p,P=l*m,E=l*T,R=l*S,A=c*T,w=c*S,O=p*S,L=g*m,F=g*T,I=g*S;return this.setValues(1-(A+O),E+I,R-F,0,E-I,1-(P+O),w+L,0,R+F,w-L,1-(P+A),0,0,0,0,1)},frustum:function(v,l,c,p,g,m){var T=1/(l-v),S=1/(p-c),P=1/(g-m);return this.setValues(g*2*T,0,0,0,0,g*2*S,0,0,(l+v)*T,(p+c)*S,(m+g)*P,-1,0,0,m*g*2*P,0)},perspective:function(v,l,c,p){var g=1/Math.tan(v/2),m=1/(c-p);return this.setValues(g/l,0,0,0,0,g,0,0,0,0,(p+c)*m,-1,0,0,2*p*c*m,0)},perspectiveLH:function(v,l,c,p){return this.setValues(2*c/v,0,0,0,0,2*c/l,0,0,0,0,-p/(c-p),1,0,0,c*p/(c-p),0)},ortho:function(v,l,c,p,g,m){var T=v-l,S=c-p,P=g-m;return T=T===0?T:1/T,S=S===0?S:1/S,P=P===0?P:1/P,this.setValues(-2*T,0,0,0,0,-2*S,0,0,0,0,2*P,0,(v+l)*T,(p+c)*S,(m+g)*P,1)},lookAtRH:function(v,l,c){var p=this.val;return u.subVectors(v,l),u.getLengthSquared()===0&&(u.z=1),u.normalize(),r.crossVectors(c,u),r.getLengthSquared()===0&&(Math.abs(c.z)===1?u.x+=1e-4:u.z+=1e-4,u.normalize(),r.crossVectors(c,u)),r.normalize(),o.crossVectors(u,r),p[0]=r.x,p[1]=r.y,p[2]=r.z,p[4]=o.x,p[5]=o.y,p[6]=o.z,p[8]=u.x,p[9]=u.y,p[10]=u.z,this},lookAt:function(v,l,c){var p=v.x,g=v.y,m=v.z,T=c.x,S=c.y,P=c.z,E=l.x,R=l.y,A=l.z;if(Math.abs(p-E)<f&&Math.abs(g-R)<f&&Math.abs(m-A)<f)return this.identity();var w=p-E,O=g-R,L=m-A,F=1/Math.sqrt(w*w+O*O+L*L);w*=F,O*=F,L*=F;var I=S*L-P*O,B=P*w-T*L,G=T*O-S*w;F=Math.sqrt(I*I+B*B+G*G),F?(F=1/F,I*=F,B*=F,G*=F):(I=0,B=0,G=0);var N=O*G-L*B,U=L*I-w*G,Y=w*B-O*I;return F=Math.sqrt(N*N+U*U+Y*Y),F?(F=1/F,N*=F,U*=F,Y*=F):(N=0,U=0,Y=0),this.setValues(I,N,w,0,B,U,O,0,G,Y,L,0,-(I*p+B*g+G*m),-(N*p+U*g+Y*m),-(w*p+O*g+L*m),1)},yawPitchRoll:function(v,l,c){this.zero(),s.zero(),a.zero();var p=this.val,g=s.val,m=a.val,T=Math.sin(c),S=Math.cos(c);return p[10]=1,p[15]=1,p[0]=S,p[1]=T,p[4]=-T,p[5]=S,T=Math.sin(l),S=Math.cos(l),g[0]=1,g[15]=1,g[5]=S,g[10]=S,g[9]=-T,g[6]=T,T=Math.sin(v),S=Math.cos(v),m[5]=1,m[15]=1,m[0]=S,m[2]=-T,m[8]=T,m[10]=S,this.multiplyLocal(s),this.multiplyLocal(a),this},setWorldMatrix:function(v,l,c,p,g){return this.yawPitchRoll(v.y,v.x,v.z),s.scaling(c.x,c.y,c.z),a.xyz(l.x,l.y,l.z),this.multiplyLocal(s),this.multiplyLocal(a),p&&this.multiplyLocal(p),g&&this.multiplyLocal(g),this},multiplyToMat4:function(v,l){var c=this.val,p=v.val,g=c[0],m=c[1],T=c[2],S=c[3],P=c[4],E=c[5],R=c[6],A=c[7],w=c[8],O=c[9],L=c[10],F=c[11],I=c[12],B=c[13],G=c[14],N=c[15],U=p[0],Y=p[1],X=p[2],b=p[3],z=p[4],D=p[5],V=p[6],k=p[7],W=p[8],H=p[9],$=p[10],K=p[11],Z=p[12],j=p[13],J=p[14],Q=p[15];return l.setValues(U*g+Y*P+X*w+b*I,Y*m+Y*E+X*O+b*B,X*T+Y*R+X*L+b*G,b*S+Y*A+X*F+b*N,z*g+D*P+V*w+k*I,z*m+D*E+V*O+k*B,z*T+D*R+V*L+k*G,z*S+D*A+V*F+k*N,W*g+H*P+$*w+K*I,W*m+H*E+$*O+K*B,W*T+H*R+$*L+K*G,W*S+H*A+$*F+K*N,Z*g+j*P+J*w+Q*I,Z*m+j*E+J*O+Q*B,Z*T+j*R+J*L+Q*G,Z*S+j*A+J*F+Q*N)},fromRotationXYTranslation:function(v,l,c){var p=l.x,g=l.y,m=l.z,T=Math.sin(v.x),S=Math.cos(v.x),P=Math.sin(v.y),E=Math.cos(v.y),R=p,A=g,w=m,O=-T,L=0-O*P,F=0-S*P,I=O*E,B=S*E;return c||(R=E*p+P*m,A=L*p+S*g+I*m,w=F*p+T*g+B*m),this.setValues(E,L,F,0,0,S,T,0,P,I,B,0,R,A,w,1)},getMaxScaleOnAxis:function(){var v=this.val,l=v[0]*v[0]+v[1]*v[1]+v[2]*v[2],c=v[4]*v[4]+v[5]*v[5]+v[6]*v[6],p=v[8]*v[8]+v[9]*v[9]+v[10]*v[10];return Math.sqrt(Math.max(l,c,p))}}),s=new d,a=new d,r=new e,o=new e,u=new e;C.exports=d},3733:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){return Math.min(h+y,e)};C.exports=M},44:C=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){var y=h.length;if(y===0)return 0;h.sort(function(f,d){return f-d});var e=Math.floor(y/2);return y%2===0?(h[e]+h[e-1])/2:h[e]};C.exports=M},5385:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){return Math.max(h-y,e)};C.exports=M},8585:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f){e===void 0&&(e=y+1);var d=(h-y)/(e-y);return d>1?f!==void 0?(d=(f-h)/(f-e),d<0&&(d=0)):d=1:d<0&&(d=0),d};C.exports=M},372:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(2149),f=h(1984),d=h(5689),s=1e-6,a=new Int8Array([1,2,0]),r=new Float32Array([0,0,0]),o=new d(1,0,0),u=new d(0,1,0),v=new d,l=new e,c=new y({initialize:function(g,m,T,S){this.onChangeCallback=f,this.set(g,m,T,S)},x:{get:function(){return this._x},set:function(p){this._x=p,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(p){this._y=p,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(p){this._z=p,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(p){this._w=p,this.onChangeCallback(this)}},copy:function(p){return this.set(p)},set:function(p,g,m,T,S){return S===void 0&&(S=!0),typeof p=="object"?(this._x=p.x||0,this._y=p.y||0,this._z=p.z||0,this._w=p.w||0):(this._x=p||0,this._y=g||0,this._z=m||0,this._w=T||0),S&&this.onChangeCallback(this),this},add:function(p){return this._x+=p.x,this._y+=p.y,this._z+=p.z,this._w+=p.w,this.onChangeCallback(this),this},subtract:function(p){return this._x-=p.x,this._y-=p.y,this._z-=p.z,this._w-=p.w,this.onChangeCallback(this),this},scale:function(p){return this._x*=p,this._y*=p,this._z*=p,this._w*=p,this.onChangeCallback(this),this},length:function(){var p=this.x,g=this.y,m=this.z,T=this.w;return Math.sqrt(p*p+g*g+m*m+T*T)},lengthSq:function(){var p=this.x,g=this.y,m=this.z,T=this.w;return p*p+g*g+m*m+T*T},normalize:function(){var p=this.x,g=this.y,m=this.z,T=this.w,S=p*p+g*g+m*m+T*T;return S>0&&(S=1/Math.sqrt(S),this._x=p*S,this._y=g*S,this._z=m*S,this._w=T*S),this.onChangeCallback(this),this},dot:function(p){return this.x*p.x+this.y*p.y+this.z*p.z+this.w*p.w},lerp:function(p,g){g===void 0&&(g=0);var m=this.x,T=this.y,S=this.z,P=this.w;return this.set(m+g*(p.x-m),T+g*(p.y-T),S+g*(p.z-S),P+g*(p.w-P))},rotationTo:function(p,g){var m=p.x*g.x+p.y*g.y+p.z*g.z;return m<-.999999?(v.copy(o).cross(p).length()<s&&v.copy(u).cross(p),v.normalize(),this.setAxisAngle(v,Math.PI)):m>.999999?this.set(0,0,0,1):(v.copy(p).cross(g),this._x=v.x,this._y=v.y,this._z=v.z,this._w=1+m,this.normalize())},setAxes:function(p,g,m){var T=l.val;return T[0]=g.x,T[3]=g.y,T[6]=g.z,T[1]=m.x,T[4]=m.y,T[7]=m.z,T[2]=-p.x,T[5]=-p.y,T[8]=-p.z,this.fromMat3(l).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(p,g){g=g*.5;var m=Math.sin(g);return this.set(m*p.x,m*p.y,m*p.z,Math.cos(g))},multiply:function(p){var g=this.x,m=this.y,T=this.z,S=this.w,P=p.x,E=p.y,R=p.z,A=p.w;return this.set(g*A+S*P+m*R-T*E,m*A+S*E+T*P-g*R,T*A+S*R+g*E-m*P,S*A-g*P-m*E-T*R)},slerp:function(p,g){var m=this.x,T=this.y,S=this.z,P=this.w,E=p.x,R=p.y,A=p.z,w=p.w,O=m*E+T*R+S*A+P*w;O<0&&(O=-O,E=-E,R=-R,A=-A,w=-w);var L=1-g,F=g;if(1-O>s){var I=Math.acos(O),B=Math.sin(I);L=Math.sin((1-g)*I)/B,F=Math.sin(g*I)/B}return this.set(L*m+F*E,L*T+F*R,L*S+F*A,L*P+F*w)},invert:function(){var p=this.x,g=this.y,m=this.z,T=this.w,S=p*p+g*g+m*m+T*T,P=S?1/S:0;return this.set(-p*P,-g*P,-m*P,T*P)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(p){p*=.5;var g=this.x,m=this.y,T=this.z,S=this.w,P=Math.sin(p),E=Math.cos(p);return this.set(g*E+S*P,m*E+T*P,T*E-m*P,S*E-g*P)},rotateY:function(p){p*=.5;var g=this.x,m=this.y,T=this.z,S=this.w,P=Math.sin(p),E=Math.cos(p);return this.set(g*E-T*P,m*E+S*P,T*E+g*P,S*E-m*P)},rotateZ:function(p){p*=.5;var g=this.x,m=this.y,T=this.z,S=this.w,P=Math.sin(p),E=Math.cos(p);return this.set(g*E+m*P,m*E-g*P,T*E+S*P,S*E-T*P)},calculateW:function(){var p=this.x,g=this.y,m=this.z;return this.w=-Math.sqrt(1-p*p-g*g-m*m),this},setFromEuler:function(p,g){var m=p.x/2,T=p.y/2,S=p.z/2,P=Math.cos(m),E=Math.cos(T),R=Math.cos(S),A=Math.sin(m),w=Math.sin(T),O=Math.sin(S);switch(p.order){case"XYZ":{this.set(A*E*R+P*w*O,P*w*R-A*E*O,P*E*O+A*w*R,P*E*R-A*w*O,g);break}case"YXZ":{this.set(A*E*R+P*w*O,P*w*R-A*E*O,P*E*O-A*w*R,P*E*R+A*w*O,g);break}case"ZXY":{this.set(A*E*R-P*w*O,P*w*R+A*E*O,P*E*O+A*w*R,P*E*R-A*w*O,g);break}case"ZYX":{this.set(A*E*R-P*w*O,P*w*R+A*E*O,P*E*O-A*w*R,P*E*R+A*w*O,g);break}case"YZX":{this.set(A*E*R+P*w*O,P*w*R+A*E*O,P*E*O-A*w*R,P*E*R-A*w*O,g);break}case"XZY":{this.set(A*E*R-P*w*O,P*w*R-A*E*O,P*E*O+A*w*R,P*E*R+A*w*O,g);break}}return this},setFromRotationMatrix:function(p){var g=p.val,m=g[0],T=g[4],S=g[8],P=g[1],E=g[5],R=g[9],A=g[2],w=g[6],O=g[10],L=m+E+O,F;return L>0?(F=.5/Math.sqrt(L+1),this.set((w-R)*F,(S-A)*F,(P-T)*F,.25/F)):m>E&&m>O?(F=2*Math.sqrt(1+m-E-O),this.set(.25*F,(T+P)/F,(S+A)/F,(w-R)/F)):E>O?(F=2*Math.sqrt(1+E-m-O),this.set((T+P)/F,.25*F,(R+w)/F,(S-A)/F)):(F=2*Math.sqrt(1+O-m-E),this.set((S+A)/F,(R+w)/F,.25*F,(P-T)/F)),this},fromMat3:function(p){var g=p.val,m=g[0]+g[4]+g[8],T;if(m>0)T=Math.sqrt(m+1),this.w=.5*T,T=.5/T,this._x=(g[7]-g[5])*T,this._y=(g[2]-g[6])*T,this._z=(g[3]-g[1])*T;else{var S=0;g[4]>g[0]&&(S=1),g[8]>g[S*3+S]&&(S=2);var P=a[S],E=a[P];T=Math.sqrt(g[S*3+S]-g[P*3+P]-g[E*3+E]+1),r[S]=.5*T,T=.5/T,r[P]=(g[P*3+S]+g[S*3+P])*T,r[E]=(g[E*3+S]+g[S*3+E])*T,this._x=r[0],this._y=r[1],this._z=r[2],this._w=(g[E*3+P]-g[P*3+E])*T}return this.onChangeCallback(this),this}});C.exports=c},4208:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7425),e=function(f){return f*y.RAD_TO_DEG};C.exports=e},1705:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){y===void 0&&(y=1);var e=Math.random()*2*Math.PI;return h.x=Math.cos(e)*y,h.y=Math.sin(e)*y,h};C.exports=M},6650:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){y===void 0&&(y=1);var e=Math.random()*2*Math.PI,f=Math.random()*2-1,d=Math.sqrt(1-f*f)*y;return h.x=Math.cos(e)*d,h.y=Math.sin(e)*d,h.z=f*y,h};C.exports=M},2037:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){return y===void 0&&(y=1),h.x=(Math.random()*2-1)*y,h.y=(Math.random()*2-1)*y,h.z=(Math.random()*2-1)*y,h.w=(Math.random()*2-1)*y,h};C.exports=M},6283:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){var e=h.x,f=h.y;return h.x=e*Math.cos(y)-f*Math.sin(y),h.y=e*Math.sin(y)+f*Math.cos(y),h};C.exports=M},9876:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f){var d=Math.cos(f),s=Math.sin(f),a=h.x-y,r=h.y-e;return h.x=a*d-r*s+y,h.y=a*s+r*d+e,h};C.exports=M},8348:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f,d){var s=f+Math.atan2(h.y-e,h.x-y);return h.x=y+d*Math.cos(s),h.y=e+d*Math.sin(s),h};C.exports=M},4497:C=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f,d){return h.x=y+d*Math.cos(f),h.y=e+d*Math.sin(f),h};C.exports=M},9640:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(5689),e=h(9652),f=h(372),d=new e,s=new f,a=new y,r=function(o,u,v){return s.setAxisAngle(u,v),d.fromRotationTranslation(s,a.set(0,0,0)),o.transformMat4(d)};C.exports=r},4078:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return h>0?Math.ceil(h):Math.floor(h)};C.exports=M},855:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){y===void 0&&(y=0),e===void 0&&(e=10);var f=Math.pow(e,-y);return Math.round(h*f)/f};C.exports=M},4936:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f){y===void 0&&(y=1),e===void 0&&(e=1),f===void 0&&(f=1),f*=Math.PI/h;for(var d=[],s=[],a=0;a<h;a++)e-=y*f,y+=e*f,d[a]=e,s[a]=y;return{sin:s,cos:d,length:h}};C.exports=M},2733:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){return h<=y?0:h>=e?1:(h=(h-y)/(e-y),h*h*(3-2*h))};C.exports=M},278:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){return h=Math.max(0,Math.min(1,(h-y)/(e-y))),h*h*h*(h*(h*6-15)+10)};C.exports=M},163:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(2529),e=function(f,d,s,a){a===void 0&&(a=new y);var r=0,o=0,u=d*s;return f>0&&f<=u&&(f>d-1?(o=Math.floor(f/d),r=f-o*d):r=f),a.set(r,o)};C.exports=e},7556:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(2529),e=function(f,d,s,a,r,o,u,v){v===void 0&&(v=new y);var l=Math.sin(r),c=Math.cos(r),p=c*o,g=l*o,m=-l*u,T=c*u,S=1/(p*T+m*-g);return v.x=T*S*f+-m*S*d+(a*m-s*T)*S,v.y=p*S*d+-g*S*f+(-a*p+s*g)*S,v};C.exports=e},2529:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(12),f=new y({initialize:function(s,a){this.x=0,this.y=0,typeof s=="object"?(this.x=s.x||0,this.y=s.y||0):(a===void 0&&(a=s),this.x=s||0,this.y=a||0)},clone:function(){return new f(this.x,this.y)},copy:function(d){return this.x=d.x||0,this.y=d.y||0,this},setFromObject:function(d){return this.x=d.x||0,this.y=d.y||0,this},set:function(d,s){return s===void 0&&(s=d),this.x=d,this.y=s,this},setTo:function(d,s){return this.set(d,s)},setToPolar:function(d,s){return s==null&&(s=1),this.x=Math.cos(d)*s,this.y=Math.sin(d)*s,this},equals:function(d){return this.x===d.x&&this.y===d.y},fuzzyEquals:function(d,s){return e(this.x,d.x,s)&&e(this.y,d.y,s)},angle:function(){var d=Math.atan2(this.y,this.x);return d<0&&(d+=2*Math.PI),d},setAngle:function(d){return this.setToPolar(d,this.length())},add:function(d){return this.x+=d.x,this.y+=d.y,this},subtract:function(d){return this.x-=d.x,this.y-=d.y,this},multiply:function(d){return this.x*=d.x,this.y*=d.y,this},scale:function(d){return isFinite(d)?(this.x*=d,this.y*=d):(this.x=0,this.y=0),this},divide:function(d){return this.x/=d.x,this.y/=d.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(d){var s=d.x-this.x,a=d.y-this.y;return Math.sqrt(s*s+a*a)},distanceSq:function(d){var s=d.x-this.x,a=d.y-this.y;return s*s+a*a},length:function(){var d=this.x,s=this.y;return Math.sqrt(d*d+s*s)},setLength:function(d){return this.normalize().scale(d)},lengthSq:function(){var d=this.x,s=this.y;return d*d+s*s},normalize:function(){var d=this.x,s=this.y,a=d*d+s*s;return a>0&&(a=1/Math.sqrt(a),this.x=d*a,this.y=s*a),this},normalizeRightHand:function(){var d=this.x;return this.x=this.y*-1,this.y=d,this},normalizeLeftHand:function(){var d=this.x;return this.x=this.y,this.y=d*-1,this},dot:function(d){return this.x*d.x+this.y*d.y},cross:function(d){return this.x*d.y-this.y*d.x},lerp:function(d,s){s===void 0&&(s=0);var a=this.x,r=this.y;return this.x=a+s*(d.x-a),this.y=r+s*(d.y-r),this},transformMat3:function(d){var s=this.x,a=this.y,r=d.val;return this.x=r[0]*s+r[3]*a+r[6],this.y=r[1]*s+r[4]*a+r[7],this},transformMat4:function(d){var s=this.x,a=this.y,r=d.val;return this.x=r[0]*s+r[4]*a+r[12],this.y=r[1]*s+r[5]*a+r[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(d){var s=this.length();return s&&s>d&&this.scale(d/s),this},reflect:function(d){return d=d.clone().normalize(),this.subtract(d.scale(2*this.dot(d)))},mirror:function(d){return this.reflect(d).negate()},rotate:function(d){var s=Math.cos(d),a=Math.sin(d);return this.set(s*this.x-a*this.y,a*this.x+s*this.y)},project:function(d){var s=this.dot(d)/d.dot(d);return this.copy(d).scale(s)}});f.ZERO=new f,f.RIGHT=new f(1,0),f.LEFT=new f(-1,0),f.UP=new f(0,-1),f.DOWN=new f(0,1),f.ONE=new f(1,1),C.exports=f},5689:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=new y({initialize:function(d,s,a){this.x=0,this.y=0,this.z=0,typeof d=="object"?(this.x=d.x||0,this.y=d.y||0,this.z=d.z||0):(this.x=d||0,this.y=s||0,this.z=a||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(f){return this.x=Math.min(this.x,f.x),this.y=Math.min(this.y,f.y),this.z=Math.min(this.z,f.z),this},max:function(f){return this.x=Math.max(this.x,f.x),this.y=Math.max(this.y,f.y),this.z=Math.max(this.z,f.z),this},clone:function(){return new e(this.x,this.y,this.z)},addVectors:function(f,d){return this.x=f.x+d.x,this.y=f.y+d.y,this.z=f.z+d.z,this},crossVectors:function(f,d){var s=f.x,a=f.y,r=f.z,o=d.x,u=d.y,v=d.z;return this.x=a*v-r*u,this.y=r*o-s*v,this.z=s*u-a*o,this},equals:function(f){return this.x===f.x&&this.y===f.y&&this.z===f.z},copy:function(f){return this.x=f.x,this.y=f.y,this.z=f.z||0,this},set:function(f,d,s){return typeof f=="object"?(this.x=f.x||0,this.y=f.y||0,this.z=f.z||0):(this.x=f||0,this.y=d||0,this.z=s||0),this},setFromMatrixPosition:function(f){return this.fromArray(f.val,12)},setFromMatrixColumn:function(f,d){return this.fromArray(f.val,d*4)},fromArray:function(f,d){return d===void 0&&(d=0),this.x=f[d],this.y=f[d+1],this.z=f[d+2],this},add:function(f){return this.x+=f.x,this.y+=f.y,this.z+=f.z||0,this},addScalar:function(f){return this.x+=f,this.y+=f,this.z+=f,this},addScale:function(f,d){return this.x+=f.x*d,this.y+=f.y*d,this.z+=f.z*d||0,this},subtract:function(f){return this.x-=f.x,this.y-=f.y,this.z-=f.z||0,this},multiply:function(f){return this.x*=f.x,this.y*=f.y,this.z*=f.z||1,this},scale:function(f){return isFinite(f)?(this.x*=f,this.y*=f,this.z*=f):(this.x=0,this.y=0,this.z=0),this},divide:function(f){return this.x/=f.x,this.y/=f.y,this.z/=f.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(f){var d=f.x-this.x,s=f.y-this.y,a=f.z-this.z||0;return Math.sqrt(d*d+s*s+a*a)},distanceSq:function(f){var d=f.x-this.x,s=f.y-this.y,a=f.z-this.z||0;return d*d+s*s+a*a},length:function(){var f=this.x,d=this.y,s=this.z;return Math.sqrt(f*f+d*d+s*s)},lengthSq:function(){var f=this.x,d=this.y,s=this.z;return f*f+d*d+s*s},normalize:function(){var f=this.x,d=this.y,s=this.z,a=f*f+d*d+s*s;return a>0&&(a=1/Math.sqrt(a),this.x=f*a,this.y=d*a,this.z=s*a),this},dot:function(f){return this.x*f.x+this.y*f.y+this.z*f.z},cross:function(f){var d=this.x,s=this.y,a=this.z,r=f.x,o=f.y,u=f.z;return this.x=s*u-a*o,this.y=a*r-d*u,this.z=d*o-s*r,this},lerp:function(f,d){d===void 0&&(d=0);var s=this.x,a=this.y,r=this.z;return this.x=s+d*(f.x-s),this.y=a+d*(f.y-a),this.z=r+d*(f.z-r),this},applyMatrix3:function(f){var d=this.x,s=this.y,a=this.z,r=f.val;return this.x=r[0]*d+r[3]*s+r[6]*a,this.y=r[1]*d+r[4]*s+r[7]*a,this.z=r[2]*d+r[5]*s+r[8]*a,this},applyMatrix4:function(f){var d=this.x,s=this.y,a=this.z,r=f.val,o=1/(r[3]*d+r[7]*s+r[11]*a+r[15]);return this.x=(r[0]*d+r[4]*s+r[8]*a+r[12])*o,this.y=(r[1]*d+r[5]*s+r[9]*a+r[13])*o,this.z=(r[2]*d+r[6]*s+r[10]*a+r[14])*o,this},transformMat3:function(f){var d=this.x,s=this.y,a=this.z,r=f.val;return this.x=d*r[0]+s*r[3]+a*r[6],this.y=d*r[1]+s*r[4]+a*r[7],this.z=d*r[2]+s*r[5]+a*r[8],this},transformMat4:function(f){var d=this.x,s=this.y,a=this.z,r=f.val;return this.x=r[0]*d+r[4]*s+r[8]*a+r[12],this.y=r[1]*d+r[5]*s+r[9]*a+r[13],this.z=r[2]*d+r[6]*s+r[10]*a+r[14],this},transformCoordinates:function(f){var d=this.x,s=this.y,a=this.z,r=f.val,o=d*r[0]+s*r[4]+a*r[8]+r[12],u=d*r[1]+s*r[5]+a*r[9]+r[13],v=d*r[2]+s*r[6]+a*r[10]+r[14],l=d*r[3]+s*r[7]+a*r[11]+r[15];return this.x=o/l,this.y=u/l,this.z=v/l,this},transformQuat:function(f){var d=this.x,s=this.y,a=this.z,r=f.x,o=f.y,u=f.z,v=f.w,l=v*d+o*a-u*s,c=v*s+u*d-r*a,p=v*a+r*s-o*d,g=-r*d-o*s-u*a;return this.x=l*v+g*-r+c*-u-p*-o,this.y=c*v+g*-o+p*-r-l*-u,this.z=p*v+g*-u+l*-o-c*-r,this},project:function(f){var d=this.x,s=this.y,a=this.z,r=f.val,o=r[0],u=r[1],v=r[2],l=r[3],c=r[4],p=r[5],g=r[6],m=r[7],T=r[8],S=r[9],P=r[10],E=r[11],R=r[12],A=r[13],w=r[14],O=r[15],L=1/(d*l+s*m+a*E+O);return this.x=(d*o+s*c+a*T+R)*L,this.y=(d*u+s*p+a*S+A)*L,this.z=(d*v+s*g+a*P+w)*L,this},projectViewMatrix:function(f,d){return this.applyMatrix4(f).applyMatrix4(d)},unprojectViewMatrix:function(f,d){return this.applyMatrix4(f).applyMatrix4(d)},unproject:function(f,d){var s=f.x,a=f.y,r=f.z,o=f.w,u=this.x-s,v=o-this.y-1-a,l=this.z;return this.x=2*u/r-1,this.y=2*v/o-1,this.z=2*l-1,this.project(d)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});e.ZERO=new e,e.RIGHT=new e(1,0,0),e.LEFT=new e(-1,0,0),e.UP=new e(0,-1,0),e.DOWN=new e(0,1,0),e.FORWARD=new e(0,0,1),e.BACK=new e(0,0,-1),e.ONE=new e(1,1,1),C.exports=e},9279:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=new y({initialize:function(d,s,a,r){this.x=0,this.y=0,this.z=0,this.w=0,typeof d=="object"?(this.x=d.x||0,this.y=d.y||0,this.z=d.z||0,this.w=d.w||0):(this.x=d||0,this.y=s||0,this.z=a||0,this.w=r||0)},clone:function(){return new e(this.x,this.y,this.z,this.w)},copy:function(f){return this.x=f.x,this.y=f.y,this.z=f.z||0,this.w=f.w||0,this},equals:function(f){return this.x===f.x&&this.y===f.y&&this.z===f.z&&this.w===f.w},set:function(f,d,s,a){return typeof f=="object"?(this.x=f.x||0,this.y=f.y||0,this.z=f.z||0,this.w=f.w||0):(this.x=f||0,this.y=d||0,this.z=s||0,this.w=a||0),this},add:function(f){return this.x+=f.x,this.y+=f.y,this.z+=f.z||0,this.w+=f.w||0,this},subtract:function(f){return this.x-=f.x,this.y-=f.y,this.z-=f.z||0,this.w-=f.w||0,this},scale:function(f){return this.x*=f,this.y*=f,this.z*=f,this.w*=f,this},length:function(){var f=this.x,d=this.y,s=this.z,a=this.w;return Math.sqrt(f*f+d*d+s*s+a*a)},lengthSq:function(){var f=this.x,d=this.y,s=this.z,a=this.w;return f*f+d*d+s*s+a*a},normalize:function(){var f=this.x,d=this.y,s=this.z,a=this.w,r=f*f+d*d+s*s+a*a;return r>0&&(r=1/Math.sqrt(r),this.x=f*r,this.y=d*r,this.z=s*r,this.w=a*r),this},dot:function(f){return this.x*f.x+this.y*f.y+this.z*f.z+this.w*f.w},lerp:function(f,d){d===void 0&&(d=0);var s=this.x,a=this.y,r=this.z,o=this.w;return this.x=s+d*(f.x-s),this.y=a+d*(f.y-a),this.z=r+d*(f.z-r),this.w=o+d*(f.w-o),this},multiply:function(f){return this.x*=f.x,this.y*=f.y,this.z*=f.z||1,this.w*=f.w||1,this},divide:function(f){return this.x/=f.x,this.y/=f.y,this.z/=f.z||1,this.w/=f.w||1,this},distance:function(f){var d=f.x-this.x,s=f.y-this.y,a=f.z-this.z||0,r=f.w-this.w||0;return Math.sqrt(d*d+s*s+a*a+r*r)},distanceSq:function(f){var d=f.x-this.x,s=f.y-this.y,a=f.z-this.z||0,r=f.w-this.w||0;return d*d+s*s+a*a+r*r},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(f){var d=this.x,s=this.y,a=this.z,r=this.w,o=f.val;return this.x=o[0]*d+o[4]*s+o[8]*a+o[12]*r,this.y=o[1]*d+o[5]*s+o[9]*a+o[13]*r,this.z=o[2]*d+o[6]*s+o[10]*a+o[14]*r,this.w=o[3]*d+o[7]*s+o[11]*a+o[15]*r,this},transformQuat:function(f){var d=this.x,s=this.y,a=this.z,r=f.x,o=f.y,u=f.z,v=f.w,l=v*d+o*a-u*s,c=v*s+u*d-r*a,p=v*a+r*s-o*d,g=-r*d-o*s-u*a;return this.x=l*v+g*-r+c*-u-p*-o,this.y=c*v+g*-o+p*-r-l*-u,this.z=p*v+g*-u+l*-o-c*-r,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});e.prototype.sub=e.prototype.subtract,e.prototype.mul=e.prototype.multiply,e.prototype.div=e.prototype.divide,e.prototype.dist=e.prototype.distance,e.prototype.distSq=e.prototype.distanceSq,e.prototype.len=e.prototype.length,e.prototype.lenSq=e.prototype.lengthSq,C.exports=e},4119:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){return Math.abs(h-y)<=e};C.exports=M},8445:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){var f=e-y;return y+((h-y)%f+f)%f};C.exports=M},6412:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f){return Math.atan2(f-y,e-h)};C.exports=M},760:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){return Math.atan2(y.y-h.y,y.x-h.x)};C.exports=M},6909:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){return Math.atan2(y.x-h.x,y.y-h.y)};C.exports=M},6947:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f){return Math.atan2(e-h,f-y)};C.exports=M},3426:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7425),e=function(f){return f>Math.PI&&(f-=y.PI2),Math.abs(((f+y.TAU)%y.PI2-y.PI2)%y.PI2)};C.exports=e},6906:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return h=h%(2*Math.PI),h>=0?h:h+2*Math.PI};C.exports=M},3270:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(104),e=function(){return y(-Math.PI,Math.PI)};C.exports=e},2748:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(104),e=function(){return y(-180,180)};C.exports=e},936:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(6906),e=function(f){return y(f+Math.PI)};C.exports=e},1935:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7425),e=function(f,d,s){return s===void 0&&(s=.05),f===d||(Math.abs(d-f)<=s||Math.abs(d-f)>=y.PI2-s?f=d:(Math.abs(d-f)>Math.PI&&(d<f?d+=y.PI2:d-=y.PI2),d>f?f+=s:d<f&&(f-=s))),f};C.exports=e},5393:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){var e=y-h;if(e===0)return 0;var f=Math.floor((e- -180)/360);return e-f*360};C.exports=M},3692:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(8445),e=function(f){return y(f,-Math.PI,Math.PI)};C.exports=e},2820:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(8445),e=function(f){return y(f,-180,180)};C.exports=e},1833:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Between:h(6412),BetweenPoints:h(760),BetweenPointsY:h(6909),BetweenY:h(6947),CounterClockwise:h(3426),Normalize:h(6906),Random:h(3270),RandomDegrees:h(2748),Reverse:h(936),RotateTo:h(1935),ShortestBetween:h(5393),Wrap:h(3692),WrapDegrees:h(2820)}},7425:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};C.exports=M},1518:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f){var d=h-e,s=y-f;return Math.sqrt(d*d+s*s)};C.exports=M},5372:C=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){var e=h.x-y.x,f=h.y-y.y;return Math.sqrt(e*e+f*f)};C.exports=M},4430:C=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){var e=h.x-y.x,f=h.y-y.y;return e*e+f*f};C.exports=M},4361:C=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f){return Math.max(Math.abs(h-e),Math.abs(y-f))};C.exports=M},7798:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f,d){return d===void 0&&(d=2),Math.sqrt(Math.pow(e-h,d)+Math.pow(f-y,d))};C.exports=M},8290:C=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f){return Math.abs(h-e)+Math.abs(y-f)};C.exports=M},3788:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f){var d=h-e,s=y-f;return d*d+s*s};C.exports=M},6338:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Between:h(1518),BetweenPoints:h(5372),BetweenPointsSquared:h(4430),Chebyshev:h(4361),Power:h(7798),Snake:h(8290),Squared:h(3788)}},5751:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){return y===void 0&&(y=1.70158),h*h*((y+1)*h-y)};C.exports=M},6203:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){y===void 0&&(y=1.70158);var e=y*1.525;return(h*=2)<1?.5*(h*h*((e+1)*h-e)):.5*((h-=2)*h*((e+1)*h+e)+2)};C.exports=M},9103:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){return y===void 0&&(y=1.70158),--h*h*((y+1)*h+y)+1};C.exports=M},4938:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={In:h(5751),Out:h(9103),InOut:h(6203)}},8677:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return h=1-h,h<.36363636363636365?1-7.5625*h*h:h<.7272727272727273?1-(7.5625*(h-=.5454545454545454)*h+.75):h<.9090909090909091?1-(7.5625*(h-=.8181818181818182)*h+.9375):1-(7.5625*(h-=.9545454545454546)*h+.984375)};C.exports=M},4649:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){var y=!1;return h<.5?(h=1-h*2,y=!0):h=h*2-1,h<.36363636363636365?h=7.5625*h*h:h<.7272727272727273?h=7.5625*(h-=.5454545454545454)*h+.75:h<.9090909090909091?h=7.5625*(h-=.8181818181818182)*h+.9375:h=7.5625*(h-=.9545454545454546)*h+.984375,y?(1-h)*.5:h*.5+.5};C.exports=M},504:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return h<.36363636363636365?7.5625*h*h:h<.7272727272727273?7.5625*(h-=.5454545454545454)*h+.75:h<.9090909090909091?7.5625*(h-=.8181818181818182)*h+.9375:7.5625*(h-=.9545454545454546)*h+.984375};C.exports=M},8872:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={In:h(8677),Out:h(504),InOut:h(4649)}},3170:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return 1-Math.sqrt(1-h*h)};C.exports=M},2627:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return(h*=2)<1?-.5*(Math.sqrt(1-h*h)-1):.5*(Math.sqrt(1-(h-=2)*h)+1)};C.exports=M},1349:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return Math.sqrt(1- --h*h)};C.exports=M},5006:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={In:h(3170),Out:h(1349),InOut:h(2627)}},6046:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return h*h*h};C.exports=M},9531:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return(h*=2)<1?.5*h*h*h:.5*((h-=2)*h*h+2)};C.exports=M},4836:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return--h*h*h+1};C.exports=M},875:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={In:h(6046),Out:h(4836),InOut:h(9531)}},7619:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){if(y===void 0&&(y=.1),e===void 0&&(e=.1),h===0)return 0;if(h===1)return 1;var f=e/4;return y<1?y=1:f=e*Math.asin(1/y)/(2*Math.PI),-(y*Math.pow(2,10*(h-=1))*Math.sin((h-f)*(2*Math.PI)/e))};C.exports=M},7437:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){if(y===void 0&&(y=.1),e===void 0&&(e=.1),h===0)return 0;if(h===1)return 1;var f=e/4;return y<1?y=1:f=e*Math.asin(1/y)/(2*Math.PI),(h*=2)<1?-.5*(y*Math.pow(2,10*(h-=1))*Math.sin((h-f)*(2*Math.PI)/e)):y*Math.pow(2,-10*(h-=1))*Math.sin((h-f)*(2*Math.PI)/e)*.5+1};C.exports=M},8119:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){if(y===void 0&&(y=.1),e===void 0&&(e=.1),h===0)return 0;if(h===1)return 1;var f=e/4;return y<1?y=1:f=e*Math.asin(1/y)/(2*Math.PI),y*Math.pow(2,-10*h)*Math.sin((h-f)*(2*Math.PI)/e)+1};C.exports=M},2884:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={In:h(7619),Out:h(8119),InOut:h(7437)}},5456:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return Math.pow(2,10*(h-1))-.001};C.exports=M},3461:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return(h*=2)<1?.5*Math.pow(2,10*(h-1)):.5*(2-Math.pow(2,-10*(h-1)))};C.exports=M},2711:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return 1-Math.pow(2,-10*h)};C.exports=M},6287:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={In:h(5456),Out:h(2711),InOut:h(3461)}},8613:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Back:h(4938),Bounce:h(8872),Circular:h(5006),Cubic:h(875),Elastic:h(2884),Expo:h(6287),Linear:h(4233),Quadratic:h(6341),Quartic:h(762),Quintic:h(345),Sine:h(8698),Stepped:h(7051)}},744:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return h};C.exports=M},4233:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports=h(744)},9810:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return h*h};C.exports=M},8163:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return(h*=2)<1?.5*h*h:-.5*(--h*(h-2)-1)};C.exports=M},6123:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return h*(2-h)};C.exports=M},6341:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={In:h(9810),Out:h(6123),InOut:h(8163)}},7337:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return h*h*h*h};C.exports=M},4878:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return(h*=2)<1?.5*h*h*h*h:-.5*((h-=2)*h*h*h-2)};C.exports=M},9012:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return 1- --h*h*h*h};C.exports=M},762:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={In:h(7337),Out:h(9012),InOut:h(4878)}},303:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return h*h*h*h*h};C.exports=M},553:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return(h*=2)<1?.5*h*h*h*h*h:.5*((h-=2)*h*h*h*h+2)};C.exports=M},1632:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return--h*h*h*h*h+1};C.exports=M},345:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={In:h(303),Out:h(1632),InOut:h(553)}},8455:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return h===0?0:h===1?1:1-Math.cos(h*Math.PI/2)};C.exports=M},1844:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return h===0?0:h===1?1:.5*(1-Math.cos(Math.PI*h))};C.exports=M},990:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return h===0?0:h===1?1:Math.sin(h*Math.PI/2)};C.exports=M},8698:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={In:h(8455),Out:h(990),InOut:h(1844)}},6745:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){return y===void 0&&(y=1),h<=0?0:h>=1?1:((y*h|0)+1)*(1/y)};C.exports=M},7051:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports=h(6745)},3158:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){return y===void 0&&(y=1e-4),Math.ceil(h-y)};C.exports=M},12:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){return e===void 0&&(e=1e-4),Math.abs(h-y)<e};C.exports=M},1326:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){return y===void 0&&(y=1e-4),Math.floor(h+y)};C.exports=M},7373:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){return e===void 0&&(e=1e-4),h>y-e};C.exports=M},2622:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){return e===void 0&&(e=1e-4),h<y+e};C.exports=M},7927:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Ceil:h(3158),Equal:h(12),Floor:h(1326),GreaterThan:h(7373),LessThan:h(2622)}},4675:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7425),e=h(1030),f={Angle:h(1833),Distance:h(6338),Easing:h(8613),Fuzzy:h(7927),Interpolation:h(2140),Pow2:h(7897),Snap:h(3943),RandomDataGenerator:h(6957),Average:h(3136),Bernstein:h(785),Between:h(7025),CatmullRom:h(48),CeilTo:h(5035),Clamp:h(2915),DegToRad:h(7149),Difference:h(2975),Euler:h(2107),Factorial:h(3916),FloatBetween:h(104),FloorTo:h(4941),FromPercent:h(1555),GetSpeed:h(5005),IsEven:h(3702),IsEvenStrict:h(8820),Linear:h(1743),LinearXY:h(3416),MaxAdd:h(3733),Median:h(44),MinSub:h(5385),Percent:h(8585),RadToDeg:h(4208),RandomXY:h(1705),RandomXYZ:h(6650),RandomXYZW:h(2037),Rotate:h(6283),RotateAround:h(9876),RotateAroundDistance:h(8348),RotateTo:h(4497),RoundAwayFromZero:h(4078),RoundTo:h(855),SinCosTableGenerator:h(4936),SmootherStep:h(278),SmoothStep:h(2733),ToXY:h(163),TransformXY:h(7556),Within:h(4119),Wrap:h(8445),Vector2:h(2529),Vector3:h(5689),Vector4:h(9279),Matrix3:h(2149),Matrix4:h(9652),Quaternion:h(372),RotateVec3:h(9640)};f=e(!1,f,y),C.exports=f},1640:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(785),e=function(f,d){for(var s=0,a=f.length-1,r=0;r<=a;r++)s+=Math.pow(1-d,a-r)*Math.pow(d,r)*f[r]*y(a,r);return s};C.exports=e},6105:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(48),e=function(f,d){var s=f.length-1,a=s*d,r=Math.floor(a);return f[0]===f[s]?(d<0&&(r=Math.floor(a=s*(1+d))),y(a-r,f[(r-1+s)%s],f[r],f[(r+1)%s],f[(r+2)%s])):d<0?f[0]-(y(-a,f[0],f[0],f[1],f[1])-f[0]):d>1?f[s]-(y(a-s,f[s],f[s],f[s-1],f[s-1])-f[s]):y(a-r,f[r?r-1:0],f[r],f[s<r+1?s:r+1],f[s<r+2?s:r+2])};C.exports=e},4002:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function M(d,s){var a=1-d;return a*a*a*s}function h(d,s){var a=1-d;return 3*a*a*d*s}function y(d,s){return 3*(1-d)*d*d*s}function e(d,s){return d*d*d*s}var f=function(d,s,a,r,o){return M(d,s)+h(d,a)+y(d,r)+e(d,o)};C.exports=f},6765:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(1743),e=function(f,d){var s=f.length-1,a=s*d,r=Math.floor(a);return d<0?y(f[0],f[1],a):d>1?y(f[s],f[s-1],s-a):y(f[r],f[r+1>s?s:r+1],a-r)};C.exports=e},6388:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function M(f,d){var s=1-f;return s*s*d}function h(f,d){return 2*(1-f)*f*d}function y(f,d){return f*f*d}var e=function(f,d,s,a){return M(f,d)+h(f,s)+y(f,a)};C.exports=e},5735:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(2733),e=function(f,d,s){return d+(s-d)*y(f,0,1)};C.exports=e},8705:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(278),e=function(f,d,s){return d+(s-d)*y(f,0,1)};C.exports=e},2140:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Bezier:h(1640),CatmullRom:h(6105),CubicBezier:h(4002),Linear:h(6765),QuadraticBezier:h(6388),SmoothStep:h(5735),SmootherStep:h(8705)}},5443:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){var y=Math.log(h)/.6931471805599453;return 1<<Math.ceil(y)};C.exports=M},725:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){return h>0&&(h&h-1)===0&&y>0&&(y&y-1)===0};C.exports=M},167:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return h>0&&(h&h-1)===0};C.exports=M},7897:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={GetNext:h(5443),IsSize:h(725),IsValue:h(167)}},6957:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=new y({initialize:function(d){d===void 0&&(d=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],d&&this.init(d)},rnd:function(){var f=2091639*this.s0+this.c*23283064365386963e-26;return this.c=f|0,this.s0=this.s1,this.s1=this.s2,this.s2=f-this.c,this.s2},hash:function(f){var d,s=this.n;f=f.toString();for(var a=0;a<f.length;a++)s+=f.charCodeAt(a),d=.02519603282416938*s,s=d>>>0,d-=s,d*=s,s=d>>>0,d-=s,s+=d*4294967296;return this.n=s,(s>>>0)*23283064365386963e-26},init:function(f){typeof f=="string"?this.state(f):this.sow(f)},sow:function(f){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!f)for(var d=0;d<f.length&&f[d]!=null;d++){var s=f[d];this.s0-=this.hash(s),this.s0+=~~(this.s0<0),this.s1-=this.hash(s),this.s1+=~~(this.s1<0),this.s2-=this.hash(s),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(f,d){return Math.floor(this.realInRange(0,d-f+1)+f)},between:function(f,d){return Math.floor(this.realInRange(0,d-f+1)+f)},realInRange:function(f,d){return this.frac()*(d-f)+f},normal:function(){return 1-2*this.frac()},uuid:function(){var f="",d="";for(d=f="";f++<36;d+=~f%5|f*3&4?(f^15?8^this.frac()*(f^20?16:4):4).toString(16):"-");return d},pick:function(f){return f[this.integerInRange(0,f.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(f){return f[~~(Math.pow(this.frac(),2)*f.length+.5)]},timestamp:function(f,d){return this.realInRange(f||9466848e5,d||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(f){return typeof f=="string"&&f.match(/^!rnd/)&&(f=f.split(","),this.c=parseFloat(f[1]),this.s0=parseFloat(f[2]),this.s1=parseFloat(f[3]),this.s2=parseFloat(f[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(f){for(var d=f.length-1,s=d;s>0;s--){var a=Math.floor(this.frac()*(s+1)),r=f[a];f[a]=f[s],f[s]=r}return f}});C.exports=e},5659:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f){return e===void 0&&(e=0),y===0?h:(h-=e,h=y*Math.ceil(h/y),f?(e+h)/y:e+h)};C.exports=M},5461:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f){return e===void 0&&(e=0),y===0?h:(h-=e,h=y*Math.floor(h/y),f?(e+h)/y:e+h)};C.exports=M},5131:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f){return e===void 0&&(e=0),y===0?h:(h-=e,h=y*Math.round(h/y),f?(e+h)/y:e+h)};C.exports=M},3943:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Ceil:h(5659),Floor:h(5461),To:h(5131)}},8666:(C,M,h)=>{/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2013-2023 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var y=h(7473),e=new y({initialize:function(d){this.pluginManager=d,this.game=d.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});C.exports=e},8456:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={},h={},y={};y.register=function(e,f,d,s){s===void 0&&(s=!1),M[e]={plugin:f,mapping:d,custom:s}},y.registerCustom=function(e,f,d,s){h[e]={plugin:f,mapping:d,data:s}},y.hasCore=function(e){return M.hasOwnProperty(e)},y.hasCustom=function(e){return h.hasOwnProperty(e)},y.getCore=function(e){return M[e]},y.getCustom=function(e){return h[e]},y.getCustomClass=function(e){return h.hasOwnProperty(e)?h[e].plugin:null},y.remove=function(e){M.hasOwnProperty(e)&&delete M[e]},y.removeCustom=function(e){h.hasOwnProperty(e)&&delete h[e]},y.destroyCorePlugins=function(){for(var e in M)M.hasOwnProperty(e)&&delete M[e]},y.destroyCustomPlugins=function(){for(var e in h)h.hasOwnProperty(e)&&delete h[e]},C.exports=y},5722:(C,M,h)=>{/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2013-2023 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var y=h(8666),e=h(7473),f=h(204),d=new e({Extends:y,initialize:function(a,r,o){y.call(this,r),this.scene=a,this.systems=a.sys,this.pluginKey=o,a.sys.events.once(f.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});C.exports=d},8351:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},8196:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={DEFAULT:0,LINEAR:0,NEAREST:1};C.exports=M},3527:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="resize"},8618:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="addedtoscene"},4328:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="boot"},6099:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="create"},7645:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="destroy"},2710:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pause"},2547:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="postupdate"},8577:C=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="prerender"},8197:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="preupdate"},8997:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="ready"},7604:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="removedfromscene"},8999:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="render"},9742:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="resume"},3667:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="shutdown"},3468:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="sleep"},7840:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="start"},9896:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="transitioncomplete"},5103:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="transitioninit"},3162:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="transitionout"},7841:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="transitionstart"},6454:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="transitionwake"},6536:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="update"},3875:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="wake"},204:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={ADDED_TO_SCENE:h(8618),BOOT:h(4328),CREATE:h(6099),DESTROY:h(7645),PAUSE:h(2710),POST_UPDATE:h(2547),PRE_RENDER:h(8577),PRE_UPDATE:h(8197),READY:h(8997),REMOVED_FROM_SCENE:h(7604),RENDER:h(8999),RESUME:h(9742),SHUTDOWN:h(3667),SLEEP:h(3468),START:h(7840),TRANSITION_COMPLETE:h(9896),TRANSITION_INIT:h(5103),TRANSITION_OUT:h(3162),TRANSITION_START:h(7841),TRANSITION_WAKE:h(6454),UPDATE:h(6536),WAKE:h(3875)}},2362:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(2915),f=h(1030),d=new y({initialize:function(a,r,o,u,v,l,c){this.texture=a,this.name=r,this.source=a.source[o],this.sourceIndex=o,this.glTexture=this.source.glTexture,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(l,c,u,v)},setSize:function(s,a,r,o){r===void 0&&(r=0),o===void 0&&(o=0),this.cutX=r,this.cutY=o,this.cutWidth=s,this.cutHeight=a,this.width=s,this.height=a,this.halfWidth=Math.floor(s*.5),this.halfHeight=Math.floor(a*.5),this.centerX=Math.floor(s/2),this.centerY=Math.floor(a/2);var u=this.data,v=u.cut;v.x=r,v.y=o,v.w=s,v.h=a,v.r=r+s,v.b=o+a,u.sourceSize.w=s,u.sourceSize.h=a,u.spriteSourceSize.w=s,u.spriteSourceSize.h=a,u.radius=.5*Math.sqrt(s*s+a*a);var l=u.drawImage;return l.x=r,l.y=o,l.width=s,l.height=a,this.updateUVs()},setTrim:function(s,a,r,o,u,v){var l=this.data,c=l.spriteSourceSize;return l.trim=!0,l.sourceSize.w=s,l.sourceSize.h=a,c.x=r,c.y=o,c.w=u,c.h=v,c.r=r+u,c.b=o+v,this.x=r,this.y=o,this.width=u,this.height=v,this.halfWidth=u*.5,this.halfHeight=v*.5,this.centerX=Math.floor(u/2),this.centerY=Math.floor(v/2),this.updateUVs()},setScale9:function(s,a,r,o){var u=this.data;return u.scale9=!0,u.is3Slice=a===0&&o===this.height,u.scale9Borders.x=s,u.scale9Borders.y=a,u.scale9Borders.w=r,u.scale9Borders.h=o,this},setCropUVs:function(s,a,r,o,u,v,l){var c=this.cutX,p=this.cutY,g=this.cutWidth,m=this.cutHeight,T=this.realWidth,S=this.realHeight;a=e(a,0,T),r=e(r,0,S),o=e(o,0,T-a),u=e(u,0,S-r);var P=c+a,E=p+r,R=o,A=u,w=this.data;if(w.trim){var O=w.spriteSourceSize;o=e(o,0,g-a),u=e(u,0,m-r);var L=a+o,F=r+u,I=!(O.r<a||O.b<r||O.x>L||O.y>F);if(I){var B=Math.max(O.x,a),G=Math.max(O.y,r),N=Math.min(O.r,L)-B,U=Math.min(O.b,F)-G;R=N,A=U,v?P=c+(g-(B-O.x)-N):P=c+(B-O.x),l?E=p+(m-(G-O.y)-U):E=p+(G-O.y),a=B,r=G,o=N,u=U}else P=0,E=0,R=0,A=0}else v&&(P=c+(g-a-o)),l&&(E=p+(m-r-u));var Y=this.source.width,X=this.source.height;return s.u0=Math.max(0,P/Y),s.v0=Math.max(0,E/X),s.u1=Math.min(1,(P+R)/Y),s.v1=Math.min(1,(E+A)/X),s.x=a,s.y=r,s.cx=P,s.cy=E,s.cw=R,s.ch=A,s.width=o,s.height=u,s.flipX=v,s.flipY=l,s},updateCropUVs:function(s,a,r){return this.setCropUVs(s,s.x,s.y,s.width,s.height,a,r)},setUVs:function(s,a,r,o,u,v){var l=this.data.drawImage;return l.width=s,l.height=a,this.u0=r,this.v0=o,this.u1=u,this.v1=v,this},updateUVs:function(){var s=this.cutX,a=this.cutY,r=this.cutWidth,o=this.cutHeight,u=this.data.drawImage;u.width=r,u.height=o;var v=this.source.width,l=this.source.height;return this.u0=s/v,this.v0=a/l,this.u1=(s+r)/v,this.v1=(a+o)/l,this},updateUVsInverted:function(){var s=this.source.width,a=this.source.height;return this.u0=(this.cutX+this.cutHeight)/s,this.v0=this.cutY/a,this.u1=this.cutX/s,this.v1=(this.cutY+this.cutWidth)/a,this},clone:function(){var s=new d(this.texture,this.name,this.sourceIndex);return s.cutX=this.cutX,s.cutY=this.cutY,s.cutWidth=this.cutWidth,s.cutHeight=this.cutHeight,s.x=this.x,s.y=this.y,s.width=this.width,s.height=this.height,s.halfWidth=this.halfWidth,s.halfHeight=this.halfHeight,s.centerX=this.centerX,s.centerY=this.centerY,s.rotated=this.rotated,s.data=f(!0,s.data,this.data),s.updateUVs(),s},destroy:function(){this.texture=null,this.source=null,this.glTexture=null,this.customData=null,this.data=null},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});C.exports=d},1864:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){return h&&h.hasOwnProperty(y)?h[y]:e};C.exports=M},3747:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};C.exports=M},7473:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function M(s){return!!s.get&&typeof s.get=="function"||!!s.set&&typeof s.set=="function"}function h(s,a,r){var o=r?s[a]:Object.getOwnPropertyDescriptor(s,a);return!r&&o.value&&typeof o.value=="object"&&(o=o.value),o&&M(o)?(typeof o.enumerable>"u"&&(o.enumerable=!0),typeof o.configurable>"u"&&(o.configurable=!0),o):!1}function y(s,a){var r=Object.getOwnPropertyDescriptor(s,a);return r?(r.value&&typeof r.value=="object"&&(r=r.value),r.configurable===!1):!1}function e(s,a,r,o){for(var u in a)if(a.hasOwnProperty(u)){var v=h(a,u,r);if(v!==!1){var l=o||s;if(y(l.prototype,u)){if(d.ignoreFinals)continue;throw new Error("cannot override final property '"+u+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(s.prototype,u,v)}else s.prototype[u]=a[u]}}function f(s,a){if(a){Array.isArray(a)||(a=[a]);for(var r=0;r<a.length;r++)e(s,a[r].prototype||a[r])}}function d(s){s||(s={});var a,r;if(s.initialize){if(typeof s.initialize!="function")throw new Error("initialize must be a function");a=s.initialize,delete s.initialize}else if(s.Extends){var o=s.Extends;a=function(){o.apply(this,arguments)}}else a=function(){};s.Extends?(a.prototype=Object.create(s.Extends.prototype),a.prototype.constructor=a,r=s.Extends,delete s.Extends):a.prototype.constructor=a;var u=null;return s.Mixins&&(u=s.Mixins,delete s.Mixins),f(a,u),e(a,s,!0,r),a}d.extend=e,d.mixin=f,d.ignoreFinals=!1,C.exports=d},1984:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(){};C.exports=M},1792:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f,d){if(d===void 0&&(d=h),e>0){var s=e-h.length;if(s<=0)return null}if(!Array.isArray(y))return h.indexOf(y)===-1?(h.push(y),f&&f.call(d,y),y):null;for(var a=y.length-1;a>=0;)h.indexOf(y[a])!==-1&&y.splice(a,1),a--;if(a=y.length,a===0)return null;e>0&&a>s&&(y.splice(s),a=s);for(var r=0;r<a;r++){var o=y[r];h.push(o),f&&f.call(d,o)}return y};C.exports=M},2280:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f,d,s){if(e===void 0&&(e=0),s===void 0&&(s=h),f>0){var a=f-h.length;if(a<=0)return null}if(!Array.isArray(y))return h.indexOf(y)===-1?(h.splice(e,0,y),d&&d.call(s,y),y):null;for(var r=y.length-1;r>=0;)h.indexOf(y[r])!==-1&&y.pop(),r--;if(r=y.length,r===0)return null;f>0&&r>a&&(y.splice(a),r=a);for(var o=r-1;o>=0;o--){var u=y[o];h.splice(e,0,u),d&&d.call(s,u)}return y};C.exports=M},2513:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){var e=h.indexOf(y);return e!==-1&&e<h.length&&(h.splice(e,1),h.push(y)),y};C.exports=M},1771:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(2497),e=function(f,d,s,a,r){a===void 0&&(a=0),r===void 0&&(r=f.length);var o=0;if(y(f,a,r))for(var u=a;u<r;u++){var v=f[u];v[d]===s&&o++}return o};C.exports=e},7883:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){var f,d=[null];for(f=3;f<arguments.length;f++)d.push(arguments[f]);for(f=0;f<h.length;f++)d[0]=h[f],y.apply(e,d);return h};C.exports=M},5856:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(2497),e=function(f,d,s,a,r){if(a===void 0&&(a=0),r===void 0&&(r=f.length),y(f,a,r)){var o,u=[null];for(o=5;o<arguments.length;o++)u.push(arguments[o]);for(o=a;o<r;o++)u[0]=f[o],d.apply(s,u)}return f};C.exports=e},3957:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){if(y.length){if(y.length===1)return y[0]}else return NaN;var f=1,d,s;if(e){if(h<y[0][e])return y[0];for(;y[f][e]<h;)f++}else for(;y[f]<h;)f++;return f>y.length&&(f=y.length),e?(d=y[f-1][e],s=y[f][e],s-h<=h-d?y[f]:y[f-1]):(d=y[f-1],s=y[f],s-h<=h-d?s:d)};C.exports=M},4493:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){y===void 0&&(y=[]);for(var e=0;e<h.length;e++)Array.isArray(h[e])?M(h[e],y):y.push(h[e]);return y};C.exports=M},6245:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(2497),e=function(f,d,s,a,r){a===void 0&&(a=0),r===void 0&&(r=f.length);var o=[];if(y(f,a,r))for(var u=a;u<r;u++){var v=f[u];(!d||d&&s===void 0&&v.hasOwnProperty(d)||d&&s!==void 0&&v[d]===s)&&o.push(v)}return o};C.exports=e},1647:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(2497),e=function(f,d,s,a,r){if(a===void 0&&(a=0),r===void 0&&(r=f.length),y(f,a,r))for(var o=a;o<r;o++){var u=f[o];if(!d||d&&s===void 0&&u.hasOwnProperty(d)||d&&s!==void 0&&u[d]===s)return u}return null};C.exports=e},5301:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){y===void 0&&(y=0),e===void 0&&(e=h.length);var f=y+Math.floor(Math.random()*e);return h[f]===void 0?null:h[f]};C.exports=M},8683:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){if(y===e)return h;var f=h.indexOf(y),d=h.indexOf(e);if(f<0||d<0)throw new Error("Supplied items must be elements of the same array");return f>d||(h.splice(f,1),d===h.length-1?h.push(y):h.splice(d,0,y)),h};C.exports=M},546:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){if(y===e)return h;var f=h.indexOf(y),d=h.indexOf(e);if(f<0||d<0)throw new Error("Supplied items must be elements of the same array");return f<d||(h.splice(f,1),d===0?h.unshift(y):h.splice(d,0,y)),h};C.exports=M},1842:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){var e=h.indexOf(y);if(e>0){var f=h[e-1],d=h.indexOf(f);h[e]=f,h[d]=y}return h};C.exports=M},1419:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){var f=h.indexOf(y);if(f===-1||e<0||e>=h.length)throw new Error("Supplied index out of bounds");return f!==e&&(h.splice(f,1),h.splice(e,0,y)),y};C.exports=M},6512:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){var e=h.indexOf(y);if(e!==-1&&e<h.length-1){var f=h[e+1],d=h.indexOf(f);h[e]=f,h[d]=y}return h};C.exports=M},4130:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f){var d=[],s,a=!1;if((e||f)&&(a=!0,e||(e=""),f||(f="")),y<h)for(s=h;s>=y;s--)a?d.push(e+s.toString()+f):d.push(s);else for(s=h;s<=y;s++)a?d.push(e+s.toString()+f):d.push(s);return d};C.exports=M},1316:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(4078),e=function(f,d,s){f===void 0&&(f=0),d===void 0&&(d=null),s===void 0&&(s=1),d===null&&(d=f,f=0);for(var a=[],r=Math.max(y((d-f)/(s||1)),0),o=0;o<r;o++)a.push(f),f+=s;return a};C.exports=e},9465:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function M(e,f,d){var s=e[f];e[f]=e[d],e[d]=s}function h(e,f){return e<f?-1:e>f?1:0}var y=function(e,f,d,s,a){for(d===void 0&&(d=0),s===void 0&&(s=e.length-1),a===void 0&&(a=h);s>d;){if(s-d>600){var r=s-d+1,o=f-d+1,u=Math.log(r),v=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*v*(r-v)/r)*(o-r/2<0?-1:1),c=Math.max(d,Math.floor(f-o*v/r+l)),p=Math.min(s,Math.floor(f+(r-o)*v/r+l));y(e,f,c,p,a)}var g=e[f],m=d,T=s;for(M(e,d,f),a(e[s],g)>0&&M(e,d,s);m<T;){for(M(e,m,T),m++,T--;a(e[m],g)<0;)m++;for(;a(e[T],g)>0;)T--}a(e[d],g)===0?M(e,d,T):(T++,M(e,T,s)),T<=f&&(d=T+1),f<=T&&(s=T-1)}};C.exports=y},9703:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(5851),e=h(4912),f=function(s,a,r){for(var o=[],u=0;u<s.length;u++)for(var v=0;v<a.length;v++)for(var l=0;l<r;l++)o.push({a:s[u],b:a[v]});return o},d=function(s,a,r){var o=y(r,"max",0),u=y(r,"qty",1),v=y(r,"random",!1),l=y(r,"randomB",!1),c=y(r,"repeat",0),p=y(r,"yoyo",!1),g=[];if(l&&e(a),c===-1)if(o===0)c=0;else{var m=s.length*a.length*u;p&&(m*=2),c=Math.ceil(o/m)}for(var T=0;T<=c;T++){var S=f(s,a,u);v&&e(S),g=g.concat(S),p&&(S.reverse(),g=g.concat(S))}return o&&g.splice(o),g};C.exports=d},7161:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(8935),e=function(f,d,s,a){a===void 0&&(a=f);var r;if(!Array.isArray(d))return r=f.indexOf(d),r!==-1?(y(f,r),s&&s.call(a,d),d):null;for(var o=d.length-1,u=[];o>=0;){var v=d[o];r=f.indexOf(v),r!==-1&&(y(f,r),u.push(v),s&&s.call(a,v)),o--}return u};C.exports=e},4725:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(8935),e=function(f,d,s,a){if(a===void 0&&(a=f),d<0||d>f.length-1)throw new Error("Index out of bounds");var r=y(f,d);return s&&s.call(a,r),r};C.exports=e},8780:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(2497),e=function(f,d,s,a,r){if(d===void 0&&(d=0),s===void 0&&(s=f.length),r===void 0&&(r=f),y(f,d,s)){var o=s-d,u=f.splice(d,o);if(a)for(var v=0;v<u.length;v++){var l=u[v];a.call(r,l)}return u}else return[]};C.exports=e},5744:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(8935),e=function(f,d,s){d===void 0&&(d=0),s===void 0&&(s=f.length);var a=d+Math.floor(Math.random()*s);return y(f,a)};C.exports=e},6960:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){var f=h.indexOf(y),d=h.indexOf(e);return f!==-1&&d===-1?(h[f]=e,!0):!1};C.exports=M},1021:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){y===void 0&&(y=1);for(var e=null,f=0;f<y;f++)e=h.shift(),h.push(e);return e};C.exports=M},4027:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){y===void 0&&(y=1);for(var e=null,f=0;f<y;f++)e=h.pop(),h.unshift(e);return e};C.exports=M},2497:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f){var d=h.length;if(y<0||y>d||y>=e||e>d){if(f)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};C.exports=M},5361:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){var e=h.indexOf(y);return e!==-1&&e>0&&(h.splice(e,1),h.unshift(y)),y};C.exports=M},3718:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(2497),e=function(f,d,s,a,r){if(a===void 0&&(a=0),r===void 0&&(r=f.length),y(f,a,r))for(var o=a;o<r;o++){var u=f[o];u.hasOwnProperty(d)&&(u[d]=s)}return f};C.exports=e},4912:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){for(var y=h.length-1;y>0;y--){var e=Math.floor(Math.random()*(y+1)),f=h[y];h[y]=h[e],h[e]=f}return h};C.exports=M},2071:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){var y=/\D/g;return h.sort(function(e,f){return parseInt(e.replace(y,""),10)-parseInt(f.replace(y,""),10)}),h};C.exports=M},8935:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){if(!(y>=h.length)){for(var e=h.length-1,f=h[y],d=y;d<e;d++)h[d]=h[d+1];return h.length=e,f}};C.exports=M},9992:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(9356);function e(a,r){return String(a).localeCompare(r)}function f(a,r){var o=a.length;if(o<=1)return a;for(var u=new Array(o),v=1;v<o;v*=2){d(a,r,v,u);var l=a;a=u,u=l}return a}function d(a,r,o,u){var v=a.length,l=0,c=o*2,p,g,m,T,S;for(p=0;p<v;p+=c)for(g=p+o,m=g+o,g>v&&(g=v),m>v&&(m=v),T=p,S=g;;)if(T<g&&S<m)r(a[T],a[S])<=0?u[l++]=a[T++]:u[l++]=a[S++];else if(T<g)u[l++]=a[T++];else if(S<m)u[l++]=a[S++];else break}var s=function(a,r){if(r===void 0&&(r=e),!a||a.length<2)return a;if(y.features.stableSort)return a.sort(r);var o=f(a,r);return o!==a&&d(o,null,a.length,a),a};C.exports=s},2372:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){if(y===e)return h;var f=h.indexOf(y),d=h.indexOf(e);if(f<0||d<0)throw new Error("Supplied items must be elements of the same array");return h[f]=e,h[d]=y,h};C.exports=M},1953:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Matrix:h(1237),Add:h(1792),AddAt:h(2280),BringToTop:h(2513),CountAllMatching:h(1771),Each:h(7883),EachInRange:h(5856),FindClosestInSorted:h(3957),Flatten:h(4493),GetAll:h(6245),GetFirst:h(1647),GetRandom:h(5301),MoveDown:h(1842),MoveTo:h(1419),MoveUp:h(6512),MoveAbove:h(8683),MoveBelow:h(546),NumberArray:h(4130),NumberArrayStep:h(1316),QuickSelect:h(9465),Range:h(9703),Remove:h(7161),RemoveAt:h(4725),RemoveBetween:h(8780),RemoveRandomElement:h(5744),Replace:h(6960),RotateLeft:h(1021),RotateRight:h(4027),SafeRange:h(2497),SendToBack:h(5361),SetAll:h(3718),Shuffle:h(4912),SortByDigits:h(2071),SpliceOne:h(8935),StableSort:h(9992),Swap:h(2372)}},1816:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){if(!Array.isArray(h)||!Array.isArray(h[0]))return!1;for(var y=h[0].length,e=1;e<h.length;e++)if(h[e].length!==y)return!1;return!0};C.exports=M},6655:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7222),e=h(1816),f=function(d){var s="";if(!e(d))return s;for(var a=0;a<d.length;a++){for(var r=0;r<d[a].length;r++){var o=d[a][r].toString();o!=="undefined"?s+=y(o,2):s+="?",r<d[a].length-1&&(s+=" |")}if(a<d.length-1){s+=`
`;for(var u=0;u<d[a].length;u++)s+="---",u<d[a].length-1&&(s+="+");s+=`
`}}return s};C.exports=f},582:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return h.reverse()};C.exports=M},6063:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){for(var y=0;y<h.length;y++)h[y].reverse();return h};C.exports=M},8321:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7116),e=function(f){return y(f,180)};C.exports=e},2597:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7116),e=function(f,d){d===void 0&&(d=1);for(var s=0;s<d;s++)f=y(f,90);return f};C.exports=e},7116:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(1816),e=h(4780),f=function(d,s){if(s===void 0&&(s=90),!y(d))return null;if(typeof s!="string"&&(s=(s%360+360)%360),s===90||s===-270||s==="rotateLeft")d=e(d),d.reverse();else if(s===-90||s===270||s==="rotateRight")d.reverse(),d=e(d);else if(Math.abs(s)===180||s==="rotate180"){for(var a=0;a<d.length;a++)d[a].reverse();d.reverse()}return d};C.exports=f},6285:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7116),e=function(f,d){d===void 0&&(d=1);for(var s=0;s<d;s++)f=y(f,-90);return f};C.exports=e},7711:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(1021),e=h(4027),f=function(d,s,a){if(s===void 0&&(s=0),a===void 0&&(a=0),a!==0&&(a<0?y(d,Math.abs(a)):e(d,a)),s!==0)for(var r=0;r<d.length;r++){var o=d[r];s<0?y(o,Math.abs(s)):e(o,s)}return d};C.exports=f},4780:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){for(var y=h.length,e=h[0].length,f=new Array(e),d=0;d<e;d++){f[d]=new Array(y);for(var s=y-1;s>-1;s--)f[d][s]=h[s][d]}return f};C.exports=M},1237:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={CheckMatrix:h(1816),MatrixToString:h(6655),ReverseColumns:h(582),ReverseRows:h(6063),Rotate180:h(8321),RotateLeft:h(2597),RotateMatrix:h(7116),RotateRight:h(6285),Translate:h(7711),TransposeMatrix:h(4780)}},3911:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){var y,e,f;if(typeof h!="object"||h===null)return h;y=Array.isArray(h)?[]:{};for(f in h)e=h[f],y[f]=M(e);return y};C.exports=M},1030:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(2482),e=function(){var f,d,s,a,r,o,u=arguments[0]||{},v=1,l=arguments.length,c=!1;for(typeof u=="boolean"&&(c=u,u=arguments[1]||{},v=2),l===v&&(u=this,--v);v<l;v++)if((f=arguments[v])!=null)for(d in f)s=u[d],a=f[d],u!==a&&(c&&a&&(y(a)||(r=Array.isArray(a)))?(r?(r=!1,o=s&&Array.isArray(s)?s:[]):o=s&&y(s)?s:{},u[d]=e(c,o,a)):a!==void 0&&(u[d]=a));return u};C.exports=e},8361:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(4675),e=h(5851),f=function(d,s,a){var r=e(d,s,null);if(r===null)return a;if(Array.isArray(r))return y.RND.pick(r);if(typeof r=="object"){if(r.hasOwnProperty("randInt"))return y.RND.integerInRange(r.randInt[0],r.randInt[1]);if(r.hasOwnProperty("randFloat"))return y.RND.realInRange(r.randFloat[0],r.randFloat[1])}else if(typeof r=="function")return r(s);return r};C.exports=f},4597:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){var f=typeof h;return!h||f==="number"||f==="string"?e:h.hasOwnProperty(y)&&h[y]!==void 0?h[y]:e};C.exports=M},5851:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f){if(!h&&!f||typeof h=="number")return e;if(h&&h.hasOwnProperty(y))return h[y];if(f&&f.hasOwnProperty(y))return f[y];if(y.indexOf(".")!==-1){for(var d=y.split("."),s=h,a=f,r=e,o=e,u=!0,v=!0,l=0;l<d.length;l++)s&&s.hasOwnProperty(d[l])?(r=s[d[l]],s=s[d[l]]):u=!1,a&&a.hasOwnProperty(d[l])?(o=a[d[l]],a=a[d[l]]):v=!1;return u?r:v?o:e}else return e};C.exports=M},2482:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){if(!h||typeof h!="object"||h.nodeType||h===h.window)return!1;try{if(h.constructor&&!{}.hasOwnProperty.call(h.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};C.exports=M},7222:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f){y===void 0&&(y=0),e===void 0&&(e=" "),f===void 0&&(f=3),h=h.toString();var d=0;if(y+1>=h.length)switch(f){case 1:h=new Array(y+1-h.length).join(e)+h;break;case 3:var s=Math.ceil((d=y-h.length)/2),a=d-s;h=new Array(a+1).join(e)+h+new Array(s+1).join(e);break;default:h=h+new Array(y+1-h.length).join(e);break}return h};C.exports=M}},t={};function n(C){var M=t[C];if(M!==void 0)return M.exports;var h=t[C]={exports:{}};return i[C](h,h.exports,n),h.exports}var x=n(4513);window.SpinePlugin=x})();class wA extends oi.GameObjects.Container{constructor(n,x,C,M,h,y=!1){var r,o;super(n,x,C);Ft(this,"sgo");Ft(this,"physicsObject");Ft(this,"rightArmHitBox");Ft(this,"leftArmHitBox");Ft(this,"canDoublejump",!1);Ft(this,"healthBar");Ft(this,"hp",100);Ft(this,"direction",1);this.sgo=n.add.spine(0,0,M,h,y).refresh(),this.sgo.setMix("idle","walk",.1),this.sgo.setMix("idle","jump",.1),this.sgo.setMix("idle","attack",.1),this.sgo.setMix("walk","fly",.1),this.sgo.setMix("walk","idle",.1),this.sgo.setMix("walk","jump",.1),this.sgo.setMix("walk","attack",.1),this.sgo.setMix("jump","walk",.1),this.sgo.setMix("jump","idle",.1),this.sgo.setMix("jump","fly",.1),this.sgo.setMix("fly","walk",.1),this.sgo.setMix("fly","jump",.1),this.sgo.setMix("attack","idle",.1),this.sgo.setMix("attack","walk",.1),this.sgo.state.timeScale=1.7;const e=this.sgo.skeleton.findBone("bone11"),f=this.sgo.skeleton.findBone("bone8");this.rightArmHitBox=n.add.circle(f.worldX,this.scene.game.canvas.height-f.worldY,40,void 0,0),this.leftArmHitBox=n.add.circle(f.worldX,this.scene.game.canvas.height-f.worldY,40,void 0,0),this.physicsObject=n.add.circle(e.worldX,this.scene.game.canvas.height-e.worldY,40,void 0,0),this.rightArmHitBox.setData("bone",f).setInteractive(),this.add(this.physicsObject),this.add(this.rightArmHitBox),n.physics.add.existing(this.physicsObject),n.physics.add.existing(this.rightArmHitBox),this.physicsBody.setAllowGravity(!1),this.physicsBody.setCircle(60),this.rightHitBox.setAllowGravity(!1),this.rightHitBox.setCircle(60),n.physics.add.existing(this);const d=this.sgo.getBounds(),s=d.size.x,a=d.size.y;this.setPhysicsSize(s,a),this.add(this.sgo),this.spine.setData("attack",!1),(r=this.scene.input.keyboard)==null||r.on("keydown-SPACE",()=>{this.body.blocked.down&&(this.spine.setData("attack",!0),this.spine.play("attack",!1,!0),setTimeout(()=>{this.spine.play("idle",!0,!0),this.spine.setData("attack",!1)},500))}),(o=this.scene.input.keyboard)==null||o.on("keydown-UP",()=>{this.body.blocked.down?(this.spine.play("jump",!1,!0),this.body.setVelocityY(-600),this.canDoublejump=!0):this.canDoublejump&&(this.spine.play("jump",!1,!0),this.body.setVelocityY(-600),this.canDoublejump=!1)}),this.sgo.skeleton.updateWorldTransform(),this.healthBar=this.scene.add.graphics(),this.healthBar.setScrollFactor(0)}get physicsBody(){return this.physicsObject.body}get rightHitBox(){return this.rightArmHitBox.body}get spine(){return this.sgo}drawHealthBar(){const C=this.hp/100;this.healthBar.clear(),this.healthBar.fillStyle(16711680),this.healthBar.fillRect(50,61,350,15),this.healthBar.fillStyle(65280);const M=350*C;this.healthBar.fillRect(50,61,M,15)}faceDirection(n){this.sgo.scaleX!==n&&(this.direction=n,this.sgo.scaleX=n)}setPhysicsSize(n,x){const C=this.body;C.setOffset(n*-.5,-x),C.setSize(n,x)}update(n,x){const{left:C,right:M,up:h,space:y}=x,e=this.sgo.skeleton.findBone("bone11"),f=this.sgo.skeleton.findBone("bone8"),d=this.spine.getData("attack"),s={x:e.worldX+n.midPoint.x-this.scene.game.canvas.width/2,y:e.worldY*-1+this.scene.game.canvas.height+n.midPoint.y-this.scene.game.canvas.height/2-10},a={x:f.worldX+n.midPoint.x-this.scene.game.canvas.width/2-10,y:f.worldY*-1+this.scene.game.canvas.height+n.midPoint.y-this.scene.game.canvas.height/2};this.direction>0?a.x+=60:a.x-=90,this.physicsBody.position.copy(s),this.rightHitBox.position.copy(a),C.isDown?(this.faceDirection(-1),this.body.setVelocityX(-400),this.body.blocked.down&&this.sgo.play("walk",!0,!0)):M.isDown?(this.faceDirection(1),this.body.setVelocityX(400),this.faceDirection(1),this.body.blocked.down&&this.sgo.play("walk",!0,!0)):!d&&this.body.blocked.down&&this.sgo.play("idle",!0,!0),h.isDown&&this.body.blocked.down,this.body.blocked.down,this.body.blocked.down,this.hp>0?this.drawHealthBar():this.healthBar.clear()}}oi.GameObjects.GameObjectFactory.register("spineContainer",function(i,t,n,x,C=!1){const M=new wA(this.scene,i,t,n,x,C);return this.displayList.add(M),M});class rt{constructor(t){this.scene=t,this.displayList=t.sys.displayList,this.updateList=t.sys.updateList,t.events.once("destroy",this.destroy,this)}destroy(){this.scene=null,this.displayList=null,this.updateList=null}static register(t,n){rt.prototype[t]=n}}var OA=function(i){return i===void 0&&(i=LA),this.getFrameNameCallback=i,this},LA=function(i,t,n){return n==="__BASE"?`${i},${t}`:`${n}_${i},${t}`};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var FA=function(i){if(typeof i!="object"||i.nodeType||i===i.window)return!1;try{if(i.constructor&&!{}.hasOwnProperty.call(i.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0},wi=function(i){var t,n,x;if(i==null||typeof i!="object")return i;if(t=Array.isArray(i)?[]:{},FA(i))for(x in i)n=i[x],t[x]=wi(n);else t=i;return t},IA=function(i,t,n,x){Array.isArray(t)&&(x=n,n=t,t=void 0),t==null&&(t="__BASE"),typeof n=="number"&&arguments.length>=6?(n=[arguments[2],void 0,arguments[3]],x=[arguments[4],void 0,arguments[5]]):(n=wi(n),x=wi(x)),this.textureKey=i,this.baseFrameName=t,this.columns.data=n,this.columns.count=n?n.length:0,this.columns.stretch=0,this.columns.minWidth=0,this.columns.scale=1,this.rows.data=x,this.rows.count=x?x.length:0,this.rows.stretch=0,this.rows.minHeight=0,this.rows.scale=1;var C=this.scene.sys.textures.get(i);if(!C)return this.clear(),this;if(!n||!x)return this.clear(),this;for(var M=C.get(t),h=M.width,y=0,e=0,f=n.length;e<f;e++)n[e]===void 0?y++:typeof n[e]=="number"?h-=n[e]:h-=n[e].width;for(var d=h/y,s=M.height,a=0,e=0,f=x.length;e<f;e++)x[e]===void 0?a++:typeof x[e]=="number"?s-=x[e]:s-=x[e].width;for(var r=s/a,o,u,v,l,c,p=0,g=0,m=0,T=x.length;m<T;m++){x[m]===void 0&&(x[m]=r),typeof x[m]=="number"&&(x[m]={height:x[m],stretch:m%2}),o=x[m],v=o.height,this.rows.stretch+=o.stretch|0,this.rows.minHeight+=o.stretch>0?0:v,p=0;for(var e=0,S=n.length;e<S;e++){if(n[e]===void 0&&(n[e]=d),typeof n[e]=="number"&&(n[e]={width:n[e],stretch:e%2}),u=n[e],l=u.width,m===0&&(this.columns.stretch+=u.stretch|0,this.columns.minWidth+=u.stretch>0?0:l),l>=1&&v>=1){c=this.getFrameNameCallback(e,m,t);var P=typeof c;(P==="string"||P==="number")&&C.add(c,0,p+M.cutX,g+M.cutY,l,v)}p+=l}g+=v}return this.updateTexture(),this},DA=function(){if(this.clear(),this.textureKey===void 0)return this;var i=this.scene.sys.textures.get(this.textureKey);if(!i)return this;var t=this.columns.minWidth*this.maxFixedPartScaleX,n=this.rows.minHeight*this.maxFixedPartScaleY,x=this.width-t,C=this.height-n,M=x>=0?this.maxFixedPartScaleX:this.width/t,h=C>=0?this.maxFixedPartScaleY:this.height/n;if(this.preserveRatio){var y=Math.min(M,h);if(M>y){var e=(M-y)*t;x>=0?x+=e:x=e,M=y}if(h>y){var f=(h-y)*n;C>=0?C+=f:C=f,h=y}}this.columns.scale=M,this.rows.scale=h;var d;x>0?d=this.columns.stretch>0?x/this.columns.stretch:0:d=0;var s;C>0?s=this.rows.stretch>0?C/this.rows.stretch:0:s=0;var a,r,o,u,v,l=0,c=0,p;this._beginDraw();for(var g=0,m=this.rows.count;g<m;g++){o=this.rows.data[g],v=o.stretch===0?o.height*h:s*o.stretch,l=0;for(var T=0,S=this.columns.count;T<S;T++)r=this.columns.data[T],u=r.stretch===0?r.width*M:d*r.stretch,a=this.getFrameNameCallback(T,g,this.baseFrameName),i.has(a)&&u>0&&v>0&&(o.stretch===0&&r.stretch===0||this.getStretchMode(T,g)===0?p=0:p=1,p===0?this._drawImage(this.textureKey,a,l,c,u,v):this._drawTileSprite(this.textureKey,a,l,c,u,v)),l+=u;c+=v}this._endDraw()};const BA=Phaser.Utils.Objects.IsPlainObject,$m=Phaser.Utils.Objects.GetValue;var bA=function(i){return BA(i)?(this.stretchMode.edge=xd($m(i,"edge",0)),this.stretchMode.internal=xd($m(i,"internal",0))):(i=xd(i),this.stretchMode.edge=i,this.stretchMode.internal=i),this},xd=function(i){return typeof i=="string"&&(i=GA[i]),i};const GA={scale:0,repeat:1};var NA=function(i,t){return i===0||i===this.columns.count-1||t===0||t===this.rows.count-1},VA=function(i,t){return NA.call(this,i,t)?this.stretchMode.edge:this.stretchMode.internal},zA=function(i){return i==null&&(i=!0),this.preserveRatio=i,this},kA=function(i,t){return t===void 0&&(t=i),this.maxFixedPartScaleX=i,this.maxFixedPartScaleY=t,this},Fe=function(){};const UA={_beginDraw:Fe,_drawImage:Fe,_drawTileSprite:Fe,_endDraw:Fe,setGetFrameNameCallback:OA,setBaseTexture:IA,updateTexture:DA,setStretchMode:bA,getStretchMode:VA,setPreserveRatio:zA,setMaxFixedPartScale:kA},Qa=Phaser.Utils.Objects.IsPlainObject,Rt=Phaser.Utils.Objects.GetValue;var DS=function(i,t){class n extends i{constructor(C,M,h,y,e,f,d,s,a,r){if(Qa(M)?(r=M,M=Rt(r,"x",0),h=Rt(r,"y",0),y=Rt(r,"width",1),e=Rt(r,"height",1),f=Rt(r,"key",void 0),d=Rt(r,"baseFrame",void 0),s=Rt(r,"columns",void 0),a=Rt(r,"rows",void 0)):Qa(y)?(r=y,y=Rt(r,"width",1),e=Rt(r,"height",1),f=Rt(r,"key",void 0),d=Rt(r,"baseFrame",void 0),s=Rt(r,"columns",void 0),a=Rt(r,"rows",void 0)):Qa(f)?(r=f,f=Rt(r,"key",void 0),d=Rt(r,"baseFrame",void 0),s=Rt(r,"columns",void 0),a=Rt(r,"rows",void 0)):Qa(d)?(r=d,d=Rt(r,"baseFrame",void 0),s=Rt(r,"columns",void 0),a=Rt(r,"rows",void 0)):Array.isArray(d)?(r=a,a=s,s=d,d=Rt(r,"baseFrame",void 0)):Qa(s)&&(r=s,s=Rt(r,"columns",void 0),a=Rt(r,"rows",void 0)),s===void 0){var o=Rt(r,"leftWidth",void 0),u=Rt(r,"rightWidth",void 0);o!==void 0&&u!==void 0&&(s=[o,void 0,u])}if(a===void 0){var v=Rt(r,"topHeight",void 0),l=Rt(r,"bottomHeight",void 0);v!==void 0&&l!==void 0&&(a=[v,void 0,l])}super(C),this.type=t,this.setPosition(M,h).setSize(y,e).setOrigin(.5,.5),this.columns={},this.rows={},this.stretchMode={},this._tileSprite=void 0,this._image=void 0,this.setGetFrameNameCallback(Rt(r,"getFrameNameCallback",void 0)),this.setStretchMode(Rt(r,"stretchMode",0)),this.setPreserveRatio(Rt(r,"preserveRatio",!0));var c=Rt(r,"maxFixedPartScale",1),p=Rt(r,"maxFixedPartScaleX",c),g=Rt(r,"maxFixedPartScaleY",void 0);this.setMaxFixedPartScale(p,g),this.setBaseTexture(f,d,s,a)}get minWidth(){return this.columns.minWidth}get minHeight(){return this.rows.minHeight}get fixedPartScaleX(){return this.columns.scale}get fixedPartScaleY(){return this.rows.scale}resize(C,M){return this.width===C&&this.height===M?this:(super.resize?super.resize(C,M):super.setSize(C,M),this.updateTexture(),this)}}return Object.assign(n.prototype,UA),n};const XA=Phaser.Game;var Km=function(i){return i instanceof XA};const YA=Phaser.Scene;var ar=function(i){return i instanceof YA},wa=function(i){if(i==null||typeof i!="object")return null;if(Km(i))return i;if(Km(i.game))return i.game;if(ar(i))return i.sys.game;if(ar(i.scene))return i.scene.sys.game};const WA=Phaser.GameObjects;var Ys=void 0,BS=function(i,t){if(Ys||(Ys={},wa(i).events.once("destroy",function(){for(var x in Ys)Ys[x].destroy();Ys=void 0})),!Ys.hasOwnProperty(t)){var n=wa(i).scene.systemScene,i=new WA[t](n);i.setOrigin(0),Ys[t]=i}return Ys[t]},HA=function(i,t,n,x,C,M){var h=BS(this,"Image").setTexture(i,t).setDisplaySize(C,M);this.batchDraw(h,n,x)},$A=function(i,t,n,x,C,M){var h=BS(this,"TileSprite").setTexture(i,t).setSize(C,M);this.batchDraw(h,n,x)};const kv=Phaser.GameObjects.RenderTexture;let qu=class extends DS(kv,"rexNinePatch"){};var KA={_beginDraw:kv.prototype.beginDraw,_endDraw:kv.prototype.endDraw,_drawImage:HA,_drawTileSprite:$A};Object.assign(qu.prototype,KA);var bS=function(i){return i==null||i===""||i.length===0},jA=function(i,t,n){var x=i;if(!bS(t)){typeof t=="string"&&(t=t.split("."));for(var C,M=0,h=t.length;M<h;M++){if(C=t[M],x[C]==null||typeof x[C]!="object"){var y;M===h-1?n===void 0?y={}:y=n:y={},x[C]=y}x=x[C]}}return x},nt=function(i,t,n,x){if(x===void 0&&(x="."),typeof i=="object"){if(bS(t)){if(n==null)return;typeof n=="object"&&(i=n)}else{typeof t=="string"&&(t=t.split(x));var C=t.pop(),M=jA(i,t);M[C]=n}return i}};rt.register("ninePatch",function(i,t,n,x,C,M,h,y){var e=new qu(this.scene,i,t,n,x,C,M,h,y);return this.scene.add.existing(e),e});nt(window,"RexPlugins.UI.NinePatch",qu);const ZA=Phaser.GameObjects.GetCalcMatrix;var JA=function(i,t,n,x){var C=t.getRenderList();if(C.length!==0){n.addToRenderList(t);var M=i.pipelines.set(t.pipeline),h=t.frame.glTexture,y=M.setGameObject(t),e=n.roundPixels,f=ZA(t,n,x),d=M.calcMatrix.copyFrom(f.calc),s=t._displayOriginX,a=t._displayOriginY,r=n.alpha*t.alpha;i.pipelines.preBatch(t);for(var o=0,u=C.length;o<u;o++)C[o].webglRender(M,d,r,s,a,h,y,e);i.pipelines.postBatch(t)}};const QA=Phaser.Renderer.Canvas.SetTransform;var qA=function(i,t,n,x){var C=i.currentContext,M=t.getRenderList();if(!(M.length===0||!QA(i,C,t,n,x))){n.addToRenderList(t);var h=n.roundPixels,y=-t._displayOriginX,e=-t._displayOriginY;C.translate(y,e);for(var f=0,d=M.length;f<d;f++)M[f].canvasRender(C,y,e,h);C.restore()}};const _A={renderWebGL:JA,renderCanvas:qA};var tw=function(i,t){return this.texture=this.scene.sys.textures.get(i),this.frame=this.texture.get(t),this},jm=function(i,t){if(this.width===i&&this.height===t)return this;this.width=i,this.height=t,this.updateDisplayOrigin();var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=i,n.hitArea.height=t),this},ew=function(i){return this.lastAppendedChildren.length=0,Array.isArray(i)?(this.children.add(i),this.lastAppendedChildren.push(...i)):(this.children.add(i),this.lastAppendedChildren.push(i)),this};const iw=Phaser.Utils.Array.Remove;var sw=function(i){return this.poolManager&&this.poolManager.free(i),iw(this.children.list,i),this.lastAppendedChildren.length=0,this.dirty=!0,this},Zm=function(){return this.poolManager&&this.poolManager.freeMultiple(this.children.list),this.children.list.length=0,this.lastAppendedChildren.length=0,this.dirty=!0,this},nw=function(){return this.lastAppendedChildren},rw=function(){return this.children.list};const aw={setTint(i){return this.tint=i,this.tintFill=!1,this},setTintFill(i){return this.tint=i,this.tintFill=!0,this},clearTint(){return this.setTint(16777215),this}};var GS={setTexture:tw,resize:jm,setSize:jm,addChild:ew,removeChild:sw,removeChildren:Zm,clear:Zm,getLastAppendedChildren:nw,getChildren:rw};Object.assign(GS,aw);class fs{constructor(){this.items=[]}destroy(){this.clear(),this.items=void 0}pop(){return this.items.length>0?this.items.pop():null}push(t){return this.items.push(t),this}pushMultiple(t){return this.items.push.apply(this.items,t),t.length=0,this}clear(){return this.items.length=0,this}}const ow=Phaser.Utils.Objects.GetValue;var hw={};let lw=class{constructor(t){this.pools=ow(t,"pools",hw)}destroy(){this.pools=void 0}free(t){if(!this.pools)return this;var n=t.type;return this.pools.hasOwnProperty(n)||(this.pools[n]=new fs),this.pools[n].push(t),t.onFree(),this}freeMultiple(t){if(!this.pools)return this;for(var n=0,x=t.length;n<x;n++)this.free(t[n]);return this}allocate(t){return!this.pools||!this.pools.hasOwnProperty(t)?null:this.pools[t].pop()}};const uw=Phaser.GameObjects.GameObject,fw=Phaser.Utils.Objects.IsPlainObject,qa=Phaser.Utils.Objects.GetValue,dw=Phaser.Structs.List,cw=Phaser.Utils.Array.StableSort;class NS extends uw{constructor(t,n,x,C,M,h){fw(n)&&(h=n,n=qa(h,"x",0),x=qa(h,"y",0),C=qa(h,"texture"),M=qa(h,"frame")),n===void 0&&(n=0),x===void 0&&(x=0),super(t,"rexBlitter"),this.children=new dw,this.renderList=[],this.displayListDirty=!1,this.lastAppendedChildren=[];var y=qa(h,"reuseBob",!0);this.poolManager=y?new lw(h):void 0,this.setTexture(C,M).setPosition(n,x).setOrigin(0,0).clearTint().initPipeline()}preDestroy(){this.removeChildren(),this.children.destroy(),this.renderList.length=0,this.poolManager&&this.poolManager.destroy()}getRenderList(){if(this.displayListDirty){this.renderList.length=0;for(var t=!1,n=this.children.list,x=0,C=n.length;x<C;x++){var M=n[x];vw(M)&&(this.renderList.push(M),t||(t=M.depth!==0))}t&&cw(this.renderList,pw),this.displayListDirty=!1}return this.renderList}}var vw=function(i){return i.active&&i.visible&&i.alpha>0},pw=function(i,t){return i._depth-t._depth};const Ii=Phaser.GameObjects.Components;Phaser.Class.mixin(NS,[Ii.Alpha,Ii.BlendMode,Ii.ComputedSize,Ii.Depth,Ii.GetBounds,Ii.Mask,Ii.Origin,Ii.Pipeline,Ii.ScrollFactor,Ii.Transform,Ii.Visible,_A,GS]);const VS="image";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Nt=function(i,t,n){if(!i||typeof i=="number")return n;if(i.hasOwnProperty(t))return i[t];if(t.indexOf(".")!==-1){for(var x=t.split("."),C=i,M=n,h=0;h<x.length;h++)if(C.hasOwnProperty(x[h]))M=C[x[h]],C=C[x[h]];else{M=n;break}return M}else return n},Fs=function(i){if(typeof i!="object"||i===null)return i;if(Array.isArray(i))i.length=0;else for(var t in i)delete i[t];return i};const _u={enableData(){return this.data===void 0&&(this.data={}),this},setData(i,t){if(this.enableData(),arguments.length===1){var n=i;for(i in n)this.data[i]=n[i]}else this.data[i]=t;return this},getData(i,t){return this.enableData(),i===void 0?this.data:Nt(this.data,i,t)},incData(i,t,n){return n===void 0&&(n=0),this.enableData(),this.setData(i,this.getData(i,n)+t),this},mulData(i,t,n){return n===void 0&&(n=0),this.enableData(),this.setData(i,this.getData(i,n)*t),this},clearData(){return this.data&&Fs(this.data),this}};let zS=class{constructor(t,n){this.type=n,this.data=void 0,this.setParent(t).reset().setActive()}destroy(){this.parent&&this.parent.removeChild(this)}setParent(t){return this.parent=t,this}setDisplayListDirty(t){return t&&this.parent&&(this.parent.displayListDirty=!0),this}get active(){return this._active}set active(t){this.setDisplayListDirty(this._active!=t),this._active=t}setActive(t){return t===void 0&&(t=!0),this.active=t,this}modifyPorperties(t){return this}reset(){this.clearData()}onFree(){this.reset().setActive(!1).setParent()}};Object.assign(zS.prototype,_u);const gw=Phaser.Math.DegToRad,mw=Phaser.Math.RadToDeg,Rr=Phaser.Utils.Objects.GetValue;let xw=class extends zS{get visible(){return this._visible}set visible(t){this.setDisplayListDirty(this._visible!=t),this._visible=t}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}get alpha(){return this._alpha}set alpha(t){this.setDisplayListDirty(!!this._alpha!=!!t),this._alpha=t}setAlpha(t){return this.alpha=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setPosition(t,n){return this.x=t,this.y=n,this}setRotation(t){return this.rotation=t,this}get angle(){return mw(this.rotation)}set angle(t){this.rotation=gw(t)}setAngle(t){return this.angle=t,this}setScaleX(t){return this.scaleX=t,this}get width(){return this._width}set width(t){this._width=t}setWidth(t,n){return n===void 0&&(n=!1),this.width=t,n&&(this.scaleY=this.scaleX),this}setScaleY(t){return this.scaleY=t,this}setScale(t,n){return n===void 0&&(n=t),this.scaleX=t,this.scaleY=n,this}get height(){return this._height}set height(t){this._height=t}setHeight(t,n){return n===void 0&&(n=!1),this.height=t,n&&(this.scaleX=this.scaleY),this}setScale(t,n){return n===void 0&&(n=t),this.scaleX=t,this.scaleY=n,this}get displayWidth(){return this._width*this.scaleX}set displayWidth(t){this.scaleX=t/this._width}setDisplayWidth(t,n){return n===void 0&&(n=!1),this.displayWidth=t,n&&(this.scaleY=this.scaleX),this}get displayHeight(){return this._height*this.scaleY}set displayHeight(t){this.scaleY=t/this._height}setDisplayHeight(t,n){return n===void 0&&(n=!1),this.displayHeight=t,n&&(this.scaleX=this.scaleY),this}setOriginX(t){return this.originX=t,this._displayOriginX=this.width*t,this}setOriginY(t){return this.originY=t,this._displayOriginY=this.height*t,this}setOrigin(t,n){return n===void 0&&(n=t),this.setOriginX(t).setOriginY(n),this}get depth(){return this._depth}set depth(t){this.setDisplayListDirty(this._depth!=t),this._depth=t}setDepth(t){return t===void 0&&(t=0),this.depth=t,this}modifyPorperties(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var n=Rr(t,"width",void 0),x=Rr(t,"height",void 0),C=Rr(t,"scale",void 0),M=Rr(t,"scaleX",C),h=Rr(t,"scaleY",C);n!==void 0?x===void 0&&h===void 0?this.setWidth(n,!0):this.setWidth(n):M!==void 0?this.setScaleX(M):t.hasOwnProperty("displayWidth")&&this.setDisplayWidth(t.displayWidth),x!==void 0?n===void 0&&M===void 0?this.setHeight(x,!0):this.setHeight(x):h!==void 0?this.setScaleY(h):t.hasOwnProperty("displayHeight")&&this.setDisplayHeight(t.displayHeight);var y=Rr(t,"origin",void 0);return y!==void 0?this.setOrigin(y):(t.hasOwnProperty("originX")&&this.setOriginX(t.originX),t.hasOwnProperty("originY")&&this.setOriginY(t.originY)),t.hasOwnProperty("depth")&&this.setDepth(t.depth),this}reset(){return super.reset(),this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setOrigin(0).setDepth(0),this}webglRender(t,n,x,C,M,h,y,e){}canvasRender(t,n,x,C){}};const yw=Phaser.GameObjects.Components.TransformMatrix,Tw=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;var Kh=new yw,Cw=function(i,t,n,x,C,M,h,y){var e=this._width,f=this._height,d=e*this.originX,s=f*this.originY,a=this.x-x,r=this.y-C,o=1,u=1;this.flipX&&(a+=e-d*2,o=-1),this.flipY&&(r+=f-s*2,u=-1),Kh.applyITRS(a,r,this.rotation,this.scaleX*o,this.scaleY*u),t.multiply(Kh,Kh);var v=-d,l=-s,c=v+e,p=l+f,g=Kh.setQuad(v,l,c,p,y),m=this.frame.u0,T=this.frame.v0,S=this.frame.u1,P=this.frame.v1,E=Tw(this.tint,this.alpha*n);i.batchQuad(this.parent,g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],m,T,S,P,E,E,E,E,this.tintFill,M,h)},Sw=function(i,t,n,x){i.save();var C=this._width,M=this._height,h=C*this.originX,y=M*this.originY,e=this.x-h,f=this.y-y,d=1,s=1;this.flipX&&(e+=C,d=-1),this.flipY&&(f+=M,s=-1),x&&(e=Math.round(e),f=Math.round(f)),i.translate(e,f),i.rotate(this.rotation),i.scale(this.scaleX*d,this.scaleY*s);var a=this.frame;i.drawImage(a.source.image,a.cutX,a.cutY,C,M,0,0,C,M),i.restore()};const Mw=Phaser.Utils.Objects.IsPlainObject;let kS=class extends xw{constructor(t,n){super(t,VS),this.setFrame(n)}get width(){return this._width}set width(t){}get height(){return this._height}set height(t){}setFrame(t){return arguments.length>0&&!Mw(t)&&(t=this.parent.texture.get(t)),this.frame=t,this._width=t?t.width:0,this._height=t?t.height:0,this}setFlipX(t){return t===void 0&&(t=!0),this.flipX=t,this}setFlipY(t){return t===void 0&&(t=!0),this.flipY=t,this}resetFlip(){return this.flipX=!1,this.flipY=!1,this}get tint(){return this._tint===void 0?this.parent.tint:this._tint}set tint(t){this._tint=t}setTint(t){return this.tint=t,this.tintFill=!1,this}setTintFill(t){return this.tint=t,this.tintFill=!0,this}clearTint(){return this.setTint(16777215),this}resetTint(){return this.tint=void 0,this.tintFill=void 0,this}get tintFill(){return this._tintFill===void 0?this.parent.tintFill:this._tintFill}set tintFill(t){this._tintFill=t}reset(){return super.reset(),this.resetFlip().resetTint().setFrame(),this}modifyPorperties(t){return t?(t.hasOwnProperty("width")&&(t.displayWidth=t.width,delete t.width),t.hasOwnProperty("height")&&(t.displayHeight=t.height,delete t.height),t.hasOwnProperty("frame")&&this.setFrame(t.frame),super.modifyPorperties(t),t.hasOwnProperty("flipX")&&this.setFlipX(t.flipX),t.hasOwnProperty("flipY")&&this.setFlipY(t.flipY),t.hasOwnProperty("tint")&&this.setTint(t.tint),t.hasOwnProperty("tintFill")&&this.setTintFill(t.tintFill),this):this}};var Ew={webglRender:Cw,canvasRender:Sw};Object.assign(kS.prototype,Ew);var US=function(i,t){typeof t=="string"&&(t={frame:t});var n=i.poolManager?i.poolManager.allocate(VS):null;return n===null?n=new kS(i):n.setParent(i).setActive(),n.modifyPorperties(t),i.addChild(n),n},Pw=function(i,t,n,x,C,M){US(this,{frame:t,x:n,y:x,width:C,height:M})},Rw=function(i,t,n,x,C,M){var h=this.texture.get(t),y=h.width,e=h.height,f=Math.floor(C/y),d=Math.floor(M/e);n+=(C-f*y)/2,x+=(M-d*e)/2;for(var s=0;s<f;s++)for(var a=0;a<d;a++)US(this,{frame:t,x:n+s*y,y:x+a*e})};const Aw={_drawImage:Pw,_drawTileSprite:Rw};class t0 extends DS(NS,"rexNinePatch2"){setBaseTexture(t,n,x,C){return this.setTexture(t,n),super.setBaseTexture(t,n,x,C),this}}Object.assign(t0.prototype,Aw);rt.register("ninePatch2",function(i,t,n,x,C,M,h,y){var e=new t0(this.scene,i,t,n,x,C,M,h,y);return this.scene.add.existing(e),e});nt(window,"RexPlugins.UI.NinePatch2",t0);const _s=Phaser.Utils.Objects.GetValue;let XS=class{constructor(t,n,x,C,M){t===void 0&&(t=0),n===void 0&&(n=t),x===void 0&&(x=0),C===void 0&&(C=0),M===void 0&&(M=0),this.cornerRadius={},this._width=0,this._height=0,this.setTo(t,n,x,C,M)}setTo(t,n,x,C,M){return this.setPosition(t,n),this.setRadius(M),this.setSize(x,C),this}setPosition(t,n){return this.x=t,this.y=n,this}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setSize(t,n){return this.width=t,this.height=n,this}get minWidth(){var t=this.cornerRadius;return Math.max(t.tl.x+t.tr.x,t.bl.x+t.br.x)}get minHeight(){var t=this.cornerRadius;return Math.max(t.tl.y+t.bl.y,t.tr.y+t.br.y)}get width(){return this._width}set width(t){t==null&&(t=0),this._width=Math.max(t,this.minWidth)}get height(){return this._height}set height(t){t==null&&(t=0),this._height=Math.max(t,this.minHeight)}get radius(){var t=this.cornerRadius;return Math.max(t.tl.x,t.tl.y,t.tr.x,t.tr.y,t.bl.x,t.bl.y,t.br.x,t.br.y)}set radius(t){var n,x;typeof t=="number"?(n=t,x=t):(n=_s(t,"x",0),x=_s(t,"y",0));var C=this.cornerRadius;C.tl=jh(_s(t,"tl",void 0),n,x),C.tr=jh(_s(t,"tr",void 0),n,x),C.bl=jh(_s(t,"bl",void 0),n,x),C.br=jh(_s(t,"br",void 0),n,x)}get radiusTL(){var t=this.cornerRadius.tl;return Math.max(t.x,t.y)}set radiusTL(t){Zh(this.cornerRadius.tl,t)}get radiusTR(){var t=this.cornerRadius.tr;return Math.max(t.x,t.y)}set radiusTR(t){Zh(this.cornerRadius.tr,t)}get radiusBL(){var t=this.cornerRadius.bl;return Math.max(t.x,t.y)}set radiusBL(t){Zh(this.cornerRadius.bl,t)}get radiusBR(){var t=this.cornerRadius.br;return Math.max(t.x,t.y)}set radiusBR(t){Zh(this.cornerRadius.br,t)}};var jh=function(i,t,n){return i===void 0?i={x:t,y:n}:typeof i=="number"&&(i={x:i,y:i}),YS(i),i},Zh=function(i,t){typeof t=="number"?(i.x=t,i.y=t):(i.x=_s(t,"x",0),i.y=_s(t,"y",0)),YS(i)},YS=function(i){i.convex=i.x>=0||i.y>=0,i.x=Math.abs(i.x),i.y=Math.abs(i.y)},ds=function(i,t,n){var x=n.length;if(x>=2){var C=n[x-2],M=n[x-1];if(i===C&&t===M)return n}return n.push(i,t),n};const Jm=Phaser.Math.DegToRad;var pe=function(i,t,n,x,C,M,h,y,e){h&&M>C?M-=360:!h&&M<C&&(M+=360);var f=M-C,d=Jm(f)/y;C=Jm(C);for(var s=0;s<=y;s++){var a=C+d*s,r=i+n*Math.cos(a),o=t+x*Math.sin(a);ds(r,o,e)}return e},ww=Phaser.Renderer.WebGL.Utils,WS=function(i,t,n,x,C,M){for(var h=ww.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*x),y=n.pathData,e=n.pathIndexes,f=0;f<e.length;f+=3){var d=e[f]*2,s=e[f+1]*2,a=e[f+2]*2,r=y[d+0]-C,o=y[d+1]-M,u=y[s+0]-C,v=y[s+1]-M,l=y[a+0]-C,c=y[a+1]-M,p=t.getX(r,o),g=t.getY(r,o),m=t.getX(u,v),T=t.getY(u,v),S=t.getX(l,c),P=t.getY(l,c);i.batchTri(n,p,g,m,T,S,P,0,0,1,1,h,h,h,2)}},Ow=Phaser.Renderer.WebGL.Utils,tf=function(i,t,n,x,C){var M=i.strokeTint,h=Ow.getTintAppendFloatAlpha(t.strokeColor,t.strokeAlpha*n);M.TL=h,M.TR=h,M.BL=h,M.BR=h;var y=t.pathData,e=y.length-1,f=t.lineWidth,d=f/2,s=y[0]-x,a=y[1]-C;t.closePath||(e-=2);for(var r=2;r<e;r+=2){var o=y[r]-x,u=y[r+1]-C;i.batchLine(s,a,o,u,d,d,f,r-2,t.closePath?r===e-1:!1),s=o,a=u}};const Lw=Phaser.GameObjects.GetCalcMatrix;var Fw=function(i,t,n,x){t.dirty&&(t.updateData(),t.dirty=!1),n.addToRenderList(t);var C=i.pipelines.set(t.pipeline),M=Lw(t,n,x),h=C.calcMatrix.copyFrom(M.calc),y=t._displayOriginX,e=t._displayOriginY,f=n.alpha*t.alpha;i.pipelines.preBatch(t),t.isFilled&&WS(C,h,t,f,y,e),t.isStroked&&tf(C,t,f,y,e),i.pipelines.postBatch(t)},dh=function(i,t,n,x){var C=n||t.fillColor,M=x||t.fillAlpha,h=(C&16711680)>>>16,y=(C&65280)>>>8,e=C&255;i.fillStyle="rgba("+h+","+y+","+e+","+M+")"},ch=function(i,t,n,x){var C=n||t.strokeColor,M=x||t.strokeAlpha,h=(C&16711680)>>>16,y=(C&65280)>>>8,e=C&255;i.strokeStyle="rgba("+h+","+y+","+e+","+M+")",i.lineWidth=t.lineWidth};const Iw=Phaser.Renderer.Canvas.SetTransform;var Dw=function(i,t,n,x){t.dirty&&(t.updateData(),t.dirty=!1),n.addToRenderList(t);var C=i.currentContext;if(Iw(i,C,t,n,x)){var M=t._displayOriginX,h=t._displayOriginY,y=t.pathData,e=y.length-1,f=y[0]-M,d=y[1]-h;C.beginPath(),C.moveTo(f,d),t.closePath||(e-=2);for(var s=2;s<e;s+=2){var a=y[s]-M,r=y[s+1]-h;C.lineTo(a,r)}C.closePath(),t.isFilled&&(dh(C,t),C.fill()),t.isStroked&&(ch(C,t),C.stroke()),C.restore()}};const Bw={renderWebGL:Fw,renderCanvas:Dw},bw=Phaser.GameObjects.Shape,Gw=Phaser.Utils.Objects.IsPlainObject,Qm=Phaser.Utils.Objects.GetValue,Nw=Phaser.Geom.Polygon.Earcut;let Rn=class extends bw{constructor(t,n,x,C,M,h,y,e){var f,d,s,a;if(Gw(n)){var r=n;n=r.x,x=r.y,C=r.width,M=r.height,h=r.radius,y=r.color,e=r.alpha,f=r.strokeColor,d=r.strokeAlpha,s=r.strokeWidth,a=r.shape}n===void 0&&(n=0),x===void 0&&(x=0),C===void 0&&(C=1),M===void 0&&(M=C),h===void 0&&(h=0),a===void 0&&(a=0);var o=new XS;if(super(t,"rexRoundRectangleShape",o),this.setShapeType(a),this.shapeType===0){var u=Qm(h,"radius",h);o.setTo(0,0,C,M,u)}else{var u={x:C/2,y:M/2};o.setTo(0,0,C,M,u)}var v=Qm(h,"iteration",void 0);this.setIteration(v),this.setPosition(n,x),this.setFillStyle(y,e),f!==void 0&&s===void 0&&(s=2),this.setStrokeStyle(s,f,d),this.updateDisplayOrigin(),this.dirty=!0}get fillColor(){return this._fillColor}set fillColor(t){this._fillColor=t,this.isFilled=t!=null&&this._fillAlpha>0}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this._fillAlpha=t,this.isFilled=t>0&&this._fillColor!=null}setFillStyle(t,n){return n===void 0&&(n=1),this.fillColor=t,this.fillAlpha=n,this}get strokeColor(){return this._strokeColor}set strokeColor(t){this._strokeColor=t,this.isStroked=t!=null&&this._strokeAlpha>0&&this._lineWidth>0}get strokeAlpha(){return this._strokeAlpha}set strokeAlpha(t){this._strokeAlpha=t,this.isStroked=t>0&&this._strokeColor!=null&&this._lineWidth>0}get lineWidth(){return this._lineWidth}set lineWidth(t){this._lineWidth=t,this.isStroked=t>0&&this._strokeColor!=null}setStrokeStyle(t,n,x){return x===void 0&&(x=1),this.lineWidth=t,this.strokeColor=n,this.strokeAlpha=x,this}updateData(){var t=this.geom,n=this.pathData;n.length=0;var x=t.width,C=t.height,M=t.cornerRadius,h,y=this.iteration+1;if(h=M.tl,Jh(h))if(h.convex){var e=h.x,f=h.y;pe(e,f,h.x,h.y,180,270,!1,y,n)}else{var e=0,f=0;pe(e,f,h.x,h.y,90,0,!0,y,n)}else ds(0,0,n);if(h=M.tr,Jh(h))if(h.convex){var e=x-h.x,f=h.y;pe(e,f,h.x,h.y,270,360,!1,y,n)}else{var e=x,f=0;pe(e,f,h.x,h.y,180,90,!0,y,n)}else ds(x,0,n);if(h=M.br,Jh(h))if(h.convex){var e=x-h.x,f=C-h.y;pe(e,f,h.x,h.y,0,90,!1,y,n)}else{var e=x,f=C;pe(e,f,h.x,h.y,270,180,!0,y,n)}else ds(x,C,n);if(h=M.bl,Jh(h))if(h.convex){var e=h.x,f=C-h.y;pe(e,f,h.x,h.y,90,180,!1,y,n)}else{var e=0,f=C;pe(e,f,h.x,h.y,360,270,!0,y,n)}else ds(0,C,n);return n.push(n[0],n[1]),this.pathIndexes=Nw(n),this}setShapeType(t){return typeof t=="string"&&(t=Vw[t]),this.shapeType=t,this}get width(){return this.geom.width}set width(t){this.resize(t,this.height)}get height(){return this.geom.height}set height(t){this.resize(this.width,t)}setSize(t,n){if(n===void 0&&(n=t),this.geom.width===t&&this.geom.height===n)return this;this.geom.setSize(t,n),this.shapeType===1&&this.setRadius({x:t/2,y:n/2}),this.updateDisplayOrigin(),this.dirty=!0;var x=this.input;return x&&!x.customHitArea&&(x.hitArea.width=t,x.hitArea.height=n),this}resize(t,n){return this.setSize(t,n),this}get radius(){return this.geom.radius}set radius(t){this.geom.setRadius(t),this.updateDisplayOrigin(),this.dirty=!0}get radiusTL(){return this.geom.radiusTL}set radiusTL(t){this.geom.radiusTL=t,this.dirty=!0}get radiusTR(){return this.geom.radiusTR}set radiusTR(t){this.geom.radiusTR=t,this.dirty=!0}get radiusBL(){return this.geom.radiusBL}set radiusBL(t){this.geom.radiusBL=t,this.dirty=!0}get radiusBR(){return this.geom.radiusBR}set radiusBR(t){this.geom.radiusBR=t,this.dirty=!0}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setRadiusTL(t){return t===void 0&&(t=0),this.radiusTL=t,this}setRadiusTR(t){return t===void 0&&(t=0),this.radiusTR=t,this}setRadiusBL(t){return t===void 0&&(t=0),this.radiusBL=t,this}setRadiusBR(t){return t===void 0&&(t=0),this.radiusBR=t,this}get cornerRadius(){return this.geom.cornerRadius}set cornerRadius(t){this.radius=t}setCornerRadius(t){return this.setRadius(t)}get iteration(){return this._iteration}set iteration(t){if(this._iteration===void 0){this._iteration=t;return}this._iteration!==t&&(this._iteration=t,this.dirty=!0)}setIteration(t){return t===void 0&&(t=6),this.iteration=t,this}};var Jh=function(i){return i.x>0&&i.y>0};const Vw={rectangle:0,circle:1};Object.assign(Rn.prototype,Bw);rt.register("roundRectangle",function(i,t,n,x,C,M,h){var y=new Rn(this.scene,i,t,n,x,C,M,h);return this.scene.add.existing(y),y});nt(window,"RexPlugins.UI.RoundRectangle",Rn);var Uv=function(i,t,n,x){if(n===void 0&&(n="."),x===void 0&&(x={}),!i)return x;if(t in i)return Object.assign(x,i[t]);t+=n;for(var C in i)C.startsWith(t)&&(x[C.replace(t,"")]=i[C]);return x},yd=function(i,t,n){var x=Uv(i,t);if(n)for(var C in x)n.hasOwnProperty(C)&&(x[n[C]]=x[C],delete x[C]);return x},e0=function(i,t,n){if(n===void 0&&(n={}),Array.isArray(t))for(var x,C=0,M=t.length;C<M;C++)x=t[C],n[x]=i[x];else for(var x in t)n[x]=i[x];return n},i0=function(i,t){for(var n in i)if(!(n in t)||i[n]!==t[n])return!1;for(var n in t)if(!(n in i))return!1;return!0},Ar=function(i,t){if(t){var n=e0(i,t);if(!i0(n,t))return i.modifyStyle(t),n}};const zw={setActiveState(i){return i===void 0&&(i=!0),this.activeState===i?this:(this.activeState=i,i?this.activeStyleSave=Ar(this,this.activeStyle):(Ar(this,this.activeStyleSave),this.activeStyleSave=void 0),this)},setHoverState(i){return i===void 0&&(i=!0),this.hoverState===i?this:(this.hoverState=i,i?this.hoverStyleSave=Ar(this,this.hoverStyle):(Ar(this,this.hoverStyleSave),this.hoverStyleSave=void 0),this)},setDisableState(i){return i===void 0&&(i=!0),this.disableState===i?this:(this.disableState=i,i?this.disableStyleSave=Ar(this,this.disableStyle):(Ar(this,this.disableStyleSave),this.disableStyleSave=void 0),this)}};class ef extends Rn{constructor(t,n){n===void 0&&(n={}),super(t,n),this.activeStyle=yd(n,"active",Td),this.hoverStyle=yd(n,"hover",Td),this.disableStyle=yd(n,"disable",Td)}modifyStyle(t){for(var n in t)this[n]=t[n];return this}}const Td={color:"fillColor",alpha:"fillAlpha",strokeWidth:"lineWidth"};Object.assign(ef.prototype,zw);rt.register("statesRoundRectangle",function(i){var t=new ef(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.StatesRoundRectangle",ef);const kw=Phaser.Renderer.WebGL.Utils;var Uw=function(i,t,n,x){if(t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)){n.addToRenderList(t);var C=t.frame,M=C.width,h=C.height,y=kw.getTintAppendFloatAlpha,e=i.pipelines.set(t.pipeline,t),f=e.setTexture2D(C.glTexture,t);i.pipelines.preBatch(t),e.batchTexture(t,C.glTexture,M,h,t.x,t.y,M/t.resolution,h/t.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,M,h,y(t.tintTopLeft,n.alpha*t._alphaTL),y(t.tintTopRight,n.alpha*t._alphaTR),y(t.tintBottomLeft,n.alpha*t._alphaBL),y(t.tintBottomRight,n.alpha*t._alphaBR),t.tintFill,0,0,n,x,!1,f),i.pipelines.postBatch(t)}},Xw=function(i,t,n,x){t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)&&(n.addToRenderList(t),i.batchSprite(t,t.frame,n,x))};const Yw={renderWebGL:Uw,renderCanvas:Xw},Ww=Phaser.Display.Color,Hw={clear(){return this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},fill(i){return this.context.fillStyle=i,this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},drawFrame(i,t,n,x,C,M,h,y,e,f){var d=this.scene.sys.textures.getFrame(i,t);if(!d)return this;var s=d.cutWidth,a=d.cutHeight;n===void 0&&(n=0),x===void 0&&(x=0),C===void 0&&(C=s),M===void 0&&(M=a),h===void 0&&(h=0),y===void 0&&(y=0),e===void 0&&(e=s),f===void 0&&(f=a);var r=d.cutX+h,o=d.cutY+y;return this.context.drawImage(d.source.image,r,o,e,f,n,x,C,M),this.dirty=!0,this},getDataURL(i,t){return this.canvas.toDataURL(i,t)},getPixel(i,t,n){n===void 0&&(n=new Ww);var x=this.context.getImageData(i,t,1,1);return n.setTo(x.data[0],x.data[1],x.data[2],x.data[3]),n},setPixel(i,t,n,x,C,M){if(typeof n!="number"){var h=n;n=h.red,x=h.green,C=h.blue,M=h.alpha}M===void 0&&(M=n!==0||x!==0||C!==0?255:0);var y=this.context.createImageData(1,1);return y.data[0]=n,y.data[1]=x,y.data[2]=C,y.data[3]=M,this.context.putImageData(y,i,t),this.dirty=!0,this}};var HS=function(i,t,n,x,C,M,h){var y=i.sys.textures,e=i.renderer;x===void 0&&(x=0),C===void 0&&(C=0),M===void 0&&(M=t.width),h===void 0&&(h=t.height);var f;y.exists(n)?f=y.get(n):f=y.createCanvas(n,M,h);var d=f.getSourceImage();d.width!==M&&(d.width=M),d.height!==h&&(d.height=h);var s=d.getContext("2d",{willReadFrequently:!0});s.clearRect(0,0,M,h),s.drawImage(t,x,C,M,h),e.gl&&f&&e.canvasToTexture(d,f.source[0].glTexture,!0,0)};const $w={updateTexture(i,t){i&&(t?i.call(t,this.canvas,this.context):i(this.canvas,this.context)),(this.canvas.width!==this.frame.width||this.canvas.height!==this.frame.height)&&this.frame.setSize(this.canvas.width,this.canvas.height),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(this.canvas,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!1;var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=this.width,n.hitArea.height=this.height),this},generateTexture(i,t,n,x,C){var M=this.canvas;return x===void 0?x=M.width:x*=this.resolution,C===void 0?C=M.height:C*=this.resolution,HS(this.scene,M,i,t,n,x,C),this},loadTexture(i,t){var n=this.scene.sys.textures.getFrame(i,t);return n?(this.width!==n.cutWidth||this.height!==n.cutHeight?this.setSize(n.cutWidth,n.cutHeight):this.clear(),this.drawFrame(i,t),this.dirty=!0,this):this}},qm=Phaser.Display.Canvas.CanvasPool,Kw=Phaser.GameObjects.GameObject;let An=class extends Kw{constructor(t,n,x,C,M){n===void 0&&(n=0),x===void 0&&(x=0),C===void 0&&(C=1),M===void 0&&(M=1),super(t,"rexCanvas"),this.renderer=t.sys.game.renderer,this.resolution=1,this._width=C,this._height=M,C=Math.max(Math.ceil(C*this.resolution),1),M=Math.max(Math.ceil(M*this.resolution),1),this.canvas=qm.create(this,C,M),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.dirty=!1,this.setPosition(n,x),this.setOrigin(.5,.5),this.initPipeline(),this._crop=this.resetCropObject(),this.texture=t.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.dirty=!0}preDestroy(){qm.remove(this.canvas),this.texture.destroy(),this.canvas=null,this.context=null}get width(){return this._width}set width(t){this.setSize(t,this._height)}get height(){return this._height}set height(t){this.setSize(this._width,t)}setCanvasSize(t,n){return this._width===t&&this._height===n?this:(this._width=t,this._height=n,this.updateDisplayOrigin(),t=Math.max(Math.ceil(t*this.resolution),1),n=Math.max(Math.ceil(n*this.resolution),1),this.canvas.width=t,this.canvas.height=n,this.frame.setSize(t,n),this.dirty=!0,this)}setSize(t,n){return this.setCanvasSize(t,n),this}get displayWidth(){return this.scaleX*this._width}set displayWidth(t){this.scaleX=t/this._width}get displayHeight(){return this.scaleY*this._height}set displayHeight(t){this.scaleY=t/this._height}setDisplaySize(t,n){return this.displayWidth=t,this.displayHeight=n,this}getCanvas(t){return t||(this.dirty=!0),this.canvas}getContext(t){return t||(this.dirty=!0),this.context}needRedraw(){return this.dirty=!0,this}resize(t,n){return this.setSize(t,n),this}};const ke=Phaser.GameObjects.Components;Phaser.Class.mixin(An,[ke.Alpha,ke.BlendMode,ke.Crop,ke.Depth,ke.Flip,ke.GetBounds,ke.Mask,ke.Origin,ke.Pipeline,ke.PostPipeline,ke.ScrollFactor,ke.Tint,ke.Transform,ke.Visible,Yw,Hw,$w]);const jw=Phaser.Utils.String.Pad;var yt=function(i,t,n){if(i==null)return i;switch(typeof i){case"string":return i;case"number":return`#${jw(Math.floor(i).toString(16),6,"0",1)}`;case"function":return i(t,n);case"object":return i.hasOwnProperty("r")?i.hasOwnProperty("a")?`rgba(${i.r},${i.g},${i.b},${i.a})`:`rgb(${i.r},${i.g},${i.b})`:i.hasOwnProperty("h")?i.hasOwnProperty("a")?`hsla(${i.h},${i.s},${i.l},${i.a})`:`hsl(${i.h},${i.s},${i.l})`:i;default:return i}};const _m=Phaser.Math.DegToRad;var $S=function(i,t,n,x,C,M,h){var y=new XS(t,n,x,C,M),e=y.minWidth,f=y.minHeight,d=x>=e?1:x/e,s=C>=f?1:C/f,a=y.cornerRadius,r,o,u,v,l;i.save(),i.beginPath(),i.translate(t,n),r=a.tl,qh(r)?(o=r.x*d,u=r.y*s,Qh(r)?(v=o,l=u,Ws(i,v,l,o,u,180,270,!1,h)):(v=0,l=0,Ws(i,v,l,o,u,90,0,!0,h))):i.lineTo(0,0),r=a.tr,qh(r)?(o=r.x*d,u=r.y*s,Qh(r)?(v=x-o,l=u,Ws(i,v,l,o,u,270,360,!1,h)):(v=x,l=0,Ws(i,v,l,o,u,180,90,!0,h))):i.lineTo(x,0),r=a.br,qh(r)?(o=r.x*d,u=r.y*s,Qh(r)?(v=x-o,l=C-u,Ws(i,v,l,o,u,0,90,!1,h)):(v=x,l=C,Ws(i,v,l,o,u,270,180,!0,h))):i.lineTo(x,C),r=a.bl,qh(r)?(o=r.x*d,u=r.y*s,Qh(r)?(v=o,l=C-u,Ws(i,v,l,o,u,90,180,!1,h)):(v=0,l=C,Ws(i,v,l,o,u,360,270,!0,h))):i.lineTo(0,C),i.closePath(),i.restore()},Qh=function(i){return!i.hasOwnProperty("convex")||i.convex},qh=function(i){return i.x>0&&i.y>0},Ws=function(i,t,n,x,C,M,h,y,e){if(y&&h>M?h-=360:!y&&h<M&&(h+=360),M=_m(M),h=_m(h),e==null)i.ellipse(t,n,x,C,0,M,h,y);else{e+=1;for(var f,d,s,a=(h-M)/e,r=0;r<=e;r++)s=M+a*r,f=t+x*Math.cos(s),d=n+C*Math.sin(s),i.lineTo(f,d)}},Zw=function(i,t,n,x,C,M,h,y,e,f,d,s,a){if($S(t,n,x,C,M,h,a),y!=null){if(d!=null){var r;s?r=t.createLinearGradient(0,0,C,0):r=t.createLinearGradient(0,0,0,M),r.addColorStop(0,y),r.addColorStop(1,d),y=r}t.fillStyle=y,t.fill()}e!=null&&f>0&&(t.strokeStyle=e,t.lineWidth=f,t.stroke())},s0=function(i,t,n,x,C,M,h,y){if(!(t==null&&n==null)){var e=i.canvas.width,f=i.canvas.height;n==null&&(x=0);var d=x/2;e=Math.max(1,e-x),f=Math.max(1,f-x),Zw(i.canvas,i.context,d,d,e,f,C,t,n,x,M,h,y)}},Jw=function(){s0(this,this.fillStyle,this.strokeStyle,this.lineWidth,this.radius,this.fillColor2,this.isHorizontalGradient,this.iteration)};const tx=Phaser.Utils.Objects.GetValue;let KS=class extends An{constructor(t,n,x,C,M,h,y,e,f,d,s){n===void 0&&(n=0),x===void 0&&(x=0),C===void 0&&(C=1),M===void 0&&(M=C),h===void 0&&(h=0),super(t,n,x,C,M),this.type="rexRoundRectangleCanvas";var a=tx(h,"radius",h),r=tx(h,"iteration",void 0);this.setRadius(a),this.setIteration(r),this.setFillStyle(y,d,s),this.setStrokeStyle(e,f)}get radius(){return this._radius}set radius(t){this.dirty|=this._radius!=t,this._radius=t}setRadius(t){return this.radius=t,this}get iteration(){return this._iteration}set iteration(t){this.dirty|=this._iteration!=t,this._iteration=t}setIteration(t){return this.iteration=t,this}get fillStyle(){return this._fillStyle}set fillStyle(t){t=yt(t,this.canvas,this.context),this.dirty|=this._fillStyle!=t,this._fillStyle=t}get fillColor2(){return this._fillColor2}set fillColor2(t){t=yt(t,this.canvas,this.context),this.dirty|=this._fillColor2!=t,this._fillColor2=t}get isHorizontalGradient(){return this._isHorizontalGradient}set isHorizontalGradient(t){this.dirty|=this._isHorizontalGradient!=t,this._isHorizontalGradient=t}setFillStyle(t,n,x){return x===void 0&&(x=!0),this.fillStyle=t,this.fillColor2=n,this.isHorizontalGradient=x,this}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){t=yt(t,this.canvas,this.context),this.dirty|=this._strokeStyle!=t,this._strokeStyle=t}get lineWidth(){return this._lineWidth}set lineWidth(t){this.dirty|=this._lineWidth!=t,this._lineWidth=t}setStrokeStyle(t,n){return this.strokeStyle=t,this.lineWidth=n,this}updateTexture(){return this.clear(),Jw.call(this),super.updateTexture(),this}};rt.register("roundRectangleCanvas",function(i,t,n,x,C,M,h,y,e,f){var d=new KS(this.scene,i,t,n,x,C,M,h,y,e,f);return this.scene.add.existing(d),d});nt(window,"RexPlugins.UI.RoundRectangleCanvas",KS);/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Qw=Phaser.Renderer.WebGL.Utils,qw=function(i,t,n,x){if(!(t.width===0||t.height===0)){n.addToRenderList(t);var C=t.frame,M=C.width,h=C.height,y=Qw.getTintAppendFloatAlpha,e=i.pipelines.set(t.pipeline,t),f=e.setTexture2D(C.glTexture,t);i.pipelines.preBatch(t),e.batchTexture(t,C.glTexture,M,h,t.x,t.y,M/t.style.resolution,h/t.style.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,M,h,y(t.tintTopLeft,n.alpha*t._alphaTL),y(t.tintTopRight,n.alpha*t._alphaTR),y(t.tintBottomLeft,n.alpha*t._alphaBL),y(t.tintBottomRight,n.alpha*t._alphaBR),t.tintFill,0,0,n,x,!1,f),i.pipelines.postBatch(t)}};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var _w=function(i,t,n,x){t.width===0||t.height===0||(n.addToRenderList(t),i.batchSprite(t,t.frame,n,x))};const t3={renderWebGL:qw,renderCanvas:_w},Cd=Phaser.Display.Canvas.CanvasPool;var e3=function(i,t,n){n===void 0&&(n={});var x=Cd.create(this),C=x.getContext("2d",{willReadFrequently:!0});i.syncFont(x,C);var M=C.measureText(t),h=Math.ceil(M.width*i.baselineX),y=h,e=2*y;if(y=y*i.baselineY|0,x.width=h,x.height=e,C.fillStyle="#f00",C.fillRect(0,0,h,e),C.font=i._font,C.textBaseline="alphabetic",C.fillStyle="#000",C.fillText(i.testString,0,y),n.left=0,h===0||e===0||!C.getImageData(0,0,h,e))return Cd.remove(x),n;for(var f=C.getImageData(0,0,h,e).data,d=!1,s=0;s<h;s++){for(var a=0;a<e;a++){var r=(a*h+s)*4;if(f[r]!==255){n.left=s,d=!0;break}}if(d)break}return Cd.remove(x),n};const i3=Phaser.GameObjects.GameObject;class jS extends i3{setStyle(t){return this.style.setStyle(t)}setFont(t){return this.style.setFont(t)}setFontFamily(t){return this.style.setFontFamily(t)}setFontSize(t){return this.style.setFontSize(t)}setFontStyle(t){return this.style.setFontStyle(t)}setTestString(t){return this.style.setTestString(t)}setFixedSize(t,n){return this.style.setFixedSize(t,n)}setBackgroundColor(t,n,x){return this.style.setBackgroundColor(t,n,x)}setBackgroundStrokeColor(t,n){return this.style.setBackgroundStrokeColor(t,n)}setBackgroundCornerRadius(t,n){return this.style.setBackgroundCornerRadius(t,n)}setFill(t){return this.style.setFill(t)}setColor(t){return this.style.setColor(t)}setStroke(t,n){return this.style.setStroke(t,n)}setShadow(t,n,x,C,M,h){return this.style.setShadow(t,n,x,C,M,h)}setShadowOffset(t,n){return this.style.setShadowOffset(t,n)}setShadowColor(t){return this.style.setShadowColor(t)}setShadowBlur(t){return this.style.setShadowBlur(t)}setShadowStroke(t){return this.style.setShadowStroke(t)}setShadowFill(t){return this.style.setShadowFill(t)}setWrapMode(t){return this.style.setWrapMode(t)}setWrapWidth(t){return this.style.setWrapWidth(t)}setWordWrapWidth(t){return this.style.setWrapWidth(t)}setAlign(t){return this.style.setHAlign(t)}setHAlign(t){return this.style.setHAlign(t)}setVAlign(t){return this.style.setVAlign(t)}setLineSpacing(t){return this.style.setLineSpacing(t)}set lineSpacing(t){this.setLineSpacing(t)}get lineSpacing(){return this.style.lineSpacing}setXOffset(t){return this.style.setXOffset(t)}setMaxLines(t){return this.style.setMaxLines(t)}setResolution(t){return this.style.setResolution(t)}getTextMetrics(){return this.style.getTextMetrics()}setTextMetrics(t,n){return this.style.setTextMetrics(t,n)}measureTextMargins(t,n){return e3(this.style,t,n)}}const De=Phaser.GameObjects.Components;Phaser.Class.mixin(jS,[De.Alpha,De.BlendMode,De.ComputedSize,De.Crop,De.Depth,De.Flip,De.GetBounds,De.Mask,De.Origin,De.Pipeline,De.PostPipeline,De.ScrollFactor,De.Tint,De.Transform,De.Visible,t3]);var s3={backgroundColor:["backgroundColor",null,yt],backgroundColor2:["backgroundColor2",null,yt],backgroundHorizontalGradient:["backgroundHorizontalGradient",!0,null],backgroundStrokeColor:["backgroundStrokeColor",null,yt],backgroundStrokeLineWidth:["backgroundStrokeLineWidth",2,null],backgroundCornerRadius:["backgroundCornerRadius",0,null],backgroundCornerIteration:["backgroundCornerIteration",null,null],fontFamily:["fontFamily","Courier",null],fontSize:["fontSize","16px",null],fontStyle:["fontStyle","",null],color:["color","#fff",yt],stroke:["stroke","#fff",yt],strokeThickness:["strokeThickness",0,null],shadowOffsetX:["shadow.offsetX",0,null],shadowOffsetY:["shadow.offsetY",0,null],shadowColor:["shadow.color","#000",yt],shadowBlur:["shadow.blur",0,null],shadowStroke:["shadow.stroke",!1,null],shadowFill:["shadow.fill",!1,null],underlineColor:["underline.color","#000",yt],underlineThickness:["underline.thickness",0,null],underlineOffset:["underline.offset",0,null],strikethroughColor:["strikethrough.color","#000",yt],strikethroughThickness:["strikethrough.thickness",0,null],strikethroughOffset:["strikethrough.offset",0,null],halign:["halign","left",null],valign:["valign","top",null],maxLines:["maxLines",0,null],fixedWidth:["fixedWidth",0,null],fixedHeight:["fixedHeight",0,null],resolution:["resolution",0,null],lineSpacing:["lineSpacing",0,null],xOffset:["xOffset",0,null],rtl:["rtl",!1,null],testString:["testString","|Mqgy",null],baselineX:["baselineX",1.2,null],baselineY:["baselineY",1.4,null],wrapMode:["wrap.mode",0,null],wrapWidth:["wrap.width",0,null],wrapCallback:["wrap.callback",null],wrapCallbackScope:["wrap.callbackScope",null]};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */const _h=Phaser.Display.Canvas.CanvasPool;var ex=function(i){var t=_h.create(this),n=t.getContext("2d",{willReadFrequently:!0});i.syncFont(t,n);var x=n.measureText(i.testString);if("actualBoundingBoxAscent"in x){var C=x.actualBoundingBoxAscent,M=x.actualBoundingBoxDescent,f={ascent:C,descent:M,fontSize:C+M};return _h.remove(t),f}var h=Math.ceil(x.width*i.baselineX),y=h,e=2*y;y=y*i.baselineY|0,t.width=h,t.height=e,n.fillStyle="#f00",n.fillRect(0,0,h,e),n.font=i._font,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(i.testString,0,y);var f={ascent:0,descent:0,fontSize:0};if(!n.getImageData(0,0,h,e))return f.ascent=y,f.descent=y+6,f.fontSize=f.ascent+f.descent,_h.remove(t),f;var d=n.getImageData(0,0,h,e).data,s=d.length,a=h*4,r,o,u=0,v=!1;for(r=0;r<y;r++){for(o=0;o<a;o+=4)if(d[u+o]!==255){v=!0;break}if(!v)u+=a;else break}for(f.ascent=y-r,u=s-a,v=!1,r=e;r>y;r--){for(o=0;o<a;o+=4)if(d[u+o]!==255){v=!0;break}if(!v)u-=a;else break}return f.descent=r-y,f.fontSize=f.ascent+f.descent,_h.remove(t),f},de={NO_NEWLINE:0,RAW_NEWLINE:1,WRAPPED_NEWLINE:2,NO_WRAP:0,WORD_WRAP:1,CHAR_WRAP:2,SPLITREGEXP:/(?:\r\n|\r|\n)/};const n3=Phaser.Utils.Objects.GetAdvancedValue,_e=Phaser.Utils.Objects.GetValue;let n0=class{constructor(t,n,x){this.parent=t,x===void 0&&(x=s3),this.propertyMap=x,this.backgroundColor,this.backgroundColor2,this.backgroundHorizontalGradient,this.backgroundStrokeColor,this.backgroundStrokeLineWidth,this.backgroundCornerRadius,this.backgroundCornerIteration,this.fontFamily,this.fontSize,this.fontStyle,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.underlineColor,this.underlineThickness,this.underlineOffset,this.strikethroughColor,this.strikethroughThickness,this.strikethroughOffset,this.halign,this.valign,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.lineSpacing,this.xOffset,this.rtl,this.testString,this.baselineX,this.baselineY,this.wrapMode,this.wrapWidth,this.wrapCallback,this.wrapCallbackScope,this._font,this.setStyle(n,!1,!0)}get isWrapFitMode(){return this.fixedWidth>0&&this.wrapMode!==de.NO_WRAP&&this.wrapWidth===0}setStyle(t,n,x){if(n===void 0&&(n=!0),x===void 0&&(x=!1),t&&t.hasOwnProperty("wrap")){var C=t.wrap;if(C.hasOwnProperty("mode")){var M=C.mode;typeof M=="string"&&(C.mode=ix[M])}else C.hasOwnProperty("width")&&(C.mode=1)}t&&t.rtl&&x&&!t.hasOwnProperty("halign")&&(t.halign="right"),t&&t.hasOwnProperty("fontSize")&&typeof t.fontSize=="number"&&(t.fontSize=t.fontSize.toString()+"px");var h=this.propertyMap;for(var y in h){var e=h[y],f=e[0],d=x?e[1]:this[y],s=e[2];if(y==="wrapCallback"||y==="wrapCallbackScope")this[y]=_e(t,f,d);else{var a=n3(t,f,d);s&&(a=s(a)),this[y]=a}}var r=_e(t,"font",null);r===null?this._font=this.fontStyle+" "+this.fontSize+" "+this.fontFamily:this._font=r;var o=_e(t,"fill",null);o!==null&&(this.color=yt(o));var u=_e(t,"metrics",!1);return u?this.metrics={ascent:_e(u,"ascent",0),descent:_e(u,"descent",0),fontSize:_e(u,"fontSize",0)}:(n||!this.metrics)&&(this.metrics=ex(this)),n?this.parent.updateText():this.parent}syncFont(t,n){n.font=this._font}syncStyle(t,n){n.textBaseline="alphabetic",n.fillStyle=this.color,n.strokeStyle=this.stroke,n.lineWidth=this.strokeThickness,n.lineCap="round",n.lineJoin="round"}syncShadow(t,n){n?(t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur):(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=0,t.shadowBlur=0)}update(t){return t&&(this._font=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim(),this.metrics=ex(this)),this.parent.updateText(t)}buildFont(){var t=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim();return t!==this._font&&(this._font=t),this}setFont(t){return typeof t=="string"?(this.fontFamily=t,this.fontSize="",this.fontStyle=""):(this.fontFamily=_e(t,"fontFamily","Courier"),this.fontSize=_e(t,"fontSize","16px"),this.fontStyle=_e(t,"fontStyle","")),this.update(!0)}setFontFamily(t){return this.fontFamily=t,this.update(!0)}setFontStyle(t){return this.fontStyle=t,this.update(!0)}setFontSize(t){return typeof t=="number"&&(t=t.toString()+"px"),this.fontSize=t,this.update(!0)}setTestString(t){return this.testString=t,this.update(!0)}setFixedSize(t,n){return this.fixedWidth=t,this.fixedHeight=n,t&&(this.parent.width=t),n&&(this.parent.height=n),this.update(this.isWrapFitMode)}setResolution(t){return this.resolution=t,this.update(!1)}setLineSpacing(t){return this.lineSpacing=t,this.update(!1)}setXOffset(t){return this.xOffset=t,this.update(!1)}setBackgroundColor(t,n,x){return x===void 0&&(x=!0),this.backgroundColor=yt(t,this.parent.canvas,this.parent.context),this.backgroundColor2=yt(n,this.parent.canvas,this.parent.context),this.backgroundHorizontalGradient=x,this.update(!1)}setBackgroundStrokeColor(t,n){return this.backgroundStrokeColor=yt(t,this.parent.canvas,this.parent.context),this.backgroundStrokeLineWidth=n,this.update(!1)}setBackgroundCornerRadius(t,n){return this.backgroundCornerRadius=t,this.backgroundCornerIteration=n,this.update(!1)}setFill(t){return this.color=yt(t,this.parent.canvas,this.parent.context),this.update(!1)}setColor(t){return this.color=yt(t,this.parent.canvas,this.parent.context),this.update(!1)}setStroke(t,n){return t===void 0?this.strokeThickness=0:(n===void 0&&(n=this.strokeThickness),this.stroke=yt(t,this.parent.canvas,this.parent.context),this.strokeThickness=n),this.update(!0)}setShadow(t,n,x,C,M,h){return t===void 0&&(t=0),n===void 0&&(n=0),x===void 0&&(x="#000"),C===void 0&&(C=0),M===void 0&&(M=!1),h===void 0&&(h=!0),this.shadowOffsetX=t,this.shadowOffsetY=n,this.shadowColor=yt(x,this.parent.canvas,this.parent.context),this.shadowBlur=C,this.shadowStroke=M,this.shadowFill=h,this.update(!1)}setShadowOffset(t,n){return t===void 0&&(t=0),n===void 0&&(n=t),this.shadowOffsetX=t,this.shadowOffsetY=n,this.update(!1)}setShadowColor(t){return t===void 0&&(t="#000"),this.shadowColor=yt(t,this.parent.canvas,this.parent.context),this.update(!1)}setShadowBlur(t){return t===void 0&&(t=0),this.shadowBlur=t,this.update(!1)}setShadowStroke(t){return this.shadowStroke=t,this.update(!1)}setShadowFill(t){return this.shadowFill=t,this.update(!1)}setUnderline(t,n,x){return t===void 0&&(t="#000"),n===void 0&&(n=0),x===void 0&&(x=0),this.underlineColor=yt(t,this.parent.canvas,this.parent.context),this.underlineThickness=n,this.underlineOffset=x,this.update(!1)}setUnderlineColor(t){return t===void 0&&(t="#000"),this.underlineColor=yt(t,this.parent.canvas,this.parent.context),this.update(!1)}setUnderlineThickness(t){return t===void 0&&(t=0),this.underlineThickness=t,this.update(!1)}setUnderlineOffset(t){return t===void 0&&(t=0),this.underlineOffset=t,this.update(!1)}setStrikethrough(t,n,x){return t===void 0&&(t="#000"),n===void 0&&(n=0),x===void 0&&(x=0),this.strikethroughColor=yt(t,this.parent.canvas,this.parent.context),this.strikethroughThickness=n,this.strikethroughOffset=x,this.update(!1)}setStrikethroughColor(t){return t===void 0&&(t="#000"),this.strikethroughColor=yt(t,this.parent.canvas,this.parent.context),this.update(!1)}setStrikethroughThickness(t){return t===void 0&&(t=0),this.strikethroughThickness=t,this.update(!1)}setStrikethroughOffset(t){return t===void 0&&(t=0),this.strikethroughOffset=t,this.update(!1)}setWrapMode(t){return typeof t=="string"&&(t=ix[t.toLowerCase()]||0),this.wrapMode=t,this.update(!0)}setWrapWidth(t){return this.wrapWidth=t,this.update(!1)}setAlign(t,n){return t===void 0&&(t="left"),n===void 0&&(n="top"),this.halign=t,this.valign=n,this.update(!1)}setHAlign(t){return t===void 0&&(t="left"),this.halign=t,this.update(!1)}setVAlign(t){return t===void 0&&(t="top"),this.valign=t,this.update(!1)}setMaxLines(t){return t===void 0&&(t=0),this.maxLines=t,this.update(!1)}getTextMetrics(){var t=this.metrics;return{ascent:t.ascent,descent:t.descent,fontSize:t.fontSize}}setTextMetrics(t,n){return this.metrics.ascent=t.ascent,this.metrics.descent=t.descent,this.metrics.fontSize=t.fontSize,n&&(typeof n=="string"?(this.fontFamily=n,this.fontSize="",this.fontStyle=""):(this.fontFamily=_e(n,"fontFamily",this.fontFamily),this.fontSize=_e(n,"fontSize",this.fontSize),this.fontStyle=_e(n,"fontStyle",this.fontStyle))),this.parent.updateText(!0)}get lineHeight(){return this.metrics.fontSize+this.strokeThickness+this.lineSpacing}toJSON(){var t={},n=this.propertyMap;for(var x in n)t[x]=this[x];return t.metrics=this.getTextMetrics(),t}destroy(){this.parent=void 0}};const ix={none:de.NO_WRAP,word:de.WORD_WRAP,char:de.CHAR_WRAP,character:de.CHAR_WRAP},r3={draw(i,t,n,x){var C=this.penManager;this.hitAreaManager.clear();var M=this.context;M.save();var h=this.defaultStyle;this.clear(),s0(this,h.backgroundColor,h.backgroundStrokeColor,h.backgroundStrokeLineWidth,h.backgroundCornerRadius,h.backgroundColor2,h.backgroundHorizontalGradient,h.backgroundCornerIteration),i+=this.startXOffset,t+=this.startYOffset;var y=h.halign,e=h.valign,f,d=h.lineHeight,s=C.lines,a=s.length,r=h.maxLines,o,u,v;r>0&&a>r?(o=r,e==="center"?u=Math.floor((a-o)/2):e==="bottom"?u=a-o:u=0):(o=a,u=0),v=u+o;var l,c,p=this.rtl,g=p?this.parent.width:void 0;e==="center"?c=Math.max((x-o*d)/2,0):e==="bottom"?c=Math.max(x-o*d-2,0):c=0,c+=t;for(var m=u;m<v;m++)if(f=C.getLineWidth(m),f!==0){for(var T=s[m],S=T.length,P=y,E=0;E<S;E++){var R=T[E].prop.align;if(R!==void 0){P=R;break}}P==="center"?l=(n-f)/2:P==="right"?l=p?0:n-f:l=p?n-f:0,l+=i;for(var E=0;E<S;E++)this.drawPen(T[E],l,c,g)}M.restore()},drawPen(i,t,n,x){t+=i.x,n+=i.y+(i.prop.y||0),x!==void 0&&(t=x-t);var C=this.canvas,M=this.context;M.save();var h=this.parser.propToContextStyle(this.defaultStyle,i.prop);if(h.buildFont(),h.syncFont(C,M),h.syncStyle(C,M),h.underlineThickness>0&&i.width>0){var y=n+h.underlineOffset-h.underlineThickness/2;this.drawLine(t,y,i.width,h.underlineThickness,h.underlineColor)}if(i.isTextPen&&this.drawText(t,n,i.text,h),i.isImagePen&&this.drawImage(t,n,i.prop.img,h),h.strikethroughThickness>0&&i.width>0){var y=n+h.strikethroughOffset-h.strikethroughThickness/2;this.drawLine(t,y,i.width,h.strikethroughThickness,h.strikethroughColor)}if(M.restore(),i.hasAreaMarker&&i.width>0){var e,f=i.prop.area;if(f)e={key:f};else{var d=i.prop.url;e={key:`url:${d}`,url:d}}this.hitAreaManager.add(t,n-this.startYOffset,i.width,this.defaultStyle.lineHeight,e)}},clear(){var i=this.canvas;this.context.clearRect(0,0,i.width,i.height)},drawLine(i,t,n,x,C){this.autoRound&&(i=Math.round(i),t=Math.round(t));var M=this.context,h=M.lineCap;M.lineCap="butt",M.strokeStyle=C,M.lineWidth=x,M.beginPath(),M.moveTo(i,t),M.lineTo(i+n,t),M.stroke(),M.lineCap=h},drawText(i,t,n,x){this.autoRound&&(i=Math.round(i),t=Math.round(t));var C=this.context;x.stroke&&x.stroke!=="none"&&x.strokeThickness>0&&(x.syncShadow(C,x.shadowStroke),C.strokeText(n,i,t)),x.color&&x.color!=="none"&&(x.syncShadow(C,x.shadowFill),C.fillText(n,i,t))},drawImage(i,t,n,x){t-=this.startYOffset,this.parent.imageManager.draw(n,this.context,i,t,this.autoRound)}},Nn=Phaser.Utils.Objects.GetValue,a3=de.NO_NEWLINE,sx=de.RAW_NEWLINE;class o3{constructor(t){this.prop={},this.resetFromJSON(t)}resetFromJSON(t){this.text=Nn(t,"text",""),this.x=Nn(t,"x",0),this.y=Nn(t,"y",0),this.width=Nn(t,"width",0);var n=Nn(t,"prop",null);n===null&&(n={}),this.prop=n,this.newLineMode=Nn(t,"newLineMode",0),this.startIndex=Nn(t,"startIndex",0)}get plainText(){var t=this.text;return this.newLineMode===sx&&(t+=`
`),t}get wrapText(){var t=this.text;return this.newLineMode!==a3&&(t+=`
`),t}get rawTextLength(){var t=this.text.length;return this.newLineMode===sx&&(t+=1),t}get endIndex(){return this.startIndex+this.rawTextLength}get lastX(){return this.x+this.width}get isTextPen(){return this.text!==""}get isImagePen(){return!!this.prop.img}get hasAreaMarker(){return!!this.prop.area||!!this.prop.url}}var dr=function(i,t){var n=Array.isArray(i);if(t===void 0?t=n?[]:{}:Fs(t),n){t.length=i.length;for(var x=0,C=i.length;x<C;x++)t[x]=i[x]}else for(var M in i)t[M]=i[M];return t};const nx=Phaser.Utils.Objects.GetFastValue,rx=de.NO_NEWLINE,h3=de.WRAPPED_NEWLINE;class r0{constructor(t){this.pens=[],this.lines=[],this.maxLinesWidth=void 0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.tagToText=nx(t,"tagToText",Fe),this.tagToTextScope=nx(t,"tagToTextScope",void 0)}destroy(){this.clear(),this.tagToText=void 0,this.tagToTextScope=void 0}clear(){for(var t=0,n=this.lines.length;t<n;t++)this.lines[t].length=0;this.pensPool.pushMultiple(this.pens),this.linesPool.pushMultiple(this.lines),this.maxLinesWidth=void 0}addTextPen(t,n,x,C,M,h){var y=this.pensPool.pop();return y==null&&(y=new o3),Vn.text=t,Vn.x=n,Vn.y=x,Vn.width=C,Vn.prop=M,Vn.newLineMode=h,y.resetFromJSON(Vn),this.addPen(y),this}addImagePen(t,n,x,C){return this.addTextPen("",t,n,x,C,rx),this}addNewLinePen(){var t=this.lastPen,n=t?t.lastX:0,x=t?t.y:0,C=t?dr(t.prop):null;return this.addTextPen("",n,x,0,C,h3),this}addPen(t){var n=this.lastPen;n==null?t.startIndex=0:t.startIndex=n.endIndex,this.pens.push(t);var x=this.lastLine;x==null&&(x=this.linesPool.pop()||[],this.lines.push(x)),x.push(t),t.newLineMode!==rx&&(x=this.linesPool.pop()||[],this.lines.push(x)),this.maxLinesWidth=void 0}clone(t){t==null&&(t=new r0),t.clear();for(var n=0,x=this.lines.length;n<x;n++)for(var C=this.lines[n],M=0,h=C.length;M<h;M++){var y=C[M];t.addPen(y.text,y.x,y.y,y.width,dr(y.prop),y.newLineMode)}return t}get lastPen(){return this.pens[this.pens.length-1]}get lastLine(){return this.lines[this.lines.length-1]}getLineStartIndex(t){if(t>=this.lines.length)return this.getLineEndIndex(t);var n=this.lines[t];return n&&n[0]?n[0].startIndex:0}getLineEndIndex(t){t>=this.lines.length&&(t=this.lines.length-1);var n,x=!1,C;for(n=t;n>=0&&(C=this.lines[n],x=C!=null&&C.length>0,!x);n--);if(!x)return 0;var M=C[C.length-1];return M.endIndex}getLineWidth(t){var n=this.lines[t];if(!n)return 0;var x=n[n.length-1];if(x==null)return 0;var C=x.lastX;return C}getMaxLineWidth(){if(this.maxLinesWidth!==void 0)return this.maxLinesWidth;for(var t,n=0,x=0,C=this.lines.length;x<C;x++)t=this.getLineWidth(x),t>n&&(n=t);return this.maxLinesWidth=n,n}getLineWidths(){for(var t=[],n=0,x=this.lines.length;n<x;n++)t.push(this.getLineWidth(n));return t}get linesCount(){return this.lines.length}get plainText(){for(var t="",n=this.pens,x=0,C=n.length;x<C;x++)t+=n[x].plainText;return t}get rawTextLength(){for(var t=0,n=this.pens,x=0,C=this.pens.length;x<C;x++)t+=n[x].rawTextLength;return t}getSliceTagText(t,n,x){if(t===void 0&&(t=0),n===void 0){var C=this.lastPen;if(C==null)return"";n=C.endIndex}x===void 0&&(x=!1);for(var M="",h,y,e,f,d,s,a,r=0,o=this.pens.length;r<o&&(h=this.pens[r],f=h.endIndex,!(!(f<=t)&&(h=this.pens[r],y=x?h.wrapText:h.plainText,s=h.prop,e=h.startIndex,d=e>=t&&f<=n,d||(y=y.substring(t-e,n-e)),this.tagToTextScope?M+=this.tagToText.call(this.tagToTextScope,y,s,a):M+=this.tagToText(y,s,a),a=s,f>=n)));r++);return M}get length(){return this.lines.length}set length(t){this.clear()}}var Vn={};const l3=Phaser.Geom.Rectangle;var ax=new fs;class u3{constructor(){this.hitAreas=[]}destroy(){this.clear()}clear(){for(var t=0,n=this.hitAreas.length;t<n;t++)Fs(this.hitAreas[t].data);return ax.pushMultiple(this.hitAreas),this}add(t,n,x,C,M){var h=ax.pop();return h===null?h=new l3(t,n,x,C):h.setTo(t,n,x,C),h.data=M,this.hitAreas.push(h),this}getFirst(t,n){for(var x=0,C=this.hitAreas.length;x<C;x++){var M=this.hitAreas[x];if(M.contains(t,n))return M}return null}getByKey(t){for(var n=0,x=this.hitAreas.length;n<x;n++){var C=this.hitAreas[n];if(C.data.key===t)return C}return null}drawBounds(t,n,x){n===void 0&&(n=16777215),x&&t.save().scaleCanvas(x.scaleX,x.scaleY).rotateCanvas(x.rotation).translateCanvas(x.x,x.y);for(var C=0,M=this.hitAreas.length;C<M;C++){var h=this.hitAreas[C];t.lineStyle(1,n).strokeRect(h.x,h.y,h.width,h.height)}return x&&t.restore(),this}}var f3=function(){this.parent.on("pointerdown",d3,this).on("pointerup",c3,this).on("pointermove",Sd,this).on("pointerover",Sd,this).on("pointerout",function(i,t){Sd.call(this,i,null,null,t)},this)},d3=function(i,t,n,x){var C=this.hitAreaManager.getFirst(t,n);if(C!==null){var M=C.data.key;ya.call(this,"areadown",M,i,t,n,x),C.data.isDown=!0}},c3=function(i,t,n,x){var C=this.hitAreaManager.getFirst(t,n);if(C!==null){var M=C.data,h=M.key;if(ya.call(this,"areaup",h,i,t,n,x),M.isDown){ya.call(this,"areaclick",h,i,t,n,x);var y=M.url;y&&window.open(y,"_blank")}M.isDown=!1}},Sd=function(i,t,n,x){if(t===null){this.lastHitAreaKey!==null&&(ya.call(this,"areaout",this.lastHitAreaKey,i,t,n,x),this.hitAreaManager.getByKey(this.lastHitAreaKey).isDown=!1,this.lastHitAreaKey=null);return}var C=this.hitAreaManager.getFirst(t,n),M=C?C.data.key:null;if(this.lastHitAreaKey!==M){if(this.lastHitAreaKey!==null){ya.call(this,"areaout",this.lastHitAreaKey,i,t,n,x);var h=this.hitAreaManager.getByKey(this.lastHitAreaKey);this.urlTagCursorStyle&&h.data.url&&(this.scene.input.manager.canvas.style.cursor=""),h.isDown=!1}M!==null&&(ya.call(this,"areaover",M,i,t,n,x),this.urlTagCursorStyle&&C.data.url&&(this.scene.input.manager.canvas.style.cursor=this.urlTagCursorStyle)),this.lastHitAreaKey=M}},ya=function(i,t,n,x,C,M){this.parent.emit(`${i}-${t}`,n,x,C,M),this.parent.emit(i,t,n,x,C,M)};const v3=de.NO_NEWLINE,p3=de.RAW_NEWLINE,Md=de.WRAPPED_NEWLINE,ox=de.NO_WRAP,g3=de.WORD_WRAP,m3=de.CHAR_WRAP,x3=de.SPLITREGEXP;var ZS=function(i,t,n,x,C,M){x<=0&&(n=ox);var h=[];if(!i||!i.length)return h;for(var y=n===ox,e=n===g3,f=i.split(x3),d,s,a,r=0,o=f.length;r<o;r++){if(d=f[r],a=r===o-1?v3:p3,y){var u=t(d);h.push(M.getLine(d,u,a));continue}if(s=r===0?x-C:x,d.length<=100){var u=t(d);if(u<=s){h.push(M.getLine(d,u,a));continue}}var v,l;e?(v=d.split(" "),l=v[v.length-1]==="",l&&(v.length-=1)):v=d;for(var c,p,g,m="",T=0,S,P=e?t(" "):void 0,E=0,R=v.length;E<R;E++){if(c=v[E],p=t(c),g=E===R-1,e&&(!g||l)&&(c+=" ",p+=P),e&&p>x){m!==""?h.push(M.getLine(m,T,Md)):E===0&&C>0&&h.push(M.getLine("",0,Md)),h.push(...ZS(c,t,m3,x,0,M));var A=h.pop();m=A.text,T=A.width,M.freeLine(A),m===" "&&(m="",T=0);continue}S=T+p,S>s?(h.push(M.getLine(m,T,Md)),m=c,T=p,s=x):(m+=c,T=S),g&&h.push(M.getLine(m,T,a))}}return h};const Ed=Phaser.Utils.Objects.GetValue,y3=de.NO_WRAP,T3=de.NO_NEWLINE;class JS{constructor(t){this.parent=t.parent,this.scene=this.parent.scene,this.context=Ed(t,"context",null),this.canvas=this.context.canvas,this.parser=Ed(t,"parser",null),this.defaultStyle=Ed(t,"style",null),this.autoRound=!0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.wrapTextLinesPool=t.wrapTextLinesPool,this.penManager=this.newPenManager(),this._tmpPenManager=null,this.hitAreaManager=new u3,this.lastHitAreaKey=null,this.urlTagCursorStyle=null;var n=this.context;this.getTextWidth=function(x){return n.measureText(x).width}}destroy(){this.parent=void 0,this.scene=void 0,this.context=void 0,this.canvas=void 0,this.parser=void 0,this.defaultStyle=void 0,this.penManager&&(this.penManager.destroy(),this.penManager=void 0),this._tmpPenManager&&(this._tmpPenManager.destroy(),this._tmpPenManager=void 0),this.hitAreaManager&&(this.hitAreaManager.destroy(),this.hitAreaManager=void 0),this.pensPool=void 0,this.linesPool=void 0,this.wrapTextLinesPool=void 0}updatePenManager(t,n,x,C,M){if(M===void 0&&(M=this.penManager),M.clear(),t==="")return M;var h=this.parent.style;if(h.isWrapFitMode){var y=this.parent.padding;x=h.fixedWidth-y.left-y.right}for(var e=this.canvas,f=this.context,d=function(F){return f.measureText(F).width},s=0,a=0,r=h.wrapCallback,o=h.wrapCallbackScope,u=!0,v,l,c,p=this.parser.splitText(t),g,m,T=this.wrapTextLinesPool,S=0,P=p.length;S<P;S++)if(g=this.parser.tagTextToProp(p[S],l),v=g.plainText,l=g.prop,l.img){var E=this.imageManager.getOuterWidth(l.img);x>0&&n!==y3&&x<s+E&&(M.addNewLinePen(),a+=C,s=0),M.addImagePen(s,a,E,dr(l)),s+=E}else if(v!==""){if(f.save(),c=this.parser.propToContextStyle(this.defaultStyle,l),c.buildFont(),c.syncFont(e,f),c.syncStyle(e,f),!r)m=ZS(v,d,n,x,s,T);else{m=r.call(o,v,d,x,s),typeof m=="string"&&(m=m.split(`
`));for(var w,R=0,A=m.length;R<A;R++)w=m[R],typeof w=="string"?m[R]=T.getLine(w,d(w),R<A-1?2:0):u=!1}for(var w,R=0,A=m.length;R<A;R++)w=m[R],M.addTextPen(w.text,s,a,w.width,dr(l),w.newLineMode),w.newLineMode!==T3?(s=0,a+=C):s+=w.width;u&&T.freeLines(m),m=null,f.restore()}for(var S=0,P=this.lines.length;S<P;S++){var O=this.lines[S],L=O[O.length-1];L&&(L.width+=this.parser.getStrokeThinkness(this.defaultStyle,L.prop))}return M}get startXOffset(){var t=this.defaultStyle;return t.strokeThickness/2+t.xOffset}get startYOffset(){var t=this.defaultStyle;return t.strokeThickness/2+t.metrics.ascent}get lines(){return this.penManager.lines}get desplayLinesCount(){var t=this.penManager.linesCount,n=this.defaultStyle.maxLines;return n>0&&t>n&&(t=n),t}get linesWidth(){return Math.ceil(this.penManager.getMaxLineWidth())}get linesHeight(){var t=this.desplayLinesCount,n=this.defaultStyle.lineHeight*t;return t>0&&(n-=this.defaultStyle.lineSpacing),n}get imageManager(){return this.parent.imageManager}get rtl(){return this.parent.style.rtl}newPenManager(){return new r0({pensPool:this.pensPool,linesPool:this.linesPool,tagToText:this.parser.propToTagText,tagToTextScope:this.parser})}get tmpPenManager(){return this._tmpPenManager===null&&(this._tmpPenManager=this.newPenManager()),this._tmpPenManager}getPlainText(t,n,x){var C;if(t==null)C=this.penManager.plainText;else{var M=this.parser.splitText(t,1);C="";for(var h=0,y=M.length;h<y;h++)C+=M[h]}return(n!=null||x!=null)&&(n==null&&(n=0),x==null&&(x=C.length),C=C.substring(n,x)),C}getPenManager(t,n){if(t===void 0)return this.copyPenManager(n,this.penManager);n===void 0&&(n=this.newPenManager());var x=this.defaultStyle;return this.updatePenManager(t,x.wrapMode,x.wrapWidth,x.lineHeight,n),n}getText(t,n,x,C){if(t==null)return this.penManager.getSliceTagText(n,x,C);var M=this.tmpPenManager,h=this.defaultStyle;return this.updatePenManager(t,h.wrapMode,h.wrapWidth,h.lineHeight,M),M.getSliceTagText(n,x,C)}copyPenManager(t,n){return n===void 0&&(n=this.penManager),n.copy(t)}getTextWidth(t){return t===void 0&&(t=this.penManager),t.getMaxLineWidth()}getLastPen(t){return t===void 0&&(t=this.penManager),t.lastPen}}var C3={setInteractive:f3};Object.assign(JS.prototype,r3,C3);class hx extends fs{freeLine(t){if(t)return this.push(t),this}freeLines(t){if(t)return this.pushMultiple(t),this}getLine(t,n,x){var C=this.pop();return C===null&&(C={}),C.text=t,C.width=n,C.newLineMode=x,C}}const S3=Phaser.Utils.Objects.IsPlainObject,_a=Phaser.Utils.Objects.GetValue;var Pd=function(i,t){S3(i)?(t=i,i=t.key):t===void 0&&(t={key:i}),t.hasOwnProperty("key")||(t.key=i);var n=t.key,x=t.frame,C=t.width,M=t.height;if(C===void 0||M===void 0){var h=this.textureManager.getFrame(n,x),y=h?h.cutWidth:0,e=h?h.cutHeight:0;C===void 0&&M===void 0?(C=y,M=e):C===void 0?C=y*(M/e):M===void 0&&(M=e*(C/y))}this.images[i]={key:n,frame:x,width:C,height:M,y:_a(t,"y",0),left:_a(t,"left",0),right:_a(t,"right",0),originX:_a(t,"originX",0),originY:_a(t,"originY",0)}},M3=function(i,t,n,x,C){var M=this.get(i),h=this.textureManager.getFrame(M.key,M.frame),y=M.width,e=M.height;n+=M.left-M.originX*y,x+=M.y-M.originY*e,C&&(n=Math.round(n),x=Math.round(x)),t.drawImage(h.source.image,h.cutX,h.cutY,h.cutWidth,h.cutHeight,n,x,y,e)};class a0{constructor(t){this.textureManager=t.sys.textures,this.images={}}destroy(){this.textureManager=void 0,this.images=void 0}add(t,n){if(typeof t=="string")Pd.call(this,t,n);else if(Array.isArray(t))for(var x=t,C=0,M=x.length;C<M;C++)Pd.call(this,x[C]);else{var x=t;for(var t in x)Pd.call(this,t,x[t])}return this}has(t){return this.images.hasOwnProperty(t)}remove(t){return this.has(t)&&delete this.images[t],this}get(t){return this.has(t)||this.textureManager.exists(t)&&this.add(t),this.images[t]}getOuterWidth(t){var n=this.get(t);return n?n.width+n.left+n.right:0}getFrame(t){var n=this.get(t);return n?this.textureManager.getFrame(n.key,n.frame):void 0}hasTexture(t){return!!this.getFrame(t)}}var E3={draw:M3};Object.assign(a0.prototype,E3);var QS=function(i,t){!i&&i!==0&&(i=""),t===void 0&&(t=!0),Array.isArray(i)&&(i=i.join(`
`));var n;return t?n=`${this.text}
${i}`:n=`${this.text}${i}`,n!=this.text&&this.setText(n),this};const P3=Phaser.Utils.Objects.IsPlainObject,lx=Phaser.DOM.AddToDOM,ux=Phaser.Display.Canvas.CanvasPool,R3=Phaser.GameObjects.GameObject,Ue=Phaser.Utils.Objects.GetValue,A3=Phaser.DOM.RemoveFromDOM,w3=de.SPLITREGEXP;var wr=null,Rd=null,Ad=null;class o0 extends jS{constructor(t,n,x,C,M,h,y){if(P3(n)){var e=n;n=Ue(e,"x",0),x=Ue(e,"y",0),C=Ue(e,"text",""),M=Ue(e,"style")}if(n===void 0&&(n=0),x===void 0&&(x=0),super(t,h),this.renderer=t.sys.game.renderer,this.setPosition(n,x),this.setOrigin(0,0),this.initPipeline(),this.canvas=ux.create(this),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this._imageManager=void 0,M){if(M.hasOwnProperty("align")){var f=M.align;delete M.align,M.halign=f}M.hasOwnProperty("stroke")&&!M.hasOwnProperty("strokeThickness")&&(M.strokeThickness=1)}this.style=new n0(this,M);var d=Ue(M,"images",void 0);d&&this.addImage(d),this.autoRound=!0,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this.texture=t.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null);var s=Ue(M,"sharedPool",!0),a,r,o;s?(wr||(wr={},Rd=new fs,Ad=new hx,this.scene.game.events.once("destroy",function(){wr=null,Rd=null,Ad=null})),wr.hasOwnProperty(h)||(wr[h]=new fs),a=wr[h],r=Rd,o=Ad):(a=new fs,r=new fs,o=new hx),this.canvasText=new JS({parent:this,context:this.context,parser:y,style:this.style,pensPool:a,linesPool:r,wrapTextLinesPool:o}),this.parser=y,this.initRTL(),M&&M.padding&&this.setPadding(M.padding),this.setText(C),this.setUrlTagCursorStyle(Ue(M,"urlTagCursorStyle","pointer")),Ue(M,"interactive",!1)&&this.setInteractive()}preDestroy(){A3(this.canvas),this.canvasText.destroy(),this.canvasText=void 0,this._imageManager&&(this._imageManager.destroy(),this._imageManager=void 0),ux.remove(this.canvas),this.texture.destroy()}set text(t){this.setText(t)}get text(){return this._text}initRTL(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",lx(this.canvas,this.scene.sys.canvas),this.originX=1)}setRTL(t){t===void 0&&(t=!0);var n=this.style;if(n.rtl===t)return this;if(n.rtl=t,t?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",lx(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),n.halign==="left"?n.halign="right":n.halign==="right"&&(n.halign="left"),this._imageManager){var x=this._imageManager.images;for(var C in x)x[C].originX=1-x[C].originX}return this}setText(t){return t==null?t="":Array.isArray(t)?t=t.join(`
`):t=t.toString(),t===this._text?this:(this._text=t,this.updateText(),this)}setPadding(t,n,x,C){if(typeof t=="object"){var M=t,h=Ue(M,"x",null);h!==null?(t=h,x=h):(t=Ue(M,"left",0),x=Ue(M,"right",t));var y=Ue(M,"y",null);y!==null?(n=y,C=y):(n=Ue(M,"top",0),C=Ue(M,"bottom",n))}else t===void 0&&(t=0),n===void 0&&(n=t),x===void 0&&(x=t),C===void 0&&(C=n);return this.padding.left=t,this.padding.top=n,this.padding.right=x,this.padding.bottom=C,this.updateText(!1)}updateText(t){t===void 0&&(t=!0);var n=this.canvasText,x=this.style;t&&n.updatePenManager(this._text,x.wrapMode,x.wrapWidth,x.lineHeight);var C=this.padding,M,h,y=Math.ceil(n.linesWidth);x.fixedWidth===0?(this.width=y+C.left+C.right,M=y):(this.width=x.fixedWidth,M=this.width-C.left-C.right,M<y&&(M=y)),x.fixedHeight===0?(this.height=n.linesHeight+C.top+C.bottom,h=n.linesHeight):(this.height=x.fixedHeight,h=this.height-C.top-C.bottom,h<n.linesHeight&&(h=n.linesHeight));var e=this.width,f=this.height;this.updateDisplayOrigin();var d=x.resolution;e*=d,f*=d,e=Math.max(Math.ceil(e),1),f=Math.max(Math.ceil(f),1);var s=this.canvas,a=this.context;s.width!==e||s.height!==f?(s.width=e,s.height=f,this.frame.setSize(e,f)):a.clearRect(0,0,e,f),a.save(),a.scale(d,d);var r=this.style.rtl?C.right:C.left,o=C.top;n.draw(r,o,M,h),a.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(s,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var u=this.input;return u&&!u.customHitArea&&(u.hitArea.width=this.width,u.hitArea.height=this.height),this}toJSON(){var t=Components.ToJSON(this),n={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),resolution:this.resolution,padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return t.data=n,t}setInteractive(t,n,x){var C=!!this.input;return R3.prototype.setInteractive.call(this,t,n,x),C||this.canvasText.setInteractive(),this}setUrlTagCursorStyle(t){return this.urlTagCursorStyle=t,this}get urlTagCursorStyle(){return this.canvasText.urlTagCursorStyle}set urlTagCursorStyle(t){this.canvasText.urlTagCursorStyle=t}getWrappedText(t,n,x){return t=this.canvasText.getText(t,n,x,!0),t.split(w3)}getPlainText(t,n,x){return this.canvasText.getPlainText(t,n,x)}getText(t,n,x,C){return C===void 0&&(C=!1),this.canvasText.getText(t,n,x,C)}getSubString(t,n,x){return this.getText(t,n,x)}copyPenManager(t){return this.canvasText.copyPenManager(t)}getPenManager(t,n){return this.canvasText.getPenManager(t,n)}setSize(t,n){return this.setFixedSize(t,n)}resize(t,n){return this.setFixedSize(t,n)}get imageManager(){return this._imageManager||(this._imageManager=new a0(this.scene)),this._imageManager}addImage(t,n){return this.imageManager.add(t,n),this}drawAreaBounds(t,n){return this.canvasText.hitAreaManager.drawBounds(t,n,this),this}generateTexture(t,n,x,C,M){var h=this.canvas;return C===void 0?C=h.width:C*=this.resolution,M===void 0?M=h.height:M*=this.resolution,HS(this.scene,h,t,n,x,C,M),this}}var O3={appendText:QS};Object.assign(o0.prototype,O3);var L3=function(i,t){for(var n=this.tagRegex,x=[],C=0,M=!1,h=!1;;){var y=n.RE_SPLITTEXT.exec(i);if(!y)break;var e=y[0];if(h)if(n.RE_ESC_CLOSE.test(e))h=!1;else continue;else if(M)if(n.RE_RAW_CLOSE.test(e))M=!1;else continue;else n.RE_ESC_OPEN.test(e)?h=!0:n.RE_RAW_OPEN.test(e)&&(M=!0);var f=n.RE_SPLITTEXT.lastIndex,d=f-e.length;if(C<d){var s=i.substring(C,d);x.push(s)}t===void 0&&x.push(e),C=f}var a=i.length;return C<a&&x.push(i.substring(C,a)),x};const re=!1,se=!0;var F3={plainText:null,prevProp:null},I3=function(i,t){var n=this.tagRegex;t==null&&(t={});var x="";if(t.img&&Ct(t,re,"img"),t.esc)n.RE_ESC_CLOSE.test(i)?Ct(t,re,"esc"):x=i;else if(t.raw)n.RE_RAW_CLOSE.test(i)?Ct(t,re,"raw"):x=i;else if(n.RE_ESC_OPEN.test(i))Ct(t,se,"esc",!0);else if(n.RE_ESC_CLOSE.test(i))Ct(t,re,"esc");else if(n.RE_RAW_OPEN.test(i))Ct(t,se,"raw",!0);else if(n.RE_RAW_CLOSE.test(i))Ct(t,re,"raw");else if(n.RE_BLOD_OPEN.test(i))Ct(t,se,"b",!0);else if(n.RE_BLOD_CLOSE.test(i))Ct(t,re,"b");else if(n.RE_ITALICS_OPEN.test(i))Ct(t,se,"i",!0);else if(n.RE_ITALICS_CLOSE.test(i))Ct(t,re,"i");else if(n.RE_WEIGHT_OPEN.test(i)){var C=i.match(n.RE_WEIGHT_OPEN);Ct(t,se,"weight",C[1])}else if(n.RE_WEIGHT_CLOSE.test(i))Ct(t,re,"weight");else if(n.RE_SIZE_OPEN.test(i)){var C=i.match(n.RE_SIZE_OPEN);Ct(t,se,"size",`${C[1]}px`)}else if(n.RE_SIZE_CLOSE.test(i))Ct(t,re,"size");else if(n.RE_COLOR_OPEN.test(i)){var C=i.match(n.RE_COLOR_OPEN);Ct(t,se,"color",C[1])}else if(n.RE_COLOR_CLOSE.test(i))Ct(t,re,"color");else if(n.RE_UNDERLINE_OPEN.test(i))Ct(t,se,"u",!0);else if(n.RE_UNDERLINE_OPENC.test(i)){var C=i.match(n.RE_UNDERLINE_OPENC);Ct(t,se,"u",C[1])}else if(n.RE_UNDERLINE_CLOSE.test(i))Ct(t,re,"u");else if(n.RE_STRIKETHROUGH_OPEN.test(i))Ct(t,se,"s",!0);else if(n.RE_STRIKETHROUGH_OPENC.test(i)){var C=i.match(n.RE_STRIKETHROUGH_OPENC);Ct(t,se,"s",C[1])}else if(n.RE_STRIKETHROUGH_CLOSE.test(i))Ct(t,re,"s");else if(n.RE_SHADOW_OPEN.test(i))Ct(t,se,"shadow",!0);else if(n.RE_SHADOW_CLOSE.test(i))Ct(t,re,"shadow");else if(n.RE_STROKE_OPEN.test(i))Ct(t,se,"stroke",!0);else if(n.RE_STROKE_OPENC.test(i)){var C=i.match(n.RE_STROKE_OPENC);Ct(t,se,"stroke",C[1])}else if(n.RE_STROKE_CLOSE.test(i))Ct(t,re,"stroke");else if(n.RE_OFFSETY_OPEN.test(i)){var C=i.match(n.RE_OFFSETY_OPEN);Ct(t,se,"y",parseFloat(C[1]))}else if(n.RE_OFFSETY_CLOSE.test(i))Ct(t,re,"y");else if(n.RE_IMAGE_OPEN.test(i)){var C=i.match(n.RE_IMAGE_OPEN);Ct(t,se,"img",C[1])}else if(n.RE_IMAGE_CLOSE.test(i))Ct(t,re,"img");else if(n.RE_AREA_OPEN.test(i)){var C=i.match(n.RE_AREA_OPEN);Ct(t,se,"area",C[1])}else if(n.RE_AREA_CLOSE.test(i))Ct(t,re,"area");else if(n.RE_URL_OPEN.test(i)){var C=i.match(n.RE_URL_OPEN);Ct(t,se,"url",C[1])}else if(n.RE_URL_CLOSE.test(i))Ct(t,re,"url");else if(n.RE_ALIGN_OPEN.test(i)){var C=i.match(n.RE_ALIGN_OPEN);Ct(t,se,"align",C[1])}else n.RE_ALIGN_CLOSE.test(i)?Ct(t,re,"align"):x=i;var M=F3;return M.plainText=x,M.prop=t,M},Ct=function(i,t,n,x){return t===se?i[n]=x:i.hasOwnProperty(n)&&delete i[n],i},D3=function(i,t){var n=b3;if(t.hasOwnProperty("img"))n.image=t.img;else{if(n.image=null,t.hasOwnProperty("family")?n.fontFamily=t.family:n.fontFamily=i.fontFamily,t.hasOwnProperty("size")){var x=t.size;typeof x=="number"&&(x=`${x}px`),n.fontSize=x}else n.fontSize=i.fontSize;n.fontStyle=B3(t),t.hasOwnProperty("color")?n.color=t.color:n.color=i.color,t.hasOwnProperty("stroke")?t.stroke===!0?(n.stroke=i.stroke,n.strokeThickness=i.strokeThickness):(n.stroke=t.stroke,n.strokeThickness=i.strokeThickness):(n.stroke=i.stroke,n.strokeThickness=0)}return t.hasOwnProperty("shadow")?t.shadow===!0?(n.shadowColor=i.shadowColor,n.shadowOffsetX=i.shadowOffsetX,n.shadowOffsetY=i.shadowOffsetY,n.shadowBlur=i.shadowBlur,n.shadowStroke=!0,n.shadowFill=!0):(n.shadowColor=t.shadow,n.shadowOffsetX=i.shadowOffsetX,n.shadowOffsetY=i.shadowOffsetY,n.shadowBlur=i.shadowBlur,n.shadowStroke=!0,n.shadowFill=!0):(n.shadowColor="#000",n.shadowOffsetX=0,n.shadowOffsetY=0,n.shadowBlur=0,n.shadowStroke=!1,n.shadowFill=!1),t.hasOwnProperty("u")?t.u===!0?(n.underlineColor=i.underlineColor,n.underlineThickness=i.underlineThickness,n.underlineOffset=i.underlineOffset):(n.underlineColor=t.u,n.underlineThickness=i.underlineThickness,n.underlineOffset=i.underlineOffset):(n.underlineColor="#000",n.underlineThickness=0,n.underlineOffset=0),t.hasOwnProperty("s")?t.s===!0?(n.strikethroughColor=i.strikethroughColor,n.strikethroughThickness=i.strikethroughThickness,n.strikethroughOffset=i.strikethroughOffset):(n.strikethroughColor=t.s,n.strikethroughThickness=i.strikethroughThickness,n.strikethroughOffset=i.strikethroughOffset):(n.strikethroughColor="#000",n.strikethroughThickness=0,n.strikethroughOffset=0),n},B3=function(i){var t=i.b,n=i.weight,x=i.i;return t||n||x?x?t?"bold italic":n?`${n} italic`:"italic":t?"bold":n.toString():""},b3=new n0,G3=function(i,t,n){n==null&&(n=N3);var x=this.delimiters[0],C=this.delimiters[1],M=[];for(var h in n)t.hasOwnProperty(h)||M.push(`${x}/${h}${C}`);for(var h in t){var y=t[h];if(n[h]!==y)switch(h){case"size":M.push(`${x}size=${y.replace("px","")}${C}`);break;case"color":case"weight":case"stroke":case"y":case"img":case"area":case"url":case"align":M.push(`${x}${h}=${y}${C}`);break;case"u":case"s":y===!0?M.push(`${x}${h}${C}`):M.push(`${x}${h}=${y}${C}`);break;default:M.push(`${x}${h}${C}`);break}}return M.push(i),M.join("")},N3={},Oa=function(i){return i.replace(V3,"\\$&").replace(z3,"\\x2d")},V3=/[|\\{}()[\]^$+*?.]/g,z3=/-/g,fx,dx,Mt={},ae=function(i,t,n,x){return x===void 0?`${i}${n}${t}`:`${i}${n}=(${x})${t}`},Ae=function(i,t,n){return`${i}/${n}${t}`},wd="[-.0-9]+",tl="[a-z]+|#[0-9abcdef]+",el="[^\\]]+",qS=function(i,t){if(t===void 0){var n=i;i=n[0],t=n[1]}if(fx===i&&dx===t)return!1;fx=i,dx=t,i=Oa(i),t=Oa(t);var x="esc",C=ae(i,t,x),M=Ae(i,t,x),h="raw",y=ae(i,t,h),e=Ae(i,t,h),f="b",d=ae(i,t,f),s=Ae(i,t,f),a="i",r=ae(i,t,a),o=Ae(i,t,a),u="weight",v=ae(i,t,u,wd),l=Ae(i,t,u),c="size",p=ae(i,t,c,wd),g=Ae(i,t,c),m="color",T=ae(i,t,m,tl),S=Ae(i,t,m),P="u",E=ae(i,t,P),R=ae(i,t,P,tl),A=Ae(i,t,P),w="s",O=ae(i,t,w),L=ae(i,t,w,tl),F=Ae(i,t,w),I="shadow",B=ae(i,t,I),G=Ae(i,t,I),N="stroke",U=ae(i,t,N),Y=ae(i,t,N,tl),X=Ae(i,t,N),b="y",z=ae(i,t,b,wd),D=Ae(i,t,b),V="img",k=ae(i,t,V,el),W=Ae(i,t,V),H="area",$=ae(i,t,H,el),K=Ae(i,t,H),Z="url",j=ae(i,t,Z,el),J=Ae(i,t,Z),Q="align",q=ae(i,t,Q,el),_=Ae(i,t,Q);return Mt.RE_ESC_OPEN=new RegExp(C,"i"),Mt.RE_ESC_CLOSE=new RegExp(M,"i"),Mt.RE_RAW_OPEN=new RegExp(y,"i"),Mt.RE_RAW_CLOSE=new RegExp(e,"i"),Mt.RE_BLOD_OPEN=new RegExp(d,"i"),Mt.RE_BLOD_CLOSE=new RegExp(s,"i"),Mt.RE_ITALICS_OPEN=new RegExp(r,"i"),Mt.RE_ITALICS_CLOSE=new RegExp(o,"i"),Mt.RE_WEIGHT_OPEN=new RegExp(v,"i"),Mt.RE_WEIGHT_CLOSE=new RegExp(l,"i"),Mt.RE_SIZE_OPEN=new RegExp(p,"i"),Mt.RE_SIZE_CLOSE=new RegExp(g,"i"),Mt.RE_COLOR_OPEN=new RegExp(T,"i"),Mt.RE_COLOR_CLOSE=new RegExp(S,"i"),Mt.RE_UNDERLINE_OPEN=new RegExp(E,"i"),Mt.RE_UNDERLINE_OPENC=new RegExp(R,"i"),Mt.RE_UNDERLINE_CLOSE=new RegExp(A,"i"),Mt.RE_STRIKETHROUGH_OPEN=new RegExp(O,"i"),Mt.RE_STRIKETHROUGH_OPENC=new RegExp(L,"i"),Mt.RE_STRIKETHROUGH_CLOSE=new RegExp(F,"i"),Mt.RE_SHADOW_OPEN=new RegExp(B,"i"),Mt.RE_SHADOW_CLOSE=new RegExp(G,"i"),Mt.RE_STROKE_OPEN=new RegExp(U,"i"),Mt.RE_STROKE_OPENC=new RegExp(Y,"i"),Mt.RE_STROKE_CLOSE=new RegExp(X,"i"),Mt.RE_OFFSETY_OPEN=new RegExp(z,"i"),Mt.RE_OFFSETY_CLOSE=new RegExp(D,"i"),Mt.RE_IMAGE_OPEN=new RegExp(k,"i"),Mt.RE_IMAGE_CLOSE=new RegExp(W,"i"),Mt.RE_AREA_OPEN=new RegExp($,"i"),Mt.RE_AREA_CLOSE=new RegExp(K,"i"),Mt.RE_URL_OPEN=new RegExp(j,"i"),Mt.RE_URL_CLOSE=new RegExp(J,"i"),Mt.RE_ALIGN_OPEN=new RegExp(q,"i"),Mt.RE_ALIGN_CLOSE=new RegExp(_,"i"),Mt.RE_SPLITTEXT=new RegExp([y,e,C,M,d,s,r,o,v,l,p,g,T,S,E,R,A,O,L,F,B,G,U,Y,X,z,D,k,W,$,K,j,J,q,_].join("|"),"ig"),!0},cx=function(i,t){return i!==void 0&&qS(i,t),Object.assign({},Mt)};const k3=Phaser.Utils.Objects.GetValue;let _S=class{constructor(t){var n=k3(t,"delimiters","[]");this.tagRegex=cx(n),this.delimiters=n}getStrokeThinkness(t,n){var x;return n.hasOwnProperty("stroke")?x=t.strokeThickness:x=0,x}setDelimiters(t,n){return qS(t,n)&&(this.tagRegex=cx()),this}};var U3={splitText:L3,tagTextToProp:I3,propToContextStyle:D3,propToTagText:G3};Object.assign(_S.prototype,U3);class h0 extends o0{constructor(t,n,x,C,M){var h=new _S(M);super(t,n,x,C,M,"rexBBCodeText",h)}setDelimiters(t,n){return this.parse.setDelimiters(t,n),this}}rt.register("BBCodeText",function(i,t,n,x){var C=new h0(this.scene,i,t,n,x);return this.scene.add.existing(C),C});nt(window,"RexPlugins.UI.BBCodeText",h0);var X3={plainText:null,prevProp:null},Y3=new n0;let W3=class{constructor(t){t===void 0&&(t={}),this.tags=t}addTag(t,n){this.tags[t]=n}getTag(t){return this.tags[t]}splitText(t,n){for(var x=[],C=0;;){var M=Od.exec(t);if(!M)break;var h=M[0],y=Od.lastIndex-h.length;if(C<y&&x.push(t.substring(C,y)),n===void 0)x.push(h);else if(n===1){if(px.test(h)){var e=h.match(gx);x.push(e[2])}else if(mx.test(h)){var e=h.match(xx);x.push(e[2])}}C=Od.lastIndex}var f=t.length;return C<f&&x.push(t.substring(C,f)),x}tagTextToProp(t,n){var x,C;if(px.test(t)){var M=t.match(gx);if(M!=null){var h=M[1],y=this.tags;y.hasOwnProperty(h)?C=y[h]:C={},C._class=h,x=M[2]}}else if(mx.test(t)){var M=t.match(xx);if(M!=null){var e=M[1];C=H3(e),C._style=e,x=M[2]}}x==null&&(x=t),C==null&&(C={});var f=X3;return f.plainText=x,f.prop=C,f}propToContextStyle(t,n){var x=Y3;if(n.hasOwnProperty("img"))x.image=n.img;else{if(x.image=null,n.hasOwnProperty("family")||n.hasOwnProperty("fontFamily")||n.hasOwnProperty("font-family")){var C=n.hasOwnProperty("family")?n.family:n.hasOwnProperty("fontFamily")?n.fontFamily:n["font-family"];x.fontFamily=C}else x.fontFamily=t.fontFamily;if(n.hasOwnProperty("size")||n.hasOwnProperty("fontSize")||n.hasOwnProperty("font-size")){var M=n.hasOwnProperty("size")?n.size:n.hasOwnProperty("fontSize")?n.fontSize:n["font-size"];typeof M=="number"&&(M=`${M}px`),x.fontSize=M}else x.fontSize=t.fontSize;if(n.hasOwnProperty("style")||n.hasOwnProperty("fontStyle")||n.hasOwnProperty("font-style")){var h=n.hasOwnProperty("style")?n.style:n.hasOwnProperty("fontStyle")?n.fontStyle:n["font-style"];x.fontStyle=h}else x.fontStyle=t.fontStyle;if(n.hasOwnProperty("color")||n.hasOwnProperty("font-color")){var y=n.hasOwnProperty("color")?n.color:n["font-color"];x.color=y}else x.color=t.color;if(n.hasOwnProperty("stroke")){var e=n.stroke;x.stroke=e.hasOwnProperty("color")?e.color:t.stroke,x.strokeThickness=e.hasOwnProperty("thickness")?e.thickness:t.strokeThickness}else x.stroke=t.stroke,x.strokeThickness=t.strokeThickness}if(n.hasOwnProperty("shadow")){var f=n.shadow;x.shadowColor=f.hasOwnProperty("color")?f.color:t.shadowColor,x.shadowOffsetX=f.hasOwnProperty("offsetX")?f.offsetX:t.shadowOffsetX,x.shadowOffsetY=f.hasOwnProperty("offsetY")?f.offsetY:t.shadowOffsetY,x.shadowBlur=f.hasOwnProperty("blur")?f.blur:t.shadowBlur,x.shadowStroke=!0,x.shadowFill=!0}else x.shadowColor=t.shadowColor,x.shadowOffsetX=t.shadowOffsetX,x.shadowOffsetY=t.shadowOffsetY,x.shadowBlur=t.shadowBlur,x.shadowStroke=t.shadowStroke,x.shadowFill=t.shadowFill;if(n.hasOwnProperty("u")||n.hasOwnProperty("underline")){var d=n.hasOwnProperty("u")?n.u:n.underline;x.underlineColor=d.hasOwnProperty("color")?d.color:t.underlineColor,x.underlineThickness=d.hasOwnProperty("thickness")?d.thickness:t.underlineThickness,x.underlineOffset=d.hasOwnProperty("offset")?d.offset:t.underlineOffset}else x.underlineColor=t.underlineColor,x.underlineThickness=t.underlineThickness,x.underlineOffset=t.underlineOffset;if(n.hasOwnProperty("s")||n.hasOwnProperty("strikethrough")){var s=n.hasOwnProperty("s")?n.s:n.strikethrough;x.strikethroughColor=s.hasOwnProperty("color")?s.color:t.strikethroughColor,x.strikethroughThickness=s.hasOwnProperty("thickness")?s.thickness:t.strikethroughThickness,x.strikethroughOffset=s.hasOwnProperty("offset")?s.offset:t.strikethroughOffset}else x.strikethroughColor=t.strikethroughColor,x.strikethroughThickness=t.strikethroughThickness,x.strikethroughOffset=t.strikethroughOffset;return x}getStrokeThinkness(t,n){var x;if(n.hasOwnProperty("stroke")){var C=n.stroke;x=C.hasOwnProperty("thickness")?C.thickness:t.strokeThickness}else x=t.strokeThickness;return x}propToTagText(t,n,x){return n.hasOwnProperty("_class")?t===""&&this.isTextTag(n._class)?"":`<class='${n._class}'>${t}</class>`:n.hasOwnProperty("_style")?`<style='${n._style}'>${t}</style>`:t}destroy(){this.tags=void 0}isTextTag(t){var n=this.tags[t];return n?n.img==null:!1}};var H3=function(i){i=i.split(";");for(var t={},n,x,C,M=0,h=i.length;M<h;M++)if(n=i[M].split(":"),x=n[0],C=n[1],!(vx(x)||vx(C))){switch(x){case"stroke":var y=C.split(" "),e=y.length;C={},e>=1&&(C.color=y[0]),e>=2&&(C.thickness=parseInt(y[1].replace("px","")));break;case"shadow":var y=C.split(" "),e=y.length;C={},e>=1&&(C.color=y[0]),e>=2&&(C.offsetX=parseInt(y[1].replace("px",""))),e>=3&&(C.offsetY=parseInt(y[2].replace("px",""))),e>=4&&(C.blur=parseInt(y[3].replace("px","")));break;case"u":case"underline":case"s":case"strikethrough":var y=C.split(" "),e=y.length;C={},e>=1&&(C.color=y[0]),e>=2&&(C.thickness=parseInt(y[1].replace("px",""))),e>=3&&(C.offset=parseInt(y[2].replace("px",""))),x==="underline"?x="u":x==="strikethrough"&&(x="s");break;case"y":C=parseFloat(C);break}t[x]=C}return t},vx=function(i){return i=i.replace($3,""),i.length===0},Od=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>|<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/g,px=/<\s*class=/i,gx=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>/,mx=/<\s*style=/i,xx=/<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/,$3=/^\s+|\s+$/;const K3=Phaser.Utils.Objects.GetValue;class t2 extends o0{constructor(t,n,x,C,M){var h=K3(M,"tags",void 0),y=new W3(h);super(t,n,x,C,M,"rexTagText",y)}addTag(t,n){return this.parser.addTag(t,n),this.updateText(!0)}addTags(t){for(var n in t)this.parser.addTag(n,t[n]);return this.updateText(!0)}getTag(t){return this.parser.getTag(t)}preDestroy(){super.preDestroy(),this.parser.destroy(),this.parser=void 0}}rt.register("tagText",function(i,t,n,x){var C=new t2(this.scene,i,t,n,x);return this.scene.add.existing(C),C});nt(window,"RexPlugins.UI.TagText",t2);const il=Phaser.Utils.Objects.GetValue;var _l=function(i,t){return t===void 0?i:i[t]},mn=function(i,t,n){i===void 0&&(i={}),t===void 0&&(t=0);var x=typeof t;return x==="string"?i[t]=n:x==="number"?(i.left=t,i.right=t,i.top=t,i.bottom=t):(i.left=il(t,"left",0),i.right=il(t,"right",0),i.top=il(t,"top",0),i.bottom=il(t,"bottom",0)),i};let l0=class{constructor(t,n){this.setParent(t),this.type=n,this.renderable=!1,this.reset().setActive()}destroy(){this.parent.removeChild(this)}setParent(t){return this.parent=t,this}get scene(){return this.parent.scene}get canvas(){return this.parent?this.parent.canvas:null}get context(){return this.parent?this.parent.context:null}setDirty(t){return t&&this.parent&&(this.parent.dirty=!0),this}get active(){return this._active}set active(t){this.setDirty(this._active!=t),this._active=t}setActive(t){return t===void 0&&(t=!0),this.active=t,this}modifyPorperties(t){return this}onFree(){this.reset().setParent()}reset(){return this}render(){}contains(t,n){return!1}};Object.assign(l0.prototype,_u);const j3={renderContent(){},render(){if(!this.willRender)return this;var i=this.context;if(i.save(),i.globalAlpha=this.alpha,this.toLocalPosition){var t=this.drawX,n=this.drawY;this.autoRound&&(t=Math.round(t),n=Math.round(n)),i.translate(t,n),i.scale(this.scaleX,this.scaleY),i.rotate(this.rotation)}return this.drawBelowCallback&&this.drawBelowCallback(this),this.renderContent(),this.drawAboveCallback&&this.drawAboveCallback(this),i.restore(),this}},Z3=Phaser.Math.RotateAround;var J3=function(i,t,n,x){return x===void 0?x={}:x===!0&&(Ld===void 0&&(Ld={}),x=Ld),x.x=(i-n.drawX)/n.scaleX,x.y=(t-n.drawY)/n.scaleY,n.rotation!==0&&Z3(x,0,0,-n.rotation),x},Ld;const Q3=Phaser.Geom.Rectangle;var q3=function(i,t){if(this.width===0||this.height===0)return!1;var n=J3(i,t,this,!0);return _3(this).contains(n.x,n.y)},_3=function(i){sl===void 0&&(sl=new Q3);var t=i.drawTLX,n=i.drawTLY;return sl.setTo(t,n,i.drawTRX-t,i.drawBLY-n),sl},sl;const tO=Phaser.Math.RotateAround;var e2=function(i,t,n,x){return x===void 0?x={}:x===!0&&(Fd===void 0&&(Fd={}),x=Fd),x.x=t,x.y=n,i.rotation!==0&&tO(x,0,0,i.rotation),x.x=x.x*i.scaleX+i.drawX,x.y=x.y*i.scaleY+i.drawY,x},Fd;const yx=Phaser.GameObjects.Components.TransformMatrix;var eO=function(i,t,n,x){x===void 0?x={}:x===!0&&(x=iO);var C=t-i.width*i.originX,M=n-i.height*i.originY;return to===void 0&&(to=new yx,Tx=new yx),i.parentContainer?i.getWorldTransformMatrix(to,Tx):to.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),to.transformPoint(C,M,x),x},to,Tx,iO={},sO=function(i,t,n,x,C){var M=e2(t,n,x,!0),h=eO(i,M.x,M.y,C);return h},i2=function(i,t,n,x,C){typeof n!="number"&&(C=n,n=0,x=0);var M=t.drawCenterX+n,h=t.drawCenterY+x;return sO(i,t,M,h,C)},nO=function(i,t,n){return i2(this.parent,this,i,t,n)},s2={contains:q3,getWorldPosition:nO};Object.assign(s2,j3);const rO=Phaser.Math.DegToRad,aO=Phaser.Math.RadToDeg,nl=Phaser.Utils.Objects.GetValue;class mr extends l0{constructor(t,n){super(t,n),this.renderable=!0,this.toLocalPosition=!0,this.originX=0,this.offsetX=0,this.offsetY=0}get visible(){return this._visible}set visible(t){this.setDirty(this._visible!=t),this._visible=t}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}get alpha(){return this._alpha}set alpha(t){this.setDirty(this._alpha!=t),this._alpha=t}setAlpha(t){return this.alpha=t,this}get x(){return this._x}set x(t){this.setDirty(this._x!=t),this._x=t}setX(t){return this.x=t,this}get y(){return this._y}set y(t){this.setDirty(this._y!=t),this._y=t}setY(t){return this.y=t,this}setPosition(t,n){return this.x=t,this.y=n,this}setInitialPosition(t,n){return this.x0=t,this.y0=n,this}get rotation(){return this._rotation}set rotation(t){this.setDirty(this._rotation!=t),this._rotation=t}setRotation(t){return this.rotation=t,this}get angle(){return aO(this._rotation)}set angle(t){this.rotation=rO(t)}setAngle(t){return this.angle=t,this}get scaleX(){return this._scaleX}set scaleX(t){this.setDirty(this._scaleX!==t),this._scaleX=t}setScaleX(t){return this.scaleX=t,this}get width(){return 0}set width(t){}setWidth(t,n){return n===void 0&&(n=!1),this.width=t,n&&(this.scaleY=this.scaleX),this}get leftSpace(){return this._leftSpace}set leftSpace(t){this.setDirty(this._leftSpace!==t),this._leftSpace=t}setLeftSpace(t){return this.leftSpace=t,this}get rightSpace(){return this._rightSpace}set rightSpace(t){this.setDirty(this._rightSpace!==t),this._rightSpace=t}setRightSpace(t){return this.rightSpace=t,this}get outerWidth(){return this.width+this.leftSpace+this.rightSpace}get scaleY(){return this._scaleY}set scaleY(t){this.setDirty(this._scaleY!==t),this._scaleY=t}setScaleY(t){return this.scaleY=t,this}get height(){return 0}set height(t){}setHeight(t,n){return n===void 0&&(n=!1),this.height=t,n&&(this.scaleX=this.scaleY),this}setScale(t,n){return n===void 0&&(n=t),this.scaleX=t,this.scaleY=n,this}setOrigin(t){return this.originX=t,this}setAlign(t){return this.align=t,this}modifyPorperties(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var n=nl(t,"width",void 0),x=nl(t,"height",void 0),C=nl(t,"scaleX",void 0),M=nl(t,"scaleY",void 0);return n!==void 0?x===void 0&&M===void 0?this.setWidth(n,!0):this.setWidth(n):C!==void 0&&this.setScaleX(C),x!==void 0?n===void 0&&C===void 0?this.setHeight(x,!0):this.setHeight(x):M!==void 0&&this.setScaleY(M),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),this}setDrawBelowCallback(t){return this.drawBelowCallback=t,this}setDrawAboveCallback(t){return this.drawAboveCallback=t,this}reset(){return this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setLeftSpace(0).setRightSpace(0).setOrigin(0).setAlign().setDrawBelowCallback().setDrawAboveCallback(),this}get willRender(){return this.visible&&this.alpha>0}get drawX(){return this.x+this.leftSpace+this.offsetX-this.originX*this.width}get drawY(){return this.y+this.offsetY}get drawTLX(){return 0}get drawTLY(){return 0}get drawBLX(){return 0}get drawBLY(){return 0}get drawTRX(){return 0}get drawTRY(){return 0}get drawBRX(){return 0}get drawBRY(){return 0}get drawCenterX(){return(this.drawTRX+this.drawTLX)/2}get drawCenterY(){return(this.drawBLY+this.drawTLY)/2}}Object.assign(mr.prototype,s2);var hn=function(i,t,n){return t.hasOwnProperty(i)?t[i]:n[i]};const zn=Phaser.Utils.Objects.GetValue;class oO extends mr{constructor(t,n){super(t,"background"),this.setColor(zn(n,"color",null),zn(n,"color2",null),zn(n,"horizontalGradient",!0)),this.setStroke(zn(n,"stroke",null),zn(n,"strokeThickness",2)),this.setCornerRadius(zn(n,"cornerRadius",0),zn(n,"cornerIteration",null))}set color(t){t=yt(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=yt(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,n,x){return x===void 0&&(x=!0),this.color=t,this.color2=n,this.horizontalGradient=x,this}set stroke(t){t=yt(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,n){return t!=null&&n===void 0&&(n=2),this.stroke=t,this.strokeThickness=n,this}set cornerRadius(t){this.setDirty(this._cornerRadius!=t),this._cornerRadius=t}get cornerRadius(){return this._cornerRadius}set cornerIteration(t){this.setDirty(this._cornerIteration!=t),this._cornerIteration=t}get cornerIteration(){return this._cornerIteration}modifyStyle(t){return t.hasOwnProperty("color")&&this.setColor(t.color,hn("color2",t,this),hn("horizontalGradient",t,this)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,hn("strokeThickness",t,this)),t.hasOwnProperty("cornerRadius")&&this.setCornerRadius(t.cornerRadius,hn("cornerIteration",t,this)),this}modifyPorperties(t){return super.modifyPorperties(t),this.modifyStyle(t),this}setCornerRadius(t,n){return this.cornerRadius=t,this.cornerIteration=n,this}renderContent(){s0(this.parent,this.color,this.stroke,this.strokeThickness,this.cornerRadius,this.color2,this.horizontalGradient,this.cornerIteration)}}const Hs=Phaser.Utils.Objects.GetValue;class hO extends mr{constructor(t,n){super(t,"innerbounds"),this.setColor(Hs(n,"color",null),Hs(n,"color2",null),Hs(n,"horizontalGradient",!0)),this.setStroke(Hs(n,"stroke",null),Hs(n,"strokeThickness",2))}set color(t){t=yt(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=yt(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,n,x){return x===void 0&&(x=!0),this.color=t,this.color2=n,this.horizontalGradient=x,this}set stroke(t){t=yt(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,n){return t!=null&&n===void 0&&(n=2),this.stroke=t,this.strokeThickness=n,this}modifyPorperties(t){super.modifyPorperties(t),t.hasOwnProperty("color")&&this.setColor(t.color,Hs(t,"color2",null),Hs(t,"horizontalGradient",!0)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,Hs(t,"strokeThickness",2))}renderContent(){var t=this.parent.padding,n=t.left,x=t.top,C=this.parent.width-t.left-t.right,M=this.parent.height-t.top-t.bottom,h=this.context;if(this.color!=null){var y;if(this.color2!=null){var e;this.horizontalGradient?e=h.createLinearGradient(0,0,C,0):e=h.createLinearGradient(0,0,0,M),e.addColorStop(0,this.color),e.addColorStop(1,this.color2),y=e}else y=this.color;h.fillStyle=y,h.fillRect(n,x,C,M)}this.stroke!=null&&this.strokeThickness>0&&(h.strokeStyle=this.stroke,h.lineWidth=this.strokeThickness,h.strokeRect(n,x,C,M))}}const oe=Phaser.Utils.Objects.GetValue;class sf{constructor(t,n){this.parent=t,this.set(n)}toJSON(){return{bold:this.bold,italic:this.italic,fontSize:this.fontSize,fontFamily:this.fontFamily,color:this.color,stroke:this.stroke,strokeThickness:this.strokeThickness,shaodwColor:this.shadowColor,shadowBlur:this.shadowBlur,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,offsetX:this.offsetX,offsetY:this.offsetY,leftSpace:this.leftSpace,rightSpace:this.rightSpace,backgroundHeight:this.backgroundHeight,backgroundBottomY:this.backgroundBottomY,align:this.align}}set(t){return this.setBold(oe(t,"bold",!1)),this.setItalic(oe(t,"italic",!1)),this.setFontSize(oe(t,"fontSize","16px")),this.setFontFamily(oe(t,"fontFamily","Courier")),this.setColor(oe(t,"color","#fff")),this.setStrokeStyle(oe(t,"stroke",null),oe(t,"strokeThickness",0)),this.setShadow(oe(t,"shadowColor",null),oe(t,"shadowOffsetX",0),oe(t,"shadowOffsetY",0),oe(t,"shadowBlur",0)),this.setOffset(oe(t,"offsetX",0),oe(t,"offsetY",0)),this.setSpace(oe(t,"leftSpace",0),oe(t,"rightSpace",0)),this.setAlign(oe(t,"align",void 0)),this.setBackgroundColor(oe(t,"backgroundColor",null)),this.setBackgroundHeight(oe(t,"backgroundHeight",void 0)),this.setBackgroundBottomY(oe(t,"backgroundBottomY",void 0)),this}modify(t){return t.hasOwnProperty("bold")&&this.setBold(t.bold),t.hasOwnProperty("italic")&&this.setItalic(t.italic),t.hasOwnProperty("fontSize")&&this.setFontSize(t.fontSize),t.hasOwnProperty("fontFamily")&&this.setFontFamily(t.fontFamily),t.hasOwnProperty("color")&&this.setColor(t.color),(t.hasOwnProperty("stroke")||t.hasOwnProperty("strokeThickness"))&&this.setStrokeStyle(hn("stroke",t,this),hn("strokeThickness",t,this)),t.hasOwnProperty("shadowColor")&&this.setShadowColor(t.shadowColor),(t.hasOwnProperty("shadowOffsetX")||t.hasOwnProperty("shadowOffsetY"))&&this.setShadowOffset(hn("shadowOffsetX",t,this),hn("shadowOffsetY",t,this)),t.hasOwnProperty("shadowBlur")&&this.setShadowBlur(t.shaodwBlur),t.hasOwnProperty("offsetX")&&this.setOffsetX(t.offsetX),t.hasOwnProperty("offsetY")&&this.setOffsetY(t.offsetY),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),t.hasOwnProperty("backgroundColor")&&this.setBackgroundColor(t.backgroundColor),t.hasOwnProperty("backgroundHeight")&&this.setBackgroundHeight(t.backgroundHeight),t.hasOwnProperty("backgroundBottomY")&&this.setBackgroundBottomY(t.backgroundBottomY),this}setUpdateTextFlag(){return this.parent&&(this.parent.updateTextFlag=!0),this}clone(){return new sf(null,this.toJSON())}copyFrom(t){return this.set(t.toJSON()),this}copyTo(t){return t.set(this.toJSON()),this}setBold(t){return t===void 0&&(t=!0),this.bold=t,this.setUpdateTextFlag(),this}setItalic(t){return t===void 0&&(t=!0),this.italic=t,this.setUpdateTextFlag(),this}get fontStyle(){return this.bold&&this.italic?"bold italic":this.bold?"bold":this.italic?"italic":""}setFontSize(t){return typeof t=="number"&&(t=`${t}px`),this.fontSize=t,this.setUpdateTextFlag(),this}setFontFamily(t){return this.fontFamily=t,this.setUpdateTextFlag(),this}get font(){return`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`}setColor(t){return this.color=yt(t),this}get hasFill(){return this.color!=null}setStrokeStyle(t,n){return this.stroke=yt(t),n!==void 0&&(this.strokeThickness=n),this}setStrokeThickness(t){return this.strokeThickness=t,this}get hasStroke(){return this.stroke!=null&&this.strokeThickness>0}setShadowColor(t){return this.shadowColor=yt(t),this}setShadowOffset(t,n){return t===void 0&&(t=0),n===void 0&&(n=0),this.shadowOffsetX=t,this.shadowOffsetY=n,this}setShadowBlur(t){return t===void 0&&(t=0),this.shaodwBlur=t,this}setShadow(t,n,x,C){return this.setShadowColor(t).setShadowOffset(n,x).setShadowBlur(C),this}setBackgroundColor(t){return this.backgroundColor=yt(t),this}get hasBackgroundColor(){return this.backgroundColor!=null}setBackgroundHeight(t){return this.backgroundHeight=t,this}setBackgroundBottomY(t){return this.backgroundBottomY=t,this}setOffsetX(t){return t===void 0&&(t=0),this.offsetX=t,this}setOffsetY(t){return t===void 0&&(t=0),this.offsetY=t,this}setOffset(t,n){return this.setOffsetX(t).setOffsetY(n),this}setLeftSpace(t){return t===void 0&&(t=0),this.leftSpace=t,this}setRightSpace(t){return t===void 0&&(t=0),this.rightSpace=t,this}setSpace(t,n){return this.setLeftSpace(t).setRightSpace(n),this}setAlign(t){return this.align=t,this}syncFont(t){return t.font=this.font,this}syncStyle(t){t.textBaseline="alphabetic";var n=this.hasFill,x=this.hasStroke;return t.fillStyle=n?this.color:"#000",t.strokeStyle=x?this.stroke:"#000",t.lineWidth=x?this.strokeThickness:0,t.lineCap="round",t.lineJoin="round",this}syncShadow(t){t.shadowColor!=null?(t.shadowColor=this.shadowColor,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowBlur=this.shadowBlur):(t.shadowColor=0,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0)}getTextMetrics(t,n){return this.syncFont(t).syncStyle(t),t.measureText(n)}}var lO=function(i,t){i===void 0&&(i=0),t===void 0&&(t=0);var n=this.fixedWidth!==i||this.fixedHeight!==t;return n?(this.fixedWidth=i,this.fixedHeight=t,this.dirty=!0,this.setCanvasSize(i>0?i:this.width,t>0?t:this.height),this):this},uO=function(i,t){var n=this.padding,x=n.left,C=n.right,M=n.top,h=n.bottom;return mn(n,i,t),this.dirty=this.dirty||x!=n.left||C!=n.right||M!=n.top||h!=n.bottom,this},fO=function(i){return _l(this.padding,i)},dO=function(i){return this.textStyle.modify(i),this},cO=function(i){return this.defaultTextStyle.modify(i),this},vO=function(){return this.textStyle.copyFrom(this.defaultTextStyle),this},pO=function(i){return this.testString=i,this};const gO=Phaser.Utils.Array.Remove;var mO=function(i){return this.poolManager.free(i),gO(this.children,i),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},xO=function(){return this.poolManager.freeMultiple(this.children),this.children.length=0,this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this};const yO=Phaser.Utils.Array.Remove;var TO=function(i){return yO(this.children,i),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},CO=function(){return this.setText(),this},n2=function(i,t){var n=Array.isArray(i);return t===void 0||t===this.children.length?n?this.children.push(...i):this.children.push(i):n?this.children.splice(t,0,...i):this.children.splice(t,0,i),this.lastAppendedChildren.length=0,n?this.lastAppendedChildren.push(...i):this.lastAppendedChildren.push(i),this};const wn="text",r2="image",a2="drawer",o2="space",u0="command";var h2=function(i){return i.type===wn&&i.text===`
`},l2=function(i){return i.type===wn&&i.text==="\f"},SO=function(i){return i.type===wn&&i.text===" "},La=function(i){return i.type===wn},MO=function(i){return i.type===u0};class u2 extends mr{constructor(t,n,x){super(t,wn),this.updateTextFlag=!1,this.style=new sf(this,x),this.setText(n)}get autoRound(){return this.parent.autoRound}get offsetX(){return this.style.offsetX}set offsetX(t){this.style&&(this.style.offsetX=t)}get offsetY(){return this.style.offsetY}set offsetY(t){this.style&&(this.style.offsetY=t)}get leftSpace(){return this.style.leftSpace*this.scaleX}set leftSpace(t){this.style&&(this.style.leftSpace=t),super.leftSpace=t}get rightSpace(){return this.style.rightSpace*this.scaleX}set rightSpace(t){this.style&&(this.style.rightSpace=t),super.rightSpace=t}get align(){return this.style.align}set align(t){this.style&&(this.style.align=t)}modifyStyle(t){return this.setDirty(!0),this.style.modify(t),this.updateTextFlag&&this.updateTextSize(),this}modifyPorperties(t){return t?(this.modifyStyle(t),super.modifyPorperties(t),this):this}setText(t){return this.setDirty(this.text!=t),this.text=t,this.updateTextSize(),this}updateTextSize(){var t=this.text;if(t===`
`||t==="\f"||t==="")this.textWidth=0,this.textHeight=0,this.ascent=0,this.descent=0;else{var n=this.style.getTextMetrics(this.context,this.text);this.textWidth=n.width;var x,C;"actualBoundingBoxAscent"in n?(x=n.actualBoundingBoxAscent,C=n.actualBoundingBoxDescent):(x=0,C=0),this.textHeight=x+C,this.ascent=x,this.descent=C}return this.updateTextFlag=!1,this}get width(){return this.textWidth*this.scaleX}set width(t){this.textWidth>0?this.scaleX=t/this.textWidth:this.scaleX=1}get height(){return this.textHeight*this.scaleY}set height(t){this.textHeight>0?this.scaleY=t/this.textHeight:this.scaleY=1}get willRender(){var t=this.text;return t===`
`||t==="\f"?!1:super.willRender}renderContent(){var t=this.context,n=this.style;if(n.hasBackgroundColor){t.fillStyle=n.backgroundColor;var x=this.drawTLX,C=this.drawTRX-x,M=n.backgroundBottomY;M==null&&(M=this.drawBLY);var h=n.backgroundHeight;h==null&&(h=M-this.drawTLY);var y=M-h;t.fillRect(x,y,C,h)}var e=n.hasFill,f=n.hasStroke;!e&&!f||(n.syncFont(t).syncStyle(t),f&&(n.syncShadow(t),t.strokeText(this.text,0,0)),e&&(n.syncShadow(t),t.fillText(this.text,0,0)))}get drawTLX(){return-this.leftSpace}get drawTLY(){return-this.ascent}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.descent}get drawTRX(){return this.textWidth+this.rightSpace}get drawTRY(){return-this.ascent}get drawBRX(){return this.textWidth+this.rightSpace}get drawBRY(){return this.descent}}var EO=function(i,t){t&&this.textStyle.modify(t);var n=this.poolManager.allocate(wn);return n===null?n=new u2(this,i,this.textStyle):n.setParent(this).setActive().modifyStyle(this.textStyle).setText(i),n},PO=function(i,t){t&&this.textStyle.modify(t);for(var n=[],x=0,C=i.length;x<C;x++){var M=i.charAt(x),h=this.poolManager.allocate(wn);h===null?h=new u2(this,M,this.textStyle):h.setParent(this).setActive().modifyStyle(this.textStyle).setText(M),n.push(h)}return n},vh=function(i,t){var n=this.createCharChildren(i,t);return this.addChild(n),this},RO=function(i,t){return i===void 0&&(i=""),this.removeChildren(),vh.call(this,i,t),this.dirty=!0,this},AO=function(i,t,n){var x=this.createCharChildren(t,n);return i=this.getCharChildIndex(i,!0),this.addChild(x,i),this},wO=function(i,t){t===void 0&&(t=1);for(var n=0;n<t;n++){var x=this.getCharChildIndex(i,!0);if(x===void 0)break;this.removeChild(this.children[x])}return this},OO=function(i){var t="";return this.forEachCharChild(function(n){t+=n.text},void 0,i),t};class LO extends mr{constructor(t,n,x){super(t,r2),this.setTexture(n,x)}get frameWidth(){return this.frameObj?this.frameObj.cutWidth:0}get frameHeight(){return this.frameObj?this.frameObj.cutHeight:0}get offsetY(){return-this.height}set offsetY(t){}get key(){return this._key}set key(t){this.setDirty(this._key!=t),this._key=t}get frame(){return this._frame}set frame(t){this.setDirty(this._frame!=t),this._frame=t}setTexture(t,n){return this.key=t,this.frame=n,this.frameObj=this.scene.sys.textures.getFrame(t,n),this}get width(){return this.frameWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=t/this.frameWidth}get height(){return this.frameHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=t/this.frameHeight}setHeight(t,n){return n===void 0&&(n=!1),this.height=t,n&&(this.scaleX=this.scaleY),this}renderContent(){var t=this.context,n=this.frameObj,x=this.frameWidth,C=this.frameHeight;t.drawImage(n.source.image,n.cutX,n.cutY,x,C,0,0,x,C)}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.frameHeight}get drawTRX(){return this.frameWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.frameWidth+this.rightSpace}get drawBRY(){return this.frameHeight}}var FO=function(i,t,n){var x=this.poolManager.allocate(r2);return x===null?x=new LO(this,i,t):x.setParent(this).setActive().setTexture(i,t),x.modifyPorperties(n),x},f2=function(i,t,n){var x=this.createImageChild(i,t,n);return this.addChild(x),this};class IO extends mr{constructor(t,n,x,C){super(t,a2),this.setRenderCallback(n),this.setDrawerSize(x,C)}setRenderCallback(t){return t?this.renderContent=t.bind(this):delete this.renderContent,this}setDrawerSize(t,n){return t===!0?(this.toLocalPosition=!1,t=void 0,n=void 0):this.toLocalPosition=!0,t===void 0&&(t=0),n===void 0&&(n=t),this.drawerWidth=t,this.drawerHeight=n,this}onFree(){super.onFree(),this.setRenderCallback()}get width(){return this.drawerWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=this.drawerWidth>0?t/this.drawerWidth:1}get height(){return this.drawerHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=this.drawerHeight>0?t/this.drawerHeight:1}get offsetY(){return-this.height}set offsetY(t){}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.drawerHeight}get drawTRX(){return this.drawerWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.drawerWidth+this.rightSpace}get drawBRY(){return this.drawerHeight}}var DO=function(i,t,n){var x=this.poolManager.allocate(a2);return x===null?x=new IO(this,i,t,n):x.setParent(this).setActive().setRenderCallback(i).setDrawerSize(t,n),x},BO=function(i,t,n){var x=this.createDrawerChild(i,t,n);return this.addChild(x),this};let bO=class extends mr{constructor(t,n){super(t,o2),this.setSpaceWidth(n)}get width(){return this.spaceWidth*this.scaleX}set width(t){this.spaceWidth>0?this.scaleX=t/this.spaceWidth:this.scaleX=1}setSpaceWidth(t){return this.spaceWidth=t,this}};var GO=function(i){var t=this.poolManager.allocate(o2);return t===null?t=new bO(this,i):t.setParent(this).setActive().setSpaceWidth(i),t},d2=function(i){var t=this.createSpaceChild(i);return this.addChild(t),this};class NO extends l0{constructor(t,n,x,C,M){super(t,u0),this.setName(n).setParameter(C).setCallback(x,M)}setName(t){return this.name=t,this}setParameter(t){return this.param=t,this}setCallback(t,n){return this.callback=t,this.scope=n,this}exec(){var t;return this.scope?t=this.callback.call(this.scope,this.param,this.name):t=this.callback(this.param,this.name),t}onFree(){super.onFree(),this.setName().setCallback().setParameter()}}var VO=function(i,t,n,x){var C=this.poolManager.allocate(u0);return C===null?C=new NO(this,i,t,n,x):C.setParent(this).setActive().setName(i).setCallback(t,x).setParameter(n),C},pt=function(i,t,n,x){var C=this.createCommandChild(i,t,n,x);return this.addChild(C),this},zO=function(i){return i===void 0?i={}:typeof i=="object"&&(i=wi(i)),this.wrapConfig=i,this},kO=function(i,t,n,x){x===void 0&&(x={word:[],width:0}),x.word.length=0;for(var C=i.length,M=t,h=x.word,y=0;M<C;){var e=i[M];if(!e.renderable){h.push(e),M++;continue}var f=e.type===wn?e.text:null;if(f!==null&&f!==" "&&f!==`
`&&f!=="\f")h.push(e),y+=e.outerWidth,M++;else{M===t&&(h.push(e),y+=e.outerWidth);break}if(n)break}return x.width=y,x},c2=function(i){for(var t=0,n=i.length;t<n;t++){var x=i[t];if(x.align!==void 0)return x.align}},v2=function(i,t,n){if(!(t===0&&n===0))for(var x=0,C=i.length;x<C;x++){var M=i[x];M.renderable&&(M.x+=t,M.y+=n)}},UO=function(i,t,n){var x=i.hAlign,C=i.vAlign,M,h,y=i.linesHeight;switch(C){case 1:case"center":h=(n-y)/2;break;case 2:case"bottom":h=n-y;break;default:h=0;break}for(var e=i.lines,f=0,d=e.length;f<d;f++){var s=e[f],a=s.width,r=s.children,o=c2(r);switch(o===void 0&&(o=x),o){case 1:case"center":M=(t-a)/2;break;case 2:case"right":M=t-a;break;default:M=0;break}v2(r,M,h)}},Cx=function(){var i=this.defaultTextStyle.getTextMetrics(this.context,this.testString),t,n;return"actualBoundingBoxAscent"in i?(t=i.actualBoundingBoxAscent,n=i.actualBoundingBoxDescent):(t=0,n=0),rl.ascent=t,rl.descent=n,rl.height=t+n,rl},rl={};const ti=Phaser.Utils.Objects.GetValue;var XO=function(i){var t=ti(i,"start",0);mn(this.wrapPadding,ti(i,"padding",0));var n=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,x=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,C=ti(i,"lineHeight"),M=ti(i,"ascent",C),h;if(C===void 0){var y=ti(i,"useDefaultTextHeight",!1);if(h=ti(i,"maxLines",0),this.fixedHeight>0&&!y){var W=this.fixedHeight-n;if(h>0)C=W/h;else{var e=Cx.call(this);C=e.height,M=e.ascent,h=Math.floor((W-M)/C)}}else{var e=Cx.call(this);C=e.height,M=e.ascent}}else if(this.fixedHeight>0){if(h=ti(i,"maxLines"),h===void 0){var W=this.fixedHeight-n;h=Math.floor(W/C)}}else h=ti(i,"maxLines",0);M===void 0&&(M=C);var f=h===0,d=ti(i,"wrapWidth",void 0);d===void 0&&(this.fixedWidth>0?d=this.fixedWidth-x:d=1/0);for(var s=ti(i,"letterSpacing",0),a=ti(i,"hAlign",0),r=ti(i,"vAlign",0),o=ti(i,"charWrap",!1),u={callback:"runWordWrap",start:t,isLastPage:!1,padding:this.wrapPadding,ascent:M,lineHeight:C,maxLines:h,wrapWidth:d,letterSpacing:s,hAlign:a,vAlign:r,charWrap:o,children:[],lines:[],maxLineWidth:0,linesHeight:0},v=this.children,l=0,c=v.length;l<c;l++)v[l].setActive(!1);d+=s;for(var p=this.padding.left+this.wrapPadding.left,g=this.padding.top+this.wrapPadding.top+M,m=p,T=g,S=d,P=t,E=v.length,R=u.children,A=u.lines,w=[],O=0,L=0,F,I=!1;P<E;){F=kO(v,P,o,F);var B=F.word,G=B.length,N=F.width+G*s;P+=G;var U=h2(B[0]);I=l2(B[0]);var Y=U||I;if(S<N||Y){if(Y){var X=B[0];X.setActive().setPosition(m,T),R.push(X),w.push(X)}m=p,T+=C,S=d,A.push({children:w,width:O}),L=Math.max(L,O),O=0,w=[];var b=I||!f&&A.length===h;if(b)break;if(Y)continue}S-=N,O+=N;for(var l=0,c=B.length;l<c;l++){var z=B[l];z.setActive(),R.push(z),w.push(z),z.renderable&&(z.setPosition(m,T),m+=z.outerWidth+s)}}w.length>0&&(A.push({children:w,width:O}),L=Math.max(L,O)),u.start+=R.length,u.isLastPage=!I&&u.start===E,u.maxLineWidth=L,u.linesHeight=A.length*C;var D=this.fixedWidth>0?this.fixedWidth:u.maxLineWidth+x,V=this.fixedHeight>0?this.fixedHeight:u.linesHeight+n,k=D-x,W=V-n;UO(u,k,W),this.setCanvasSize(D,V);for(var l=0,c=R.length;l<c;l++){var z=R[l];z.renderable&&(z.x0=z.x,z.y0=z.y)}return u};const YO=Phaser.Utils.Objects.Merge;var WO=function(i){return i===void 0&&(i={}),XO.call(this,YO(i,this.wrapConfig))},HO=function(i,t,n){var x=i.hAlign,C=i.vAlign,M,h,y=i.rtl,e=i.lines,f=i.lineWidth,d=i.linesWidth;switch(x){case 1:case"center":M=(t-d)/2;break;case 2:case"right":M=t-d;break;default:M=0;break}y&&(M+=f);for(var s=0,a=e.length;s<a;s++){var r=e[y?a-s-1:s],o=r.children,u=r.height,v=c2(o);switch(v===void 0&&(v=C),v){case 1:case"center":h=(n-u)/2;break;case 2:case"bottom":h=n-u;break;default:h=0;break}v2(o,M,h),M+=f}};const ei=Phaser.Utils.Objects.GetValue;var $O=function(i){var t=ei(i,"start",0);mn(this.wrapPadding,ei(i,"padding",0));var n=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,x=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,C=ei(i,"lineWidth",void 0),M;if(C===void 0)if(M=ei(i,"maxLines",0),this.fixedWidth>0){var X=this.fixedWidth-x;C=X/M}else C=0;else if(this.fixedWidth>0){if(M=ei(i,"maxLines",void 0),M===void 0){var X=this.fixedWidth-x;M=Math.floor(X/C)+1}}else M=ei(i,"maxLines",0);var h=M===0,y=ei(i,"fixedChildHeight",void 0);if(y===void 0){var e=ei(i,"charPerLine",void 0);if(e!==void 0){var b=this.fixedHeight-n;y=Math.floor(b/e)}}var f=ei(i,"wrapHeight",void 0);f===void 0&&(this.fixedHeight>0?f=this.fixedHeight-n:f=1/0);for(var d=ei(i,"letterSpacing",0),s=ei(i,"rtl",!0),a=ei(i,"hAlign",s?2:0),r=ei(i,"vAlign",0),o={callback:"runVerticalWrap",start:t,isLastPage:!1,padding:this.wrapPadding,lineWidth:C,maxLines:M,fixedChildHeight:y,wrapHeight:f,letterSpacing:d,hAlign:a,vAlign:r,rtl:s,children:[],lines:[],maxLineHeight:0,linesWidth:0},u=this.children,v=0,l=u.length;v<l;v++)u[v].setActive(!1);f+=d;for(var c=this.padding.left+this.wrapPadding.left,p=this.padding.top+this.wrapPadding.top,g=c,m=p,T=f,S=t,P=u.length,E=o.children,R=o.lines,A=[],w=0,O=0;S<P;){var L=u[S];if(S++,!L.renderable){L.setActive(),E.push(L),A.push(L);continue}var F=(y!==void 0?y:L.height)+d,I=h2(L),B=l2(L),G=I||B;if(T<F||G){I&&(L.setActive().setPosition(g,m).setOrigin(.5),E.push(L),A.push(L)),g=c,m=p,T=f,R.push({children:A,height:w}),O=Math.max(O,w),w=0,A=[];var N=B||!h&&R.length===M;if(N)break;if(G)continue}T-=F,w+=F,L.setActive().setPosition(g,m).setOrigin(.5),E.push(L),A.push(L),m+=F}A.length>0&&(R.push({children:A,height:w}),O=Math.max(O,w)),o.start+=E.length,o.isLastPage=o.start===P,o.maxLineHeight=O,o.linesWidth=R.length*C;var U=this.fixedWidth>0?this.fixedWidth:o.linesWidth+x,Y=this.fixedHeight>0?this.fixedHeight:o.maxLineHeight+n,X=U-x,b=Y-n;HO(o,X,b),this.setCanvasSize(U,Y);for(var v=0,l=E.length;v<l;v++){var L=E[v];L.renderable&&(L.x0=L.x,L.y0=L.y)}return o};const KO=Phaser.Utils.Objects.Merge;var jO=function(i){return i===void 0&&(i={}),$O.call(this,KO(i,this.wrapConfig))};const Sx=Phaser.Utils.Objects.GetValue;var ZO=function(i){var t=Sx(this.wrapConfig,"callback");return t||(t=Sx(i,"callback",this.runWordWrap)),typeof t=="string"&&(t=this[t]),t.call(this,i)};const JO={setVAlign(i){return this.wrapConfig.vAlign=i,this},setHAlign(i){return this.wrapConfig.hAlign=i,this}};var QO=function(){this.clear(),this.setCanvasSize(this.width,this.height),this.background.active&&this.background.render();for(var i,t=0,n=this.children.length;t<n;t++)i=this.children[t],i.active&&i.render();this.innerBounds.active&&this.innerBounds.render()},qO=function(i,t,n){n===void 0&&(n=!0);for(var x=this.children,C=0,M=0,h=x.length;M<h;M++){var y=x[M];if(!(n&&!y.active)){var e;if(t?e=i.call(this,y,C,x):e=i(y,C,x),C++,e)break}}return this},_O=function(i,t,n){n===void 0&&(n=!0);for(var x=this.children,C=0,M=0,h=x.length;M<h;M++){var y=x[M];if(!(n&&!y.active)&&y.renderable&&!y.removed){var e;if(t?e=i.call(this,y,C,x):e=i(y,C,x),C++,e)break}}return this},tL=function(i,t,n){n===void 0&&(n=!0);for(var x=this.children,C=0,M=0,h=x.length;M<h;M++){var y=x[M];if(!(n&&!y.active)&&La(y)&&!y.removed){var e;if(t?e=i.call(this,y,C,x):e=i(y,C,x),C++,e)break}}return this},eL=function(){return this.children};const iL=Phaser.Utils.Array.GetAll;var sL=function(){return iL(this.children,"active",!0)},nL=function(i,t){return t===void 0&&(t=[]),this.forEachCharChild(function(n){t.push(n)},void 0,i),t},rL=function(){return this.lastAppendedChildren},aL=function(i,t,n,x){typeof t!="number"&&(x=t,t=0,n=0);var C=i.drawCenterX+t,M=i.drawCenterY+n;return e2(i,C,M,x)};const oL=Phaser.Math.Distance.BetweenPointsSquared;var hL=function(i,t){var n={x:i,y:t},x=1/0,C=null;return this.forEachRenderableChild(function(M){var h=oL(n,aL(M,!0));x>h&&(x=h,C=M)}),C},lL=function(i,t,n,x){return typeof i=="number"&&(i=this.getCharChild(i,!0)),i2(this,i,t,n,x)},uL=function(){for(var i=this.children,t=0,n=0,x=0,C=i.length;x<C;x++){var M=i[x];if(!(!M.renderable||!M.active||!M.visible)){var h=M.x0!==void 0?M.x0:M.x,y=M.y0!==void 0?M.y0:M.y;t=Math.max(t,h),n=Math.max(n,y)}}var e=t+this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,f=n+this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom;return(this.width!==e||this.height!==f)&&(this.dirty=!0,this.setCanvasSize(e,f)),this},fL=function(i,t){t===void 0&&(t=!0);for(var n=this.children,x=0,C=n.length;x<C;x++){var M=n[x];if(!(t&&!M.active)&&La(M)&&!M.removed){if(i===0)return x;i--}}},dL=function(i,t){t===void 0&&(t=!0);for(var n=this.children,x=0,C=n.length;x<C;x++){var M=n[x];if(!(t&&!M.active)&&La(M)&&!M.removed){if(i===0)return M;i--}}},cL=function(i,t){if(typeof i!="number"&&(i=this.children.indexOf(i),i<0))return null;t===void 0&&(t=!0);var n=this.children;i>=n.length&&(i=n.length);for(var x=0,C=0;C<i;C++){var M=n[C];t&&!M.active||La(M)&&!M.removed&&x++}return x},vL=function(i){return i===void 0&&(i=!0),this.childrenInteractiveEnable!==i&&(this.lastOverChild=null),this.childrenInteractiveEnable=i,this},f0=function(x,t,n){for(var x=x,C=0,M=x.length;C<M;C++){var h=x[C];if(!(!h.active||!h.renderable)&&h.contains(t,n))return h}return null},pL=function(){return this.on("pointerdown",gL,this).on("pointerdown",mL,this).on("pointermove",Id,this).on("pointerover",Id,this).on("pointerout",function(i,t){Id.call(this,i,null,null,t)},this),this},gL=function(i,t,n,x){if(this.childrenInteractiveEnable){var C=f0(this.children,t,n);C&&this.emit("child.pointerdown",C,i,t,n,x)}},mL=function(i,t,n,x){if(this.childrenInteractiveEnable){var C=f0(this.children,t,n);C&&this.emit("child.pointerup",C,i,t,n,x)}},Id=function(i,t,n,x){if(this.childrenInteractiveEnable){if(t===null){this.lastOverChild!==null&&(this.emit("child.pointerout",this.lastOverChild,i,t,n,x),this.lastOverChild=null);return}var C=f0(this.children,t,n);C!==this.lastOverChild&&(this.lastOverChild!==null&&this.emit("child.pointerout",this.lastOverChild,i,t,n,x),C!==null&&this.emit("child.pointerover",C,i,t,n,x),this.lastOverChild=C)}};const xL=Phaser.GameObjects.GameObject;var yL=function(i,t,n){var x=!!this.input;return xL.prototype.setInteractive.call(this,i,t,n),x||pL.call(this),this};const TL=Phaser.Utils.Array.BringToTop,CL=Phaser.Utils.Array.SendToBack,SL=Phaser.Utils.Array.MoveUp,ML=Phaser.Utils.Array.MoveDown,EL=Phaser.Utils.Array.MoveAbove,PL=Phaser.Utils.Array.MoveBelow,RL={moveChildToFist(i){return CL(this.children,i),this},moveChildToLast(i){return TL(this.children,i),this},movechildUp(i){return SL(this.children,i),this},movechildDown(i){return ML(this.children,i),this},movechildAbove(i,t){return EL(this.children,i,t),this},movechildBelow(i,t){return PL(this.children,i,t),this}},AL={setBackgroundColor(i,t,n){return this.background.setColor(i,t,n),this},setBackgroundStroke(i,t){return this.background.setStroke(i,t),this},setBackgroundCornerRadius(i,t){return this.background.setCornerRadius(i,t),this}},wL={setInnerBoundsColor(i,t,n){return this.innerBounds.setColor(i,t,n),this},setInnerBoundsStroke(i,t){return this.innerBounds.setStroke(i,t),this}};var p2={setFixedSize:lO,setPadding:uO,getPadding:fO,modifyTextStyle:dO,modifyDefaultTextStyle:cO,resetTextStyle:vO,setTestString:pO,removeChild:mO,removeChildren:xO,popChild:TO,clearContent:CO,addChild:n2,createCharChild:EO,createCharChildren:PO,setText:RO,appendText:vh,insertText:AO,removeText:wO,getText:OO,createImageChild:FO,appendImage:f2,createDrawerChild:DO,appendDrawer:BO,createSpaceChild:GO,appendSpace:d2,createCommandChild:VO,appendCommand:pt,setWrapConfig:zO,runWordWrap:WO,runVerticalWrap:jO,runWrap:ZO,renderContent:QO,forEachChild:qO,forEachRenderableChild:_O,forEachCharChild:tL,getChildren:eL,getActiveChildren:sL,getCharChildren:nL,getLastAppendedChildren:rL,getNearestChild:hL,getCharWorldPosition:lL,setToMinSize:uL,getCharChildIndex:fL,getCharChild:dL,getCharIndex:cL,setChildrenInteractiveEnable:vL,setInteractive:yL};Object.assign(p2,RL,AL,wL,JO);const OL=Phaser.Utils.Objects.GetFastValue;var LL={};class FL{constructor(t){this.pools=OL(t,"pools",LL)}free(t){if(!this.pools)return this;var n=t.type;return this.pools.hasOwnProperty(n)||(this.pools[n]=new fs),this.pools[n].push(t),t.onFree(),this}freeMultiple(t){if(!this.pools)return this;for(var n=0,x=t.length;n<x;n++)this.free(t[n]);return this}allocate(t){return!this.pools||!this.pools.hasOwnProperty(t)?null:this.pools[t].pop()}}const Mx=Phaser.Utils.Objects.IsPlainObject,Xe=Phaser.Utils.Objects.GetValue;class Ga extends An{constructor(t,n,x,C,M,h){Mx(n)?(h=n,n=Xe(h,"x",0),x=Xe(h,"y",0),C=Xe(h,"width",0),M=Xe(h,"height",0)):Mx(C)&&(h=C,C=Xe(h,"width",0),M=Xe(h,"height",0));var y=C===0?1:C,e=M===0?1:M;super(t,n,x,y,e),this.type="rexDynamicText",this.autoRound=!0,this.padding=mn(),this.wrapPadding=mn();var f=Xe(h,"style",void 0);this.defaultTextStyle=new sf(null,f),this.textStyle=this.defaultTextStyle.clone(),this.setTestString(Xe(h,"testString","|Mqgy")),this.background=new oO(this,Xe(h,"background",void 0)),this.innerBounds=new hO(this,Xe(h,"innerBounds",void 0)),this.children=[],this.lastAppendedChildren=[],this.lastOverChild=null,this.poolManager=new FL(h),this.setFixedSize(C,M),this.setPadding(Xe(h,"padding",0)),this.setWrapConfig(Xe(h,"wrap",void 0)),this.setChildrenInteractiveEnable(Xe(h,"childrenInteractive",!1));var d=Xe(h,"text",void 0);d&&this.setText(d)}updateTexture(){return this.renderContent(),super.updateTexture(),this}get text(){return this.getText(!0)}set text(t){this.setText(t)}setSize(t,n){return this.setFixedSize(t,n),this}}Object.assign(Ga.prototype,p2);rt.register("dynamicText",function(i,t,n,x,C){var M=new Ga(this.scene,i,t,n,x,C);return this.scene.add.existing(M),M});nt(window,"RexPlugins.UI.DynamicText",Ga);const Na={setEventEmitter(i,t){return t===void 0&&(t=Phaser.Events.EventEmitter),this._privateEE=i===!0||i===void 0,this._eventEmitter=this._privateEE?new t:i,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(i){return this._eventEmitter&&i&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames:function(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}},IL={hasProperty(i){var t=this.gameObject;if(t.hasOwnProperty(i))return!0;var n=t[i];return n!==void 0},getProperty(i){return this.gameObject[i]},setProperty(i,t){return this.gameObject[i]=t,this},easeProperty(i,t,n,x,C,M,h){var y=this.tweens,e=y[i];e&&e.remove();var f=this.gameObject,d={targets:f,duration:n,ease:x,repeat:C,yoyo:M,onComplete:function(){y[i].remove(),y[i]=null,h&&h(f,i)},onCompleteScope:this};return d[i]=t,e=this.scene.tweens.add(d),e.timeScale=this.timeScale,y[i]=e,this}},DL={hasMethod(i){return typeof this.gameObject[i]=="function"},call(i,...t){if(!this.hasMethod(i))return this;var n=this.gameObject;return n[i].apply(n,t),this}},BL={hasData(i){var t=this.gameObject;return t.data?t.data.has(i):!1},getData(i){return this.gameObject.getData(i)},setData(i,t){return this.gameObject.setData(i,t),this}};class d0{constructor(t,n,x){this.GOManager=t,this.tweens={},this.setGO(n,x)}get scene(){return this.GOManager.scene}get timeScale(){return this.GOManager.timeScale}destroy(){this.freeGO(),this.GOManager=void 0}freeTweens(){var t=this.tweens,n;for(var x in t)n=t[x],n&&n.remove(),t[x]=null;return this}freeGO(){return this.freeTweens(),this.gameObject.destroy(),this.gameObject=void 0,this}setGO(t,n){return t.setName(n),this.gameObject=t,this.name=n,this.freeTweens(),this}setTimeScale(t){var n=this.tweens;for(var x in n){var C=n[x];C&&(C.timeScale=t)}return this}}Object.assign(d0.prototype,IL,DL,BL);var c0=function(i){for(var t in i)return!1;return!0};const bL={tint:0,alpha:1},GL={setGOFadeMode(i){return typeof i=="string"&&(i=bL[i]),this.fadeMode=i,this},setGOFadeTime(i){return this.fadeTime=i,this},hasTintFadeEffect(i){return(this.fadeMode===void 0||this.fadeMode===0)&&this.fadeTime>0&&i.setTint!==void 0},hasAlphaFadeEffect(i){return(this.fadeMode===void 0||this.fadeMode===1)&&this.fadeTime>0&&i.setAlpha!==void 0},fadeBob(i,t,n,x){var C=i.gameObject;return this.hasTintFadeEffect(C)?(t!==void 0&&i.setProperty("tintGray",255*t),i.easeProperty("tintGray",Math.floor(255*n),this.fadeTime,"Linear",0,!1,x)):this.hasAlphaFadeEffect(C)?(t!==void 0&&i.setProperty("alpha",t),i.easeProperty("alpha",n,this.fadeTime,"Linear",0,!1,x)):x&&x(C),this}};var th=function(i){return i>>16&255},eh=function(i){return i>>8&255},ih=function(i){return i&255};const NL=~(255<<16)&16777215,VL=16711935,zL=16776960;var kL=function(i,t){return(t&255)<<16|i&NL},UL=function(i,t){return(t&255)<<8|i&VL},XL=function(i,t){return t&255|i&zL},YL=function(i,t,n,x){return(t&255)<<16|(n&255)<<8|x&255},WL=function(i,t){if(i.hasOwnProperty("tintR"))return i;t===void 0&&(t=16777215);var n=th(t),x=eh(t),C=ih(t);return Object.defineProperty(i,"tint",{get:function(){return t},set:function(M){M=Math.floor(M)&16777215,i.setTint&&i.setTint(M),t!==M&&(t=M,n=th(t),x=eh(t),C=ih(t))}}),Object.defineProperty(i,"tintR",{get:function(){return n},set:function(M){M=Math.floor(M)&255,n!==M&&(n=M,i.tint=kL(t,M))}}),Object.defineProperty(i,"tintG",{get:function(){return x},set:function(M){M=Math.floor(M)&255,x!==M&&(x=M,i.tint=UL(t,M))}}),Object.defineProperty(i,"tintB",{get:function(){return C},set:function(M){M=Math.floor(M)&255,C!==M&&(C=M,i.tint=XL(t,M))}}),Object.defineProperty(i,"tintGray",{get:function(){return Math.floor((n+x+C)/3)},set:function(M){M=Math.floor(M)&255,(n!==M||x!==M||C!==M)&&(n=M,x=M,C=M,i.tint=YL(t,M,M,M))}}),i.tint=t,i};const HL=Phaser.Events.EventEmitter;var $L=function(i){if(i.events)return i;var t=new HL,n=i.x;Object.defineProperty(i,"x",{get:function(){return n},set:function(h){n!==h&&(n=h,t.emit("update",i))}});var x=i.y;Object.defineProperty(i,"y",{get:function(){return x},set:function(h){x!==h&&(x=h,t.emit("update",i))}});var C=i.width;Object.defineProperty(i,"width",{get:function(){return C},set:function(h){C!==h&&(C=h,t.emit("update",i))}});var M=i.height;return Object.defineProperty(i,"height",{get:function(){return M},set:function(h){M!==h&&(M=h,t.emit("update",i))}}),i.events=t,i},KL=function(i,t,n,x,C,M){return M===void 0?M={}:M===!0&&(M=jL),typeof n!="number"&&(n=0,x=0),M.x=C.x+C.width*i+n,M.y=C.y+C.height*t+x,M},jL={},ZL=function(i,t,n,x,C,M,h){if(i.hasOwnProperty("vp"))return i;typeof n=="function"&&(h=n,n=void 0),typeof C=="function"&&(h=C,C=void 0),n===void 0&&(n=.5),x===void 0&&(x=.5),C===void 0&&(C=0),M===void 0&&(M=0),h===void 0&&(h=KL),$L(t);var y=t.events;i.vp=t;var e=function(){h(n,x,C,M,t,i)};y.on("update",e),i.once("destroy",function(){y.off("update",e),i.vp=void 0}),Object.defineProperty(i,"vpx",{get:function(){return n},set:function(f){n!==f&&(n=f,e())}}),Object.defineProperty(i,"vpy",{get:function(){return x},set:function(f){x!==f&&(x=f,e())}}),Object.defineProperty(i,"vpxOffset",{get:function(){return C},set:function(f){C!==f&&(C=f,e())}}),Object.defineProperty(i,"vpyOffset",{get:function(){return M},set:function(f){M!==f&&(M=f,e())}}),e()};const JL=Phaser.Utils.Array.Remove,QL={has(i){return this.bobs.hasOwnProperty(i)},exists(i){return this.bobs.hasOwnProperty(i)},get(i){return this.bobs[i]},getGO(i){var t=this.get(i);return t?t.gameObject:null},addGO(i,t){this.remove(i,!0),this.hasTintFadeEffect(t)&&WL(t),this.viewportCoordinateEnable&&ZL(t,this.viewport),t.once("destroy",function(){JL(this.removedGOs,t),this.isEmpty&&this.emit("empty")},this);var n=new this.BobClass(this,t,i);return this.bobs[i]=n,this},add(i,...t){var n=this.createGameObjectCallback,x=this.createGameObjectScope,C=n.call(x,this.scene,...t);this.addGO(i,C);var M=this.get(i);return this.fadeBob(M,0,1),this},forEachGO(i,t){for(var n in this.bobs){var x=this.bobs[n].gameObject,C;if(t?C=i.call(t,x,n,this):C=i(x,n,this),C)break}return this}},qL={remove(i,t){if(!this.has(i))return this;var n=this.get(i);return delete this.bobs[i],this.removedGOs.push(n.gameObject),t?n.destroy():this.fadeBob(n,void 0,0,function(){n.destroy()}),this},removeAll(){var i=this.bobs;for(var t in i)this.remove(t);return this},clear(i){i===void 0&&(i=!0);var t=this.bobs;for(var n in t)i&&t[n].destroy(),delete t[n];return this.removedGOs.length=0,this}},_L={hasProperty(i,t){return this.has(i)?this.get(i).hasProperty(t):!1},getProperty(i,t){if(this.has(i))return this.get(i).getProperty(t)},isNumberProperty(i,t){var n=this.getProperty(i,t);return typeof n=="number"},setProperty(i,t,n){return this.has(i)?(this.symbols&&typeof n=="string"&&this.isNumberProperty(i,t)&&(n in this.symbols?n=this.symbols[n]:console.warn(`Can't find symbol ${n}`)),this.get(i).setProperty(t,n),this):this},easeProperty(i,t,n,x,C,M,h,y){return this.has(i)?(x===void 0&&(x=1e3),C===void 0&&(C="Linear"),M===void 0&&(M=0),h===void 0&&(h=!1),this.symbols&&typeof n=="string"&&this.isNumberProperty(i,t)&&(n in this.symbols?n=this.symbols[n]:console.warn(`Can't find symbol ${n}`)),this.get(i).easeProperty(t,n,x,C,M,h,y),this):this},hasTweenTask(i,t){if(!this.has(i))return!1;var n=this.get(i).tweens;return n.hasOwnProperty(t)},getTweenTask(i,t){if(!this.has(i))return null;var n=this.get(i).tweens,x=n[t];return x||null}},tF={hasMethod(i,t){return this.has(i)?this.get(i).hasMethod(t):!1},call(i,t,...n){return this.has(i)?(this.get(i).call(t,...n),this):this}},eF={hasData(i,t){return this.has(i)?this.get(i).hasData(t):!1},getData(i,t){if(this.has(i))return this.get(i).getData(t)},setData(i,t,n){return this.has(i)?(this.get(i).setData(t,n),this):this}};var Vt=function(i){return i.displayWidth!==void 0?i.displayWidth:i.width},It=function(i){return i.displayHeight!==void 0?i.displayHeight:i.height};const Ex=Phaser.Geom.Rectangle,Cn=Phaser.Math.Vector2,iF=Phaser.Math.RotateAround;var v0=function(i,t){if(t===void 0?t=new Ex:t===!0&&(Dd===void 0&&(Dd=new Ex),t=Dd),i.getBounds)return i.getBounds(t);var n,x,C,M,h,y,e,f;if(i.parentContainer){var d=i.parentContainer.getBoundsTransformMatrix();Xv(i,t),d.transformPoint(t.x,t.y,t),n=t.x,x=t.y,Yv(i,t),d.transformPoint(t.x,t.y,t),C=t.x,M=t.y,Wv(i,t),d.transformPoint(t.x,t.y,t),h=t.x,y=t.y,Hv(i,t),d.transformPoint(t.x,t.y,t),e=t.x,f=t.y}else Xv(i,t),n=t.x,x=t.y,Yv(i,t),C=t.x,M=t.y,Wv(i,t),h=t.x,y=t.y,Hv(i,t),e=t.x,f=t.y;return t.x=Math.min(n,C,h,e),t.y=Math.min(x,M,y,f),t.width=Math.max(n,C,h,e)-t.x,t.height=Math.max(x,M,y,f)-t.y,t},Dd=void 0,Xv=function(i,t,n){return t===void 0?t=new Cn:t===!0&&(Pi===void 0&&(Pi=new Cn),t=Pi),i.getTopLeft?i.getTopLeft(t):(t.x=i.x-Vt(i)*i.originX,t.y=i.y-It(i)*i.originY,nf(i,t,n))},Yv=function(i,t,n){return t===void 0?t=new Cn:t===!0&&(Pi===void 0&&(Pi=new Cn),t=Pi),i.getTopRight?i.getTopRight(t):(t.x=i.x-Vt(i)*i.originX+Vt(i),t.y=i.y-It(i)*i.originY,nf(i,t,n))},Wv=function(i,t,n){return t===void 0?t=new Cn:t===!0&&(Pi===void 0&&(Pi=new Cn),t=Pi),i.getBottomLeft?i.getBottomLeft(t):(t.x=i.x-Vt(i)*i.originX,t.y=i.y-It(i)*i.originY+It(i),nf(i,t,n))},Hv=function(i,t,n){return t===void 0?t=new Cn:t===!0&&(Pi===void 0&&(Pi=new Cn),t=Pi),i.getBottomRight?i.getBottomRight(t):(t.x=i.x-Vt(i)*i.originX+Vt(i),t.y=i.y-It(i)*i.originY+It(i),nf(i,t,n))},Pi=void 0,nf=function(i,t,n){if(n===void 0&&(n=!1),i.rotation!==0&&iF(t,i.x,i.y,i.rotation),n&&i.parentContainer){var x=i.parentContainer.getBoundsTransformMatrix();x.transformPoint(t.x,t.y,t)}return t};const eo=Phaser.Utils.Objects.GetValue;var g2=function(i,t,n){var x,C,M,h,y;if(typeof n=="number"?x=n:(x=eo(n,"color"),C=eo(n,"lineWidth"),M=eo(n,"fillColor"),h=eo(n,"fillAlpha",1),y=eo(n,"padding",0)),Array.isArray(i))for(var e=0,f=i.length;e<f;e++)Px(i[e],t,x,C,M,h,y);else Px(i,t,x,C,M,h,y)},Px=function(i,t,n,x,C,M,h){var y=i.getBounds||i.width!==void 0&&i.height!==void 0;if(y){n===void 0&&(n=16777215),x===void 0&&(x=1),C===void 0&&(C=null),M===void 0&&(M=1),h===void 0&&(h=0);var e=Xv(i,Or[0]);e.x-=h,e.y-=h;var f=Yv(i,Or[1]);f.x+=h,f.y-=h;var d=Hv(i,Or[2]);d.x+=h,d.y+=h;var s=Wv(i,Or[3]);s.x-=h,s.y+=h,C!==null&&t.fillStyle(C,M).fillPoints(Or,!0,!0),n!==null&&t.lineStyle(x,n).strokePoints(Or,!0,!0)}},Or=[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],sF=function(i,t){return this.forEachGO(function(n){n.drawBounds?n.drawBounds(i,t):g2(n,i,t)}),this},m2={drawGameObjectsBounds:sF};Object.assign(m2,GL,QL,qL,_L,tF,eF);const nF=Phaser.Cameras.Scene2D.BaseCamera;var rF=function(i){return i instanceof nF};const x2=Phaser.Geom.Rectangle;var Va=function(i,t,n){return rF(t)||(n=t,t=void 0),n===void 0?n=new x2:n===!0&&(n=aF),t?i.scale.getViewPort(t,n):i.scale.getViewPort(n)},aF=new x2;const Di=Phaser.Utils.Objects.GetValue;class rf{constructor(t,n){this.scene=t,this.BobClass=Di(n,"BobClass",d0),this.setCreateGameObjectCallback(Di(n,"createGameObject"),Di(n,"createGameObjectScope")),this.setEventEmitter(Di(n,"eventEmitter",void 0));var x=Di(n,"fade",500);typeof x=="number"?(this.setGOFadeMode(),this.setGOFadeTime(x)):(this.setGOFadeMode(Di(x,"mode")),this.setGOFadeTime(Di(x,"time",500)));var C=Di(n,"viewportCoordinate",!1);C!==!1?(this.setViewportCoordinateEnable(Di(n,"enable",!0)),this.setViewport(Di(C,"viewport"))):this.setViewportCoordinateEnable(!1),this.setSymbols(Di(n,"symbols")),this.bobs={},this.removedGOs=[],this._timeScale=1}destroy(t){this.clear(!t),this.createGameObjectCallback=void 0,this.viewport=void 0,this.scene=void 0}set timeScale(t){if(this._timeScale!==t){this._timeScale=t;var n=this.bobs;for(var x in n)n[x].setTimeScale(t)}}get timeScale(){return this._timeScale}setTimeScale(t){return this.timeScale=t,this}setCreateGameObjectCallback(t,n){return this.createGameObjectCallback=t,this.createGameObjectScope=n,this}setViewportCoordinateEnable(t){return t===void 0&&(t=!0),this.viewportCoordinateEnable=t,this}setViewport(t){return t===void 0&&(t=Va(this.scene,this.scene.cameras.main)),this.viewport=t,this}setSymbols(t){return this.symbols=t,this}get isEmpty(){return c0(this.bobs)&&this.removedGOs.length===0}}Object.assign(rf.prototype,Na,m2);var As=function(i,t){if(i.length<=1)return i;t===void 0&&(t=!1);var n=i[0].scene,x=n.sys.displayList;return x.depthSort(),t?i.sort(function(C,M){return x.getIndex(M)-x.getIndex(C)}):i.sort(function(C,M){return x.getIndex(C)-x.getIndex(M)}),i};const oF=Phaser.Utils.Objects.GetValue;class hF extends rf{constructor(t,n){n===void 0?n={}:Array.isArray(n)&&(n={layers:n}),n.hasOwnProperty("fade")||(n.fade=0),n.viewportCoordinate=!1,super(t,n);var x=oF(n,"layers");if(x)for(var C=0,M=x.length;C<M;C++)this.add(x[C])}setCreateGameObjectCallback(t,n){return t||(t=lF),super.setCreateGameObjectCallback(t,n),this}addGO(t,n){return super.addGO(t,n),n.name=t,this}getLayer(t){return this.getGO(t)}getLayers(t){return t===void 0&&(t=[]),this.forEachGO(function(n){t.push(n)}),As(t,!1),t}addToLayer(t,n){var x=this.getGO(t);if(!x){console.warn(`Can't get layer "${t}"`);return}return n.isRexContainerLite?n.addToLayer(x):x.add(n),this}}var lF=function(i,t){var n=i.add.layer();return t!==void 0&&n.setDepth(t),n},uF=function(i){return ar(i)?i.sys.sound:i.sound},ph=function(i){return i==null||typeof i!="object"?null:ar(i)?i:i.scene&&ar(i.scene)?i.scene:i.parent&&i.parent.scene&&ar(i.parent.scene)?i.parent.scene:null};const fF=Phaser.Utils.Objects.GetValue;class me{constructor(t,n){this.setParent(t),this.isShutdown=!1,this.setEventEmitter(fF(n,"eventEmitter",!0)),this.parent&&(this.parent===this.scene?this.scene.sys.events.once("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.once("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.once("destroy",this.onParentDestroy,this))}shutdown(t){this.isShutdown||(this.parent&&(this.parent===this.scene?this.scene.sys.events.off("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.off("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.off("destroy",this.onParentDestroy,this)),this.destroyEventEmitter(),this.parent=void 0,this.scene=void 0,this.game=void 0,this.isShutdown=!0)}destroy(t){this.shutdown(t)}onEnvDestroy(){this.destroy(!0)}onParentDestroy(t,n){this.destroy(n)}setParent(t){return this.parent=t,this.scene=ph(t),this.game=wa(t),this}}Object.assign(me.prototype,Na);const dF=Phaser.Utils.Objects.GetValue;class af extends me{constructor(t,n){super(t,n),this._isRunning=!1,this.isPaused=!1,this.tickingState=!1,this.setTickingMode(dF(n,"tickingMode",1))}boot(){this.tickingMode===2&&!this.tickingState&&this.startTicking()}shutdown(t){this.isShutdown||(this.stop(),this.tickingState&&this.stopTicking(),super.shutdown(t))}setTickingMode(t){typeof t=="string"&&(t=cF[t]),this.tickingMode=t}startTicking(){this.tickingState=!0}stopTicking(){this.tickingState=!1}get isRunning(){return this._isRunning}set isRunning(t){this._isRunning!==t&&(this._isRunning=t,this.tickingMode===1&&t!=this.tickingState&&(t?this.startTicking():this.stopTicking()))}start(){return this.isPaused=!1,this.isRunning=!0,this}pause(){return this.isRunning&&(this.isPaused=!0,this.isRunning=!1),this}resume(){return this.isPaused&&(this.isRunning=!0),this}stop(){return this.isPaused=!1,this.isRunning=!1,this}complete(){this.isPaused=!1,this.isRunning=!1,this.emit("complete",this.parent,this)}}const cF={no:0,lazy:1,always:2},vF=Phaser.Utils.Objects.GetValue;class pF extends af{constructor(t,n){super(t,n);var x=this.scene?"update":"step";this.tickEventName=vF(n,"tickEventName",x),this.isSceneTicker=!gF(this.tickEventName)}startTicking(){super.startTicking(),this.isSceneTicker?this.scene.sys.events.on(this.tickEventName,this.update,this):this.game.events.on(this.tickEventName,this.update,this)}stopTicking(){super.stopTicking(),this.isSceneTicker&&this.scene?this.scene.sys.events.off(this.tickEventName,this.update,this):this.game&&this.game.events.off(this.tickEventName,this.update,this)}}var gF=function(i){return i==="step"||i==="poststep"};const xs=Phaser.Utils.Objects.GetValue,Rx=Phaser.Math.Clamp;let y2=class{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){this.state=xs(t,"state",io),this.timeScale=xs(t,"timeScale",1),this.delay=xs(t,"delay",0),this.repeat=xs(t,"repeat",0),this.repeatCounter=xs(t,"repeatCounter",0),this.repeatDelay=xs(t,"repeatDelay",0),this.duration=xs(t,"duration",0),this.nowTime=xs(t,"nowTime",0),this.justRestart=xs(t,"justRestart",!1)}toJSON(){return{state:this.state,timeScale:this.timeScale,delay:this.delay,repeat:this.repeat,repeatCounter:this.repeatCounter,repeatDelay:this.repeatDelay,duration:this.duration,nowTime:this.nowTime,justRestart:this.justRestart}}destroy(){}setTimeScale(t){return this.timeScale=t,this}setDelay(t){return t===void 0&&(t=0),this.delay=t,this}setDuration(t){return this.duration=t,this}setRepeat(t){return this.repeat=t,this}setRepeatInfinity(){return this.repeat=-1,this}setRepeatDelay(t){return this.repeatDelay=t,this}start(){return this.nowTime=this.delay>0?-this.delay:0,this.state=this.nowTime>=0?Lr:so,this.repeatCounter=0,this}stop(){return this.state=io,this}update(t,n){this.state===io||this.state===al||n===0||this.timeScale===0||(this.nowTime+=n*this.timeScale,this.justRestart=!1,this.nowTime>=this.duration?this.repeat===-1||this.repeatCounter<this.repeat?(this.repeatCounter++,this.justRestart=!0,this.nowTime-=this.duration,this.repeatDelay>0&&(this.nowTime-=this.repeatDelay,this.state=Ax)):(this.nowTime=this.duration,this.state=al):this.nowTime>=0&&(this.state=Lr))}get t(){var t;switch(this.state){case io:case so:case Ax:t=0;break;case Lr:t=this.nowTime/this.duration;break;case al:t=1;break}return Rx(t,0,1)}set t(t){t=Rx(t,-1,1),t<0?(this.state=so,this.nowTime=-this.delay*t):(this.state=Lr,this.nowTime=this.duration*t,t===1&&this.repeat!==0&&this.repeatCounter++)}setT(t){return this.t=t,this}get isIdle(){return this.state===io}get isDelay(){return this.state===so}get isCountDown(){return this.state===Lr}get isRunning(){return this.state===so||this.state===Lr}get isDone(){return this.state===al}get isOddIteration(){return(this.repeatCounter&1)===1}get isEvenIteration(){return(this.repeatCounter&1)===0}};const io=0,so=1,Lr=2,Ax=3,al=-1;class mF extends pF{constructor(t,n){super(t,n),this.timer=new y2}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}start(){return this.timer.start(),super.start(),this}stop(){return this.timer.stop(),super.stop(),this}complete(){return this.timer.stop(),super.complete(),this}}const no=Phaser.Utils.Objects.GetValue,wx=Phaser.Utils.Objects.GetAdvancedValue,xF=Phaser.Tweens.Builders.GetEaseFunction;class xr extends mF{resetFromJSON(t){return this.timer.resetFromJSON(no(t,"timer")),this.setEnable(no(t,"enable",!0)),this.setTarget(no(t,"target",this.parent)),this.setDelay(wx(t,"delay",0)),this.setDuration(wx(t,"duration",1e3)),this.setEase(no(t,"ease","Linear")),this.setRepeat(no(t,"repeat",0)),this}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setTarget(t){return t===void 0&&(t=this.parent),this.target=t,this}setDelay(t){return this.delay=t,this}setDuration(t){return this.duration=t,this}setRepeat(t){return this.repeat=t,this}setRepeatDelay(t){return this.repeatDelay=t,this}setEase(t){return t===void 0&&(t="Linear"),this.ease=t,this.easeFn=xF(t),this}start(){return this.timer.isRunning?this:(super.start(),this)}restart(){return this.timer.stop(),this.start.apply(this,arguments),this}stop(t){return t===void 0&&(t=!1),super.stop(),t&&(this.timer.setT(1),this.updateGameObject(this.target,this.timer),this.complete()),this}update(t,n){if(!this.isRunning||!this.enable||!this.parent.active)return this;var x=this.target,C=this.timer;return C.update(t,n),C.isDelay||this.updateGameObject(x,C),this.emit("update",x,this),C.isDone&&this.complete(),this}updateGameObject(t,n){}}const yF=Phaser.Sound.BaseSound;var p0=function(i){return i instanceof yF};const Ox=Phaser.Utils.Objects.GetValue,Lx=Phaser.Utils.Objects.GetAdvancedValue,TF=Phaser.Math.Linear;let T2=class extends xr{constructor(t,n,x){p0(t)&&(x=n,n=t,t=void 0),n.active=!0,n.scene=t,n.game=n.manager.game,super(n,x),this.volume={},this.resetFromJSON(x)}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(Ox(t,"mode",0)),this.setEnable(Ox(t,"enable",!0)),this.setVolumeRange(Lx(t,"volume.start",this.parent.volume),Lx(t,"volume.end",0)),this}setMode(t){return typeof t=="string"&&(t=CF[t]),this.mode=t,this}setVolumeRange(t,n){return this.volume.start=t,this.volume.end=n,this}start(){return this.timer.isRunning?this:(this.parent.setVolume(this.volume.start),this.timer.setDelay(this.delay).setDuration(this.duration),super.start(),this)}updateGameObject(t,n){t.volume=TF(this.volume.start,this.volume.end,n.t)}complete(){switch(super.complete(),this.mode){case 1:this.parent.stop();break;case 2:this.parent.destroy();break}return this}};const CF={stop:1,destroy:2};var of=function(i,t,n,x,C){p0(i)&&(C=x,x=n,n=t,t=i,i=void 0),x===void 0&&(x=1),C===void 0&&(C=0);var M={mode:0,volume:{start:C,end:x},duration:n};typeof t=="string"&&(t=i.sys.sound.add(t));var h;return t.hasOwnProperty("_fade")?(h=t._fade,h.stop().resetFromJSON(M)):(h=new T2(i,t,M),t._fade=h),h.start(),t.isPlaying||t.setVolume(C).play(),t},Fa=function(i,t,n,x){p0(i)&&(x=n,n=t,t=i,i=void 0),x===void 0&&(x=!0);var C={mode:x?2:1,volume:{start:t.volume,end:0},duration:n},M;return t.hasOwnProperty("_fade")?(M=t._fade,M.stop().resetFromJSON(C)):(M=new T2(i,t,C),t._fade=M),M.start(),t.isPlaying||t.play(),t};const ro=Phaser.Utils.Objects.GetValue,SF={setBackgroundMusicLoop(i){return i===void 0&&(i=!0),this.backgroundMusicLoop=i,this},setBackgroundMusicFadeTime(i){return this.backgroundMusicFadeTime=i,this},getBackgroundMusic(){return this.backgroundMusic},setCurrentBackgroundMusic(i){return this.backgroundMusic=i,i&&(i.once("complete",function(){this.backgroundMusic===i&&(this.backgroundMusic.destroy(),this.backgroundMusic=void 0)},this).once("destroy",function(){this.backgroundMusic===i&&(this.backgroundMusic=void 0)},this),i.isPlaying||i.play()),this},playBackgroundMusic(i,t){if(this.backgroundMusic&&this.backgroundMusic.key===i)return this;this.stopBackgroundMusic();var n=this.sound.add(i,{loop:ro(t,"loop",this.backgroundMusicLoop),mute:ro(t,"mute",this.backgroundMusicMute),volume:ro(t,"volume",this.backgroundMusicVolume),detune:ro(t,"detune",0),rate:ro(t,"rate",1)});return this.setCurrentBackgroundMusic(n),this.backgroundMusicFadeTime>0&&this.fadeInBackgroundMusic(this.backgroundMusicFadeTime),this},pauseBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.pause(),this},resumeBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.resume(),this},stopBackgroundMusic(){return this.backgroundMusic&&(this.backgroundMusicFadeTime>0?this.fadeOutBackgroundMusic(this.backgroundMusicFadeTime,!0):(this.backgroundMusic.stop(),this.backgroundMusic.destroy(),this.backgroundMusic=void 0)),this},fadeInBackgroundMusic(i){return this.backgroundMusic&&of(this.backgroundMusic,i,this.backgroundMusicVolume,0),this},fadeOutBackgroundMusic(i,t){return this.backgroundMusic&&Fa(this.backgroundMusic,i,t),this},crossFadeBackgroundMusic(i,t){var n=this.backgroundMusicFadeTime;return this.backgroundMusicFadeTime=0,this.fadeOutBackgroundMusic(t,!0).playBackgroundMusic(i).fadeInBackgroundMusic(t),this.backgroundMusicFadeTime=n,this},setBackgroundMusicMute(i){return i===void 0&&(i=!0),this.backgroundMusicMute=i,this},setBackgroundMusicVolume(i){return this.backgroundMusicVolume=i,this},setBackgroundMusicRate(i){return this.backgroundMusic&&this.backgroundMusic.setRate(i),this},setBackgroundMusicDetune(i){return this.backgroundMusic&&this.backgroundMusic.setDetune(i),this}},ao=Phaser.Utils.Objects.GetValue,MF={setBackgroundMusic2Loop(i){return i===void 0&&(i=!0),this.backgroundMusic2Loop=i,this},setBackgroundMusic2FadeTime(i){return this.backgroundMusic2FadeTime=i,this},getBackgroundMusic2(){return this.backgroundMusic2},setCurrentBackgroundMusic2(i){return this.backgroundMusic2=i,i&&(i.once("complete",function(){this.backgroundMusic2===i&&(this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)},this).once("destroy",function(){this.backgroundMusic2===i&&(this.backgroundMusic2=void 0)},this),i.isPlaying||i.play()),this},playBackgroundMusic2(i,t){if(this.backgroundMusic2&&this.backgroundMusic2.key===i)return this;this.stopBackgroundMusic2();var n=this.sound.add(i,{loop:ao(t,"loop",this.backgroundMusicLoop),mute:ao(t,"mute",this.backgroundMusic2Mute),volume:ao(t,"volume",this.backgroundMusic2Volume),detune:ao(t,"detune",0),rate:ao(t,"rate",1)});return this.setCurrentBackgroundMusic2(n),this.backgroundMusic2FadeTime>0&&this.fadeInBackgroundMusic2(this.backgroundMusic2FadeTime),this},pauseBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.pause(),this},resumeBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.resume(),this},stopBackgroundMusic2(){return this.backgroundMusic2&&(this.backgroundMusic2FadeTime>0?this.fadeOutBackgroundMusic2(this.backgroundMusic2FadeTime,!0):(this.backgroundMusic2.stop(),this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)),this},fadeInBackgroundMusic2(i){return this.backgroundMusic2&&of(this.backgroundMusic2,i,this.backgroundMusic2Volume,0),this},fadeOutBackgroundMusic2(i,t){return this.backgroundMusic2&&Fa(this.backgroundMusic2,i,t),this},crossFadeBackgroundMusic2(i,t){var n=this.backgroundMusic2FadeTime;return this.backgroundMusic2FadeTime=0,this.fadeOutBackgroundMusic2(t,!0).playBackgroundMusic2(i).fadeInBackgroundMusic2(t),this.backgroundMusic2FadeTime=n,this},setBackgroundMusic2Mute(i){return i===void 0&&(i=!0),this.backgroundMusic2Mute=i,this},setBackgroundMusic2Volume(i){return this.backgroundMusic2Volume=i,this},setBackgroundMusic2Rate(i){return this.backgroundMusic2&&this.backgroundMusic2.setRate(i),this},setBackgroundMusic2Detune(i){return this.backgroundMusic2&&this.backgroundMusic2.setDetune(i),this}},Fx=Phaser.Utils.Array.Remove,ol=Phaser.Utils.Objects.GetValue,EF={getSoundEffects(){return this.soundEffects},getLastSoundEffect(){return this.soundEffects[this.soundEffects.length-1]},playSoundEffect(i,t){var n=this.sound.add(i,{mute:ol(t,"mute",this.soundEffectsMute),volume:ol(t,"volume",this.soundEffectsVolume),detune:ol(t,"detune",0),rate:ol(t,"rate",1)});return this.soundEffects.push(n),n.once("complete",function(){n.destroy(),this.sound&&Fx(this.soundEffects,n)},this).once("destroy",function(){this.sound&&Fx(this.soundEffects,n)},this).play(),this},stopAllSoundEffects(){for(var i=this.soundEffects.length-1;i>=0;i--){var t=this.soundEffects[i];t.stop(),t.destroy()}return this},fadeInSoundEffect(i){var t=this.getLastSoundEffect();return t&&of(t,i,this.soundEffectsVolume,0),this},fadeOutSoundEffect(i,t){var n=this.getLastSoundEffect();return n&&Fa(n,i,t),this},fadeOutAllSoundEffects(i,t){for(var n=this.soundEffects.length-1;n>=0;n--)Fa(this.soundEffects[n],i,t);return this},setSoundEffectMute(i,t){if(i===void 0&&(i=!0),t===void 0&&(t=!1),t){var n=this.getLastSoundEffect();n&&n.setMute(i)}else this.soundEffectsMute=i;return this},setSoundEffectVolume(i,t){if(t===void 0&&(t=!1),t){var n=this.getLastSoundEffect();n&&n.setVolume(i)}else this.soundEffectsVolume=i;return this},setSoundEffectDetune(i,t){t===void 0&&(t=!1);var n;t?n=[this.getLastSoundEffect()]:n=this.soundEffects;for(var x=0,C=n.length;x<C;x++)n[x].setDetune(i);return this},setSoundEffectRate(i,t){t===void 0&&(t=!1);var n;t?n=[this.getLastSoundEffect()]:n=this.soundEffects;for(var x=0,C=n.length;x<C;x++)n[x].setRate(i);return this}},Ix=Phaser.Utils.Array.Remove,hl=Phaser.Utils.Objects.GetValue,PF={getSoundEffects2(){return this.soundEffects2},getLastSoundEffect2(){return this.soundEffects2[this.soundEffects2.length-1]},playSoundEffect2(i,t){var n=this.sound.add(i,{mute:hl(t,"mute",this.soundEffects2Mute),volume:hl(t,"volume",this.soundEffects2Volume),detune:hl(t,"detune",0),rate:hl(t,"rate",1)});return this.soundEffects2.push(n),n.once("complete",function(){n.destroy(),this.sound&&Ix(this.soundEffects2,n)},this).once("destroy",function(){this.sound&&Ix(this.soundEffects2,n)},this).play(),this},stopAllSoundEffects2(){for(var i=this.soundEffects.length-1;i>=0;i--){var t=this.soundEffects[i];t.stop(),t.destroy()}return this},fadeInSoundEffect2(i){var t=this.getLastSoundEffect2();return t&&of(t,i,this.soundEffects2Volume,0),this},fadeOutSoundEffect2(i,t){var n=this.getLastSoundEffect2();return n&&Fa(n,i,t),this},fadeOutAllSoundEffects2(i,t){for(var n=this.soundEffects2.length-1;n>=0;n--)Fa(this.soundEffects2[n],i,t);return this},setSoundEffect2Mute(i,t){if(i===void 0&&(i=!0),t===void 0&&(t=!1),t){var n=this.getLastSoundEffect2();n&&n.setMute(i)}else this.soundEffects2Mute=i;return this},setSoundEffect2Volume(i,t){if(t===void 0&&(t=!1),t){var n=this.getLastSoundEffect2();n&&n.setVolume(i)}else this.soundEffects2Volume=i;return this},setSoundEffect2Detune(i,t){t===void 0&&(t=!1);var n;t?n=[this.getLastSoundEffect2()]:n=this.soundEffects2;for(var x=0,C=n.length;x<C;x++)n[x].setDetune(i);return this},setSoundEffect2Rate(i,t){t===void 0&&(t=!1);var n;t?n=[this.getLastSoundEffect2()]:n=this.soundEffects2;for(var x=0,C=n.length;x<C;x++)n[x].setRate(i);return this}};var C2={};Object.assign(C2,SF,MF,EF,PF);const vi=Phaser.Utils.Objects.GetValue;class S2{constructor(t,n){this.sound=uF(t),this.backgroundMusic=void 0,this._backgroundMusicVolume=vi(n,"bgm.volume",1),this._backgroundMusicMute=vi(n,"bgm.mute",!1),this.setBackgroundMusicLoop(vi(n,"bgm.loop",!0)),this.setBackgroundMusicFadeTime(vi(n,"bgm.fade",500)),this.backgroundMusic2=void 0,this._backgroundMusic2Volume=vi(n,"bgm2.volume",1),this._backgroundMusic2Mute=vi(n,"bgm2.mute",!1),this.setBackgroundMusic2Loop(vi(n,"bgm2.loop",!0)),this.setBackgroundMusic2FadeTime(vi(n,"bgm2.fade",500)),this.soundEffects=[],this._soundEffectsVolume=vi(n,"soundEffect.volume",1),this.soundEffects2=[],this._soundEffects2Volume=vi(n,"soundEffect2.volume",1);var x=vi(n,"bgm.initial",void 0);x&&this.setCurrentBackgroundMusic(x);var C=vi(n,"bgm2.initial",void 0);C&&this.setCurrentBackgroundMusic2(C)}destroy(){if(this.backgroundMusic&&this.backgroundMusic.destroy(),this.backgroundMusic=void 0,this.backgroundMusic2&&this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0,this.soundEffects.length)for(var t=this.soundEffects.length-1;t>=0;t--)this.soundEffects[t].destroy();if(this.soundEffects.length=0,this.soundEffects2.length)for(var t=this.soundEffects2.length-1;t>=0;t--)this.soundEffects2[t].destroy();return this.soundEffects2.length=0,this.sound=void 0,this}get backgroundMusicMute(){return this._backgroundMusicMute}set backgroundMusicMute(t){this._backgroundMusicMute=t,this.backgroundMusic&&this.backgroundMusic.setMute(mute)}get backgroundMusicVolume(){return this._backgroundMusicVolume}set backgroundMusicVolume(t){this._backgroundMusicVolume=t,this.backgroundMusic&&this.backgroundMusic.setVolume(t)}get backgroundMusic2Mute(){return this._backgroundMusic2Mute}set backgroundMusic2Mute(t){this._backgroundMusic2Mute=t,this.backgroundMusic2&&this.backgroundMusic2.setMute(mute)}get backgroundMusic2Volume(){return this._backgroundMusic2Volume}set backgroundMusic2Volume(t){this._backgroundMusic2Volume=t,this.backgroundMusic2&&this.backgroundMusic2.setVolume(t)}get soundEffectsMute(){return this._soundEffectsMute}set soundEffectsMute(t){this._soundEffectsMute=t;for(var n=this.soundEffects,x=0,C=n.length;x<C;x++)n[x].setMute(t)}get soundEffectsVolume(){return this._soundEffectsVolume}set soundEffectsVolume(t){this._soundEffectsVolume=t;for(var n=this.soundEffects,x=0,C=n.length;x<C;x++)n[x].setVolume(t)}get soundEffects2Mute(){return this._soundEffects2Mute}set soundEffects2Mute(t){this._soundEffects2Mute=t;for(var n=this.soundEffects,x=0,C=soundEffects2.length;x<C;x++)n[x].setMute(t)}get soundEffects2Volume(){return this._soundEffects2Volume}set soundEffects2Volume(t){this._soundEffects2Volume=t;for(var n=this.soundEffects2,x=0,C=n.length;x<C;x++)n[x].setVolume(t)}}Object.assign(S2.prototype,C2);const Bd=Phaser.Utils.Objects.GetValue;class RF extends af{constructor(t,n){super(t,n),this.resetFromJSON(n),this.boot()}resetFromJSON(t){return this.isRunning=Bd(t,"isRunning",!1),this.timeScale=Bd(t,"timeScale",1),this.now=Bd(t,"now",0),this}toJSON(){return{isRunning:this.isRunning,timeScale:this.timeScale,now:this.now,tickingMode:this.tickingMode}}start(t){return t===void 0&&(t=0),this.delta=0,this.now=t,super.start(),this}seek(t){return this.now=t,this}setTimeScale(t){return this.timeScale=t,this}tick(t){return t*=this.timeScale,this.now+=t,this.delta=t,this.emit("update",this.now,this.delta),this}}class M2 extends RF{startTicking(){super.startTicking(),this.scene.sys.events.on("update",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&this.scene.sys.events.off("update",this.update,this)}update(t,n){return!this.isRunning||this.timeScale===0?this:(this.tick(n),this)}}var cr=function(i,t){return t===void 0&&(t=.5),i<=t?i=i/t:i=1-(i-t)/(1-t),i};const Dx=Phaser.Math.Clamp;class AF{constructor(t,n){this.setTimeline(t).reset(n)}setTimeline(t){return this.timeline=t,this}setName(t){return this.name=t,this}setCallbacks(t,n,x,C){return this.target=t,this.onStart=n,this.onProgress=x,this.onComplete=C,this}setDuration(t,n){return n===void 0&&(n=!1),this.duration=t,this.remainder=t,this.t=0,this.yoyo=n,this}setPaused(t){return this.isPaused=t,this}pause(){return this.isPaused=!0,this}resume(){return this.isPaused=!1,this}setRemoved(t){return this.removed=t,this}remove(){return this.removed=!0,this}seek(t){return this.remainder=this.duration*(1-t),this}reset(t){return this.setName(t.name).setDuration(t.duration,t.yoyo).setCallbacks(t.target,t.onStart,t.onProgress,t.onComplete).setPaused(!1).setRemoved(!1),this}onFree(){this.setTimeline().setCallbacks()}getProgress(){var t=1-this.remainder/this.duration;return t=Dx(t,0,1),this.yoyo&&(t=cr(t)),t}setProgress(t){t=Dx(t,0,1),this.remainder=this.duration*(1-t)}runCallback(t){t&&t(this.target,this.t,this)}update(t,n){if(this.removed)return!0;if(this.isPaused)return!1;this.remainder-=n,this.t=this.getProgress(),this.runCallback(this.onProgress);var x=this.remainder<=0;return x&&this.runCallback(this.onComplete),x}}let wF=class extends fs{allocate(){return this.pop()}free(t){t.onFree(),this.push(t)}freeMultiple(t){for(var n=0,x=t.length;n<x;n++)this.free(t[n]);return this}};const OF=Phaser.Utils.Objects.GetValue,LF=new wF;class FF extends M2{constructor(t,n){super(t,n),this.addedTimers=[],this.timers=[],this.timerPool=OF(n,"pool",LF)}shutdown(){this.isShutdown||(this.timerPool.freeMultiple(this.addedTimers).freeMultiple(this.timers),this.timerPool=void 0,this.addedTimers=void 0,this.timers=void 0,super.shutdown())}addTimer(t){var n=this.timerPool.allocate();return n?n.setTimeline(this).reset(t):n=new AF(this,t),this.addedTimers.push(n),n.runCallback(n.onStart),this.isRunning||this.start(),n}delayCall(t,n,x,C){var M=this.addTimer({duration:t,onComplete:function(h,y,e){x===void 0&&(x=[]),x.push(e),n.apply(C,x)}});return M}delayEvent(t,n){this.removeDelayEvent(n);var x=this.delayCall(t,function(){this.removeDelayEvent(n),this.emit(n)},[],this);return this.once(`_remove.${n}`,function(){x.remove(),x=void 0}),this}removeDelayEvent(t){return this.emit(`_remove.${t}`),this}getTimers(t){for(var n=[],x=[this.addedTimers,this.timers],C=0,M=x.length;C<M;C++)for(var h=x[C],y=0,e=h.length;y<e;y++){var f=h[y];f.name===t&&n.push(f)}return n}update(t,n){if(super.update(t,n),!!this.isRunning){this.timers.push(...this.addedTimers),this.addedTimers.length=0;for(var x=[],C=0,M=this.timers.length;C<M;C++){var h=this.timers[C],y=h.update(this.now,this.delta);y?this.timerPool.free(h):x.push(h)}this.timers=x,this.timers.length===0&&this.addedTimers.length===0&&this.complete()}}}const IF="_wait.complete",wu="_remove.wait",DF={waitTime(i){var t=this.parent.timeline;return t.delayEvent(i,"delay"),this.parent.once(wu,function(){t.removeDelayEvent("delay")}),this.waitEvent(t,"delay")}};var BF=function(i,t){var n=`(?<!\\\\)\\${t}`,x=`\\${t}`;return i.split(new RegExp(n,"g")).map(function(C){return C.replace(x,t)})};const bF={setClickTarget(i){this.clickTarget=i,i?ar(i)?this.clickEE=i.input:this.clickEE=i.setInteractive():this.clickEE=null},waitClick(){return this.clickEE?this.waitEvent(this.clickEE,"pointerdown"):this.waitTime(0)},waitKeyDown(i){var t=this.scene.input.keyboard;if(typeof i=="string"){if(i.indexOf("|")===-1)return this.waitEvent(t,`keydown-${i.toUpperCase()}`);for(var n=BF(i,"|"),x=0,C=n.length;x<C;x++)this.waitEvent(t,`keydown-${i.toUpperCase()}`);return this.parent}else return this.waitEvent(t,"keydown")}},GF={waitGameObjectTweenComplete(i,t,n){var x=this.parent.getGameObjectTweenTask(i,t,n);return x?this.waitEvent(x,"complete"):this.waitTime(0)},waitGameObjectDataFlag(i,t,n,x){var C=this.parent.getGameObject(i,t);if(!C)return this.waitTime(0);if(C.getData(n)===x)return this.waitTime(0);var M=`changedata-${n}`,h=function(y,e,f){e=!!e,e===x&&y.emit("_dataFlagMatch")};return C.on(M,h),this.parent.once(wu,function(){C.off(M,h)}),this.waitEvent(C,"_dataFlagMatch")},waitGameObjectDestroy(i,t){var n=this.parent.getGameObject(i,t);return n?this.waitEvent(n,"destroy"):this.waitTime(0)},waitGameObjectManagerEmpty(i){if(i){var t=this.parent.getGameObjectManager(i);return t?this.waitEvent(t,"empty"):this.waitTime(0)}else{var n=this.parent.gameObjectManagers,x=!1;for(var C in n)x=!0,this.waitEvent(n[C],"empty");return x?this.parent:this.waitTime(0)}}},NF={setCameraTarget(i){return this.cameraTarget=i,this},waitCameraEffectComplete(i){var t=this.cameraTarget;if(!t)return this.waitTime(0);var n,x;switch(i){case"camera.fadein":n=t.fadeEffect,x="camerafadeincomplete";break;case"camera.fadeout":n=t.fadeEffect,x="camerafadeoutcomplete";break;case"camera.flash":n=t.flashEffect,x="cameraflashcomplete";break;case"camera.shake":n=t.shakeEffect,x="camerashakecomplete";break;case"camera.zoom":n=t.zoomEffect,x="camerazoomcomplete";break;case"camera.rotate":n=t.rotateToEffect,x="camerarotatecomplete";break;case"camera.scroll":n=t.panEffect,x="camerapancomplete";break}return n.isRunning?this.waitEvent(t,x):this.waitTime(0)}},VF={waitSoundEffectComplete(){if(!this.parent.soundManager)return this.waitTime(0);var i=this.parent.soundManager.getLastSoundEffect();return i?this.waitEvent(i,"complete"):this.waitTime(0)},waitSoundEffect2Complete(){if(!this.parent.soundManager)return this.waitTime(0);var i=this.parent.soundManager.getLastSoundEffect2();return i?this.waitEvent(i,"complete"):this.waitTime(0)},waitBackgroundMusicComplete(){if(!this.parent.soundManager)return this.waitTime(0);var i=this.parent.soundManager.getBackgroundMusic();return i?this.waitEvent(i,"complete"):this.waitTime(0)},waitBackgroundMusic2Complete(){if(!this.parent.soundManager)return this.waitTime(0);var i=this.parent.soundManager.getBackgroundMusic2();return i?this.waitEvent(i,"complete"):this.waitTime(0)}};var zF=function(i){if(!i)return this.waitTime(0);var t=!1;for(var n in i)switch(n){case"time":t=!0,this.waitTime(i.time);break;case"click":t=!0,this.waitClick(i.key);break;case"key":t=!0,this.waitKeyDown(i.key);break;case"bgm":t=!0,this.waitBackgroundMusicComplete();break;case"bgm2":t=!0,this.waitBackgroundMusic2Complete();break;case"se":t=!0,this.waitSoundEffectComplete();break;case"se2":t=!0,this.waitSoundEffect2Complete();break;case"camera":t=!0,this.waitCameraEffectComplete(`camera.${i.camera.toLowerCase()}`);break;default:var x=n.split(".");if(x.length===2){var C=x[0],M=x[1],h=this.parent.getGameObjectManager(void 0,C);if(!h)continue;if(M==="destroy")return this.waitGameObjectDestroy(void 0,C);var y=h.getProperty(C,M);if(typeof y=="number"){t=!0,this.waitGameObjectTweenComplete(void 0,C,M);continue}var e=M,f=e.startsWith("!");f&&(e=e.substring(1)),h.hasData(C,M)&&(t=!0,this.waitGameObjectDataFlag(void 0,C,e,!f))}break}return t||this.waitTime(0),this.parent},kF=function(i,t,n,x,C){var M=ph(i),h=M.time.delayedCall(t,function(){M.sys.events.once("preupdate",function(){n.call(x,C)})});return h};class E2{constructor(t,n){this.parent=t,this.waitCompleteEventName=Nt(n,"completeEventName",IF),this.setClickTarget(Nt(n,"clickTarget",this.scene)),this.setCameraTarget(Nt(n,"camera",this.scene.cameras.main)),this.waitId=0}get clickTarget(){return this.parent.clickTarget}set clickTarget(t){this.parent.clickTarget=t}get cameraTarget(){return this.parent.cameraTarget}set cameraTarget(t){this.parent.cameraTarget=t}destroy(){this.removeWaitEvents(),this.clearWaitCompleteCallbacks(),this.setClickTarget(),this.setCameraTarget()}get scene(){return this.parent.managersScene}waitEvent(t,n,x){var C=this.getWaitCompleteTriggerCallback(x);return t.once(n,C,this),this.parent.once(wu,function(){t.off(n,C,this)}),this.parent}getWaitCompleteTriggerCallback(t){t===void 0&&(t=!0);var n=this.waitId,x=this,C=function(){n<x.waitId||(x.waitId++,x.removeWaitEvents(),x.parent.emit(x.waitCompleteEventName))};if(t){var M=function(){kF(x.parent,0,C)};return M}else return C}removeWaitEvents(){return this.parent.emit(wu),this}addWaitCompleteCallback(t,n){return this.parent.on(this.waitCompleteEventName,t,n),this}clearWaitCompleteCallbacks(){return this.parent.off(this.waitCompleteEventName),this}}var UF={waitAny:zF};Object.assign(E2.prototype,DF,bF,GF,NF,VF,UF);const Bx=Phaser.Utils.Objects.GetValue;var XF=function(i,t){this.clickTarget=void 0,this.cameraTarget=void 0,this.managersScene=i,this.gameObjectManagers={};var n=Bx(t,"layers",!1);n!==!1&&(this.gameObjectManagers.layer=new hF(i,n));var x=Bx(t,"sounds");return x!==!1&&(this.soundManager=new S2(i,x)),this.timeline=new FF(this),this.waitEventManager=new E2(this,t),this},YF=function(i){this.timeline.timeScale=i;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].setTimeScale(i);return this},WF=function(){return this.timeline.timeScale},HF=function(i){this.waitEventManager.destroy(),this.waitEventManager=void 0;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].destroy(i),delete this.gameObjectManagers[t];this.soundManager&&(this.soundManager.destroy(),this.soundManager=void 0),this.timeline&&(this.timeline.destroy(),this.timeline=void 0),this.clickTarget=void 0,this.cameraTarget=void 0,this.managersScene=void 0};const P2={addGameObjectManager(i,t){i===void 0&&(i={}),t===void 0&&(t=rf),i.createGameObjectScope||(i.createGameObjectScope=this);var n=new t(this.managersScene,i);return this.gameObjectManagers[i.name]=n,this},getGameObjectManager(i,t){if(i){var n=this.gameObjectManagers[i];return n}else for(var i in this.gameObjectManagers){var n=this.gameObjectManagers[i];if(n.has(t))return n}},getGameObjectManagerNames(){var i=[];for(var t in this.gameObjectManagers)i.push(t);return i},getGameObjectManagerName(i){for(var t in this.gameObjectManagers)if(this.gameObjectManagers[t].has(i))return t},hasGameObjectMananger(i){return i in this.gameObjectManagers}},$F={createGameObject(i,t,...n){return this.getGameObjectManager(i,t).add(t,...n),this},destroyGameObject(i,t){var n=this.getGameObjectManager(i,t);return t===void 0?n.removeAll():n.remove(t),this},hasGameObject(i,t){return!!this.getGameObjectManager(i,t)},callGameObjectMethod(i,t,n,...x){return this.getGameObjectManager(i,t).call(t,n,...x),this},setGameObjectProperty(i,t,n,x){return this.getGameObjectManager(i,t).setProperty(t,n,x),this},easeGameObjectProperty(i,t,n,x,C,M,h,y){return this.getGameObjectManager(i,t).easeProperty(t,n,x,C,M,h,y),this},getGameObjectTweenTask(i,t,n){return this.getGameObjectManager(i,t).getTweenTask(t,n)},getGameObject(i,t,n){var x=this.getGameObjectManager(i,t);if(typeof t=="string")return x.getGO(t);var C=t;C===void 0&&(C=x.bobs),n===void 0&&(n={});for(t in C)n[t]=x.getGO(t);return n},addGameObject(i,t,n){var x=this.getGameObjectManager(i,t);if(typeof t=="string")x.addGO(t,n);else{var C=t;for(t in C)x.addGO(t,C[t])}return this},drawGameObjectsBounds(i,t,n){i instanceof Phaser.GameObjects.Graphics&&(n=t,t=i,i=void 0),i===void 0&&(i=this.getGameObjectManagerNames()),Array.isArray(i)||(i=[i]);for(var x=0,C=i.length;x<C;x++)this.getGameObjectManager(i[x]).drawGameObjectsBounds(t,n);return this}};var KF=function(i){class t extends i{}var n={initManagers:XF,setTimeScale:YF,getTimeScale:WF,destroyManagers:HF};return Object.assign(t.prototype,n,P2,$F),t},jF=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,ZF=/^0x[0-9A-F]+$/i,g0=function(i){return typeof i!="string"||(i===""?i=null:jF.test(i)?i=parseFloat(i):ZF.test(i)?i=parseInt(i,16):i==="false"?i=!1:i==="true"&&(i=!0)),i};let R2=class{constructor(t){this.setEventEmitter(Nt(t,"eventEmitter",void 0)),this.setValueConverter(Nt(t,"valueConvert",!0)),this.setLoopEnable(Nt(t,"loop",!1)),this.setMultipleLinesTagEnable(Nt(t,"multipleLinesTag",!1));var n=Nt(t,"delimiters","<>");this.setDelimiters(n[0],n[1]),this.setTranslateTagNameCallback(Nt(t,"translateTagNameCallback")),this.isRunning=!1,this.isPaused=!1,this.skipEventFlag=!1,this.justCompleted=!1,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}setMultipleLinesTagEnable(t){return t===void 0&&(t=!0),this.multipleLinesTagEnable=t,this}setDelimiters(t,n){n===void 0&&(n=t[1],t=t[0]),this.delimiterLeft=t,this.delimiterRight=n,t=Oa(this.delimiterLeft),n=Oa(this.delimiterRight);var x=this.multipleLinesTagEnable?"gs":"gi";return this.reSplit=RegExp(`${t}(.+?)${n}`,x),this}setTranslateTagNameCallback(t){return this.translateTagNameCallback=t,this}setValueConverter(t){return t===!0?t=g0:t||(t=JF),this.valueConverter=t,this}setLoopEnable(t){return t===void 0&&(t=!0),this.loopEnable=t,this}setSource(t){return this.source=t,this}resetIndex(t){return t===void 0&&(t=0),this.progressIndex=t,this.reSplit.lastIndex=t,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null,this.justCompleted=!1,this.isRunning=!1,this}start(t){return this.setSource(t).restart(),this}restart(){this.resetIndex().next()}next(){if(this.isPaused&&this.onResume(),this.isRunning)return this;if(this.isRunning=!0,this.justCompleted)return this.isRunning=!1,this;this.reSplit.lastIndex===0&&this.onStart();var t=this.source,n=t.length;for(this.reSplit.lastIndex=this.progressIndex;;){var x=this.reSplit.exec(t);if(!x){if(this.progressIndex<n&&(this.onContent(t.substring(this.progressIndex,n)),this.isPaused)){this.progressIndex=n;break}this.onComplete(),this.isRunning=!1;return}var C=this.reSplit.lastIndex,M=C-x[0].length;if(this.progressIndex<M&&(this.onContent(t.substring(this.progressIndex,M)),this.isPaused)){this.progressIndex=M;break}if(this.onTag(x[1]),this.progressIndex=C,this.isPaused)break}return this.isRunning=!1,this}skipEvent(){return this.skipEventFlag=!0,this}pause(){return this.isPaused||this.onPause(),this}pauseUntilEvent(t,n){return this.isPaused?this:(this.pause(),t.once(n,function(){this.next()},this),this)}onContent(t){this.skipEventFlag=!1,this.emit("content",t),this.lastContent=t}onTag(t){}onStart(){this.isRunning=!0,this.emit("start",this)}onComplete(){this.isRunning=!1,this.justCompleted=!0,this.emit("complete",this),this.loopEnable&&this.resetIndex()}onPause(){this.isPaused=!0,this.emit("pause",this)}onResume(){this.isPaused=!1,this.emit("resume",this)}};const JF=function(i){return i};Object.assign(R2.prototype,Na);var QF=function(i,t){if(i==null)return[];t===void 0&&(t=g0);for(var n=i.split(","),x=0,C=n.length;x<C;x++)n[x]=t(n[x]);return n};class qF extends R2{constructor(t){t===void 0&&(t={}),t.hasOwnProperty("multipleLinesTag")||(t.multipleLinesTag=!1),super(t),this.setTagExpression(Nt(t,"regex.tag",void 0)),this.setValueExpression(Nt(t,"regex.value",void 0));var n=Nt(t,"delimiters","<>");this.setDelimiters(n[0],n[1])}setTagExpression(t){return t||(t=ll),this.tagExpression=t,this}setValueExpression(t){return t||(t=ll),this.valueExpression=t,this}setDelimiters(t,n){super.setDelimiters(t,n);var x=`(${this.tagExpression})(=(${this.valueExpression}))?`;if(this.reTag=RegExp(x,"i"),this.tagExpression!==ll||this.valueExpression!==ll){var C=`${this.tagExpression}(=${this.valueExpression})?`,M=`/${this.tagExpression}`;t=Oa(this.delimiterLeft),n=Oa(this.delimiterRight);var h=this.multipleLinesTagEnable?"gs":"gi";this.reSplit=RegExp(`${t}((${C})|(${M}))${n}`,h)}return this}onTag(t){var n=t.match(this.reTag),x=n[1],C=x.charAt(0)==="/";if(C&&(x=x.substring(1,x.length)),this.translateTagNameCallback&&(x=this.translateTagNameCallback(x)),this.skipEventFlag=!1,C)this.emit(`-${x}`),this.skipEventFlag||this.emit("-",x),this.lastTagEnd=x;else{var M=QF(n[3],this.valueConverter);this.emit(`+${x}`,...M),this.skipEventFlag||this.emit("+",x,...M),this.lastTagStart=x}}}const ll="[^=]+";var _F=function(i,t,n){var x="color",C;t.on("start",function(){C=i.textStyle.color}).on(`+${x}`,function(M){i.textStyle.setColor(M),t.skipEvent()}).on(`-${x}`,function(){i.textStyle.setColor(C),t.skipEvent()}).on("complete",function(){i.textStyle.setColor(C)})},t5=function(i,t,n){var x="stroke",C;t.on("start",function(){C=i.textStyle.stroke,i.textStyle.setStrokeStyle(null)}).on(`+${x}`,function(M){M===void 0&&(M=C),i.textStyle.setStrokeStyle(M),t.skipEvent()}).on(`-${x}`,function(){i.textStyle.setStrokeStyle(null),t.skipEvent()}).on("complete",function(){i.textStyle.setStrokeStyle(C)})},e5=function(i,t,n){var x="b";t.on("start",function(){i.textStyle.setBold(!1)}).on(`+${x}`,function(){i.textStyle.setBold(!0),t.skipEvent()}).on(`-${x}`,function(){i.textStyle.setBold(!1),t.skipEvent()})},i5=function(i,t,n){var x="i";t.on("start",function(){i.textStyle.setItalic(!1)}).on(`+${x}`,function(){i.textStyle.setItalic(!0),t.skipEvent()}).on(`-${x}`,function(){i.textStyle.setItalic(!1),t.skipEvent()})},s5=function(i,t,n){var x="size",C;t.on("start",function(){C=i.textStyle.fontSize}).on(`+${x}`,function(M){i.textStyle.setFontSize(M),t.skipEvent()}).on(`-${x}`,function(){i.textStyle.setFontSize(C),t.skipEvent()}).on("complete",function(){i.textStyle.setFontSize(C)})},n5=function(i,t,n){var x="y",C;t.on("start",function(){C=i.textStyle.offsetY,i.textStyle.setOffsetY(0)}).on(`+${x}`,function(M){M===void 0&&(M=C),i.textStyle.setOffsetY(M),t.skipEvent()}).on(`-${x}`,function(){i.textStyle.setOffsetY(0),t.skipEvent()}).on("complete",function(){i.textStyle.setOffsetY(0)})},r5=function(i,t,n){var x="x",C;t.on("start",function(){C=i.textStyle.offsetY,i.textStyle.setOffsetX(0)}).on(`+${x}`,function(M){M===void 0&&(M=C),i.textStyle.setOffsetX(M),t.skipEvent()}).on(`-${x}`,function(){i.textStyle.setOffsetX(0),t.skipEvent()}).on("complete",function(){i.textStyle.setOffsetX(0)})},a5=function(i,t,n){var x="left",C;t.on("start",function(){C=i.textStyle.leftSpace,i.textStyle.setLeftSpace(0)}).on(`+${x}`,function(M){M===void 0&&(M=C),i.textStyle.setLeftSpace(M),t.skipEvent()}).on(`-${x}`,function(){i.textStyle.setLeftSpace(0),t.skipEvent()}).on("complete",function(){i.textStyle.setLeftSpace(0)})},o5=function(i,t,n){var x="right",C;t.on("start",function(){C=i.textStyle.rightSpace,i.textStyle.setRightSpace(0)}).on(`+${x}`,function(M){M===void 0&&(M=C),i.textStyle.setRightSpace(M),t.skipEvent()}).on(`-${x}`,function(){i.textStyle.setRightSpace(0),t.skipEvent()}).on("complete",function(){i.textStyle.setRightSpace(0)})},h5=function(i,t,n){var x="shadow",C;t.on("start",function(){C=i.textStyle.shadowColor,i.textStyle.setShadowColor(null)}).on(`+${x}`,function(M){M===void 0&&(M=C),i.textStyle.setShadowColor(M),t.skipEvent()}).on(`-${x}`,function(){i.textStyle.setShadowColor(null),t.skipEvent()}).on("complete",function(){i.textStyle.setShadowColor(C)})},l5=function(i,t,n){var x="align";t.on(`+${x}`,function(C){i.textStyle.setAlign(C),t.skipEvent()}).on(`-${x}`,function(){i.textStyle.setAlign(),t.skipEvent()}).on("complete",function(){i.textStyle.setAlign()})},u5=function(i,t,n){var x="img";t.on(`+${x}`,function(C){var M=i.imageManager.get(C);f2.call(i,M.key,M.frame,{width:M.width,hieght:M.height,leftSpace:M.left,rightSpace:M.right}),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()})},f5=function(i,t,n){var x="space";t.on(`+${x}`,function(C){d2.call(i,C),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()})},d5=function(i,t,n){var x="speed";t.on(`+${x}`,function(C){bx(i,C),t.skipEvent()}).on(`-${x}`,function(){bx(i,void 0),t.skipEvent()})},c5=function(i){this.typeWriter.setTypingSpeed(i)},bx=function(i,t){pt.call(i,"speed",c5,t,i)},v5=function(i,t,n){var x="se";t.on(`+${x}`,function(C,M){pt.call(i,x,p5,[C,M],i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()});var x="se2";t.on(`+${x}`,function(C,M){pt.call(i,x,g5,[C,M],i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()})},p5=function(i){if(!this.skipSoundEffect){var t=i[0],n=i[1];this.soundManager.playSoundEffect(t),n&&this.soundManager.fadeInSoundEffect(n)}},g5=function(i){if(!this.skipSoundEffect){var t=i[0],n=i[1];this.soundManager.playSoundEffect2(t),n&&this.soundManager.fadeInSoundEffect2(n)}},m5=function(i,t,n){var x="se.fadein";t.on(`+${x}`,function(C){pt.call(i,x,x5,C,i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()});var x="se2.fadein";t.on(`+${x}`,function(C){pt.call(i,x,y5,C,i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()})},x5=function(i){this.soundManager.fadeInSoundEffect(i)},y5=function(i){this.soundManager.fadeInSoundEffect2(i)},T5=function(i,t,n){var x="se.fadeout";t.on(`+${x}`,function(C,M){M=M==="stop",pt.call(i,x,C5,[C,M],i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()});var x="se2.fadeout";t.on(`+${x}`,function(C,M){M=M==="stop",pt.call(i,x,S5,[C,M],i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()})},C5=function(i){this.soundManager.fadeOutSoundEffect(...i)},S5=function(i){this.soundManager.fadeOutSoundEffect2(...i)},M5=function(i,t,n){var x="se.volume";t.on(`+${x}`,function(C){pt.call(i,x,E5,C,i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()});var x="se2.volume";t.on(`+${x}`,function(C){pt.call(i,x,P5,C,i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()})},E5=function(i){this.soundManager.setSoundEffectVolume(i,!0)},P5=function(i){this.soundManager.setSoundEffectVolume2(i,!0)},R5=function(i,t,n){var x="se.mute";t.on(`+${x}`,function(){pt.call(i,x,A5,void 0,i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()});var x="se2.mute";t.on(`+${x}`,function(){pt.call(i,x,w5,void 0,i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()});var x="se.unmute";t.on(`+${x}`,function(){pt.call(i,x,O5,void 0,i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()});var x="se2.unmute";t.on(`+${x}`,function(){pt.call(i,x,L5,void 0,i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()})},A5=function(){this.soundManager.setSoundEffectMute(!0)},w5=function(){this.soundManager.setSoundEffect2Mute(!0)},O5=function(){this.soundManager.setSoundEffectMute(!1)},L5=function(){this.soundManager.setSoundEffect2Mute(!1)},F5=function(i,t,n){var x="bgm";t.on(`+${x}`,function(C,M){pt.call(i,x,I5,[C,M],i),t.skipEvent()}).on(`-${x}`,function(){pt.call(i,"bgm.stop",D5,void 0,i),t.skipEvent()});var x="bgm2";t.on(`+${x}`,function(C,M){pt.call(i,x,B5,[C,M],i),t.skipEvent()}).on(`-${x}`,function(){pt.call(i,"bgm2.stop",b5,void 0,i),t.skipEvent()})},I5=function(i){var t=i[0],n=i[1];this.soundManager.playBackgroundMusic(t),n&&this.soundManager.fadeInBackgroundMusic(n)},D5=function(){this.soundManager.stopBackgroundMusic()},B5=function(i){var t=i[0],n=i[1];this.soundManager.playBackgroundMusic2(t),n&&this.soundManager.fadeInBackgroundMusic2(n)},b5=function(){this.soundManager.stopBackgroundMusic2()},G5=function(i,t,n){var x="bgm.fadein";t.on(`+${x}`,function(C){pt.call(i,x,N5,C,i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()});var x="bgm2.fadein";t.on(`+${x}`,function(C){pt.call(i,x,V5,C,i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()})},N5=function(i){this.soundManager.fadeInBackgroundMusic(i)},V5=function(i){this.soundManager.fadeInBackgroundMusic2(i)},z5=function(i,t,n){var x="bgm.fadeout";t.on(`+${x}`,function(C,M){M=M==="stop",pt.call(i,x,k5,[C,M],i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()});var x="bgm2.fadeout";t.on(`+${x}`,function(C,M){M=M==="stop",pt.call(i,x,U5,[C,M],i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()})},k5=function(i){this.soundManager.fadeOutBackgroundMusic(...i)},U5=function(i){this.soundManager.fadeOutBackgroundMusic2(...i)},X5=function(i,t,n){var x="bgm.cross";t.on(`+${x}`,function(C,M){pt.call(i,x,Y5,[C,M],i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()});var x="bgm2.cross";t.on(`+${x}`,function(C,M){pt.call(i,x,W5,[C,M],i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()})},Y5=function(i){this.soundManager.crossFadeBackgroundMusic(...i)},W5=function(i){this.soundManager.crossFadeBackgroundMusic2(...i)},H5=function(i,t,n){var x="bgm.pause";t.on(`+${x}`,function(){pt.call(i,x,$5,void 0,i),t.skipEvent()}).on(`-${x}`,function(){pt.call(i,"bgm.resume",K5,void 0,i),t.skipEvent()});var x="bgm2.pause";t.on(`+${x}`,function(){pt.call(i,x,j5,void 0,i),t.skipEvent()}).on(`-${x}`,function(){pt.call(i,"bgm2.resume",Z5,void 0,i),t.skipEvent()})},$5=function(){this.soundManager.pauseBackgroundMusic()},K5=function(){this.soundManager.resumeBackgroundMusic()},j5=function(){this.soundManager.pauseBackgroundMusic2()},Z5=function(){this.soundManager.resumeBackgroundMusic2()},J5=function(i,t,n){var x="bgm.volume";t.on(`+${x}`,function(C){pt.call(i,x,Q5,C,i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()});var x="bgm2.volume";t.on(`+${x}`,function(C){pt.call(i,x,q5,C,i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()})},Q5=function(i){this.soundManager.setBackgroundMusicVolume(i)},q5=function(i){this.soundManager.setBackgroundMusicVolume2(i)},_5=function(i,t,n){var x="bgm.mute";t.on(`+${x}`,function(){pt.call(i,x,t6,void 0,i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()});var x="bgm2.mute";t.on(`+${x}`,function(){pt.call(i,x,e6,void 0,i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()});var x="bgm.unmute";t.on(`+${x}`,function(){pt.call(i,x,i6,void 0,i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()});var x="bgm2.unmute";t.on(`+${x}`,function(){pt.call(i,x,s6,void 0,i),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()})},t6=function(){this.soundManager.setBackgroundMusicMute(!0)},e6=function(){this.soundManager.setBackgroundMusic2Mute(!0)},i6=function(){this.soundManager.setBackgroundMusicMute(!1)},s6=function(){this.soundManager.setBackgroundMusic2Mute(!1)},n6=function(i,t,n){var x="camera.fadein";t.on(`+${x}`,function(C,M,h,y){pt.call(i,x,r6,[C,M,h,y],i),t.skipEvent()})},r6=function(i){this.cameraTarget.fadeIn(...i)},a6=function(i,t,n){var x="camera.fadeout";t.on(`+${x}`,function(C,M,h,y){pt.call(i,x,o6,[C,M,h,y],i),t.skipEvent()})},o6=function(i){this.cameraTarget.fadeOut(...i)},h6=function(i,t,n){var x="camera.shake";t.on(`+${x}`,function(C,M){pt.call(i,x,l6,[C,M],i),t.skipEvent()})},l6=function(i){this.cameraTarget.shake(...i)},u6=function(i,t,n){var x="camera.flash";t.on(`+${x}`,function(C,M,h,y){pt.call(i,x,f6,[C,M,h,y],i),t.skipEvent()})},f6=function(i){this.cameraTarget.flash(...i)},d6=function(i,t,n){var x="camera.zoom";t.on(`+${x}`,function(C){pt.call(i,x,c6,C,i),t.skipEvent()}).on(`+${x}.to`,function(C,M,h){pt.call(i,"camera.zoom.to",v6,[C,M,h],i),t.skipEvent()})},c6=function(i){this.cameraTarget.setZoom(i)},v6=function(i){this.cameraTarget.zoomTo(...i)};const Gx=Phaser.Math.DegToRad;var p6=function(i,t,n){var x="camera.rotate";t.on(`+${x}`,function(C){C=Gx(C),pt.call(i,x,g6,C,i),t.skipEvent()}).on(`+${x}.to`,function(C,M,h){C=Gx(C),pt.call(i,"camera.rotate.to",m6,[C,M,h],i),t.skipEvent()})},g6=function(i){this.cameraTarget.setRotation(i)},m6=function(i){var t=i[0],n=i[1],x=i[2];this.cameraTarget.rotateTo(t,!1,n,x)},x6=function(i,t,n){var x="camera.scroll";t.on(`+${x}`,function(C,M){pt.call(i,x,y6,[C,M],i),t.skipEvent()}).on(`+${x}.to`,function(C,M,h,y){pt.call(i,"camera.scroll.to",T6,[C,M,h,y],i),t.skipEvent()})},y6=function(i){this.cameraTarget.setScroll(...i)},T6=function(i){var t=i[0],n=i[1],x=i[2],C=i[3],M=this.cameraTarget,h=M.scrollX,y=M.scrollY;M.setScroll(t,n),t+=M.centerX,n+=M.centerY,M.setScroll(h,y),M.pan(t,n,x,C)},C6=function(i,t,n){var x="wait",C="click";t.on(`+${x}`,function(M){Nx(i,M),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()}).on(`+${C}`,function(){Nx(i,"click"),t.skipEvent()}).on(`-${C}`,function(){t.skipEvent()})},S6=function(i){this.typeWriter.wait(i)},Nx=function(i,t){pt.call(i,"wait",S6,t,i)},M6=function(i,t,n){var x="r";t.on(`+${x}`,function(){vh.call(i,`
`),t.skipEvent()}).on(`-${x}`,function(){t.skipEvent()})},E6=function(i,t,n){for(var x=["pagebreak","pb"],C=0,M=x.length;C<M;C++){var h=x[C];t.on(`+${h}`,function(){vh.call(i,"\f"),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()})}},P6=function(i,t,n){var x="content.off";t.on(`+${x}`,function(){t.setContentOutputEnable(!1),t.skipEvent()})},R6=function(i,t,n){var x="content.on";t.on(`+${x}`,function(){t.setContentOutputEnable(),t.skipEvent()})},A6=function(i,t,n){t.on("content",function(x){if(t.contentOutputEnable)vh.call(i,x);else{var C=`+${t.lastTagStart}`;i.emit(`parser.${C}#content`,t,x)}})},w6=function(i,t,n){t.on("start",function(){i.emit("parser.start",t)}).on("+",function(x,...C){if(!t.skipEventFlag){var M=`+${x}`,h=C;i.emit(`parser.${M}`,t,...C,h),Vx(i,M,h)}}).on("-",function(x){if(!t.skipEventFlag){var C=`-${x}`,M=[];i.emit(`parser.${C}`,t,M),Vx(i,C,M)}}).on("complete",function(){i.emit("parser.complete",t)})},O6=function(i,t){var n=`tag.${t}`;i==null?this.emit(n):this.emit(n,...i)},Vx=function(i,t,n){pt.call(i,t,O6,n,i)};const zx=[_F,t5,e5,i5,s5,h5,l5,n5,r5,a5,o5,u5,f5,d5,v5,m5,T5,M5,R5,F5,G5,z5,X5,H5,J5,_5,n6,a6,h6,u6,d6,p6,x6,C6,M6,E6,P6,R6,A6,w6];var L6=function(i,t,n){for(var x=0,C=zx.length;x<C;x++)zx[x](i,t,n)},F6=function(i,t){for(var n=i.commentLineStart,x=t.split(`
`),C=0,M=x.length;C<M;C++){var h=x[C];h===""||(h.trim().length===0||n&&h.startsWith(n))&&(x[C]="")}return x.join("")};const I6=Phaser.Utils.Objects.GetValue;class D6 extends qF{constructor(t,n){n===void 0&&(n={}),n.hasOwnProperty("delimiters")||(n.delimiters="[]"),super(n),L6(t,this,n),this.setCommentLineStartSymbol(I6(n,"comment","//")),this.setContentOutputEnable()}setCommentLineStartSymbol(t){return this.commentLineStart=t,this}setContentOutputEnable(t){return t===void 0&&(t=!0),this.contentOutputEnable=t,this}start(t){return super.start(F6(this,t)),this}}const B6={setDefaultTypingSpeed(i){return this.defaultSpeed=i,this},setTypingSpeed(i){return i===void 0&&(i=this.defaultSpeed),this.speed=i,this}},tr="page.fadeout",$v="_remove.play",kx=[tr,$v];var b6=function(){if(!this.fadeOutPageCallback||!this.children)return this.emit(tr),this;var i=this.children.filter(function(x){return x.renderable}),t=this.fadeOutPageCallback(i,this.fadeOutPageDuration);if(!t)this.emit(tr);else if(t.once)t.once("complete",function(){this.emit(tr)},this);else if(t.then){var n=this;t.then(function(){n.emit(tr)})}else this.emit(tr);return this},hf=function(i,t){return new Promise(function(n,x){i.once(t,function(){n()})})},Se=function(i){return hf(i,"complete")},G6=function(i){return this.children=i,this.index=0,this.isPageTyping=!0,this.onTypeStart&&this.onTypeStart(i),this.typing(),Se(this)};const N6="delay",A2="anim";var w2=function(i){i===void 0&&(i=0);var t=0;for(this.inTypingProcessLoop=!0;this.inTypingProcessLoop;){var n=this.getNextChild();if(!n){this.timeline.isRunning?this.timeline.once("complete",function(){this.isPageTyping=!1,this.emit("complete")},this):(this.isPageTyping=!1,this.emit("complete"));break}if(n.renderable){var x=this.animationConfig;if(x.duration>0){var C=this.timeline.addTimer({name:A2,target:n,duration:x.duration,yoyo:x.yoyo,onStart:x.onStart,onProgress:x.onProgress,onComplete:x.onComplete});this.skipTypingAnimation&&C.seek(1)}else x.onStart&&x.onStart(n,0);this.minSizeEnable&&this.textPlayer.setToMinSize(),this.textPlayer.emit("typing",n);var M=this.nextChild;if(M&&!(this.skipSpaceEnable&&SO(M))){if(t+=this.speed+i,i=0,t>0){this.typingTimer=this.timeline.addTimer({name:N6,target:this,duration:t,onComplete:function(h,y,e){h.typingTimer=void 0,w2.call(h,e.remainder)}});break}}}else MO(n)&&n.exec()}this.minSizeEnable&&this.textPlayer.setToMinSize(),this.inTypingProcessLoop=!1},V6=function(){return this.timeline.pause(),this},z6=function(){return this.timeline.resume(),this},k6=function(){return this.isTypingPaused?this:(this.typingTimer?(this.typingTimer.pause(),this.isTypingPaused=!0):this.inTypingProcessLoop&&(this.inTypingProcessLoop=!1,this.isTypingPaused=!0),this)},U6=function(i){return this.isTypingPaused?(i===void 0&&(i=0),this.typingTimer?(this.isTypingPaused=!1,this.typingTimer.resume(),this.typingTimer.remainder+=i):this.isTypingPaused&&(this.isTypingPaused=!1,this.typing(i)),this):this},X6=function(i){switch(i){case"camera.fadein":case"camera.fadeout":case"camera.flash":case"camera.shake":case"camera.zoom":case"camera.rotate":case"camera.scroll":return!0;default:return!1}},Y6=function(i,t){var n=t.split(".");return i.gameObjectManagers.hasOwnProperty(n[0])},W6=function(i,t,n,x){var C=i.waitEventManager,M=t.split("."),h=M[0],y=i.getGameObjectManager(h),e=`wait.${h}`;switch(M.length){case 1:C.waitGameObjectManagerEmpty(h),i.emit(e);return;case 2:var f=M[1];C.waitGameObjectDestroy(h,f),i.emit(e,f);return;case 3:var f=M[1],d=M[2],s=y.getProperty(f,d);if(typeof s=="number"){C.waitGameObjectTweenComplete(h,f,d),i.emit(e,f,d);return}var a=d,r=a.startsWith("!");if(r&&(a=a.substring(1)),y.hasData(f,a)){C.waitGameObjectDataFlag(h,f,a,!r),i.emit(e,f,a);return}else{C.waitTime(0);return}}};const H6=Phaser.Input.Keyboard.KeyCodes;var O2=function(i,t,n,x){var C=i.waitEventManager;C.clearWaitCompleteCallbacks().addWaitCompleteCallback(n,x),typeof t=="string"&&t.length>1&&t.indexOf("|")!==-1?t=t.split("|"):t=[t];for(var M=0,h=t.length;M<h;M++){var y=t[M];if(y==null||y==="wait"){var e=i.waitEventManager.getWaitCompleteTriggerCallback();i.emit("wait",e)}else if(typeof y=="number"||!isNaN(y)){var f=parseFloat(y);C.waitTime(f),i.emit("wait.time",f)}else if(y==="click")C.waitClick(),i.emit("wait.click");else if(y==="se"){C.waitSoundEffectComplete();var d=i.soundManager.getLastSoundEffect();i.emit("wait.music",d)}else if(y==="se2"){C.waitSoundEffect2Complete();var d=i.soundManager.getLastSoundEffect2();i.emit("wait.music",d)}else if(y==="bgm"){C.waitBackgroundMusicComplete();var d=i.soundManager.getBackgroundMusic();i.emit("wait.music",d)}else if(y==="bgm2"){C.waitBackgroundMusic2Complete();var d=i.soundManager.getBackgroundMusic2();i.emit("wait.music",d)}else if(H6.hasOwnProperty(y.toUpperCase()))C.waitKeyDown(y),i.emit("wait.keydown",y);else if(X6(y))C.waitCameraEffectComplete(y),i.emit("wait.camera",y);else if(Y6(i,y))W6(i,y);else{var e=i.waitEventManager.getWaitCompleteTriggerCallback();i.emit(`wait.${y}`,e)}}},$6=function(i){return this.ignoreWait?this:(this.pauseTyping(),O2(this.textPlayer,i,this.resumeTyping,this),this)},K6=function(i){return i===void 0&&(i=!0),this.ignoreWait=i,this},j6=function(i){return i===void 0&&(i=!0),this.skipSpaceEnable=i,this},Z6=function(i){if(i===void 0&&(i=!0),this.skipTypingAnimation=i,i)for(var t=this.timeline.getTimers(A2),n=0,x=t.length;n<x;n++)t[n].seek(1);return this},J6=function(i){if(i===void 0&&(i=!0),this.skipSoundEffect=i,i){var t=this.textPlayer._soundManager;t&&t.fadeOutAllSoundEffects(100,!0)}return this},Q6=function(){return this.typingTimer&&this.typingTimer.seek(1),this},L2={fadeOutPage:b6,start:G6,typing:w2,pause:V6,resume:z6,pauseTyping:k6,resumeTyping:U6,wait:$6,setIgnoreWait:K6,setSkipSpaceEnable:j6,setSkipTypingAnimation:Z6,setSkipSoundEffect:J6,skipCurrentTypingDelay:Q6};Object.assign(L2,B6);const Fr=Phaser.Utils.Objects.GetValue;class F2{constructor(t,n){this.setEventEmitter(),this.textPlayer=t,this.isPageTyping=!1,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.inTypingProcessLoop=!1,this.isTypingPaused=!1,this.setIgnoreWait(!1),this.setSkipTypingAnimation(!1),this.setTypingStartCallback(Fr(n,"onTypingStart",_6)),this.setDefaultTypingSpeed(Fr(n,"speed",250)),this.setTypingSpeed(),this.setSkipSpaceEnable(Fr(n,"skipSpace",!1)),this.setAnimationConfig(Fr(n,"animation",void 0)),this.setMinSizeEnable(Fr(n,"minSizeEnable",!1)),this.setFadeOutPageCallback(Fr(n,"fadeOutPage"))}destroy(){this.destroyEventEmitter(),this.textPlayer=void 0,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.onTypeStart=void 0,this.animationConfig=void 0}get timeline(){return this.textPlayer.timeline}setTypingStartCallback(t){return this.onTypeStart=t,this}setAnimationConfig(t){return t||(t={}),t.hasOwnProperty("duration")||(t.duration=0),t.hasOwnProperty("onStart")||(t.onStart=q6),this.animationConfig=t,this}setFadeOutPageCallback(t){return this.fadeOutPageCallback=t,this}setMinSizeEnable(t){return t===void 0&&(t=!0),this.minSizeEnable=t,this}getNextChild(){var t=this.nextChild;return this.index=Math.min(this.index+1,this.children.length),this._nextChild=void 0,t}get nextChild(){return this._nextChild||(this._nextChild=this.children[this.index]),this._nextChild}}var q6=function(i){i.setVisible&&i.setVisible()},_6=function(i){for(var t=0,n=i.length;t<n;t++){var x=i[t];x.setVisible&&x.setVisible(!1)}};Object.assign(F2.prototype,Na,L2);class t4 extends d0{playAnimation(t){return this.gameObject.anims.timeScale=this.timeScale,this.gameObject.play(t),this}stopAnimation(){return this.gameObject.stop(),this}chainAnimation(t){return this.gameObject.chain(t),this}pauseAnimation(){return this.gameObject.anims.pause(),this}setTimeScale(t){return super.setTimeScale(t),this.gameObject.anims&&(this.gameObject.anims.timeScale=t),this}}const e4={playAnimation(i,t){return this.has(i)||this.add(i),this.get(i).playAnimation(t),this},stopAnimation(i){return this.has(i)?(this.get(i).stopAnimation(),this):this},chainAnimation(i,t){return this.has(i)?(this.get(i).chainAnimation(t),this):this},pauseAnimation(i){return this.has(i)?(this.get(i).pauseAnimation(),this):this}};var I2={};Object.assign(I2,e4);class D2 extends rf{constructor(t,n){n===void 0&&(n={}),n.BobClass=t4,super(t,n)}setCreateGameObjectCallback(t,n){return!t||t==="sprite"?t=i4:t==="image"&&(t=s4),super.setCreateGameObjectCallback(t,n),this}}var i4=function(i,t,n){return typeof n!="string"&&typeof n!="number"&&(n=void 0),i.add.sprite(0,0,t,n)},s4=function(i,t,n){return typeof n!="string"&&typeof n!="number"&&(n=void 0),i.add.image(0,0,t,n)};Object.assign(D2.prototype,I2);var Ux=function(i,t){return i.length===3&&i[0]===t&&i[2]==="play"},n4=function(i,t){return i.length===3&&i[0]===t&&i[2]==="stop"},r4=function(i,t,n){var x=n.name;t.on("+",function(C,...M){if(!t.skipEventFlag){var h=C.split("."),y;if(Ux(h,x))y=h[1];else return;pt.call(i,`${x}.play`,a4,[x,y,M],i),t.skipEvent()}}).on("+",function(C){if(!t.skipEventFlag){var M=C.split("."),h;if(n4(M,x))h=M[1];else return;pt.call(i,`${x}.stop`,Xx,[x,h],i),t.skipEvent()}}).on("-",function(C){if(!t.skipEventFlag){var M=C.split("."),h;if(Ux(M,x))h=M[1];else return;pt.call(i,`${x}.stop`,Xx,[x,h],i),t.skipEvent()}})},a4=function(i){var t,n,x;[t,n,x]=i;var C=x.shift(),M=this.getGameObjectManager(t);M.playAnimation(n,C),x.length>0&&M.chainAnimation(n,x)},Xx=function(i){var t,n;[t,...n]=i;var x=this.getGameObjectManager(t);x.stopAnimation(...n)},o4=function(i,t){return i.length===3&&i[0]===t&&i[2]==="pause"},h4=function(i,t,n){var x=n.name;t.on("+",function(C){if(!t.skipEventFlag){var M=C.split("."),h;if(o4(M,x))h=M[1];else return;pt.call(i,`${x}.pause`,l4,[x,h],i),t.skipEvent()}})},l4=function(i){var t,n;[t,...n]=i;var x=this.getGameObjectManager(t);x.pauseAnimation(...n)},u4=function(i,t){return i.length===3&&i[0]===t&&i[2]==="chain"},f4=function(i,t,n){var x=n.name;t.on("+",function(C){if(!t.skipEventFlag){var M=C.split("."),h;if(u4(M,x))h=M[1];else return;var y=Array.prototype.slice.call(arguments,1);pt.call(i,`${x}.chain`,d4,[x,h,y],i),t.skipEvent()}})},d4=function(i){var t,n;[t,...n]=i;var x=this.getGameObjectManager(t);x.chainAnimation(...n)};const c4=[r4,h4,f4];var v4=function(i){i===void 0&&(i={}),i.name="sprite",i.parseCallbacks=c4,this.addGameObjectManager(i,D2)},Yx=function(i,t){return i.length===2&&i[0]===t},p4=function(i,t,n){var x=n.name;t.on("+",function(C,...M){if(!t.skipEventFlag){var h=C.split("."),y;if(Yx(h,x))y=h[1];else return;pt.call(i,`${x}.add`,g4,[x,y,...M],i),t.skipEvent()}}).on("-",function(C){if(!t.skipEventFlag){var M=C.split("."),h;if(Yx(M,x))h=M[1];else return;pt.call(i,`${x}.remove`,m4,[x,h],i),t.skipEvent()}})},g4=function(i){var t,n;[t,...n]=i;var x=this.getGameObjectManager(t);x.add(...n)},m4=function(i){var t,n;[t,...n]=i;var x=this.getGameObjectManager(t);x.remove(...n)},x4=function(i,t,n){var x=n.name;t.on("-",function(C){t.skipEventFlag||C===x&&(pt.call(i,`${x}.removeall`,y4,x,i),t.skipEvent())})},y4=function(i){var t=this.getGameObjectManager(i);t.removeAll()},T4=function(i,t){return i.length===3&&i[0]===t},C4=function(i,t,n){var x=n.name;t.on("+",function(C,...M){if(!t.skipEventFlag){var h=C.split("."),y,e;if(T4(h,x))y=h[1],e=h[2];else return;pt.call(i,`${x}.call`,S4,[x,y,e,...M],i),t.skipEvent()}})},S4=function(i){var t,n,x,C;[t,n,x,...C]=i;var M=`${t}.${x}`;if(this.emit(M,n,...C),!(this.listenerCount(M)>0)){var h=this.getGameObjectManager(t);h.hasMethod(n,x)?h.call(n,x,...C):h.setProperty(n,x,C[0])}},M4={to:!0,yoyo:!0,from:!0,toLeft:!0,toRight:!0,toUp:!0,toDown:!0,yoyoLeft:!0,yoyoRight:!0,yoyoUp:!0,yoyoDown:!0,fromLeft:!0,fromRight:!0,fromUp:!0,fromDown:!0},E4=function(i,t){return i.length===4&&i[0]===t&&M4[i[3]]},P4=function(i,t,n){var x=n.name;i.getGameObjectManager(x),t.on("+",function(C,M,h,y,e){if(!t.skipEventFlag){var f=C.split("."),d,s,a;if(E4(f,x))d=f[1],s=f[2],a=f[3];else return;typeof y=="number"&&(e=y,y=void 0),pt.call(i,`${x}.ease`,R4,[x,d,s,M,h,y,e,a],i),t.skipEvent()}})},R4=function(i){var t,n,x,C,M,h,y,e;[t,n,x,C,M,h,y,e]=i;var f=this.getGameObjectManager(t),d=f.getProperty(n,x);if(typeof d=="number"){e.endsWith("Left")||e.endsWith("Up")?e.startsWith("to")||e.startsWith("yoyo")?C=d-C:e.startsWith("from")&&(f.setProperty(n,x,d-C),C=d):e.endsWith("Right")||e.endsWith("Down")?e.startsWith("to")||e.startsWith("yoyo")?C=d+C:e.startsWith("from")&&(f.setProperty(n,x,d+C),C=d):e==="from"&&(f.setProperty(n,x,C),C=d);var s=e.startsWith("yoyo");f.easeProperty(n,x,C,M,h,y,s)}};const Wx=[p4,x4,C4,P4],A4=P2.addGameObjectManager,w4={addGameObjectManager(i,t){i===void 0&&(i={});var n=i.name;n||console.warn("Parameter 'name' is required in TextPlayer.addGameObjectManager(config) method"),A4.call(this,i,t);var x=i.parseCallbacks;x?x=[...x,...Wx]:x=Wx;for(var C=0,M=x.length;C<M;C++)x[C](this,this.parser,i);return this}};var O4=function(i){return this.waitEventManager.setClickTarget(i),this},L4=function(i){return this.waitEventManager.setCameraTarget(i),this},F4=function(i){var t=this;i?typeof i=="function"?this.nextPageInput=function(n,x){var C=t.waitEventManager;C.clearWaitCompleteCallbacks().addWaitCompleteCallback(n,x);var M=C.getWaitCompleteTriggerCallback();i.call(t,M)}:this.nextPageInput=function(n,x){O2(t,i,n,x)}:this.nextPageInput=null},I4=function(i,t){return this.imageManager.add(i,t),this};const D4={play(i){return this.isPlaying?this:(this.removeChildren(),this.parser.start(i),this.isPlaying=!0,this.once("complete",function(){this.isPlaying=!1},this),this.lastWrapResult=void 0,this.typingNextPage(),this)},playPromise(i){var t=Se(this);return this.play(i),t}};var Kv=function(){return!this.isPlaying||this.isPageTyping?this:(this.typeWriter.once(tr,B4,this).fadeOutPage(),this)},B4=function(){var i=this.runWrap(this.lastWrapResult);this.lastWrapResult=i,this.emit("page.start");var t=function(){this.emit($v),i.isLastPage?this.emit("complete"):(this.emit("page.complete"),this.ignoreNextPageInput?Kv.call(this):this.nextPageInput&&this.nextPageInput(Kv,this))};this.once($v,function(){this.typeWriter.off("complete",t,this)},this),this.typeWriter.once("complete",t,this).start(i.children)};const b4={pause(){return this.timeline.pause(),this},pauseTyping(){return this.typeWriter.pauseTyping(),this}},G4={resume(){return this.timeline.resume(),this},resumeTyping(i){return this.typeWriter.resumeTyping(i),this}};var N4=function(i){return this.typeWriter.wait(i),this};const V4={setDefaultTypingSpeed(i){return this.defaultTypingSpeed=i,this},setTypingSpeed(i){return this.typingSpeed=i,this}};var z4=function(i){return this.typeWriter.setIgnoreWait(i),this},k4=function(i){return i===void 0&&(i=!0),this.ignoreNextPageInput=i,this},U4=function(){if(!this.isPlaying||!this.isPageTyping)return this;var i=this.typeWriter.speed,t=this.typeWriter.ignoreWait,n=this.typeWriter.skipTypingAnimation,x=this.typeWriter.skipSoundEffect;return this.typeWriter.once("complete",function(){this.typeWriter.setTypingSpeed(i).setIgnoreWait(t).setSkipTypingAnimation(n).setSkipSoundEffect(x)},this).setTypingSpeed(0).skipCurrentTypingDelay().setIgnoreWait(!0).setSkipTypingAnimation(!0).setSkipSoundEffect(!0),this};const X4={getSprite(i){return this.getGameObject("sprite",i)},addSprite(i,t){return this.addGameObject("sprite",i,t),this}},Y4={setContentOutputEnable(i){return this.parser.setContentOutputEnable(i),this},setContentCallback(i,t){return this.contentCallback=i,this.contentCallbackScope=t,this}};var B2={setClickTarget:O4,setCameraTarget:L4,setNextPageInput:F4,addImage:I4,typingNextPage:Kv,wait:N4,setIgnoreWait:z4,setIgnoreNextPageInput:k4,showPage:U4};Object.assign(B2,w4,D4,b4,G4,V4,X4,Y4);var W4=function(i){for(var t=0,n=kx.length;t<n;t++)i.emit(kx[t])};const Hx=Phaser.Utils.Objects.IsPlainObject,Ir=Phaser.Utils.Objects.GetValue;class m0 extends KF(Ga){constructor(t,n,x,C,M,h){Hx(n)?h=n:Hx(C)&&(h=C),h===void 0&&(h={});var y=h.text;delete h.text,super(t,n,x,C,M,h),this.type="rexTextPlayer",this.initManagers(t,h),this.parser=new D6(this,Ir(h,"parser",void 0)),this.typeWriter=new F2(this,Ir(h,"typing",void 0)),this._imageManager=void 0;var e=Ir(h,"images",void 0);e&&this.addImage(e);var f=Ir(h,"sprites");f!==!1&&f!==null&&v4.call(this,f),this.setIgnoreNextPageInput(Ir(h,"ignoreNextPageInput",!1)),this.setNextPageInput(Ir(h,"nextPageInput",null)),this.isPlaying=!1,y&&this.play(y)}get imageManager(){return this._imageManager===void 0&&(this._imageManager=new a0(this.scene)),this._imageManager}get spriteManager(){return this.getGameObjectManager("sprite")}destroy(t){!this.scene||this.ignoreDestroy||(W4(this),this.parser.destroy(),this.parser=void 0,this.typeWriter.destroy(t),this.typeWriter=void 0,this._imageManager&&this._imageManager.destroy(t),this._imageManager=void 0,this.destroyManagers(t),super.destroy(t))}get isPageTyping(){return this.typeWriter.isPageTyping}set defaultTypingSpeed(t){this.typeWriter.setDefaultTypingSpeed(t)}get defaultTypingSpeed(){return this.typeWriter.defaultTypingSpeed}set typingSpeed(t){this.typeWriter.setTypingSpeed(t)}get typingSpeed(){return this.typeWriter.speed}set timeScale(t){this.setTimeScale(t)}get timeScale(){return this.getTimeScale()}}Object.assign(m0.prototype,B2);rt.register("textPlayer",function(i,t,n,x,C){var M=new m0(this.scene,i,t,n,x,C);return this.scene.add.existing(M),M});nt(window,"RexPlugins.UI.TextPlayer",m0);const b2={maxLength:["maxLength",void 0],minLength:["minLength",void 0],readOnly:["readOnly",!1]},G2={direction:["direction",void 0]};var sn=function(i,t,n){if(typeof n=="string")i.hasOwnProperty(n)&&(t[n]=i[n]);else{var x=n;if(Array.isArray(x))for(var C=0,M=x.length;C<M;C++)sn(i,t,x[C]);else for(var n in x)sn(i,t,n)}},H4=function(i){i===void 0&&(i={});var t={};return sn(i,t,"inputType"),sn(i,t,"type"),sn(i,t,"style"),sn(i,t,G2),sn(i,t,b2),t},x0=function(i,t,n,x){if(t)return!(n&&!n(i,t)||!$x(i,t)||x&&!x(i,t));for(var C=i.scene.input.manager,M=C.pointersTotal,h=C.pointers,t,y=0;y<M;y++)if(t=h[y],!(n&&!n(i,t))&&$x(i,t)&&!(x&&!x(i,t)))return!0;return!1},$x=function(i,t){for(var n=i.scene,x=n.input.cameras.getCamerasBelowPointer(t),C=n.input.manager,M=[i],h,y=0,e=x.length;y<e;y++)if(h=C.hitTest(t,M,x[y]),h.length>0)return!0;return!1},fa=void 0,$4=function(i){i!==fa&&(fa!==void 0&&fa.close(),fa=i)},K4=function(i){i===fa&&(fa=void 0)};const j4=Phaser.Utils.Objects.GetValue;var Ou=function(i,t,n){n===void 0&&(n={});var x,C;for(var M in i)x=i[M],C=j4(t,M,x[1]),C!==void 0&&(n[x[0]]=C);return n},N2=function(i){i.addEventListener("touchstart",Dr,!1),i.addEventListener("touchmove",Dr,!1),i.addEventListener("touchend",Dr,!1),i.addEventListener("mousedown",Dr,!1),i.addEventListener("mouseup",Dr,!1),i.addEventListener("mousemove",Dr,!1)},Dr=function(i){i.stopPropagation()};const bd=Phaser.Utils.Objects.GetValue;var Z4=function(i,t){var n,x=bd(t,"inputType",void 0);x===void 0&&(x=bd(t,"type","text")),x==="textarea"?(n=document.createElement("textarea"),n.style.resize="none"):(n=document.createElement("input"),n.type=x);var C=bd(t,"style",void 0),M=n.style;Ou(G2,C,M),M.position="absolute",M.opacity=0,M.pointerEvents="none",M.zIndex=0,M.transform="scale(0)",Ou(b2,t,n),N2(n);var h=i.scene.sys.scale,y=h.isFullscreen?h.fullscreenTarget:document.body;return y.appendChild(n),n},J4=function(){return this.isOpened?this:this.readOnly?this:($4(this),this.isOpened=!0,this.node||(this.node=Z4(this,this.nodeConfig)),this.setFocus(),this.initText(),this.enterCloseEnable&&this.scene.input.keyboard.once("keydown-ENTER",this.close,this),this.scene.sys.events.on("postupdate",this.updateText,this),this.scene.input.on("pointerdown",this.onClickOutside,this),this.onOpenCallback&&this.onOpenCallback(this.parent,this),this.emit("open",this),this)},Q4=function(i){if(i){var t=i.parentElement;t&&t.removeChild(i)}},q4=function(){return this.isOpened?(K4(this),this.setBlur(),this.isOpened=!1,this.updateText(),this.scene.sys.events.off("postupdate",this.updateText,this),this.scene.input.off("pointerdown",this.onClickOutside,this),this.onCloseCallback&&this.onCloseCallback(this.parent,this),Q4(this.node),this.node=void 0,this.emit("close",this),this):this},_4={open:J4,close:q4};const $s=Phaser.Utils.Objects.GetValue;class y0 extends me{constructor(t,n){super(t);var x=$s(n,"inputType",void 0);x===void 0&&(x=$s(n,"type","text")),this.setEnterCloseEnable($s(n,"enterClose",x!=="textarea"));var C=$s(n,"onOpen",void 0);C||(C=$s(n,"onFocus",void 0)),this.onOpenCallback=C;var M=$s(n,"onClose",void 0);M||(M=$s(n,"onBlur",void 0)),this.onCloseCallback=M,this.onUpdateCallback=$s(n,"onUpdate",void 0),this.isOpened=!1,t.on("pointerdown",function(){this.open()},this).setInteractive(),this.nodeConfig=H4(n),this.node=void 0}destroy(){this.close(),super.destroy()}onClickOutside(t){x0(this.parent,t)||this.close()}setEnterCloseEnable(t){return t===void 0&&(t=!0),this.enterCloseEnable=t,this}initText(){}updateText(){}get text(){return this.node?this.node.value:""}set text(t){this.node&&(this.node.value=t)}setText(t){return this.text=t,this}get maxLength(){return this.nodeConfig.maxLength}set maxLength(t){this.nodeConfig.maxLength=t,this.node&&(this.node.maxLength=t)}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.nodeConfig.minLength}set minLength(t){this.nodeConfig.minLength=t,this.node&&(this.node.minLength=t)}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node&&(this.node.placeholder=t)}setPlaceholder(t){return this.placeholder=t,this}selectText(t,n){return this.node?(t===void 0?this.node.select():this.node.setSelectionRange(t,n),this):this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node?this.node.selectionStart:0}get selectionEnd(){return this.node?this.node.selectionEnd:0}get selectedText(){if(!this.node)return"";var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node?this.node.selectionStart:0}set cursorPosition(t){this.node&&this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node?this.node.title:""}set tooltip(t){if(!this.node)return this;this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.nodeConfig.readOnly}set readOnly(t){this.nodeConfig.readOnly=t,this.node&&(this.node.readOnly=t)}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node?this.node.spellcheck:""}set spellCheck(t){this.node&&(this.node.spellcheck=t)}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){if(this.node)return this.node.style.color}set fontColor(t){this.node&&(this.node.style.color=t)}setFontColor(t){return this.fontColor=t,this}setStyle(t,n){return this.node?(this.node.style[t]=n,this):this}getStyle(t){if(this.node)return this.node.style[t]}scrollToBottom(){return this.node?(this.node.scrollTop=this.node.scrollHeight,this):this}setEnabled(t){return this.node?(t===void 0&&(t=!0),this.node.disabled=!t,this):this}setBlur(){return this.node?(this.node.blur(),this):this}setFocus(){return this.node?(this.node.focus(),this):this}get isFocused(){return this.isOpened}}Object.assign(y0.prototype,_4);var V2=function(i,t,n){i=i.replace(" ","");var x=n.previousText;if(i===x)return i;if(isNaN(i)){n.emit("nan",i,n),i=x;var C=n.cursorPosition-1;n.setText(i),n.setCursorPosition(C)}else n.previousText=i;return i},tI=function(i){var t=i.parent,n=i.isOpened?i.selectionStart:null,x=i.isOpened?i.selectionEnd:null,C=i.prevSelectionStart,M=i.prevSelectionEnd;if(!(C===n&&M===x)){var h,y;C===null?(h=n,y=x):(h=Math.min(C,n),y=Math.max(M,x));for(var e=h;e<y;e++){var f=C===null?!1:e>=C&&e<M,d=e>=n&&e<x;if(!(f&&d)){var s=t.getCharChild(e);s&&(f?t.emit("cursorout",s,e,t):t.emit("cursorin",s,e,t))}}i.prevSelectionStart=n,i.prevSelectionEnd=x}},eI=function(i){var t=i.parent,n=t.text,x=i.cursorPosition;if(i.prevCursorPosition!==x){if(i.prevCursorPosition!==null&&i.prevCursorPosition>n.length&&(i.prevCursorPosition=null),i.prevCursorPosition!==null){var C=t.getCharChild(i.prevCursorPosition);C&&t.emit("cursorout",C,i.prevCursorPosition,t)}if(x!=null){var C=t.getCharChild(x);C&&t.emit("cursorin",C,x,t)}t.emit("movecursor",x,i.prevCursorPosition,t),i.prevCursorPosition=x}},Kx=function(i){var t=i.prevSelectionStart;if(t!==null){for(var n=i.prevSelectionEnd,x=i.parent,C=t;C<n;C++){var M=x.getCharChild(C);M&&x.emit("cursorout",M,C,x)}i.prevSelectionStart=null,i.prevSelectionEnd=null}},jx=function(i){var t=i.prevCursorPosition;if(t!==null){var n=i.parent,x=n.getCharChild(t);x&&n.emit("cursorout",x,t,n),i.prevCursorPosition=null}};const iI=Phaser.Utils.Objects.GetValue;let sI=class extends y0{constructor(t,n){super(t,n),this.setSelectAllWhenFocusEnable(iI(n,"selectAll",!1)),this.cursorMoveStartIndex=null,this.prevCursorPosition=null,this.prevSelectionStart=null,this.prevSelectionEnd=null,this.firstClickAfterOpen=!1,t.on("pointerdown",function(x,C,M,h){var y=t.getNearestChild(C,M),e=t.getCharIndex(y);(!this.selectAllWhenFocus||!this.firstClickAfterOpen)&&this.setCursorPosition(e),this.cursorMoveStartIndex=e,this.firstClickAfterOpen=!1},this).on("pointermove",function(x,C,M,h){if(x.isDown){var y=t.getNearestChild(C,M),e=t.getCharIndex(y);this.cursorMoveStartIndex<e?this.selectText(this.cursorMoveStartIndex,e+1):this.selectText(e,this.cursorMoveStartIndex+1)}},this),this.on("open",function(){this.selectAllWhenFocus&&this.selectAll(),this.firstClickAfterOpen=!0,t.emit("open")},this).on("close",function(){t.emit("close")},this)}initText(){var t=this.parent;return this.prevCursorPosition=null,this.setText(t.text),this}updateText(){var t=this.parent,n=this.text;if(this.onUpdateCallback){var x=this.onUpdateCallback(n,t,this);x!=null&&(n=x)}return t.text!==n&&(t.setText(n),t.emit("textchange",n,t,this)),this.isOpened?this.selectionStart!==this.selectionEnd?(jx(this),tI(this)):(Kx(this),eI(this)):(Kx(this),jx(this)),this}setNumberInput(){return this.onUpdateCallback=V2,this}setSelectAllWhenFocusEnable(t){return t===void 0&&(t=!0),this.selectAllWhenFocus=t,this}};const nI=Phaser.Utils.Objects.GetValue,rI=["inputType","onOpen","onFocus","onClose","onBlur","onUpdate","enterClose","readOnly","maxLength","minLength","selectAll"];var aI=function(i,t){var n=nI(t,"edit");return n===void 0&&(n={}),sn(t,n,rI),new sI(i,n)},us=function(i,t){if(!i||typeof i=="number")return!1;if(i.hasOwnProperty(t))return!0;if(t.indexOf(".")!==-1){for(var n=t.split("."),x=i,C=0;C<n.length;C++)if(x.hasOwnProperty(n[C]))x=x[n[C]];else return!1;return!0}else return!1},oI=function(i){var t=!i.textArea;if(!us(i,"wrap.vAlign")){var n=t?"center":"top";nt(i,"wrap.vAlign",n)}if(us(i,"wrap.charWrap")||nt(i,"wrap.charWrap",!0),!us(i,"wrap.maxLines")){var n=t?1:void 0;nt(i,"wrap.maxLines",n)}if(us(i,"wrap.useDefaultTextHeight")||nt(i,"wrap.useDefaultTextHeight",!0),i.edit||(i.edit={}),!us(i.edit,"inputType")){var n=t?"text":"textarea";nt(i.edit,"inputType",n)}return i},hI=function(i){c0(i)||this.setCursorStyle(i).on("cursorin",function(t){var n=this.cursorStyle,x=e0(t.style,n);i0(n,x)||(t.styleSave=x,t.modifyStyle(n))},this).on("cursorout",function(t){t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},lI=function(i){c0(i)||this.setFocusStyle(i).on("open",function(){var t=this.background,n=this.focusStyle,x=e0(t,n);i0(n,x)||(t.styleSave=x,t.modifyStyle(n))},this).on("close",function(){var t=this.background;t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},uI=function(i){var t=i.createCharChild("|");return t.text="",n2.call(i,t),t};function zs(){}zs.prototype={diff(i,t,n={}){let x=n.callback;typeof n=="function"&&(x=n,n={}),this.options=n;let C=this;function M(r){return x?(setTimeout(function(){x(void 0,r)},0),!0):r}i=this.castInput(i),t=this.castInput(t),i=this.removeEmpty(this.tokenize(i)),t=this.removeEmpty(this.tokenize(t));let h=t.length,y=i.length,e=1,f=h+y;n.maxEditLength&&(f=Math.min(f,n.maxEditLength));let d=[{newPos:-1,components:[]}],s=this.extractCommon(d[0],t,i,0);if(d[0].newPos+1>=h&&s+1>=y)return M([{value:this.join(t),count:t.length}]);function a(){for(let r=-1*e;r<=e;r+=2){let o,u=d[r-1],v=d[r+1],l=(v?v.newPos:0)-r;u&&(d[r-1]=void 0);let c=u&&u.newPos+1<h,p=v&&0<=l&&l<y;if(!c&&!p){d[r]=void 0;continue}if(!c||p&&u.newPos<v.newPos?(o=dI(v),C.pushComponent(o.components,void 0,!0)):(o=u,o.newPos++,C.pushComponent(o.components,!0,void 0)),l=C.extractCommon(o,t,i,r),o.newPos+1>=h&&l+1>=y)return M(fI(C,o.components,t,i,C.useLongestToken));d[r]=o}e++}if(x)(function r(){setTimeout(function(){if(e>f)return x();a()||r()},0)})();else for(;e<=f;){let r=a();if(r)return r}},pushComponent(i,t,n){let x=i[i.length-1];x&&x.added===t&&x.removed===n?i[i.length-1]={count:x.count+1,added:t,removed:n}:i.push({count:1,added:t,removed:n})},extractCommon(i,t,n,x){let C=t.length,M=n.length,h=i.newPos,y=h-x,e=0;for(;h+1<C&&y+1<M&&this.equals(t[h+1],n[y+1]);)h++,y++,e++;return e&&i.components.push({count:e}),i.newPos=h,y},equals(i,t){return this.options.comparator?this.options.comparator(i,t):i===t||this.options.ignoreCase&&i.toLowerCase()===t.toLowerCase()},removeEmpty(i){let t=[];for(let n=0;n<i.length;n++)i[n]&&t.push(i[n]);return t},castInput(i){return i},tokenize(i){return i.split("")},join(i){return i.join("")}};function fI(i,t,n,x,C){let M=0,h=t.length,y=0,e=0;for(;M<h;M++){let d=t[M];if(d.removed){if(d.value=i.join(x.slice(e,e+d.count)),e+=d.count,M&&t[M-1].added){let s=t[M-1];t[M-1]=t[M],t[M]=s}}else{if(!d.added&&C){let s=n.slice(y,y+d.count);s=s.map(function(a,r){let o=x[e+r];return o.length>a.length?o:a}),d.value=i.join(s)}else d.value=i.join(n.slice(y,y+d.count));y+=d.count,d.added||(e+=d.count)}}let f=t[h-1];return h>1&&typeof f.value=="string"&&(f.added||f.removed)&&i.equals("",f.value)&&(t[h-2].value+=f.value,t.pop()),t}function dI(i){return{newPos:i.newPos,components:i.components.slice(0)}}const cI=new zs;function vI(i,t,n){return cI.diff(i,t,n)}const Zx=/^[a-zA-Z\u{C0}-\u{FF}\u{D8}-\u{F6}\u{F8}-\u{2C6}\u{2C8}-\u{2D7}\u{2DE}-\u{2FF}\u{1E00}-\u{1EFF}]+$/u,Jx=/\S/,z2=new zs;z2.equals=function(i,t){return this.options.ignoreCase&&(i=i.toLowerCase(),t=t.toLowerCase()),i===t||this.options.ignoreWhitespace&&!Jx.test(i)&&!Jx.test(t)};z2.tokenize=function(i){let t=i.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/);for(let n=0;n<t.length-1;n++)!t[n+1]&&t[n+2]&&Zx.test(t[n])&&Zx.test(t[n+2])&&(t[n]+=t[n+2],t.splice(n+1,2),n--);return t};const k2=new zs;k2.tokenize=function(i){let t=[],n=i.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(let x=0;x<n.length;x++){let C=n[x];x%2&&!this.options.newlineIsToken?t[t.length-1]+=C:(this.options.ignoreWhitespace&&(C=C.trim()),t.push(C))}return t};const pI=new zs;pI.tokenize=function(i){return i.split(/(\S.+?[.!?])(?=\s+|$)/)};const gI=new zs;gI.tokenize=function(i){return i.split(/([{}:;,]|\s+)/)};const mI=Object.prototype.toString,sh=new zs;sh.useLongestToken=!0;sh.tokenize=k2.tokenize;sh.castInput=function(i){const{undefinedReplacement:t,stringifyReplacer:n=(x,C)=>typeof C>"u"?t:C}=this.options;return typeof i=="string"?i:JSON.stringify(jv(i,null,null,n),n,"  ")};sh.equals=function(i,t){return zs.prototype.equals.call(sh,i.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function jv(i,t,n,x,C){t=t||[],n=n||[],x&&(i=x(C,i));let M;for(M=0;M<t.length;M+=1)if(t[M]===i)return n[M];let h;if(mI.call(i)==="[object Array]"){for(t.push(i),h=new Array(i.length),n.push(h),M=0;M<i.length;M+=1)h[M]=jv(i[M],t,n,x,C);return t.pop(),n.pop(),h}if(i&&i.toJSON&&(i=i.toJSON()),typeof i=="object"&&i!==null){t.push(i),h={},n.push(h);let y=[],e;for(e in i)i.hasOwnProperty(e)&&y.push(e);for(y.sort(),M=0;M<y.length;M+=1)e=y[M],h[e]=jv(i[e],t,n,x,e);t.pop(),n.pop()}else h=i;return h}const Zv=new zs;Zv.tokenize=function(i){return i.slice()};Zv.join=Zv.removeEmpty=function(i){return i};const xI=Phaser.Utils.Array.Remove;var yI=function(i,t){var n=i.text;if(t!==n){if(xI(i.children,i.lastInsertCursor),t==="")i.removeChildren();else for(var x=vI(n,t),C=0,M=0,h=x.length;M<h;M++){var y=x[M];y.removed?i.removeText(C,y.count):(y.added&&i.insertText(C,y.value),C+=y.count)}i.children.push(i.lastInsertCursor),i.runWordWrap()}};const Qx=Phaser.Utils.Objects.IsPlainObject;class T0 extends Ga{constructor(t,n,x,C,M,h){Qx(n)?h=n:Qx(C)&&(h=C),h===void 0&&(h={}),oI(h);var y=h.text;y&&delete h.text;var e=Uv(h.background,"focus"),f=Uv(h.style,"cursor");super(t,n,x,C,M,h),this.type="rexCanvasInput",this._text="",this.textEdit=aI(this,h),h.focusStyle&&Object.assign(e,h.focusStyle),lI.call(this,e),h.cursorStyle&&Object.assign(f,h.cursorStyle),hI.call(this,f);var d=h.onAddChar;d&&this.on("addchar",d);var s=h.onCursorOut;s&&this.on("cursorout",s);var a=h.onCursorIn;a&&this.on("cursorin",a);var r=h.onMoveCursor;r&&this.on("movecursor",r),this.setParseTextCallback(h.parseTextCallback),this.lastInsertCursor=uI(this),y?this.setText(y):this.runWordWrap()}addChild(t,n){if(super.addChild(t,n),Array.isArray(t))for(var x=t,C=0,M=x.length;C<M;C++){var t=x[C];La(t)&&this.emit("addchar",t,n+C,this)}else La(t)&&this.emit("addchar",t,n,this);return this}get text(){return this._text}set text(t){t==null?t="":t=t.toString(),this._text!==t&&(yI(this,t),this._text=t)}setText(t){return this.text=t,this}appendText(t){return this.setText(this.text+t),this}setSize(t,n){return this.width===t&&this.height===n?this:(super.setSize(t,n),this.runWrap(),this)}get displayText(){return this.text}set displayText(t){this.text=t}setDisplayText(t){return this.displayText=t,this}get inputText(){return this.textEdit.text}set inputText(t){this.textEdit.text=t}setInputText(t){return this.inputText=t,this}setParseTextCallback(t){return t||(t=TI),this.parseTextCallback=t,this}get value(){return this.parseTextCallback(this.text)}set value(t){this.setText(t)}getValue(){return this.value}setValue(t){return this.value=t,this}get readOnly(){return this.textEdit.readOnly}set readOnly(t){this.textEdit.readOnly=t}setReadOnly(t){return this.textEdit.setReadOnly(t),this}open(t){return t&&this.textEdit.once("close",t),this.textEdit.open(),this}close(){return this.textEdit.close(),this}get isOpened(){return this.textEdit.isOpened}setFocusStyle(t){return this.focusStyle=t,this}setCursorStyle(t){return this.cursorStyle=t,this}setNumberInput(){return this.textEdit.setNumberInput(),this.parseTextCallback=Number,this}get maxLength(){return this.textEdit.maxLength}set maxLength(t){this.textEdit.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.textEdit.minLength}set minLength(t){this.textEdit.minLength=t}setMinLength(t){return this.minLength=t,this}}var TI=function(i){return i};rt.register("canvasInput",function(i,t,n,x,C){var M=new T0(this.scene,i,t,n,x,C);return this.scene.add.existing(M),M});nt(window,"RexPlugins.UI.CanvasInput",T0);var C0=function(i){return wa(i).loop.delta};const qx=Phaser.Utils.Objects.GetValue,CI=Phaser.Math.Wrap;class U2 extends y0{constructor(t,n){n===void 0&&(n={}),n.onUpdate==="number"&&(n.onUpdate=V2),super(t,n),this.setCursor(qx(n,"cursor","|")),this.setCursorFlashDuration(qx(n,"cursorFlashDuration",1e3)),this.cursorFlashTimer=0}initText(){return this.cursorFlashTimer=0,this.prevCursorPosition=void 0,this.setText(this.parent.text),this.setCursorPosition(),this}updateText(){var t=this.parent,n=this.text;if(this.onUpdateCallback){var x=this.onUpdateCallback(n,t,this);x!=null&&(n=x)}if(this.isOpened&&this.hasCursor){var C=this.cursorPosition;n=n.substring(0,C)+this.cursor+n.substring(C),this.prevCursorPosition!==C&&(this.prevCursorPosition=C)}return t.text!==n&&(t.setText(n),this.emit("textchange",n,t,this)),this}setCursor(t){return this._cursor=t,this.hasCursor=t&&t!=="",t}setCursorFlashDuration(t){return this.cursorFlashDuration=t,this}get cursor(){if(!this._isFocused)return this._cursor;var t;this.cursorFlashTimer<this.cursorFlashDuration/2?t=this._cursor:t=" ";var n=this.cursorFlashTimer+C0(this.scene);return this.cursorFlashTimer=CI(n,0,this.cursorFlashDuration),t}}rt.register("hiddenEdit",function(i,t){var n=new U2(i,t);return n});nt(window,"RexPlugins.UI.HiddenEdit",U2);const SI=Phaser.GameObjects.GetCalcMatrix;var MI=function(i,t,n,x){t.updateData(),n.addToRenderList(t);var C=i.pipelines.set(t.pipeline),M=SI(t,n,x),h=C.calcMatrix.copyFrom(M.calc),y=t._displayOriginX,e=t._displayOriginY,f=n.alpha*t.alpha;i.pipelines.preBatch(t);for(var d=t.geom,s=0,a=d.length;s<a;s++)d[s].webglRender(C,h,f,y,e);i.pipelines.postBatch(t)};const EI=Phaser.Renderer.Canvas.SetTransform;var PI=function(i,t,n,x){t.updateData(),n.addToRenderList(t);var C=i.currentContext;if(EI(i,C,t,n,x)){for(var M=t._displayOriginX,h=t._displayOriginY,y=t.geom,e=0,f=y.length;e<f;e++)y[e].canvasRender(C,M,h);C.restore()}};const RI={renderWebGL:MI,renderCanvas:PI},AI=Phaser.GameObjects.Shape,wI=Phaser.Utils.Array.Remove;class yr extends AI{constructor(t,n,x,C,M){n===void 0&&(n=0),x===void 0&&(x=0),C===void 0&&(C=2),M===void 0&&(M=C),super(t,"rexShapes",[]),this._width=-1,this._height=-1,this.dirty=!0,this.isSizeChanged=!0,this.shapes={},this.setPosition(n,x),this.setSize(C,M),this.updateDisplayOrigin()}get width(){return this._width}set width(t){this.setSize(t,this._height)}get height(){return this._height}set height(t){this.setSize(this._width,t)}setDirty(t){return t===void 0&&(t=!0),this.dirty=t,this}setSize(t,n){this.isSizeChanged=this.isSizeChanged||this._width!==t||this._height!==n,this.dirty=this.dirty||this.isSizeChanged,this._width=t,this._height=n,this.updateDisplayOrigin();var x=this.input;return x&&!x.customHitArea&&(x.hitArea.width=t,x.hitArea.height=n),this}resize(t,n){return this.setSize(t,n),this}get fillColor(){return this._fillColor}set fillColor(t){this.setFillStyle(t,this._fillAlpha)}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this.setFillStyle(this._fillColor,t)}setFillStyle(t,n){return n===void 0&&(n=1),this.dirty=this.dirty||this.fillColor!==t||this.fillAlpha!==n,this._fillColor=t,this._fillAlpha=n,this}get lineWidth(){return this._lineWidth}set lineWidth(t){this.setStrokeStyle(t,this._strokeColor,this._strokeAlpha)}get strokeColor(){return this._strokeColor}set strokeColor(t){this.setStrokeStyle(this._lineWidth,t,this._strokeAlpha)}get strokeAlpha(){return this._strokeAlpha}set strokeAlpha(t){this.setStrokeStyle(this._lineWidth,this._strokeColor,t)}setStrokeStyle(t,n,x){return x===void 0&&(x=1),this.dirty=this.dirty||this.lineWidth!==t||this.strokeColor!==n||this.strokeAlpha!==x,this._lineWidth=t,this._strokeColor=n,this._strokeAlpha=x,this}updateShapes(){}updateData(){if(!this.dirty)return this;this.updateShapes();for(var t=this.geom,n=0,x=t.length;n<x;n++){var C=t[n];C.dirty&&C.updateData()}return this.isSizeChanged=!1,this.dirty=!1,this}clear(){return this.geom.length=0,Fs(this.shapes),this}getShape(t){return this.shapes[t]}getShapes(){return this.geom}addShape(t){this.geom.push(t);var n=t.name;return n&&(this.shapes[n]=t),this.dirty=!0,this}deleteShape(t){var n=this.getShape(t);return n&&(delete this.shapes[t],wI(this.geom,n)),this}}Object.assign(yr.prototype,RI);const OI={setBoxFillStyle(i,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.boxFillColor!==i||this.boxFillAlpha!==t,this.boxFillColor=i,this.boxFillAlpha=t,this},setUncheckedBoxFillStyle(i,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.uncheckedBoxFillColor!==i||this.uncheckedBoxFillAlpha!==t,this.uncheckedBoxFillColor=i,this.uncheckedBoxFillAlpha=t,this},setBoxStrokeStyle(i,t,n){return n===void 0&&(n=1),this.dirty=this.dirty||this.boxLineWidth!==i||this.boxStrokeColor!==t||this.boxStrokeAlpha!==n,this.boxLineWidth=i,this.boxStrokeColor=t,this.boxStrokeAlpha=n,this},setUncheckedBoxStrokeStyle(i,t,n){return n===void 0&&(n=1),this.dirty=this.dirty||this.uncheckedBoxLineWidth!==i||this.uncheckedBoxStrokeColor!==t||this.uncheckedBoxStrokeAlpha!==n,this.uncheckedBoxLineWidth=i,this.uncheckedBoxStrokeColor=t,this.uncheckedBoxStrokeAlpha=n,this},setCheckerStyle(i,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.checkerColor!==i||this.checkAlpha!==t,this.checkerColor=i,this.checkAlpha=t,this},setBoxShape(i){return i===void 0&&(i=!1),this.isCircleShape===i?this:(this.isCircleShape=i,this.isSizeChanged=!0,this.dirty=!0,this)}},LI={setBoxSize(i){return this.dirty=this.dirty||this.boxSize!==i,this.boxSize=i,this},setCheckerSize(i){return this.dirty=this.dirty||this.checkerSize!==i,this.checkerSize=i,this}};var FI=function(i,t){return i==null?this.isFilled=!1:(t===void 0&&(t=1),this.isFilled=!0,this.fillColor=i,this.fillAlpha=t),this},II=function(i,t,n){return i==null||t==null?this.isStroked=!1:(n===void 0&&(n=1),this.isStroked=!0,this.lineWidth=i,this.strokeColor=t,this.strokeAlpha=n),this};const DI={fillStyle:FI,lineStyle:II};class lf{constructor(){this.name=void 0,this.dirty=!0,this.data=void 0,this.isFilled=!1,this.fillColor=void 0,this.fillAlpha=1,this.isStroked=!1,this.lineWidth=1,this.strokeColor=void 0,this.strokeAlpha=1}setName(t){return this.name=t,this}reset(){return this.fillStyle().lineStyle(),this}webglRender(t,n,x,C,M){}canvasRender(t,n,x){}updateData(){this.dirty=!1}}Object.assign(lf.prototype,DI,_u);const BI=Phaser.Geom.Polygon.Earcut;class gh extends lf{constructor(){super(),this.pathData=[],this.pathIndexes=[],this.closePath=!1}updateData(){return this.pathIndexes=BI(this.pathData),super.updateData(),this}webglRender(t,n,x,C,M){this.isFilled&&WS(t,n,this,x,C,M),this.isStroked&&tf(t,this,x,C,M)}canvasRender(t,n,x){var C=this.pathData,M=C.length-1,h=C[0]-n,y=C[1]-x;t.beginPath(),t.moveTo(h,y),this.closePath||(M-=2);for(var e=2;e<M;e+=2){var f=C[e]-n,d=C[e+1]-x;t.lineTo(f,d)}this.closePath&&t.closePath(),this.isFilled&&(dh(t,this),t.fill()),this.isStroked&&(ch(t,this),t.stroke())}}const _x=Phaser.Math.DegToRad;class uf extends gh{constructor(t,n,x,C,M,h,y,e){t===void 0&&(t=0),n===void 0&&(n=0),x===void 0&&(x=0),C===void 0&&(C=0),M===void 0&&(M=0),h===void 0&&(h=360),y===void 0&&(y=!1),e===void 0&&(e=!1),super(),this.setCenterPosition(t,n),this.setRadius(x,C),this.setAngle(M,h,y),this.setPie(e),this.setIterations(32)}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setCenterPosition(t,n){return n===void 0&&(n=t),this.x=t,this.y=n,this}get radiusX(){return this._radiusX}set radiusX(t){this.dirty=this.dirty||this._radiusX!==t,this._radiusX=t}get radiusY(){return this._radiusY}set radiusY(t){this.dirty=this.dirty||this._radiusY!==t,this._radiusY=t}setRadius(t,n){return n===void 0&&(n=t),this.radiusX=t,this.radiusY=n,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!==t,this._startAngle=t}get endAngle(){return this._endAngle}set endAngle(t){this.dirty=this.dirty||this._endAngle!==t,this._endAngle=t}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!==t,this._anticlockwise=t}setAngle(t,n,x){return x===void 0&&(x=!1),this.startAngle=t,this.endAngle=n,this.anticlockwise=x,this}get pie(){return this._pie}set pie(t){this.dirty=this.dirty||this._pie!==t,this._pie=t}setPie(t){return t===void 0&&(t=!0),this.pie=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){return this.pathData.length=0,this.pie&&this.pathData.push(this.x,this.y),pe(this.x,this.y,this.radiusX,this.radiusY,this.startAngle,this.endAngle,this.anticlockwise,this.iterations,this.pathData),this.pie&&this.pathData.push(this.x,this.y),this.pathData.push(this.pathData[0],this.pathData[1]),super.updateData(),this}canvasRender(t,n,x){t.beginPath();var C=this.x-n,M=this.y-x,h=_x(this.startAngle),y=_x(this.endAngle);this.pie&&(t.moveTo(C,M),t.lineTo(C+Math.cos(h)*this.radiusX,M+Math.sin(h)*this.radiusY)),t.ellipse(C,M,this.radiusX,this.radiusY,0,h,y,this.anticlockwise),this.pie&&t.lineTo(C,M),this.isFilled&&(dh(t,this),t.fill()),this.isStroked&&(ch(t,this),t.stroke())}}class Jv extends uf{constructor(t,n,x){super(t,n,x,x,0,360)}}class bI extends gh{constructor(t){super(),this.setCurve(t),this.setIterations(32)}get curve(){return this._curve}set curve(t){this.dirty=this.dirty||this._curve!==t,this._curve=t}setCurve(t){return this.curve=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){this.pathData.length=0;for(var t=this.curve.getPoints(this.iterations),n=0,x=t.length;n<x;n++)this.pathData.push(t[n].x,t[n].y);return this.pathData.push(t[0].x,t[0].y),super.updateData(),this}}class GI extends uf{constructor(t,n,x,C){super(t,n,x,C,0,360)}}class NI extends gh{constructor(t,n,x,C){t===void 0&&(t=0),n===void 0&&(n=0),x===void 0&&(x=0),C===void 0&&(C=0),super(),this.setP0(t,n),this.setP1(x,C)}get x0(){return this._x0}set x0(t){this.dirty=this.dirty||this._x0!==t,this._x0=t}get y0(){return this._y0}set y0(t){this.dirty=this.dirty||this._y0!==t,this._y0=t}setP0(t,n){return this.x0=t,this.y0=n,this}get x1(){return this._x1}set x1(t){this.dirty=this.dirty||this._x1!==t,this._x1=t}get y1(){return this._y1}set y1(t){this.dirty=this.dirty||this._y1!==t,this._y1=t}setP1(t,n){return this.x1=t,this.y1=n,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x0,this.y0),super.updateData(),this}}var VI=function(i,t,n){return n.length=0,i!=null&&n.push(i,t),n};const t1=Phaser.Math.Interpolation.QuadraticBezier;var zI=function(i,t,n,x,C,M){for(var h=M.length,y=M[h-2],e=M[h-1],f=1,d=C-1;f<=d;f++){var s=f/d;M.push(t1(s,y,i,n),t1(s,e,t,x))}return M};const e1=Phaser.Math.Interpolation.CubicBezier;var kI=function(i,t,n,x,C,M,h,y){for(var e=y.length,f=y[e-2],d=y[e-1],s=1,a=h-1;s<=a;s++){var r=s/a;y.push(e1(r,f,i,n,C),e1(r,d,t,x,M))}return y},X2=function(i){var t=i.length;if(t<2)return i;var n=i[t-2],x=i[t-1];return i.push(n),i.push(x),i};const UI={clear(){return this.start(),this},start(){return this.startAt(),this},startAt(i,t){return this.restorePathData(),this.accumulationLengths=void 0,VI(i,t,this.pathData),this.firstPointX=i,this.firstPointY=t,this.lastPointX=i,this.lastPointY=t,this},lineTo(i,t,n){return n===void 0&&(n=!1),n&&(i+=this.lastPointX,t+=this.lastPointY),ds(i,t,this.pathData),this.lastPointX=i,this.lastPointY=t,this},verticalLineTo(i,t){return this.lineTo(i,this.lastPointY,t),this},horizontalLineTo(i,t){return this.lineTo(this.lastPointX,i,t),this},ellipticalArc(i,t,n,x,C,M,h){return h===void 0&&(h=!1),pe(i,t,n,x,C,M,h,this.iterations,this.pathData),this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this},arc(i,t,n,x,C,M){return this.ellipticalArc(i,t,n,n,x,C,M),this},quadraticBezierTo(i,t,n,x){return zI(i,t,n,x,this.iterations,this.pathData),this.lastPointX=n,this.lastPointY=x,this.lastCX=i,this.lastCY=t,this},smoothQuadraticBezierTo(i,t){var n=this.lastPointX*2-this.lastCX,x=this.lastPointY*2-this.lastCY;return this.quadraticBezierTo(n,x,i,t),this},cubicBezierCurveTo(i,t,n,x,C,M){return kI(i,t,n,x,C,M,this.iterations,this.pathData),this.lastPointX=C,this.lastPointY=M,this.lastCX=n,this.lastCY=x,this},smoothCubicBezierCurveTo(i,t,n,x){var C=this.lastPointX*2-this.lastCX,M=this.lastPointY*2-this.lastCY;return this.cubicBezierCurveTo(C,M,i,t,n,x),this},close(){return this.closePath=!0,this},end(){return X2(this.pathData),this}},XI=Phaser.Math.RotateAround;var YI=function(i,t,n,x){for(var C={x:0,y:0},M=0,h=x.length-1;M<h;M+=2)C.x=x[M],C.y=x[M+1],XI(C,i,t,n),x[M]=C.x,x[M+1]=C.y;return x},WI=function(i,t,n,x,C){for(var M=0,h=C.length-1;M<h;M+=2){var y=C[M]-i,e=C[M+1]-t;y*=n,e*=x,C[M]=y+i,C[M+1]=e+t}return C},Y2=function(i,t,n){for(var x=0,C=n.length-1;x<C;x+=2)n[x]+=i,n[x+1]+=t;return n};const HI=Phaser.Math.DegToRad,$I=Phaser.Math.RotateAround,KI={rotateAround(i,t,n){if(this.pathData.length===0)return this;n=HI(n),YI(i,t,n,this.pathData);var x=this.pathData.length;if(this.lastPointX=this.pathData[x-2],this.lastPointY=this.pathData[x-1],this.lastCX!==void 0){var C={x:this.lastCX,y:this.lastCY};$I(C,i,t,n),this.lastCX=C.x,this.lastCY=C.y}return this},scale(i,t,n,x){if(this.pathData.length===0)return this;if(WI(i,t,n,x,this.pathData),this.lastPointX=this.pathData[pathDataCnt-2],this.lastPointY=this.pathData[pathDataCnt-1],this.lastCX!==void 0){var C=this.lastCX-i,M=this.lastCY-t;C*=n,M*=x,this.lastCX=C+i,this.lastCY=M+t}return this},offset(i,t){return Y2(i,t,this.pathData),this}};var S0=function(i,t,n,x){n===void 0&&(n=0),x===void 0&&(x=t.length),i.length=x-n;for(var C=0,M=i.length;C<M;C++)i[C]=t[C+n];return i};const jI={savePathData(){return this.pathDataSaved?this:(this.pathDataSave=[...this.pathData],this.pathData.length=0,this.pathDataSaved=!0,this)},restorePathData(){return this.pathDataSaved?(S0(this.pathData,this.pathDataSave),this.pathDataSave=void 0,this.pathDataSaved=!1,this):this}},ZI=Phaser.Math.Distance.Between,JI=Phaser.Math.Wrap,QI=Phaser.Math.Linear;var i1=function(i,t,n,x,C){if(x===void 0&&(x=n,n=0),n=s1(n),x=s1(x),n!==x){var M=t[t.length-1],h=M*n,y=M*x;n<x?Gd(i,t,h,y,C):(Gd(i,t,h,M,C),Gd(i,t,0,y,C)),X2(C)}},Gd=function(i,t,n,x,C){for(var M=n>0,h=0,y=t.length;h<y;h++){var e=h*2,f=t[h];if(M){if(f<n)continue;if(f==n)M=!1;else{var d=f-t[h-1],s=1-(f-n)/d;C.push(ul(i,e-2,e,s)),C.push(ul(i,e-1,e+1,s)),M=!1}}if(f<=x){if(C.push(i[e]),C.push(i[e+1]),f===x)break}else{var d=f-t[h-1],s=1-(f-x)/d;C.push(ul(i,e-2,e,s)),C.push(ul(i,e-1,e+1,s));break}}},ul=function(i,t,n,x){var C=i[t],M=i[n];return QI(C,M,x)},s1=function(i){return i===0?0:i%1===0?1:JI(i,0,1)};const qI={updateAccumulationLengths(){if(this.accumulationLengths==null)this.accumulationLengths=[];else if(this.accumulationLengths.length===this.pathData.length/2)return this;for(var i=this.accumulationLengths,t=this.pathData,n,x,C,M,h,y=0,e=0,f=t.length;e<f;e+=2)C=t[e],M=t[e+1],h=n===void 0?0:ZI(n,x,C,M),y+=h,i.push(y),n=C,x=M;return this.totalPathLength=y,this},setDisplayPathSegment(i,t){return this.pathDataSaved||(this.updateAccumulationLengths(),this.savePathData()),this.pathData.length=0,i1(this.pathDataSave,this.accumulationLengths,i,t,this.pathData),this},appendFromPathSegment(i,t,n){return t===void 0?this.pathData.push(...i.pathData):(i.updateAccumulationLengths(),i1(i.pathData,i.accumulationLengths,t,n,this.pathData)),this.firstPointX=this.pathData[0],this.firstPointY=this.pathData[1],this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this}},_I={draw(i,t,n){var x=this.toPoints();return t&&i.fillPoints(x,this.closePath,this.closePath),n&&i.strokePoints(x,this.closePath,this.closePath),this}};var tD=function(i,t){t===void 0&&(t=[]);for(var n=0,x=i.length-1;n<x;n+=2)t.push({x:i[n],y:i[n+1]});return t};const eD=Phaser.Geom.Polygon;var iD=function(i,t){return t===void 0&&(t=new eD),t.setTo(i),t};class W2{constructor(t){t===void 0&&(t=[]),this.pathData=t,this.closePath=!1,this.setIterations(32),this.firstPointX=void 0,this.firstPointY=void 0,this.lastPointX=void 0,this.lastPointY=void 0,this.accumulationLengths=void 0}setIterations(t){return this.iterations=t,this}toPoints(){return tD(this.pathData)}toPolygon(t){return iD(this.pathData,t)}}Object.assign(W2.prototype,UI,KI,jI,qI,_I);class Ta extends gh{constructor(){super(),this.builder=new W2(this.pathData)}get iterations(){return this.builder.iterations}set iterations(t){this.dirty=this.dirty||this.builder.iterations!==t,this.builder.setIterations(t)}setIterations(t){return this.iterations=t,this}get lastPointX(){return this.builder.lastPointX}get lastPointY(){return this.builder.lastPointY}start(){return this.builder.start(),this.dirty=!0,this}startAt(t,n){return this.builder.startAt(t,n),this.dirty=!0,this}lineTo(t,n,x){return this.builder.lineTo(t,n,x),this.dirty=!0,this}verticalLineTo(t,n){return this.builder.verticalLineTo(t,n),this.dirty=!0,this}horizontalLineTo(t,n){return this.builder.horizontalLineTo(t,n),this.dirty=!0,this}ellipticalArc(t,n,x,C,M,h,y){return this.builder.ellipticalArc(t,n,x,C,M,h,y),this.dirty=!0,this}arc(t,n,x,C,M,h){return this.builder.arc(t,n,x,C,M,h),this.dirty=!0,this}quadraticBezierTo(t,n,x,C){return this.builder.quadraticBezierTo(t,n,x,C),this.dirty=!0,this}smoothQuadraticBezierTo(t,n){return this.builder.smoothQuadraticBezierTo(t,n),this.dirty=!0,this}cubicBezierCurveTo(t,n,x,C,M,h){return this.builder.cubicBezierCurveTo(t,n,x,C,M,h),this.dirty=!0,this}smoothCubicBezierCurveTo(t,n,x,C){return this.builder.smoothCubicBezierCurveTo(t,n,x,C),this.dirty=!0,this}close(){return this.builder.close(),this.closePath=this.builder.closePath,this.dirty=!0,this}end(){return this.builder.end(),this.dirty=!0,this}rotateAround(t,n,x){return this.builder.rotateAround(t,n,x),this.dirty=!0,this}scale(t,n,x,C){return this.builder.scale(t,n,x,C),this.dirty=!0,this}offset(t,n){return this.builder.offset(t,n),this.dirty=!0,this}toPolygon(t){return this.builder.toPolygon(t)}appendPathFrom(t,n,x){return this.builder.appendFromPathSegment(t.builder,n,x),this}copyPathFrom(t,n,x){return this.builder.clear().appendFromPathSegment(t.builder,n,x),this}setDisplayPathSegment(t,n){return this.builder.setDisplayPathSegment(t,n),this}}const sD=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;let nD=class extends lf{constructor(t,n,x,C){t===void 0&&(t=0),n===void 0&&(n=0),x===void 0&&(x=0),C===void 0&&(C=x),super(),this.pathData=[],this.closePath=!0,this.setTopLeftPosition(t,n),this.setSize(x,C)}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setTopLeftPosition(t,n){return this.x=t,this.y=n,this}get width(){return this._width}set width(t){this.dirty=this.dirty||this._width!==t,this._width=t}get height(){return this._height}set height(t){this.dirty=this.dirty||this._height!==t,this._height=t}setSize(t,n){return this.width=t,this.height=n,this}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}setCenterPosition(t,n){return this.centerX=t,this.centerY=n,this}updateData(){this.pathData.length=0;var t=this.x,n=t+this.width,x=this.y,C=x+this.height;return this.pathData.push(t,x),this.pathData.push(n,x),this.pathData.push(n,C),this.pathData.push(t,C),this.pathData.push(t,x),super.updateData(),this}webglRender(t,n,x,C,M){if(this.isFilled){var h=t.fillTint,y=sD(this.fillColor,this.fillAlpha*x);h.TL=y,h.TR=y,h.BL=y,h.BR=y,t.batchFillRect(-C+this.x,-M+this.y,this.width,this.height)}this.isStroked&&tf(t,this,x,C,M)}canvasRender(t,n,x){this.isFilled&&(dh(t,this),t.fillRect(-n,-x,this.width,this.height)),this.isStroked&&(ch(t,this),t.beginPath(),t.rect(-n,-x,this.width,this.height),t.stroke())}};const fl=Phaser.Utils.Objects.GetValue;class Lu extends gh{constructor(t,n,x,C,M,h){t===void 0&&(t=0),n===void 0&&(n=0),x===void 0&&(x=0),C===void 0&&(C=x),M===void 0&&(M=0),h===void 0&&(h=6),super(),this.setTopLeftPosition(t,n),this.setSize(x,C),this.setRadius(M),this.setIterations(h),this.closePath=!0}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setTopLeftPosition(t,n){return this.x=t,this.y=n,this}get width(){return this._width}set width(t){this.dirty=this.dirty||this._width!==t,this._width=t}get height(){return this._height}set height(t){this.dirty=this.dirty||this._height!==t,this._height=t}setSize(t,n){return this.width=t,this.height=n,this}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}setCenterPosition(t,n){return this.centerX=t,this.centerY=n,this}get radiusTL(){return this._radiusTL}set radiusTL(t){var n=t>0;this.dirty=this.dirty||this._radiusTL!==t||this._convexTL!==n,this._convexTL=n,this._radiusTL=Math.abs(t)}get radiusTR(){return this._radiusTR}set radiusTR(t){var n=t>0;this.dirty=this.dirty||this._radiusTR!==t||this._convexTR!==n,this._convexTR=n,this._radiusTR=Math.abs(t)}get radiusBL(){return this._radiusBL}set radiusBL(t){var n=t>0;this.dirty=this.dirty||this._radiusBL!==t||this._convexBL!==n,this._convexBL=n,this._radiusBL=Math.abs(t)}get radiusBR(){return this._radiusBR}set radiusBR(t){var n=t>0;this.dirty=this.dirty||this._radiusBR!==t||this._convexBR!==n,this._convexBR=n,this._radiusBR=Math.abs(t)}get radius(){return Math.max(this.radiusTL,this.radiusTR,this.radiusBL,this.radiusBR)}set radius(t){typeof t=="number"?(this.radiusTL=t,this.radiusTR=t,this.radiusBL=t,this.radiusBR=t):(this.radiusTL=fl(t,"tl",0),this.radiusTR=fl(t,"tr",0),this.radiusBL=fl(t,"bl",0),this.radiusBR=fl(t,"br",0))}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){var t=this.pathData;t.length=0;var n=this.width,x=this.height,C,M=this.iterations+1;if(C=this.radiusTL,C>0)if(this._convexTL){var h=C,y=C;pe(h,y,C,C,180,270,!1,M,t)}else{var h=0,y=0;pe(h,y,C,C,90,0,!0,M,t)}else ds(0,0,t);if(C=this.radiusTR,C>0)if(this._convexTR){var h=n-C,y=C;pe(h,y,C,C,270,360,!1,M,t)}else{var h=n,y=0;pe(h,y,C,C,180,90,!0,M,t)}else ds(n,0,t);if(C=this.radiusBR,C>0)if(this._convexBR){var h=n-C,y=x-C;pe(h,y,C,C,0,90,!1,M,t)}else{var h=n,y=x;pe(h,y,C,C,270,180,!0,M,t)}else ds(n,x,t);if(C=this.radiusBL,C>0)if(this._convexBL){var h=C,y=x-C;pe(h,y,C,C,90,180,!1,M,t)}else{var h=0,y=x;pe(h,y,C,C,360,270,!0,M,t)}else ds(0,x,t);return t.push(t[0],t[1]),Y2(this.x,this.y,t),super.updateData(),this}}const rD=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;let aD=class extends lf{constructor(t,n,x,C,M,h){t===void 0&&(t=0),n===void 0&&(n=0),x===void 0&&(x=0),C===void 0&&(C=0),M===void 0&&(M=0),h===void 0&&(h=0),super(),this.pathData=[],this.closePath=!0,this.setP0(t,n),this.setP1(x,C),this.setP2(M,h)}get x0(){return this._x0}set x0(t){this.dirty=this.dirty||this._x0!==t,this._x0=t}get y0(){return this._y0}set y0(t){this.dirty=this.dirty||this._y0!==t,this._y0=t}setP0(t,n){return this.x0=t,this.y0=n,this}get x1(){return this._x1}set x1(t){this.dirty=this.dirty||this._x1!==t,this._x1=t}get y1(){return this._y1}set y1(t){this.dirty=this.dirty||this._y1!==t,this._y1=t}setP1(t,n){return this.x1=t,this.y1=n,this}get x2(){return this._x2}set x2(t){this.dirty=this.dirty||this._x2!==t,this._x2=t}get y2(){return this._y2}set y2(t){this.dirty=this.dirty||this._y2!==t,this._y2=t}setP2(t,n){return this.dirty=this.dirty||this.x2!==t||this.y2!==n,this.x2=t,this.y2=n,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x2,this.y2),this.pathData.push(this.x0,this.y0),super.updateData(),this}webglRender(t,n,x,C,M){if(this.isFilled){var h=rD(this.fillColor,this.fillAlpha*x),y=this.x0-C,e=this.y0-M,f=this.x1-C,d=this.y1-M,s=this.x2-C,a=this.y2-M,r=n.getX(y,e),o=n.getY(y,e),u=n.getX(f,d),v=n.getY(f,d),l=n.getX(s,a),c=n.getY(s,a);t.batchTri(r,o,u,v,l,c,h,h,h)}this.isStroked&&tf(t,this,x,C,M)}canvasRender(t,n,x){var C=this.x1-n,M=this.y1-x,h=this.x2-n,y=this.y2-x,e=this.x3-n,f=this.y3-x;t.beginPath(),t.moveTo(C,M),t.lineTo(h,y),t.lineTo(e,f),t.closePath(),this.isFilled&&(dh(t,this),t.fill()),this.isStroked&&(ch(t,this),t.stroke())}};const oD={buildShapes(){this.addShape(new Lu().setName("box")).addShape(new Ta().setName("checker"))},updateShapes(){var i=this.width/2,t=this.height/2,n=Math.min(i,t),x=n*2,C=i-n,M=t-n,h=this.boxLineWidth,y=Math.max(x/10,2),e=this.getShape("box"),f=this.getShape("checker");if(this.isSizeChanged){var a=x*(1-this.boxSize)/2,d=h/2,s=x*this.boxSize-h;e.setTopLeftPosition(C+d+a,M+d+a).setSize(s,s),this.isCircleShape?e.setRadius(s/2):e.setRadius(0);var a=x*(1-this.checkerSize)/2,r=x*this.checkerSize/4,o=r*1,u=r*2,v=r*3;f.startAt(o,u).lineTo(u,v).lineTo(v,o).offset(C+a,M+a).end()}this.checked?(e.fillStyle(this.boxFillColor,this.boxFillAlpha).lineStyle(h,this.boxStrokeColor,this.boxStrokeAlpha),f.lineStyle(y,this.checkerColor)):(e.fillStyle(this.uncheckedBoxFillColor,this.uncheckedBoxFillAlpha).lineStyle(h,this.uncheckedBoxStrokeColor,this.uncheckedBoxStrokeAlpha),f.lineStyle()),this.checked&&f.setDisplayPathSegment(this.checkerAnimProgress)}},Ks=Phaser.Utils.Objects.GetValue,hD=Phaser.Math.Linear;class Tr extends xr{constructor(t,n){super(t,n),this.resetFromJSON(),this.boot()}start(t){if(this.timer.isRunning)return this;var n=this.target;this.propertyKey=Ks(t,"key","value");var x=n[this.propertyKey];return this.fromValue=Ks(t,"from",x),this.toValue=Ks(t,"to",x),this.setEase(Ks(t,"ease",this.ease)),this.setDuration(Ks(t,"duration",this.duration)),this.setRepeat(Ks(t,"repeat",0)),this.setDelay(Ks(t,"delay",0)),this.setRepeatDelay(Ks(t,"repeatDelay",0)),this.timer.setDuration(this.duration).setRepeat(this.repeat).setDelay(this.delay).setRepeatDelay(this.repeatDelay),n[this.propertyKey]=this.fromValue,super.start(),this}updateGameObject(t,n){var x=n.t;x=this.easeFn(x),t[this.propertyKey]=hD(this.fromValue,this.toValue,x)}}const lD={setCheckerAnimationDuration(i){return i===void 0&&(i=0),this.checkerAnimDuration=i,this},playCheckerAnimation(){return this.checkerAnimProgressTask===void 0&&(this.checkerAnimProgressTask=new Tr(this,{eventEmitter:null})),this.checkerAnimProgressTask.restart({key:"checkerAnimProgress",from:0,to:1,duration:this.checkerAnimDuration}),this},stopCheckerAnimation(){return this.checkerAnimProgressTask===void 0?this:(this.checkerAnimProgressTask.stop(),this)}};var H2={};Object.assign(H2,OI,LI,oD,lD);const Qt=Phaser.Utils.Objects.GetValue,n1=Phaser.Utils.Objects.IsPlainObject,Nd=23730,uD=16777215;class $2 extends yr{constructor(t,n,x,C,M,h,y){n1(n)?(y=n,n=Qt(y,"x",0),x=Qt(y,"y",0),C=Qt(y,"width",2),M=Qt(y,"height",2),h=Qt(y,"color",Nd)):n1(h)&&(y=h,h=Qt(y,"color",Nd)),super(t,n,x,C,M),this.type="rexCheckbox",h===void 0&&(h=Nd),this.setBoxShape(Qt(y,"circleBox",!1)),this.setBoxFillStyle(h,Qt(y,"boxFillAlpha",1)),this.setUncheckedBoxFillStyle(Qt(y,"uncheckedColor",null),Qt(y,"uncheckedBoxFillAlpha",1)),this.setBoxStrokeStyle(Qt(y,"boxLineWidth",4),Qt(y,"boxStrokeColor",h),Qt(y,"boxStrokeAlpha",1)),this.setUncheckedBoxStrokeStyle(this.boxLineWidth,Qt(y,"uncheckedBoxStrokeColor",this.boxStrokeColor),Qt(y,"uncheckedBoxStrokeAlpha",this.boxStrokeAlpha)),this.setCheckerStyle(Qt(y,"checkerColor",uD),Qt(y,"checkerAlpha",1)),this.setBoxSize(Qt(y,"boxSize",1)),this.setCheckerSize(Qt(y,"checkerSize",1)),this.setCheckerAnimationDuration(Qt(y,"animationDuration",150)),this.buildShapes();var e=Qt(y,"checked");e===void 0&&(e=Qt(y,"value",!1)),this.setValue(e)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,t?this.playCheckerAnimation():this.stopCheckerAnimation(),this.emit("valuechange",t))}setValue(t){return this.value=t,this}toggleValue(){return this.setValue(!this.value),this}get checked(){return this.value}set checked(t){this.value=t}setChecked(t){return t===void 0&&(t=!0),this.setValue(t),this}toggleChecked(){return this.toggleValue(),this}get checkerAnimProgress(){return this._checkerAnimProgress}set checkerAnimProgress(t){this._checkerAnimProgress!==t&&(this._checkerAnimProgress=t,this.dirty=!0)}}Object.assign($2.prototype,H2);const oo=Phaser.Utils.Objects.GetValue;class On extends me{constructor(t,n){super(t,n),this._enable=void 0,t.setInteractive(oo(n,"inputConfig",void 0)),this.resetFromJSON(n),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.setEnable(oo(t,"enable",!0)),this.setMode(oo(t,"mode",1)),this.setClickInterval(oo(t,"clickInterval",100)),this.setDragThreshold(oo(t,"threshold",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPress,this),t.on("pointerup",this.onRelease,this),t.on("pointerout",this.onPointOut,this),t.on("pointermove",this.onMove,this),t.on("pointerover",this.onOver,this),t.on("pointerout",this.onOut,this)}shutdown(t){this.isShutdown||(this.pointer=null,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t){t||this.cancel(),this._enable=t;var n=t?"enable":"disable";this.emit(n,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=fD[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}onPress(t,n,x,C){this.pointer===void 0&&(this.pointer=t,this.mode===0&&this.click(t.downTime,t,C))}onRelease(t,n,x,C){this.pointer===t&&(this.mode===1&&this.click(t.upTime,t,C),this.pointer=void 0)}onPointOut(t,n){this.pointer===t&&this.cancel()}onMove(t,n,x,C){this.pointer===t&&this.dragThreshold!==void 0&&t.getDistance()>=this.dragThreshold&&this.cancel()}click(t,n,x){if(!this.enable)return this;if(t===void 0)return this.emit("click",this,this.parent,n,x),this;this.pointer=void 0;var C=this.lastClickTime;return C!==void 0&&t-C<=this.clickInterval?this:(this.lastClickTime=t,this.emit("click",this,this.parent,n,x),this)}cancel(){return this.pointer=void 0,this}onOver(t,n,x,C){return this.enable?(this.emit("over",this,this.parent,t,C),this):this}onOut(t,n){return this.enable?(this.emit("out",this,this.parent,t,n),this):this}}const fD={press:0,pointerdown:0,release:1,pointerup:1},r1=Phaser.Utils.Objects.GetValue;class M0 extends $2{constructor(t,n,x,C,M,h,y){super(t,n,x,C,M,h,y),this._click=new On(this,r1(y,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly(r1(y,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}}rt.register("checkbox",function(i,t,n,x,C,M){var h=new M0(this.scene,i,t,n,x,C,M);return this.scene.add.existing(h),h});nt(window,"RexPlugins.UI.Checkbox",M0);const dD={setTrackFillStyle(i,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.trackFillColor!==i||this.trackFillAlpha!==t,this.trackFillColor=i,this.trackFillAlpha=t,this},setFalseValueTrackFillStyle(i,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.falseValueTrackColor!==i||this.uncheckedTrackFillAlpha!==t,this.falseValueTrackColor=i,this.falseValueTrackFillAlpha=t,this},setThumbStyle(i,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.thumbColor!==i||this.checkAlpha!==t,this.thumbColor=i,this.thumbAlpha=t,this}},cD={setTrackSize(i,t){return this.dirty=this.dirty||this.trackWidth!==i||this.trackHeight!==t,this.trackWidth=i,this.trackHeight=t,this},setTrackRadius(i){return this.dirty=this.dirty||this.trackRadius!==i,this.trackRadius=i,this},setThumbSize(i,t){return t===void 0&&(t=i),this.dirty=this.dirty||this.thumbWidth!==i||this.thumbHeight!==t,this.thumbWidth=i,this.thumbHeight=t,this},setThumbRadius(i){return this.dirty=this.dirty||this.thumbRadius!==i,this.thumbRadius=i,this}},vD={setThumbPosition(i,t){return t===void 0&&(t=1-i),this.thumbLeftX=i,this.thumbRightX=t,this},setRTL(i){return i===void 0&&(i=!0),this.rtl=i,this}};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Vd=function(i,t,n){return(t-i)*n+i},pD=function(i,t,n){var x=Vd(th(i),th(t),n),C=Vd(eh(i),eh(t),n),M=Vd(ih(i),ih(t),n);return(x&255)<<16|(C&255)<<8|M&255};const a1=Phaser.Math.Linear,gD={buildShapes(){this.addShape(new Lu().setName("track")).addShape(new Lu().setName("thumb"))},updateShapes(){var i=this.width,t=this.height,n=this.value?this.toggleAnimProgress:1-this.toggleAnimProgress,x=this.getShape("track");if(this.isSizeChanged){var C=i*this.trackWidth,M=t*this.trackHeight,h=(i-C)/2,y=(t-M)/2,e=t*this.trackRadius;x.setTopLeftPosition(h,y).setSize(C,M).setRadius(e)}var f=pD(this.falseValueTrackColor,this.trackFillColor,n),d=a1(this.falseValueTrackFillAlpha,this.trackFillAlpha,n);x.fillStyle(f,d);var s=this.getShape("thumb");if(this.isSizeChanged){var a=i*this.thumbWidth,r=t*this.thumbHeight,o=t*this.thumbRadius;s.setSize(a,r).setRadius(o)}var u=a1(this.thumbLeftX,this.thumbRightX,n)*i;this.rtl&&(u=i-u);var v=t/2;s.setCenterPosition(u,v),s.fillStyle(this.thumbColor,this.thumbAlpha)}},mD={setToggleAnimationDuration(i){return i===void 0&&(i=0),this.toggleAnimDuration=i,this},playToggleAnimation(){return this.toggleAnimProgressTask===void 0&&(this.toggleAnimProgressTask=new Tr(this,{eventEmitter:null})),this.toggleAnimProgressTask.restart({key:"toggleAnimProgress",from:0,to:1,duration:this.toggleAnimDuration}),this},stopToggleAnimation(){return this.toggleAnimProgressTask===void 0?this:(this.toggleAnimProgressTask.stop(),this)}};var K2={};Object.assign(K2,dD,cD,vD,gD,mD);var xD=function(i){var t=.3*th(i)+.59*eh(i)+.11*ih(i);return(t&255)<<16|(t&255)<<8|t&255};const qt=Phaser.Utils.Objects.GetValue,o1=Phaser.Utils.Objects.IsPlainObject,zd=23730,yD=16777215;class j2 extends yr{constructor(t,n,x,C,M,h,y){o1(n)?(y=n,n=qt(y,"x",0),x=qt(y,"y",0),C=qt(y,"width",2),M=qt(y,"height",2),h=qt(y,"color",zd)):o1(h)&&(y=h,h=qt(y,"color",zd)),super(t,n,x,C,M),this.type="rexToggleSwitch",h===void 0&&(h=zd),this.setTrackFillStyle(h,qt(y,"trackFillAlpha",1)),this.setFalseValueTrackFillStyle(qt(y,"falseValueTrackColor",xD(h)),qt(y,"falseValueTrackFillAlpha",1)),this.setThumbStyle(qt(y,"thumbColor",yD),qt(y,"thumbAlpha",1)),this.setTrackSize(qt(y,"trackWidth",.9),qt(y,"trackHeight",.5)),this.setTrackRadius(qt(y,"trackRadius",this.trackHeight*.5));var e=qt(y,"thumbHeight",void 0),f=qt(y,"thumbWidth",e);f===void 0&&(f=this.trackHeight*.9),this.setThumbSize(f,e),this.setThumbRadius(qt(y,"thumbRadius",this.thumbHeight*.5)),this.setThumbPosition(qt(y,"thumbLeft",.3),qt(y,"thumbRight",void 0)),this.setRTL(qt(y,"rtl",!1)),this.setToggleAnimationDuration(qt(y,"animationDuration",150)),this.buildShapes(),this.setValue(qt(y,"value",!1),0)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,this.playToggleAnimation(),this.emit("valuechange",t))}setValue(t,n){n===void 0&&(n=this.toggleAnimDuration);var x=this.toggleAnimDuration;return this.toggleAnimDuration=n,this.value=t,this.toggleAnimDuration=x,this}toggleValue(t){return this.setValue(!this.value,t),this}get toggleAnimProgress(){return this._toggleAnimProgress}set toggleAnimProgress(t){this._toggleAnimProgress!==t&&(this._toggleAnimProgress=t,this.dirty=!0)}}Object.assign(j2.prototype,K2);const h1=Phaser.Utils.Objects.GetValue;class E0 extends j2{constructor(t,n,x,C,M,h,y){super(t,n,x,C,M,h,y),this._click=new On(this,h1(y,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly(h1(y,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}}rt.register("toggleSwitch",function(i,t,n,x,C,M){var h=new E0(this.scene,i,t,n,x,C,M);return this.scene.add.existing(h),h});nt(window,"RexPlugins.UI.ToggleSwitch",E0);const TD={loadFromURL(i,t){var n=this,x=new Image;return x.onload=function(){n.width!==x.width||n.height!==x.height?n.resize(x.width,x.height):n.clear(),n.context.drawImage(x,0,0),n.updateTexture(),t&&t(),x.onload=null,x.src="",x.remove()},x.src=i,this},loadFromURLPromise(i){var t=this;return new Promise(function(n,x){t.loadFromURL(i,n)})},loadFromFile(i,t){var n=URL.createObjectURL(i);return this.loadFromURL(n,function(){URL.revokeObjectURL(n),t&&t()}),this},loadFromFilePromise(i){var t=this;return new Promise(function(n,x){t.loadFromFile(i,n)})}};class za extends An{}Object.assign(za.prototype,TD);rt.register("canvas",function(i,t,n,x){var C=new za(this.scene,i,t,n,x);return this.scene.add.existing(C),C});nt(window,"RexPlugins.UI.Canvas",za);const Br=Phaser.Utils.Objects.GetValue;class Z2 extends An{constructor(t,n,x,C,M,h){super(t,n,x),this.type="rexCircleMaskImage",this.setTexture(C,M,h)}setTexture(t,n,x){typeof n=="object"&&(x=n,n=void 0),typeof x=="string"&&(x={maskType:x});var C=Br(x,"maskType",0),M=Br(x,"backgroundColor",void 0),h=Br(x,"strokeColor",void 0),y=h!=null?10:0,e=Br(x,"strokeWidth",y);if(C===void 0?C=0:typeof C=="string"&&(C=CD[C]),this._textureKey=t,this._frameName=n,C===null)return this.loadTexture(t,n),this.dirty=!0,this;var f=this.scene.sys.textures.getFrame(t,n);if(!f)return this;f.cutWidth!==this.width||f.cutHeight!==this.height?this.setCanvasSize(f.cutWidth,f.cutHeight):this.clear();var d=this.canvas,s=this.context,a=d.width,r=d.height;M!=null&&(s.fillStyle=M,s.fillRect(0,0,a,r)),s.save(),s.beginPath();var o=e/2;switch(C){case 1:var p=Math.floor(a/2),g=Math.floor(r/2),u=p-o,v=g-o;s.ellipse(p,g,u,v,0,0,2*Math.PI);break;case 2:var l=Br(x,"radius",0),c=Br(x,"iteration",void 0);$S(s,o,o,a-e,r-e,l,c);break;default:var p=Math.floor(a/2),g=Math.floor(r/2),m=Math.min(p,g)-o;s.arc(p,g,m,0,2*Math.PI);break}return h!=null&&(s.strokeStyle=h,s.lineWidth=e,s.stroke()),s.clip(),this.loadTexture(t,n),s.restore(),this.dirty=!0,this}resize(t,n){return this.setDisplaySize(t,n),this}}const CD={circle:0,ellipse:1,roundRectangle:2};rt.register("circleMaskImage",function(i,t,n,x,C){var M=new Z2(this.scene,i,t,n,x,C);return this.scene.add.existing(M),M});nt(window,"RexPlugins.UI.CircleMaskImage",Z2);const ho=Phaser.Utils.Objects.GetValue;class J2 extends An{constructor(t,n,x,C,M,h){super(t,n,x),this.type="rexAlphaMaskImage",this.maskFrame=null,this.setTexture(C,M,h)}setTexture(t,n,x){typeof n=="object"&&(x=n,n=void 0),typeof x=="string"&&(x={mask:{key:x}});var C=ho(x,"mask.key"),M=ho(x,"mask.frame"),h=ho(x,"mask.invertAlpha",!1),y=ho(x,"mask.scale"),e=ho(x,"backgroundColor");if(C){this._maskKey=C,this._maskFrame=M,this._maskScale=y;var f=C?this.scene.sys.textures.get(C):null;this.maskFrame=f?f.get(M):null}this._textureKey=t,this._frameName=n;var d=this.maskFrame;if(d===null)return this.loadTexture(t,n),this.dirty=!0,this;var s=e!=null;this.loadTexture(t,n);var a=this.canvas,r=this.context,o=a.width,u=a.height;r.save(),r.globalCompositeOperation=h?"destination-out":"destination-in";var v,l;this._maskScale!=null?(v=d.cutWidth*this._maskScale,l=d.cutHeight*this._maskScale):(v=o,l=u);var c=(o-v)/2,p=(u-l)/2;return this.drawFrame(this._maskKey,this._maskFrame,c,p,v,l),r.restore(),s&&(r.save(),r.globalCompositeOperation="destination-over",r.fillStyle=e,r.fillRect(0,0,o,u),r.restore()),this.dirty=!0,this}resize(t,n){return this.setDisplaySize(t,n),this}}rt.register("alphaMaskImage",function(i,t,n,x,C){var M=new J2(this.scene,i,t,n,x,C);return this.scene.add.existing(M),M});nt(window,"RexPlugins.UI.AlphaMaskImage",J2);const SD=Phaser.Math.Linear,l1=Phaser.Math.Percent,MD={setValue(i,t,n){return i==null?this:(t!==void 0&&(i=l1(i,t,n)),this.value=i,this)},addValue(i,t,n){return t!==void 0&&(i=l1(i,t,n)),this.value+=i,this},getValue(i,t){var n=this.value;return i!==void 0&&(n=SD(i,t,n)),n}},ED=Phaser.Math.Percent;var PD=function(i){return this.easeValuePropName=i,this},RD=function(i){return this.easeValueDuration=i,this},AD=function(i){return this.easeFunction=i,this},wD=function(){return this.easeValueTask&&this.easeValueTask.stop(),this},OD=function(i,t,n){return i==null?this:(t!==void 0&&(i=ED(i,t,n)),this.easeValueTask===void 0&&(this.easeValueTask=new Tr(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,to:i,duration:this.easeValueDuration,ease:this.easeFunction}),this)},LD=function(i,t,n,x){return n===void 0&&(n=-1),x===void 0&&(x=0),this.easeValueTask===void 0&&(this.easeValueTask=new Tr(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,from:i,to:t,duration:this.easeValueDuration,ease:this.easeFunction,repeat:n,repeatDelay:x}),this};const FD={setEaseValuePropName:PD,setEaseValueDuration:RD,setEaseValueFunction:AD,stopEaseValue:wD,easeValueTo:OD,easeValueRepeat:LD},lo=Phaser.Utils.Objects.GetValue,ID=Phaser.Math.Clamp;function Cr(i){class t extends i{bootProgressBase(x){this.eventEmitter=lo(x,"eventEmitter",this);var C=lo(x,"valuechangeCallback",null);if(C!==null){var M=lo(x,"valuechangeCallbackScope",void 0);this.eventEmitter.on("valuechange",C,M)}return this.setEaseValuePropName("value").setEaseValueDuration(lo(x,"easeValue.duration",0)).setEaseValueFunction(lo(x,"easeValue.ease","Linear")),this}get value(){return this._value}set value(x){x=ID(x,0,1);var C=this._value,M=C!=x;this.dirty=this.dirty||M,this._value=x,M&&this.eventEmitter.emit("valuechange",this._value,C,this.eventEmitter)}}return Object.assign(t.prototype,MD,FD),t}const DD=Phaser.Math.RadToDeg,BD={buildShapes(){this.addShape(new Jv().setName("track")).addShape(new uf().setName("bar")).addShape(new Jv().setName("center"))},updateShapes(){var i=this.radius,t=this.thickness*this.radius,n=this.radius-t/2,x=this.radius-t,C=this.getShape("track");this.trackColor!=null&&t>0?C.setCenterPosition(i,i).setRadius(n).lineStyle(t,this.trackColor):C.reset();var M=this.getShape("bar");if(this.barColor!=null&&n>0){var h,y,e;if(this.value===1)h=!1,y=0,e=361;else{h=this.anticlockwise,y=DD(this.startAngle);var f=360*(h?1-this.value:this.value);e=f+y}M.setCenterPosition(i,i).setRadius(n).setAngle(y,e,h).lineStyle(t,this.barColor)}else M.reset();var d=this.getShape("center");this.centerColor&&x>0?d.setCenterPosition(i,i).setRadius(x).fillStyle(this.centerColor):d.reset()}},Qi=Phaser.Utils.Objects.GetValue,bD=Phaser.Utils.Objects.IsPlainObject,GD=Phaser.Math.Clamp,ND=Phaser.Math.DegToRad(270);let ff=class extends Cr(yr){constructor(t,n,x,C,M,h,y){bD(n)&&(y=n,n=Qi(y,"x",0),x=Qi(y,"y",0),C=Qi(y,"radius",1),M=Qi(y,"barColor",void 0),h=Qi(y,"value",0)),C===void 0&&(C=1);var e=C*2;super(t,n,x,e,e),this.type="rexCircularProgress",this.bootProgressBase(y),this.setRadius(C),this.setTrackColor(Qi(y,"trackColor",void 0)),this.setBarColor(M),this.setCenterColor(Qi(y,"centerColor",void 0)),this.setThickness(Qi(y,"thickness",.2)),this.setStartAngle(Qi(y,"startAngle",ND)),this.setAnticlockwise(Qi(y,"anticlockwise",!1)),this.buildShapes(),this.setValue(h)}resize(t,n){return t=Math.floor(Math.min(t,n)),t===this.width?this:(super.resize(t,t),this.setRadius(t/2),this)}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t;var n=t*2;this.resize(n,n)}setRadius(t){return this.radius=t,this}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!=t,this._startAngle=t}setStartAngle(t){return this.startAngle=t,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!=t,this._anticlockwise=t}setAnticlockwise(t){return t===void 0&&(t=!0),this.anticlockwise=t,this}get thickness(){return this._thickness}set thickness(t){t=GD(t,0,1),this.dirty=this.dirty||this._thickness!=t,this._thickness=t}setThickness(t){return this.thickness=t,this}get centerColor(){return this._centerColor}set centerColor(t){this.dirty=this.dirty||this._centerColor!=t,this._centerColor=t}setCenterColor(t){return this.centerColor=t,this}};Object.assign(ff.prototype,BD);rt.register("circularProgress",function(i,t,n,x,C,M){var h=new ff(this.scene,i,t,n,x,C,M);return this.scene.add.existing(h),h});nt(window,"RexPlugins.UI.CircularProgress",ff);var kd=function(i,t,n,x,C,M,h,y,e,f,d,s){f===void 0&&(f=0),d===void 0&&(d=2*Math.PI),s===void 0&&(s=!1),t.beginPath(),t.ellipse(n,x,C,M,0,f,d,s),h!=null&&(t.fillStyle=h,t.fill()),y!=null&&(t.strokeStyle=y,t.lineWidth=e,t.stroke())},VD=function(i,t,n,x,C,M,h,y,e,f,d){e===void 0&&y!=null&&(e=2),f===void 0&&(f="start"),d===void 0&&(d="alphabetic"),t.font=M,t.textAlign=f,t.textBaseline=d,t.fillStyle=h,t.strokeStyle=y,t.lineWidth=e,t.lineCap="round",t.lineJoin="round",y!=null&&y!=="none"&&e>0&&t.strokeText(C,n,x),h!=null&&h!=="none"&&t.fillText(C,n,x)},zD=function(){var i=this.radius,t=this.thickness*this.radius,n=this.radius-t/2,x=this.radius-t,C=this.canvas,M=this.context;if(this.trackColor&&t>0&&(M.save(),kd(C,M,i,i,n,n,void 0,this.trackColor,t),M.restore()),this.barColor&&n>0){var h,y,e;if(this.value===1)h=!1,y=0,e=2*Math.PI;else{h=this.anticlockwise,y=this.startAngle;var f=2*Math.PI*(h?1-this.value:this.value);e=f+y}M.save(),kd(C,M,i,i,n,n,void 0,this.barColor,t,y,e,h),M.restore()}if(this.centerColor&&x>0){var d;this.centerColor2?(d=this.context.createRadialGradient(i,i,0,i,i,x),d.addColorStop(0,this.centerColor),d.addColorStop(1,this.centerColor2)):d=this.centerColor,M.save(),kd(C,M,i,i,x,x,d),M.restore()}this.textFormatCallback&&(this.textColor||this.textStrokeColor)&&(M.save(),VD(C,M,i,i,this.getFormatText(),this.textFont,this.textColor,this.textStrokeColor,this.textStrokeThickness,"center","middle"),M.restore())};const he=Phaser.Utils.Objects.GetValue,kD=Phaser.Utils.Objects.IsPlainObject,UD=Phaser.Math.Clamp,XD=Phaser.Math.DegToRad(270);class Q2 extends Cr(An){constructor(t,n,x,C,M,h,y){kD(n)&&(y=n,n=he(y,"x",0),x=he(y,"y",0),C=he(y,"radius",1),M=he(y,"barColor",void 0),h=he(y,"value",0));var e=C*2;super(t,n,x,e,e),this.type="rexCircularProgressCanvas",this.bootProgressBase(y),this.setRadius(C),this.setTrackColor(he(y,"trackColor",void 0)),this.setBarColor(M),this.setCenterColor(he(y,"centerColor",void 0)),this.setThickness(he(y,"thickness",.2)),this.setStartAngle(he(y,"startAngle",XD)),this.setAnticlockwise(he(y,"anticlockwise",!1)),this.setTextColor(he(y,"textColor",void 0)),this.setTextStrokeColor(he(y,"textStrokeColor",void 0),he(y,"textStrokeThickness",void 0));var f=he(y,"textFont",void 0);f?this.setTextFont(f):this.setTextFont(he(y,"textSize","16px"),he(y,"textFamily","Courier"),he(y,"textStyle","")),this.setTextFormatCallback(he(y,"textFormatCallback",void 0),he(y,"textFormatCallbackScope",void 0)),this.setValue(h)}resize(t,n){return t=Math.floor(Math.min(t,n)),t===this.width?this:(super.resize(t,t),this.setRadius(t/2),this)}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t;var n=t*2;this.resize(n,n)}setRadius(t){return this.radius=t,this}get trackColor(){return this._trackColor}set trackColor(t){t=yt(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get barColor(){return this._barColor}set barColor(t){t=yt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!=t,this._startAngle=t}setStartAngle(t){return this.startAngle=t,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!=t,this._anticlockwise=t}setAnticlockwise(t){return t===void 0&&(t=!0),this.anticlockwise=t,this}get thickness(){return this._thickness}set thickness(t){t=UD(t,0,1),this.dirty=this.dirty||this._thickness!=t,this._thickness=t}setThickness(t){return this.thickness=t,this}get centerColor(){return this._centerColor}set centerColor(t){t=yt(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor!=t,this._centerColor=t}get centerColor2(){return this._centerColor2}set centerColor2(t){t=yt(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor2!=t,this._centerColor2=t}setCenterColor(t,n){return this.centerColor=t,this.centerColor2=n,this}get textColor(){return this._textColor}set textColor(t){t=yt(t,this.canvas,this.context),this.dirty=this.dirty||this._textColor!=t,this._textColor=t}setTextColor(t){return this.textColor=t,this}get textStrokeColor(){return this._textStrokeColor}set textStrokeColor(t){t=yt(t,this.canvas,this.context),this.dirty=this.dirty||this._textStrokeColor!=t,this._textStrokeColor=t}get textStrokeThickness(){return this._textStrokeThickness}set textStrokeThickness(t){this.dirty=this.dirty||this._textStrokeThickness!=t,this._textStrokeThickness=t}setTextStrokeColor(t,n){return n===void 0&&(n=2),this.textStrokeColor=t,this.textStrokeThickness=n,this}get textFont(){return this._textFont}set textFont(t){this.dirty=this.dirty||this._textFont!=t,this._textFont=t}setTextFont(t,n,x){var C;return n===void 0?C=t:C=x+" "+t+" "+n,this.textFont=C,this}setTextFormatCallback(t,n){return this.textFormatCallback=t,this.textFormatCallbackScope=n,this}updateTexture(){return this.clear(),zD.call(this),super.updateTexture(),this}getFormatText(t){t===void 0&&(t=this.value);var n;return this.textFormatCallbackScope?n=this.textFormatCallback(t):n=this.textFormatCallback.call(this.textFormatCallbackScope,t),n}}rt.register("circularProgressCanvas",function(i,t,n,x,C,M){var h=new Q2(this.scene,i,t,n,x,C,M);return this.scene.add.existing(h),h});nt(window,"RexPlugins.UI.CircularProgressCanvas",Q2);var YD=function(){var i=this.skewX,t=this.width-Math.abs(i),n=this.height,x=this.getShape("trackFill");x.fillStyle(this.trackColor),x.isFilled&&Ud(x,0,0,t,n,i).close();var C=this.getShape("bar");if(C.fillStyle(this.barColor),C.isFilled){var M,h;this.rtl?(M=t*(1-this.value),h=t):(M=0,h=t*this.value),Ud(C,M,0,h,n,i).close()}var y=this.getShape("trackStroke");y.lineStyle(this.trackStrokeThickness,this.trackStrokeColor),y.isStroked&&Ud(y,0,0,t,n,i).end()},Ud=function(i,t,n,x,C,M){return M>=0?i.startAt(t+M,n).lineTo(x+M,n).lineTo(x,C).lineTo(t,C).lineTo(t+M,n):i.startAt(t,n).lineTo(x,n).lineTo(x-M,C).lineTo(t-M,C).lineTo(t,n),i};const xe=Phaser.Utils.Objects.GetValue,Xd=Phaser.Utils.Objects.IsPlainObject;let P0=class extends Cr(yr){constructor(t,n,x,C,M,h,y,e){Xd(n)?(e=n,n=xe(e,"x",0),x=xe(e,"y",0),C=xe(e,"width",2),M=xe(e,"height",2),h=xe(e,"barColor",void 0),y=xe(e,"value",0)):Xd(C)?(e=C,C=xe(e,"width",2),M=xe(e,"height",2),h=xe(e,"barColor",void 0),y=xe(e,"value",0)):Xd(h)&&(e=h,h=xe(e,"barColor",void 0),y=xe(e,"value",0)),super(t,n,x,C,M,e),this.type="rexLineProgress",this.bootProgressBase(e),this.addShape(new Ta().setName("trackFill")).addShape(new Ta().setName("bar")).addShape(new Ta().setName("trackStroke")),this.setTrackColor(xe(e,"trackColor",void 0)),this.setBarColor(h),this.setTrackStroke(xe(e,"trackStrokeThickness",2),xe(e,"trackStrokeColor",void 0)),this.setSkewX(xe(e,"skewX",0)),this.setRTL(xe(e,"rtl",!1)),this.setValue(y)}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,n){return this.trackStrokeThickness=t,this.trackStrokeColor=n,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get skewX(){return this._skewX}set skewX(t){this.dirty=this.dirty||this._skewX!=t,this._skewX=t}setSkewX(t){return this.skewX=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}};var WD={updateShapes:YD};Object.assign(P0.prototype,WD);rt.register("lineProgress",function(i,t,n,x,C,M,h){var y=new P0(this.scene,i,t,n,x,C,M,h);return this.scene.add.existing(y),y});nt(window,"RexPlugins.UI.LineProgress",P0);var HD=function(i,t){i.save(),i.beginPath();var n=t[0];i.moveTo(n.x,n.y);for(var x=1,C=t.length;x<C;x++)n=t[x],i.lineTo(n.x,n.y);i.closePath(),i.restore()},Yd=function(i,t,n,x,C,M,h){h===void 0&&(h="round"),HD(t,n),t.lineJoin=h,x!=null&&(t.fillStyle=x,t.fill()),C!=null&&(t.strokeStyle=C,t.lineWidth=M,t.stroke())},$D=function(){var i=this.skewX,t=this.width-Math.abs(i),n=this.height,x=this.canvas,C=this.context;(this.trackColor||this.trackStrokeColor)&&u1(0,0,t,n,i,this.trackPoints);var M,h;if(this.barColor&&(this.rtl?(M=t*(1-this.value),h=t):(M=0,h=t*this.value),u1(M,0,h,n,i,this.barPoints)),this.trackColor&&(C.save(),Yd(x,C,this.trackPoints,this.trackColor),C.restore()),this.barColor){C.save();var y;if(this.barColor2){var e;if(this.isHorizontalGradient){var f=n/2;e=C.createLinearGradient(M,f,h,f)}else{var d=t/2;e=C.createLinearGradient(d,0,d,n)}e.addColorStop(0,this.rtl?this.barColor:this.barColor2),e.addColorStop(1,this.rtl?this.barColor2:this.barColor),y=e}else y=this.barColor;Yd(x,C,this.barPoints,y),C.restore()}this.trackStrokeColor&&this.trackStrokeThickness>0&&(C.save(),Yd(x,C,this.trackPoints,void 0,this.trackStrokeColor,this.trackStrokeThickness),C.restore())},u1=function(i,t,n,x,C,M){M===void 0&&(M=[]),M.length=4;for(var h=0;h<4;h++)M[h]||(M[h]={});var y;return C>=0?(y=M[0],y.x=i+C,y.y=t,y=M[1],y.x=n+C,y.y=t,y=M[2],y.x=n,y.y=x,y=M[3],y.x=i,y.y=x):(y=M[0],y.x=i,y.y=t,y=M[1],y.x=n,y.y=t,y=M[2],y.x=n-C,y.y=x,y=M[3],y.x=i-C,y.y=x),M};const le=Phaser.Utils.Objects.GetValue,Wd=Phaser.Utils.Objects.IsPlainObject;class R0 extends Cr(An){constructor(t,n,x,C,M,h,y,e){Wd(n)?(e=n,n=le(e,"x",0),x=le(e,"y",0),C=le(e,"width",2),M=le(e,"height",2),h=le(e,"barColor",void 0),y=le(e,"value",0)):Wd(C)?(e=C,C=le(e,"width",2),M=le(e,"height",2),h=le(e,"barColor",void 0),y=le(e,"value",0)):Wd(h)&&(e=h,h=le(e,"barColor",void 0),y=le(e,"value",0)),super(t,n,x,C,M),this.type="rexLineProgressCanvas",this.trackPoints=[],this.barPoints=[],this.bootProgressBase(e),this.setTrackColor(le(e,"trackColor",void 0)),this.setBarColor(h,le(e,"barColor2",void 0),le(e,"isHorizontalGradient",void 0)),this.setTrackStroke(le(e,"trackStrokeThickness",2),le(e,"trackStrokeColor",void 0)),this.setSkewX(le(e,"skewX",0)),this.setRTL(le(e,"rtl",!1)),this.setValue(y)}get trackColor(){return this._trackColor}set trackColor(t){t=yt(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){t=yt(t,this.canvas,this.context),this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,n){return this.trackStrokeThickness=t,this.trackStrokeColor=n,this}get barColor(){return this._barColor}set barColor(t){t=yt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}get barColor2(){return this._barColor2}set barColor2(t){t=yt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor2!=t,this._barColor2=t}get isHorizontalGradient(){return this._isHorizontalGradient}set isHorizontalGradient(t){this.dirty|=this._isHorizontalGradient!=t,this._isHorizontalGradient=t}setBarColor(t,n,x){return x===void 0&&(x=!0),this.barColor=t,this.barColor2=n,this.isHorizontalGradient=x,this}get skewX(){return this._skewX}set skewX(t){this.dirty=this.dirty||this._skewX!=t,this._skewX=t}setSkewX(t){return this.skewX=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}updateTexture(){return this.clear(),$D.call(this),super.updateTexture(),this}}rt.register("circularProgressCanvas",function(i,t,n,x,C,M,h){var y=new R0(this.scene,i,t,n,x,C,M,h);return this.scene.add.existing(y),y});nt(window,"RexPlugins.UI.LineProgressCanvas",R0);Phaser.Math.Wrap;const br=Phaser.Math.Linear;var KD=function(){var i=this.getShape("triangle"),t=this.padding,n=this.width-t.right,x=0+t.left,C=this.height-t.bottom,M=0+t.top,h=(x+n)/2,y=(M+C)/2,e={0:{a:{x,y:M},b:{x:n,y},c:{x,y:C}},1:{a:{x,y:M},b:{x:h,y:C},c:{x:n,y:M}},2:{a:{x:n,y:M},b:{x,y},c:{x:n,y:C}},3:{a:{x,y:C},b:{x:h,y:M},c:{x:n,y:C}}},f,d,s,a,r,o;if(this.previousDirection===void 0){var u=e[this.direction],v=u.a,l=u.b,c=u.c;f=v.x,d=v.y,s=l.x,a=l.y,r=c.x,o=c.y}else{var p=e[this.previousDirection],g=e[this.direction],m=this.easeDirectionProgress;f=br(p.a.x,g.a.x,m),d=br(p.a.y,g.a.y,m),s=br(p.b.x,g.b.x,m),a=br(p.b.y,g.b.y,m),r=br(p.c.x,g.c.x,m),o=br(p.c.y,g.c.y,m)}i.startAt(f,d).lineTo(s,a).lineTo(r,o),this.arrowOnly?i.end():i.close()};const jD=Phaser.Math.DegToRad,dl=jD(120);var ZD=function(t){var t=this.getShape("triangle"),n=this.width/2,x=this.height/2,C=Math.min(n,x)*this.radius,M=this.verticeRotation;t.startAt(n+C*Math.cos(M+dl),x+C*Math.sin(M+dl)).lineTo(n+C*Math.cos(M),x+C*Math.sin(M)).lineTo(n+C*Math.cos(M-dl),x+C*Math.sin(M-dl)),this.arrowOnly?t.end():t.close()};const JD={buildShapes(){this.addShape(new Ta().setName("triangle"))},updateShapes(){var i=this.getShape("triangle");this.arrowOnly?i.fillStyle().lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha):i.fillStyle(this.fillColor,this.fillAlpha).lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha),this.shapeMode===0?KD.call(this):ZD.call(this)}},QD={setEaseDuration(i){return i===void 0&&(i=0),this.easeDuration=i,this},playEaseDirectionation(){return this.easeDirectionProgressTask===void 0&&(this.easeDirectionProgressTask=new Tr(this,{eventEmitter:null})),this.easeDirectionProgressTask.restart({key:"easeDirectionProgress",from:0,to:1,duration:this.easeDuration}),this},stopEaseDirection(){return this.easeDirectionProgressTask===void 0?this:(this.easeDirectionProgressTask.stop(),this)}},Gr=Phaser.Utils.Objects.GetValue,qD=Phaser.Utils.Objects.IsPlainObject,_D=Phaser.Math.DegToRad,t9=Phaser.Math.RadToDeg;class df extends yr{constructor(t,n,x,C,M,h,y){var e,f,d,s,a,r,o,u;if(qD(n)){var v=n;n=v.x,x=v.y,C=v.width,M=v.height,h=v.color,y=v.alpha,e=v.strokeColor,f=v.strokeAlpha,d=v.strokeWidth,s=v.arrowOnly,a=v.direction,r=v.easeDuration,o=v.padding,u=v.radius}n===void 0&&(n=0),x===void 0&&(x=0),C===void 0&&(C=1),M===void 0&&(M=C),s===void 0&&(s=!1),a===void 0&&(a=0),r===void 0&&(r=0),o===void 0&&(o=0),u===void 0&&(u=void 0),super(t,n,x,C,M),this.type="rexTriangle",this.setFillStyle(h,y),e!==void 0&&d===void 0&&(d=2),this.setStrokeStyle(d,e,f),this.setArrowOnly(s),this.setDirection(a,r),this.setPadding(o),this.setRadius(u),this.buildShapes()}get arrowOnly(){return this._arrowOnly}set arrowOnly(t){this.dirty=this.dirty||this._arrowOnly!=t,this._arrowOnly=t}setArrowOnly(t){return t===void 0&&(t=!0),this.arrowOnly=t,this}get direction(){return this._direction}set direction(t){t=i9(t),this._direction!==t&&(this.easeDuration>0&&this._direction!==void 0?this.previousDirection=this._direction:this.previousDirection=void 0,this._direction=t,this.verticeAngle=t*90,this.dirty=!0,this.previousDirection!==void 0?this.playEaseDirectionation():this.stopEaseDirection())}setDirection(t,n){return n!==void 0&&this.setEaseDuration(n),this.direction=t,this}toggleDirection(t){return this.setDirection(this.direction+2,t),this}get easeDirectionProgress(){return this._easeDirectionProgress}set easeDirectionProgress(t){this._easeDirectionProgress!==t&&(this._easeDirectionProgress=t,this.dirty=!0)}setPadding(t,n,x,C){if(typeof t=="object"){var M=t,h=Gr(M,"x",null);h!==null?(t=h,x=h):(t=Gr(M,"left",0),x=Gr(M,"right",t));var y=Gr(M,"y",null);y!==null?(n=y,C=y):(n=Gr(M,"top",0),C=Gr(M,"bottom",n))}else t===void 0&&(t=0),n===void 0&&(n=t),x===void 0&&(x=t),C===void 0&&(C=n);return this.padding===void 0&&(this.padding={}),this.dirty=this.dirty||this.padding.left!=t||this.padding.top!=n||this.padding.right!=x||this.padding.bottom!=C,this.padding.left=t,this.padding.top=n,this.padding.right=x,this.padding.bottom=C,this.setRadius(),this}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t}setRadius(t){return this.radius=t,this.shapeMode=t==null?0:1,this}get verticeRotation(){return this._verticeRotation}set verticeRotation(t){this.dirty=this.dirty||this._verticeRotation!=t,this._verticeRotation=t}setVerticeRotation(t){return this.verticeRotation=t,this}get verticeAngle(){return t9(this.verticeRotation)}set verticeAngle(t){this.verticeRotation=_D(t)}setVerticeAngle(t){return this.verticeAngle=t,this}}const e9={right:0,down:1,left:2,up:3};var i9=function(i){return typeof i=="string"&&(i=e9[i]),i=i%4,i};Object.assign(df.prototype,JD,QD);rt.register("triangle",function(i,t,n,x,C,M){var h=new df(this.scene,i,t,n,x,C,M);return this.scene.add.existing(h),h});nt(window,"RexPlugins.UI.Triangle",df);const s9=Phaser.GameObjects.Zone,n9=Phaser.Utils.Array.Add,r9=Phaser.Utils.Array.Remove;let mh=class extends s9{constructor(t,n,x,C,M){n===void 0&&(n=0),x===void 0&&(x=0),C===void 0&&(C=1),M===void 0&&(M=1),super(t,n,x,C,M),this.children=[]}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(t)for(var n,x=this.children.length-1;x>=0;x--)n=this.children[x],!n.parentContainer&&!n.displayList&&n.destroy(t);this.clear(!t),super.destroy(t)}}contains(t){return this.children.indexOf(t)!==-1}add(t){var n=this;return n9(this.children,t,0,function(x){x.once("destroy",n.onChildDestroy,n)},this),this}remove(t,n){var x=this;return r9(this.children,t,function(C){C.off("destroy",x.onChildDestroy,x),n&&C.destroy()}),this}onChildDestroy(t,n){this.remove(t,!1)}clear(t){for(var n=this,x,C=0,M=this.children.length;C<M;C++)x=this.children[C],x.off("destroy",n.onChildDestroy,n),t&&x.destroy();return this.children.length=0,this}};const f1=Phaser.GameObjects.Components;Phaser.Class.mixin(mh,[f1.Alpha,f1.Flip]);var Oi=function(i,t){var n;if(t===void 0)i.hasOwnProperty("rexContainer")&&(n=i.rexContainer.parent);else for(n=Oi(i);n&&n.name!==t;)n=Oi(n);return n},q2=function(i){for(var t=Oi(i);t;)i=t,t=Oi(t);return i};const a9=Phaser.Math.DegToRad,o9=Phaser.Math.RadToDeg;var wt=function(i){if(!i.hasOwnProperty("rexContainer")){var t={parent:null,self:null,layer:null,x:0,y:0,syncPosition:!0,rotation:0,syncRotation:!0,scaleX:0,scaleY:0,syncScale:!0,alpha:0,syncAlpha:!0,visible:!0,active:!0};Object.defineProperty(t,"angle",{get:function(){return o9(this.rotation)},set:function(n){this.rotation=a9(n)}}),Object.defineProperty(t,"displayWidth",{get:function(){return i.width*this.scaleX},set:function(n){this.scaleX=n/i.width}}),Object.defineProperty(t,"displayHeight",{get:function(){return i.height*this.scaleY},set:function(n){this.scaleY=n/i.height}}),i.rexContainer=t}return i.rexContainer};const h9={setParent(i,t){t===void 0&&(t=this);var n=wt(i);return t?(n.parent=t,n.self=i):(n.parent=null,n.self=null),this},getParent(i,t){return typeof i=="string"&&(t=i,i=void 0),i===void 0&&(i=this),Oi(i,t)},getTopmostParent(i){return i===void 0&&(i=this),q2(i)}},uo=Phaser.Utils.Objects.GetValue,_2=mh.prototype.add;var Hd=function(i,t){this.setParent(i);var n=wt(i);return tM(n,t),this.resetChildState(i).updateChildVisible(i).updateChildActive(i).updateChildScrollFactor(i).updateChildMask(i),_2.call(this,i),this.addToParentContainer(i),this.addToRenderLayer(i),this},$d=function(i,t){this.setParent(i);var n=wt(i);return tM(n,t),n.x=i.x,n.y=i.y,n.rotation=i.rotation,n.scaleX=i.scaleX,n.scaleY=i.scaleY,n.alpha=i.alpha,n.visible=i.visible,n.active=i.active,this.updateChildPosition(i).updateChildAlpha(i).updateChildVisible(i).updateChildActive(i).updateChildScrollFactor(i).updateChildMask(i),_2.call(this,i),this.addToRenderLayer(i),this},tM=function(i,t){t===void 0&&(t=!0),typeof t=="boolean"?(i.syncPosition=t,i.syncRotation=t,i.syncScale=t,i.syncAlpha=t,i.syncScrollFactor=t):(i.syncPosition=uo(t,"syncPosition",!0),i.syncRotation=uo(t,"syncRotation",!0),i.syncScale=uo(t,"syncScale",!0),i.syncAlpha=uo(t,"syncAlpha",!0),i.syncScrollFactor=uo(t,"syncScrollFactor",!0))};const l9={add(i){return Array.isArray(i)?this.addMultiple(i):Hd.call(this,i),this},pin(i,t){return Array.isArray(i)?this.addMultiple(i,t):Hd.call(this,i,t),this},addMultiple(i){for(var t=0,n=i.length;t<n;t++)Hd.call(this,i[t]);return this},addLocal(i){return Array.isArray(i)?this.addMultiple(i):$d.call(this,i),this},pinLocal(i,t){return Array.isArray(i)?this.addMultiple(i,t):$d.call(this,i,t),this},addLocalMultiple(i){for(var t=0,n=i.length;t<n;t++)$d.call(this,i[t]);return this}},d1=mh.prototype.remove,u9=mh.prototype.clear,f9={remove(i,t){return Oi(i)!==this?this:(this.setParent(i,null),t||this.removeFromRenderLayer(i),d1.call(this,i,t),this)},unpin(i,t){return Oi(i)!==this?this:(this.setParent(i,null),t||this.removeFromRenderLayer(i),d1.call(this,i,t),this)},clear(i){for(var t=this.children,n=0,x=t.length;n<x;n++){var C=t[n];this.setParent(C,null),i||this.removeFromRenderLayer(C)}return u9.call(this,i),this}},d9={getLocalState(i){return wt(i)},resetChildState(i){return this.resetChildPositionState(i).resetChildVisibleState(i).resetChildAlphaState(i).resetChildActiveState(i),this},resetChildrenState(i){for(var t=0,n=i.length;t<n;t++)this.resetChildState(i[t]);return this},syncProperties(){return this.syncPosition().syncVisible().syncAlpha().syncActive().syncScrollFactor().syncMask(),this}},c1=Phaser.Math.RotateAround,c9={worldToLocal(i){return i.x-=this.x,i.y-=this.y,c1(i,0,0,-this.rotation),i.x/=this.scaleX,i.y/=this.scaleY,i},localToWorld(i){return i.x*=this.scaleX,i.y*=this.scaleY,c1(i,0,0,this.rotation),i.x+=this.x,i.y+=this.y,i}};var nh=function(i,t){return i===t?1:i/t};const v9={updateChildPosition(i){i.isRexContainerLite&&(i.syncChildrenEnable=!1);var t=wt(i),n=t.parent;return t.syncPosition&&(i.x=t.x,i.y=t.y,n.localToWorld(i)),t.syncRotation&&(i.rotation=t.rotation+n.rotation),t.syncScale&&(i.scaleX=t.scaleX*n.scaleX,i.scaleY=t.scaleY*n.scaleY),i.isRexContainerLite&&(i.syncChildrenEnable=!0,i.syncPosition()),this},syncPosition(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildPosition,this),this},resetChildPositionState(i){var t=wt(i),n=t.parent;return t.x=i.x,t.y=i.y,n.worldToLocal(t),t.scaleX=nh(i.scaleX,n.scaleX),t.scaleY=nh(i.scaleY,n.scaleY),t.rotation=i.rotation-n.rotation,this},setChildPosition(i,t,n){return i.x=t,i.y=n,this.resetChildPositionState(i),this},setChildLocalPosition(i,t,n){var x=wt(i);return x.x=t,x.y=n,this.updateChildPosition(i),this},resetLocalPositionState(){var i=wt(this).parent;return i&&i.resetChildPositionState(this),this}},p9=Phaser.Math.DegToRad,g9={updateChildRotation(i){var t=wt(i),n=t.parent;return t.syncRotation&&(i.rotation=n.rotation+t.rotation),this},syncRotation(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildRotation,this),this},resetChildRotationState(i){var t=wt(i),n=t.parent;return t.rotation=i.rotation-n.rotation,this},setChildRotation(i,t){return i.rotation=t,this.resetChildRotationState(i),this},setChildAngle(i,t){return i.angle=t,this.resetChildRotationState(i),this},setChildLocalRotation(i,t){var n=wt(i);return n.rotation=t,this.updateChildRotation(i),this},setChildLocalAngle(i,t){var n=wt(i);return n.rotation=p9(t),this.updateChildRotation(i),this},resetLocalRotationState(){var i=wt(this).parent;return i&&i.resetChildRotationState(this),this}},m9={updateChildScale(i){var t=wt(i),n=t.parent;return t.syncScale&&(i.scaleX=n.scaleX*t.scaleX,i.scaleY=n.scaleY*t.scaleY),this},syncScale(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScale,this),this},resetChildScaleState(i){var t=wt(i),n=t.parent;return t.scaleX=nh(i.scaleX,n.scaleX),t.scaleY=nh(i.scaleY,n.scaleY),this},setChildScale(i,t,n){return n===void 0&&(n=t),i.scaleX=t,i.scaleY=n,this.resetChildScaleState(i),this},setChildLocalScale(i,t,n){n===void 0&&(n=t);var x=wt(i);return x.scaleX=t,x.scaleY=n,this.updateChildScale(i),this},setChildDisplaySize(i,t,n){return i.setDisplaySize(t,n),this.resetChildScaleState(i),this},resetLocalScaleState(){var i=wt(this).parent;return i&&i.resetChildScaleState(this),this}},x9={updateChildVisible(i){var t=wt(i),n=t.parent,x=t.hasOwnProperty("maskVisible")?t.maskVisible:!0;return i.visible=n.visible&&t.visible&&x,this},syncVisible(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildVisible,this),this},resetChildVisibleState(i){var t=wt(i);return t.hasOwnProperty("maskVisible")&&delete t.maskVisible,t.visible=i.visible,this},setChildVisible(i,t){return this.setChildLocalVisible(i,t),this},setChildLocalVisible(i,t){t===void 0&&(t=!0);var n=wt(i);return n.visible=t,this.updateChildVisible(i),this},setChildMaskVisible(i,t){t===void 0&&(t=!0);var n=wt(i);return n.maskVisible=t,this.updateChildVisible(i),this},resetLocalVisibleState(){var i=wt(this).parent;return i&&i.resetChildVisibleState(this),this}},y9={updateChildAlpha(i){var t=wt(i),n=t.parent;return t.syncAlpha&&(i.alpha=n.alpha*t.alpha),this},syncAlpha(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildAlpha,this),this},resetChildAlphaState(i){var t=wt(i),n=t.parent;return t.alpha=nh(i.alpha,n.alpha),this},setChildAlpha(i,t){return i.alpha=t,this.resetChildAlphaState(i),this},setChildLocalAlpha(i,t){var n=wt(i);return n.alpha=t,this.updateChildAlpha(i),this},resetLocalAlphaState(){var i=wt(this).parent;return i&&i.resetChildAlphaState(this),this}},T9={updateChildActive(i){var t=wt(i),n=t.parent;return i.active=n.active&&t.active,this},syncActive(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildActive,this),this},resetChildActiveState(i){var t=wt(i);return t.active=i.active,this},setChildActive(i,t){return i.active=t,this.resetChildActiveState(i),this},setChildLocalActive(i,t){t===void 0&&(t=!0);var n=wt(i);return n.active=t,this.updateChildActive(i),this},resetLocalActiveState(){var i=wt(this).parent;return i&&i.resetChildActiveState(this),this}},C9={updateChildScrollFactor(i){var t=wt(i),n=t.parent;return t.syncScrollFactor&&i.setScrollFactor(n.scrollFactorX,n.scrollFactorY),this},syncScrollFactor(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScrollFactor,this),this}},S9={updateChildMask(i){if(this.mask==null)return this;var t=this.mask.hasOwnProperty("geometryMask")?this.mask.geometryMask:this.mask.bitmapMask;return t!==i&&(i.mask=this.mask),this},syncMask(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildMask,this),this},setMask(i){return this.mask=i,this},clearMask(i){return i===void 0&&(i=!1),this._mask=null,this.children.forEach(function(t){t.clearMask(!1)}),i&&this.mask&&this.mask.destroy(),this}},M9={setDepth(i,t){if(this.depth=i,!t&&this.children)for(var n=this.getAllChildren(),x=0,C=n.length;x<C;x++)n[x].depth=i;return this},swapDepth(i){var t=this.depth,n=i.depth;return this.setDepth(n),i.setDepth(t),this},incDepth(i){if(this.depth+=i,this.children)for(var t=this.getAllChildren(),n=0,x=t.length;n<x;n++)t[n].depth+=i;return this},bringToTop(){var i=this.displayList,t=this.getAllChildren([this]);As(t,!1);for(var n=0,x=t.length;n<x;n++){var C=t[n];i.exists(C)&&i.bringToTop(C)}return this},moveDepthBelow(i){var t=this.displayList;if(i.displayList!==t)return this;var n=this.getAllChildren([this]);As(n,!1);for(var x=0,C=n.length;x<C;x++){var M=n[x];if(t.exists(M)){t.moveBelow(i,M);break}}return this},moveDepthAbove(i){var t=this.displayList;if(i.displayList!==t)return this;var n=this.getAllChildren([this]);As(n,!0);for(var x=0,C=n.length;x<C;x++){var M=n[x];if(t.exists(M)){t.moveAbove(i,M);break}}return this},bringChildToTop(i){var t=this.getAllChildren([this]);As(t,!0);var n=t[0];return n===i?this:n.displayList!==i.displayList?this:(n.displayList.moveAbove(i,n),this)},sendChildToBack(i){var t=this.getAllChildren([this]);As(t,!1);var n=t[0];return n===i?this:n.displayList!==i.displayList?this:(n.displayList.moveBelow(i,n),this)}};var eM=function(i,t){var n=t(i);if(!n&&i.isRexContainerLite)for(var x=i.children,C=0,M=x.length;C<M;C++)eM(x[C],t)},Kd=function(i,t){for(var n=[i];n.length>0;){var x=n.shift(),C=t(x);!C&&x.isRexContainerLite&&n.push(...x.children)}};const kn=Phaser.Utils.Array,E9={getChildren(i){if(!i)i=this.children;else for(var t=0,n=this.children.length;t<n;t++)i.push(this.children[t]);return i},getAllChildren(i){i===void 0&&(i=[]);var t=this;return Kd(t,function(n){n!==t&&i.push(n)}),i},getAllVisibleChildren(i){i===void 0&&(i=[]);var t=this;return Kd(t,function(n){if(n!==t){if(!n.visible)return!0;i.push(n)}}),i},bfs(i,t){return t===void 0&&(t=this),Kd(t,i),this},dfs(i,t){return t===void 0&&(t=this),eM(t,i),this},contains(i){var t=Oi(i);return t?t===this?!0:this.contains(t):!1},getByName(i,t){if(t){for(var n=[this],x,C;n.length;){x=n.shift();for(var M=0,h=x.children.length;M<h;M++){if(C=x.children[M],C.name===i)return C;C.isRexContainerLite&&n.push(C)}}return null}else return kn.GetFirst(this.children,"name",i)},getRandom(i,t){return kn.GetRandom(this.children,i,t)},getFirst(i,t,n,x){return kn.GetFirstElement(this.children,i,t,n,x)},getAll(i,t,n,x){return kn.GetAll(this.children,i,t,n,x)},count(i,t,n,x){return kn.CountAllMatching(this.children,i,t,n,x)},swap(i,t){return kn.Swap(this.children,i,t),this},setAll(i,t,n,x){return kn.SetAll(this.children,i,t,n,x),this}};var v1=function(i){for(var t=[],n=0,x=i.length;n<x;n++){var C=i[n];C.hasOwnProperty("rexContainer")&&t.push(C.rexContainer)}return t},P9=function(i){for(var t=0,n=i.length;t<n;t++){var x=i[t].scene;if(x)return x}return null},p1=function(i,t,n){if(!n.parent){i.remove();return}var x=n.parent,C=n.self;switch(t){case"x":case"y":x.updateChildPosition(C);break;case"angle":case"rotation":x.updateChildRotation(C);break;case"scaleX":case"scaleY":case"displayWidth":case"displayHeight":x.updateChildScale(C);break;case"alpha":x.updateChildAlpha(C);break;default:x.updateChildPosition(C),x.updateChildRotation(C),x.updateChildScale(C),x.updateChildAlpha(C);break}};const R9={tweenChild(i){var t=i.targets;Array.isArray(t)||(t=[t]);var n=this.scene||P9(t);if(n){i.targets=v1(t);var x=n.tweens.add(i);return x.on("update",p1),x}},tweenSelf(i){return i.targets=[this],this.tweenChild(i)},createTweenChildConfig(i){var t=i.targets;t&&(Array.isArray(t)||(t=[t]),i.targets=v1(t));var n=i.onUpdate;return i.onUpdate=function(x,C){n&&n(x,C),p1(x,void 0,C)},i},tween(i){var t=this.scene;return i.targets||(i.targets=this),t.tweens.add(i)}},A9={addToContainer(i){this._setParentContainerFlag=!0;var t=this.getAllChildren([this]);return As(t),i.add(t),this._setParentContainerFlag=!1,this},addToLayer(i){return this.addToContainer(i),this},removeFromContainer(){if(!this.parentContainer)return this;var i=this.getAllChildren([this]).filter(function(t){return!!t.scene});return i.length===0?this:(this._setParentContainerFlag=!0,i.length>1&&(As(i),i.reverse()),this.parentContainer.remove(i),this._setParentContainerFlag=!1,this)},getParentContainer(){if(this.parentContainer)return this.parentContainer;for(var i=this.getParent();i;){var t=i.parentContainer;if(t)return t;i=i.getParent()}return null},addToParentContainer(i){if(!i.displayList)return this;var t=this.getParentContainer();return t?(i.isRexContainerLite?i.addToContainer(t):t.add(i),this):this}},w9={enableLayer(){if(this.privateRenderLayer)return this;var i=this.scene.add.layer();return this.moveDepthBelow(i),this.addToLayer(i),this.privateRenderLayer=i,this},getLayer(){return this.privateRenderLayer||this.enableLayer(),this.privateRenderLayer},getRenderLayer(){if(this.privateRenderLayer)return this.privateRenderLayer;for(var i=this.getParent();i;){var t=i.privateRenderLayer;if(t)return t;i=i.getParent()}return null},addToRenderLayer(i){if(!i.displayList)return this;var t=this.getRenderLayer();if(!t)return this;i.isRexContainerLite?i.addToLayer(t):t.add(i);var n=wt(i);return n.layer=t,this},removeFromRenderLayer(i){var t=wt(i),n=t.layer;return n?(n.remove(i),t.layer=null,this):this}},g1=Phaser.Geom.Rectangle,O9=Phaser.Geom.Rectangle.Union;var L9=function(i,t){t===void 0?t=new g1:t===!0&&(jd===void 0&&(jd=new g1),t=jd),t.setTo(0,0,0,0);for(var n,x=!0,C=0,M=i.length;C<M;C++)if(n=i[C],!!n.getBounds){var h=v0(n,!0);x?(t.setTo(h.x,h.y,h.width,h.height),x=!1):O9(h,t,t)}return t},jd;const F9=Phaser.GameObjects.GameObject;var Ln=function(i){return i instanceof F9},Un=Phaser.Utils.Objects.GetValue,I9=Phaser.Textures.DynamicTexture,D9=Phaser.Utils.String.UUID,A0=function(i){if(i){var t=i.gameObjects,n=i.renderTexture,x=Un(i,"x",void 0),C=Un(i,"y",void 0),M=Un(i,"width",void 0),h=Un(i,"height",void 0),y=Un(i,"originX",0),e=Un(i,"originY",0),f=Un(i,"padding",0),d,s;if(M===void 0||h===void 0||x===void 0||C===void 0){var a=L9(t,!0),r=x!==void 0&&C!==void 0;r?(M=Math.max(x-a.left,a.right-x)*2,h=Math.max(C-a.top,a.bottom-C)*2,y=.5,e=.5):(x=a.x,C=a.y,M=a.width,h=a.height,y=0,e=0),d=a.x,s=a.y}else d=x+(0-y)*M,s=C+(0-e)*h;d-=f,s-=f,M+=f*2,h+=f*2;var o=t[0].scene;u&&!n&&(n=new I9(o.sys.textures,D9(),M,h)),n||(n=o.add.renderTexture(0,0,M,h)),n.setPosition&&n.setPosition(x,C),(n.width!==M||n.height!==h)&&n.setSize(M,h),n.setOrigin&&n.setOrigin(y,e),n.camera.setScroll(d,s),t=As(dr(t)),n.draw(t);var u=i.saveTexture;if(u)if(Ln(n))n.saveTexture(u);else{var v=n,l=v.manager;l.exists(v.key)?l.renameTexture(v.key,key):(v.key=key,l.list[key]=v,l.emit("addtexture",key,v),l.emit(`addtexture-${key}`,v))}return n}};const B9={snapshot(i){var t=this.scaleX,n=this.scaleY,x=t===1&&n===1;x||this.setScale(1),i===void 0&&(i={}),i.gameObjects=this.getAllVisibleChildren(),i.x=this.x,i.y=this.y,i.originX=this.originX,i.originY=this.originY;var C=A0(i),M=!!C.scene;return x||(this.setScale(t,n),M&&C.setScale(t,n)),M?C:this}},m1=Phaser.Utils.Objects.GetValue;var b9=function(i,t){var n=m1(t,"drawContainer",!0),x=m1(t,"children");return x===void 0&&(x=this.getAllVisibleChildren([this])),n||(x=x.filter(function(C){return!C.isRexContainerLite})),g2(x,i,t),this};const G9=Phaser.Math.RotateAround;var N9=function(i,t,n){n===void 0&&(n=t);var x={x:(t-i.originX)*i.displayWidth,y:(n-i.originY)*i.displayHeight};return G9(x,0,0,i.rotation),i.originX=t,i.originY=n,i.x=i.x+x.x,i.y=i.y+x.y,i},V9=function(i,t){this.syncChildrenEnable=!1,N9(this,i,t),this.syncChildrenEnable=!0;for(var n=this.getAllChildren(),x=0,C=n.length;x<C;x++)this.resetChildPositionState(n[x]);return this},iM={changeOrigin:V9,drawBounds:b9};Object.assign(iM,h9,l9,f9,d9,c9,v9,g9,m9,x9,y9,T9,C9,S9,M9,E9,R9,A9,w9,B9);class ci extends mh{constructor(t,n,x,C,M,h){Array.isArray(C)&&(h=C,C=void 0,M=void 0),super(t,n,x,C,M),this.type="rexContainerLite",this.isRexContainerLite=!0,this.syncChildrenEnable=!0,this._active=!0,this._mask=null,this._scrollFactorX=1,this._scrollFactorY=1,this.privateRenderLayer=void 0,h&&this.add(h)}destroy(t){!this.scene||this.ignoreDestroy||(this.syncChildrenEnable=!1,super.destroy(t),this.privateRenderLayer&&(this.privateRenderLayer.list.length=0,this.privateRenderLayer.destroy()))}resize(t,n){return this.setSize(t,n),this}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.syncPosition())}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.syncPosition())}get rotation(){return super.rotation}set rotation(t){this.rotation!==t&&(super.rotation=t,this.syncPosition())}get scaleX(){return super.scaleX}set scaleX(t){this.scaleX!==t&&(super.scaleX=t,this.syncPosition())}get scaleY(){return super.scaleY}set scaleY(t){this.scaleY!==t&&(super.scaleY=t,this.syncPosition())}get scale(){return super.scale}set scale(t){this.scale!==t&&(super.scale=t,this.syncPosition())}get visible(){return super.visible}set visible(t){super.visible!==t&&(super.visible=t,this.syncVisible())}get alpha(){return super.alpha}set alpha(t){super.alpha!==t&&(super.alpha=t,this.syncAlpha())}get active(){return this._active}set active(t){this._active!==t&&(this._active=t,this.syncActive())}get mask(){return this._mask}set mask(t){this._mask!==t&&(this._mask=t,this.syncMask())}get scrollFactorX(){return this._scrollFactorX}set scrollFactorX(t){this._scrollFactorX!==t&&(this._scrollFactorX=t,this.syncScrollFactor())}get scrollFactorY(){return this._scrollFactorY}set scrollFactorY(t){this._scrollFactorY!==t&&(this._scrollFactorY=t,this.syncScrollFactor())}get list(){return this.children}static GetParent(t){return Oi(t)}get parentContainer(){return this._parentContainer}set parentContainer(t){if(!this._parentContainer&&!t){this._parentContainer=t;return}if(this.setParentContainerFlag){this._parentContainer=t;return}this._parentContainer&&!t?(this.removeFromContainer(),this._parentContainer=t):t?(this._parentContainer=t,this.addToContainer(t)):this._parentContainer=t}get setParentContainerFlag(){if(this._setParentContainerFlag)return!0;var t=Oi(this);return t?t.setParentContainerFlag:!1}}Object.assign(ci.prototype,iM);var cf=function(i){return i.hasOwnProperty("rexSizer")||(i.rexSizer={}),i.rexSizer};function z9(i){return i===void 0&&(i=this),cf(i)}var k9=function(i){var t=cf(i);return t.hasOwnProperty("prevState")||(t.prevState={}),t.prevState},U9=function(i){return i===void 0&&(i=Va(this.scene)),this.left=Math.max(this.left,i.left),this.right=Math.min(this.right,i.right),this.top=Math.max(this.top,i.top),this.bottom=Math.min(this.bottom,i.bottom),this};const Ye=Phaser.Display.Align,Ti={center:Ye.CENTER,left:Ye.LEFT_CENTER,right:Ye.RIGHT_CENTER,top:Ye.TOP_CENTER,bottom:Ye.BOTTOM_CENTER,"left-top":Ye.TOP_LEFT,"left-center":Ye.LEFT_CENTER,"left-bottom":Ye.BOTTOM_LEFT,"center-top":Ye.TOP_CENTER,"center-center":Ye.CENTER,"center-bottom":Ye.BOTTOM_CENTER,"right-top":Ye.TOP_RIGHT,"right-center":Ye.RIGHT_CENTER,"right-bottom":Ye.BOTTOM_RIGHT};var Qv=new Phaser.GameObjects.Zone({sys:{queueDepthSort:Fe,events:{once:Fe}}},0,0,1,1);Qv.setOrigin(0);var ks={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12},w0=function(i){var t=It(i);return i.y+t-t*i.originY},O0=function(i){var t=Vt(i);return i.x-t*i.originX+t*.5},L0=function(i,t){var n=It(i);return i.y=t-n+n*i.originY,i},F0=function(i,t){var n=Vt(i),x=n*i.originX;return i.x=t+x-n*.5,i},X9=function(i,t,n,x){return n===void 0&&(n=0),x===void 0&&(x=0),F0(i,O0(t)+n),L0(i,w0(t)+x),i},I0=function(i){var t=Vt(i);return i.x-t*i.originX},D0=function(i,t){var n=Vt(i);return i.x=t+n*i.originX,i},Y9=function(i,t,n,x){return n===void 0&&(n=0),x===void 0&&(x=0),D0(i,I0(t)-n),L0(i,w0(t)+x),i},B0=function(i){var t=Vt(i);return i.x+t-t*i.originX},b0=function(i,t){var n=Vt(i);return i.x=t-n+n*i.originX,i},W9=function(i,t,n,x){return n===void 0&&(n=0),x===void 0&&(x=0),b0(i,B0(t)+n),L0(i,w0(t)+x),i},G0=function(i,t){var n=It(i),x=n*i.originY;return i.y=t+x-n*.5,i},H9=function(i,t,n){return F0(i,t),G0(i,n)},N0=function(i){var t=It(i);return i.y-t*i.originY+t*.5},$9=function(i,t,n,x){return n===void 0&&(n=0),x===void 0&&(x=0),H9(i,O0(t)+n,N0(t)+x),i},K9=function(i,t,n,x){return n===void 0&&(n=0),x===void 0&&(x=0),D0(i,I0(t)-n),G0(i,N0(t)+x),i},j9=function(i,t,n,x){return n===void 0&&(n=0),x===void 0&&(x=0),b0(i,B0(t)+n),G0(i,N0(t)+x),i},V0=function(i){var t=It(i);return i.y-t*i.originY},z0=function(i,t){var n=It(i);return i.y=t+n*i.originY,i},Z9=function(i,t,n,x){return n===void 0&&(n=0),x===void 0&&(x=0),F0(i,O0(t)+n),z0(i,V0(t)-x),i},J9=function(i,t,n,x){return n===void 0&&(n=0),x===void 0&&(x=0),D0(i,I0(t)-n),z0(i,V0(t)-x),i},Q9=function(i,t,n,x){return n===void 0&&(n=0),x===void 0&&(x=0),b0(i,B0(t)+n),z0(i,V0(t)-x),i},ms=[];ms[ks.BOTTOM_CENTER]=X9;ms[ks.BOTTOM_LEFT]=Y9;ms[ks.BOTTOM_RIGHT]=W9;ms[ks.CENTER]=$9;ms[ks.LEFT_CENTER]=K9;ms[ks.RIGHT_CENTER]=j9;ms[ks.TOP_CENTER]=Z9;ms[ks.TOP_LEFT]=J9;ms[ks.TOP_RIGHT]=Q9;var sM=function(i,t,n,x,C){return ms[n](i,t,x,C)},xh=function(i,t,n,x,C,M){Qv.setPosition(t,n).setSize(x,C),sM(i,Qv,M)};const Nr=Phaser.Utils.Objects.GetValue,q9=Phaser.GameObjects.Group;var _9=function(i,t){var n=i.scene,x,C,M,h,y;if(typeof t=="number")x=t;else{x=Nr(t,"color"),C=Nr(t,"lineWidth");var e=Nr(t,"name",!1);e&&(M=Nr(e,"createTextCallback",t8),h=Nr(e,"createTextCallbackScope",void 0),y=Nr(e,"align","left-top"),typeof y=="string"&&(y=Ti[y]))}if(x===void 0&&(x=16777215),C===void 0&&(C=1),M&&!i.children){i.children=new q9(n),i.once("destroy",function(u,v){u.children.destroy(!v),u.children=void 0});var f=i.clear.bind(i);i.clear=function(){f(),i.children.clear(!1,!0)}}for(var d=this.getAllShownChildren([this]),s,a,r=0,o=d.length;r<o;r++){if(s=d[r],s.getBounds||s.width!==void 0&&s.height!==void 0)Xn=v0(s,Xn);else continue;x!=null&&i.lineStyle(C,x).strokeRectShape(Xn),s.name&&M&&(h?a=M.call(h,n):a=M(n),a&&(a.setText(s.name),i.children.add(a),xh(a,Xn.x,Xn.y,Xn.width,Xn.height,y)))}return this},t8=function(i,t,n){return i.add.text(0,0,"")},Xn=void 0;const cl=Phaser.Utils.Objects.GetValue;var ka=function(i,t){return t===void 0&&(t={}),typeof i=="number"?(t.left=i,t.right=i,t.top=i,t.bottom=i):(t.left=cl(i,"left",0),t.right=cl(i,"right",0),t.top=cl(i,"top",0),t.bottom=cl(i,"bottom",0)),t};const e8=ci.prototype.add;var yh=function(i){return e8.call(this,i),this.sizerEventsEnable&&(i.emit("sizer.add",i,this),this.emit("add",i,this)),this};const i8={addBackground(i,t,n){this.backgroundChildren===void 0&&(this.backgroundChildren=[]),typeof t=="string"&&(n=t,t=void 0),t===void 0&&(t=0),yh.call(this,i),this.backgroundChildren.push(i);var x=this.getSizerConfig(i);return x.padding=ka(t),n!==void 0&&this.addChildrenMap(n,i),this},isBackground(i){return this.backgroundChildren===void 0?!1:this.backgroundChildren.indexOf(i)!==-1}},s8=Phaser.Utils.Array.Remove,n8=ci.prototype.remove;var Th=function(i,t){return this.isBackground(i)&&s8(this.backgroundChildren,i),n8.call(this,i,t),!t&&this.sizerEventsEnable&&(i.emit("sizer.remove",i,this),this.emit("remove",i,this)),this},xn=function(i,t){var n=null;if(t===void 0)i.hasOwnProperty("rexContainer")&&(n=i.rexContainer.parent,n?n.isRexSizer||(n=xn(n)):n=null);else for(n=xn(i);n&&n.name!==t;)n=xn(n);return n},r8=function(i){for(var t=xn(i);t;)i=t,t=xn(t);return i};const Ch={getParentSizer(i,t){return typeof i=="string"&&(t=i,i=void 0),i===void 0&&(i=this),xn(i,t)},getTopmostSizer(i){return i===void 0&&(i=this),r8(i)},hasParentSizer(i,t){t===void 0&&(t=this);for(var n=xn(t);n;){if(n===i)return!0;n=xn(n)}return!1},hasChild(i,t){return t===void 0&&(t=this),this.hasParentSizer(t,i)}},a8=Phaser.Utils.Array.Remove,o8={removeFromParentSizer(){var i=Ch.getParentSizer(gameObject);return i&&i.remove(this),this},removeBackground(i,t){return this.backgroundChildren===void 0?this:this.getParentSizer(i)!==this?this:(a8(this.backgroundChildren,i),Th.call(this,i,t),this)},removeAllBackgrounds(i){if(this.backgroundChildren===void 0)return this;for(var t=this.backgroundChildren.length-1;t>=0;t--)this.remove(this.backgroundChildren[t],i);return this}};var x1=function(i,t){if(typeof i=="string")this.childrenMap[i]=t;else{var n=i;for(i in n)this.childrenMap[i]=n[i]}return this},h8=function(i){if(typeof i=="object"){var t=i;for(var i in this.childrenMap)if(this.childrenMap[i]===t)return delete this.childrenMap[i],this}return delete this.childrenMap[i],this},l8=function(i,t){if(typeof i=="string"&&(i=i.split(".")),i.length!==0){var n=i.shift(),x=null;if(n.charAt(0)==="#")n=n.substring(1),x=this.getByName(n,t);else if(n.indexOf("[")===-1)this.childrenMap&&(x=this.childrenMap[n]);else{var C=n.match(u8);if(C!=null&&this.childrenMap){var M=this.childrenMap[C[1]];M&&(x=M[C[2]])}}return i.length===0?x:x&&x.childrenMap?x.getElement(i):null}};const u8=/(\S+)\[(\d+)\]/i,f8={getInnerPadding(i){return _l(this.space,i)},setInnerPadding(i,t){return mn(this.space,i,t),this},getOuterPadding(i){return _l(this.getSizerConfig(this).padding,i)},setOuterPadding(i,t){return mn(this.getSizerConfig(this).padding,i,t),this},getChildOuterPadding(i,t){return typeof i=="string"&&(i=this.getElement(i)),_l(this.getSizerConfig(i).padding,t)},setChildOuterPadding(i,t,n){return typeof i=="string"&&(i=this.getElement(i)),mn(this.getSizerConfig(i).padding,t,n),this}};var k0=function(i){var t=this.childrenWidth,n=this.minWidth!==void 0?this.minWidth:0;return i===void 0?(i=Math.max(n,t),n>0&&t>n&&console.warn(`Layout width warn: ${this.constructor.name}'s minWidth (${n}) < childrenWidth (${t})`)):(n>i||t>i)&&console.warn(`Layout width warn: ${this.constructor.name}'s minWidth (${n}) or childrenWidth (${t} > targetWidth ${i}`),i},d8=function(i){var t,n;for(var x in this.sizerChildren)t=this.sizerChildren[x],t&&t.isRexSizer&&!t.ignoreLayout&&(n=this.getExpandedChildWidth(t,i),n=t.resolveWidth(n),t.resolveChildrenWidth(n))},U0=function(i){var t=this.childrenHeight,n=this.minHeight!==void 0?this.minHeight:0;return i===void 0?(i=Math.max(n,t),n>0&&t>n&&console.warn(`Layout height warn: ${this.constructor.name}'s minHeight (${n}) < childrenHeight (${t})`)):(n>i||t>i)&&console.warn(`Layout height warn: ${this.constructor.name}'s minHeight (${n}) or childrenHeight (${t}) > targetHeight (${i})`),i},c8=function(i,t){},v8=function(i){var t;return i.isRexSizer?t=Math.max(i.minWidth,i.childrenWidth):i.minWidth!==void 0?t=i.minWidth:t=Vt(i),t},p8=function(i){var t;return i.isRexSizer?t=Math.max(i.minHeight,i.childrenHeight):i.minHeight!==void 0?t=i.minHeight:t=It(i),t},g8=function(i,t){return t},m8=function(i,t){return t},x8=function(){return 0},y8=function(){return 0},T8=function(i){i===void 0&&(i=[]);for(var t=i.length,n=this.getChildrenSizers(i),x=i.length,C=t;C<x;C++)n[C].getAllChildrenSizers(i);return i},C8=function(i){return i===void 0&&(i=[]),i};const S8={getShownChildren(i){i===void 0&&(i=[]);for(var t=this.children,n,x=0,C=t.length;x<C;x++)n=t[x],!(n.rexSizer&&n.rexSizer.hidden)&&i.push(n);return i},getAllShownChildren(i){i===void 0&&(i=[]);for(var t=[this];t.length>0;){var n=t.shift();n.rexSizer&&n.rexSizer.hidden||(n!==this&&i.push(n),n.isRexContainerLite&&t.push(...n.children))}return i}};var Sh=function(){this._childrenWidth=void 0,this._childrenHeight=void 0;for(var i=this.getChildrenSizers(),t,n=0,x=i.length;n<x;n++)t=i[n],!t.ignoreLayout&&t.preLayout()},M8=function(){var i=this.scaleX,t=this.scaleY,n=i===1&&t===1;return n||this.setScale(1),this.runLayout(),n||this.setScale(i,t),this},E8=function(i,t,n){if(this.ignoreLayout)return this;var x=!i;return x&&this.preLayout(),t=this.resolveWidth(t),x&&(this.resolveChildrenWidth(t),this.runWidthWrap(t)),n=this.resolveHeight(n),this.postResolveSize(t,n),this.resize(t,n),this.sizerEventsEnable&&this.layoutedChildren===void 0&&(this.layoutedChildren=[]),this.layoutChildren(),this.layoutBackgrounds(),this.sizerEventsEnable&&(this.emit("postlayout",this.layoutedChildren,this),this.layoutedChildren.length=0),this.postLayout()},P8=function(){},R8=function(i,t,n){return this._anchor&&this._anchor.updatePosition(),this},nM=function(i){var t,n;for(var x in this.sizerChildren)t=this.sizerChildren[x],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(n=this.getExpandedChildWidth(t,i),t.isRexSizer&&(n=t.resolveWidth(n)),t.runWidthWrap(n));return this};class X0 extends me{constructor(t,n){super(t,{eventEmitter:!1}),this.viewport=void 0,this.resetFromJSON(n)}shutdown(t){this.isShutdown||(this.autoAnchor(!1),this.viewport=void 0,this.onUpdateViewportCallback=void 0,this.onUpdateViewportCallbackScope=void 0,this.onResizeCallback=void 0,this.onResizeCallbackScope=void 0,super.shutdown(t))}resetFromJSON(t){t===void 0&&(t={});var n,x;t.x!==void 0?(n=null,x=t.x):t.left!==void 0?(n=0,x=t.left):t.right!==void 0?(n=1,x=t.right):t.centerX!==void 0&&(n=.5,x=t.centerX);var C,M;t.y!==void 0?(C=null,M=t.y):t.top!==void 0?(C=0,M=t.top):t.bottom!==void 0?(C=1,M=t.bottom):t.centerY!==void 0&&(C=.5,M=t.centerY);var h,y;x!==void 0&&(x=x.replace("left","0%").replace("right","100%").replace("center","50%").split("%"),h=parseFloat(x[0])/100,y=x[1]===""?0:parseFloat(x[1]));var e,f;M!==void 0&&(M=M.replace("top","0%").replace("bottom","100%").replace("center","50%").split("%"),e=parseFloat(M[0])/100,f=M[1]===""?0:parseFloat(M[1]));var d=t.width,s,a;d!==void 0&&(d=d.split("%"),s=parseFloat(d[0])/100,a=d[1]===""?0:parseFloat(d[1]));var r=t.height,o,u;r!==void 0&&(r=r.split("%"),o=parseFloat(r[0])/100,u=r[1]===""?0:parseFloat(r[1])),this.setAlign(n,C),this.setPercentage(h,e),this.setOffset(y,f),this.setSizePercentage(s,o),this.setSizePadding(a,u);var v=t.onResizeCallback,l=t.onResizeCallbackScope;v!==void 0&&this.setResizeCallback(v,l);var c=t.onUpdateViewportCallback,p=t.onUpdateViewportCallbackScope;return c!==void 0&&this.setUpdateViewportCallback(c,p),this.autoAnchor(t.enable),this}autoAnchor(t){return t===void 0&&(t=!0),t=!!t,this.autoAnchorEnable===t?this:(t?(this.scene.sys.scale.on("resize",this.anchor,this),this.anchor()):this.scene.sys.scale.off("resize",this.anchor,this),this.autoAnchorEnable=t,this)}setAlign(t,n){return this.alignX=t,this.alignY=n,this}setPercentage(t,n){return this.percentageX=t,this.percentageY=n,this}setOffset(t,n){return this.offsetX=t,this.offsetY=n,this}setSizePercentage(t,n){return this.percentageWidth=t,this.percentageHeight=n,this}setSizePadding(t,n){return this.paddingWidth=t,this.paddingHeight=n,this}setResizeCallback(t,n){return this.onResizeCallback=t,this.onResizeCallbackScope=n,this}setUpdateViewportCallback(t,n){return this.onUpdateViewportCallback=t,this.onUpdateViewportCallbackScope=n,this}anchor(){return this.updateViewport(),this.updateSize(),this.updatePosition(),this}updateSize(){var t=this.onResizeCallback,n=this.onResizeCallbackScope,x=this.anchorWidth,C=this.anchorHeight;if(!(x===void 0&&C===void 0||!t)){var M=this.parent;x===void 0&&(x=M.width),C===void 0&&(C=M.height),n?t.call(n,x,C,M,this):t(x,C,M,this)}}updatePosition(){var t=this.parent;return this.alignX===null?t.x=this.anchorX:this.alignX!==void 0&&(t.x=this.anchorX+t.displayWidth*(t.originX-this.alignX)),this.alignY===null?t.y=this.anchorY:this.alignY!==void 0&&(t.y=this.anchorY+t.displayHeight*(t.originY-this.alignY)),this}get anchorX(){return this.viewport.x+this.viewport.width*this.percentageX+this.offsetX}get anchorY(){return this.viewport.y+this.viewport.height*this.percentageY+this.offsetY}get anchorWidth(){if(this.percentageWidth!==void 0)return this.viewport.width*this.percentageWidth+this.paddingWidth}get anchorHeight(){if(this.percentageHeight!==void 0)return this.viewport.height*this.percentageHeight+this.paddingHeight}updateViewport(){var t=this.parent.scene.cameras.main;this.viewport=Va(this.scene,t,this.viewport);var n=this.viewport,x=this.onUpdateViewportCallback,C=this.onUpdateViewportCallbackScope;x&&(C?x.call(C,n,this.parent,this):x(n,this.parent,this))}}var A8=function(i){i===void 0&&(i={});var t=i.hasOwnProperty("width"),n=i.hasOwnProperty("height"),x=i.hasOwnProperty("onResizeCallback");return(t||n)&&!x&&(i.onResizeCallback=function(C,M,h){t&&h.setMinWidth(C),n&&h.setMinHeight(M),h.layout()}),this._anchor===void 0?this._anchor=new X0(this,i):this._anchor.resetFromJSON(i),this};const w8=Phaser.Utils.Objects.GetValue,Vr=Phaser.Utils.Objects.GetAdvancedValue,y1=Phaser.Math.Linear;class rh extends xr{constructor(t,n){super(t,n),this.scaleStart={},this.scaleEnd={},this.resetFromJSON(n),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(w8(t,"mode",0)),this.setScaleRange(Vr(t,"start",void 0),Vr(t,"end",0)),this}setMode(t){return typeof t=="string"&&(t=O8[t]),this.mode=t,this}setScaleRange(t,n){return typeof t=="number"?(this.startX=t,this.startY=t):(this.startX=Vr(t,"x",this.parent.scaleX),this.startY=Vr(t,"y",this.parent.scaleY)),typeof n=="number"?(this.endX=n,this.endY=n):(this.endX=Vr(n,"x",void 0),this.endY=Vr(n,"y",void 0)),this.hasScaleX=this.startX!==void 0&&this.endX!==void 0,this.hasScaleY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;this.hasScaleX&&(t.scaleX=this.startX),this.hasScaleY&&(t.scaleY=this.startY);var n=this.repeat;return this.mode===2&&n!==-1&&(n=(n+1)*2-1),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(n),super.start(),this}updateGameObject(t,n){var x=n.t;n.isOddIteration&&(x=1-x),x=this.easeFn(x),this.hasScaleX&&(t.scaleX=y1(this.startX,this.endX,x)),this.hasScaleY&&(t.scaleY=y1(this.startY,this.endY,x))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}}const O8={stop:0,destroy:1,yoyo:2};var Y0=function(i,t,n,x,C){x===void 0&&(x="Cubic");var M,h;switch(n){case 0:case"x":M={x:0},h={x:i.scaleX};break;case 1:case"y":M={y:0},h={y:i.scaleY};break;default:M=0,h=i.scale;break}var y={mode:0,start:M,end:h,duration:t,ease:x};return C===void 0?C=new rh(i,y):C.resetFromJSON(y),C.restart(),C},rM=function(i,t,n,x,C,M){x===void 0&&(x="Linear"),C instanceof rh&&(M=C,C=void 0),C===void 0&&(C=!0);var h={};switch(h.mode=C?1:0,n){case 0:case"x":h.end={x:0};break;case 1:case"y":h.end={y:0};break;default:h.end=0;break}return h.duration=t,h.ease=x,M===void 0?M=new rh(i,h):M.resetFromJSON(h),M.restart(),M},L8=function(i,t,n,x,C,M,h){n===void 0&&(n=1.2),x===void 0&&(x=0),M===void 0&&(M="Cubic");var y,e;switch(C){case 0:case"x":y={x:i.scaleX},e={x:n};break;case 1:case"y":y={y:i.scaleX},e={y:n};break;default:y=i.scaleX,e=n;break}var f={mode:2,start:y,end:e,duration:t/2,ease:M,repeat:x};return h===void 0?h=new rh(i,f):h.resetFromJSON(f),h.restart(),h};const Zd=Phaser.Utils.Objects.IsPlainObject;var Jd=function(i,t){t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(i.emit(t.completeEventName,i),t.completeEventName=void 0)}),t.on("update",function(){var n=Ch.getParentSizer(i);n&&n.resetChildPositionState(i)})};const W0={popUp(i,t,n){if(Zd(i)){var x=i;i=x.duration,t=x.orientation,n=x.ease}var C=this._scaleBehavior===void 0;return this._scaleBehavior=Y0(this,i,t,n,this._scaleBehavior),C&&Jd(this,this._scaleBehavior),this._scaleBehavior.completeEventName="popup.complete",this},popUpPromise(i,t,n){return this.popUp(i,t,n),Se(this._scaleBehavior)},scaleDownDestroy(i,t,n,x){if(Zd(i)){var C=i;i=C.duration,t=C.orientation,n=C.ease,x=C.destroy}var M=this._scaleBehavior===void 0;return this._scaleBehavior=rM(this,i,t,n,x,this._scaleBehavior),M&&Jd(this,this._scaleBehavior),this._scaleBehavior.completeEventName="scaledown.complete",this},scaleDownDestroyPromise(i,t,n,x){return this.scaleDownDestroy(i,t,n,x),Se(this._scaleBehavior)},scaleDown(i,t,n){return this.scaleDownDestroy(i,t,n,!1),this},scaleDownPromise(i,t,n){return this.scaleDown(i,t,n),Se(this._scaleBehavior)},scaleYoyo(i,t,n,x,C){if(Zd(i)){var M=i;i=M.duration,t=M.peakValue,n=M.repeat,x=M.orientation,C=M.ease}var h=this._scaleBehavior===void 0;return this._scaleBehavior=L8(this,i,t,n,x,C,this._scaleBehavior),h&&Jd(this,this._scaleBehavior),this._scaleBehavior.completeEventName="scaleyoyo.complete",this},scaleYoyoPromise(i,t,n,x,C){return this.scaleYoyo(i,t,n,x,C),Se(this._scaleBehavior)}},F8=Phaser.Utils.Objects.GetValue,T1=Phaser.Utils.Objects.GetAdvancedValue,I8=Phaser.Math.Linear;let qv=class extends xr{constructor(t,n){super(t,n),this.resetFromJSON(n),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(F8(t,"mode",0)),this.setAlphaRange(T1(t,"start",this.parent.alpha),T1(t,"end",0)),this}setMode(t){return typeof t=="string"&&(t=D8[t]),this.mode=t,this}setAlphaRange(t,n){return this.alphaStart=t,this.alphaEnd=n,this}start(){if(this.timer.isRunning)return this;var t=this.parent;return t.setAlpha(this.alphaStart),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateGameObject(t,n){var x=n.t;n.isOddIteration&&(x=1-x),t.alpha=I8(this.alphaStart,this.alphaEnd,x)}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}};const D8={stop:0,destroy:1,yoyo:2},B8=Phaser.Utils.Objects.IsPlainObject;var vf=function(i,t,n,x){var C,M;B8(n)?(C=n.start,M=n.end):M=n,C===void 0&&(C=0),M===void 0&&(M=1);var h={mode:0,start:C,end:M,duration:t};return x===void 0?x=new qv(i,h):x.resetFromJSON(h),x.restart(),x},pf=function(i,t,n,x){n instanceof qv&&(x=n,n=void 0),n===void 0&&(n=!0);var C={mode:n?1:0,end:0,duration:t};return x===void 0?x=new qv(i,C):x.resetFromJSON(C),x.restart(),x};const C1=Phaser.Utils.Objects.IsPlainObject;var S1=function(i,t){t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(i.emit(t.completeEventName,i),t.completeEventName=void 0)}),t.on("update",function(){var n=Ch.getParentSizer(i);n&&n.resetChildAlphaState(i)})};const b8={fadeIn(i,t){if(C1(i)){var n=i;i=n.duration,t=n.alpha}var x=this._fade===void 0;return this._fade=vf(this,i,t,this._fade),x&&S1(this,this._fade),this._fade.completeEventName="fadein.complete",this},fadeInPromise(i,t){return this.fadeIn(i,t),Se(this._fade)},fadeOutDestroy(i,t){if(C1(i)){var n=i;i=n.duration,t=n.destroy}var x=this._fade===void 0;return this._fade=pf(this,i,t,this._fade),x&&S1(this,this._fade),this._fade.completeEventName="fadeout.complete",this},fadeOutDestroyPromise(i,t){return this.fadeOutDestroy(i,t),Se(this._fade)},fadeOut(i){return this.fadeOutDestroy(i,!1),this},fadeOutPromise(i){return this.fadeOut(i),Se(this._fade)}},G8=Phaser.Utils.Objects.GetValue,zr=Phaser.Utils.Objects.GetAdvancedValue,M1=Phaser.Math.Linear;class Fu extends xr{constructor(t,n){super(t,n),this.resetFromJSON(n),this.boot()}resetFromJSON(t){if(super.resetFromJSON(t),this.setMode(G8(t,"mode",0)),t&&(t.hasOwnProperty("x")||t.hasOwnProperty("y"))){var n=zr(t,"x",void 0),x=zr(t,"y",void 0);this.setTargetPosition(n,x)}else this.setTargetPosition(t);return this}setMode(t){return typeof t=="string"&&(t=N8[t]),this.mode=t,this}setTargetPosition(t,n){if(typeof t=="number"||typeof n=="number")this.startX=this.parent.x,this.startY=this.parent.y,this.endX=t,this.endY=n;else{var x=t;this.startX=zr(x,"startX",void 0),this.startY=zr(x,"startY",void 0),this.endX=zr(x,"endX",void 0),this.endY=zr(x,"endY",void 0)}return this.hasMoveX=this.startX!==void 0&&this.endX!==void 0,this.hasMoveY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;return this.hasMoveX&&(t.x=this.startX),this.hasMoveY&&(t.y=this.startY),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateGameObject(t,n){var x=n.t;n.isOddIteration&&(x=1-x),x=this.easeFn(x),this.hasMoveX&&(t.x=M1(this.startX,this.endX,x)),this.hasMoveY&&(t.y=M1(this.startY,this.endY,x))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}}const N8={stop:0,destroy:1,yoyo:2};var Iu=function(i,t){if(typeof i=="number")return i;var n=i[0],x=parseFloat(i.substr(2));switch(n){case"+":return t+x;case"-":return t-x;case"*":return t*x;case"/":return t/x}},aM=function(i,t,n,x,C,M,h){M instanceof Fu&&(h=M,M=void 0),M===void 0&&(M=!1);var y={};return y.mode=M?1:0,n!==void 0&&(y.startX=i.x,y.endX=Iu(n,i.x)),x!==void 0&&(y.startY=i.y,y.endY=Iu(x,i.y)),y.duration=t,y.ease=C===void 0?"Linear":C,h===void 0?h=new Fu(i,y):h.resetFromJSON(y),h.restart(),h},oM=function(i,t,n,x,C,M,h){M instanceof Fu&&(h=M,M=void 0),M===void 0&&(M=!1);var y={};return y.mode=M?1:0,n!==void 0&&(y.startX=Iu(n,i.x),y.endX=i.x),x!==void 0&&(y.startY=Iu(x,i.y),y.endY=i.y),y.duration=t,y.ease=C===void 0?"Linear":C,h===void 0?h=new Fu(i,y):h.resetFromJSON(y),h.restart(),h};const E1=Phaser.Utils.Objects.IsPlainObject,P1=Phaser.Math.Distance.Between;var R1=function(i,t){t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(i.emit(t.completeEventName,i),t.completeEventName=void 0)}),t.on("update",function(){var n=Ch.getParentSizer(i);n&&n.resetChildPositionState(i)})};const V8={moveFrom(i,t,n,x,C){if(E1(i)){var M=i;t=M.x,n=M.y,M.hasOwnProperty("speed")?i=P1(t,n,this.x,this.y)*1e3/M.speed:i=M.duration,x=M.ease}var h=this._easeMove===void 0;return this._easeMove=oM(this,i,t,n,x,C,this._easeMove),h&&R1(this,this._easeMove),this._easeMove.completeEventName="movefrom.complete",this},moveFromPromise(i,t,n,x,C){return this.moveFrom(i,t,n,x,C),Se(this._easeMove)},moveFromDestroy(i,t,n,x){return this.moveFrom(i,t,n,x,!0),this},moveFromDestroyPromise(i,t,n,x){return this.moveFromDestroy(i,t,n,x),Se(this._easeMove)},moveTo(i,t,n,x,C){if(E1(i)){var M=i;t=M.x,n=M.y,M.hasOwnProperty("speed")?i=P1(t,n,this.x,this.y)*1e3/M.speed:i=M.duration,x=M.ease}var h=this._easeMove===void 0;return this._easeMove=aM(this,i,t,n,x,C,this._easeMove),h&&R1(this,this._easeMove),this._easeMove.completeEventName="moveto.complete",this},moveToPromise(i,t,n,x,C){return this.moveTo(i,t,n,x,C),Se(this._easeMove)},moveToDestroy(i,t,n,x){return this.moveTo(i,t,n,x,!0),this},moveToDestroyPromise(i,t,n,x){return this.moveToDestroy(i,t,n,x,!0),Se(this._easeMove)},moveStop(i){return this._easeMove?(this._easeMove.stop(i),this):this}},pi=Phaser.Utils.Objects.GetValue;class H0 extends af{constructor(t,n){super(t,n),this.timer=new y2,this.resetFromJSON(n),this.boot()}resetFromJSON(t){return this.timer.resetFromJSON(pi(t,"timer")),this.setEnable(pi(t,"enable",!0)),this.setMode(pi(t,"mode",1)),this.isRunning=pi(t,"isRunning",!1),this.setMagnitudeMode(pi(t,"magnitudeMode",1)),this.setAxisMode(pi(t,"axis",0)),this.setDuration(pi(t,"duration",500)),this.setMagnitude(pi(t,"magnitude",10)),this.ox=pi(t,"ox",void 0),this.oy=pi(t,"oy",void 0),this}toJSON(){return{timer:this.timer.toJSON(),enable:this.enable,mode:this.mode,isRunning:this.isRunning,magnitudeMode,duration:this.duration,magnitude:this.magnitude,ox:this.ox,oy:this.oy}}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}startTicking(){super.startTicking(),this.mode===0?(this.scene.game.events.on("poststep",this.update,this),this.scene.game.events.on("prestep",this.backToOrigin,this)):this.scene.sys.events.on("preupdate",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&(this.mode===0?(this.scene.game.events.off("poststep",this.update,this),this.scene.game.events.off("prestep",this.backToOrigin,this)):this.scene.sys.events.off("preupdate",this.update,this))}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setMode(t){return typeof t=="string"&&(t=z8[t]),this.mode=t,this}setMagnitudeMode(t){return typeof t=="string"&&(t=U8[t]),this.magnitudeMode=t,this}setAxisMode(t){return typeof t=="string"&&(t=k8[t]),this.axisMode=t,this}setDuration(t){return this.duration=t,this}setMagnitude(t){return this.magnitude=t,this}start(t,n){if(typeof t!="number"){var x=t;n=pi(x,"magnitude",void 0),t=pi(x,"duration",void 0)}return n!==void 0&&this.setMagnitude(n),t!==void 0&&this.setDuration(t),this.timer.setDuration(this.duration).start(),super.start(),this}shake(t,n){return this.start(t,n),this}update(t,n){if(!this.isRunning||!this.enable)return this;var x=this.parent;if(!x.active)return this;if(this.timer.update(t,n),this.timer.isDone)this.backToOrigin(),this.complete();else{this.ox===void 0&&(this.ox=x.x,this.oy=x.y);var C=this.magnitude;this.magnitudeMode===1&&(C*=1-this.timer.t);var M=Math.random()*Math.PI*2,h=this.ox+Math.cos(M)*C,y=this.oy+Math.sin(M)*C;switch(this.axisMode){case 1:x.x=h;break;case 2:x.y=y;break;default:x.x=h,x.y=y;break}}return this}backToOrigin(){if(!this.isRunning||!this.enable)return this;if(this.ox===void 0)return this;var t=this.parent;switch(this.axisMode){case 1:t.x=this.ox;break;case 2:t.y=this.oy;break;default:t.x=this.ox,t.y=this.oy;break}return this.ox=void 0,this.oy=void 0,this}}const z8={effect:0,behavior:1},k8={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2},U8={constant:0,decay:1},X8=Phaser.Utils.Objects.IsPlainObject;var Y8=function(i,t){t.on("complete",function(){i.emit("shake.complete",i)})};const W8={shake(i,t,n){if(X8(i)){var x=i;i=x.duration,t=x.magnitude,n=x.magnitudeMode}return this._shake===void 0&&(this._shake=new H0(this,{mode:0,magnitudeMode:1}),Y8(this,this._shake)),i!==void 0&&this._shake.setDuration(i),t!==void 0&&this._shake.setMagnitude(t),n!==void 0&&this._shake.setMagnitudeMode(n),this._shake.shake(),this},shakePromise(i,t){return this.shake(i,t),Se(this._shake)}},A1=Phaser.Utils.Objects.IsPlainObject;class H8 extends me{constructor(t,n){super(t,n),this.parent.setDataEnabled(),this.easeTasks={}}complete(t){this.emit(`complete-${t}`,this.parent,this),this.emit("complete",t,this.parent,this)}getEaseTask(t){var n=this.easeTasks[t];return n===void 0&&(n=new Tr(this.parent),this.easeTasks[t]=n,n.setTarget(this.parent.data.values).on("complete",function(){this.complete(t)},this)),n}easeTo(t,n,x,C){if(A1(t)){var M=t;t=M.key,n=M.value,x=M.duration,C=M.ease;var h=M.speed;x===void 0&&h!==void 0&&(x=Math.abs(n-this.parent.data.values[t])/h*1e3)}x===void 0&&(x=1e3),C===void 0&&(C="Linear");var y=this.getEaseTask(t);return y.restart({key:t,to:n,duration:x,ease:C}),this}easeFrom(t,n,x,C){if(A1(t)){var M=t;t=M.key,n=M.value,x=M.duration,C=M.ease;var h=M.speed;x===void 0&&h!==void 0&&(x=Math.abs(n-this.parent.data.values[t])/h*1e3)}x===void 0&&(x=1e3),C===void 0&&(C="Linear");var y=this.getEaseTask(t);return y.restart({key:t,from:n,duration:x,ease:C}),this}stopEase(t,n){n===void 0&&(n=!0);var x=this.easeTasks[t];return x&&x.stop(n),this}stopAll(t){t===void 0&&(t=!0);for(var n in this.easeTasks)this.stopEase(n,t);return this}}var $8=function(i,t){t.on("complete",function(n){i.emit(`easedata.${n}.complete`,i),i.emit("easedata.complete",n,i)})};const K8={easeDataTo(i,t,n,x){return this._easeData||(this._easeData=new H8(this),$8(this,this._easeData)),this._easeData.easeTo(i,t,n,x),this},easeDataToPromise(i,t,n,x){return this.easeDataTo(i,t,n,x),hf(this._easeData,`complete-${i}`)},stopEaseData(i,t){return this._easeData?(this._easeData.stopEase(i,t),this):this},stopAllEaseData(i){return this._easeData?(this._easeData.stopAll(i),this):this}};var nn=function(i){hM(i,!1)},rn=function(i){hM(i,!0)},$0=function(i){if(!i)return!1;var t=cf(i);return!t.hidden},hM=function(i,t){if(i){var n=cf(i);n.hidden=t;var x=Oi(i);x?x.setChildVisible(i,!t):i.setVisible(!t)}};const j8={show(i){return i===void 0&&(i=this),nn(i),this},hide(i){return i===void 0&&(i=this),rn(i),this},isShow(i){return i===void 0&&(i=this),$0(i)}},Z8=["next","exit","enter"];let lM=class{constructor(t){var n=Nt(t,"states",void 0);n&&this.addStates(n);var x=Nt(t,"extend",void 0);if(x)for(var C in x)(!this.hasOwnProperty(C)||this[C]===void 0)&&(this[C]=x[C]);var M=Nt(t,"eventEmitter",void 0),h=Nt(t,"EventEmitterClass",void 0);this.setEventEmitter(M,h),this._stateLock=!1,this.resetFromJSON(t)}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}resetFromJSON(t){this.setEnable(Nt(t,"enable",!0)),this.start(Nt(t,"start",void 0));var n=Nt(t,"init",void 0);return n&&n.call(this),this}toJSON(){return{curState:this.state,prevState:this.prevState,enable:this.enable,start:this._start}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}set state(t){if(!(!this.enable||this._stateLock)&&this._state!==t){if(this._prevState=this._state,this._state=t,this._stateLock=!0,this.emit("statechange",this),this._prevState!=null){var n="exit_"+this._prevState,x=this[n];x&&x.call(this),this.emit(n,this)}if(this._stateLock=!1,this._state!=null){var C="enter_"+this._state,M=this[C];M&&M.call(this),this.emit(C,this)}}}get state(){return this._state}get prevState(){return this._prevState}start(t){return this._start=t,this._prevState=void 0,this._state=t,this}goto(t){return t!=null&&(this.state=t),this}next(){var t,n=this["next_"+this.state];return n&&(typeof n=="string"?t=n:t=n.call(this)),this.goto(t),this}get stateProperties(){return Z8}addState(t,n){typeof t!="string"&&(n=t,t=n.name);for(var x=this.stateProperties,C=0,M=x.length;C<M;C++){var h=x[C],y=n[h];y&&(this[`${h}_${t}`]=y)}return this}addStates(t){if(Array.isArray(t))for(var n=0,x=t.length;n<x;n++)this.addState(t[n]);else for(var C in t)this.addState(C,t[C]);return this}runMethod(t,n,x,C,M,h){var y=this[t+"_"+this.state];if(y){var e=arguments.length;switch(e){case 1:return y.call(this);case 2:return y.call(this,n);case 3:return y.call(this,n,x);case 4:return y.call(this,n,x,C);case 5:return y.call(this,n,x,C,M);case 6:return y.call(this,n,x,C,M,h)}for(var f=new Array(e-1),d=1;d<e;d++)f[d-1]=arguments[d];return y.apply(this,f)}}};Object.assign(lM.prototype,Na);var Qd=function(i,t,n,x,C){C===void 0&&(C=!1);var M=i._events[t];if(!M)return!1;for(var h=0,y=M.length;h<y;h++){var e=M[h];if(e.fn===n&&e.context===x&&e.once===C)return!0}return!1};const J8=["next","exit","enter","update","preupdate","postupdate"];class Us extends lM{shutdown(){this.stopUpdate(),this.stopPreUpdate(),this.stopPostUpdate(),this._scene=void 0,super.shutdown()}resetFromJSON(t){return super.resetFromJSON(t),this._scene=Nt(t,"scene",void 0),this}get stateProperties(){return J8}update(t,n){this.runMethod("update",t,n)}preupdate(t,n){this.runMethod("preupdate",t,n)}postupdate(t,n){this.runMethod("postupdate",t,n)}startUpdate(t){t||(t=this._scene);var n=t.sys.events;return Qd(n,"update",this.update,this)?this:(this._scene=t,n.on("update",this.update,this),this)}stopUpdate(){return this._scene?(this._scene.sys.events.off("update",this.update,this),this):this}startPreUpdate(t){t||(t=this._scene);var n=t.sys.events;return Qd(n,"preupdate",this.preupdate,this)?this:(this._scene=t,n.on("preupdate",this.preupdate,this),this)}stopPreUpdate(){return this._scene?(this._scene.sys.events.off("preupdate",this.preupdate,this),this):this}startPostUpdate(t){t||(t=this._scene);var n=t.sys.events;return Qd(n,"postupdate",this.postupdate,this)?this:(this._scene=t,n.on("postupdate",this.postupdate,this),this)}stopPostUpdate(){return this._scene?(this._scene.sys.events.off("postupdate",this.postupdate,this),this):this}}let Q8=class extends Us{constructor(t,n){super(n),this.parent=t;var x=n.initState||"IDLE";this.start(x)}init(){this.start("IDLE")}next_IDLE(){return"TRANS_OPNE"}next_TRANS_OPNE(){return"OPEN"}enter_TRANS_OPNE(){var t=this.parent;if(t.transitInTime>0){var n=t.runTransitionInCallback();t.delayCall(n,this.next,this)}else this.next()}exit_TRANS_OPNE(){var t=this.parent;t.removeDelayCall()}next_OPEN(){return"TRANS_CLOSE"}enter_OPEN(){var t=this.parent;t.onOpen()}exit_OPEN(){var t=this.parent;t.removeDelayCall()}next_TRANS_CLOSE(){return"CLOSE"}enter_TRANS_CLOSE(){var t=this.parent;if(t.transitOutTime>0){var n=t.runTransitionOutCallback();t.delayCall(n,this.next,this)}else this.next()}exit_TRANS_CLOSE(){var t=this.parent;t.removeDelayCall()}next_CLOSE(){return"TRANS_OPNE"}enter_CLOSE(){var t=this.parent;t.onClose()}exit_CLOSE(){}canOpen(){return this.state==="IDLE"||this.state==="CLOSE"}canClose(){return this.state==="IDLE"||this.state==="OPEN"}};var q8=function(i,t,n,x,C){var M=ph(i),h=M.time.delayedCall(t,function(){M.game.events.once("poststep",function(){n.call(x,C)})});return h};const _8={delayCall(i,t,n){return this.delayCallTimer=q8(this,i,t,n),this},removeDelayCall(){return this.delayCallTimer&&(this.delayCallTimer.remove(!1),this.delayCallTimer=void 0),this}},tB={setTransitInTime(i){return this.transitInTime=i,this},setTransitOutTime(i){return this.transitOutTime=i,this},setTransitInCallback(i){return i||(i=Fe),this.transitInCallback=i,this},setTransitOutCallback(i){return i||(i=Fe),this.transitOutCallback=i,this}},eB={runTransitionInCallback(){return this.transitInCallback(this.parent,this.transitInTime),this.transitInTime},onOpen(){},requestOpen(i,t){if(!this._state.canOpen())return this;this.openEventData=arguments.length>0?i:this.parent;var n=this.transitInTime;return t!==void 0&&(this.transitInTime=t),this._state.goto("TRANS_OPNE"),this.transitInTime=n,this}},iB={runTransitionOutCallback(){return this.transitOutCallback(this.parent,this.transitOutTime),this.transitOutTime},onClose(){this.oneShotMode&&this.parent.destroy()},requestClose(i,t){if(!this._state.canClose)return this;this.closeEventData=arguments.length>0?i:this.parent;var n=this.transitOutTime;return t!==void 0&&(this.transitOutTime=t),this._state.goto("TRANS_CLOSE"),this.transitOutTime=n,this}};var uM={};Object.assign(uM,_8,tB,eB,iB);const kr=Phaser.Utils.Objects.GetValue;class gf extends me{constructor(t,n){super(t,n),this.setTransitInTime(kr(n,"duration.in",200)),this.setTransitOutTime(kr(n,"duration.out",200)),this.setTransitInCallback(kr(n,"transitIn")),this.setTransitOutCallback(kr(n,"transitOut")),this.oneShotMode=kr(n,"destroy",!1),this.delayCallTimer=void 0,this._state=new Q8(this,{eventEmitter:!1,initState:kr(n,"initState","IDLE")}),this.openEventData=void 0,this.closeEventData=void 0}get state(){return this._state.state}shutdown(t){this.isShutdown||(this.transitInCallback=void 0,this.transitOutCallback=void 0,this.openEventData=void 0,this.closeEventData=void 0,this.removeDelayCall(),super.shutdown(t))}}Object.assign(gf.prototype,uM);const sB=Phaser.GameObjects.Rectangle;class K0 extends sB{constructor(t,n,x){super(t,0,0,2,2,n,1),this.setAlpha(x),this.setScrollFactor(0),this.boot()}boot(){var t=this.scene;t.sys.events.on("prerender",this.resize,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.scene.sys.events.off("prerender",this.resize,this),super.destroy(t))}get tint(){return this.fillColor}set tint(t){this.setFillStyle(t,this.fillAlpha)}resize(){var t=this.scene,n=t.sys.scale.gameSize,x=t.sys.cameras.main,C=n.width,M=n.height,h=1/x.zoom,y=C/2,e=M/2,f=C*h,d=M*h;(this.x!==y||this.y!==e)&&this.setPosition(y,e),(this.width!==f||this.height!==d)&&this.setSize(f,d).setOrigin(.5)}}const qd=Phaser.Utils.Objects.GetValue;class mf extends me{constructor(t,n){super(t,{eventEmitter:!1}),this.resetFromJSON(n),this.boot()}resetFromJSON(t){return this.setHitAreaMode(qd(t,"hitAreaMode",0)),this.setEnable(qd(t,"enable",!0)),this.setStopMode(qd(t,"stopAllLevels",!0)),this}boot(){this.parent.on("pointerdown",function(t,n,x,C){this.stopAllLevels&&C.stopPropagation()},this).on("pointerup",function(t,n,x,C){this.stopAllLevels&&C.stopPropagation()},this).on("pointermove",function(t,n,x,C){this.stopAllLevels&&C.stopPropagation()},this).on("pointerover",function(t,n,x,C){this.stopAllLevels&&C.stopPropagation()},this).on("pointerout",function(t,n){this.stopAllLevels&&n.stopPropagation()},this)}setHitAreaMode(t){typeof t=="string"&&(t=nB[t]);var n=this.parent;return n.input&&n.removeInteractive(),t===0?n.setInteractive():n.setInteractive({hitArea:{},hitAreaCallback:function(){return!0}}),this}setEnable(t){return t===void 0&&(t=!0),t?this.parent.setInteractive():this.parent.disableInteractive(),this.enable=t,this}setStopMode(t){return t===void 0&&(t=!0),this.stopAllLevels=t,this}toggleEnable(){return this.setEnable(!this.enable),this}}var nB={default:0,fullWindow:1};const w1=Phaser.Utils.Objects.GetValue;class j0 extends K0{constructor(t,n){var x=w1(n,"color",0),C=w1(n,"alpha",.8);super(t,x,C),this.touchEventStop=new mf(this,{hitAreaMode:1})}}var rB=function(i,t){var n=i.scene,x=new j0(n,t);return n.add.existing(x),i.isRexContainerLite?(i.moveDepthBelow(x),i.pin(x,{syncPosition:!1,syncRotation:!1,syncScale:!1,syncAlpha:!1,syncScrollFactor:!1})):n.children.moveBelow(x,i),x};const vl={popUp(i,t){i._modalScaleSave!==void 0?(i.scaleX=i._modalScaleSave,i.scaleY=i._modalScaleSave):i._modalScaleSave=i.scaleX,Y0(i,t)},scaleDown(i,t){rM(i,t,void 0,void 0,!1)},fadeIn(i,t){i._modalAlphaSave!==void 0?i.alpha=i._modalAlphaSave:i._modalAlphaSave=i.alpha,vf(i,t)},fadeOut(i,t){pf(i,t,!1)}};var aB=function(i,t){i._modalAlphaSave!==void 0?i.alpha=i._modalAlphaSave:i._modalAlphaSave=i.alpha,vf(i,t,i.alpha)},oB=function(i,t){pf(i,t,!1)},ah=function(i,t,n,x,C){if(!i||x&&!x(i,t,n))return!1;var M=v0(i,!0);return!(!M.contains(t,n)||C&&!C(i,t,n))};const qi=Phaser.Utils.Objects.GetValue;let hB=class extends gf{constructor(t,n){n===void 0&&(n={}),n.transitIn==null&&(n.transitIn=js.popUp),n.transitOut==null&&(n.transitOut=js.scaleDown),n.destroy=qi(n,"destroy",!0),super(t,n);var x=qi(n,"cover");this.cover=x!==!1?rB(t,x):void 0,this.cover&&(this.setCoverTransitInCallback(qi(x,"transitIn",aB)),this.setCoverTransitOutCallback(qi(x,"transitOut",oB)));var C=qi(n,"touchOutsideClose",!1),M=qi(n,"duration.hold",-1),h=qi(n,"timeOutClose",M>=0),y=qi(n,"anyTouchClose",!1),e=qi(n,"manualClose",!1);e&&(C=!1,y=!1,h=!1),y&&(C=!1),h?this.setDisplayTime(M):this.setDisplayTime(-1),y?this.once("open",this.anyTouchClose,this):C&&this.once("open",this.touchOutsideClose,this),qi(n,"openOnStart",!0)&&this.delayCall(0,this.requestOpen,this)}shutdown(t){this.isShutdown||(this.cover||this.scene.input.off("pointerup",this.touchCloseCallback,this),this.cover&&!t&&(this.cover.destroy(),this.cover=void 0),super.shutdown(t))}touchOutsideClose(){return this.cover?this.cover.on("pointerup",this.touchCloseCallback,this):this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.cover?this.cover.once("pointerup",this.touchCloseCallback,this):this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(t){this.clickOutsideTest&&ah(this.parent,t.worldX,t.worldY)||this.requestClose()}runTransitionInCallback(){var t=super.runTransitionInCallback(),n=this.cover;return n&&this.coverTransitInCallback&&this.coverTransitInCallback(n,t),t}runTransitionOutCallback(){var t=super.runTransitionOutCallback(),n=this.cover;return n&&this.coverTransitOutCallback&&this.coverTransitOutCallback(n,t),t}onOpen(){var t=this.displayTime;t>=0&&this.delayCall(t,this.requestClose,this),this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.closeEventData),super.onClose()}setDisplayTime(t){return this.displayTime=t,this}setTransitInCallback(t){switch(typeof t=="string"&&(t=js[t]),t){case js.popUp:t=vl.popUp;break;case js.fadeIn:t=vl.fadeIn;break}return super.setTransitInCallback(t),this}setTransitOutCallback(t){switch(typeof t=="string"&&(t=js[t]),t){case js.scaleDown:t=vl.scaleDown;break;case js.fadeOut:t=vl.fadeOut;break}return super.setTransitOutCallback(t),this}setCoverTransitInCallback(t){return this.coverTransitInCallback=t,this}setCoverTransitOutCallback(t){return this.coverTransitOutCallback=t,this}};const js={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1};var Z0=function(i,t){var n=new hB(i,t);return n.on("open",function(){i.emit("modal.open",n)}),n.on("close",function(x){i.emit("modal.close",x,n)}),i.on("modal.requestClose",n.requestClose,n),n},lB=function(i,t){var n=Z0(i,t);return new Promise(function(x,C){n.once("close",function(M){x(M)})})},fM=function(i,t){i.emit("modal.requestClose",t)},Sn=function(i){return i&&typeof i=="function"};const J0={modal(i,t){return Sn(i)&&(t=i,i=void 0),this._modalBehavior===void 0&&(this.onCreateModalBehavior&&this.onCreateModalBehavior(this,i),this._modalBehavior=Z0(this,i)),t&&this._modalBehavior.once("close",t),this._modalBehavior.requestOpen(),this},modalPromise(i){var t=this;return new Promise(function(n,x){t.modal(i,n)})},modalClose(i){return fM(this,i),this}};var xf=function(i,t,n,x){if(t)return ah(i,t.worldX,t.worldY,n,x);for(var C=i.scene.input.manager,M=C.pointersTotal,h=C.pointers,y=0;y<M;y++)if(t=h[y],ah(i,t.worldX,t.worldY,n,x))return!0;return!1},uB=function(i,t){return(Ln(i)||typeof i=="string")&&(t=i,i=void 0),t===void 0?t=this:typeof t=="string"&&(t=this.getElement(t)),xf(t,i)},Ki=function(i){return Object.prototype.toString.call(i)==="[object Array]"},_v=function(i,t,n,x,C){return ah(i,t,n,fB(x),dB(C))},O1=function(i){var t=i.rexSizer&&i.rexSizer.hidden;return!t},fB=function(i){return i?function(t,n,x){return O1(t)?(i(t,n,x),!0):!1}:O1},dB=function(i){return i},cB=function(i,t,n,x,C){if(Sn(n)||(C=n,n=void 0,x=void 0),C===void 0&&(this.sizerChildren?C=this.sizerChildren:C=this.children),Ki(C)){for(var M,h=0,y=C.length;h<y;h++)if(M=C[h],_v(M,i,t,n,x))return M}else{var M;for(var e in C)if(M=C[e],_v(M,i,t,n,x))return M}return null},ji=function(i,t,n){!i||t===void 0&&n===void 0||(i.resize||i.setSize?(t===void 0&&(t=i.width),n===void 0&&(n=i.height),i.resize?i.resize(t,n):i.setSize(t,n)):(t!==void 0&&(i.displayWidth=t),n!==void 0&&(i.displayHeight=n)))},vB=function(i,t){return t===void 0?t={}:t===!0&&(t=pB),t.x=i.x,t.y=i.y,t.scaleX=i.scaleX,t.scaleY=i.scaleY,t.width=i.width,t.height=i.height,t.displayWidth=i.displayWidth,t.displayHeight=i.displayHeight,t},pB={},Mh=function(i){this.sizerEventsEnable&&(vB(i,this.getChildPrevState(i)),this.layoutedChildren.push(i))},Eh=function(i,t,n,x,C,M,h,y){xh(i,t,n,x,C,M),h!==void 0&&(i.x+=h),y!==void 0&&(i.y+=y),this.resetChildPositionState(i),this.sizerEventsEnable&&i.emit("sizer.postlayout",i,this)};const gB=Phaser.Display.Align.CENTER;var mB=function(){if(this.backgroundChildren!==void 0)for(var i=this.backgroundChildren,t=this.left,n=this.top,x=this.width,C=this.height,M,h,y,e,f,d,s,a=0,r=i.length;a<r;a++)M=i[a],h=M.rexSizer,!h.hidden&&(y=h.padding,Mh.call(this,M),e=t+y.left,f=n+y.top,d=x-y.left-y.right,s=C-y.top-y.bottom,ji(M,d,s),Eh.call(this,M,e,f,d,s,gB))},xB=function(i,t){var n=typeof i;if(n==="string"){var x=i;if(i=this.getElement(x),!i)return console.error(`Can get element '${x}'`),this}else(i===void 0||n!="object")&&(t=i,i=this);return t===void 0&&(t=!0),i.input&&i.input._dragTopmostSizer?i.input.draggable=t:t&&(i.setInteractive(),i.scene.input.setDraggable(i),i.on("drag",function(C,M,h){var y=this.getTopmostSizer();y.x+=M-i.x,y.y+=h-i.y,y.emit("sizer.drag",C,M,h)},this).on("dragstart",function(C,M,h){var y=this.getTopmostSizer();y.emit("sizer.dragstart",C,M,h)},this).on("dragend",function(C,M,h,y){var e=this.getTopmostSizer();e.emit("sizer.dragend",C,M,h,y)},this),i.input._dragTopmostSizer=!0),this};const dM={onClick(i,t,n,x){return i?(typeof i=="function"&&(x=n,n=t,t=i,i=this),i._click===void 0&&(i._click=new On(i,x)),i._click.on("click",t,n),this):this},offClick(i,t,n){return typeof i=="function"&&(n=t,t=i,i=this),i._click===void 0?this:(i._click.off("click",t,n),this)},enableClick(i,t){return i&&typeof i!="object"&&(t=i,i=this),i._click===void 0?this:(i._click.setEnable(t),this)},disableClick(i){return i&&typeof i!="object"&&(i=this),i._click===void 0?this:(i._click.setEnable(!1),this)}},pl=Phaser.Utils.Objects.GetValue;class Q0 extends me{constructor(t,n){super(t,n),this._enable=void 0;var x=pl(n,"inputConfig",void 0);x&&t.setInteractive(x),this.resetFromJSON(n),this.boot()}resetFromJSON(t){return this.setEnable(pl(t,"enable",!0)),this.setMode(pl(t,"mode",1)),this.setClickInterval(pl(t,"clickInterval",100)),this}boot(){var t=this.parent.scene;t.input.on("pointerdown",this.onPress,this),t.input.on("pointerup",this.onRelease,this)}shutdown(t){if(!this.isShutdown){var n=this.parent.scene;n.input.off("pointerdown",this.onPress,this),n.input.off("pointerup",this.onRelease,this),super.shutdown(t)}}get enable(){return this._enable}set enable(t){if(this._enable!==t){this._enable=t;var n=t?"enable":"disable";this.emit(n,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=yB[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}isPointerInside(t){var n=this.parent,x=n.input?x0:xf;return x(n,t)}onPress(t){if(this.mode===0){if(!this.parent.willRender(t.camera))return;this.isPointerInside(t)||this.click(t.downTime,t)}}onRelease(t){if(this.mode===1){if(!this.parent.willRender(t.camera))return;this.isPointerInside(t)||this.click(t.upTime,t)}}click(t,n){if(!this.enable)return this;if(t===void 0)return this.emit("clickoutside",this,this.parent,n),this;var x=this.lastClickTime;return x!==void 0&&t-x<=this.clickInterval?this:(this.lastClickTime=t,this.emit("clickoutside",this,this.parent,n),this)}}const yB={press:0,pointerdown:0,release:1,pointerup:1},TB={onClickOutside(i,t,n,x){return i?(typeof i=="function"&&(x=n,n=t,t=i,i=this),i._clickOutside===void 0&&(i._clickOutside=new Q0(i,x)),i._clickOutside.on("clickoutside",t,n),this):this},offClickOutside(i,t,n){return typeof i=="function"&&(n=t,t=i,i=this),i._clickOutside===void 0?this:(i._clickOutside.off("clickoutside",t,n),this)},enableClickOutside(i,t){return i&&typeof i!="object"&&(t=i,i=this),i._clickOutside===void 0?this:(i._clickOutside.setEnable(t),this)},disableClickOutside(i){return i&&typeof i!="object"&&(i=this),i._clickOutside===void 0?this:(i._clickOutside.setEnable(!1),this)}};class CB extends Us{constructor(){super({eventEmitter:!1}),this.goto("IDLE")}setCooldownTime(t){return this.cooldownTime=t,this.cooldownMode=t!==void 0,this}request(){return this.runMethod("request")}update_IDLE(){this.compensationTime=0}request_IDLE(){return this.next(),!0}next_IDLE(){if(this.cooldownMode)return"COOLDOWN"}enter_COOLDOWN(){this.remainderTime=this.cooldownTime+this.compensationTime}update_COOLDOWN(t,n){this.remainderTime-=n,this.remainderTime<0&&(this.compensationTime=this.cooldownTime>n?-this.remainderTime:0,this.goto("IDLE"))}request_COOLDOWN(){return!1}}const _d=Phaser.Utils.Objects.GetValue;class Ia extends me{constructor(t,n){super(t,n),this._enable=void 0,this.cooldown=new CB,this.parent.setInteractive(_d(n,"inputConfig",void 0)),this.resetFromJSON(n),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.prevIsInTouch=!1,this.isInTouching=!1,this.setEnable(_d(t,"enable",!0)),this.setCooldown(_d(t,"cooldown",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPointIn,this),t.on("pointerover",this.onPointIn,this),t.on("pointerup",this.onPointOut,this),t.on("pointerout",this.onPointOut,this),this.scene.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||(this.prevIsInTouch=!1,this.isInTouching=!1,this.pointer=void 0),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get cooldownTime(){return this.cooldown.cooldownTime}set cooldownTime(t){this.cooldown.setCooldownTime(t)}setCooldown(t){return this.cooldownTime=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointIn(t,n,x){!this.enable||!t.isDown||this.pointer!==void 0||(this.pointer=t,this.isInTouching=!0)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0,this.isInTouching=!1)}preupdate(t,n){this.cooldown.update(t,n),!this.prevIsInTouch&&this.isInTouching&&this.emit("touchstart",this,this.parent),this.isInTouching&&this.cooldown.request()&&this.emit("intouch",this,this.parent,this.pointer),this.prevIsInTouch&&!this.isInTouching&&this.emit("touchend",this,this.parent),this.prevIsInTouch=this.isInTouching}}const SB={isPointerInBounds(i){return i===void 0?i=this:typeof i=="string"&&(i=this.getElement(i)),i?xf(i):!1},onTouching(i,t,n,x){return i?(typeof i=="function"&&(x=n,n=t,t=i,i=this),i._inTouching===void 0&&(i._inTouching=new Ia(i,x)),i._inTouching.on("intouch",t,n),this):this},offTouching(i,t,n){return typeof i=="function"&&(n=t,t=i,i=this),i._inTouching===void 0?this:(i._inTouching.off("intouch",t,n),this)},onTouchingEnd(i,t,n,x){return i?(typeof i=="function"&&(x=n,n=t,t=i,i=this),i._inTouching===void 0&&(i._inTouching=new Ia(i,x)),i._inTouching.on("touchend",t,n),this):this},offTouchingEnd(i,t,n){return typeof i=="function"&&(n=t,t=i,i=this),i._inTouching===void 0?this:(i._inTouching.off("touchend",t,n),this)},enableTouching(i,t){return i&&typeof i!="object"&&(t=i,i=this),i._inTouching===void 0?this:(i._inTouching.setEnable(t),this)},disableTouching(i){return i&&typeof i!="object"&&(i=this),i._inTouching===void 0?this:(i._inTouching.setEnable(!1),this)}};var cM=function(i,t,n){for(var x,C=0,M=i.length;C<M;C++)if(x=i[C],!!_v(x,t,n))return x.pointToChild(t,n);return null},ps=function(i,t,n,x,C,M,h){var y;C===void 0?y=x:y=cM(n,x,C),y&&i.emit(t,y,M,h)};const MB=Phaser.Utils.Objects.GetValue;var EB=function(i){var t=MB(i,"down",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerdown",PB,this))},PB=function(i,t,n,x){var C=this._childrenInteractive;ps(C.eventEmitter,`${C.eventNamePrefix}down`,C.targetSizers,i.worldX,i.worldY,i,x)};const RB=Phaser.Utils.Objects.GetValue;var AB=function(i){var t=RB(i,"up",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerup",wB,this))},wB=function(i,t,n,x){var C=this._childrenInteractive;ps(C.eventEmitter,`${C.eventNamePrefix}up`,C.targetSizers,i.worldX,i.worldY,i,x)};const OB=Phaser.Utils.Objects.GetValue;var LB=function(i){var t=OB(i,"over",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointermove",L1,this).on("pointerover",L1,this).on("pointerout",FB,this))},L1=function(i,t,n,x){var C=this._childrenInteractive,M=cM(C.targetSizers,i.worldX,i.worldY),h=C.lastOverChild;M&&h&&M===h||(C.lastOverChild=M,ps(C.eventEmitter,`${C.eventNamePrefix}out`,C.targetSizers,h,void 0,i,x),ps(C.eventEmitter,`${C.eventNamePrefix}over`,C.targetSizers,M,void 0,i,x))},FB=function(i,t){var n=this._childrenInteractive,x=n.lastOverChild;n.lastOverChild=null,ps(n.eventEmitter,`${n.eventNamePrefix}out`,n.targetSizers,x,void 0,i,t)};const IB=Phaser.Utils.Objects.GetValue;var DB=function(i){var t=IB(i,"click",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("threshold")||(t.threshold=10);var n=this._childrenInteractive;this._click=new On(this,t),this._click.on("click",function(x,C,M,h){ps(n.eventEmitter,`${n.eventNamePrefix}click`,n.targetSizers,M.worldX,M.worldY,M,h)},this)}};const tc=Phaser.Utils.Objects.GetValue;class yf extends af{constructor(t,n){var x=ph(t);x===t&&(t=void 0),super(x,n),this.gameObject=t,t&&t.setInteractive(tc(n,"inputConfig",void 0)),this._enable=void 0,this.resetFromJSON(n),this.boot()}resetFromJSON(t){return this.setEnable(tc(t,"enable",!0)),this.setDetectBounds(),this.gameObject===void 0?this.setDetectBounds(tc(t,"bounds",void 0)):this.setDetectBounds(),this.tracerState=ec,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,this.isTouchingAnyObject=!1,this}boot(){super.boot(),this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(t){this.scene&&(this.gameObject||this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.gameObject=void 0,this.bounds=void 0,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setDetectBounds(t){return this.bounds=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t,n){if(this.enable&&this.pointer===void 0){var x=this.bounds?this.bounds.contains(t.x,t.y):!0;x&&this.pointer!==t&&(this.pointer=t,this.lastPointer=t,this.movedState=!1,this.tracerState=F1,this.gameObject===void 0&&(this.isTouchingAnyObject=n.length>0),this.onDragStart())}}onPointerUp(t){if(this.enable){var n=this.bounds?this.bounds.contains(t.x,t.y):!0;n&&this.pointer===t&&(this.pointer=void 0,this.movedState=!1,this.tracerState=ec,this.onDragEnd())}}onPointerMove(t){if(this.enable&&t.isDown){var n=this.bounds?this.bounds.contains(t.x,t.y):!0,x=this.pointer===t;!x&&n||(x&&!n?this.onPointerUp(t):(this.movedState||(this.movedState=t.x!==t.downX||t.y!==t.downY),this.movedState&&this.onDrag()))}}dragCancel(){return this.tracerState===F1&&this.onDragEnd(),this.pointer=void 0,this.tracerState=ec,this}onDragStart(){this.emit("dragstart",this)}onDragEnd(){this.emit("dragend",this)}onDrag(){this.emit("drag",this)}preUpdate(t,n){}postUpdate(t,n){}startTicking(){super.startTicking(),this.scene.sys.events.on("preupdate",this.preUpdate,this),this.scene.sys.events.on("postupdate",this.postUpdate,this)}stopTicking(){super.stopTicking(),this.scene&&(this.scene.sys.events.off("preupdate",this.preUpdate,this),this.scene.sys.events.off("postupdate",this.postUpdate,this))}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=BB,this}}const ec=0,F1=1,BB="IDLE",Yn=Phaser.Utils.Objects.GetValue,bB=Phaser.Math.Distance.Between;class Tf extends yf{constructor(t,n){super(t,n);var x=this,C={states:{IDLE:{enter:function(){x.stop(),x.tapsCount=0,x.x=0,x.y=0,x.worldX=0,x.worldY=0},exit:function(){var M=x.lastPointer;x.x=M.x,x.y=M.y,x.worldX=M.worldX,x.worldY=M.worldY}},BEGIN:{enter:function(){x.start(),x.tapsCount=0,x.emit("tappingstart",x,x.gameObject,x.lastPointer)}},RECOGNIZED:{enter:function(){x.start(),x.emit("tap",x,x.gameObject,x.lastPointer),x.emit(`${x.tapsCount}tap`,x,x.gameObject,x.lastPointer)}}},init:function(){this.state=Wn},eventEmitter:!1};this.setRecongizedStateObject(new Us(C))}resetFromJSON(t){super.resetFromJSON(t),this.setHoldTime(Yn(t,"time",250)),this.setTapInterval(Yn(t,"tapInterval",200)),this.setDragThreshold(Yn(t,"threshold",9)),this.setTapOffset(Yn(t,"tapOffset",10));var n=Yn(t,"taps",void 0);return n!==void 0?this.setTaps(n):(this.setMaxTaps(Yn(t,"maxTaps",void 0)),this.setMinTaps(Yn(t,"minTaps",void 0))),this}onDragStart(){switch(this.state){case Wn:this.state=Ur;break;case Ur:var t=this.lastPointer,n=bB(t.upX,t.upY,t.x,t.y);n>this.tapOffset&&(this.state=Xr,this.state=Ur);break;case Xr:this.state=Ur;break}}onDragEnd(){this.state===Ur&&(this.tapsCount++,this.emit("tapping",this,this.gameObject,this.lastPointer),this.maxTaps!==void 0&&this.tapsCount===this.maxTaps&&(this.state=Xr))}onDrag(){this.state!==Wn&&this.pointer.getDistance()>this.dragThreshold&&(this.state=Wn)}preUpdate(t,n){if(!(!this.isRunning||!this.enable)&&this.state===Ur){var x=this.lastPointer;if(x.isDown){var C=t-x.downTime;C>this.holdTime&&(this.state=Wn)}else{var M=t-x.upTime;M>this.tapInterval&&(this.minTaps===void 0||this.tapsCount>=this.minTaps?this.state=Xr:this.state=Wn)}}}postUpdate(t,n){!this.isRunning||!this.enable||this.state===Xr&&(this.state=Wn)}get isTapped(){return this.state===Xr}setHoldTime(t){return this.holdTime=t,this}setTapInterval(t){return this.tapInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setTapOffset(t){return this.tapOffset=t,this}setMaxTaps(t){return this.maxTaps=t,this}setMinTaps(t){return this.minTaps=t,this}setTaps(t,n){return n===void 0&&(n=t),this.setMinTaps(t).setMaxTaps(n),this}}const Wn="IDLE",Ur="BEGIN",Xr="RECOGNIZED",I1=Phaser.Utils.Objects.GetValue;class Cf extends yf{constructor(t,n){super(t,n);var x=this,C={states:{IDLE:{enter:function(){x.x=0,x.y=0,x.worldX=0,x.worldY=0},exit:function(){var M=x.lastPointer;x.x=M.x,x.y=M.y,x.worldX=M.worldX,x.worldY=M.worldY}},BEGIN:{enter:function(){x.start()},exit:function(){x.stop()}},RECOGNIZED:{enter:function(){x.emit("pressstart",x,x.gameObject,x.lastPointer)},exit:function(){x.emit("pressend",x,x.gameObject,x.lastPointer)}}},init:function(){this.state=gl},eventEmitter:!1};this.setRecongizedStateObject(new Us(C))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(I1(t,"threshold",9)),this.setHoldTime(I1(t,"time",251)),this}onDragStart(){this.state=D1,this.holdTime===0&&(this.state=ic)}onDragEnd(){this.state=gl}onDrag(){this.state!==gl&&this.pointer.getDistance()>this.dragThreshold&&(this.state=gl)}preUpdate(t,n){if(!(!this.isRunning||!this.enable)&&this.state===D1){var x=t-this.pointer.downTime;x>=this.holdTime&&(this.state=ic)}}get isPressed(){return this.state===ic}setHoldTime(t){return this.holdTime=t,this}setDragThreshold(t){return this.dragThreshold=t,this}}const gl="IDLE",D1="BEGIN",ic="RECOGNIZED",GB=Phaser.Utils.Objects.GetValue;class vM extends yf{constructor(t,n){super(t,n);var x=this,C={states:{IDLE:{},BEGIN:{enter:function(){var M=x.pointer;x.startX=M.x,x.startY=M.y,x.startWorldX=M.worldX,x.startWorldY=M.worldY}},RECOGNIZED:{enter:function(){x.emit("panstart",x,x.gameObject,x.lastPointer)},exit:function(){var M=x.lastPointer;x.endX=M.x,x.endY=M.y,x.endWorldX=M.worldX,x.endWorldY=M.worldY,x.emit("panend",x,x.gameObject,x.lastPointer)}}},init:function(){this.state=B1},eventEmitter:!1};this.setRecongizedStateObject(new Us(C))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(GB(t,"threshold",10)),this}onDragStart(){this.state=b1,this.dragThreshold===0&&(this.state=ml)}onDragEnd(){this.state=B1}onDrag(){switch(this.state){case b1:this.pointer.getDistance()>=this.dragThreshold&&(this.state=ml);break;case ml:var t=this.pointer.position,n=this.pointer.prevPosition;this.dx=t.x-n.x,this.dy=t.y-n.y;var x=this.pointer;this.x=x.x,this.y=x.y,this.worldX=x.worldX,this.worldY=x.worldY,this.emit("pan",this,this.gameObject,this.lastPointer);break}}get isPanned(){return this.state===ml}setDragThreshold(t){return this.dragThreshold=t,this}}const B1="IDLE",b1="BEGIN",ml="RECOGNIZED",NB=Phaser.Math.Distance.Between,VB=Phaser.Math.Angle.Between,zB={getDt:function(){var i=C0(this.scene);return i},getVelocity:function(){var i=this.pointer.position,t=this.pointer.prevPosition,n=NB(t.x,t.y,i.x,i.y),x=n/(this.getDt()*.001);return x},getVelocityX:function(){var i=this.pointer.position,t=this.pointer.prevPosition,n=Math.abs(i.x-t.x),x=n/(this.getDt()*.001);return x},getVelocityY:function(){var i=this.pointer.position,t=this.pointer.prevPosition,n=Math.abs(i.y-t.y),x=n/(this.getDt()*.001);return x},getVelocityAngle:function(){var i=this.pointer.position,t=this.pointer.prevPosition,n=VB(t.x,t.y,i.x,i.y);return n}},kB={"up&down":0,"left&right":1,"4dir":2,"8dir":3};var UB=function(i,t,n){switch(n===void 0?n={}:n===!0&&(n=XB),n.left=!1,n.right=!1,n.up=!1,n.down=!1,i=(i+360)%360,t){case 0:i<180?n.down=!0:n.up=!0;break;case 1:i>90&&i<=270?n.left=!0:n.right=!0;break;case 2:i>45&&i<=135?n.down=!0:i>135&&i<=225?n.left=!0:i>225&&i<=315?n.up=!0:n.right=!0;break;case 3:i>22.5&&i<=67.5?(n.down=!0,n.right=!0):i>67.5&&i<=112.5?n.down=!0:i>112.5&&i<=157.5?(n.down=!0,n.left=!0):i>157.5&&i<=202.5?n.left=!0:i>202.5&&i<=247.5?(n.left=!0,n.up=!0):i>247.5&&i<=292.5?n.up=!0:(i>292.5&&i<=337.5&&(n.up=!0),n.right=!0);break}return n},XB={};const sc=Phaser.Utils.Objects.GetValue,YB=Phaser.Math.RadToDeg;class Ph extends yf{constructor(t,n){super(t,n);var x=this,C={states:{IDLE:{enter:function(){x.x=0,x.y=0,x.worldX=0,x.worldY=0},exit:function(){var M=x.lastPointer;x.x=M.x,x.y=M.y,x.worldX=M.worldX,x.worldY=M.worldY}},BEGIN:{enter:function(){x.validDrag=!1}},RECOGNIZED:{enter:function(){x.start(),x.updateDirectionStates(),x.emit("swipe",x,x.gameObject,x.lastPointer)},exit:function(){x.stop(),x.clearDirectionStates()}}},init:function(){this.state=nc},eventEmitter:!1};this.setRecongizedStateObject(new Us(C)),this.clearDirectionStates()}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(sc(t,"threshold",10)),this.setVelocityThreshold(sc(t,"velocityThreshold",1e3)),this.setDirectionMode(sc(t,"dir","8dir")),this}onDragStart(){this.state=G1}onDragEnd(){this.state=nc}onDrag(){this.state===G1&&(this.validDrag||(this.validDrag=this.dragThreshold===0||this.pointer.getDistance()>=this.dragThreshold),this.validDrag&&this.dragVelocity>this.velocityThreshold&&(this.state=rc))}postUpdate(t,n){!this.isRunning||!this.enable||this.state===rc&&(this.state=nc)}get isSwiped(){return this.state===rc}get dragVelocity(){var t;switch(this.dirMode){case 0:t=this.getVelocityY();break;case 1:t=this.getVelocityX();break;default:t=this.getVelocity();break}return t}setDragThreshold(t){return this.dragThreshold=t,this}setVelocityThreshold(t){return this.velocityThreshold=t,this}setDirectionMode(t){return typeof t=="string"&&(t=kB[t]),this.dirMode=t,this}updateDirectionStates(){var t=YB(this.getVelocityAngle());return UB(t,this.dirMode,this),this}clearDirectionStates(){return this.left=!1,this.right=!1,this.up=!1,this.down=!1,this}}Object.assign(Ph.prototype,zB);const nc="IDLE",G1="BEGIN",rc="RECOGNIZED",ac=Phaser.Utils.Objects.GetValue,WB=Phaser.Utils.Array.SpliceOne,HB=Phaser.Math.Distance.Between,$B=Phaser.Math.Angle.Between;class q0{constructor(t,n){var x=t.input.manager.pointersTotal-1;x<2&&t.input.addPointer(2-x),this.scene=t,this.setEventEmitter(ac(n,"eventEmitter",void 0)),this._enable=void 0,this.pointers=[],this.movedState={},this.resetFromJSON(n),this.boot()}resetFromJSON(t){return this.setEnable(ac(t,"enable",!0)),this.bounds=ac(t,"bounds",void 0),this.tracerState=xl,this.pointers.length=0,Fs(this.movedState),this}boot(){this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(){this.scene&&(this.destroyEventEmitter(),this.pointers.length=0,Fs(this.movedState),this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.scene=void 0)}destroy(){this.shutdown()}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t){if(this.enable&&this.pointers.length!==2){var n=this.bounds?this.bounds.contains(t.x,t.y):!0;if(n){var x=this.pointers.indexOf(t);if(x===-1)switch(this.movedState[t.id]=!1,this.pointers.push(t),this.tracerState){case xl:this.tracerState=co,this.onDrag1Start();break;case co:this.tracerState=_i,this.onDrag2Start();break}}}}onPointerUp(t){if(this.enable){var n=this.bounds?this.bounds.contains(t.x,t.y):!0;if(n){var x=this.pointers.indexOf(t);if(x!==-1)switch(delete this.movedState[t.id],WB(this.pointers,x),this.tracerState){case co:this.tracerState=xl,this.onDrag1End();break;case _i:this.tracerState=co,this.onDrag2End(),this.onDrag1Start();break}}}}onPointerMove(t){if(this.enable&&t.isDown){var n=this.bounds?this.bounds.contains(t.x,t.y):!0,x=this.pointers.indexOf(t)!==-1;if(!(!x&&n)){if(x&&!n)this.onPointerUp(t);else if(this.movedState[t.id]||(this.movedState[t.id]=t.x!==t.downX||t.y!==t.downY),this.movedState[t.id])switch(this.tracerState){case co:this.onDrag1();break;case _i:this.onDrag2();break}}}}dragCancel(){return this.tracerState===_i&&this.onDrag2End(),this.pointers.length=0,Fs(this.movedState),this.tracerState=xl,this}onDrag1Start(){this.emit("drag1start",this)}onDrag1End(){this.emit("drag1end",this)}onDrag1(){this.emit("drag1",this)}onDrag2Start(){this.emit("drag2start",this)}onDrag2End(){this.emit("drag2end",this)}onDrag2(){this.emit("drag2",this)}get distanceBetween(){if(this.tracerState!==_i)return 0;var t=this.pointers[0],n=this.pointers[1];return HB(t.x,t.y,n.x,n.y)}get angleBetween(){if(this.tracerState!==_i)return 0;var t=this.pointers[0],n=this.pointers[1];return $B(t.x,t.y,n.x,n.y)}get drag1Vector(){var t=this.pointers[0];if(t&&this.movedState[t.id]){var n=t.position,x=t.prevPosition;fo.x=n.x-x.x,fo.y=n.y-x.y}else fo.x=0,fo.y=0;return fo}get centerX(){if(this.tracerState!==_i)return 0;var t=this.pointers[0].position,n=this.pointers[1].position;return(t.x+n.x)/2}get centerY(){if(this.tracerState!==_i)return 0;var t=this.pointers[0].position,n=this.pointers[1].position;return(t.y+n.y)/2}get prevCenterX(){if(this.tracerState!==_i)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,n=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.x+n.x)/2}get prevCenterY(){if(this.tracerState!==_i)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,n=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.y+n.y)/2}get movementCenterX(){return this.centerX-this.prevCenterX}get movementCenterY(){return this.centerY-this.prevCenterY}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=KB,this}}Object.assign(q0.prototype,Na);var fo={};const xl=0,co=1,_i=2,KB="IDLE",jB=Phaser.Utils.Objects.GetValue;class pM extends q0{constructor(t,n){super(t,n);var x=this,C={states:{IDLE:{enter:function(){x.prevDistance=void 0,x.scaleFactor=1}},BEGIN:{},RECOGNIZED:{enter:function(){x.emit("pinchstart",x)},exit:function(){x.emit("pinchend",x)}}},init:function(){this.state=N1},eventEmitter:!1};this.setRecongizedStateObject(new Us(C))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(jB(t,"threshold",0)),this}onDrag2Start(){this.scaleFactor=1,this.prevDistance=this.distanceBetween,this.state=V1,this.dragThreshold===0&&(this.state=yl)}onDrag2End(){this.state=N1}onDrag2(){switch(this.state){case V1:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.prevDistance=t,this.state=yl}break;case yl:var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.emit("pinch",this),this.prevDistance=t;break}}get isPinched(){return this.state===yl}setDragThreshold(t){return this.dragThreshold=t,this}}const N1="IDLE",V1="BEGIN",yl="RECOGNIZED",ZB=Phaser.Math.RotateAround;var z1=function(i,t,n,x){return ZB(i,t,n,x),i.rotation+=x,i},JB=function(i,t,n,x){return x===void 0?x={}:x===!0&&(x=QB),n.getWorldPoint(i,t,x),x},QB={},qB=function(i,t){if(!this.isRotation)return this;t===void 0&&(t=this.pointers[0].camera);var n=this.movementCenterX,x=this.movementCenterY,C=JB(this.centerX,this.centerY,t,!0),M=C.x,h=C.y,y=this.rotation;if(Array.isArray(i))for(var e=i,f=0,d=e.length;f<d;f++)i=e[f],i.x+=n,i.y+=x,z1(i,M,h,y);else i.x+=n,i.y+=x,z1(i,M,h,y);return this};const _B=Phaser.Utils.Objects.GetValue,oc=Phaser.Math.Angle.WrapDegrees,k1=Phaser.Math.Angle.ShortestBetween,hc=Phaser.Math.RadToDeg,t7=Phaser.Math.DegToRad;class _0 extends q0{constructor(t,n){super(t,n);var x=this,C={states:{IDLE:{enter:function(){x.prevAngle=void 0,x.angle=0}},BEGIN:{},RECOGNIZED:{enter:function(){x.emit("rotatestart",x)},exit:function(){x.emit("rotateend",x)}}},init:function(){this.state=U1},eventEmitter:!1};this.setRecongizedStateObject(new Us(C))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(_B(t,"threshold",0)),this}onDrag2Start(){this.prevAngle=oc(hc(this.angleBetween)),this.state=X1,this.dragThreshold===0&&(this.state=Tl)}onDrag2End(){this.state=U1}onDrag2(){switch(this.state){case X1:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=oc(hc(this.angleBetween));this.angle=k1(this.prevAngle,t),this.prevAngle=t,this.state=Tl}break;case Tl:var t=oc(hc(this.angleBetween));this.angle=k1(this.prevAngle,t),this.prevAngle=t,this.emit("rotate",this);break}}get isRotated(){return this.state===Tl}get rotation(){return t7(this.angle)}setDragThreshold(t){return this.dragThreshold=t,this}}var e7={spinObject:qB};Object.assign(_0.prototype,e7);const U1="IDLE",X1="BEGIN",Tl="RECOGNIZED",i7=Phaser.Utils.Objects.GetValue;var s7=function(i){var t=i7(i,"tap",void 0);if(t!==!1){t===!0&&(t=void 0);var n=this._childrenInteractive;this._tap=new Tf(this,t),this._tap.on("tap",function(x,C,M){ps(n.eventEmitter,`${n.eventNamePrefix}${x.tapsCount}tap`,n.targetSizers,x.worldX,x.worldY,M)},this)}};const n7=Phaser.Utils.Objects.GetValue;var r7=function(i){var t=n7(i,"press",void 0);if(t!==!1){t===!0&&(t=void 0);var n=this._childrenInteractive;this._press=new Cf(this,t),this._press.on("pressstart",function(x,C,M){ps(n.eventEmitter,`${n.eventNamePrefix}pressstart`,n.targetSizers,x.worldX,x.worldY,M)},this).on("pressend",function(x,C,M){ps(n.eventEmitter,`${n.eventNamePrefix}pressend`,n.targetSizers,x.worldX,x.worldY,M)},this)}};const a7=Phaser.Utils.Objects.GetValue;var o7=function(i){var t=a7(i,"swipe",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("dir")||(t.dir="4dir");var n=this._childrenInteractive;this._swipe=new Ph(this,t),this._swipe.on("swipe",function(x,C,M){var h=x.left?"left":x.right?"right":x.up?"up":"down";ps(n.eventEmitter,`${n.eventNamePrefix}swipe${h}`,n.targetSizers,x.worldX,x.worldY,M)},this)}};const lc=Phaser.Utils.Objects.GetValue;var tg=function(i,t){return i.setInteractive(),i._childrenInteractive={targetSizers:lc(t,"targets",[i]),eventEmitter:lc(t,"eventEmitter",i),eventNamePrefix:lc(t,"inputEventPrefix","child.")},EB.call(i,t),AB.call(i,t),LB.call(i,t),DB.call(i,t),s7.call(i,t),r7.call(i,t),o7.call(i,t),i},h7=function(i){return tg(this,i),this},l7=function(){for(var i=this.getAllChildren([this]),t=0,n=i.length;t<n;t++){var x=i[t];x.emit.apply(x,arguments)}return this},gM={getSizerConfig:z9,getChildPrevState:k9,pushIntoBounds:U9,drawBounds:_9,resolveWidth:k0,resolveChildrenWidth:d8,resolveHeight:U0,postResolveSize:c8,getChildWidth:v8,getChildHeight:p8,getExpandedChildWidth:g8,getExpandedChildHeight:m8,getChildrenWidth:x8,getChildrenHeight:y8,addChildrenMap:x1,addElement:x1,removeChildrenMap:h8,getElement:l8,getAllChildrenSizers:T8,getChildrenSizers:C8,preLayout:Sh,layout:M8,runLayout:E8,layoutChildren:P8,runWidthWrap:nM,layoutBackgrounds:mB,postLayout:R8,setAnchor:A8,isInTouching:uB,pointToChild:cB,setDraggable:xB,setChildrenInteractive:h7,broadcastEvent:l7};Object.assign(gM,f8,i8,o8,Ch,W0,b8,V8,W8,K8,dM,TB,SB,j8,J0,S8);const Yr=Phaser.Utils.Objects.GetValue;class Sr extends ci{constructor(t,n,x,C,M,h){super(t,n,x,1,1),this.isRexSizer=!0,this.setMinSize(C,M),this.setName(Yr(h,"name","")),this.rexSizer={},this.space={},this.backgroundChildren=void 0,this.sizerChildren=void 0,this.childrenMap={},this.layoutedChildren=void 0;var y=Yr(h,"anchor",void 0);y&&this.setAnchor(y),this.setInnerPadding(Yr(h,"space",0));var e=Yr(h,"draggable",!1);e&&this.setDraggable(e),this.setSizerEventsEnable(Yr(h,"sizerEvents",!1)),this.setDirty(!0),Yr(h,"enableLayer",!1)&&this.enableLayer()}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(t)for(var n=this.getAllChildrenSizers([this]),x=0,C=n.length;x<C;x++)n[x].sizerEventsEnable=!1;super.destroy(t),Fs(this.backgroundChildren),Fs(this.sizerChildren),this.childrenMap=void 0,this.space=void 0,this.rexSizer=void 0,this.layoutedChildren=void 0}}setMinSize(t,n){return this.setMinWidth(t).setMinHeight(n),this}setMinWidth(t){return t==null&&(t=0),this.minWidth=t,this}setMinHeight(t){return t==null&&(t=0),this.minHeight=t,this}setDirty(t){return t===void 0&&(t=!0),this.dirty=t,this}setSizerEventsEnable(t){return t===void 0&&(t=!0),this.sizerEventsEnable=t,this}get ignoreLayout(){return this.rexSizer.hidden||!this.dirty}get childrenWidth(){return this._childrenWidth===void 0&&(this._childrenWidth=this.getChildrenWidth()),this._childrenWidth}get childrenHeight(){return this._childrenHeight===void 0&&(this._childrenHeight=this.getChildrenHeight()),this._childrenHeight}get left(){return this.x-Vt(this)*this.originX}set left(t){this.x+=t-this.left}alignLeft(t){return this.left=t,this}get right(){return this.left+Vt(this)}set right(t){this.x+=t-this.right}alignRight(t){return this.right=t,this}get centerX(){return this.left+Vt(this)/2}set centerX(t){this.x+=t-this.centerX}alignCenterX(t){return this.centerX=t,this}get top(){return this.y-It(this)*this.originY}set top(t){this.y+=t-this.top}alignTop(t){return this.top=t,this}get bottom(){return this.top+It(this)}set bottom(t){this.y+=t-this.bottom}alignBottom(t){return this.bottom=t,this}get centerY(){return this.top+It(this)/2}set centerY(t){this.y+=t-this.centerY}alignCenterY(t){return this.centerY=t,this}get innerLeft(){return this.left+this.space.left}get innerRight(){return this.right-this.space.right}get innerTop(){return this.top+this.space.top}get innerBottom(){return this.bottom-this.space.bottom}get innerWidth(){return this.width-this.space.left-this.space.right}get innerHeight(){return this.height-this.space.top-this.space.bottom}get minInnerWidth(){var t=this.minWidth-this.space.left-this.space.right;return Math.max(t,0)}get minInnerHeight(){var t=this.minHeight-this.space.top-this.space.bottom;return Math.max(t,0)}}Object.assign(Sr.prototype,gM);var u7=function(){if(this.rexSizer.hidden)return 0;var i=0,t=this.sizerChildren,n,x,C;for(var M in t)n=t[M],x=n.rexSizer.padding,C=this.getChildWidth(n)+x.left+x.right,i=Math.max(C,i);return i+this.space.left+this.space.right},f7=function(){if(this.rexSizer.hidden)return 0;var i=0,t=this.sizerChildren,n,x,C;for(var M in t)n=t[M],C=n.isRexSizer?Math.max(n.minHeight,n.childrenHeight):n.minHeight!==void 0?n.minHeight:It(n),x=n.rexSizer.padding,C+=x.top+x.bottom,i=Math.max(C,i);return i+this.space.top+this.space.bottom},d7=function(i,t){t===void 0&&(t=this.width);var n,x=i.rexSizer;if(x.expandWidth){var C=t-this.space.left-this.space.right,M=x.padding;n=C-M.left-M.right}return n},c7=function(i,t){t===void 0&&(t=this.height);var n,x=i.rexSizer;if(x.expandHeight){var C=t-this.space.top-this.space.bottom,M=x.padding;n=C-M.top-M.bottom}return n},v7=function(i){i===void 0&&(i=[]);var t=this.sizerChildren,n;for(var x in t)n=t[x],n.isRexSizer&&i.push(n);return i},eg=function(i,t){i.width<i.childrenWidth&&console.warn(`Layout width error: Parent=${t.constructor.name}, Child=${i.constructor.name}`),i.height<i.childrenHeight&&console.warn(`Layout height error: Parent=${t.constructor.name}, Child=${i.constructor.name}`)},p7=function(){var i,t,n,x=this.innerLeft,C=this.innerTop,M=this.innerWidth,h=this.innerHeight,y,e,f,d,s,a,r=this.sizerChildren;for(var o in r)i=r[o],!i.rexSizer.hidden&&(t=i.rexSizer,n=t.padding,Mh.call(this,i),i.isRexSizer?(i.runLayout(this,this.getExpandedChildWidth(i),this.getExpandedChildHeight(i)),eg(i,this)):(s=void 0,a=void 0,t.expandWidth&&(s=M-n.left-n.right),t.expandHeight&&(a=h-n.top-n.bottom),ji(i,s,a)),y=x+n.left,f=M-n.left-n.right,e=C+n.top,d=h-n.top-n.bottom,Eh.call(this,i,y,e,f,d,t.align,t.alignOffsetX,t.alignOffsetY))};const Y1=Phaser.Utils.Objects.IsPlainObject,ts=Phaser.Utils.Objects.GetValue,W1=Phaser.Display.Align.CENTER,g7=Phaser.Utils.String.UUID;var m7=function(i,t,n,x,C,M,h,y,e){if(yh.call(this,i),Y1(t)){var d=t;t=ts(d,"key",void 0),n=ts(d,"align",W1),y=ts(d,"offsetX",0),e=ts(d,"offsetY",0),x=ts(d,"padding",0),C=ts(d,"expand",!0),i.isRexSizer||(M=ts(d,"minWidth",i._minWidth),h=ts(d,"minHeight",i._minHeighted))}var f=t!==void 0;f||(t=g7()),typeof n=="string"&&(n=Ti[n]),n===void 0&&(n=W1),y===void 0&&(y=0),e===void 0&&(e=0),x===void 0&&(x=0),C===void 0&&(C=!0),i.isRexSizer||(M===void 0&&(M=i._minWidth),h===void 0&&(h=i._minHeight));var d=this.getSizerConfig(i);return d.align=n,d.alignOffsetX=y,d.alignOffsetY=e,d.padding=ka(x),Y1(C)?(d.expandWidth=ts(C,"width",!1),d.expandHeight=ts(C,"height",!1)):(d.expandWidth=C,d.expandHeight=C),i.isRexSizer||(d.expandWidth&&(i.minWidth=M===void 0?Vt(i):M),d.expandHeight&&(i.minHeight=h===void 0?It(i):h)),this.sizerChildren.hasOwnProperty(t)&&this.sizerChildren[t].destroy(),this.sizerChildren[t]=i,f&&this.addChildrenMap(t,i),this};const x7={add:m7},y7=ci.prototype.clear;var Sf=function(i){this.backgroundChildren&&(this.backgroundChildren.length=0);var t=!i&&this.sizerEventsEnable,n;if(t&&(n=this.getChildren([])),y7.call(this,i),t)for(var x,C=0,M=n.length;C<M;C++)x=n[C],x.emit("sizer.remove",x,this),this.emit("remove",x,this);return this};const T7={remove(i,t){var n;if(typeof i=="string"){if(n=i,i=this.sizerChildren[n],!i)return this}else{if(this.getParentSizer(i)!==this)return this;n=this.childToKey(i)}return n&&(delete this.sizerChildren[n],this.childrenMap.hasOwnProperty(n)&&delete this.childrenMap[n]),Th.call(this,i,t),this},removeAll(i){for(var t in this.sizerChildren)this.remove(t,i);return this},clear(i){for(var t in this.sizerChildren)delete this.sizerChildren[t],this.childrenMap.hasOwnProperty(t)&&delete this.childrenMap[t];return Sf.call(this,i),this}};var mM={getChildrenWidth:u7,getChildrenHeight:f7,getExpandedChildWidth:d7,getExpandedChildHeight:c7,getChildrenSizers:v7,layoutChildren:p7};Object.assign(mM,x7,T7);var Mf=function(i,t){if(Array.isArray(i))return i.indexOf(t);for(var n in i)if(i[n]===t)return n;return null};const H1=Phaser.Utils.Objects.IsPlainObject,Wr=Phaser.Utils.Objects.GetValue;class Li extends Sr{constructor(t,n,x,C,M,h){H1(n)?(h=n,n=Wr(h,"x",0),x=Wr(h,"y",0),C=Wr(h,"width",void 0),M=Wr(h,"height",void 0)):H1(C)&&(h=C,C=Wr(h,"width",void 0),M=Wr(h,"height",void 0)),super(t,n,x,C,M,h),this.type="rexOverlapSizer",this.sizerChildren={},this.addChildrenMap("items",this.sizerChildren)}childToKey(t){if(typeof t=="string"){var n=t;if(this.sizerChildren.hasOwnPropery(n))return n}else return Mf(this.sizerChildren,t);return null}}Object.assign(Li.prototype,mM);var C7=Phaser.Math.Distance.Between,Du=function(i,t,n){var x=i.width/2;return C7(x,x,t,n)<=x};const S7=Phaser.Math.Angle.Between,M7=Phaser.Math.Angle.Normalize;var $1=function(i,t,n){if(this.enable&&i.isDown){var x=this.sizerChildren.knob;if(Du(x,t,n)){var C=x.width/2,M=x.startAngle,h=S7(C,C,t,n),y=x.anticlockwise?M-h:h-M,e=M7(y)/(2*Math.PI);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-e)<.1?this.value=e:this.easeValueTo(e)}}},E7=function(){var i=this.sizerChildren.knob;i.on("pointerdown",$1,this).on("pointermove",$1,this).setInteractive()};const K1=Phaser.Math.Angle.Between,P7=Phaser.Math.Angle.Wrap;var R7=function(i,t,n){if(!(!this.enable||this.panPointer)){var x=this.sizerChildren.knob;Du(x,t,n)&&xM.call(this,i)}},A7=function(i,t,n){if(this.enable&&i.isDown){var x=this.sizerChildren.knob;switch(this.panState){case ig:Du(x,t,n)&&xM.call(this,i);break;case TM:Du(x,t,n)?O7.call(this):yM.call(this);break}}},w7=function(i,t,n){!this.enable||this.panPointer!==i||yM.call(this)},xM=function(i){this.panPointer=i,this.panState=TM},yM=function(){this.panPointer=void 0,this.panState=ig},O7=function(){var i=this.panPointer.prevPosition,t=this.panPointer.position,n=this.sizerChildren.knob,x=K1(n.x,n.y,i.x,i.y),C=K1(n.x,n.y,t.x,t.y),M=n.anticlockwise?x-C:C-x,h=P7(M)/(Math.PI*2);this.stopEaseValue(),this.value+=h};const ig=0,TM=1;var L7=function(){var i=this.sizerChildren.knob;i.on("pointerdown",R7,this).on("pointermove",A7,this).on("pointerup",w7,this).setInteractive(),this.panPointer=void 0,this.panState=ig},F7=function(i,t){return this.textFormatCallback=i,this.textFormatCallbackScope=t,this},CM=function(i){i===void 0&&(i=this.value);var t;return this.textFormatCallbackScope?t=this.textFormatCallback(i):t=this.textFormatCallback.call(this.textFormatCallbackScope,i),t},I7=function(i){var t=this.sizerChildren.text;return t&&this.textFormatCallback&&(t.setText(CM.call(this,i)),t.layout&&t.layout()),this};const D7={setTextFormatCallback:F7,getFormatText:CM,updateText:I7},Bi=Phaser.Utils.Objects.GetValue,B7=Phaser.Math.Snap.To;class sg extends Cr(Li){constructor(t,n){n===void 0&&(n={}),super(t,n),this.type="rexKnob",this.bootProgressBase(n);var x=Bi(n,"background",void 0),C=Bi(n,"text",void 0);x&&this.addBackground(x),C&&(n.textColor=void 0,n.textStrokeColor=void 0,this.setTextFormatCallback(Bi(n,"textFormatCallback",void 0),Bi(n,"textFormatCallbackScope",void 0)));var M=new ff(t,n);M.setDepth(Bi(n,"knobDepth",0)),M._value=-1,t.add.existing(M),this.add(M,"knob"),C&&(this.add(C,"text","center",0,!1),t.children.moveBelow(M,C)),this.addChildrenMap("background",x),this.addChildrenMap("knob",M),this.addChildrenMap("text",C),this.setEnable(Bi(n,"enable",void 0)),this.setGap(Bi(n,"gap",void 0)),this.setValue(Bi(n,"value",0),Bi(n,"min",void 0),Bi(n,"max",void 0));var h=Bi(n,"input",0);switch(typeof h=="string"&&(h=b7[h]),h){case 0:L7.call(this);break;case 1:E7.call(this);break}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t){return this.gap=t,this}get value(){return this.sizerChildren.knob.value}set value(t){this.gap!==void 0&&(t=B7(t,this.gap));var n=this.value;this.sizerChildren.knob.value=t;var x=this.value;n!==x&&(this.updateText(),this.eventEmitter.emit("valuechange",x,n,this.eventEmitter))}}const b7={pan:0,drag:0,click:1,none:-1};Object.assign(sg.prototype,D7);rt.register("knob",function(i){var t=new sg(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.Knob",sg);const G7={arc:uf,circle:Jv,curve:bI,ellipse:GI,line:NI,lines:Ta,rectangle:nD,roundRectangle:Lu,triangle:aD},j1=Phaser.Utils.Objects.GetValue,N7=Phaser.Utils.Objects.IsPlainObject,V7=function(){for(var i=this.getShapes(),t=0,n=i.length;t<n;t++)i[t].lineStyle().fillStyle()},z7={createShape(i,t){var n=G7[i],x=new n;return t&&x.setName(t),x},buildShapes(i){var t=j1(i,"create",void 0);if(N7(t)){var n=t;for(var x in n){var C=n[x];switch(typeof C){case"number":for(var M=0;M<C;M++)this.addShape(this.createShape(x));break;case"string":this.addShape(this.createShape(x,C));break;default:for(var h=C,M=0,y=h.length;M<y;M++)this.addShape(this.createShape(x,h[M]));break}}}else if(Array.isArray(t))for(var n=t,M=0,y=n.length;M<y;M++){var e=n[M];this.addShape(this.createShape(e.type,e.name))}else typeof t=="function"&&t.call(this);this.setUpdateShapesCallback(j1(i,"update"))},setUpdateShapesCallback(i){return i===void 0&&(i=V7),this.dirty=this.dirty||this.updateCallback!==i,this.updateCallback=i,this},updateShapes(){this.updateCallback.call(this)}},Z1=Phaser.GameObjects.Components.TransformMatrix,k7=Phaser.Math.TransformXY;var U7=function(i,t,n,x,C){x===void 0&&(x=i.scene.cameras.main),C===void 0?C={}:C===!0&&(C=X7);var M=x.scrollX,h=x.scrollY,y=t+M*i.scrollFactorX-M,e=n+h*i.scrollFactorY-h;return i.parentContainer?(Cl===void 0&&(Cl=new Z1,J1=new Z1),i.getWorldTransformMatrix(Cl,J1),Cl.applyInverse(y,e,C)):k7(y,e,i.x,i.y,i.rotation,i.scaleX,i.scaleY,C),C.x+=i.displayOriginX,C.y+=i.displayOriginY,C},Cl,J1,X7={};const vo=Phaser.Utils.Objects.GetValue,Y7=Phaser.Utils.Objects.IsPlainObject;class Ef extends yr{constructor(t,n,x,C,M,h){Y7(n)&&(h=n,n=vo(h,"x",0),x=vo(h,"y",0),C=vo(h,"width",2),M=vo(h,"height",2)),super(t,n,x,C,M),this.type=vo(h,"type","rexCustomShapes"),this.buildShapes(h)}get centerX(){return this.width/2}get centerY(){return this.height/2}worldToLocalXY(t,n,x,C){return typeof x=="boolean"&&(C=x,x=void 0),U7(this,t,n,x,C)}}Object.assign(Ef.prototype,z7);rt.register("customShapes",function(i,t,n,x,C){var M=new Ef(this.scene,i,t,n,x,C);return this.scene.add.existing(M),M});nt(window,"RexPlugins.UI.CustomShapes",Ef);const po=Phaser.Utils.Objects.GetValue,W7=Phaser.Utils.Objects.IsPlainObject;class Fn extends Cr(Ef){constructor(t,n,x,C,M,h){W7(n)&&(h=n,n=po(h,"x",0),x=po(h,"y",0),C=po(h,"width",2),M=po(h,"height",2)),h===void 0&&(h={}),h.type||(h.type="rexCustomProgress"),super(t,n,x,C,M,h),this.bootProgressBase(h),this.setValue(po(h,"value",0))}get centerX(){return this.width/2}get centerY(){return this.height/2}get radius(){return Math.min(this.centerX,this.centerY)}}rt.register("customProgress",function(i,t,n,x,C){var M=new Fn(this.scene,i,t,n,x,C);return this.scene.add.existing(M),M});nt(window,"RexPlugins.UI.CustomProgress",Fn);const H7={setTransitionStartCallback(i,t){return this.onStartCallback=i,this.onStartCallbackScope=t,this},setTransitionProgressCallback(i,t){return this.onProgressCallback=i,this.onProgressCallbackScope=t,this},setTransitionCompleteCallback(i,t){return this.onCompleteCallback=i,this.onCompleteCallbackScope=t,this}},Q1=Phaser.Utils.Objects.IsPlainObject,uc=Phaser.Utils.Objects.GetValue,$7=Phaser.Utils.Array.GetRandom;var K7={out:0,in:1},es=function(i,t,...n){for(var x=0,C=n.length;x<C;x++){var M=n[x];if(M&&M.hasOwnProperty(i))return M[i]}return t};const j7={setTransitionDirection(i){return typeof i=="string"&&(i=K7[i]),this.dir=i,this},setDuration(i){return this.duration=i,this},setEaseFunction(i){return this.easeFunction=i,this},setNextTexture(i,t){return this.nextImage.setTexture(i,t),this},transit(i,t,n){if(this.isRunning&&(this.ignoreCompleteEvent=!0,this.stop(),this.ignoreCompleteEvent=!1),n!==void 0&&(i={key:i,frame:t,mode:n}),this.currentTransitionMode=void 0,Q1(i)){var x=i;i=uc(x,"key",void 0),t=uc(x,"frame",void 0),n=uc(x,"mode"),Array.isArray(n)&&(n=$7(n));var C;this.transitionModes&&this.transitionModes.hasOwnProperty(n)&&(C=this.transitionModes[n],this.currentTransitionMode=n),this.setDuration(es("duration",this.duration,x,C)).setEaseFunction(es("ease",this.easeFunction,x,C)).setTransitionDirection(es("dir",this.dir,x,C));var M=es("mask",void 0,x,C);M&&this.setMaskGameObject(M),this.setMaskEnable(M===!0);var h=es("onStart",void 0,x,C),y=es("onProgress",void 0,x,C),e=es("onComplete",void 0,x,C);(h!==void 0||y!==void 0||e!==void 0)&&this.setTransitionStartCallback(h,es("onStartScope",void 0,x,C)).setTransitionProgressCallback(y,es("onProgressScope",void 0,x,C)).setTransitionCompleteCallback(e,es("onCompleteScope",void 0,x,C))}return this.setNextTexture(i,t),this.start(),this},addTransitionMode(i,t){return this.transitionModes===void 0&&(this.transitionModes={}),Q1(i)&&(t=i,i=t.name,delete t.name),this.transitionModes[i]=t,this},start(){return this.easeValueTask===void 0&&(this.easeValueTask=new Tr(this,{eventEmitter:null})),this.easeValueTask.restart({key:"t",from:0,to:1,duration:this.duration,ease:this.easeFunction}),this},pause(){return this.easeValueTask&&this.easeValueTask.pause(),this},resume(){return this.easeValueTask&&this.easeValueTask.resume(),this},stop(){return this.easeValueTask&&this.easeValueTask.stop(),this.setT(1),this}};var q1=function(i,t,n,x,C){switch(this.clear().fillStyle(16777215),this.shape){case 1:var M=Math.min(i,t)/2;this.fillCircle(-i*(x-.5),-t*(C-.5),M+n);break;default:this.fillRect(-(i*x)-n,-(t*C)-n,i+2*n,t+2*n);break}};const Z7=Phaser.GameObjects.Graphics;class tp extends Z7{constructor(t,n,x){n===void 0&&(n=0),typeof n=="string"&&(n=J7[n]),x===void 0&&(x=0),super(t.scene),this.parent=t,this.shape=n,this.padding=x,this.setPosition().resize().setVisible(!1)}destroy(){return this.parent=void 0,super.destroy(),this}setPosition(t,n){var x=this.parent;return t===void 0&&(t=x.x),n===void 0&&(n=x.y),super.setPosition(t,n),this}resize(t,n,x){var C=this.parent;return t===void 0&&(t=C.width),n===void 0&&(n=C.height),x===void 0&&(x=this.padding),this.width===t&&this.height===n&&this.paddingSave===x?this:(this.width=t,this.height=n,this.originX=C.originX,this.originY=C.originY,this.paddingSave=x,q1.call(this,t,n,x,C.originX,C.originY),this)}setOrigin(t,n){n===void 0&&(n=t);var x=this.parent;return t===void 0&&(t=x.originX),n===void 0&&(n=x.originY),this.originX===t&&this.originY===n?this:(this.originX=t,this.originY=n,q1.call(this,this.width,this.height,this.paddingSave,t,n),this)}}const J7={rectangle:0,circle:1},Q7={setMaskGameObject(i){if(!i)return this.removeMaskGameObject(),this;if(this.maskGameObject){if(i===!0&&this.maskGameObject instanceof tp)return this;if(this.maskGameObject===i)return this;this.removeMaskGameObject()}return i===!0&&(i=new tp(this)),this.maskGameObject=i,this.maskGameObject.resize(this.width,this.height).setOrigin(this.originX,this.originY).setPosition(0,0).setScale(1).setVisible(!1),this.addLocal(this.maskGameObject),this.childrenMask=this.maskGameObject.createGeometryMask(),this},removeMaskGameObject(i){return i===void 0&&(i=!0),this.backImage.clearMask(),this.frontImage.clearMask(),this.childrenMask=void 0,this.remove(this.maskGameObject,i),this.maskGameObject=void 0,this},setImageMaskEnable(i,t,n){return t===void 0&&(t=!0),n===void 0&&(n=!1),t?(this.childrenMask||this.setMaskGameObject(!0),i.setMask(this.childrenMask),n&&this.childrenMask.setInvertAlpha()):i.clearMask(),this},setCurrentImageMaskEnable(i,t){return this.setImageMaskEnable(this.currentImage,i,t),this},setNextImageMaskEnable(i,t){return this.setImageMaskEnable(this.nextImage,i,t),this},setCellImagesMaskEnable(i,t){for(var n=this.getCellImages(),x=0,C=n.length;x<C;x++)this.setImageMaskEnable(n[x],i,t);return this},setMaskEnable(i,t){return this.setImageMaskEnable(this.backImage,i,t),this.setImageMaskEnable(this.frontImage,i,t),this.setCellImagesMaskEnable(i,t),this}};var q7=function(i,t){t===void 0&&(t=",");var n;return i==="__BASE"?n=function(x,C){return`${x}${t}${C}`}:n=function(x,C){return`${i}_${x}${t}${C}`},n},_7=function(i,t,n,x,C,M){n==null&&(n="__BASE"),M||(M=q7(n,M));for(var h=i.sys.textures.get(t),y=typeof n=="object"?n:h.get(n),e=y.width,f=y.height,d,s,a,r=e/x,o=f/C,u=0,v=0,l=0;l<C;l++){u=0;for(var c=0;c<x;c++)a=M(c,l),d=u+y.cutX,s=v+y.cutY,h.add(a,0,d,s,r,o),u+=r;v+=o}return{getFrameNameCallback:M,cellWidth:r,cellHeight:o,columns:x,rows:C}};const ys=Phaser.Utils.Objects.GetValue,tb=Phaser.GameObjects.Image,eb=Phaser.Utils.Objects.IsPlainObject,ib=Phaser.Math.RotateAround;var sb=function(i,t,n,x){eb(t)&&(x=t,t=ys(x,"columns",1),n=ys(x,"rows",1));var C=ys(x,"onCreateImage");if(!C){var M=ys(x,"ImageClass",tb);C=function(B,G,N){return new M(B,0,0,G,N)}}for(var h=ys(x,"originX",.5),y=ys(x,"originY",.5),e=ys(x,"add",!0),f=ys(x,"align",e),d=ys(x,"objectPool",void 0),s=i.scene,a=i.texture,r=i.frame,o=_7(s,a,r,t,n),u=o.getFrameNameCallback,v=i.scaleX,l=i.scaleY,c=i.rotation,p=i.getTopLeft(),g=p.x,m=p.y,T=[],S=o.cellWidth*v,P=o.cellHeight*l,E=0;E<n;E++)for(var R=0;R<t;R++){var A,w=u(R,E);d&&d.length>0?A=d.pop().setTexture(a,w):A=C(s,a,w),e&&s.add.existing(A);var O=g+S*R,L=m+P*E,F=O+h*S,I=L+y*P;f&&(A.setOrigin(h,y).setPosition(F,I).setScale(v,l).setRotation(c),ib(A,g,m,c)),T.push(A)}return T};const nb={gridCutImage(i,t,n,x){x===void 0&&(x={}),x.objectPool=this.imagesPool;for(var C=sb(i,t,n,x),M,h=0,y=C.length;h<y;h++)M=C[h],M.setVisible(!0),this.add(M);return this.cellImages=C,this.setChildLocalVisible(i,!1),C},gridCutCurrentImage(i,t,n){return this.gridCutImage(this.currentImage,i,t,n)},gridCutNextImage(i,t,n){return this.gridCutImage(this.nextImage,i,t,n)},getCellImages(){return this.cellImages},freeCellImages(){if(this.cellImages.length===0)return this;for(var i=this.cellImages[0].texture,t=this.cellImages,n,x,C=0,M=t.length;C<M;C++)n=t[C],this.setChildLocalAlpha(n,1).setChildLocalScale(n,1).setChildLocalVisible(n,!1),n.clearMask(),x=n.frame.name,n.setTexture(),i.remove(x);return this.imagesPool.push(...t),t.length=0,this}},SM={setFlipX(i){return this.flipX=i,this},setFlipY(i){return this.flipY=i,this},toggleFlipX(){return this.flipX=!this.flipX,this},toggleFlipY(){return this.flipY=!this.flipY,this},setFlip(i,t){return this.flipX=i,this.flipY=t,this},resetFlip(){return this.flipX=!1,this.flipY=!1,this}};var MM={};Object.assign(MM,H7,j7,Q7,nb,SM);var rb=function(i,t,n,x){},ab=function(i,t,n,x){i.setChildLocalAlpha(t,1-x).setChildLocalAlpha(n,x)},ob=function(i,t,n,x){i.setChildLocalAlpha(t,1)};const _1=Phaser.Utils.Objects.IsPlainObject,ce=Phaser.Utils.Objects.GetValue,hb=Phaser.Math.Clamp;class Pf extends ci{constructor(t,n,x,C,M,h){_1(n)?(h=n,n=ce(h,"x",0),x=ce(h,"y",0),C=ce(h,"key",void 0),M=ce(h,"frame",void 0)):_1(M)&&(h=M,M=void 0);var y=ce(h,"back",void 0),e=ce(h,"front",void 0);y||(y=t.add.image(n,x,C,M)),e||(e=t.add.image(n,x,C,M));var f=ce(h,"width",e.width),d=ce(h,"height",e.height);super(t,n,x,f,d),this.type="rexTransitionImage",y.setVisible(!1),this.addMultiple([y,e]),this.backImage=y,this.frontImage=e,this.maskGameObject=void 0,this.cellImages=[],this.imagesPool=[],this.transitionModes=void 0,this.currentTransitionMode=void 0;var s=ce(h,"onStart",void 0),a=ce(h,"onProgress",void 0),r=ce(h,"onComplete",void 0),o=ce(h,"dir",0);s===void 0&&a===void 0&&r===void 0&&(s=rb,a=ab,r=ob,o=0),this.setTransitionStartCallback(s,ce(h,"onStartScope",void 0)).setTransitionProgressCallback(a,ce(h,"onProgressScope",void 0)).setTransitionCompleteCallback(r,ce(h,"onCompleteScope",void 0)).setTransitionDirection(o).setDuration(ce(h,"duration",1e3)).setEaseFunction(ce(h,"ease","Linear"));var u=ce(h,"mask",void 0);u&&this.setMaskGameObject(u),this.setMaskEnable(!1),this.ignoreCompleteEvent=!1}destroy(t){!this.scene||this.ignoreDestroy||(this.childrenMask&&(this.childrenMask.destroy(),this.childrenMask=void 0),this.backImage=void 0,this.frontImage=void 0,this.maskGameObject=void 0,this.cellImages.length=0,this.imagesPool.length=0,this.transitionModes=void 0,super.destroy(t),this.onStartCallback=void 0,this.onStartCallbackScope=void 0,this.onProgressCallback=void 0,this.onProgressCallbackScope=void 0,this.onCompleteCallback=void 0,this.onCompleteCallbackScope=void 0,this.easeValueTask=void 0)}get currentImage(){return this.dir===0?this.frontImage:this.backImage}get nextImage(){return this.dir===0?this.backImage:this.frontImage}get texture(){return this.nextImage.texture}get frame(){return this.nextImage.frame}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.backImage.setFlipX(t),this.frontImage.setFlipX(t))}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.backImage.setFlipY(t),this.frontImage.setFlipY(t))}get t(){return this._t}set t(t){if(t=hb(t,0,1),this._t!==t){this._t=t;var n=this.currentImage,x=this.nextImage;if(t===0&&(this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!0),fc(this.onStartCallback,this.onStartCallbackScope,this,n,x,t)),fc(this.onProgressCallback,this.onProgressCallbackScope,this,n,x,t),t===1){fc(this.onCompleteCallback,this.onCompleteCallbackScope,this,n,x,t);var C=x.texture.key,M=x.frame.name;this.frontImage.setTexture(C,M),this.backImage.setTexture(C,M),this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!1).setMaskEnable(!1).freeCellImages()}t===1&&!this.ignoreCompleteEvent&&this.emit("complete")}}setT(t){return this.t=t,this}get isRunning(){return this.easeValueTask?this.easeValueTask.isRunning:!1}setOrigin(t,n){return super.setOrigin(t,n),this.backImage.setOrigin(t,n),this.frontImage.setOrigin(t,n),this.maskGameObject&&this.maskGameObject.setOrigin(t,n),this}setTexture(t,n){return this.frontImage.setTexture(t,n),this.backImage.setTexture(t,n).setVisible(!1),this}}var fc=function(i,t,n,x,C,M){i&&(t?i.call(t,n,x,C,M):i(n,x,C,M))};Object.assign(Pf.prototype,MM);rt.register("transitionImage",function(i,t,n,x,C){var M=new Pf(this.scene,i,t,n,x,C);return this.scene.add.existing(M),M});nt(window,"RexPlugins.UI.TransitionImage",Pf);const lb="slideLeft",ub="slideRight",fb="slideUp",db="slideDown",cb="slideAwayLeft",vb="slideAwayRight",pb="slideAwayUp",gb="slideAwayDown",mb="pushLeft",xb="pushRight",yb="pushUp",Tb="pushDown",Cb="zoomOut",Sb="zoomIn",Mb="zoomInOut",Eb="fade",Pb="crossFade",Rb="wipeLeft",Ab="wipeRight",wb="wipeUp",Ob="wipeDown",Lb="irisOut",Fb="irisIn",Ib="pieOut",Db="pieIn",Bb="blinds",bb="squares",Gb="curtain",Nb="pixellate";var Vb=function(i){i.addTransitionMode(vb,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,n,x,C){},onProgress:function(t,n,x,C){var M=n.width*C;t.setChildLocalPosition(n,M,0)},onComplete:function(t,n,x,C){t.setChildLocalPosition(n,0,0)}}).addTransitionMode(cb,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,n,x,C){},onProgress:function(t,n,x,C){var M=n.width*-C;t.setChildLocalPosition(n,M,0)},onComplete:function(t,n,x,C){t.setChildLocalPosition(n,0,0)}}).addTransitionMode(gb,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,n,x,C){},onProgress:function(t,n,x,C){var M=n.height*C;t.setChildLocalPosition(n,0,M)},onComplete:function(t,n,x,C){t.setChildLocalPosition(n,0,0)}}).addTransitionMode(pb,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,n,x,C){},onProgress:function(t,n,x,C){var M=n.height*-C;t.setChildLocalPosition(n,0,M)},onComplete:function(t,n,x,C){t.setChildLocalPosition(n,0,0)}})},zb=function(i){i.addTransitionMode(ub,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,n,x,C){},onProgress:function(t,n,x,C){var M=x.width*(C-1);t.setChildLocalPosition(x,M,0)},onComplete:function(t,n,x,C){t.setChildLocalPosition(x,0,0)}}).addTransitionMode(lb,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,n,x,C){},onProgress:function(t,n,x,C){var M=x.width*(1-C);t.setChildLocalPosition(x,M,0)},onComplete:function(t,n,x,C){t.setChildLocalPosition(x,0,0)}}).addTransitionMode(db,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,n,x,C){},onProgress:function(t,n,x,C){var M=x.height*(C-1);t.setChildLocalPosition(x,0,M)},onComplete:function(t,n,x,C){t.setChildLocalPosition(x,0,0)}}).addTransitionMode(fb,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,n,x,C){},onProgress:function(t,n,x,C){var M=x.height*(1-C);t.setChildLocalPosition(x,0,M)},onComplete:function(t,n,x,C){t.setChildLocalPosition(x,0,0)}})},kb=function(i){i.addTransitionMode(xb,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,n,x,C){},onProgress:function(t,n,x,C){var M=n.width*C;t.setChildLocalPosition(n,M,0);var M=x.width*(C-1);t.setChildLocalPosition(x,M,0)},onComplete:function(t,n,x,C){t.setChildLocalPosition(n,0,0),t.setChildLocalPosition(x,0,0)}}).addTransitionMode(mb,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,n,x,C){},onProgress:function(t,n,x,C){var M=n.width*-C;t.setChildLocalPosition(n,M,0);var M=x.width*(1-C);t.setChildLocalPosition(x,M,0)},onComplete:function(t,n,x,C){t.setChildLocalPosition(n,0,0),t.setChildLocalPosition(x,0,0)}}).addTransitionMode(Tb,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,n,x,C){},onProgress:function(t,n,x,C){var M=n.height*C;t.setChildLocalPosition(n,0,M);var M=x.height*(C-1);t.setChildLocalPosition(x,0,M)},onComplete:function(t,n,x,C){t.setChildLocalPosition(n,0,0),t.setChildLocalPosition(x,0,0)}}).addTransitionMode(yb,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,n,x,C){},onProgress:function(t,n,x,C){var M=n.height*-C;t.setChildLocalPosition(n,0,M);var M=x.height*(1-C);t.setChildLocalPosition(x,0,M)},onComplete:function(t,n,x,C){t.setChildLocalPosition(n,0,0),t.setChildLocalPosition(x,0,0)}})},Ub=function(i){i.addTransitionMode(Cb,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,n,x,C){},onProgress:function(t,n,x,C){var M=1-C;t.setChildScale(n,M,M)},onComplete:function(t,n,x,C){t.setChildScale(n,1,1)}}).addTransitionMode(Sb,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,n,x,C){},onProgress:function(t,n,x,C){var M=C;t.setChildScale(x,M,M)},onComplete:function(t,n,x,C){t.setChildScale(x,1,1)}}).addTransitionMode(Mb,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,n,x,C){t.setChildVisible(x,!1)},onProgress:function(t,n,x,C){var M;C<.5?(M=1-C*2,t.setChildScale(n,M,M)):(n.visible&&t.setChildVisible(n,!1),x.visible||t.setChildVisible(x,!0),M=(C-.5)*2,t.setChildScale(x,M,M))},onComplete:function(t,n,x,C){t.setChildScale(n,1,1),t.setChildVisible(n,!0),t.setChildScale(x,1,1),t.setChildVisible(x,!0)}})},Xb=function(i){i.addTransitionMode(Eb,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,n,x,C){},onProgress:function(t,n,x,C){var M;C<.5?(x.visible&&t.setChildVisible(x,!1),C=cr(C),M=Math.floor(255*(1-C)),n.tint=(M<<16)+(M<<8)+M):(n.visible&&t.setChildVisible(n,!1),x.visible||t.setChildVisible(x,!0),C=cr(C),M=Math.floor(255*(1-C)),x.tint=(M<<16)+(M<<8)+M)},onComplete:function(t,n,x,C){n.tint=16777215,t.setChildVisible(n,!0),x.tint=16777215}}).addTransitionMode(Pb,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,n,x,C){},onProgress:function(t,n,x,C){t.setChildLocalAlpha(n,1-C),t.setChildLocalAlpha(x,C)},onComplete:function(t,n,x,C){t.setChildLocalAlpha(n,1)}})},Yb=function(i){var t=new Fn(i,{type:"Graphics",create:[{name:"rect",type:"rectangle"}],update:function(){var n=this.getShape("rect").fillStyle(16777215),x=1-this.value;switch(this.wipeMode){case"right":n.setSize(this.width*x,this.height).setTopLeftPosition(this.width-n.width,0);break;case"left":n.setSize(this.width*x,this.height).setTopLeftPosition(0,0);break;case"down":n.setSize(this.width,this.height*x).setTopLeftPosition(0,this.height-n.height);break;case"up":n.setSize(this.width,this.height*x).setTopLeftPosition(0,0);break}}});return t},Wb=function(i){var t=Yb(i.scene);i.once("destroy",function(){t.destroy()}).addTransitionMode(Ab,{ease:"Linear",dir:"out",mask:t,onStart:function(n,x,C,M){n.setCurrentImageMaskEnable(!0),n.maskGameObject.wipeMode="right"},onProgress:function(n,x,C,M){n.maskGameObject.setValue(M)},onComplete:function(n,x,C,M){n.removeMaskGameObject(!1)}}).addTransitionMode(Rb,{ease:"Linear",dir:"out",mask:t,onStart:function(n,x,C,M){n.setCurrentImageMaskEnable(!0),n.maskGameObject.wipeMode="left"},onProgress:function(n,x,C,M){n.maskGameObject.setValue(M)},onComplete:function(n,x,C,M){n.removeMaskGameObject(!1)}}).addTransitionMode(Ob,{ease:"Linear",dir:"out",mask:t,onStart:function(n,x,C,M){n.setCurrentImageMaskEnable(!0),n.maskGameObject.wipeMode="down"},onProgress:function(n,x,C,M){n.maskGameObject.setValue(M)},onComplete:function(n,x,C,M){n.removeMaskGameObject(!1)}}).addTransitionMode(wb,{ease:"Linear",dir:"out",mask:t,onStart:function(n,x,C,M){n.setCurrentImageMaskEnable(!0),n.maskGameObject.wipeMode="up"},onProgress:function(n,x,C,M){n.maskGameObject.setValue(M)},onComplete:function(n,x,C,M){n.removeMaskGameObject(!1)}})},Hb=function(i){var t=new Fn(i,{type:"Graphics",create:[{name:"rect",type:"rectangle"}],update:function(){this.getShape("rect").fillStyle(16777215).setSize(this.width*this.value,this.height*this.value).setCenterPosition(this.centerX,this.centerY)}});return t},$b=function(i){var t=Hb(i.scene);i.once("destroy",function(){t.destroy()}).addTransitionMode(Lb,{ease:"Linear",dir:"out",mask:t,onStart:function(n,x,C,M){n.setCurrentImageMaskEnable(!0,!0)},onProgress:function(n,x,C,M){n.maskGameObject.setValue(M)},onComplete:function(n,x,C,M){n.removeMaskGameObject(!1)}}).addTransitionMode(Fb,{ease:"Linear",dir:"out",mask:t,onStart:function(n,x,C,M){n.setCurrentImageMaskEnable(!0)},onProgress:function(n,x,C,M){n.maskGameObject.setValue(1-M)},onComplete:function(n,x,C,M){n.removeMaskGameObject(!1)}})},Kb=function(i){var t=new Fn(i,{type:"Graphics",create:[{name:"pie",type:"arc"}],update:function(){var n=Math.max(this.width,this.height)*2,x=90*this.value;this.getShape("pie").fillStyle(16777215).setCenterPosition(this.centerX,0).setRadius(n).setAngle(90-x,90+x).setPie()}});return t},jb=function(i){var t=Kb(i.scene);i.once("destroy",function(){t.destroy()}).addTransitionMode(Ib,{ease:"Linear",dir:"out",mask:t,onStart:function(n,x,C,M){n.setCurrentImageMaskEnable(!0,!0)},onProgress:function(n,x,C,M){n.maskGameObject.setValue(M)},onComplete:function(n,x,C,M){n.removeMaskGameObject(!1)}}).addTransitionMode(Db,{ease:"Linear",dir:"out",mask:t,onStart:function(n,x,C,M){n.setCurrentImageMaskEnable(!0)},onProgress:function(n,x,C,M){n.maskGameObject.setValue(1-M)},onComplete:function(n,x,C,M){n.removeMaskGameObject(!1)}})},Zb=function(i,t){var n=new Fn(i,{type:"Graphics",create:{rectangle:t},update:function(){for(var x=this.getShapes(),C=this.width/t,M=0;M<t;M++)x[M].fillStyle(16777215).setSize(C*this.value,this.height).setTopLeftPosition(C*M,0)}});return n},Jb=function(i){var t=Zb(i.scene,10);i.once("destroy",function(){t.destroy()}).addTransitionMode(Bb,{ease:"Linear",dir:"out",mask:t,onStart:function(n,x,C,M){n.setCurrentImageMaskEnable(!0,!0)},onProgress:function(n,x,C,M){n.maskGameObject.setValue(M)},onComplete:function(n,x,C,M){n.removeMaskGameObject(!1)}})},Qb=function(i,t,n){var x=new Fn(i,{type:"Graphics",create:{rectangle:t*n},update:function(){for(var C=this.getShapes(),M=this.width/t,h=this.height/n,y=0;y<n;y++)for(var e=0;e<t;e++)C[e*n+y].fillStyle(16777215).setSize(M*this.value,h*this.value).setCenterPosition(M*(e+.5),h*(y+.5))}});return x},qb=function(i){var t=Qb(i.scene,Math.ceil(i.width/40),Math.ceil(i.height/40));i.once("destroy",function(){t.destroy()}).addTransitionMode(bb,{ease:"Linear",dir:"out",mask:t,onStart:function(n,x,C,M){n.setCurrentImageMaskEnable(!0,!0)},onProgress:function(n,x,C,M){n.maskGameObject.setValue(M)},onComplete:function(n,x,C,M){n.removeMaskGameObject(!1)}})},_b=function(i,t){var n=new Fn(i,{type:"Graphics",create:{lines:t},update:function(){for(var x=this.getShapes(),C=this.width/t,M=C/2,h=0;h<t;h++){var y=C*h,e=this.height*this.value,f=y+M;x[h].fillStyle(16777215).start(y,0).horizontalLineTo(e).arc(f,e,M,180,0,!0).horizontalLineTo(-e).lineTo(y,0).close()}}});return n},tG=function(i){var t=_b(i.scene,10);i.once("destroy",function(){t.destroy()}).addTransitionMode(Gb,{ease:"Linear",dir:"out",mask:t,onStart:function(n,x,C,M){n.setCurrentImageMaskEnable(!0,!0),n.setNextImageMaskEnable(!0,!0)},onProgress:function(n,x,C,M){M<.5?(C.visible&&n.setChildVisible(C,!1),M=cr(M),n.maskGameObject.setValue(M)):(x.visible&&n.setChildVisible(x,!1),C.visible||n.setChildVisible(C,!0),M=cr(M),n.maskGameObject.setValue(M))},onComplete:function(n,x,C,M){n.removeMaskGameObject(!1),n.setChildVisible(x,!0)}})},eG=function(i){i.addTransitionMode(Nb,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,n,x,C){n.effect=n.preFX.addPixelate(0),x.effect=x.preFX.addPixelate(0)},onProgress:function(t,n,x,C){if(C<.5){C=cr(C);var M=Math.min(n.width,n.height)/5;n.effect.amount=Math.ceil(M*C)}else{n.visible&&t.setChildVisible(n,!1),C=cr(C);var M=Math.min(x.width,x.height)/5;x.effect.amount=Math.ceil(M*C)}},onComplete:function(t,n,x,C){n.preFX.remove(n.effect),delete n.effect,t.setChildVisible(n,!0),x.preFX.remove(x.effect),delete x.effect}})};const ty=[Vb,zb,kb,Ub,Xb,$b,jb,Wb,Jb,qb,tG,eG];class EM extends Pf{constructor(t,n,x,C,M,h){super(t,n,x,C,M,h);for(var y=0,e=ty.length;y<e;y++)ty[y](this)}}rt.register("transitionImagePack",function(i,t,n,x,C){var M=new EM(this.scene,i,t,n,x,C);return this.scene.add.existing(M),M});nt(window,"RexPlugins.UI.TransitionImagePack",EM);var iG=function(i,t,n){if(n===void 0?n={}:n===!0&&(n=sG),i.width<=t.width&&i.height<=t.height)return n.width=i.width,n.height=i.height,n;var x=i.width/i.height;n.width=Math.min(i.width,t.width),n.height=Math.min(i.height,t.height);var C=n.width/n.height;return C<x?n.height=n.width/x:C>x&&(n.width=n.height*x),n},sG={};const ey=Phaser.Utils.Objects.IsPlainObject,Hn=Phaser.Utils.Objects.GetValue;class ng extends ci{constructor(t,n,x,C,M,h){ey(n)?(h=n,n=Hn(h,"x",0),x=Hn(h,"y",0),C=Hn(h,"key",void 0),M=Hn(h,"frame",void 0)):ey(M)&&(h=M,M=void 0);var y=Hn(h,"image");y?y.setPosition(n,x).setOrigin(.5):(y=t.add.image(n,x,C,M),C===void 0&&y.setVisible(!1)),super(t,n,x,1,1),this.type="rexImageBox",this.add(y),this.image=y;var e=Hn(h,"width",y.width),f=Hn(h,"height",y.height);this.resize(e,f)}get texture(){return this.image.texture}get frame(){return this.image.frame}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.image.setFlipX(t))}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.image.setFlipY(t))}scaleImage(){var t=this.image,n=iG(t,{width:this.width,height:this.height},!0);return t.setDisplaySize(n.width,n.height),this.resetChildScaleState(t),this}resize(t,n){return super.resize(t,n),this.scaleImage(),this}setTexture(t,n){var x=this.image;return x.setTexture(t,n),t!==null?(this.setChildVisible(x,!0),this.scaleImage()):this.setChildVisible(x,!1),this}}Object.assign(ng.prototype,SM);rt.register("imageBox",function(i,t,n,x,C){var M=new ng(this.scene,i,t,n,x,C);return this.scene.add.existing(M),M});nt(window,"RexPlugins.UI.ImageBox",ng);rt.register("fullWindowRectangle",function(i,t){var n=new K0(this.scene,i,t);return this.scene.add.existing(n),n});nt(window,"RexPlugins.UI.FullWindowRectangle",K0);rt.register("cover",function(i){var t=new j0(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.Cover",j0);var rg=function(i,t){if(this.scene.sys.scale.autoRound&&(i=Math.floor(i),t=Math.floor(t)),this.width===i&&this.height===t)return this;var n=this.node.style;return n.width=`${i}px`,n.height=`${t}px`,this.updateSize(),this};const iy={id:["id",void 0],text:["value",void 0],maxLength:["maxLength",void 0],minLength:["minLength",void 0],placeholder:["placeholder",void 0],tooltip:["title",void 0],readOnly:["readOnly",!1],spellCheck:["spellcheck",!1],autoComplete:["autocomplete","off"]},sy={align:["textAlign",void 0],paddingLeft:["padding-left",void 0],paddingRight:["padding-right",void 0],paddingTop:["padding-top",void 0],paddingBottom:["padding-bottom",void 0],fontFamily:["fontFamily",void 0],fontSize:["font-size",void 0],color:["color","#ffffff"],backgroundColor:["backgroundColor","transparent"],border:["border",0],borderColor:["borderColor","transparent"],outline:["outline","none"],direction:["direction",void 0]},nG={input:"textchange",click:"click",dblclick:"dblclick",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",keydown:"keydown",keyup:"keyup",keypress:"keypress",compositionstart:"compositionStart",compositionend:"compositionEnd",compositionupdate:"compositionUpdate",focus:"focus",blur:"blur",select:"select"},ny=Phaser.Utils.Objects.GetValue;var PM=function(i,t,n,x){var C=ny(x,"preventDefault",!1),M=ny(x,"preTest");for(let h in n)t.addEventListener(h,function(y){(!M||M(i,h))&&i.emit(n[h],i,y),C&&y.preventDefault()})};const rG=Phaser.GameObjects.DOMElement,ry=Phaser.Utils.Objects.IsPlainObject,Ts=Phaser.Utils.Objects.GetValue;class Rf extends rG{constructor(t,n,x,C,M,h){ry(n)?(h=n,n=Ts(h,"x",0),x=Ts(h,"y",0),C=Ts(h,"width",0),M=Ts(h,"height",0)):ry(C)&&(h=C,C=Ts(h,"width",0),M=Ts(h,"height",0)),h===void 0&&(h={});var y,e=Ts(h,"type","text");e==="textarea"?(y=document.createElement("textarea"),y.style.resize="none"):(y=document.createElement("input"),y.type=e),Ou(iy,h,y);var f=Ts(h,"style",void 0);f=Ou(sy,h,f);var d=y.style;for(var s in h)s in iy||s in sy||s in d&&(f[s]=h[s]);f["box-sizing"]="border-box",super(t,n,x,y,f),this.type="rexInputText",this.resize(C,M),PM(this,y,nG),N2(y),Ts(h,"selectAll",!1)&&this.selectAll(),this._isFocused=!1,this.on("focus",function(){this._isFocused=!0},this).on("blur",function(){this._isFocused=!1},this)}get text(){return this.node.value}set text(t){this.node.value=t}setText(t){return this.text=t,this}get maxLength(){return this.node.maxLength}set maxLength(t){this.node.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.node.minLength}set minLength(t){this.node.minLength=t}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node.placeholder=t}setPlaceholder(t){return this.placeholder=t,this}selectText(t,n){return t===void 0?this.node.select():this.node.setSelectionRange(t,n),this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node.selectionStart}get selectionEnd(){return this.node.selectionEnd}get selectedText(){var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node.selectionStart}set cursorPosition(t){this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node.title}set tooltip(t){this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.node.readOnly}set readOnly(t){this.node.readOnly=t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node.spellcheck}set spellCheck(t){this.node.spellcheck=t}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){return this.node.style.color}set fontColor(t){this.node.style.color=t}setFontColor(t){return this.fontColor=t,this}setStyle(t,n){return this.node.style[t]=n,this}getStyle(t){return this.node.style[t]}scrollToBottom(){return this.node.scrollTop=this.node.scrollHeight,this}setEnabled(t){return t===void 0&&(t=!0),this.node.disabled=!t,this}setBlur(){return this.node.blur(),this}setFocus(){return this.node.focus(),this}get isFocused(){return this._isFocused}}var aG={resize:rg};Object.assign(Rf.prototype,aG);rt.register("inputText",function(i){var t=new Rf(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.InputText",Rf);const ay=Phaser.Utils.Objects.GetValue;var oG=function(i){var t=document.createElement("input");t.type="file";var n=ay(i,"accept",""),x=ay(i,"multiple",!1);return t.setAttribute("accept",n),x?t.setAttribute("multiple",""):t.removeAttribute("multiple"),t},RM=function(i,t){return i===void 0&&(i=0),new Promise(function(n,x){setTimeout(function(){n(t)},i)})},AM=function({game:i,fileInput:t,closeDelay:n}){return hf(wa(i).events,"focus").then(function(){return RM(n)}).then(function(){var x={files:t.files};return Promise.resolve(x)})};const hG=Phaser.Utils.Objects.GetValue;var lG=function(i,t){var n=hG(t,"closeDelay",200),x=oG(t);return x.click(),AM({game:i,fileInput:x,closeDelay:n}).then(function(C){return x.remove(),Promise.resolve(C)})},wM=function(i){return this.setOrigin(i.originX,i.originY),this.setPosition(i.x,i.y),this.resize(i.displayWidth,i.displayHeight),this},uG=function(i,t,n){if(n===void 0)switch(t){case"image":case"svg":n="textures";break;case"animation":n="json";break;case"tilemapTiledJSON":case"tilemapCSV":n="tilemap";break;case"glsl":n="shader";break;default:n=t;break}i=wa(i);var x;return n==="textures"?x=i.textures:x=i.cache[n],x},OM=function(i,t,n,x,C,M){if(!(C===null||C===!1))if(Sn(C))C();else{var h=uG(i,n,C);h.exists(x)&&h.remove(x)}var y=i.load;if(M&&y.once(`filecomplete-${n}-${x}`,function(f,d,s){M(s)}),Sn(t))t();else{var e=window.URL.createObjectURL(t);y[n](x,e)}y.start()},fG=function(i,t,n,x,C){var M=this.scene;return OM(M,i,t,n,x,C),this},dG=function(i,t,n,x){var C=this.scene;return new Promise(function(M,h){var y=function(e){M(e)};OM(C,i,t,n,x,y)})};const LM={loadFile:fG,loadFilePromise:dG},cG=Phaser.GameObjects.DOMElement,oy=Phaser.Utils.Objects.IsPlainObject,is=Phaser.Utils.Objects.GetValue;class Af extends cG{constructor(t,n,x,C,M,h){oy(n)?(h=n,n=is(h,"x",0),x=is(h,"y",0),C=is(h,"width",0),M=is(h,"height",0)):oy(C)&&(h=C,C=is(h,"width",0),M=is(h,"height",0));var y=document.createElement("input");y.type="file";var e=y.style;e.display="none";var f=document.createElement("label");f.appendChild(y);var d=is(h,"style",void 0);super(t,n,x,f,d),this.type="rexFileChooser",this.resetFromJSON(h),this.resize(C,M);var s=this;y.onchange=function(){s.emit("change",s)},this.setCloseDelay(is(h,"closeDelay",200)),y.onclick=function(){AM({game:t,fileInput:y,closeDelay:s.closeDelay}).then(function(){s.emit("select",s)})}}resetFromJSON(t){return this.setAccept(is(t,"accept","")),this.setMultiple(is(t,"multiple",!1)),this}setAccept(t){return t===void 0&&(t=""),this.fileInput.setAttribute("accept",t),this}setMultiple(t){return t===void 0&&(t=!0),t?this.fileInput.setAttribute("multiple",""):this.fileInput.removeAttribute("multiple"),this}setCloseDelay(t){return t===void 0&&(t=200),this.closeDelay=t,this}get fileInput(){return this.node.children[0]}open(){return this.fileInput.click(),this}get files(){return this.fileInput.files}}var vG={resize:rg,syncTo:wM};Object.assign(Af.prototype,vG,LM);rt.register("fileChooser",function(i){var t=new Af(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.FileChooser",Af);const pG={setDropEnable(i){return i===void 0&&(i=!0),this.dropEnable=i,this},toggleDropEnable(){return this.dropEnable=!this.dropEnable,this}},gG={addFilter(i,t){return this.filters||(this.filters={}),this.filters[i]=t,this},addFilters(i){this.filters||(this.filters={});for(var t in i)this.filters[t]=i[t];return this}};var FM={resize:rg,syncTo:wM};Object.assign(FM,pG,gG,LM);const mG={dragenter:"dragenter",dragleave:"dragleave",dragover:"dragover",drop:"drop"},xG=Phaser.GameObjects.DOMElement,hy=Phaser.Utils.Objects.IsPlainObject,Cs=Phaser.Utils.Objects.GetValue;class ag extends xG{constructor(t,n,x,C,M,h){hy(n)?(h=n,n=Cs(h,"x",0),x=Cs(h,"y",0),C=Cs(h,"width",0),M=Cs(h,"height",0)):hy(C)&&(h=C,C=Cs(h,"width",0),M=Cs(h,"height",0)),h===void 0&&(h={});var y=document.createElement("div"),e=Cs(h,"style",void 0);super(t,n,x,y,e),this.type="rexFileDropZone",this.resize(C,M),this._files=[],this.setDropEnable(Cs(h,"dropEnable",!0));var f=Cs(h,"filters");f&&this.addFilters(f),PM(this,y,mG,{preventDefault:!0,preTest(d){return d.dropEnable}}),this.on("drop",function(d,s){this._files=s.dataTransfer.files;var a=this._files;if(a&&this.filters)for(var r in this.filters){for(var o=this.filters[r],u=[],v=0,l=a.length;v<l;v++){var c=a[v];o(c,a)&&u.push(c)}u.length>0&&this.emit(`drop.${r}`,u)}},this)}get files(){return this._files}}Object.assign(ag.prototype,FM);rt.register("fileDropZone",function(i){var t=new ag(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.FileDropZone",ag);var yG=function(i){if(!window.Chart){var t=`Can not find chartjs! Load chartjs in preload stage.
scene.load.script('chartjs', 'https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.8.0/Chart.min.js');`;return console.error(t),this}return this.chart&&this.chart.destroy(),this.chart=new Chart(this.context,TG(this,i)),this},TG=function(i,t){t===void 0&&(t={}),t.options===void 0&&(t.options={});var n=t.options;n.responsive=!1,n.maintainAspectRatio=!1,n.hasOwnProperty("devicePixelRatio")||(n.devicePixelRatio=1);var x=!1;n.animation===void 0?n.animation={}:n.animation===!1&&(x=!0,n.animation={});var C=n.animation;x&&(C.duration=0);var M=C.onProgress;C.onProgress=function(y){M&&M(y),i.needRedraw()};var h=C.onComplete;return C.onComplete=function(y){h&&h(y),i.needRedraw()},t},CG=function(i){if(this.chart!==void 0)if(typeof i=="string"){for(var t=this.chart.data.datasets,n,x=0,C=t.length;x<C;x++)if(n=t[x],n.label===i)return n}else return this.chart.data.datasets[i]},SG=function(i,t){var n=this.getChartDataset(i);if(n!==void 0){if(typeof t=="string"){var x=this.chart.data.labels;if(t=x.indexOf(t),t===-1)return}return n.data[t]}},MG=function(i,t,n){if(this.chart===void 0)return this;var x=this.getChartDataset(i);if(typeof t=="string"){var C=this.chart.data.labels;if(t=C.indexOf(t),t===-1)return this}return x.data[t]=n,this},EG=function(){return this.chart===void 0?this:(this.chart.update(),this)};let og=class extends za{constructor(t,n,x,C,M,h){super(t,n,x,C,M),this.type="rexChart",this.chart=void 0,h!==void 0&&this.setChart(h)}destroy(t){this.scene&&(this.chart&&(this.chart.destroy(),this.chart=void 0),super.destroy(t))}resize(t,n){if(t===this.width&&n===this.height)return this;if(super.resize(t,n),this.chart){var x=this.chart;x.height=this.canvas.height,x.width=this.canvas.width,x.aspectRatio=x.height?x.width/x.height:null,x.update()}return this}};var PG={setChart:yG,getChartDataset:CG,getChartData:SG,setChartData:MG,updateChart:EG};Object.assign(og.prototype,PG);rt.register("chart",function(i,t,n,x,C){var M=new og(this.scene,i,t,n,x,C);return this.scene.add.existing(M),M});nt(window,"RexPlugins.UI.Chart",og);rt.register("container",function(i,t,n,x,C){var M=new ci(this.scene,i,t,n,x,C);return this.scene.add.existing(M),M});nt(window,"RexPlugins.UI.Container",ci);var RG=function(i){if(this.rexSizer.hidden)return 0;i===void 0&&(i=!0);var t=0,n=this.sizerChildren,x,C,M;if(this.orientation===0)for(var h=this.space.item,y=!0,e=0,f=n.length;e<f;e++)x=n[e],!x.rexSizer.hidden&&(x.rexSizer.proportion===0||i?M=this.getChildWidth(x):M=0,C=x.rexSizer.padding,M+=C.left+C.right,y?y=!1:M+=h,t+=M);else for(var e=0,f=n.length;e<f;e++)x=n[e],x.hasOwnProperty("rexSizer")&&(x.rexSizer.hidden||(C=x.rexSizer.padding,M=this.getChildWidth(x)+C.left+C.right,t=Math.max(M,t)));return t+this.space.left+this.space.right},AG=function(i){if(this.rexSizer.hidden)return 0;i===void 0&&(i=!0);var t=0,n=this.sizerChildren,x,C,M;if(this.orientation===0)for(var h=0,y=n.length;h<y;h++)x=n[h],!x.rexSizer.hidden&&(C=x.rexSizer.padding,M=this.getChildHeight(x)+C.top+C.bottom,t=Math.max(M,t));else for(var e=this.space.item,f=!0,h=0,y=n.length;h<y;h++)x=n[h],x.hasOwnProperty("rexSizer")&&(x.rexSizer.hidden||(x.rexSizer.proportion===0||i?M=this.getChildHeight(x):M=0,C=x.rexSizer.padding,M+=C.top+C.bottom,f?f=!1:M+=e,t+=M));return t+this.space.top+this.space.bottom},wG=function(i,t){t===void 0&&(t=this.width);var n,x=i.rexSizer,C=x.padding;if(this.orientation===0)x.proportion>0&&this.proportionLength>0&&(n=x.proportion*this.proportionLength);else if(x.expand){var M=t-this.space.left-this.space.right;n=M-C.left-C.right}return n},OG=function(i,t){t===void 0&&(t=this.height);var n,x=i.rexSizer,C=x.padding;if(this.orientation===0){if(x.expand){var M=t-this.space.top-this.space.bottom;n=M-C.top-C.bottom}}else x.proportion>0&&this.proportionLength>0&&(n=x.proportion*this.proportionLength);return n},LG=function(i){i===void 0&&(i=[]);for(var t=this.sizerChildren,n,x=0,C=t.length;x<C;x++)n=t[x],n.isRexSizer&&i.push(n);return i},FG=function(){this.hasRatioFitChild=!1;for(var i=this.sizerChildren,t=0,n=i.length;t<n;t++){var x=i[t];x.rexSizer.hidden||x.rexSizer.fitRatio&&(ji(x,1,1),this.hasRatioFitChild=!0)}return this._childrenProportion=void 0,this.proportionLength=void 0,Sh.call(this),this},IG=function(i,t){if(this.hasRatioFitChild){var n;this.orientation===0?n=t-this.getInnerPadding("top")-this.getInnerPadding("bottom"):i-this.getInnerPadding("left")-this.getInnerPadding("right");for(var x=this.sizerChildren,C,M,h=0,y=x.length;h<y;h++){var e=x[h];if(!e.rexSizer.hidden){var f=e.rexSizer.fitRatio;f&&(this.orientation===0?(M=n-this.getChildOuterPadding(e,"top")-this.getChildOuterPadding(e,"bottom"),C=M*f):(C=n-this.getChildOuterPadding(e,"top")-this.getChildOuterPadding(e,"bottom"),M=C/f),ji(e,C,M),e.isRexSizer&&e.setMinSize(C,M))}}this.proportionLength=void 0,this._childrenWidth=void 0,this.resolveWidth(i,!0)}};const DG=Phaser.Math.Wrap;var BG=function(){for(var i=this.sizerChildren,t,n,x,C=this.innerLeft,M=this.innerTop,h=this.innerWidth,y=this.innerHeight,e=C,f=M,d,s,a,r,o,u,v,l=this.startChildIndex,c=0,p=i.length;c<p;c++)l===0?v=c:v=DG(c+l,0,p),this.rtl&&(v=p-v-1),t=i[v],!t.rexSizer.hidden&&(n=t.rexSizer,x=n.padding,Mh.call(this,t),t.isRexSpace?(o=0,u=0):(o=this.getExpandedChildWidth(t),u=this.getExpandedChildHeight(t)),t.isRexSizer?(t.runLayout(this,o,u),eg(t,this)):ji(t,o,u),o===void 0&&(o=Vt(t)),u===void 0&&(u=It(t)),this.orientation===0?(d=e+x.left,n.proportion===0||this.proportionLength===0?a=o:a=n.proportion*this.proportionLength,s=f+x.top,r=y-x.top-x.bottom):(d=e+x.left,a=h-x.left-x.right,s=f+x.top,n.proportion===0||this.proportionLength===0?r=u:r=n.proportion*this.proportionLength),Eh.call(this,t,d,s,a,r,n.align),this.orientation===0?e+=a+x.left+x.right+this.space.item:f+=r+x.top+x.bottom+this.space.item)},bG=function(t){var t=k0.call(this,t);if(this.proportionLength===void 0&&this.orientation===0){var n=t-this.childrenWidth;n>0?(n=t-this.getChildrenWidth(!1),this.proportionLength=n/this.childrenProportion):this.proportionLength=0}return t},GG=function(t){var t=U0.call(this,t);if(this.proportionLength===void 0&&this.orientation===1){var n=t-this.childrenHeight;n>0?(n=t-this.getChildrenHeight(!1),this.proportionLength=n/this.childrenProportion):this.proportionLength=0}return t};const NG=Phaser.GameObjects.Zone;class hg extends NG{constructor(t){super(t,0,0,1,1),this.isRexSpace=!0}}var VG=function(i,t){var n=this.sizerChildren;if(n.length===0)return-1;for(var x=-1,C=1/0,M=0,h=n.length;M<h;M++){var y=n[M],e;this.orientation===0?e=Math.abs(y.left-i):e=Math.abs(y.top-t),C>e&&(C=e,x=M)}var y=n[n.length-1],e;return this.orientation===0?e=Math.abs(y.right-i):e=Math.abs(y.bottom-t),C>e&&(C=e,x=M+1),x};const IM=Phaser.Utils.Objects.IsPlainObject,Ss=Phaser.Utils.Objects.GetValue,ly=Phaser.Display.Align.CENTER,zG={min:0,full:-1};var dc=function(i,t,n,x,C,M,h,y,e,f){yh.call(this,i);var d=i.isRexSpace,s=typeof t;if(t===null)return this;if(s!=="number"){if(s==="string")t=zG[t];else if(IM(t)){var a=t;t=Ss(a,"proportion",void 0),n=Ss(a,"align",ly),x=Ss(a,"padding",0),C=Ss(a,"expand",!1),M=Ss(a,"key",void 0),h=Ss(a,"index",void 0),i.isRexSizer||(y=Ss(a,"minWidth",void 0),e=Ss(a,"minHeight",void 0)),f=Ss(a,"fitRatio",0)}}typeof n=="string"&&(n=Ti[n]),t===void 0&&(t=d?1:0),n===void 0&&(n=ly),x===void 0&&(x=0),C===void 0&&(C=!1),y===void 0&&(d?y=0:i.isRexSizer||(y=i._minWidth)),e===void 0&&(d?e=0:i.isRexSizer||(e=i._minHeight)),f===void 0&&(f=0);var a=this.getSizerConfig(i);return a.proportion=t,a.align=n,a.padding=ka(x),a.expand=C,a.fitRatio=t===0?f:0,h===void 0||h>=this.sizerChildren.length?this.sizerChildren.push(i):this.sizerChildren.splice(h,0,i),i.isRexSizer||(t>0&&(this.orientation===0?i.minWidth=y===void 0?Vt(i):y:i.minHeight=e===void 0?It(i):e),C&&(this.orientation===0?i.minHeight=e:i.minWidth=y)),M!==void 0&&this.addChildrenMap(M,i),this};const kG={add:dc,addSpace(i){return this.insertSpace(void 0,i),this},insertSpace(i,t){return t===void 0&&(t=1),dc.call(this,new hg(this.scene),{proportion:t,minWidth:0,minHeight:0,index:i}),this},insert(i,t,n,x,C,M,h,y){return IM(n)&&(n.index=i),dc.call(this,t,n,x,C,M,h,i,y),this},insertAtPosition(i,t,n,x,C,M,h,y,e){var f=VG.call(this,i,t);return f===-1&&(f=void 0),this.insert(f,n,x,C,M,h,y,e),this}},UG=Phaser.Utils.Array.Remove,XG={remove(i,t){return this.getParentSizer(i)!==this?this:(UG(this.sizerChildren,i),Th.call(this,i,t),this)},removeAll(i){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],i);return this},clear(i){return this.sizerChildren.length=0,Sf.call(this,i),this}},YG={getChildAlign(i){return this.getSizerConfig(i).align},setChildAlign(i,t){return typeof t=="string"&&(t=Ti[t]),this.getSizerConfig(i).align=t,this}},WG={getChildProportion(i){return this.getSizerConfig(i).proportion},setChildProportion(i,t){return this.getSizerConfig(i).proportion=t,this}},HG={getChildExpand(i){return this.getSizerConfig(i).expand},setChildExpand(i,t){return this.getSizerConfig(i).expand=t,this}};var DM={getChildrenWidth:RG,getChildrenHeight:AG,getExpandedChildWidth:wG,getExpandedChildHeight:OG,getChildrenSizers:LG,preLayout:FG,postResolveSize:IG,layoutChildren:BG,resolveWidth:bG,resolveHeight:GG};Object.assign(DM,kG,XG,YG,WG,HG);var $G=function(){for(var i=0,t=this.sizerChildren,n,x,C=0,M=t.length;C<M;C++)n=t[C],!n.rexSizer.hidden&&(x=n.rexSizer.proportion,x>0&&(i+=x));return i},KG={x:0,h:0,horizontal:0,"left-to-right":0,y:1,v:1,vertical:1,"top-to-bottom":1},wf=function(i){return typeof i=="string"&&(i=KG[i]),i};const cc=Phaser.Utils.Objects.IsPlainObject,gi=Phaser.Utils.Objects.GetValue;class Ot extends Sr{constructor(t,n,x,C,M,h,y){cc(n)?(y=n,n=gi(y,"x",0),x=gi(y,"y",0),C=gi(y,"width",void 0),M=gi(y,"height",void 0),h=gi(y,"orientation",0)):cc(C)?(y=C,C=gi(y,"width",void 0),M=gi(y,"height",void 0),h=gi(y,"orientation",0)):cc(h)&&(y=h,h=gi(y,"orientation",0)),h===void 0&&(h=0),super(t,n,x,C,M,y),this.type="rexSizer",this.sizerChildren=[],this.setOrientation(h),this.setItemSpacing(gi(y,"space.item",0)),this.setStartChildIndex(gi(y,"startChildIndex",0)),this.setRTL(gi(y,"rtl",!1)),this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=wf(t),this}setItemSpacing(t){return this.space.item=t,this}setStartChildIndex(t){return this.startChildIndex=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get childrenProportion(){return this._childrenProportion===void 0&&(this._childrenProportion=$G.call(this)),this._childrenProportion}}Object.assign(Ot.prototype,DM);rt.register("sizer",function(i,t,n,x,C,M){var h=new Ot(this.scene,i,t,n,x,C,M);return this.scene.add.existing(h),h});nt(window,"RexPlugins.UI.Sizer",Ot);var BM=function(){return Array.prototype.reduce.call(arguments,jG,0)},jG=function(i,t){return i+t},ZG=function(i){if(this.rexSizer.hidden)return 0;i===void 0&&(i=!0);for(var t=0,n,x=this.sizerChildren,C,M,h,y,e=0;e<this.columnCount;e++){if(y=this.columnProportions[e],n=0,y===0||i){for(var f=0;f<this.rowCount;f++)C=x[f*this.columnCount+e],C&&(C.rexSizer.hidden||(M=C.rexSizer.padding,h=this.getChildWidth(C)+M.left+M.right,n=Math.max(n,h)));t+=n}this.columnWidth[e]=n}var d=this.space,s=Math.max(d.indentLeftOdd,d.indentLeftEven);return t+BM(d.left,s,...d.column,d.right)},JG=function(i){if(this.rexSizer.hidden)return 0;i===void 0&&(i=!0);for(var t=0,n,x=this.sizerChildren,C,M,h,y,e=0;e<this.rowCount;e++){if(y=this.rowProportions[e],n=0,y===0||i){for(var f=0;f<this.columnCount;f++)C=x[e*this.columnCount+f],C&&(C.rexSizer.hidden||(h=C.isRexSizer?Math.max(C.minHeight,C.childrenHeight):C.hasOwnProperty("minHeight")?C.minHeight:It(C),M=C.rexSizer.padding,h+=M.top+M.bottom,n=Math.max(n,h)));t+=n}this.rowHeight[e]=n}var d=this.space,s=Math.max(d.indentTopOdd,d.indentTopEven);return t+BM(d.top,s,...d.row,d.bottom)},QG=function(i,t){var n,x=i.rexSizer;if(x.expand){var C=x.padding;n=t-C.left-C.right}return n},qG=function(i,t){var n,x=i.rexSizer;if(x.expand){var C=x.padding;n=t-C.top-C.bottom}return n},_G=function(i){i===void 0&&(i=[]);for(var t=this.sizerChildren,n,x=0,C=t.length;x<C;x++)n=t[x],n&&n.isRexSizer&&i.push(n);return i},tN=function(){return this._totalColumnProportions=void 0,this._totalRowProportions=void 0,this.proportionWidthLength=void 0,this.proportionHeightLength=void 0,Sh.call(this),this},eN=function(){for(var i,t,n,x=this.innerLeft,C=this.innerTop,M,h=C,y,e,f,d,s,a,r=this.space.column,o=this.space.row,u=this.space.indentLeftOdd,v=this.space.indentLeftEven,l=this.space.indentTopOdd,c=this.space.indentTopEven,p,g,m,T,S=0;S<this.rowCount;S++){g=this.getRowHeight(S),m=S%2?v:u,M=x+m;for(var P=0;P<this.columnCount;P++){if(p=this.getColumnWidth(P),i=this.getChildAt(P,S),!i||i.rexSizer.hidden){M+=p+r[P];continue}Mh.call(this,i),s=this.getExpandedChildWidth(i,p),a=this.getExpandedChildHeight(i,g),i.isRexSizer?(i.runLayout(this,s,a),eg(i,this)):ji(i,s,a),t=i.rexSizer,n=t.padding,y=M+n.left,f=p-n.left-n.right,T=P%2?c:l,e=h+T+n.top,d=g-n.top-n.bottom,Eh.call(this,i,y,e,f,d,t.align),M+=p+r[P]}h+=g+o[S]}},iN=function(t){var t=k0.call(this,t);if(this.proportionWidthLength===void 0){var n=this.totalColumnProportions;if(n>0){var x=t-this.getChildrenWidth(!1);x>=0&&(this.proportionWidthLength=x/n)}else this.proportionWidthLength=0}return t},sN=function(t){var t=U0.call(this,t);if(this.proportionHeightLength===void 0){var n=this.totalRowProportions;if(n>0){var x=t-this.getChildrenHeight(!1);x>=0&&(this.proportionHeightLength=x/n)}else this.proportionHeightLength=0}return t},nN=function(i){var t,n,x;for(var C in this.sizerChildren)t=this.sizerChildren[C],t&&t.isRexSizer&&!t.ignoreLayout&&(x=this.getColumnWidth(parseInt(C)%this.columnCount),n=this.getExpandedChildWidth(t,x),n=t.resolveWidth(n),t.resolveChildrenWidth(n))},rN=function(i){var t,n,x;for(var C in this.sizerChildren)t=this.sizerChildren[C],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(x=this.getColumnWidth(parseInt(C)%this.columnCount),n=this.getExpandedChildWidth(t,x),t.isRexSizer&&(n=t.resolveWidth(n)),t.runWidthWrap(n));return this};const aN=Phaser.Utils.Objects.IsPlainObject,Hr=Phaser.Utils.Objects.GetValue,uy=Phaser.Display.Align.CENTER;var fy=function(i,t,n,x,C){if(typeof i=="number"||typeof t=="number")if(i===void 0){for(var M,h=0;h<x;h++)if(M=t*x+h,!n[M])return M}else if(t===void 0){for(var M,h=0;h<C;h++)if(M=h*x+i,!n[M])return M}else{var M=t*x+i;if(!n[M])return M}else if(t===!0){for(var M,h=0;h<x;h++)for(var y=0;y<C;y++)if(M=y*x+h,!n[M])return M}else for(var h=0,e=n.length;h<e;h++)if(!n[h])return h;return null},oN=function(i,t,n,x,C,M,h){if(yh.call(this,i),aN(t)){var e=t;t=Hr(e,"column",void 0),n=Hr(e,"row",void 0),x=Hr(e,"align",uy),C=Hr(e,"padding",0),M=Hr(e,"expand",!1),h=Hr(e,"key",void 0)}var y=fy(t,n,this.sizerChildren,this.columnCount,this.rowCount);if(y===null){if(typeof t=="number"&&typeof n=="number")return this;n===!0||typeof n=="number"?this.addEmptyColumn():this.addEmptyRow(),y=fy(t,n,this.sizerChildren,this.columnCount,this.rowCount)}typeof x=="string"&&(x=Ti[x]),x===void 0&&(x=uy),C===void 0&&(C=0),M===void 0&&(M=!0);var e=this.getSizerConfig(i);return e.align=x,e.padding=ka(C),e.expand=M,this.sizerChildren[y]=i,h!==void 0&&this.addChildrenMap(h,i),this};const hN={add:oN};var qr=function(i,t,n,x){n===void 0&&(n=0),x===void 0&&(x=i.length-1);for(var C=n;C<=x;C++)i[C]=t;return i};const lN={remove(i,t){if(this.getParentSizer(i)!==this)return this;var n=this.sizerChildren.indexOf(i);return n!==-1&&(this.sizerChildren[n]=null),Th.call(this,i,t),this},removeAt(i,t,n){var x=this.getChildAt(i,t);return x&&this.remove(x,n),this},removeAll(i){for(var t=this.sizerChildren.length-1;t>=0;t--){var n=this.sizerChildren[t];n&&this.remove(n,i)}return this},clear(i){return qr(this.sizerChildren,null),Sf.call(this,i),this}},dy=Phaser.Utils.Objects.GetValue;var uN=function(i,t,n,x,C){if(n===void 0&&(n=0),x===void 0&&(x=0),this.columnCount=i,this.rowCount=t,this.gridCount=i*t,this.sizerChildren===void 0?this.sizerChildren=[]:this.removeAll(),this.sizerChildren.length=i*t,qr(this.sizerChildren,null),this.columnProportions=[],this.columnProportions.length=i,typeof n=="number")qr(this.columnProportions,n);else for(var M=0;M<i;M++)this.columnProportions[M]=n[M]||0;if(this.rowProportions=[],this.rowProportions.length=t,typeof x=="number")qr(this.rowProportions,x);else for(var M=0;M<t;M++)this.rowProportions[M]=x[M]||0;this.columnWidth=[],this.columnWidth.length=i,this.rowHeight=[],this.rowHeight.length=t,this.space.column=[],this.space.column.length=i-1;var h=dy(C,"column",0);if(typeof h=="number")qr(this.space.column,h);else for(var M=0,y=this.space.column.length;M<y;M++)this.space.column[M]=h[M]||0;this.space.row=[],this.space.row.length=t-1;var e=dy(C,"row",0);if(typeof e=="number")qr(this.space.row,e);else for(var M=0,y=this.space.row.length;M<y;M++)this.space.row[M]=e[M]||0;return this},bM=function(i,t,n){t===void 0&&(t=this.rowProportions[0]||0),n===void 0&&(n=this.space.row[0]||0),this.rowCount+=1,this.gridCount+=this.columnCount;for(var x=[i*this.columnCount,0],C=0;C<this.columnCount;C++)x.push(null);return this.sizerChildren.splice.apply(this.sizerChildren,x),this.rowProportions.push(t),this.rowHeight.length+=1,this.space.row.splice(i,0,n),this},fN=function(i,t){return bM.call(this,this.rowCount,i,t),this},GM=function(i,t,n){t===void 0&&(t=this.columnProportions[0]||0),n===void 0&&(n=this.space.column[0]||0),this.columnCount+=1,this.gridCount+=this.rowCount;for(var x=this.rowCount-1;x>=0;x--){var C=x*this.columnCount+i;this.sizerChildren.splice(C,0,null)}return this.columnProportions.push(t),this.columnWidth.length+=1,this.space.column.splice(i,0,n),this},dN=function(i,t){return GM.call(this,this.columnCount,i,t),this},NM={getChildrenWidth:ZG,getChildrenHeight:JG,getExpandedChildWidth:QG,getExpandedChildHeight:qG,getChildrenSizers:_G,preLayout:tN,layoutChildren:eN,resolveWidth:iN,resolveHeight:sN,resolveChildrenWidth:nN,runWidthWrap:rN,resetGrid:uN,inseryEmptyRow:bM,addEmptyRow:fN,insertEmptyColumn:GM,addEmptyColumn:dN};Object.assign(NM,hN,lN);var cN=function(){for(var i=0,t,n=0;n<this.columnCount;n++)t=this.columnProportions[n],t>0&&(i+=t);return i},vN=function(){for(var i=0,t,n=0;n<this.rowCount;n++)t=this.rowProportions[n],t>0&&(i+=t);return i};const Sl=Phaser.Utils.Objects.IsPlainObject,Ut=Phaser.Utils.Objects.GetValue;class In extends Sr{constructor(t,n,x,C,M,h,y,e,f,d){Sl(n)?(d=n,n=Ut(d,"x",0),x=Ut(d,"y",0),C=Ut(d,"width",void 0),M=Ut(d,"height",void 0),h=Ut(d,"column",d.col||0),y=Ut(d,"row",0),e=Ut(d,"columnProportions",0),f=Ut(d,"rowProportions",0)):Sl(C)?(d=C,C=Ut(d,"width",void 0),M=Ut(d,"height",void 0),h=Ut(d,"column",d.col||0),y=Ut(d,"row",0),e=Ut(d,"columnProportions",0),f=Ut(d,"rowProportions",0)):Sl(h)?(d=h,h=Ut(d,"column",d.col||0),y=Ut(d,"row",0),e=Ut(d,"columnProportions",0),f=Ut(d,"rowProportions",0)):Sl(e)&&(d=e,e=Ut(d,"columnProportions",0),f=Ut(d,"rowProportions",0)),super(t,n,x,C,M,d),this.type="rexGridSizer",this.resetGrid(h,y,e,f,Ut(d,"space",void 0)),this.setIndentLeft(Ut(d,"space.indentLeftOdd",0),Ut(d,"space.indentLeftEven",0)),this.setIndentTop(Ut(d,"space.indentTopOdd",0),Ut(d,"space.indentTopEven",0)),this.addChildrenMap("items",this.sizerChildren);var s=Ut(d,"createCellContainerCallback");if(s)for(var x=0,a=this.rowCount;x<a;x++)for(var n=0,r=this.columnCount;n<r;n++){var o={column:n,row:x},u=s(t,n,x,o);u&&this.add(u,o)}}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.columnProportions=void 0,this.rowProportions=void 0,this.columnWidth=void 0,this.rowHeight=void 0)}setIndentLeft(t,n){return this.space.indentLeftOdd=t,this.space.indentLeftEven=n,this}setIndentTop(t,n){return this.space.indentTopOdd=t,this.space.indentTopEven=n,this}setColumnProportion(t,n){return t>=this.columnProportions.length?this:(this.columnProportions[t]=n,this)}setRowProportion(t,n){return t>=this.rowProportions.length?this:(this.rowProportions[t]=n,this)}get totalColumnProportions(){return this._totalColumnProportions===void 0&&(this._totalColumnProportions=cN.call(this)),this._totalColumnProportions}get totalRowProportions(){return this._totalRowProportions===void 0&&(this._totalRowProportions=vN.call(this)),this._totalRowProportions}getChildAt(t,n){return this.sizerChildren[n*this.columnCount+t]}childToGridIndex(t,n){if(!t)return null;var x=this.sizerChildren.indexOf(t);return x===-1?null:(n===void 0&&(n={}),n.x=x%this.columnCount,n.y=Math.floor(x/this.columnCount),n)}getColumnWidth(t){var n=this.columnProportions[t],x=n===0?this.columnWidth[t]:n*this.proportionWidthLength;return x}getRowHeight(t){var n=this.rowProportions[t],x=n===0?this.rowHeight[t]:n*this.proportionHeightLength;return x}}Object.assign(In.prototype,NM);rt.register("gridSizer",function(i,t,n,x,C,M,h,y,e){var f=new In(this.scene,i,t,n,x,C,M,h,y,e);return this.scene.add.existing(f),f});nt(window,"RexPlugins.UI.GridSizer",In);var pN=function(){return this.rexSizer.hidden?0:this.maxChildWidth+this.space.left+this.space.right},gN=function(){return this.rexSizer.hidden?0:this.widthWrapResult.height+this.space.top+this.space.bottom},mN=function(i){i===void 0&&(i=[]);for(var t=this.sizerChildren,n,x=0,C=t.length;x<C;x++)n=t[x],n!==`
`&&n.isRexSizer&&i.push(n);return i},xN=function(){return this._maxChildWidth=void 0,this._maxChildHeight=void 0,Sh.call(this),this},yN=function(){for(var i=this.innerWidth,t=this.justifyPercentage,n=this.space.item,x=this.space.line,C=this.space.indentLeftOdd,M=this.space.indentLeftEven,h=this.space.indentTopOdd,y=this.space.indentTopEven,e,f,d,s=0,a,r,o=this.innerLeft,u=this.innerTop,v,l,c,p,g=this.widthWrapResult.lines,m,T,S,P,E=u,R=0,A=g.length;R<A;R++){switch(m=g[R],T=m.children,this.rtl&&T.reverse(),a=R%2?M:C,P=o+a,S=i-m.width,this.align){case 0:break;case 1:P+=S;break;case 2:P+=S/2;break;case 3:s=vc(i,S,t,T.length);break;case 4:s=vc(i,S,t,T.length),s===0&&(P+=S);break;case 5:s=vc(i,S,t,T.length),s===0&&(P+=S/2);break}for(var w=!0,O=0,L=T.length;O<L;O++)e=T[O],!e.rexSizer.hidden&&(f=e.rexSizer,d=f.padding,Mh.call(this,e),v=P+d.left,w?w=!1:v+=n,r=O%2?y:h,l=E+r+d.top,c=Vt(e),p=It(e),P=v+c+d.right+s,Eh.call(this,e,v,l,c,p,f.align));E+=m.height+x}},vc=function(i,t,n,x){return t/i<=n?t/(x-1):0},TN=function(i,t){t===void 0?t={lines:[],width:0,height:0}:(t.lines.length=0,t.width=0,t.height=0);for(var n=this.sizerChildren,x=this.space.item,C=this.space.line,M=this.space.indentLeftOdd,h=this.space.indentLeftEven,y=this.space.indentTopOdd,e=this.space.indentTopEven,f,d,s,a=0,r,o=t.lines,u=void 0,v,l=0,c=n.length;l<c;l++){if(f=n[l],f===`
`)f=void 0,d=0,v=!0;else{if(f.rexSizer.hidden)continue;f.isRexSizer&&f.layout(),d=CN(f),v=a<d||u===void 0}if(v){u&&(u.width=i-(a+x),t.width=Math.max(t.width,u.width),t.height+=u.height+C),u={children:[],height:0},o.push(u);var r=o.length%2?M:h;a=i-r}a-=d+x,f&&(u.children.push(f),s=SN(f),u.height=Math.max(u.height,s))}return u&&(u.width=i-(a+x),t.width=Math.max(t.width,u.width),t.height+=u.height),t.height+=Math.max(y,e),t},CN=function(i){var t=i.rexSizer.padding;return Vt(i)+t.left+t.right},SN=function(i){var t=i.rexSizer.padding;return It(i)+t.top+t.bottom},MN=function(i){var t=i-this.space.left-this.space.right;this.widthWrapResult=TN.call(this,t,this.widthWrapResult),nM.call(this,i)};const cy=Phaser.Math.Distance.Between;var EN=function(i,t){var n=this.sizerChildren;if(n.length===0)return-1;for(var x=-1,C=1/0,M=0,h=n.length;M<h;M++){var y=n[M];if(!(Math.abs(y.centerY-t)>y.height/2)){var f=cy(y.left,y.centerY,i,t);C>f&&(C=f,x=M);var e=n[M+1];if(!(e&&e.y===y.y)){var f=cy(y.right,y.centerY,i,t);C>f&&(C=f,x=M+1)}}}return x};const PN=Phaser.Utils.Objects.IsPlainObject,pc=Phaser.Utils.Objects.GetValue,RN=Phaser.Display.Align.CENTER;var gc=function(i,t,n,x){if(i===`
`)return this.addNewLine(),this;if(yh.call(this,i),PN(t)){var C=t;t=pc(C,"padding",0),n=pc(C,"key",void 0),x=pc(C,"index",void 0)}t===void 0&&(t=0);var C=this.getSizerConfig(i);return C.align=RN,C.padding=ka(t),x===void 0||x>=this.sizerChildren.length?this.sizerChildren.push(i):this.sizerChildren.splice(x,0,i),n!==void 0&&this.addChildrenMap(n,i),this};const AN={add(i,t,n){if(Ki(i))for(var x=i,C=0,M=x.length;C<M;C++)gc.call(this,x[C],t);else gc.call(this,i,t,n);return this},addNewLine(){return this.sizerChildren.push(`
`),this},insert(i,t,n,x){return gc.call(this,t,n,x,i),this},insertAtPosition(i,t,n,x,C){var M=EN.call(this,i,t);return M===-1&&(M=void 0),this.insert(M,n,x,C),this}},wN=Phaser.Utils.Array.Remove,ON={remove(i,t){return this.getParentSizer(i)!==this?this:(wN(this.sizerChildren,i),Th.call(this,i,t),this)},removeAll(i){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],i);return this},clear(i){return this.sizerChildren.length=0,Sf.call(this,i),this}};var VM={getChildrenWidth:pN,getChildrenHeight:gN,getChildrenSizers:mN,preLayout:xN,layoutChildren:yN,runWidthWrap:MN};Object.assign(VM,AN,ON);var LN=function(i){i===void 0&&(i=this.sizerChildren);for(var t=0,n,x,C=0,M=i.length;C<M;C++)n=i[C],n!==`
`&&(x=this.getChildWidth(n),t=Math.max(x,t));return t},FN=function(i){i===void 0&&(i=this.sizerChildren);for(var t=0,n,x,C=0,M=i.length;C<M;C++)n=i[C],n!==`
`&&(x=n.isRexSizer?Math.max(n.minHeight,n.childrenHeight):n.hasOwnProperty("minHeight")?n.minHeight:It(n),t=Math.max(x,t));return t};const vy=Phaser.Utils.Objects.IsPlainObject,we=Phaser.Utils.Objects.GetValue;class Mr extends Sr{constructor(t,n,x,C,M,h){vy(n)?(h=n,n=we(h,"x",0),x=we(h,"y",0),C=we(h,"width",void 0),M=we(h,"height",void 0)):vy(C)&&(h=C,C=we(h,"width",void 0),M=we(h,"height",void 0)),super(t,n,x,C,M,h),this.type="rexFixWidthSizer",this.sizerChildren=[],this.setOrientation(we(h,"orientation",0)),this.setItemSpacing(we(h,"space.item",0)),this.setLineSpacing(we(h,"space.line",0)),this.setIntentLeft(we(h,"space.indentLeftOdd",0),we(h,"space.indentLeftEven",0)),this.setIntentTop(we(h,"space.indentTopOdd",0),we(h,"space.indentTopEven",0)),this.setAlign(we(h,"align",0)),this.setJustifyPercentage(we(h,"justifyPercentage",.25)),this.setRTL(we(h,"rtl",!1)),this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=wf(t),this}setItemSpacing(t){return this.space.item=t,this}setLineSpacing(t){return this.space.line=t,this}setIntentLeft(t,n){return this.space.indentLeftOdd=t,this.space.indentLeftEven=n,this}setIntentTop(t,n){return this.space.indentTopOdd=t,this.space.indentTopEven=n,this}setAlign(t){return typeof t=="string"&&(t=IN[t]),this.align=t,this}setJustifyPercentage(t){return this.justifyPercentage=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get maxChildWidth(){return this._maxChildWidth===void 0&&(this._maxChildWidth=LN.call(this)),this._maxChildWidth}get maxChildHeight(){return this._maxChildHeight===void 0&&(this._maxChildHeight=FN.call(this)),this._maxChildHeight}}const IN={left:0,top:0,right:1,bottom:1,center:2,justify:3,"justify-left":3,"justify-top":3,"justify-right":4,"justify-bottom":4,"justify-center":5};Object.assign(Mr.prototype,VM);rt.register("fixWidthSizer",function(i,t,n,x,C){var M=new Mr(this.scene,i,t,n,x,C);return this.scene.add.existing(M),M});nt(window,"RexPlugins.UI.FixWidthSizer",Mr);rt.register("overlapSizer",function(i,t,n,x,C){var M=new Li(this.scene,i,t,n,x,C);return this.scene.add.existing(M),M});nt(window,"RexPlugins.UI.OverlapSizer",Li);rt.register("space",function(){var i=new hg(this.scene);return i});nt(window,"RexPlugins.UI.Space",hg);var Ml=function(i,t,n){if(i){var x=t==null,C=n==null;return x&&C||(x||(i.displayWidth=t),C||(i.displayHeight=n),x&&(i.scaleX=i.scaleY),C&&(i.scaleY=i.scaleX)),i}},DN=function(i){i===void 0?i={}:typeof i=="string"&&(i={text:i});var t=i.text||"";this.setText(t);var n=this.childrenMap.icon;if(n){i.icon?this.show(n):this.hide(n);var x=i.iconSize;x&&(this.setChildDisplaySize(n,x,x),this.iconWidth!==void 0&&this.setIconSize(x)),this.setIconTexture(i.icon,i.iconFrame)}var C=this.childrenMap.action;if(C){i.action?this.show(C):this.hide(C);var M=i.actionSize;M&&(this.setChildDisplaySize(C,M,M),this.actionWidth!==void 0&&this.setActionSize(M)),this.setActionTexture(i.action,i.actionFrame)}return this},BN={appendText:QS,resetDisplayContent:DN};class lg extends Ot{get text(){var t=this.childrenMap.text;return t?t.text:""}set text(t){var n=this.childrenMap.text;n&&n.setText(t)}setText(t){return this.text=t,this}setIconTexture(t,n){var x=this.childrenMap.icon;return x?(x.setTexture(t,n),this.iconWidth!==void 0&&(Ml(x,this.iconWidth,this.iconHeight),this.resetChildScaleState(x)),this):this}setTexture(t,n){return this.setIconTexture(t,n),this}setIconSize(t,n){return n===void 0&&(n=t),this.iconWidth=t,this.iconHeight=n,this}get texture(){var t=this.childrenMap.icon;if(t)return t.texture}get frame(){var t=this.childrenMap.icon;if(t)return t.frame}setActionTexture(t,n){var x=this.childrenMap.action;return x===void 0?this:(x.setTexture(t,n),this.actionWidth!==void 0&&(Ml(x,this.actionWidth,this.actionHeight),this.resetChildScaleState(x)),this)}get actionTexture(){var t=this.childrenMap.action;if(t)return t.texture}get actionFrame(){var t=this.childrenMap.action;if(t)return t.frame}setActionSize(t,n){return n===void 0&&(n=t),this.actionWidth=t,this.actionHeight=n,this}preLayout(){var t=this.childrenMap.icon;t&&this.iconWidth!==void 0&&Ml(t,this.iconWidth,this.iconHeight);var n=this.childrenMap.action;n&&this.actionWidth!==void 0&&Ml(n,this.actionWidth,this.actionHeight),super.preLayout()}runLayout(t,n,x){if(this.ignoreLayout)return this;super.runLayout(t,n,x);var C=this.childrenMap.iconMask;C&&(C.setPosition(),this.resetChildPositionState(C));var M=this.childrenMap.actionMask;return M&&(M.setPosition(),this.resetChildPositionState(M)),this}resize(t,n){super.resize(t,n);var x=this.childrenMap.iconMask;x&&x.resize();var C=this.childrenMap.actionMask;return C&&C.resize(),this}}Object.assign(lg.prototype,BN);var Zi=function(i,t,n,x){var C=new tp(t,n,x);if(i&&!i.isRexSizer){var M=C.createGeometryMask();i.setMask(M),this.once("destroy",function(){i.setMask(),M.destroy()})}return this.pin(C),C};const bt=Phaser.Utils.Objects.GetValue;class Er extends lg{constructor(t,n){super(t,n),this.type="rexLabel";var x=bt(n,"background",void 0),C=bt(n,"icon",void 0),M=bt(n,"iconMask",void 0),h=bt(n,"text",void 0),y=bt(n,"action",void 0),e=bt(n,"actionMask",void 0),f=bt(n,"align",void 0);if(x&&this.addBackground(x),(f==="right"||f==="bottom"||f==="center")&&this.addSpace(),C){var d;this.orientation===0?(h||y)&&(d={right:bt(n,"space.icon",0),top:bt(n,"space.iconTop",0),bottom:bt(n,"space.iconBottom",0)}):(h||y)&&(d={bottom:bt(n,"space.icon",0),left:bt(n,"space.iconLeft",0),right:bt(n,"space.iconRight",0)});var s=bt(n,"squareFitIcon",!1)?1:0;if(this.add(C,{proportion:0,padding:d,fitRatio:s}),M&&(M=Zi.call(this,C,C,1)),!s){var a=bt(n,"iconSize",void 0);this.setIconSize(bt(n,"iconWidth",a),bt(n,"iconHeight",a))}}if(h){var r=bt(n,"space.text",0),o=bt(n,"expandTextWidth",!1),u=bt(n,"expandTextHeight",!1),v,d,l;this.orientation===0?(v=o?1:0,y&&(d={right:r}),l=u):(v=u?1:0,y&&(d={bottom:r}),l=o),this.add(h,{proportion:v,expand:l,padding:d})}if(y){var d;this.orientation===0?d={top:bt(n,"space.actionTop",0),bottom:bt(n,"space.actionBottom",0)}:d={left:bt(n,"space.actionLeft",0),right:bt(n,"space.actionRight",0)};var s=bt(n,"squareFitAction",!1)?1:0;if(this.add(y,{proportion:0,padding:d,fitRatio:s}),e&&(e=Zi.call(this,y,y,1)),!s){var c=bt(n,"actionSize");this.setActionSize(bt(n,"actionWidth",c),bt(n,"actionHeight",c))}}f==="center"&&this.addSpace(),this.addChildrenMap("background",x),this.addChildrenMap("icon",C),this.addChildrenMap("iconMask",M),this.addChildrenMap("text",h),this.addChildrenMap("action",y),this.addChildrenMap("actionMask",e)}}rt.register("label",function(i){var t=new Er(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.Label",Er);const bN=Phaser.GameObjects.Image,py=Phaser.GameObjects.NineSlice;var Si=function(i,t){var n;t&&(t.hasOwnProperty("type")?n=t.type:t.hasOwnProperty("leftWidth")?n="nineSlice":t.hasOwnProperty("key")&&(n="image"));var x;switch(n){case"image":x=new bN(i,0,0,t.key,t.frame);break;case"nineSlice":py&&!t.hasOwnProperty("stretchMode")?x=new py(i,0,0,t.key,t.frame,0,0,t.leftWidth,t.rightWidth,t.topHeight,t.bottomHeight):x=new qu(i,t);break;default:x=new ef(i,t);break}return i.add.existing(x),x};const $r=Phaser.Utils.Objects.GetValue,GN=Phaser.GameObjects.Text,NN=Phaser.GameObjects.BitmapText;var zM=function(i,t){var n=$r(t,"$type");n===void 0&&$r(t,"key")&&(n="bitmaptext");var x;switch(n){case"bitmaptext":var C=$r(t,"key"),M=$r(t,"size");M===void 0&&(M=$r(t,"fontSize")),x=new NN(i,0,0,C,"",M);var h=$r(t,"color");h!==void 0&&x.setTint(h);break;case"text":x=new GN(i,0,0,"",t);break;default:x=new h0(i,0,0,"",t);break}return i.add.existing(x),x};const VN=Phaser.GameObjects.BitmapText;var kM=function(i){return i instanceof VN};const zN=Phaser.GameObjects.Text;var ug=function(i){return i instanceof zN},kN=function(i){var t=function(n){var x=i.padding,C=n-x.left-x.right,M=i.style;return ug(i)?(M.wordWrapWidth=C,M.maxLines=0):(M.wrapMode===0&&(M.wrapMode=1),M.wrapWidth=C,M.maxLines=0),M.fixedWidth=n,M.fixedHeight=0,i.updateText(),i.minHeight=i.height,i};return t},UN=function(i){var t=function(n){return i.setFixedSize(n,0).runWordWrap(),i.minHeight=i.height,i};return t},XN=function(i){var t=function(n){return i.setMaxWidth(n),i.minHeight=i.height,i};return t},YN=function(i){return i instanceof Ga},UM=function(i,t){return t===void 0&&(t=0),i._minWidth=t,i.runWidthWrap=YN(i)?UN(i):kM(i)?XN(i):kN(i),i};const WN=Phaser.GameObjects.Image;var gy=function(i,t){var n=new WN(i,0,0,"");return i.add.existing(n),n};const go=Phaser.Utils.Objects.GetValue;var fg=function(i,t,n){t=t?wi(t):{};var x=go(n,"background",Si),C=go(n,"text",zM),M=go(n,"icon",gy),h=go(n,"action",gy);if(x?t.background=x(i,t.background):delete t.background,C){var y=go(t,"wrapText",!1);y&&(y===!0&&(y="word"),nt(t,"text.wrap.mode",y),t.expandTextWidth=!0),t.text=C(i,t.text),y&&(t.text=UM(t.text))}else delete t.text;return M&&t.icon!==null?t.icon=M(i,t.icon):delete t.icon,h&&t.action!==null?t.action=h(i,t.action):delete t.action,t};class dg extends Er{constructor(t,n,x){n=fg(t,n,x),super(t,n),this.type="rexSimpleLabel"}setActiveState(t){var n=this.childrenMap.background;return n&&n.setActiveState&&n.setActiveState(t),this}setHoverState(t){var n=this.childrenMap.background;return n&&n.setHoverState&&n.setHoverState(t),this}setDisableState(t){var n=this.childrenMap.background;return n&&n.setDisableState&&n.setDisableState(t),this}}rt.register("simpleLabel",function(i,t){var n=new dg(this.scene,i,t);return this.scene.add.existing(n),n});nt(window,"RexPlugins.UI.SimpleLabel",dg);const St=Phaser.Utils.Objects.GetValue;var HN=function(i){var t=this.scene,n=St(i,"orientation",0);this.setOrientation(n);var x=St(i,"icon",void 0),C=St(i,"iconMask",void 0),M=St(i,"innerBackground",void 0),h=St(i,"title",void 0),y=St(i,"separator",void 0),e=St(i,"text",void 0),f=St(i,"action",void 0),d=St(i,"actionMask",void 0);if(x){var v;this.orientation===0?v={right:St(i,"space.icon",0),top:St(i,"space.iconTop",0),bottom:St(i,"space.iconBottom",0)}:v={bottom:St(i,"space.icon",0),left:St(i,"space.iconLeft",0),right:St(i,"space.iconRight",0)};var s=St(i,"squareFitIcon",!1)?1:0;if(this.add(x,{proportion:0,padding:v,fitRatio:s}),C&&(C=Zi.call(this,x,x,1)),!s){var a=St(i,"iconSize",void 0);this.setIconSize(St(i,"iconWidth",a),St(i,"iconHeight",a))}}var r=new Ot(t,{orientation:1});M&&r.addBackground(M);var o=St(i,"space.separator",0);if(h){var u=St(i,"align.title","left"),v={bottom:!y&&e?o:0,left:St(i,"space.titleLeft",0),right:St(i,"space.titleRight",0)};r.add(h,{proportion:0,align:u,padding:v})}if(y){var v={top:h?o:0,bottom:e?o:0,left:St(i,"space.separatorLeft",0),right:St(i,"space.separatorRight",0)};r.add(y,{expand:!0,padding:v})}if(e){var u=St(i,"align.text","left"),v={left:St(i,"space.textLeft",0),right:St(i,"space.textRight",0)};r.add(e,{proportion:0,align:u,padding:v})}var v=void 0;if(f&&(v={right:St(i,"space.text",0)}),this.add(r,{proportion:1,padding:v}),f){var v;this.orientation===0?v={top:St(i,"space.actionTop",0),bottom:St(i,"space.actionBottom",0)}:v={left:St(i,"space.actionLeft",0),right:St(i,"space.actionRight",0)};var s=St(i,"squareFitAction",!1)?1:0;if(this.add(f,{proportion:0,padding:v,fitRatio:s}),d&&(d=Zi.call(this,f,f,1)),!s){var l=St(i,"actionSize");this.setActionSize(St(i,"actionWidth",l),St(i,"actionHeight",l))}}this.addChildrenMap("icon",x),this.addChildrenMap("iconMask",C),this.addChildrenMap("innerSizer",r),this.addChildrenMap("innerBackground",M),this.addChildrenMap("title",h),this.addChildrenMap("separator",y),this.addChildrenMap("text",e),this.addChildrenMap("action",f),this.addChildrenMap("actionMask",d)};const Tt=Phaser.Utils.Objects.GetValue;var $N=function(i){this.setOrientation(1),this.setRTL(!1);var t=this.scene,n=Tt(i,"title",void 0),x=Tt(i,"separator",void 0),C=Tt(i,"innerBackground",void 0),M=Tt(i,"icon",void 0),h=Tt(i,"iconMask",void 0),y=Tt(i,"text",void 0),e=Tt(i,"action",void 0),f=Tt(i,"actionMask",void 0);if(n){var d=Tt(i,"align.title","left"),s={bottom:Tt(i,"space.title",0),left:Tt(i,"space.titleLeft",0),right:Tt(i,"space.titleRight",0)};this.add(n,{proportion:0,align:d,padding:s})}if(x){var a=Tt(i,"space.separator",0),s={top:n?a:0,bottom:y?a:0,left:Tt(i,"space.separatorLeft",0),right:Tt(i,"space.separatorRight",0)};this.add(x,{proportion:0,expand:!0,padding:s})}var r=Tt(i,"orientation",0),o=new Ot(t,{orientation:r,rtl:Tt(i,"rtl",!1),space:{left:Tt(i,"space.innerLeft",0),right:Tt(i,"space.innerRight",0),top:Tt(i,"space.innerTop",0),bottom:Tt(i,"space.innerBottom",0)}});if(C&&o.addBackground(C),this.add(o,{proportion:1,expand:!0}),M){var s=void 0;o.orientation===0?s={right:Tt(i,"space.icon",0),top:Tt(i,"space.iconTop",0),bottom:Tt(i,"space.iconBottom",0)}:s={bottom:Tt(i,"space.icon",0),left:Tt(i,"space.iconLeft",0),right:Tt(i,"space.iconRight",0)};var u=Tt(i,"squareFitIcon",!1)?1:0;if(o.add(M,{proportion:0,padding:s,fitRatio:u}),h&&(h=Zi.call(this,M,M,1)),!u){var v=Tt(i,"iconSize",void 0);this.setIconSize(Tt(i,"iconWidth",v),Tt(i,"iconHeight",v))}}if(y){var d=Tt(i,"align.text","left"),l=Tt(i,"space.text",0),c=Tt(i,"expandTextWidth",!1),p=Tt(i,"expandTextHeight",!1),g,s,m;o.orientation===0?(g=c?1:0,e&&(s={right:l}),m=p):(g=p?1:0,e&&(s={bottom:l}),m=c),o.add(y,{proportion:g,expand:m,align:d,padding:s})}if(e){var s;o.orientation===0?s={top:Tt(i,"space.actionTop",0),bottom:Tt(i,"space.actionBottom",0)}:s={left:Tt(i,"space.actionLeft",0),right:Tt(i,"space.actionRight",0)};var u=Tt(i,"squareFitAction",!1)?1:0;if(o.add(e,{proportion:0,padding:s,fitRatio:u}),f&&(f=Zi.call(this,e,e,1)),!u){var T=Tt(i,"actionSize");this.setActionSize(Tt(i,"actionWidth",T),Tt(i,"actionHeight",T))}}this.addChildrenMap("title",n),this.addChildrenMap("separator",x),this.addChildrenMap("innerSizer",o),this.addChildrenMap("innerBackground",C),this.addChildrenMap("icon",M),this.addChildrenMap("iconMask",h),this.addChildrenMap("text",y),this.addChildrenMap("action",e),this.addChildrenMap("actionMask",f)};const my=Phaser.Utils.Objects.GetValue,xy=[HN,$N];class cg extends lg{constructor(t,n){super(t,n),this.type="rexTitleLabel";var x=my(n,"background",void 0);x&&this.addBackground(x);var C=my(n,"layoutMode",0),M=xy[C]||xy[0];M.call(this,n),this.addChildrenMap("background",n.background)}get title(){var t=this.childrenMap.title;return t?t.title:""}set title(t){var n=this.childrenMap.title;n&&n.setText(t)}setTitle(t){return this.title=t,this}resetDisplayContent(t){t===void 0?t={}:typeof t=="string"&&(t={text:t}),super.resetDisplayContent(t);var n=this.childrenMap.title;return n&&(t.title===void 0||(t.title?(this.show(n),this.setTitle(t.title)):this.hide(n))),this}}rt.register("titleLabel",function(i){var t=new cg(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.TitleLabel",cg);const Gt=Phaser.Utils.Objects.GetValue,KN=Phaser.Utils.Objects.IsPlainObject;var jN=function(i,t){var n=Gt(t,"background",void 0),x=Gt(t,"icon",void 0),C=Gt(t,"iconMask",void 0),M=Gt(t,"nameText",void 0),h=Gt(t,"valueText",void 0),y=Gt(t,"bar",void 0),e=Gt(t,"action",void 0),f=Gt(t,"actionMask",void 0);KN(y)&&(y=new R0(i,y),i.add.existing(y),M&&i.children.moveBelow(y,M),h&&i.children.moveBelow(y,h));var d=M||h||y;if(n&&this.addBackground(n),x){var s=void 0;this.orientation===0?(d||e)&&(s={right:Gt(t,"space.icon",0),top:Gt(t,"space.iconTop",0),bottom:Gt(t,"space.iconBottom",0)}):(d||e)&&(s={bottom:Gt(t,"space.icon",0),left:Gt(t,"space.iconLeft",0),right:Gt(t,"space.iconRight",0)}),this.add(x,{proportion:0,padding:s}),C&&(C=Zi.call(this,x,x,1))}if(d){var a=new Ot(i,{orientation:1}),r;if(M||h){if(r=new Ot(i,{orientation:0}),M){M.text===""&&M.setText(" "),M.setOrigin(0,M.originY);var s={left:Gt(t,"space.name",0)};r.add(M,{padding:s})}if(h){h.text===""&&h.setText(" "),h.setOrigin(1,h.originY),r.addSpace();var s={right:Gt(t,"space.value",0)};r.add(h,{padding:s}),this.setValueTextFormatCallback(Gt(t,"valueTextFormatCallback",ZN),Gt(t,"valueTextFormatCallbackScope",void 0))}a.add(r,{expand:!0})}if(y){var s={top:r?Gt(t,"space.bar",0):0,bottom:Gt(t,"space.barBottom",0),left:Gt(t,"space.barLeft",0),right:Gt(t,"space.barRight",0)};a.add(y,{expand:!0,padding:s})}var s=void 0;e&&(s={right:Gt(t,"space.text",0)});var o=Gt(t,"align.text","bottom");this.add(a,{proportion:1,align:o,padding:s})}if(e){var s;this.orientation===0?s={top:Gt(t,"space.actionTop",0),bottom:Gt(t,"space.actionBottom",0)}:s={left:Gt(t,"space.actionLeft",0),right:Gt(t,"space.actionRight",0)},this.add(e,{proportion:0,padding:s}),f&&(f=Zi.call(this,e,e,1))}this.addChildrenMap("background",n),this.addChildrenMap("icon",x),this.addChildrenMap("iconMask",C),this.addChildrenMap("name",M),this.addChildrenMap("value",h),this.addChildrenMap("bar",y),this.addChildrenMap("action",e),this.addChildrenMap("actionMask",f)},ZN=function(i,t,n){return i.toString()};const JN=Phaser.Math.Clamp,QN={setValueTextFormatCallback(i,t){return this.valueTextFormatCallback=i,this.valueTextFormatCallbackScope=t,this},getFormatValueText(i,t,n){i===void 0&&(i=this.value),t===void 0&&(t=this.minValue),n===void 0&&(n=this.maxValue);var x;return this.valueTextFormatCallbackScope?x=this.valueTextFormatCallback(i,t,n):x=this.valueTextFormatCallback.call(this.valueTextFormatCallbackScope,i,t,n),x},updateValueText(i,t,n){var x=this.childrenMap.value;return x&&this.valueTextFormatCallback&&(x.setText(this.getFormatValueText(i,t,n)),x.layout&&x.layout()),this},setValue(i,t,n){return i=JN(i,t,n),this.value=i,this.minValue=t,this.maxValue=n,this.updateValueText(i,t,n),this.setBarValue(i,t,n),this}};class vg extends Ot{constructor(t,n){super(t,n),this.type="rexNameValueLabel",jN.call(this,t,n)}get nameText(){var t=this.childrenMap.name;return t===void 0?"":t.text}set nameText(t){var n=this.childrenMap.name;n!==void 0&&n.setText(t)}setNameText(t){return this.nameText=t,this}get valueText(){var t=this.childrenMap.value;return t===void 0?"":t.text}set valueText(t){var n=this.childrenMap.value;n!==void 0&&n.setText(t)}setValueText(t){return this.valueText=t,this}get barValue(){var t=this.childrenMap.bar;if(t!==void 0)return t.value}set barValue(t){var n=this.childrenMap.bar;n!==void 0&&n.setValue(t)}setBarValue(t,n,x){var C=this.childrenMap.bar;return C===void 0?this:(C.setValue(t,n,x),this)}easeBarValueTo(t,n,x){var C=this.childrenMap.bar;return C===void 0?this:(C.easeValueTo(t,n,x),this)}setTexture(t,n){var x=this.childrenMap.icon;if(x!==void 0)return x.setTexture(t,n),this}get texture(){var t=this.childrenMap.icon;if(t!==void 0)return t.texture}get frame(){var t=this.childrenMap.icon;if(t!==void 0)return t.frame}runLayout(t,n,x){if(this.ignoreLayout)return this;super.runLayout(t,n,x);var C=this.childrenMap.iconMask;C&&(C.setPosition(),this.resetChildPositionState(C));var M=this.childrenMap.actionMask;return M&&(M.setPosition(),this.resetChildPositionState(M)),this}resize(t,n){super.resize(t,n);var x=this.childrenMap.iconMask;x&&x.resize();var C=this.childrenMap.actionMask;return C&&C.resize(),this}}Object.assign(vg.prototype,QN);rt.register("nameValueLabel",function(i){var t=new vg(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.NameValueLabel",vg);const El=Ot.prototype.add,yy=Ot.prototype.addSpace;var mc=function(i){var t=!i.isRexSpace,n=!t||this.buttonsExpand?1:0;if(this.sizerChildren.length===0)if(t){var x=!this.buttonsExpand&&(this.buttonsAlign==="right"||this.buttonsAlign==="center"||this.buttonsAlign==="bottom");x&&yy.call(this),El.call(this,i,{proportion:n,expand:!0});var C=!this.buttonsExpand&&this.buttonsAlign==="center";C&&yy.call(this),this.hasTailSpace=C}else El.call(this,i,{proportion:n,expand:!0}),this.hasTailSpace=!1;else if(this.hasTailSpace){var M=this.sizerChildren.length-1;El.call(this,i,{index:M,proportion:n,expand:!0})}else El.call(this,i,{proportion:n,expand:!0});return t&&this.buttonGroup.add(i),this};const qN={addButton(i){if(Ki(i))for(var t=i,n=0,x=t.length;n<x;n++)mc.call(this,t[n]);else mc.call(this,i);return this},addButtons(i){for(var t=0,n=i.length;t<n;t++)mc.call(this,i[t]);return this}},_N=Ot.prototype.remove,tV=Ot.prototype.clear;var xc=function(i,t){return this.getParentSizer(i)!==this?this:(this.buttonGroup.remove(i),_N.call(this,i,t),this)};const eV={remove(i,t){if(Ki(i))for(var n=i,x=0,C=n.length;x<C;x++)xc.call(this,n[x],t);else xc.call(this,i,t);return this},clear(i){var t=this.buttonGroup.buttons;return t.length=0,tV.call(this,i),this},removeButton(n,t){var n=this.getButton(n);return n?(this.remove(n,t),this):this},clearButtons(i){for(var t=this.buttonGroup.buttons,n=t.length-1;n>=0;n--)xc.call(this,t[n],i);return this}};var iV=function(i,t,n){if(i){var x=this.setValueCallback,C=this.setValueCallbackScope;x&&(C?x.call(C,i,t,n):x(i,t,n)),this.fireEvent("button.statechange",i,t,n)}},sV=function(i){var t=this;i._selected=void 0,Object.defineProperty(i,"selected",{get:function(){return i._selected},set:function(n){if(i._selected!==n){var x=i._selected;i._selected=n,iV.call(t,i,n,x)}},enumerable:!0,configurable:!0}),i.selected=!1};const nV={add(i){return this.buttons.push(i),i._click||(i._click=new On(i,this.clickConfig),i._click.on("click",function(t,n,x,C){this.fireEvent("button.click",n,x,C)},this).on("enable",function(t,n){this.fireEvent("button.enable",n)},this).on("disable",function(t,n){this.fireEvent("button.disable",n)},this),i.on("pointerover",function(t,n,x,C){this.fireEvent("button.over",i,t,C)},this).on("pointerout",function(t,n){this.fireEvent("button.out",i,t,n)},this)),this.buttonsType&&(i.name===void 0&&console.error(`${this.parent.constructor.name}: Option button miss value`),sV.call(this,i)),this},addMultiple(i){for(var t=0,n=i.length;t<n;t++)this.add(i[t]);return this}},rV=Phaser.Utils.Array.Remove,aV={remove(i){return this.buttonsType&&delete i.selected,rV(this.buttons,i),this},clear(){if(this.buttonsType)for(var i=this.buttons,t=0,n=i.length;t<n;t++)delete i[t].selected;return this.buttons.length=0,this}};var oV=function(i,t,...n){var x;if(typeof t=="number"){if(x=t,t=this.buttons[x],!t)return}else if(x=this.buttons.indexOf(t),x===-1)return;this.eventEmitter!==this.parent&&this.parent.emit(i,t,x,...n),this.groupName!==void 0?this.eventEmitter.emit(i,t,this.groupName,x,...n):this.eventEmitter.emit(i,t,x,...n)};const mo=Phaser.Utils.Objects.GetValue,hV={setButtonsType(i){i===void 0&&(i={});var t=mo(i,"buttonsType",i.type);if(this.buttonsType=t,!this.buttonsType)return this;var n,x;switch(n=mo(i,"setValueCallback",void 0),x=mo(i,"setValueCallbackScope",void 0),n===void 0&&(n=mo(i,"setButtonStateCallback",void 0),x=mo(i,"setButtonStateCallbackScope",void 0)),this.setValueCallback=n,this.setValueCallbackScope=x,t){case"radio":this.setRadioType();break;case"checkboxes":this.setCheckboxesType();break}return this},setRadioType(){var i=this.parent,t=this.buttons;i._value=void 0;var n=void 0;return Object.defineProperty(i,"value",{get:function(){return i._value},set:function(x){if(i._value!==x){i._value=x;for(var C=0,M=t.length;C<M;C++){var h=t[C];h.rexSizer.hidden||(n===void 0?h.name===x?h.selected=!0:h.selected=!1:n===C?h.selected=!0:h.selected=!1)}}},enumerable:!0,configurable:!0}),i.on("button.click",function(x){n=this.buttons.indexOf(x),i.value=x.name,n=void 0},this),this},setCheckboxesType(){var i=this.parent;return i.on("button.click",function(t){t.selected=!t.selected}),this},clearAllButtonsState(){for(var i=this.buttons,t=0,n=i.length;t<n;t++){var x=i[t];x.selected=!1}return this},getAllButtonsState(){for(var i={},t=this.buttons,n=0,x=t.length;n<x;n++){var C=t[n];C.rexSizer.hidden||(i[C.name]=C.selected)}return i},setSelectedButtonName(i){return this.parent.value=i,this},getSelectedButtonName(){return this.parent.value},setButtonState(i,t){t===void 0&&(t=!0);for(var n=this.buttons,x=0,C=n.length;x<C;x++){var M=n[x];if(!M.rexSizer.hidden&&M.name===i){M.selected=t;break}}return this},getButtonState(i){for(var t=this.buttons,n=0,x=t.length;n<x;n++){var C=t[n];if(!C.rexSizer.hidden&&C.name===i)return C.selected}}};var lV=function(i,t){if(i)if(Ki(i)){for(var n,x=0,C=i.length;x<C;x++)if(n=Ty(i[x],t),n)return n}else{var n;for(var M in i)if(n=Ty(i[M],t),n)return n}else return null},Ty=function(i,t){return i?i.hasOwnProperty("name")?i.name===t?i:null:GetElementByName(i,t):null};const Of={getButton(i){var t=this.buttons,n,x=typeof i;switch(x){case"number":n=t[i];break;case"string":n=lV(t,i);break;default:n=i,t.indexOf(n)===-1&&(n=void 0);break}return n},setButtonEnable(i,t){var n=this.buttons;if(i===void 0||typeof i=="boolean"){t=i;for(var x=0,C=n.length;x<C;x++)n[x]._click.setEnable(t)}else this.getButton(i)._click.setEnable(t);return this},toggleButtonEnable(i){var t=this.buttons;if(i===void 0||typeof i=="boolean")for(var n=0,x=t.length;n<x;n++)t[n]._click.toggleEnable();else this.getButton(i)._click.toggleEnable();return this},getButtonEnable(i){return i===void 0&&(i=0),this.getButton(i)._click.enable},emitButtonClick(i){var t=this.buttonGroup?this.buttonGroup:this;return t.fireEvent("button.click",i),this},showButton(i){return nn(this.getButton(i)),this},hideButton(i){return rn(this.getButton(i)),this},isButtonShown(i){return $0(this.getButton(i)),this},forEachButtton(i,t){for(var n=this.buttons,x=0,C=n.length;x<C;x++)t?i.call(t,n[x],x,n):i(n[x],x,n);return this}};class Lf{constructor(t){this.parent=t.parent,this.eventEmitter=t.eventEmitter,this.groupName=t.groupName,this.clickConfig=t.clickConfig,this.buttonsType=void 0,this.buttons=[]}destroy(){this.parent=void 0,this.eventEmitter=void 0,this.clickConfig=void 0,this.buttons=void 0}}var uV={fireEvent:oV};Object.assign(Lf.prototype,nV,aV,hV,Of,uV);const pg={clearAllButtonsState(){return this.buttonGroup.clearAllButtonsState(),this},getAllButtonsState(){return this.buttonGroup.getAllButtonsState()},setSelectedButtonName(i){return this.buttonGroup.setSelectedButtonName(i),this},getSelectedButtonName(){return this.buttonGroup.getSelectedButtonName()},setButtonState(i,t){return this.buttonGroup.setButtonState(i,t),this},getButtonState(i){return this.buttonGroup.getButtonState(i)}},$n=Phaser.Utils.Objects.GetValue;let Ce=class extends Ot{constructor(t,n){n===void 0&&(n={});var x=n.space;typeof x=="number"&&(n.space={item:x}),super(t,n),this.type="rexButtons",this.buttonGroup=new Lf({parent:this,eventEmitter:$n(n,"eventEmitter",this),groupName:$n(n,"groupName",void 0),clickConfig:$n(n,"click",void 0)}).setButtonsType(n);var C=$n(n,"background",void 0),M=$n(n,"buttons",void 0);this.buttonsExpand=$n(n,"expand",!1),this.buttonsAlign=$n(n,"align",void 0),C&&this.addBackground(C),M&&this.addButtons(M),this.addChildrenMap("background",C),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}};Object.assign(Ce.prototype,qN,eV,Of,pg);rt.register("buttons",function(i){var t=new Ce(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.Buttons",Ce);const fV=In.prototype.add,dV={addButton(i,t,n){return fV.call(this,i,t,n,void 0,0,this.buttonsExpand),this.buttonGroup.add(i),this},addButtons(i,t){for(var n=0,x=i;n<x;n++)this.addButton(i[n],void 0,t);return this}},cV=In.prototype.remove,vV=In.prototype.clear;var yc=function(n,t){var n=this.getButton(n);return n?(this.buttonGroup.remove(n),cV.call(this,n,t),this):this};const pV={remove(i,t){if(Ki(i))for(var n=i,x=0,C=n.length;x<C;x++)yc.call(this,n[x],t);else yc.call(this,i,t);return this},clear(i){var t=this.buttonGroup.buttons;return t.length=0,vV.call(this,i),this},removeButton(i,t){return this.remove(i,t),this},clearButtons(i){for(var t=this.buttonGroup.buttons,n=t.length-1;n>=0;n--)yc.call(this,t[n],i);return this}},ss=Phaser.Utils.Objects.GetValue;class Ff extends In{constructor(t,n){n===void 0&&(n={});var x=ss(n,"row",0),C=ss(n,"column",n.col||0),M=ss(n,"createCellContainerCallback"),h=ss(n,"buttons",void 0),y=ss(n,"expand",!0),e=y?1:0;if(M&&(n.createCellContainerCallback=void 0),h!==void 0){x=Math.max(x,h.length);for(var f=0,d=h.length;f<d;f++)C=Math.max(C,h[f].length)}n.row=x,n.column=C,n.columnProportions=e,n.rowProportions=e,super(t,n),this.type="rexGridButtons",this.buttonGroup=new Lf({parent:this,eventEmitter:ss(n,"eventEmitter",this),groupName:ss(n,"groupName",void 0),clickConfig:ss(n,"click",void 0)}).setButtonsType(n);var s=ss(n,"background",void 0);if(this.buttonsExpand=y,ss(n,"space",void 0),s&&this.addBackground(s),h)for(var a,r,o=0,u=h.length;o<u;o++){a=h[o];for(var v=0,l=a.length;v<l;v++)r=a[v],r&&this.addButton(r,v,o)}else if(M)for(var c=0;c<x;c++)for(var p=0;p<C;p++){var r=M(t,p,c);r&&this.addButton(r,p,c)}this.addChildrenMap("background",s),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}}Object.assign(Ff.prototype,dV,pV,Of,pg);rt.register("gridButtons",function(i){var t=new Ff(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.GridButtons",Ff);const XM=Mr.prototype.add;var Pl=function(i){return XM.call(this,i),this.buttonGroup.add(i),this};const gV={addButton(i){if(Ki(i))for(var t=i,n=0,x=t.length;n<x;n++)Pl.call(this,t[n]);else Pl.call(this,i);return this},addButtons(i){if(Ki(i[0]))for(var t=i,n,x=0,C=t.length-1;x<=C;x++){n=t[x];for(var M=0,h=n.length;M<h;M++)Pl.call(this,n[M]);x>C&&XM.addNewLine(this)}else for(var M=0,h=i.length;M<h;M++)Pl.call(this,i[M]);return this}},mV=Mr.prototype.remove,xV=Mr.prototype.clear;var Tc=function(n,t){var n=this.getButton(n);return n?(this.buttonGroup.remove(n),mV.call(this,n,t),this):this};const yV={remove(i,t){if(Ki(i))for(var n=i,x=0,C=n.length;x<C;x++)Tc.call(this,n[x],t);else Tc.call(this,i,t);return this},clear(i){var t=this.buttonGroup.buttons;return t.length=0,xV.call(this,i),this},removeButton(i,t){return this.remove(i,t),this},clearButtons(i){for(var t=this.buttonGroup.buttons,n=t.length-1;n>=0;n--)Tc.call(this,t[n],i);return this}},Kr=Phaser.Utils.Objects.GetValue;class vr extends Mr{constructor(t,n){n===void 0&&(n={});var x=n.space;typeof x=="number"&&(n.space={item:x,line:x}),super(t,n),this.type="rexFixWidthButtons",this.buttonGroup=new Lf({parent:this,eventEmitter:Kr(n,"eventEmitter",this),groupName:Kr(n,"groupName",void 0),clickConfig:Kr(n,"click",void 0)}).setButtonsType(n);var C=Kr(n,"background",void 0),M=Kr(n,"buttons",void 0);this.buttonsAlign=Kr(n,"align",void 0),C&&this.addBackground(C),M&&this.addButtons(M),this.addChildrenMap("background",C),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}}Object.assign(vr.prototype,gV,yV,Of,pg);rt.register("fixWidthButtons",function(i){var t=new vr(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.FixWidthButtons",vr);const TV={setAccept(i){return this.childrenMap.fileChooser.setAccept(i),this},setMultiple(i){return this.childrenMap.fileChooser.setMultiple(i),this},loadFile(i,t,n,x,C){return this.childrenMap.fileChooser.loadFile(i,t,n,x,C),this},loadFilePromise(i,t,n,x){return this.childrenMap.fileChooser.loadFilePromise(i,t,n,x)}},Cy=Phaser.Utils.Objects.GetValue;class gg extends Er{constructor(t,n){super(t,n),this.type="rexFileSelectorButton";var x=new Af(t);t.add.existing(x),this.addBackground(x),this.addChildrenMap("fileChooser",x),this.setAccept(Cy(n,"accept","")),this.setMultiple(Cy(n,"multiple",!1)),x.on("change",function(C){var M=C.files;M.length!==0&&(M=Array.from(M),this.emit("select",M,this))},this)}get files(){return this.childrenMap.fileChooser.files}}Object.assign(gg.prototype,TV);rt.register("fileSelectorButton",function(i){var t=new gg(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.FileSelectorButton",gg);const CV={getChoice(i){var t=this.childrenMap.choicesSizer;if(t)return t.getButton(i)},getAction(i){return this.childrenMap.actionsSizer.getButton(i)},getToolbar(i){return this.childrenMap.toolbarSizer.getButton(i)},getLeftToolbar(i){return this.childrenMap.leftToolbarSizer.getButton(i)},setChoiceEnable(i,t){var n=this.childrenMap.choicesSizer;return n&&n.setButtonEnable(i,t),this},setActionEnable(i,t){return this.childrenMap.actionsSizer.setButtonEnable(i,t),this},setToolbarEnable(i,t){return this.childrenMap.toolbarSizer.setButtonEnable(i,t),this},setLeftToolbarEnable(i,t){return this.childrenMap.leftToolbarSizer.setButtonEnable(i,t),this},toggleChoiceEnable(i){var t=this.childrenMap.choicesSizer;return t&&t.toggleButtonEnable(i),this},toggleActionEnable(i){return this.childrenMap.actionsSizer.toggleButtonEnable(i),this},toggleToolbarEnable(i){return this.childrenMap.toolbarSizer.toggleButtonEnable(i),this},toggleLeftToolbarEnable(i){return this.childrenMap.leftToolbarSizer.toggleButtonEnable(i),this},getChoiceEnable(i){var t=this.childrenMap.choicesSizer;return t?t.getButtonEnable(i):!1},getActionEnable(i){return this.childrenMap.actionsSizer.getButtonEnable(i)},getToolbarEnable(i){return this.childrenMap.toolbarSizer.getButtonEnable(i)},getLeftToolbarEnable(i){return this.childrenMap.leftToolbarSizer.getButtonEnable(i)},emitChoiceClick(i){var t=this.childrenMap.choicesSizer;return t&&t.emitButtonClick(i),this},emitActionClick(i){return this.childrenMap.actionsSizer.emitButtonClick(i),this},emitToolbarClick(i){return this.childrenMap.toolbarSizer.emitButtonClick(i),this},emitLeftToolbarClick(i){return this.childrenMap.leftToolbarSizer.emitButtonClick(i),this},showChoice(i){var t=this.childrenMap.choicesSizer;return t&&t.showButton(i),this},showAction(i){return this.childrenMap.actionsSizer.showButton(i),this},showToolbar(i){return this.childrenMap.toolbarSizer.showButton(i),this},showLeftToolbar(i){return this.childrenMap.leftToolbarSizer.showButton(i),this},hideChoice(i){var t=this.childrenMap.choicesSizer;return t&&t.hideButton(i),this},hideAction(i){return this.childrenMap.actionsSizer.hideButton(i),this},hideToolbar(i){return this.childrenMap.toolbarSizer.hideButton(i),this},hideLeftToolbar(i){return this.childrenMap.leftToolbarSizer.hideButton(i),this},addChoice(i){var t=this.childrenMap.choicesSizer;return t&&t.addButton(i),this},addAction(i){return this.childrenMap.actionsSizer.addButton(i),this},addToolbar(i){return this.childrenMap.toolbarSizer.addButton(i),this},addLeftToolbar(i){return this.childrenMap.leftToolbarSizer.addButton(i),this},removeChoice(i,t){var n=this.childrenMap.choicesSizer;return n&&n.removeButton(i,t),this},removeAction(i,t){return this.childrenMap.actionsSizer.removeButton(i,t),this},removeToolbar(i,t){return this.childrenMap.toolbarSizer.removeButton(i,t),this},removeLeftToolbar(i,t){return this.childrenMap.leftToolbarSizer.removeButton(i,t),this},clearChoices(i){var t=this.childrenMap.choicesSizer;return t&&t.clearButtons(i),this},clearActions(i){return this.childrenMap.actionsSizer.clearButtons(i),this},clearToolbar(i){return this.childrenMap.toolbarSizer.clearButtons(i),this},clearLeftToolbar(i){return this.childrenMap.leftToolbarSizer.clearButtons(i),this},forEachChoice(i,t){var n=this.childrenMap.choicesSizer;return n&&n.forEachButtton(i,t),this},forEachAction(i,t){return this.childrenMap.actionsSizer.forEachButtton(i,t),this},forEachToolbar(i,t){return this.childrenMap.toolbarSizer.forEachButtton(i,t),this},forEachLeftToolbar(i,t){return this.childrenMap.leftToolbarSizer.forEachButtton(i,t),this},setAllButtonsEnable(i){return i===void 0&&(i=!0),this.childrenMap.toolbarSizer&&this.setToolbarEnable(i),this.childrenMap.leftToolbarSizer&&this.setLeftToolbarEnable(i),this.childrenMap.actionsSizer&&this.setActionEnable(i),this.childrenMap.choicesSizer&&this.setChoiceEnable(i),this},getChoicesButtonStates(){var i=this.childrenMap.choicesSizer;return i?i.getAllButtonsState():{}},getChoicesButtonState(i){var t=this.childrenMap.choicesSizer;return i===void 0?t?t.getAllButtonsState():{}:t?t.getButtonState(i):!1},setChoicesButtonState(i,t){var n=this.childrenMap.choicesSizer;return n&&n.setButtonState(i,t),this},clearChoicesButtonStates(){var i=this.childrenMap.choicesSizer;return i&&i.clearAllButtonsState(),this},getChoicesSelectedButtonName(){var i=this.childrenMap.choicesSizer;return i?i.getSelectedButtonName():""},setChoicesSelectedButtonName(i){var t=this.childrenMap.choicesSizer;return t&&t.setSelectedButtonName(i),this}},SV={onCreateModalBehavior(i){i.on("button.click",function(t,n,x,C,M){if(n==="actions"){var h={index:x,text:t.text,button:t,dialog:i};switch(i.buttonsType){case"radio":h.value=i.getChoicesSelectedButtonName();break;case"checkboxes":h.value=i.getChoicesButtonStates();break;default:h.value=void 0}i.modalClose(h)}})},modal(i,t){return i&&i.defaultBehavior===!1?this.onCreateModalBehavior=!1:delete this.onCreateModalBehavior,J0.modal.call(this,i,t),this}};var YM={};Object.assign(YM,CV,SV);const ct=Phaser.Utils.Objects.GetValue;class If extends Ot{constructor(t,n){n===void 0&&(n={}),n.orientation=1,super(t,n),this.type="rexDialog",this.eventEmitter=ct(n,"eventEmitter",this);var x=ct(n,"background",void 0),C=ct(n,"title",void 0),M=ct(n,"toolbar",void 0),h=ct(n,"toolbarBackground",void 0),y=ct(n,"leftToolbar",void 0),e=ct(n,"leftToolbarBackground",void 0),f=ct(n,"content",void 0),d=ct(n,"description",void 0),s,a=ct(n,"choices",void 0),r=ct(n,"choicesBackground",void 0),o,u=ct(n,"actions",void 0),v=ct(n,"actionsBackground",void 0),l=ct(n,"click",void 0);x&&this.addBackground(x);var c;M&&(c=new Ce(t,{groupName:"toolbar",background:h,buttons:M,orientation:0,space:{item:ct(n,"space.toolbarItem",0)},click:l,eventEmitter:this.eventEmitter}));var p;if(y&&(p=new Ce(t,{groupName:"leftToolbar",background:e,buttons:y,orientation:0,space:{item:ct(n,"space.leftToolbarItem",0)},click:l,eventEmitter:this.eventEmitter})),C||M||y){var g=!!C&&ct(n,"expand.title",!0),m=ct(n,"align.title","center"),T=C&&!g&&m==="center"||!C&&(M||y),S=!T,P;S?P=new Ot(t,{orientation:0}):P=new Li(t);var E=S?!0:{height:!0};if(p&&P.add(p,{align:"left",expand:E}),C){S&&!g&&m==="right"&&P.addSpace();var A={left:ct(n,"space.titleLeft",0),right:ct(n,"space.titleRight",0)},w=g?1:0;P.add(C,{align:m,proportion:w,expand:E,padding:A}),S&&!g&&m==="left"&&P.addSpace()}c&&(S&&!C&&P.addSpace(),P.add(c,{align:"right",expand:E}));var R=ct(n,"space.title",0),A;(f||d||a||u)&&(A={bottom:R});var w=ct(n,"proportion.title",0);this.add(P,{padding:A,proportion:w,expand:!0})}if(f){var O=ct(n,"align.content","center"),L=ct(n,"space.content",0),A={left:ct(n,"space.contentLeft",0),right:ct(n,"space.contentRight",0),bottom:d||a||u?L:0},w=ct(n,"proportion.content",0),F=ct(n,"expand.content",!0);this.add(f,{align:O,padding:A,proportion:w,expand:F})}if(d){var O=ct(n,"align.description","center"),I=ct(n,"space.description",0),A={left:ct(n,"space.descriptionLeft",0),right:ct(n,"space.descriptionRight",0),bottom:a||u?I:0},w=ct(n,"proportion.description",0),F=ct(n,"expand.description",!0);this.add(d,{align:O,padding:A,proportion:w,expand:F})}if(a){var B=ct(n,"choicesType","").split("-"),G=xo(B,"wrap")?vr:xo(B,"grid")?Ff:Ce,N=xo(B,"radio")?"radio":xo(B,"checkboxes")?"checkboxes":void 0,U={left:ct(n,"space.choicesBackgroundLeft",0),right:ct(n,"space.choicesBackgroundRight",0),top:ct(n,"space.choicesBackgroundTop",0),bottom:ct(n,"space.choicesBackgroundBottom",0)},Y=ct(n,"space.choice",0);G===Ce?U.item=Y:G===vr?(U.item=Y,U.line=ct(n,"space.choiceLine",Y)):(U.column=ct(n,"space.choiceColumn",Y),U.row=ct(n,"space.choiceRow",Y));var X={width:ct(n,"choicesWidth",void 0),height:ct(n,"choicesHeight",void 0),groupName:"choices",buttonsType:N,background:r,buttons:a,space:U,click:l,eventEmitter:this.eventEmitter,setValueCallback:ct(n,"choicesSetValueCallback",void 0),setValueCallbackScope:ct(n,"choicesSetValueCallbackScope",void 0)};G===Ce&&(X.orientation=xo(B,"x")?0:1),s=new G(t,X);var b=ct(n,"space.choices",0),A={left:ct(n,"space.choicesLeft",0),right:ct(n,"space.choicesRight",0),bottom:u?b:0},O=ct(n,"align.choices","center"),w=ct(n,"proportion.choices",0),F=ct(n,"expand.choices",!0);this.add(s,{align:O,padding:A,proportion:w,expand:F}),this.buttonsType=N}if(u){o=new Ce(t,{groupName:"actions",background:v,buttons:u,orientation:0,space:{item:ct(n,"space.action",0)},expand:ct(n,"expand.actions",!1),align:ct(n,"align.actions","center"),click:l,eventEmitter:this.eventEmitter});var A={left:ct(n,"space.actionsLeft",0),right:ct(n,"space.actionsRight",0)},w=ct(n,"proportion.action",0);this.add(o,{align:"center",padding:A,proportion:w,expand:!0})}yo(this,"click"),yo(this,"over"),yo(this,"out"),yo(this,"enable"),yo(this,"disable"),this.addChildrenMap("background",x),this.addChildrenMap("title",C),this.addChildrenMap("toolbar",M),this.addChildrenMap("leftToolbar",y),this.addChildrenMap("content",f),this.addChildrenMap("description",d),this.addChildrenMap("choices",s?s.buttons:void 0),this.addChildrenMap("actions",o?o.buttons:void 0),this.addChildrenMap("choicesSizer",s),this.addChildrenMap("actionsSizer",o),this.addChildrenMap("toolbarSizer",c),this.addChildrenMap("leftToolbarSizer",p)}}var xo=function(i,t){return i.indexOf(t)!==-1},Sy={actions:"action",choices:"choice",toolbar:"toolbar",leftToolbar:"leftToolbar"},yo=function(i,t){i.on(`button.${t}`,function(n,x,C,M,h){Sy.hasOwnProperty(x)&&i.emit(`${Sy[x]}.${t}`,n,C,M,h)})};Object.assign(If.prototype,YM);rt.register("dialog",function(i){var t=new If(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.Dialog",If);var Mi=function(i,t,n){var x=new dg(i,t,n);return i.add.existing(x),x},MV=function(i){return i===void 0&&(i={}),EV.call(this,i),PV.call(this,i),RV.call(this,i),AV.call(this,i),this},EV=function(i){var t=this.childrenMap.title;t.resetDisplayContent(i.title)},PV=function(i){var t=this.childrenMap.content;if(t.resetDisplayContent)t.resetDisplayContent(i.content);else{var n=i.content||"";t.setText(n)}},RV=function(i){var t=this.childrenMap.actions;if(t){var n=i.buttons;if(n){for(var M=this.scene,h=this.defaultActionConfig,y=this.defaultActionButtonCreator,e=0,f=n.length;e<f;e++){var d=n[e],s=t[e];s||(s=Mi(M,h,y),this.addAction(s)),s.show().resetDisplayContent(d)}this.buttonMode=n.length;for(var e=n.length,f=t.length;e<f;e++)t[e].hide()}else{var x=t[0];x&&x.resetDisplayContent(i.buttonA);var C=t[1];C&&C.resetDisplayContent(i.buttonB)}}},AV=function(i){var t=this.childrenMap.choices;if(t){var n=i.choices;n||(n=[]);for(var x=this.scene,C=this.defaultChoiceConfig,M=this.defaultActionButtonCreator,h=0,y=n.length;h<y;h++){var e=n[h];typeof e=="string"&&(e={text:e});var f=t[h];f||(f=Mi(x,C,M),this.addChoice(f)),f.show().resetDisplayContent(e);var d;e.hasOwnProperty("value")?d=e.value:d=e.text,f.setName(d)}for(var h=n.length,y=t.length;h<y;h++)t[h].hide()}},wV=function(i,t){Sn(i)&&(t=i,i=void 0),i===void 0&&(i={});var n=this.buttonMode===0;return i.hasOwnProperty("anyTouchClose")||(i.anyTouchClose=n),i.hasOwnProperty("manualClose")||(i.manualClose=!n),J0.modal.call(this,i,t),this},OV={resetDisplayContent:MV,modal:wV},LV=function(i){i.setHoverState&&i.setHoverState(!0)},FV=function(i){i.setHoverState&&i.setHoverState(!1)},IV=function(i,t,n,x){i.setActiveState&&i.setActiveState(x)},DV=function(i){i.setDisableState&&i.setDisableState(!1)},BV=function(i){i.setDisableState&&i.setDisableState(!0)},bV=function(){this.on("button.over",LV).on("button.out",FV).on("button.enable",DV).on("button.disable",BV).on("button.statechange",IV)};const WM={v:0,vertical:0,y:0,h:1,horizontal:1,x:1},GV=Phaser.Utils.Objects.GetValue;var Df=function(i,t){var n=GV(i,"scrollMode",0);return typeof n=="string"&&(n=WM[n]),n};const My=Phaser.Math.Percent;var HM=function(i,t,n){var x;return i.y===t.y?x=My(n.x,i.x,t.x):i.x===t.x&&(x=My(n.y,i.y,t.y)),x},NV=function(i,t,n){if(this.enable){Cc.x=t,Cc.y=n;var x,C;this.reverseAxis?(x=this.getEndPoint(),C=this.getStartPoint()):(x=this.getStartPoint(),C=this.getEndPoint()),this.value=HM(x,C,Cc)}},Cc={},Ey=function(i,t,n){if(this.enable&&i.isDown){Sc.x=i.worldX,Sc.y=i.worldY;var x,C;this.reverseAxis?(x=this.getEndPoint(),C=this.getStartPoint()):(x=this.getStartPoint(),C=this.getEndPoint());var M=HM(x,C,Sc);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-M)<.1?this.value=M:this.easeValueTo(M)}},Sc={},$M=function(i,t){t===void 0&&(t=VV);var n=this.childrenMap.thumb,x=n.x,C=n.y;return xh(n,this.innerLeft,this.innerTop,this.innerWidth,this.innerHeight,i),t.x=n.x,t.y=n.y,n.x=x,n.y=C,t},VV={};const zV=Phaser.Display.Align.LEFT_CENTER,kV=Phaser.Display.Align.TOP_CENTER;var UV=function(i){if(i===void 0&&(i=XV),this.childrenMap.thumb){var t=this.orientation===0?zV:kV;$M.call(this,t,i)}else this.orientation===0?(i.x=this.innerLeft+1,i.y=this.centerY):(i.x=this.centerX,i.y=this.innerTop+1);return i},XV={};const YV=Phaser.Display.Align.RIGHT_CENTER,WV=Phaser.Display.Align.BOTTOM_CENTER;var HV=function(i){if(i===void 0&&(i=$V),this.childrenMap.thumb){var t=this.orientation===0?YV:WV;$M.call(this,t,i)}else this.orientation===0?(i.x=this.innerRight-1,i.y=this.centerY):(i.x=this.centerX,i.y=this.innerBottom-1);return i},$V={};const Py=Phaser.Math.Linear;var KV=function(i,t,n,x){return x===void 0&&(x=jV),x.x=Py(t.x,n.x,i),x.y=Py(t.y,n.y,i),x},jV={},ZV=function(i){var t=this.childrenMap.thumb;if(t===void 0)return this;i===void 0&&(i=this.value);var n,x;return this.reverseAxis?(n=this.getEndPoint(),x=this.getStartPoint()):(n=this.getStartPoint(),x=this.getEndPoint()),KV(i,n,x,t),this.resetChildPositionState(t),this};const JV=Phaser.Display.Align.LEFT_CENTER,QV=Phaser.Display.Align.TOP_CENTER,qV=Phaser.Display.Align.RIGHT_CENTER,_V=Phaser.Display.Align.BOTTOM_CENTER;var tz=function(i){var t=this.childrenMap.indicator;if(t===void 0)return this;i===void 0&&(i=this.value);var n=this.reverseAxis,x,C,M=this.childrenMap.thumb;if(M)if(this.orientation===0){var h=Vt(M);if(n){var y=M.x-h*M.originX;x=this.right-y}else{var y=M.x-h*M.originX,e=y+h;x=e-this.left}}else{var f=It(M);if(n){var d=M.y-f*M.originY;C=this.bottom-d}else{var d=M.y-f*M.originY,s=d+f;C=s-this.top}}else this.orientation===0?x=this.width*i:C=this.height*i;ji(t,x,C);var a;n?a=this.orientation===0?qV:_V:a=this.orientation===0?JV:QV,sM(t,this,a),this.resetChildPositionState(t)};const bi=Phaser.Utils.Objects.GetValue,Rl=Phaser.Utils.Objects.IsPlainObject,ez=Phaser.Math.Clamp,iz=Phaser.Math.Snap.To;let Ua=class extends Cr(Ot){constructor(t,n){super(t,n),this.type="rexSlider",this.bootProgressBase(n),this.reverseAxis=bi(n,"reverseAxis",!1);var x=bi(n,"background",void 0),C=bi(n,"track",void 0),M=bi(n,"indicator",void 0),h=bi(n,"thumb",void 0);x&&(Rl(x)&&(x=Si(t,x)),this.addBackground(x)),C&&(Rl(C)&&(C=Si(t,C)),this.add(C,{proportion:1,expand:!0,minWidth:this.orientation===0?0:void 0,minHeight:this.orientation===1?0:void 0})),M&&(Rl(M)&&(M=Si(t,M)),this.pin(M)),h&&(Rl(h)&&(h=Si(t,h)),this.pin(h));var y=bi(n,"input",0);switch(typeof y=="string"&&(y=sz[y]),y){case 0:h&&(h.setInteractive(),this.scene.input.setDraggable(h),h.on("drag",NV,this).on("dragstart",function(e){this.eventEmitter.emit("inputstart",e)},this).on("dragend",function(e){this.eventEmitter.emit("inputend",e)},this));break;case 1:this.on("pointerdown",Ey,this).on("pointermove",Ey,this).on("pointerdown",function(e){this.eventEmitter.emit("inputstart",e)},this).on("pointerup",function(e){this.eventEmitter.emit("inputend",e)},this).on("pointerover",function(e){e.isDown&&this.eventEmitter.emit("inputstart",e)},this).on("pointerout",function(e){e.isDown&&this.eventEmitter.emit("inputend",e)},this).setInteractive();break}this.addChildrenMap("background",x),this.addChildrenMap("track",C),this.addChildrenMap("indicator",M),this.addChildrenMap("thumb",h),this.setEnable(bi(n,"enable",void 0)),this.setGap(bi(n,"gap",void 0)),this.setValue(bi(n,"value",0),bi(n,"min",void 0),bi(n,"max",void 0))}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t,n,x){return t&&n!==void 0&&(t=t/(x-n)),this.gap=t,this}get value(){return this._value}set value(t){this.gap!==void 0&&(t=iz(t,this.gap));var n=this._value;this._value=ez(t,0,1),n!==this._value&&(this.updateThumb(this._value),this.updateIndicator(this._value),this.eventEmitter.emit("valuechange",this._value,n,this.eventEmitter))}runLayout(t,n,x){return this.ignoreLayout?this:(super.runLayout(t,n,x),this.updateThumb(),this.updateIndicator(),this)}};const sz={pan:0,drag:0,click:1,none:-1};var nz={getStartPoint:UV,getEndPoint:HV,updateThumb:ZV,updateIndicator:tz};Object.assign(Ua.prototype,nz);const We=Phaser.Utils.Objects.GetValue;class mg extends Ot{constructor(t,n){super(t,n),this.type="rexScrollBar";var x=We(n,"background",void 0),C=We(n,"buttons",void 0),M=We(C,"top",We(C,"left",void 0)),h=We(C,"bottom",We(C,"right",void 0)),y,e=We(n,"slider",void 0);if(x&&this.addBackground(x),M){this.add(M);var f=new Ia(M);f.on("intouch",function(){if(this.enable){var v=y.reverseAxis?this.scrollStep:-this.scrollStep;this.value+=v}},this)}if(e){e.orientation=this.orientation,e.eventEmitter=this,e.value=null;var d;if(this.orientation===0){var s=We(e,"width",void 0);d=s===void 0?1:0}else{var a=We(e,"height",void 0);d=a===void 0?1:0}y=new Ua(t,e),t.add.existing(y),this.add(y,{proportion:d})}if(h){this.add(h);var f=new Ia(h);f.on("intouch",function(){if(this.enable){var l=y.reverseAxis?-this.scrollStep:this.scrollStep;this.value+=l}},this)}var r=[M,h];this.addChildrenMap("background",x),this.addChildrenMap("slider",y),this.addChildrenMap("buttons",r);var o=We(n,"valuechangeCallback",null);if(o!==null){var u=We(n,"valuechangeCallbackScope",void 0);this.on("valuechange",o,u)}this.setEnable(We(n,"enable",void 0)),this.setValue(We(n,"value",0)),this.setScrollStep(We(C,"step",.01))}setScrollStep(t){return this.scrollStep=t,this}get enable(){return this.childrenMap.slider?this.childrenMap.slider.enable:!1}set enable(t){this.childrenMap.slider&&this.childrenMap.slider.setEnable(t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}setValue(t,n,x){return this.childrenMap.slider&&this.childrenMap.slider.setValue(t,n,x),this}addValue(t,n,x){return this.childrenMap.slider&&this.childrenMap.slider.addValue(t,n,x),this}getValue(t,n){return this.childrenMap.slider?this.childrenMap.slider.getValue(t,n):0}easeValueTo(t,n,x){return this.childrenMap.slider&&this.childrenMap.slider.easeValueTo(t,n,x),this}stopEaseValue(){return this.childrenMap.slider&&this.childrenMap.slider.stopEaseValue(),this}setEaseValueDuration(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueDuration(t),this}setEaseValueFunction(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueFunction(t),this}}class rz extends mg{constructor(t,n){n===void 0&&(n={});var x=dr(n);n={slider:x},n.orientation=x.orientation,delete x.orientation,n.background=x.background,delete x.background,n.buttons=x.buttons,delete x.buttons,super(t,n);var C=this.childrenMap.slider;this.addChildrenMap("track",C.childrenMap.track),this.addChildrenMap("indicator",C.childrenMap.indicator),this.addChildrenMap("thumb",C.childrenMap.thumb)}}class az extends Us{constructor(t,n){super(n),this.parent=t,this.init()}init(){this.start("IDLE")}next_IDLE(){var t,n=this.parent,x=n.dragState;return x.isDown&&(t=n.dragThreshold===0?"DRAG":"DRAGBEGIN"),t}update_IDLE(t,n){this.next()}next_DRAGBEGIN(){var t,n=this.parent,x=n.dragState;return x.isDown?t=x.pointer.getDistance()>=n.dragThreshold?"DRAG":"DRAGBEGIN":t="IDLE",t}update_DRAGBEGIN(t,n){this.next()}next_DRAG(){var t,n=this.parent,x=n.dragState;return x.isUp&&(n.outOfBounds?t="BACK":n.slidingEnable?t="SLIDE":t="IDLE"),t}update_DRAG(t,n){var x=this.parent,C=x.dragState;C.justMoved&&x.dragging(),this.next()}enter_DRAG(){this.parent.onDragStart()}exit_DRAG(){this.parent.onDragEnd()}next_SLIDE(){var t,n=this.parent,x=n.dragState;return x.isDown?t="DRAG":n.isSliding||(t="IDLE"),t}enter_SLIDE(){this.parent.onSliding()}exit_SLIDE(){this.parent.stop()}update_SLIDE(t,n){this.parent.sliding(t,n),this.next()}next_BACK(){var t,n=this.parent,x=n.dragState;return x.isDown?t="DRAG":n.isPullBack||(t="IDLE"),t}enter_BACK(){this.parent.onPullBack()}exit_BACK(){this.parent.stop()}update_BACK(t,n){this.parent.pullBack(t,n),this.next()}}const Al=Phaser.Utils.Objects.GetValue,oz=Phaser.Math.Distance.Between;class hz extends me{constructor(t,n){super(t,n),this._enable=void 0,t.setInteractive(Al(n,"inputConfig",void 0)),this.resetFromJSON(n),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.isInTouched=!1,this.holdStartTime=void 0,this.x=void 0,this.y=void 0,this.preX=void 0,this.preY=void 0,this.localX=void 0,this.localY=void 0,this.justMoved=!1,this.setEnable(Al(t,"enable",!0)),this.holdThreshold=Al(t,"holdThreshold",50),this.pointerOutReleaseEnable=Al(t,"pointerOutRelease",!0),this}boot(){this.parent.on("pointerdown",this.onPointIn,this),this.parent.on("pointerup",this.onPointOut,this),this.pointerOutReleaseEnable&&this.parent.on("pointerout",this.onPointOut,this),this.parent.on("pointermove",this.onPointerMove,this),this.scene.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){this._enable!==t&&(t||(this.isInTouched=!1,this.pointer=void 0),this._enable=t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setPointerOutReleaseEnable(t){return t===void 0&&(t=!0),this.pointerOutReleaseEnable=t,this}get isDown(){return this.pointer&&this.pointer.isDown}get isUp(){return!this.isDown}get dx(){return this.x-this.preX}get dy(){return this.y-this.preY}get dt(){var t=C0(this.scene);return t}get speed(){if(this.x===this.preX&&this.y===this.preY)return 0;var t=oz(this.preX,this.preY,this.x,this.y),n=t/(this.dt*.001);return n}get speedX(){return this.dx/(this.dt*.001)}get speedY(){return this.dy/(this.dt*.001)}onPointIn(t,n,x){!this.enable||!t.isDown||this.pointer!==void 0||(this.pointer=t,this.localX=n,this.localY=x)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0)}onPointerMove(t,n,x){!this.enable||!t.isDown||this.pointer!==t||(this.localX=n,this.localY=x)}preupdate(t,n){if(this.enable){var x=this.pointer;this.justMoved=!1,x&&!this.isInTouched?(this.x=x.worldX,this.y=x.worldY,this.preX=x.worldX,this.preY=x.worldY,this.isInTouched=!0,this.holdStartTime=void 0,this.emit("touchstart",x,this.localX,this.localY)):x&&this.isInTouched?this.x===x.x&&this.y===x.y?this.holdStartTime===void 0?this.holdStartTime=t:t-this.holdStartTime>this.holdThreshold&&(this.preX=this.x,this.preY=this.y):(this.preX=this.x,this.preY=this.y,this.x=x.worldX,this.y=x.worldY,this.holdStartTime=void 0,this.justMoved=!0,this.emit("touchmove",x,this.localX,this.localY)):!x&&this.isInTouched&&(this.isInTouched=!1,this.holdStartTime=void 0,this.emit("touchend",x))}}}const Mc=Phaser.Utils.Objects.GetValue;class lz{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){return this.setValue(Mc(t,"value",0)),this.setSpeed(Mc(t,"speed",0)),this.setAcceleration(Mc(t,"acceleration",0)),this}reset(){this.setValue(0),this.setSpeed(0),this.setAcceleration(0)}setValue(t){return this.value=t,this}setSpeed(t){return this.speed=t,this}setAcceleration(t){return this.acceleration=t,this}updateSpeed(t){return this.acceleration!==0&&(this.speed+=this.acceleration*t,this.speed<0&&(this.speed=0)),this}getDeltaValue(t){return this.updateSpeed(t),this.speed<=0?0:this.speed*t}update(t){return this.updateSpeed(t),this.speed>0&&(this.value+=this.getDeltaValue(t)),this}get isMoving(){return this.speed>0}}class uz{constructor(){this.value,this.dir,this.movement=new lz}init(t,n,x,C,M){return this.value=t,this.end=M,M!==void 0?this.dir=t<M:this.dir=n,this.movement.setSpeed(x).setAcceleration(-C),this}stop(){this.movement.reset()}update(t){var n=this.movement.getDeltaValue(t);return this.dir||(n=-n),this.end===void 0?this.value+=n:n===0?this.value=this.end:(this.value+=n,this.dir?this.value>this.end&&(this.value=this.end):this.value<this.end&&(this.value=this.end)),this}get isMoving(){return this.movement.isMoving}}const ee=Phaser.Utils.Objects.GetValue,fz=Phaser.Math.Clamp;class dz extends me{constructor(t,n){super(t,n);var x=ee(n,"enable",!0);this._state=new az(this,{enable:x,eventEmitter:!1});var C={inputConfig:ee(n,"inputConfig",void 0),enable:x,pointerOutRelease:ee(n,"pointerOutRelease",!0),eventEmitter:!1};this.dragState=new hz(t,C),this._enable=void 0,this._value=void 0,this._slowDown=new uz;var M=ee(n,"valuechangeCallback",null);if(M!==null){var h=ee(n,"valuechangeCallbackScope",void 0);this.on("valuechange",M,h)}if(M=ee(n,"overmaxCallback",null),M!==null){var h=ee(n,"overmaxCallbackScope",void 0);this.on("overmax",M,h)}if(M=ee(n,"overminCallback",null),M!==null){var h=ee(n,"overminCallbackScope",void 0);this.on("overmin",M,h)}this.resetFromJSON(n),this.boot()}resetFromJSON(t){this.setOrientationMode(ee(t,"orientation",0)),this.setDragThreshold(ee(t,"threshold",10)),this.setSlidingDeceleration(ee(t,"slidingDeceleration",5e3)),this.setBackDeceleration(ee(t,"backDeceleration",2e3));var n=ee(t,"dragRate",1);n=n*(ee(t,"dragReverse",!1)?-1:1),this.setDragRate(n);var x=ee(t,"bounds",void 0);return x?this.setBounds(x):this.setBounds(ee(t,"max",0),ee(t,"min",0)),this.setValue(ee(t,"value",this.maxValue||0)),this.setEnable(ee(t,"enable",!0)),this}boot(){this.scene.sys.events.on("preupdate",this._state.update,this._state)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this._state.update,this._state),this._state.destroy(t),this.dragState.destroy(t),this._state=void 0,this.dragState=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return this._enable=t,this._state.setEnable(t),this.dragState.setEnable(t),this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setOrientationMode(t){return typeof t=="string"&&(t=cz[t]),this.orientationMode=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setSlidingDeceleration(t){return this.slidingDeceleration=t,this}setBackDeceleration(t){return this.backDeceleration=t,this}setDragRate(t){return this.dragRate=t,this}setBounds(t,n){if(Array.isArray(t)){var x=t;t=x[0],n=x[1]}return t<n?(this.minValue=t,this.maxValue=n):(this.minValue=n,this.maxValue=t),this}get value(){return this._value}set value(t){if(t!==this._value){var n=this._value,x=this.overMax(t),C=this.overMin(t);x&&this.emit("overmax",t,n),C&&this.emit("overmin",t,n),this.backEnable||(x&&(t=this.maxValue),C&&(t=this.minValue)),this._value=t,this.emit("valuechange",t,n)}}setValue(t,n){return n===void 0&&(n=!1),n&&(t=fz(t,this.minValue,this.maxValue)),this.value=t,this}addValue(t,n){return this.setValue(this.value+t,n),this}get state(){return this._state.state}get isDragging(){return this.dragState.isInTouched}get outOfMaxBound(){return this.overMax(this.value)}get outOfMinBound(){return this.overMin(this.value)}get outOfBounds(){return this.outOfMinBound||this.outOfMaxBound}overMax(t){return this.maxValue!=null&&t>this.maxValue}overMin(t){return this.minValue!=null&&t<this.minValue}get backEnable(){return typeof this.backDeceleration=="number"}get isPullBack(){return this._slowDown.isMoving}get slidingEnable(){return typeof this.slidingDeceleration=="number"}get isSliding(){return this._slowDown.isMoving}get dragDelta(){var t;return this.orientationMode===0?t=this.dragState.dy:this.orientationMode===1?t=this.dragState.dx:t=0,t*=this.dragRate,t}get dragSpeed(){var t;return this.orientationMode===0?t=this.dragState.speedY:this.orientationMode===1?t=this.dragState.speedX:t=0,t*=this.dragRate,t}onDragStart(){this.emit("dragstart")}onDragEnd(){this.emit("dragend")}dragging(){this.value+=this.dragDelta}onSliding(){var t=this.value,n=this.dragSpeed;if(n===0){this._slowDown.stop(),this._state.next();return}var x=this.slidingDeceleration;this._slowDown.init(t,n>0,Math.abs(n),x)}sliding(t,n){n*=.001;var x=this._slowDown.update(n).value;this.overMax(x)?(this.value=this.maxValue,this._slowDown.stop()):this.overMin(x)?(this.value=this.minValue,this._slowDown.stop()):this.value=x}onPullBack(){var t=this.value,n=this.outOfMinBound?this.minValue:this.maxValue,x=Math.abs(n-t),C=this.backDeceleration,M=Math.sqrt(2*C*x);this._slowDown.init(t,void 0,M,C,n)}pullBack(t,n){n*=.001,this.value=this._slowDown.update(n).value,this._slowDown.isMoving||this._state.next()}stop(){this._slowDown.stop()}}const cz={y:0,v:0,vertical:0,x:1,h:1,horizontal:1},wl=Phaser.Utils.Objects.GetValue;class vz extends me{constructor(t,n){if(super(t,n),this.parent!==this.scene?this.focusMode=wl(n,"focus",!1):this.focusMode=!1,this.setSpeed(wl(n,"speed",.1)),this.setEnable(wl(n,"enable",!0)),!this.focusMode)this.scene.input.on("wheel",this.onSceneScroll,this);else{var t=this.parent;t.setInteractive(wl(n,"inputConfig",void 0)).on("wheel",function(C,M,h,y,e){this.enable&&this.scroll(h)},this)}}destroy(){this.focusMode||this.scene.input.off("wheel",this.onSceneScroll,this)}onSceneScroll(t,n,x,C,M,h){this.enable&&this.scroll(C)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setSpeed(t){return this.speed=t,this}scroll(t){t*=this.speed,this.emit("scroll",t,this.parent,this)}}const ie=Phaser.Utils.Objects.GetValue;var pz=function(i,t){var n=i.scene,x=Df(t),C=new Ot(n,{orientation:x}),M=ie(t,"child.gameObject",void 0),h=0,y=ie(t,"slider",void 0),e,f=0,d=ie(y,"position",0);typeof d=="string"&&(d=gz[d]);var s=d===0,a=ie(t,"scroller",!0),r,o=ie(t,"mouseWheelScroller",!1),u;if(M){var v=ie(t,"space.child",0);if(i.childMargin={},typeof v!="number"){var l=v;x===0?(h={left:ie(l,"left",0),right:ie(l,"right",0)},i.childMargin.top=ie(l,"top",0),i.childMargin.bottom=ie(l,"bottom",0)):(h={top:ie(l,"top",0),bottom:ie(l,"bottom",0)},i.childMargin.top=ie(l,"left",0),i.childMargin.bottom=ie(l,"right",0))}else y&&(x===0?h=s?{right:v}:{left:v}:h=s?{bottom:v}:{top:v}),i.childMargin.top=0,i.childMargin.bottom=0;y?(y===!0&&(y={}),y.orientation=C.orientation===0?1:0,e=new rz(n,y),f=ie(t,"space.slider",0),i.hideUnscrollableSlider=ie(y,"hideUnscrollableSlider",!1),i.adaptThumbSizeMode=ie(y,"adaptThumbSize",!1),i.minThumbSize=ie(y,"minThumbSize",void 0)):(i.adaptThumbSizeMode=!1,i.minThumbSize=void 0),a&&(a===!0&&(a={}),a.orientation=x,r=new dz(M,a)),o&&(u=new vz(M,o)),e&&!s&&C.add(e,{proportion:0,align:"center",padding:f,expand:!0});var c=ie(t,"child.proportion",1),p=ie(t,"child.expand",!0);C.add(M,{proportion:c,align:"center",padding:h,expand:p}),e&&s&&C.add(e,{proportion:0,align:"center",padding:f,expand:!0})}return e&&e.on("valuechange",function(g){i.t=g,i.emit("scroll",i)}),r&&r.on("valuechange",function(g){i.childOY=g,i.emit("scroll",i)}),u&&u.on("scroll",function(g){i.addChildOY(-g,!0)}),i.addChildrenMap("child",M),i.addChildrenMap("slider",e),i.addChildrenMap("scroller",r),i.addChildrenMap("mouseWheelScroller",u),C},gz={right:0,left:1,bottom:0,top:1},mz=function(){var i=this.topChildOY,t=this.bottomChildOY,n=this.childrenMap.scroller,x=this.childrenMap.slider;return n&&n.setBounds(t,i),x&&x.setEnable(t!==i),this.updateController(),x&&(this.hideUnscrollableSlider&&this.setChildVisible(x,this.isOverflow),this.adaptThumbSizeMode&&xz.call(this)),this},xz=function(){var i=Math.min(this.childVisibleHeight/this.childHeight,1),t=this.childrenMap.slider,n=t.childrenMap.track,x=t.childrenMap.thumb,C=this.minThumbSize;if(this.scrollMode===0){var M=n.displayHeight*i;C!==void 0&&M<C&&(M=C),ji(x,void 0,M)}else{var h=n.displayWidth*i;C!==void 0&&h<C&&(h=C),ji(x,h,void 0)}yz.call(this)},yz=function(){var i=this.childrenMap.slider,t=i.minWidth,n=i.minHeight;i.minWidth=i.width,i.minHeight=i.height,i.layout(),i.minWidth=t,i.minHeight=n},Tz=function(){var i=this.childrenMap.scroller,t=this.childrenMap.slider;i&&i.setValue(this.childOY),t&&t.setValue(this.t)};const ns=Phaser.Utils.Objects.GetValue,Ry=Phaser.Math.Clamp;class Bf extends Ot{constructor(t,n){n===void 0&&(n={});var x=Df(n);n.orientation=x===0?1:0,super(t,n),this.type=ns(n,"type","rexScrollable");var C=ns(n,"background",void 0),M=pz(this,n),h=ns(n,"header",void 0),y=ns(n,"footer",void 0);if(C&&this.addBackground(C),h){var e=ns(n,"align.header","center"),f=ns(n,"space.header",0),d;x===0?d={bottom:f}:d={right:f};var s=ns(n,"expand.header",!0);this.add(h,{proportion:0,align:e,padding:d,expand:s})}if(M&&this.add(M,{proportion:1,align:"center",padding:0,expand:!0}),y){var e=ns(n,"align.footer","center"),a=ns(n,"space.footer",0),d;x===0?d={top:a}:d={left:a};var s=ns(n,"expand.footer",!0);this.add(y,{proportion:0,align:e,padding:d,expand:s})}this.addChildrenMap("background",C),this.addChildrenMap("header",h),this.addChildrenMap("footer",y),this.runLayoutFlag=!1}runLayout(t,n,x){return this.ignoreLayout?this:(super.runLayout(t,n,x),this.resizeController(),this.runLayoutFlag||(this.runLayoutFlag=!0,this.setT(0)),this)}set t(t){var n=this.childMargin;if(n.top!==0||n.bottom!==0){var x=this.childrenMap.child,C=x.topChildOY-x.bottomChildOY,M=C+n.top+n.bottom,h=M*t-n.top;t=h/C}this.childrenMap.child.t=t,this.updateController()}get t(){var t=this.childrenMap.child.t,n=this.childMargin;if(n.top!==0||n.bottom!==0){var x=this.childrenMap.child,C=x.topChildOY-x.bottomChildOY,M=C+n.top+n.bottom,h=C*t+n.top;t=h/M}return t}set childOY(t){this.childrenMap.child.childOY=t,this.updateController()}get childOY(){return this.childrenMap.child.childOY}get topChildOY(){return this.childrenMap.child.topChildOY+this.childMargin.top}get bottomChildOY(){return this.childrenMap.child.bottomChildOY-this.childMargin.bottom}get childVisibleHeight(){return this.childrenMap.child.childVisibleHeight}get childHeight(){return this.childrenMap.child.childHeight}get isOverflow(){var t=this.childrenMap.child;return t.topChildOY!==t.bottomChildOY}get scrollMode(){return this.orientation===0?1:0}setChildOY(t,n){return n===void 0&&(n=!1),n&&(t=Ry(t,this.bottomChildOY,this.topChildOY)),this.childOY=t,this}addChildOY(t,n){return this.setChildOY(this.childOY+t,n),this}setT(t,n){return n===void 0&&(n=!1),n&&(t=Ry(t,0,1)),this.t=t,this}addT(t,n){return this.setT(this.t+t,n),this}scrollToTop(){return this.t=0,this}scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this}get sliderEnable(){var t=this.childrenMap.slider;return t?t.enable:!1}set sliderEnable(t){var n=this.childrenMap.slider;n&&n.setEnable(t)}setSliderEnable(t){return t===void 0&&(t=!0),this.sliderEnable=t,this}get scrollerEnable(){var t=this.childrenMap.scroller;return t?t.enable:!1}set scrollerEnable(t){var n=this.childrenMap.scroller;n&&n.setEnable(t)}setScrollerEnable(t){return t===void 0&&(t=!0),this.scrollerEnable=t,this}get mouseWheelScrollerEnable(){var t=this.childrenMap.mouseWheelScroller;return t?t.enable:!1}set mouseWheelScrollerEnable(t){var n=this.childrenMap.mouseWheelScrollerEnable;n&&n.setEnable(t)}setMouseWheelScrollerEnable(t){return t===void 0&&(t=!0),this.mouseWheelScrollerEnable=t,this}setDropZoneEnable(t){t===void 0&&(t=!0);var n=this.childrenMap.child;return n.setInteractive(),n.input.dropZone=t,this}}var Cz={resizeController:mz,updateController:Tz};Object.assign(Bf.prototype,Cz);const Qe=0,hi=1,li=2;var Xa=function(i){var t;return kM(i)?t=li:ug(i)?t=Qe:t=hi,t},xg=function(i,t,n){var x=Xa(i);switch(x){case Qe:n=i.getWrappedText(t);break;case hi:n=i.getPenManager(t,n);break;case li:i.maxWidth>0?n=i.setText(t).getTextBounds().wrappedText.split(`
`):n=t.split(`
`);break}return n},Sz=function(i){return i!==void 0&&(this.text=i),this.lines=xg(this.textObject,this.text,this.lines),this.linesCount=this.lines.length,this._textHeight=void 0,this._textVisibleHeight=void 0,this.updateTextObject(),this},KM=function(i){return(i-this.textLineSpacing)/(this.textLineHeight+this.textLineSpacing)},jM=function(i){return i*(this.textLineHeight+this.textLineSpacing)-this.textLineSpacing},Mz=function(i){var t=i+this.visibleLinesCount+1,n;switch(this.textObjectType){case Qe:n=this.lines.slice(i,t).join(`
`);break;case hi:var x=this.lines.getLineStartIndex(i),C=this.lines.getLineEndIndex(t-1);n=this.lines.getSliceTagText(x,C,!0);break;case li:n=this.lines.slice(i,t).join(`
`);break}return n},yg=function(i,t){var n=Xa(i);switch(n){case Qe:var M=i.style,x=M.wordWrapWidth,C=M.wordWrapCallback;M.wordWrapWidth=0,M.wordWrapCallback=void 0,i.setText(t),M.wordWrapWidth=x,M.wordWrapCallback=C;break;case hi:var M=i.style,h=M.wrapMode;M.wrapMode=0,i.setText(t),M.wrapMode=h;break;case li:var y=i._maxWidth;i._maxWidth=0,i.setText(t),i._maxWidth=y;break}},ZM=function(){var i=this.textObject.rexSizer;this.textObject.y+=i.offsetY-i.preOffsetY,i.preOffsetY=i.offsetY,this.resetChildPositionState(this.textObject),this.textCropEnable&&Ez.call(this)},Ez=function(){if(this.textObject.setCrop){var i=this.textObject.rexSizer.offsetY,t,n;i<=0?(t=-i,n=this.height):(t=0,n=this.height-i),this.textObject.setCrop(0,t,this.width,n)}},Pz=function(){var i=Math.max(Math.floor(KM.call(this,-this.textOY)),0),t=jM.call(this,i)+this.textOY,n=Mz.call(this,i);return yg(this.textObject,n),this.textObject.rexSizer.offsetY=t,ZM.call(this),this},Rz=function(){return this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,Sh.call(this),this},Az=function(i,t,n){if(n+=this.textLineHeight+this.textLineSpacing,!(this.textObjectWidth===t&&this._textObjectRealHeight===n)){switch(this.textObjectWidth=t,this._textObjectRealHeight=n,this.textObjectType){case Qe:case hi:i.setFixedSize(t,n);var x=i.style,C=Math.max(t,0);this.textObjectType===Qe?x.wordWrapWidth=C:(x.wrapMode===0&&(x.wrapMode=1),x.wrapWidth=C);break;case li:i.setMaxWidth(t);break}this.setText()}},wz=function(){var i,t,n,x=this.left,C=this.top,M,h,y,e;i=this.textObject,i.rexSizer.hidden||(t=i.rexSizer,n=t.padding,M=x+n.left,h=C+n.top,y=this.width-n.left-n.right,e=this.height-n.top-n.bottom,Az.call(this,i,y,e),xh(i,M,h,y,e,t.align),t.preOffsetY=0,ZM.call(this),this.textMask&&(this.textMask.setPosition().resize(),this.resetChildPositionState(this.textMask)))};const Oz={setText:Sz,updateTextObject:Pz,preLayout:Rz,layoutChildren:wz},Ay=Phaser.Utils.Objects.IsPlainObject,ii=Phaser.Utils.Objects.GetValue,Lz=Phaser.Display.Align.TOP_LEFT;class JM extends Sr{constructor(t,n,x,C,M,h){Ay(n)?(h=n,n=ii(h,"x",0),x=ii(h,"y",0),C=ii(h,"width",void 0),M=ii(h,"height",void 0)):Ay(C)&&(h=C,C=ii(h,"width",void 0),M=ii(h,"height",void 0)),super(t,n,x,C,M,h),this.type="rexTextBlock",this.textObject=void 0,this.linesCount=0,this.textMask=void 0,this.textObjectType=void 0,this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,this._textObjectRealHeight=0,this.lines=void 0,this.text=ii(h,"content",""),this._textOY=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.setClampMode(ii(h,"clamplTextOY",!0)),this.alwaysScrollable=ii(h,"alwaysScrollable",!1);var y=ii(h,"background",void 0),e=ii(h,"text",void 0);e===void 0&&(e=Fz(t)),this.textCropEnable=ii(h,"textCrop",!!e.setCrop);var f=ii(h,"textMask",!this.textCropEnable);y&&this.addBackground(y),this.add(e),this.sizerChildren=[e];var d=this.getSizerConfig(e);d.align=Lz,d.padding=ka(0),d.expand=!0,this.textObject=e,this.textObjectType=Xa(e),d.preOffsetY=0,d.offsetY=0,f&&(this.textMask=Zi.call(this,this.textObject,this)),this.addChildrenMap("background",y),this.addChildrenMap("text",e)}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(this.textObject=void 0,this.textMask=void 0,this.lines){switch(this.textObjectType){case Qe:this.lines.length=0;break;case hi:this.lines.destroy();break;case li:this.lines.length=0;break}this.lines=void 0}super.destroy(t)}}setClampMode(t){return t===void 0&&(t=!0),this.clampTextOY=t,this}get textLineHeight(){if(this._textLineHeight===void 0){var t;switch(this.textObjectType){case Qe:case hi:var n=this.textObject.style;t=n.metrics.fontSize+n.strokeThickness;break;case li:var x=this.textObject.fontSize/this.textObject.fontData.size;t=this.textObject.fontData.lineHeight*x;break}this._textLineHeight=t}return this._textLineHeight}get textLineSpacing(){if(this._textLineSpacing===void 0){var t;switch(this.textObjectType){case Qe:case hi:t=this.textObject.lineSpacing;break;case li:t=0;break}this._textLineSpacing=t}return this._textLineSpacing}get visibleLinesCount(){return this._visibleLinesCount===void 0&&(this._visibleLinesCount=Math.floor(KM.call(this,this._textObjectRealHeight))),this._visibleLinesCount}get topTextOY(){return 0}get bottomTextOY(){return-this.textVisibleHeight}get textHeight(){return this._textHeight===void 0&&(this._textHeight=jM.call(this,this.linesCount)),this._textHeight}get textObjectHeight(){return this._textObjectRealHeight-(this.textLineHeight+this.textLineSpacing)}get textVisibleHeight(){if(this._textVisibleHeight===void 0){var t=this.textHeight-this.textObjectHeight;!this.alwaysScrollable&&t<0&&(t=0),this._textVisibleHeight=t}return this._textVisibleHeight}textOYExceedTop(t){return t===void 0&&(t=this.textOY),t>this.topTextOY}textOYExeceedBottom(t){return t===void 0&&(t=this.textOY),t<this.bottomTextOY}get textOY(){return this._textOY}set textOY(t){var n=this.topTextOY,x=this.bottomTextOY,C=this.textOYExceedTop(t),M=this.textOYExeceedBottom(t);this.clampTextOY&&(this.visibleLinesCount>this.linesCount?t=0:C?t=n:M&&(t=x)),this._textOY!==t&&(this._textOY=t,this.updateTextObject()),C&&(this.execeedTopState||this.emit("execeedtop",this,t,n)),this.execeedTopState=C,M&&(this.execeedBottomState||this.emit("execeedbottom",this,t,x)),this.execeedBottomState=M}setTextOY(t){return this.textOY=t,this}set t(t){this.textOY=-this.textVisibleHeight*t}get t(){var t=this.textVisibleHeight;return t===0?0:this.textOY/-t}setTextOYByPercentage(t){return this.t=t,this}}var Fz=function(i){return i.add.text(0,0,"")};Object.assign(JM.prototype,Oz);var Iz=function(i){Object.defineProperty(i,"childOY",{configurable:!0,get:function(){return i.textOY},set:function(t){i.textOY=t}}),Object.defineProperty(i,"topChildOY",{get:function(){return i.topTextOY}}),Object.defineProperty(i,"bottomChildOY",{get:function(){return i.bottomTextOY}}),Object.defineProperty(i,"childVisibleHeight",{get:function(){return i.textObjectHeight}}),Object.defineProperty(i,"childHeight",{get:function(){return i.textHeight}})};const Dz={setText(i){var t=this.childrenMap.child;return t.setText(i),this.resizeController(),this},appendText(i){return this.setText(this.text+i),this}};Phaser.Math.Clamp;const Bz={scrollToLine(i){return this.setChildOY(-this.lineHeight*i),this},scrollToNextLine(i){i===void 0&&(i=1);var t=this.lineIndex+i;return this.scrollToLine(t),this}},Ms=Phaser.Utils.Objects.GetValue;class Rh extends Bf{constructor(t,n){n===void 0&&(n={});var x=Ms(n,"text",void 0),C=Ms(n,"textWidth",void 0),M=Ms(n,"textHeight",void 0),h=Ms(n,"textCrop",!!x.setCrop),y=Ms(n,"textMask",!h),e=Ms(n,"content",""),f=new JM(t,{width:C,height:M,text:x,textMask:y,textCrop:h&&!y,content:e,clamplTextOY:Ms(n,"clamplChildOY",!1),alwaysScrollable:Ms(n,"alwaysScrollable",!1)});t.add.existing(f);var d=C===void 0?1:0,s=M===void 0;Iz(f),n.scrollMode=0,n.type="rexTextArea",n.child={gameObject:f,proportion:d,expand:s};var a=Ms(n,"space",void 0);a&&(a.child=a.text),super(t,n),this.addChildrenMap("text",x)}get text(){return this.childrenMap.child.text}get lineHeight(){var t=this.childrenMap.child;return t.textLineHeight+t.textLineSpacing}get lineIndex(){return Math.floor(-this.childOY/this.lineHeight)}get linesCount(){return this.childrenMap.child.linesCount}get contentHeight(){return this.childrenMap.child.textHeight}}Object.assign(Rh.prototype,Dz,Bz);const Ol=Phaser.Utils.Objects.GetValue;var bz=function(i,t,n){t=t?wi(t):{};var x=Ol(n,"background",Si),C=Ol(n,"text",zM),M=Ol(n,"track",Si),h=Ol(n,"thumb",Si);x?t.background=x(i,t.background):delete t.background,C?t.text=C(i,t.text):delete t.text;var y=t.slider;y!==!1&&(y===void 0&&(y={}),M?y.track=M(i,y.track):delete y.track,h?y.thumb=h(i,y.thumb):delete y.thumb,t.slider=y);var e=new Rh(i,t);return i.add.existing(e),e};const Gz=Phaser.Utils.Objects.GetValue;var Nz=function(i,t,n){var x=Gz(t,"$type");x===void 0&&t&&(t.hasOwnProperty("slider")||t.hasOwnProperty("scroller"))&&(x="textarea");var C;switch(x){case"textarea":C=new bz(i,t,n);break;default:C=new Mi(i,t,n);break}return i.add.existing(C),C};const Vz=Phaser.Utils.Objects.GetValue;class Tg extends If{constructor(t,n,x){n=n?wi(n):{},x===void 0&&(x={});var C=Vz(x,"background",Si);C?n.background=C(t,n.background):delete n.background,n.title=Mi(t,n.title,x.title),n.content=Nz(t,n.content,x.content),n.content instanceof Rh&&us(n,"height")&&!us(n,"proportion.content")&&nt(n,"proportion.content",1);var M=n.button,h=n.buttonA||M,y=n.buttonB||M,e=n.buttonMode;e===void 0&&(e=h&&y?2:h?1:0);var f=x.button,d=x.buttonA||f,s=x.buttonB||f;switch(e){case 2:n.actions=[Mi(t,h,d),Mi(t,y,s)];break;case 1:n.actions=[Mi(t,h,d)];break;case 0:break;default:n.actions=[];break}var a=n.choice;a&&(n.choices=[]),super(t,n),this.type="rexConfirmDialog",this.buttonMode=e,this.defaultActionConfig=M,this.defaultActionButtonCreator=f,this.defaultChoiceConfig=a,this.defaultChoiceCreator=x.choice;var r=this.childrenMap.actions;this.addChildrenMap("buttonA",r?r[0]:null),this.addChildrenMap("buttonB",r?r[1]:null),bV.call(this)}}Object.assign(Tg.prototype,OV);rt.register("confirmDialog",function(i,t){var n=new Tg(this.scene,i,t);return this.scene.add.existing(n),n});nt(window,"RexPlugins.UI.ConfirmDialog",Tg);const Ll=Phaser.Utils.Objects.GetValue;var Ah=function(i,t,n){var x=Ll(i,`proportion.${t}`,n.proportion),C=Ll(i,`align.${t}`,"center"),M=Ll(i,`space.${t}`,void 0);if(typeof M=="number"&&n.paddingKey){var h=M;M={},M[n.paddingKey]=h}var y=Ll(i,`expand.${t}`,!0);return{proportion:x,align:C,padding:M,expand:y}},bf=function(i){return Ah(i,"header",{proportion:0,paddingKey:"bottom"})},Gf=function(i){return Ah(i,"leftSide",{proportion:0,paddingKey:"right"})},Nf=function(i){return Ah(i,"content",{proportion:1})},Vf=function(i){return Ah(i,"rightSide",{proportion:0,paddingKey:"left"})},zf=function(i){return Ah(i,"footer",{proportion:0,paddingKey:"top"})},Is=function(i){return{proportion:1,align:"center",padding:0,expand:!0}},Ds=function(i,t){var n=new Ot(i,{orientation:t});return i.add.existing(n),n},zz=function(i){var t=this.scene,n=i.header;n&&this.add(n,bf(i));var x=Ds(t,0);this.add(x,Is());var C=i.leftSide;C&&x.add(C,Gf(i));var M=i.content;M&&x.add(M,Nf(i));var h=i.rightSide;h&&x.add(h,Vf(i));var y=i.footer;y&&this.add(y,zf(i))},kz=function(i){var t=this.scene,n=i.header;n&&this.add(n,bf(i));var x=Ds(t,0);this.add(x,Is());var C=i.leftSide;C&&x.add(C,Gf(i));var M=Ds(t,1);x.add(M,Is());var h=Ds(t,0);M.add(h,Is());var y=i.content;y&&h.add(y,Nf(i));var e=i.rightSide;e&&h.add(e,Vf(i));var f=i.footer;f&&M.add(f,zf(i))},Uz=function(i){var t=this.scene,n=i.header;n&&this.add(n,bf(i));var x=Ds(t,0);this.add(x,Is());var C=Ds(t,1);x.add(C,Is());var M=Ds(t,0);C.add(M,Is());var h=i.leftSide;h&&M.add(h,Gf(i));var y=i.content;y&&M.add(y,Nf(i));var e=i.footer;e&&C.add(e,zf(i));var f=i.rightSide;f&&x.add(f,Vf(i))},Xz=function(i){var t=this.scene,n=i.header;n&&this.add(n,bf(i));var x=Ds(t,0);this.add(x,Is());var C=i.leftSide;C&&x.add(C,Gf(i));var M=Ds(t,1);x.add(M,Is());var h=i.content;h&&M.add(h,Nf(i));var y=i.footer;y&&M.add(y,zf(i));var e=i.rightSide;e&&x.add(e,Vf(i))};const wy=Phaser.Utils.Objects.GetValue,Oy=[zz,kz,Uz,Xz];var Yz=function(i){this.clear(!0);var t=wy(i,"background",void 0);t&&this.addBackground(t);var n=wy(i,"layoutMode",0);typeof n=="string"&&(n=Wz[n.toUpperCase()]);var x=Oy[n]||Oy[0];x.call(this,i),this.addChildrenMap("background",i.background),this.addChildrenMap("header",i.header),this.addChildrenMap("leftSide",i.leftSide),this.addChildrenMap("content",i.content),this.addChildrenMap("rightSide",i.rightSide),this.addChildrenMap("footer",i.footer)};const Wz={FFF:0,LFF:1,FFR:2,LFR:3};class Cg extends Ot{constructor(t,n){n===void 0&&(n={}),n.orientation=1,super(t,n),this.type="rexHolyGrail",this.build(n)}}var Hz={build:Yz};Object.assign(Cg.prototype,Hz);rt.register("holyGrail",function(i){var t=new Cg(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.HolyGrail",Cg);const $z={getButtonsSizer(i){return this.childrenMap[`${i}ButtonsSizer`]},getButton(i,t){var n=this.getButtonsSizer(i);return n?n.getButton(t):void 0},setButtonEnable(i,t,n){return this.getButtonsSizer(i).setButtonEnable(t,n),this},setLeftButtonEnable(i,t){return this.childrenMap.leftButtonsSizer.setButtonEnable(i,t),this},setRightButtonEnable(i,t){return this.childrenMap.rightButtonsSizer.setButtonEnable(i,t),this},setTopButtonEnable(i,t){return this.childrenMap.topButtonsSizer.setButtonEnable(i,t),this},setBottomButtonEnable(i,t){return this.childrenMap.bottomButtonsSizer.setButtonEnable(i,t),this},toggleButtonEnable(i,t){return this.getButtonsSizer(i).toggleButtonEnable(t),this},toggleLeftButtonEnable(i){return this.childrenMap.leftButtonsSizer.toggleButtonEnable(i),this},toggleRightButtonEnable(i){return this.childrenMap.rightButtonsSizer.toggleButtonEnable(i),this},toggleTopButtonEnable(i){return this.childrenMap.topButtonsSizer.toggleButtonEnable(i),this},toggleBottomButtonEnable(i){return this.childrenMap.bottomButtonsSizer.toggleButtonEnable(i),this},getButtonEnable(i,t){return this.getButtonsSizer(i).getButtonEnable(t)},getLeftButtonEnable(i){return this.childrenMap.leftButtonsSizer.getButtonEnable(i)},getRightButtonEnable(i){return this.childrenMap.rightButtonsSizer.getButtonEnable(i)},getTopButtonEnable(i){return this.childrenMap.topButtonsSizer.getButtonEnable(i)},getBottomButtonEnable(i){return this.childrenMap.bottomButtonsSizer.getButtonEnable(i)},emitButtonClick(i,t){var n=this.getButtonsSizer(i);return n?(n.emitButtonClick(t),this):this},emitLeftButtonClick(i){return this.childrenMap.leftButtonsSizer.emitButtonClick(i),this},emitRightButtonClick(i){return this.childrenMap.rightButtonsSizer.emitButtonClick(i),this},emitTopButtonClick(i){return this.childrenMap.topButtonsSizer.emitButtonClick(i),this},emitBottomButtonClick(i){return this.childrenMap.bottomButtonsSizer.emitButtonClick(i),this},getLeftButton(i){return this.childrenMap.leftButtonsSizer.getButton(i)},getRightButton(i){return this.childrenMap.rightButtonsSizer.getButton(i)},getTopButton(i){return this.childrenMap.topButtonsSizer.getButton(i)},getBottomButton(i){return this.childrenMap.bottomButtonsSizer.getButton(i)},showButton(i,t){return nn(this.getButton(i,t)),this},showLeftButton(i){return nn(this.getLeftButton(i)),this},showRightButton(i){return nn(this.getRightButton(i)),this},showTopButton(i){return nn(this.getTopButton(i)),this},showBottomButton(i){return nn(this.getBottomButton(i)),this},hideButton(i,t){return rn(this.getButton(i,t)),this},hideLeftButton(i){return rn(this.getLeftButton(i)),this},hideRightButton(i){return rn(this.getRightButton(i)),this},hideTopButton(i){return rn(this.getTopButton(i)),this},hideBottomButton(i){return rn(this.getBottomButton(i)),this},addButton(i,t){return this.getButtonsSizer(i).addButton(t),this},addLeftButton(i){return this.addButton("left",i),this},addRightButton(i){return this.addButton("right",i),this},addTopButton(i){return this.addButton("top",i),this},removeButton(i,t,n){return this.getButtonsSizer(i).removeButton(t,n),this},removeLeftButton(i,t){return this.removeButton("left",i,t),this},removeRightButton(i,t){return this.removeButton("right",i,t),this},removeTopButton(i,t){return this.removeButton("top",i,t),this},removeBottomButton(i,t){return this.removeButton("bottom",i,t),this},clearButtons(i,t){return this.getButtonsSizer(i).clearButtons(t),this},clearLeftButtons(i){return this.clearButtons("left",i),this},clearRightButtons(i){return this.clearButtons("right",i),this},clearTopButtons(i){return this.clearButtons("top",i),this},clearBottomButtonss(i){return this.clearButtons("bottom",i),this},forEachButton(i,t,n){return this.getButtonsSizer(i).forEachButtton(t,n),this},forEachLeftButton(i,t){return this.childrenMap.leftButtonsSizer.forEachButtton(i,t),this},forEachRightButton(i,t){return this.childrenMap.rightButtonsSizer.forEachButtton(i,t),this},forEachTopButton(i,t){return this.childrenMap.topButtonsSizer.forEachButtton(i,t),this},forEachBottomButton(i,t){return this.childrenMap.bottomButtonsSizer.forEachButtton(i,t),this}},Ht=Phaser.Utils.Objects.GetValue;class Sg extends In{constructor(t,n){n===void 0&&(n={}),n.column=3,n.row=3,super(t,n),this.type="rexTabs",this.eventEmitter=Ht(n,"eventEmitter",this);var x=Ht(n,"background",void 0),C=Ht(n,"panel",void 0),M=Ht(n,"leftButtons",void 0),h=Ht(n,"leftButtonsBackground",void 0),y,e=Ht(n,"rightButtons",void 0),f=Ht(n,"rightButtonsBackground",void 0),d,s=Ht(n,"topButtons",void 0),a=Ht(n,"topButtonsBackground",void 0),r,o=Ht(n,"bottomButtons",void 0),u=Ht(n,"bottomButtonsBackground",void 0),v,l=Ht(n,"click",void 0);if(x&&this.addBackground(x),C&&this.add(C,1,1,"center",0,!0),M){var c=Ht(n,"space.leftButtonsOffset",0),p=Ht(n,"space.leftButton",0);y=new Ce(t,{groupName:"left",background:h,buttons:M,orientation:1,space:{item:p},align:Ht(n,"align.leftButtons",void 0),click:l,eventEmitter:this.eventEmitter});var g={top:c};this.add(y,0,1,"top",g,!1)}if(e){var m=Ht(n,"space.rightButtonsOffset",0),T=Ht(n,"space.rightButton",0);d=new Ce(t,{groupName:"right",background:f,buttons:e,orientation:1,space:{item:T},align:Ht(n,"align.rightButtons",void 0),click:l,eventEmitter:this.eventEmitter});var g={top:m};this.add(d,2,1,"top",g,!1)}if(s){var S=Ht(n,"space.topButtonsOffset",0),P=Ht(n,"space.topButton",0);r=new Ce(t,{groupName:"top",background:a,buttons:s,orientation:0,space:{item:P},align:Ht(n,"align.topButtons",void 0),click:l,eventEmitter:this.eventEmitter});var g={left:S};this.add(r,1,0,"left",g,!1)}if(o){var E=Ht(n,"space.bottomButtonsOffset",0),R=Ht(n,"space.bottomButton",0);v=new Ce(t,{groupName:"bottom",background:u,buttons:o,orientation:0,space:{item:R},align:Ht(n,"align.bottomButtons",void 0),click:l,eventEmitter:this.eventEmitter});var g={left:E};this.add(v,1,2,"left",g,!1)}this.addChildrenMap("background",x),this.addChildrenMap("panel",C),this.addChildrenMap("leftButtons",M),this.addChildrenMap("rightButtons",e),this.addChildrenMap("topButtons",s),this.addChildrenMap("bottomButtons",o),this.addChildrenMap("leftButtonsSizer",y),this.addChildrenMap("rightButtonsSizer",d),this.addChildrenMap("topButtonsSizer",r),this.addChildrenMap("bottomButtonsSizer",v)}}Object.assign(Sg.prototype,$z);rt.register("tabs",function(i){var t=new Sg(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.Tabs",Sg);rt.register("slider",function(i){var t=new Ua(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.Slider",Ua);class QM{constructor(t,n){this.container=null,this._deltaHeight=0,this.setParent(t)}setParent(t){this.parent=t,this.parentContainer=t.getParentContainer()}destroy(t){t===void 0&&(t=!1),t||this.destroyContainer(),this.deltaHeight=0,this.data=void 0,this.container=null,this.parent=void 0,this.parentContainer=void 0}get table(){return this.parent}get scrollMode(){return this.parentContainer.scrollMode}get colIndx(){return this.parent.cellIndxeToColIndex(this.index)}get rowIndx(){return this.parent.cellIndxeToRowIndex(this.index)}getContainer(){return this.container}setContainer(t){return t?(this.container&&this.container.destroy(),this.container=t,this.parentContainer.add(t),this):(this.destroyContainer(),this)}destroyContainer(){return this.container&&(this.container.destroy(),this.container=null),this}popContainer(){if(this.container){var t=this.container;return this.container=null,this.parentContainer.remove(t),t}else return null}setXY(t,n){return this.container&&this.parentContainer.setChildLocalPosition(this.container,t,n),this}setCellContainerAlign(t){return typeof t=="string"&&(t=Ti[t]),this.cellContainerAlign=t,this}get deltaHeight(){return this._deltaHeight}set deltaHeight(t){t==null&&(t=0);var n=this.parent;this._deltaHeight===0&&t!==0?n.nonZeroDeltaHeightCount++:this._deltaHeight!==0&&t===0&&n.nonZeroDeltaHeightCount--;var x=this._deltaHeight!==t;if(this._deltaHeight=t,x){n.resetTotalRowsHeight();var C=this.scrollMode===0?"cellheightchange":"cellwidthchange";this.parentContainer.emit(C,this,this.container,this.parentContainer)}}get deltaWidth(){return this.deltaHeight}set deltaWidth(t){this.deltaHeight=t}setDeltaHeight(t){return this.deltaHeight=t,this}setDeltaWidth(t){return this.deltaHeight=t,this}get height(){return this.scrollMode===0?this.deltaHeight+this.parent.defaultCellHeight:this.parent.defaultCellWidth}set height(t){this.scrollMode!==1&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setHeight(t){return this.height=t,this}get width(){return this.scrollMode===0?this.parent.defaultCellWidth:this.deltaHeight+this.parent.defaultCellHeight}set width(t){this.scrollMode!==0&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setWidth(t){return this.width=t,this}get scene(){return this.parentContainer.scene}}Object.assign(QM.prototype,_u);const Ly=Phaser.Utils.Objects.GetValue,Kz=Phaser.Utils.Array.SpliceOne;class jz{constructor(t,n){this.parent=t,this.cells=[],this.cellPool=new fs,this.resetFromJSON(n)}resetFromJSON(t){t===void 0&&(t={}),this.colCount=void 0,this.nonZeroDeltaHeightCount=0,this.resetTotalRowsHeight();var n=t.cellHeight;n===void 0&&(n=30);var x=t.cellWidth;return x===void 0&&(x=30),this.setDefaultCellHeight(n),this.setDefaultCellWidth(x),this.initCells(Ly(t,"cellsCount",0)),this.setColumnCount(Ly(t,"columns",1)),this}destroy(t){this.cellPool.destroy(),this.cells=void 0,this.parent=void 0}get defaultCellHeightMode(){return this.nonZeroDeltaHeightCount===0}setDefaultCellHeight(t){return this.defaultCellHeight=t,this}setDefaultCellWidth(t){return this.defaultCellWidth=t,this}initCells(t){var n=this.cells;n.length=t;for(var x=0;x<t;x++)n[x]=null;return this}insertNewCells(t,n){var x=this.cells;if(t===x.length){var C=t+n;x.legth=C;for(var M=t;M<C;M++)x[M]=null}else{var h=[];h.length=n;for(var M=0;M<n;M++)h[M]=null;this.cells.splice(t,0,...h)}return this.resetTotalRowsHeight(),this}removeCells(t,n){for(var x=t+n,C=t;C<x;C++)this.freeCell(C);return x===this.cells.length?this.cells.length=t:(n===1?Kz(this.cells,t):this.cells.splice(t,n),this.buildCellIndex(t)),this.resetTotalRowsHeight(),this}setColumnCount(t){return this.colCount=t,this.resetTotalRowsHeight(),this}get rowCount(){return Math.ceil(this.cells.length/this.colCount)}get cellsCount(){return this.cells.length}isValidCellIdx(t){return t>=0&&t<this.cells.length}heightToRowIndex(t,n){if(n===void 0&&(n=0),t===0)return 0;if(this.defaultCellHeightMode){var y=t/this.defaultCellHeight;switch(n){case 0:y=Math.floor(y);break;case 1:y=Math.ceil(y);break;default:Number.isInteger(y)?y+=1:y=Math.floor(y);break}return y}for(var x=this.rowCount,C=t,M,h,y=0;;)if(h=this.getRowHeight(y),C-=h,M=y>=0&&y<x,C>0&&M)y+=1;else{if(C===0)return n===2&&(y+=1),y;if(n===1){var e=y;y+=1,M=y>=0&&y<x,M||(y=e)}return y}}widthToColIndex(t,n){if(t===0)return 0;var x=t/this.defaultCellWidth;return n?x=Math.ceil(x):x=Math.floor(x),x}colRowToCellIndex(t,n){return t>=this.colCount?null:n*this.colCount+t}rowIndexToHeight(t,n){if(this.defaultCellHeightMode)return(n-t+1)*this.defaultCellHeight;for(var x,C=0,M=t;M<=n;M++)x=this.getRowHeight(M),C+=x;return C}colIndexToWidth(t,n){return(n-t+1)*this.defaultCellWidth}getRowHeight(t){var n=this.colCount;if(n<=1)return this.getCellHeight(this.colRowToCellIndex(0,t));for(var x=0,C,M=0;M<n;M++)C=this.getCellHeight(this.colRowToCellIndex(M,t)),x<C&&(x=C);return x}getColWidth(t){return this.defaultCellWidth}getCellHeight(t){if(!this.isValidCellIdx(t))return 0;var n;if(this.defaultCellHeightMode)n=this.defaultCellHeight;else{var x=this.getCell(t,!1),C=x?x.deltaHeight:0;n=this.defaultCellHeight+C}return n}resetTotalRowsHeight(){this._totalRowsHeight=null}get totalRowsHeight(){return this._totalRowsHeight===null&&(this._totalRowsHeight=this.rowIndexToHeight(0,this.rowCount-1)),this._totalRowsHeight}get totalColumnWidth(){return this.colCount*this.defaultCellWidth}cellIndxeToColIndex(t){return t%this.colCount}cellIndxeToRowIndex(t){return Math.floor(t/this.colCount)}getCell(t,n){if(!this.isValidCellIdx(t))return null;if(n===void 0&&(n=!0),this.cells[t]===null&&n){var x=this.newCell(t);this.cells[t]=x}return this.cells[t]}newCell(t){var n=this.cellPool.pop();return n===null?n=new QM(this):n.setParent(this),n.index=t,n}buildCellIndex(t){t===void 0&&(t=0);for(var n=this.cells,x,C=t,M=n.length;C<M;C++)x=n[C],x&&(x.index=C);return this}getParentContainer(){return this.parent}freeCell(t){return typeof t=="number"&&(t=this.cells[t]),t?(t.destroy(),this.cellPool.push(t),this):this}}var Zz=function(i){var t=this.table,n=this.topTableOY,x=this.bottomTableOY,C=i>this.topTableOY,M=i<this.bottomTableOY;if(this.clampTableOXY){var h=t.rowCount,y=t.heightToRowIndex(this.instHeight,1);h<y?i=0:C?i=n:M&&(i=x)}return this._tableOY!==i&&(this._tableOY=i),C&&(this.execeedTopState||this.emit("execeedtop",this,i,n)),this.execeedTopState=C,M&&(this.execeedBottomState||this.emit("execeedbottom",this,i,x)),this.execeedBottomState=M,this},Jz=function(i){var t=this.table,n=this.leftTableOX,x=this.rightTableOX,C=i>this.leftTableOX,M=i<this.rightTableOX;if(this.clampTableOXY){var h=t.colCount,y=t.widthToColIndex(this.instWidth,!0);h<y?i=0:C?i=n:M&&(i=x)}return this._tableOX!==i&&(this._tableOX=i),C&&(this.execeedLeftState||this.emit("execeedleft",this,i,n)),this.execeedLeftState=C,M&&(this.execeedRightState||this.emit("execeedright",this,i,x)),this.execeedRightState=M,this},Mg=function(i){return i.hasOwnProperty("geometryMask")?i.geometryMask:i.bitmapMask};const Qz=Phaser.Geom.Intersects.RectangleToRectangle,qz=Phaser.Geom.Rectangle.Overlaps;var _z=function(i,t,n){if(t){n===void 0&&(n=i.getAllChildren());for(var x=i.getBounds(),C=Mg(t),M,h,y,e=0,f=n.length;e<f;e++)if(M=n[e],!M.hasOwnProperty("isRexContainerLite")&&M!==C&&tk(M))if(M.getBounds)switch(h=M.getBounds(h),y=ek(x,h),y){case 4:ik(i,M);break;case 0:Qz(x,h)||qz(x,h)?Ec(i,M,t):sk(i,M);break;default:Ec(i,M,t);break}else Ec(i,M,t)}},tk=function(i){if(!i.displayList)return!1;for(;;){var t=i.rexContainer;if(t)if(t.visible){var n=t.parent;if(n){i=n;continue}else return!0}else return!1;else return i.visible}},ek=function(i,t){var n=0,x=t.top,C=t.bottom,M=t.left,h=t.right;return n+=i.contains(M,x)?1:0,n+=i.contains(M,C)?1:0,n+=i.contains(h,x)?1:0,n+=i.contains(h,C)?1:0,n},ik=function(i,t,n){i.setChildMaskVisible(t,!0),t.clearMask&&t.clearMask()},Ec=function(i,t,n){i.setChildMaskVisible(t,!0),t.setMask&&t.setMask(n)},sk=function(i,t,n){i.setChildMaskVisible(t,!1),t.clearMask&&t.clearMask()};const Pc=Phaser.Utils.Objects.GetValue,nk={update:0,everyTick:1},qM={setupChildrenMask(i){return i===!1?this:(this.setMaskUpdateMode(Pc(i,"updateMode",0)),this.enableChildrenMask(Pc(i,"padding",0)),this.setMaskLayer(Pc(i,"layer",void 0)),this.startMaskUpdate(),this)},destroyChildrenMask(){return this.childrenMask?(this.stopMaskUpdate(),this.childrenMask.destroy(),this.childrenMask=void 0,this):this},setMaskUpdateMode(i){return typeof i=="string"&&(i=nk[i]),this.maskUpdateMode=i,this},startMaskUpdate(){this.scene.game.events.on("poststep",this.maskChildren,this)},stopMaskUpdate(){this.scene.game.events.off("poststep",this.maskChildren,this)},enableChildrenMask(i){var t=Zi.call(this,null,this,0,i);return this.childrenMask=t.createGeometryMask(),this},setMaskChildrenFlag(i){return i===void 0&&(i=!0),this.maskChildrenFlag=i,this},setMaskLayer(i){return this.maskLayer=i,this},maskChildren(){return!this.childrenMask||!this.maskChildrenFlag||this.alpha===0||!this.visible?this:(this.privateRenderLayer?this.privateRenderLayer.setMask(this.childrenMask):this.maskLayer?(this.addToLayer(this.maskLayer),this.maskLayer.setMask(this.childrenMask)):_z(this,this.childrenMask),this.maskUpdateMode===0&&(this.maskChildrenFlag=!1),this)},layoutChildrenMask(){if(!this.childrenMask)return this;var i=Mg(this.childrenMask);return i.setPosition().resize(),this.resetChildPositionState(i),this}};var rk=function(){if(this.cellsCount!==0){var i=this.table;this.startRowIndex=Math.max(i.heightToRowIndex(-this.tableOY,2),0);for(var t=this.startRowIndex,n=Math.max(i.widthToColIndex(-this.tableOX),0),x=n,C=i.colRowToCellIndex(x,t),M=this.bottomBound,h=this.rightBound,y=i.cellsCount-1,e=i.colCount-1,f=this.getCellTLX(x),d=f,s=this.getCellTLY(t);s<M&&C<=y;){if(this.table.isValidCellIdx(C)){var a=i.getCell(C,!0);this.visibleCells.set(a),this.preVisibleCells.contains(a)||this.showCell(a);var r,o;if(this.scrollMode===0?(r=d,o=s):(r=s,o=d),a.cellContainerAlign==null)a.setXY(r,o);else{var u=a.getContainer();xh(u,r,o,a.width,a.height,a.cellContainerAlign),a.setXY(u.x,u.y)}}d<h&&x<e?(d+=i.getColWidth(x),x+=1):(d=f,s+=i.getRowHeight(t),x=n,t+=1),C=i.colRowToCellIndex(x,t)}}},_M=function(i){var t=null,n=i.getContainer();if(n?(t=n,i.popContainer()):this.cellContainersPool&&(t=this.cellContainersPool.getFirstDead(),t!==null&&t.setActive(!0).setVisible(!0)),this.emit("cellvisible",i,t,this),this.cellContainersPool){var n=i.getContainer();n?t===null?this.cellContainersPool.add(n):t!==n&&(this.cellContainersPool.add(n),this.cellContainersPool.killAndHide(t)):t!==null&&this.cellContainersPool.killAndHide(t)}},ak=function(i){var t=this.scrollMode===0?this.topLeftX:this.topLeftY,n=this.tableOX+this.table.colIndexToWidth(0,i-1)+t;return n},ok=function(i){var t=this.scrollMode===0?this.topLeftY:this.topLeftX,n=this.tableOY+this.table.rowIndexToHeight(0,i-1)+t;return n},hk=function(){var i=this.preVisibleCells,t=this.visibleCells;i.iterate(function(n){t.contains(n)||this.hideCell(n)},this)},tE=function(i){if(this.emit("cellinvisible",i),this.cellContainersPool){var t=i.popContainer();t&&this.cellContainersPool.killAndHide(t)}i.destroyContainer()},lk=function(i){return i===void 0&&(i=!1),i&&(Fy.call(this),this.hideCells()),Fy.call(this),this.showCells(),this.hideCells(),this.setMaskChildrenFlag(),this},Fy=function(){var i=this.preVisibleCells;this.preVisibleCells=this.visibleCells,this.visibleCells=i,this.visibleCells.clear()},uk=function(i){var t=this.table.getCell(i,!1);return t&&this.visibleCells.contains(t)},eE=function(i,t){t-=this.y+this.topLeftY,i-=this.x+this.topLeftX;var n=this.tableOY-(this.scrollMode===0?t:i),x=this.tableOX-(this.scrollMode===0?i:t),C=this.table,M=C.heightToRowIndex(-n,0),h=C.widthToColIndex(-x),y=C.colRowToCellIndex(h,M);return y===null||!this.isCellVisible(y)?null:y},fk=function(i,t){var n=eE.call(this,i,t);if(n!==null)return this.getCellContainer(n)},dk=function(i,t){return this.visibleCells.each(i,t),this},ck=function(i,t){return this.visibleCells.iterate(i,t),this},vk=function(i,t){return this.table.cells.slice().forEach(i,t),this},pk=function(i,t){return this.table.cells.forEach(i,t),this},gk=function(i){var t=this.cellsCount;return t===i?this:(t>i?this.removeCells(i,t-i):this.insertNewCells(t,i-t),this)};const mk=Phaser.Math.Clamp;var xk=function(i,t){return typeof i=="object"&&(i=i.index),t===void 0&&(t=1),t<=0?this:(i=mk(i,0,this.cellsCount),this.table.insertNewCells(i,t),this)},yk=function(i,t){if(typeof i=="object"&&(i=i.index),t===void 0&&(t=1),i<0&&(t+=i,i=0),t<=0)return this;if(i>this.cellsCount)return this;for(var n,x=i,C=i+t;x<C;x++)n=this.getCell(x,!1),n&&(this.visibleCells.contains(n)&&(tE.call(this,n),this.visibleCells.delete(n)),this.preVisibleCells.delete(n));return this.table.removeCells(i,t),this},Tk=function(i){return this.table.colCount===i?this:(this.table.setColumnCount(i),this)},Ck=function(i,t){return this.setCellsCount(i*t),this.table.setColumnCount(i),this},Sk=function(i){var t=this.table.getCell(i,!1);return!t||!t.container?this:(_M.call(this,t),this)},iE={setTableOY:Zz,setTableOX:Jz,showCells:rk,showCell:_M,getCellTLX:ak,getCellTLY:ok,hideCells:hk,hideCell:tE,updateTable:lk,isCellVisible:uk,pointToCellIndex:eE,pointToCellContainer:fk,eachVisibleCell:dk,iterateVisibleCell:ck,eachCell:vk,iterateCell:pk,setCellsCount:gk,insertNewCells:xk,removeCells:yk,setColumnCount:Tk,setGridSize:Ck,updateVisibleCell:Sk};Object.assign(iE,qM);const Mk=Phaser.GameObjects.Group,Iy=Phaser.Structs.Set,rs=Phaser.Utils.Objects.GetValue;let sE=class extends ci{constructor(t,n,x,C,M,h){h===void 0&&(h={}),super(t,n,x,C,M),this.type="rexGridTable",this._tableOX=0,this._tableOY=0,this.visibleCells=new Iy,this.preVisibleCells=new Iy,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1;var y=rs(h,"reuseCellContainer",!1);y&&(this.cellContainersPool=new Mk(t));var e=rs(h,"cellVisibleCallback",null);if(e!==null){var f=rs(h,"cellVisibleCallbackScope",void 0);this.on("cellvisible",e,f)}if(e=rs(h,"cellInvisibleCallback",null),e!==null){var f=rs(h,"cellInvisibleCallbackScope",void 0);this.on("cellinvisible",e,f)}rs(h,"enableLayer",!1)&&this.enableLayer(),this.setupChildrenMask(rs(h,"mask",void 0)),this.setScrollMode(rs(h,"scrollMode",0)),this.setClampMode(rs(h,"clamplTableOXY",!0));var d,s,a,r=this.scrollMode===0;if(r?(d=h.cellWidth,s=h.cellHeight,a=h.columns):(d=h.cellHeight,s=h.cellWidth,a=rs(h,"rows",h.columns)),a||(a=1),this.expandCellSize=d===void 0,this.expandCellSize){var C=r?this.width:this.height;d=C/a}h.cellWidth=d,h.cellHeight=s,h.columns=a,this.table=new jz(this,h),this.updateTable()}destroy(t){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.table.destroy(t),this.table=void 0,this.cellContainersPool&&(this.cellContainersPool.destroy(!0),this.cellContainersPool=void 0),super.destroy(t))}setScrollMode(t){return typeof t=="string"&&(t=Ek[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t){return t===void 0&&(t=!0),this.clampTableOXY=t,this}get tableOY(){return this._tableOY}get tableOX(){return this._tableOX}set tableOY(t){this.setTableOY(t).updateTable()}set tableOX(t){this.setTableOX(t).updateTable()}setTableOXY(t,n){return this.setTableOY(n).setTableOX(t),this}addTableOY(t){return this.setTableOY(this.tableOY+t),this}addTableOX(t){return this.setTableOX(this.tableOX+t),this}addTableOXY(t,n){return this.addTableOY(n).addTableOX(t),this}setTableOYByPercentage(t){return this.setTableOY(-this.tableVisibleHeight*t),this}getTableOYPercentage(){var t=this.tableVisibleHeight;return t===0?0:this.tableOY/-t}set t(t){this.setTableOYByPercentage(t).updateTable()}get t(){return this.getTableOYPercentage()}scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this}scrollToRow(t){this.scrollToBottom();var n=this.table.rowIndexToHeight(0,t-1);return this.setTableOY(-n).updateTable(),this}scrollToNextRow(t){return t===void 0&&(t=1),this.scrollToRow(this.startRowIndex+t),this}getCell(t){return this.table.getCell(t,!0)}getCellContainer(t){var n=this.table.getCell(t,!1),x;return n&&(x=n.getContainer()),x}get cellsCount(){return this.table.cellsCount}get columnCount(){return this.table.colCount}setCellHeight(t,n){var x;return typeof t=="number"?x=this.table.getCell(t,!0):x=t,x.height=n,this}setCellWidth(t,n){var x;return typeof t=="number"?x=this.table.getCell(t,!0):x=t,x.width=n,this}get instHeight(){return this.scrollMode===0?this.height:this.width}get instWidth(){return this.scrollMode===0?this.width:this.height}get tableHeight(){return this.table.totalRowsHeight}get tableWidth(){return this.table.totalColumnWidth}get topTableOY(){return 0}get bottomTableOY(){return-this.tableVisibleHeight}get leftTableOX(){return 0}get rightTableOX(){return-this.tableVisibleWidth}get tableVisibleHeight(){var t=this.tableHeight-this.instHeight;return t<0&&(t=0),t}get tableVisibleWidth(){var t,n=this.tableWidth,x=this.instWidth;return n>x?t=n-x:t=0,t}get bottomLeftY(){return-(this.displayHeight*this.originY)+this.displayHeight}get topRightX(){return-(this.displayWidth*this.originX)+this.displayWidth}get topLeftX(){return-(this.displayWidth*this.originX)}get topLeftY(){return-(this.displayHeight*this.originY)}get bottomBound(){return this.scrollMode===0?this.bottomLeftY:this.topRightX}get rightBound(){return this.scrollMode===0?this.topRightX:this.bottomLeftY}resize(t,n){return this.width===t&&this.height===n?this:(super.resize(t,n),this.expandCellSize&&this.table.setDefaultCellWidth(this.instWidth/this.table.colCount),this.updateTable(!0),this.layoutChildrenMask(),this.maskChildren(),this)}};Object.assign(sE.prototype,iE);const Ek={v:0,vertical:0,h:1,horizontal:1};var Pk=function(i){Object.defineProperty(i,"childOY",{configurable:!0,get:function(){return i.tableOY},set:function(t){i.tableOY=t}}),Object.defineProperty(i,"topChildOY",{get:function(){return i.topTableOY}}),Object.defineProperty(i,"bottomChildOY",{get:function(){return i.bottomTableOY}}),Object.defineProperty(i,"childVisibleHeight",{get:function(){return i.instHeight}}),Object.defineProperty(i,"childHeight",{get:function(){return i.tableHeight}})},Rk=function(i){i.on("cellvisible",function(t,h,x){var C=this.createCellContainerCallback,M=this.createCellContainerCallbackScope;t.item=this.items[t.index],t.items=this.items;var h;M?h=C.call(M,t,h,x):h=C(t,h,x),h&&(t.cellContainerAlign==null&&h.setOrigin&&h.setOrigin(0),h.isRexSizer&&h.layout()),t.item=void 0,t.items=void 0,t.setContainer(h)},this)},gs=function(i,t,n,x,C,M,h){var y;if(C===void 0?y=x:y=n.pointToCellIndex(x,C),y!=null){var e=n.getCellContainer(y);e&&i.emit(t,e,y,M,h)}},Ak=function(i,t){i.on("pointerdown",function(n,x,C,M){gs(this.eventEmitter,"cell.down",i,n.worldX,n.worldY,n,M)},this).on("pointerup",function(n,x,C,M){gs(this.eventEmitter,"cell.up",i,n.worldX,n.worldY,n,M)},this)},wk=function(i,t){i.on("pointermove",Dy,this).on("pointerover",Dy,this).on("pointerout",Ok,this)},Dy=function(i,t,n,x){var C=this.childrenMap.child,M=C.pointToCellIndex(i.worldX,i.worldY);if(M!==C.input.lastOverCellIndex){var h=C.input.lastOverCellIndex;C.input.lastOverCellIndex=M,gs(this.eventEmitter,"cell.out",C,h,void 0,i,x),gs(this.eventEmitter,"cell.over",C,M,void 0,i,x)}},Ok=function(i,t){var n=this.childrenMap.child,x=n.input.lastOverCellIndex;n.input.lastOverCellIndex=void 0,gs(this.eventEmitter,"cell.out",n,x,void 0,i,t)};const Lk=Phaser.Utils.Objects.GetValue;var Fk=function(i,t){var n=Lk(t,"click",void 0);n!==!1&&(n===void 0&&(n={}),n.threshold=10,i._click=new On(i,n),i._click.on("click",function(x,C,M,h){gs(this.eventEmitter,"cell.click",C,M.worldX,M.worldY,M,h)},this))};const Ik=Phaser.Utils.Objects.GetValue;var Dk=function(i,t){var n=Ik(t,"tap",void 0);n!==!1&&(i._tap=new Tf(i,n),i._tap.on("tap",function(x,C,M){var h=`cell.${x.tapsCount}tap`;gs(this.eventEmitter,h,x.gameObject,x.worldX,x.worldY,M)},this))};const Bk=Phaser.Utils.Objects.GetValue;var bk=function(i,t){var n=Bk(t,"press",void 0);n!==!1&&(i._press=new Cf(i,n),i._press.on("pressstart",function(x,C,M){gs(this.eventEmitter,"cell.pressstart",i,x.worldX,x.worldY,M)},this).on("pressend",function(x,C,M){gs(this.eventEmitter,"cell.pressend",i,x.worldX,x.worldY,M)},this))};const Gk=Phaser.Utils.Objects.GetValue;var Nk=function(i,t){var n=Gk(t,"swipe",void 0);n!==!1&&(n===void 0&&(n={}),n.dir="4dir",i._swipe=new Ph(i,n),i._swipe.on("swipe",function(x,C,M){var h=x.left?"left":x.right?"right":x.up?"up":"down";gs(this.eventEmitter,`cell.swipe${h}`,i,x.worldX,x.worldY,M)},this))},Vk=function(i,t){i.setInteractive(),Ak.call(this,i,t),wk.call(this,i,t),Fk.call(this,i,t),Dk.call(this,i,t),bk.call(this,i,t),Nk.call(this,i,t)},zk=function(i){i===void 0?this.items=[]:this.items=i;var t=this.childrenMap.child;return t.setCellsCount(this.items.length),t.updateTable(!0),this.resizeController(),this};const kk={scrollToRow(i){var t=this.childrenMap.child;return t.scrollToRow(i),this},scrollToNextRow(i){var t=this.childrenMap.child;return t.scrollToNextRow(i),this}},as=Phaser.Utils.Objects.GetValue;class Eg extends Bf{constructor(t,n){n===void 0&&(n={});var x=Df(n),C=as(n,"table",void 0);C===void 0&&(C={}),C.scrollMode=x,C.clamplTableOXY=as(n,"clamplChildOY",!1);var M=as(C,"width",void 0),h=as(C,"height",void 0),y=new sE(t,0,0,M,h,C);t.add.existing(y);var e,f;x===0?(e=M===void 0?1:0,f=h===void 0):(e=h===void 0?1:0,f=M===void 0),Pk(y),y._minWidth=M===void 0?0:void 0,y._minHeight=h===void 0?0:void 0,n.type="rexGridTable",n.child={gameObject:y,proportion:e,expand:f};var d=as(n,"space",void 0);d&&(d.child=d.table),super(t,n),this.addChildrenMap("table",y),this.addChildrenMap("tableLayer",y.maskLayer),this.eventEmitter=as(n,"eventEmitter",this);var s=as(n,"createCellContainerCallback",Fe),a=as(n,"createCellContainerCallbackScope",void 0);this.setCreateCellContainerCallback(s,a),Rk.call(this,y),this.resizeControllerFlag=!1;var r=x===0?"cellheightchange":"cellwidthchange";y.on(r,function(){this.resizeControllerFlag=!0},this),as(C,"interactive",!0)&&Vk.call(this,y,C),this.setItems(as(n,"items",[])),t.game.events.on("poststep",this.onPostStep,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.scene.game.events.off("poststep",this.onPostStep,this),super.destroy(t))}setCreateCellContainerCallback(t,n){return this.createCellContainerCallback=t,this.createCellContainerCallbackScope=n,this}refresh(){return this.setItems(this.items),this}getCell(t){var n=this.childrenMap.child;return n.getCell(t)}getCellContainer(t){var n=this.childrenMap.child;return n.getCellContainer(t)}updateVisibleCell(t){var n=this.childrenMap.child;return n.updateVisibleCell(t)}onPostStep(){this.resizeControllerFlag&&(this.resizeController(),this.resizeControllerFlag=!1)}get startRowIndex(){var t=this.childrenMap.child;return t.startRowIndex}}var Uk={setItems:zk};Object.assign(Eg.prototype,kk,Uk);rt.register("gridTable",function(i){var t=new Eg(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.GridTable",Eg);var Pg=function(i,t){return i.sameOrientation?i.orientation=t.orientation:i.orientation=t.orientation===0?1:0,i},Xk=function(i,t){i.popUp(Pg(i.root.easeIn,i))},Yk=function(i,t){i.scaleDown(Pg(i.root.easeOut,i))};const Wk={setTransitInCallback(i){return i===void 0&&(i=Xk),this.transitInCallback=i,this},setTransitOutCallback(i){return i===void 0&&(i=Yk),this.transitOutCallback=i,this}};var Hk=function(i,t,n,x,C){var M=ph(i),h=M.time.delayedCall(t,function(){M.sys.events.once("postupdate",function(){n.call(x,C)})});return h};const $k={delayCall(i,t,n){return this.timer=Hk(this,i,t,n),this},removeDelayCall(){return this.timer&&(this.timer.remove(!1),this.timer=void 0),this}};var Kk=function(i,t){var x=this.childrenMap.subMenu;if(x&&x.parentButton===i)return this;this.collapseSubMenu();var n;this.root.toggleOrientation?n=this.orientation===0?1:0:n=this.orientation;var x=new this.constructor(this.scene,{items:t,orientation:n,space:this.space,createBackgroundCallback:this.root.createBackgroundCallback,createBackgroundCallbackScope:this.root.createBackgroundCallbackScope,createButtonCallback:this.root.createButtonCallback,createButtonCallbackScope:this.root.createButtonCallbackScope,easeIn:this.root.easeIn,easeOut:this.root.easeOut,_rootMenu:this.root,_parentMenu:this,_parentButton:i});return this.pin(x),this.childrenMap.subMenu=x,this.root.emit("expand",x,i,this),this},jk=function(){var i=this.root;i.emit("collapse",this,this.parentButton,i);var t=i.easeOut.duration;return i.transitOutCallback(this,t),this.collapseSubMenu(),this.delayCall(t,this.destroy,this),this},Zk=function(){var i=this.childrenMap.subMenu;return i===void 0?this:(this.childrenMap.subMenu=void 0,this.remove(i),i.collapse(),this)},nE={expandSubMenu:Kk,collapse:jk,collapseSubMenu:Zk};Object.assign(nE,Wk,$k);var Jk=function(i,t,n,x){var C;return n&&(t.scene=i,x?C=n.call(x,t):C=n(t),t.scene=void 0),C},Qk=function(i,t,n,x){var C,M=[],h;if(t&&n)for(var y=0,e=t.length;y<e;y++)C=t[y],C.scene=i,x?h=n.call(x,C,y,t):h=n(C,y,t),C.scene=void 0,M.push(h);return M},qk=function(i){i.on(i.root.expandEventName,function(t,n){if(!this._isPassedEvent){var x=this.root.childrenKey,C=this.items[n][x];C&&this.expandSubMenu(t,C)}},i).on("button.click",function(t,n,x,C){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.click",t,n,x,C),this.root._isPassedEvent=!1)},i).on("button.over",function(t,n,x,C){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.over",t,n,x,C),this.root._isPassedEvent=!1)},i).on("button.out",function(t,n,x,C){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.out",t,n,x,C),this.root._isPassedEvent=!1)},i)},By=function(i,t){return typeof t=="number"&&(t={duration:t}),t.hasOwnProperty("orientation")&&t.orientation!==void 0?t.sameOrientation=wf(t.orientation)===i.orientation:t.sameOrientation=!0,t.destroy=!1,t},_k=function(){var i=this.root,t=i.easeIn.duration;i.transitInCallback(this,t),this!==this.root&&this.delayCall(t,function(){this.root.emit("popup.complete",this)},this)};const Be=Phaser.Utils.Objects.GetValue;class Rg extends Ce{constructor(t,n){n===void 0&&(n={}),n.hasOwnProperty("orientation")||(n.orientation=1);var x=n._rootMenu,C=n._parentMenu,M=n._parentButton,h=Be(n,"popup",!0),y=Be(n,"items",void 0),e=Be(n,"createBackgroundCallback",void 0),f=Be(n,"createBackgroundCallbackScope",void 0);n.background=Jk(t,y,e,f);var d=Be(n,"createButtonCallback",void 0),s=Be(n,"createButtonCallbackScope",void 0);if(n.buttons=Qk(t,y,d,s),super(t,n),this.type="rexMenu",this.items=y,this.root=x===void 0?this:x,this.isRoot=this.root===this,this.parentMenu=C,this.parentButton=M,this.timer=void 0,this.isRoot){this.isPopUpMode=h;var a=n.bounds;a===void 0&&(a=Va(t)),this.bounds=a,this.subMenuSide=[this.y<a.centerY?ip:eu,this.x<a.centerX?ep:tu];var r=Be(n,"subMenuSide",void 0);r!==void 0&&(typeof r=="string"&&(r=tU[r]),this.subMenuSide[this.orientation]=r),this.toggleOrientation=Be(n,"toggleOrientation",!1),this.expandEventName=Be(n,"expandEvent","button.click"),this.easeIn=By(this,Be(n,"easeIn",0)),this.easeOut=By(this,Be(n,"easeOut",0)),this.setTransitInCallback(Be(n,"transitIn")),this.setTransitOutCallback(Be(n,"transitOut")),this.createBackgroundCallback=e,this.createBackgroundCallbackScope=f,this.createButtonCallback=d,this.createButtonCallbackScope=s,this.childrenKey=Be(n,"childrenKey","children"),this._isPassedEvent=!1,this.pointerDownOutsideCollapsing=Be(n,"pointerDownOutsideCollapsing",!0),this.pointerDownOutsideCollapsing&&t.input.on("pointerdown",this.onPointerDownOutside,this)}var o=0,u=0;if(!this.root.easeIn.sameOrientation){var v=Pg(this.root.easeIn,this).orientation,l=C?C.orientation:this.orientation,r=this.root.subMenuSide[l];v===0&&r===tu&&(o=1),v===1&&r===eu&&(u=1)}if(h&&this.setOrigin(o,u).layout(),!this.isRoot){this.setScale(this.root.scaleX,this.root.scaleY);var r=this.root.subMenuSide[C.orientation];switch(r){case tu:this.alignTop(M.top).alignRight(M.left);break;case ep:this.alignTop(M.top).alignLeft(M.right);break;case eu:this.alignLeft(M.left).alignBottom(M.top);break;case ip:this.alignLeft(M.left).alignTop(M.bottom);break}}qk(this),h&&(this.pushIntoBounds(this.root.bounds),_k.call(this))}destroy(t){!this.scene||this.ignoreDestroy||(this.isRoot&&this.pointerDownOutsideCollapsing&&this.scene.input.off("pointerdown",this.onPointerDownOutside,this),super.destroy(t),this.removeDelayCall())}isInTouching(t){return super.isInTouching(t)?!0:this.childrenMap.subMenu?this.childrenMap.subMenu.isInTouching(t):!1}onPointerDownOutside(t){this.isInTouching(t)||(this.isPopUpMode?this.collapse():this.collapseSubMenu())}}const tu=2,ep=0,eu=3,ip=1,tU={up:eu,down:ip,left:tu,right:ep};Object.assign(Rg.prototype,nE);rt.register("menu",function(i){var t=new Rg(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.Menu",Rg);var eU={setWrapEnable(i){return i===void 0&&(i=!0),this.listWrapEnable=i,this},setCreateButtonCallback(i){return this.listCreateButtonCallback=i,this},setCreateListBackgroundCallback(i){return this.listCreateBackgroundCallback=i,this},setButtonClickCallback(i){return this.listOnButtonClick=i,this},setButtonOverCallback(i){return this.listOnButtonOver=i,this},setButtonOutCallback(i){return this.listOnButtonOut=i,this},setListExpandDirection(i){return typeof i=="string"&&(i=iU[i]),this.listExpandDirection=i,this},setListEaseInDuration(i){return i===void 0&&(i=0),this.listEaseInDuration=i,this},setListEaseOutDuration(i){return i===void 0&&(i=0),this.listEaseOutDuration=i,this},setListTransitInCallback(i){return this.listTransitInCallback=i,this},settListTransitOutCallback(i){return this.listTransitOutCallback=i,this},setListBounds(i){return this.listBounds=i,this},setListWidth(i){return this.listWidth=i,this},setListHeight(i){return this.listHeight=i,this},setListSize(i,t){return this.setListWidth(i).setListHeight(t),this},setListAlignmentMode(i){return this.listAlignMode=i,this},setListAlignmentSide(i){return i===void 0&&(i=""),this.listAlignSide=i,this},setListSpace(i){return i===void 0&&(i={}),this.listSpace=i,this},setListDraggable(i){return i===void 0&&(i=!0),this.listDraggable=i,this}};const iU={down:0,up:1};var sU=function(){var i=this.scene,t,n=this.listCreateBackgroundCallback;n&&(t=n.call(this,i),i.add.existing(t));var x=[],C=this.listCreateButtonCallback;if(C)for(var M=this.options,h=0,y=M.length;h<y;h++){var e=C.call(this,i,M[h],h,M);i.add.existing(e),x.push(e)}var f=this.listWidth;f===void 0&&(this.listAlignMode==="text"?f=this.getElement("text").width:f=this.width);var d=this.listHeight,s;return this.listWrapEnable?s=new vr(i,{width:f,height:d,background:t,buttons:x,space:this.listSpace,draggable:this.listDraggable}):s=new Ce(i,{width:f,height:d,orientation:"y",background:t,buttons:x,space:this.listSpace,draggable:this.listDraggable}),i.add.existing(s),s},nU=function(i,t,n,x,C){x===void 0&&(x="Linear");var M={};switch(M.mode=0,n){case 0:case"x":M.end={x:0};break;case 1:case"y":M.end={y:0};break;default:M.end=0;break}return M.duration=t,M.ease=x,C===void 0?C=new rh(i,M):C.resetFromJSON(M),C.restart(),C},rU=function(i,t,n,x,C){return us(i,t)?Nt(i,t):n&&us(i,n)?Nt(i,n):x&&us(i,x)?Nt(i,x):C};const jr=Phaser.Utils.Objects.GetValue;var aU=function(i,t){var n=jr(t,"expandDirection",void 0);typeof n=="string"&&(n=oU[n]);var x=rU(t,"alignTarget","alignTargetX"),C=jr(t,"alignTargetY",x),M=jr(t,"alignOffsetX",0),h=jr(t,"alignOffsetY",0),y=jr(t,"alignSide",""),e=y.includes("right"),f=jr(t,"bounds"),d=n===0,s=n===1,a=!d&&!s,r=e?1:0,o=d||a?0:1;i.setOrigin(r,o);var u,v;e?u=x.getTopRight().x:u=x.getTopLeft().x,v=C.getBottomLeft().y,i.setPosition(u+M,v+h);var l=f;l||(l=Va(i.scene)),a&&i.getBottomLeft().y>l.bottom&&(v=C.getTopLeft().y,i.setOrigin(0,1).setPosition(u+M,v+h))};const oU={down:0,up:1},by=Phaser.Utils.Objects.GetValue;class rE extends gf{constructor(t,n){n===void 0&&(n={}),n.transitIn==null&&(n.transitIn=function(M,h){Y0(M,h,"y","Cubic")}),n.transitOut==null&&(n.transitOut=function(M,h){nU(M,h,"y","Linear")}),n.manualClose=!0,n.clickOutsideClose=!0,n.destroy=!0,super(t,n),aU(t,n),t.isRexSizer&&t.layout();var x=by(n,"touchOutsideClose",!1),C=by(n,"anyTouchClose",!1);C&&(x=!1),C?this.once("open",this.anyTouchClose,this):x&&this.once("open",this.touchOutsideClose,this),this.requestOpen()}shutdown(t){this.isShutdown||(this.scene.input.off("pointerup",this.touchCloseCallback,this),super.shutdown(t))}touchOutsideClose(){return this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(t){this.clickOutsideTest&&ah(this.parent,t.worldX,t.worldY)||this.requestClose()}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}}var hU=function(){if(this.listPanel)return this;var i=sU.call(this);i.on("button.over",function(x,C,M,h){this.listOnButtonOver&&this.listOnButtonOver.call(this,x,C,M,h),this.emit("button.over",this,i,x,C,M,h)},this).on("button.out",function(x,C,M,h){this.listOnButtonOut&&this.listOnButtonOut.call(this,x,C,M,h),this.emit("button.out",this,i,x,C,M,h)},this);var t;!this.listAlignMode||this.listAlignMode==="label"?t=this:t=this.getElement(this.listAlignMode);var n=new rE(i,{duration:{in:this.listEaseInDuration,out:this.listEaseOutDuration},transitIn:this.listTransitInCallback,transitOut:this.listTransitOutCallback,expandDirection:this.listExpandDirection,alignTargetX:t,alignTargetY:this,alignSide:this.listAlignSide,bounds:this.listBounds,anyTouchClose:!0}).on("open",function(){i.on("button.click",function(x,C,M,h){this.listOnButtonClick&&this.listOnButtonClick.call(this,x,C,M,h),this.emit("button.click",this,i,x,C,M,h)},this),this.emit("list.open",this,i)},this).on("close",function(){this.listPanel=void 0,this.dropDownBehavior=void 0},this);return this.listPanel=i,this.dropDownBehavior=n,this.pin(i),this},lU=function(){return this.dropDownBehavior?(this.dropDownBehavior.requestClose(),this):this},uU=function(){return this.listPanel?this.closeListPanel():this.openListPanel(),this},aE={openListPanel:hU,closeListPanel:lU,toggleListPanel:uU};Object.assign(aE,eU);const Kt=Phaser.Utils.Objects.GetValue;class wh extends Er{constructor(t,n){super(t,n),this.type="rexDropDownList",this.timer=void 0,this.setOptions(Kt(n,"options"));var x=Kt(n,"list");this.setWrapEnable(Kt(x,"wrap",!1)),this.setCreateButtonCallback(Kt(x,"createButtonCallback")),this.setCreateListBackgroundCallback(Kt(x,"createBackgroundCallback")),this.setButtonClickCallback(Kt(x,"onButtonClick")),this.setButtonOverCallback(Kt(x,"onButtonOver")),this.setButtonOutCallback(Kt(x,"onButtonOut")),this.setListExpandDirection(Kt(x,"expandDirection")),this.setListEaseInDuration(Kt(x,"easeIn",500)),this.setListEaseOutDuration(Kt(x,"easeOut",100)),this.setListTransitInCallback(Kt(x,"transitIn")),this.settListTransitOutCallback(Kt(x,"transitOut")),this.setListSize(Kt(x,"width"),Kt(x,"height")),this.setListAlignmentMode(Kt(x,"alignParent","text")),this.setListAlignmentSide(Kt(x,"alignSide","")),this.setListBounds(Kt(x,"bounds")),this.setListSpace(Kt(x,"space")),this.setListDraggable(Kt(x,"draggable",!1)),this.setValueChangeCallback(Kt(n,"setValueCallback"),Kt(n,"setValueCallbackScope")),this.setValue(Kt(n,"value")),this.onClick(this.toggleListPanel,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.listPanel&&(this.listPanel.destroy(t),this.listPanel=void 0),super.destroy(t))}setOptions(t){return t===void 0&&(t=[]),this.options=t,this}setValueChangeCallback(t,n){return this.valueChangeCallback=t,this.valueChangeCallbackScope=n,this}setValue(t){return this.value=t,this}get value(){return this._value}set value(t){if(this._value!==t){var n=this._value;this._value=t;var x=this.valueChangeCallback,C=this.valueChangeCallbackScope;x&&(C?x.call(C,this,t,n):x(this,t,n)),this.emit("valuechange",this,t,n)}}emitButtonClick(t){var n=this.options[t];return n?(this.emit("button.click",this,void 0,n,t),this):this}}Object.assign(wh.prototype,aE);rt.register("dropDownList",function(i){var t=new wh(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.DropDownList",wh);var oE=function(i,t,n){t=t?wi(t):{},n===void 0&&(n={});var x=t.label||t.button,C=t.button||t.label;delete t.label,delete t.button;var M=n.label||n.button||n,h=n.button||n.label||n,y=fg(i,x,M);return y.list=t.list||{},y.list.createButtonCallback=function(e,f){var d=Mi(e,C,h).resetDisplayContent({text:f.text});return f.hasOwnProperty("value")&&(d.value=f.value),d},y.list.onButtonOver=function(e,f,d,s){e.setHoverState&&e.setHoverState(!0)},y.list.onButtonOut=function(e,f,d,s){e.setHoverState&&e.setHoverState(!1)},y};class hE extends wh{constructor(t,n,x){n=oE(t,n,x),super(t,n),this.type="rexSimpleDropDownList"}setOptions(t){t===void 0&&(t=[]);for(var n=0,x=t.length;n<x;n++){var C=t[n];typeof C=="string"&&(t[n]={text:C,value:C})}return super.setOptions(t),this}}rt.register("simpleDropDownList",function(i,t){var n=new hE(this.scene,i,t);return this.scene.add.existing(n),n});nt(window,"RexPlugins.UI.SimpleDropDownList",hE);var fU=function(i){var t=Xa(i),n,x,C;switch(t){case Qe:case hi:n=i.height-i.padding.top-i.padding.bottom,x=i.lineSpacing,C=i.style.metrics.fontSize+i.style.strokeThickness;break;case li:n=i.height,x=0;var M=i.fontSize/i.fontData.size;C=i.fontData.lineHeight*M;break}return(n-x)/(C+x)},dU=function(i,t){i===void 0&&(i=this.startLineIndex),t===void 0&&(t=i+this.pageLinesCount);var n;switch(this.textObjectType){case Qe:case li:n=this.lines.slice(i,t).join(`
`);break;case hi:var x=this.lines.getLineStartIndex(i),C=this.lines.getLineEndIndex(t-1);n=this.lines.getSliceTagText(x,C,!0);break}return n},Rc=function(i){return Array.isArray(i)?i=i.join(`
`):typeof i=="number"&&(i=i.toString()),i};const cU={clearText(){return this.sections.length=0,this.pageStartIndexes.length=0,this.lines.length=0,this},appendPage(n){var t=this.totalLinesCount;this.sections.push(Rc(n));var n=this.sections.join(`
`);this.lines=xg(this.parent,n,this.lines);for(var x=this.totalLinesCount-t,C=Math.ceil(x/this.pageLinesCount),M=0;M<C;M++)this.pageStartIndexes.push(t+M*this.pageLinesCount);return this},setText(i,t){t===void 0&&(t=!0),t&&this.resetPageIdx(),this.clearText();for(var n=Rc(i).split(this.pageBreak),x=0,C=n.length;x<C;x++)this.appendPage(n[x]);return this},appendText(i){var t=this.content+Rc(i);return this.setText(t,!1),this}},vU=Phaser.Math.Clamp,pU={getPage(i){return i===void 0&&(i=this.pageIndex),this.setPageIndex(i).getLines(this.startLineIndex,this.endLineIndex)},getNextPage(){return this.getPage(this.pageIndex+1)},getPreviousPage(){return this.getPage(this.pageIndex-1)},resetPageIdx(){return this.pageIndex=-1,this},setPageIndex(i){return i=vU(i,0,this.pageCount-1),this.pageIndex=i,this.startLineIndex=this.pageStartIndexes[i],this.endLineIndex=this.pageStartIndexes[i+1],this}},gU={showPage(i){return this.displayText(this.getPage(i)),this},showNextPage(){return this.displayText(this.getNextPage()),this},showPreviousPage(){return this.displayText(this.getPreviousPage()),this},show(){return this.displayText(this.getLines()),this},showNextLine(){return this.displayText(this.setStartLineIndex(this.startLineIndex+1).getLines()),this},showPreviousLine(){return this.displayText(this.setStartLineIndex(this.startLineIndex-1).getLines()),this},displayText(i){yg(this.parent,i)}};var lE={getLines:dU};Object.assign(lE,cU,pU,gU);const To=Phaser.Utils.Objects.GetValue,mU=Phaser.Math.Clamp;class kf extends me{constructor(t,n){super(t,{eventEmitter:!1}),this.textObjectType=Xa(this.parent),this.pageStartIndexes=[],this.lines=xg(this.parent,""),this.sections=[],this.resetFromJSON(n)}resetFromJSON(t){return this.setMaxLines(To(t,"maxLines",void 0)),this.setPageBreak(To(t,"pageBreak",`\f
`)),this.setText(To(t,"text","")),this.setStartLineIndex(To(t,"start",0)),this.setPageIndex(To(t,"page",-1)),this}toJSON(){return{maxLines:this.maxLines,text:this.content,start:this.startLineIndex,page:this.pageIndex,pageBreak:this.pageBreak}}shutdown(t){if(!this.isShutdown){switch(this.textObjectType){case Qe:this.lines.length=0;break;case hi:this.lines.destroy();break;case li:this.lines.length=0;break}this.pageStartIndexes.length=0,this.sections.length=0,this.lines=void 0,this.pageStartIndexes=void 0,this.sections=void 0,super.shutdown(t)}}setMaxLines(t){return this.maxLines=t,this}setPageBreak(t){return this.pageBreak=t,this}get pageCount(){return this.pageStartIndexes.length}get isFirstPage(){return this.pageIndex<=0}get isLastPage(){return this.pageIndex>=this.pageCount-1}get totalLinesCount(){return this.lines?this.lines.length:0}get startLineIndex(){return this._startLineIndex}set startLineIndex(t){t=mU(t,0,this.totalLinesCount-1),this._startLineIndex=t}setStartLineIndex(t){return this.startLineIndex=t,this}get pageLinesCount(){if(this.maxLines!==void 0)return this.maxLines;var t;switch(this.textObjectType){case Qe:case hi:var n=this.parent.style.maxLines;n>0?t=n:t=Math.floor(fU(this.parent));break;case li:t=this.totalLinesCount;break}return t}get content(){return this.sections.join(this.pageBreak)}}Object.assign(kf.prototype,lE);var xU=function(i,t){var n=Xa(i);switch(n){case Qe:i.style.syncFont(i.canvas,i.context),t=i.runWordWrap(t);break;case hi:t=i.getText(t,void 0,void 0,!0);break;case li:t=i.setText(t).getTextBounds().wrappedText;break}return t};const Zr=Phaser.Utils.Objects.GetFastValue,Ac=Phaser.Utils.Objects.GetValue;class Ag extends me{constructor(t,n){super(t,n),this.timer=null,this.resetFromJSON(n)}resetFromJSON(t){this.setTextWrapEnable(Ac(t,"wrap",!1)),this.setTypeMode(Ac(t,"typeMode",0)),this.setTypingSpeed(Ac(t,"speed",333)),this.setTextCallback=Zr(t,"setTextCallback",null),this.setTextCallbackScope=Zr(t,"setTextCallbackScope",null),this.setTypingContent(Zr(t,"text","")),this.typingIdx=Zr(t,"typingIdx",0),this.insertIdx=Zr(t,"insertIdx",null);var n=Zr(t,"elapsed",null);return n!==null&&this.start(void 0,void 0,this.typingIdx,n),this}shutdown(t){this.isShutdown||(this.freeTimer(),super.shutdown(t))}setTypeMode(t){return typeof t=="string"&&(t=yU[t]),this.typeMode=t,this}setTypeSpeed(t){return this.speed=t,this}setTypingSpeed(t){return this.speed=t,this}setTextWrapEnable(t){return t===void 0&&(t=!0),this.textWrapEnable=t,this}set text(t){var n=Gy(t);this.textWrapEnable&&(n=xU(this.parent,n)),this._text=n}get text(){return this._text}get isTyping(){return this.getTimer()!==null}get isLastChar(){return this.typingIdx===this.textLen}start(t,n,x,C){return t!==void 0&&this.setTypingContent(t),n!==void 0&&(this.speed=n),x===void 0&&(x=0),this.typingIdx=x+1,this.speed===0?this.stop(!0):(this.setText(""),this.startTimer(C)),this}appendText(t){var n=this.text.concat(Gy(t));return this.isTyping?this.setTypingContent(n):this.start(n,void 0,this.textLen),this}stop(t){var n=this.getTimer();return n&&this.freeTimer(),t&&(this.typingIdx=this.textLen,this.setText(this.text),this.emit("type"),this.emit("complete",this,this.parent)),this}pause(){var t=this.getTimer();return t&&(t.paused=!0),this}resume(){var t=this.getTimer();return t&&(t.paused=!1),this}setTypingContent(t){return this.text=t,this.textLen=this.getTextLength(this.text),this}onTyping(){var t=this.getTypingString(this.text,this.typingIdx,this.textLen,this.typeMode);this.setText(t),this.emit("type"),this.isLastChar?(this.freeTimer(),this.emit("complete",this,this.parent)):(this.timer.delay=this.speed,this.typingIdx++)}getTypingString(t,n,x,C){var M;if(C===0){var h=0,y=n;this.insertIdx=y,M=this.getSubString(t,h,y)}else if(C===1){var y=x,h=y-n;this.insertIdx=0,M=this.getSubString(t,h,y)}else if(C===2){var e=x/2,h=Math.floor(e-n/2),y=h+n;this.insertIdx=n%2?n:0,M=this.getSubString(t,h,y)}else if(C===3){var f=Math.floor(n/2),d;if(f>0){var y=x,h=y-f;d=this.getSubString(t,h,y)}else d="";var s=n-f,a;if(s>0){var h=0,y=h+s;this.insertIdx=y,a=this.getSubString(t,h,y)}else a="",this.insertIdx=0;M=a+d}return M}startTimer(t){this.timer&&this.freeTimer();var n;return t===void 0?n=0:(this.speed,n=t),this.timer=this.scene.time.addEvent({delay:1e-4,startAt:n,loop:!0,callback:this.onTyping,callbackScope:this}),this}getTimer(){return this.timer}freeTimer(){return this.timer&&(this.timer.remove(),this.timer=null),this}setText(t){this.setTextCallback&&(this.setTextCallbackScope?t=this.setTextCallback.call(this.setTextCallbackScope,t,this.isLastChar,this.insertIdx):t=this.setTextCallback(t,this.isLastChar,this.insertIdx)),this.textWrapEnable?yg(this.parent,t):this.parent.setText(t)}getTextLength(t){var n=this.parent,x;return n.getPlainText?x=n.getPlainText(t).length:x=t.length,x}getSubString(t,n,x){var C=this.parent,M;return C.getSubString?M=C.getSubString(t,n,x):M=t.slice(n,x),M}}var Gy=function(i){return Array.isArray(i)?i=i.join(`
`):typeof i=="number"&&(i=i.toString()),i};const yU={"left-to-right":0,"right-to-left":1,"middle-to-sides":2,"sides-to-middle":3},Ny=Phaser.Utils.Objects.GetValue;var TU=function(i,t){t===void 0&&(t="rexTextBox");class n extends i{constructor(C,M){super(C,M),this.type=t;var h=this.childrenMap.text;this.page=new kf(h,Ny(M,"page",void 0)),this.typing=new Ag(h,Ny(M,"typing",M.type)),this.typing.on("complete",this.onPageEnd,this).on("type",this.onType,this),this.textWidth=h.width,this.textHeight=h.height}start(C,M){return this.page.setText(C),M!==void 0&&this.setTypingSpeed(M),this.emit("start"),this.typeNextPage(),this}typeNextPage(){if(this.isLastPage)this.emit("complete");else{var C=this.page.getNextPage();this.typing.start(C)}return this}pause(){return this.typing.pause(),this}resume(){return this.typing.resume(),this}stop(C){return this.typing.stop(C),this}setTypeSpeed(C){return this.typing.setTypingSpeed(C),this}setTypingSpeed(C){return this.typing.setTypingSpeed(C),this}get isTyping(){return this.typing.isTyping}get isLastPage(){return this.page.isLastPage}get isFirstPage(){return this.page.isFirstPage}get pageCount(){return this.page.pageCount}get pageIndex(){return this.page.pageIndex}onType(){var C=this.childrenMap.text;(this.textWidth!==C.width||this.textHeight!==C.height)&&(this.textWidth=C.width,this.textHeight=C.height,this.getTopmostSizer().layout()),this.emit("type")}onPageEnd(){this.emit("pageend"),this.isLastPage&&this.emit("complete")}}return n};class uE extends TU(cg){constructor(t,n){n===void 0&&(n={}),n.hasOwnProperty("layoutMode")||(n.layoutMode=1),super(t,n)}}rt.register("textBox",function(i){var t=new uE(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.TextBox",uE);const si=Phaser.Utils.Objects.GetValue;class fE extends Ot{constructor(t,n){super(t,n),this.type="rexNumberBar";var x=si(n,"background",void 0),C=si(n,"icon",void 0),M=si(n,"iconMask",void 0),h=si(n,"slider",void 0),y=si(n,"text",void 0),e=si(n,"space.icon",0),f=si(n,"space.slider",0);if(x&&this.addBackground(x),C){var d;this.orientation===0?(h||y)&&(d={right:e}):(h||y)&&(d={bottom:e}),this.add(C,{proportion:0,align:"center",padding:d}),M&&(M=Zi.call(this,C,C,1))}var s;if(h){h.orientation=this.orientation,h.eventEmitter=this,h.value=null,h.hasOwnProperty("input")||(h.input=-1),s=new Ua(t,h),t.add.existing(s);var d;this.orientation===0?y&&(d={right:f}):y&&(d={bottom:f});var a;if(this.orientation===0){var r=si(h,"width",void 0);a=r===void 0?1:0}else{var o=si(h,"height",void 0);a=o===void 0?1:0}this.add(s,{proportion:a,align:"center",padding:d})}y&&this.add(y),this.addChildrenMap("background",x),this.addChildrenMap("icon",C),this.addChildrenMap("iconMask",M),this.addChildrenMap("slider",s),this.addChildrenMap("text",y);var u=si(n,"valuechangeCallback",null);if(u!==null){var v=si(n,"valuechangeCallbackScope",void 0);this.on("valuechange",u,v)}this.setEnable(si(n,"enable",void 0)),this.setValue(si(n,"value",0))}get enable(){return this.childrenMap.slider?this.childrenMap.slider.enable:!1}set enable(t){this.childrenMap.slider&&this.childrenMap.slider.setEnable(t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}setValue(t,n,x){return this.childrenMap.slider&&this.childrenMap.slider.setValue(t,n,x),this}addValue(t,n,x){return this.childrenMap.slider&&this.childrenMap.slider.addValue(t,n,x),this}getValue(t,n){return this.childrenMap.slider?this.childrenMap.slider.getValue(t,n):0}easeValueTo(t,n,x){return this.childrenMap.slider&&this.childrenMap.slider.easeValueTo(t,n,x),this}stopEaseValue(){return this.childrenMap.slider&&this.childrenMap.slider.stopEaseValue(),this}setEaseValueDuration(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueDuration(t),this}setEaseValueFunction(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueFunction(t),this}get text(){var t=this.childrenMap.text;if(t===void 0)return"";var n;return t.text?n=t.text:n=t.getData("text"),n}set text(t){var n=this.childrenMap.text;n!==void 0&&(n.setText?n.setText(t):n.setData("text",t))}setText(t){return this.text=t,this}}rt.register("numberBar",function(i){var t=new fE(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.NumberBar",fE);rt.register("scrollBar",function(i){var t=new mg(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.ScrollBar",mg);const wc=Phaser.Utils.Objects.GetValue,Vy={leftTop:"left-top",centerTop:"center-top",rightTop:"right-top",leftCenter:"left-center",center:"center",rightCenter:"right-center",leftBottom:"left-bottom",centerBottom:"center-bottom",rightBottom:"right-bottom"};class dE extends Li{constructor(t,n){super(t,n),this.type="rexBadge";var x=wc(n,"background",void 0);x&&this.addBackground(x),this.addChildrenMap("background",x);var C=wc(n,"main",void 0);C&&this.add(C,{key:"main",align:"center",expand:!1}),this.addChildrenMap("main",C);for(var M in Vy){var h=wc(n,M,void 0);h&&(this.add(h,{key:M,align:Vy[M],expand:!1}),this.addChildrenMap(M,h))}}}rt.register("badgeLabel",function(i){var t=new dE(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.BadgeLabel",dE);const CU=Li.prototype.add;var zy=function(i,t,n,x,C,M,h,y,e){return i.setVisible(!1),CU.call(this,i,t,n,x,C,M,h,y,e),this};const SU={add:zy,addPage:zy};var MU=function(i){return i===void 0?null:this.sizerChildren.hasOwnProperty(i)?this.sizerChildren[i]:null};const ky=ci.prototype.setChildVisible;var EU=function(i,t){this._previousKey=this._currentKey;var n=this.previousPage;n&&(this.swapMode===0?(ky.call(this,n,!1),this.emit("pageinvisible",n,this._previousKey,this)):n.destroy()),i&&!this.sizerChildren.hasOwnProperty(i)&&this.emit("createpage",i,this),this._currentKey=i;var x=this.currentPage;return x&&(ky.call(this,x,!0),this.emit("pagevisible",x,this._currentKey,this),t===void 0&&(t=this.fadeInDuration),t>0&&x.setAlpha(0).fadeIn(t,1)),this},PU=function(i){return this.sizerChildren.hasOwnProperty(i)},cE={getPage:MU,swapPage:EU,hasPage:PU};Object.assign(cE,SU);const Uy=Phaser.Utils.Objects.GetValue;class Uf extends Li{constructor(t,n){super(t,n),this.type="rexPages",this.childrenMap=this.sizerChildren,this._previousKey=void 0,this._currentKey=void 0,this.setSwapMode(Uy(n,"swapMode",0)),this.setFadeInDuration(Uy(n,"fadeIn",0))}setSwapMode(t){return typeof t=="string"&&(t=RU[t]),this.swapMode=t,this}setFadeInDuration(t){return this.fadeInDuration=t,this}get previousKey(){return this._previousKey}get currentKey(){return this._currentKey}set currentKey(t){this.swapPage(t)}get currentPage(){return this.getPage(this.currentKey)}get previousPage(){return this.getPage(this.previousKey)}get keys(){return Object.keys(this.sizerChildren)}}Object.assign(Uf.prototype,cE);const RU={invisible:0,destroy:1};rt.register("pages",function(i){var t=new Uf(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.Pages",Uf);const vE=Phaser.Math.Vector3,AU=Phaser.Math.Matrix4;var Xy=new vE,Yy=new vE,Wy=new AU,wU=function(i,t,n,x,C,M,h){t===void 0&&(t=0),n===void 0&&(n=0),x===void 0&&(x=0),C===void 0&&(C=0),M===void 0&&(M=0),h===void 0&&(h=0),Xy.set(t,n,x),Yy.set(C,M,h),Wy.fromRotationXYTranslation(Yy,Xy,!0);for(var y=0,e=i.vertices.length;y<e;y++)i.vertices[y].transformMat4(Wy)};const OU=Phaser.GameObjects.Mesh,LU=Phaser.Utils.Objects.IsPlainObject,Kn=Phaser.Utils.Objects.GetValue,FU=Phaser.Geom.Mesh.GenerateGridVerts,Oc=Phaser.Math.RadToDeg,iu=Phaser.Math.DegToRad,pE=45,IU=1+1/Math.sin(iu(pE));let gE=class extends OU{constructor(t,n,x,C,M,h){LU(n)&&(h=n,n=Kn(h,"x",0),x=Kn(h,"y",0),C=Kn(h,"key",null),M=Kn(h,"frame",null)),super(t,n,x,C,M),this.type="rexPerspectiveImage",this.setSizeToFrame(),this.resetPerspective(),this.panZ(IU),this.hideCCW=Kn(h,"hideCCW",!0);var y=Kn(h,"gridWidth",32),e=Kn(h,"gridHeight",y);this.resetVerts(y,e)}get originX(){return .5}get originY(){return .5}resetPerspective(){return this.setPerspective(this.width,this.height,pE),this}resetVerts(t,n){if(t!==void 0&&(this.gridWidth=t),n!==void 0&&(this.gridHeight=n),this.clear(),this.dirtyCache[9]=-1,this.width===0||this.height===0)return this;var x=this.frame.cutWidth,C=this.frame.cutHeight;FU({mesh:this,texture:this.texture.key,frame:this.frame.name,width:x/this.height,height:C/this.height,widthSegments:Math.ceil(x/this.gridWidth),heightSegments:Math.ceil(C/this.gridHeight)});var M=this.transformInfo;return M&&this.transformVerts(M.x,M.y,M.z,M.rotateX,M.rotateY,M.rotateZ),this}syncSize(){return this.setSizeToFrame(),this.resetPerspective(),this.resetVerts(),this}get rotationX(){return this.modelRotation.x}set rotationX(t){this.modelRotation.x=t}get angleX(){return Oc(this.rotationX)}set angleX(t){this.rotationX=iu(t)}get rotationY(){return this.modelRotation.y}set rotationY(t){this.modelRotation.y=t}get angleY(){return Oc(this.rotationY)}set angleY(t){this.rotationY=iu(t)}get rotationZ(){return this.modelRotation.z}set rotationZ(t){this.modelRotation.z=t}get angleZ(){return Oc(this.rotationZ)}set angleZ(t){this.rotationZ=iu(t)}transformVerts(t,n,x,C,M,h){return t===void 0&&(t=0),n===void 0&&(n=0),x===void 0&&(x=0),C===void 0&&(C=0),M===void 0&&(M=0),h===void 0&&(h=0),this.transformInfo||(this.transformInfo={}),this.transformInfo.x=t,this.transformInfo.y=n,this.transformInfo.rotateX=C,this.transformInfo.rotateY=M,this.transformInfo.rotateZ=h,wU(this,t,n,x,C,M,h),this}forceUpdate(){return this.dirtyCache[10]=1,this}get tint(){return this.vertices.length===0?16777215:this.vertices[0].color}};const DU=Phaser.Textures.DynamicTexture;var mE=function(i,t,n){t===void 0&&(t=2),n===void 0&&(n=2);var x=new DU(i.sys.textures,null,t,n);return x};const BU=Phaser.Utils.Objects.IsPlainObject,Fl=Phaser.Utils.Objects.GetValue;class xE extends gE{constructor(t,n,x,C,M,h){BU(n)&&(h=n,n=Fl(h,"x",0),x=Fl(h,"y",0),C=Fl(h,"width",32),M=Fl(h,"height",32));var y=mE(t,C,M);super(t,n,x,y,null,h),this.type="rexPerspectiveRenderTexture",this.rt=this.texture}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.rt.destroy(),this.rt=null)}snapshot(t,n){return n===void 0&&(n={}),n.gameObjects=t,n.renderTexture=this.rt,A0(n),(this.width!==this.frame.realWidth||this.height!==this.frame.realHeight)&&this.syncSize(),this}}Phaser.Animations.AnimationState;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;var Xi=function(i,t,n,x){if(Array.isArray(i))for(var C=!1,M=0,h=i.length;M<h;M++){var y=i[M];if(!(x&&!y)&&(n?C=t.call(n,y,M,i):C=t(y,M,i),C))return}else{var C=!1;for(var e in i){var y=i[e];if(!(x&&!y)&&(n?C=t.call(n,y,e,i):C=t(y,e,i),C))return}}};const Lc=Phaser.Math.RadToDeg,Fc=Phaser.Math.DegToRad;class bU extends ci{constructor(t,n,x,C,M,h){super(t,n,x,C,M),this.faces=h,Xi(h,function(y){y.setPosition(n,x),this.add(y)},this,!0)}get rotationX(){return 0}set rotationX(t){}get angleX(){return Lc(this.rotationX)}set angleX(t){this.rotationX=Fc(t)}get rotationY(){return 0}set rotationY(t){}get angleY(){return Lc(this.rotationY)}set angleY(t){this.rotationY=Fc(t)}get rotationZ(){return 0}set rotationZ(t){}get angleZ(){return Lc(this.rotationZ)}set angleZ(t){this.rotationZ=Fc(t)}setDebug(t,n){return Xi(this.faces,function(x){x.setDebug(t,n)},null,!0),this}panX(t){return Xi(this.faces,function(n){n.panX(t)},null,!0),this}panY(t){return Xi(this.faces,function(n){n.panY(t)},null,!0),this}panZ(t){return Xi(this.faces,function(n){n.panZ(t)},null,!0),this}transformVerts(t,n,x,C,M,h){return Xi(this.faces,function(y){y.transformVerts(t,n,x,C,M,h)},null,!0),this}forEachFace(t,n,x){return Xi(this.faces,t,n,x),this}}const GU=Phaser.Utils.Objects.IsPlainObject,NU={key:"__WHITE"},VU={image:gE,rendertexture:xE};var Hy=function(i,t){t===void 0&&(t=NU);var n;return GU(t)?(t.hasOwnProperty("type")||(t.hasOwnProperty("key")?t.type="image":t.hasOwnProperty("width")&&(t.type="rendertexture")),n=new VU[t.type](i,t),i.add.existing(n)):n=t,n},zU=function(i,t,n){var x;if(n===void 0){x=[];for(var C,M,h=0,y=t.length;h<y;h++)M=t[h],M?C=Hy(i,M):C=null,x.push(C)}else{x={};for(var C,e,h=0,y=n.length;h<y;h++)e=n[h],t.hasOwnProperty(e)?C=Hy(i,t[e]):C=null,x[e]=C}return x};const kU=Phaser.Math.DegToRad,$y=kU(180);var UU=function(i,t){var n=t.back;n&&(i.orientation===0?n.transformVerts(0,0,0,0,$y,0):n.transformVerts(0,0,0,$y,0,0))};const Ic=Phaser.Utils.Objects.GetValue,XU=Phaser.Math.Linear;let YU=class extends xr{constructor(t,n){super(t,n),this.resetFromJSON(n),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setEase(Ic(t,"ease","Cubic")),this.setFrontToBackDirection(Ic(t,"frontToBack",0)),this.setBackToFrontDirection(Ic(t,"backToFront",1)),this}setFrontToBackDirection(t){return typeof t=="string"&&(t=Ky[t]),this.endAngleFB=t===0?180:-180,this}setBackToFrontDirection(t){return typeof t=="string"&&(t=Ky[t]),this.endAngleBF=t===0?-180:180,this}start(t,n){if(this.timer.isRunning)return this;this.timer.setDelay(this.delay).setDuration(t);var x=n+1,C=this.parent;return C.face===0?(this.startAngle=0,this.endAngle=this.endAngleFB*x):(this.startAngle=this.endAngleBF,this.endAngle=this.startAngle-this.endAngleBF*x),super.start(),this}flip(t,n){return this.isRunning?this:(t===void 0&&(t=this.duration),n===void 0&&(n=0),this.start(t,n),this.emit("start",this.parent,this),this.parent.currentFaceIndex=(this.parent.currentFaceIndex+n+1)%2,this)}flipRight(t,n){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(0):this.setBackToFrontDirection(0),this.flip(t,n),this}flipLeft(t,n){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(1):this.setBackToFrontDirection(1),this.flip(t,n),this}updateGameObject(t,n){var x=this.easeFn(n.t),C=XU(this.startAngle,this.endAngle,x);t.orientation===0?t.angleY=C:t.angleX=C}};const Ky={right:0,"left-to-right":0,left:1,"right-to-left":1},WU=Phaser.Utils.Objects.IsPlainObject,jn=Phaser.Utils.Objects.GetValue,HU=["back","front"];class $U extends bU{constructor(t,n,x,C){WU(n)&&(C=n,n=jn(C,"x",0),x=jn(C,"y",0));var M=zU(t,C,HU),h=M.back,y=M.front,e=jn(C,"width"),f=jn(C,"height");if(e===void 0||f===void 0){if(e===void 0){var d=y?y.width:0,s=h?h.width:0;e=Math.max(d,s)}if(f===void 0){var a=y?y.height:0,r=h?h.height:0;f=Math.max(a,r)}}super(t,n,x,e,f,M),this.type="rexPerspectiveCard",this.frontFaceRotationX=0,this.frontFaceRotationY=0,this.frontFaceRotationZ=0,Xi(M,function(u,v){this[`${v}Face`]=u},this);var o=jn(C,"flip",void 0);o!==!1&&(this.flip=new YU(this,o)),this.setOrientation(jn(C,"orientation",0)),UU(this,M),this.setFace(jn(C,"face",0))}get rotationX(){return this.frontFaceRotationX}set rotationX(t){this.frontFaceRotationX!==t&&(this.frontFaceRotationX=t,Xi(this.faces,function(n){n.rotationX=t},null,!0))}get rotationY(){return this.frontFaceRotationY}set rotationY(t){this.frontFaceRotationY!==t&&(this.frontFaceRotationY=t,Xi(this.faces,function(n){n.rotationY=t},null,!0))}get rotationZ(){return this.frontFaceRotationZ}set rotationZ(t){this.frontFaceRotationZ!==t&&(this.frontFaceRotationZ=t,Xi(this.faces,function(n){n.rotationZ=t},null,!0))}setOrientation(t){return typeof t=="string"&&(t=KU[t]),this.orientation=t,this}get face(){return this.currentFaceIndex}set face(t){typeof t=="string"&&(t=jU[t]),this.currentFaceIndex=t;var n=t===1,x=n?180:0;this.orientation===0?this.angleY=x:this.angleX=x}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}}const KU={x:0,horizontal:0,h:0,y:1,vertical:1,v:1},jU={front:0,back:1};Phaser.Utils.Objects.GetValue;Phaser.Math.RadToDeg;Phaser.Math.DegToRad;Phaser.Math.Angle.WrapDegrees;Phaser.Math.Angle.ShortestBetween;Phaser.Math.Wrap;Phaser.Math.Linear;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;Phaser.Math.DegToRad;Phaser.Math.RadToDeg;Phaser.Math.Angle.WrapDegrees;Phaser.Math.Linear;Phaser.Math.Wrap;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;Phaser.Math.Wrap;const ZU=Phaser.Utils.Objects.GetValue;var JU=function(i,t,n){t.visibleSibling=[],t.isRunning=!1,t.useParentBounds=ZU(n,"useParentBounds",!1),t.setPosition(i.x,i.y).setVisible(!1),i.pin(t)},yE=function(i,t){if(!i)return!1;for(var n=t.visibleSibling,x=0,C=n.length;x<C;x++)i.setChildVisible(n[x],!0);return n.length=0,i.setChildVisible(t,!1),t.isRunning=!1,!0},QU=function(i,t){if(!i)return!1;yE(i,t);var n=t.useParentBounds;A0({gameObjects:i.getAllVisibleChildren(),renderTexture:t.rt,x:t.x,y:t.y,width:n?i.displayWidth:void 0,height:n?i.displayHeighth:void 0,originX:n?i.originX:void 0,originY:n?i.originY:void 0}),i.setChildVisible(t,!0);for(var x=t.visibleSibling,C=i.children,M=0,h=C.length;M<h;M++){var y=C[M];y.visible&&y!==t&&(i.setChildVisible(y,!1),x.push(y))}return t.isRunning=!0,!0},TE=function(i){return class extends i{constructor(n,x){var C=n.scene;super(C,0,0,1,1,x),C.add.existing(this),JU(n,this,x)}destroy(n){!this.scene||this.ignoreDestroy||(this.exit(),super.destroy(n))}enter(){var n=QU(this.rexContainer.parent,this);return n&&this.syncSize(),this}exit(){return yE(this.rexContainer.parent,this),this}}};class CE extends TE(xE){get perspectiveState(){return this.isRunning}}const qU=Phaser.Utils.Objects.GetValue;var _U=function(i){var t=this.scene;this.setSnapshotPadding(qU(i,"snapshotPadding",0)),i=dr(i),delete i.width,delete i.height,i.front={width:1,height:1},i.back={width:1,height:1};var n=new $U(t,i);t.add.existing(n);var x=n.flip;if(x){var C=this;x.on("start",function(){C.enterPerspectiveMode()}).on("complete",function(){C.exitPerspectiveMode()})}return n};const tX=["front","back"],eX={enterPerspectiveMode(){return this.isInPerspectiveMode?this:(this.setChildVisible(this.perspectiveCard,!0),this.snapshotFace(0),this.snapshotFace(1),this.setChildVisible(this.childrenMap.front,!1),this.setChildVisible(this.childrenMap.back,!1),this.perspectiveCard.setSize(this.width,this.height),this)},exitPerspectiveMode(){if(!this.isInPerspectiveMode)return this;this.setChildVisible(this.perspectiveCard,!1);var i=this.perspectiveCard.face===0;return this.setChildVisible(this.childrenMap.front,i),this.setChildVisible(this.childrenMap.back,!i),this},setSnapshotPadding(i){return this.snapshotPadding=i,this},snapshotFace(i){typeof i=="number"&&(i=tX[i]);var t=this.perspectiveCard.faces[i],n=this.childrenMap[i];t.rt.clear();var x=n.visible;n.visible=!0;var C=n.isRexContainerLite?n.getAllVisibleChildren():n;return t.snapshot(C,{padding:this.snapshotPadding}),n.visible=x,this}},jy=Phaser.Utils.Objects.GetValue;class wg extends Li{constructor(t,n){super(t,n),this.type="rexPerspectiveCard";var x=n.back,C=jy(n,"expand.back",!0);this.add(x,{key:"back",expand:C});var M=n.front,h=jy(n,"expand.front",!0);this.add(M,{key:"front",expand:h}),this.perspectiveCard=_U.call(this,n),this.pin(this.perspectiveCard),this.exitPerspectiveMode(!1)}get flip(){return this.perspectiveCard.flip}get face(){return this.perspectiveCard.face}set face(t){if(!(this.flip&&this.flip.isRunning)){this.perspectiveCard.face=t;var n=t===0,x=this.childrenMap.front,C=this.childrenMap.back;this.setChildVisible(x,n),this.setChildVisible(C,!n)}}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}get isInPerspectiveMode(){return this.perspectiveCard.visible}get rotationX(){return this.perspectiveCard.rotationX}set rotationX(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationX=t}get angleX(){return this.perspectiveCard.angleX}set angleX(t){this.enterPerspectiveMode(),this.perspectiveCard.angleX=t}get rotationY(){return this.perspectiveCard.rotationY}set rotationY(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationY=t}get angleY(){return this.perspectiveCard.angleY}set angleY(t){this.enterPerspectiveMode(),this.perspectiveCard.angleY=t}get rotationZ(){return this.perspectiveCard.rotationZ}set rotationZ(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationZ=t}get angleZ(){return this.perspectiveCard.angleZ}set angleZ(t){this.enterPerspectiveMode(),this.perspectiveCard.angleZ=t}panX(t){return this.enterPerspectiveMode(),this.perspectiveCard.panX(t),this}panY(t){return this.enterPerspectiveMode(),this.perspectiveCard.panY(t),this}panZ(t){return this.enterPerspectiveMode(),this.perspectiveCard.panZ(t),this}transformVerts(t,n,x,C,M,h){return this.enterPerspectiveMode(),this.perspectiveCard.transformVerts(t,n,x,C,M,h),this}forEachFace(t,n,x){return this.enterPerspectiveMode(),this.perspectiveCard.forEachFace(t,n,x),this}}Object.assign(wg.prototype,eX);rt.register("perspectiveCard",function(i){var t=new wg(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.PerspectiveCard",wg);var iX=function(i){var t=this.getElement("tabs.buttons");if(!(i>=t.length))return t[i].name},sX=function(i){for(var t=this.getElement("tabs.buttons"),n=0,x=t.length;n<x;n++)if(t[n].name===i)return n};const nX=Phaser.Utils.Objects.IsPlainObject,Dc=Phaser.Utils.Objects.GetValue,rX=Phaser.Utils.String.UUID;var aX=function(i,t,n){if(nX(i)){var x=i;i=Dc(x,"key"),t=Dc(x,"tab"),n=Dc(x,"page")}return i||(i=rX()),t.name=i,this.childrenMap.tabs.addButton(t),this.childrenMap.pages.addPage(n,{key:i}),this},oX=function(i,t){var n;if(typeof i=="number"?n=i:n=this.getPageIndex(i),n!=null){var x;t!==void 0&&(x=this.childrenMap.pages.fadeInDuration,this.childrenMap.pages.fadeInDuration=t),this.childrenMap.tabs.emitButtonClick(n),x!==void 0&&(this.childrenMap.pages.fadeInDuration=x)}return this},hX=function(i){return this.swapPage(0,i),this},lX=function(i){var t=this.getElement("tabs.buttons").length-1;return this.swapPage(t,i),this};const uX={swapPage:oX,swapFirstPage:hX,swapLastPage:lX};var fX=function(i,t){typeof i=="number"&&(i=this.getPageKey(i));var n=this.childrenMap.tabs,x=n.getByName(i),C=this.childrenMap.pages,M=C.getElement(i);return!x||!M?this:(C.removeChildrenMap(i),n.removeButton(x,t),C.remove(M,t),this)};const dX={removePage:fX};var cX=function(i){return typeof i=="number"&&(i=this.getPageKey(i)),this.childrenMap.pages.getPage(i)},vX=function(i){var t;return typeof i=="number"?t=i:t=this.getPageIndex(i),this.getElement("tabs.buttons")[t]},SE={getPageKey:iX,getPageIndex:sX,addPage:aX,getPage:cX,getTab:vX};Object.assign(SE,uX,dX);const Zn=Phaser.Utils.Objects.GetValue,Il=Ot.prototype.add;let Xf=class extends Ot{constructor(t,n){n===void 0&&(n={});var x=Zn(n,"tabPosition","top"),C=x==="left"||x==="right"?"x":"y";n.orientation=C,super(t,n),this.type="rexTabPages";var M=Zn(n,"background",void 0);M&&this.addBackground(M);var h=Zn(n,"pages"),y=new Uf(t,h);t.add.existing(y);var e=C==="y",f=e?Zn(n,"wrapTabs",!1):!1,d=Zn(n,"tabs",void 0);d===void 0&&(d={});var s=f?vr:Ce;d.orientation=e?"x":"y",d.buttonsType="radio";var a=new s(t,d);t.add.existing(a);var r=f?!0:Zn(n,"expand.tabs",!1),o=Zn(n,"align.tabs","left");switch(x){case"top":case"left":Il.call(this,a,{proportion:0,expand:r,align:o}),Il.call(this,y,{proportion:1,expand:!0});break;case"bottom":case"right":Il.call(this,y,{proportion:1,expand:!0}),Il.call(this,a,{proportion:0,expand:r,align:o});break}this.addChildrenMap("background",M),this.addChildrenMap("tabs",a),this.addChildrenMap("pages",y),a.on("button.click",function(u){var v=u.name;y.hasPage(v)&&y.swapPage(v)}),a.on("button.statechange",function(u,v,l,c){var p=l?"tab.focus":"tab.blur";this.emit(p,u,u.name)},this),y.on("pagevisible",function(u,v,l){this.emit("page.focus",u,v)}),y.on("pageinvisible",function(u,v,l){this.emit("page.blur",u,v)})}get currentKey(){return this.getElement("pages").currentKey}set currentKey(t){this.showPage(t)}get keys(){return this.getElement("pages").keys}get currentPage(){return this.getElement("pages").currentPage}get previousPage(){return this.getElement("pages").previousPage}};Object.assign(Xf.prototype,SE);rt.register("tabPages",function(i){var t=new Xf(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.TabPages",Xf);class pX extends gf{constructor(t,n){n===void 0&&(n={}),n.destroy=!1,super(t,n)}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}}const gX={expand(i){if(this.expanded===!0)return this;i===void 0&&(i=this.transitionDuration),this.expanded=!0;var t=this.childrenMap.title,n=this.childrenMap.child;this.show(n);var x=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();return x.layout(),t.emit("folder.expand",i,this),n.emit("folder.expand",i,this),this.emit("expand.start",this),this.childTransition.once("open",function(){this.emit("expand.complete",this)},this).requestOpen(null,i),this},collapse(i){if(this.expanded===!1)return this;i===void 0&&(i=this.transitionDuration),this.expanded=!1;var t=this.childrenMap.title,n=this.childrenMap.child;return t.emit("folder.collapse",i,this),n.emit("folder.collapse",i,this),this.emit("collapse.start",this),this.childTransition.once("close",function(){this.setChildScale(n,1,1).hide(n);var x=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();x.layout(),this.emit("collapse.complete",this)},this).requestClose(null,i),this},toggle(i){return this.expanded?this.collapse(i):this.expand(i),this}};var mX=function(i,t){W0.popUp.call(i,t,this.expandDirection)},xX=function(i,t){W0.scaleDown.call(i,t,this.expandDirection)};const yX={setTransitionDuration(i){return this.transitionDuration=i,this.childTransition.setTransitInTime(i).setTransitOutTime(i),this},setExpandCallback(i){return i===void 0&&(i=mX.bind(this)),this.childTransition.setTransitInCallback(i),this},setCollapseCallback(i){return i===void 0&&(i=xX.bind(this)),this.childTransition.setTransitOutCallback(i),this}},Gi=Phaser.Utils.Objects.GetValue;let Yf=class extends Ot{constructor(t,n){n===void 0&&(n={}),n.hasOwnProperty("orientation")||(n.orientation=1),super(t,n),this.type="rexFolder",this.expanded=void 0,this.expandDirection=this.orientation===1?"y":"x";var x=n.background,C=n.title,M=n.child;x&&this.addBackground(x);var h=this.orientation===1?"left":"top",s=Gi(n,"align.title",h),a=Gi(n,"expand.title",!0);this.add(C,{proportion:0,align:s,expand:a});var y=Gi(n,"toggleByTarget",void 0),e=Gi(n,"toggleClickConfig");y===void 0&&(y=C),y&&dM.onClick.call(y,function(){this.toggle()},this,e),this.childTransition=new pX(M);var f=Gi(n,"customChildOrigin",!1);if(!f){var d=this.rtl?1:0;M.setOrigin(d)}var s=Gi(n,"align.child","left"),a=Gi(n,"expand.child",!0),r=a?1:0;this.add(M,{proportion:r,align:s,expand:a}),this.addChildrenMap("title",C),this.addChildrenMap("child",M),this.addChildrenMap("background",x);var o=n.transition;this.setTransitionDuration(Gi(o,"duration",200)),this.setExpandCallback(Gi(o,"expandCallback",void 0)),this.setCollapseCallback(Gi(o,"collapseCallback",void 0)),this.reLayoutTarget=Gi(n,"reLayoutTarget",void 0);var u=n.onExpandStart;u&&this.on("expand.start",u);var v=n.onExpandComplete;v&&this.on("expand.complete",v);var l=n.onCollapseStart;l&&this.on("collapse.start",l);var c=n.onCollapseComplete;c&&this.on("collapse.complete",c)}};Object.assign(Yf.prototype,gX,yX);rt.register("folder",function(i){var t=new Yf(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.Folder",Yf);rt.register("textArea",function(i){var t=new Rh(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.TextArea",Rh);var TX=function(){if(this.rexSizer.hidden)return 0;var i,t=this.child,n=t.rexSizer;return n.hidden?i=0:this.scrollMode===0?i=this.getChildWidth(t):i=0,i},CX=function(){if(this.rexSizer.hidden)return 0;var i,t=this.child,n=t.rexSizer;return n.hidden||this.scrollMode===0?i=0:i=t.isRexSizer?Math.max(t.minHeight,t.childrenHeight):t.hasOwnProperty("minHeight")?t.minHeight:It(t),i},SX=function(i){return i===void 0&&(i=[]),this.child&&this.child.isRexSizer&&i.push(this.child),i},MX=function(){var i=this.left,t=this.top;this.scrollMode===0?t+=this.childOY:i+=this.childOY,this.child.setPosition(i,t),this.resetChildPositionState(this.child),this.setMaskChildrenFlag()},EX=function(){var i=this.child,t,n;i.rexSizer.hidden||(this.scrollMode===0?t=this.width:n=this.height,i.isRexSizer?i.runLayout(this,t,n):ji(i,t,n),this.resetChildPosition(),this.layoutChildrenMask(),this.maskChildren())},ME={getChildrenWidth:TX,getChildrenHeight:CX,getChildrenSizers:SX,resetChildPosition:MX,layoutChildren:EX};Object.assign(ME,qM);const Zy=Phaser.Utils.Objects.IsPlainObject,Ni=Phaser.Utils.Objects.GetValue,PX=Phaser.Display.Align.TOP_LEFT;class EE extends Sr{constructor(t,n,x,C,M,h){Zy(n)?(h=n,n=Ni(h,"x",0),x=Ni(h,"y",0),C=Ni(h,"width",void 0),M=Ni(h,"height",void 0)):Zy(C)&&(h=C,C=Ni(h,"width",void 0),M=Ni(h,"height",void 0)),super(t,n,x,C,M,h),this.type="rexScrollableBlock",this.child=void 0,this.childrenMask=void 0,this._childOY=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.setScrollMode(Ni(h,"scrollMode",!0)),this.setClampMode(Ni(h,"clamplChildOY",!0));var y=Ni(h,"child",void 0),e=Ni(h,"expand",!0);y.setOrigin&&y.setOrigin(0),this.add(y),this.sizerChildren=[y];var f=this.getSizerConfig(y);f.align=PX,f.expand=e,this.child=y,this.setupChildrenMask(Ni(h,"mask",void 0)),this.maskGameObject=Mg(this.childrenMask)}destroy(t){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.child=void 0,super.destroy(t))}setScrollMode(t){return typeof t=="string"&&(t=WM[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t){return t===void 0&&(t=!0),this.clampChildOY=t,this}get instHeight(){return this.scrollMode===0?this.height:this.width}get instWidth(){return this.scrollMode===0?this.width:this.height}get childHeight(){return this.scrollMode===0?It(this.child):Vt(this.child)}get childWidth(){return this.scrollMode===0?Vt(this.child):It(this.child)}get topChildOY(){return 0}get bottomChildOY(){return-this.visibleHeight}get childVisibleHeight(){return this.instHeight}get visibleHeight(){var t=this.childHeight-this.childVisibleHeight;return t<0&&(t=0),t}childOYExceedTop(t){return t===void 0&&(t=this.childOY),t>this.topChildOY}childOYExeceedBottom(t){return t===void 0&&(t=this.childOY),t<this.bottomChildOY}get childOY(){return this._childOY}set childOY(t){var n=this.topChildOY,x=this.bottomChildOY,C=this.childOYExceedTop(t),M=this.childOYExeceedBottom(t);this.clampChildOY&&(this.childVisibleHeight>this.childHeight?t=0:C?t=n:M&&(t=x)),this._childOY!==t&&(this._childOY=t,this.resetChildPosition()),C&&(this.execeedTopState||this.emit("execeedtop",this,t,n)),this.execeedTopState=C,M&&(this.execeedBottomState||this.emit("execeedbottom",this,t,x)),this.execeedBottomState=M}setChildOY(t){return this.childOY=t,this}set t(t){this.childOY=-this.visibleHeight*t}get t(){var t=this.visibleHeight;return t===0?0:this.childOY/-t}setChildOYByPercentage(t){return this.t=t,this}}Object.assign(EE.prototype,ME);var RX=function(i,t){if(!this.hasChild(i))return this;var n;if(this.scrollMode===0)switch(t){case Ti.top:case"top":n=this.top-i.getTopLeft().y;break;case Ti.bottom:case"bottom":n=this.bottom-i.getBottomLeft().y;break;case Ti.center:case"center":n=this.centerY-i.getCenter().y;break;default:var x=this.top-i.getTopLeft().y,C=this.bottom-i.getBottomLeft().y;x<=0&&C>=0?n=0:n=Math.abs(x)<=Math.abs(C)?x:C;break}else switch(t){case Ti.left:case"left":n=this.left-i.getTopLeft().x;break;case Ti.right:case"right":n=this.right-i.getTopRight().x;break;case Ti.center:case"center":n=this.centerX-i.getCenter().x;break;default:var M=this.left-i.getTopLeft().x,h=this.right-i.getTopRight().x;M<=0&&h>=0?n=0:n=Math.abs(M)<=Math.abs(h)?M:h;break}return this.childOY+=n,this};const Co=Phaser.Utils.Objects.GetValue;class Og extends Bf{constructor(t,n){n===void 0&&(n={});var x=Df(n),C=Co(n,"panel",void 0);C===void 0&&(C={}),C.scrollMode=x,C.clamplChildOY=Co(n,"clamplChildOY",!1);var M=new EE(t,C);t.add.existing(M);var h=Co(C,"width",void 0),y=Co(C,"height",void 0),e,f;x===0?(e=h===void 0?1:0,f=y===void 0):(e=y===void 0?1:0,f=h===void 0),n.type="rexScrollablePanel",n.child={gameObject:M,proportion:e,expand:f};var d=Co(n,"space",void 0);d&&(d.child=d.panel),super(t,n),this.addChildrenMap("panel",M.child),this.addChildrenMap("panelLayer",M.maskLayer),this.addChildrenMap("mask",M.maskGameObject)}setChildrenInteractive(t){return t===void 0&&(t={}),t.hasOwnProperty("eventEmitter")||(t.eventEmitter=this),t.hasOwnProperty("targets")||(t.targets=[this.childrenMap.panel]),tg(this.childrenMap.child,t),this}}var AX={scrollToChild:RX};Object.assign(Og.prototype,AX);rt.register("scrollablePanel",function(i){var t=new Og(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.ScrollablePanel",Og);const Dl={popUp:function(i,t){i.popUp(t)},scaleDown:function(i,t){i.scaleDown(t)},fadeIn:function(i,t){i.fadeIn(t)},fadeOut:function(i,t){i.fadeOut(t)}};var sp=function(i,t,n){var x=Nt(n,"reverse",!1),C;if(Ki(i[0]))if(x)for(var h=i.length,M=h-1;M>=0;M--)C=sp(i[M],t,n);else for(var M=0,h=i.length;M<h;M++)C=sp(i[M],t,n);else C=wX(i,t,n);return C},wX=function(i,t,n){var x=Nt(n,"argsConvert",void 0),C=Nt(n,"argsConvertScope",void 0),M=i[0];if(Zs=S0(Zs,i,1),x){x===!0&&(x=g0,C=void 0);for(var h=0,y=Zs.length;h<y;h++)C?Zs[h]=x.call(C,Zs[h],i):Zs[h]=x(Zs[h],i)}var e;typeof M=="string"?(e=t[M],e==null&&(e=Nt(t,M,null))):e=M;var f=e.apply(t,Zs);return f},Zs=[];const Vi=Phaser.Utils.Objects.GetValue;class OX extends me{constructor(t,n){super(t,n);var x=Vi(n,"clock",void 0);x||(x=new M2(t)),this.clock=x,this.clock.on("update",this.update,this),this.resetFromJSON(n)}resetFromJSON(t){return this.clock.resetFromJSON(Vi(t,"clock",void 0)),this.state=Vi(t,"state",0),this.commands=Vi(t,"commands",[]),this.scope=Vi(t,"scope",void 0),this.setTimeUnit(Vi(t,"timeUnit",0)),this.setDtMode(Vi(t,"dtMode",0)),this.index=Vi(t,"index",0),this.nextTime=Vi(t,"nextTime",0),this}toJSON(){return{clock:this.clock.toJSON(),state:this.state,commands:this.commands,scope:this.scope,timeUnit:this.timeUnit,dtMode:this.dtMode,index:this.index,nextTime:this.nextTime}}shutdown(t){this.isShutdown||(this.clock.shutdown(t),this.commands=void 0,super.shutdown(t))}load(t,n,x){this.stop();var C=Vi(x,"timeUnit",void 0);C!==void 0&&this.setTimeUnit(C);var M=Vi(x,"dtMode",void 0);return M!==void 0&&this.setDtMode(M),t=t.filter(function(h){var y=h[0];return!isNaN(y)}).map(function(h){var y=h[0];return typeof y=="string"&&(h[0]=parseFloat(h[0])),h}),this.dtMode===0&&t.sort(function(h,y){var e=h[0],f=y[0];return e>f?1:e<f?-1:0}),this.commands=t,this.scope=n,this}start(t){return t===void 0&&(t=0),this.stop(),this.index=0,this.state=1,this.nextTime=this.getNextDt(0),this.clock.start(t),this.update(t),this.emit("start",this.parent,this),this}pause(){return this.clock.pause(),this.emit("pause",this.parent,this),this}resume(){return this.clock.resume(),this.emit("resume",this.parent,this),this}stop(){return this.clock.stop(),this.state=0,this.emit("stop",this.parent,this),this}seek(t){return this.clock.seek(t),this}seekToNext(){return this.seek(this.nextTime),this}get isPlaying(){return this.clock.isRunning}get completed(){return this.state===2}get timeScale(){return this.clock.timeScale}set timeScale(t){this.clock.timeScale=t}setTimeScale(t){return this.timeScale=t,this}get now(){return this.clock.now}update(t){if(this.nextTime>t)return this;for(var n=this.commands.length-1;;){var x=this.commands[this.index],C=x[1];if(Ki(C)||(C=S0(LX,x,1)),sp(C,this.scope),this.emit("runcommand",C,this.scope),this.index===n)return this.complete(),this;if(this.index++,this.nextTime=this.getNextDt(this.nextTime),this.nextTime>t)return this}}complete(){this.clock.stop(),this.state=2,this.emit("complete",this.parent,this)}getNextDt(t){var n=this.commands[this.index][0];return this.timeUnit===1&&(n=n*1e3),this.dtMode===1&&(n+=t),n}setDtMode(t){return typeof t=="string"&&(t=IX[t]),this.dtMode=t,this}setTimeUnit(t){return typeof t=="string"&&(t=FX[t]),this.timeUnit=t,this}}var LX=[];const FX={ms:0,s:1,sec:1},IX={abs:0,absolute:0,inc:1,increment:1},So=Phaser.Utils.Objects.GetValue;class PE extends Er{constructor(t,n){n===void 0&&(n={text:createDefaultTextObject(t)}),super(t,n),this.type="rexToast",this.setTransitInTime(So(n,"duration.in",200)),this.setDisplayTime(So(n,"duration.hold",1200)),this.setTransitOutTime(So(n,"duration.out",200)),this.setTransitInCallback(So(n,"transitIn",Js.popUp)),this.setTransitOutCallback(So(n,"transitOut",Js.scaleDown)),this.player=new OX(this,{dtMode:1}),this.messages=[],this.scaleX0=void 0,this.scaleY0=void 0,this.setVisible(!1)}destroy(t){!this.scene||this.ignoreDestroy||(this.player.destroy(),this.player=void 0,this.messages=void 0,super.destroy(t))}setDisplayTime(t){return this.displayTime=t,this}setTransitOutTime(t){return this.transitOutTime=t,this}setTransitInTime(t){return this.transitInTime=t,this}setTransitInCallback(t){switch(typeof t=="string"&&(t=Js[t]),t){case Js.popUp:t=Dl.popUp;break;case Js.fadeIn:t=Dl.fadeIn;break}return t||(t=Fe),this.transitInCallback=t,this}setTransitOutCallback(t){switch(typeof t=="string"&&(t=Js[t]),t){case Js.scaleDown:t=Dl.scaleDown;break;case Js.fadeOut:t=Dl.fadeOut;break}return t||(t=Fe),this.transitOutCallback=t,this}setScale(t,n){return n===void 0&&(n=t),this.scaleX0=t,this.scaleY0=n,super.setScale(t,n),this}showMessage(t){if(this.scaleX0===void 0&&(this.scaleX0=this.scaleX),this.scaleY0===void 0&&(this.scaleY0=this.scaleY),t===void 0){if(this.messages.length===0)return this;t=this.messages.shift()}if(this.player.isPlaying)return this.messages.push(t),this;this.setScale(this.scaleX0,this.scaleY0).setVisible(!0),typeof t=="string"?this.setText(t):t(this),this.layout();var n=[[0,[this.transitInCallback,this,this.transitInTime]],[this.transitInTime,[Fe]],[this.displayTime,[this.transitOutCallback,this,this.transitOutTime]],[this.transitOutTime,[this.setVisible,!1]],[30,[Fe]]];return this.player.load(n,this).once("complete",function(){this.showMessage()},this).start(),this}}const Js={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1};rt.register("toast",function(i){var t=new PE(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.Toast",PE);var DX=function(i,t){if(t===!1)return null;if(Ln(t))return t;var n=new Rn(i,t);return i.add.existing(n),n},Oh=function(i,t,n){n===void 0&&(n=!0),n?t=t?wi(t):{}:t||(t={});var x=new T0(i,t);return i.add.existing(x),x};const Jy=["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],BX=[15792383,16444375,65535,8388564,15794175,16119260,16770244,0,16772045,255,9055202,10824234,14596231,6266528,8388352,13789470,16744272,6591981,16775388,14423100,65535,139,35723,12092939,11119017,11119017,25600,12433259,9109643,5597999,16747520,10040012,9109504,15308410,9419919,4734347,3100495,3100495,52945,9699539,16716947,49151,6908265,6908265,2003199,11674146,16775920,2263842,16711935,14474460,16316671,16766720,14329120,8421504,8421504,32768,11403055,15794160,16738740,13458524,4915330,16777200,15787660,15132410,16773365,8190976,16775885,11393254,15761536,14745599,16448210,13882323,13882323,9498256,16758465,16752762,2142890,8900346,7833753,7833753,11584734,16777184,65280,3329330,16445670,16711935,8388608,6737322,205,12211667,9662683,3978097,8087790,64154,4772300,13047173,1644912,16121850,16770273,16770229,16768685,128,16643558,8421376,7048739,16753920,16729344,14315734,15657130,10025880,11529966,14381203,16773077,16767673,13468991,16761035,14524637,11591910,8388736,6697881,16711680,12357519,4286945,9127187,16416882,16032864,3050327,16774638,10506797,12632256,8900331,6970061,7372944,7372944,16775930,65407,4620980,13808780,32896,14204888,16737095,4251856,15631086,16113331,16777215,16119285,16776960,10145074];var np={},Qy;for(var Bl=0,bX=Jy.length;Bl<bX;Bl++)Qy=Jy[Bl].toLowerCase(),np[Qy]=BX[Bl];var GX=function(i){return i=i.toLowerCase(),np.hasOwnProperty(i)?np[i]:null},NX=function(i){return typeof i!="string"||(i.startsWith("#")?i=parseInt(i.substring(1),16):i.startsWith("0x")?i=parseInt(i.substring(2),16):i=GX(i)),i};const VX=Phaser.Utils.String.Pad;var qy=function(i,t){t===void 0&&(t="0x");var n=i.toString(16).toUpperCase();return n=VX(n,6,0,1),n=t+n,n},zX=function(i,t){i&&(i.setTint?i.setTint(t):i.setFillStyle&&i.setFillStyle(t))};const mi=Phaser.Utils.Objects.GetValue,kX=Phaser.Utils.Objects.IsPlainObject,UX=Phaser.Math.Clamp;let Lg=class extends Ot{constructor(t,n){n===void 0&&(n={}),n.orientation=0,super(t,n),this.type="rexColorInputLite";var x=mi(n,"background",void 0),C=mi(n,"swatch"),M;kX(C)&&(M=mi(C,"size"));var h=DX(t,mi(n,"swatch")),y=mi(n,"inputText",!0),e;if(y&&(e=Oh(t,y)),x&&this.addBackground(x),h){M=mi(n,"swatchSize",M);var f;M!==void 0?(ji(h,M,M),f=!1):f=mi(n,"squareExpandSwatch",!0);var d=f?1:0;this.add(h,{proportion:0,expand:!1,fitRatio:d})}if(e){var s=mi(y,"width")===void 0?1:0,a=mi(y,"height")===void 0;this.add(e,{proportion:s,expand:a})}this.addChildrenMap("background",x),this.addChildrenMap("swatch",h),this.addChildrenMap("inputText",e),e&&e.on("close",function(){this.setValue(e.value)},this);var r=mi(n,"valuechangeCallback",null);if(r!==null){var o=mi(n,"valuechangeCallbackScope",void 0);this.on("valuechange",r,o)}this.setValue(mi(n,"value",0))}get value(){return this._value}set value(t){if(typeof t=="string"){if(t=NX(t),t==null){var x=this.childrenMap.inputText;x&&x.setText(qy(this._value));return}}else t=UX(Math.floor(t),0,16777215);if(this._value!==t){this._value=t;var n=this.childrenMap.swatch;n&&zX(n,t);var x=this.childrenMap.inputText;x&&x.setText(qy(t)),this.emit("valuechange",this._value)}}setValue(t){return this.value=t,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}};var XX={setCreateColorPickerBackgroundCallback(i){return this.colorPickerCreateBackgroundCallback=i,this},setColorPickerHPalettePosition(i){return this.colorPickerHPalettePosition=i,this},setColorPickerExpandDirection(i){return typeof i=="string"&&(i=YX[i]),this.colorPickerExpandDirection=i,this},setColorPickerEaseInDuration(i){return i===void 0&&(i=0),this.colorPickerEaseInDuration=i,this},setColorPickerEaseOutDuration(i){return i===void 0&&(i=0),this.colorPickerEaseOutDuration=i,this},setColorPickerTransitInCallback(i){return this.colorPickerTransitInCallback=i,this},setColorPickerTransitOutCallback(i){return this.colorPickerTransitOutCallback=i,this},setColorPickerBounds(i){return this.colorPickerBounds=i,this},setColorPickerWidth(i){return this.colorPickerWidth=i,this},setColorPickerHeight(i){return this.colorPickerHeight=i,this},setColorPickerSize(i,t){return this.setColorPickerWidth(i).setColorPickerHeight(t),this},setColorPickerSpace(i){return i===void 0&&(i={}),this.colorPickerSpace=i,this},setColorComponentsHeight(i){return this.colorComponentsHeight=i,this},setColorComponentsFormatLabelConfig(i){return this.colorComponentsFormatLabelConfig=i,this},setColorComponentsInputTextConfig(i){return this.colorComponentsInputTextConfig=i,this},setColorComponentsSpace(i){return i===void 0&&(i={}),this.colorComponentsSpace=i,this}};const YX={down:0,up:1},RE=Phaser.Display.Color,Bu=Phaser.Math.Percent;var WX=function(i,t,n){n===void 0&&(n=!1);var x=i.width,C=i.height,M=new RE;if(n)for(var h=0;h<C;h++){var y=Bu(h,0,C);M.setFromHSV(y,1,1),t.fillStyle=M.rgba,t.fillRect(0,h,x,1)}else for(var e=0;e<x;e++){var y=Bu(e,0,x);M.setFromHSV(y,1,1),t.fillStyle=M.rgba,t.fillRect(e,0,1,C)}},HX=function(i,t,n){for(var x=i.width,C=i.height,M=t.getImageData(0,0,x,C),h=M.data,y=new RE,e=0;e<C;e++)for(var f=0;f<x;f++){var d=Bu(f,0,x),s=1-Bu(e,0,C);y.setFromHSV(n,d,s);var a=(e*x+f)*4;h[a]=y.red,h[a+1]=y.green,h[a+2]=y.blue,h[a+3]=255}t.putImageData(M,0,0)};const $X=Phaser.Display.Color,_y=Phaser.Math.Percent,KX=Phaser.Display.Color.ColorToRGBA,jX=Phaser.Display.Color.HSVToRGB;class ZX extends za{constructor(t,n,x,C,M,h){n===void 0&&(n=0),x===void 0&&(x=0),C===void 0&&(C=2),M===void 0&&(M=2),super(t,n,x,C,M),this.type="rexColorPicker.HPaletteCanvas",this.colorObject=new $X,this.setOrientation(h),this.setSize(C,M)}setOrientation(t){return this.orientation=wf(t),this}updateTexture(){return WX(this.canvas,this.context,this.orientation),super.updateTexture(),this}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue=t}getHue(t,n){return t===void 0?this.hue:(this.orientation===0?this.hue=_y(t,0,this.width):this.hue=_y(n,0,this.height),this.hue)}getColor(t,n){if(t===void 0)return this.color;var x=this.getHue(t,n);return this.colorObject.setFromRGB(jX(x,1,1)),this.colorObject.color}setColor(t){return this.color===t?this:this}colorToLocalPosition(t,n){return n===void 0?n={}:n===!0&&(Bc===void 0&&(Bc={}),n=Bc),this.colorObject.setFromRGB(KX(t)),this.orientation===0?(n.x=this.width*this.colorObject.h,n.y=this.height/2):(n.x=this.width/2,n.y=this.height*this.colorObject.h),n}}var Bc=void 0,JX=Phaser.Math.RotateAround,AE=function(i,t,n,x){x===void 0?x={}:x===!0&&(bc===void 0&&(bc={}),x=bc),t-=i.width*i.originX,n-=i.height*i.originY;var C={x:t*i.scaleX,y:n*i.scaleY};return JX(C,0,0,-i.rotation),x.x=i.x+t,x.y=i.y+n,x},bc;class QX extends Li{constructor(t,n){n===void 0&&(n={}),super(t,n);var x=n.width!=null?1:0,C=new ZX(t).setOrientation(x);t.add.existing(C),this.type="rexColorPicker.HPalette",C.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var M=new Rn(t,{strokeColor:16777215,strokeWidth:2});t.add.existing(M),this.add(C,{key:"paletteCanvas",expand:!0}).add(M,{key:"marker",expand:!1})}resize(t,n){if(this.width===t&&this.height===n)return this;super.resize(t,n);var x=Math.min(t,n);return this.childrenMap.marker.setSize(x,x),this}onPaletteCanvasPointerDown(t,n,x,C){if(t.isDown){var M=this.childrenMap.paletteCanvas,h=M.getColor(n,x);this.setMarkerPosition(h),this.emit("input",h)}}get color(){return this.childrenMap.paletteCanvas.color}setColor(t){if(this.color===t)return this;var n=this.childrenMap.paletteCanvas;return n.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var n=this.childrenMap.paletteCanvas,x=this.childrenMap.marker,C=n.colorToLocalPosition(t,!0);return AE(n,C.x,C.y,x),this.resetChildPositionState(x),this}getHue(t,n){var x=this.childrenMap.paletteCanvas;return x.getHue(t,n)}}const qX=Phaser.Display.Color,tT=Phaser.Math.Percent,eT=Phaser.Display.Color.ColorToRGBA,_X=Phaser.Display.Color.HSVToRGB;class tY extends za{constructor(t,n,x,C,M,h){n===void 0&&(n=0),x===void 0&&(x=0),C===void 0&&(C=2),M===void 0&&(M=2),super(t,n,x,C,M),this.type="rexColorPicker.SVPaletteCanvas",h===void 0&&(h=1),this.colorObject=new qX,this.setHue(h),this.setSize(C,M)}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue!==t&&(this._hue=t,this.colorObject.h=t,this.dirty=!0)}setHue(t){return this.hue=t,this}updateTexture(){return HX(this.canvas,this.context,this.hue),super.updateTexture(),this}getColor(t,n){if(t===void 0)return this.colorObject.color;var x=tT(t,0,this.width),C=1-tT(n,0,this.height);return this.colorObject.setFromRGB(_X(this.hue,x,C)),this.colorObject.color}setColor(t){return this.color===t?this:(this.colorObject.setFromRGB(eT(t)),this.setHue(this.colorObject.h),this)}colorToLocalPosition(t,n){return n===void 0?n={}:n===!0&&(Gc===void 0&&(Gc={}),n=Gc),this.colorObject.setFromRGB(eT(t)),n.x=this.width*this.colorObject.s,n.y=this.height*(1-this.colorObject.v),n}}var Gc=void 0;class eY extends Li{constructor(t,n){super(t,n);var x=new tY(t);t.add.existing(x),this.type="rexColorPicker.SVPalette",x.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var C=new Rn(t,{radius:5,strokeColor:16777215,strokeWidth:2});t.add.existing(C),this.add(x,{key:"paletteCanvas",expand:!0}).add(C,{key:"marker",expand:!1})}onPaletteCanvasPointerDown(t,n,x,C){if(t.isDown){var M=this.childrenMap.paletteCanvas,h=M.getColor(n,x);this.setMarkerPosition(h),this.emit("input",h)}}get color(){return this.childrenMap.paletteCanvas.color}setHue(t){var n=this.childrenMap.paletteCanvas;return n.setHue(t),this}setColor(t){if(this.color===t)return this;var n=this.childrenMap.paletteCanvas;return n.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var n=this.childrenMap.paletteCanvas,x=this.childrenMap.marker,C=n.colorToLocalPosition(t,!0);return AE(n,C.x,C.y,x),this.resetChildPositionState(x),this}}const zi=Phaser.Utils.Objects.GetValue;class Fg extends Ot{constructor(t,n){super(t,n),this.type="rexColorPicker",this.freezePalettes=!1;var x=zi(n,"hPalette.position",0);typeof x=="string"&&(x=iY[x]);var C=x===0||x===2?1:0;this.setOrientation(C);var M=zi(n,"background",void 0),h,y;if(this.orientation===0){var h=zi(n,"hPalette.width",void 0);h===void 0&&(h=zi(n,"hPalette.size",10))}else y=zi(n,"hPalette.height",void 0),y===void 0&&(y=zi(n,"hPalette.size",10));var e=new QX(t,{width:h,height:y});t.add.existing(e);var f=zi(n,"svPalette.width",void 0),d=zi(n,"svPalette.height",void 0),s=new eY(t,{width:f,height:d});t.add.existing(s),M&&this.addBackground(M);var a={proportion:0,expand:!0},r,o;this.orientation===0?(r=f===void 0?1:0,o=d===void 0):(r=d===void 0?1:0,o=f===void 0);var u={proportion:r,expand:o};x===0||x===3?this.add(s,u).add(e,a):this.add(e,a).add(s,u),e.on("input",function(){s.setHue(e.getHue()),this.setValue(s.color,!0)},this),s.on("input",function(){this.setValue(s.color,!0)},this),this.addChildrenMap("background",M),this.addChildrenMap("hPalette",e),this.addChildrenMap("svPalette",s);var v=zi(n,"valuechangeCallback",null);if(v!==null){var l=zi(n,"valuechangeCallbackScope",void 0);this.on("valuechange",v,l)}this.setValue(zi(n,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){var n=this._value;this._value=t,this.freezePalettes||this.updatePalettes(),this.emit("valuechange",t,n,this)}}setValue(t,n){return this.freezePalettes=!!n,this.value=t,this.freezePalettes=!1,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}updatePalettes(){return this.childrenMap.hPalette.setColor(this.color),this.childrenMap.svPalette.setColor(this.color),this}runLayout(t,n,x){return this.ignoreLayout?this:(super.runLayout(t,n,x),this.childrenMap.hPalette.setMarkerPosition(this.value),this.childrenMap.svPalette.setMarkerPosition(this.value),this)}}var iY={bottom:0,left:1,top:2,right:3};const os=Phaser.Utils.Objects.GetValue,sY=Phaser.Display.Color,nY=Phaser.Display.Color.ColorToRGBA,rY=Phaser.Display.Color.HSVToRGB,Jn=Phaser.Math.Clamp;class Ig extends Ot{constructor(t,n){n===void 0&&(n={}),n.orientation=0,super(t,n),this.type="rexColorComponents",this.colorObject=new sY;var x=os(n,"background",void 0),C=os(n,"formatLabel",void 0);Ln(C)||(C=Mi(t,C).resetDisplayContent());var M=[];if(n.inputText0&&n.inputText1&&n.inputText2)M.push(n.inputText0),M.push(n.inputText1),M.push(n.inputText2);else for(var h=os(n,"inputText"),y=0;y<3;y++){var e=Oh(t,h).setMaxLength(3).setNumberInput();M.push(e)}x&&this.addBackground(x);var d=os(n,"proportion.formatLabel",0),f=!!C.isRexContainerLite,s=os(n,"expand.formatLabel",f);this.add(C,{proportion:d,expand:s});for(var d=os(h,"width")===void 0?1:0,s=os(h,"height")===void 0,y=0,a=M.length;y<a;y++)this.add(M[y],{proportion:d,expand:s});this.addChildrenMap("background",x),this.addChildrenMap("formatLabel",C),this.addChildrenMap("components",M),this.onClick(C,this.toggleColorFormat,this);for(var y=0,a=M.length;y<a;y++)M[y].on("close",function(){this.updateColorObject(),this.setValue(this.colorObject.color)},this);var r=os(n,"valuechangeCallback",null);if(r!==null){var o=os(n,"valuechangeCallbackScope",void 0);this.on("valuechange",r,o)}C.setText("RGB"),this.setValue(os(n,"value",16777215))}get value(){return this._value}set value(t){t=Jn(Math.floor(t),0,16777215),this._value!==t&&(this._value=t,this.colorObject.setFromRGB(nY(t)),this.updateComponents(),this.emit("valuechange",this._value))}setValue(t){return this.value=t,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}get colorFormat(){return this.childrenMap.formatLabel.text}set colorFormat(t){this.colorFormat!==t&&(this.childrenMap.formatLabel.setText(t),this.updateComponents())}setColorFormat(t){return this.colorFormat=t,this}toggleColorFormat(){return this.colorFormat=this.colorFormat==="RGB"?"HSV":"RGB",this}updateComponents(){var t=this.childrenMap.components,n,x,C;return this.colorFormat==="RGB"?(n=this.colorObject.red,x=this.colorObject.green,C=this.colorObject.blue):(n=Math.floor(this.colorObject.h*360),x=Math.floor(this.colorObject.s*100),C=Math.floor(this.colorObject.v*100)),t[0].setValue(n),t[1].setValue(x),t[2].setValue(C),this}updateColorObject(){var t=this.childrenMap.components;if(this.colorFormat==="RGB"){var n=Jn(t[0].value,0,255),x=Jn(t[1].value,0,255),C=Jn(t[2].value,0,255);this.colorObject.setTo(n,x,C)}else{var M=Jn(t[0].value,0,359)/360,h=Jn(t[1].value,0,100)/100,y=Jn(t[2].value,0,100)/100;this.colorObject.setFromRGB(rY(M,h,y))}return this}}const Nc=Phaser.Utils.Objects.GetValue;class aY extends Ot{constructor(t,n){n===void 0&&(n={}),n.orientation=1,super(t,n),this.type="rexColorInput.ColorPickerPanel";var x=Nc(n,"background",void 0),C=new Fg(t,{hPalette:n.hPalette||{},svPalette:n.svPalette||{},space:{item:Nc(n,"space.hPalette",8)}});t.add.existing(C);var M;n.colorComponents&&(M=new Ig(t,n.colorComponents),t.add.existing(M)),x&&(this.addBackground(x),new mf(x,{stopAllLevels:!1})),this.add(C,{proportion:1,expand:!0}),M&&this.add(M,{proportion:0,expand:!0}),this.addChildrenMap("background",x),this.addChildrenMap("colorPicker",C),this.addChildrenMap("colorComponents",M),C.on("valuechange",function(h){this.setValue(h)},this),M&&M.on("valuechange",function(h){this.setValue(h)},this),this.setValue(Nc(n,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){this._value=t;var n=this.childrenMap.colorPicker;n.setValue(t);var x=this.childrenMap.colorComponents;x&&x.setValue(t),this.emit("valuechange",t)}}setValue(t){return this.value=t,this}}Phaser.Utils.Objects.GetValue;var oY=function(t){var t=this.scene,n,x=this.colorPickerCreateBackgroundCallback;x&&(n=x.call(this,t),t.add.existing(n));var C=this.colorPickerWidth;C===void 0&&(C=this.width);var M=this.colorPickerHeight;M===void 0&&(M=C);var h;this.colorComponentsHeight>0?h={height:this.colorComponentsHeight,formatLabel:this.colorComponentsFormatLabelConfig,inputText:this.colorComponentsInputTextConfig,space:this.colorComponentsSpace}:h=!1;var y=new aY(t,{width:C,height:M,background:n,space:this.colorPickerSpace,hPalette:{position:this.colorPickerHPalettePosition},colorComponents:h,value:this.value});return t.add.existing(y),y},hY=function(){if(!this.colorPicker){var i=oY.call(this).layout(),t=new rE(i,{duration:{in:this.colorPickerEaseInDuration,out:this.colorPickerEaseOutDuration},transitIn:this.colorPickerTransitInCallback,transitOut:this.colorPickerTransitOutCallback,expandDirection:this.colorPickerExpandDirection,alignTargetX:this,alignTargetY:this,bounds:this.colorPickerBounds,touchOutsideClose:!0}).on("open",function(){i.on("valuechange",function(n){this.setValue(n)},this)},this).on("close",function(){this.colorPicker=void 0,this.dropDownBehavior=void 0},this);return this.colorPicker=i,this.dropDownBehavior=t,this.pin(i),this}},wE={openColorPicker:hY};Object.assign(wE,XX);const ye=Phaser.Utils.Objects.GetValue;let Wf=class extends Lg{constructor(t,n){n===void 0&&(n={}),super(t,n),this.type="rexColorInput",n.hasOwnProperty("colorPicker")||(n.colorPicker={background:{color:0}});var x=n.colorPicker,C=x!==!1&&x!==null;if(C){this.setColorPickerSize(ye(x,"width",160),ye(x,"height",170));var M,h=ye(x,"background");h?M=function(r){return Si(r,h)}:M=ye(x,"createBackgroundCallback"),this.setCreateColorPickerBackgroundCallback(M),this.setColorPickerHPalettePosition(ye(x,"hPalettePosition",0)),this.setColorPickerExpandDirection(ye(x,"expandDirection")),this.setColorPickerEaseInDuration(ye(x,"easeIn",200)),this.setColorPickerEaseOutDuration(ye(x,"easeOut",200)),this.setColorPickerTransitInCallback(ye(x,"transitIn")),this.setColorPickerTransitOutCallback(ye(x,"transitOut")),this.setColorPickerBounds(ye(x,"bounds"));var y=ye(x,"space");y===void 0&&(y={left:10,right:10,top:10,bottom:10,item:8}),this.setColorPickerSpace(y)}var e=n.colorComponents,f=e!==!1&&e!==null;if(C&&f){this.setColorComponentsHeight(ye(e,"height",30)),this.setColorComponentsFormatLabelConfig(ye(e,"formatLabel"));var d=ye(e,"inputText");d||(d=ye(n,"inputText")),this.setColorComponentsInputTextConfig(d);var s=ye(e,"space");s===void 0&&(s={item:8}),this.setColorComponentsSpace(s)}var a=this.childrenMap.swatch;a&&C&&this.onClick(a,this.openColorPicker,this)}};Object.assign(Wf.prototype,wE);rt.register("colorInput",function(i){var t=new Wf(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.ColorInput",Wf);rt.register("colorInputLite",function(i){var t=new Lg(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.ColorInputBase",Lg);rt.register("colorPicker",function(i){var t=new Fg(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.ColorPicker",Fg);rt.register("colorComponents",function(i){var t=new Ig(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.ColorComponents",Ig);var lY=function(){return function(i,t,n,x){t!=="panel"&&n.setChildVisible(i,!0)}},uY=function(){return function(i,t,n,x){t!=="panel"&&n.setChildVisible(i,!1)}};const fY={show:lY,hide:uY};var dY=function(i,t){return t===void 0&&(t=1),function(n,x,C,M){x!=="panel"&&C.fadeChild(n,M?0:i,t)}},cY=function(i,t){return t===void 0&&(t=0),function(n,x,C,M){x!=="panel"&&C.fadeChild(n,M?0:i,t)}};const vY={show:dY,hide:cY};var iT=function(i,t){return function(n,x,C,M){x!=="panel"&&C.moveChild(n,M?0:i,t)}};const pY={show:iT,hide:iT};var sT=function(i,t){return function(n,x,C,M){x==="panel"&&C.moveChild(n,M?0:i,t)}};const gY={show:sT,hide:sT},Vc={visible:fY,fade:vY,move:pY,"move-panel":gY};var mY=function(i){var t,n;[t,...n]=typeof i=="string"?[i]:i;var x,C;return Vc.hasOwnProperty(t)?(x=Vc[t].show.apply(null,n),C=Vc[t].hide.apply(null,n)):(x=Fe,C=Fe),{show:x,hide:C}};const xY={showChild(i,t){var n=this.sizerChildren[i];return n&&(this.emit("showchild",n,i,this,t),this.resetChildState(n)),this},hideChild(i,t){var n=this.sizerChildren[i];return n&&(this.emit("hidechild",n,i,this,t),this.resetChildState(n)),this},swapChild(i,t){return this.currentChildKey===i||(this.currentChildKey==="panel"||i==="panel"?(this.previousChildKey=this.currentChildKey,this.currentChildKey=i,this.hideChild(this.previousChildKey,t),this.showChild(this.currentChildKey,t)):(this.swapChild("panel",t),this.swapChild(i,t))),this},showPanel(i){return this.swapChild("panel",i),this},showLeftSide(){return this.swapChild("leftSide"),this},showRightSide(){return this.swapChild("rightSide"),this},showTopSide(){return this.swapChild("topSide"),this},showBottomSide(){return this.swapChild("bottomSide"),this},hideLeftSide(){return this.currentChildKey=="leftSide"&&this.showPanel(),this},hideRightSide(){return this.currentChildKey=="rightSide"&&this.showPanel(),this},hideTopSide(){return this.currentChildKey=="topSide"&&this.showPanel(),this},hideBottomSide(){return this.currentChildKey=="bottomSide"&&this.showPanel(),this},toggleLeftSide(){var i=this.currentChildKey!=="panel"?"panel":"leftSide";return this.swapChild(i),this},toggleRightSide(){var i=this.currentChildKey!=="panel"?"panel":"rightSide";return this.swapChild(i),this},toggleTopSide(){var i=this.currentChildKey!=="panel"?"panel":"topSide";return this.swapChild(i),this},toggleBottomSide(){var i=this.currentChildKey!=="panel"?"panel":"bottomSide";return this.swapChild(i),this}},yY=ci.prototype.setChildVisible,TY={setChildVisible(i,t){var n;if(typeof i=="string"){var n=i;i=this.sizerChildren[n]}else n=Mf(this.sizerChildren,i);return t===void 0&&(t=this.currentChildKey===n),yY.call(this,i,t),this}},CY={fadeChild(i,t,n){var x;return typeof i=="string"?(x=i,i=this.sizerChildren[x]):x=Mf(this.sizerChildren,i),t===void 0&&(t=500),n===void 0&&(n=this.currentChildKey===x?1:0),i.fadeIn(t,{start:i.alpha,end:n}),this},fadeChildPromise(i,t,n){return typeof i=="string"&&(i=this.sizerChildren[key]),this.fadeChild(i,t,n),i._fade?Se(i._fade):Promise.resolve()}},SY={moveChild(i,t,n,x){var C;typeof i=="string"?(C=i,i=this.sizerChildren[C]):C=Mf(this.sizerChildren,i),t===void 0&&(t=500);var M=this.currentChildKey===C;if(x===void 0)switch(C){case"leftSide":case"rightSide":x=Vt(i);break;case"topSide":case"bottomSide":x=It(i);break;default:if(M)switch(this.previousChildKey){case"leftSide":case"rightSide":x=Vt(this.sizerChildren[this.previousChildKey]);break;case"topSide":case"bottomSide":x=It(this.sizerChildren[this.previousChildKey]);break;default:x=0;break}else switch(this.currentChildKey){case"leftSide":case"rightSide":x=Vt(this.sizerChildren[this.currentChildKey]);break;case"topSide":case"bottomSide":x=It(this.sizerChildren[this.currentChildKey]);break;default:x=0;break}break}var h,y,e,f;if(M)switch(C){case"panel":switch(this.previousChildKey){case"leftSide":h=!0;break;case"rightSide":y=!0;break;case"topSide":e=!0;break;case"bottomSide":f=!0;break}break;case"leftSide":y=!0;break;case"rightSide":h=!0;break;case"topSide":f=!0;break;case"bottomSide":e=!0;break}else switch(C){case"panel":switch(this.currentChildKey){case"leftSide":y=!0;break;case"rightSide":h=!0;break;case"topSide":f=!0;break;case"bottomSide":e=!0;break}break;case"leftSide":h=!0;break;case"rightSide":y=!0;break;case"topSide":e=!0;break;case"bottomSide":f=!0;break}return h?i.moveTo(t,`-=${x}`,void 0,n):y?i.moveTo(t,`+=${x}`,void 0,n):e?i.moveTo(t,void 0,`-=${x}`,n):f?i.moveTo(t,void 0,`+=${x}`,n):i.moveTo(0),this},moveChildPromise(i,t,n,x){return typeof i=="string"&&(i=this.sizerChildren[key]),this.moveChild(i,t,n,x),i._easeMove?Se(i._easeMove):Promise.resolve()}};var OE={};Object.assign(OE,TY,CY,SY);const He=Phaser.Utils.Objects.GetValue;class Dg extends Li{constructor(t,n){super(t,n),this.type="rexSides",this.childrenMap=this.sizerChildren,this.previousChildKey=void 0,this.currentChildKey=void 0;var x=He(n,"showChildCallback",void 0);if(x)if(Sn(x)){var C=He(n,"showChildCallbackScope",void 0);this.on("showchild",x,C);var M=He(n,"hideChildCallback",void 0),h=He(n,"hideChildCallbackScope",void 0);this.on("hidechild",M,h)}else{var y=mY(x);this.on("showchild",y.show),this.on("hidechild",y.hide)}var e=He(n,"background",void 0),f=He(n,"panel",void 0),d=He(n,"leftSide",void 0),s=He(n,"rightSide",void 0),a=He(n,"topSide",void 0),r=He(n,"bottomSide",void 0);if(e&&this.addBackground(e),f&&this.add(f,"panel","center",0,!0),d){var o=He(n,"expand.left",!0);this.add(d,"leftSide","left-top",0,{height:o})}if(s){var o=He(n,"expand.right",!0);this.add(s,"rightSide","right-top",0,{height:o})}if(a){var o=He(n,"expand.top",!0);this.add(a,"topSide","left-top",0,{width:o})}if(r){var o=He(n,"expand.bottom",!0);this.add(r,"bottomSide","left-bottom",0,{width:o})}}reset(){return this.previousChildKey=void 0,this.currentChildKey="panel",this.showChild("panel",!0),this.hideChild("leftSide",!0),this.hideChild("rightSide",!0),this.hideChild("topSide",!0),this.hideChild("bottomSide",!0),this}}Object.assign(Dg.prototype,xY,OE);rt.register("sides",function(i){var t=new Dg(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.Sides",Dg);class LE extends Er{constructor(t,n){n=fg(t,n),super(t,n),this.type="rexTweaker.Title"}setTitle(t){return t=t?wi(t):{},t.hasOwnProperty("text")||(t.hasOwnProperty("title")?t.text=t.title:t.text=""),this.resetDisplayContent(t),this}}class MY extends LE{constructor(t,n){n===void 0&&(n={}),super(t,n),this.type="rexTweaker.FolderTitle";var x=new df(t,n.expandedIcon);t.add.existing(x),this.addSpace().add(x,{proportion:0,expand:!1,padding:1,fitRatio:1}),this.addChildrenMap("expandedIcon",x)}setExpandedState(t){t===void 0&&(t=!0);var n=t?"down":"right",x=this.childrenMap.expandedIcon;return x.setDirection(n),this}}var FE=function(i,t){var n=new Gg(i,t);return i.add.existing(n),n},Bg=function(i,t,n){return Si(i,n)};const EY={setBindingTarget(i){var t=this.childrenMap.child;return t.setBindingTarget(i),this}},PY={getMaxInputRowTitleWidth(){var i=this.childrenMap.child,t=i.getMaxInputRowTitleWidth();return t+this.getInnerPadding("left")},setInputRowTitleWidth(i){i-=this.getInnerPadding("left");var t=this.childrenMap.child;return t.setInputRowTitleWidth(i),this}};class IE extends Yf{constructor(t,n){super(t,n),this.type="rexTweaker.Folder"}setTitle(t){var n=this.childrenMap.title;return n.setTitle(t),this}}Object.assign(IE.prototype,EY,PY);const Jr=Phaser.Utils.Objects.GetValue;var RY=function(i,t,n){var x=Jr(n,"title")||{},C=new MY(i,x);i.add.existing(C),C.on("folder.expand",function(){C.setExpandedState(!0)}).on("folder.collapse",function(){C.setExpandedState(!1)});var M={root:Jr(n,"root"),styles:Jr(n,"tweaker"),space:Jr(n,"space")||{}},h=FE(i,M),y=Jr(n,"background"),e=Bg(i,t,y),f=new IE(i,{orientation:1,title:C,child:h,background:e,transition:{duration:Jr(n,"transition.duration",200)}});return i.add.existing(f),f};const nT=Phaser.Utils.Objects.GetValue;var AY=function(i){var t=this.scene,n=nT(this.styles,"folder")||{};n.tweaker=this.styles,n.root=this.root;var x=RY(t,i,n);delete n.tweaker,delete n.root,this.add(x,{expand:!0}),x.setTitle(i);var C=nT(i,"expanded",!0);C?x.expand(0):x.collapse(0);var M=x.getElement("child");return i.key&&this.root.addChildrenMap(i.key,M),M};const wY={setBindingTarget(i){for(var t=this.childrenMap.pages.children,n=0,x=t.length;n<x;n++)t[n].setBindingTarget(i);return this}},OY={getMaxInputRowTitleWidth(){for(var i=0,t=this.childrenMap.pages.children,n=0,x=t.length;n<x;n++)i=Math.max(i,t[n].getMaxInputRowTitleWidth());return i+this.getInnerPadding("left")},setInputRowTitleWidth(i){i-=this.getInnerPadding("left");for(var t=this.childrenMap.pages.children,n=0,x=t.length;n<x;n++)t[n].setInputRowTitleWidth(i);return this}};class DE extends Xf{constructor(t,n){super(t,n),this.type="rexTweaker.TabPages"}}Object.assign(DE.prototype,wY,OY);const bl=Phaser.Utils.Objects.GetValue;var LY=function(i,t,n){var x=new DE(i,n);i.add.existing(x);for(var C=bl(n,"tab"),M={root:bl(n,"root"),styles:bl(n,"tweaker")},h=bl(t,"pages")||[],y=0,e=h.length;y<e;y++){var f=h[y];x.addPage({key:f.title,tab:Mi(i,C).setActiveState(!1).resetDisplayContent({text:f.title}),page:FE(i,M)})}return x.on("tab.focus",function(d,s){d.setActiveState(!0)}).on("tab.blur",function(d,s){d.setActiveState(!1)}),x};const rT=Phaser.Utils.Objects.GetValue;var FY=function(i){var t=this.scene,n=rT(this.styles,"tab")||{};n.tweaker=this.styles,n.root=this.root;var x=LY(t,i,n);delete n.tweaker,delete n.root,this.add(x,{expand:!0});for(var C=rT(i,"pages")||[],M=[],h=0,y=0,e=C.length;y<e;y++){var f=x.getPage(y),d=C[y].show;d&&(h=y);var s=C[y].key;s&&this.root.addChildrenMap(s,f),M.push(f)}return x.swapPage(h,0),M};const su="string",BE="number",bE="range",GE="list",IY="buttons",NE="boolean",DY="toggleSwitch",BY="color";var bY=function(i,t,n){if(n.view)return n.view;if(n.options)return GE;if(!i)return su;var x=i[t];switch(typeof x){case"number":return GY(n,"min","max")?bE:BE;case"string":return su;case"boolean":return NE;default:return su}},GY=function(i,...t){for(var n=0,x=t.length;n<x;n++)if(i[t[n]]===void 0)return!1;return!0};const NY={setupBinding(){var i=this.childrenMap.inputField;return i.on("valuechange",function(t){!this.bindingTarget||!this.autoUpdateEnable||(this.bindingTarget[this.bindTargetKey]=t)},this),this},setAutoUpdateEnable(i){return i===void 0&&(i=!0),this.autoUpdateEnable=i,this},setBindingTarget(i,t){return this.bindingTarget=i,t!==void 0&&this.setBindingTargetKey(t),this.syncTargetValue(),this},setBindingTargetKey(i){return this.bindTargetKey=i,this},syncTargetValue(){if(!this.bindingTarget||!this.bindTargetKey)return this;var i=this.childrenMap.inputField;return i.syncValue(this.bindingTarget[this.bindTargetKey]),this}},VY={startMonitorTarget(){return this.isMonitoring?this:(this.isMonitoring=!0,this.scene.events.on("postupdate",this.onMonitorTarget,this),this)},stopMonitorTarget(){return this.isMonitoring?(this.isMonitoring=!1,this.scene.events.off("postupdate",this.onMonitorTarget,this),this):this},onMonitorTarget(){if(this.bindingTarget){var i=this.bindingTarget[this.bindTargetKey],t=this.childrenMap.inputField;t.value!==i&&t.syncValue(i)}}},zY={getMinTitleWidth(){var i=this.childrenMap.title;if(!i)return 0;var t=i.rexSizer.padding,n=this.getChildWidth(this.childrenMap.title)+t.left+t.right;return n+this.getInnerPadding("left")},setMinTitleWidth(i){var t=this.childrenMap.title;if(!t)return this;var n=t.rexSizer.padding;return i-=n.left+n.right,t.minWidth=i,this}},zc=Phaser.Utils.Objects.GetValue;class bg extends Ot{constructor(t,n){super(t,n),this.type="rexTweaker.InputRow",this.bindingTarget=void 0,this.bindTargetKey=void 0,this.autoUpdateEnable=!0;var x=n.inputTitle,C=n.inputField,M=n.background,f=zc(n,"proportion.title",0),h=zc(n,"space.title",0),y;this.orientation===0?y={right:h}:y={bottom:h},this.add(x,{proportion:f,expand:!0,padding:y});var e=n.parentOrientation===1?1:0,f=zc(n,"proportion.inputField",e);this.add(C,{proportion:f,expand:!0}),M&&this.addBackground(M),this.addChildrenMap("title",x),this.addChildrenMap("inputField",C),this.addChildrenMap("background",M),this.setupBinding()}destroy(t){!this.scene||this.ignoreDestroy||(this.stopMonitorTarget(),super.destroy(t))}setTitle(t){var n=this.childrenMap.title;return n.setTitle(t),this}preLayout(){var t=this.childrenMap.title;t&&(t.minWidth=0),super.preLayout()}}Object.assign(bg.prototype,NY,VY,zY);var VE=function(i,t,n){var x=new LE(i,n);return i.add.existing(x),x};class Dn extends Ot{get bindingTarget(){return this.getParentSizer().bindingTarget}get bindingKey(){return this.getParentSizer().bindTargetKey}get value(){return this._value}validate(t){return this.syncValueFlag||!this.validateCallback?!0:this.validateCallback(t,this._value,this.bindingTarget,this.bindingKey)}set value(t){if(this._value!==t){var n=this._value;this._value=t,this.syncValueFlag||this.emit("valuechange",t,n,this.bindingTarget,this.bindingKey)}}getValue(){return this.value}setValue(t){return this.value=t,this}syncValue(t){return this.syncValueFlag=!0,this.value=t,this.syncValueFlag=!1,this}get readOnly(){return this._readOnly}set readOnly(t){this._readOnly=t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,!0}setTextFormatCallback(t){return this.textFormatCallback=t,this}setValidateCallback(t){return this.validateCallback=t,this}}class kY extends Dn{constructor(t,n){n===void 0&&(n={}),super(t),this.type="rexTweaker.TextInput";var x=n.inputText,C=Oh(t,x);this.add(C,{proportion:1,expand:!0}),this.addChildrenMap("inputText",C),C.on("close",function(){this.setValue(C.value)},this)}get value(){return this._value}set value(t){if(this._value!==t){this.validate(t)||(t=this._value);var n=this.textFormatCallback?this.textFormatCallback(t):t;this.childrenMap.inputText.setText(n),super.value=t}}setInputTextReadOnly(t){return t===void 0&&(t=!0),this.childrenMap.inputText.setReadOnly(t),this}}var aT=function(i,t,n){var x=new kY(i,n);return i.add.existing(x),x.setInputTextReadOnly(!!t.inputTextReadOnly),x};class UY extends Dn{constructor(t,n){n===void 0&&(n={}),super(t),this.type="rexTweaker.NumberInput";var x=n.inputNumber||n.inputText,C=Oh(t,x).setNumberInput();this.add(C,{proportion:1,expand:!0}),this.addChildrenMap("inputText",C),C.on("close",function(){this.setValue(C.value)},this)}get value(){return this._value}set value(t){if(this._value!==t){this.validate(t)||(t=this._value);var n=this.textFormatCallback?this.textFormatCallback(t):t;this.childrenMap.inputText.setText(n),super.value=t}}setInputTextReadOnly(t){return t===void 0&&(t=!0),this.childrenMap.inputText.setReadOnly(t),this}}var XY=function(i,t,n){var x=new UY(i,n);return i.add.existing(x),x.setInputTextReadOnly(!!t.inputTextReadOnly),x},YY=function(i,t){var n=new Ua(i,t);return i.add.existing(n),n};const kc=Phaser.Utils.Objects.GetValue,WY=Phaser.Math.Linear,HY=Phaser.Math.Snap.Floor;class $Y extends Dn{constructor(t,n){n===void 0&&(n={}),super(t),this.type="rexTweaker.RangeInput";var x=n.slider,C=this.orientation===0?"track.height":"track.width",M=kc(x,C),h=YY(t,x),d=n.parentOrientation===1?2:0,s=kc(n,"proportion.range.slider",d),y=M===void 0;this.add(h,{proportion:s,expand:y});var e=n.inputNumber||n.inputText,f=Oh(t,e).setNumberInput(),d=n.parentOrientation===1?1:0,s=kc(n,"proportion.range.inputText",d);this.add(f,{proportion:s,expand:!0}),this.addChildrenMap("slider",h),this.addChildrenMap("inputText",f),f.on("close",function(){this.setValue(f.value)},this),h.on("valuechange",function(){var a=WY(this.minValue,this.maxValue,h.value);this.step&&(a=HY(a,this.step,this.minValue)),this.setValue(a)},this)}get value(){return this._value}set value(t){if(this._value!==t){this.validate(t)||(t=this._value);var n=this.textFormatCallback?this.textFormatCallback(t):t;this.childrenMap.inputText.setText("").setText(n),this.childrenMap.slider.setValue(t,this.minValue,this.maxValue),super.value=t}}setRange(t,n,x){return this.minValue=t,this.maxValue=n,this.step=x,this.childrenMap.slider.setGap(x,t,n),this}setInputTextReadOnly(t){return t===void 0&&(t=!0),this.childrenMap.inputText.setReadOnly(t),this}}var KY=function(i,t,n){var x=new $Y(i,n);return i.add.existing(x),x.setRange(t.min,t.max,t.step),x.setInputTextReadOnly(!!t.inputTextReadOnly),x},jY=function(i,t){t=oE(i,t);var n=new wh(i,t);return i.add.existing(n),n},zE=function(i,t){for(var n=0,x=i.length;n<x;n++){var C=i[n];if(C.value===t)return n}},ZY=function(i,t){var n=zE(i,t);if(n!=null)return i[n].text};class JY extends Dn{constructor(t,n){n===void 0&&(n={}),super(t),this.type="rexTweaker.ListInput";var x=jY(t,n.list);this.add(x,{proportion:1,expand:!0}),this.addChildrenMap("list",x),x.on("button.click",function(C,M,h,y,e,f){this.setValue(h.value)},this)}get value(){return this._value}set value(t){if(this._value!==t){this.validate(t)||(t=this._value);var n=this.childrenMap.list,x=ZY(n.options,t);n.resetDisplayContent({text:x}),super.value=t}}setOptions(t){return this.childrenMap.list.setOptions(t),this}}var QY=function(i,t,n){var x=new JY(i,n);return i.add.existing(x),x.setOptions(t.options),x},kE=function(i,t){var n=new Ce(i,t);return i.add.existing(n),n},qY=function(i,t){for(var n=0,x=i.length;n<x;n++){var C=i[n];C&&C.setActiveState(n===t)}};const _Y=Phaser.Utils.Objects.GetValue;class tW extends Dn{constructor(t,n){n===void 0&&(n={}),super(t),this.type="rexTweaker.ButtonsInput";var x=n.button?wi(n.button):{},C=_Y(x,"expand",!0);C&&(x.align="center"),delete x.expand;var M=kE(t,{expand:C});M.buttonConfig=x,this.add(M,{proportion:1,expand:!0}),this.addChildrenMap("list",M),M.on("button.click",function(h,y,e,f){var d=M.options[y];d&&(this._selectedIndex=y,this.setValue(d.value),this._selectedIndex=void 0)},this)}get value(){return this._value}set value(t){if(this._value!==t){this.validate(t)||(t=this._value);var n=this.childrenMap.list,x=this._selectedIndex;x===void 0&&(x=zE(n.options,t)),qY(n.childrenMap.buttons,x),super.value=t}}setOptions(t){var n=this.childrenMap.list;n.options=t;var x=this.scene,C=n.buttonConfig;n.clearButtons(!0);for(var M=0,h=t.length;M<h;M++){var y=t[M],e=Mi(x,C).setActiveState(!1).resetDisplayContent({text:y.text});n.addButton(e)}return this}}var eW=function(i,t,n){var x=new tW(i,n);return i.add.existing(x),x.setOptions(t.options),x},iW=function(i,t){var n=new M0(i,t);return i.add.existing(n),n};const sW=Phaser.Utils.Objects.GetValue;class nW extends Dn{constructor(t,n){n===void 0&&(n={}),super(t),this.type="rexTweaker.CheckboxInput";var x=n.checkbox,C=iW(t,x),M=sW(x,"size");M!==void 0&&C.setSize(M,M);var h=M!==void 0?0:1;this.add(C,{proportion:0,expand:!1,fitRatio:h}),this.addChildrenMap("checkbox",C),C.on("valuechange",function(y){this.setValue(y)},this)}get value(){return this._value}set value(t){this._value!==t&&(this.validate(t)||(t=this._value),this.childrenMap.checkbox.setValue(t),super.value=t)}}var rW=function(i,t,n){var x=new nW(i,n);return i.add.existing(x),x},aW=function(i,t){var n=new E0(i,t);return i.add.existing(n),n};const oW=Phaser.Utils.Objects.GetValue;class hW extends Dn{constructor(t,n){n===void 0&&(n={}),super(t),this.type="rexTweaker.ToggleSwitchInput";var x=n.toggleSwitch,C=aW(t,x),M=oW(x,"size");M!==void 0&&C.setSize(M,M);var h=M!==void 0?0:1;this.addSpace().add(C,{proportion:0,expand:!1,fitRatio:h}),this.addChildrenMap("toggleSwitch",C),C.on("valuechange",function(y){this.setValue(y)},this)}get value(){return this._value}set value(t){this._value!==t&&(this.validate(t)||(t=this._value),this.childrenMap.toggleSwitch.setValue(t),super.value=t)}}var lW=function(i,t,n){var x=new hW(i,n);return i.add.existing(x),x},uW=function(i,t,n){n===void 0&&(n=!0),n?t=t?wi(t):{}:t||(t={});var x=new Wf(i,t);return i.add.existing(x),x};class fW extends Dn{constructor(t,n){n===void 0&&(n={}),super(t),this.type="rexTweaker.ColorInput";var x=n.colorInput,C=uW(t,x);this.add(C,{proportion:1,expand:!0}),this.addChildrenMap("colorInput",C),C.on("valuechange",function(M){this.setValue(M)},this)}get value(){return this._value}set value(t){this._value!==t&&(this.validate(t)||(t=this._value),this.childrenMap.colorInput.setValue(t),super.value=t)}}var dW=function(i,t,n){var x=new fW(i,n);return i.add.existing(x),x},cW=function(i,t,n){var x=t.view,C;switch(x){case su:C=aT;break;case BE:C=XY;break;case bE:C=KY;break;case GE:C=QY;break;case IY:C=eW;break;case NE:C=rW;break;case DY:C=lW;break;case BY:C=dW;break;default:C=Sn(x)?x:aT;break}var M=C(i,t,n,M);return M.setTextFormatCallback(t.format),M};const oT=Phaser.Utils.Objects.GetValue;var vW=function(i,t,n){var x=oT(n,"title")||{},C=VE(i,t,x),M=cW(i,t,n),h=oT(n,"background")||{},y=Si(i,h),e=new bg(i,{...t,...n,inputTitle:C,inputField:M,background:y});return i.add.existing(e),e.setTitle(t),e};Phaser.Utils.Objects.GetValue;var pW=function(i,t,n){arguments.length===1?(n=i,i=n.bindingTarget,t=n.bindingKey):n===void 0&&(n={}),n.title||(n.title=t),n.view||(n.view=bY(i,t,n));var x=this.styles.inputRow||{};x.parentOrientation=this.styles.orientation;var C=vW(this.scene,n,x),M=C.childrenMap.inputField,h;return this.orientation===1?h=0:(h=this.itemWidth>0?0:1,C.setMinWidth(this.itemWidth)),this.add(C,{proportion:h,expand:!0}),n.onValueChange&&M.on("valuechange",n.onValueChange),n.onValidate&&M.setValidateCallback(n.onValidate),C.setAutoUpdateEnable(n.autoUpdate),C.setBindingTarget(i,t),n.monitor&&C.startMonitorTarget(),n.key&&this.root.addChildrenMap(n.key,C),this},gW=function(i,t){var n=new Rn(i,t);return i.add.existing(n),n};const Uc=Phaser.Utils.Objects.GetValue;var mW=function(i,t,n){for(var x=Uc(n,"title")||{},C=VE(i,t,x),M=t.buttons,h=Uc(n,"button")||{},y=[],e=0,f=M.length;e<f;e++){var d=Mi(i,h);y.push(d);var s=M[e];d.resetDisplayContent({text:s.label}),d.callback=s.callback}var a=kE(i,{buttons:y,expand:y.length===1}),r=Uc(n,"background")||{},o=gW(i,r),u=new bg(i,{...n,inputTitle:C,inputField:a,background:o});return i.add.existing(u),u.setTitle(t),a.on("button.click",function(v){v.callback(u.bindingTarget)}),u};const xW=Phaser.Utils.Objects.GetValue;var hT=function(i){var t=this.scene;i===void 0&&(i={}),i.hasOwnProperty("label")&&(i.buttons=[{label:i.label,callback:i.callback}],delete i.label,delete i.callback);var n=i.bindingTarget;delete i.bindingTarget;var x=xW(this.styles,"inputRow")||{},C=mW(t,i,x);return this.add(C,{expand:!0}),n&&C.setBindingTarget(n),i.key&&this.root.addChildrenMap(i.key,C),this};const yW=Phaser.Utils.Objects.GetValue;var TW=function(i){var t=this.scene,n=yW(this.styles,"separator"),x=Bg(t,i,n);return this.add(x,{expand:!0}),this},CW=function(i){for(var t=this.sizerChildren,n=0,x=t.length;n<x;n++){var C=t[n];C.setBindingTarget&&C.setBindingTarget(i)}return this},SW=function(){for(var i=0,t=this.sizerChildren,n=0,x=t.length;n<x;n++){var C=t[n];C.rexSizer.hidden||(C.getMinTitleWidth?i=Math.max(i,C.getMinTitleWidth()):C.getMaxInputRowTitleWidth&&(i=Math.max(i,C.getMaxInputRowTitleWidth())))}return i+this.getInnerPadding("left")},MW=function(i){i-=this.getInnerPadding("left");for(var t=this.sizerChildren,n=0,x=t.length;n<x;n++){var C=t[n];C.rexSizer.hidden||(C.setMinTitleWidth?C.setMinTitleWidth(i):C.setInputRowTitleWidth&&C.setInputRowTitleWidth(i))}return this},EW={addFolder:AY,addTab:FY,addInput:pW,addButton:hT,addButtons:hT,addSeparator:TW,setBindingTarget:CW,getMaxInputRowTitleWidth:SW,setInputRowTitleWidth:MW};const Gl=Phaser.Utils.Objects.GetValue;class Gg extends Ot{constructor(t,n){if(n===void 0&&(n={}),n.orientation===void 0&&(n.orientation=1),super(t,n),this.type="rexTweakerShell",this.root=n.root||this,this.styles=Gl(n,"styles")||{},this.styles.orientation=this.orientation,this.itemWidth=Gl(this.styles,"itemWidth",0),this.root===this&&this.orientation===1){var x=Gl(n,"inputRow.alignTitle");if(x===void 0){var C=Gl(this.styles,"inputRow.proportion.title");x=!C}else x&&nt(this.styles,"inputRow.proportion.title",0);this.alignInputRowTitle=x}else this.alignInputRowTitle=!1;var M=Bg(t,void 0,n.background);M&&this.addBackground(M)}preLayout(){super.preLayout(),this.alignInputRowTitle&&this.setInputRowTitleWidth(this.getMaxInputRowTitleWidth())}}Object.assign(Gg.prototype,EW);class UE extends Gg{constructor(t,n){n===void 0&&(n={}),n.styles===void 0&&(n.styles={}),n.background=n.styles.background||{},n.space=n.styles.space||{},super(t,n),this.type="rexTweaker"}}rt.register("tweaker",function(i){var t=new UE(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.Tweaker",UE);rt.register("click",function(i,t){return new On(i,t)});nt(window,"RexPlugins.UI.Click",On);rt.register("clickOutside",function(i,t){return new Q0(i,t)});nt(window,"RexPlugins.UI.ClickOutside",Q0);rt.register("inTouching",function(i,t){return new Ia(i,t)});nt(window,"RexPlugins.UI.InTouching",Ia);rt.register("tap",function(i,t){return Ln(i)||(t=i,i=this.scene),new Tf(i,t)});nt(window,"RexPlugins.UI.Tap",Tf);rt.register("press",function(i,t){return Ln(i)||(t=i,i=this.scene),new Cf(i,t)});nt(window,"RexPlugins.UI.Press",Cf);rt.register("swipe",function(i,t){return Ln(i)||(t=i,i=this.scene),new Ph(i,t)});nt(window,"RexPlugins.UI.Swipe",Ph);rt.register("pan",function(i,t){return Ln(i)||(t=i,i=this.scene),new vM(i,t)});nt(window,"RexPlugins.UI.Pan",vM);var XE=function(i){for(var t=i.scene.input,n=t.manager,x=n.pointersTotal,C=n.pointers,M,h=0;h<x;h++)if(M=C[h],!(!M.primaryDown||t.getDragState(M)!==0||!x0(i,M)))return t.setDragState(M,1),t._drag[M.id]=[i],t.dragDistanceThreshold===0||t.dragTimeThreshold===0?(t.setDragState(M,3),t.processDragStartList(M)):t.setDragState(M,2),!0;return!1};const Nl=Phaser.Utils.Objects.GetValue,lT=Phaser.Math.Distance.Between,uT=Phaser.Math.RotateAroundDistance;class YE extends me{constructor(t,n){super(t,{eventEmitter:!1}),this._enable=void 0,t.setInteractive(Nl(n,"inputConfig",void 0)),this.resetFromJSON(n),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.setEnable(Nl(t,"enable",!0)),this.setAxisMode(Nl(t,"axis",0)),this.setAxisRotation(Nl(t,"rotation",0)),this}toJSON(){return{enable:this.enable,axis:this.axisMode,rotation:this.axisRotation}}boot(){var t=this.parent;t.on("dragstart",this.onDragStart,this),t.on("drag",this.onDrag,this),t.on("dragend",this.onDragEnd,this)}shutdown(t){this.isShutdown||(this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragend(),this._enable=t,this.scene.input.setDraggable(this.parent,t),this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setAxisMode(t){return typeof t=="string"&&(t=PW[t]),this.axisMode=t,this}setAxisRotation(t){return this.axisRotation=t,this}drag(){return XE(this.parent),this}dragend(){if(this.isDragging)return this.scene.input.setDragState(this.pointer,5),this}onDragStart(t,n,x){this.isDragging||(this.pointer=t)}onDrag(t,n,x){if(this.pointer===t){var C=this.parent;if(this.axisMode===0)C.x=n,C.y=x;else if(this.axisRotation===0)this.axisMode===1?C.x=n:this.axisMode===2&&(C.y=x);else{var M,h={x:n,y:x};M=lT(h.x,h.y,C.x,C.y),h=uT(h,C.x,C.y,-this.axisRotation,M),this.axisMode===1?h.y=C.y:this.axisMode===2&&(h.x=C.x),M=lT(h.x,h.y,C.x,C.y),h=uT(h,C.x,C.y,this.axisRotation,M),C.x=h.x,C.y=h.y}}}onDragEnd(t,n,x,C){this.pointer===t&&(this.pointer=void 0)}get isDragging(){return this.pointer!==void 0}}const PW={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2};rt.register("drag",function(i,t){return new YE(i,t)});nt(window,"RexPlugins.UI.Drag",YE);rt.register("pinch",function(i){return new pM(this.scene,i)});nt(window,"RexPlugins.UI.Pinch",pM);rt.register("rotate",function(i){return new _0(this.scene,i)});nt(window,"RexPlugins.UI.Rotate",_0);const RW=Phaser.Utils.Objects.IsPlainObject,fT=Phaser.Utils.Objects.GetValue;var dT=function(i,t,n){var x;if(i===void 0)i=n.texture.key,t=n.frame.name;else if(RW(i)){var C=i;i=fT(C,"key",n.texture.key),t=fT(C,"frame",n.frame.name)}else typeof i=="string"||(x=i);return x===void 0&&(x=function(M){M.setTexture(i,t)}),x};const Mo=Phaser.Utils.Objects.GetValue,AW=Phaser.Utils.Objects.GetAdvancedValue,wW=Phaser.Math.Linear;class WE extends xr{constructor(t,n){super(t,n),this.resetFromJSON(n),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setDuration(AW(t,"duration",500)),this.setEase(Mo(t,"ease","Sine")),this.setOrientation(Mo(t,"orientation",0)),this.setFrontFace(Mo(t,"front",void 0)),this.setBackFace(Mo(t,"back",void 0)),this.setFace(Mo(t,"face",0)),this}setOrientation(t){return typeof t=="string"&&(t=OW[t]),this.orientation=t,this}get face(){return this._face}set face(t){typeof t=="string"&&(t=LW[t]),this._face=t,t===0&&this.frontFaceCallback?this.frontFaceCallback(this.parent):t===1&&this.backFaceCallback&&this.backFaceCallback(this.parent)}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}setFrontFace(t,n){return this.frontFaceCallback=dT(t,n,this.parent),this}setBackFace(t,n){return this.backFaceCallback=dT(t,n,this.parent),this}start(){if(this.timer.isRunning)return this;var t=this.parent;return this.orientation===0?this.scale0=t.scaleX:this.scale0=t.scaleY,this.timer.setDelay(this.delay).setDuration(this.duration/2).setRepeat(1),super.start(),this}flip(t){return this.isRunning?this:(t!==void 0&&this.setDuration(t),this.start(),this)}updateGameObject(t,n){n.justRestart&&this.toggleFace();var x=n.t;n.isOddIteration&&(x=1-x),x=this.easeFn(x);var C=wW(this.scale0,0,x);this.orientation===0?t.scaleX=C:t.scaleY=C}}const OW={x:0,horizontal:0,y:1,vertical:1},LW={front:0,back:1};rt.register("flip",function(i,t){return new WE(i,t)});nt(window,"RexPlugins.UI.Flip",WE);rt.register("shake",function(i,t){return new H0(i,t)});nt(window,"RexPlugins.UI.Shake",H0);rt.register("touchEventStop",function(i,t){return new mf(i,t)});nt(window,"RexPlugins.UI.TouchEventStop",mf);rt.register("perspective",function(i,t){return new CE(i,t)});nt(window,"RexPlugins.UI.Perspective",CE);const HE=Phaser.Math.RotateAround;var Xc=function(i,t,n){var x=i.width/2,C=i.height/2;return Oe.x=t-x,Oe.y=n-C,HE(Oe,0,0,i.rotation),Oe.x*=i.scaleX,Oe.y*=i.scaleY,Oe.x+=i.x,Oe.y+=i.y,Oe},FW=function(i,t,n){var x=i.width/2,C=i.height/2;return Oe.x=t-i.x,Oe.y=n-i.y,Oe.x/=i.scaleX,Oe.y/=i.scaleY,HE(Oe,0,0,-i.rotation),Oe.x+=x,Oe.y+=C,Oe},Oe={x:0,y:0};class IW{constructor(t,n){this.parent=t,this.vertex=n,this._localX=void 0,this._localY=void 0}destroy(){this.parent=void 0,this.vertex=void 0}updateVertexPosition(t,n){var x=this.parent,C=x.height,M=x.frame.cutWidth/C/2,h=x.frame.cutHeight/C/2,y=t/C-M,e=n/C-h,f=this.vertex;return f.x=y,f.y=-e,x.forceUpdate(),this}get localX(){return this._localX}set localX(t){this.setLocalXY(t,this._localY)}get localY(){return this._localY}set localY(t){this.setLocalXY(this._localX,t)}get localXOrigin(){return this._localXOrigin}get localYOrigin(){return this._localYOrigin}resetLocalXY(t,n){return this._localXOrigin=t,this._localYOrigin=n,this._localX=t,this._localY=n,this}setLocalXY(t,n,x){return this._localX===t&&this._localY===n?this:(this._localX=t,this._localY=n,x||this.updateVertexPosition(t,n),this)}setWorldXY(t,n){if(this._worldX===t&&this._worldY===n)return this;var x=FW(this.parent,t,n);return this.setLocalXY(x.x,x.y),this}setPosition(t,n){return this.setWorldXY(t,n),this}getWorldXY(){return Xc(this.parent,this._localX,this._localY)}get x(){var t=Xc(this.parent,this._localX,this._localY);return t.x}set x(t){this.setWorldXY(t,this.y)}get y(){var t=Xc(this.parent,this._localX,this._localY);return t.y}set y(t){this.setWorldXY(this.x,t)}}const DW=Phaser.Geom.Mesh.Vertex,BW=Phaser.Geom.Mesh.Face;var bW=function(i){for(var t=i.isNinePointMode,n=t?9:4,x=i.vertices,C=i.faces,M=i.controlPoints,h=0;h<n;h++){var y=new DW;x.push(y),M.push(new IW(i,y))}var e;t?e=VW:i.fourPointsModeRTL?e=NW:e=GW;for(var h=0,f=e.length;h<f;h+=3){var d=x[e[h+0]],s=x[e[h+1]],a=x[e[h+2]];C.push(new BW(d,s,a))}t?(i.topLeft=M[0],i.topCenter=M[1],i.topRight=M[2],i.centerLeft=M[3],i.center=M[4],i.centerRight=M[5],i.bottomLeft=M[6],i.bottomCenter=M[7],i.bottomRight=M[8]):(i.topLeft=M[0],i.topRight=M[1],i.bottomLeft=M[2],i.bottomRight=M[3])};const GW=[0,2,3,0,3,1],NW=[1,3,2,1,2,0],VW=[0,3,4,0,4,1,1,4,2,4,5,2,3,6,4,6,7,4,4,7,8,4,8,5];var zW=function(i){var t,n=0,x=i.height,C=0,M=i.width;if(i.isNinePointMode){var h=(C+M)/2,y=(n+x)/2;t=[C,n,h,n,M,n,C,y,h,y,M,y,C,x,h,x,M,x]}else t=[C,n,M,n,C,x,M,x];return t};const kW=Phaser.GameObjects.Mesh,UW=Phaser.Utils.Objects.IsPlainObject,Qr=Phaser.Utils.Objects.GetValue;let XW=class extends kW{constructor(t,n,x,C,M,h){UW(n)&&(h=n,n=Qr(h,"x",0),x=Qr(h,"y",0),C=Qr(h,"key",null),M=Qr(h,"frame",null)),super(t,n,x,C,M),this.type="rexQuadImage",this.isNinePointMode=Qr(h,"ninePointMode",!1),this.fourPointsModeRTL=Qr(h,"rtl",!1),this.controlPoints=[],bW(this),this.hideCCW=!1,this.syncSize()}destroy(t){if(!(!this.scene||this.ignoreDestroy)){super.destroy(t);for(var n=0,x=this.controlPoints.length;n<x;n++)this.controlPoints[n].destroy();this.controlPoints=void 0}}resetVerts(){this.dirtyCache[9]=-1;for(var t=zW(this),n=this.width,x=this.height,C=this.frame.cutWidth/x/2,M=this.frame.cutHeight/x/2,h=this.frame.u0,y=this.frame.u1,e=this.frame.v0,f=this.frame.v1,d=y-h,s=f-e,a=this.controlPoints,r=0,o=t.length;r<o;r+=2){var u=t[r+0],v=t[r+1],l=r/2,c=u/x-C,p=v/x-M,g=h+d*(u/n),m=e+s*(v/x);this.vertices[l].set(c,-p,0).setUVs(g,m),a[l].resetLocalXY(u,v)}return this}syncSize(){return this.setSizeToFrame(),this.setOrtho(this.width/this.height,1),this.resetVerts(),this}forceUpdate(){return this.dirtyCache[10]=1,this}get tint(){return this.vertices.length===0?16777215:this.vertices[0].color}};Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;var cT=function(i,t,n){t===void 0&&(t=0),n===void 0&&(n=0);for(var x=i.width,C=i.height,M=x*.5,h=C*.5,y=Math.tan(t)*h,e=Math.tan(n)*M,f=i.controlPoints,d=0,s=f.length;d<s;d++){var a=f[d],r=a.localXOrigin,o=a.localYOrigin;a.localX=r+(o>h?y:-y),a.localY=o+(r>M?e:-e)}};const YW=Phaser.Utils.Objects.IsPlainObject,Vl=Phaser.Utils.Objects.GetValue,vT=Phaser.Math.DegToRad,pT=Phaser.Math.RadToDeg;class WW extends XW{constructor(t,n,x,C,M){if(YW(n)){var h=n;n=Vl(h,"x",0),x=Vl(h,"y",0),C=Vl(h,"key",null),M=Vl(h,"frame",null)}super(t,n,x,C,M),this.type="rexSkewmage",this._skewX=0,this._skewY=0}get skewX(){return this._skewX}set skewX(t){this._skewX=t,cT(this,this._skewX,this._skewY)}get skewXDeg(){return pT(this._skewX)}set skewXDeg(t){this.skewX=vT(t)}get skewY(){return this._skewY}set skewY(t){this._skewY=t,cT(this,this._skewX,this._skewY)}get skewYDeg(){return pT(this._skewY)}set skewYDeg(t){this.skewY=vT(t)}setSkewX(t){return this.skewX=t,this}setSkewY(t){return this.skewY=t,this}setSkew(t,n){return n===void 0&&(n=t),this.skewX=t,this.skewY=n,this}setSkewXDeg(t){return this.skewXDeg=t,this}setSkewYDeg(t){return this.skewYDeg=t,this}setSkewDeg(t,n){return n===void 0&&(n=t),this.skewXDeg=t,this.skewYDeg=n,this}}const HW=Phaser.Utils.Objects.IsPlainObject,zl=Phaser.Utils.Objects.GetValue;class $W extends WW{constructor(t,n,x,C,M){if(HW(n)){var h=n;n=zl(h,"x",0),x=zl(h,"y",0),C=zl(h,"width",32),M=zl(h,"height",32)}var y=mE(t,C,M);super(t,n,x,y,null),this.type="rexSkewRenderTexture",this.rt=this.texture}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.rt.destroy(),this.rt=null)}}class $E extends TE($W){get skewState(){return this.isRunning}}rt.register("skew",function(i,t){return new $E(i,t)});nt(window,"RexPlugins.UI.Skew",$E);rt.register("anchor",function(i,t){return new X0(i,t)});nt(window,"RexPlugins.UI.Anchor",X0);rt.register("textTyping",function(i,t){return new Ag(i,t)});nt(window,"RexPlugins.UI.TextTyping",Ag);rt.register("textPage",function(i,t){return new kf(i,t)});nt(window,"RexPlugins.UI.TextPage",kf);var da=void 0,KW=function(i){i!==da&&(da!==void 0&&da.close(),da=i)},jW=function(i){i===da&&(da=void 0)};const Es=Phaser.Utils.Objects.GetValue,ZW=Phaser.Utils.Objects.Clone;var JW=function(i,t){t===void 0&&(t={}),t=ZW(t);var n=i.scene,x=i.style,C=Es(t,"backgroundColor",x.backgroundColor);C===null&&(C="transparent"),t.text=Es(t,"text",i.text),t.fontFamily=Es(t,"fontFamily",x.fontFamily),t.fontSize=Es(t,"fontSize",x.fontSize),t.color=Es(t,"color",x.color),t.backgroundColor=C,t.direction=Es(t,"rtl",x.rtl)?"rtl":"ltr",t.align=Es(t,"align",QW(x)),t.direction==="rtl"&&ug(i)&&(t.align="right");var M=new Rf(n,i.x,i.y,Es(t,"width",i.width),Es(t,"height",i.height),t);M.setOrigin(i.originX,i.originY).setScrollFactor(i.scrollFactorX,i.scrollFactorY);var h=i.parentContainer;return h?h.add(M):n.add.existing(M),M},QW=function(i){return i.hasOwnProperty("align")?i.align:i.hasOwnProperty("halign")?i.halign:"left"},qW=function(i,t,n){return i.time.delayedCall(0,t,[],n)};const kl=Phaser.Utils.Objects.GetValue,_W=Phaser.Utils.Objects.Merge;var tH=function(i,t){i===void 0&&(i={}),i=_W(i,this.openConfig),KW(this),Sn(i)&&(t=i,i=void 0),t===void 0&&(t=kl(i,"onClose",void 0));var n=kl(i,"onOpen",void 0),x=kl(i,"onTextChanged",void 0);return this.inputText=JW(this.parent,i).on("textchange",function(C){var M=C.text;x?x(this.parent,M):this.parent.text=M},this).setFocus(),this.parent.setVisible(!1),this.onClose=t,kl(i,"enterClose",!0)&&this.scene.input.keyboard.once("keydown-ENTER",this.close,this),this.delayCall=qW(this.scene,function(){this.scene.input.once("pointerdown",this.close,this),n&&n(this.parent),this.emit("open",this.parent)},this),this},eH=function(){return jW(this),this.parent.setVisible(!0),this.inputText&&(this.inputText.destroy(),this.inputText=void 0),this.delayCall&&(this.delayCall.remove(),this.delayCall=void 0),this.scene.input.keyboard.off("keydown-ENTER",this.close,this),this.scene.input.off("pointerdown",this.close,this),this.onClose&&this.onClose(this.parent),this.emit("close",this.parent),this},iH={open:tH,close:eH};const sH=Phaser.Utils.Objects.GetValue;class Hf extends me{constructor(t,n){super(t),this.inputText=void 0,this.onClose=void 0,this.delayCall=void 0,this.setOpenConfig(n);var x=sH(n,"clickEnable",!0);x&&t.on("pointerdown",function(){this.open()},this).setInteractive()}shutdown(t){this.isShutdown||(this.close(),super.shutdown(t))}setOpenConfig(t){return t===void 0&&(t={}),this.openConfig=t,this}get isOpened(){return this.inputText!==void 0}get text(){return this.isOpened?this.inputText.text:this.parent.text}}Object.assign(Hf.prototype,iH);var nH=function(i,t,n){return i._edit||(i._edit=new Hf(i,{clickEnable:!1})),i._edit.open(t,n),i._edit};rt.register("textEdit",function(i,t){return new Hf(i,t)});nt(window,"RexPlugins.UI.TextEdit",Hf);const Yc=65535;var bu=function(i,t,n){if(t==null)return i;if(t===0)return Wc(i,0,n),i;var x=i.text.length;if(x===0)return Wc(i,t,n),i;var C=Math.floor(t*1.5/x);n!==void 0&&C>n&&(C=Math.floor(n));for(var M={},h=mT(i,C,t,n,M),y=0;y<=Yc&&h!==0;y++){if(C+=h,C<0){C=0;break}h=mT(i,C,t,n,M)}return y===Yc&&console.warn(`FontSizeFit: Test count exceeds ${Yc}`),i.setFontSize(C),Wc(i,t,n),i},gT=function(i,t,n){return n[t]===void 0&&(i.setFontSize(t),n[t]={width:i.width,height:i.height}),n[t]},mT=function(i,t,n,x,C){var M=gT(i,t,C),h=gT(i,t+1,C),y;if(x!==void 0)if(M.height<=x&&h.height>x)y=0;else{if(M.height>x)return-1;y=Math.floor(x-M.height)}var e;if(M.width<=n&&h.width>n)return 0;if(M.width>n)return-1;var e=Math.floor(n-M.width);return y===void 0?e:Math.min(e,y)},Wc=function(i,t,n){var x=i.style;x&&(x.fixedWidth=t,x.parent.width=t,n!==void 0&&(x.fixedHeight=n,x.parent.height=n),x.update(!1))};const Hc=Phaser.Utils.Objects.GetValue;var rH=function(i,t){typeof t=="number"&&(t={minWidth:t});var n=Hc(t,"minWidth",0),x=Hc(t,"minHeight",0),C=Hc(t,"fitHeight",!1);return i._minWidth=n,i._minHeight=x,C?(i.runWidthWrap=function(M){return i.setFixedSize&&i.setFixedSize(0,0),i.setFontSize(1),i},i.resize=function(M,h){return bu(i,M,h),i}):(i.runWidthWrap=function(M){return i.setFixedSize&&i.setFixedSize(0,0),bu(i,M,void 0),i},i.resize=function(M,h){return i.width===M&&i.height===h||i.setFixedSize(M,h),i}),i};class KE extends Phaser.Plugins.ScenePlugin{constructor(t,n){super(t,n),this.add=new rt(t)}start(){var t=this.scene.events;t.on("destroy",this.destroy,this)}isInTouching(t,n,x,C){return t.visible?xf(t,n,x,C):!1}get viewport(){return Va(this.scene,this.scene.cameras.main,!0)}}var aH={getParentSizer:Oi,getTopmostSizer:q2,hide:rn,show:nn,isShown:$0,edit:nH,wrapExpandText:UM,fontSizeExpandText:rH,fontSizeResize:bu,setFontSizeToFitWidth:bu,waitEvent:hf,waitComplete:Se,delayPromise:RM,setChildrenInteractive:tg,fadeIn:vf,fadeOutDestroy:pf,easeMoveTo:aM,easeMoveFrom:oM,modal:Z0,modalPromise:lB,modalClose:fM,requestDrag:XE,openFileChooser:lG};Object.assign(KE.prototype,aH);const Qn=(i,t)=>i.rexUI.add.label({width:40,height:40,background:i.rexUI.add.roundRectangle(0,0,0,0,20,6198003),text:i.add.text(0,0,t,{fontSize:"24px"}),name:t,space:{left:10,right:10,top:10,bottom:10}});function oH(i){let t=window.innerWidth/2-270,n=600;const x=i.rexUI.add.dialog({x:t,y:n,width:500,background:i.rexUI.add.roundRectangle(0,0,100,100,20,"gray"),title:Qn(i,"Title").setDraggable(),toolbar:[Qn(i,"X")],leftToolbar:[],content:Qn(i,"Content"),choices:[Qn(i,"Choice1"),Qn(i,"Choice2")],actions:[Qn(i,"Action0"),Qn(i,"Action1")],space:{left:20,right:20,top:-20,bottom:-20,title:25,titleLeft:30,content:25,description:25,descriptionLeft:20,descriptionRight:20,choices:25,toolbarItem:5,choice:15,action:15},expand:{title:!1},align:{title:"center",actions:"right"},click:{mode:"release"}}).setDraggable("background").layout().hide().setDepth(1);return i.print=i.add.text(0,0,"").setDepth(2),x.on("button.over",function(C,M,h,y,e){C.getElement("background").setStrokeStyle(1,16777215)}).on("button.out",function(C,M,h,y,e){C.getElement("background").setStrokeStyle()}),x}const hH=i=>{i.create({key:"lizard-idle",frames:i.generateFrameNames("lizard",{start:0,end:3,prefix:"lizard_m_idle_anim_f",suffix:".png"}),repeat:-1,frameRate:10}),i.create({key:"lizard-run",frames:i.generateFrameNames("lizard",{start:0,end:3,prefix:"lizard_m_run_anim_f",suffix:".png"}),repeat:-1,frameRate:10}),i.create({key:"lizard-hit",frames:i.generateFrameNames("lizard",{start:0,end:0,prefix:"lizard_m_hit_anim_f",suffix:".png"}),repeat:-1,frameRate:10})};class lH extends oi.Physics.Arcade.Sprite{constructor(n,x,C,M,h){super(n,x,C,M,h);Ft(this,"direction",3);Ft(this,"hp",100);Ft(this,"healthBar");Ft(this,"emitter");this.setScale(3),this.healthBar=this.scene.add.graphics(),this.anims.play("lizard-idle"),n.physics.world.on(oi.Physics.Arcade.Events.TILE_COLLIDE,this.handleTileCollision,this)}initEmitter(n){this.emitter=n}drawHealthBar(){const C=this.hp/100;this.healthBar.clear(),this.healthBar.fillStyle(16711680),this.healthBar.fillRect(this.x-17,this.y-26,30,4),this.healthBar.fillStyle(65280);const M=30*C;this.healthBar.fillRect(this.x-17,this.y-26,M,4)}takeDamage(n){this.hp-=n,this.anims.play("lizard-hit"),this.hp<=0&&this.emitter.emit("lizard-dead",{x:this.x,y:this.y})}handleTileCollision(n,x){var C,M,h,y;if(n===this&&((M=(C=n==null?void 0:n.body)==null?void 0:C.blocked)!=null&&M.right||(y=(h=n==null?void 0:n.body)==null?void 0:h.blocked)!=null&&y.left)){const e=oi.Math.Between(2,3);this.direction=e}}preUpdate(n,x){var M;super.preUpdate(n,x);const C=85;if((M=this.body)!=null&&M.blocked.down)switch(this.direction){case 2:this.setVelocityX(-C),this.scaleX=-3,this.setOffset(16,0),this.anims.play("lizard-run",!0);break;case 3:this.setVelocityX(C),this.scaleX=3,this.setOffset(0),this.anims.play("lizard-run",!0);break}this.hp>0?this.drawHealthBar():(this.healthBar.clear(),this.destroy(!0))}create(){}}class uH extends oi.Scene{constructor(){super("Game");Ft(this,"cursors");Ft(this,"player");Ft(this,"platforms");Ft(this,"movingPlatform");Ft(this,"stars");Ft(this,"starsSummary",0);Ft(this,"sword");Ft(this,"swordHitbox");Ft(this,"spine");Ft(this,"boy");Ft(this,"animationNames",[]);Ft(this,"level",1);Ft(this,"loadNextLevel",!1);Ft(this,"showDialog",!1);Ft(this,"dialog");Ft(this,"dialogLevel",0);Ft(this,"emitter",new oi.Events.EventEmitter);Ft(this,"backgrounds",[]);Ft(this,"velocityX",10)}preload(){this.cursors=this.input.keyboard.createCursorKeys()}create(){hH(this.anims),this.dialog=oH(this.scene.scene),this.dialog.on("button.click",(f,d,s,a,r)=>{console.log(f.name),f.name==="X"&&(this.dialog.hide(),this.showDialog=!1)},this.scene),this.tweens.add({targets:this.dialog,scaleX:1,scaleY:1,ease:"Bounce",duration:1e3,repeat:0,yoyo:!1}),this.scale,this.level===1&&this.add.image(0,0,"sky").setOrigin(0,0).setScrollFactor(0).setScale(2,2),this.level;const n=this.make.tilemap({key:"map"}),x=n.addTilesetImage("forest-tileset","tiles"),C=n.addTilesetImage("brick2","tiles2");x.setTileSize(64,64);const M=n.createLayer("Tile Layer 1",x);n.createLayer("trees",x),n.createLayer("trees2",x);const h=n.createLayer("DungeonLayer",C);this.add.graphics(),M==null||M.setCollisionByProperty({collides:!0}),h==null||h.setCollisionByProperty({collides:!0}),this.physics.world.setBounds(0,0,5e3,5e3),this.platforms=this.physics.add.staticGroup(),this.platforms.create(200,900,"ground").refreshBody().setPipeline("Light2D"),this.platforms.create(2700,1e3,"ground").setScale(2).refreshBody().setPipeline("Light2D").setData(""),this.stars=this.physics.add.group({key:"star",repeat:0,setXY:{x:12,y:Math.random()*10,stepX:Math.random()*20},setScale:{x:.8,y:.8},dragX:400,dragY:100,createCallback:f=>{const d=Math.random()*7*Math.PI*2;f.setVelocityX(Math.sin(d)*500),f.setVelocityY(Math.cos(d)*500)}});for(const f of this.stars.getChildren())f.setBounceY(oi.Math.FloatBetween(.4,.9));this.boy=this.add.spineContainer(this.level===1?190:2317,this.level===1?2100:240,"shadow","idle",!0),this.starsText=this.add.text(60,30,`Stars: ${this.starsSummary}`,{fontSize:"24px",fontFamily:"Arial",color:"#ffffff"}).setScrollFactor(0),this.emitter.on("lizard-dead",({x:f,y:d})=>{for(let s=0;s<8;s++)this.stars.create(f,d,"star");this.starsText.setText(`Stars: ${this.starsSummary}`)}),this.lights.enable(),this.lights.setAmbientColor(8421504),this.light=this.lights.addLight(this.boy.x,this.boy.y,280).setIntensity(3),this.boy.setScale(.27);const y=this.boy.body;y.setCollideWorldBounds(!0),this.boy.setPhysicsSize(y.width*.65,y.height*.9),y.setDragX(1500),this.physics.add.existing(this.boy),this.physics.add.collider(this.stars,this.platforms),this.physics.add.collider(this.boy,this.platforms,(f,d)=>{this.loadNextLevel||d.data&&(this.cameras.main.stopFollow(),this.loadNextLevel=!0,this.cameras.main.fadeOut(600),this.time.addEvent({delay:2e3,callback:()=>{this.scene.restart({level:this.level+=1}),this.loadNextLevel=!1}}))});const e=this.physics.add.group({classType:lH,runChildUpdate:!0,createCallback:f=>{f.initEmitter(this.emitter),f.body.onCollide=!0}});e.create(300,2500,"lizard"),e.create(400,2500,"lizard"),e.create(600,2500,"lizard"),e.create(800,2500,"lizard"),e.create(900,2500,"lizard"),this.physics.add.collider(this.boy,M,(f,d)=>{}),this.physics.add.collider(this.boy,h,(f,d)=>{}),this.physics.add.collider(this.stars,M),this.physics.add.collider(this.stars,h),this.physics.add.collider(e,M),this.physics.add.collider(e,this.boy,this.attackBoy,void 0,this),this.physics.add.collider(e,h),this.physics.add.overlap(this.boy,this.stars,this.collectStar,void 0,this),this.physics.add.overlap(this.boy.rightHitBox,e,this.punchLizard,void 0,this),this.boy.spine.skeleton.findBone("bone11"),this.boy.spine.findSlot("Kisty 2"),this.cameras.main.startFollow(this.boy,!1,.08,.09),this.cameras.main.setFollowOffset(-20,80),this.physics.world.fixedStep=!1}initializeAnimationsState(n){const x=n.getCurrentAnimation().name;n.getAnimationList().forEach((C,M)=>{this.animationNames.push(C),C===x&&(this.animationIndex=M)})}changeAnimation(n){this.animationNames[n]}attackBoy(n,x){this.boy.hp-=1;const C=n;x.x>n.x?C.body.setVelocityX(-1e3):C.body.setVelocityX(1e3),C.body.setVelocityY(-200)}update(){this.starsText.setText(`Stars: ${this.starsSummary}`),this.animationNames.length,this.cursors,this.boy.update(this.cameras.main,this.cursors),this.light.x=this.boy.x,this.light.y=this.boy.y-15}collectStar(n,x){x.disableBody(!0,!0),this.scene.remove(x),this.starsSummary+=5}punchStar(n,x){this.boy.spine.getData("attack")&&(this.boy.sgo.scaleX>0?x==null||x.setVelocityX(500):x==null||x.setVelocityX(-500),x==null||x.setVelocityY(-50))}punchLizard(n,x){this.boy.spine.getData("attack")&&(x==null||x.takeDamage(10),this.boy.sgo.scaleX>0?x==null||x.setVelocityX(300):x==null||x.setVelocityX(-300),x==null||x.setVelocityY(-150))}}const fH={type:oi.WEBGL,width:window.innerWidth,height:window.innerHeight,scale:{mode:oi.Scale.FIT,autoCenter:oi.Scale.CENTER_BOTH},physics:{default:"arcade",arcade:{gravity:{y:800}}},scene:[AA,uH],plugins:{scene:[{key:"SpinePlugin",plugin:window.SpinePlugin,mapping:"spine"},{key:"rexUI",plugin:KE,mapping:"rexUI"}]}};new oi.Game(fH);Kc.createRoot(document.getElementById("root")).render($c(dP.StrictMode,{children:$c(PA,{})}));
