var WE=Object.defineProperty;var HE=(i,t,n)=>t in i?WE(i,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[t]=n;var Dt=(i,t,n)=>(HE(i,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const C of document.querySelectorAll('link[rel="modulepreload"]'))m(C);new MutationObserver(C=>{for(const M of C)if(M.type==="childList")for(const h of M.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&m(h)}).observe(document,{childList:!0,subtree:!0});function n(C){const M={};return C.integrity&&(M.integrity=C.integrity),C.referrerpolicy&&(M.referrerPolicy=C.referrerpolicy),C.crossorigin==="use-credentials"?M.credentials="include":C.crossorigin==="anonymous"?M.credentials="omit":M.credentials="same-origin",M}function m(C){if(C.ep)return;C.ep=!0;const M=n(C);fetch(C.href,M)}})();var $E=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function KE(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Kc={},ZE={get exports(){return Kc},set exports(i){Kc=i}},Nu={},No={},jE={get exports(){return No},set exports(i){No=i}},Pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hh=Symbol.for("react.element"),JE=Symbol.for("react.portal"),QE=Symbol.for("react.fragment"),qE=Symbol.for("react.strict_mode"),_E=Symbol.for("react.profiler"),tP=Symbol.for("react.provider"),eP=Symbol.for("react.context"),iP=Symbol.for("react.forward_ref"),sP=Symbol.for("react.suspense"),nP=Symbol.for("react.memo"),rP=Symbol.for("react.lazy"),kg=Symbol.iterator;function aP(i){return i===null||typeof i!="object"?null:(i=kg&&i[kg]||i["@@iterator"],typeof i=="function"?i:null)}var C2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S2=Object.assign,M2={};function Da(i,t,n){this.props=i,this.context=t,this.refs=M2,this.updater=n||C2}Da.prototype.isReactComponent={};Da.prototype.setState=function(i,t){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,t,"setState")};Da.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function E2(){}E2.prototype=Da.prototype;function lp(i,t,n){this.props=i,this.context=t,this.refs=M2,this.updater=n||C2}var up=lp.prototype=new E2;up.constructor=lp;S2(up,Da.prototype);up.isPureReactComponent=!0;var Ug=Array.isArray,P2=Object.prototype.hasOwnProperty,fp={current:null},R2={key:!0,ref:!0,__self:!0,__source:!0};function A2(i,t,n){var m,C={},M=null,h=null;if(t!=null)for(m in t.ref!==void 0&&(h=t.ref),t.key!==void 0&&(M=""+t.key),t)P2.call(t,m)&&!R2.hasOwnProperty(m)&&(C[m]=t[m]);var y=arguments.length-2;if(y===1)C.children=n;else if(1<y){for(var e=Array(y),f=0;f<y;f++)e[f]=arguments[f+2];C.children=e}if(i&&i.defaultProps)for(m in y=i.defaultProps,y)C[m]===void 0&&(C[m]=y[m]);return{$$typeof:hh,type:i,key:M,ref:h,props:C,_owner:fp.current}}function oP(i,t){return{$$typeof:hh,type:i.type,key:t,ref:i.ref,props:i.props,_owner:i._owner}}function dp(i){return typeof i=="object"&&i!==null&&i.$$typeof===hh}function hP(i){var t={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(n){return t[n]})}var Xg=/\/+/g;function Kf(i,t){return typeof i=="object"&&i!==null&&i.key!=null?hP(""+i.key):t.toString(36)}function Xl(i,t,n,m,C){var M=typeof i;(M==="undefined"||M==="boolean")&&(i=null);var h=!1;if(i===null)h=!0;else switch(M){case"string":case"number":h=!0;break;case"object":switch(i.$$typeof){case hh:case JE:h=!0}}if(h)return h=i,C=C(h),i=m===""?"."+Kf(h,0):m,Ug(C)?(n="",i!=null&&(n=i.replace(Xg,"$&/")+"/"),Xl(C,t,n,"",function(f){return f})):C!=null&&(dp(C)&&(C=oP(C,n+(!C.key||h&&h.key===C.key?"":(""+C.key).replace(Xg,"$&/")+"/")+i)),t.push(C)),1;if(h=0,m=m===""?".":m+":",Ug(i))for(var y=0;y<i.length;y++){M=i[y];var e=m+Kf(M,y);h+=Xl(M,t,n,e,C)}else if(e=aP(i),typeof e=="function")for(i=e.call(i),y=0;!(M=i.next()).done;)M=M.value,e=m+Kf(M,y++),h+=Xl(M,t,n,e,C);else if(M==="object")throw t=String(i),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return h}function Fh(i,t,n){if(i==null)return i;var m=[],C=0;return Xl(i,m,"","",function(M){return t.call(n,M,C++)}),m}function lP(i){if(i._status===-1){var t=i._result;t=t(),t.then(function(n){(i._status===0||i._status===-1)&&(i._status=1,i._result=n)},function(n){(i._status===0||i._status===-1)&&(i._status=2,i._result=n)}),i._status===-1&&(i._status=0,i._result=t)}if(i._status===1)return i._result.default;throw i._result}var Ne={current:null},Yl={transition:null},uP={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:Yl,ReactCurrentOwner:fp};Pt.Children={map:Fh,forEach:function(i,t,n){Fh(i,function(){t.apply(this,arguments)},n)},count:function(i){var t=0;return Fh(i,function(){t++}),t},toArray:function(i){return Fh(i,function(t){return t})||[]},only:function(i){if(!dp(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};Pt.Component=Da;Pt.Fragment=QE;Pt.Profiler=_E;Pt.PureComponent=lp;Pt.StrictMode=qE;Pt.Suspense=sP;Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uP;Pt.cloneElement=function(i,t,n){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var m=S2({},i.props),C=i.key,M=i.ref,h=i._owner;if(t!=null){if(t.ref!==void 0&&(M=t.ref,h=fp.current),t.key!==void 0&&(C=""+t.key),i.type&&i.type.defaultProps)var y=i.type.defaultProps;for(e in t)P2.call(t,e)&&!R2.hasOwnProperty(e)&&(m[e]=t[e]===void 0&&y!==void 0?y[e]:t[e])}var e=arguments.length-2;if(e===1)m.children=n;else if(1<e){y=Array(e);for(var f=0;f<e;f++)y[f]=arguments[f+2];m.children=y}return{$$typeof:hh,type:i.type,key:C,ref:M,props:m,_owner:h}};Pt.createContext=function(i){return i={$$typeof:eP,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:tP,_context:i},i.Consumer=i};Pt.createElement=A2;Pt.createFactory=function(i){var t=A2.bind(null,i);return t.type=i,t};Pt.createRef=function(){return{current:null}};Pt.forwardRef=function(i){return{$$typeof:iP,render:i}};Pt.isValidElement=dp;Pt.lazy=function(i){return{$$typeof:rP,_payload:{_status:-1,_result:i},_init:lP}};Pt.memo=function(i,t){return{$$typeof:nP,type:i,compare:t===void 0?null:t}};Pt.startTransition=function(i){var t=Yl.transition;Yl.transition={};try{i()}finally{Yl.transition=t}};Pt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Pt.useCallback=function(i,t){return Ne.current.useCallback(i,t)};Pt.useContext=function(i){return Ne.current.useContext(i)};Pt.useDebugValue=function(){};Pt.useDeferredValue=function(i){return Ne.current.useDeferredValue(i)};Pt.useEffect=function(i,t){return Ne.current.useEffect(i,t)};Pt.useId=function(){return Ne.current.useId()};Pt.useImperativeHandle=function(i,t,n){return Ne.current.useImperativeHandle(i,t,n)};Pt.useInsertionEffect=function(i,t){return Ne.current.useInsertionEffect(i,t)};Pt.useLayoutEffect=function(i,t){return Ne.current.useLayoutEffect(i,t)};Pt.useMemo=function(i,t){return Ne.current.useMemo(i,t)};Pt.useReducer=function(i,t,n){return Ne.current.useReducer(i,t,n)};Pt.useRef=function(i){return Ne.current.useRef(i)};Pt.useState=function(i){return Ne.current.useState(i)};Pt.useSyncExternalStore=function(i,t,n){return Ne.current.useSyncExternalStore(i,t,n)};Pt.useTransition=function(){return Ne.current.useTransition()};Pt.version="18.2.0";(function(i){i.exports=Pt})(jE);const fP=KE(No);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dP=No,cP=Symbol.for("react.element"),vP=Symbol.for("react.fragment"),pP=Object.prototype.hasOwnProperty,gP=dP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mP={key:!0,ref:!0,__self:!0,__source:!0};function w2(i,t,n){var m,C={},M=null,h=null;n!==void 0&&(M=""+n),t.key!==void 0&&(M=""+t.key),t.ref!==void 0&&(h=t.ref);for(m in t)pP.call(t,m)&&!mP.hasOwnProperty(m)&&(C[m]=t[m]);if(i&&i.defaultProps)for(m in t=i.defaultProps,t)C[m]===void 0&&(C[m]=t[m]);return{$$typeof:cP,type:i,key:M,ref:h,props:C,_owner:gP.current}}Nu.Fragment=vP;Nu.jsx=w2;Nu.jsxs=w2;(function(i){i.exports=Nu})(ZE);const Zc=Kc.jsx;var jc={},Jc={},xP={get exports(){return Jc},set exports(i){Jc=i}},ui={},Qc={},yP={get exports(){return Qc},set exports(i){Qc=i}},O2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function t(G,N){var U=G.length;G.push(N);t:for(;0<U;){var Y=U-1>>>1,X=G[Y];if(0<C(X,N))G[Y]=N,G[U]=X,U=Y;else break t}}function n(G){return G.length===0?null:G[0]}function m(G){if(G.length===0)return null;var N=G[0],U=G.pop();if(U!==N){G[0]=U;t:for(var Y=0,X=G.length,B=X>>>1;Y<B;){var z=2*(Y+1)-1,D=G[z],V=z+1,k=G[V];if(0>C(D,U))V<X&&0>C(k,D)?(G[Y]=k,G[V]=U,Y=V):(G[Y]=D,G[z]=U,Y=z);else if(V<X&&0>C(k,U))G[Y]=k,G[V]=U,Y=V;else break t}}return N}function C(G,N){var U=G.sortIndex-N.sortIndex;return U!==0?U:G.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var M=performance;i.unstable_now=function(){return M.now()}}else{var h=Date,y=h.now();i.unstable_now=function(){return h.now()-y}}var e=[],f=[],c=1,s=null,a=3,r=!1,o=!1,l=!1,v=typeof setTimeout=="function"?setTimeout:null,u=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(G){for(var N=n(f);N!==null;){if(N.callback===null)m(f);else if(N.startTime<=G)m(f),N.sortIndex=N.expirationTime,t(e,N);else break;N=n(f)}}function g(G){if(l=!1,p(G),!o)if(n(e)!==null)o=!0,I(x);else{var N=n(f);N!==null&&b(g,N.startTime-G)}}function x(G,N){o=!1,l&&(l=!1,u(P),P=-1),r=!0;var U=a;try{for(p(N),s=n(e);s!==null&&(!(s.expirationTime>N)||G&&!A());){var Y=s.callback;if(typeof Y=="function"){s.callback=null,a=s.priorityLevel;var X=Y(s.expirationTime<=N);N=i.unstable_now(),typeof X=="function"?s.callback=X:s===n(e)&&m(e),p(N)}else m(e);s=n(e)}if(s!==null)var B=!0;else{var z=n(f);z!==null&&b(g,z.startTime-N),B=!1}return B}finally{s=null,a=U,r=!1}}var T=!1,S=null,P=-1,E=5,R=-1;function A(){return!(i.unstable_now()-R<E)}function w(){if(S!==null){var G=i.unstable_now();R=G;var N=!0;try{N=S(!0,G)}finally{N?O():(T=!1,S=null)}}else T=!1}var O;if(typeof d=="function")O=function(){d(w)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,F=L.port2;L.port1.onmessage=w,O=function(){F.postMessage(null)}}else O=function(){v(w,0)};function I(G){S=G,T||(T=!0,O())}function b(G,N){P=v(function(){G(i.unstable_now())},N)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_continueExecution=function(){o||r||(o=!0,I(x))},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return a},i.unstable_getFirstCallbackNode=function(){return n(e)},i.unstable_next=function(G){switch(a){case 1:case 2:case 3:var N=3;break;default:N=a}var U=a;a=N;try{return G()}finally{a=U}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(G,N){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var U=a;a=G;try{return N()}finally{a=U}},i.unstable_scheduleCallback=function(G,N,U){var Y=i.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?Y+U:Y):U=Y,G){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=U+X,G={id:c++,callback:N,priorityLevel:G,startTime:U,expirationTime:X,sortIndex:-1},U>Y?(G.sortIndex=U,t(f,G),n(e)===null&&G===n(f)&&(l?(u(P),P=-1):l=!0,b(g,U-Y))):(G.sortIndex=X,t(e,G),o||r||(o=!0,I(x))),G},i.unstable_shouldYield=A,i.unstable_wrapCallback=function(G){var N=a;return function(){var U=a;a=N;try{return G.apply(this,arguments)}finally{a=U}}}})(O2);(function(i){i.exports=O2})(yP);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L2=No,li=Qc;function ot(i){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+i,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+i+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var F2=new Set,Vo={};function pr(i,t){Ca(i,t),Ca(i+"Capture",t)}function Ca(i,t){for(Vo[i]=t,i=0;i<t.length;i++)F2.add(t[i])}var Bs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qc=Object.prototype.hasOwnProperty,TP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yg={},Wg={};function CP(i){return qc.call(Wg,i)?!0:qc.call(Yg,i)?!1:TP.test(i)?Wg[i]=!0:(Yg[i]=!0,!1)}function SP(i,t,n,m){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return m?!1:n!==null?!n.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function MP(i,t,n,m){if(t===null||typeof t>"u"||SP(i,t,n,m))return!0;if(m)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ve(i,t,n,m,C,M,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=m,this.attributeNamespace=C,this.mustUseProperty=n,this.propertyName=i,this.type=t,this.sanitizeURL=M,this.removeEmptyString=h}var Ee={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){Ee[i]=new Ve(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var t=i[0];Ee[t]=new Ve(t,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){Ee[i]=new Ve(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){Ee[i]=new Ve(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){Ee[i]=new Ve(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){Ee[i]=new Ve(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){Ee[i]=new Ve(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){Ee[i]=new Ve(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){Ee[i]=new Ve(i,5,!1,i.toLowerCase(),null,!1,!1)});var cp=/[\-:]([a-z])/g;function vp(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var t=i.replace(cp,vp);Ee[t]=new Ve(t,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var t=i.replace(cp,vp);Ee[t]=new Ve(t,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var t=i.replace(cp,vp);Ee[t]=new Ve(t,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){Ee[i]=new Ve(i,1,!1,i.toLowerCase(),null,!1,!1)});Ee.xlinkHref=new Ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){Ee[i]=new Ve(i,1,!1,i.toLowerCase(),null,!0,!0)});function pp(i,t,n,m){var C=Ee.hasOwnProperty(t)?Ee[t]:null;(C!==null?C.type!==0:m||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(MP(t,n,C,m)&&(n=null),m||C===null?CP(t)&&(n===null?i.removeAttribute(t):i.setAttribute(t,""+n)):C.mustUseProperty?i[C.propertyName]=n===null?C.type===3?!1:"":n:(t=C.attributeName,m=C.attributeNamespace,n===null?i.removeAttribute(t):(C=C.type,n=C===3||C===4&&n===!0?"":""+n,m?i.setAttributeNS(m,t,n):i.setAttribute(t,n))))}var Vs=L2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ih=Symbol.for("react.element"),_r=Symbol.for("react.portal"),ta=Symbol.for("react.fragment"),gp=Symbol.for("react.strict_mode"),_c=Symbol.for("react.profiler"),I2=Symbol.for("react.provider"),D2=Symbol.for("react.context"),mp=Symbol.for("react.forward_ref"),tv=Symbol.for("react.suspense"),ev=Symbol.for("react.suspense_list"),xp=Symbol.for("react.memo"),Qs=Symbol.for("react.lazy"),B2=Symbol.for("react.offscreen"),Hg=Symbol.iterator;function Ya(i){return i===null||typeof i!="object"?null:(i=Hg&&i[Hg]||i["@@iterator"],typeof i=="function"?i:null)}var Jt=Object.assign,Zf;function Eo(i){if(Zf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Zf=t&&t[1]||""}return`
`+Zf+i}var jf=!1;function Jf(i,t){if(!i||jf)return"";jf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var m=f}Reflect.construct(i,[],t)}else{try{t.call()}catch(f){m=f}i.call(t.prototype)}else{try{throw Error()}catch(f){m=f}i()}}catch(f){if(f&&m&&typeof f.stack=="string"){for(var C=f.stack.split(`
`),M=m.stack.split(`
`),h=C.length-1,y=M.length-1;1<=h&&0<=y&&C[h]!==M[y];)y--;for(;1<=h&&0<=y;h--,y--)if(C[h]!==M[y]){if(h!==1||y!==1)do if(h--,y--,0>y||C[h]!==M[y]){var e=`
`+C[h].replace(" at new "," at ");return i.displayName&&e.includes("<anonymous>")&&(e=e.replace("<anonymous>",i.displayName)),e}while(1<=h&&0<=y);break}}}finally{jf=!1,Error.prepareStackTrace=n}return(i=i?i.displayName||i.name:"")?Eo(i):""}function EP(i){switch(i.tag){case 5:return Eo(i.type);case 16:return Eo("Lazy");case 13:return Eo("Suspense");case 19:return Eo("SuspenseList");case 0:case 2:case 15:return i=Jf(i.type,!1),i;case 11:return i=Jf(i.type.render,!1),i;case 1:return i=Jf(i.type,!0),i;default:return""}}function iv(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case ta:return"Fragment";case _r:return"Portal";case _c:return"Profiler";case gp:return"StrictMode";case tv:return"Suspense";case ev:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case D2:return(i.displayName||"Context")+".Consumer";case I2:return(i._context.displayName||"Context")+".Provider";case mp:var t=i.render;return i=i.displayName,i||(i=t.displayName||t.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case xp:return t=i.displayName||null,t!==null?t:iv(i.type)||"Memo";case Qs:t=i._payload,i=i._init;try{return iv(i(t))}catch{}}return null}function PP(i){var t=i.type;switch(i.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=t.render,i=i.displayName||i.name||"",t.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return iv(t);case 8:return t===gp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function yn(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function b2(i){var t=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function RP(i){var t=b2(i)?"checked":"value",n=Object.getOwnPropertyDescriptor(i.constructor.prototype,t),m=""+i[t];if(!i.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var C=n.get,M=n.set;return Object.defineProperty(i,t,{configurable:!0,get:function(){return C.call(this)},set:function(h){m=""+h,M.call(this,h)}}),Object.defineProperty(i,t,{enumerable:n.enumerable}),{getValue:function(){return m},setValue:function(h){m=""+h},stopTracking:function(){i._valueTracker=null,delete i[t]}}}}function Dh(i){i._valueTracker||(i._valueTracker=RP(i))}function G2(i){if(!i)return!1;var t=i._valueTracker;if(!t)return!0;var n=t.getValue(),m="";return i&&(m=b2(i)?i.checked?"true":"false":i.value),i=m,i!==n?(t.setValue(i),!0):!1}function ru(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function sv(i,t){var n=t.checked;return Jt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??i._wrapperState.initialChecked})}function $g(i,t){var n=t.defaultValue==null?"":t.defaultValue,m=t.checked!=null?t.checked:t.defaultChecked;n=yn(t.value!=null?t.value:n),i._wrapperState={initialChecked:m,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function N2(i,t){t=t.checked,t!=null&&pp(i,"checked",t,!1)}function nv(i,t){N2(i,t);var n=yn(t.value),m=t.type;if(n!=null)m==="number"?(n===0&&i.value===""||i.value!=n)&&(i.value=""+n):i.value!==""+n&&(i.value=""+n);else if(m==="submit"||m==="reset"){i.removeAttribute("value");return}t.hasOwnProperty("value")?rv(i,t.type,n):t.hasOwnProperty("defaultValue")&&rv(i,t.type,yn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(i.defaultChecked=!!t.defaultChecked)}function Kg(i,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var m=t.type;if(!(m!=="submit"&&m!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+i._wrapperState.initialValue,n||t===i.value||(i.value=t),i.defaultValue=t}n=i.name,n!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,n!==""&&(i.name=n)}function rv(i,t,n){(t!=="number"||ru(i.ownerDocument)!==i)&&(n==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+n&&(i.defaultValue=""+n))}var Po=Array.isArray;function ca(i,t,n,m){if(i=i.options,t){t={};for(var C=0;C<n.length;C++)t["$"+n[C]]=!0;for(n=0;n<i.length;n++)C=t.hasOwnProperty("$"+i[n].value),i[n].selected!==C&&(i[n].selected=C),C&&m&&(i[n].defaultSelected=!0)}else{for(n=""+yn(n),t=null,C=0;C<i.length;C++){if(i[C].value===n){i[C].selected=!0,m&&(i[C].defaultSelected=!0);return}t!==null||i[C].disabled||(t=i[C])}t!==null&&(t.selected=!0)}}function av(i,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ot(91));return Jt({},t,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Zg(i,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ot(92));if(Po(n)){if(1<n.length)throw Error(ot(93));n=n[0]}t=n}t==null&&(t=""),n=t}i._wrapperState={initialValue:yn(n)}}function V2(i,t){var n=yn(t.value),m=yn(t.defaultValue);n!=null&&(n=""+n,n!==i.value&&(i.value=n),t.defaultValue==null&&i.defaultValue!==n&&(i.defaultValue=n)),m!=null&&(i.defaultValue=""+m)}function jg(i){var t=i.textContent;t===i._wrapperState.initialValue&&t!==""&&t!==null&&(i.value=t)}function z2(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ov(i,t){return i==null||i==="http://www.w3.org/1999/xhtml"?z2(t):i==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Bh,k2=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,m,C){MSApp.execUnsafeLocalFunction(function(){return i(t,n,m,C)})}:i}(function(i,t){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=t;else{for(Bh=Bh||document.createElement("div"),Bh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Bh.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;t.firstChild;)i.appendChild(t.firstChild)}});function zo(i,t){if(t){var n=i.firstChild;if(n&&n===i.lastChild&&n.nodeType===3){n.nodeValue=t;return}}i.textContent=t}var wo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},AP=["Webkit","ms","Moz","O"];Object.keys(wo).forEach(function(i){AP.forEach(function(t){t=t+i.charAt(0).toUpperCase()+i.substring(1),wo[t]=wo[i]})});function U2(i,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||wo.hasOwnProperty(i)&&wo[i]?(""+t).trim():t+"px"}function X2(i,t){i=i.style;for(var n in t)if(t.hasOwnProperty(n)){var m=n.indexOf("--")===0,C=U2(n,t[n],m);n==="float"&&(n="cssFloat"),m?i.setProperty(n,C):i[n]=C}}var wP=Jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hv(i,t){if(t){if(wP[i]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ot(137,i));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ot(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ot(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ot(62))}}function lv(i,t){if(i.indexOf("-")===-1)return typeof t.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uv=null;function yp(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var fv=null,va=null,pa=null;function Jg(i){if(i=fh(i)){if(typeof fv!="function")throw Error(ot(280));var t=i.stateNode;t&&(t=Xu(t),fv(i.stateNode,i.type,t))}}function Y2(i){va?pa?pa.push(i):pa=[i]:va=i}function W2(){if(va){var i=va,t=pa;if(pa=va=null,Jg(i),t)for(i=0;i<t.length;i++)Jg(t[i])}}function H2(i,t){return i(t)}function $2(){}var Qf=!1;function K2(i,t,n){if(Qf)return i(t,n);Qf=!0;try{return H2(i,t,n)}finally{Qf=!1,(va!==null||pa!==null)&&($2(),W2())}}function ko(i,t){var n=i.stateNode;if(n===null)return null;var m=Xu(n);if(m===null)return null;n=m[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break t;default:i=!1}if(i)return null;if(n&&typeof n!="function")throw Error(ot(231,t,typeof n));return n}var dv=!1;if(Bs)try{var Wa={};Object.defineProperty(Wa,"passive",{get:function(){dv=!0}}),window.addEventListener("test",Wa,Wa),window.removeEventListener("test",Wa,Wa)}catch{dv=!1}function OP(i,t,n,m,C,M,h,y,e){var f=Array.prototype.slice.call(arguments,3);try{t.apply(n,f)}catch(c){this.onError(c)}}var Oo=!1,au=null,ou=!1,cv=null,LP={onError:function(i){Oo=!0,au=i}};function FP(i,t,n,m,C,M,h,y,e){Oo=!1,au=null,OP.apply(LP,arguments)}function IP(i,t,n,m,C,M,h,y,e){if(FP.apply(this,arguments),Oo){if(Oo){var f=au;Oo=!1,au=null}else throw Error(ot(198));ou||(ou=!0,cv=f)}}function gr(i){var t=i,n=i;if(i.alternate)for(;t.return;)t=t.return;else{i=t;do t=i,t.flags&4098&&(n=t.return),i=t.return;while(i)}return t.tag===3?n:null}function Z2(i){if(i.tag===13){var t=i.memoizedState;if(t===null&&(i=i.alternate,i!==null&&(t=i.memoizedState)),t!==null)return t.dehydrated}return null}function Qg(i){if(gr(i)!==i)throw Error(ot(188))}function DP(i){var t=i.alternate;if(!t){if(t=gr(i),t===null)throw Error(ot(188));return t!==i?null:i}for(var n=i,m=t;;){var C=n.return;if(C===null)break;var M=C.alternate;if(M===null){if(m=C.return,m!==null){n=m;continue}break}if(C.child===M.child){for(M=C.child;M;){if(M===n)return Qg(C),i;if(M===m)return Qg(C),t;M=M.sibling}throw Error(ot(188))}if(n.return!==m.return)n=C,m=M;else{for(var h=!1,y=C.child;y;){if(y===n){h=!0,n=C,m=M;break}if(y===m){h=!0,m=C,n=M;break}y=y.sibling}if(!h){for(y=M.child;y;){if(y===n){h=!0,n=M,m=C;break}if(y===m){h=!0,m=M,n=C;break}y=y.sibling}if(!h)throw Error(ot(189))}}if(n.alternate!==m)throw Error(ot(190))}if(n.tag!==3)throw Error(ot(188));return n.stateNode.current===n?i:t}function j2(i){return i=DP(i),i!==null?J2(i):null}function J2(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var t=J2(i);if(t!==null)return t;i=i.sibling}return null}var Q2=li.unstable_scheduleCallback,qg=li.unstable_cancelCallback,BP=li.unstable_shouldYield,bP=li.unstable_requestPaint,te=li.unstable_now,GP=li.unstable_getCurrentPriorityLevel,Tp=li.unstable_ImmediatePriority,q2=li.unstable_UserBlockingPriority,hu=li.unstable_NormalPriority,NP=li.unstable_LowPriority,_2=li.unstable_IdlePriority,Vu=null,cs=null;function VP(i){if(cs&&typeof cs.onCommitFiberRoot=="function")try{cs.onCommitFiberRoot(Vu,i,void 0,(i.current.flags&128)===128)}catch{}}var Wi=Math.clz32?Math.clz32:UP,zP=Math.log,kP=Math.LN2;function UP(i){return i>>>=0,i===0?32:31-(zP(i)/kP|0)|0}var bh=64,Gh=4194304;function Ro(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function lu(i,t){var n=i.pendingLanes;if(n===0)return 0;var m=0,C=i.suspendedLanes,M=i.pingedLanes,h=n&268435455;if(h!==0){var y=h&~C;y!==0?m=Ro(y):(M&=h,M!==0&&(m=Ro(M)))}else h=n&~C,h!==0?m=Ro(h):M!==0&&(m=Ro(M));if(m===0)return 0;if(t!==0&&t!==m&&!(t&C)&&(C=m&-m,M=t&-t,C>=M||C===16&&(M&4194240)!==0))return t;if(m&4&&(m|=n&16),t=i.entangledLanes,t!==0)for(i=i.entanglements,t&=m;0<t;)n=31-Wi(t),C=1<<n,m|=i[n],t&=~C;return m}function XP(i,t){switch(i){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YP(i,t){for(var n=i.suspendedLanes,m=i.pingedLanes,C=i.expirationTimes,M=i.pendingLanes;0<M;){var h=31-Wi(M),y=1<<h,e=C[h];e===-1?(!(y&n)||y&m)&&(C[h]=XP(y,t)):e<=t&&(i.expiredLanes|=y),M&=~y}}function vv(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function tT(){var i=bh;return bh<<=1,!(bh&4194240)&&(bh=64),i}function qf(i){for(var t=[],n=0;31>n;n++)t.push(i);return t}function lh(i,t,n){i.pendingLanes|=t,t!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,t=31-Wi(t),i[t]=n}function WP(i,t){var n=i.pendingLanes&~t;i.pendingLanes=t,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=t,i.mutableReadLanes&=t,i.entangledLanes&=t,t=i.entanglements;var m=i.eventTimes;for(i=i.expirationTimes;0<n;){var C=31-Wi(n),M=1<<C;t[C]=0,m[C]=-1,i[C]=-1,n&=~M}}function Cp(i,t){var n=i.entangledLanes|=t;for(i=i.entanglements;n;){var m=31-Wi(n),C=1<<m;C&t|i[m]&t&&(i[m]|=t),n&=~C}}var Ft=0;function eT(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var iT,Sp,sT,nT,rT,pv=!1,Nh=[],ln=null,un=null,fn=null,Uo=new Map,Xo=new Map,tn=[],HP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _g(i,t){switch(i){case"focusin":case"focusout":ln=null;break;case"dragenter":case"dragleave":un=null;break;case"mouseover":case"mouseout":fn=null;break;case"pointerover":case"pointerout":Uo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xo.delete(t.pointerId)}}function Ha(i,t,n,m,C,M){return i===null||i.nativeEvent!==M?(i={blockedOn:t,domEventName:n,eventSystemFlags:m,nativeEvent:M,targetContainers:[C]},t!==null&&(t=fh(t),t!==null&&Sp(t)),i):(i.eventSystemFlags|=m,t=i.targetContainers,C!==null&&t.indexOf(C)===-1&&t.push(C),i)}function $P(i,t,n,m,C){switch(t){case"focusin":return ln=Ha(ln,i,t,n,m,C),!0;case"dragenter":return un=Ha(un,i,t,n,m,C),!0;case"mouseover":return fn=Ha(fn,i,t,n,m,C),!0;case"pointerover":var M=C.pointerId;return Uo.set(M,Ha(Uo.get(M)||null,i,t,n,m,C)),!0;case"gotpointercapture":return M=C.pointerId,Xo.set(M,Ha(Xo.get(M)||null,i,t,n,m,C)),!0}return!1}function aT(i){var t=er(i.target);if(t!==null){var n=gr(t);if(n!==null){if(t=n.tag,t===13){if(t=Z2(n),t!==null){i.blockedOn=t,rT(i.priority,function(){sT(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){i.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Wl(i){if(i.blockedOn!==null)return!1;for(var t=i.targetContainers;0<t.length;){var n=gv(i.domEventName,i.eventSystemFlags,t[0],i.nativeEvent);if(n===null){n=i.nativeEvent;var m=new n.constructor(n.type,n);uv=m,n.target.dispatchEvent(m),uv=null}else return t=fh(n),t!==null&&Sp(t),i.blockedOn=n,!1;t.shift()}return!0}function tm(i,t,n){Wl(i)&&n.delete(t)}function KP(){pv=!1,ln!==null&&Wl(ln)&&(ln=null),un!==null&&Wl(un)&&(un=null),fn!==null&&Wl(fn)&&(fn=null),Uo.forEach(tm),Xo.forEach(tm)}function $a(i,t){i.blockedOn===t&&(i.blockedOn=null,pv||(pv=!0,li.unstable_scheduleCallback(li.unstable_NormalPriority,KP)))}function Yo(i){function t(C){return $a(C,i)}if(0<Nh.length){$a(Nh[0],i);for(var n=1;n<Nh.length;n++){var m=Nh[n];m.blockedOn===i&&(m.blockedOn=null)}}for(ln!==null&&$a(ln,i),un!==null&&$a(un,i),fn!==null&&$a(fn,i),Uo.forEach(t),Xo.forEach(t),n=0;n<tn.length;n++)m=tn[n],m.blockedOn===i&&(m.blockedOn=null);for(;0<tn.length&&(n=tn[0],n.blockedOn===null);)aT(n),n.blockedOn===null&&tn.shift()}var ga=Vs.ReactCurrentBatchConfig,uu=!0;function ZP(i,t,n,m){var C=Ft,M=ga.transition;ga.transition=null;try{Ft=1,Mp(i,t,n,m)}finally{Ft=C,ga.transition=M}}function jP(i,t,n,m){var C=Ft,M=ga.transition;ga.transition=null;try{Ft=4,Mp(i,t,n,m)}finally{Ft=C,ga.transition=M}}function Mp(i,t,n,m){if(uu){var C=gv(i,t,n,m);if(C===null)hd(i,t,m,fu,n),_g(i,m);else if($P(C,i,t,n,m))m.stopPropagation();else if(_g(i,m),t&4&&-1<HP.indexOf(i)){for(;C!==null;){var M=fh(C);if(M!==null&&iT(M),M=gv(i,t,n,m),M===null&&hd(i,t,m,fu,n),M===C)break;C=M}C!==null&&m.stopPropagation()}else hd(i,t,m,null,n)}}var fu=null;function gv(i,t,n,m){if(fu=null,i=yp(m),i=er(i),i!==null)if(t=gr(i),t===null)i=null;else if(n=t.tag,n===13){if(i=Z2(t),i!==null)return i;i=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;i=null}else t!==i&&(i=null);return fu=i,null}function oT(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GP()){case Tp:return 1;case q2:return 4;case hu:case NP:return 16;case _2:return 536870912;default:return 16}default:return 16}}var an=null,Ep=null,Hl=null;function hT(){if(Hl)return Hl;var i,t=Ep,n=t.length,m,C="value"in an?an.value:an.textContent,M=C.length;for(i=0;i<n&&t[i]===C[i];i++);var h=n-i;for(m=1;m<=h&&t[n-m]===C[M-m];m++);return Hl=C.slice(i,1<m?1-m:void 0)}function $l(i){var t=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&t===13&&(i=13)):i=t,i===10&&(i=13),32<=i||i===13?i:0}function Vh(){return!0}function em(){return!1}function fi(i){function t(n,m,C,M,h){this._reactName=n,this._targetInst=C,this.type=m,this.nativeEvent=M,this.target=h,this.currentTarget=null;for(var y in i)i.hasOwnProperty(y)&&(n=i[y],this[y]=n?n(M):M[y]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?Vh:em,this.isPropagationStopped=em,this}return Jt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vh)},persist:function(){},isPersistent:Vh}),t}var Ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pp=fi(Ba),uh=Jt({},Ba,{view:0,detail:0}),JP=fi(uh),_f,td,Ka,zu=Jt({},uh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rp,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ka&&(Ka&&i.type==="mousemove"?(_f=i.screenX-Ka.screenX,td=i.screenY-Ka.screenY):td=_f=0,Ka=i),_f)},movementY:function(i){return"movementY"in i?i.movementY:td}}),im=fi(zu),QP=Jt({},zu,{dataTransfer:0}),qP=fi(QP),_P=Jt({},uh,{relatedTarget:0}),ed=fi(_P),t3=Jt({},Ba,{animationName:0,elapsedTime:0,pseudoElement:0}),e3=fi(t3),i3=Jt({},Ba,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),s3=fi(i3),n3=Jt({},Ba,{data:0}),sm=fi(n3),r3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},o3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function h3(i){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(i):(i=o3[i])?!!t[i]:!1}function Rp(){return h3}var l3=Jt({},uh,{key:function(i){if(i.key){var t=r3[i.key]||i.key;if(t!=="Unidentified")return t}return i.type==="keypress"?(i=$l(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?a3[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rp,charCode:function(i){return i.type==="keypress"?$l(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?$l(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),u3=fi(l3),f3=Jt({},zu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nm=fi(f3),d3=Jt({},uh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rp}),c3=fi(d3),v3=Jt({},Ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),p3=fi(v3),g3=Jt({},zu,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),m3=fi(g3),x3=[9,13,27,32],Ap=Bs&&"CompositionEvent"in window,Lo=null;Bs&&"documentMode"in document&&(Lo=document.documentMode);var y3=Bs&&"TextEvent"in window&&!Lo,lT=Bs&&(!Ap||Lo&&8<Lo&&11>=Lo),rm=String.fromCharCode(32),am=!1;function uT(i,t){switch(i){case"keyup":return x3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fT(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ea=!1;function T3(i,t){switch(i){case"compositionend":return fT(t);case"keypress":return t.which!==32?null:(am=!0,rm);case"textInput":return i=t.data,i===rm&&am?null:i;default:return null}}function C3(i,t){if(ea)return i==="compositionend"||!Ap&&uT(i,t)?(i=hT(),Hl=Ep=an=null,ea=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return lT&&t.locale!=="ko"?null:t.data;default:return null}}var S3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function om(i){var t=i&&i.nodeName&&i.nodeName.toLowerCase();return t==="input"?!!S3[i.type]:t==="textarea"}function dT(i,t,n,m){Y2(m),t=du(t,"onChange"),0<t.length&&(n=new Pp("onChange","change",null,n,m),i.push({event:n,listeners:t}))}var Fo=null,Wo=null;function M3(i){MT(i,0)}function ku(i){var t=na(i);if(G2(t))return i}function E3(i,t){if(i==="change")return t}var cT=!1;if(Bs){var id;if(Bs){var sd="oninput"in document;if(!sd){var hm=document.createElement("div");hm.setAttribute("oninput","return;"),sd=typeof hm.oninput=="function"}id=sd}else id=!1;cT=id&&(!document.documentMode||9<document.documentMode)}function lm(){Fo&&(Fo.detachEvent("onpropertychange",vT),Wo=Fo=null)}function vT(i){if(i.propertyName==="value"&&ku(Wo)){var t=[];dT(t,Wo,i,yp(i)),K2(M3,t)}}function P3(i,t,n){i==="focusin"?(lm(),Fo=t,Wo=n,Fo.attachEvent("onpropertychange",vT)):i==="focusout"&&lm()}function R3(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ku(Wo)}function A3(i,t){if(i==="click")return ku(t)}function w3(i,t){if(i==="input"||i==="change")return ku(t)}function O3(i,t){return i===t&&(i!==0||1/i===1/t)||i!==i&&t!==t}var $i=typeof Object.is=="function"?Object.is:O3;function Ho(i,t){if($i(i,t))return!0;if(typeof i!="object"||i===null||typeof t!="object"||t===null)return!1;var n=Object.keys(i),m=Object.keys(t);if(n.length!==m.length)return!1;for(m=0;m<n.length;m++){var C=n[m];if(!qc.call(t,C)||!$i(i[C],t[C]))return!1}return!0}function um(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function fm(i,t){var n=um(i);i=0;for(var m;n;){if(n.nodeType===3){if(m=i+n.textContent.length,i<=t&&m>=t)return{node:n,offset:t-i};i=m}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=um(n)}}function pT(i,t){return i&&t?i===t?!0:i&&i.nodeType===3?!1:t&&t.nodeType===3?pT(i,t.parentNode):"contains"in i?i.contains(t):i.compareDocumentPosition?!!(i.compareDocumentPosition(t)&16):!1:!1}function gT(){for(var i=window,t=ru();t instanceof i.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)i=t.contentWindow;else break;t=ru(i.document)}return t}function wp(i){var t=i&&i.nodeName&&i.nodeName.toLowerCase();return t&&(t==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||t==="textarea"||i.contentEditable==="true")}function L3(i){var t=gT(),n=i.focusedElem,m=i.selectionRange;if(t!==n&&n&&n.ownerDocument&&pT(n.ownerDocument.documentElement,n)){if(m!==null&&wp(n)){if(t=m.start,i=m.end,i===void 0&&(i=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(i,n.value.length);else if(i=(t=n.ownerDocument||document)&&t.defaultView||window,i.getSelection){i=i.getSelection();var C=n.textContent.length,M=Math.min(m.start,C);m=m.end===void 0?M:Math.min(m.end,C),!i.extend&&M>m&&(C=m,m=M,M=C),C=fm(n,M);var h=fm(n,m);C&&h&&(i.rangeCount!==1||i.anchorNode!==C.node||i.anchorOffset!==C.offset||i.focusNode!==h.node||i.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(C.node,C.offset),i.removeAllRanges(),M>m?(i.addRange(t),i.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),i.addRange(t)))}}for(t=[],i=n;i=i.parentNode;)i.nodeType===1&&t.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)i=t[n],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var F3=Bs&&"documentMode"in document&&11>=document.documentMode,ia=null,mv=null,Io=null,xv=!1;function dm(i,t,n){var m=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xv||ia==null||ia!==ru(m)||(m=ia,"selectionStart"in m&&wp(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Io&&Ho(Io,m)||(Io=m,m=du(mv,"onSelect"),0<m.length&&(t=new Pp("onSelect","select",null,t,n),i.push({event:t,listeners:m}),t.target=ia)))}function zh(i,t){var n={};return n[i.toLowerCase()]=t.toLowerCase(),n["Webkit"+i]="webkit"+t,n["Moz"+i]="moz"+t,n}var sa={animationend:zh("Animation","AnimationEnd"),animationiteration:zh("Animation","AnimationIteration"),animationstart:zh("Animation","AnimationStart"),transitionend:zh("Transition","TransitionEnd")},nd={},mT={};Bs&&(mT=document.createElement("div").style,"AnimationEvent"in window||(delete sa.animationend.animation,delete sa.animationiteration.animation,delete sa.animationstart.animation),"TransitionEvent"in window||delete sa.transitionend.transition);function Uu(i){if(nd[i])return nd[i];if(!sa[i])return i;var t=sa[i],n;for(n in t)if(t.hasOwnProperty(n)&&n in mT)return nd[i]=t[n];return i}var xT=Uu("animationend"),yT=Uu("animationiteration"),TT=Uu("animationstart"),CT=Uu("transitionend"),ST=new Map,cm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mn(i,t){ST.set(i,t),pr(t,[i])}for(var rd=0;rd<cm.length;rd++){var ad=cm[rd],I3=ad.toLowerCase(),D3=ad[0].toUpperCase()+ad.slice(1);Mn(I3,"on"+D3)}Mn(xT,"onAnimationEnd");Mn(yT,"onAnimationIteration");Mn(TT,"onAnimationStart");Mn("dblclick","onDoubleClick");Mn("focusin","onFocus");Mn("focusout","onBlur");Mn(CT,"onTransitionEnd");Ca("onMouseEnter",["mouseout","mouseover"]);Ca("onMouseLeave",["mouseout","mouseover"]);Ca("onPointerEnter",["pointerout","pointerover"]);Ca("onPointerLeave",["pointerout","pointerover"]);pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pr("onBeforeInput",["compositionend","keypress","textInput","paste"]);pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ao));function vm(i,t,n){var m=i.type||"unknown-event";i.currentTarget=n,IP(m,t,void 0,i),i.currentTarget=null}function MT(i,t){t=(t&4)!==0;for(var n=0;n<i.length;n++){var m=i[n],C=m.event;m=m.listeners;t:{var M=void 0;if(t)for(var h=m.length-1;0<=h;h--){var y=m[h],e=y.instance,f=y.currentTarget;if(y=y.listener,e!==M&&C.isPropagationStopped())break t;vm(C,y,f),M=e}else for(h=0;h<m.length;h++){if(y=m[h],e=y.instance,f=y.currentTarget,y=y.listener,e!==M&&C.isPropagationStopped())break t;vm(C,y,f),M=e}}}if(ou)throw i=cv,ou=!1,cv=null,i}function Yt(i,t){var n=t[Mv];n===void 0&&(n=t[Mv]=new Set);var m=i+"__bubble";n.has(m)||(ET(t,i,2,!1),n.add(m))}function od(i,t,n){var m=0;t&&(m|=4),ET(n,i,m,t)}var kh="_reactListening"+Math.random().toString(36).slice(2);function $o(i){if(!i[kh]){i[kh]=!0,F2.forEach(function(n){n!=="selectionchange"&&(B3.has(n)||od(n,!1,i),od(n,!0,i))});var t=i.nodeType===9?i:i.ownerDocument;t===null||t[kh]||(t[kh]=!0,od("selectionchange",!1,t))}}function ET(i,t,n,m){switch(oT(t)){case 1:var C=ZP;break;case 4:C=jP;break;default:C=Mp}n=C.bind(null,t,n,i),C=void 0,!dv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(C=!0),m?C!==void 0?i.addEventListener(t,n,{capture:!0,passive:C}):i.addEventListener(t,n,!0):C!==void 0?i.addEventListener(t,n,{passive:C}):i.addEventListener(t,n,!1)}function hd(i,t,n,m,C){var M=m;if(!(t&1)&&!(t&2)&&m!==null)t:for(;;){if(m===null)return;var h=m.tag;if(h===3||h===4){var y=m.stateNode.containerInfo;if(y===C||y.nodeType===8&&y.parentNode===C)break;if(h===4)for(h=m.return;h!==null;){var e=h.tag;if((e===3||e===4)&&(e=h.stateNode.containerInfo,e===C||e.nodeType===8&&e.parentNode===C))return;h=h.return}for(;y!==null;){if(h=er(y),h===null)return;if(e=h.tag,e===5||e===6){m=M=h;continue t}y=y.parentNode}}m=m.return}K2(function(){var f=M,c=yp(n),s=[];t:{var a=ST.get(i);if(a!==void 0){var r=Pp,o=i;switch(i){case"keypress":if($l(n)===0)break t;case"keydown":case"keyup":r=u3;break;case"focusin":o="focus",r=ed;break;case"focusout":o="blur",r=ed;break;case"beforeblur":case"afterblur":r=ed;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":r=im;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":r=qP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":r=c3;break;case xT:case yT:case TT:r=e3;break;case CT:r=p3;break;case"scroll":r=JP;break;case"wheel":r=m3;break;case"copy":case"cut":case"paste":r=s3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":r=nm}var l=(t&4)!==0,v=!l&&i==="scroll",u=l?a!==null?a+"Capture":null:a;l=[];for(var d=f,p;d!==null;){p=d;var g=p.stateNode;if(p.tag===5&&g!==null&&(p=g,u!==null&&(g=ko(d,u),g!=null&&l.push(Ko(d,g,p)))),v)break;d=d.return}0<l.length&&(a=new r(a,o,null,n,c),s.push({event:a,listeners:l}))}}if(!(t&7)){t:{if(a=i==="mouseover"||i==="pointerover",r=i==="mouseout"||i==="pointerout",a&&n!==uv&&(o=n.relatedTarget||n.fromElement)&&(er(o)||o[bs]))break t;if((r||a)&&(a=c.window===c?c:(a=c.ownerDocument)?a.defaultView||a.parentWindow:window,r?(o=n.relatedTarget||n.toElement,r=f,o=o?er(o):null,o!==null&&(v=gr(o),o!==v||o.tag!==5&&o.tag!==6)&&(o=null)):(r=null,o=f),r!==o)){if(l=im,g="onMouseLeave",u="onMouseEnter",d="mouse",(i==="pointerout"||i==="pointerover")&&(l=nm,g="onPointerLeave",u="onPointerEnter",d="pointer"),v=r==null?a:na(r),p=o==null?a:na(o),a=new l(g,d+"leave",r,n,c),a.target=v,a.relatedTarget=p,g=null,er(c)===f&&(l=new l(u,d+"enter",o,n,c),l.target=p,l.relatedTarget=v,g=l),v=g,r&&o)e:{for(l=r,u=o,d=0,p=l;p;p=Pr(p))d++;for(p=0,g=u;g;g=Pr(g))p++;for(;0<d-p;)l=Pr(l),d--;for(;0<p-d;)u=Pr(u),p--;for(;d--;){if(l===u||u!==null&&l===u.alternate)break e;l=Pr(l),u=Pr(u)}l=null}else l=null;r!==null&&pm(s,a,r,l,!1),o!==null&&v!==null&&pm(s,v,o,l,!0)}}t:{if(a=f?na(f):window,r=a.nodeName&&a.nodeName.toLowerCase(),r==="select"||r==="input"&&a.type==="file")var x=E3;else if(om(a))if(cT)x=w3;else{x=R3;var T=P3}else(r=a.nodeName)&&r.toLowerCase()==="input"&&(a.type==="checkbox"||a.type==="radio")&&(x=A3);if(x&&(x=x(i,f))){dT(s,x,n,c);break t}T&&T(i,a,f),i==="focusout"&&(T=a._wrapperState)&&T.controlled&&a.type==="number"&&rv(a,"number",a.value)}switch(T=f?na(f):window,i){case"focusin":(om(T)||T.contentEditable==="true")&&(ia=T,mv=f,Io=null);break;case"focusout":Io=mv=ia=null;break;case"mousedown":xv=!0;break;case"contextmenu":case"mouseup":case"dragend":xv=!1,dm(s,n,c);break;case"selectionchange":if(F3)break;case"keydown":case"keyup":dm(s,n,c)}var S;if(Ap)t:{switch(i){case"compositionstart":var P="onCompositionStart";break t;case"compositionend":P="onCompositionEnd";break t;case"compositionupdate":P="onCompositionUpdate";break t}P=void 0}else ea?uT(i,n)&&(P="onCompositionEnd"):i==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(lT&&n.locale!=="ko"&&(ea||P!=="onCompositionStart"?P==="onCompositionEnd"&&ea&&(S=hT()):(an=c,Ep="value"in an?an.value:an.textContent,ea=!0)),T=du(f,P),0<T.length&&(P=new sm(P,i,null,n,c),s.push({event:P,listeners:T}),S?P.data=S:(S=fT(n),S!==null&&(P.data=S)))),(S=y3?T3(i,n):C3(i,n))&&(f=du(f,"onBeforeInput"),0<f.length&&(c=new sm("onBeforeInput","beforeinput",null,n,c),s.push({event:c,listeners:f}),c.data=S))}MT(s,t)})}function Ko(i,t,n){return{instance:i,listener:t,currentTarget:n}}function du(i,t){for(var n=t+"Capture",m=[];i!==null;){var C=i,M=C.stateNode;C.tag===5&&M!==null&&(C=M,M=ko(i,n),M!=null&&m.unshift(Ko(i,M,C)),M=ko(i,t),M!=null&&m.push(Ko(i,M,C))),i=i.return}return m}function Pr(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function pm(i,t,n,m,C){for(var M=t._reactName,h=[];n!==null&&n!==m;){var y=n,e=y.alternate,f=y.stateNode;if(e!==null&&e===m)break;y.tag===5&&f!==null&&(y=f,C?(e=ko(n,M),e!=null&&h.unshift(Ko(n,e,y))):C||(e=ko(n,M),e!=null&&h.push(Ko(n,e,y)))),n=n.return}h.length!==0&&i.push({event:t,listeners:h})}var b3=/\r\n?/g,G3=/\u0000|\uFFFD/g;function gm(i){return(typeof i=="string"?i:""+i).replace(b3,`
`).replace(G3,"")}function Uh(i,t,n){if(t=gm(t),gm(i)!==t&&n)throw Error(ot(425))}function cu(){}var yv=null,Tv=null;function Cv(i,t){return i==="textarea"||i==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Sv=typeof setTimeout=="function"?setTimeout:void 0,N3=typeof clearTimeout=="function"?clearTimeout:void 0,mm=typeof Promise=="function"?Promise:void 0,V3=typeof queueMicrotask=="function"?queueMicrotask:typeof mm<"u"?function(i){return mm.resolve(null).then(i).catch(z3)}:Sv;function z3(i){setTimeout(function(){throw i})}function ld(i,t){var n=t,m=0;do{var C=n.nextSibling;if(i.removeChild(n),C&&C.nodeType===8)if(n=C.data,n==="/$"){if(m===0){i.removeChild(C),Yo(t);return}m--}else n!=="$"&&n!=="$?"&&n!=="$!"||m++;n=C}while(n);Yo(t)}function dn(i){for(;i!=null;i=i.nextSibling){var t=i.nodeType;if(t===1||t===3)break;if(t===8){if(t=i.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return i}function xm(i){i=i.previousSibling;for(var t=0;i;){if(i.nodeType===8){var n=i.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return i;t--}else n==="/$"&&t++}i=i.previousSibling}return null}var ba=Math.random().toString(36).slice(2),ls="__reactFiber$"+ba,Zo="__reactProps$"+ba,bs="__reactContainer$"+ba,Mv="__reactEvents$"+ba,k3="__reactListeners$"+ba,U3="__reactHandles$"+ba;function er(i){var t=i[ls];if(t)return t;for(var n=i.parentNode;n;){if(t=n[bs]||n[ls]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(i=xm(i);i!==null;){if(n=i[ls])return n;i=xm(i)}return t}i=n,n=i.parentNode}return null}function fh(i){return i=i[ls]||i[bs],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function na(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(ot(33))}function Xu(i){return i[Zo]||null}var Ev=[],ra=-1;function En(i){return{current:i}}function Wt(i){0>ra||(i.current=Ev[ra],Ev[ra]=null,ra--)}function Xt(i,t){ra++,Ev[ra]=i.current,i.current=t}var Tn={},Ie=En(Tn),Ze=En(!1),or=Tn;function Sa(i,t){var n=i.type.contextTypes;if(!n)return Tn;var m=i.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===t)return m.__reactInternalMemoizedMaskedChildContext;var C={},M;for(M in n)C[M]=t[M];return m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=t,i.__reactInternalMemoizedMaskedChildContext=C),C}function je(i){return i=i.childContextTypes,i!=null}function vu(){Wt(Ze),Wt(Ie)}function ym(i,t,n){if(Ie.current!==Tn)throw Error(ot(168));Xt(Ie,t),Xt(Ze,n)}function PT(i,t,n){var m=i.stateNode;if(t=t.childContextTypes,typeof m.getChildContext!="function")return n;m=m.getChildContext();for(var C in m)if(!(C in t))throw Error(ot(108,PP(i)||"Unknown",C));return Jt({},n,m)}function pu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Tn,or=Ie.current,Xt(Ie,i),Xt(Ze,Ze.current),!0}function Tm(i,t,n){var m=i.stateNode;if(!m)throw Error(ot(169));n?(i=PT(i,t,or),m.__reactInternalMemoizedMergedChildContext=i,Wt(Ze),Wt(Ie),Xt(Ie,i)):Wt(Ze),Xt(Ze,n)}var Rs=null,Yu=!1,ud=!1;function RT(i){Rs===null?Rs=[i]:Rs.push(i)}function X3(i){Yu=!0,RT(i)}function Pn(){if(!ud&&Rs!==null){ud=!0;var i=0,t=Ft;try{var n=Rs;for(Ft=1;i<n.length;i++){var m=n[i];do m=m(!0);while(m!==null)}Rs=null,Yu=!1}catch(C){throw Rs!==null&&(Rs=Rs.slice(i+1)),Q2(Tp,Pn),C}finally{Ft=t,ud=!1}}return null}var aa=[],oa=0,gu=null,mu=0,mi=[],xi=0,hr=null,ws=1,Os="";function qn(i,t){aa[oa++]=mu,aa[oa++]=gu,gu=i,mu=t}function AT(i,t,n){mi[xi++]=ws,mi[xi++]=Os,mi[xi++]=hr,hr=i;var m=ws;i=Os;var C=32-Wi(m)-1;m&=~(1<<C),n+=1;var M=32-Wi(t)+C;if(30<M){var h=C-C%5;M=(m&(1<<h)-1).toString(32),m>>=h,C-=h,ws=1<<32-Wi(t)+C|n<<C|m,Os=M+i}else ws=1<<M|n<<C|m,Os=i}function Op(i){i.return!==null&&(qn(i,1),AT(i,1,0))}function Lp(i){for(;i===gu;)gu=aa[--oa],aa[oa]=null,mu=aa[--oa],aa[oa]=null;for(;i===hr;)hr=mi[--xi],mi[xi]=null,Os=mi[--xi],mi[xi]=null,ws=mi[--xi],mi[xi]=null}var ai=null,ri=null,$t=!1,Yi=null;function wT(i,t){var n=Ti(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=i,t=i.deletions,t===null?(i.deletions=[n],i.flags|=16):t.push(n)}function Cm(i,t){switch(i.tag){case 5:var n=i.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(i.stateNode=t,ai=i,ri=dn(t.firstChild),!0):!1;case 6:return t=i.pendingProps===""||t.nodeType!==3?null:t,t!==null?(i.stateNode=t,ai=i,ri=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=hr!==null?{id:ws,overflow:Os}:null,i.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ti(18,null,null,0),n.stateNode=t,n.return=i,i.child=n,ai=i,ri=null,!0):!1;default:return!1}}function Pv(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Rv(i){if($t){var t=ri;if(t){var n=t;if(!Cm(i,t)){if(Pv(i))throw Error(ot(418));t=dn(n.nextSibling);var m=ai;t&&Cm(i,t)?wT(m,n):(i.flags=i.flags&-4097|2,$t=!1,ai=i)}}else{if(Pv(i))throw Error(ot(418));i.flags=i.flags&-4097|2,$t=!1,ai=i}}}function Sm(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;ai=i}function Xh(i){if(i!==ai)return!1;if(!$t)return Sm(i),$t=!0,!1;var t;if((t=i.tag!==3)&&!(t=i.tag!==5)&&(t=i.type,t=t!=="head"&&t!=="body"&&!Cv(i.type,i.memoizedProps)),t&&(t=ri)){if(Pv(i))throw OT(),Error(ot(418));for(;t;)wT(i,t),t=dn(t.nextSibling)}if(Sm(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ot(317));t:{for(i=i.nextSibling,t=0;i;){if(i.nodeType===8){var n=i.data;if(n==="/$"){if(t===0){ri=dn(i.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}i=i.nextSibling}ri=null}}else ri=ai?dn(i.stateNode.nextSibling):null;return!0}function OT(){for(var i=ri;i;)i=dn(i.nextSibling)}function Ma(){ri=ai=null,$t=!1}function Fp(i){Yi===null?Yi=[i]:Yi.push(i)}var Y3=Vs.ReactCurrentBatchConfig;function ki(i,t){if(i&&i.defaultProps){t=Jt({},t),i=i.defaultProps;for(var n in i)t[n]===void 0&&(t[n]=i[n]);return t}return t}var xu=En(null),yu=null,ha=null,Ip=null;function Dp(){Ip=ha=yu=null}function Bp(i){var t=xu.current;Wt(xu),i._currentValue=t}function Av(i,t,n){for(;i!==null;){var m=i.alternate;if((i.childLanes&t)!==t?(i.childLanes|=t,m!==null&&(m.childLanes|=t)):m!==null&&(m.childLanes&t)!==t&&(m.childLanes|=t),i===n)break;i=i.return}}function ma(i,t){yu=i,Ip=ha=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&t&&(Ke=!0),i.firstContext=null)}function Ri(i){var t=i._currentValue;if(Ip!==i)if(i={context:i,memoizedValue:t,next:null},ha===null){if(yu===null)throw Error(ot(308));ha=i,yu.dependencies={lanes:0,firstContext:i}}else ha=ha.next=i;return t}var ir=null;function bp(i){ir===null?ir=[i]:ir.push(i)}function LT(i,t,n,m){var C=t.interleaved;return C===null?(n.next=n,bp(t)):(n.next=C.next,C.next=n),t.interleaved=n,Gs(i,m)}function Gs(i,t){i.lanes|=t;var n=i.alternate;for(n!==null&&(n.lanes|=t),n=i,i=i.return;i!==null;)i.childLanes|=t,n=i.alternate,n!==null&&(n.childLanes|=t),n=i,i=i.return;return n.tag===3?n.stateNode:null}var qs=!1;function Gp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FT(i,t){i=i.updateQueue,t.updateQueue===i&&(t.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Ls(i,t){return{eventTime:i,lane:t,tag:0,payload:null,callback:null,next:null}}function cn(i,t,n){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,At&2){var C=m.pending;return C===null?t.next=t:(t.next=C.next,C.next=t),m.pending=t,Gs(i,n)}return C=m.interleaved,C===null?(t.next=t,bp(m)):(t.next=C.next,C.next=t),m.interleaved=t,Gs(i,n)}function Kl(i,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var m=t.lanes;m&=i.pendingLanes,n|=m,t.lanes=n,Cp(i,n)}}function Mm(i,t){var n=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,n===m)){var C=null,M=null;if(n=n.firstBaseUpdate,n!==null){do{var h={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};M===null?C=M=h:M=M.next=h,n=n.next}while(n!==null);M===null?C=M=t:M=M.next=t}else C=M=t;n={baseState:m.baseState,firstBaseUpdate:C,lastBaseUpdate:M,shared:m.shared,effects:m.effects},i.updateQueue=n;return}i=n.lastBaseUpdate,i===null?n.firstBaseUpdate=t:i.next=t,n.lastBaseUpdate=t}function Tu(i,t,n,m){var C=i.updateQueue;qs=!1;var M=C.firstBaseUpdate,h=C.lastBaseUpdate,y=C.shared.pending;if(y!==null){C.shared.pending=null;var e=y,f=e.next;e.next=null,h===null?M=f:h.next=f,h=e;var c=i.alternate;c!==null&&(c=c.updateQueue,y=c.lastBaseUpdate,y!==h&&(y===null?c.firstBaseUpdate=f:y.next=f,c.lastBaseUpdate=e))}if(M!==null){var s=C.baseState;h=0,c=f=e=null,y=M;do{var a=y.lane,r=y.eventTime;if((m&a)===a){c!==null&&(c=c.next={eventTime:r,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});t:{var o=i,l=y;switch(a=t,r=n,l.tag){case 1:if(o=l.payload,typeof o=="function"){s=o.call(r,s,a);break t}s=o;break t;case 3:o.flags=o.flags&-65537|128;case 0:if(o=l.payload,a=typeof o=="function"?o.call(r,s,a):o,a==null)break t;s=Jt({},s,a);break t;case 2:qs=!0}}y.callback!==null&&y.lane!==0&&(i.flags|=64,a=C.effects,a===null?C.effects=[y]:a.push(y))}else r={eventTime:r,lane:a,tag:y.tag,payload:y.payload,callback:y.callback,next:null},c===null?(f=c=r,e=s):c=c.next=r,h|=a;if(y=y.next,y===null){if(y=C.shared.pending,y===null)break;a=y,y=a.next,a.next=null,C.lastBaseUpdate=a,C.shared.pending=null}}while(1);if(c===null&&(e=s),C.baseState=e,C.firstBaseUpdate=f,C.lastBaseUpdate=c,t=C.shared.interleaved,t!==null){C=t;do h|=C.lane,C=C.next;while(C!==t)}else M===null&&(C.shared.lanes=0);ur|=h,i.lanes=h,i.memoizedState=s}}function Em(i,t,n){if(i=t.effects,t.effects=null,i!==null)for(t=0;t<i.length;t++){var m=i[t],C=m.callback;if(C!==null){if(m.callback=null,m=n,typeof C!="function")throw Error(ot(191,C));C.call(m)}}}var IT=new L2.Component().refs;function wv(i,t,n,m){t=i.memoizedState,n=n(m,t),n=n==null?t:Jt({},t,n),i.memoizedState=n,i.lanes===0&&(i.updateQueue.baseState=n)}var Wu={isMounted:function(i){return(i=i._reactInternals)?gr(i)===i:!1},enqueueSetState:function(i,t,n){i=i._reactInternals;var m=Ge(),C=pn(i),M=Ls(m,C);M.payload=t,n!=null&&(M.callback=n),t=cn(i,M,C),t!==null&&(Hi(t,i,C,m),Kl(t,i,C))},enqueueReplaceState:function(i,t,n){i=i._reactInternals;var m=Ge(),C=pn(i),M=Ls(m,C);M.tag=1,M.payload=t,n!=null&&(M.callback=n),t=cn(i,M,C),t!==null&&(Hi(t,i,C,m),Kl(t,i,C))},enqueueForceUpdate:function(i,t){i=i._reactInternals;var n=Ge(),m=pn(i),C=Ls(n,m);C.tag=2,t!=null&&(C.callback=t),t=cn(i,C,m),t!==null&&(Hi(t,i,m,n),Kl(t,i,m))}};function Pm(i,t,n,m,C,M,h){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,M,h):t.prototype&&t.prototype.isPureReactComponent?!Ho(n,m)||!Ho(C,M):!0}function DT(i,t,n){var m=!1,C=Tn,M=t.contextType;return typeof M=="object"&&M!==null?M=Ri(M):(C=je(t)?or:Ie.current,m=t.contextTypes,M=(m=m!=null)?Sa(i,C):Tn),t=new t(n,M),i.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Wu,i.stateNode=t,t._reactInternals=i,m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=C,i.__reactInternalMemoizedMaskedChildContext=M),t}function Rm(i,t,n,m){i=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,m),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,m),t.state!==i&&Wu.enqueueReplaceState(t,t.state,null)}function Ov(i,t,n,m){var C=i.stateNode;C.props=n,C.state=i.memoizedState,C.refs=IT,Gp(i);var M=t.contextType;typeof M=="object"&&M!==null?C.context=Ri(M):(M=je(t)?or:Ie.current,C.context=Sa(i,M)),C.state=i.memoizedState,M=t.getDerivedStateFromProps,typeof M=="function"&&(wv(i,t,M,n),C.state=i.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(t=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),t!==C.state&&Wu.enqueueReplaceState(C,C.state,null),Tu(i,n,C,m),C.state=i.memoizedState),typeof C.componentDidMount=="function"&&(i.flags|=4194308)}function Za(i,t,n){if(i=n.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ot(309));var m=n.stateNode}if(!m)throw Error(ot(147,i));var C=m,M=""+i;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===M?t.ref:(t=function(h){var y=C.refs;y===IT&&(y=C.refs={}),h===null?delete y[M]:y[M]=h},t._stringRef=M,t)}if(typeof i!="string")throw Error(ot(284));if(!n._owner)throw Error(ot(290,i))}return i}function Yh(i,t){throw i=Object.prototype.toString.call(t),Error(ot(31,i==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":i))}function Am(i){var t=i._init;return t(i._payload)}function BT(i){function t(u,d){if(i){var p=u.deletions;p===null?(u.deletions=[d],u.flags|=16):p.push(d)}}function n(u,d){if(!i)return null;for(;d!==null;)t(u,d),d=d.sibling;return null}function m(u,d){for(u=new Map;d!==null;)d.key!==null?u.set(d.key,d):u.set(d.index,d),d=d.sibling;return u}function C(u,d){return u=gn(u,d),u.index=0,u.sibling=null,u}function M(u,d,p){return u.index=p,i?(p=u.alternate,p!==null?(p=p.index,p<d?(u.flags|=2,d):p):(u.flags|=2,d)):(u.flags|=1048576,d)}function h(u){return i&&u.alternate===null&&(u.flags|=2),u}function y(u,d,p,g){return d===null||d.tag!==6?(d=md(p,u.mode,g),d.return=u,d):(d=C(d,p),d.return=u,d)}function e(u,d,p,g){var x=p.type;return x===ta?c(u,d,p.props.children,g,p.key):d!==null&&(d.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Qs&&Am(x)===d.type)?(g=C(d,p.props),g.ref=Za(u,d,p),g.return=u,g):(g=_l(p.type,p.key,p.props,null,u.mode,g),g.ref=Za(u,d,p),g.return=u,g)}function f(u,d,p,g){return d===null||d.tag!==4||d.stateNode.containerInfo!==p.containerInfo||d.stateNode.implementation!==p.implementation?(d=xd(p,u.mode,g),d.return=u,d):(d=C(d,p.children||[]),d.return=u,d)}function c(u,d,p,g,x){return d===null||d.tag!==7?(d=rr(p,u.mode,g,x),d.return=u,d):(d=C(d,p),d.return=u,d)}function s(u,d,p){if(typeof d=="string"&&d!==""||typeof d=="number")return d=md(""+d,u.mode,p),d.return=u,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Ih:return p=_l(d.type,d.key,d.props,null,u.mode,p),p.ref=Za(u,null,d),p.return=u,p;case _r:return d=xd(d,u.mode,p),d.return=u,d;case Qs:var g=d._init;return s(u,g(d._payload),p)}if(Po(d)||Ya(d))return d=rr(d,u.mode,p,null),d.return=u,d;Yh(u,d)}return null}function a(u,d,p,g){var x=d!==null?d.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return x!==null?null:y(u,d,""+p,g);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ih:return p.key===x?e(u,d,p,g):null;case _r:return p.key===x?f(u,d,p,g):null;case Qs:return x=p._init,a(u,d,x(p._payload),g)}if(Po(p)||Ya(p))return x!==null?null:c(u,d,p,g,null);Yh(u,p)}return null}function r(u,d,p,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return u=u.get(p)||null,y(d,u,""+g,x);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ih:return u=u.get(g.key===null?p:g.key)||null,e(d,u,g,x);case _r:return u=u.get(g.key===null?p:g.key)||null,f(d,u,g,x);case Qs:var T=g._init;return r(u,d,p,T(g._payload),x)}if(Po(g)||Ya(g))return u=u.get(p)||null,c(d,u,g,x,null);Yh(d,g)}return null}function o(u,d,p,g){for(var x=null,T=null,S=d,P=d=0,E=null;S!==null&&P<p.length;P++){S.index>P?(E=S,S=null):E=S.sibling;var R=a(u,S,p[P],g);if(R===null){S===null&&(S=E);break}i&&S&&R.alternate===null&&t(u,S),d=M(R,d,P),T===null?x=R:T.sibling=R,T=R,S=E}if(P===p.length)return n(u,S),$t&&qn(u,P),x;if(S===null){for(;P<p.length;P++)S=s(u,p[P],g),S!==null&&(d=M(S,d,P),T===null?x=S:T.sibling=S,T=S);return $t&&qn(u,P),x}for(S=m(u,S);P<p.length;P++)E=r(S,u,P,p[P],g),E!==null&&(i&&E.alternate!==null&&S.delete(E.key===null?P:E.key),d=M(E,d,P),T===null?x=E:T.sibling=E,T=E);return i&&S.forEach(function(A){return t(u,A)}),$t&&qn(u,P),x}function l(u,d,p,g){var x=Ya(p);if(typeof x!="function")throw Error(ot(150));if(p=x.call(p),p==null)throw Error(ot(151));for(var T=x=null,S=d,P=d=0,E=null,R=p.next();S!==null&&!R.done;P++,R=p.next()){S.index>P?(E=S,S=null):E=S.sibling;var A=a(u,S,R.value,g);if(A===null){S===null&&(S=E);break}i&&S&&A.alternate===null&&t(u,S),d=M(A,d,P),T===null?x=A:T.sibling=A,T=A,S=E}if(R.done)return n(u,S),$t&&qn(u,P),x;if(S===null){for(;!R.done;P++,R=p.next())R=s(u,R.value,g),R!==null&&(d=M(R,d,P),T===null?x=R:T.sibling=R,T=R);return $t&&qn(u,P),x}for(S=m(u,S);!R.done;P++,R=p.next())R=r(S,u,P,R.value,g),R!==null&&(i&&R.alternate!==null&&S.delete(R.key===null?P:R.key),d=M(R,d,P),T===null?x=R:T.sibling=R,T=R);return i&&S.forEach(function(w){return t(u,w)}),$t&&qn(u,P),x}function v(u,d,p,g){if(typeof p=="object"&&p!==null&&p.type===ta&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Ih:t:{for(var x=p.key,T=d;T!==null;){if(T.key===x){if(x=p.type,x===ta){if(T.tag===7){n(u,T.sibling),d=C(T,p.props.children),d.return=u,u=d;break t}}else if(T.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Qs&&Am(x)===T.type){n(u,T.sibling),d=C(T,p.props),d.ref=Za(u,T,p),d.return=u,u=d;break t}n(u,T);break}else t(u,T);T=T.sibling}p.type===ta?(d=rr(p.props.children,u.mode,g,p.key),d.return=u,u=d):(g=_l(p.type,p.key,p.props,null,u.mode,g),g.ref=Za(u,d,p),g.return=u,u=g)}return h(u);case _r:t:{for(T=p.key;d!==null;){if(d.key===T)if(d.tag===4&&d.stateNode.containerInfo===p.containerInfo&&d.stateNode.implementation===p.implementation){n(u,d.sibling),d=C(d,p.children||[]),d.return=u,u=d;break t}else{n(u,d);break}else t(u,d);d=d.sibling}d=xd(p,u.mode,g),d.return=u,u=d}return h(u);case Qs:return T=p._init,v(u,d,T(p._payload),g)}if(Po(p))return o(u,d,p,g);if(Ya(p))return l(u,d,p,g);Yh(u,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,d!==null&&d.tag===6?(n(u,d.sibling),d=C(d,p),d.return=u,u=d):(n(u,d),d=md(p,u.mode,g),d.return=u,u=d),h(u)):n(u,d)}return v}var Ea=BT(!0),bT=BT(!1),dh={},vs=En(dh),jo=En(dh),Jo=En(dh);function sr(i){if(i===dh)throw Error(ot(174));return i}function Np(i,t){switch(Xt(Jo,t),Xt(jo,i),Xt(vs,dh),i=t.nodeType,i){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ov(null,"");break;default:i=i===8?t.parentNode:t,t=i.namespaceURI||null,i=i.tagName,t=ov(t,i)}Wt(vs),Xt(vs,t)}function Pa(){Wt(vs),Wt(jo),Wt(Jo)}function GT(i){sr(Jo.current);var t=sr(vs.current),n=ov(t,i.type);t!==n&&(Xt(jo,i),Xt(vs,n))}function Vp(i){jo.current===i&&(Wt(vs),Wt(jo))}var Zt=En(0);function Cu(i){for(var t=i;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break;for(;t.sibling===null;){if(t.return===null||t.return===i)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fd=[];function zp(){for(var i=0;i<fd.length;i++)fd[i]._workInProgressVersionPrimary=null;fd.length=0}var Zl=Vs.ReactCurrentDispatcher,dd=Vs.ReactCurrentBatchConfig,lr=0,jt=null,ue=null,ve=null,Su=!1,Do=!1,Qo=0,W3=0;function Pe(){throw Error(ot(321))}function kp(i,t){if(t===null)return!1;for(var n=0;n<t.length&&n<i.length;n++)if(!$i(i[n],t[n]))return!1;return!0}function Up(i,t,n,m,C,M){if(lr=M,jt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zl.current=i===null||i.memoizedState===null?Z3:j3,i=n(m,C),Do){M=0;do{if(Do=!1,Qo=0,25<=M)throw Error(ot(301));M+=1,ve=ue=null,t.updateQueue=null,Zl.current=J3,i=n(m,C)}while(Do)}if(Zl.current=Mu,t=ue!==null&&ue.next!==null,lr=0,ve=ue=jt=null,Su=!1,t)throw Error(ot(300));return i}function Xp(){var i=Qo!==0;return Qo=0,i}function hs(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?jt.memoizedState=ve=i:ve=ve.next=i,ve}function Ai(){if(ue===null){var i=jt.alternate;i=i!==null?i.memoizedState:null}else i=ue.next;var t=ve===null?jt.memoizedState:ve.next;if(t!==null)ve=t,ue=i;else{if(i===null)throw Error(ot(310));ue=i,i={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},ve===null?jt.memoizedState=ve=i:ve=ve.next=i}return ve}function qo(i,t){return typeof t=="function"?t(i):t}function cd(i){var t=Ai(),n=t.queue;if(n===null)throw Error(ot(311));n.lastRenderedReducer=i;var m=ue,C=m.baseQueue,M=n.pending;if(M!==null){if(C!==null){var h=C.next;C.next=M.next,M.next=h}m.baseQueue=C=M,n.pending=null}if(C!==null){M=C.next,m=m.baseState;var y=h=null,e=null,f=M;do{var c=f.lane;if((lr&c)===c)e!==null&&(e=e.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),m=f.hasEagerState?f.eagerState:i(m,f.action);else{var s={lane:c,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};e===null?(y=e=s,h=m):e=e.next=s,jt.lanes|=c,ur|=c}f=f.next}while(f!==null&&f!==M);e===null?h=m:e.next=y,$i(m,t.memoizedState)||(Ke=!0),t.memoizedState=m,t.baseState=h,t.baseQueue=e,n.lastRenderedState=m}if(i=n.interleaved,i!==null){C=i;do M=C.lane,jt.lanes|=M,ur|=M,C=C.next;while(C!==i)}else C===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function vd(i){var t=Ai(),n=t.queue;if(n===null)throw Error(ot(311));n.lastRenderedReducer=i;var m=n.dispatch,C=n.pending,M=t.memoizedState;if(C!==null){n.pending=null;var h=C=C.next;do M=i(M,h.action),h=h.next;while(h!==C);$i(M,t.memoizedState)||(Ke=!0),t.memoizedState=M,t.baseQueue===null&&(t.baseState=M),n.lastRenderedState=M}return[M,m]}function NT(){}function VT(i,t){var n=jt,m=Ai(),C=t(),M=!$i(m.memoizedState,C);if(M&&(m.memoizedState=C,Ke=!0),m=m.queue,Yp(UT.bind(null,n,m,i),[i]),m.getSnapshot!==t||M||ve!==null&&ve.memoizedState.tag&1){if(n.flags|=2048,_o(9,kT.bind(null,n,m,C,t),void 0,null),ge===null)throw Error(ot(349));lr&30||zT(n,t,C)}return C}function zT(i,t,n){i.flags|=16384,i={getSnapshot:t,value:n},t=jt.updateQueue,t===null?(t={lastEffect:null,stores:null},jt.updateQueue=t,t.stores=[i]):(n=t.stores,n===null?t.stores=[i]:n.push(i))}function kT(i,t,n,m){t.value=n,t.getSnapshot=m,XT(t)&&YT(i)}function UT(i,t,n){return n(function(){XT(t)&&YT(i)})}function XT(i){var t=i.getSnapshot;i=i.value;try{var n=t();return!$i(i,n)}catch{return!0}}function YT(i){var t=Gs(i,1);t!==null&&Hi(t,i,1,-1)}function wm(i){var t=hs();return typeof i=="function"&&(i=i()),t.memoizedState=t.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:i},t.queue=i,i=i.dispatch=K3.bind(null,jt,i),[t.memoizedState,i]}function _o(i,t,n,m){return i={tag:i,create:t,destroy:n,deps:m,next:null},t=jt.updateQueue,t===null?(t={lastEffect:null,stores:null},jt.updateQueue=t,t.lastEffect=i.next=i):(n=t.lastEffect,n===null?t.lastEffect=i.next=i:(m=n.next,n.next=i,i.next=m,t.lastEffect=i)),i}function WT(){return Ai().memoizedState}function jl(i,t,n,m){var C=hs();jt.flags|=i,C.memoizedState=_o(1|t,n,void 0,m===void 0?null:m)}function Hu(i,t,n,m){var C=Ai();m=m===void 0?null:m;var M=void 0;if(ue!==null){var h=ue.memoizedState;if(M=h.destroy,m!==null&&kp(m,h.deps)){C.memoizedState=_o(t,n,M,m);return}}jt.flags|=i,C.memoizedState=_o(1|t,n,M,m)}function Om(i,t){return jl(8390656,8,i,t)}function Yp(i,t){return Hu(2048,8,i,t)}function HT(i,t){return Hu(4,2,i,t)}function $T(i,t){return Hu(4,4,i,t)}function KT(i,t){if(typeof t=="function")return i=i(),t(i),function(){t(null)};if(t!=null)return i=i(),t.current=i,function(){t.current=null}}function ZT(i,t,n){return n=n!=null?n.concat([i]):null,Hu(4,4,KT.bind(null,t,i),n)}function Wp(){}function jT(i,t){var n=Ai();t=t===void 0?null:t;var m=n.memoizedState;return m!==null&&t!==null&&kp(t,m[1])?m[0]:(n.memoizedState=[i,t],i)}function JT(i,t){var n=Ai();t=t===void 0?null:t;var m=n.memoizedState;return m!==null&&t!==null&&kp(t,m[1])?m[0]:(i=i(),n.memoizedState=[i,t],i)}function QT(i,t,n){return lr&21?($i(n,t)||(n=tT(),jt.lanes|=n,ur|=n,i.baseState=!0),t):(i.baseState&&(i.baseState=!1,Ke=!0),i.memoizedState=n)}function H3(i,t){var n=Ft;Ft=n!==0&&4>n?n:4,i(!0);var m=dd.transition;dd.transition={};try{i(!1),t()}finally{Ft=n,dd.transition=m}}function qT(){return Ai().memoizedState}function $3(i,t,n){var m=pn(i);if(n={lane:m,action:n,hasEagerState:!1,eagerState:null,next:null},_T(i))tC(t,n);else if(n=LT(i,t,n,m),n!==null){var C=Ge();Hi(n,i,m,C),eC(n,t,m)}}function K3(i,t,n){var m=pn(i),C={lane:m,action:n,hasEagerState:!1,eagerState:null,next:null};if(_T(i))tC(t,C);else{var M=i.alternate;if(i.lanes===0&&(M===null||M.lanes===0)&&(M=t.lastRenderedReducer,M!==null))try{var h=t.lastRenderedState,y=M(h,n);if(C.hasEagerState=!0,C.eagerState=y,$i(y,h)){var e=t.interleaved;e===null?(C.next=C,bp(t)):(C.next=e.next,e.next=C),t.interleaved=C;return}}catch{}finally{}n=LT(i,t,C,m),n!==null&&(C=Ge(),Hi(n,i,m,C),eC(n,t,m))}}function _T(i){var t=i.alternate;return i===jt||t!==null&&t===jt}function tC(i,t){Do=Su=!0;var n=i.pending;n===null?t.next=t:(t.next=n.next,n.next=t),i.pending=t}function eC(i,t,n){if(n&4194240){var m=t.lanes;m&=i.pendingLanes,n|=m,t.lanes=n,Cp(i,n)}}var Mu={readContext:Ri,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useInsertionEffect:Pe,useLayoutEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useMutableSource:Pe,useSyncExternalStore:Pe,useId:Pe,unstable_isNewReconciler:!1},Z3={readContext:Ri,useCallback:function(i,t){return hs().memoizedState=[i,t===void 0?null:t],i},useContext:Ri,useEffect:Om,useImperativeHandle:function(i,t,n){return n=n!=null?n.concat([i]):null,jl(4194308,4,KT.bind(null,t,i),n)},useLayoutEffect:function(i,t){return jl(4194308,4,i,t)},useInsertionEffect:function(i,t){return jl(4,2,i,t)},useMemo:function(i,t){var n=hs();return t=t===void 0?null:t,i=i(),n.memoizedState=[i,t],i},useReducer:function(i,t,n){var m=hs();return t=n!==void 0?n(t):t,m.memoizedState=m.baseState=t,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:t},m.queue=i,i=i.dispatch=$3.bind(null,jt,i),[m.memoizedState,i]},useRef:function(i){var t=hs();return i={current:i},t.memoizedState=i},useState:wm,useDebugValue:Wp,useDeferredValue:function(i){return hs().memoizedState=i},useTransition:function(){var i=wm(!1),t=i[0];return i=H3.bind(null,i[1]),hs().memoizedState=i,[t,i]},useMutableSource:function(){},useSyncExternalStore:function(i,t,n){var m=jt,C=hs();if($t){if(n===void 0)throw Error(ot(407));n=n()}else{if(n=t(),ge===null)throw Error(ot(349));lr&30||zT(m,t,n)}C.memoizedState=n;var M={value:n,getSnapshot:t};return C.queue=M,Om(UT.bind(null,m,M,i),[i]),m.flags|=2048,_o(9,kT.bind(null,m,M,n,t),void 0,null),n},useId:function(){var i=hs(),t=ge.identifierPrefix;if($t){var n=Os,m=ws;n=(m&~(1<<32-Wi(m)-1)).toString(32)+n,t=":"+t+"R"+n,n=Qo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=W3++,t=":"+t+"r"+n.toString(32)+":";return i.memoizedState=t},unstable_isNewReconciler:!1},j3={readContext:Ri,useCallback:jT,useContext:Ri,useEffect:Yp,useImperativeHandle:ZT,useInsertionEffect:HT,useLayoutEffect:$T,useMemo:JT,useReducer:cd,useRef:WT,useState:function(){return cd(qo)},useDebugValue:Wp,useDeferredValue:function(i){var t=Ai();return QT(t,ue.memoizedState,i)},useTransition:function(){var i=cd(qo)[0],t=Ai().memoizedState;return[i,t]},useMutableSource:NT,useSyncExternalStore:VT,useId:qT,unstable_isNewReconciler:!1},J3={readContext:Ri,useCallback:jT,useContext:Ri,useEffect:Yp,useImperativeHandle:ZT,useInsertionEffect:HT,useLayoutEffect:$T,useMemo:JT,useReducer:vd,useRef:WT,useState:function(){return vd(qo)},useDebugValue:Wp,useDeferredValue:function(i){var t=Ai();return ue===null?t.memoizedState=i:QT(t,ue.memoizedState,i)},useTransition:function(){var i=vd(qo)[0],t=Ai().memoizedState;return[i,t]},useMutableSource:NT,useSyncExternalStore:VT,useId:qT,unstable_isNewReconciler:!1};function Ra(i,t){try{var n="",m=t;do n+=EP(m),m=m.return;while(m);var C=n}catch(M){C=`
Error generating stack: `+M.message+`
`+M.stack}return{value:i,source:t,stack:C,digest:null}}function pd(i,t,n){return{value:i,source:null,stack:n??null,digest:t??null}}function Lv(i,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Q3=typeof WeakMap=="function"?WeakMap:Map;function iC(i,t,n){n=Ls(-1,n),n.tag=3,n.payload={element:null};var m=t.value;return n.callback=function(){Pu||(Pu=!0,kv=m),Lv(i,t)},n}function sC(i,t,n){n=Ls(-1,n),n.tag=3;var m=i.type.getDerivedStateFromError;if(typeof m=="function"){var C=t.value;n.payload=function(){return m(C)},n.callback=function(){Lv(i,t)}}var M=i.stateNode;return M!==null&&typeof M.componentDidCatch=="function"&&(n.callback=function(){Lv(i,t),typeof m!="function"&&(vn===null?vn=new Set([this]):vn.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),n}function Lm(i,t,n){var m=i.pingCache;if(m===null){m=i.pingCache=new Q3;var C=new Set;m.set(t,C)}else C=m.get(t),C===void 0&&(C=new Set,m.set(t,C));C.has(n)||(C.add(n),i=f5.bind(null,i,t,n),t.then(i,i))}function Fm(i){do{var t;if((t=i.tag===13)&&(t=i.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return i;i=i.return}while(i!==null);return null}function Im(i,t,n,m,C){return i.mode&1?(i.flags|=65536,i.lanes=C,i):(i===t?i.flags|=65536:(i.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ls(-1,1),t.tag=2,cn(n,t,1))),n.lanes|=1),i)}var q3=Vs.ReactCurrentOwner,Ke=!1;function be(i,t,n,m){t.child=i===null?bT(t,null,n,m):Ea(t,i.child,n,m)}function Dm(i,t,n,m,C){n=n.render;var M=t.ref;return ma(t,C),m=Up(i,t,n,m,M,C),n=Xp(),i!==null&&!Ke?(t.updateQueue=i.updateQueue,t.flags&=-2053,i.lanes&=~C,Ns(i,t,C)):($t&&n&&Op(t),t.flags|=1,be(i,t,m,C),t.child)}function Bm(i,t,n,m,C){if(i===null){var M=n.type;return typeof M=="function"&&!qp(M)&&M.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=M,nC(i,t,M,m,C)):(i=_l(n.type,null,m,t,t.mode,C),i.ref=t.ref,i.return=t,t.child=i)}if(M=i.child,!(i.lanes&C)){var h=M.memoizedProps;if(n=n.compare,n=n!==null?n:Ho,n(h,m)&&i.ref===t.ref)return Ns(i,t,C)}return t.flags|=1,i=gn(M,m),i.ref=t.ref,i.return=t,t.child=i}function nC(i,t,n,m,C){if(i!==null){var M=i.memoizedProps;if(Ho(M,m)&&i.ref===t.ref)if(Ke=!1,t.pendingProps=m=M,(i.lanes&C)!==0)i.flags&131072&&(Ke=!0);else return t.lanes=i.lanes,Ns(i,t,C)}return Fv(i,t,n,m,C)}function rC(i,t,n){var m=t.pendingProps,C=m.children,M=i!==null?i.memoizedState:null;if(m.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xt(ua,ni),ni|=n;else{if(!(n&1073741824))return i=M!==null?M.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:i,cachePool:null,transitions:null},t.updateQueue=null,Xt(ua,ni),ni|=i,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=M!==null?M.baseLanes:n,Xt(ua,ni),ni|=m}else M!==null?(m=M.baseLanes|n,t.memoizedState=null):m=n,Xt(ua,ni),ni|=m;return be(i,t,C,n),t.child}function aC(i,t){var n=t.ref;(i===null&&n!==null||i!==null&&i.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Fv(i,t,n,m,C){var M=je(n)?or:Ie.current;return M=Sa(t,M),ma(t,C),n=Up(i,t,n,m,M,C),m=Xp(),i!==null&&!Ke?(t.updateQueue=i.updateQueue,t.flags&=-2053,i.lanes&=~C,Ns(i,t,C)):($t&&m&&Op(t),t.flags|=1,be(i,t,n,C),t.child)}function bm(i,t,n,m,C){if(je(n)){var M=!0;pu(t)}else M=!1;if(ma(t,C),t.stateNode===null)Jl(i,t),DT(t,n,m),Ov(t,n,m,C),m=!0;else if(i===null){var h=t.stateNode,y=t.memoizedProps;h.props=y;var e=h.context,f=n.contextType;typeof f=="object"&&f!==null?f=Ri(f):(f=je(n)?or:Ie.current,f=Sa(t,f));var c=n.getDerivedStateFromProps,s=typeof c=="function"||typeof h.getSnapshotBeforeUpdate=="function";s||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==m||e!==f)&&Rm(t,h,m,f),qs=!1;var a=t.memoizedState;h.state=a,Tu(t,m,h,C),e=t.memoizedState,y!==m||a!==e||Ze.current||qs?(typeof c=="function"&&(wv(t,n,c,m),e=t.memoizedState),(y=qs||Pm(t,n,y,m,a,e,f))?(s||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=m,t.memoizedState=e),h.props=m,h.state=e,h.context=f,m=y):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),m=!1)}else{h=t.stateNode,FT(i,t),y=t.memoizedProps,f=t.type===t.elementType?y:ki(t.type,y),h.props=f,s=t.pendingProps,a=h.context,e=n.contextType,typeof e=="object"&&e!==null?e=Ri(e):(e=je(n)?or:Ie.current,e=Sa(t,e));var r=n.getDerivedStateFromProps;(c=typeof r=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==s||a!==e)&&Rm(t,h,m,e),qs=!1,a=t.memoizedState,h.state=a,Tu(t,m,h,C);var o=t.memoizedState;y!==s||a!==o||Ze.current||qs?(typeof r=="function"&&(wv(t,n,r,m),o=t.memoizedState),(f=qs||Pm(t,n,f,m,a,o,e)||!1)?(c||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(m,o,e),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(m,o,e)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||y===i.memoizedProps&&a===i.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===i.memoizedProps&&a===i.memoizedState||(t.flags|=1024),t.memoizedProps=m,t.memoizedState=o),h.props=m,h.state=o,h.context=e,m=f):(typeof h.componentDidUpdate!="function"||y===i.memoizedProps&&a===i.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===i.memoizedProps&&a===i.memoizedState||(t.flags|=1024),m=!1)}return Iv(i,t,n,m,M,C)}function Iv(i,t,n,m,C,M){aC(i,t);var h=(t.flags&128)!==0;if(!m&&!h)return C&&Tm(t,n,!1),Ns(i,t,M);m=t.stateNode,q3.current=t;var y=h&&typeof n.getDerivedStateFromError!="function"?null:m.render();return t.flags|=1,i!==null&&h?(t.child=Ea(t,i.child,null,M),t.child=Ea(t,null,y,M)):be(i,t,y,M),t.memoizedState=m.state,C&&Tm(t,n,!0),t.child}function oC(i){var t=i.stateNode;t.pendingContext?ym(i,t.pendingContext,t.pendingContext!==t.context):t.context&&ym(i,t.context,!1),Np(i,t.containerInfo)}function Gm(i,t,n,m,C){return Ma(),Fp(C),t.flags|=256,be(i,t,n,m),t.child}var Dv={dehydrated:null,treeContext:null,retryLane:0};function Bv(i){return{baseLanes:i,cachePool:null,transitions:null}}function hC(i,t,n){var m=t.pendingProps,C=Zt.current,M=!1,h=(t.flags&128)!==0,y;if((y=h)||(y=i!==null&&i.memoizedState===null?!1:(C&2)!==0),y?(M=!0,t.flags&=-129):(i===null||i.memoizedState!==null)&&(C|=1),Xt(Zt,C&1),i===null)return Rv(t),i=t.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(t.mode&1?i.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(h=m.children,i=m.fallback,M?(m=t.mode,M=t.child,h={mode:"hidden",children:h},!(m&1)&&M!==null?(M.childLanes=0,M.pendingProps=h):M=Zu(h,m,0,null),i=rr(i,m,n,null),M.return=t,i.return=t,M.sibling=i,t.child=M,t.child.memoizedState=Bv(n),t.memoizedState=Dv,i):Hp(t,h));if(C=i.memoizedState,C!==null&&(y=C.dehydrated,y!==null))return _3(i,t,h,m,y,C,n);if(M){M=m.fallback,h=t.mode,C=i.child,y=C.sibling;var e={mode:"hidden",children:m.children};return!(h&1)&&t.child!==C?(m=t.child,m.childLanes=0,m.pendingProps=e,t.deletions=null):(m=gn(C,e),m.subtreeFlags=C.subtreeFlags&14680064),y!==null?M=gn(y,M):(M=rr(M,h,n,null),M.flags|=2),M.return=t,m.return=t,m.sibling=M,t.child=m,m=M,M=t.child,h=i.child.memoizedState,h=h===null?Bv(n):{baseLanes:h.baseLanes|n,cachePool:null,transitions:h.transitions},M.memoizedState=h,M.childLanes=i.childLanes&~n,t.memoizedState=Dv,m}return M=i.child,i=M.sibling,m=gn(M,{mode:"visible",children:m.children}),!(t.mode&1)&&(m.lanes=n),m.return=t,m.sibling=null,i!==null&&(n=t.deletions,n===null?(t.deletions=[i],t.flags|=16):n.push(i)),t.child=m,t.memoizedState=null,m}function Hp(i,t){return t=Zu({mode:"visible",children:t},i.mode,0,null),t.return=i,i.child=t}function Wh(i,t,n,m){return m!==null&&Fp(m),Ea(t,i.child,null,n),i=Hp(t,t.pendingProps.children),i.flags|=2,t.memoizedState=null,i}function _3(i,t,n,m,C,M,h){if(n)return t.flags&256?(t.flags&=-257,m=pd(Error(ot(422))),Wh(i,t,h,m)):t.memoizedState!==null?(t.child=i.child,t.flags|=128,null):(M=m.fallback,C=t.mode,m=Zu({mode:"visible",children:m.children},C,0,null),M=rr(M,C,h,null),M.flags|=2,m.return=t,M.return=t,m.sibling=M,t.child=m,t.mode&1&&Ea(t,i.child,null,h),t.child.memoizedState=Bv(h),t.memoizedState=Dv,M);if(!(t.mode&1))return Wh(i,t,h,null);if(C.data==="$!"){if(m=C.nextSibling&&C.nextSibling.dataset,m)var y=m.dgst;return m=y,M=Error(ot(419)),m=pd(M,m,void 0),Wh(i,t,h,m)}if(y=(h&i.childLanes)!==0,Ke||y){if(m=ge,m!==null){switch(h&-h){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=C&(m.suspendedLanes|h)?0:C,C!==0&&C!==M.retryLane&&(M.retryLane=C,Gs(i,C),Hi(m,i,C,-1))}return Qp(),m=pd(Error(ot(421))),Wh(i,t,h,m)}return C.data==="$?"?(t.flags|=128,t.child=i.child,t=d5.bind(null,i),C._reactRetry=t,null):(i=M.treeContext,ri=dn(C.nextSibling),ai=t,$t=!0,Yi=null,i!==null&&(mi[xi++]=ws,mi[xi++]=Os,mi[xi++]=hr,ws=i.id,Os=i.overflow,hr=t),t=Hp(t,m.children),t.flags|=4096,t)}function Nm(i,t,n){i.lanes|=t;var m=i.alternate;m!==null&&(m.lanes|=t),Av(i.return,t,n)}function gd(i,t,n,m,C){var M=i.memoizedState;M===null?i.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:m,tail:n,tailMode:C}:(M.isBackwards=t,M.rendering=null,M.renderingStartTime=0,M.last=m,M.tail=n,M.tailMode=C)}function lC(i,t,n){var m=t.pendingProps,C=m.revealOrder,M=m.tail;if(be(i,t,m.children,n),m=Zt.current,m&2)m=m&1|2,t.flags|=128;else{if(i!==null&&i.flags&128)t:for(i=t.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Nm(i,n,t);else if(i.tag===19)Nm(i,n,t);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break t;for(;i.sibling===null;){if(i.return===null||i.return===t)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}m&=1}if(Xt(Zt,m),!(t.mode&1))t.memoizedState=null;else switch(C){case"forwards":for(n=t.child,C=null;n!==null;)i=n.alternate,i!==null&&Cu(i)===null&&(C=n),n=n.sibling;n=C,n===null?(C=t.child,t.child=null):(C=n.sibling,n.sibling=null),gd(t,!1,C,n,M);break;case"backwards":for(n=null,C=t.child,t.child=null;C!==null;){if(i=C.alternate,i!==null&&Cu(i)===null){t.child=C;break}i=C.sibling,C.sibling=n,n=C,C=i}gd(t,!0,n,null,M);break;case"together":gd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jl(i,t){!(t.mode&1)&&i!==null&&(i.alternate=null,t.alternate=null,t.flags|=2)}function Ns(i,t,n){if(i!==null&&(t.dependencies=i.dependencies),ur|=t.lanes,!(n&t.childLanes))return null;if(i!==null&&t.child!==i.child)throw Error(ot(153));if(t.child!==null){for(i=t.child,n=gn(i,i.pendingProps),t.child=n,n.return=t;i.sibling!==null;)i=i.sibling,n=n.sibling=gn(i,i.pendingProps),n.return=t;n.sibling=null}return t.child}function t5(i,t,n){switch(t.tag){case 3:oC(t),Ma();break;case 5:GT(t);break;case 1:je(t.type)&&pu(t);break;case 4:Np(t,t.stateNode.containerInfo);break;case 10:var m=t.type._context,C=t.memoizedProps.value;Xt(xu,m._currentValue),m._currentValue=C;break;case 13:if(m=t.memoizedState,m!==null)return m.dehydrated!==null?(Xt(Zt,Zt.current&1),t.flags|=128,null):n&t.child.childLanes?hC(i,t,n):(Xt(Zt,Zt.current&1),i=Ns(i,t,n),i!==null?i.sibling:null);Xt(Zt,Zt.current&1);break;case 19:if(m=(n&t.childLanes)!==0,i.flags&128){if(m)return lC(i,t,n);t.flags|=128}if(C=t.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),Xt(Zt,Zt.current),m)break;return null;case 22:case 23:return t.lanes=0,rC(i,t,n)}return Ns(i,t,n)}var uC,bv,fC,dC;uC=function(i,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)i.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bv=function(){};fC=function(i,t,n,m){var C=i.memoizedProps;if(C!==m){i=t.stateNode,sr(vs.current);var M=null;switch(n){case"input":C=sv(i,C),m=sv(i,m),M=[];break;case"select":C=Jt({},C,{value:void 0}),m=Jt({},m,{value:void 0}),M=[];break;case"textarea":C=av(i,C),m=av(i,m),M=[];break;default:typeof C.onClick!="function"&&typeof m.onClick=="function"&&(i.onclick=cu)}hv(n,m);var h;n=null;for(f in C)if(!m.hasOwnProperty(f)&&C.hasOwnProperty(f)&&C[f]!=null)if(f==="style"){var y=C[f];for(h in y)y.hasOwnProperty(h)&&(n||(n={}),n[h]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Vo.hasOwnProperty(f)?M||(M=[]):(M=M||[]).push(f,null));for(f in m){var e=m[f];if(y=C!=null?C[f]:void 0,m.hasOwnProperty(f)&&e!==y&&(e!=null||y!=null))if(f==="style")if(y){for(h in y)!y.hasOwnProperty(h)||e&&e.hasOwnProperty(h)||(n||(n={}),n[h]="");for(h in e)e.hasOwnProperty(h)&&y[h]!==e[h]&&(n||(n={}),n[h]=e[h])}else n||(M||(M=[]),M.push(f,n)),n=e;else f==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,y=y?y.__html:void 0,e!=null&&y!==e&&(M=M||[]).push(f,e)):f==="children"?typeof e!="string"&&typeof e!="number"||(M=M||[]).push(f,""+e):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Vo.hasOwnProperty(f)?(e!=null&&f==="onScroll"&&Yt("scroll",i),M||y===e||(M=[])):(M=M||[]).push(f,e))}n&&(M=M||[]).push("style",n);var f=M;(t.updateQueue=f)&&(t.flags|=4)}};dC=function(i,t,n,m){n!==m&&(t.flags|=4)};function ja(i,t){if(!$t)switch(i.tailMode){case"hidden":t=i.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?i.tail=null:n.sibling=null;break;case"collapsed":n=i.tail;for(var m=null;n!==null;)n.alternate!==null&&(m=n),n=n.sibling;m===null?t||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Re(i){var t=i.alternate!==null&&i.alternate.child===i.child,n=0,m=0;if(t)for(var C=i.child;C!==null;)n|=C.lanes|C.childLanes,m|=C.subtreeFlags&14680064,m|=C.flags&14680064,C.return=i,C=C.sibling;else for(C=i.child;C!==null;)n|=C.lanes|C.childLanes,m|=C.subtreeFlags,m|=C.flags,C.return=i,C=C.sibling;return i.subtreeFlags|=m,i.childLanes=n,t}function e5(i,t,n){var m=t.pendingProps;switch(Lp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(t),null;case 1:return je(t.type)&&vu(),Re(t),null;case 3:return m=t.stateNode,Pa(),Wt(Ze),Wt(Ie),zp(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(i===null||i.child===null)&&(Xh(t)?t.flags|=4:i===null||i.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Yi!==null&&(Yv(Yi),Yi=null))),bv(i,t),Re(t),null;case 5:Vp(t);var C=sr(Jo.current);if(n=t.type,i!==null&&t.stateNode!=null)fC(i,t,n,m,C),i.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!m){if(t.stateNode===null)throw Error(ot(166));return Re(t),null}if(i=sr(vs.current),Xh(t)){m=t.stateNode,n=t.type;var M=t.memoizedProps;switch(m[ls]=t,m[Zo]=M,i=(t.mode&1)!==0,n){case"dialog":Yt("cancel",m),Yt("close",m);break;case"iframe":case"object":case"embed":Yt("load",m);break;case"video":case"audio":for(C=0;C<Ao.length;C++)Yt(Ao[C],m);break;case"source":Yt("error",m);break;case"img":case"image":case"link":Yt("error",m),Yt("load",m);break;case"details":Yt("toggle",m);break;case"input":$g(m,M),Yt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!M.multiple},Yt("invalid",m);break;case"textarea":Zg(m,M),Yt("invalid",m)}hv(n,M),C=null;for(var h in M)if(M.hasOwnProperty(h)){var y=M[h];h==="children"?typeof y=="string"?m.textContent!==y&&(M.suppressHydrationWarning!==!0&&Uh(m.textContent,y,i),C=["children",y]):typeof y=="number"&&m.textContent!==""+y&&(M.suppressHydrationWarning!==!0&&Uh(m.textContent,y,i),C=["children",""+y]):Vo.hasOwnProperty(h)&&y!=null&&h==="onScroll"&&Yt("scroll",m)}switch(n){case"input":Dh(m),Kg(m,M,!0);break;case"textarea":Dh(m),jg(m);break;case"select":case"option":break;default:typeof M.onClick=="function"&&(m.onclick=cu)}m=C,t.updateQueue=m,m!==null&&(t.flags|=4)}else{h=C.nodeType===9?C:C.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=z2(n)),i==="http://www.w3.org/1999/xhtml"?n==="script"?(i=h.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof m.is=="string"?i=h.createElement(n,{is:m.is}):(i=h.createElement(n),n==="select"&&(h=i,m.multiple?h.multiple=!0:m.size&&(h.size=m.size))):i=h.createElementNS(i,n),i[ls]=t,i[Zo]=m,uC(i,t,!1,!1),t.stateNode=i;t:{switch(h=lv(n,m),n){case"dialog":Yt("cancel",i),Yt("close",i),C=m;break;case"iframe":case"object":case"embed":Yt("load",i),C=m;break;case"video":case"audio":for(C=0;C<Ao.length;C++)Yt(Ao[C],i);C=m;break;case"source":Yt("error",i),C=m;break;case"img":case"image":case"link":Yt("error",i),Yt("load",i),C=m;break;case"details":Yt("toggle",i),C=m;break;case"input":$g(i,m),C=sv(i,m),Yt("invalid",i);break;case"option":C=m;break;case"select":i._wrapperState={wasMultiple:!!m.multiple},C=Jt({},m,{value:void 0}),Yt("invalid",i);break;case"textarea":Zg(i,m),C=av(i,m),Yt("invalid",i);break;default:C=m}hv(n,C),y=C;for(M in y)if(y.hasOwnProperty(M)){var e=y[M];M==="style"?X2(i,e):M==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,e!=null&&k2(i,e)):M==="children"?typeof e=="string"?(n!=="textarea"||e!=="")&&zo(i,e):typeof e=="number"&&zo(i,""+e):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(Vo.hasOwnProperty(M)?e!=null&&M==="onScroll"&&Yt("scroll",i):e!=null&&pp(i,M,e,h))}switch(n){case"input":Dh(i),Kg(i,m,!1);break;case"textarea":Dh(i),jg(i);break;case"option":m.value!=null&&i.setAttribute("value",""+yn(m.value));break;case"select":i.multiple=!!m.multiple,M=m.value,M!=null?ca(i,!!m.multiple,M,!1):m.defaultValue!=null&&ca(i,!!m.multiple,m.defaultValue,!0);break;default:typeof C.onClick=="function"&&(i.onclick=cu)}switch(n){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break t;case"img":m=!0;break t;default:m=!1}}m&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Re(t),null;case 6:if(i&&t.stateNode!=null)dC(i,t,i.memoizedProps,m);else{if(typeof m!="string"&&t.stateNode===null)throw Error(ot(166));if(n=sr(Jo.current),sr(vs.current),Xh(t)){if(m=t.stateNode,n=t.memoizedProps,m[ls]=t,(M=m.nodeValue!==n)&&(i=ai,i!==null))switch(i.tag){case 3:Uh(m.nodeValue,n,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Uh(m.nodeValue,n,(i.mode&1)!==0)}M&&(t.flags|=4)}else m=(n.nodeType===9?n:n.ownerDocument).createTextNode(m),m[ls]=t,t.stateNode=m}return Re(t),null;case 13:if(Wt(Zt),m=t.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if($t&&ri!==null&&t.mode&1&&!(t.flags&128))OT(),Ma(),t.flags|=98560,M=!1;else if(M=Xh(t),m!==null&&m.dehydrated!==null){if(i===null){if(!M)throw Error(ot(318));if(M=t.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(ot(317));M[ls]=t}else Ma(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Re(t),M=!1}else Yi!==null&&(Yv(Yi),Yi=null),M=!0;if(!M)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(m=m!==null,m!==(i!==null&&i.memoizedState!==null)&&m&&(t.child.flags|=8192,t.mode&1&&(i===null||Zt.current&1?fe===0&&(fe=3):Qp())),t.updateQueue!==null&&(t.flags|=4),Re(t),null);case 4:return Pa(),bv(i,t),i===null&&$o(t.stateNode.containerInfo),Re(t),null;case 10:return Bp(t.type._context),Re(t),null;case 17:return je(t.type)&&vu(),Re(t),null;case 19:if(Wt(Zt),M=t.memoizedState,M===null)return Re(t),null;if(m=(t.flags&128)!==0,h=M.rendering,h===null)if(m)ja(M,!1);else{if(fe!==0||i!==null&&i.flags&128)for(i=t.child;i!==null;){if(h=Cu(i),h!==null){for(t.flags|=128,ja(M,!1),m=h.updateQueue,m!==null&&(t.updateQueue=m,t.flags|=4),t.subtreeFlags=0,m=n,n=t.child;n!==null;)M=n,i=m,M.flags&=14680066,h=M.alternate,h===null?(M.childLanes=0,M.lanes=i,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=h.childLanes,M.lanes=h.lanes,M.child=h.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=h.memoizedProps,M.memoizedState=h.memoizedState,M.updateQueue=h.updateQueue,M.type=h.type,i=h.dependencies,M.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n=n.sibling;return Xt(Zt,Zt.current&1|2),t.child}i=i.sibling}M.tail!==null&&te()>Aa&&(t.flags|=128,m=!0,ja(M,!1),t.lanes=4194304)}else{if(!m)if(i=Cu(h),i!==null){if(t.flags|=128,m=!0,n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ja(M,!0),M.tail===null&&M.tailMode==="hidden"&&!h.alternate&&!$t)return Re(t),null}else 2*te()-M.renderingStartTime>Aa&&n!==1073741824&&(t.flags|=128,m=!0,ja(M,!1),t.lanes=4194304);M.isBackwards?(h.sibling=t.child,t.child=h):(n=M.last,n!==null?n.sibling=h:t.child=h,M.last=h)}return M.tail!==null?(t=M.tail,M.rendering=t,M.tail=t.sibling,M.renderingStartTime=te(),t.sibling=null,n=Zt.current,Xt(Zt,m?n&1|2:n&1),t):(Re(t),null);case 22:case 23:return Jp(),m=t.memoizedState!==null,i!==null&&i.memoizedState!==null!==m&&(t.flags|=8192),m&&t.mode&1?ni&1073741824&&(Re(t),t.subtreeFlags&6&&(t.flags|=8192)):Re(t),null;case 24:return null;case 25:return null}throw Error(ot(156,t.tag))}function i5(i,t){switch(Lp(t),t.tag){case 1:return je(t.type)&&vu(),i=t.flags,i&65536?(t.flags=i&-65537|128,t):null;case 3:return Pa(),Wt(Ze),Wt(Ie),zp(),i=t.flags,i&65536&&!(i&128)?(t.flags=i&-65537|128,t):null;case 5:return Vp(t),null;case 13:if(Wt(Zt),i=t.memoizedState,i!==null&&i.dehydrated!==null){if(t.alternate===null)throw Error(ot(340));Ma()}return i=t.flags,i&65536?(t.flags=i&-65537|128,t):null;case 19:return Wt(Zt),null;case 4:return Pa(),null;case 10:return Bp(t.type._context),null;case 22:case 23:return Jp(),null;case 24:return null;default:return null}}var Hh=!1,Le=!1,s5=typeof WeakSet=="function"?WeakSet:Set,ut=null;function la(i,t){var n=i.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(m){_t(i,t,m)}else n.current=null}function Gv(i,t,n){try{n()}catch(m){_t(i,t,m)}}var Vm=!1;function n5(i,t){if(yv=uu,i=gT(),wp(i)){if("selectionStart"in i)var n={start:i.selectionStart,end:i.selectionEnd};else t:{n=(n=i.ownerDocument)&&n.defaultView||window;var m=n.getSelection&&n.getSelection();if(m&&m.rangeCount!==0){n=m.anchorNode;var C=m.anchorOffset,M=m.focusNode;m=m.focusOffset;try{n.nodeType,M.nodeType}catch{n=null;break t}var h=0,y=-1,e=-1,f=0,c=0,s=i,a=null;e:for(;;){for(var r;s!==n||C!==0&&s.nodeType!==3||(y=h+C),s!==M||m!==0&&s.nodeType!==3||(e=h+m),s.nodeType===3&&(h+=s.nodeValue.length),(r=s.firstChild)!==null;)a=s,s=r;for(;;){if(s===i)break e;if(a===n&&++f===C&&(y=h),a===M&&++c===m&&(e=h),(r=s.nextSibling)!==null)break;s=a,a=s.parentNode}s=r}n=y===-1||e===-1?null:{start:y,end:e}}else n=null}n=n||{start:0,end:0}}else n=null;for(Tv={focusedElem:i,selectionRange:n},uu=!1,ut=t;ut!==null;)if(t=ut,i=t.child,(t.subtreeFlags&1028)!==0&&i!==null)i.return=t,ut=i;else for(;ut!==null;){t=ut;try{var o=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(o!==null){var l=o.memoizedProps,v=o.memoizedState,u=t.stateNode,d=u.getSnapshotBeforeUpdate(t.elementType===t.type?l:ki(t.type,l),v);u.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ot(163))}}catch(g){_t(t,t.return,g)}if(i=t.sibling,i!==null){i.return=t.return,ut=i;break}ut=t.return}return o=Vm,Vm=!1,o}function Bo(i,t,n){var m=t.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var C=m=m.next;do{if((C.tag&i)===i){var M=C.destroy;C.destroy=void 0,M!==void 0&&Gv(t,n,M)}C=C.next}while(C!==m)}}function $u(i,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&i)===i){var m=n.create;n.destroy=m()}n=n.next}while(n!==t)}}function Nv(i){var t=i.ref;if(t!==null){var n=i.stateNode;switch(i.tag){case 5:i=n;break;default:i=n}typeof t=="function"?t(i):t.current=i}}function cC(i){var t=i.alternate;t!==null&&(i.alternate=null,cC(t)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(t=i.stateNode,t!==null&&(delete t[ls],delete t[Zo],delete t[Mv],delete t[k3],delete t[U3])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function vC(i){return i.tag===5||i.tag===3||i.tag===4}function zm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||vC(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Vv(i,t,n){var m=i.tag;if(m===5||m===6)i=i.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(i,t):n.insertBefore(i,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(i,n)):(t=n,t.appendChild(i)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=cu));else if(m!==4&&(i=i.child,i!==null))for(Vv(i,t,n),i=i.sibling;i!==null;)Vv(i,t,n),i=i.sibling}function zv(i,t,n){var m=i.tag;if(m===5||m===6)i=i.stateNode,t?n.insertBefore(i,t):n.appendChild(i);else if(m!==4&&(i=i.child,i!==null))for(zv(i,t,n),i=i.sibling;i!==null;)zv(i,t,n),i=i.sibling}var Te=null,Ui=!1;function Xs(i,t,n){for(n=n.child;n!==null;)pC(i,t,n),n=n.sibling}function pC(i,t,n){if(cs&&typeof cs.onCommitFiberUnmount=="function")try{cs.onCommitFiberUnmount(Vu,n)}catch{}switch(n.tag){case 5:Le||la(n,t);case 6:var m=Te,C=Ui;Te=null,Xs(i,t,n),Te=m,Ui=C,Te!==null&&(Ui?(i=Te,n=n.stateNode,i.nodeType===8?i.parentNode.removeChild(n):i.removeChild(n)):Te.removeChild(n.stateNode));break;case 18:Te!==null&&(Ui?(i=Te,n=n.stateNode,i.nodeType===8?ld(i.parentNode,n):i.nodeType===1&&ld(i,n),Yo(i)):ld(Te,n.stateNode));break;case 4:m=Te,C=Ui,Te=n.stateNode.containerInfo,Ui=!0,Xs(i,t,n),Te=m,Ui=C;break;case 0:case 11:case 14:case 15:if(!Le&&(m=n.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){C=m=m.next;do{var M=C,h=M.destroy;M=M.tag,h!==void 0&&(M&2||M&4)&&Gv(n,t,h),C=C.next}while(C!==m)}Xs(i,t,n);break;case 1:if(!Le&&(la(n,t),m=n.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=n.memoizedProps,m.state=n.memoizedState,m.componentWillUnmount()}catch(y){_t(n,t,y)}Xs(i,t,n);break;case 21:Xs(i,t,n);break;case 22:n.mode&1?(Le=(m=Le)||n.memoizedState!==null,Xs(i,t,n),Le=m):Xs(i,t,n);break;default:Xs(i,t,n)}}function km(i){var t=i.updateQueue;if(t!==null){i.updateQueue=null;var n=i.stateNode;n===null&&(n=i.stateNode=new s5),t.forEach(function(m){var C=c5.bind(null,i,m);n.has(m)||(n.add(m),m.then(C,C))})}}function Fi(i,t){var n=t.deletions;if(n!==null)for(var m=0;m<n.length;m++){var C=n[m];try{var M=i,h=t,y=h;t:for(;y!==null;){switch(y.tag){case 5:Te=y.stateNode,Ui=!1;break t;case 3:Te=y.stateNode.containerInfo,Ui=!0;break t;case 4:Te=y.stateNode.containerInfo,Ui=!0;break t}y=y.return}if(Te===null)throw Error(ot(160));pC(M,h,C),Te=null,Ui=!1;var e=C.alternate;e!==null&&(e.return=null),C.return=null}catch(f){_t(C,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)gC(t,i),t=t.sibling}function gC(i,t){var n=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Fi(t,i),Ji(i),m&4){try{Bo(3,i,i.return),$u(3,i)}catch(l){_t(i,i.return,l)}try{Bo(5,i,i.return)}catch(l){_t(i,i.return,l)}}break;case 1:Fi(t,i),Ji(i),m&512&&n!==null&&la(n,n.return);break;case 5:if(Fi(t,i),Ji(i),m&512&&n!==null&&la(n,n.return),i.flags&32){var C=i.stateNode;try{zo(C,"")}catch(l){_t(i,i.return,l)}}if(m&4&&(C=i.stateNode,C!=null)){var M=i.memoizedProps,h=n!==null?n.memoizedProps:M,y=i.type,e=i.updateQueue;if(i.updateQueue=null,e!==null)try{y==="input"&&M.type==="radio"&&M.name!=null&&N2(C,M),lv(y,h);var f=lv(y,M);for(h=0;h<e.length;h+=2){var c=e[h],s=e[h+1];c==="style"?X2(C,s):c==="dangerouslySetInnerHTML"?k2(C,s):c==="children"?zo(C,s):pp(C,c,s,f)}switch(y){case"input":nv(C,M);break;case"textarea":V2(C,M);break;case"select":var a=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!M.multiple;var r=M.value;r!=null?ca(C,!!M.multiple,r,!1):a!==!!M.multiple&&(M.defaultValue!=null?ca(C,!!M.multiple,M.defaultValue,!0):ca(C,!!M.multiple,M.multiple?[]:"",!1))}C[Zo]=M}catch(l){_t(i,i.return,l)}}break;case 6:if(Fi(t,i),Ji(i),m&4){if(i.stateNode===null)throw Error(ot(162));C=i.stateNode,M=i.memoizedProps;try{C.nodeValue=M}catch(l){_t(i,i.return,l)}}break;case 3:if(Fi(t,i),Ji(i),m&4&&n!==null&&n.memoizedState.isDehydrated)try{Yo(t.containerInfo)}catch(l){_t(i,i.return,l)}break;case 4:Fi(t,i),Ji(i);break;case 13:Fi(t,i),Ji(i),C=i.child,C.flags&8192&&(M=C.memoizedState!==null,C.stateNode.isHidden=M,!M||C.alternate!==null&&C.alternate.memoizedState!==null||(Zp=te())),m&4&&km(i);break;case 22:if(c=n!==null&&n.memoizedState!==null,i.mode&1?(Le=(f=Le)||c,Fi(t,i),Le=f):Fi(t,i),Ji(i),m&8192){if(f=i.memoizedState!==null,(i.stateNode.isHidden=f)&&!c&&i.mode&1)for(ut=i,c=i.child;c!==null;){for(s=ut=c;ut!==null;){switch(a=ut,r=a.child,a.tag){case 0:case 11:case 14:case 15:Bo(4,a,a.return);break;case 1:la(a,a.return);var o=a.stateNode;if(typeof o.componentWillUnmount=="function"){m=a,n=a.return;try{t=m,o.props=t.memoizedProps,o.state=t.memoizedState,o.componentWillUnmount()}catch(l){_t(m,n,l)}}break;case 5:la(a,a.return);break;case 22:if(a.memoizedState!==null){Xm(s);continue}}r!==null?(r.return=a,ut=r):Xm(s)}c=c.sibling}t:for(c=null,s=i;;){if(s.tag===5){if(c===null){c=s;try{C=s.stateNode,f?(M=C.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none"):(y=s.stateNode,e=s.memoizedProps.style,h=e!=null&&e.hasOwnProperty("display")?e.display:null,y.style.display=U2("display",h))}catch(l){_t(i,i.return,l)}}}else if(s.tag===6){if(c===null)try{s.stateNode.nodeValue=f?"":s.memoizedProps}catch(l){_t(i,i.return,l)}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}}break;case 19:Fi(t,i),Ji(i),m&4&&km(i);break;case 21:break;default:Fi(t,i),Ji(i)}}function Ji(i){var t=i.flags;if(t&2){try{t:{for(var n=i.return;n!==null;){if(vC(n)){var m=n;break t}n=n.return}throw Error(ot(160))}switch(m.tag){case 5:var C=m.stateNode;m.flags&32&&(zo(C,""),m.flags&=-33);var M=zm(i);zv(i,M,C);break;case 3:case 4:var h=m.stateNode.containerInfo,y=zm(i);Vv(i,y,h);break;default:throw Error(ot(161))}}catch(e){_t(i,i.return,e)}i.flags&=-3}t&4096&&(i.flags&=-4097)}function r5(i,t,n){ut=i,mC(i)}function mC(i,t,n){for(var m=(i.mode&1)!==0;ut!==null;){var C=ut,M=C.child;if(C.tag===22&&m){var h=C.memoizedState!==null||Hh;if(!h){var y=C.alternate,e=y!==null&&y.memoizedState!==null||Le;y=Hh;var f=Le;if(Hh=h,(Le=e)&&!f)for(ut=C;ut!==null;)h=ut,e=h.child,h.tag===22&&h.memoizedState!==null?Ym(C):e!==null?(e.return=h,ut=e):Ym(C);for(;M!==null;)ut=M,mC(M),M=M.sibling;ut=C,Hh=y,Le=f}Um(i)}else C.subtreeFlags&8772&&M!==null?(M.return=C,ut=M):Um(i)}}function Um(i){for(;ut!==null;){var t=ut;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Le||$u(5,t);break;case 1:var m=t.stateNode;if(t.flags&4&&!Le)if(n===null)m.componentDidMount();else{var C=t.elementType===t.type?n.memoizedProps:ki(t.type,n.memoizedProps);m.componentDidUpdate(C,n.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var M=t.updateQueue;M!==null&&Em(t,M,m);break;case 3:var h=t.updateQueue;if(h!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Em(t,h,n)}break;case 5:var y=t.stateNode;if(n===null&&t.flags&4){n=y;var e=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":e.autoFocus&&n.focus();break;case"img":e.src&&(n.src=e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var c=f.memoizedState;if(c!==null){var s=c.dehydrated;s!==null&&Yo(s)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ot(163))}Le||t.flags&512&&Nv(t)}catch(a){_t(t,t.return,a)}}if(t===i){ut=null;break}if(n=t.sibling,n!==null){n.return=t.return,ut=n;break}ut=t.return}}function Xm(i){for(;ut!==null;){var t=ut;if(t===i){ut=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ut=n;break}ut=t.return}}function Ym(i){for(;ut!==null;){var t=ut;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{$u(4,t)}catch(e){_t(t,n,e)}break;case 1:var m=t.stateNode;if(typeof m.componentDidMount=="function"){var C=t.return;try{m.componentDidMount()}catch(e){_t(t,C,e)}}var M=t.return;try{Nv(t)}catch(e){_t(t,M,e)}break;case 5:var h=t.return;try{Nv(t)}catch(e){_t(t,h,e)}}}catch(e){_t(t,t.return,e)}if(t===i){ut=null;break}var y=t.sibling;if(y!==null){y.return=t.return,ut=y;break}ut=t.return}}var a5=Math.ceil,Eu=Vs.ReactCurrentDispatcher,$p=Vs.ReactCurrentOwner,Mi=Vs.ReactCurrentBatchConfig,At=0,ge=null,ne=null,Me=0,ni=0,ua=En(0),fe=0,th=null,ur=0,Ku=0,Kp=0,bo=null,$e=null,Zp=0,Aa=1/0,Ps=null,Pu=!1,kv=null,vn=null,$h=!1,on=null,Ru=0,Go=0,Uv=null,Ql=-1,ql=0;function Ge(){return At&6?te():Ql!==-1?Ql:Ql=te()}function pn(i){return i.mode&1?At&2&&Me!==0?Me&-Me:Y3.transition!==null?(ql===0&&(ql=tT()),ql):(i=Ft,i!==0||(i=window.event,i=i===void 0?16:oT(i.type)),i):1}function Hi(i,t,n,m){if(50<Go)throw Go=0,Uv=null,Error(ot(185));lh(i,n,m),(!(At&2)||i!==ge)&&(i===ge&&(!(At&2)&&(Ku|=n),fe===4&&en(i,Me)),Je(i,m),n===1&&At===0&&!(t.mode&1)&&(Aa=te()+500,Yu&&Pn()))}function Je(i,t){var n=i.callbackNode;YP(i,t);var m=lu(i,i===ge?Me:0);if(m===0)n!==null&&qg(n),i.callbackNode=null,i.callbackPriority=0;else if(t=m&-m,i.callbackPriority!==t){if(n!=null&&qg(n),t===1)i.tag===0?X3(Wm.bind(null,i)):RT(Wm.bind(null,i)),V3(function(){!(At&6)&&Pn()}),n=null;else{switch(eT(m)){case 1:n=Tp;break;case 4:n=q2;break;case 16:n=hu;break;case 536870912:n=_2;break;default:n=hu}n=PC(n,xC.bind(null,i))}i.callbackPriority=t,i.callbackNode=n}}function xC(i,t){if(Ql=-1,ql=0,At&6)throw Error(ot(327));var n=i.callbackNode;if(xa()&&i.callbackNode!==n)return null;var m=lu(i,i===ge?Me:0);if(m===0)return null;if(m&30||m&i.expiredLanes||t)t=Au(i,m);else{t=m;var C=At;At|=2;var M=TC();(ge!==i||Me!==t)&&(Ps=null,Aa=te()+500,nr(i,t));do try{l5();break}catch(y){yC(i,y)}while(1);Dp(),Eu.current=M,At=C,ne!==null?t=0:(ge=null,Me=0,t=fe)}if(t!==0){if(t===2&&(C=vv(i),C!==0&&(m=C,t=Xv(i,C))),t===1)throw n=th,nr(i,0),en(i,m),Je(i,te()),n;if(t===6)en(i,m);else{if(C=i.current.alternate,!(m&30)&&!o5(C)&&(t=Au(i,m),t===2&&(M=vv(i),M!==0&&(m=M,t=Xv(i,M))),t===1))throw n=th,nr(i,0),en(i,m),Je(i,te()),n;switch(i.finishedWork=C,i.finishedLanes=m,t){case 0:case 1:throw Error(ot(345));case 2:_n(i,$e,Ps);break;case 3:if(en(i,m),(m&130023424)===m&&(t=Zp+500-te(),10<t)){if(lu(i,0)!==0)break;if(C=i.suspendedLanes,(C&m)!==m){Ge(),i.pingedLanes|=i.suspendedLanes&C;break}i.timeoutHandle=Sv(_n.bind(null,i,$e,Ps),t);break}_n(i,$e,Ps);break;case 4:if(en(i,m),(m&4194240)===m)break;for(t=i.eventTimes,C=-1;0<m;){var h=31-Wi(m);M=1<<h,h=t[h],h>C&&(C=h),m&=~M}if(m=C,m=te()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*a5(m/1960))-m,10<m){i.timeoutHandle=Sv(_n.bind(null,i,$e,Ps),m);break}_n(i,$e,Ps);break;case 5:_n(i,$e,Ps);break;default:throw Error(ot(329))}}}return Je(i,te()),i.callbackNode===n?xC.bind(null,i):null}function Xv(i,t){var n=bo;return i.current.memoizedState.isDehydrated&&(nr(i,t).flags|=256),i=Au(i,t),i!==2&&(t=$e,$e=n,t!==null&&Yv(t)),i}function Yv(i){$e===null?$e=i:$e.push.apply($e,i)}function o5(i){for(var t=i;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var m=0;m<n.length;m++){var C=n[m],M=C.getSnapshot;C=C.value;try{if(!$i(M(),C))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===i)break;for(;t.sibling===null;){if(t.return===null||t.return===i)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function en(i,t){for(t&=~Kp,t&=~Ku,i.suspendedLanes|=t,i.pingedLanes&=~t,i=i.expirationTimes;0<t;){var n=31-Wi(t),m=1<<n;i[n]=-1,t&=~m}}function Wm(i){if(At&6)throw Error(ot(327));xa();var t=lu(i,0);if(!(t&1))return Je(i,te()),null;var n=Au(i,t);if(i.tag!==0&&n===2){var m=vv(i);m!==0&&(t=m,n=Xv(i,m))}if(n===1)throw n=th,nr(i,0),en(i,t),Je(i,te()),n;if(n===6)throw Error(ot(345));return i.finishedWork=i.current.alternate,i.finishedLanes=t,_n(i,$e,Ps),Je(i,te()),null}function jp(i,t){var n=At;At|=1;try{return i(t)}finally{At=n,At===0&&(Aa=te()+500,Yu&&Pn())}}function fr(i){on!==null&&on.tag===0&&!(At&6)&&xa();var t=At;At|=1;var n=Mi.transition,m=Ft;try{if(Mi.transition=null,Ft=1,i)return i()}finally{Ft=m,Mi.transition=n,At=t,!(At&6)&&Pn()}}function Jp(){ni=ua.current,Wt(ua)}function nr(i,t){i.finishedWork=null,i.finishedLanes=0;var n=i.timeoutHandle;if(n!==-1&&(i.timeoutHandle=-1,N3(n)),ne!==null)for(n=ne.return;n!==null;){var m=n;switch(Lp(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&vu();break;case 3:Pa(),Wt(Ze),Wt(Ie),zp();break;case 5:Vp(m);break;case 4:Pa();break;case 13:Wt(Zt);break;case 19:Wt(Zt);break;case 10:Bp(m.type._context);break;case 22:case 23:Jp()}n=n.return}if(ge=i,ne=i=gn(i.current,null),Me=ni=t,fe=0,th=null,Kp=Ku=ur=0,$e=bo=null,ir!==null){for(t=0;t<ir.length;t++)if(n=ir[t],m=n.interleaved,m!==null){n.interleaved=null;var C=m.next,M=n.pending;if(M!==null){var h=M.next;M.next=C,m.next=h}n.pending=m}ir=null}return i}function yC(i,t){do{var n=ne;try{if(Dp(),Zl.current=Mu,Su){for(var m=jt.memoizedState;m!==null;){var C=m.queue;C!==null&&(C.pending=null),m=m.next}Su=!1}if(lr=0,ve=ue=jt=null,Do=!1,Qo=0,$p.current=null,n===null||n.return===null){fe=1,th=t,ne=null;break}t:{var M=i,h=n.return,y=n,e=t;if(t=Me,y.flags|=32768,e!==null&&typeof e=="object"&&typeof e.then=="function"){var f=e,c=y,s=c.tag;if(!(c.mode&1)&&(s===0||s===11||s===15)){var a=c.alternate;a?(c.updateQueue=a.updateQueue,c.memoizedState=a.memoizedState,c.lanes=a.lanes):(c.updateQueue=null,c.memoizedState=null)}var r=Fm(h);if(r!==null){r.flags&=-257,Im(r,h,y,M,t),r.mode&1&&Lm(M,f,t),t=r,e=f;var o=t.updateQueue;if(o===null){var l=new Set;l.add(e),t.updateQueue=l}else o.add(e);break t}else{if(!(t&1)){Lm(M,f,t),Qp();break t}e=Error(ot(426))}}else if($t&&y.mode&1){var v=Fm(h);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Im(v,h,y,M,t),Fp(Ra(e,y));break t}}M=e=Ra(e,y),fe!==4&&(fe=2),bo===null?bo=[M]:bo.push(M),M=h;do{switch(M.tag){case 3:M.flags|=65536,t&=-t,M.lanes|=t;var u=iC(M,e,t);Mm(M,u);break t;case 1:y=e;var d=M.type,p=M.stateNode;if(!(M.flags&128)&&(typeof d.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(vn===null||!vn.has(p)))){M.flags|=65536,t&=-t,M.lanes|=t;var g=sC(M,y,t);Mm(M,g);break t}}M=M.return}while(M!==null)}SC(n)}catch(x){t=x,ne===n&&n!==null&&(ne=n=n.return);continue}break}while(1)}function TC(){var i=Eu.current;return Eu.current=Mu,i===null?Mu:i}function Qp(){(fe===0||fe===3||fe===2)&&(fe=4),ge===null||!(ur&268435455)&&!(Ku&268435455)||en(ge,Me)}function Au(i,t){var n=At;At|=2;var m=TC();(ge!==i||Me!==t)&&(Ps=null,nr(i,t));do try{h5();break}catch(C){yC(i,C)}while(1);if(Dp(),At=n,Eu.current=m,ne!==null)throw Error(ot(261));return ge=null,Me=0,fe}function h5(){for(;ne!==null;)CC(ne)}function l5(){for(;ne!==null&&!BP();)CC(ne)}function CC(i){var t=EC(i.alternate,i,ni);i.memoizedProps=i.pendingProps,t===null?SC(i):ne=t,$p.current=null}function SC(i){var t=i;do{var n=t.alternate;if(i=t.return,t.flags&32768){if(n=i5(n,t),n!==null){n.flags&=32767,ne=n;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{fe=6,ne=null;return}}else if(n=e5(n,t,ni),n!==null){ne=n;return}if(t=t.sibling,t!==null){ne=t;return}ne=t=i}while(t!==null);fe===0&&(fe=5)}function _n(i,t,n){var m=Ft,C=Mi.transition;try{Mi.transition=null,Ft=1,u5(i,t,n,m)}finally{Mi.transition=C,Ft=m}return null}function u5(i,t,n,m){do xa();while(on!==null);if(At&6)throw Error(ot(327));n=i.finishedWork;var C=i.finishedLanes;if(n===null)return null;if(i.finishedWork=null,i.finishedLanes=0,n===i.current)throw Error(ot(177));i.callbackNode=null,i.callbackPriority=0;var M=n.lanes|n.childLanes;if(WP(i,M),i===ge&&(ne=ge=null,Me=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$h||($h=!0,PC(hu,function(){return xa(),null})),M=(n.flags&15990)!==0,n.subtreeFlags&15990||M){M=Mi.transition,Mi.transition=null;var h=Ft;Ft=1;var y=At;At|=4,$p.current=null,n5(i,n),gC(n,i),L3(Tv),uu=!!yv,Tv=yv=null,i.current=n,r5(n),bP(),At=y,Ft=h,Mi.transition=M}else i.current=n;if($h&&($h=!1,on=i,Ru=C),M=i.pendingLanes,M===0&&(vn=null),VP(n.stateNode),Je(i,te()),t!==null)for(m=i.onRecoverableError,n=0;n<t.length;n++)C=t[n],m(C.value,{componentStack:C.stack,digest:C.digest});if(Pu)throw Pu=!1,i=kv,kv=null,i;return Ru&1&&i.tag!==0&&xa(),M=i.pendingLanes,M&1?i===Uv?Go++:(Go=0,Uv=i):Go=0,Pn(),null}function xa(){if(on!==null){var i=eT(Ru),t=Mi.transition,n=Ft;try{if(Mi.transition=null,Ft=16>i?16:i,on===null)var m=!1;else{if(i=on,on=null,Ru=0,At&6)throw Error(ot(331));var C=At;for(At|=4,ut=i.current;ut!==null;){var M=ut,h=M.child;if(ut.flags&16){var y=M.deletions;if(y!==null){for(var e=0;e<y.length;e++){var f=y[e];for(ut=f;ut!==null;){var c=ut;switch(c.tag){case 0:case 11:case 15:Bo(8,c,M)}var s=c.child;if(s!==null)s.return=c,ut=s;else for(;ut!==null;){c=ut;var a=c.sibling,r=c.return;if(cC(c),c===f){ut=null;break}if(a!==null){a.return=r,ut=a;break}ut=r}}}var o=M.alternate;if(o!==null){var l=o.child;if(l!==null){o.child=null;do{var v=l.sibling;l.sibling=null,l=v}while(l!==null)}}ut=M}}if(M.subtreeFlags&2064&&h!==null)h.return=M,ut=h;else t:for(;ut!==null;){if(M=ut,M.flags&2048)switch(M.tag){case 0:case 11:case 15:Bo(9,M,M.return)}var u=M.sibling;if(u!==null){u.return=M.return,ut=u;break t}ut=M.return}}var d=i.current;for(ut=d;ut!==null;){h=ut;var p=h.child;if(h.subtreeFlags&2064&&p!==null)p.return=h,ut=p;else t:for(h=d;ut!==null;){if(y=ut,y.flags&2048)try{switch(y.tag){case 0:case 11:case 15:$u(9,y)}}catch(x){_t(y,y.return,x)}if(y===h){ut=null;break t}var g=y.sibling;if(g!==null){g.return=y.return,ut=g;break t}ut=y.return}}if(At=C,Pn(),cs&&typeof cs.onPostCommitFiberRoot=="function")try{cs.onPostCommitFiberRoot(Vu,i)}catch{}m=!0}return m}finally{Ft=n,Mi.transition=t}}return!1}function Hm(i,t,n){t=Ra(n,t),t=iC(i,t,1),i=cn(i,t,1),t=Ge(),i!==null&&(lh(i,1,t),Je(i,t))}function _t(i,t,n){if(i.tag===3)Hm(i,i,n);else for(;t!==null;){if(t.tag===3){Hm(t,i,n);break}else if(t.tag===1){var m=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(vn===null||!vn.has(m))){i=Ra(n,i),i=sC(t,i,1),t=cn(t,i,1),i=Ge(),t!==null&&(lh(t,1,i),Je(t,i));break}}t=t.return}}function f5(i,t,n){var m=i.pingCache;m!==null&&m.delete(t),t=Ge(),i.pingedLanes|=i.suspendedLanes&n,ge===i&&(Me&n)===n&&(fe===4||fe===3&&(Me&130023424)===Me&&500>te()-Zp?nr(i,0):Kp|=n),Je(i,t)}function MC(i,t){t===0&&(i.mode&1?(t=Gh,Gh<<=1,!(Gh&130023424)&&(Gh=4194304)):t=1);var n=Ge();i=Gs(i,t),i!==null&&(lh(i,t,n),Je(i,n))}function d5(i){var t=i.memoizedState,n=0;t!==null&&(n=t.retryLane),MC(i,n)}function c5(i,t){var n=0;switch(i.tag){case 13:var m=i.stateNode,C=i.memoizedState;C!==null&&(n=C.retryLane);break;case 19:m=i.stateNode;break;default:throw Error(ot(314))}m!==null&&m.delete(t),MC(i,n)}var EC;EC=function(i,t,n){if(i!==null)if(i.memoizedProps!==t.pendingProps||Ze.current)Ke=!0;else{if(!(i.lanes&n)&&!(t.flags&128))return Ke=!1,t5(i,t,n);Ke=!!(i.flags&131072)}else Ke=!1,$t&&t.flags&1048576&&AT(t,mu,t.index);switch(t.lanes=0,t.tag){case 2:var m=t.type;Jl(i,t),i=t.pendingProps;var C=Sa(t,Ie.current);ma(t,n),C=Up(null,t,m,i,C,n);var M=Xp();return t.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,je(m)?(M=!0,pu(t)):M=!1,t.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,Gp(t),C.updater=Wu,t.stateNode=C,C._reactInternals=t,Ov(t,m,i,n),t=Iv(null,t,m,!0,M,n)):(t.tag=0,$t&&M&&Op(t),be(null,t,C,n),t=t.child),t;case 16:m=t.elementType;t:{switch(Jl(i,t),i=t.pendingProps,C=m._init,m=C(m._payload),t.type=m,C=t.tag=p5(m),i=ki(m,i),C){case 0:t=Fv(null,t,m,i,n);break t;case 1:t=bm(null,t,m,i,n);break t;case 11:t=Dm(null,t,m,i,n);break t;case 14:t=Bm(null,t,m,ki(m.type,i),n);break t}throw Error(ot(306,m,""))}return t;case 0:return m=t.type,C=t.pendingProps,C=t.elementType===m?C:ki(m,C),Fv(i,t,m,C,n);case 1:return m=t.type,C=t.pendingProps,C=t.elementType===m?C:ki(m,C),bm(i,t,m,C,n);case 3:t:{if(oC(t),i===null)throw Error(ot(387));m=t.pendingProps,M=t.memoizedState,C=M.element,FT(i,t),Tu(t,m,null,n);var h=t.memoizedState;if(m=h.element,M.isDehydrated)if(M={element:m,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=M,t.memoizedState=M,t.flags&256){C=Ra(Error(ot(423)),t),t=Gm(i,t,m,n,C);break t}else if(m!==C){C=Ra(Error(ot(424)),t),t=Gm(i,t,m,n,C);break t}else for(ri=dn(t.stateNode.containerInfo.firstChild),ai=t,$t=!0,Yi=null,n=bT(t,null,m,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ma(),m===C){t=Ns(i,t,n);break t}be(i,t,m,n)}t=t.child}return t;case 5:return GT(t),i===null&&Rv(t),m=t.type,C=t.pendingProps,M=i!==null?i.memoizedProps:null,h=C.children,Cv(m,C)?h=null:M!==null&&Cv(m,M)&&(t.flags|=32),aC(i,t),be(i,t,h,n),t.child;case 6:return i===null&&Rv(t),null;case 13:return hC(i,t,n);case 4:return Np(t,t.stateNode.containerInfo),m=t.pendingProps,i===null?t.child=Ea(t,null,m,n):be(i,t,m,n),t.child;case 11:return m=t.type,C=t.pendingProps,C=t.elementType===m?C:ki(m,C),Dm(i,t,m,C,n);case 7:return be(i,t,t.pendingProps,n),t.child;case 8:return be(i,t,t.pendingProps.children,n),t.child;case 12:return be(i,t,t.pendingProps.children,n),t.child;case 10:t:{if(m=t.type._context,C=t.pendingProps,M=t.memoizedProps,h=C.value,Xt(xu,m._currentValue),m._currentValue=h,M!==null)if($i(M.value,h)){if(M.children===C.children&&!Ze.current){t=Ns(i,t,n);break t}}else for(M=t.child,M!==null&&(M.return=t);M!==null;){var y=M.dependencies;if(y!==null){h=M.child;for(var e=y.firstContext;e!==null;){if(e.context===m){if(M.tag===1){e=Ls(-1,n&-n),e.tag=2;var f=M.updateQueue;if(f!==null){f=f.shared;var c=f.pending;c===null?e.next=e:(e.next=c.next,c.next=e),f.pending=e}}M.lanes|=n,e=M.alternate,e!==null&&(e.lanes|=n),Av(M.return,n,t),y.lanes|=n;break}e=e.next}}else if(M.tag===10)h=M.type===t.type?null:M.child;else if(M.tag===18){if(h=M.return,h===null)throw Error(ot(341));h.lanes|=n,y=h.alternate,y!==null&&(y.lanes|=n),Av(h,n,t),h=M.sibling}else h=M.child;if(h!==null)h.return=M;else for(h=M;h!==null;){if(h===t){h=null;break}if(M=h.sibling,M!==null){M.return=h.return,h=M;break}h=h.return}M=h}be(i,t,C.children,n),t=t.child}return t;case 9:return C=t.type,m=t.pendingProps.children,ma(t,n),C=Ri(C),m=m(C),t.flags|=1,be(i,t,m,n),t.child;case 14:return m=t.type,C=ki(m,t.pendingProps),C=ki(m.type,C),Bm(i,t,m,C,n);case 15:return nC(i,t,t.type,t.pendingProps,n);case 17:return m=t.type,C=t.pendingProps,C=t.elementType===m?C:ki(m,C),Jl(i,t),t.tag=1,je(m)?(i=!0,pu(t)):i=!1,ma(t,n),DT(t,m,C),Ov(t,m,C,n),Iv(null,t,m,!0,i,n);case 19:return lC(i,t,n);case 22:return rC(i,t,n)}throw Error(ot(156,t.tag))};function PC(i,t){return Q2(i,t)}function v5(i,t,n,m){this.tag=i,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ti(i,t,n,m){return new v5(i,t,n,m)}function qp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function p5(i){if(typeof i=="function")return qp(i)?1:0;if(i!=null){if(i=i.$$typeof,i===mp)return 11;if(i===xp)return 14}return 2}function gn(i,t){var n=i.alternate;return n===null?(n=Ti(i.tag,t,i.key,i.mode),n.elementType=i.elementType,n.type=i.type,n.stateNode=i.stateNode,n.alternate=i,i.alternate=n):(n.pendingProps=t,n.type=i.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=i.flags&14680064,n.childLanes=i.childLanes,n.lanes=i.lanes,n.child=i.child,n.memoizedProps=i.memoizedProps,n.memoizedState=i.memoizedState,n.updateQueue=i.updateQueue,t=i.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=i.sibling,n.index=i.index,n.ref=i.ref,n}function _l(i,t,n,m,C,M){var h=2;if(m=i,typeof i=="function")qp(i)&&(h=1);else if(typeof i=="string")h=5;else t:switch(i){case ta:return rr(n.children,C,M,t);case gp:h=8,C|=8;break;case _c:return i=Ti(12,n,t,C|2),i.elementType=_c,i.lanes=M,i;case tv:return i=Ti(13,n,t,C),i.elementType=tv,i.lanes=M,i;case ev:return i=Ti(19,n,t,C),i.elementType=ev,i.lanes=M,i;case B2:return Zu(n,C,M,t);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case I2:h=10;break t;case D2:h=9;break t;case mp:h=11;break t;case xp:h=14;break t;case Qs:h=16,m=null;break t}throw Error(ot(130,i==null?i:typeof i,""))}return t=Ti(h,n,t,C),t.elementType=i,t.type=m,t.lanes=M,t}function rr(i,t,n,m){return i=Ti(7,i,m,t),i.lanes=n,i}function Zu(i,t,n,m){return i=Ti(22,i,m,t),i.elementType=B2,i.lanes=n,i.stateNode={isHidden:!1},i}function md(i,t,n){return i=Ti(6,i,null,t),i.lanes=n,i}function xd(i,t,n){return t=Ti(4,i.children!==null?i.children:[],i.key,t),t.lanes=n,t.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},t}function g5(i,t,n,m,C){this.tag=t,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qf(0),this.expirationTimes=qf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qf(0),this.identifierPrefix=m,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function _p(i,t,n,m,C,M,h,y,e){return i=new g5(i,t,n,y,e),t===1?(t=1,M===!0&&(t|=8)):t=0,M=Ti(3,null,null,t),i.current=M,M.stateNode=i,M.memoizedState={element:m,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gp(M),i}function m5(i,t,n){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_r,key:m==null?null:""+m,children:i,containerInfo:t,implementation:n}}function RC(i){if(!i)return Tn;i=i._reactInternals;t:{if(gr(i)!==i||i.tag!==1)throw Error(ot(170));var t=i;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(je(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(ot(171))}if(i.tag===1){var n=i.type;if(je(n))return PT(i,n,t)}return t}function AC(i,t,n,m,C,M,h,y,e){return i=_p(n,m,!0,i,C,M,h,y,e),i.context=RC(null),n=i.current,m=Ge(),C=pn(n),M=Ls(m,C),M.callback=t??null,cn(n,M,C),i.current.lanes=C,lh(i,C,m),Je(i,m),i}function ju(i,t,n,m){var C=t.current,M=Ge(),h=pn(C);return n=RC(n),t.context===null?t.context=n:t.pendingContext=n,t=Ls(M,h),t.payload={element:i},m=m===void 0?null:m,m!==null&&(t.callback=m),i=cn(C,t,h),i!==null&&(Hi(i,C,h,M),Kl(i,C,h)),h}function wu(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function $m(i,t){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var n=i.retryLane;i.retryLane=n!==0&&n<t?n:t}}function t0(i,t){$m(i,t),(i=i.alternate)&&$m(i,t)}function x5(){return null}var wC=typeof reportError=="function"?reportError:function(i){console.error(i)};function e0(i){this._internalRoot=i}Ju.prototype.render=e0.prototype.render=function(i){var t=this._internalRoot;if(t===null)throw Error(ot(409));ju(i,t,null,null)};Ju.prototype.unmount=e0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var t=i.containerInfo;fr(function(){ju(null,i,null,null)}),t[bs]=null}};function Ju(i){this._internalRoot=i}Ju.prototype.unstable_scheduleHydration=function(i){if(i){var t=nT();i={blockedOn:null,target:i,priority:t};for(var n=0;n<tn.length&&t!==0&&t<tn[n].priority;n++);tn.splice(n,0,i),n===0&&aT(i)}};function i0(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Qu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Km(){}function y5(i,t,n,m,C){if(C){if(typeof m=="function"){var M=m;m=function(){var f=wu(h);M.call(f)}}var h=AC(t,m,i,0,null,!1,!1,"",Km);return i._reactRootContainer=h,i[bs]=h.current,$o(i.nodeType===8?i.parentNode:i),fr(),h}for(;C=i.lastChild;)i.removeChild(C);if(typeof m=="function"){var y=m;m=function(){var f=wu(e);y.call(f)}}var e=_p(i,0,!1,null,null,!1,!1,"",Km);return i._reactRootContainer=e,i[bs]=e.current,$o(i.nodeType===8?i.parentNode:i),fr(function(){ju(t,e,n,m)}),e}function qu(i,t,n,m,C){var M=n._reactRootContainer;if(M){var h=M;if(typeof C=="function"){var y=C;C=function(){var e=wu(h);y.call(e)}}ju(t,h,i,C)}else h=y5(n,t,i,C,m);return wu(h)}iT=function(i){switch(i.tag){case 3:var t=i.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ro(t.pendingLanes);n!==0&&(Cp(t,n|1),Je(t,te()),!(At&6)&&(Aa=te()+500,Pn()))}break;case 13:fr(function(){var m=Gs(i,1);if(m!==null){var C=Ge();Hi(m,i,1,C)}}),t0(i,1)}};Sp=function(i){if(i.tag===13){var t=Gs(i,134217728);if(t!==null){var n=Ge();Hi(t,i,134217728,n)}t0(i,134217728)}};sT=function(i){if(i.tag===13){var t=pn(i),n=Gs(i,t);if(n!==null){var m=Ge();Hi(n,i,t,m)}t0(i,t)}};nT=function(){return Ft};rT=function(i,t){var n=Ft;try{return Ft=i,t()}finally{Ft=n}};fv=function(i,t,n){switch(t){case"input":if(nv(i,n),t=n.name,n.type==="radio"&&t!=null){for(n=i;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var m=n[t];if(m!==i&&m.form===i.form){var C=Xu(m);if(!C)throw Error(ot(90));G2(m),nv(m,C)}}}break;case"textarea":V2(i,n);break;case"select":t=n.value,t!=null&&ca(i,!!n.multiple,t,!1)}};H2=jp;$2=fr;var T5={usingClientEntryPoint:!1,Events:[fh,na,Xu,Y2,W2,jp]},Ja={findFiberByHostInstance:er,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},C5={bundleType:Ja.bundleType,version:Ja.version,rendererPackageName:Ja.rendererPackageName,rendererConfig:Ja.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vs.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=j2(i),i===null?null:i.stateNode},findFiberByHostInstance:Ja.findFiberByHostInstance||x5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kh.isDisabled&&Kh.supportsFiber)try{Vu=Kh.inject(C5),cs=Kh}catch{}}ui.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T5;ui.createPortal=function(i,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!i0(t))throw Error(ot(200));return m5(i,t,null,n)};ui.createRoot=function(i,t){if(!i0(i))throw Error(ot(299));var n=!1,m="",C=wC;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(m=t.identifierPrefix),t.onRecoverableError!==void 0&&(C=t.onRecoverableError)),t=_p(i,1,!1,null,null,n,!1,m,C),i[bs]=t.current,$o(i.nodeType===8?i.parentNode:i),new e0(t)};ui.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var t=i._reactInternals;if(t===void 0)throw typeof i.render=="function"?Error(ot(188)):(i=Object.keys(i).join(","),Error(ot(268,i)));return i=j2(t),i=i===null?null:i.stateNode,i};ui.flushSync=function(i){return fr(i)};ui.hydrate=function(i,t,n){if(!Qu(t))throw Error(ot(200));return qu(null,i,t,!0,n)};ui.hydrateRoot=function(i,t,n){if(!i0(i))throw Error(ot(405));var m=n!=null&&n.hydratedSources||null,C=!1,M="",h=wC;if(n!=null&&(n.unstable_strictMode===!0&&(C=!0),n.identifierPrefix!==void 0&&(M=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),t=AC(t,null,i,1,n??null,C,!1,M,h),i[bs]=t.current,$o(i),m)for(i=0;i<m.length;i++)n=m[i],C=n._getVersion,C=C(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,C]:t.mutableSourceEagerHydrationData.push(n,C);return new Ju(t)};ui.render=function(i,t,n){if(!Qu(t))throw Error(ot(200));return qu(null,i,t,!1,n)};ui.unmountComponentAtNode=function(i){if(!Qu(i))throw Error(ot(40));return i._reactRootContainer?(fr(function(){qu(null,null,i,!1,function(){i._reactRootContainer=null,i[bs]=null})}),!0):!1};ui.unstable_batchedUpdates=jp;ui.unstable_renderSubtreeIntoContainer=function(i,t,n,m){if(!Qu(n))throw Error(ot(200));if(i==null||i._reactInternals===void 0)throw Error(ot(38));return qu(i,t,n,!1,m)};ui.version="18.2.0-next-9e3b772b8-20220608";(function(i){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),i.exports=ui})(xP);var Zm=Jc;jc.createRoot=Zm.createRoot,jc.hydrateRoot=Zm.hydrateRoot;const S5={};function M5(){return Zc("div",{className:S5.App})}var Ei={},E5={get exports(){return Ei},set exports(i){Ei=i}};(function(i,t){(function(m,C){i.exports=C()})($E,()=>(()=>{var n={6659:h=>{var y=Object.prototype.hasOwnProperty,e="~";function f(){}Object.create&&(f.prototype=Object.create(null),new f().__proto__||(e=!1));function c(o,l,v){this.fn=o,this.context=l,this.once=v||!1}function s(o,l,v,u,d){if(typeof v!="function")throw new TypeError("The listener must be a function");var p=new c(v,u||o,d),g=e?e+l:l;return o._events[g]?o._events[g].fn?o._events[g]=[o._events[g],p]:o._events[g].push(p):(o._events[g]=p,o._eventsCount++),o}function a(o,l){--o._eventsCount===0?o._events=new f:delete o._events[l]}function r(){this._events=new f,this._eventsCount=0}r.prototype.eventNames=function(){var l=[],v,u;if(this._eventsCount===0)return l;for(u in v=this._events)y.call(v,u)&&l.push(e?u.slice(1):u);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(v)):l},r.prototype.listeners=function(l){var v=e?e+l:l,u=this._events[v];if(!u)return[];if(u.fn)return[u.fn];for(var d=0,p=u.length,g=new Array(p);d<p;d++)g[d]=u[d].fn;return g},r.prototype.listenerCount=function(l){var v=e?e+l:l,u=this._events[v];return u?u.fn?1:u.length:0},r.prototype.emit=function(l,v,u,d,p,g){var x=e?e+l:l;if(!this._events[x])return!1;var T=this._events[x],S=arguments.length,P,E;if(T.fn){switch(T.once&&this.removeListener(l,T.fn,void 0,!0),S){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,v),!0;case 3:return T.fn.call(T.context,v,u),!0;case 4:return T.fn.call(T.context,v,u,d),!0;case 5:return T.fn.call(T.context,v,u,d,p),!0;case 6:return T.fn.call(T.context,v,u,d,p,g),!0}for(E=1,P=new Array(S-1);E<S;E++)P[E-1]=arguments[E];T.fn.apply(T.context,P)}else{var R=T.length,A;for(E=0;E<R;E++)switch(T[E].once&&this.removeListener(l,T[E].fn,void 0,!0),S){case 1:T[E].fn.call(T[E].context);break;case 2:T[E].fn.call(T[E].context,v);break;case 3:T[E].fn.call(T[E].context,v,u);break;case 4:T[E].fn.call(T[E].context,v,u,d);break;default:if(!P)for(A=1,P=new Array(S-1);A<S;A++)P[A-1]=arguments[A];T[E].fn.apply(T[E].context,P)}}return!0},r.prototype.on=function(l,v,u){return s(this,l,v,u,!1)},r.prototype.once=function(l,v,u){return s(this,l,v,u,!0)},r.prototype.removeListener=function(l,v,u,d){var p=e?e+l:l;if(!this._events[p])return this;if(!v)return a(this,p),this;var g=this._events[p];if(g.fn)g.fn===v&&(!d||g.once)&&(!u||g.context===u)&&a(this,p);else{for(var x=0,T=[],S=g.length;x<S;x++)(g[x].fn!==v||d&&!g[x].once||u&&g[x].context!==u)&&T.push(g[x]);T.length?this._events[p]=T.length===1?T[0]:T:a(this,p)}return this},r.prototype.removeAllListeners=function(l){var v;return l?(v=e?e+l:l,this._events[v]&&a(this,v)):(this._events=new f,this._eventsCount=0),this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prefixed=e,r.EventEmitter=r,h.exports=r},62270:(h,y,e)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(82590),c=function(s,a,r,o){for(var l=s[0],v=1;v<s.length;v++){var u=s[v];f(u,l,a,r,o),l=u}return s};h.exports=c},61148:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(6124),c=function(s,a,r,o,l){return f(s,"angle",a,r,o,l)};h.exports=c},22015:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){for(var s=0;s<e.length;s++){var a=e[s];f.call(c,a)}return e};h.exports=y},31060:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){c===void 0&&(c=0);for(var s=c;s<e.length;s++){var a=e[s],r=!0;for(var o in f)a[o]!==f[o]&&(r=!1);if(r)return a}return null};h.exports=y},52367:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){c===void 0&&(c=0);for(var s=c;s<e.length;s++){var a=e[s],r=!0;for(var o in f)a[o]!==f[o]&&(r=!1);if(r)return a}return null};h.exports=y},12673:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(40327),c=e(84093),s=e(72632),a=e(72283),r=e(71030),o=new r({sys:{queueDepthSort:a,events:{once:a}}},0,0,1,1).setOrigin(0,0),l=function(v,u){u===void 0&&(u={});var d=u.hasOwnProperty("width"),p=u.hasOwnProperty("height"),g=s(u,"width",-1),x=s(u,"height",-1),T=s(u,"cellWidth",1),S=s(u,"cellHeight",T),P=s(u,"position",c.TOP_LEFT),E=s(u,"x",0),R=s(u,"y",0),A=0,w=0,O=g*T,L=x*S;o.setPosition(E,R),o.setSize(T,S);for(var F=0;F<v.length;F++)if(f(v[F],o,P),d&&g===-1)o.x+=T;else if(p&&x===-1)o.y+=S;else if(p&&!d){if(w+=S,o.y+=S,w===L&&(w=0,A+=T,o.y=R,o.x+=T,A===O))break}else if(A+=T,o.x+=T,A===O&&(A=0,w+=S,o.x=E,o.y+=S,w===L))break;return v};h.exports=l},691:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(6124),c=function(s,a,r,o,l){return f(s,"alpha",a,r,o,l)};h.exports=c},3877:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(6124),c=function(s,a,r,o,l){return f(s,"x",a,r,o,l)};h.exports=c},71020:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(6124),c=function(s,a,r,o,l,v,u){return r==null&&(r=a),f(s,"x",a,o,v,u),f(s,"y",r,l,v,u)};h.exports=c},28970:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(6124),c=function(s,a,r,o,l){return f(s,"y",a,r,o,l)};h.exports=c},82249:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){c===void 0&&(c=0),s===void 0&&(s=6.28);for(var a=c,r=(s-c)/e.length,o=f.x,l=f.y,v=f.radius,u=0;u<e.length;u++)e[u].x=o+v*Math.cos(a),e[u].y=l+v*Math.sin(a),a+=r;return e};h.exports=y},30285:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){c===void 0&&(c=0),s===void 0&&(s=6.28);for(var a=c,r=(s-c)/e.length,o=f.width/2,l=f.height/2,v=0;v<e.length;v++)e[v].x=f.x+o*Math.cos(a),e[v].y=f.y+l*Math.sin(a),a+=r;return e};h.exports=y},61557:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(8570),c=function(s,a){for(var r=f(a,s.length),o=0;o<s.length;o++){var l=s[o],v=r[o];l.x=v.x,l.y=v.y}return s};h.exports=c},63549:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(40053),c=e(77640),s=e(38487),a=function(r,o,l){l===void 0&&(l=0);var v=f(o,!1,r.length);l>0?c(v,l):l<0&&s(v,Math.abs(l));for(var u=0;u<r.length;u++)r[u].x=v[u].x,r[u].y=v[u].y;return r};h.exports=a},51629:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(58813),c=function(s,a,r){var o=f({x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},r),l=f({x1:a.x2,y1:a.y2,x2:a.x3,y2:a.y3},r),v=f({x1:a.x3,y1:a.y3,x2:a.x1,y2:a.y1},r);o.pop(),l.pop(),v.pop(),o=o.concat(l,v);for(var u=o.length/s.length,d=0,p=0;p<s.length;p++){var g=s[p],x=o[Math.floor(d)];g.x=x.x,g.y=x.y,d+=u}return s};h.exports=c},1045:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){for(var s=0;s<e.length;s++){var a=e[s];a.anims&&a.anims.play(f,c)}return e};h.exports=y},6124:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s,a,r){s===void 0&&(s=0),a===void 0&&(a=0),r===void 0&&(r=1);var o,l=0,v=e.length;if(r===1)for(o=a;o<v;o++)e[o][f]+=c+l*s,l++;else for(o=a;o>=0;o--)e[o][f]+=c+l*s,l++;return e};h.exports=y},23646:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s,a,r){s===void 0&&(s=0),a===void 0&&(a=0),r===void 0&&(r=1);var o,l=0,v=e.length;if(r===1)for(o=a;o<v;o++)e[o][f]=c+l*s,l++;else for(o=a;o>=0;o--)e[o][f]=c+l*s,l++;return e};h.exports=y},4392:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(30977),c=function(s,a){for(var r=0;r<s.length;r++)f(a,s[r]);return s};h.exports=c},94985:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72006),c=function(s,a){for(var r=0;r<s.length;r++)f(a,s[r]);return s};h.exports=c},63305:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(74077),c=function(s,a){for(var r=0;r<s.length;r++)f(a,s[r]);return s};h.exports=c},90739:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(30001),c=function(s,a){for(var r=0;r<s.length;r++)f(a,s[r]);return s};h.exports=c},91417:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(99761),c=function(s,a){for(var r=0;r<s.length;r++)f(a,s[r]);return s};h.exports=c},26182:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(6124),c=function(s,a,r,o,l){return f(s,"rotation",a,r,o,l)};h.exports=c},87299:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72395),c=e(53996),s=function(a,r,o){for(var l=r.x,v=r.y,u=0;u<a.length;u++){var d=a[u];f(d,l,v,o,Math.max(1,c(d.x,d.y,l,v)))}return a};h.exports=s},92194:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72395),c=function(s,a,r,o){var l=a.x,v=a.y;if(o===0)return s;for(var u=0;u<s.length;u++)f(s[u],l,v,r,o);return s};h.exports=c},30363:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(6124),c=function(s,a,r,o,l){return f(s,"scaleX",a,r,o,l)};h.exports=c},51449:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(6124),c=function(s,a,r,o,l,v,u){return r==null&&(r=a),f(s,"scaleX",a,o,v,u),f(s,"scaleY",r,l,v,u)};h.exports=c},64895:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(6124),c=function(s,a,r,o,l){return f(s,"scaleY",a,r,o,l)};h.exports=c},30329:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(23646),c=function(s,a,r,o,l){return f(s,"alpha",a,r,o,l)};h.exports=c},43954:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(23646),c=function(s,a,r,o){return f(s,"blendMode",a,0,r,o)};h.exports=c},70688:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(23646),c=function(s,a,r,o,l){return f(s,"depth",a,r,o,l)};h.exports=c},8314:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){for(var s=0;s<e.length;s++)e[s].setInteractive(f,c);return e};h.exports=y},12894:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(23646),c=function(s,a,r,o,l,v,u){return r==null&&(r=a),f(s,"originX",a,o,v,u),f(s,"originY",r,l,v,u),s.forEach(function(d){d.updateDisplayOrigin()}),s};h.exports=c},38767:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(23646),c=function(s,a,r,o,l){return f(s,"rotation",a,r,o,l)};h.exports=c},18584:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(23646),c=function(s,a,r,o,l,v,u){return r==null&&(r=a),f(s,"scaleX",a,o,v,u),f(s,"scaleY",r,l,v,u)};h.exports=c},17381:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(23646),c=function(s,a,r,o,l){return f(s,"scaleX",a,r,o,l)};h.exports=c},74370:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(23646),c=function(s,a,r,o,l){return f(s,"scaleY",a,r,o,l)};h.exports=c},27773:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(23646),c=function(s,a,r,o,l,v,u){return r==null&&(r=a),f(s,"scrollFactorX",a,o,v,u),f(s,"scrollFactorY",r,l,v,u)};h.exports=c},75257:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(23646),c=function(s,a,r,o,l){return f(s,"scrollFactorX",a,r,o,l)};h.exports=c},54512:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(23646),c=function(s,a,r,o,l){return f(s,"scrollFactorY",a,r,o,l)};h.exports=c},69423:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s,a){for(var r=0;r<e.length;r++)e[r].setTint(f,c,s,a);return e};h.exports=y},58291:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(23646),c=function(s,a,r,o){return f(s,"visible",a,0,r,o)};h.exports=c},94833:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(23646),c=function(s,a,r,o,l){return f(s,"x",a,r,o,l)};h.exports=c},14284:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(23646),c=function(s,a,r,o,l,v,u){return r==null&&(r=a),f(s,"x",a,o,v,u),f(s,"y",r,l,v,u)};h.exports=c},96574:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(23646),c=function(s,a,r,o,l){return f(s,"y",a,r,o,l)};h.exports=c},74086:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(93736),c=function(s,a,r,o,l){o===void 0&&(o=0),l===void 0&&(l=new f);var v,u,d=s.length;if(d===1)v=s[0].x,u=s[0].y,s[0].x=a,s[0].y=r;else{var p=1,g=0;o===0&&(g=d-1,p=d-2),v=s[g].x,u=s[g].y,s[g].x=a,s[g].y=r;for(var x=0;x<d;x++)if(!(p>=d||p===-1)){var T=s[p],S=T.x,P=T.y;T.x=v,T.y=u,v=S,u=P,o===0?p--:p++}}return l.x=v,l.y=u,l};h.exports=c},86347:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(18592),c=function(s){return f(s)};h.exports=c},1558:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(5514),c=function(s,a,r,o,l){l===void 0&&(l=!1);var v=Math.abs(o-r)/s.length,u;if(l)for(u=0;u<s.length;u++)s[u][a]+=f(u*v,r,o);else for(u=0;u<s.length;u++)s[u][a]=f(u*v,r,o);return s};h.exports=c},9938:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(87736),c=function(s,a,r,o,l){l===void 0&&(l=!1);var v=Math.abs(o-r)/s.length,u;if(l)for(u=0;u<s.length;u++)s[u][a]+=f(u*v,r,o);else for(u=0;u<s.length;u++)s[u][a]=f(u*v,r,o);return s};h.exports=c},71060:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s,a){if(a===void 0&&(a=!1),e.length===0)return e;if(e.length===1)return a?e[0][f]+=(s+c)/2:e[0][f]=(s+c)/2,e;var r=Math.abs(s-c)/(e.length-1),o;if(a)for(o=0;o<e.length;o++)e[o][f]+=o*r+c;else for(o=0;o<e.length;o++)e[o][f]=o*r+c;return e};h.exports=y},11207:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){for(var f=0;f<e.length;f++)e[f].visible=!e[f].visible;return e};h.exports=y},24404:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(1071),c=function(s,a,r){r===void 0&&(r=0);for(var o=0;o<s.length;o++){var l=s[o];l.x=f(l.x,a.left-r,a.right+r),l.y=f(l.y,a.top-r,a.bottom+r)}return s};h.exports=c},83979:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={AlignTo:e(62270),Angle:e(61148),Call:e(22015),GetFirst:e(31060),GetLast:e(52367),GridAlign:e(12673),IncAlpha:e(691),IncX:e(3877),IncXY:e(71020),IncY:e(28970),PlaceOnCircle:e(82249),PlaceOnEllipse:e(30285),PlaceOnLine:e(61557),PlaceOnRectangle:e(63549),PlaceOnTriangle:e(51629),PlayAnimation:e(1045),PropertyValueInc:e(6124),PropertyValueSet:e(23646),RandomCircle:e(4392),RandomEllipse:e(94985),RandomLine:e(63305),RandomRectangle:e(90739),RandomTriangle:e(91417),Rotate:e(26182),RotateAround:e(87299),RotateAroundDistance:e(92194),ScaleX:e(30363),ScaleXY:e(51449),ScaleY:e(64895),SetAlpha:e(30329),SetBlendMode:e(43954),SetDepth:e(70688),SetHitArea:e(8314),SetOrigin:e(12894),SetRotation:e(38767),SetScale:e(18584),SetScaleX:e(17381),SetScaleY:e(74370),SetScrollFactor:e(27773),SetScrollFactorX:e(75257),SetScrollFactorY:e(54512),SetTint:e(69423),SetVisible:e(58291),SetX:e(94833),SetXY:e(14284),SetY:e(96574),ShiftPosition:e(74086),Shuffle:e(86347),SmootherStep:e(9938),SmoothStep:e(1558),Spread:e(71060),ToggleVisible:e(11207),WrapInRectangle:e(24404)}},85463:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(82897),c=e(56694),s=e(16938),a=e(2406),r=e(71519),o=e(10850),l=e(28834),v=new c({initialize:function(d,p,g){this.manager=d,this.key=p,this.type="frame",this.frames=this.getFrames(d.textureManager,o(g,"frames",[]),o(g,"defaultTextureKey",null),o(g,"sortFrames",!0)),this.frameRate=o(g,"frameRate",null),this.duration=o(g,"duration",null),this.msPerFrame,this.skipMissedFrames=o(g,"skipMissedFrames",!0),this.delay=o(g,"delay",0),this.repeat=o(g,"repeat",0),this.repeatDelay=o(g,"repeatDelay",0),this.yoyo=o(g,"yoyo",!1),this.showBeforeDelay=o(g,"showBeforeDelay",!1),this.showOnStart=o(g,"showOnStart",!1),this.hideOnComplete=o(g,"hideOnComplete",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(s.PAUSE_ALL,this.pause,this),this.manager.on(s.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(u,d,p,g){p===null&&g===null?(u.frameRate=24,u.duration=24/d*1e3):p&&g===null?(u.duration=p,u.frameRate=d/(p/1e3)):(u.frameRate=g,u.duration=d/g*1e3),u.msPerFrame=1e3/u.frameRate},addFrame:function(u){return this.addFrameAt(this.frames.length,u)},addFrameAt:function(u,d){var p=this.getFrames(this.manager.textureManager,d);if(p.length>0){if(u===0)this.frames=p.concat(this.frames);else if(u===this.frames.length)this.frames=this.frames.concat(p);else{var g=this.frames.slice(0,u),x=this.frames.slice(u);this.frames=g.concat(p,x)}this.updateFrameSequence()}return this},checkFrame:function(u){return u>=0&&u<this.frames.length},getFirstTick:function(u){u.accumulator=0,u.nextTick=u.msPerFrame+u.currentFrame.duration},getFrameAt:function(u){return this.frames[u]},getFrames:function(u,d,p,g){g===void 0&&(g=!0);var x=[],T,S,P=1,E,R;if(typeof d=="string"){if(R=d,!u.exists(R))return console.warn('Texture "%s" not found',R),x;var A=u.get(R),w=A.getFrameNames();g&&l(w),d=[],w.forEach(function(G){d.push({key:R,frame:G})})}if(!Array.isArray(d)||d.length===0)return x;for(E=0;E<d.length;E++){var O=d[E],L=o(O,"key",p);if(L){var F=o(O,"frame",0),I=u.getFrame(L,F);if(!I){console.warn('Texture "%s" not found',L);continue}S=new r(L,F,P,I),S.duration=o(O,"duration",0),S.isFirst=!T,T&&(T.nextFrame=S,S.prevFrame=T),x.push(S),T=S,P++}}if(x.length>0){S.isLast=!0,S.nextFrame=x[0],x[0].prevFrame=S;var b=1/(x.length-1);for(E=0;E<x.length;E++)x[E].progress=E*b}return x},getNextTick:function(u){u.accumulator-=u.nextTick,u.nextTick=u.msPerFrame+u.currentFrame.duration},getFrameByProgress:function(u){return u=f(u,0,1),a(u,this.frames,"progress")},nextFrame:function(u){var d=u.currentFrame;d.isLast?u.yoyo?this.handleYoyoFrame(u,!1):u.repeatCounter>0?u.inReverse&&u.forward?u.forward=!1:this.repeatAnimation(u):u.complete():this.updateAndGetNextTick(u,d.nextFrame)},handleYoyoFrame:function(u,d){if(d||(d=!1),u.inReverse===!d&&u.repeatCounter>0){(u.repeatDelay===0||u.pendingRepeat)&&(u.forward=d),this.repeatAnimation(u);return}if(u.inReverse!==d&&u.repeatCounter===0){u.complete();return}u.forward=d;var p=d?u.currentFrame.nextFrame:u.currentFrame.prevFrame;this.updateAndGetNextTick(u,p)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(u){var d=u.currentFrame;d.isFirst?u.yoyo?this.handleYoyoFrame(u,!0):u.repeatCounter>0?u.inReverse&&!u.forward?this.repeatAnimation(u):(u.forward=!0,this.repeatAnimation(u)):u.complete():this.updateAndGetNextTick(u,d.prevFrame)},updateAndGetNextTick:function(u,d){u.setCurrentFrame(d),this.getNextTick(u)},removeFrame:function(u){var d=this.frames.indexOf(u);return d!==-1&&this.removeFrameAt(d),this},removeFrameAt:function(u){return this.frames.splice(u,1),this.updateFrameSequence(),this},repeatAnimation:function(u){if(u._pendingStop===2){if(u._pendingStopValue===0)return u.stop();u._pendingStopValue--}u.repeatDelay>0&&!u.pendingRepeat?(u.pendingRepeat=!0,u.accumulator-=u.nextTick,u.nextTick+=u.repeatDelay):(u.repeatCounter--,u.forward?u.setCurrentFrame(u.currentFrame.nextFrame):u.setCurrentFrame(u.currentFrame.prevFrame),u.isPlaying&&(this.getNextTick(u),u.handleRepeat()))},toJSON:function(){var u={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(d){u.frames.push(d.toJSON())}),u},updateFrameSequence:function(){for(var u=this.frames.length,d=1/(u-1),p,g=0;g<u;g++)p=this.frames[g],p.index=g+1,p.isFirst=!1,p.isLast=!1,p.progress=g*d,g===0?(p.isFirst=!0,u===1?(p.isLast=!0,p.nextFrame=p,p.prevFrame=p):(p.isLast=!1,p.prevFrame=this.frames[u-1],p.nextFrame=this.frames[g+1])):g===u-1&&u>1?(p.isLast=!0,p.prevFrame=this.frames[u-2],p.nextFrame=this.frames[0]):u>1&&(p.prevFrame=this.frames[g-1],p.nextFrame=this.frames[g+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(s.PAUSE_ALL,this.pause,this),this.manager.off(s.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var u=0;u<this.frames.length;u++)this.frames[u].destroy();this.frames=[],this.manager=null}});h.exports=v},71519:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=new f({initialize:function(a,r,o,l,v){v===void 0&&(v=!1),this.textureKey=a,this.textureFrame=r,this.index=o,this.frame=l,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=v},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});h.exports=c},90249:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(85463),c=e(56694),s=e(33885),a=e(6659),r=e(16938),o=e(97081),l=e(72632),v=e(10850),u=e(83392),d=e(13401),p=e(76400),g=new c({Extends:a,initialize:function(T){a.call(this),this.game=T,this.textureManager=null,this.globalTimeScale=1,this.anims=new s,this.mixes=new s,this.paused=!1,this.name="AnimationManager",T.events.once(o.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(o.DESTROY,this.destroy,this)},addMix:function(x,T,S){var P=this.anims,E=this.mixes,R=typeof x=="string"?x:x.key,A=typeof T=="string"?T:T.key;if(P.has(R)&&P.has(A)){var w=E.get(R);w||(w={}),w[A]=S,E.set(R,w)}return this},removeMix:function(x,T){var S=this.mixes,P=typeof x=="string"?x:x.key,E=S.get(P);if(E)if(T){var R=typeof T=="string"?T:T.key;E.hasOwnProperty(R)&&delete E[R]}else T||S.delete(P);return this},getMix:function(x,T){var S=this.mixes,P=typeof x=="string"?x:x.key,E=typeof T=="string"?T:T.key,R=S.get(P);return R&&R.hasOwnProperty(E)?R[E]:0},add:function(x,T){return this.anims.has(x)?(console.warn("Animation key exists: "+x),this):(T.key=x,this.anims.set(x,T),this.emit(r.ADD_ANIMATION,x,T),this)},exists:function(x){return this.anims.has(x)},createFromAseprite:function(x,T,S){var P=[],E=this.game.cache.json.get(x);if(!E)return console.warn("No Aseprite data found for: "+x),P;var R=this,A=v(E,"meta",null),w=v(E,"frames",null);if(A&&w){var O=v(A,"frameTags",[]);O.forEach(function(L){var F=[],I=l(L,"name",null),b=l(L,"from",0),G=l(L,"to",0),N=l(L,"direction","forward");if(I&&(!T||T&&T.indexOf(I)>-1)){for(var U=0,Y=b;Y<=G;Y++){var X=Y.toString(),B=w[X];if(B){var z=l(B,"duration",u.MAX_SAFE_INTEGER);F.push({key:x,frame:X,duration:z}),U+=z}}var D=U/F.length;F.forEach(function(W){W.duration-=D}),N==="reverse"&&(F=F.reverse());var V={key:I,frames:F,duration:U,yoyo:N==="pingpong"},k;S?S.anims&&(k=S.anims.create(V)):k=R.create(V),k&&P.push(k)}})}return P},create:function(x){var T=x.key,S=!1;return T&&(S=this.get(T),S?console.warn("AnimationManager key already exists: "+T):(S=new f(this,T,x),this.anims.set(T,S),this.emit(r.ADD_ANIMATION,T,S))),S},fromJSON:function(x,T){T===void 0&&(T=!1),T&&this.anims.clear(),typeof x=="string"&&(x=JSON.parse(x));var S=[];if(x.hasOwnProperty("anims")&&Array.isArray(x.anims)){for(var P=0;P<x.anims.length;P++)S.push(this.create(x.anims[P]));x.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=x.globalTimeScale)}else x.hasOwnProperty("key")&&x.type==="frame"&&S.push(this.create(x));return S},generateFrameNames:function(x,T){var S=v(T,"prefix",""),P=v(T,"start",0),E=v(T,"end",0),R=v(T,"suffix",""),A=v(T,"zeroPad",0),w=v(T,"outputArray",[]),O=v(T,"frames",!1);if(!this.textureManager.exists(x))return console.warn('Texture "%s" not found',x),w;var L=this.textureManager.get(x);if(!L)return w;var F;if(T)for(O||(O=d(P,E)),F=0;F<O.length;F++){var I=S+p(O[F],A,"0",1)+R;L.has(I)?w.push({key:x,frame:I}):console.warn('Frame "%s" not found in texture "%s"',I,x)}else for(O=L.getFrameNames(),F=0;F<O.length;F++)w.push({key:x,frame:O[F]});return w},generateFrameNumbers:function(x,T){var S=v(T,"start",0),P=v(T,"end",-1),E=v(T,"first",!1),R=v(T,"outputArray",[]),A=v(T,"frames",!1);if(!this.textureManager.exists(x))return console.warn('Texture "%s" not found',x),R;var w=this.textureManager.get(x);if(!w)return R;E&&w.has(E)&&R.push({key:x,frame:E}),A||(P===-1&&(P=w.frameTotal-2),A=d(S,P));for(var O=0;O<A.length;O++){var L=A[O];w.has(L)?R.push({key:x,frame:L}):console.warn('Frame "%s" not found in texture "%s"',L,x)}return R},get:function(x){return this.anims.get(x)},getAnimsFromTexture:function(x){for(var T=this.textureManager.get(x),S=T.key,P=this.anims.getArray(),E=[],R=0;R<P.length;R++)for(var A=P[R],w=A.frames,O=0;O<w.length;O++)if(w[O].textureKey===S){E.push(A.key);break}return E},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(r.PAUSE_ALL)),this},play:function(x,T){Array.isArray(T)||(T=[T]);for(var S=0;S<T.length;S++)T[S].anims.play(x);return this},staggerPlay:function(x,T,S,P){S===void 0&&(S=0),P===void 0&&(P=!0),Array.isArray(T)||(T=[T]);var E=T.length;P||E--;for(var R=0;R<T.length;R++){var A=S<0?Math.abs(S)*(E-R):S*R;T[R].anims.playAfterDelay(x,A)}return this},remove:function(x){var T=this.get(x);return T&&(this.emit(r.REMOVE_ANIMATION,x,T),this.anims.delete(x),this.removeMix(x)),T},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(r.RESUME_ALL)),this},toJSON:function(x){var T={anims:[],globalTimeScale:this.globalTimeScale};return x!==void 0&&x!==""?T.anims.push(this.anims.get(x).toJSON()):this.anims.each(function(S,P){T.anims.push(P.toJSON())}),T},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});h.exports=g},16569:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(33885),s=e(72632),a=e(16938),r=e(85463),o=new f({initialize:function(v){this.parent=v,this.animationManager=v.scene.sys.anims,this.animationManager.on(a.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(l){var v=this.parent;if(l===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,v;Array.isArray(l)||(l=[l]);for(var u=0;u<l.length;u++){var d=l[u];this.nextAnim?this.nextAnimsQueue.push(d):this.nextAnim=d}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(l){this.isPlaying&&this.stop();var v=this.animationManager,u=typeof l=="string"?l:s(l,"key",null),d=this.exists(u)?this.get(u):v.get(u);if(!d)console.warn("Missing animation: "+u);else{this.currentAnim=d;var p=d.getTotalFrames(),g=s(l,"frameRate",d.frameRate),x=s(l,"duration",d.duration);d.calculateDuration(this,p,x,g),this.delay=s(l,"delay",d.delay),this.repeat=s(l,"repeat",d.repeat),this.repeatDelay=s(l,"repeatDelay",d.repeatDelay),this.yoyo=s(l,"yoyo",d.yoyo),this.showBeforeDelay=s(l,"showBeforeDelay",d.showBeforeDelay),this.showOnStart=s(l,"showOnStart",d.showOnStart),this.hideOnComplete=s(l,"hideOnComplete",d.hideOnComplete),this.skipMissedFrames=s(l,"skipMissedFrames",d.skipMissedFrames),this.timeScale=s(l,"timeScale",this.timeScale);var T=s(l,"startFrame",0);T>d.getTotalFrames()&&(T=0);var S=d.frames[T];T===0&&!this.forward&&(S=d.getLastFrame()),this.currentFrame=S}return this.parent},pause:function(l){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),l!==void 0&&this.setCurrentFrame(l),this.parent},resume:function(l){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),l!==void 0&&this.setCurrentFrame(l),this.parent},playAfterDelay:function(l,v){if(!this.isPlaying)this.delayCounter=v,this.play(l,!0);else{var u=this.nextAnim,d=this.nextAnimsQueue;u&&d.unshift(u),this.nextAnim=l,this._pendingStop=1,this._pendingStopValue=v}return this.parent},playAfterRepeat:function(l,v){if(v===void 0&&(v=1),!this.isPlaying)this.play(l);else{var u=this.nextAnim,d=this.nextAnimsQueue;u&&d.unshift(u),this.repeatCounter!==-1&&v>this.repeatCounter&&(v=this.repeatCounter),this.nextAnim=l,this._pendingStop=2,this._pendingStopValue=v}return this.parent},play:function(l,v){v===void 0&&(v=!1);var u=this.currentAnim,d=this.parent,p=typeof l=="string"?l:l.key;if(v&&this.isPlaying&&u.key===p)return d;if(u&&this.isPlaying){var g=this.animationManager.getMix(u.key,l);if(g>0)return this.playAfterDelay(l,g)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(l)},playReverse:function(l,v){v===void 0&&(v=!1);var u=typeof l=="string"?l:l.key;return v&&this.isPlaying&&this.currentAnim.key===u?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(l))},startAnimation:function(l){this.load(l);var v=this.currentAnim,u=this.parent;return v&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,v.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),u},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(a.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(a.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(a.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(a.ANIMATION_COMPLETE,a.ANIMATION_COMPLETE_KEY)},emitEvents:function(l,v){var u=this.currentAnim;if(u){var d=this.currentFrame,p=this.parent,g=d.textureFrame;p.emit(l,u,d,p,g),v&&p.emit(v+u.key,u,d,p,g)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var l=this.currentFrame;if(!l)return 0;var v=l.progress;return this.inReverse&&(v*=-1),v},setProgress:function(l){return this.forward||(l=1-l),this.setCurrentFrame(this.currentAnim.getFrameByProgress(l)),this.parent},setRepeat:function(l){return this.repeatCounter=l===-1?Number.MAX_VALUE:l,this.parent},globalRemove:function(l,v){v===void 0&&(v=this.currentAnim),this.isPlaying&&v.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(l,v){l===void 0&&(l=!1),v===void 0&&(v=!1);var u=this.currentAnim,d=this.parent;return u?(v&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),u.getFirstTick(this),this.emitEvents(a.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!l,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(u.frames[0]),this.parent):d},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var l=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(l)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var l=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(l)}return this.parent},stopAfterDelay:function(l){return this._pendingStop=1,this._pendingStopValue=l,this.parent},stopAfterRepeat:function(l){return l===void 0&&(l=1),this.repeatCounter!==-1&&l>this.repeatCounter&&(l=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=l,this.parent},stopOnFrame:function(l){return this._pendingStop=3,this._pendingStopValue=l,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(l,v){var u=this.currentAnim;if(!(!this.isPlaying||!u||u.paused)){if(this.accumulator+=v*this.timeScale,this._pendingStop===1&&(this._pendingStopValue-=v,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?u.nextFrame(this):u.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var d=0;do this.forward?u.nextFrame(this):u.previousFrame(this),d++;while(this.isPlaying&&this.accumulator>this.nextTick&&d<60)}}},setCurrentFrame:function(l){var v=this.parent;return this.currentFrame=l,v.texture=l.frame.texture,v.frame=l.frame,v.isCropped&&v.frame.updateCropUVs(v._crop,v.flipX,v.flipY),l.setAlpha&&(v.alpha=l.alpha),v.setSizeToFrame(),v._originComponent&&(l.frame.customPivot?v.setOrigin(l.frame.pivotX,l.frame.pivotY):v.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(a.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===l&&this.stop()),v},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(l){return this.anims?this.anims.get(l):null},exists:function(l){return this.anims?this.anims.has(l):!1},create:function(l){var v=l.key,u=!1;return v&&(u=this.get(v),u?console.warn("Animation key already exists: "+v):(u=new r(this,v,l),this.anims||(this.anims=new c),this.anims.set(v,u))),u},createFromAseprite:function(l,v){return this.animationManager.createFromAseprite(l,v,this.parent)},generateFrameNames:function(l,v){return this.animationManager.generateFrameNames(l,v)},generateFrameNumbers:function(l,v){return this.animationManager.generateFrameNumbers(l,v)},remove:function(l){var v=this.get(l);return v&&(this.currentAnim===v&&this.stop(),this.anims.delete(l)),v},destroy:function(){this.animationManager.off(a.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});h.exports=o},44509:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="add"},84563:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="animationcomplete"},61586:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="animationcomplete-"},72175:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="animationrepeat"},568:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="animationrestart"},37690:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="animationstart"},58525:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="animationstop"},5243:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="animationupdate"},10598:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pauseall"},4860:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="remove"},31865:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="resumeall"},16938:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={ADD_ANIMATION:e(44509),ANIMATION_COMPLETE:e(84563),ANIMATION_COMPLETE_KEY:e(61586),ANIMATION_REPEAT:e(72175),ANIMATION_RESTART:e(568),ANIMATION_START:e(37690),ANIMATION_STOP:e(58525),ANIMATION_UPDATE:e(5243),PAUSE_ALL:e(10598),REMOVE_ANIMATION:e(4860),RESUME_ALL:e(31865)}},13517:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Animation:e(85463),AnimationFrame:e(71519),AnimationManager:e(90249),AnimationState:e(16569),Events:e(16938)}},23740:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(33885),s=e(6659),a=e(69773),r=new f({initialize:function(){this.entries=new c,this.events=new s},add:function(o,l){return this.entries.set(o,l),this.events.emit(a.ADD,this,o,l),this},has:function(o){return this.entries.has(o)},exists:function(o){return this.entries.has(o)},get:function(o){return this.entries.get(o)},remove:function(o){var l=this.get(o);return l&&(this.entries.delete(o),this.events.emit(a.REMOVE,this,o,l.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});h.exports=r},43474:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(23740),c=e(56694),s=e(97081),a=new c({initialize:function(o){this.game=o,this.binary=new f,this.bitmapFont=new f,this.json=new f,this.physics=new f,this.shader=new f,this.audio=new f,this.video=new f,this.text=new f,this.html=new f,this.obj=new f,this.tilemap=new f,this.xml=new f,this.custom={},this.game.events.once(s.DESTROY,this.destroy,this)},addCustom:function(r){return this.custom.hasOwnProperty(r)||(this.custom[r]=new f),this.custom[r]},destroy:function(){for(var r=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],o=0;o<r.length;o++)this[r[o]].destroy(),this[r[o]]=null;for(var l in this.custom)this.custom[l].destroy();this.custom=null,this.game=null}});h.exports=a},94762:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="add"},75968:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="remove"},69773:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={ADD:e(94762),REMOVE:e(75968)}},45820:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={BaseCache:e(23740),CacheManager:e(43474),Events:e(69773)}},51052:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(64937),s=e(75606),a=e(6659),r=e(89787),o=e(74118),l=e(69360),v=e(93222),u=e(93736),d=new f({Extends:a,Mixins:[c.AlphaSingle,c.Visible],initialize:function(g,x,T,S){g===void 0&&(g=0),x===void 0&&(x=0),T===void 0&&(T=0),S===void 0&&(S=0),a.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new o,this.dirty=!0,this._x=g,this._y=x,this._width=T,this._height=S,this._bounds=new o,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new l,this.transparent=!0,this.backgroundColor=v("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new u(T/2,S/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0},addToRenderList:function(p){this.renderList.push(p)},setOrigin:function(p,g){return p===void 0&&(p=.5),g===void 0&&(g=p),this.originX=p,this.originY=g,this},getScroll:function(p,g,x){x===void 0&&(x=new u);var T=this.width*.5,S=this.height*.5;return x.x=p-T,x.y=g-S,this.useBounds&&(x.x=this.clampX(x.x),x.y=this.clampY(x.y)),x},centerOnX:function(p){var g=this.width*.5;return this.midPoint.x=p,this.scrollX=p-g,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(p){var g=this.height*.5;return this.midPoint.y=p,this.scrollY=p-g,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(p,g){return this.centerOnX(p),this.centerOnY(g),this},centerToBounds:function(){if(this.useBounds){var p=this._bounds,g=this.width*.5,x=this.height*.5;this.midPoint.set(p.centerX,p.centerY),this.scrollX=p.centerX-g,this.scrollY=p.centerY-x}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(p){if(this.disableCull)return p;var g=this.matrix.matrix,x=g[0],T=g[1],S=g[2],P=g[3],E=x*P-T*S;if(!E)return p;var R=g[4],A=g[5],w=this.scrollX,O=this.scrollY,L=this.width,F=this.height,I=this.y,b=I+F,G=this.x,N=G+L,U=this.culledObjects,Y=p.length;E=1/E,U.length=0;for(var X=0;X<Y;++X){var B=p[X];if(!B.hasOwnProperty("width")||B.parentContainer){U.push(B);continue}var z=B.width,D=B.height,V=B.x-w*B.scrollFactorX-z*B.originX,k=B.y-O*B.scrollFactorY-D*B.originY,W=V*x+k*S+R,H=V*T+k*P+A,$=(V+z)*x+(k+D)*S+R,K=(V+z)*T+(k+D)*P+A;$>G&&W<N&&K>I&&H<b&&U.push(B)}return U},getWorldPoint:function(p,g,x){x===void 0&&(x=new u);var T=this.matrix.matrix,S=T[0],P=T[1],E=T[2],R=T[3],A=T[4],w=T[5],O=S*R-P*E;if(!O)return x.x=p,x.y=g,x;O=1/O;var L=R*O,F=-P*O,I=-E*O,b=S*O,G=(E*w-R*A)*O,N=(P*A-S*w)*O,U=Math.cos(this.rotation),Y=Math.sin(this.rotation),X=this.zoomX,B=this.zoomY,z=this.scrollX,D=this.scrollY,V=p+(z*U-D*Y)*X,k=g+(z*Y+D*U)*B;return x.x=V*L+k*I+G,x.y=V*F+k*b+N,x},ignore:function(p){var g=this.id;Array.isArray(p)||(p=[p]);for(var x=0;x<p.length;x++){var T=p[x];Array.isArray(T)?this.ignore(T):T.isParent?this.ignore(T.getChildren()):T.cameraFilter|=g}return this},preRender:function(){this.renderList.length=0;var p=this.width,g=this.height,x=p*.5,T=g*.5,S=this.zoomX,P=this.zoomY,E=this.matrix,R=p*this.originX,A=g*this.originY,w=this.scrollX,O=this.scrollY;this.useBounds&&(w=this.clampX(w),O=this.clampY(O)),this.roundPixels&&(R=Math.round(R),A=Math.round(A)),this.scrollX=w,this.scrollY=O;var L=w+x,F=O+T;this.midPoint.set(L,F);var I=p/S,b=g/P;this.worldView.setTo(L-I/2,F-b/2,I,b),E.applyITRS(this.x+R,this.y+A,this.rotation,S,P),E.translate(-R,-A)},clampX:function(p){var g=this._bounds,x=this.displayWidth,T=g.x+(x-this.width)/2,S=Math.max(T,T+g.width-x);return p<T?p=T:p>S&&(p=S),p},clampY:function(p){var g=this._bounds,x=this.displayHeight,T=g.y+(x-this.height)/2,S=Math.max(T,T+g.height-x);return p<T?p=T:p>S&&(p=S),p},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(p){return p===void 0&&(p=0),this.rotation=s(p),this},setBackgroundColor:function(p){return p===void 0&&(p="rgba(0,0,0,0)"),this.backgroundColor=v(p),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(p,g,x,T,S){return S===void 0&&(S=!1),this._bounds.setTo(p,g,x,T),this.dirty=!0,this.useBounds=!0,S?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(p){p===void 0&&(p=new o);var g=this._bounds;return p.setTo(g.x,g.y,g.width,g.height),p},setName:function(p){return p===void 0&&(p=""),this.name=p,this},setPosition:function(p,g){return g===void 0&&(g=p),this.x=p,this.y=g,this},setRotation:function(p){return p===void 0&&(p=0),this.rotation=p,this},setRoundPixels:function(p){return this.roundPixels=p,this},setScene:function(p,g){g===void 0&&(g=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=p,this.isSceneCamera=g;var x=p.sys;return this.sceneManager=x.game.scene,this.scaleManager=x.scale,this.cameraManager=x.cameras,this.updateSystem(),this},setScroll:function(p,g){return g===void 0&&(g=p),this.scrollX=p,this.scrollY=g,this},setSize:function(p,g){return g===void 0&&(g=p),this.width=p,this.height=g,this},setViewport:function(p,g,x,T){return this.x=p,this.y=g,this.width=x,this.height=T,this},setZoom:function(p,g){return p===void 0&&(p=1),g===void 0&&(g=p),p===0&&(p=.001),g===0&&(g=.001),this.zoomX=p,this.zoomY=g,this},setMask:function(p,g){return g===void 0&&(g=!0),this.mask=p,this._maskCamera=g?this.cameraManager.default:this,this},clearMask:function(p){return p===void 0&&(p=!1),p&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var p={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(p.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),p},update:function(){},setIsSceneCamera:function(p){return this.isSceneCamera=p,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var p=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,g=this.sceneManager;p&&!this._customViewport?g.customViewports++:!p&&this._customViewport&&g.customViewports--,this.dirty=!0,this._customViewport=p}},destroy:function(){this.emit(r.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(p){this._x=p,this.updateSystem()}},y:{get:function(){return this._y},set:function(p){this._y=p,this.updateSystem()}},width:{get:function(){return this._width},set:function(p){this._width=p,this.updateSystem()}},height:{get:function(){return this._height},set:function(p){this._height=p,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(p){p!==this._scrollX&&(this._scrollX=p,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(p){p!==this._scrollY&&(this._scrollY=p,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(p){this._zoomX=p,this._zoomY=p,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(p){this._zoomX=p,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(p){this._zoomY=p,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(p){this._rotation=p,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});h.exports=d},47751:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(51052),c=e(79993),s=e(82897),a=e(56694),r=e(64937),o=e(53030),l=e(89787),v=e(42798),u=e(74118),d=e(93736),p=new a({Extends:f,Mixins:[r.PostPipeline],initialize:function(x,T,S,P){f.call(this,x,T,S,P),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new o.Fade(this),this.flashEffect=new o.Flash(this),this.shakeEffect=new o.Shake(this),this.panEffect=new o.Pan(this),this.rotateToEffect=new o.RotateTo(this),this.zoomEffect=new o.Zoom(this),this.lerp=new d(1,1),this.followOffset=new d,this.deadzone=null,this._follow=null},setDeadzone:function(g,x){if(g===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=g,this.deadzone.height=x):this.deadzone=new u(0,0,g,x),this._follow){var T=this.width/2,S=this.height/2,P=this._follow.x-this.followOffset.x,E=this._follow.y-this.followOffset.y;this.midPoint.set(P,E),this.scrollX=P-T,this.scrollY=E-S}c(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(g,x,T,S,P,E){return this.fadeEffect.start(!1,g,x,T,S,!0,P,E)},fadeOut:function(g,x,T,S,P,E){return this.fadeEffect.start(!0,g,x,T,S,!0,P,E)},fadeFrom:function(g,x,T,S,P,E,R){return this.fadeEffect.start(!1,g,x,T,S,P,E,R)},fade:function(g,x,T,S,P,E,R){return this.fadeEffect.start(!0,g,x,T,S,P,E,R)},flash:function(g,x,T,S,P,E,R){return this.flashEffect.start(g,x,T,S,P,E,R)},shake:function(g,x,T,S,P){return this.shakeEffect.start(g,x,T,S,P)},pan:function(g,x,T,S,P,E,R){return this.panEffect.start(g,x,T,S,P,E,R)},rotateTo:function(g,x,T,S,P,E,R){return this.rotateToEffect.start(g,x,T,S,P,E,R)},zoomTo:function(g,x,T,S,P,E){return this.zoomEffect.start(g,x,T,S,P,E)},preRender:function(){this.renderList.length=0;var g=this.width,x=this.height,T=g*.5,S=x*.5,P=this.zoom,E=this.matrix,R=g*this.originX,A=x*this.originY,w=this._follow,O=this.deadzone,L=this.scrollX,F=this.scrollY;O&&c(O,this.midPoint.x,this.midPoint.y);var I=!1;if(this.roundPixels&&(R=Math.floor(R),A=Math.floor(A)),w&&!this.panEffect.isRunning){var b=this.lerp,G=w.x-this.followOffset.x,N=w.y-this.followOffset.y;this.roundPixels&&(G=Math.floor(G),N=Math.floor(N)),O?(G<O.x?L=v(L,L-(O.x-G),b.x):G>O.right&&(L=v(L,L+(G-O.right),b.x)),N<O.y?F=v(F,F-(O.y-N),b.y):N>O.bottom&&(F=v(F,F+(N-O.bottom),b.y))):(L=v(L,G-R,b.x),F=v(F,N-A,b.y)),I=!0}this.useBounds&&(L=this.clampX(L),F=this.clampY(F)),this.roundPixels&&(L=Math.floor(L),F=Math.floor(F)),this.scrollX=L,this.scrollY=F;var U=L+T,Y=F+S;this.midPoint.set(U,Y);var X=g/P,B=x/P,z=U-X/2,D=Y-B/2;this.roundPixels&&(z=Math.floor(z),D=Math.floor(D)),this.worldView.setTo(z,D,X,B),E.applyITRS(Math.floor(this.x+R),Math.floor(this.y+A),this.rotation,P,P),E.translate(-R,-A),this.shakeEffect.preRender(),I&&this.emit(l.FOLLOW_UPDATE,this,w)},setLerp:function(g,x){return g===void 0&&(g=1),x===void 0&&(x=g),this.lerp.set(g,x),this},setFollowOffset:function(g,x){return g===void 0&&(g=0),x===void 0&&(x=0),this.followOffset.set(g,x),this},startFollow:function(g,x,T,S,P,E){x===void 0&&(x=!1),T===void 0&&(T=1),S===void 0&&(S=T),P===void 0&&(P=0),E===void 0&&(E=P),this._follow=g,this.roundPixels=x,T=s(T,0,1),S=s(S,0,1),this.lerp.set(T,S),this.followOffset.set(P,E);var R=this.width/2,A=this.height/2,w=g.x-P,O=g.y-E;return this.midPoint.set(w,O),this.scrollX=w-R,this.scrollY=O-A,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(g,x){this.visible&&(this.rotateToEffect.update(g,x),this.panEffect.update(g,x),this.zoomEffect.update(g,x),this.shakeEffect.update(g,x),this.flashEffect.update(g,x),this.fadeEffect.update(g,x))},destroy:function(){this.resetFX(),f.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});h.exports=p},62382:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(47751),c=e(56694),s=e(72632),a=e(91963),r=e(94287),o=e(40444),l=e(7599),v=new c({initialize:function(d){this.scene=d,this.systems=d.sys,this.roundPixels=d.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,d.sys.events.once(l.BOOT,this.boot,this),d.sys.events.on(l.START,this.start,this)},boot:function(){var u=this.systems;u.settings.cameras?this.fromJSON(u.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new f(0,0,u.scale.width,u.scale.height).setScene(this.scene),u.game.scale.on(o.RESIZE,this.onResize,this),this.systems.events.once(l.DESTROY,this.destroy,this)},start:function(){if(!this.main){var u=this.systems;u.settings.cameras?this.fromJSON(u.settings.cameras):this.add(),this.main=this.cameras[0]}var d=this.systems.events;d.on(l.UPDATE,this.update,this),d.once(l.SHUTDOWN,this.shutdown,this)},add:function(u,d,p,g,x,T){u===void 0&&(u=0),d===void 0&&(d=0),p===void 0&&(p=this.scene.sys.scale.width),g===void 0&&(g=this.scene.sys.scale.height),x===void 0&&(x=!1),T===void 0&&(T="");var S=new f(u,d,p,g);return S.setName(T),S.setScene(this.scene),S.setRoundPixels(this.roundPixels),S.id=this.getNextID(),this.cameras.push(S),x&&(this.main=S),S},addExisting:function(u,d){d===void 0&&(d=!1);var p=this.cameras.indexOf(u);return p===-1?(u.id=this.getNextID(),u.setRoundPixels(this.roundPixels),this.cameras.push(u),d&&(this.main=u),u):null},getNextID:function(){for(var u=this.cameras,d=1,p=0;p<32;p++){for(var g=!1,x=0;x<u.length;x++){var T=u[x];if(T&&T.id===d){g=!0;continue}}if(g)d=d<<1;else return d}return 0},getTotal:function(u){u===void 0&&(u=!1);for(var d=0,p=this.cameras,g=0;g<p.length;g++){var x=p[g];(!u||u&&x.visible)&&d++}return d},fromJSON:function(u){Array.isArray(u)||(u=[u]);for(var d=this.scene.sys.scale.width,p=this.scene.sys.scale.height,g=0;g<u.length;g++){var x=u[g],T=s(x,"x",0),S=s(x,"y",0),P=s(x,"width",d),E=s(x,"height",p),R=this.add(T,S,P,E);R.name=s(x,"name",""),R.zoom=s(x,"zoom",1),R.rotation=s(x,"rotation",0),R.scrollX=s(x,"scrollX",0),R.scrollY=s(x,"scrollY",0),R.roundPixels=s(x,"roundPixels",!1),R.visible=s(x,"visible",!0);var A=s(x,"backgroundColor",!1);A&&R.setBackgroundColor(A);var w=s(x,"bounds",null);if(w){var O=s(w,"x",0),L=s(w,"y",0),F=s(w,"width",d),I=s(w,"height",p);R.setBounds(O,L,F,I)}}return this},getCamera:function(u){for(var d=this.cameras,p=0;p<d.length;p++)if(d[p].name===u)return d[p];return null},getCamerasBelowPointer:function(u){for(var d=this.cameras,p=u.x,g=u.y,x=[],T=0;T<d.length;T++){var S=d[T];S.visible&&S.inputEnabled&&r(S,p,g)&&x.unshift(S)}return x},remove:function(u,d){d===void 0&&(d=!0),Array.isArray(u)||(u=[u]);for(var p=0,g=this.cameras,x=0;x<u.length;x++){var T=g.indexOf(u[x]);T!==-1&&(d?g[T].destroy():g[T].renderList=[],g.splice(T,1),p++)}return!this.main&&g[0]&&(this.main=g[0]),p},render:function(u,d){for(var p=this.scene,g=this.cameras,x=0;x<g.length;x++){var T=g[x];if(T.visible&&T.alpha>0){T.preRender();var S=this.getVisibleChildren(d.getChildren(),T);u.render(p,S,T)}}},getVisibleChildren:function(u,d){return u.filter(function(p){return p.willRender(d)})},resetAll:function(){for(var u=0;u<this.cameras.length;u++)this.cameras[u].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(u,d){for(var p=0;p<this.cameras.length;p++)this.cameras[p].update(u,d)},onResize:function(u,d,p,g,x){for(var T=0;T<this.cameras.length;T++){var S=this.cameras[T];S._x===0&&S._y===0&&S._width===g&&S._height===x&&S.setSize(d.width,d.height)}},resize:function(u,d){for(var p=0;p<this.cameras.length;p++)this.cameras[p].setSize(u,d)},shutdown:function(){this.main=void 0;for(var u=0;u<this.cameras.length;u++)this.cameras[u].destroy();this.cameras=[];var d=this.systems.events;d.off(l.UPDATE,this.update,this),d.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(l.START,this.start,this),this.systems.events.off(l.DESTROY,this.destroy,this),this.systems.game.scale.off(o.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});a.register("CameraManager",v,"cameras"),h.exports=v},92522:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(82897),c=e(56694),s=e(89787),a=new c({initialize:function(o){this.camera=o,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(r,o,l,v,u,d,p,g){if(r===void 0&&(r=!0),o===void 0&&(o=1e3),l===void 0&&(l=0),v===void 0&&(v=0),u===void 0&&(u=0),d===void 0&&(d=!1),p===void 0&&(p=null),g===void 0&&(g=this.camera.scene),!d&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=o,this.direction=r,this.progress=0,this.red=l,this.green=v,this.blue=u,this.alpha=r?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=p,this._onUpdateScope=g;var x=r?s.FADE_OUT_START:s.FADE_IN_START;return this.camera.emit(x,this.camera,this,o,l,v,u),this.camera},update:function(r,o){this.isRunning&&(this._elapsed+=o,this.progress=f(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(r){if(!this.isRunning&&!this.isComplete)return!1;var o=this.camera;return r.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",r.fillRect(o.x,o.y,o.width,o.height),!0},postRenderWebGL:function(r,o){if(!this.isRunning&&!this.isComplete)return!1;var l=this.camera,v=this.red/255,u=this.green/255,d=this.blue/255;return r.drawFillRect(l.x,l.y,l.width,l.height,o(d,u,v,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var r=this.direction?s.FADE_OUT_COMPLETE:s.FADE_IN_COMPLETE;this.camera.emit(r,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});h.exports=a},22151:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(82897),c=e(56694),s=e(89787),a=new c({initialize:function(o){this.camera=o,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(r,o,l,v,u,d,p){return r===void 0&&(r=250),o===void 0&&(o=255),l===void 0&&(l=255),v===void 0&&(v=255),u===void 0&&(u=!1),d===void 0&&(d=null),p===void 0&&(p=this.camera.scene),!u&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=r,this.progress=0,this.red=o,this.green=l,this.blue=v,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=d,this._onUpdateScope=p,this.camera.emit(s.FLASH_START,this.camera,this,r,o,l,v),this.camera)},update:function(r,o){this.isRunning&&(this._elapsed+=o,this.progress=f(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(r){if(!this.isRunning)return!1;var o=this.camera;return r.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",r.fillRect(o.x,o.y,o.width,o.height),!0},postRenderWebGL:function(r,o){if(!this.isRunning)return!1;var l=this.camera,v=this.red/255,u=this.green/255,d=this.blue/255;return r.drawFillRect(l.x,l.y,l.width,l.height,o(d,u,v,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});h.exports=a},37551:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(82897),c=e(56694),s=e(35060),a=e(89787),r=e(93736),o=new c({initialize:function(v){this.camera=v,this.isRunning=!1,this.duration=0,this.source=new r,this.current=new r,this.destination=new r,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(l,v,u,d,p,g,x){u===void 0&&(u=1e3),d===void 0&&(d=s.Linear),p===void 0&&(p=!1),g===void 0&&(g=null),x===void 0&&(x=this.camera.scene);var T=this.camera;return!p&&this.isRunning||(this.isRunning=!0,this.duration=u,this.progress=0,this.source.set(T.scrollX,T.scrollY),this.destination.set(l,v),T.getScroll(l,v,this.current),typeof d=="string"&&s.hasOwnProperty(d)?this.ease=s[d]:typeof d=="function"&&(this.ease=d),this._elapsed=0,this._onUpdate=g,this._onUpdateScope=x,this.camera.emit(a.PAN_START,this.camera,this,u,l,v)),T},update:function(l,v){if(this.isRunning){this._elapsed+=v;var u=f(this._elapsed/this.duration,0,1);this.progress=u;var d=this.camera;if(this._elapsed<this.duration){var p=this.ease(u);d.getScroll(this.destination.x,this.destination.y,this.current);var g=this.source.x+(this.current.x-this.source.x)*p,x=this.source.y+(this.current.y-this.source.y)*p;d.setScroll(g,x),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,d,u,g,x)}else d.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,d,u,d.scrollX,d.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});h.exports=o},1771:(h,y,e)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var f=e(82897),c=e(56694),s=e(89787),a=e(35060),r=new c({initialize:function(l){this.camera=l,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(o,l,v,u,d,p,g){v===void 0&&(v=1e3),u===void 0&&(u=a.Linear),d===void 0&&(d=!1),p===void 0&&(p=null),g===void 0&&(g=this.camera.scene),l===void 0&&(l=!1),this.shortestPath=l;var x=o;o<0?(x=-1*o,this.clockwise=!1):this.clockwise=!0;var T=360*Math.PI/180;x=x-Math.floor(x/T)*T;var S=this.camera;if(!d&&this.isRunning)return S;if(this.isRunning=!0,this.duration=v,this.progress=0,this.source=S.rotation,this.destination=x,typeof u=="string"&&a.hasOwnProperty(u)?this.ease=a[u]:typeof u=="function"&&(this.ease=u),this._elapsed=0,this._onUpdate=p,this._onUpdateScope=g,this.shortestPath){var P=0,E=0;this.destination>this.source?P=Math.abs(this.destination-this.source):P=Math.abs(this.destination+T)-this.source,this.source>this.destination?E=Math.abs(this.source-this.destination):E=Math.abs(this.source+T)-this.destination,P<E?this.clockwise=!0:P>E&&(this.clockwise=!1)}return this.camera.emit(s.ROTATE_START,this.camera,this,v,x),S},update:function(o,l){if(this.isRunning){this._elapsed+=l;var v=f(this._elapsed/this.duration,0,1);this.progress=v;var u=this.camera;if(this._elapsed<this.duration){var d=this.ease(v);this.current=u.rotation;var p=0,g=360*Math.PI/180,x=this.destination,T=this.current;this.clockwise===!1&&(x=this.current,T=this.destination),x>=T?p=Math.abs(x-T):p=Math.abs(x+g)-T;var S=0;this.clockwise?S=u.rotation+p*d:S=u.rotation-p*d,u.rotation=S,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,u,v,S)}else u.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,u,v,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});h.exports=r},3241:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(82897),c=e(56694),s=e(89787),a=e(93736),r=new c({initialize:function(l){this.camera=l,this.isRunning=!1,this.duration=0,this.intensity=new a,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(o,l,v,u,d){return o===void 0&&(o=100),l===void 0&&(l=.05),v===void 0&&(v=!1),u===void 0&&(u=null),d===void 0&&(d=this.camera.scene),!v&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=o,this.progress=0,typeof l=="number"?this.intensity.set(l):this.intensity.set(l.x,l.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=u,this._onUpdateScope=d,this.camera.emit(s.SHAKE_START,this.camera,this,o,l),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(o,l){if(this.isRunning)if(this._elapsed+=l,this.progress=f(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var v=this.intensity,u=this.camera.width,d=this.camera.height,p=this.camera.zoom;this._offsetX=(Math.random()*v.x*u*2-v.x*u)*p,this._offsetY=(Math.random()*v.y*d*2-v.y*d)*p,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});h.exports=r},13383:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(82897),c=e(56694),s=e(35060),a=e(89787),r=new c({initialize:function(l){this.camera=l,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(o,l,v,u,d,p){l===void 0&&(l=1e3),v===void 0&&(v=s.Linear),u===void 0&&(u=!1),d===void 0&&(d=null),p===void 0&&(p=this.camera.scene);var g=this.camera;return!u&&this.isRunning||(this.isRunning=!0,this.duration=l,this.progress=0,this.source=g.zoom,this.destination=o,typeof v=="string"&&s.hasOwnProperty(v)?this.ease=s[v]:typeof v=="function"&&(this.ease=v),this._elapsed=0,this._onUpdate=d,this._onUpdateScope=p,this.camera.emit(a.ZOOM_START,this.camera,this,l,o)),g},update:function(o,l){this.isRunning&&(this._elapsed+=l,this.progress=f(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});h.exports=r},53030:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Fade:e(92522),Flash:e(22151),Pan:e(37551),Shake:e(3241),RotateTo:e(1771),Zoom:e(13383)}},39577:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="cameradestroy"},85373:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="camerafadeincomplete"},92057:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="camerafadeinstart"},1903:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="camerafadeoutcomplete"},96131:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="camerafadeoutstart"},85409:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="cameraflashcomplete"},25500:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="cameraflashstart"},44071:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="followupdate"},19818:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="camerapancomplete"},80002:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="camerapanstart"},87966:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="postrender"},74217:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="prerender"},34805:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="camerarotatecomplete"},30408:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="camerarotatestart"},49856:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="camerashakecomplete"},69189:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="camerashakestart"},67657:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="camerazoomcomplete"},14229:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="camerazoomstart"},89787:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={DESTROY:e(39577),FADE_IN_COMPLETE:e(85373),FADE_IN_START:e(92057),FADE_OUT_COMPLETE:e(1903),FADE_OUT_START:e(96131),FLASH_COMPLETE:e(85409),FLASH_START:e(25500),FOLLOW_UPDATE:e(44071),PAN_COMPLETE:e(19818),PAN_START:e(80002),POST_RENDER:e(87966),PRE_RENDER:e(74217),ROTATE_COMPLETE:e(34805),ROTATE_START:e(30408),SHAKE_COMPLETE:e(49856),SHAKE_START:e(69189),ZOOM_COMPLETE:e(67657),ZOOM_START:e(14229)}},32356:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Camera:e(47751),BaseCamera:e(51052),CameraManager:e(62382),Effects:e(53030),Events:e(89787)}},84219:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(10850),s=new f({initialize:function(r){this.camera=c(r,"camera",null),this.left=c(r,"left",null),this.right=c(r,"right",null),this.up=c(r,"up",null),this.down=c(r,"down",null),this.zoomIn=c(r,"zoomIn",null),this.zoomOut=c(r,"zoomOut",null),this.zoomSpeed=c(r,"zoomSpeed",.01),this.minZoom=c(r,"minZoom",.001),this.maxZoom=c(r,"maxZoom",1e3),this.speedX=0,this.speedY=0;var o=c(r,"speed",null);typeof o=="number"?(this.speedX=o,this.speedY=o):(this.speedX=c(r,"speed.x",0),this.speedY=c(r,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(a){return this.camera=a,this},update:function(a){if(this.active){a===void 0&&(a=1);var r=this.camera;this.up&&this.up.isDown?r.scrollY-=this.speedY*a|0:this.down&&this.down.isDown&&(r.scrollY+=this.speedY*a|0),this.left&&this.left.isDown?r.scrollX-=this.speedX*a|0:this.right&&this.right.isDown&&(r.scrollX+=this.speedX*a|0),this.zoomIn&&this.zoomIn.isDown?(r.zoom-=this.zoomSpeed,r.zoom<this.minZoom&&(r.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(r.zoom+=this.zoomSpeed,r.zoom>this.maxZoom&&(r.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});h.exports=s},69370:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(10850),s=new f({initialize:function(r){this.camera=c(r,"camera",null),this.left=c(r,"left",null),this.right=c(r,"right",null),this.up=c(r,"up",null),this.down=c(r,"down",null),this.zoomIn=c(r,"zoomIn",null),this.zoomOut=c(r,"zoomOut",null),this.zoomSpeed=c(r,"zoomSpeed",.01),this.minZoom=c(r,"minZoom",.001),this.maxZoom=c(r,"maxZoom",1e3),this.accelX=0,this.accelY=0;var o=c(r,"acceleration",null);typeof o=="number"?(this.accelX=o,this.accelY=o):(this.accelX=c(r,"acceleration.x",0),this.accelY=c(r,"acceleration.y",0)),this.dragX=0,this.dragY=0;var l=c(r,"drag",null);typeof l=="number"?(this.dragX=l,this.dragY=l):(this.dragX=c(r,"drag.x",0),this.dragY=c(r,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var v=c(r,"maxSpeed",null);typeof v=="number"?(this.maxSpeedX=v,this.maxSpeedY=v):(this.maxSpeedX=c(r,"maxSpeed.x",0),this.maxSpeedY=c(r,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(a){return this.camera=a,this},update:function(a){if(this.active){a===void 0&&(a=1);var r=this.camera;this._speedX>0?(this._speedX-=this.dragX*a,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*a,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*a,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*a,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(r.scrollX-=this._speedX*a|0),this._speedY!==0&&(r.scrollY-=this._speedY*a|0),this._zoom!==0&&(r.zoom+=this._zoom,r.zoom<this.minZoom?r.zoom=this.minZoom:r.zoom>this.maxZoom&&(r.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});h.exports=s},6524:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={FixedKeyControl:e(84219),SmoothedKeyControl:e(69370)}},44143:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Controls:e(6524),Scene2D:e(32356)}},86459:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={VERSION:"3.60.0",BlendModes:e(95723),ScaleModes:e(27394),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};h.exports=f},14033:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(86459),s=e(18360),a=e(77290),r=e(72632),o=e(10850),l=e(42911),v=e(72283),u=e(5923),d=e(65641),p=e(93222),g=new f({initialize:function(T){T===void 0&&(T={});var S=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],P="#ffffff",E=o(T,"scale",null);this.width=o(E,"width",1024,T),this.height=o(E,"height",768,T),this.zoom=o(E,"zoom",1,T),this.parent=o(E,"parent",void 0,T),this.scaleMode=o(E,E?"mode":"scaleMode",0,T),this.expandParent=o(E,"expandParent",!0,T),this.autoRound=o(E,"autoRound",!1,T),this.autoCenter=o(E,"autoCenter",0,T),this.resizeInterval=o(E,"resizeInterval",500,T),this.fullscreenTarget=o(E,"fullscreenTarget",null,T),this.minWidth=o(E,"minWidth",0,T),this.maxWidth=o(E,"maxWidth",0,T),this.minHeight=o(E,"minHeight",0,T),this.maxHeight=o(E,"maxHeight",0,T),this.renderType=o(T,"type",c.AUTO),this.canvas=o(T,"canvas",null),this.context=o(T,"context",null),this.canvasStyle=o(T,"canvasStyle",null),this.customEnvironment=o(T,"customEnvironment",!1),this.sceneConfig=o(T,"scene",null),this.seed=o(T,"seed",[(Date.now()*Math.random()).toString()]),u.RND=new u.RandomDataGenerator(this.seed),this.gameTitle=o(T,"title",""),this.gameURL=o(T,"url","https://phaser.io"),this.gameVersion=o(T,"version",""),this.autoFocus=o(T,"autoFocus",!0),this.stableSort=o(T,"stableSort",-1),this.stableSort===-1&&(this.stableSort=a.browser.es2019?1:0),a.features.stableSort=this.stableSort,this.domCreateContainer=o(T,"dom.createContainer",!1),this.domPointerEvents=o(T,"dom.pointerEvents","none"),this.inputKeyboard=o(T,"input.keyboard",!0),this.inputKeyboardEventTarget=o(T,"input.keyboard.target",window),this.inputKeyboardCapture=o(T,"input.keyboard.capture",[]),this.inputMouse=o(T,"input.mouse",!0),this.inputMouseEventTarget=o(T,"input.mouse.target",null),this.inputMousePreventDefaultDown=o(T,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=o(T,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=o(T,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=o(T,"input.mouse.preventDefaultWheel",!0),this.inputTouch=o(T,"input.touch",a.input.touch),this.inputTouchEventTarget=o(T,"input.touch.target",null),this.inputTouchCapture=o(T,"input.touch.capture",!0),this.inputActivePointers=o(T,"input.activePointers",1),this.inputSmoothFactor=o(T,"input.smoothFactor",0),this.inputWindowEvents=o(T,"input.windowEvents",!0),this.inputGamepad=o(T,"input.gamepad",!1),this.inputGamepadEventTarget=o(T,"input.gamepad.target",window),this.disableContextMenu=o(T,"disableContextMenu",!1),this.audio=o(T,"audio",{}),this.hideBanner=o(T,"banner",null)===!1,this.hidePhaser=o(T,"banner.hidePhaser",!1),this.bannerTextColor=o(T,"banner.text",P),this.bannerBackgroundColor=o(T,"banner.background",S),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=o(T,"fps",null);var R=o(T,"render",null);this.pipeline=o(R,"pipeline",null,T),this.autoMobilePipeline=o(R,"autoMobilePipeline",!0,T),this.defaultPipeline=o(R,"defaultPipeline",d.MULTI_PIPELINE,T),this.antialias=o(R,"antialias",!0,T),this.antialiasGL=o(R,"antialiasGL",!0,T),this.mipmapFilter=o(R,"mipmapFilter","",T),this.desynchronized=o(R,"desynchronized",!1,T),this.roundPixels=o(R,"roundPixels",!1,T),this.pixelArt=o(R,"pixelArt",this.zoom!==1,T),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=o(R,"transparent",!1,T),this.clearBeforeRender=o(R,"clearBeforeRender",!0,T),this.preserveDrawingBuffer=o(R,"preserveDrawingBuffer",!1,T),this.premultipliedAlpha=o(R,"premultipliedAlpha",!0,T),this.failIfMajorPerformanceCaveat=o(R,"failIfMajorPerformanceCaveat",!1,T),this.powerPreference=o(R,"powerPreference","default",T),this.batchSize=o(R,"batchSize",4096,T),this.maxTextures=o(R,"maxTextures",-1,T),this.maxLights=o(R,"maxLights",10,T);var A=o(T,"backgroundColor",0);this.backgroundColor=p(A),this.transparent&&(this.backgroundColor=p(0),this.backgroundColor.alpha=0),this.preBoot=o(T,"callbacks.preBoot",v),this.postBoot=o(T,"callbacks.postBoot",v),this.physics=o(T,"physics",{}),this.defaultPhysicsSystem=o(this.physics,"default",!1),this.loaderBaseURL=o(T,"loader.baseURL",""),this.loaderPath=o(T,"loader.path",""),this.loaderMaxParallelDownloads=o(T,"loader.maxParallelDownloads",a.os.android?6:32),this.loaderCrossOrigin=o(T,"loader.crossOrigin",void 0),this.loaderResponseType=o(T,"loader.responseType",""),this.loaderAsync=o(T,"loader.async",!0),this.loaderUser=o(T,"loader.user",""),this.loaderPassword=o(T,"loader.password",""),this.loaderTimeout=o(T,"loader.timeout",0),this.loaderWithCredentials=o(T,"loader.withCredentials",!1),this.loaderImageLoadType=o(T,"loader.imageLoadType","XHR"),this.loaderLocalScheme=o(T,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=o(T,"fx.glow.quality",.1),this.glowFXDistance=o(T,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var w=o(T,"plugins",null),O=s.DefaultScene;w&&(Array.isArray(w)?this.defaultPlugins=w:l(w)&&(this.installGlobalPlugins=r(w,"global",[]),this.installScenePlugins=r(w,"scene",[]),Array.isArray(w.default)?O=w.default:Array.isArray(w.defaultMerge)&&(O=O.concat(w.defaultMerge)))),this.defaultPlugins=O;var L="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=o(T,"images.default",L+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=o(T,"images.missing",L+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=o(T,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=c.WEBGL:window.FORCE_CANVAS&&(this.renderType=c.CANVAS))}});h.exports=g},50150:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(70616),c=e(61068),s=e(86459),a=e(90185),r=function(o){var l=o.config;if((l.customEnvironment||l.canvas)&&l.renderType===s.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!l.customEnvironment&&!l.canvas&&l.renderType!==s.HEADLESS)if(l.renderType===s.AUTO&&(l.renderType=a.webGL?s.WEBGL:s.CANVAS),l.renderType===s.WEBGL){if(!a.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(l.renderType===s.CANVAS){if(!a.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+l.renderType);l.antialias||c.disableSmoothing();var v=o.scale.baseSize,u=v.width,d=v.height;if(l.canvas?(o.canvas=l.canvas,o.canvas.width=u,o.canvas.height=d):o.canvas=c.create(o,u,d,l.renderType),l.canvasStyle&&(o.canvas.style=l.canvasStyle),l.antialias||f.setCrisp(o.canvas),l.renderType!==s.HEADLESS){var p,g;p=e(91135),g=e(11857),l.renderType===s.WEBGL?o.renderer=new g(o):(o.renderer=new p(o),o.context=o.renderer.gameContext)}};h.exports=r},77291:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(86459),c=function(s){var a=s.config;if(!a.hideBanner){var r="WebGL";a.renderType===f.CANVAS?r="Canvas":a.renderType===f.HEADLESS&&(r="Headless");var o=a.audio,l=s.device.audio,v;if(l.webAudio&&!o.disableWebAudio?v="Web Audio":o.noAudio||!l.webAudio&&!l.audioData?v="No Audio":v="HTML5 Audio",s.device.browser.ie)window.console&&console.log("Phaser v"+f.VERSION+" / https://phaser.io");else{var u="",d=[u];if(Array.isArray(a.bannerBackgroundColor)){var p;a.bannerBackgroundColor.forEach(function(x){u=u.concat("%c "),d.push("background: "+x),p=x}),d[d.length-1]="color: "+a.bannerTextColor+"; background: "+p}else u=u.concat("%c "),d.push("color: "+a.bannerTextColor+"; background: "+a.bannerBackgroundColor);d.push("background: transparent"),a.gameTitle&&(u=u.concat(a.gameTitle),a.gameVersion&&(u=u.concat(" v"+a.gameVersion)),a.hidePhaser||(u=u.concat(" / ")));var g="";a.hidePhaser||(u=u.concat("Phaser v"+f.VERSION+g+" ("+r+" | "+v+")")),u=u.concat(" %c "+a.gameURL),d[0]=u,console.log.apply(console,d)}}};h.exports=c},15213:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(99584),c=e(90249),s=e(43474),a=e(61068),r=e(56694),o=e(14033),l=e(85178),v=e(50150),u=e(81078),d=e(77291),p=e(77290),g=e(21546),x=e(6659),T=e(97081),S=e(69898),P=e(91963),E=e(49274),R=e(756),A=e(13553),w=e(38203),O=e(6237),L=e(26617),F=e(26493),I=e(84191),b=new r({initialize:function(N){this.config=new o(N),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new x,this.anims=new c(this),this.textures=new O(this),this.cache=new s(this),this.registry=new u(this,new x),this.input=new S(this,this.config),this.scene=new A(this,this.config.sceneConfig),this.device=p,this.scale=new R(this,this.config),this.sound=null,this.sound=I.create(this),this.loop=new L(this,this.config.fps),this.plugins=new E(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,g(this.boot.bind(this))},boot:function(){if(!P.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),v(this),l(this),d(this),f(this.canvas,this.config.parent),this.textures.once(w.READY,this.texturesReady,this),this.events.emit(T.BOOT)},texturesReady:function(){this.events.emit(T.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),F(this);var G=this.events;G.on(T.HIDDEN,this.onHidden,this),G.on(T.VISIBLE,this.onVisible,this),G.on(T.BLUR,this.onBlur,this),G.on(T.FOCUS,this.onFocus,this)},step:function(G,N){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var U=this.events;U.emit(T.PRE_STEP,G,N),U.emit(T.STEP,G,N),this.scene.update(G,N),U.emit(T.POST_STEP,G,N);var Y=this.renderer;Y.preRender(),U.emit(T.PRE_RENDER,Y,G,N),this.scene.render(Y),Y.postRender(),U.emit(T.POST_RENDER,Y,G,N)}},headlessStep:function(G,N){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var U=this.events;U.emit(T.PRE_STEP,G,N),U.emit(T.STEP,G,N),this.scene.update(G,N),U.emit(T.POST_STEP,G,N),this.scene.isProcessing=!1,U.emit(T.PRE_RENDER,null,G,N),U.emit(T.POST_RENDER,null,G,N)}},onHidden:function(){this.loop.pause(),this.events.emit(T.PAUSE)},pause:function(){var G=this.isPaused;this.isPaused=!0,G||this.events.emit(T.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(T.RESUME)},resume:function(){var G=this.isPaused;this.isPaused=!1,G&&this.events.emit(T.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(G,N){N===void 0&&(N=!1),this.pendingDestroy=!0,this.removeCanvas=G,this.noReturn=N},runDestroy:function(){this.scene.destroy(),this.events.emit(T.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(a.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});h.exports=b},26617:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(10850),s=e(72283),a=e(27385),r=new f({initialize:function(l,v){this.game=l,this.raf=new a,this.started=!1,this.running=!1,this.minFps=c(v,"min",5),this.targetFps=c(v,"target",60),this.fpsLimit=c(v,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=s,this.forceSetTimeOut=c(v,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=c(v,"deltaHistory",10),this.panicMax=c(v,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=c(v,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var o=window.performance.now();this.time=o,this.lastTime=o,this.nextFpsUpdate=o+1e3,this.framesThisSecond=0;for(var l=0;l<this.deltaSmoothingMax;l++)this.deltaHistory[l]=Math.min(this._target,this.deltaHistory[l]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(o){if(this.started)return this;this.started=!0,this.running=!0;for(var l=0;l<this.deltaSmoothingMax;l++)this.deltaHistory[l]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=o;var v=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(v,this.forceSetTimeOut,this._target)},smoothDelta:function(o){var l=this.deltaIndex,v=this.deltaHistory,u=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,o=Math.min(o,this._target)),o>this._min&&(o=v[l],o=Math.min(o,this._min)),v[l]=o,this.deltaIndex++,this.deltaIndex>=u&&(this.deltaIndex=0);for(var d=0,p=0;p<u;p++)d+=v[p];return d/=u,d},updateFPS:function(o){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=o+1e3,this.framesThisSecond=0},stepLimitFPS:function(o){this.now=o;var l=Math.max(0,o-this.lastTime);this.rawDelta=l,this.time+=this.rawDelta,this.smoothStep&&(l=this.smoothDelta(l)),this.delta+=l,o>=this.nextFpsUpdate&&this.updateFPS(o),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(o,this.delta),this.delta=0),this.lastTime=o,this.frame++},step:function(o){this.now=o;var l=Math.max(0,o-this.lastTime);this.rawDelta=l,this.time+=this.rawDelta,this.smoothStep&&(l=this.smoothDelta(l)),this.delta=l,o>=this.nextFpsUpdate&&this.updateFPS(o),this.framesThisSecond++,this.callback(o,l),this.lastTime=o,this.frame++},tick:function(){var o=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(o):this.step(o)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(o){o===void 0&&(o=!1);var l=window.performance.now();if(!this.running){o&&(this.startTime+=-this.lastTime+(this.lastTime+l));var v=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(v,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=l+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});h.exports=r},26493:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(97081),c=function(s){var a,r=s.events;if(document.hidden!==void 0)a="visibilitychange";else{var o=["webkit","moz","ms"];o.forEach(function(v){document[v+"Hidden"]!==void 0&&(document.hidden=function(){return document[v+"Hidden"]},a=v+"visibilitychange")})}var l=function(v){document.hidden||v.type==="pause"?r.emit(f.HIDDEN):r.emit(f.VISIBLE)};a&&document.addEventListener(a,l,!1),window.onblur=function(){r.emit(f.BLUR)},window.onfocus=function(){r.emit(f.FOCUS)},window.focus&&s.config.autoFocus&&window.focus()};h.exports=c},41651:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="blur"},5520:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="boot"},51673:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="contextlost"},25055:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="destroy"},23767:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="focus"},57564:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="hidden"},38327:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pause"},43807:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="postrender"},73652:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="poststep"},780:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="prerender"},13781:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="prestep"},38247:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="ready"},29129:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="resume"},34994:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="step"},98704:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="visible"},97081:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={BLUR:e(41651),BOOT:e(5520),CONTEXT_LOST:e(51673),DESTROY:e(25055),FOCUS:e(23767),HIDDEN:e(57564),PAUSE:e(38327),POST_RENDER:e(43807),POST_STEP:e(73652),PRE_RENDER:e(780),PRE_STEP:e(13781),READY:e(38247),RESUME:e(29129),STEP:e(34994),VISIBLE:e(98704)}},80293:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Config:e(14033),CreateRenderer:e(50150),DebugHeader:e(77291),Events:e(97081),TimeStep:e(26617),VisibilityHandler:e(26493)}},52780:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(81543),c=e(61068),s=e(10850),a=function(r){var o=s(r,"data",[]),l=s(r,"canvas",null),v=s(r,"palette",f),u=s(r,"pixelWidth",1),d=s(r,"pixelHeight",u),p=s(r,"resizeCanvas",!0),g=s(r,"clearCanvas",!0),x=s(r,"preRender",null),T=s(r,"postRender",null),S=Math.floor(Math.abs(o[0].length*u)),P=Math.floor(Math.abs(o.length*d));l||(l=c.create2D(this,S,P),p=!1,g=!1),p&&(l.width=S,l.height=P);var E=l.getContext("2d",{willReadFrequently:!0});g&&E.clearRect(0,0,S,P),x&&x(l,E);for(var R=0;R<o.length;R++)for(var A=o[R],w=0;w<A.length;w++){var O=A[w];O!=="."&&O!==" "&&(E.fillStyle=v[O],E.fillRect(w*u,R*d,u,d))}return T&&T(l,E),l};h.exports=a},84106:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={GenerateTexture:e(52780),Palettes:e(25235)}},81543:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},75846:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},83206:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},13194:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},50686:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},25235:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={ARNE16:e(81543),C64:e(75846),CGA:e(83206),JMP:e(13194),MSX:e(50686)}},63120:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(34631),s=e(38517),a=e(93736),r=new f({Extends:s,initialize:function(l,v,u,d){s.call(this,"CubicBezierCurve"),Array.isArray(l)&&(d=new a(l[6],l[7]),u=new a(l[4],l[5]),v=new a(l[2],l[3]),l=new a(l[0],l[1])),this.p0=l,this.p1=v,this.p2=u,this.p3=d},getStartPoint:function(o){return o===void 0&&(o=new a),o.copy(this.p0)},getResolution:function(o){return o},getPoint:function(o,l){l===void 0&&(l=new a);var v=this.p0,u=this.p1,d=this.p2,p=this.p3;return l.set(c(o,v.x,u.x,d.x,p.x),c(o,v.y,u.y,d.y,p.y))},draw:function(o,l){l===void 0&&(l=32);var v=this.getPoints(l);o.beginPath(),o.moveTo(this.p0.x,this.p0.y);for(var u=1;u<v.length;u++)o.lineTo(v[u].x,v[u].y);return o.strokePath(),o},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});r.fromJSON=function(o){var l=o.points,v=new a(l[0],l[1]),u=new a(l[2],l[3]),d=new a(l[4],l[5]),p=new a(l[6],l[7]);return new r(v,u,d,p)},h.exports=r},38517:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(80222),s=e(74118),a=e(93736),r=new f({initialize:function(l){this.type=l,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new a,this._tmpVec2B=new a},draw:function(o,l){return l===void 0&&(l=32),o.strokePoints(this.getPoints(l))},getBounds:function(o,l){o||(o=new s),l===void 0&&(l=16);var v=this.getLength();l>v&&(l=v/2);var u=Math.max(1,Math.round(v/l));return c(this.getSpacedPoints(u),o)},getDistancePoints:function(o){var l=this.getLength(),v=Math.max(1,l/o);return this.getSpacedPoints(v)},getEndPoint:function(o){return o===void 0&&(o=new a),this.getPointAt(1,o)},getLength:function(){var o=this.getLengths();return o[o.length-1]},getLengths:function(o){if(o===void 0&&(o=this.arcLengthDivisions),this.cacheArcLengths.length===o+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var l=[],v,u=this.getPoint(0,this._tmpVec2A),d=0;l.push(0);for(var p=1;p<=o;p++)v=this.getPoint(p/o,this._tmpVec2B),d+=v.distance(u),l.push(d),u.copy(v);return this.cacheArcLengths=l,l},getPointAt:function(o,l){var v=this.getUtoTmapping(o);return this.getPoint(v,l)},getPoints:function(o,l,v){v===void 0&&(v=[]),o||(l?o=this.getLength()/l:o=this.defaultDivisions);for(var u=0;u<=o;u++)v.push(this.getPoint(u/o));return v},getRandomPoint:function(o){return o===void 0&&(o=new a),this.getPoint(Math.random(),o)},getSpacedPoints:function(o,l,v){v===void 0&&(v=[]),o||(l?o=this.getLength()/l:o=this.defaultDivisions);for(var u=0;u<=o;u++){var d=this.getUtoTmapping(u/o,null,o);v.push(this.getPoint(d))}return v},getStartPoint:function(o){return o===void 0&&(o=new a),this.getPointAt(0,o)},getTangent:function(o,l){l===void 0&&(l=new a);var v=1e-4,u=o-v,d=o+v;return u<0&&(u=0),d>1&&(d=1),this.getPoint(u,this._tmpVec2A),this.getPoint(d,l),l.subtract(this._tmpVec2A).normalize()},getTangentAt:function(o,l){var v=this.getUtoTmapping(o);return this.getTangent(v,l)},getTFromDistance:function(o,l){return o<=0?0:this.getUtoTmapping(0,o,l)},getUtoTmapping:function(o,l,v){var u=this.getLengths(v),d=0,p=u.length,g;l?g=Math.min(l,u[p-1]):g=o*u[p-1];for(var x=0,T=p-1,S;x<=T;)if(d=Math.floor(x+(T-x)/2),S=u[d]-g,S<0)x=d+1;else if(S>0)T=d-1;else{T=d;break}if(d=T,u[d]===g)return d/(p-1);var P=u[d],E=u[d+1],R=E-P,A=(g-P)/R;return(d+A)/(p-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});h.exports=r},48835:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(38517),s=e(75606),a=e(10850),r=e(23701),o=e(93736),l=new f({Extends:c,initialize:function(u,d,p,g,x,T,S,P){if(typeof u=="object"){var E=u;u=a(E,"x",0),d=a(E,"y",0),p=a(E,"xRadius",0),g=a(E,"yRadius",p),x=a(E,"startAngle",0),T=a(E,"endAngle",360),S=a(E,"clockwise",!1),P=a(E,"rotation",0)}else g===void 0&&(g=p),x===void 0&&(x=0),T===void 0&&(T=360),S===void 0&&(S=!1),P===void 0&&(P=0);c.call(this,"EllipseCurve"),this.p0=new o(u,d),this._xRadius=p,this._yRadius=g,this._startAngle=s(x),this._endAngle=s(T),this._clockwise=S,this._rotation=s(P)},getStartPoint:function(v){return v===void 0&&(v=new o),this.getPoint(0,v)},getResolution:function(v){return v*2},getPoint:function(v,u){u===void 0&&(u=new o);for(var d=Math.PI*2,p=this._endAngle-this._startAngle,g=Math.abs(p)<Number.EPSILON;p<0;)p+=d;for(;p>d;)p-=d;p<Number.EPSILON&&(g?p=0:p=d),this._clockwise&&!g&&(p===d?p=-d:p=p-d);var x=this._startAngle+v*p,T=this.p0.x+this._xRadius*Math.cos(x),S=this.p0.y+this._yRadius*Math.sin(x);if(this._rotation!==0){var P=Math.cos(this._rotation),E=Math.sin(this._rotation),R=T-this.p0.x,A=S-this.p0.y;T=R*P-A*E+this.p0.x,S=R*E+A*P+this.p0.y}return u.set(T,S)},setXRadius:function(v){return this.xRadius=v,this},setYRadius:function(v){return this.yRadius=v,this},setWidth:function(v){return this.xRadius=v/2,this},setHeight:function(v){return this.yRadius=v/2,this},setStartAngle:function(v){return this.startAngle=v,this},setEndAngle:function(v){return this.endAngle=v,this},setClockwise:function(v){return this.clockwise=v,this},setRotation:function(v){return this.rotation=v,this},x:{get:function(){return this.p0.x},set:function(v){this.p0.x=v}},y:{get:function(){return this.p0.y},set:function(v){this.p0.y=v}},xRadius:{get:function(){return this._xRadius},set:function(v){this._xRadius=v}},yRadius:{get:function(){return this._yRadius},set:function(v){this._yRadius=v}},startAngle:{get:function(){return r(this._startAngle)},set:function(v){this._startAngle=s(v)}},endAngle:{get:function(){return r(this._endAngle)},set:function(v){this._endAngle=s(v)}},clockwise:{get:function(){return this._clockwise},set:function(v){this._clockwise=v}},angle:{get:function(){return r(this._rotation)},set:function(v){this._rotation=s(v)}},rotation:{get:function(){return this._rotation},set:function(v){this._rotation=v}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:r(this._startAngle),endAngle:r(this._endAngle),clockwise:this._clockwise,rotation:r(this._rotation)}}});l.fromJSON=function(v){return new l(v)},h.exports=l},58084:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(38517),s=e(80222),a=e(74118),r=e(93736),o=new f({Extends:c,initialize:function(v,u){c.call(this,"LineCurve"),Array.isArray(v)&&(u=new r(v[2],v[3]),v=new r(v[0],v[1])),this.p0=v,this.p1=u,this.arcLengthDivisions=1},getBounds:function(l){return l===void 0&&(l=new a),s([this.p0,this.p1],l)},getStartPoint:function(l){return l===void 0&&(l=new r),l.copy(this.p0)},getResolution:function(l){return l===void 0&&(l=1),l},getPoint:function(l,v){return v===void 0&&(v=new r),l===1?v.copy(this.p1):(v.copy(this.p1).subtract(this.p0).scale(l).add(this.p0),v)},getPointAt:function(l,v){return this.getPoint(l,v)},getTangent:function(l,v){return v===void 0&&(v=new r),v.copy(this.p1).subtract(this.p0).normalize(),v},getUtoTmapping:function(l,v,u){var d;if(v){var p=this.getLengths(u),g=p[p.length-1],x=Math.min(v,g);d=x/g}else d=l;return d},draw:function(l){return l.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),l},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});o.fromJSON=function(l){var v=l.points,u=new r(v[0],v[1]),d=new r(v[2],v[3]);return new o(u,d)},h.exports=o},64761:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(38517),s=e(16252),a=e(93736),r=new f({Extends:c,initialize:function(l,v,u){c.call(this,"QuadraticBezierCurve"),Array.isArray(l)&&(u=new a(l[4],l[5]),v=new a(l[2],l[3]),l=new a(l[0],l[1])),this.p0=l,this.p1=v,this.p2=u},getStartPoint:function(o){return o===void 0&&(o=new a),o.copy(this.p0)},getResolution:function(o){return o},getPoint:function(o,l){l===void 0&&(l=new a);var v=this.p0,u=this.p1,d=this.p2;return l.set(s(o,v.x,u.x,d.x),s(o,v.y,u.y,d.y))},draw:function(o,l){l===void 0&&(l=32);var v=this.getPoints(l);o.beginPath(),o.moveTo(this.p0.x,this.p0.y);for(var u=1;u<v.length;u++)o.lineTo(v[u].x,v[u].y);return o.strokePath(),o},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});r.fromJSON=function(o){var l=o.points,v=new a(l[0],l[1]),u=new a(l[2],l[3]),d=new a(l[4],l[5]);return new r(v,u,d)},h.exports=r},11956:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(14976),c=e(56694),s=e(38517),a=e(93736),r=new c({Extends:s,initialize:function(l){l===void 0&&(l=[]),s.call(this,"SplineCurve"),this.points=[],this.addPoints(l)},addPoints:function(o){for(var l=0;l<o.length;l++){var v=new a;typeof o[l]=="number"?(v.x=o[l],v.y=o[l+1],l++):Array.isArray(o[l])?(v.x=o[l][0],v.y=o[l][1]):(v.x=o[l].x,v.y=o[l].y),this.points.push(v)}return this},addPoint:function(o,l){var v=new a(o,l);return this.points.push(v),v},getStartPoint:function(o){return o===void 0&&(o=new a),o.copy(this.points[0])},getResolution:function(o){return o*this.points.length},getPoint:function(o,l){l===void 0&&(l=new a);var v=this.points,u=(v.length-1)*o,d=Math.floor(u),p=u-d,g=v[d===0?d:d-1],x=v[d],T=v[d>v.length-2?v.length-1:d+1],S=v[d>v.length-3?v.length-1:d+2];return l.set(f(p,g.x,x.x,T.x,S.x),f(p,g.y,x.y,T.y,S.y))},toJSON:function(){for(var o=[],l=0;l<this.points.length;l++)o.push(this.points[l].x),o.push(this.points[l].y);return{type:this.type,points:o}}});r.fromJSON=function(o){return new r(o.points)},h.exports=r},73962:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Path:e(12822),MoveTo:e(53639),CubicBezier:e(63120),Curve:e(38517),Ellipse:e(48835),Line:e(58084),QuadraticBezier:e(64761),Spline:e(11956)}},53639:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(93736),s=new f({initialize:function(r,o){this.active=!1,this.p0=new c(r,o)},getPoint:function(a,r){return r===void 0&&(r=new c),r.copy(this.p0)},getPointAt:function(a,r){return this.getPoint(a,r)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});h.exports=s},12822:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(63120),s=e(48835),a=e(61286),r=e(58084),o=e(53639),l=e(64761),v=e(74118),u=e(11956),d=e(93736),p=e(83392),g=new f({initialize:function(T,S){T===void 0&&(T=0),S===void 0&&(S=0),this.name="",this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new d,this._tmpVec2A=new d,this._tmpVec2B=new d,typeof T=="object"?this.fromJSON(T):this.startPoint.set(T,S)},add:function(x){return this.curves.push(x),this},circleTo:function(x,T,S){return T===void 0&&(T=!1),this.ellipseTo(x,x,0,360,T,S)},closePath:function(){var x=this.curves[0].getPoint(0),T=this.curves[this.curves.length-1].getPoint(1);return x.equals(T)||this.curves.push(new r(T,x)),this},cubicBezierTo:function(x,T,S,P,E,R){var A=this.getEndPoint(),w,O,L;return x instanceof d?(w=x,O=T,L=S):(w=new d(S,P),O=new d(E,R),L=new d(x,T)),this.add(new c(A,w,O,L))},quadraticBezierTo:function(x,T,S,P){var E=this.getEndPoint(),R,A;return x instanceof d?(R=x,A=T):(R=new d(S,P),A=new d(x,T)),this.add(new l(E,R,A))},draw:function(x,T){for(var S=0;S<this.curves.length;S++){var P=this.curves[S];P.active&&P.draw(x,T)}return x},ellipseTo:function(x,T,S,P,E,R){var A=new s(0,0,x,T,S,P,E,R),w=this.getEndPoint(this._tmpVec2A),O=A.getStartPoint(this._tmpVec2B);return w.subtract(O),A.x=w.x,A.y=w.y,this.add(A)},fromJSON:function(x){this.curves=[],this.cacheLengths=[],this.startPoint.set(x.x,x.y),this.autoClose=x.autoClose;for(var T=0;T<x.curves.length;T++){var S=x.curves[T];switch(S.type){case"LineCurve":this.add(r.fromJSON(S));break;case"EllipseCurve":this.add(s.fromJSON(S));break;case"SplineCurve":this.add(u.fromJSON(S));break;case"CubicBezierCurve":this.add(c.fromJSON(S));break;case"QuadraticBezierCurve":this.add(l.fromJSON(S));break}}return this},getBounds:function(x,T){x===void 0&&(x=new v),T===void 0&&(T=16),x.x=Number.MAX_VALUE,x.y=Number.MAX_VALUE;for(var S=new v,P=p.MIN_SAFE_INTEGER,E=p.MIN_SAFE_INTEGER,R=0;R<this.curves.length;R++){var A=this.curves[R];A.active&&(A.getBounds(S,T),x.x=Math.min(x.x,S.x),x.y=Math.min(x.y,S.y),P=Math.max(P,S.right),E=Math.max(E,S.bottom))}return x.right=P,x.bottom=E,x},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var x=[],T=0,S=0;S<this.curves.length;S++)T+=this.curves[S].getLength(),x.push(T);return this.cacheLengths=x,x},getCurveAt:function(x){for(var T=x*this.getLength(),S=this.getCurveLengths(),P=0;P<S.length;){if(S[P]>=T)return this.curves[P];P++}return null},getEndPoint:function(x){return x===void 0&&(x=new d),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,x):x.copy(this.startPoint),x},getLength:function(){var x=this.getCurveLengths();return x[x.length-1]},getPoint:function(x,T){T===void 0&&(T=new d);for(var S=x*this.getLength(),P=this.getCurveLengths(),E=0;E<P.length;){if(P[E]>=S){var R=P[E]-S,A=this.curves[E],w=A.getLength(),O=w===0?0:1-R/w;return A.getPointAt(O,T)}E++}return null},getPoints:function(x){x===void 0&&(x=12);for(var T=[],S,P=0;P<this.curves.length;P++){var E=this.curves[P];if(E.active)for(var R=E.getResolution(x),A=E.getPoints(R),w=0;w<A.length;w++){var O=A[w];S&&S.equals(O)||(T.push(O),S=O)}}return this.autoClose&&T.length>1&&!T[T.length-1].equals(T[0])&&T.push(T[0]),T},getRandomPoint:function(x){return x===void 0&&(x=new d),this.getPoint(Math.random(),x)},getSpacedPoints:function(x){x===void 0&&(x=40);for(var T=[],S=0;S<=x;S++)T.push(this.getPoint(S/x));return this.autoClose&&T.push(T[0]),T},getStartPoint:function(x){return x===void 0&&(x=new d),x.copy(this.startPoint)},getTangent:function(x,T){T===void 0&&(T=new d);for(var S=x*this.getLength(),P=this.getCurveLengths(),E=0;E<P.length;){if(P[E]>=S){var R=P[E]-S,A=this.curves[E],w=A.getLength(),O=w===0?0:1-R/w;return A.getTangentAt(O,T)}E++}return null},lineTo:function(x,T){x instanceof d?this._tmpVec2B.copy(x):this._tmpVec2B.set(x,T);var S=this.getEndPoint(this._tmpVec2A);return this.add(new r([S.x,S.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(x){return x.unshift(this.getEndPoint()),this.add(new u(x))},moveTo:function(x,T){return x instanceof d?this.add(new o(x.x,x.y)):this.add(new o(x,T))},toJSON:function(){for(var x=[],T=0;T<this.curves.length;T++)x.push(this.curves[T].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:x}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});a.register("path",function(x,T){return new g(x,T)}),h.exports=g},81078:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(35026),s=new f({initialize:function(r,o){this.parent=r,this.events=o,o||(this.events=r.events?r.events:r),this.list={},this.values={},this._frozen=!1,!r.hasOwnProperty("sys")&&this.events&&this.events.once(c.DESTROY,this.destroy,this)},get:function(a){var r=this.list;if(Array.isArray(a)){for(var o=[],l=0;l<a.length;l++)o.push(r[a[l]]);return o}else return r[a]},getAll:function(){var a={};for(var r in this.list)this.list.hasOwnProperty(r)&&(a[r]=this.list[r]);return a},query:function(a){var r={};for(var o in this.list)this.list.hasOwnProperty(o)&&o.match(a)&&(r[o]=this.list[o]);return r},set:function(a,r){if(this._frozen)return this;if(typeof a=="string")return this.setValue(a,r);for(var o in a)this.setValue(o,a[o]);return this},inc:function(a,r){if(this._frozen)return this;r===void 0&&(r=1);var o=this.get(a);return o===void 0&&(o=0),this.set(a,o+r),this},toggle:function(a){return this._frozen?this:(this.set(a,!this.get(a)),this)},setValue:function(a,r){if(this._frozen)return this;if(this.has(a))this.values[a]=r;else{var o=this,l=this.list,v=this.events,u=this.parent;Object.defineProperty(this.values,a,{enumerable:!0,configurable:!0,get:function(){return l[a]},set:function(d){if(!o._frozen){var p=l[a];l[a]=d,v.emit(c.CHANGE_DATA,u,a,d,p),v.emit(c.CHANGE_DATA_KEY+a,u,d,p)}}}),l[a]=r,v.emit(c.SET_DATA,u,a,r)}return this},each:function(a,r){for(var o=[this.parent,null,void 0],l=1;l<arguments.length;l++)o.push(arguments[l]);for(var v in this.list)o[1]=v,o[2]=this.list[v],a.apply(r,o);return this},merge:function(a,r){r===void 0&&(r=!0);for(var o in a)a.hasOwnProperty(o)&&(r||!r&&!this.has(o))&&this.setValue(o,a[o]);return this},remove:function(a){if(this._frozen)return this;if(Array.isArray(a))for(var r=0;r<a.length;r++)this.removeValue(a[r]);else return this.removeValue(a);return this},removeValue:function(a){if(this.has(a)){var r=this.list[a];delete this.list[a],delete this.values[a],this.events.emit(c.REMOVE_DATA,this.parent,a,r)}return this},pop:function(a){var r=void 0;return!this._frozen&&this.has(a)&&(r=this.list[a],delete this.list[a],delete this.values[a],this.events.emit(c.REMOVE_DATA,this.parent,a,r)),r},has:function(a){return this.list.hasOwnProperty(a)},setFreeze:function(a){return this._frozen=a,this},reset:function(){for(var a in this.list)delete this.list[a],delete this.values[a];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(c.CHANGE_DATA),this.events.off(c.SET_DATA),this.events.off(c.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(a){this._frozen=!!a}},count:{get:function(){var a=0;for(var r in this.list)this.list[r]!==void 0&&a++;return a}}});h.exports=s},76508:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(81078),s=e(91963),a=e(7599),r=new f({Extends:c,initialize:function(l){c.call(this,l,l.sys.events),this.scene=l,this.systems=l.sys,l.sys.events.once(a.BOOT,this.boot,this),l.sys.events.on(a.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){c.prototype.destroy.call(this),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});s.register("DataManagerPlugin",r,"data"),h.exports=r},73569:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="changedata"},15590:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="changedata-"},37669:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="destroy"},87090:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="removedata"},90142:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="setdata"},35026:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={CHANGE_DATA:e(73569),CHANGE_DATA_KEY:e(15590),DESTROY:e(37669),REMOVE_DATA:e(87090),SET_DATA:e(90142)}},1999:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={DataManager:e(81078),DataManagerPlugin:e(76508),Events:e(35026)}},10720:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(1350),c={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function s(){if(typeof importScripts=="function")return c;c.audioData=!!window.Audio,c.webAudio=!!(window.AudioContext||window.webkitAudioContext);var a=document.createElement("audio"),r=!!a.canPlayType;try{if(r){var o=function(u,d){var p=a.canPlayType("audio/"+u).replace(/^no$/,"");return Boolean(d?p||a.canPlayType("audio/"+d).replace(/^no$/,""):p)};if(c.ogg=o('ogg; codecs="vorbis"'),c.opus=o('ogg; codecs="opus"',"opus"),c.mp3=o("mpeg"),c.wav=o("wav"),c.m4a=o("x-m4a"),c.aac=o("aac"),c.flac=o("flac","x-flac"),c.webm=o('webm; codecs="vorbis"'),a.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(f.edge)c.dolby=!0;else if(f.safari&&f.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var l=parseInt(RegExp.$1,10),v=parseInt(RegExp.$2,10);(l===10&&v>=11||l>10)&&(c.dolby=!0)}}}}catch{}return c}h.exports=s()},1350:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(36580),c={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function s(){var a=navigator.userAgent;return/Edg\/\d+/.test(a)?(c.edge=!0,c.es2019=!0):/OPR/.test(a)?(c.opera=!0,c.es2019=!0):/Chrome\/(\d+)/.test(a)&&!f.windowsPhone?(c.chrome=!0,c.chromeVersion=parseInt(RegExp.$1,10),c.es2019=c.chromeVersion>69):/Firefox\D+(\d+)/.test(a)?(c.firefox=!0,c.firefoxVersion=parseInt(RegExp.$1,10),c.es2019=c.firefoxVersion>10):/AppleWebKit/.test(a)&&f.iOS?c.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(a)?(c.ie=!0,c.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+) Safari/.test(a)&&!f.windowsPhone?(c.safari=!0,c.safariVersion=parseInt(RegExp.$1,10),c.es2019=c.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(a)&&(c.ie=!0,c.trident=!0,c.tridentVersion=parseInt(RegExp.$1,10),c.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(a)&&(c.silk=!0),c}h.exports=s()},98581:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61068),c={supportInverseAlpha:!1,supportNewBlendModes:!1};function s(){var o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",l="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",v=new Image;return v.onload=function(){var u=new Image;u.onload=function(){var d=f.create2D(u,6),p=d.getContext("2d",{willReadFrequently:!0});if(p.globalCompositeOperation="multiply",p.drawImage(v,0,0),p.drawImage(u,2,0),!p.getImageData(2,0,1,1))return!1;var g=p.getImageData(2,0,1,1).data;f.remove(u),c.supportNewBlendModes=g[0]===255&&g[1]===0&&g[2]===0},u.src=o+"/wCKxvRF"+l},v.src=o+"AP804Oa6"+l,!1}function a(){var o=f.create2D(this,2),l=o.getContext("2d",{willReadFrequently:!0});l.fillStyle="rgba(10, 20, 30, 0.5)",l.fillRect(0,0,1,1);var v=l.getImageData(0,0,1,1);if(v===null)return!1;l.putImageData(v,1,0);var u=l.getImageData(1,0,1,1),d=u.data[0]===v.data[0]&&u.data[1]===v.data[1]&&u.data[2]===v.data[2]&&u.data[3]===v.data[3];return f.remove(this),d}function r(){return typeof importScripts!="function"&&document!==void 0&&(c.supportNewBlendModes=s(),c.supportInverseAlpha=a()),c}h.exports=r()},90185:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(36580),c=e(1350),s=e(61068),a={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function r(){var l=new ArrayBuffer(4),v=new Uint8Array(l),u=new Uint32Array(l);return v[0]=161,v[1]=178,v[2]=195,v[3]=212,u[0]===3569595041?!0:u[0]===2712847316?!1:null}function o(){if(typeof importScripts=="function")return a;a.canvas=!!window.CanvasRenderingContext2D;try{a.localStorage=!!localStorage.getItem}catch{a.localStorage=!1}a.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,a.fileSystem=!!window.requestFileSystem;var l=!1,v=function(){if(window.WebGLRenderingContext)try{var u=s.createWebGL(this),d=u.getContext("webgl")||u.getContext("experimental-webgl"),p=s.create2D(this),g=p.getContext("2d",{willReadFrequently:!0}),x=g.createImageData(1,1);return l=x.data instanceof Uint8ClampedArray,s.remove(u),s.remove(p),!!d}catch{return!1}return!1};return a.webGL=v(),a.worker=!!window.Worker,a.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,a.getUserMedia=a.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,c.firefox&&c.firefoxVersion<21&&(a.getUserMedia=!1),!f.iOS&&(c.ie||c.firefox||c.chrome)&&(a.canvasBitBltShift=!0),(c.safari||c.mobileSafari)&&(a.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(a.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(a.littleEndian=r()),a.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&a.littleEndian!==null&&l,a}h.exports=o()},33553:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={available:!1,cancel:"",keyboard:!1,request:""};function e(){if(typeof importScripts=="function")return y;var f,c="Fullscreen",s="FullScreen",a=["request"+c,"request"+s,"webkitRequest"+c,"webkitRequest"+s,"msRequest"+c,"msRequest"+s,"mozRequest"+s,"mozRequest"+c];for(f=0;f<a.length;f++)if(document.documentElement[a[f]]){y.available=!0,y.request=a[f];break}var r=["cancel"+s,"exit"+c,"webkitCancel"+s,"webkitExit"+c,"msCancel"+s,"msExit"+c,"mozCancel"+s,"mozExit"+c];if(y.available){for(f=0;f<r.length;f++)if(document[r[f]]){y.cancel=r[f];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(y.keyboard=!0),Object.defineProperty(y,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),y}h.exports=e()},95872:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(1350),c={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function s(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(c.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(c.mspointer=!0),navigator.getGamepads&&(c.gamepads=!0),"onwheel"in window||f.ie&&"WheelEvent"in window?c.wheelEvent="wheel":"onmousewheel"in window?c.wheelEvent="mousewheel":f.firefox&&"MouseScrollEvent"in window&&(c.wheelEvent="DOMMouseScroll")),c}h.exports=s()},36580:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function e(){if(typeof importScripts=="function")return y;var f=navigator.userAgent;/Windows/.test(f)?y.windows=!0:/Mac OS/.test(f)&&!/like Mac OS/.test(f)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(y.iOS=!0,y.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),y.iOSVersion=parseInt(RegExp.$1,10)):y.macOS=!0:/Android/.test(f)?y.android=!0:/Linux/.test(f)?y.linux=!0:/iP[ao]d|iPhone/i.test(f)?(y.iOS=!0,navigator.appVersion.match(/OS (\d+)/),y.iOSVersion=parseInt(RegExp.$1,10),y.iPhone=f.toLowerCase().indexOf("iphone")!==-1,y.iPad=f.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(f)||/\bKF[A-Z][A-Z]+/.test(f)||/Silk.*Mobile Safari/.test(f)?y.kindle=!0:/CrOS/.test(f)&&(y.chromeOS=!0),(/Windows Phone/i.test(f)||/IEMobile/i.test(f))&&(y.android=!1,y.iOS=!1,y.macOS=!1,y.windows=!0,y.windowsPhone=!0);var c=/Silk/.test(f);return(y.windows||y.macOS||y.linux&&!c||y.chromeOS)&&(y.desktop=!0),(y.windowsPhone||/Windows NT/i.test(f)&&/Touch/i.test(f))&&(y.desktop=!1),navigator.standalone&&(y.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(y.cordova=!0),window.ejecta!==void 0&&(y.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(y.node=!0),y.node&&typeof process.versions=="object"&&(y.nodeWebkit=!!process.versions["node-webkit"],y.electron=!!process.versions.electron),/Crosswalk/.test(f)&&(y.crosswalk=!0),y.pixelRatio=window.devicePixelRatio||1,y}h.exports=e()},53861:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72632),c={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function s(){if(typeof importScripts=="function")return c;var a=document.createElement("video"),r=!!a.canPlayType,o=/^no$/;try{r&&(a.canPlayType('video/ogg; codecs="theora"').replace(o,"")&&(c.ogg=!0),a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(o,"")&&(c.h264=!0,c.mp4=!0),a.canPlayType("video/x-m4v").replace(o,"")&&(c.m4v=!0),a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(o,"")&&(c.webm=!0),a.canPlayType('video/webm; codecs="vp9"').replace(o,"")&&(c.vp9=!0),a.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(o,"")&&(c.hls=!0))}catch{}return a.parentNode&&a.parentNode.removeChild(a),c.getVideoURL=function(l){Array.isArray(l)||(l=[l]);for(var v=0;v<l.length;v++){var u=f(l[v],"url",l[v]);if(u.indexOf("blob:")===0)return{url:u,type:""};var d;if(u.indexOf("data:")===0?d=u.split(",")[0].match(/\/(.*?);/):d=u.match(/\.([a-zA-Z0-9]+)($|\?)/),d=f(l[v],"type",d?d[1]:"").toLowerCase(),c[d])return{url:u,type:d}}return null},c}h.exports=s()},77290:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={os:e(36580),browser:e(1350),features:e(90185),input:e(95872),audio:e(10720),video:e(53861),fullscreen:e(33553),canvasFeatures:e(98581)}},65246:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=new Float32Array(20),s=new f({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(a){return this._matrix.set(a),this._dirty=!0,this},reset:function(){var a=this._matrix;return a.fill(0),a[0]=1,a[6]=1,a[12]=1,a[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var a=this._data;return this._dirty&&(a.set(this._matrix),a[4]/=255,a[9]/=255,a[14]/=255,a[19]/=255,this._dirty=!1),a},brightness:function(a,r){a===void 0&&(a=0),r===void 0&&(r=!1);var o=a;return this.multiply([o,0,0,0,0,0,o,0,0,0,0,0,o,0,0,0,0,0,1,0],r)},saturate:function(a,r){a===void 0&&(a=0),r===void 0&&(r=!1);var o=a*2/3+1,l=(o-1)*-.5;return this.multiply([o,l,l,0,0,l,o,l,0,0,l,l,o,0,0,0,0,0,1,0],r)},desaturate:function(a){return a===void 0&&(a=!1),this.saturate(-1,a)},hue:function(a,r){a===void 0&&(a=0),r===void 0&&(r=!1),a=a/180*Math.PI;var o=Math.cos(a),l=Math.sin(a),v=.213,u=.715,d=.072;return this.multiply([v+o*(1-v)+l*-v,u+o*-u+l*-u,d+o*-d+l*(1-d),0,0,v+o*-v+l*.143,u+o*(1-u)+l*.14,d+o*-d+l*-.283,0,0,v+o*-v+l*-(1-v),u+o*-u+l*u,d+o*(1-d)+l*d,0,0,0,0,0,1,0],r)},grayscale:function(a,r){return a===void 0&&(a=1),r===void 0&&(r=!1),this.saturate(-a,r)},blackWhite:function(a){return a===void 0&&(a=!1),this.multiply(s.BLACK_WHITE,a)},contrast:function(a,r){a===void 0&&(a=0),r===void 0&&(r=!1);var o=a+1,l=-.5*(o-1);return this.multiply([o,0,0,0,l,0,o,0,0,l,0,0,o,0,l,0,0,0,1,0],r)},negative:function(a){return a===void 0&&(a=!1),this.multiply(s.NEGATIVE,a)},desaturateLuminance:function(a){return a===void 0&&(a=!1),this.multiply(s.DESATURATE_LUMINANCE,a)},sepia:function(a){return a===void 0&&(a=!1),this.multiply(s.SEPIA,a)},night:function(a,r){return a===void 0&&(a=.1),r===void 0&&(r=!1),this.multiply([a*-2,-a,0,0,0,-a,0,a,0,0,0,a,a*2,0,0,0,0,0,1,0],r)},lsd:function(a){return a===void 0&&(a=!1),this.multiply(s.LSD,a)},brown:function(a){return a===void 0&&(a=!1),this.multiply(s.BROWN,a)},vintagePinhole:function(a){return a===void 0&&(a=!1),this.multiply(s.VINTAGE,a)},kodachrome:function(a){return a===void 0&&(a=!1),this.multiply(s.KODACHROME,a)},technicolor:function(a){return a===void 0&&(a=!1),this.multiply(s.TECHNICOLOR,a)},polaroid:function(a){return a===void 0&&(a=!1),this.multiply(s.POLAROID,a)},shiftToBGR:function(a){return a===void 0&&(a=!1),this.multiply(s.SHIFT_BGR,a)},multiply:function(a,r){r===void 0&&(r=!1),r||this.reset();var o=this._matrix,l=c;return l.set(o),o.set([l[0]*a[0]+l[1]*a[5]+l[2]*a[10]+l[3]*a[15],l[0]*a[1]+l[1]*a[6]+l[2]*a[11]+l[3]*a[16],l[0]*a[2]+l[1]*a[7]+l[2]*a[12]+l[3]*a[17],l[0]*a[3]+l[1]*a[8]+l[2]*a[13]+l[3]*a[18],l[0]*a[4]+l[1]*a[9]+l[2]*a[14]+l[3]*a[19]+l[4],l[5]*a[0]+l[6]*a[5]+l[7]*a[10]+l[8]*a[15],l[5]*a[1]+l[6]*a[6]+l[7]*a[11]+l[8]*a[16],l[5]*a[2]+l[6]*a[7]+l[7]*a[12]+l[8]*a[17],l[5]*a[3]+l[6]*a[8]+l[7]*a[13]+l[8]*a[18],l[5]*a[4]+l[6]*a[9]+l[7]*a[14]+l[8]*a[19]+l[9],l[10]*a[0]+l[11]*a[5]+l[12]*a[10]+l[13]*a[15],l[10]*a[1]+l[11]*a[6]+l[12]*a[11]+l[13]*a[16],l[10]*a[2]+l[11]*a[7]+l[12]*a[12]+l[13]*a[17],l[10]*a[3]+l[11]*a[8]+l[12]*a[13]+l[13]*a[18],l[10]*a[4]+l[11]*a[9]+l[12]*a[14]+l[13]*a[19]+l[14],l[15]*a[0]+l[16]*a[5]+l[17]*a[10]+l[18]*a[15],l[15]*a[1]+l[16]*a[6]+l[17]*a[11]+l[18]*a[16],l[15]*a[2]+l[16]*a[7]+l[17]*a[12]+l[18]*a[17],l[15]*a[3]+l[16]*a[8]+l[17]*a[13]+l[18]*a[18],l[15]*a[4]+l[16]*a[9]+l[17]*a[14]+l[18]*a[19]+l[19]]),this._dirty=!0,this}});s.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],s.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],s.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],s.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],s.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],s.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],s.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],s.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],s.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],s.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],s.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],h.exports=s},39298:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(72283),s=new f({initialize:function(r,o,l){this._rgb=[0,0,0],this.onChangeCallback=c,this.dirty=!1,this.set(r,o,l)},set:function(a,r,o){return a===void 0&&(a=0),r===void 0&&(r=0),o===void 0&&(o=0),this._rgb=[a,r,o],this.onChange(),this},equals:function(a,r,o){var l=this._rgb;return l[0]===a&&l[1]===r&&l[2]===o},onChange:function(){this.dirty=!0;var a=this._rgb;this.onChangeCallback.call(this,a[0],a[1],a[2])},r:{get:function(){return this._rgb[0]},set:function(a){this._rgb[0]=a,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(a){this._rgb[1]=a,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(a){this._rgb[2]=a,this.onChange()}},destroy:function(){this.onChangeCallback=null}});h.exports=s},84093:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};h.exports=y},32058:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(97328),c=e(59994),s=e(73174),a=e(28417),r=function(o,l,v,u){return v===void 0&&(v=0),u===void 0&&(u=0),a(o,c(l)+v),s(o,f(l)+u),o};h.exports=r},85535:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(97328),c=e(40163),s=e(73174),a=e(74465),r=function(o,l,v,u){return v===void 0&&(v=0),u===void 0&&(u=0),a(o,c(l)-v),s(o,f(l)+u),o};h.exports=r},9605:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(97328),c=e(70271),s=e(73174),a=e(19298),r=function(o,l,v,u){return v===void 0&&(v=0),u===void 0&&(u=0),a(o,c(l)+v),s(o,f(l)+u),o};h.exports=r},22529:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(21843),c=e(59994),s=e(29568),a=function(r,o,l,v){return l===void 0&&(l=0),v===void 0&&(v=0),f(r,c(o)+l,s(o)+v),r};h.exports=a},5739:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(29568),c=e(40163),s=e(81711),a=e(74465),r=function(o,l,v,u){return v===void 0&&(v=0),u===void 0&&(u=0),a(o,c(l)-v),s(o,f(l)+u),o};h.exports=r},40327:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(84093),c=[];c[f.BOTTOM_CENTER]=e(32058),c[f.BOTTOM_LEFT]=e(85535),c[f.BOTTOM_RIGHT]=e(9605),c[f.CENTER]=e(22529),c[f.LEFT_CENTER]=e(5739),c[f.RIGHT_CENTER]=e(27683),c[f.TOP_CENTER]=e(96439),c[f.TOP_LEFT]=e(81447),c[f.TOP_RIGHT]=e(47888),c[f.LEFT_BOTTOM]=c[f.BOTTOM_LEFT],c[f.LEFT_TOP]=c[f.TOP_LEFT],c[f.RIGHT_BOTTOM]=c[f.BOTTOM_RIGHT],c[f.RIGHT_TOP]=c[f.TOP_RIGHT];var s=function(a,r,o,l,v){return c[o](a,r,l,v)};h.exports=s},27683:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(29568),c=e(70271),s=e(81711),a=e(19298),r=function(o,l,v,u){return v===void 0&&(v=0),u===void 0&&(u=0),a(o,c(l)+v),s(o,f(l)+u),o};h.exports=r},96439:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(59994),c=e(47196),s=e(28417),a=e(84349),r=function(o,l,v,u){return v===void 0&&(v=0),u===void 0&&(u=0),s(o,f(l)+v),a(o,c(l)-u),o};h.exports=r},81447:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(40163),c=e(47196),s=e(74465),a=e(84349),r=function(o,l,v,u){return v===void 0&&(v=0),u===void 0&&(u=0),s(o,f(l)-v),a(o,c(l)-u),o};h.exports=r},47888:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(70271),c=e(47196),s=e(19298),a=e(84349),r=function(o,l,v,u){return v===void 0&&(v=0),u===void 0&&(u=0),s(o,f(l)+v),a(o,c(l)-u),o};h.exports=r},46997:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={BottomCenter:e(32058),BottomLeft:e(85535),BottomRight:e(9605),Center:e(22529),LeftCenter:e(5739),QuickSet:e(40327),RightCenter:e(27683),TopCenter:e(96439),TopLeft:e(81447),TopRight:e(47888)}},93545:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(84093),c=e(98611),s={In:e(46997),To:e(86639)};s=c(!1,s,f),h.exports=s},27118:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(97328),c=e(59994),s=e(28417),a=e(84349),r=function(o,l,v,u){return v===void 0&&(v=0),u===void 0&&(u=0),s(o,c(l)+v),a(o,f(l)+u),o};h.exports=r},84469:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(97328),c=e(40163),s=e(74465),a=e(84349),r=function(o,l,v,u){return v===void 0&&(v=0),u===void 0&&(u=0),s(o,c(l)-v),a(o,f(l)+u),o};h.exports=r},51577:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(97328),c=e(70271),s=e(19298),a=e(84349),r=function(o,l,v,u){return v===void 0&&(v=0),u===void 0&&(u=0),s(o,c(l)+v),a(o,f(l)+u),o};h.exports=r},90271:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(97328),c=e(40163),s=e(73174),a=e(19298),r=function(o,l,v,u){return v===void 0&&(v=0),u===void 0&&(u=0),a(o,c(l)-v),s(o,f(l)+u),o};h.exports=r},30466:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(29568),c=e(40163),s=e(81711),a=e(19298),r=function(o,l,v,u){return v===void 0&&(v=0),u===void 0&&(u=0),a(o,c(l)-v),s(o,f(l)+u),o};h.exports=r},50087:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(40163),c=e(47196),s=e(19298),a=e(84349),r=function(o,l,v,u){return v===void 0&&(v=0),u===void 0&&(u=0),s(o,f(l)-v),a(o,c(l)-u),o};h.exports=r},82590:(h,y,e)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(84093),c=[];c[f.BOTTOM_CENTER]=e(27118),c[f.BOTTOM_LEFT]=e(84469),c[f.BOTTOM_RIGHT]=e(51577),c[f.LEFT_BOTTOM]=e(90271),c[f.LEFT_CENTER]=e(30466),c[f.LEFT_TOP]=e(50087),c[f.RIGHT_BOTTOM]=e(13555),c[f.RIGHT_CENTER]=e(99049),c[f.RIGHT_TOP]=e(67788),c[f.TOP_CENTER]=e(78170),c[f.TOP_LEFT]=e(54145),c[f.TOP_RIGHT]=e(75548);var s=function(a,r,o,l,v){return c[o](a,r,l,v)};h.exports=s},13555:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(97328),c=e(70271),s=e(73174),a=e(74465),r=function(o,l,v,u){return v===void 0&&(v=0),u===void 0&&(u=0),a(o,c(l)+v),s(o,f(l)+u),o};h.exports=r},99049:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(29568),c=e(70271),s=e(81711),a=e(74465),r=function(o,l,v,u){return v===void 0&&(v=0),u===void 0&&(u=0),a(o,c(l)+v),s(o,f(l)+u),o};h.exports=r},67788:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(70271),c=e(47196),s=e(74465),a=e(84349),r=function(o,l,v,u){return v===void 0&&(v=0),u===void 0&&(u=0),s(o,f(l)+v),a(o,c(l)-u),o};h.exports=r},78170:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(59994),c=e(47196),s=e(73174),a=e(28417),r=function(o,l,v,u){return v===void 0&&(v=0),u===void 0&&(u=0),a(o,f(l)+v),s(o,c(l)-u),o};h.exports=r},54145:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(40163),c=e(47196),s=e(73174),a=e(74465),r=function(o,l,v,u){return v===void 0&&(v=0),u===void 0&&(u=0),a(o,f(l)-v),s(o,c(l)-u),o};h.exports=r},75548:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(70271),c=e(47196),s=e(73174),a=e(19298),r=function(o,l,v,u){return v===void 0&&(v=0),u===void 0&&(u=0),a(o,f(l)+v),s(o,c(l)-u),o};h.exports=r},86639:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={BottomCenter:e(27118),BottomLeft:e(84469),BottomRight:e(51577),LeftBottom:e(90271),LeftCenter:e(30466),LeftTop:e(50087),QuickSet:e(82590),RightBottom:e(13555),RightCenter:e(99049),RightTop:e(67788),TopCenter:e(78170),TopLeft:e(54145),TopRight:e(75548)}},21843:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(28417),c=e(81711),s=function(a,r,o){return f(a,r),c(a,o)};h.exports=s},97328:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.y+e.height-e.height*e.originY};h.exports=y},7126:(h,y,e)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(97328),c=e(40163),s=e(70271),a=e(47196),r=e(74118),o=function(l,v){v===void 0&&(v=new r);var u=c(l),d=a(l);return v.x=u,v.y=d,v.width=s(l)-u,v.height=f(l)-d,v};h.exports=o},59994:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.x-e.width*e.originX+e.width*.5};h.exports=y},29568:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.y-e.height*e.originY+e.height*.5};h.exports=y},40163:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.x-e.width*e.originX};h.exports=y},52088:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.width*e.originX};h.exports=y},23379:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.height*e.originY};h.exports=y},70271:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.x+e.width-e.width*e.originX};h.exports=y},47196:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.y-e.height*e.originY};h.exports=y},73174:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e.y=f-e.height+e.height*e.originY,e};h.exports=y},28417:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){var c=e.width*e.originX;return e.x=f+c-e.width*.5,e};h.exports=y},81711:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){var c=e.height*e.originY;return e.y=f+c-e.height*.5,e};h.exports=y},74465:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e.x=f+e.width*e.originX,e};h.exports=y},19298:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e.x=f-e.width+e.width*e.originX,e};h.exports=y},84349:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e.y=f+e.height*e.originY,e};h.exports=y},15252:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={CenterOn:e(21843),GetBottom:e(97328),GetBounds:e(7126),GetCenterX:e(59994),GetCenterY:e(29568),GetLeft:e(40163),GetOffsetX:e(52088),GetOffsetY:e(23379),GetRight:e(70271),GetTop:e(47196),SetBottom:e(73174),SetCenterX:e(28417),SetCenterY:e(81711),SetLeft:e(74465),SetRight:e(19298),SetTop:e(84349)}},70616:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setCrisp:function(e){var f=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return f.forEach(function(c){e.style["image-rendering"]=c}),e.style.msInterpolationMode="nearest-neighbor",e},setBicubic:function(e){return e.style["image-rendering"]="auto",e.style.msInterpolationMode="bicubic",e}};h.exports=y},61068:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(86459),c=e(8213),s=[],a=!1,r=function(){var o=function(S,P,E,R,A){P===void 0&&(P=1),E===void 0&&(E=1),R===void 0&&(R=f.CANVAS),A===void 0&&(A=!1);var w,O=u(R);return O===null?(O={parent:S,canvas:document.createElement("canvas"),type:R},R===f.CANVAS&&s.push(O),w=O.canvas):(O.parent=S,w=O.canvas),A&&(O.parent=w),w.width=P,w.height=E,a&&R===f.CANVAS&&c.disable(w.getContext("2d",{willReadFrequently:!1})),w},l=function(S,P,E){return o(S,P,E,f.CANVAS)},v=function(S,P,E){return o(S,P,E,f.WEBGL)},u=function(S){if(S===void 0&&(S=f.CANVAS),S===f.WEBGL)return null;for(var P=0;P<s.length;P++){var E=s[P];if(!E.parent&&E.type===S)return E}return null},d=function(S){var P=S instanceof HTMLCanvasElement;s.forEach(function(E){(P&&E.canvas===S||!P&&E.parent===S)&&(E.parent=null,E.canvas.width=1,E.canvas.height=1)})},p=function(){var S=0;return s.forEach(function(P){P.parent&&S++}),S},g=function(){return s.length-p()},x=function(){a=!0},T=function(){a=!1};return{create2D:l,create:o,createWebGL:v,disableSmoothing:x,enableSmoothing:T,first:u,free:g,pool:s,remove:d,total:p}};h.exports=r()},8213:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y="",e=function(){var f=function(r){for(var o=["i","webkitI","msI","mozI","oI"],l=0;l<o.length;l++){var v=o[l]+"mageSmoothingEnabled";if(v in r)return v}return null},c=function(r){return y===""&&(y=f(r)),y&&(r[y]=!0),r},s=function(r){return y===""&&(y=f(r)),y&&(r[y]=!1),r},a=function(r){return y!==null?r[y]:null};return{disable:s,enable:c,getPrefix:f,isEnabled:a}};h.exports=e()},59271:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return f===void 0&&(f="none"),e.style.msTouchAction=f,e.style["ms-touch-action"]=f,e.style["touch-action"]=f,e};h.exports=y},36505:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){f===void 0&&(f="none");var c=["-webkit-","-khtml-","-moz-","-ms-",""];return c.forEach(function(s){e.style[s+"user-select"]=f}),e.style["-webkit-touch-callout"]=f,e.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",e};h.exports=y},23514:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={CanvasInterpolation:e(70616),CanvasPool:e(61068),Smoothing:e(8213),TouchAction:e(59271),UserSelect:e(36505)}},27119:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(22946),s=e(5657),a=e(24650),r=e(68033),o=new f({initialize:function(v,u,d,p){v===void 0&&(v=0),u===void 0&&(u=0),d===void 0&&(d=0),p===void 0&&(p=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(v,u,d,p)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(l,v,u,d,p){return d===void 0&&(d=255),p===void 0&&(p=!0),this._locked=!0,this.red=l,this.green=v,this.blue=u,this.alpha=d,this._locked=!1,this.update(p)},setGLTo:function(l,v,u,d){return d===void 0&&(d=1),this._locked=!0,this.redGL=l,this.greenGL=v,this.blueGL=u,this.alphaGL=d,this._locked=!1,this.update(!0)},setFromRGB:function(l){return this._locked=!0,this.red=l.r,this.green=l.g,this.blue=l.b,l.hasOwnProperty("a")&&(this.alpha=l.a),this._locked=!1,this.update(!0)},setFromHSV:function(l,v,u){return a(l,v,u,this)},update:function(l){if(l===void 0&&(l=!1),this._locked)return this;var v=this.r,u=this.g,d=this.b,p=this.a;return this._color=c(v,u,d),this._color32=s(v,u,d,p),this._rgba="rgba("+v+","+u+","+d+","+p/255+")",l&&r(v,u,d,this),this},updateHSV:function(){var l=this.r,v=this.g,u=this.b;return r(l,v,u,this),this},clone:function(){return new o(this.r,this.g,this.b,this.a)},gray:function(l){return this.setTo(l,l,l)},random:function(l,v){l===void 0&&(l=0),v===void 0&&(v=255);var u=Math.floor(l+Math.random()*(v-l)),d=Math.floor(l+Math.random()*(v-l)),p=Math.floor(l+Math.random()*(v-l));return this.setTo(u,d,p)},randomGray:function(l,v){l===void 0&&(l=0),v===void 0&&(v=255);var u=Math.floor(l+Math.random()*(v-l));return this.setTo(u,u,u)},saturate:function(l){return this.s+=l/100,this},desaturate:function(l){return this.s-=l/100,this},lighten:function(l){return this.v+=l/100,this},darken:function(l){return this.v-=l/100,this},brighten:function(l){var v=this.r,u=this.g,d=this.b;return v=Math.max(0,Math.min(255,v-Math.round(255*-(l/100)))),u=Math.max(0,Math.min(255,u-Math.round(255*-(l/100)))),d=Math.max(0,Math.min(255,d-Math.round(255*-(l/100)))),this.setTo(v,u,d)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(l){this.gl[0]=Math.min(Math.abs(l),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(l){this.gl[1]=Math.min(Math.abs(l),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(l){this.gl[2]=Math.min(Math.abs(l),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(l){this.gl[3]=Math.min(Math.abs(l),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(l){l=Math.floor(Math.abs(l)),this.r=Math.min(l,255),this.gl[0]=l/255,this.update(!0)}},green:{get:function(){return this.g},set:function(l){l=Math.floor(Math.abs(l)),this.g=Math.min(l,255),this.gl[1]=l/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(l){l=Math.floor(Math.abs(l)),this.b=Math.min(l,255),this.gl[2]=l/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(l){l=Math.floor(Math.abs(l)),this.a=Math.min(l,255),this.gl[3]=l/255,this.update()}},h:{get:function(){return this._h},set:function(l){this._h=l,a(l,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(l){this._s=l,a(this._h,l,this._v,this)}},v:{get:function(){return this._v},set:function(l){this._v=l,a(this._h,this._s,l,this)}}});h.exports=o},30245:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(22946),c=function(s){s===void 0&&(s=1024);var a=[],r=255,o,l=255,v=0,u=0;for(o=0;o<=r;o++)a.push({r:l,g:o,b:u,color:f(l,o,u)});for(v=255,o=r;o>=0;o--)a.push({r:o,g:v,b:u,color:f(o,v,u)});for(l=0,o=0;o<=r;o++,v--)a.push({r:l,g:v,b:o,color:f(l,v,o)});for(v=0,u=255,o=0;o<=r;o++,u--,l++)a.push({r:l,g:v,b:u,color:f(l,v,u)});if(s===1024)return a;var d=[],p=0,g=1024/s;for(o=0;o<s;o++)d.push(a[Math.floor(p)]),p+=g;return d};h.exports=c},86672:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){var f={r:e>>16&255,g:e>>8&255,b:e&255,a:255};return e>16777215&&(f.a=e>>>24),f};h.exports=y},25409:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){var f=e.toString(16);return f.length===1?"0"+f:f};h.exports=y},22946:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){return e<<16|f<<8|c};h.exports=y},5657:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){return s<<24|e<<16|f<<8|c};h.exports=y},74777:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(27119),c=e(59998),s=function(a,r,o){var l=o,v=o,u=o;if(r!==0){var d=o<.5?o*(1+r):o+r-o*r,p=2*o-d;l=c(p,d,a+1/3),v=c(p,d,a),u=c(p,d,a-1/3)}var g=new f;return g.setGLTo(l,v,u,1)};h.exports=s},89263:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(24650),c=function(s,a){s===void 0&&(s=1),a===void 0&&(a=1);for(var r=[],o=0;o<=359;o++)r.push(f(o/359,s,a));return r};h.exports=c},24650:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(22946);function c(a,r,o,l){var v=(a+r*6)%6,u=Math.min(v,4-v,1);return Math.round(255*(l-l*o*Math.max(0,u)))}var s=function(a,r,o,l){r===void 0&&(r=1),o===void 0&&(o=1);var v=c(5,a,r,o),u=c(3,a,r,o),d=c(1,a,r,o);return l?l.setTo?l.setTo(v,u,d,l.alpha,!0):(l.r=v,l.g=u,l.b=d,l.color=f(v,u,d),l):{r:v,g:u,b:d,color:f(v,u,d)}};h.exports=s},91487:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(27119),c=function(s){var a=new f;s=s.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(u,d,p,g){return d+d+p+p+g+g});var r=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s);if(r){var o=parseInt(r[1],16),l=parseInt(r[2],16),v=parseInt(r[3],16);a.setTo(o,l,v)}return a};h.exports=c},59998:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){return c<0&&(c+=1),c>1&&(c-=1),c<.16666666666666666?e+(f-e)*6*c:c<.5?f:c<.6666666666666666?e+(f-e)*(.6666666666666666-c)*6:e};h.exports=y},74853:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(27119),c=e(15978),s=function(a){var r=c(a);return new f(r.r,r.g,r.b,r.a)};h.exports=s},15978:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e>16777215?{a:e>>>24,r:e>>16&255,g:e>>8&255,b:e&255}:{a:255,r:e>>16&255,g:e>>8&255,b:e&255}};h.exports=y},53756:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(42798),c=function(r,o,l,v,u,d,p,g){p===void 0&&(p=100),g===void 0&&(g=0);var x=g/p;return{r:f(r,v,x),g:f(o,u,x),b:f(l,d,x)}},s=function(r,o,l,v){return l===void 0&&(l=100),v===void 0&&(v=0),c(r.r,r.g,r.b,o.r,o.g,o.b,l,v)},a=function(r,o,l,v,u,d){return u===void 0&&(u=100),d===void 0&&(d=0),c(r.r,r.g,r.b,o,l,v,u,d)};h.exports={RGBWithRGB:c,ColorWithRGB:a,ColorWithColor:s}},73904:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(27119),c=function(s){return new f(s.r,s.g,s.b,s.a)};h.exports=c},26841:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(27119),c=function(s){var a=new f,r=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(s.toLowerCase());if(r){var o=parseInt(r[1],10),l=parseInt(r[2],10),v=parseInt(r[3],10),u=r[4]!==void 0?parseFloat(r[4]):1;a.setTo(o,l,v,u*255)}return a};h.exports=c},68033:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){s===void 0&&(s={h:0,s:0,v:0}),e/=255,f/=255,c/=255;var a=Math.min(e,f,c),r=Math.max(e,f,c),o=r-a,l=0,v=r===0?0:o/r,u=r;return r!==a&&(r===e?l=(f-c)/o+(f<c?6:0):r===f?l=(c-e)/o+2:r===c&&(l=(e-f)/o+4),l/=6),s.hasOwnProperty("_h")?(s._h=l,s._s=v,s._v=u):(s.h=l,s.s=v,s.v=u),s};h.exports=y},4880:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(25409),c=function(s,a,r,o,l){return o===void 0&&(o=255),l===void 0&&(l="#"),l==="#"?"#"+((1<<24)+(s<<16)+(a<<8)+r).toString(16).slice(1,7):"0x"+f(o)+f(s)+f(a)+f(r)};h.exports=c},37243:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(17489),c=e(27119),s=function(a,r){return a===void 0&&(a=0),r===void 0&&(r=255),new c(f(a,r),f(a,r),f(a,r))};h.exports=s},93222:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(91487),c=e(74853),s=e(73904),a=e(26841),r=function(o){var l=typeof o;switch(l){case"string":return o.substr(0,3).toLowerCase()==="rgb"?a(o):f(o);case"number":return c(o);case"object":return s(o)}};h.exports=r},95509:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(27119);f.ColorSpectrum=e(30245),f.ColorToRGBA=e(86672),f.ComponentToHex=e(25409),f.GetColor=e(22946),f.GetColor32=e(5657),f.HexStringToColor=e(91487),f.HSLToColor=e(74777),f.HSVColorWheel=e(89263),f.HSVToRGB=e(24650),f.HueToComponent=e(59998),f.IntegerToColor=e(74853),f.IntegerToRGB=e(15978),f.Interpolate=e(53756),f.ObjectToColor=e(73904),f.RandomRGB=e(37243),f.RGBStringToColor=e(26841),f.RGBToHSV=e(68033),f.RGBToString=e(4880),f.ValueToColor=e(93222),h.exports=f},24816:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Align:e(93545),BaseShader:e(31053),Bounds:e(15252),Canvas:e(23514),Color:e(95509),ColorMatrix:e(65246),Masks:e(93310),RGB:e(39298)}},76756:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(61286),s=new f({initialize:function(r,o,l,v,u,d){o||(o=r.sys.make.image({x:l,y:v,key:u,frame:d,add:!1})),this.bitmapMask=o,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(a){this.bitmapMask=a},preRenderWebGL:function(a,r,o){a.pipelines.BITMAPMASK_PIPELINE.beginMask(this,r,o)},postRenderWebGL:function(a,r,o){a.pipelines.BITMAPMASK_PIPELINE.endMask(this,r,o)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});c.register("bitmapMask",function(a,r,o,l,v){return new s(this.scene,a,r,o,l,v)}),h.exports=s},63037:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=new f({initialize:function(a,r){this.geometryMask=r,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(s){return this.geometryMask=s,this},setInvertAlpha:function(s){return s===void 0&&(s=!0),this.invertAlpha=s,this},preRenderWebGL:function(s,a,r){var o=s.gl;s.flush(),s.maskStack.length===0&&(o.enable(o.STENCIL_TEST),o.clear(o.STENCIL_BUFFER_BIT),s.maskCount=0),s.currentCameraMask.mask!==this&&(s.currentMask.mask=this),s.maskStack.push({mask:this,camera:r}),this.applyStencil(s,r,!0),s.maskCount++},applyStencil:function(s,a,r){var o=s.gl,l=this.geometryMask,v=s.maskCount,u=255;o.colorMask(!1,!1,!1,!1),r?(o.stencilFunc(o.EQUAL,v,u),o.stencilOp(o.KEEP,o.KEEP,o.INCR),v++):(o.stencilFunc(o.EQUAL,v+1,u),o.stencilOp(o.KEEP,o.KEEP,o.DECR)),this.level=v,l.renderWebGL(s,l,a),s.flush(),o.colorMask(!0,!0,!0,!0),o.stencilOp(o.KEEP,o.KEEP,o.KEEP),this.invertAlpha?o.stencilFunc(o.NOTEQUAL,v,u):o.stencilFunc(o.EQUAL,v,u)},postRenderWebGL:function(s){var a=s.gl;s.maskStack.pop(),s.maskCount--,s.flush();var r=s.currentMask;if(s.maskStack.length===0)r.mask=null,a.disable(a.STENCIL_TEST);else{var o=s.maskStack[s.maskStack.length-1];o.mask.applyStencil(s,o.camera,!1),s.currentCameraMask.mask!==o.mask?(r.mask=o.mask,r.camera=o.camera):r.mask=null}},preRenderCanvas:function(s,a,r){var o=this.geometryMask;s.currentContext.save(),o.renderCanvas(s,o,r,null,null,!0),s.currentContext.clip()},postRenderCanvas:function(s){s.currentContext.restore()},destroy:function(){this.geometryMask=null}});h.exports=c},93310:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={BitmapMask:e(76756),GeometryMask:e(63037)}},31053:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=new f({initialize:function(a,r,o,l){(!r||r==="")&&(r=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!o||o==="")&&(o=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),l===void 0&&(l=null),this.key=a,this.fragmentSrc=r,this.vertexSrc=o,this.uniforms=l}});h.exports=c},99584:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){var c;if(f)typeof f=="string"?c=document.getElementById(f):typeof f=="object"&&f.nodeType===1&&(c=f);else if(e.parentElement||f===null)return e;return c||(c=document.body),c.appendChild(e),e};h.exports=y},85178:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(99584),c=function(s){var a=s.config;if(!(!a.parent||!a.domCreateContainer)){var r=document.createElement("div");r.style.cssText=["display: block;","width: "+s.scale.width+"px;","height: "+s.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+a.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),s.domContainer=r,f(r,a.parent)}};h.exports=c},21546:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(36580),c=function(s){if(document.readyState==="complete"||document.readyState==="interactive"){s();return}var a=function(){document.removeEventListener("deviceready",a,!0),document.removeEventListener("DOMContentLoaded",a,!0),window.removeEventListener("load",a,!0),s()};document.body?f.cordova?document.addEventListener("deviceready",a,!1):(document.addEventListener("DOMContentLoaded",a,!0),window.addEventListener("load",a,!0)):window.setTimeout(a,20)};h.exports=c},74181:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){if(!e)return window.innerHeight;var f=Math.abs(window.orientation),c={w:0,h:0},s=document.createElement("div");return s.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(s),c.w=f===90?s.offsetHeight:window.innerWidth,c.h=f===90?window.innerWidth:s.offsetHeight,document.documentElement.removeChild(s),s=null,Math.abs(window.orientation)!==90?c.h:c.w};h.exports=y},9229:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(55301),c=function(s,a){var r=window.screen,o=r?r.orientation||r.mozOrientation||r.msOrientation:!1;if(o&&typeof o.type=="string")return o.type;if(typeof o=="string")return o;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?f.ORIENTATION.PORTRAIT:f.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return f.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return f.ORIENTATION.LANDSCAPE}else return a>s?f.ORIENTATION.PORTRAIT:f.ORIENTATION.LANDSCAPE};h.exports=c},2893:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){var f;return e!==""&&(typeof e=="string"?f=document.getElementById(e):e&&e.nodeType===1&&(f=e)),f||(f=document.body),f};h.exports=y},89200:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){var f="";try{if(window.DOMParser){var c=new DOMParser;f=c.parseFromString(e,"text/xml")}else f=new ActiveXObject("Microsoft.XMLDOM"),f.loadXML(e)}catch{f=null}return!f||!f.documentElement||f.getElementsByTagName("parsererror").length?null:f};h.exports=y},55638:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){e.parentNode&&e.parentNode.removeChild(e)};h.exports=y},27385:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(72283),s=new f({initialize:function(){this.isRunning=!1,this.callback=c,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var r=this;this.step=function o(l){r.callback(l),r.isRunning&&(r.timeOutID=window.requestAnimationFrame(o))},this.stepTimeout=function o(){r.isRunning&&(r.timeOutID=window.setTimeout(o,r.delay)),r.callback(window.performance.now())}},start:function(a,r,o){this.isRunning||(this.callback=a,this.isSetTimeOut=r,this.delay=o,this.isRunning=!0,this.timeOutID=r?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=c}});h.exports=s},3590:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={AddToDOM:e(99584),DOMContentLoaded:e(21546),GetInnerHeight:e(74181),GetScreenOrientation:e(9229),GetTarget:e(2893),ParseXML:e(89200),RemoveFromDOM:e(55638),RequestAnimationFrame:e(27385)};h.exports=f},78491:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(6659),s=e(91963),a=new f({Extends:c,initialize:function(){c.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});s.register("EventEmitter",a,"events"),h.exports=a},95146:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={EventEmitter:e(78491)}},20170:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(47551),s=e(47406),a=new f({Extends:c,initialize:function(o,l){l===void 0&&(l=1),c.call(this,s.BARREL,o),this.amount=l}});h.exports=a},51182:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(47551),s=e(47406),a=new f({Extends:c,initialize:function(o,l,v,u,d,p,g){v===void 0&&(v=1),u===void 0&&(u=1),d===void 0&&(d=1),p===void 0&&(p=1),g===void 0&&(g=4),c.call(this,s.BLOOM,o),this.steps=g,this.offsetX=v,this.offsetY=u,this.blurStrength=d,this.strength=p,this.glcolor=[1,1,1],l!=null&&(this.color=l)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var o=this.glcolor;o[0]=(r>>16&255)/255,o[1]=(r>>8&255)/255,o[2]=(r&255)/255}}});h.exports=a},51498:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(47551),s=e(47406),a=new f({Extends:c,initialize:function(o,l,v,u,d,p,g){v===void 0&&(v=2),u===void 0&&(u=2),d===void 0&&(d=1),g===void 0&&(g=4),c.call(this,s.BLUR,o),this.quality=0,this.x=v,this.y=u,this.steps=g,this.strength=d,this.glcolor=[1,1,1],p!=null&&(this.color=p)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var o=this.glcolor;o[0]=(r>>16&255)/255,o[1]=(r>>8&255)/255,o[2]=(r&255)/255}}});h.exports=a},12042:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(47551),s=e(47406),a=new f({Extends:c,initialize:function(o,l,v,u,d,p,g,x){l===void 0&&(l=.5),v===void 0&&(v=1),u===void 0&&(u=.2),d===void 0&&(d=!1),p===void 0&&(p=1),g===void 0&&(g=1),x===void 0&&(x=1),c.call(this,s.BOKEH,o),this.radius=l,this.amount=v,this.contrast=u,this.isTiltShift=d,this.strength=x,this.blurX=p,this.blurY=g}});h.exports=a},69900:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(47551),s=e(47406),a=new f({Extends:c,initialize:function(o,l,v,u,d,p){l===void 0&&(l=8),d===void 0&&(d=1),p===void 0&&(p=.005),c.call(this,s.CIRCLE,o),this.scale=d,this.feather=p,this.thickness=l,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],v!=null&&(this.color=v),u!=null&&(this.backgroundColor=u)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var o=this.glcolor;o[0]=(r>>16&255)/255,o[1]=(r>>8&255)/255,o[2]=(r&255)/255}},backgroundColor:{get:function(){var r=this.glcolor2;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var o=this.glcolor2;o[0]=(r>>16&255)/255,o[1]=(r>>8&255)/255,o[2]=(r&255)/255}}});h.exports=a},48991:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(65246),s=e(47406),a=new f({Extends:c,initialize:function(o){c.call(this),this.type=s.COLOR_MATRIX,this.gameObject=o,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});h.exports=a},47551:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=new f({initialize:function(a,r){this.type=a,this.gameObject=r,this.active=!0},setActive:function(s){return this.active=s,this},destroy:function(){this.gameObject=null,this.active=!1}});h.exports=c},47909:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(47551),s=e(47406),a=new f({Extends:c,initialize:function(o,l,v,u){l===void 0&&(l="__WHITE"),v===void 0&&(v=.005),u===void 0&&(u=.005),c.call(this,s.DISPLACEMENT,o),this.x=v,this.y=u,this.glTexture,this.setTexture(l)},setTexture:function(r){var o=this.gameObject.scene.sys.textures.getFrame(r);return o&&(this.glTexture=o.glTexture),this}});h.exports=a},18919:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(47551),s=e(47406),a=new f({Extends:c,initialize:function(o,l,v,u,d){v===void 0&&(v=4),u===void 0&&(u=0),d===void 0&&(d=!1),c.call(this,s.GLOW,o),this.outerStrength=v,this.innerStrength=u,this.knockout=d,this.glcolor=[1,1,1,1],l!==void 0&&(this.color=l)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var o=this.glcolor;o[0]=(r>>16&255)/255,o[1]=(r>>8&255)/255,o[2]=(r&255)/255}}});h.exports=a},62494:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(47551),s=e(47406),a=new f({Extends:c,initialize:function(o,l,v,u,d,p,g,x,T){u===void 0&&(u=.2),d===void 0&&(d=0),p===void 0&&(p=0),g===void 0&&(g=0),x===void 0&&(x=1),T===void 0&&(T=0),c.call(this,s.GRADIENT,o),this.alpha=u,this.size=T,this.fromX=d,this.fromY=p,this.toX=g,this.toY=x,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],l!=null&&(this.color1=l),v!=null&&(this.color2=v)},color1:{get:function(){var r=this.glcolor1;return(r[0]<<16)+(r[1]<<8)+(r[2]|0)},set:function(r){var o=this.glcolor1;o[0]=r>>16&255,o[1]=r>>8&255,o[2]=r&255}},color2:{get:function(){var r=this.glcolor2;return(r[0]<<16)+(r[1]<<8)+(r[2]|0)},set:function(r){var o=this.glcolor2;o[0]=r>>16&255,o[1]=r>>8&255,o[2]=r&255}}});h.exports=a},68897:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(47551),s=e(47406),a=new f({Extends:c,initialize:function(o,l){l===void 0&&(l=1),c.call(this,s.PIXELATE,o),this.amount=l}});h.exports=a},58575:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(47551),s=e(47406),a=new f({Extends:c,initialize:function(o,l,v,u,d,p,g,x){l===void 0&&(l=0),v===void 0&&(v=0),u===void 0&&(u=.1),d===void 0&&(d=1),g===void 0&&(g=6),x===void 0&&(x=1),c.call(this,s.SHADOW,o),this.x=l,this.y=v,this.decay=u,this.power=d,this.glcolor=[0,0,0,1],this.samples=g,this.intensity=x,p!==void 0&&(this.color=p)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var o=this.glcolor;o[0]=(r>>16&255)/255,o[1]=(r>>8&255)/255,o[2]=(r&255)/255}}});h.exports=a},33755:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(47551),s=e(47406),a=new f({Extends:c,initialize:function(o,l,v,u,d){l===void 0&&(l=.5),v===void 0&&(v=.5),u===void 0&&(u=3),d===void 0&&(d=!1),c.call(this,s.SHINE,o),this.speed=l,this.lineWidth=v,this.gradient=u,this.reveal=d}});h.exports=a},24949:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(47551),s=e(47406),a=new f({Extends:c,initialize:function(o,l,v,u,d){l===void 0&&(l=.5),v===void 0&&(v=.5),u===void 0&&(u=.5),d===void 0&&(d=.5),c.call(this,s.VIGNETTE,o),this.x=l,this.y=v,this.radius=u,this.strength=d}});h.exports=a},66241:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(47551),s=e(47406),a=new f({Extends:c,initialize:function(o,l,v,u,d){l===void 0&&(l=.1),v===void 0&&(v=0),u===void 0&&(u=0),d===void 0&&(d=!1),c.call(this,s.WIPE,o),this.progress=0,this.wipeWidth=l,this.direction=v,this.axis=u,this.reveal=d}});h.exports=a},47406:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};h.exports=y},96910:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(98611),c=e(47406),s={Barrel:e(20170),Controller:e(47551),Bloom:e(51182),Blur:e(51498),Bokeh:e(12042),Circle:e(69900),ColorMatrix:e(48991),Displacement:e(47909),Glow:e(18919),Gradient:e(62494),Pixelate:e(68897),Shadow:e(58575),Shine:e(33755),Vignette:e(24949),Wipe:e(66241)};s=f(!1,s,c),h.exports=s},88933:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(95723),c=e(20494),s=function(a,r,o){r.x=c(o,"x",0),r.y=c(o,"y",0),r.depth=c(o,"depth",0),r.flipX=c(o,"flipX",!1),r.flipY=c(o,"flipY",!1);var l=c(o,"scale",null);typeof l=="number"?r.setScale(l):l!==null&&(r.scaleX=c(l,"x",1),r.scaleY=c(l,"y",1));var v=c(o,"scrollFactor",null);typeof v=="number"?r.setScrollFactor(v):v!==null&&(r.scrollFactorX=c(v,"x",1),r.scrollFactorY=c(v,"y",1)),r.rotation=c(o,"rotation",0);var u=c(o,"angle",null);u!==null&&(r.angle=u),r.alpha=c(o,"alpha",1);var d=c(o,"origin",null);if(typeof d=="number")r.setOrigin(d);else if(d!==null){var p=c(d,"x",.5),g=c(d,"y",.5);r.setOrigin(p,g)}r.blendMode=c(o,"blendMode",f.NORMAL),r.visible=c(o,"visible",!0);var x=c(o,"add",!0);return x&&a.sys.displayList.add(r),r.preUpdate&&a.sys.updateList.add(r),r};h.exports=s},32291:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(20494),c=function(s,a){var r=f(a,"anims",null);if(r===null)return s;if(typeof r=="string")s.anims.play(r);else if(typeof r=="object"){var o=s.anims,l=f(r,"key",void 0);if(l){var v=f(r,"startFrame",void 0),u=f(r,"delay",0),d=f(r,"repeat",0),p=f(r,"repeatDelay",0),g=f(r,"yoyo",!1),x=f(r,"play",!1),T=f(r,"delayedPlay",0),S={key:l,delay:u,repeat:d,repeatDelay:p,yoyo:g,startFrame:v};x?o.play(S):T>0?o.playAfterDelay(S,T):o.load(S)}}return s};h.exports=c},91713:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(71207),s=e(91963),a=e(56631),r=e(7599),o=e(17922),l=new f({Extends:c,initialize:function(u){c.call(this,u),this.sortChildrenFlag=!1,this.scene=u,this.systems=u.sys,this.events=u.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(r.BOOT,this.boot,this),this.events.on(r.START,this.start,this)},boot:function(){this.events.once(r.DESTROY,this.destroy,this)},addChildCallback:function(v){v.displayList&&v.displayList!==this&&v.removeFromDisplayList(),v.parentContainer&&v.parentContainer.remove(v),v.displayList||(this.queueDepthSort(),v.displayList=this,v.emit(a.ADDED_TO_SCENE,v,this.scene),this.events.emit(r.ADDED_TO_SCENE,v,this.scene))},removeChildCallback:function(v){this.queueDepthSort(),v.displayList=null,v.emit(a.REMOVED_FROM_SCENE,v,this.scene),this.events.emit(r.REMOVED_FROM_SCENE,v,this.scene)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(o(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(v,u){return v._depth-u._depth},getChildren:function(){return this.list},shutdown:function(){for(var v=this.list;v.length;)v[0].destroy(!0);this.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});s.register("DisplayList",l,"displayList"),h.exports=l},89980:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(48129),s=e(81078),a=e(6659),r=e(56631),o=e(7599),l=new f({Extends:a,initialize:function(u,d){a.call(this),this.scene=u,this.displayList=null,this.type=d,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(r.ADDED_TO_SCENE,this.addedToScene,this),this.on(r.REMOVED_FROM_SCENE,this.removedFromScene,this),u.sys.queueDepthSort()},setActive:function(v){return this.active=v,this},setName:function(v){return this.name=v,this},setState:function(v){return this.state=v,this},setDataEnabled:function(){return this.data||(this.data=new s(this)),this},setData:function(v,u){return this.data||(this.data=new s(this)),this.data.set(v,u),this},incData:function(v,u){return this.data||(this.data=new s(this)),this.data.inc(v,u),this},toggleData:function(v){return this.data||(this.data=new s(this)),this.data.toggle(v),this},getData:function(v){return this.data||(this.data=new s(this)),this.data.get(v)},setInteractive:function(v,u,d){return this.scene.sys.input.enable(this,v,u,d),this},disableInteractive:function(){return this.scene.sys.input.disable(this),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return c(this)},willRender:function(v){var u=this.displayList&&this.displayList.active?this.displayList.willRender(v):!0;return!(!u||l.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&v.id)},getIndexList:function(){for(var v=this,u=this.parentContainer,d=[];u&&(d.unshift(u.getIndex(v)),v=u,u.parentContainer);)u=u.parentContainer;return this.displayList?d.unshift(this.displayList.getIndex(v)):d.unshift(this.scene.sys.displayList.getIndex(v)),d},addToDisplayList:function(v){return v===void 0&&(v=this.scene.sys.displayList),this.displayList&&this.displayList!==v&&this.removeFromDisplayList(),v.exists(this)||(this.displayList=v,v.add(this,!0),v.queueDepthSort(),this.emit(r.ADDED_TO_SCENE,this,this.scene),v.events.emit(o.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var v=this.displayList||this.scene.sys.displayList;return v&&v.exists(this)&&(v.remove(this,!0),v.queueDepthSort(),this.displayList=null,this.emit(r.REMOVED_FROM_SCENE,this,this.scene),v.events.emit(o.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(v){!this.scene||this.ignoreDestroy||(v===void 0&&(v=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(r.DESTROY,this,v),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});l.RENDER_MASK=15,h.exports=l},99325:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(91963),s=e(7599),a=new f({initialize:function(o){this.scene=o,this.systems=o.sys,this.events=o.sys.events,this.displayList,this.updateList,this.events.once(s.BOOT,this.boot,this),this.events.on(s.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(s.DESTROY,this.destroy,this)},start:function(){this.events.once(s.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(s.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});a.register=function(r,o){a.prototype.hasOwnProperty(r)||(a.prototype[r]=o)},a.remove=function(r){a.prototype.hasOwnProperty(r)&&delete a.prototype[r]},c.register("GameObjectCreator",a,"make"),h.exports=a},61286:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(91963),s=e(7599),a=new f({initialize:function(o){this.scene=o,this.systems=o.sys,this.events=o.sys.events,this.displayList,this.updateList,this.events.once(s.BOOT,this.boot,this),this.events.on(s.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(s.DESTROY,this.destroy,this)},start:function(){this.events.once(s.SHUTDOWN,this.shutdown,this)},existing:function(r){return(r.renderCanvas||r.renderWebGL)&&this.displayList.add(r),r.preUpdate&&this.updateList.add(r),r},shutdown:function(){this.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(s.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});a.register=function(r,o){a.prototype.hasOwnProperty(r)||(a.prototype[r]=o)},a.remove=function(r){a.prototype.hasOwnProperty(r)&&delete a.prototype[r]},c.register("GameObjectFactory",a,"add"),h.exports=a},73329:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(69360),c=new f,s=new f,a=new f,r={camera:c,sprite:s,calc:a},o=function(l,v,u){var d=c,p=s,g=a;return p.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY),d.copyFrom(v.matrix),u?(d.multiplyWithOffset(u,-v.scrollX*l.scrollFactorX,-v.scrollY*l.scrollFactorY),p.e=l.x,p.f=l.y):(p.e-=v.scrollX*l.scrollFactorX,p.f-=v.scrollY*l.scrollFactorY),d.multiply(p,g),r};h.exports=o},92034:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(74623),s=e(91963),a=e(7599),r=new f({Extends:c,initialize:function(l){c.call(this),this.checkQueue=!0,this.scene=l,this.systems=l.sys,l.sys.events.once(a.BOOT,this.boot,this),l.sys.events.on(a.START,this.start,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){var o=this.systems.events;o.on(a.PRE_UPDATE,this.update,this),o.on(a.UPDATE,this.sceneUpdate,this),o.once(a.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(o,l){for(var v=this._active,u=v.length,d=0;d<u;d++){var p=v[d];p.active&&p.preUpdate.call(p,o,l)}},shutdown:function(){for(var o=this._active.length;o--;)this._active[o].destroy(!0);for(o=this._pending.length;o--;)this._pending[o].destroy(!0);for(o=this._destroy.length;o--;)this._destroy[o].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var l=this.systems.events;l.off(a.PRE_UPDATE,this.update,this),l.off(a.UPDATE,this.sceneUpdate,this),l.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});s.register("UpdateList",r,"updateList"),h.exports=r},8810:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s,a,r,o,l,v,u,d,p,g,x,T){var S=c.x-f.displayOriginX+a,P=c.y-f.displayOriginY+r,E=S+c.w,R=P+c.h,A=o.getXRound(S,P,l),w=o.getYRound(S,P,l),O=o.getXRound(S,R,l),L=o.getYRound(S,R,l),F=o.getXRound(E,R,l),I=o.getYRound(E,R,l),b=o.getXRound(E,P,l),G=o.getYRound(E,P,l);e.batchQuad(f,A,w,O,L,F,I,b,G,s.u0,s.v0,s.u1,s.v1,v,u,d,p,g,x,T)};h.exports=y},82173:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){if(c===void 0&&(c=!1),s===void 0)return s={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},s;var a=e.text,r=a.length,o=e.maxWidth,l=e.wordWrapCharCode,v=Number.MAX_VALUE,u=Number.MAX_VALUE,d=0,p=0,g=e.fontData.chars,x=e.fontData.lineHeight,T=e.letterSpacing,S=e.lineSpacing,P=0,E=0,R=0,A=null,w=e._align,O=0,L=0,F=e.fontSize/e.fontData.size,I=F*e.scaleX,b=F*e.scaleY,G=null,N=0,U=[],Y=Number.MAX_VALUE,X=0,B=0,z=0,D,V=[],k=[],W=null;if(o>0){for(D=0;D<r;D++){if(R=a.charCodeAt(D),R===10){W!==null&&(V.push({word:W.word,i:W.i,x:W.x*I,y:W.y*b,w:W.w*I,h:W.h*b,cr:!0}),W=null),P=0,E+=x+S,G=null;continue}if(A=g[R],!!A){if(G!==null)var H=A.kerning[N];R===l?W!==null&&(V.push({word:W.word,i:W.i,x:W.x*I,y:W.y*b,w:W.w*I,h:W.h*b,cr:!1}),W=null):(W===null&&(W={word:"",i:D,x:P,y:E,w:0,h:x,cr:!1}),W.word=W.word.concat(a[D]),W.w+=A.xOffset+A.xAdvance+(H!==void 0?H:0)),P+=A.xAdvance+T,G=A,N=R}}W!==null&&V.push({word:W.word,i:W.i,x:W.x*I,y:W.y*b,w:W.w*I,h:W.h*b,cr:!1}),P=0,E=0,G=null,N=0;var $,K=0,j=[];for(D=0;D<V.length;D++){var Z=V[D],J=Z.x,Q=Z.x+Z.w;if($){var q=J-($.x+$.w);K=J-(q+$.w),$=null}var _=J-K,et=Q-K;_>o||et>o?(j.push(Z.i-1),Z.cr?(j.push(Z.i+Z.word.length),K=0,$=null):$=Z):Z.cr&&(j.push(Z.i+Z.word.length),K=0,$=null)}var st=function(Vt,It,zt){return Vt.substr(0,It)+zt+Vt.substr(It+1)};for(D=j.length-1;D>=0;D--)a=st(a,j[D],`
`);s.wrappedText=a,r=a.length,V=[],W=null}var it=0;for(D=0;D<r;D++){if(R=a.charCodeAt(D),R===10){W!==null&&(V.push({word:W.word,i:W.i,x:W.x*I,y:W.y*b,w:W.w*I,h:W.h*b}),W=null),P=0,E+=x+S,G=null,U[B]=z,z>X&&(X=z),z<Y&&(Y=z),B++,z=0;continue}if(A=g[R],!!A){if(O=P,L=E,G!==null){var lt=A.kerning[N];O+=lt!==void 0?lt:0}v>O&&(v=O),u>L&&(u=L);var tt=O+A.xAdvance,ht=L+x;d<tt&&(d=tt),p<ht&&(p=ht);var rt=A.xOffset+A.xAdvance+(lt!==void 0?lt:0);R===l?W!==null&&(V.push({word:W.word,i:W.i,x:W.x*I,y:W.y*b,w:W.w*I,h:W.h*b}),W=null):(W===null&&(W={word:"",i:it,x:P,y:E,w:0,h:x}),W.word=W.word.concat(a[D]),W.w+=rt),k.push({i:it,idx:D,char:a[D],code:R,x:(A.xOffset+O)*F,y:(A.yOffset+E)*F,w:A.width*F,h:A.height*F,t:E*F,r:tt*F,b:x*F,line:B,glyph:A}),P+=A.xAdvance+T+(lt!==void 0?lt:0),G=A,N=R,z=tt*F,it++}}if(W!==null&&V.push({word:W.word,i:W.i,x:W.x*I,y:W.y*b,w:W.w*I,h:W.h*b}),U[B]=z,z>X&&(X=z),z<Y&&(Y=z),w>0)for(var ft=0;ft<k.length;ft++){var ct=k[ft];if(w===1){var yt=(X-U[ct.line])/2;ct.x+=yt,ct.r+=yt}else if(w===2){var mt=X-U[ct.line];ct.x+=mt,ct.r+=mt}}var dt=s.local,gt=s.global,St=s.lines;return dt.x=v*F,dt.y=u*F,dt.width=d*F,dt.height=p*F,gt.x=e.x-e._displayOriginX+v*I,gt.y=e.y-e._displayOriginY+u*b,gt.width=d*I,gt.height=p*b,St.shortest=Y,St.longest=X,St.lengths=U,f&&(dt.x=Math.ceil(dt.x),dt.y=Math.ceil(dt.y),dt.width=Math.ceil(dt.width),dt.height=Math.ceil(dt.height),gt.x=Math.ceil(gt.x),gt.y=Math.ceil(gt.y),gt.width=Math.ceil(gt.width),gt.height=Math.ceil(gt.height),St.shortest=Math.ceil(Y),St.longest=Math.ceil(X)),c&&(e._displayOriginX=e.originX*dt.width,e._displayOriginY=e.originY*dt.height,gt.x=e.x-e._displayOriginX*e.scaleX,gt.y=e.y-e._displayOriginY*e.scaleY,f&&(gt.x=Math.ceil(gt.x),gt.y=Math.ceil(gt.y))),s.words=V,s.characters=k,s.lines.height=x,s.scale=F,s.scaleX=e.scaleX,s.scaleY=e.scaleY,s};h.exports=y},68298:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(31476),c=function(s,a,r,o,l,v,u){var d=s.sys.textures.get(r),p=d.get(o),g=s.sys.cache.xml.get(l);if(p&&g){var x=f(g,p,v,u,d);return s.sys.cache.bitmapFont.add(a,{data:x,texture:r,frame:o,fromAtlas:!0}),!0}else return!1};h.exports=c},39860:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(10850),c=function(s,a){var r=a.width,o=a.height,l=Math.floor(r/2),v=Math.floor(o/2),u=f(a,"chars","");if(u!==""){var d=f(a,"image",""),p=s.sys.textures.getFrame(d),g=p.cutX,x=p.cutY,T=p.source.width,S=p.source.height,P=f(a,"offset.x",0),E=f(a,"offset.y",0),R=f(a,"spacing.x",0),A=f(a,"spacing.y",0),w=f(a,"lineSpacing",0),O=f(a,"charsPerRow",null);O===null&&(O=T/r,O>u.length&&(O=u.length));for(var L=P,F=E,I={retroFont:!0,font:d,size:r,lineHeight:o+w,chars:{}},b=0,G=0;G<u.length;G++){var N=u.charCodeAt(G),U=(g+L)/T,Y=(x+F)/S,X=(g+L+r)/T,B=(x+F+o)/S;I.chars[N]={x:L,y:F,width:r,height:o,centerX:l,centerY:v,xOffset:0,yOffset:0,xAdvance:r,data:{},kerning:{},u0:U,v0:Y,u1:X,v1:B},b++,b===O?(b=0,L=P,F+=o+A):L+=r+R}var z={data:I,frame:null,texture:d};return z}};h.exports=c},31476:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(f,c){return parseInt(f.getAttribute(c),10)}var e=function(f,c,s,a,r){s===void 0&&(s=0),a===void 0&&(a=0);var o=c.cutX,l=c.cutY,v=c.source.width,u=c.source.height,d=c.sourceIndex,p={},g=f.getElementsByTagName("info")[0],x=f.getElementsByTagName("common")[0];p.font=g.getAttribute("face"),p.size=y(g,"size"),p.lineHeight=y(x,"lineHeight")+a,p.chars={};var T=f.getElementsByTagName("char"),S=c!==void 0&&c.trimmed;if(S)var P=c.height,E=c.width;for(var R=0;R<T.length;R++){var A=T[R],w=y(A,"id"),O=String.fromCharCode(w),L=y(A,"x"),F=y(A,"y"),I=y(A,"width"),b=y(A,"height");S&&(L<E&&(E=L),F<P&&(P=F)),S&&P!==0&&E!==0&&(L-=c.x,F-=c.y);var G=(o+L)/v,N=(l+F)/u,U=(o+L+I)/v,Y=(l+F+b)/u;if(p.chars[w]={x:L,y:F,width:I,height:b,centerX:Math.floor(I/2),centerY:Math.floor(b/2),xOffset:y(A,"xoffset"),yOffset:y(A,"yoffset"),xAdvance:y(A,"xadvance")+s,data:{},kerning:{},u0:G,v0:N,u1:U,v1:Y},r&&I!==0&&b!==0){var X=r.add(O,d,L,F,I,b);X&&X.setUVs(I,b,G,N,U,Y)}}var B=f.getElementsByTagName("kerning");for(R=0;R<B.length;R++){var z=B[R],D=y(z,"first"),V=y(z,"second"),k=y(z,"amount");p.chars[V].kerning[D]=k}return p};h.exports=e},55873:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(66863),c=e(98611),s={Parse:e(39860)};s=c(!1,s,f),h.exports=s},66863:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};h.exports=y},13468:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(44616),c=e(56694),s=e(88899),a=new c({Extends:f,Mixins:[s],initialize:function(o,l,v,u,d,p,g){f.call(this,o,l,v,u,d,p,g),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(r,o){return this.cropWidth=r,this.cropHeight=o,this},setDisplayCallback:function(r){return this.displayCallback=r,this},setScrollX:function(r){return this.scrollX=r,this},setScrollY:function(r){return this.scrollY=r,this}});h.exports=a},93438:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(49584),c=function(s,a,r,o){var l=a._text,v=l.length,u=s.currentContext;if(!(v===0||!f(s,u,a,r,o))){r.addToRenderList(a);var d=a.fromAtlas?a.frame:a.texture.frames.__BASE,p=a.displayCallback,g=a.callbackData,x=a.fontData.chars,T=a.fontData.lineHeight,S=a._letterSpacing,P=0,E=0,R=0,A=null,w=0,O=0,L=0,F=0,I=0,b=0,G=null,N=0,U=a.frame.source.image,Y=d.cutX,X=d.cutY,B=0,z=0,D=a._fontSize/a.fontData.size,V=a._align,k=0,W=0;a.getTextBounds(!1);var H=a._bounds.lines;V===1?W=(H.longest-H.lengths[0])/2:V===2&&(W=H.longest-H.lengths[0]),u.translate(-a.displayOriginX,-a.displayOriginY);var $=r.roundPixels;a.cropWidth>0&&a.cropHeight>0&&(u.beginPath(),u.rect(0,0,a.cropWidth,a.cropHeight),u.clip());for(var K=0;K<v;K++){if(z=D,B=0,R=l.charCodeAt(K),R===10){k++,V===1?W=(H.longest-H.lengths[k])/2:V===2&&(W=H.longest-H.lengths[k]),P=0,E+=T,G=null;continue}if(A=x[R],!!A){if(w=Y+A.x,O=X+A.y,L=A.width,F=A.height,I=A.xOffset+P-a.scrollX,b=A.yOffset+E-a.scrollY,G!==null){var j=A.kerning[N];I+=j!==void 0?j:0}if(p){g.index=K,g.charCode=R,g.x=I,g.y=b,g.scale=z,g.rotation=B,g.data=A.data;var Z=p(g);I=Z.x,b=Z.y,z=Z.scale,B=Z.rotation}I*=z,b*=z,I+=W,P+=A.xAdvance+S+(j!==void 0?j:0),G=A,N=R,!(L===0||F===0||R===32)&&($&&(I=Math.round(I),b=Math.round(b)),u.save(),u.translate(I,b),u.rotate(B),u.scale(z,z),u.drawImage(U,w,O,L,F,0,0,L,F),u.restore())}}u.restore()}};h.exports=c},67513:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(13468),c=e(88933),s=e(99325),a=e(20494);s.register("dynamicBitmapText",function(r,o){r===void 0&&(r={});var l=a(r,"font",""),v=a(r,"text",""),u=a(r,"size",!1),d=new f(this.scene,0,0,l,v,u);return o!==void 0&&(r.add=o),c(this.scene,d,r),d})},94145:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(13468),c=e(61286);c.register("dynamicBitmapText",function(s,a,r,o,l){return this.displayList.add(new f(this.scene,s,a,r,o,l))})},88899:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),c=f,s=f;c=e(16873),s=e(93438),h.exports={renderWebGL:c,renderCanvas:s}},16873:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(73329),c=e(69360),s=e(75512),a=new c,r=function(o,l,v,u){var d=l.text,p=d.length;if(p!==0){v.addToRenderList(l);var g=o.pipelines.set(l.pipeline,l),x=f(l,v,u);o.pipelines.preBatch(l);var T=x.sprite,S=x.calc,P=a,E=l.cropWidth>0||l.cropHeight>0;E&&(g.flush(),o.pushScissor(S.tx,S.ty,l.cropWidth*S.scaleX,l.cropHeight*S.scaleY));var R=l.frame,A=R.glTexture,w=l.tintFill,O=s.getTintAppendFloatAlpha(l.tintTopLeft,v.alpha*l._alphaTL),L=s.getTintAppendFloatAlpha(l.tintTopRight,v.alpha*l._alphaTR),F=s.getTintAppendFloatAlpha(l.tintBottomLeft,v.alpha*l._alphaBL),I=s.getTintAppendFloatAlpha(l.tintBottomRight,v.alpha*l._alphaBR),b=g.setGameObject(l),G=0,N=0,U=0,Y=0,X=l.letterSpacing,B,z=0,D=0,V,k=l.scrollX,W=l.scrollY,H=l.fontData,$=H.chars,K=H.lineHeight,j=l.fontSize/H.size,Z=0,J=l._align,Q=0,q=0,_=l.getTextBounds(!1);l.maxWidth>0&&(d=_.wrappedText,p=d.length);var et=l._bounds.lines;J===1?q=(et.longest-et.lengths[0])/2:J===2&&(q=et.longest-et.lengths[0]);for(var st=v.roundPixels,it=l.displayCallback,lt=l.callbackData,tt=0;tt<p;tt++){if(U=d.charCodeAt(tt),U===10){Q++,J===1?q=(et.longest-et.lengths[Q])/2:J===2&&(q=et.longest-et.lengths[Q]),G=0,N+=K,V=null;continue}if(B=$[U],!!B){z=B.width,D=B.height;var ht=B.xOffset+G-k,rt=B.yOffset+N-W;if(V!==null){var ft=B.kerning[Y];ht+=ft!==void 0?ft:0}if(G+=B.xAdvance+X,V=B,Y=U,!(z===0||D===0||U===32)){if(j=l.fontSize/l.fontData.size,Z=0,it){lt.color=0,lt.tint.topLeft=O,lt.tint.topRight=L,lt.tint.bottomLeft=F,lt.tint.bottomRight=I,lt.index=tt,lt.charCode=U,lt.x=ht,lt.y=rt,lt.scale=j,lt.rotation=Z,lt.data=B.data;var ct=it(lt);ht=ct.x,rt=ct.y,j=ct.scale,Z=ct.rotation,ct.color?(O=ct.color,L=ct.color,F=ct.color,I=ct.color):(O=ct.tint.topLeft,L=ct.tint.topRight,F=ct.tint.bottomLeft,I=ct.tint.bottomRight),O=s.getTintAppendFloatAlpha(O,v.alpha*l._alphaTL),L=s.getTintAppendFloatAlpha(L,v.alpha*l._alphaTR),F=s.getTintAppendFloatAlpha(F,v.alpha*l._alphaBL),I=s.getTintAppendFloatAlpha(I,v.alpha*l._alphaBR)}ht*=j,rt*=j,ht-=l.displayOriginX,rt-=l.displayOriginY,ht+=q,P.applyITRS(ht,rt,Z,j,j),S.multiply(P,T);var yt=B.u0,mt=B.v0,dt=B.u1,gt=B.v1,St=z,Vt=D,It=T.e,zt=T.f,kt=Vt*T.c+T.e,ze=Vt*T.d+T.f,qe=St*T.a+Vt*T.c+T.e,Bn=St*T.b+Vt*T.d+T.f,bn=St*T.a+T.e,Gn=St*T.b+T.f;st&&(It=Math.round(It),zt=Math.round(zt),kt=Math.round(kt),ze=Math.round(ze),qe=Math.round(qe),Bn=Math.round(Bn),bn=Math.round(bn),Gn=Math.round(Gn)),g.batchQuad(l,It,zt,kt,ze,qe,Bn,bn,Gn,yt,mt,dt,gt,O,L,F,I,w,A,b)}}}E&&(g.flush(),o.popScissor()),o.pipelines.postBatch(l)}};h.exports=r},44616:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(82897),s=e(64937),a=e(89980),r=e(82173),o=e(68298),l=e(31476),v=e(74118),u=e(84557),d=new f({Extends:a,Mixins:[s.Alpha,s.BlendMode,s.Depth,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Texture,s.Tint,s.Transform,s.Visible,u],initialize:function(g,x,T,S,P,E,R){P===void 0&&(P=""),R===void 0&&(R=0),a.call(this,g,"BitmapText"),this.font=S;var A=this.scene.sys.cache.bitmapFont.get(S);A||console.warn("Invalid BitmapText key: "+S),this.fontData=A.data,this._text="",this._fontSize=E||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=R,this._bounds=r(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=A.fromAtlas,this.setTexture(A.texture,A.frame),this.setPosition(x,T),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(P)},setLeftAlign:function(){return this._align=d.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=d.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=d.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(p){return this._fontSize=p,this._dirty=!0,this},setLetterSpacing:function(p){return p===void 0&&(p=0),this._letterSpacing=p,this._dirty=!0,this},setLineSpacing:function(p){return p===void 0&&(p=0),this.lineSpacing=p,this},setText:function(p){return!p&&p!==0&&(p=""),Array.isArray(p)&&(p=p.join(`
`)),p!==this.text&&(this._text=p.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(p,g,x,T){return p===void 0&&(p=0),g===void 0&&(g=0),x===void 0&&(x=0),T===void 0&&(T=.5),this.dropShadowX=p,this.dropShadowY=g,this.dropShadowColor=x,this.dropShadowAlpha=T,this},setCharacterTint:function(p,g,x,T,S,P,E){p===void 0&&(p=0),g===void 0&&(g=1),x===void 0&&(x=!1),T===void 0&&(T=-1),S===void 0&&(S=T,P=T,E=T);var R=this.text.length;g===-1&&(g=R),p<0&&(p=R+p),p=c(p,0,R-1);for(var A=c(p+g,p,R),w=this.charColors,O=p;O<A;O++){var L=w[O];if(T===-1)w[O]=null;else{var F=x?1:0;L?(L.tintEffect=F,L.tintTL=T,L.tintTR=S,L.tintBL=P,L.tintBR=E):w[O]={tintEffect:F,tintTL:T,tintTR:S,tintBL:P,tintBR:E}}}return this},setWordTint:function(p,g,x,T,S,P,E){g===void 0&&(g=1);for(var R=this.getTextBounds(),A=R.words,w=typeof p=="number",O=0,L=0;L<A.length;L++){var F=A[L];if((w&&L===p||!w&&F.word===p)&&(this.setCharacterTint(F.i,F.word.length,x,T,S,P,E),O++,O===g))return this}return this},getTextBounds:function(p){var g=this._bounds;return(this._dirty||p||this.scaleX!==g.scaleX||this.scaleY!==g.scaleY)&&(r(this,p,!0,g),this._dirty=!1),g},getCharacterAt:function(p,g,x){for(var T=this.getLocalPoint(p,g,null,x),S=this.getTextBounds(),P=S.characters,E=new v,R=0;R<P.length;R++){var A=P[R];if(E.setTo(A.x,A.t,A.r-A.x,A.b),E.contains(T.x,T.y))return A}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(p,g,x){if(g===void 0&&(g=this._fontSize),x===void 0&&(x=this._align),p!==this.font){var T=this.scene.sys.cache.bitmapFont.get(p);T&&(this.font=p,this.fontData=T.data,this._fontSize=g,this._align=x,this.fromAtlas=T.fromAtlas===!0,this.setTexture(T.texture,T.frame),r(this,!1,!0,this._bounds))}return this},setMaxWidth:function(p,g){return this._maxWidth=p,this._dirty=!0,g!==void 0&&(this.wordWrapCharCode=g),this},align:{set:function(p){this._align=p,this._dirty=!0},get:function(){return this._align}},text:{set:function(p){this.setText(p)},get:function(){return this._text}},fontSize:{set:function(p){this._fontSize=p,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(p){this._letterSpacing=p,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(p){this._lineSpacing=p,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(p){this._maxWidth=p,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var p=s.ToJSON(this),g={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return p.data=g,p},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});d.ALIGN_LEFT=0,d.ALIGN_CENTER=1,d.ALIGN_RIGHT=2,d.ParseFromAtlas=o,d.ParseXMLBitmapFont=l,h.exports=d},97545:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(49584),c=function(s,a,r,o){var l=a._text,v=l.length,u=s.currentContext;if(!(v===0||!f(s,u,a,r,o))){r.addToRenderList(a);var d=a.fromAtlas?a.frame:a.texture.frames.__BASE,p=a.fontData.chars,g=a.fontData.lineHeight,x=a._letterSpacing,T=a._lineSpacing,S=0,P=0,E=0,R=null,A=0,w=0,O=0,L=0,F=0,I=0,b=null,G=0,N=d.source.image,U=d.cutX,Y=d.cutY,X=a._fontSize/a.fontData.size,B=a._align,z=0,D=0,V=a.getTextBounds(!1);a.maxWidth>0&&(l=V.wrappedText,v=l.length);var k=a._bounds.lines;B===1?D=(k.longest-k.lengths[0])/2:B===2&&(D=k.longest-k.lengths[0]),u.translate(-a.displayOriginX,-a.displayOriginY);for(var W=r.roundPixels,H=0;H<v;H++){if(E=l.charCodeAt(H),E===10){z++,B===1?D=(k.longest-k.lengths[z])/2:B===2&&(D=k.longest-k.lengths[z]),S=0,P+=g+T,b=null;continue}if(R=p[E],!!R){if(A=U+R.x,w=Y+R.y,O=R.width,L=R.height,F=R.xOffset+S,I=R.yOffset+P,b!==null){var $=R.kerning[G];F+=$!==void 0?$:0}F*=X,I*=X,F+=D,S+=R.xAdvance+x+($!==void 0?$:0),b=R,G=E,!(O===0||L===0||E===32)&&(W&&(F=Math.round(F),I=Math.round(I)),u.save(),u.translate(F,I),u.scale(X,X),u.drawImage(N,A,w,O,L,0,0,O,L),u.restore())}}u.restore()}};h.exports=c},95499:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(44616),c=e(88933),s=e(99325),a=e(20494),r=e(10850);s.register("bitmapText",function(o,l){o===void 0&&(o={});var v=r(o,"font",""),u=a(o,"text",""),d=a(o,"size",!1),p=r(o,"align",0),g=new f(this.scene,0,0,v,u,d,p);return l!==void 0&&(o.add=l),c(this.scene,g,o),g})},21797:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(44616),c=e(61286);c.register("bitmapText",function(s,a,r,o,l,v){return this.displayList.add(new f(this.scene,s,a,r,o,l,v))})},84557:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),c=f,s=f;c=e(26372),s=e(97545),h.exports={renderWebGL:c,renderCanvas:s}},26372:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(8810),c=e(73329),s=e(75512),a=function(r,o,l,v){var u=o._text,d=u.length;if(d!==0){l.addToRenderList(o);var p=r.pipelines.set(o.pipeline,o),g=c(o,l,v).calc;r.pipelines.preBatch(o);var x=l.roundPixels,T=l.alpha,S=o.charColors,P=o.tintFill,E=s.getTintAppendFloatAlpha,R=E(o.tintTopLeft,T*o._alphaTL),A=E(o.tintTopRight,T*o._alphaTR),w=E(o.tintBottomLeft,T*o._alphaBL),O=E(o.tintBottomRight,T*o._alphaBR),L=o.frame.glTexture,F=p.setGameObject(o),I=o.getTextBounds(!1),b,G,N,U=I.characters,Y=o.dropShadowX,X=o.dropShadowY,B=Y!==0||X!==0;if(B){var z=o.dropShadowColor,D=o.dropShadowAlpha,V=E(z,T*D*o._alphaTL),k=E(z,T*D*o._alphaTR),W=E(z,T*D*o._alphaBL),H=E(z,T*D*o._alphaBR);for(b=0;b<U.length;b++)G=U[b],N=G.glyph,!(G.code===32||N.width===0||N.height===0)&&f(p,o,G,N,Y,X,g,x,V,k,W,H,1,L,F)}for(b=0;b<U.length;b++)if(G=U[b],N=G.glyph,!(G.code===32||N.width===0||N.height===0))if(S[G.i]){var $=S[G.i],K=$.tintEffect,j=E($.tintTL,T*o._alphaTL),Z=E($.tintTR,T*o._alphaTR),J=E($.tintBL,T*o._alphaBL),Q=E($.tintBR,T*o._alphaBR);f(p,o,G,N,0,0,g,x,j,Z,J,Q,K,L,F)}else f(p,o,G,N,0,0,g,x,R,A,w,O,P,L,F);r.pipelines.postBatch(o)}};h.exports=a},52816:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(92246),c=e(41664),s=e(56694),a=e(64937),r=e(82047),o=e(89980),l=e(71207),v=new s({Extends:o,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.Mask,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Size,a.Texture,a.Transform,a.Visible,f],initialize:function(d,p,g,x,T){o.call(this,d,"Blitter"),this.setTexture(x,T),this.setPosition(p,g),this.initPipeline(),this.initPostPipeline(),this.children=new l,this.renderList=[],this.dirty=!1},create:function(u,d,p,g,x){g===void 0&&(g=!0),x===void 0&&(x=this.children.length),p===void 0?p=this.frame:p instanceof r||(p=this.texture.get(p));var T=new c(this,u,d,p,g);return this.children.addAt(T,x,!1),this.dirty=!0,T},createFromCallback:function(u,d,p,g){for(var x=this.createMultiple(d,p,g),T=0;T<x.length;T++){var S=x[T];u.call(this,S,T)}return x},createMultiple:function(u,d,p){d===void 0&&(d=this.frame.name),p===void 0&&(p=!0),Array.isArray(d)||(d=[d]);var g=[],x=this;return d.forEach(function(T){for(var S=0;S<u;S++)g.push(x.create(0,0,T,p))}),g},childCanRender:function(u){return u.visible&&u.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});h.exports=v},33177:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){var a=f.getRenderList();if(a.length!==0){var r=e.currentContext,o=c.alpha*f.alpha;if(o!==0){c.addToRenderList(f),r.globalCompositeOperation=e.blendModes[f.blendMode],r.imageSmoothingEnabled=!f.frame.source.scaleMode;var l=f.x-c.scrollX*f.scrollFactorX,v=f.y-c.scrollY*f.scrollFactorY;r.save(),s&&s.copyToContext(r);for(var u=c.roundPixels,d=0;d<a.length;d++){var p=a[d],g=p.flipX||p.flipY,x=p.frame,T=x.canvasData,S=x.x,P=x.y,E=1,R=1,A=p.alpha*o;A!==0&&(r.globalAlpha=A,g?(p.flipX&&(E=-1,S-=T.width),p.flipY&&(R=-1,P-=T.height),T.width>0&&T.height>0&&(r.save(),r.translate(p.x+l,p.y+v),r.scale(E,R),r.drawImage(x.source.image,T.x,T.y,T.width,T.height,S,P,T.width,T.height),r.restore())):(u&&(S=Math.round(S),P=Math.round(P)),T.width>0&&T.height>0&&r.drawImage(x.source.image,T.x,T.y,T.width,T.height,S+p.x+l,P+p.y+v,T.width,T.height)))}r.restore()}}};h.exports=y},68452:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(52816),c=e(88933),s=e(99325),a=e(20494);s.register("blitter",function(r,o){r===void 0&&(r={});var l=a(r,"key",null),v=a(r,"frame",null),u=new f(this.scene,0,0,l,v);return o!==void 0&&(r.add=o),c(this.scene,u,r),u})},38906:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(52816),c=e(61286);c.register("blitter",function(s,a,r,o){return this.displayList.add(new f(this.scene,s,a,r,o))})},92246:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),c=f,s=f;c=e(89165),s=e(33177),h.exports={renderWebGL:c,renderCanvas:s}},89165:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(69360),c=e(75512),s=new f,a=function(r,o,l,v){var u=o.getRenderList(),d=l.alpha*o.alpha;if(!(u.length===0||d===0)){l.addToRenderList(o);var p=r.pipelines.set(this.pipeline,o),g=l.scrollX*o.scrollFactorX,x=l.scrollY*o.scrollFactorY,T=s.copyFrom(l.matrix);v&&(T.multiplyWithOffset(v,-g,-x),g=0,x=0);var S=o.x-g,P=o.y-x,E=-1,R=!1,A=l.roundPixels;r.pipelines.preBatch(o);for(var w=0;w<u.length;w++){var O=u[w],L=O.frame,F=O.alpha*d;if(F!==0){var I=L.width,b=L.height,G=S+O.x+L.x,N=P+O.y+L.y;O.flipX&&(I*=-1,G+=L.width),O.flipY&&(b*=-1,N+=L.height);var U=T.setQuad(G,N,G+I,N+b,A),Y=c.getTintAppendFloatAlpha(O.tint,F);if(L.sourceIndex!==E){var X=p.setGameObject(o,L);E=L.sourceIndex}p.batchQuad(o,U[0],U[1],U[2],U[3],U[4],U[5],U[6],U[7],L.u0,L.v0,L.u1,L.v1,Y,Y,Y,Y,R,L.glTexture,X)&&(E=-1)}}r.pipelines.postBatch(o)}};h.exports=a},41664:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(82047),s=new f({initialize:function(r,o,l,v,u){this.parent=r,this.x=o,this.y=l,this.frame=v,this.data={},this.tint=16777215,this._visible=u,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(a){return a===void 0?this.frame=this.parent.frame:a instanceof c&&a.texture===this.parent.texture?this.frame=a:this.frame=this.parent.texture.get(a),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(a,r,o){return this.x=a,this.y=r,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,o&&this.setFrame(o),this},setPosition:function(a,r){return this.x=a,this.y=r,this},setFlipX:function(a){return this.flipX=a,this},setFlipY:function(a){return this.flipY=a,this},setFlip:function(a,r){return this.flipX=a,this.flipY=r,this},setVisible:function(a){return this.visible=a,this},setAlpha:function(a){return this.alpha=a,this},setTint:function(a){return this.tint=a,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(a){this.parent.dirty|=this._visible!==a,this._visible=a}},alpha:{get:function(){return this._alpha},set:function(a){this.parent.dirty|=this._alpha>0!=a>0,this._alpha=a}}});h.exports=s},97123:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(82897),c=2,s={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(a,r,o,l){return a===void 0&&(a=1),r===void 0?this.alpha=a:(this._alphaTL=f(a,0,1),this._alphaTR=f(r,0,1),this._alphaBL=f(o,0,1),this._alphaBR=f(l,0,1)),this},alpha:{get:function(){return this._alpha},set:function(a){var r=f(a,0,1);this._alpha=r,this._alphaTL=r,this._alphaTR=r,this._alphaBL=r,this._alphaBR=r,r===0?this.renderFlags&=~c:this.renderFlags|=c}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(a){var r=f(a,0,1);this._alphaTL=r,r!==0&&(this.renderFlags|=c)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(a){var r=f(a,0,1);this._alphaTR=r,r!==0&&(this.renderFlags|=c)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(a){var r=f(a,0,1);this._alphaBL=r,r!==0&&(this.renderFlags|=c)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(a){var r=f(a,0,1);this._alphaBR=r,r!==0&&(this.renderFlags|=c)}}};h.exports=s},15720:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(82897),c=2,s={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(a){return a===void 0&&(a=1),this.alpha=a,this},alpha:{get:function(){return this._alpha},set:function(a){var r=f(a,0,1);this._alpha=r,r===0?this.renderFlags&=~c:this.renderFlags|=c}}};h.exports=s},69732:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(95723),c={_blendMode:f.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(s){typeof s=="string"&&(s=f[s]),s|=0,s>=-1&&(this._blendMode=s)}},setBlendMode:function(s){return this.blendMode=s,this}};h.exports=c},28284:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}},setSize:function(e,f){return this.width=e,this.height=f,this},setDisplaySize:function(e,f){return this.displayWidth=e,this.displayHeight=f,this}};h.exports=y},85293:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={texture:null,frame:null,isCropped:!1,setCrop:function(e,f,c,s){if(e===void 0)this.isCropped=!1;else if(this.frame){if(typeof e=="number")this.frame.setCropUVs(this._crop,e,f,c,s,this.flipX,this.flipY);else{var a=e;this.frame.setCropUVs(this._crop,a.x,a.y,a.width,a.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};h.exports=y},14975:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={_depth:0,depth:{get:function(){return this._depth},set:function(e){this.displayList&&this.displayList.queueDepthSort(),this._depth=e}},setDepth:function(e){return e===void 0&&(e=0),this.depth=e,this}};h.exports=y},88677:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(96910),s=e(72677),a=new f({initialize:function(o,l){this.gameObject=o,this.isPost=l,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(r){return r===void 0&&(r=0),this.padding=r,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(r){if(!this.isPost){var o=this.gameObject.scene.sys.renderer;o&&o.pipelines?(this.gameObject.pipeline=o.pipelines.FX_PIPELINE,r!==void 0&&(this.padding=r),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var r=this.list,o=0;o<r.length;o++)r[o].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(r){var o;if(this.isPost){var l=this.gameObject.getPostPipeline(String(r.type));for(Array.isArray(l)||(l=[l]),o=0;o<l.length;o++){var v=l[o];if(v.controller===r){this.gameObject.removePostPipeline(v),r.destroy();break}}}else{var u=this.list;for(o=0;o<u.length;o++)u[o]===r&&(s(u,o),r.destroy())}return this.gameObject},disable:function(r){return r===void 0&&(r=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,r&&this.clear(),this.gameObject},add:function(r,o){if(this.isPost){var l=String(r.type);this.gameObject.setPostPipeline(l,o);var v=this.gameObject.getPostPipeline(l);if(v)return Array.isArray(v)&&(v=v.pop()),v.controller=r,r}else return this.enabled||this.enable(),this.list.push(r),r},addGlow:function(r,o,l,v,u,d){return this.add(new c.Glow(this.gameObject,r,o,l,v),{quality:u,distance:d})},addShadow:function(r,o,l,v,u,d,p){return this.add(new c.Shadow(this.gameObject,r,o,l,v,u,d,p))},addPixelate:function(r){return this.add(new c.Pixelate(this.gameObject,r))},addVignette:function(r,o,l,v){return this.add(new c.Vignette(this.gameObject,r,o,l,v))},addShine:function(r,o,l,v){return this.add(new c.Shine(this.gameObject,r,o,l,v))},addBlur:function(r,o,l,v,u,d){return this.add(new c.Blur(this.gameObject,r,o,l,v,u,d))},addGradient:function(r,o,l,v,u,d,p,g){return this.add(new c.Gradient(this.gameObject,r,o,l,v,u,d,p,g))},addBloom:function(r,o,l,v,u,d){return this.add(new c.Bloom(this.gameObject,r,o,l,v,u,d))},addColorMatrix:function(){return this.add(new c.ColorMatrix(this.gameObject))},addCircle:function(r,o,l,v,u){return this.add(new c.Circle(this.gameObject,r,o,l,v,u))},addBarrel:function(r){return this.add(new c.Barrel(this.gameObject,r))},addDisplacement:function(r,o,l){return this.add(new c.Displacement(this.gameObject,r,o,l))},addWipe:function(r,o,l){return this.add(new c.Wipe(this.gameObject,r,o,l))},addReveal:function(r,o,l){return this.add(new c.Wipe(this.gameObject,r,o,l,!0))},addBokeh:function(r,o,l){return this.add(new c.Bokeh(this.gameObject,r,o,l))},addTiltShift:function(r,o,l,v,u,d){return this.add(new c.Bokeh(this.gameObject,r,o,l,!0,v,u,d))},destroy:function(){this.clear(),this.gameObject=null}});h.exports=a},92972:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(e){return this.flipX=e,this},setFlipY:function(e){return this.flipY=e,this},setFlip:function(e,f){return this.flipX=e,this.flipY=f,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};h.exports=y},80693:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(74118),c=e(2386),s=e(93736),a={prepareBoundsOutput:function(r,o){if(o===void 0&&(o=!1),this.rotation!==0&&c(r,this.x,this.y,this.rotation),o&&this.parentContainer){var l=this.parentContainer.getBoundsTransformMatrix();l.transformPoint(r.x,r.y,r)}return r},getCenter:function(r,o){return r===void 0&&(r=new s),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,o)},getTopLeft:function(r,o){return r||(r=new s),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,o)},getTopCenter:function(r,o){return r||(r=new s),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,o)},getTopRight:function(r,o){return r||(r=new s),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,o)},getLeftCenter:function(r,o){return r||(r=new s),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,o)},getRightCenter:function(r,o){return r||(r=new s),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,o)},getBottomLeft:function(r,o){return r||(r=new s),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,o)},getBottomCenter:function(r,o){return r||(r=new s),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,o)},getBottomRight:function(r,o){return r||(r=new s),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,o)},getBounds:function(r){r===void 0&&(r=new f);var o,l,v,u,d,p,g,x;if(this.parentContainer){var T=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(r),T.transformPoint(r.x,r.y,r),o=r.x,l=r.y,this.getTopRight(r),T.transformPoint(r.x,r.y,r),v=r.x,u=r.y,this.getBottomLeft(r),T.transformPoint(r.x,r.y,r),d=r.x,p=r.y,this.getBottomRight(r),T.transformPoint(r.x,r.y,r),g=r.x,x=r.y}else this.getTopLeft(r),o=r.x,l=r.y,this.getTopRight(r),v=r.x,u=r.y,this.getBottomLeft(r),d=r.x,p=r.y,this.getBottomRight(r),g=r.x,x=r.y;return r.x=Math.min(o,v,d,g),r.y=Math.min(l,u,p,x),r.width=Math.max(o,v,d,g)-r.x,r.height=Math.max(l,u,p,x)-r.y,r}};h.exports=a},39171:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(76756),c=e(63037),s={mask:null,setMask:function(a){return this.mask=a,this},clearMask:function(a){return a===void 0&&(a=!1),a&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(a,r,o,l,v){return a===void 0&&(this.texture||this.shader||this.geom)&&(a=this),new f(this.scene,a,r,o,l,v)},createGeometryMask:function(a){return a===void 0&&(this.type==="Graphics"||this.geom)&&(a=this),new c(this.scene,a)}};h.exports=s},28072:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(e){this._displayOriginX=e,this.originX=e/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(e){this._displayOriginY=e,this.originY=e/this.height}},setOrigin:function(e,f){return e===void 0&&(e=.5),f===void 0&&(f=e),this.originX=e,this.originY=f,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(e,f){return e===void 0&&(e=0),f===void 0&&(f=e),this.displayOriginX=e,this.displayOriginY=f,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};h.exports=y},54211:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(75606),c=e(63130),s=e(10850),a=e(55303),r=e(93736),o={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:a.PLAYING_FORWARD,setPath:function(l,v){v===void 0&&(v=this.pathConfig);var u=this.pathTween;return u&&u.isPlaying()&&u.stop(),this.path=l,v&&this.startFollow(v),this},setRotateToPath:function(l,v){return v===void 0&&(v=0),this.rotateToPath=l,this.pathRotationOffset=v,this},isFollowing:function(){var l=this.pathTween;return l&&l.isPlaying()},startFollow:function(l,v){l===void 0&&(l={}),v===void 0&&(v=0);var u=this.pathTween;u&&u.isPlaying()&&u.stop(),typeof l=="number"&&(l={duration:l}),l.from=s(l,"from",0),l.to=s(l,"to",1);var d=c(l,"positionOnPath",!1);this.rotateToPath=c(l,"rotateToPath",!1),this.pathRotationOffset=s(l,"rotationOffset",0);var p=s(l,"startAt",v);if(p&&(l.onStart=function(x){var T=x.data[0];T.progress=p,T.elapsed=T.duration*p;var S=T.ease(T.progress);T.current=T.start+(T.end-T.start)*S,T.setTargetValue()}),this.pathOffset||(this.pathOffset=new r(this.x,this.y)),this.pathVector||(this.pathVector=new r),this.pathDelta||(this.pathDelta=new r),this.pathDelta.reset(),l.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(l),this.path.getStartPoint(this.pathOffset),d&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=a.PLAYING_FORWARD,this.rotateToPath){var g=this.path.getPoint(.1);this.rotation=Math.atan2(g.y-this.y,g.x-this.x)+f(this.pathRotationOffset)}return this.pathConfig=l,this},pauseFollow:function(){var l=this.pathTween;return l&&l.isPlaying()&&l.pause(),this},resumeFollow:function(){var l=this.pathTween;return l&&l.isPaused()&&l.resume(),this},stopFollow:function(){var l=this.pathTween;return l&&l.isPlaying()&&l.stop(),this},pathUpdate:function(){var l=this.pathTween;if(l){var v=l.data[0],u=this.pathDelta,d=this.pathVector;if(u.copy(d).negate(),v.state===a.COMPLETE){this.path.getPoint(v.end,d),u.add(d),d.add(this.pathOffset),this.setPosition(d.x,d.y);return}else if(v.state!==a.PLAYING_FORWARD&&v.state!==a.PLAYING_BACKWARD)return;this.path.getPoint(l.getValue(),d),u.add(d),d.add(this.pathOffset);var p=this.x,g=this.y;this.setPosition(d.x,d.y);var x=this.x-p,T=this.y-g;if(x===0&&T===0)return;if(v.state!==this._prevDirection){this._prevDirection=v.state;return}this.rotateToPath&&(this.rotation=Math.atan2(T,x)+f(this.pathRotationOffset))}}};h.exports=o},58210:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(28699),c={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(s){this.pipelineData={};var a=this.scene.sys.renderer;if(!a)return!1;var r=a.pipelines;if(r){s===void 0&&(s=r.default);var o=r.get(s);if(o)return this.defaultPipeline=o,this.pipeline=o,!0}return!1},setPipeline:function(s,a,r){var o=this.scene.sys.renderer;if(!o)return this;var l=o.pipelines;if(l){var v=l.get(s);v&&(this.pipeline=v),a&&(this.pipelineData=r?f(a):a)}return this},setPipelineData:function(s,a){var r=this.pipelineData;return a===void 0?delete r[s]:r[s]=a,this},resetPipeline:function(s){return s===void 0&&(s=!1),this.pipeline=this.defaultPipeline,s&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline.name}};h.exports=c},44086:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(28699),c=e(88677),s=e(72677),a={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(r){this.postPipelines=[],this.postPipelineData={},this.postFX=new c(this,!0),r&&(this.preFX=new c(this,!1))},setPostPipeline:function(r,o,l){var v=this.scene.sys.renderer;if(!v)return this;var u=v.pipelines;if(u){Array.isArray(r)||(r=[r]);for(var d=0;d<r.length;d++){var p=u.getPostPipeline(r[d],this,o);p&&this.postPipelines.push(p)}o&&(this.postPipelineData=l?f(o):o)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(r,o){var l=this.postPipelineData;return o===void 0?delete l[r]:l[r]=o,this},getPostPipeline:function(r){for(var o=typeof r=="string",l=this.postPipelines,v=[],u=0;u<l.length;u++){var d=l[u];(o&&d.name===r||!o&&d instanceof r)&&v.push(d)}return v.length===1?v[0]:v},resetPostPipeline:function(r){r===void 0&&(r=!1);for(var o=this.postPipelines,l=0;l<o.length;l++)o[l].destroy();this.postPipelines=[],this.hasPostPipeline=!1,r&&(this.postPipelineData={})},removePostPipeline:function(r){for(var o=typeof r=="string",l=this.postPipelines,v=l.length-1;v>=0;v--){var u=l[v];(o&&u.name===r||!o&&u===r)&&(u.destroy(),s(l,v))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};h.exports=a},45900:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(e,f){return f===void 0&&(f=e),this.scrollFactorX=e,this.scrollFactorY=f,this}};h.exports=y},31654:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(e){this.scaleX=e/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(e){this.scaleY=e/this.frame.realHeight}},setSizeToFrame:function(e){e||(e=this.frame),this.width=e.realWidth,this.height=e.realHeight;var f=this.input;return f&&!f.customHitArea&&(f.hitArea.width=this.width,f.hitArea.height=this.height),this},setSize:function(e,f){return this.width=e,this.height=f,this},setDisplaySize:function(e,f){return this.displayWidth=e,this.displayHeight=f,this}};h.exports=y},82081:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(82047),c=8,s={texture:null,frame:null,isCropped:!1,setTexture:function(a,r){return this.texture=this.scene.sys.textures.get(a),this.setFrame(r)},setFrame:function(a,r,o){return r===void 0&&(r=!0),o===void 0&&(o=!0),a instanceof f?(this.texture=this.scene.sys.textures.get(a.texture.key),this.frame=a):this.frame=this.texture.get(a),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~c:this.renderFlags|=c,this._sizeComponent&&r&&this.setSizeToFrame(),this._originComponent&&o&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};h.exports=s},21850:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(82047),c=8,s={texture:null,frame:null,isCropped:!1,setCrop:function(a,r,o,l){if(a===void 0)this.isCropped=!1;else if(this.frame){if(typeof a=="number")this.frame.setCropUVs(this._crop,a,r,o,l,this.flipX,this.flipY);else{var v=a;this.frame.setCropUVs(this._crop,v.x,v.y,v.width,v.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(a,r){return this.texture=this.scene.sys.textures.get(a),this.setFrame(r)},setFrame:function(a,r,o){return r===void 0&&(r=!0),o===void 0&&(o=!0),a instanceof f?(this.texture=this.scene.sys.textures.get(a.texture.key),this.frame=a):this.frame=this.texture.get(a),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~c:this.renderFlags|=c,this._sizeComponent&&r&&this.setSizeToFrame(),this._originComponent&&o&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};h.exports=s},58072:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(e,f,c,s){return e===void 0&&(e=16777215),f===void 0&&(f=e,c=e,s=e),this.tintTopLeft=e,this.tintTopRight=f,this.tintBottomLeft=c,this.tintBottomRight=s,this.tintFill=!1,this},setTintFill:function(e,f,c,s){return this.setTint(e,f,c,s),this.tintFill=!0,this},tint:{set:function(e){this.setTint(e,e,e,e)}},isTinted:{get:function(){var e=16777215;return this.tintFill||this.tintTopLeft!==e||this.tintTopRight!==e||this.tintBottomLeft!==e||this.tintBottomRight!==e}}};h.exports=y},48129:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){var f={name:e.name,type:e.type,x:e.x,y:e.y,depth:e.depth,scale:{x:e.scaleX,y:e.scaleY},origin:{x:e.originX,y:e.originY},flipX:e.flipX,flipY:e.flipY,rotation:e.rotation,alpha:e.alpha,visible:e.visible,blendMode:e.blendMode,textureKey:"",frameKey:"",data:{}};return e.texture&&(f.textureKey=e.texture.key,f.frameKey=e.frame.name),f};h.exports=y},56584:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(83392),c=e(69360),s=e(64462),a=e(35786),r=e(62138),o=e(93736),l=4,v={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(u){this._scaleX=u,this._scaleY=u,u===0?this.renderFlags&=~l:this.renderFlags|=l}},scaleX:{get:function(){return this._scaleX},set:function(u){this._scaleX=u,u===0?this.renderFlags&=~l:this._scaleY!==0&&(this.renderFlags|=l)}},scaleY:{get:function(){return this._scaleY},set:function(u){this._scaleY=u,u===0?this.renderFlags&=~l:this._scaleX!==0&&(this.renderFlags|=l)}},angle:{get:function(){return r(this._rotation*f.RAD_TO_DEG)},set:function(u){this.rotation=r(u)*f.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(u){this._rotation=a(u)}},setPosition:function(u,d,p,g){return u===void 0&&(u=0),d===void 0&&(d=u),p===void 0&&(p=0),g===void 0&&(g=0),this.x=u,this.y=d,this.z=p,this.w=g,this},copyPosition:function(u){return u.x!==void 0&&(this.x=u.x),u.y!==void 0&&(this.y=u.y),u.z!==void 0&&(this.z=u.z),u.w!==void 0&&(this.w=u.w),this},setRandomPosition:function(u,d,p,g){return u===void 0&&(u=0),d===void 0&&(d=0),p===void 0&&(p=this.scene.sys.scale.width),g===void 0&&(g=this.scene.sys.scale.height),this.x=u+Math.random()*p,this.y=d+Math.random()*g,this},setRotation:function(u){return u===void 0&&(u=0),this.rotation=u,this},setAngle:function(u){return u===void 0&&(u=0),this.angle=u,this},setScale:function(u,d){return u===void 0&&(u=1),d===void 0&&(d=u),this.scaleX=u,this.scaleY=d,this},setX:function(u){return u===void 0&&(u=0),this.x=u,this},setY:function(u){return u===void 0&&(u=0),this.y=u,this},setZ:function(u){return u===void 0&&(u=0),this.z=u,this},setW:function(u){return u===void 0&&(u=0),this.w=u,this},getLocalTransformMatrix:function(u){return u===void 0&&(u=new c),u.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(u,d){u===void 0&&(u=new c);var p=this.parentContainer;if(!p)return this.getLocalTransformMatrix(u);for(d||(d=new c),u.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);p;)d.applyITRS(p.x,p.y,p._rotation,p._scaleX,p._scaleY),d.multiply(u,u),p=p.parentContainer;return u},getLocalPoint:function(u,d,p,g){p||(p=new o),g||(g=this.scene.sys.cameras.main);var x=g.scrollX,T=g.scrollY,S=u+x*this.scrollFactorX-x,P=d+T*this.scrollFactorY-T;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(S,P,p):s(S,P,this.x,this.y,this.rotation,this.scaleX,this.scaleY,p),this._originComponent&&(p.x+=this._displayOriginX,p.y+=this._displayOriginY),p},getParentRotation:function(){for(var u=0,d=this.parentContainer;d;)u+=d.rotation,d=d.parentContainer;return u}};h.exports=v},69360:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(83392),s=e(93736),a=new f({initialize:function(o,l,v,u,d,p){o===void 0&&(o=1),l===void 0&&(l=0),v===void 0&&(v=0),u===void 0&&(u=1),d===void 0&&(d=0),p===void 0&&(p=0),this.matrix=new Float32Array([o,l,v,u,d,p,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(r){this.matrix[0]=r}},b:{get:function(){return this.matrix[1]},set:function(r){this.matrix[1]=r}},c:{get:function(){return this.matrix[2]},set:function(r){this.matrix[2]=r}},d:{get:function(){return this.matrix[3]},set:function(r){this.matrix[3]=r}},e:{get:function(){return this.matrix[4]},set:function(r){this.matrix[4]=r}},f:{get:function(){return this.matrix[5]},set:function(r){this.matrix[5]=r}},tx:{get:function(){return this.matrix[4]},set:function(r){this.matrix[4]=r}},ty:{get:function(){return this.matrix[5]},set:function(r){this.matrix[5]=r}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var r=this.matrix,o=r[0],l=r[1],v=r[2],u=r[3];return o||l?l>0?Math.acos(o/this.scaleX):-Math.acos(o/this.scaleX):v||u?c.TAU-(u>0?Math.acos(-v/this.scaleY):-Math.acos(v/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var r=this.matrix;return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,this},translate:function(r,o){var l=this.matrix;return l[4]=l[0]*r+l[2]*o+l[4],l[5]=l[1]*r+l[3]*o+l[5],this},scale:function(r,o){var l=this.matrix;return l[0]*=r,l[1]*=r,l[2]*=o,l[3]*=o,this},rotate:function(r){var o=Math.sin(r),l=Math.cos(r),v=this.matrix,u=v[0],d=v[1],p=v[2],g=v[3];return v[0]=u*l+p*o,v[1]=d*l+g*o,v[2]=u*-o+p*l,v[3]=d*-o+g*l,this},multiply:function(r,o){var l=this.matrix,v=r.matrix,u=l[0],d=l[1],p=l[2],g=l[3],x=l[4],T=l[5],S=v[0],P=v[1],E=v[2],R=v[3],A=v[4],w=v[5],O=o===void 0?l:o.matrix;return O[0]=S*u+P*p,O[1]=S*d+P*g,O[2]=E*u+R*p,O[3]=E*d+R*g,O[4]=A*u+w*p+x,O[5]=A*d+w*g+T,O},multiplyWithOffset:function(r,o,l){var v=this.matrix,u=r.matrix,d=v[0],p=v[1],g=v[2],x=v[3],T=v[4],S=v[5],P=o*d+l*g+T,E=o*p+l*x+S,R=u[0],A=u[1],w=u[2],O=u[3],L=u[4],F=u[5];return v[0]=R*d+A*g,v[1]=R*p+A*x,v[2]=w*d+O*g,v[3]=w*p+O*x,v[4]=L*d+F*g+P,v[5]=L*p+F*x+E,this},transform:function(r,o,l,v,u,d){var p=this.matrix,g=p[0],x=p[1],T=p[2],S=p[3],P=p[4],E=p[5];return p[0]=r*g+o*T,p[1]=r*x+o*S,p[2]=l*g+v*T,p[3]=l*x+v*S,p[4]=u*g+d*T+P,p[5]=u*x+d*S+E,this},transformPoint:function(r,o,l){l===void 0&&(l={x:0,y:0});var v=this.matrix,u=v[0],d=v[1],p=v[2],g=v[3],x=v[4],T=v[5];return l.x=r*u+o*p+x,l.y=r*d+o*g+T,l},invert:function(){var r=this.matrix,o=r[0],l=r[1],v=r[2],u=r[3],d=r[4],p=r[5],g=o*u-l*v;return r[0]=u/g,r[1]=-l/g,r[2]=-v/g,r[3]=o/g,r[4]=(v*p-u*d)/g,r[5]=-(o*p-l*d)/g,this},copyFrom:function(r){var o=this.matrix;return o[0]=r.a,o[1]=r.b,o[2]=r.c,o[3]=r.d,o[4]=r.e,o[5]=r.f,this},copyFromArray:function(r){var o=this.matrix;return o[0]=r[0],o[1]=r[1],o[2]=r[2],o[3]=r[3],o[4]=r[4],o[5]=r[5],this},copyToContext:function(r){var o=this.matrix;return r.transform(o[0],o[1],o[2],o[3],o[4],o[5]),r},setToContext:function(r){var o=this.matrix;return r.setTransform(o[0],o[1],o[2],o[3],o[4],o[5]),r},copyToArray:function(r){var o=this.matrix;return r===void 0?r=[o[0],o[1],o[2],o[3],o[4],o[5]]:(r[0]=o[0],r[1]=o[1],r[2]=o[2],r[3]=o[3],r[4]=o[4],r[5]=o[5]),r},setTransform:function(r,o,l,v,u,d){var p=this.matrix;return p[0]=r,p[1]=o,p[2]=l,p[3]=v,p[4]=u,p[5]=d,this},decomposeMatrix:function(){var r=this.decomposedMatrix,o=this.matrix,l=o[0],v=o[1],u=o[2],d=o[3],p=l*d-v*u;if(r.translateX=o[4],r.translateY=o[5],l||v){var g=Math.sqrt(l*l+v*v);r.rotation=v>0?Math.acos(l/g):-Math.acos(l/g),r.scaleX=g,r.scaleY=p/g}else if(u||d){var x=Math.sqrt(u*u+d*d);r.rotation=Math.PI*.5-(d>0?Math.acos(-u/x):-Math.acos(u/x)),r.scaleX=p/x,r.scaleY=x}else r.rotation=0,r.scaleX=0,r.scaleY=0;return r},applyITRS:function(r,o,l,v,u){var d=this.matrix,p=Math.sin(l),g=Math.cos(l);return d[4]=r,d[5]=o,d[0]=g*v,d[1]=p*v,d[2]=-p*u,d[3]=g*u,this},applyInverse:function(r,o,l){l===void 0&&(l=new s);var v=this.matrix,u=v[0],d=v[1],p=v[2],g=v[3],x=v[4],T=v[5],S=1/(u*g+p*-d);return l.x=g*S*r+-p*S*o+(T*p-x*g)*S,l.y=u*S*o+-d*S*r+(-T*u+x*d)*S,l},setQuad:function(r,o,l,v,u,d){d===void 0&&(d=this.quad);var p=this.matrix,g=p[0],x=p[1],T=p[2],S=p[3],P=p[4],E=p[5];return d[0]=r*g+o*T+P,d[1]=r*x+o*S+E,d[2]=r*g+v*T+P,d[3]=r*x+v*S+E,d[4]=l*g+v*T+P,d[5]=l*x+v*S+E,d[6]=l*g+o*T+P,d[7]=l*x+o*S+E,u&&d.forEach(function(R,A){d[A]=Math.round(R)}),d},getX:function(r,o){return r*this.a+o*this.c+this.e},getY:function(r,o){return r*this.b+o*this.d+this.f},getXRound:function(r,o,l){var v=this.getX(r,o);return l&&(v=Math.round(v)),v},getYRound:function(r,o,l){var v=this.getY(r,o);return l&&(v=Math.round(v)),v},getCSSMatrix:function(){var r=this.matrix;return"matrix("+r[0]+","+r[1]+","+r[2]+","+r[3]+","+r[4]+","+r[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});h.exports=a},59694:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=1,e={_visible:!0,visible:{get:function(){return this._visible},set:function(f){f?(this._visible=!0,this.renderFlags|=y):(this._visible=!1,this.renderFlags&=~y)}},setVisible:function(f){return this.visible=f,this}};h.exports=e},64937:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Alpha:e(97123),AlphaSingle:e(15720),BlendMode:e(69732),ComputedSize:e(28284),Crop:e(85293),Depth:e(14975),Flip:e(92972),FX:e(88677),GetBounds:e(80693),Mask:e(39171),Origin:e(28072),PathFollower:e(54211),Pipeline:e(58210),PostPipeline:e(44086),ScrollFactor:e(45900),Size:e(31654),Texture:e(82081),TextureCrop:e(21850),Tint:e(58072),ToJSON:e(48129),Transform:e(56584),TransformMatrix:e(69360),Visible:e(59694)}},70339:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(59959),c=e(95723),s=e(56694),a=e(64937),r=e(56631),o=e(89980),l=e(74118),v=e(98524),u=e(58795),d=e(93736),p=new s({Extends:o,Mixins:[a.AlphaSingle,a.BlendMode,a.ComputedSize,a.Depth,a.Mask,a.PostPipeline,a.Transform,a.Visible,v],initialize:function(x,T,S,P){o.call(this,x,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new a.TransformMatrix,this.tempTransformMatrix=new a.TransformMatrix,this._sortKey="",this._sysEvents=x.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(T,S),this.setBlendMode(c.SKIP_CHECK),P&&this.add(P)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(g){return g===void 0&&(g=!0),this.exclusive=g,this},getBounds:function(g){if(g===void 0&&(g=new l),g.setTo(this.x,this.y,0,0),this.parentContainer){var x=this.parentContainer.getBoundsTransformMatrix(),T=x.transformPoint(this.x,this.y);g.setTo(T.x,T.y,0,0)}if(this.list.length>0){var S=this.list,P=new l,E=!1;g.setEmpty();for(var R=0;R<S.length;R++){var A=S[R];A.getBounds&&(A.getBounds(P),E?u(P,g,g):(g.setTo(P.x,P.y,P.width,P.height),E=!0))}}return g},addHandler:function(g){g.once(r.DESTROY,this.remove,this),this.exclusive&&(g.parentContainer&&g.parentContainer.remove(g),g.parentContainer=this,g.removeFromDisplayList(),g.addedToScene())},removeHandler:function(g){g.off(r.DESTROY,this.remove,this),this.exclusive&&(g.parentContainer=null,g.removedFromScene(),g.addToDisplayList())},pointToContainer:function(g,x){x===void 0&&(x=new d),this.parentContainer?this.parentContainer.pointToContainer(g,x):(x.x=g.x,x.y=g.y);var T=this.tempTransformMatrix;return T.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),T.invert(),T.transformPoint(g.x,g.y,x),x},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(g){return f.Add(this.list,g,this.maxSize,this.addHandler,this),this},addAt:function(g,x){return f.AddAt(this.list,g,x,this.maxSize,this.addHandler,this),this},getAt:function(g){return this.list[g]},getIndex:function(g){return this.list.indexOf(g)},sort:function(g,x){return g?(x===void 0&&(x=function(T,S){return T[g]-S[g]}),f.StableSort(this.list,x),this):this},getByName:function(g){return f.GetFirst(this.list,"name",g)},getRandom:function(g,x){return f.GetRandom(this.list,g,x)},getFirst:function(g,x,T,S){return f.GetFirst(this.list,g,x,T,S)},getAll:function(g,x,T,S){return f.GetAll(this.list,g,x,T,S)},count:function(g,x,T,S){return f.CountAllMatching(this.list,g,x,T,S)},swap:function(g,x){return f.Swap(this.list,g,x),this},moveTo:function(g,x){return f.MoveTo(this.list,g,x),this},moveAbove:function(g,x){return f.MoveAbove(this.list,g,x),this},moveBelow:function(g,x){return f.MoveBelow(this.list,g,x),this},remove:function(g,x){var T=f.Remove(this.list,g,this.removeHandler,this);if(x&&T){Array.isArray(T)||(T=[T]);for(var S=0;S<T.length;S++)T[S].destroy()}return this},removeAt:function(g,x){var T=f.RemoveAt(this.list,g,this.removeHandler,this);return x&&T&&T.destroy(),this},removeBetween:function(g,x,T){var S=f.RemoveBetween(this.list,g,x,this.removeHandler,this);if(T)for(var P=0;P<S.length;P++)S[P].destroy();return this},removeAll:function(g){var x=this.list;if(g){for(var T=0;T<x.length;T++)x[T]&&x[T].scene&&(x[T].off(r.DESTROY,this.remove,this),x[T].destroy());this.list=[]}else f.RemoveBetween(x,0,x.length,this.removeHandler,this);return this},bringToTop:function(g){return f.BringToTop(this.list,g),this},sendToBack:function(g){return f.SendToBack(this.list,g),this},moveUp:function(g){return f.MoveUp(this.list,g),this},moveDown:function(g){return f.MoveDown(this.list,g),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return f.Shuffle(this.list),this},replace:function(g,x,T){var S=f.Replace(this.list,g,x);return S&&(this.addHandler(x),this.removeHandler(g),T&&g.destroy()),this},exists:function(g){return this.list.indexOf(g)>-1},setAll:function(g,x,T,S){return f.SetAll(this.list,g,x,T,S),this},each:function(g,x){var T=[null],S,P=this.list.slice(),E=P.length;for(S=2;S<arguments.length;S++)T.push(arguments[S]);for(S=0;S<E;S++)T[0]=P[S],g.apply(x,T);return this},iterate:function(g,x){var T=[null],S;for(S=2;S<arguments.length;S++)T.push(arguments[S]);for(S=0;S<this.list.length;S++)T[0]=this.list[S],g.apply(x,T);return this},setScrollFactor:function(g,x,T){return x===void 0&&(x=g),T===void 0&&(T=!1),this.scrollFactorX=g,this.scrollFactorY=x,T&&(f.SetAll(this.list,"scrollFactorX",g),f.SetAll(this.list,"scrollFactorY",x)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]}});h.exports=p},13916:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){c.addToRenderList(f);var a=f.list;if(a.length!==0){var r=f.localTransform;s?(r.loadIdentity(),r.multiply(s),r.translate(f.x,f.y),r.rotate(f.rotation),r.scale(f.scaleX,f.scaleY)):r.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY);var o=f.blendMode!==-1;o||e.setBlendMode(0);var l=f._alpha,v=f.scrollFactorX,u=f.scrollFactorY;f.mask&&f.mask.preRenderCanvas(e,null,c);for(var d=0;d<a.length;d++){var p=a[d];if(p.willRender(c)){var g=p.alpha,x=p.scrollFactorX,T=p.scrollFactorY;!o&&p.blendMode!==e.currentBlendMode&&e.setBlendMode(p.blendMode),p.setScrollFactor(x*v,T*u),p.setAlpha(g*l),p.renderCanvas(e,p,c,r),p.setAlpha(g),p.setScrollFactor(x,T)}}f.mask&&f.mask.postRenderCanvas(e)}};h.exports=y},44516:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(88933),c=e(70339),s=e(99325),a=e(20494);s.register("container",function(r,o){r===void 0&&(r={});var l=a(r,"x",0),v=a(r,"y",0),u=a(r,"children",null),d=new c(this.scene,l,v,u);return o!==void 0&&(r.add=o),f(this.scene,d,r),d})},23400:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(70339),c=e(61286);c.register("container",function(s,a,r){return this.displayList.add(new f(this.scene,s,a,r))})},98524:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),c=f,s=f;c=e(36934),s=e(13916),h.exports={renderWebGL:c,renderCanvas:s}},36934:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){c.addToRenderList(f);var a=f.list,r=a.length;if(r!==0){var o=f.localTransform;s?(o.loadIdentity(),o.multiply(s),o.translate(f.x,f.y),o.rotate(f.rotation),o.scale(f.scaleX,f.scaleY)):o.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY),e.pipelines.preBatch(f);var l=f.blendMode!==-1;l||e.setBlendMode(0);for(var v=f.alpha,u=f.scrollFactorX,d=f.scrollFactorY,p=0;p<r;p++){var g=a[p];if(g.willRender(c)){var x,T,S,P;if(g.alphaTopLeft!==void 0)x=g.alphaTopLeft,T=g.alphaTopRight,S=g.alphaBottomLeft,P=g.alphaBottomRight;else{var E=g.alpha;x=E,T=E,S=E,P=E}var R=g.scrollFactorX,A=g.scrollFactorY;!l&&g.blendMode!==e.currentBlendMode&&e.setBlendMode(g.blendMode);var w=g.mask;w&&w.preRenderWebGL(e,g,c);var O=g.type;O!==e.currentType&&(e.newType=!0,e.currentType=O),e.nextTypeMatch=p<r-1?a[p+1].type===e.currentType:!1,g.setScrollFactor(R*u,A*d),g.setAlpha(x*v,T*v,S*v,P*v),g.renderWebGL(e,g,c,o,f),g.setAlpha(x,T,S,P),g.setScrollFactor(R,A),w&&w.postRenderWebGL(e,c),e.newType=!1}}e.pipelines.postBatch(f)}};h.exports=y},2452:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},38943:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(64937),s=e(11603),a=e(89980),r=e(42911),o=e(55638),l=e(7599),v=e(51729),u=new f({Extends:a,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.Origin,c.ScrollFactor,c.Transform,c.Visible,s],initialize:function(p,g,x,T,S,P){a.call(this,p,"DOMElement"),this.parent=p.sys.game.domContainer,this.cache=p.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new v,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(g,x),typeof T=="string"?T[0]==="#"?this.setElement(T.substr(1),S,P):this.createElement(T,S,P):T&&this.setElement(T,S,P),p.sys.events.on(l.SLEEP,this.handleSceneEvent,this),p.sys.events.on(l.WAKE,this.handleSceneEvent,this),p.sys.events.on(l.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(d){var p=this.node,g=p.style;p&&(g.display=d.settings.visible?"block":"none")},setSkew:function(d,p){return d===void 0&&(d=0),p===void 0&&(p=d),this.skewX=d,this.skewY=p,this},setPerspective:function(d){return this.parent.style.perspective=d+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(d){this.parent.style.perspective=d+"px"}},addListener:function(d){if(this.node){d=d.split(" ");for(var p=0;p<d.length;p++)this.node.addEventListener(d[p],this.handler,!1)}return this},removeListener:function(d){if(this.node){d=d.split(" ");for(var p=0;p<d.length;p++)this.node.removeEventListener(d[p],this.handler)}return this},dispatchNativeEvent:function(d){this.emit(d.type,d)},createElement:function(d,p,g){return this.setElement(document.createElement(d),p,g)},setElement:function(d,p,g){this.removeElement();var x;if(typeof d=="string"?(d[0]==="#"&&(d=d.substr(1)),x=document.getElementById(d)):typeof d=="object"&&d.nodeType===1&&(x=d),!x)return this;if(this.node=x,p&&r(p))for(var T in p)x.style[T]=p[T];else typeof p=="string"&&(x.style=p);return x.style.zIndex="0",x.style.display="inline",x.style.position="absolute",x.phaser=this,this.parent&&this.parent.appendChild(x),g&&(x.innerText=g),this.updateSize()},createFromCache:function(d,p){var g=this.cache.get(d);return g&&this.createFromHTML(g,p),this},createFromHTML:function(d,p){p===void 0&&(p="div"),this.removeElement();var g=document.createElement(p);return this.node=g,g.style.zIndex="0",g.style.display="inline",g.style.position="absolute",g.phaser=this,this.parent&&this.parent.appendChild(g),g.innerHTML=d,this.updateSize()},removeElement:function(){return this.node&&(o(this.node),this.node=null),this},updateSize:function(){var d=this.node,p=d.getBoundingClientRect();return this.width=d.clientWidth,this.height=d.clientHeight,this.displayWidth=p.width||0,this.displayHeight=p.height||0,this},getChildByProperty:function(d,p){if(this.node){for(var g=this.node.querySelectorAll("*"),x=0;x<g.length;x++)if(g[x][d]===p)return g[x]}return null},getChildByID:function(d){return this.getChildByProperty("id",d)},getChildByName:function(d){return this.getChildByProperty("name",d)},setClassName:function(d){return this.node&&(this.node.className=d,this.updateSize()),this},setText:function(d){return this.node&&(this.node.innerText=d,this.updateSize()),this},setHTML:function(d){return this.node&&(this.node.innerHTML=d,this.updateSize()),this},preRender:function(){var d=this.parentContainer,p=this.node;p&&d&&!d.willRender()&&(p.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(l.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(l.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(l.PRE_RENDER,this.preRender,this)}});h.exports=u},66070:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(2452),c=e(89980),s=e(69360),a=new s,r=new s,o=new s,l=function(v,u,d,p){if(u.node){var g=u.node.style,x=u.scene.sys.settings;if(!g||!x.visible||c.RENDER_MASK!==u.renderFlags||u.cameraFilter!==0&&u.cameraFilter&d.id||u.parentContainer&&!u.parentContainer.willRender()){g.display="none";return}var T=u.parentContainer,S=d.alpha*u.alpha;T&&(S*=T.alpha);var P=a,E=r,R=o,A=0,w=0,O="0%",L="0%";p?(A=u.width*u.scaleX*u.originX,w=u.height*u.scaleY*u.originY,E.applyITRS(u.x-A,u.y-w,u.rotation,u.scaleX,u.scaleY),P.copyFrom(d.matrix),P.multiplyWithOffset(p,-d.scrollX*u.scrollFactorX,-d.scrollY*u.scrollFactorY),E.e=u.x-A,E.f=u.y-w,P.multiply(E,R)):(A=u.width*u.originX,w=u.height*u.originY,E.applyITRS(u.x-A,u.y-w,u.rotation,u.scaleX,u.scaleY),P.copyFrom(d.matrix),O=100*u.originX+"%",L=100*u.originY+"%",E.e-=d.scrollX*u.scrollFactorX,E.f-=d.scrollY*u.scrollFactorY,P.multiply(E,R)),u.transformOnly||(g.display="block",g.opacity=S,g.zIndex=u._depth,g.pointerEvents=u.pointerEvents,g.mixBlendMode=f[u._blendMode]),g.transform=R.getCSSMatrix()+" skew("+u.skewX+"rad, "+u.skewY+"rad) rotate3d("+u.rotate3d.x+","+u.rotate3d.y+","+u.rotate3d.z+","+u.rotate3d.w+u.rotate3dAngle+")",g.transformOrigin=O+" "+L}};h.exports=l},66788:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(38943),c=e(61286);c.register("dom",function(s,a,r,o,l){var v=new f(this.scene,s,a,r,o,l);return this.displayList.add(v),v})},11603:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),c=f,s=f;c=e(66070),s=e(66070),h.exports={renderWebGL:c,renderCanvas:s}},65492:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="addedtoscene"},98398:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="destroy"},40239:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="removedfromscene"},17286:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="complete"},31496:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="created"},89587:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="error"},59792:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="locked"},96342:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="loop"},6017:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="playing"},49614:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="play"},24418:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="seeked"},87318:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="seeking"},50009:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="stalled"},61922:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="stop"},79501:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="textureready"},4052:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="unlocked"},54857:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="unsupported"},56631:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={ADDED_TO_SCENE:e(65492),DESTROY:e(98398),REMOVED_FROM_SCENE:e(40239),VIDEO_COMPLETE:e(17286),VIDEO_CREATED:e(31496),VIDEO_ERROR:e(89587),VIDEO_LOCKED:e(59792),VIDEO_LOOP:e(96342),VIDEO_PLAY:e(49614),VIDEO_PLAYING:e(6017),VIDEO_SEEKED:e(24418),VIDEO_SEEKING:e(87318),VIDEO_STALLED:e(50009),VIDEO_STOP:e(61922),VIDEO_TEXTURE:e(79501),VIDEO_UNLOCKED:e(4052),VIDEO_UNSUPPORTED:e(54857)}},39419:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(64937),s=e(89980),a=e(79394),r=new f({Extends:s,Mixins:[c.Alpha,c.BlendMode,c.Depth,c.Flip,c.Origin,c.ScrollFactor,c.Size,c.Texture,c.Tint,c.Transform,c.Visible,a],initialize:function(l){s.call(this,l,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});h.exports=r},96699:()=>{},41155:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(39419),c=e(61286);c.register("extern",function(){var s=new f(this.scene);return this.displayList.add(s),s})},79394:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),c=f,s=f;c=e(81410),s=e(96699),h.exports={renderWebGL:c,renderCanvas:s}},81410:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(73329),c=function(s,a,r,o){s.pipelines.clear();var l=f(a,r,o).calc;a.render.call(a,s,r,l),s.pipelines.rebind()};h.exports=c},36266:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},33182:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(51052),c=e(56694),s=e(36266),a=e(64937),r=e(95669),o=e(89980),l=e(72632),v=e(10850),u=e(83392),d=e(60898),p=new c({Extends:o,Mixins:[a.AlphaSingle,a.BlendMode,a.Depth,a.Mask,a.Pipeline,a.PostPipeline,a.Transform,a.Visible,a.ScrollFactor,d],initialize:function(x,T){var S=v(T,"x",0),P=v(T,"y",0);o.call(this,x,"Graphics"),this.setPosition(S,P),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.setDefaultStyles(T)},setDefaultStyles:function(g){return v(g,"lineStyle",null)&&(this.defaultStrokeWidth=v(g,"lineStyle.width",1),this.defaultStrokeColor=v(g,"lineStyle.color",16777215),this.defaultStrokeAlpha=v(g,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),v(g,"fillStyle",null)&&(this.defaultFillColor=v(g,"fillStyle.color",16777215),this.defaultFillAlpha=v(g,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(g,x,T){return T===void 0&&(T=1),this.commandBuffer.push(s.LINE_STYLE,g,x,T),this._lineWidth=g,this},fillStyle:function(g,x){return x===void 0&&(x=1),this.commandBuffer.push(s.FILL_STYLE,g,x),this},fillGradientStyle:function(g,x,T,S,P,E,R,A){return P===void 0&&(P=1),E===void 0&&(E=P),R===void 0&&(R=P),A===void 0&&(A=P),this.commandBuffer.push(s.GRADIENT_FILL_STYLE,P,E,R,A,g,x,T,S),this},lineGradientStyle:function(g,x,T,S,P,E){return E===void 0&&(E=1),this.commandBuffer.push(s.GRADIENT_LINE_STYLE,g,E,x,T,S,P),this},beginPath:function(){return this.commandBuffer.push(s.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(s.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(s.FILL_PATH),this},fill:function(){return this.commandBuffer.push(s.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(s.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(s.STROKE_PATH),this},fillCircleShape:function(g){return this.fillCircle(g.x,g.y,g.radius)},strokeCircleShape:function(g){return this.strokeCircle(g.x,g.y,g.radius)},fillCircle:function(g,x,T){return this.beginPath(),this.arc(g,x,T,0,u.PI2),this.fillPath(),this},strokeCircle:function(g,x,T){return this.beginPath(),this.arc(g,x,T,0,u.PI2),this.strokePath(),this},fillRectShape:function(g){return this.fillRect(g.x,g.y,g.width,g.height)},strokeRectShape:function(g){return this.strokeRect(g.x,g.y,g.width,g.height)},fillRect:function(g,x,T,S){return this.commandBuffer.push(s.FILL_RECT,g,x,T,S),this},strokeRect:function(g,x,T,S){var P=this._lineWidth/2,E=g-P,R=g+P;return this.beginPath(),this.moveTo(g,x),this.lineTo(g,x+S),this.strokePath(),this.beginPath(),this.moveTo(g+T,x),this.lineTo(g+T,x+S),this.strokePath(),this.beginPath(),this.moveTo(E,x),this.lineTo(R+T,x),this.strokePath(),this.beginPath(),this.moveTo(E,x+S),this.lineTo(R+T,x+S),this.strokePath(),this},fillRoundedRect:function(g,x,T,S,P){P===void 0&&(P=20);var E=P,R=P,A=P,w=P;typeof P!="number"&&(E=l(P,"tl",20),R=l(P,"tr",20),A=l(P,"bl",20),w=l(P,"br",20));var O=E>=0,L=R>=0,F=A>=0,I=w>=0;return E=Math.abs(E),R=Math.abs(R),A=Math.abs(A),w=Math.abs(w),this.beginPath(),this.moveTo(g+E,x),this.lineTo(g+T-R,x),L?this.arc(g+T-R,x+R,R,-u.TAU,0):this.arc(g+T,x,R,Math.PI,u.TAU,!0),this.lineTo(g+T,x+S-w),I?this.arc(g+T-w,x+S-w,w,0,u.TAU):this.arc(g+T,x+S,w,-u.TAU,Math.PI,!0),this.lineTo(g+A,x+S),F?this.arc(g+A,x+S-A,A,u.TAU,Math.PI):this.arc(g,x+S,A,0,-u.TAU,!0),this.lineTo(g,x+E),O?this.arc(g+E,x+E,E,-Math.PI,-u.TAU):this.arc(g,x,E,u.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(g,x,T,S,P){P===void 0&&(P=20);var E=P,R=P,A=P,w=P,O=Math.min(T,S)/2;typeof P!="number"&&(E=l(P,"tl",20),R=l(P,"tr",20),A=l(P,"bl",20),w=l(P,"br",20));var L=E>=0,F=R>=0,I=A>=0,b=w>=0;return E=Math.min(Math.abs(E),O),R=Math.min(Math.abs(R),O),A=Math.min(Math.abs(A),O),w=Math.min(Math.abs(w),O),this.beginPath(),this.moveTo(g+E,x),this.lineTo(g+T-R,x),this.moveTo(g+T-R,x),F?this.arc(g+T-R,x+R,R,-u.TAU,0):this.arc(g+T,x,R,Math.PI,u.TAU,!0),this.lineTo(g+T,x+S-w),this.moveTo(g+T,x+S-w),b?this.arc(g+T-w,x+S-w,w,0,u.TAU):this.arc(g+T,x+S,w,-u.TAU,Math.PI,!0),this.lineTo(g+A,x+S),this.moveTo(g+A,x+S),I?this.arc(g+A,x+S-A,A,u.TAU,Math.PI):this.arc(g,x+S,A,0,-u.TAU,!0),this.lineTo(g,x+E),this.moveTo(g,x+E),L?this.arc(g+E,x+E,E,-Math.PI,-u.TAU):this.arc(g,x,E,u.TAU,0,!0),this.strokePath(),this},fillPointShape:function(g,x){return this.fillPoint(g.x,g.y,x)},fillPoint:function(g,x,T){return!T||T<1?T=1:(g-=T/2,x-=T/2),this.commandBuffer.push(s.FILL_RECT,g,x,T,T),this},fillTriangleShape:function(g){return this.fillTriangle(g.x1,g.y1,g.x2,g.y2,g.x3,g.y3)},strokeTriangleShape:function(g){return this.strokeTriangle(g.x1,g.y1,g.x2,g.y2,g.x3,g.y3)},fillTriangle:function(g,x,T,S,P,E){return this.commandBuffer.push(s.FILL_TRIANGLE,g,x,T,S,P,E),this},strokeTriangle:function(g,x,T,S,P,E){return this.commandBuffer.push(s.STROKE_TRIANGLE,g,x,T,S,P,E),this},strokeLineShape:function(g){return this.lineBetween(g.x1,g.y1,g.x2,g.y2)},lineBetween:function(g,x,T,S){return this.beginPath(),this.moveTo(g,x),this.lineTo(T,S),this.strokePath(),this},lineTo:function(g,x){return this.commandBuffer.push(s.LINE_TO,g,x),this},moveTo:function(g,x){return this.commandBuffer.push(s.MOVE_TO,g,x),this},strokePoints:function(g,x,T,S){x===void 0&&(x=!1),T===void 0&&(T=!1),S===void 0&&(S=g.length),this.beginPath(),this.moveTo(g[0].x,g[0].y);for(var P=1;P<S;P++)this.lineTo(g[P].x,g[P].y);return x&&this.lineTo(g[0].x,g[0].y),T&&this.closePath(),this.strokePath(),this},fillPoints:function(g,x,T,S){x===void 0&&(x=!1),T===void 0&&(T=!1),S===void 0&&(S=g.length),this.beginPath(),this.moveTo(g[0].x,g[0].y);for(var P=1;P<S;P++)this.lineTo(g[P].x,g[P].y);return x&&this.lineTo(g[0].x,g[0].y),T&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(g,x){x===void 0&&(x=32);var T=g.getPoints(x);return this.strokePoints(T,!0)},strokeEllipse:function(g,x,T,S,P){P===void 0&&(P=32);var E=new r(g,x,T,S),R=E.getPoints(P);return this.strokePoints(R,!0)},fillEllipseShape:function(g,x){x===void 0&&(x=32);var T=g.getPoints(x);return this.fillPoints(T,!0)},fillEllipse:function(g,x,T,S,P){P===void 0&&(P=32);var E=new r(g,x,T,S),R=E.getPoints(P);return this.fillPoints(R,!0)},arc:function(g,x,T,S,P,E,R){return E===void 0&&(E=!1),R===void 0&&(R=0),this.commandBuffer.push(s.ARC,g,x,T,S,P,E,R),this},slice:function(g,x,T,S,P,E,R){return E===void 0&&(E=!1),R===void 0&&(R=0),this.commandBuffer.push(s.BEGIN_PATH),this.commandBuffer.push(s.MOVE_TO,g,x),this.commandBuffer.push(s.ARC,g,x,T,S,P,E,R),this.commandBuffer.push(s.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(s.SAVE),this},restore:function(){return this.commandBuffer.push(s.RESTORE),this},translateCanvas:function(g,x){return this.commandBuffer.push(s.TRANSLATE,g,x),this},scaleCanvas:function(g,x){return this.commandBuffer.push(s.SCALE,g,x),this},rotateCanvas:function(g){return this.commandBuffer.push(s.ROTATE,g),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(g,x,T){var S=this.scene.sys,P=S.game.renderer;x===void 0&&(x=S.scale.width),T===void 0&&(T=S.scale.height),p.TargetCamera.setScene(this.scene),p.TargetCamera.setViewport(0,0,x,T),p.TargetCamera.scrollX=this.x,p.TargetCamera.scrollY=this.y;var E,R,A={willReadFrequently:!0};if(typeof g=="string")if(S.textures.exists(g)){E=S.textures.get(g);var w=E.getSourceImage();w instanceof HTMLCanvasElement&&(R=w.getContext("2d",A))}else E=S.textures.createCanvas(g,x,T),R=E.getSourceImage().getContext("2d",A);else g instanceof HTMLCanvasElement&&(R=g.getContext("2d",A));return R&&(this.renderCanvas(P,this,p.TargetCamera,null,R,!1),E&&E.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});p.TargetCamera=new f,h.exports=p},91543:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(36266),c=e(49584),s=function(a,r,o,l,v,u){var d=r.commandBuffer,p=d.length,g=v||a.currentContext;if(!(p===0||!c(a,g,r,o,l))){o.addToRenderList(r);var x=1,T=1,S=0,P=0,E=1,R=0,A=0,w=0;g.beginPath();for(var O=0;O<p;++O){var L=d[O];switch(L){case f.ARC:g.arc(d[O+1],d[O+2],d[O+3],d[O+4],d[O+5],d[O+6]),O+=7;break;case f.LINE_STYLE:E=d[O+1],S=d[O+2],x=d[O+3],R=(S&16711680)>>>16,A=(S&65280)>>>8,w=S&255,g.strokeStyle="rgba("+R+","+A+","+w+","+x+")",g.lineWidth=E,O+=3;break;case f.FILL_STYLE:P=d[O+1],T=d[O+2],R=(P&16711680)>>>16,A=(P&65280)>>>8,w=P&255,g.fillStyle="rgba("+R+","+A+","+w+","+T+")",O+=2;break;case f.BEGIN_PATH:g.beginPath();break;case f.CLOSE_PATH:g.closePath();break;case f.FILL_PATH:u||g.fill();break;case f.STROKE_PATH:u||g.stroke();break;case f.FILL_RECT:u?g.rect(d[O+1],d[O+2],d[O+3],d[O+4]):g.fillRect(d[O+1],d[O+2],d[O+3],d[O+4]),O+=4;break;case f.FILL_TRIANGLE:g.beginPath(),g.moveTo(d[O+1],d[O+2]),g.lineTo(d[O+3],d[O+4]),g.lineTo(d[O+5],d[O+6]),g.closePath(),u||g.fill(),O+=6;break;case f.STROKE_TRIANGLE:g.beginPath(),g.moveTo(d[O+1],d[O+2]),g.lineTo(d[O+3],d[O+4]),g.lineTo(d[O+5],d[O+6]),g.closePath(),u||g.stroke(),O+=6;break;case f.LINE_TO:g.lineTo(d[O+1],d[O+2]),O+=2;break;case f.MOVE_TO:g.moveTo(d[O+1],d[O+2]),O+=2;break;case f.LINE_FX_TO:g.lineTo(d[O+1],d[O+2]),O+=5;break;case f.MOVE_FX_TO:g.moveTo(d[O+1],d[O+2]),O+=5;break;case f.SAVE:g.save();break;case f.RESTORE:g.restore();break;case f.TRANSLATE:g.translate(d[O+1],d[O+2]),O+=2;break;case f.SCALE:g.scale(d[O+1],d[O+2]),O+=2;break;case f.ROTATE:g.rotate(d[O+1]),O+=1;break;case f.GRADIENT_FILL_STYLE:O+=5;break;case f.GRADIENT_LINE_STYLE:O+=6;break}}g.restore()}};h.exports=s},41286:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(99325),c=e(33182);f.register("graphics",function(s,a){s===void 0&&(s={}),a!==void 0&&(s.add=a);var r=new c(this.scene,s);return s.add&&this.scene.sys.displayList.add(r),r})},13122:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(33182),c=e(61286);c.register("graphics",function(s){return this.displayList.add(new f(this.scene,s))})},60898:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),c=f,s=f;c=e(34429),s=e(91543),s=e(91543),h.exports={renderWebGL:c,renderCanvas:s}},34429:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(36266),c=e(73329),s=e(69360),a=e(75512),r=function(d,p,g){this.x=d,this.y=p,this.width=g},o=function(d,p,g){this.points=[],this.pointsLength=1,this.points[0]=new r(d,p,g)},l=[],v=new s,u=function(d,p,g,x){if(p.commandBuffer.length!==0){g.addToRenderList(p);var T=d.pipelines.set(p.pipeline,p);d.pipelines.preBatch(p);for(var S=c(p,g,x).calc,P=v.loadIdentity(),E=p.commandBuffer,R=g.alpha*p.alpha,A=1,w=T.fillTint,O=T.strokeTint,L=0,F=0,I=0,b=.01,G=Math.PI*2,N,U=[],Y=0,X=!0,B=null,z=a.getTintAppendFloatAlpha,D=0;D<E.length;D++)switch(N=E[D],N){case f.BEGIN_PATH:{U.length=0,B=null,X=!0;break}case f.CLOSE_PATH:{X=!1,B&&B.points.length&&B.points.push(B.points[0]);break}case f.FILL_PATH:{for(Y=0;Y<U.length;Y++)T.batchFillPath(U[Y].points,P,S);break}case f.STROKE_PATH:{for(Y=0;Y<U.length;Y++)T.batchStrokePath(U[Y].points,A,X,P,S);break}case f.LINE_STYLE:{A=E[++D];var V=E[++D],k=E[++D]*R,W=z(V,k);O.TL=W,O.TR=W,O.BL=W,O.BR=W;break}case f.FILL_STYLE:{var H=E[++D],$=E[++D]*R,K=z(H,$);w.TL=K,w.TR=K,w.BL=K,w.BR=K;break}case f.GRADIENT_FILL_STYLE:{var j=E[++D]*R,Z=E[++D]*R,J=E[++D]*R,Q=E[++D]*R;w.TL=z(E[++D],j),w.TR=z(E[++D],Z),w.BL=z(E[++D],J),w.BR=z(E[++D],Q);break}case f.GRADIENT_LINE_STYLE:{A=E[++D];var q=E[++D]*R;O.TL=z(E[++D],q),O.TR=z(E[++D],q),O.BL=z(E[++D],q),O.BR=z(E[++D],q);break}case f.ARC:{var _=0,et=E[++D],st=E[++D],it=E[++D],lt=E[++D],tt=E[++D],ht=E[++D],rt=E[++D];for(tt-=lt,ht?tt<-G?tt=-G:tt>0&&(tt=-G+tt%G):tt>G?tt=G:tt<0&&(tt=G+tt%G),B===null&&(B=new o(et+Math.cos(lt)*it,st+Math.sin(lt)*it,A),U.push(B),_+=b);_<1+rt;)I=tt*_+lt,L=et+Math.cos(I)*it,F=st+Math.sin(I)*it,B.points.push(new r(L,F,A)),_+=b;I=tt+lt,L=et+Math.cos(I)*it,F=st+Math.sin(I)*it,B.points.push(new r(L,F,A));break}case f.FILL_RECT:{T.batchFillRect(E[++D],E[++D],E[++D],E[++D],P,S);break}case f.FILL_TRIANGLE:{T.batchFillTriangle(E[++D],E[++D],E[++D],E[++D],E[++D],E[++D],P,S);break}case f.STROKE_TRIANGLE:{T.batchStrokeTriangle(E[++D],E[++D],E[++D],E[++D],E[++D],E[++D],A,P,S);break}case f.LINE_TO:{B!==null?B.points.push(new r(E[++D],E[++D],A)):(B=new o(E[++D],E[++D],A),U.push(B));break}case f.MOVE_TO:{B=new o(E[++D],E[++D],A),U.push(B);break}case f.SAVE:{l.push(P.copyToArray());break}case f.RESTORE:{P.copyFromArray(l.pop());break}case f.TRANSLATE:{et=E[++D],st=E[++D],P.translate(et,st);break}case f.SCALE:{et=E[++D],st=E[++D],P.scale(et,st);break}case f.ROTATE:{P.rotate(E[++D]);break}}d.pipelines.postBatch(p)}};h.exports=u},59192:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(83979),c=e(56694),s=e(56631),a=e(6659),r=e(71608),o=e(72632),l=e(10850),v=e(19256),u=e(42911),d=e(75757),p=e(58403),g=e(13747),x=new c({Extends:a,initialize:function(S,P,E){a.call(this),E?P&&!Array.isArray(P)&&(P=[P]):Array.isArray(P)?u(P[0])&&(E=P,P=null):u(P)&&(E=P,P=null),this.scene=S,this.children=new p,this.isParent=!0,this.type="Group",this.classType=o(E,"classType",g),this.name=o(E,"name",""),this.active=o(E,"active",!0),this.maxSize=o(E,"maxSize",-1),this.defaultKey=o(E,"defaultKey",null),this.defaultFrame=o(E,"defaultFrame",null),this.runChildUpdate=o(E,"runChildUpdate",!1),this.createCallback=o(E,"createCallback",null),this.removeCallback=o(E,"removeCallback",null),this.createMultipleCallback=o(E,"createMultipleCallback",null),this.internalCreateCallback=o(E,"internalCreateCallback",null),this.internalRemoveCallback=o(E,"internalRemoveCallback",null),P&&this.addMultiple(P),E&&this.createMultiple(E),this.on(s.ADDED_TO_SCENE,this.addedToScene,this),this.on(s.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(T,S,P,E,R,A){if(T===void 0&&(T=0),S===void 0&&(S=0),P===void 0&&(P=this.defaultKey),E===void 0&&(E=this.defaultFrame),R===void 0&&(R=!0),A===void 0&&(A=!0),this.isFull())return null;var w=new this.classType(this.scene,T,S,P,E);return w.addToDisplayList(this.scene.sys.displayList),w.addToUpdateList(),w.visible=R,w.setActive(A),this.add(w),w},createMultiple:function(T){if(this.isFull())return[];Array.isArray(T)||(T=[T]);var S=[];if(T[0].key)for(var P=0;P<T.length;P++){var E=this.createFromConfig(T[P]);S=S.concat(E)}return S},createFromConfig:function(T){if(this.isFull())return[];this.classType=o(T,"classType",this.classType);var S=o(T,"key",void 0),P=o(T,"frame",null),E=o(T,"visible",!0),R=o(T,"active",!0),A=[];if(S===void 0)return A;Array.isArray(S)||(S=[S]),Array.isArray(P)||(P=[P]);var w=o(T,"repeat",0),O=o(T,"randomKey",!1),L=o(T,"randomFrame",!1),F=o(T,"yoyo",!1),I=o(T,"quantity",!1),b=o(T,"frameQuantity",1),G=o(T,"max",0),N=d(S,P,{max:G,qty:I||b,random:O,randomB:L,repeat:w,yoyo:F});T.createCallback&&(this.createCallback=T.createCallback),T.removeCallback&&(this.removeCallback=T.removeCallback);for(var U=0;U<N.length;U++){var Y=this.create(0,0,N[U].a,N[U].b,E,R);if(!Y)break;A.push(Y)}if(v(T,"setXY")){var X=l(T,"setXY.x",0),B=l(T,"setXY.y",0),z=l(T,"setXY.stepX",0),D=l(T,"setXY.stepY",0);f.SetXY(A,X,B,z,D)}if(v(T,"setRotation")){var V=l(T,"setRotation.value",0),k=l(T,"setRotation.step",0);f.SetRotation(A,V,k)}if(v(T,"setScale")){var W=l(T,"setScale.x",1),H=l(T,"setScale.y",W),$=l(T,"setScale.stepX",0),K=l(T,"setScale.stepY",0);f.SetScale(A,W,H,$,K)}if(v(T,"setOrigin")){var j=l(T,"setOrigin.x",.5),Z=l(T,"setOrigin.y",j),J=l(T,"setOrigin.stepX",0),Q=l(T,"setOrigin.stepY",0);f.SetOrigin(A,j,Z,J,Q)}if(v(T,"setAlpha")){var q=l(T,"setAlpha.value",1),_=l(T,"setAlpha.step",0);f.SetAlpha(A,q,_)}if(v(T,"setDepth")){var et=l(T,"setDepth.value",0),st=l(T,"setDepth.step",0);f.SetDepth(A,et,st)}if(v(T,"setScrollFactor")){var it=l(T,"setScrollFactor.x",1),lt=l(T,"setScrollFactor.y",it),tt=l(T,"setScrollFactor.stepX",0),ht=l(T,"setScrollFactor.stepY",0);f.SetScrollFactor(A,it,lt,tt,ht)}var rt=o(T,"hitArea",null),ft=o(T,"hitAreaCallback",null);rt&&f.SetHitArea(A,rt,ft);var ct=o(T,"gridAlign",!1);return ct&&f.GridAlign(A,ct),this.createMultipleCallback&&this.createMultipleCallback.call(this,A),A},preUpdate:function(T,S){if(!(!this.runChildUpdate||this.children.size===0))for(var P=this.children.entries.slice(),E=0;E<P.length;E++){var R=P[E];R.active&&R.update(T,S)}},add:function(T,S){return S===void 0&&(S=!1),this.isFull()?this:(this.children.set(T),this.internalCreateCallback&&this.internalCreateCallback.call(this,T),this.createCallback&&this.createCallback.call(this,T),S&&(T.addToDisplayList(this.scene.sys.displayList),T.addToUpdateList()),T.on(s.DESTROY,this.remove,this),this)},addMultiple:function(T,S){if(S===void 0&&(S=!1),Array.isArray(T))for(var P=0;P<T.length;P++)this.add(T[P],S);return this},remove:function(T,S,P){return S===void 0&&(S=!1),P===void 0&&(P=!1),this.children.contains(T)?(this.children.delete(T),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,T),this.removeCallback&&this.removeCallback.call(this,T),T.off(s.DESTROY,this.remove,this),P?T.destroy():S&&(T.removeFromDisplayList(),T.removeFromUpdateList()),this):this},clear:function(T,S){T===void 0&&(T=!1),S===void 0&&(S=!1);for(var P=this.children,E=0;E<P.size;E++){var R=P.entries[E];R.off(s.DESTROY,this.remove,this),S?R.destroy():T&&(R.removeFromDisplayList(),R.removeFromUpdateList())}return this.children.clear(),this},contains:function(T){return this.children.contains(T)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(T,S,P,E){return r(this.children.entries,T,S,P,E)},getFirst:function(T,S,P,E,R,A,w){return this.getHandler(!0,1,T,S,P,E,R,A,w)},getFirstNth:function(T,S,P,E,R,A,w,O){return this.getHandler(!0,T,S,P,E,R,A,w,O)},getLast:function(T,S,P,E,R,A,w){return this.getHandler(!1,1,T,S,P,E,R,A,w)},getLastNth:function(T,S,P,E,R,A,w,O){return this.getHandler(!1,T,S,P,E,R,A,w,O)},getHandler:function(T,S,P,E,R,A,w,O,L){P===void 0&&(P=!1),E===void 0&&(E=!1);var F,I,b=0,G=this.children.entries;if(T)for(I=0;I<G.length;I++)if(F=G[I],F.active===P){if(b++,b===S)break}else F=null;else for(I=G.length-1;I>=0;I--)if(F=G[I],F.active===P){if(b++,b===S)break}else F=null;return F?(typeof R=="number"&&(F.x=R),typeof A=="number"&&(F.y=A),F):E?this.create(R,A,w,O,L):null},get:function(T,S,P,E,R){return this.getFirst(!1,!0,T,S,P,E,R)},getFirstAlive:function(T,S,P,E,R,A){return this.getFirst(!0,T,S,P,E,R,A)},getFirstDead:function(T,S,P,E,R,A){return this.getFirst(!1,T,S,P,E,R,A)},playAnimation:function(T,S){return f.PlayAnimation(this.children.entries,T,S),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(T){T===void 0&&(T=!0);for(var S=0,P=0;P<this.children.size;P++)this.children.entries[P].active===T&&S++;return S},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var T=this.getTotalUsed(),S=this.maxSize===-1?999999999999:this.maxSize;return S-T},setActive:function(T){return this.active=T,this},setName:function(T){return this.name=T,this},propertyValueSet:function(T,S,P,E,R){return f.PropertyValueSet(this.children.entries,T,S,P,E,R),this},propertyValueInc:function(T,S,P,E,R){return f.PropertyValueInc(this.children.entries,T,S,P,E,R),this},setX:function(T,S){return f.SetX(this.children.entries,T,S),this},setY:function(T,S){return f.SetY(this.children.entries,T,S),this},setXY:function(T,S,P,E){return f.SetXY(this.children.entries,T,S,P,E),this},incX:function(T,S){return f.IncX(this.children.entries,T,S),this},incY:function(T,S){return f.IncY(this.children.entries,T,S),this},incXY:function(T,S,P,E){return f.IncXY(this.children.entries,T,S,P,E),this},shiftPosition:function(T,S,P){return f.ShiftPosition(this.children.entries,T,S,P),this},angle:function(T,S){return f.Angle(this.children.entries,T,S),this},rotate:function(T,S){return f.Rotate(this.children.entries,T,S),this},rotateAround:function(T,S){return f.RotateAround(this.children.entries,T,S),this},rotateAroundDistance:function(T,S,P){return f.RotateAroundDistance(this.children.entries,T,S,P),this},setAlpha:function(T,S){return f.SetAlpha(this.children.entries,T,S),this},setTint:function(T,S,P,E){return f.SetTint(this.children.entries,T,S,P,E),this},setOrigin:function(T,S,P,E){return f.SetOrigin(this.children.entries,T,S,P,E),this},scaleX:function(T,S){return f.ScaleX(this.children.entries,T,S),this},scaleY:function(T,S){return f.ScaleY(this.children.entries,T,S),this},scaleXY:function(T,S,P,E){return f.ScaleXY(this.children.entries,T,S,P,E),this},setDepth:function(T,S){return f.SetDepth(this.children.entries,T,S),this},setBlendMode:function(T){return f.SetBlendMode(this.children.entries,T),this},setHitArea:function(T,S){return f.SetHitArea(this.children.entries,T,S),this},shuffle:function(){return f.Shuffle(this.children.entries),this},kill:function(T){this.children.contains(T)&&T.setActive(!1)},killAndHide:function(T){this.children.contains(T)&&(T.setActive(!1),T.setVisible(!1))},setVisible:function(T,S,P){return f.SetVisible(this.children.entries,T,S,P),this},toggleVisible:function(){return f.ToggleVisible(this.children.entries),this},destroy:function(T,S){T===void 0&&(T=!1),S===void 0&&(S=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(s.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(S,T),this.scene=void 0,this.children=void 0)}});h.exports=x},61295:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(99325),c=e(59192);f.register("group",function(s){return new c(this.scene,null,s)})},62598:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(59192),c=e(61286);c.register("group",function(s,a){return this.updateList.add(new f(this.scene,s,a))})},1539:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(64937),s=e(89980),a=e(57322),r=new f({Extends:s,Mixins:[c.Alpha,c.BlendMode,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Size,c.TextureCrop,c.Tint,c.Transform,c.Visible,a],initialize:function(l,v,u,d,p){s.call(this,l,"Image"),this._crop=this.resetCropObject(),this.setTexture(d,p),this.setPosition(v,u),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});h.exports=r},57786:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){c.addToRenderList(f),e.batchSprite(f,f.frame,c,s)};h.exports=y},83556:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(88933),c=e(99325),s=e(20494),a=e(1539);c.register("image",function(r,o){r===void 0&&(r={});var l=s(r,"key",null),v=s(r,"frame",null),u=new a(this.scene,0,0,l,v);return o!==void 0&&(r.add=o),f(this.scene,u,r),u})},20927:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(1539),c=e(61286);c.register("image",function(s,a,r,o){return this.displayList.add(new f(this.scene,s,a,r,o))})},57322:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),c=f,s=f;c=e(59390),s=e(57786),h.exports={renderWebGL:c,renderCanvas:s}},59390:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){c.addToRenderList(f),this.pipeline.batchSprite(f,c,s)};h.exports=y},48013:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={Events:e(56631),DisplayList:e(91713),GameObjectCreator:e(99325),GameObjectFactory:e(61286),UpdateList:e(92034),Components:e(64937),GetCalcMatrix:e(73329),BuildGameObject:e(88933),BuildGameObjectAnimation:e(32291),GameObject:e(89980),BitmapText:e(44616),Blitter:e(52816),Bob:e(41664),Container:e(70339),DOMElement:e(38943),DynamicBitmapText:e(13468),Extern:e(39419),Graphics:e(33182),Group:e(59192),Image:e(1539),Layer:e(85305),Particles:e(27684),PathFollower:e(29598),RenderTexture:e(15996),RetroFont:e(55873),Rope:e(79968),Sprite:e(13747),Text:e(76555),GetTextSize:e(32979),MeasureText:e(27030),TextStyle:e(74744),TileSprite:e(35856),Zone:e(71030),Video:e(8630),Shape:e(91461),Arc:e(28593),Curve:e(15220),Ellipse:e(28591),Grid:e(39169),IsoBox:e(4415),IsoTriangle:e(65159),Line:e(579),Polygon:e(91249),Rectangle:e(517),Star:e(77843),Triangle:e(21873),Factories:{Blitter:e(38906),Container:e(23400),DOMElement:e(66788),DynamicBitmapText:e(94145),Extern:e(41155),Graphics:e(13122),Group:e(62598),Image:e(20927),Layer:e(17676),Particles:e(81212),PathFollower:e(19626),RenderTexture:e(29599),Rope:e(31982),Sprite:e(66135),StaticBitmapText:e(21797),Text:e(94627),TileSprite:e(20509),Zone:e(34546),Video:e(215),Arc:e(10369),Curve:e(10147),Ellipse:e(99869),Grid:e(9326),IsoBox:e(88154),IsoTriangle:e(67765),Line:e(85665),Polygon:e(88203),Rectangle:e(94355),Star:e(23962),Triangle:e(79296)},Creators:{Blitter:e(68452),Container:e(44516),DynamicBitmapText:e(67513),Graphics:e(41286),Group:e(61295),Image:e(83556),Layer:e(56378),Particles:e(765),RenderTexture:e(85692),Rope:e(96027),Sprite:e(89219),StaticBitmapText:e(95499),Text:e(75397),TileSprite:e(63950),Zone:e(24067),Video:e(65601)}};f.Shader=e(27902),f.Mesh=e(83321),f.NineSlice=e(44139),f.PointLight=e(13171),f.Plane=e(33412),f.Factories.Shader=e(51979),f.Factories.Mesh=e(8767),f.Factories.NineSlice=e(53778),f.Factories.PointLight=e(91201),f.Factories.Plane=e(58322),f.Creators.Shader=e(13908),f.Creators.Mesh=e(41839),f.Creators.NineSlice=e(40964),f.Creators.PointLight=e(162),f.Creators.Plane=e(10912),f.Light=e(14455),f.LightsManager=e(26193),f.LightsPlugin=e(50296),h.exports=f},85305:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(95723),c=e(56694),s=e(64937),a=e(48129),r=e(81078),o=e(6659),l=e(56631),v=e(71207),u=e(58010),d=e(7599),p=e(17922),g=new c({Extends:v,Mixins:[s.AlphaSingle,s.BlendMode,s.Depth,s.Mask,s.PostPipeline,s.Visible,o,u],initialize:function(T,S){v.call(this,T),o.call(this),this.scene=T,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=T.sys,this.events=T.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(f.SKIP_CHECK),S&&this.add(S),T.sys.queueDepthSort()},setActive:function(x){return this.active=x,this},setName:function(x){return this.name=x,this},setState:function(x){return this.state=x,this},setDataEnabled:function(){return this.data||(this.data=new r(this)),this},setData:function(x,T){return this.data||(this.data=new r(this)),this.data.set(x,T),this},incData:function(x,T){return this.data||(this.data=new r(this)),this.data.inc(x,T),this},toggleData:function(x){return this.data||(this.data=new r(this)),this.data.toggle(x),this},getData:function(x){return this.data||(this.data=new r(this)),this.data.get(x)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return a(this)},willRender:function(x){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&x.id)},getIndexList:function(){for(var x=this,T=this.parentContainer,S=[];T&&(S.unshift(T.getIndex(x)),x=T,T.parentContainer);)T=T.parentContainer;return S.unshift(this.displayList.getIndex(x)),S},addChildCallback:function(x){x.displayList&&x.displayList!==this&&x.removeFromDisplayList(),x.displayList||(this.queueDepthSort(),x.displayList=this,x.emit(l.ADDED_TO_SCENE,x,this.scene),this.events.emit(d.ADDED_TO_SCENE,x,this.scene))},removeChildCallback:function(x){this.queueDepthSort(),x.displayList=null,x.emit(l.REMOVED_FROM_SCENE,x,this.scene),this.events.emit(d.REMOVED_FROM_SCENE,x,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(p(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(x,T){return x._depth-T._depth},getChildren:function(){return this.list},addToDisplayList:function(x){return x===void 0&&(x=this.scene.sys.displayList),this.displayList&&this.displayList!==x&&this.removeFromDisplayList(),x.exists(this)||(this.displayList=x,x.add(this,!0),x.queueDepthSort(),this.emit(l.ADDED_TO_SCENE,this,this.scene),x.events.emit(d.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var x=this.displayList||this.scene.sys.displayList;return x.exists(this)&&(x.remove(this,!0),x.queueDepthSort(),this.displayList=null,this.emit(l.REMOVED_FROM_SCENE,this,this.scene),x.events.emit(d.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(x){if(!(!this.scene||this.ignoreDestroy)){this.emit(l.DESTROY,this);for(var T=this.list;T.length;)T[0].destroy(x);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});h.exports=g},834:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){var s=f.list;if(s.length!==0){f.depthSort();var a=f.blendMode!==-1;a||e.setBlendMode(0);var r=f._alpha;f.mask&&f.mask.preRenderCanvas(e,null,c);for(var o=0;o<s.length;o++){var l=s[o];if(l.willRender(c)){var v=l.alpha;!a&&l.blendMode!==e.currentBlendMode&&e.setBlendMode(l.blendMode),l.setAlpha(v*r),l.renderCanvas(e,l,c),l.setAlpha(v)}}f.mask&&f.mask.postRenderCanvas(e)}};h.exports=y},56378:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(88933),c=e(85305),s=e(99325),a=e(20494);s.register("layer",function(r,o){r===void 0&&(r={});var l=a(r,"children",null),v=new c(this.scene,l);return o!==void 0&&(r.add=o),f(this.scene,v,r),v})},17676:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(85305),c=e(61286);c.register("layer",function(s){return this.displayList.add(new f(this.scene,s))})},58010:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),c=f,s=f;c=e(17576),s=e(834),h.exports={renderWebGL:c,renderCanvas:s}},17576:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){var s=f.list,a=s.length;if(a!==0){f.depthSort(),e.pipelines.preBatch(f);var r=f.blendMode!==-1;r||e.setBlendMode(0);for(var o=f.alpha,l=0;l<a;l++){var v=s[l];if(v.willRender(c)){var u,d,p,g;if(v.alphaTopLeft!==void 0)u=v.alphaTopLeft,d=v.alphaTopRight,p=v.alphaBottomLeft,g=v.alphaBottomRight;else{var x=v.alpha;u=x,d=x,p=x,g=x}!r&&v.blendMode!==e.currentBlendMode&&e.setBlendMode(v.blendMode);var T=v.mask;T&&T.preRenderWebGL(e,v,c);var S=v.type;S!==e.currentType&&(e.newType=!0,e.currentType=S),e.nextTypeMatch=l<a-1?s[l+1].type===e.currentType:!1,v.setAlpha(u*o,d*o,p*o,g*o),v.renderWebGL(e,v,c),v.setAlpha(u,d,p,g),T&&T.postRenderWebGL(e,c),e.newType=!1}}e.pipelines.postBatch(f)}};h.exports=y},14455:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(26673),c=e(56694),s=e(64937),a=e(39298),r=e(75512),o=new c({Extends:f,Mixins:[s.Origin,s.ScrollFactor,s.Transform,s.Visible],initialize:function(v,u,d,p,g,x,T){f.call(this,v,u,d),this.color=new a(p,g,x),this.intensity=T,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(d)},displayWidth:{get:function(){return this.diameter},set:function(l){this.diameter=l}},displayHeight:{get:function(){return this.diameter},set:function(l){this.diameter=l}},width:{get:function(){return this.diameter},set:function(l){this.diameter=l}},height:{get:function(){return this.diameter},set:function(l){this.diameter=l}},willRender:function(l){return!(o.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&l.id)},setColor:function(l){var v=r.getFloatsFromUintRGB(l);return this.color.set(v[0],v[1],v[2]),this},setIntensity:function(l){return this.intensity=l,this},setRadius:function(l){return this.radius=l,this}});o.RENDER_MASK=15,h.exports=o},26193:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(26535),c=e(56694),s=e(53996),a=e(14455),r=e(13171),o=e(39298),l=e(72677),v=e(17922),u=e(75512),d=new c({initialize:function(){this.lights=[],this.ambientColor=new o(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(p,g,x,T,S,P){return this.systems.displayList.add(new r(this.scene,p,g,x,T,S,P))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(p){for(var g=this.lights,x=p.worldView,T=[],S=0;S<g.length;S++){var P=g[S];P.willRender(p)&&f(P,x)&&T.push({light:P,distance:s(P.x,P.y,x.centerX,x.centerY)})}return T.length>this.maxLights&&(v(T,this.sortByDistance),T=T.slice(0,this.maxLights)),this.visibleLights=T.length,T},sortByDistance:function(p,g){return p.distance>=g.distance},setAmbientColor:function(p){var g=u.getFloatsFromUintRGB(p);return this.ambientColor.set(g[0],g[1],g[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(p,g,x,T,S){p===void 0&&(p=0),g===void 0&&(g=0),x===void 0&&(x=128),T===void 0&&(T=16777215),S===void 0&&(S=1);var P=u.getFloatsFromUintRGB(T),E=new a(p,g,x,P[0],P[1],P[2],S);return this.lights.push(E),E},removeLight:function(p){var g=this.lights.indexOf(p);return g>=0&&l(this.lights,g),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});h.exports=d},50296:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(26193),s=e(91963),a=e(7599),r=new f({Extends:c,initialize:function(l){this.scene=l,this.systems=l.sys,l.sys.settings.isBooted||l.sys.events.once(a.BOOT,this.boot,this),c.call(this)},boot:function(){var o=this.systems.events;o.on(a.SHUTDOWN,this.shutdown,this),o.on(a.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});s.register("LightsPlugin",r,"lights"),h.exports=r},83321:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(64937),s=e(75606),a=e(18693),r=e(89980),o=e(53267),l=e(67623),v=e(73329),u=e(16650),d=e(23464),p=e(23701),g=e(17922),x=e(70015),T=e(85769),S=new f({Extends:r,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.Mask,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Size,c.Texture,c.Transform,c.Visible,d],initialize:function(E,R,A,w,O,L,F,I,b,G,N,U){R===void 0&&(R=0),A===void 0&&(A=0),w===void 0&&(w="__WHITE"),r.call(this,E,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new x,this.modelScale=new x(1,1,1),this.modelRotation=new x,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new u,this.viewPosition=new x,this.viewMatrix=new u,this.projectionMatrix=new u,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var Y=E.sys.renderer;this.setPosition(R,A),this.setTexture(w,O),this.setSize(Y.width,Y.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(Y.width,Y.height),L&&this.addVertices(L,F,I,b,G,N,U)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(P){return this.viewPosition.addScale(x.LEFT,P),this.dirtyCache[10]=1,this},panY:function(P){return this.viewPosition.y+=x.DOWN.y*P,this.dirtyCache[10]=1,this},panZ:function(P){return this.viewPosition.z+=P,this.dirtyCache[10]=1,this},setPerspective:function(P,E,R,A,w){return R===void 0&&(R=45),A===void 0&&(A=.01),w===void 0&&(w=1e3),this.fov=R,this.projectionMatrix.perspective(s(R),P/E,A,w),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(P,E,R,A){return P===void 0&&(P=this.scene.sys.renderer.getAspectRatio()),E===void 0&&(E=1),R===void 0&&(R=-1e3),A===void 0&&(A=1e3),this.fov=0,this.projectionMatrix.ortho(-P,P,-E,E,R,A),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(P){P.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(P,E,R,A,w,O,L,F,I){var b=this.scene.sys.cache.obj.get(P),G;return b&&(G=o(b,this,E,R,A,w,O,L,F,I)),(!G||G.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",P),this},sortByDepth:function(P,E){return P.depth-E.depth},depthSort:function(){return g(this.faces,this.sortByDepth),this},addVertex:function(P,E,R,A,w,O,L){var F=new T(P,E,R,A,w,O,L);return this.vertices.push(F),F},addFace:function(P,E,R){var A=new a(P,E,R);return this.faces.push(A),this.dirtyCache[9]=-1,A},addVertices:function(P,E,R,A,w,O,L){var F=l(P,E,R,A,w,O,L);return F?(this.faces=this.faces.concat(F.faces),this.vertices=this.vertices.concat(F.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(P){return this.faces[P]},hasFaceAt:function(P,E,R){R===void 0&&(R=this.scene.sys.cameras.main);for(var A=v(this,R).calc,w=this.faces,O=0;O<w.length;O++){var L=w[O];if(L.contains(P,E,A))return!0}return!1},getFaceAt:function(P,E,R){R===void 0&&(R=this.scene.sys.cameras.main);for(var A=v(this,R).calc,w=this.faces,O=[],L=0;L<w.length;L++){var F=w[L];F.contains(P,E,A)&&O.push(F)}return g(O,this.sortByDepth)},setDebug:function(P,E){return this.debugGraphic=P,!P&&!E?this.debugCallback=null:E?this.debugCallback=E:this.debugCallback=this.renderDebug,this},isDirty:function(){var P=this.modelPosition,E=this.modelRotation,R=this.modelScale,A=this.dirtyCache,w=P.x,O=P.y,L=P.z,F=E.x,I=E.y,b=E.z,G=R.x,N=R.y,U=R.z,Y=this.getFaceCount(),X=A[0],B=A[1],z=A[2],D=A[3],V=A[4],k=A[5],W=A[6],H=A[7],$=A[8],K=A[9];return A[0]=w,A[1]=O,A[2]=L,A[3]=F,A[4]=I,A[5]=b,A[6]=G,A[7]=N,A[8]=U,A[9]=Y,X!==w||B!==O||z!==L||D!==F||V!==I||k!==b||W!==G||H!==N||$!==U||K!==Y},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var P=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!P[10]&&!this.isDirty())){var E=this.width,R=this.height,A=this.viewMatrix,w=this.viewPosition;P[10]&&(A.identity(),A.translate(w),A.invert(),P[10]=0);var O=this.transformMatrix;O.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var L=w.z,F=this.faces,I=0;I<F.length;I++)F[I].transformCoordinatesLocal(O,E,R,L);this.depthSort()}},renderDebug:function(P,E){for(var R=P.debugGraphic,A=0;A<E.length;A++){var w=E[A],O=w.vertex1.tx,L=w.vertex1.ty,F=w.vertex2.tx,I=w.vertex2.ty,b=w.vertex3.tx,G=w.vertex3.ty;R.strokeTriangle(O,L,F,I,b,G)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(){var P=this.faces,E=function(R,A,w){for(var O=0;O<P.length;O++){var L=P[O];if(L.contains(A,w))return!0}return!1};return this.scene.sys.input.enable(this,E),this},setTint:function(P){P===void 0&&(P=16777215);for(var E=this.vertices,R=0;R<E.length;R++)E[R].color=P;return this},uvScroll:function(P,E){for(var R=this.faces,A=0;A<R.length;A++)R[A].scrollUV(P,E);return this},uvScale:function(P,E){for(var R=this.faces,A=0;A<R.length;A++)R[A].scaleUV(P,E);return this},tint:{set:function(P){this.setTint(P)}},rotateX:{get:function(){return p(this.modelRotation.x)},set:function(P){this.modelRotation.x=s(P)}},rotateY:{get:function(){return p(this.modelRotation.y)},set:function(P){this.modelRotation.y=s(P)}},rotateZ:{get:function(){return p(this.modelRotation.z)},set:function(P){this.modelRotation.z=s(P)}}});h.exports=S},6317:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){};h.exports=y},41839:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(88933),c=e(99325),s=e(20494),a=e(10850),r=e(83321);c.register("mesh",function(o,l){o===void 0&&(o={});var v=s(o,"key",null),u=s(o,"frame",null),d=a(o,"vertices",[]),p=a(o,"uvs",[]),g=a(o,"indicies",[]),x=a(o,"containsZ",!1),T=a(o,"normals",[]),S=a(o,"colors",16777215),P=a(o,"alphas",1),E=new r(this.scene,0,0,v,u,d,p,g,x,T,S,P);return l!==void 0&&(o.add=l),f(this.scene,E,o),E})},8767:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(83321),c=e(61286);c.register("mesh",function(s,a,r,o,l,v,u,d,p,g,x){return this.displayList.add(new f(this.scene,s,a,r,o,l,v,u,d,p,g,x))})},23464:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),c=f,s=f;c=e(57410),s=e(6317),h.exports={renderWebGL:c,renderCanvas:s}},57410:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(73329),c=function(s,a,r,o){var l=a.faces,v=l.length;if(v!==0){r.addToRenderList(a);var u=s.pipelines.set(a.pipeline,a),d=f(a,r,o).calc;s.pipelines.preBatch(a);for(var p=u.setGameObject(a),g=u.vertexViewF32,x=u.vertexViewU32,T=u.vertexCount*u.currentShader.vertexComponentCount-1,S=a.tintFill,P=[],E=a.debugCallback,R=d.a,A=d.b,w=d.c,O=d.d,L=d.e,F=d.f,I=a.viewPosition.z,b=a.hideCCW,G=r.roundPixels,N=r.alpha*a.alpha,U=0,Y=0;Y<v;Y++){var X=l[Y];X.isInView(r,b,I,N,R,A,w,O,L,F,G)&&(u.shouldFlush(3)&&(u.flush(),p=u.setGameObject(a),T=0),T=X.load(g,x,T,p,S),U++,u.vertexCount+=3,u.currentBatch.count=u.vertexCount-u.currentBatch.start,E&&P.push(X))}a.totalFrame+=U,E&&E.call(a,a,P),s.pipelines.postBatch(a)}};h.exports=c},44139:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(64937),s=e(89980),a=e(94456),r=e(85769),o=new f({Extends:s,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Texture,c.Transform,c.Visible,a],initialize:function(v,u,d,p,g,x,T,S,P,E,R){x===void 0&&(x=256),T===void 0&&(T=256),S===void 0&&(S=10),P===void 0&&(P=10),E===void 0&&(E=0),R===void 0&&(R=0),s.call(this,v,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1,this.is3Slice=E===0&&R===0;for(var A=this.is3Slice?18:54,w=0;w<A;w++)this.vertices.push(new r);this.setPosition(u,d),this.setTexture(p,g),this.setSlices(x,T,S,P,E,R),this.setOrigin(.5,.5),this.initPipeline(),this.initPostPipeline()},setSlices:function(l,v,u,d,p,g){l===void 0&&(l=256),v===void 0&&(v=256),u===void 0&&(u=10),d===void 0&&(d=10),p===void 0&&(p=0),g===void 0&&(g=0);var x=p===0&&g===0;return this.is3Slice!==x?console.warn("Cannot change 9 slice to 3 slice"):(this._width=l,this._height=v,this.leftWidth=u,this.rightWidth=d,this.topHeight=p,this.bottomHeight=g,this.is3Slice&&(v=this.frame.height,this._height=v,this.topHeight=v,this.bottomHeight=0),this.updateVertices(),this.updateUVs()),this},updateUVs:function(){var l=this.leftWidth,v=this.rightWidth,u=this.topHeight,d=this.bottomHeight,p=this.frame.width,g=this.frame.height;this.updateQuadUVs(0,0,0,l/p,u/g),this.updateQuadUVs(6,l/p,0,1-v/p,u/g),this.updateQuadUVs(12,1-v/p,0,1,u/g),this.is3Slice||(this.updateQuadUVs(18,0,u/g,l/p,1-d/g),this.updateQuadUVs(24,l/p,u/g,1-v/p,1-d/g),this.updateQuadUVs(30,1-v/p,u/g,1,1-d/g),this.updateQuadUVs(36,0,1-d/g,l/p,1),this.updateQuadUVs(42,l/p,1-d/g,1-v/p,1),this.updateQuadUVs(48,1-v/p,1-d/g,1,1))},updateVertices:function(){var l=this.leftWidth,v=this.rightWidth,u=this.topHeight,d=this.bottomHeight,p=this.width,g=this.height;this.updateQuad(0,-.5,.5,-.5+l/p,.5-u/g),this.updateQuad(6,-.5+l/p,.5,.5-v/p,.5-u/g),this.updateQuad(12,.5-v/p,.5,.5,.5-u/g),this.is3Slice||(this.updateQuad(18,-.5,.5-u/g,-.5+l/p,-.5+d/g),this.updateQuad(24,-.5+l/p,.5-u/g,.5-v/p,-.5+d/g),this.updateQuad(30,.5-v/p,.5-u/g,.5,-.5+d/g),this.updateQuad(36,-.5,-.5+d/g,-.5+l/p,-.5),this.updateQuad(42,-.5+l/p,-.5+d/g,.5-v/p,-.5),this.updateQuad(48,.5-v/p,-.5+d/g,.5,-.5))},updateQuad:function(l,v,u,d,p){var g=this.width,x=this.height,T=this.originX,S=this.originY,P=this.vertices;P[l+0].resize(v,u,g,x,T,S),P[l+1].resize(v,p,g,x,T,S),P[l+2].resize(d,u,g,x,T,S),P[l+3].resize(v,p,g,x,T,S),P[l+4].resize(d,p,g,x,T,S),P[l+5].resize(d,u,g,x,T,S)},updateQuadUVs:function(l,v,u,d,p){var g=this.vertices,x=this.frame,T=x.u0,S=x.v0,P=x.u1,E=x.v1;if(T!==0||P!==1){var R=P-T;v=T+v*R,d=T+d*R}if(S!==0||E!==1){var A=E-S;u=S+u*A,p=S+p*A}g[l+0].setUVs(v,u),g[l+1].setUVs(v,p),g[l+2].setUVs(d,u),g[l+3].setUVs(v,p),g[l+4].setUVs(d,p),g[l+5].setUVs(d,u)},clearTint:function(){return this.setTint(16777215),this},setTint:function(l){return l===void 0&&(l=16777215),this.tint=l,this.tintFill=!1,this},setTintFill:function(l){return this.setTint(l),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(l){this._width=Math.max(l,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(l){this.is3Slice||(this._height=Math.max(l,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(l){this.scaleX=l/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(l){this.scaleY=l/this.height}},setSize:function(l,v){this.width=l,this.height=v;var u=this.input;return u&&!u.customHitArea&&(u.hitArea.width=this.width,u.hitArea.height=this.height),this},setDisplaySize:function(l,v){return this.displayWidth=l,this.displayHeight=v,this},originX:{get:function(){return this._originX},set:function(l){this._originX=l,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(l){this._originY=l,this.updateVertices()}},setOrigin:function(l,v){return l===void 0&&(l=.5),v===void 0&&(v=l),this._originX=l,this._originY=v,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var l=this.frame.height;this._height=l,this.topHeight=l,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});h.exports=o},40964:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(88933),c=e(99325),s=e(20494),a=e(10850),r=e(44139);c.register("nineslice",function(o,l){o===void 0&&(o={});var v=s(o,"key",null),u=s(o,"frame",null),d=a(o,"width",256),p=a(o,"height",256),g=a(o,"leftWidth",10),x=a(o,"rightWidth",10),T=a(o,"topHeight",0),S=a(o,"bottomHeight",0),P=new r(this.scene,0,0,v,u,d,p,g,x,T,S);return l!==void 0&&(o.add=l),f(this.scene,P,o),P})},53778:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(44139),c=e(61286);c.register("nineslice",function(s,a,r,o,l,v,u,d,p,g){return this.displayList.add(new f(this.scene,s,a,r,o,l,v,u,d,p,g))})},94456:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),c=f,s=f;c=e(27420),h.exports={renderWebGL:c,renderCanvas:s}},27420:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(73329),c=e(75512),s=function(a,r,o,l){var v=r.vertices,u=v.length;if(u!==0){o.addToRenderList(r);var d=a.pipelines.set(r.pipeline,r),p=f(r,o,l,!1).calc;a.pipelines.preBatch(r);var g=d.setGameObject(r),x=d.vertexViewF32,T=d.vertexViewU32,S=d.vertexCount*d.currentShader.vertexComponentCount-1,P=o.roundPixels,E=r.tintFill,R=o.alpha*r.alpha,A=c.getTintAppendFloatAlpha(r.tint,R),w=d.vertexAvailable(),O=-1;w<u&&(O=w);for(var L=0;L<u;L++){var F=v[L];L===O&&(d.flush(),g=d.setGameObject(r),S=0),x[++S]=p.getXRound(F.vx,F.vy,P),x[++S]=p.getYRound(F.vx,F.vy,P),x[++S]=F.u,x[++S]=F.v,x[++S]=g,x[++S]=E,T[++S]=A,d.vertexCount++,d.currentBatch.count=d.vertexCount-d.currentBatch.start}a.pipelines.postBatch(r)}};h.exports=s},19737:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(93025),s=e(22946),a=e(21902),r=e(4840),o=e(15978),l=new f({Extends:c,initialize:function(u){c.call(this,u,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var v=this.propertyValue,u=v,d=this.defaultEmit,p=this.defaultUpdate;if(this.method===9){this.start=v[0],this.ease=a("Linear"),this.interpolation=r("linear"),d=this.easedValueEmit,p=this.easeValueUpdate,u=v[0],this.active=!0;for(var g=0;g<v.length;g++){var x=o(v[g]);this.r.push(x.r),this.g.push(x.g),this.b.push(x.b)}}return this.onEmit=d,this.onUpdate=p,this.current=u,this},setEase:function(v){this.easeName=v,this.ease=a(v)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(v,u,d){var p=this.ease(d),g=this.interpolation(this.r,p),x=this.interpolation(this.g,p),T=this.interpolation(this.b,p),S=s(g,x,T);return this.current=S,S}});h.exports=l},93025:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(17489),c=e(82897),s=e(56694),a=e(61616),r=e(21902),o=e(72632),l=e(4840),v=e(88462),u=e(1071),d=new s({initialize:function(g,x,T){T===void 0&&(T=!1),this.propertyKey=g,this.propertyValue=x,this.defaultValue=x,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=T,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(p,g){p===void 0&&(p={}),g&&(this.propertyKey=g),this.propertyValue=o(p,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(p){var g;switch(this.method){case 1:case 3:case 8:g=p;break;case 2:this.propertyValue.indexOf(p)>=0&&(g=p);break;case 4:var x=(this.end-this.start)/this.steps;g=v(p,x),this.counter=g;break;case 5:case 6:case 7:g=c(p,this.start,this.end);break;case 9:g=this.start[0];break}return this.current=g,this},getMethod:function(){var p=this.propertyValue;if(p===null)return 0;var g=typeof p;if(g==="number")return 1;if(Array.isArray(p))return 2;if(g==="function")return 3;if(g==="object"){if(this.hasBoth(p,"start","end"))return this.has(p,"steps")?4:5;if(this.hasBoth(p,"min","max"))return 6;if(this.has(p,"random"))return 7;if(this.hasEither(p,"onEmit","onUpdate"))return 8;if(this.has(p,"interpolation"))return 9}return 0},setMethods:function(){var p=this.propertyValue,g=p,x=this.defaultEmit,T=this.defaultUpdate;switch(this.method){case 1:x=this.staticValueEmit;break;case 2:x=this.randomStaticValueEmit,g=p[0];break;case 3:this._onEmit=p,x=this.proxyEmit;break;case 4:this.start=p.start,this.end=p.end,this.steps=p.steps,this.counter=this.start,this.yoyo=this.has(p,"yoyo")?p.yoyo:!1,this.direction=0,x=this.steppedEmit,g=this.start;break;case 5:this.start=p.start,this.end=p.end;var S=this.has(p,"ease")?p.ease:"Linear";this.ease=r(S,p.easeParams),x=this.has(p,"random")&&p.random?this.randomRangedValueEmit:this.easedValueEmit,T=this.easeValueUpdate,g=this.start;break;case 6:this.start=p.min,this.end=p.max,x=this.has(p,"int")&&p.int?this.randomRangedIntEmit:this.randomRangedValueEmit,g=this.start;break;case 7:var P=p.random;Array.isArray(P)&&(this.start=P[0],this.end=P[1]),x=this.randomRangedIntEmit,g=this.start;break;case 8:this._onEmit=this.has(p,"onEmit")?p.onEmit:this.defaultEmit,this._onUpdate=this.has(p,"onUpdate")?p.onUpdate:this.defaultUpdate,x=this.proxyEmit,T=this.proxyUpdate;break;case 9:this.start=p.values;var E=this.has(p,"ease")?p.ease:"Linear";this.ease=r(E,p.easeParams),this.interpolation=l(p.interpolation),x=this.easedValueEmit,T=this.easeValueUpdate,g=this.start[0];break}return this.onEmit=x,this.onUpdate=T,this.current=g,this},has:function(p,g){return p.hasOwnProperty(g)},hasBoth:function(p,g,x){return p.hasOwnProperty(g)&&p.hasOwnProperty(x)},hasEither:function(p,g,x){return p.hasOwnProperty(g)||p.hasOwnProperty(x)},defaultEmit:function(p,g,x){return x},defaultUpdate:function(p,g,x,T){return T},proxyEmit:function(p,g,x){var T=this._onEmit(p,g,x);return this.current=T,T},proxyUpdate:function(p,g,x,T){var S=this._onUpdate(p,g,x,T);return this.current=S,S},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var p=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[p],this.current},randomRangedValueEmit:function(p,g){var x=a(this.start,this.end);return p&&p.data[g]&&(p.data[g].min=x,p.data[g].max=this.end),this.current=x,x},randomRangedIntEmit:function(p,g){var x=f(this.start,this.end);return p&&p.data[g]&&(p.data[g].min=x,p.data[g].max=this.end),this.current=x,x},steppedEmit:function(){var p=this.counter,g=p,x=(this.end-this.start)/this.steps;if(this.yoyo){var T;this.direction===0?(g+=x,g>=this.end&&(T=g-this.end,g=this.end-T,this.direction=1)):(g-=x,g<=this.start&&(T=this.start-g,g=this.start+T,this.direction=0)),this.counter=g}else this.counter=u(g+x,this.start,this.end);return this.current=p,p},easedValueEmit:function(p,g){if(p&&p.data[g]){var x=p.data[g];x.min=this.start,x.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(p,g,x){var T=p.data[g],S,P=this.ease(x);return this.interpolation?S=this.interpolation(this.start,P):S=(T.max-T.min)*P+T.min,this.current=S,S},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});h.exports=d},87811:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(72632),s=e(30891),a=new f({Extends:s,initialize:function(o,l,v,u,d){if(typeof o=="object"){var p=o;o=c(p,"x",0),l=c(p,"y",0),v=c(p,"power",0),u=c(p,"epsilon",100),d=c(p,"gravity",50)}else o===void 0&&(o=0),l===void 0&&(l=0),v===void 0&&(v=0),u===void 0&&(u=100),d===void 0&&(d=50);s.call(this,o,l,!0),this._gravity=d,this._power=v*d,this._epsilon=u*u},update:function(r,o){var l=this.x-r.x,v=this.y-r.y,u=l*l+v*v;if(u!==0){var d=Math.sqrt(u);u<this._epsilon&&(u=this._epsilon);var p=this._power*o/(u*d)*100;r.velocityX+=l*p,r.velocityY+=v*p}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(r){this._epsilon=r*r}},power:{get:function(){return this._power/this._gravity},set:function(r){this._power=r*this._gravity}},gravity:{get:function(){return this._gravity},set:function(r){var o=this.power;this._gravity=r,this.power=o}}});h.exports=a},14909:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(16569),c=e(82897),s=e(56694),a=e(75606),r=e(74118),o=e(2386),l=e(93736),v=new s({initialize:function(d){this.emitter=d,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new l,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=d.scene,this.anims=new f(this),this.bounds=new r},emit:function(u,d,p,g,x,T){return this.emitter.emit(u,d,p,g,x,T)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(u,d){u===void 0&&(u=0),d===void 0&&(d=0),this.x=u,this.y=d},fire:function(u,d){var p=this.emitter,g=p.ops,x=p.getAnim();if(x?this.anims.play(x):(this.frame=p.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(p.getEmitZone(this),u===void 0?this.x+=g.x.onEmit(this,"x"):g.x.steps>0?this.x+=u+g.x.onEmit(this,"x"):this.x+=u,d===void 0?this.y+=g.y.onEmit(this,"y"):g.y.steps>0?this.y+=d+g.y.onEmit(this,"y"):this.y+=d,this.life=g.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=g.delay.onEmit(this,"delay"),this.holdCurrent=g.hold.onEmit(this,"hold"),this.scaleX=g.scaleX.onEmit(this,"scaleX"),this.scaleY=g.scaleY.active?g.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=g.rotate.onEmit(this,"rotate"),this.rotation=a(this.angle),p.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&p.getDeathZone(this))return this.lifeCurrent=0,!1;var T=g.speedX.onEmit(this,"speedX"),S=g.speedY.active?g.speedY.onEmit(this,"speedY"):T;if(p.radial){var P=a(g.angle.onEmit(this,"angle"));this.velocityX=Math.cos(P)*Math.abs(T),this.velocityY=Math.sin(P)*Math.abs(S)}else if(p.moveTo){var E=g.moveToX.onEmit(this,"moveToX"),R=g.moveToY.onEmit(this,"moveToY"),A=this.life/1e3;this.velocityX=(E-this.x)/A,this.velocityY=(R-this.y)/A}else this.velocityX=T,this.velocityY=S;return p.acceleration&&(this.accelerationX=g.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=g.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=g.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=g.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=g.bounce.onEmit(this,"bounce"),this.alpha=g.alpha.onEmit(this,"alpha"),g.color.active?this.tint=g.color.onEmit(this,"tint"):this.tint=g.tint.onEmit(this,"tint"),!0},update:function(u,d,p){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=u,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=u,!1;this.anims.update(0,u);var g=this.emitter,x=g.ops,T=1-this.lifeCurrent/this.life;if(this.lifeT=T,this.x=x.x.onUpdate(this,"x",T,this.x),this.y=x.y.onUpdate(this,"y",T,this.y),g.moveTo){var S=x.moveToX.onUpdate(this,"moveToX",T,g.moveToX),P=x.moveToY.onUpdate(this,"moveToY",T,g.moveToY),E=this.lifeCurrent/1e3;this.velocityX=(S-this.x)/E,this.velocityY=(P-this.y)/E}return this.computeVelocity(g,u,d,p,T),this.scaleX=x.scaleX.onUpdate(this,"scaleX",T,this.scaleX),this.scaleY=this.scaleX,x.scaleY.active&&(this.scaleY=x.scaleY.onUpdate(this,"scaleY",T,this.scaleY)),this.angle=x.rotate.onUpdate(this,"rotate",T,this.angle),this.rotation=a(this.angle),g.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=x.alpha.onUpdate(this,"alpha",T,this.alpha),x.color.active?this.tint=x.color.onUpdate(this,"color",T,this.tint):this.tint=x.tint.onUpdate(this,"tint",T,this.tint),this.lifeCurrent-=u,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(u,d,p,g,x){var T=u.ops,S=this.velocityX,P=this.velocityY,E=T.accelerationX.onUpdate(this,"accelerationX",x,this.accelerationX),R=T.accelerationY.onUpdate(this,"accelerationY",x,this.accelerationY),A=T.maxVelocityX.onUpdate(this,"maxVelocityX",x,this.maxVelocityX),w=T.maxVelocityY.onUpdate(this,"maxVelocityY",x,this.maxVelocityY);this.bounce=T.bounce.onUpdate(this,"bounce",x,this.bounce),S+=u.gravityX*p+E*p,P+=u.gravityY*p+R*p,S=c(S,-A,A),P=c(P,-w,w),this.velocityX=S,this.velocityY=P,this.x+=S*p,this.y+=P*p,u.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var O=0;O<g.length;O++){var L=g[O];L.active&&L.update(this,d,p,x)}},setSizeToFrame:function(){},getBounds:function(u){u===void 0&&(u=this.emitter.getWorldTransformMatrix());var d=Math.abs(u.scaleX)*this.scaleX,p=Math.abs(u.scaleY)*this.scaleY,g=this.x,x=this.y,T=this.rotation,S=this.frame.width*d/2,P=this.frame.height*p/2,E=this.bounds,R=new l(g-S,x-P),A=new l(g+S,x-P),w=new l(g-S,x+P),O=new l(g+S,x+P);return T!==0&&(o(R,g,x,T),o(A,g,x,T),o(w,g,x,T),o(O,g,x,T)),u.transformPoint(R.x,R.y,R),u.transformPoint(A.x,A.y,A),u.transformPoint(w.x,w.y,w),u.transformPoint(O.x,O.y,O),E.x=Math.min(R.x,A.x,w.x,O.x),E.y=Math.min(R.y,A.y,w.y,O.y),E.width=Math.max(R.x,A.x,w.x,O.x)-E.x,E.height=Math.max(R.y,A.y,w.y,O.y)-E.y,E},destroy:function(){this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});h.exports=v},73106:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(30891),s=e(74118),a=new f({Extends:c,initialize:function(o,l,v,u,d,p,g,x){d===void 0&&(d=!0),p===void 0&&(p=!0),g===void 0&&(g=!0),x===void 0&&(x=!0),c.call(this,o,l,!0),this.bounds=new s(o,l,v,u),this.collideLeft=d,this.collideRight=p,this.collideTop=g,this.collideBottom=x},update:function(r){var o=this.bounds,l=-r.bounce,v=r.worldPosition;v.x<o.x&&this.collideLeft?(r.x+=o.x-v.x,r.velocityX*=l):v.x>o.right&&this.collideRight&&(r.x-=v.x-o.right,r.velocityX*=l),v.y<o.y&&this.collideTop?(r.y+=o.y-v.y,r.velocityY*=l):v.y>o.bottom&&this.collideBottom&&(r.y-=v.y-o.bottom,r.velocityY*=l)}});h.exports=a},9216:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(64937),s=e(48129),a=e(29538),r=e(69361),o=e(54213),l=e(19737),v=e(93025),u=e(40629),d=e(89980),p=e(72632),g=e(72861),x=e(87811),T=e(53523),S=e(19256),P=e(7782),E=e(71207),R=e(14655),A=e(14909),w=e(68433),O=e(74118),L=e(90205),F=e(66458),I=e(69116),b=e(17922),G=e(69360),N=e(93736),U=e(1071),Y=e(73106),X=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],B=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],z=new f({Extends:d,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.Mask,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Texture,c.Transform,c.Visible,I],initialize:function(V,k,W,H,$){d.call(this,V,"ParticleEmitter"),this.particleClass=A,this.ops={accelerationX:new v("accelerationX",0),accelerationY:new v("accelerationY",0),alpha:new v("alpha",1),angle:new v("angle",{min:0,max:360},!0),bounce:new v("bounce",0),color:new l("color"),delay:new v("delay",0,!0),hold:new v("hold",0,!0),lifespan:new v("lifespan",1e3,!0),maxVelocityX:new v("maxVelocityX",1e4),maxVelocityY:new v("maxVelocityY",1e4),moveToX:new v("moveToX",0),moveToY:new v("moveToY",0),quantity:new v("quantity",1,!0),rotate:new v("rotate",0),scaleX:new v("scaleX",1),scaleY:new v("scaleY",1),speedX:new v("speedX",0,!0),speedY:new v("speedY",0,!0),tint:new v("tint",16777215),x:new v("x",0),y:new v("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new N,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new G,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new E(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(k,W),this.setTexture(H),$&&this.setConfig($)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(D){if(!D)return this;var V=0,k="",W=this.ops;for(V=0;V<B.length;V++)k=B[V],W[k].loadConfig(D);for(V=0;V<X.length;V++)k=X[V],S(D,k)&&(this[k]=p(D,k));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,S(D,"speed")&&(W.speedX.loadConfig(D,"speed"),W.speedY.active=!1),(T(D,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),S(D,"scale")&&(W.scaleX.loadConfig(D,"scale"),W.scaleY.active=!1),S(D,"callbackScope")){var H=p(D,"callbackScope",null);this.emitCallbackScope=H,this.deathCallbackScope=H}if(S(D,"emitZone")&&this.addEmitZone(D.emitZone),S(D,"deathZone")&&this.addDeathZone(D.deathZone),S(D,"bounds")){var $=this.addParticleBounds(D.bounds);$.collideLeft=p(D,"collideLeft",!0),$.collideRight=p(D,"collideRight",!0),$.collideTop=p(D,"collideTop",!0),$.collideBottom=p(D,"collideBottom",!0)}return S(D,"followOffset")&&this.followOffset.setFromObject(p(D,"followOffset",0)),S(D,"texture")&&this.setTexture(D.texture),S(D,"frame")?this.setEmitterFrame(D.frame):S(D,"anim")&&this.setAnim(D.anim),S(D,"reserve")&&this.reserve(D.reserve),S(D,"advance")&&this.fastForward(D.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(u.START,this),this},toJSON:function(){var D=s(this),V=0,k="";for(V=0;V<X.length;V++)k=X[V],D[k]=this[k];var W=this.ops;for(V=0;V<B.length;V++)k=B[V],W[k]&&(D[k]=W[k].toJSON());return W.speedY.active||(delete D.speedX,D.speed=W.speedX.toJSON()),this.scaleX===this.scaleY&&(delete D.scaleX,delete D.scaleY,D.scale=W.scaleX.toJSON()),D},resetCounters:function(D,V){var k=this.counters;k.fill(0),k[0]=D,V&&(k[5]=1)},startFollow:function(D,V,k,W){return V===void 0&&(V=0),k===void 0&&(k=0),W===void 0&&(W=!1),this.follow=D,this.followOffset.set(V,k),this.trackVisible=W,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var D=this.frames,V=D.length,k;return V===1?k=D[0]:this.randomFrame?k=g(D):(k=D[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===V&&(this.currentFrame=0))),this.texture.get(k)},setEmitterFrame:function(D,V,k){V===void 0&&(V=!0),k===void 0&&(k=1),this.randomFrame=V,this.frameQuantity=k,this.currentFrame=0;var W=typeof D;if(this.frames.length=0,Array.isArray(D))this.frames=this.frames.concat(D);else if(W==="string"||W==="number")this.frames.push(D);else if(W==="object"){var H=D;D=p(H,"frames",null),D&&(this.frames=this.frames.concat(D));var $=p(H,"cycle",!1);this.randomFrame=!$,this.frameQuantity=p(H,"quantity",k)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var D=this.anims,V=D.length;if(V===0)return null;if(V===1)return D[0];if(this.randomAnim)return g(D);var k=D[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=U(this.currentAnim+1,0,V-1)),k},setAnim:function(D,V,k){V===void 0&&(V=!0),k===void 0&&(k=1),this.randomAnim=V,this.animQuantity=k,this.currentAnim=0;var W=typeof D;if(this.anims.length=0,Array.isArray(D))this.anims=this.anims.concat(D);else if(W==="string")this.anims.push(D);else if(W==="object"){var H=D;D=p(H,"anims",null),D&&(this.anims=this.anims.concat(D));var $=p(H,"cycle",!1);this.randomAnim=!$,this.animQuantity=p(H,"quantity",k)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(D){return D===void 0&&(D=!0),this.radial=D,this},addParticleBounds:function(D,V,k,W,H,$,K,j){if(typeof D=="object"){var Z=D;D=Z.x,V=Z.y,k=S(Z,"w")?Z.w:Z.width,W=S(Z,"h")?Z.h:Z.height}return this.addParticleProcessor(new Y(D,V,k,W,H,$,K,j))},setParticleSpeed:function(D,V){return V===void 0&&(V=D),this.ops.speedX.onChange(D),D===V?this.ops.speedY.active=!1:this.ops.speedY.onChange(V),this.radial=!0,this},setParticleScale:function(D,V){return D===void 0&&(D=1),V===void 0&&(V=D),this.ops.scaleX.onChange(D),this.ops.scaleY.onChange(V),this},setParticleGravity:function(D,V){return this.gravityX=D,this.gravityY=V,this},setParticleAlpha:function(D){return this.ops.alpha.onChange(D),this},setParticleTint:function(D){return this.ops.tint.onChange(D),this},setEmitterAngle:function(D){return this.ops.angle.onChange(D),this},setParticleLifespan:function(D){return this.ops.lifespan.onChange(D),this},setQuantity:function(D){return this.quantity=D,this},setFrequency:function(D,V){return this.frequency=D,this.flowCounter=D>0?D:0,V&&(this.quantity=V),this},addDeathZone:function(D){Array.isArray(D)||(D=[D]);for(var V,k=this.deathZones,W=0;W<D.length;W++)if(V=D[W],V instanceof r)k.push(V);else if(typeof V.contains=="function")V=new r(V,!0),k.push(V);else{var H=p(V,"type","onEnter"),$=p(V,"source",null);if($&&typeof $.contains=="function"){var K=H==="onEnter";V=new r($,K),k.push(V)}}return V},removeDeathZone:function(D){return F(this.deathZones,D),this},addEmitZone:function(D){Array.isArray(D)||(D=[D]);for(var V,k=this.emitZones,W=[],H=0;H<D.length;H++){if(V=D[H],V instanceof w||V instanceof o)k.push(V);else{var $=p(V,"type","random"),K=p(V,"source",null);if($==="random")V=new w(K);else if($==="edge"){var j=p(V,"quantity",1),Z=p(V,"stepRate",0),J=p(V,"yoyo",!1),Q=p(V,"seamless",!0),q=p(V,"total",-1);V=new o(K,j,Z,J,Q,q)}V&&k.push(V)}W.push(V)}return W},removeEmitZone:function(D){return F(this.emitZones,D),this.zoneIndex=0,this},getEmitZone:function(D){var V=this.emitZones,k=V.length;if(k!==0){var W=V[this.zoneIndex];W.getPoint(D),W.total>-1&&(this.zoneTotal++,this.zoneTotal===W.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===k&&(this.zoneIndex=0)))}},getDeathZone:function(D){for(var V=this.deathZones,k=0;k<V.length;k++){var W=V[k];if(W.willKill(D))return this.emit(u.DEATH_ZONE,this,D,W),!0}return!1},setEmitZone:function(D){var V;return isFinite(D)?V=D:V=this.emitZones.indexOf(D),V>=0&&(this.zoneIndex=V),this},addParticleProcessor:function(D){return this.processors.exists(D)||(D.emitter&&D.emitter.removeParticleProcessor(D),this.processors.add(D),D.emitter=this),D},removeParticleProcessor:function(D){return this.processors.exists(D)&&(this.processors.remove(D,!0),D.emitter=null),D},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(D){return this.addParticleProcessor(new x(D))},reserve:function(D){var V=this.dead;if(this.maxParticles>0){var k=this.getParticleCount();k+D>this.maxParticles&&(D=this.maxParticles-(k+D))}for(var W=0;W<D;W++)V.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(D,V){return D===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof D=="function"&&(this.emitCallback=D,V&&(this.emitCallbackScope=V)),this},onParticleDeath:function(D,V){return D===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof D=="function"&&(this.deathCallback=D,V&&(this.deathCallbackScope=V)),this},killAll:function(){for(var D=this.dead,V=this.alive;V.length>0;)D.push(V.pop());return this},forEachAlive:function(D,V){for(var k=this.alive,W=k.length,H=0;H<W;H++)D.call(V,k[H],this);return this},forEachDead:function(D,V){for(var k=this.dead,W=k.length,H=0;H<W;H++)D.call(V,k[H],this);return this},start:function(D,V){return D===void 0&&(D=0),this.emitting||(D>0&&this.fastForward(D),this.emitting=!0,this.resetCounters(this.frequency,!0),V!==void 0&&(this.duration=Math.abs(V)),this.emit(u.START,this)),this},stop:function(D){return D===void 0&&(D=!1),this.emitting&&(this.emitting=!1,D&&this.killAll(),this.emit(u.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(D,V){return D===void 0&&(D=""),V===void 0&&(V=this.true),this.sortProperty=D,this.sortOrderAsc=V,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(D){return this.sortProperty!==""?D=this.depthSortCallback:D=null,this.sortCallback=D,this},depthSort:function(){return b(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(D,V){var k=this.sortProperty;return this.sortOrderAsc?D[k]-V[k]:V[k]-D[k]},flow:function(D,V,k){return V===void 0&&(V=1),this.emitting=!1,this.frequency=D,this.quantity=V,k!==void 0&&(this.stopAfter=k),this.start()},explode:function(D,V,k){this.frequency=-1,this.resetCounters(-1,!0);var W=this.emitParticle(D,V,k);return this.emit(u.EXPLODE,this,W),W},emitParticleAt:function(D,V,k){return this.emitParticle(k,D,V)},emitParticle:function(D,V,k){if(!this.atLimit()){D===void 0&&(D=this.ops.quantity.onEmit());for(var W=this.dead,H=this.stopAfter,$=this.follow?this.follow.x+this.followOffset.x:V,K=this.follow?this.follow.y+this.followOffset.y:k,j=0;j<D;j++){var Z=W.pop();if(Z||(Z=new this.particleClass(this)),Z.fire($,K)?(this.particleBringToTop?this.alive.push(Z):this.alive.unshift(Z),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,Z,this)):this.dead.push(Z),H>0&&(this.stopCounter++,this.stopCounter>=H)||this.atLimit())break}return Z}},fastForward:function(D,V){V===void 0&&(V=1e3/60);var k=0;for(this.skipping=!0;k<Math.abs(D);)this.preUpdate(0,V),k+=V;return this.skipping=!1,this},preUpdate:function(D,V){V*=this.timeScale;var k=V/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var W=this.getProcessors(),H=this.alive,$=this.dead,K=0,j=[],Z=H.length;for(K=0;K<Z;K++){var J=H[K];J.update(V,k,W)&&j.push({index:K,particle:J})}if(Z=j.length,Z>0){var Q=this.deathCallback,q=this.deathCallbackScope;for(K=Z-1;K>=0;K--){var _=j[K];H.splice(_.index,1),$.push(_.particle),Q&&Q.call(q,_.particle),_.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&H.length===0&&(this.completeFlag=0,this.emit(u.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=V;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=V,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(D){for(var V=this.getWorldTransformMatrix(),k=this.alive,W=k.length,H=[],$=0;$<W;$++){var K=k[$];L(D,K.getBounds(V))&&H.push(K)}return H},getBounds:function(D,V,k,W){D===void 0&&(D=0),V===void 0&&(V=0),k===void 0&&(k=1e3/60),W===void 0&&(W=new O);var H=this.getWorldTransformMatrix(),$,K,j=this.alive,Z=!1;if(W.setTo(0,0,0,0),V>0){var J=0;for(this.skipping=!0;J<Math.abs(V);){for(this.preUpdate(0,k),$=0;$<j.length;$++)K=j[$].getBounds(H),Z?R(W,K):(Z=!0,a(K,W));J+=k}this.skipping=!1}else for($=0;$<j.length;$++)K=j[$].getBounds(H),Z?R(W,K):(Z=!0,a(K,W));return D>0&&P(W,D,D),W},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(D){this.ops.x.onChange(D)}},particleY:{get:function(){return this.ops.y.current},set:function(D){this.ops.y.onChange(D)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(D){this.ops.accelerationX.onChange(D)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(D){this.ops.accelerationY.onChange(D)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(D){this.ops.maxVelocityX.onChange(D)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(D){this.ops.maxVelocityY.onChange(D)}},speed:{get:function(){return this.ops.speedX.current},set:function(D){this.ops.speedX.onChange(D),this.ops.speedY.onChange(D)}},speedX:{get:function(){return this.ops.speedX.current},set:function(D){this.ops.speedX.onChange(D)}},speedY:{get:function(){return this.ops.speedY.current},set:function(D){this.ops.speedY.onChange(D)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(D){this.ops.moveToX.onChange(D)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(D){this.ops.moveToY.onChange(D)}},bounce:{get:function(){return this.ops.bounce.current},set:function(D){this.ops.bounce.onChange(D)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(D){this.ops.scaleX.onChange(D)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(D){this.ops.scaleY.onChange(D)}},particleColor:{get:function(){return this.ops.color.current},set:function(D){this.ops.color.onChange(D)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(D){this.ops.color.setEase(D)}},particleTint:{get:function(){return this.ops.tint.current},set:function(D){this.ops.tint.onChange(D)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(D){this.ops.alpha.onChange(D)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(D){this.ops.lifespan.onChange(D)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(D){this.ops.angle.onChange(D)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(D){this.ops.rotate.onChange(D)}},quantity:{get:function(){return this.ops.quantity.current},set:function(D){this.ops.quantity.onChange(D)}},delay:{get:function(){return this.ops.delay.current},set:function(D){this.ops.delay.onChange(D)}},hold:{get:function(){return this.ops.hold.current},set:function(D){this.ops.hold.onChange(D)}},flowCounter:{get:function(){return this.counters[0]},set:function(D){this.counters[0]=D}},frameCounter:{get:function(){return this.counters[1]},set:function(D){this.counters[1]=D}},animCounter:{get:function(){return this.counters[2]},set:function(D){this.counters[2]=D}},elapsed:{get:function(){return this.counters[3]},set:function(D){this.counters[3]=D}},stopCounter:{get:function(){return this.counters[4]},set:function(D){this.counters[4]=D}},completeFlag:{get:function(){return this.counters[5]},set:function(D){this.counters[5]=D}},zoneIndex:{get:function(){return this.counters[6]},set:function(D){this.counters[6]=D}},zoneTotal:{get:function(){return this.counters[7]},set:function(D){this.counters[7]=D}},currentFrame:{get:function(){return this.counters[8]},set:function(D){this.counters[8]=D}},currentAnim:{get:function(){return this.counters[9]},set:function(D){this.counters[9]=D}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var D,V=this.ops;for(D=0;D<B.length;D++){var k=B[D];V[k].destroy()}for(D=0;D<this.alive.length;D++)this.alive[D].destroy();for(D=0;D<this.dead.length;D++)this.dead[D].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});h.exports=z},10456:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(90205),c=e(69360),s=new c,a=new c,r=new c,o=new c,l=function(v,u,d,p){var g=s,x=a,T=r,S=o;p?(S.loadIdentity(),S.multiply(p),S.translate(u.x,u.y),S.rotate(u.rotation),S.scale(u.scaleX,u.scaleY)):S.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY);var P=v.currentContext,E=d.roundPixels,R=d.alpha,A=u.alpha,w=u.alive,O=w.length,L=u.viewBounds;if(!(!u.visible||O===0||L&&!f(L,d.worldView))){u.sortCallback&&u.depthSort(),d.addToRenderList(u);var F=u.scrollFactorX,I=u.scrollFactorY;P.save(),P.globalCompositeOperation=v.blendModes[u.blendMode];for(var b=0;b<O;b++){var G=w[b],N=G.alpha*A*R;if(!(N<=0||G.scaleX===0||G.scaleY===0)){T.applyITRS(G.x,G.y,G.rotation,G.scaleX,G.scaleY),g.copyFrom(d.matrix),g.multiplyWithOffset(S,-d.scrollX*F,-d.scrollY*I),T.e=G.x,T.f=G.y,g.multiply(T,x);var U=G.frame,Y=U.canvasData;if(Y.width>0&&Y.height>0){var X=-U.halfWidth,B=-U.halfHeight;P.globalAlpha=N,P.save(),x.setToContext(P),E&&(X=Math.round(X),B=Math.round(B)),P.imageSmoothingEnabled=!U.source.scaleMode,P.drawImage(U.source.image,Y.x,Y.y,Y.width,Y.height,X,B,Y.width,Y.height),P.restore()}}}P.restore()}};h.exports=l},765:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(88933),c=e(99325),s=e(20494),a=e(72632),r=e(9216);c.register("particles",function(o,l){o===void 0&&(o={});var v=s(o,"key",null),u=a(o,"config",null),d=new r(this.scene,0,0,v);return l!==void 0&&(o.add=l),f(this.scene,d,o),u&&d.setConfig(u),d})},81212:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61286),c=e(9216);f.register("particles",function(s,a,r,o){return s!==void 0&&typeof s=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new c(this.scene,s,a,r,o))})},69116:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),c=f,s=f;c=e(10275),s=e(10456),h.exports={renderWebGL:c,renderCanvas:s}},10275:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(90205),c=e(69360),s=e(75512),a=new c,r=new c,o=new c,l=new c,v=function(u,d,p,g){var x=u.pipelines.set(d.pipeline),T=a,S=r,P=o,E=l;g?(E.loadIdentity(),E.multiply(g),E.translate(d.x,d.y),E.rotate(d.rotation),E.scale(d.scaleX,d.scaleY)):E.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY);var R=p.roundPixels,A=s.getTintAppendFloatAlpha,w=p.alpha,O=d.alpha,L=d.frame.glTexture;u.pipelines.preBatch(d);var F=d.alive,I=F.length,b=d.viewBounds;if(!(I===0||b&&!f(b,p.worldView))){d.sortCallback&&d.depthSort();var G=x.setGameObject(d,d.frame);p.addToRenderList(d),T.copyFrom(p.matrix),T.multiplyWithOffset(E,-p.scrollX*d.scrollFactorX,-p.scrollY*d.scrollFactorY),u.setBlendMode(d.blendMode),d.mask&&(d.mask.preRenderWebGL(u,d,p),u.pipelines.set(d.pipeline));for(var N=d.tintFill,U=0;U<I;U++){var Y=F[U],X=Y.alpha*O*w;if(!(X<=0||Y.scaleX===0||Y.scaleY===0)){P.applyITRS(Y.x,Y.y,Y.rotation,Y.scaleX,Y.scaleY),P.e=Y.x,P.f=Y.y,T.multiply(P,S);var B=Y.frame,z=-B.halfWidth,D=-B.halfHeight,V=S.setQuad(z,D,z+B.width,D+B.height,R),k=A(Y.tint,X);x.shouldFlush(6)&&(x.flush(),G=x.setGameObject(d,d.frame)),x.batchQuad(d,V[0],V[1],V[2],V[3],V[4],V[5],V[6],V[7],B.u0,B.v0,B.u1,B.v1,k,k,k,k,N,L,G)}}d.mask&&d.mask.postRenderWebGL(u,p),u.pipelines.postBatch(d)}};h.exports=v},30891:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=new f({initialize:function(a,r,o){a===void 0&&(a=0),r===void 0&&(r=0),o===void 0&&(o=!0),this.emitter,this.x=a,this.y=r,this.active=o},update:function(){},destroy:function(){this.emitter=null}});h.exports=c},76100:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="complete"},26677:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="deathzone"},62736:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="explode"},56490:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="start"},85715:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="stop"},40629:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={COMPLETE:e(76100),DEATH_ZONE:e(26677),EXPLODE:e(62736),START:e(56490),STOP:e(85715)}},27684:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={EmitterColorOp:e(19737),EmitterOp:e(93025),Events:e(40629),GravityWell:e(87811),Particle:e(14909),ParticleBounds:e(73106),ParticleEmitter:e(9216),ParticleProcessor:e(30891),Zones:e(25962)}},69361:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=new f({initialize:function(a,r){this.source=a,this.killOnEnter=r},willKill:function(s){var a=s.worldPosition,r=this.source.contains(a.x,a.y);return r&&this.killOnEnter||!r&&!this.killOnEnter}});h.exports=c},54213:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=new f({initialize:function(a,r,o,l,v,u){l===void 0&&(l=!1),v===void 0&&(v=!0),u===void 0&&(u=-1),this.source=a,this.points=[],this.quantity=r,this.stepRate=o,this.yoyo=l,this.counter=-1,this.seamless=v,this._length=0,this._direction=0,this.total=u,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var s=this.points[0],a=this.points[this.points.length-1];s.x===a.x&&s.y===a.y&&this.points.pop()}var r=this._length;return this._length=this.points.length,this._length<r&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(s){return this.source=s,this.updateSource()},getPoint:function(s){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var a=this.points[this.counter];a&&(s.x=a.x,s.y=a.y)}});h.exports=c},68433:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(93736),s=new f({initialize:function(r){this.source=r,this._tempVec=new c,this.total=-1},getPoint:function(a){var r=this._tempVec;this.source.getRandomPoint(r),a.x=r.x,a.y=r.y}});h.exports=s},25962:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={DeathZone:e(69361),EdgeZone:e(54213),RandomZone:e(68433)}},29598:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(64937),s=e(13747),a=new f({Extends:s,Mixins:[c.PathFollower],initialize:function(o,l,v,u,d,p){s.call(this,o,v,u,d,p),this.path=l},preUpdate:function(r,o){this.anims.update(r,o),this.pathUpdate(r)}});h.exports=a},19626:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61286),c=e(29598);f.register("follower",function(s,a,r,o,l){var v=new c(this.scene,s,a,r,o,l);return this.displayList.add(v),this.updateList.add(v),v})},33412:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(16569),c=e(56694),s=e(99425),a=e(15978),r=e(83321),o=e(76583),l=new c({Extends:r,initialize:function(u,d,p,g,x,T,S,P){g||(g="__DEFAULT"),r.call(this,u,d,p,g,x),this.type="Plane",this.anims=new f(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(T,S,P),this.setSizeToFrame(!1),this.setViewHeight()},setGridSize:function(v,u,d){v===void 0&&(v=8),u===void 0&&(u=8),d===void 0&&(d=!1);var p=!1;return d&&(p=!0),this.gridWidth=v,this.gridHeight=u,this.isTiled=d,this.clear(),s({mesh:this,widthSegments:v,heightSegments:u,isOrtho:!1,tile:d,flipY:p}),this},setSizeToFrame:function(v){v===void 0&&(v=!0);var u=this.frame;if(this.setPerspective(this.width/u.width,this.height/u.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!v)return this;var d=this.gridWidth,p=this.gridHeight,g=this.vertices,x=u.u0,T=u.u1,S=u.v0,P=u.v1,E,R,A=0;if(this.isTiled)for(S=u.v1,P=u.v0,R=0;R<p;R++)for(E=0;E<d;E++)g[A++].setUVs(x,P),g[A++].setUVs(x,S),g[A++].setUVs(T,P),g[A++].setUVs(x,S),g[A++].setUVs(T,S),g[A++].setUVs(T,P);else{var w=d+1,O=p+1,L=T-x,F=P-S,I=[];for(R=0;R<O;R++)for(E=0;E<w;E++){var b=x+L*(E/d),G=S+F*(R/p);I.push(b,G)}for(R=0;R<p;R++)for(E=0;E<d;E++){var N=(E+w*R)*2,U=(E+w*(R+1))*2,Y=(E+1+w*(R+1))*2,X=(E+1+w*R)*2;g[A++].setUVs(I[N],I[N+1]),g[A++].setUVs(I[U],I[U+1]),g[A++].setUVs(I[X],I[X+1]),g[A++].setUVs(I[U],I[U+1]),g[A++].setUVs(I[Y],I[Y+1]),g[A++].setUVs(I[X],I[X+1])}}return this},setViewHeight:function(v){v===void 0&&(v=this.frame.height);var u=this.fov*(Math.PI/180);this.viewPosition.z=this.height/v/Math.tan(u/2),this.dirtyCache[10]=1},createCheckerboard:function(v,u,d,p,g){v===void 0&&(v=16777215),u===void 0&&(u=255),d===void 0&&(d=255),p===void 0&&(p=255),g===void 0&&(g=128);var x=this.scene.sys.renderer.gl,T=x.createTexture();x.activeTexture(x.TEXTURE0),x.bindTexture(x.TEXTURE_2D,T),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,x.NEAREST),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,x.NEAREST);for(var S=a(v),P=a(u),E=[],R=0;R<16;R++)for(var A=0;A<16;A++)R<8&&A<8||R>7&&A>7?E.push(S.r,S.g,S.b,d):E.push(P.r,P.g,P.b,p);x.texImage2D(x.TEXTURE_2D,0,x.RGBA,16,16,0,x.RGBA,x.UNSIGNED_BYTE,new Uint8Array(E)),T.isAlphaPremultiplied=!0,T.isRenderTexture=!1,T.width=16,T.height=16;var w=this.scene.sys.textures.addGLTexture(o(),T,16,16);return this.removeCheckerboard(),this._checkerboard=w,x.bindTexture(x.TEXTURE_2D,null),this.setTexture(w),this.setSizeToFrame(),this.setViewHeight(g),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(v,u){return this.anims.play(v,u)},playReverse:function(v,u){return this.anims.playReverse(v,u)},playAfterDelay:function(v,u){return this.anims.playAfterDelay(v,u)},playAfterRepeat:function(v,u){return this.anims.playAfterRepeat(v,u)},stop:function(){return this.anims.stop()},stopAfterDelay:function(v){return this.anims.stopAfterDelay(v)},stopAfterRepeat:function(v){return this.anims.stopAfterRepeat(v)},stopOnFrame:function(v){return this.anims.stopOnFrame(v)},preUpdate:function(v,u){r.prototype.preUpdate.call(this,v,u),this.anims.update(v,u)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});h.exports=l},10912:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(88933),c=e(32291),s=e(99325),a=e(20494),r=e(10850),o=e(33412);s.register("plane",function(l,v){l===void 0&&(l={});var u=a(l,"key",null),d=a(l,"frame",null),p=r(l,"width",8),g=r(l,"height",8),x=r(l,"tile",!1),T=new o(this.scene,0,0,u,d,p,g,x);v!==void 0&&(l.add=v);var S=r(l,"checkerboard",null);if(S){var P=r(S,"color1",16777215),E=r(S,"color2",255),R=r(S,"alpha1",255),A=r(S,"alpha2",255),w=r(S,"height",128);T.createCheckerboard(P,E,R,A,w)}return f(this.scene,T,l),c(T,l),T})},58322:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(33412),c=e(61286);c.register("plane",function(s,a,r,o,l,v,u){return this.displayList.add(new f(this.scene,s,a,r,o,l,v,u))})},13171:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(64937),s=e(89980),a=e(74853),r=e(65641),o=e(71606),l=new f({Extends:s,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.Mask,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Transform,c.Visible,o],initialize:function(u,d,p,g,x,T,S){g===void 0&&(g=16777215),x===void 0&&(x=128),T===void 0&&(T=1),S===void 0&&(S=.1),s.call(this,u,"PointLight"),this.initPipeline(r.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(d,p),this.color=a(g),this.intensity=T,this.attenuation=S,this.width=x*2,this.height=x*2,this._radius=x},radius:{get:function(){return this._radius},set:function(v){this._radius=v,this.width=v*2,this.height=v*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});h.exports=l},162:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(88933),c=e(99325),s=e(20494),a=e(13171);c.register("pointlight",function(r,o){r===void 0&&(r={});var l=s(r,"color",16777215),v=s(r,"radius",128),u=s(r,"intensity",1),d=s(r,"attenuation",.1),p=new a(this.scene,0,0,l,v,u,d);return o!==void 0&&(r.add=o),f(this.scene,p,r),p})},91201:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61286),c=e(13171);f.register("pointlight",function(s,a,r,o,l,v){return this.displayList.add(new c(this.scene,s,a,r,o,l,v))})},71606:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),c=f,s=f;c=e(80590),h.exports={renderWebGL:c,renderCanvas:s}},80590:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(73329),c=function(s,a,r,o){r.addToRenderList(a);var l=s.pipelines.set(a.pipeline),v=f(a,r,o).calc,u=a.width,d=a.height,p=-a._radius,g=-a._radius,x=p+u,T=g+d,S=v.getX(0,0),P=v.getY(0,0),E=v.getX(p,g),R=v.getY(p,g),A=v.getX(p,T),w=v.getY(p,T),O=v.getX(x,T),L=v.getY(x,T),F=v.getX(x,g),I=v.getY(x,g);s.pipelines.preBatch(a),l.batchPointLight(a,r,E,R,A,w,O,L,F,I,S,P),s.pipelines.postBatch(a)};h.exports=c},15996:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(845),s=e(1539),a=new f({Extends:s,initialize:function(o,l,v,u,d){l===void 0&&(l=0),v===void 0&&(v=0),u===void 0&&(u=32),d===void 0&&(d=32);var p=new c(o.sys.textures,"",u,d);s.call(this,o,l,v,p),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(r,o){this.width=r,this.height=o,this.texture.setSize(r,o),this.updateDisplayOrigin();var l=this.input;return l&&!l.customHitArea&&(l.hitArea.width=r,l.hitArea.height=o),this},resize:function(r,o){return this.setSize(r,o),this},saveTexture:function(r){var o=this.texture;return o.key=r,o.manager.addDynamicTexture(o)&&(this._saved=!0),o},fill:function(r,o,l,v,u,d){return this.texture.fill(r,o,l,v,u,d),this},clear:function(){return this.texture.clear(),this},stamp:function(r,o,l,v,u){return this.texture.stamp(r,o,l,v,u),this},erase:function(r,o,l){return this.texture.erase(r,o,l),this},draw:function(r,o,l,v,u){return this.texture.draw(r,o,l,v,u),this},drawFrame:function(r,o,l,v,u,d){return this.texture.drawFrame(r,o,l,v,u,d),this},repeat:function(r,o,l,v,u,d,p,g,x){return this.texture.repeat(r,o,l,v,u,d,p,g,x),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(r,o,l,v,u){return this.texture.batchDraw(r,o,l,v,u),this},batchDrawFrame:function(r,o,l,v,u,d){return this.texture.batchDrawFrame(r,o,l,v,u,d),this},endDraw:function(r){return this.texture.endDraw(r),this},snapshotArea:function(r,o,l,v,u,d,p){return this.texture.snapshotArea(r,o,l,v,u,d,p),this},snapshot:function(r,o,l){return this.snapshotArea(0,0,this.width,this.height,r,o,l)},snapshotPixel:function(r,o,l){return this.snapshotArea(r,o,1,1,l,"pixel")},preDestroy:function(){this._saved||this.texture.destroy()}});h.exports=a},85692:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(88933),c=e(99325),s=e(20494),a=e(15996);c.register("renderTexture",function(r,o){r===void 0&&(r={});var l=s(r,"x",0),v=s(r,"y",0),u=s(r,"width",32),d=s(r,"height",32),p=new a(this.scene,l,v,u,d);return o!==void 0&&(r.add=o),f(this.scene,p,r),p})},29599:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61286),c=e(15996);f.register("renderTexture",function(s,a,r,o){return this.displayList.add(new c(this.scene,s,a,r,o))})},79968:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(16569),c=e(56694),s=e(64937),a=e(89980),r=e(65641),o=e(58912),l=e(93736),v=new c({Extends:a,Mixins:[s.AlphaSingle,s.BlendMode,s.Depth,s.Flip,s.Mask,s.Pipeline,s.PostPipeline,s.Size,s.Texture,s.Transform,s.Visible,s.ScrollFactor,o],initialize:function(d,p,g,x,T,S,P,E,R){x===void 0&&(x="__DEFAULT"),S===void 0&&(S=2),P===void 0&&(P=!0),a.call(this,d,"Rope"),this.anims=new f(this),this.points=S,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=x==="__DEFAULT",this.dirty=!1,this.horizontal=P,this._flipX=!1,this._flipY=!1,this._perp=new l,this.debugCallback=null,this.debugGraphic=null,this.setTexture(x,T),this.setPosition(p,g),this.setSizeToFrame(),this.initPipeline(r.ROPE_PIPELINE),Array.isArray(S)&&this.resizeArrays(S.length),this.setPoints(S,E,R),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(u,d){var p=this.anims.currentFrame;this.anims.update(u,d),this.anims.currentFrame!==p&&(this.updateUVs(),this.updateVertices())},play:function(u,d,p){return this.anims.play(u,d,p),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(u,d,p){return u===void 0&&(u=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(u,d,p))},setVertical:function(u,d,p){return u===void 0&&(u=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(u,d,p)):this},setTintFill:function(u){return u===void 0&&(u=!1),this.tintFill=u,this},setAlphas:function(u,d){var p=this.points.length;if(p<1)return this;var g=this.alphas;u===void 0?u=[1]:!Array.isArray(u)&&d===void 0&&(u=[u]);var x,T=0;if(d!==void 0)for(x=0;x<p;x++)T=x*2,g[T]=u,g[T+1]=d;else if(u.length===p)for(x=0;x<p;x++)T=x*2,g[T]=u[x],g[T+1]=u[x];else{var S=u[0];for(x=0;x<p;x++)T=x*2,u.length>T&&(S=u[T]),g[T]=S,u.length>T+1&&(S=u[T+1]),g[T+1]=S}return this},setColors:function(u){var d=this.points.length;if(d<1)return this;var p=this.colors;u===void 0?u=[16777215]:Array.isArray(u)||(u=[u]);var g,x=0;if(u.length===d)for(g=0;g<d;g++)x=g*2,p[x]=u[g],p[x+1]=u[g];else{var T=u[0];for(g=0;g<d;g++)x=g*2,u.length>x&&(T=u[x]),p[x]=T,u.length>x+1&&(T=u[x+1]),p[x+1]=T}return this},setPoints:function(u,d,p){if(u===void 0&&(u=2),typeof u=="number"){var g=u;g<2&&(g=2),u=[];var x,T,S;if(this.horizontal)for(S=-this.frame.halfWidth,T=this.frame.width/(g-1),x=0;x<g;x++)u.push({x:S+x*T,y:0});else for(S=-this.frame.halfHeight,T=this.frame.height/(g-1),x=0;x<g;x++)u.push({x:0,y:S+x*T})}var P=u.length,E=this.points.length;return P<1?(console.warn("Rope: Not enough points given"),this):(P===1&&(u.unshift({x:0,y:0}),P++),E!==P&&this.resizeArrays(P),this.dirty=!0,this.points=u,this.updateUVs(),d!=null&&this.setColors(d),p!=null&&this.setAlphas(p),this)},updateUVs:function(){for(var u=this.uv,d=this.points.length,p=this.frame.u0,g=this.frame.v0,x=this.frame.u1,T=this.frame.v1,S=(x-p)/(d-1),P=(T-g)/(d-1),E=0;E<d;E++){var R=E*4,A,w,O,L;this.horizontal?(this._flipX?(A=x-E*S,O=x-E*S):(A=p+E*S,O=p+E*S),this._flipY?(w=T,L=g):(w=g,L=T)):(this._flipX?(A=p,O=x):(A=x,O=p),this._flipY?(w=T-E*P,L=T-E*P):(w=g+E*P,L=g+E*P)),u[R+0]=A,u[R+1]=w,u[R+2]=O,u[R+3]=L}return this},resizeArrays:function(u){var d=this.colors,p=this.alphas;this.vertices=new Float32Array(u*4),this.uv=new Float32Array(u*4),d=new Uint32Array(u*2),p=new Float32Array(u*2);for(var g=0;g<u*2;g++)d[g]=16777215,p[g]=1;return this.colors=d,this.alphas=p,this.dirty=!0,this},updateVertices:function(){var u=this._perp,d=this.points,p=this.vertices,g=d.length;if(this.dirty=!1,!(g<1)){for(var x,T=d[0],S=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,P=0;P<g;P++){var E=d[P],R=P*4;P<g-1?x=d[P+1]:x=E,u.x=x.y-T.y,u.y=-(x.x-T.x);var A=u.length();u.x/=A,u.y/=A,u.x*=S,u.y*=S,p[R]=E.x+u.x,p[R+1]=E.y+u.y,p[R+2]=E.x-u.x,p[R+3]=E.y-u.y,T=E}return this}},setDebug:function(u,d){return this.debugGraphic=u,!u&&!d?this.debugCallback=null:d?this.debugCallback=d:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(u,d,p){var g=u.debugGraphic,x=p[0],T=p[1],S=p[2],P=p[3];g.lineBetween(x,T,S,P);for(var E=4;E<d;E+=4){var R=p[E+0],A=p[E+1],w=p[E+2],O=p[E+3];g.lineBetween(x,T,R,A),g.lineBetween(S,P,w,O),g.lineBetween(S,P,R,A),g.lineBetween(R,A,w,O),x=R,T=A,S=w,P=O}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(u){return this._flipX=u,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(u){return this._flipY=u,this.updateUVs()}}});h.exports=v},44598:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){};h.exports=y},96027:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(88933),c=e(99325),s=e(20494),a=e(10850),r=e(79968);c.register("rope",function(o,l){o===void 0&&(o={});var v=s(o,"key",null),u=s(o,"frame",null),d=s(o,"horizontal",!0),p=a(o,"points",void 0),g=a(o,"colors",void 0),x=a(o,"alphas",void 0),T=new r(this.scene,0,0,v,u,p,d,g,x);return l!==void 0&&(o.add=l),f(this.scene,T,o),T})},31982:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79968),c=e(61286);c.register("rope",function(s,a,r,o,l,v,u,d){return this.displayList.add(new f(this.scene,s,a,r,o,l,v,u,d))})},58912:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),c=f,s=f;c=e(49489),s=e(44598),h.exports={renderWebGL:c,renderCanvas:s}},49489:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(73329),c=e(75512),s=function(a,r,o,l){o.addToRenderList(r);var v=a.pipelines.set(r.pipeline,r),u=f(r,o,l).calc,d=r.vertices,p=r.uv,g=r.colors,x=r.alphas,T=r.alpha,S=c.getTintAppendFloatAlpha,P=o.roundPixels,E=d.length,R=Math.floor(E*.5);v.flush(),a.pipelines.preBatch(r);var A=v.setGameObject(r),w=v.vertexViewF32,O=v.vertexViewU32,L=v.vertexCount*v.currentShader.vertexComponentCount-1,F=0,I=r.tintFill;r.dirty&&r.updateVertices();for(var b=r.debugCallback,G=[],N=0;N<E;N+=2){var U=d[N+0],Y=d[N+1],X=U*u.a+Y*u.c+u.e,B=U*u.b+Y*u.d+u.f;P&&(X=Math.round(X),B=Math.round(B)),w[++L]=X,w[++L]=B,w[++L]=p[N+0],w[++L]=p[N+1],w[++L]=A,w[++L]=I,O[++L]=S(g[F],o.alpha*(x[F]*T)),F++,b&&(G[N+0]=X,G[N+1]=B)}b&&b.call(r,r,E,G),v.vertexCount+=R,v.currentBatch.count=v.vertexCount-v.currentBatch.start,a.pipelines.postBatch(r)};h.exports=s},27902:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(64937),s=e(89980),a=e(72632),r=e(98611),o=e(22440),l=e(24252),v=e(69360),u=new f({Extends:s,Mixins:[c.ComputedSize,c.Depth,c.GetBounds,c.Mask,c.Origin,c.ScrollFactor,c.Transform,c.Visible,l],initialize:function(p,g,x,T,S,P,E,R){x===void 0&&(x=0),T===void 0&&(T=0),S===void 0&&(S=128),P===void 0&&(P=128),s.call(this,p,"Shader"),this.blendMode=-1,this.shader;var A=p.sys.renderer;this.renderer=A,this.gl=A.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=A.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new v,this._tempMatrix2=new v,this._tempMatrix3=new v,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=A.width,this._rendererHeight=A.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(x,T),this.setSize(S,P),this.setOrigin(.5,.5),this.setShader(g,E,R)},willRender:function(d){return this.renderToTexture?!0:!(s.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&d.id)},setRenderToTexture:function(d,p){if(p===void 0&&(p=!1),!this.renderToTexture){var g=this.width,x=this.height,T=this.renderer;this.glTexture=T.createTextureFromSource(null,g,x,0),this.glTexture.flipY=p,this.framebuffer=T.createFramebuffer(g,x,this.glTexture,!1),this._rendererWidth=g,this._rendererHeight=x,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),d&&(this.texture=this.scene.sys.textures.addGLTexture(d,this.glTexture,g,x))}return this.shader&&(T.pipelines.clear(),this.load(),this.flush(),T.pipelines.rebind()),this},setShader:function(d,p,g){if(p===void 0&&(p=[]),typeof d=="string"){var x=this.scene.sys.cache.shader;if(!x.has(d))return console.warn("Shader missing: "+d),this;this.shader=x.get(d)}else this.shader=d;var T=this.gl,S=this.renderer;this.program&&T.deleteProgram(this.program);var P=S.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);T.uniformMatrix4fv(T.getUniformLocation(P,"uViewMatrix"),!1,this.viewMatrix),T.uniformMatrix4fv(T.getUniformLocation(P,"uProjectionMatrix"),!1,this.projectionMatrix),T.uniform2f(T.getUniformLocation(P,"uResolution"),this.width,this.height),this.program=P;var E=new Date,R={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[E.getFullYear(),E.getMonth(),E.getDate(),E.getHours()*60*60+E.getMinutes()*60+E.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=r(!0,{},this.shader.uniforms,R):this.uniforms=R;for(var A=0;A<4;A++)p[A]&&this.setSampler2D("iChannel"+A,p[A],A,g);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(d){return this.pointer=d,this},projOrtho:function(d,p,g,x){var T=-1e3,S=1e3,P=1/(d-p),E=1/(g-x),R=1/(T-S),A=this.projectionMatrix;A[0]=-2*P,A[5]=-2*E,A[10]=2*R,A[12]=(d+p)*P,A[13]=(x+g)*E,A[14]=(S+T)*R;var w=this.program,O=this.gl,L=this.renderer;L.setProgram(w),O.uniformMatrix4fv(O.getUniformLocation(w,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=p,this._rendererHeight=g},initUniforms:function(){var d=this.gl,p=this.renderer.glFuncMap,g=this.program;this._textureCount=0;for(var x in this.uniforms){var T=this.uniforms[x],S=T.type,P=p[S];T.uniformLocation=d.getUniformLocation(g,x),S!=="sampler2D"&&(T.glMatrix=P.matrix,T.glValueLength=P.length,T.glFunc=P.func)}},setSampler2DBuffer:function(d,p,g,x,T,S){T===void 0&&(T=0),S===void 0&&(S={});var P=this.uniforms[d];return P.value=p,S.width=g,S.height=x,P.textureData=S,this._textureCount=T,this.initSampler2D(P),this},setSampler2D:function(d,p,g,x){g===void 0&&(g=0);var T=this.scene.sys.textures;if(T.exists(p)){var S=T.getFrame(p);if(S.glTexture&&S.glTexture.isRenderTexture)return this.setSampler2DBuffer(d,S.glTexture,S.width,S.height,g,x);var P=this.uniforms[d],E=S.source;P.textureKey=p,P.source=E.image,P.value=S.glTexture,E.isGLTexture&&(x||(x={}),x.width=E.width,x.height=E.height),x&&(P.textureData=x),this._textureCount=g,this.initSampler2D(P)}return this},setUniform:function(d,p){return o(this.uniforms,d,p),this},getUniform:function(d){return a(this.uniforms,d,null)},setChannel0:function(d,p){return this.setSampler2D("iChannel0",d,0,p)},setChannel1:function(d,p){return this.setSampler2D("iChannel1",d,1,p)},setChannel2:function(d,p){return this.setSampler2D("iChannel2",d,2,p)},setChannel3:function(d,p){return this.setSampler2D("iChannel3",d,3,p)},initSampler2D:function(d){if(d.value){var p=this.gl;p.activeTexture(p.TEXTURE0+this._textureCount),p.bindTexture(p.TEXTURE_2D,d.value);var g=d.textureData;if(g&&!d.value.isRenderTexture){var x=p[a(g,"magFilter","linear").toUpperCase()],T=p[a(g,"minFilter","linear").toUpperCase()],S=p[a(g,"wrapS","repeat").toUpperCase()],P=p[a(g,"wrapT","repeat").toUpperCase()],E=p[a(g,"format","rgba").toUpperCase()];if(g.repeat&&(S=p.REPEAT,P=p.REPEAT),p.pixelStorei(p.UNPACK_FLIP_Y_WEBGL,!!g.flipY),g.width){var R=a(g,"width",512),A=a(g,"height",2),w=a(g,"border",0);p.texImage2D(p.TEXTURE_2D,0,E,R,A,w,E,p.UNSIGNED_BYTE,null)}else p.texImage2D(p.TEXTURE_2D,0,E,p.RGBA,p.UNSIGNED_BYTE,d.source);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,x),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,T),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,S),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,P)}this.renderer.setProgram(this.program),p.uniform1i(d.uniformLocation,this._textureCount),this._textureCount++}},syncUniforms:function(){var d=this.gl,p=this.uniforms,g,x,T,S,P,E=0;for(var R in p)g=p[R],T=g.glFunc,x=g.glValueLength,S=g.uniformLocation,P=g.value,P!==null&&(x===1?g.glMatrix?T.call(d,S,g.transpose,P):T.call(d,S,P):x===2?T.call(d,S,P.x,P.y):x===3?T.call(d,S,P.x,P.y,P.z):x===4?T.call(d,S,P.x,P.y,P.z,P.w):g.type==="sampler2D"&&(d.activeTexture(d.TEXTURE0+E),d.bindTexture(d.TEXTURE_2D,P),d.uniform1i(S,E),E++))},load:function(d){var p=this.gl,g=this.width,x=this.height,T=this.renderer,S=this.program,P=this.viewMatrix;if(!this.renderToTexture){var E=-this._displayOriginX,R=-this._displayOriginY;P[0]=d[0],P[1]=d[1],P[4]=d[2],P[5]=d[3],P[8]=d[4],P[9]=d[5],P[12]=P[0]*E+P[4]*R,P[13]=P[1]*E+P[5]*R}p.useProgram(S),p.uniformMatrix4fv(p.getUniformLocation(S,"uViewMatrix"),!1,P),p.uniform2f(p.getUniformLocation(S,"uResolution"),this.width,this.height);var A=this.uniforms,w=A.resolution;w.value.x=g,w.value.y=x,A.time.value=T.game.loop.getDuration();var O=this.pointer;if(O){var L=A.mouse,F=O.x/g,I=1-O.y/x;L.value.x=F.toFixed(2),L.value.y=I.toFixed(2)}this.syncUniforms()},flush:function(){var d=this.width,p=this.height,g=this.program,x=this.gl,T=this.vertexBuffer,S=this.renderer,P=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(S.setFramebuffer(this.framebuffer),x.clearColor(0,0,0,0),x.clear(x.COLOR_BUFFER_BIT)),x.bindBuffer(x.ARRAY_BUFFER,T);var E=x.getAttribLocation(g,"inPosition");E!==-1&&(x.enableVertexAttribArray(E),x.vertexAttribPointer(E,2,x.FLOAT,!1,P,0));var R=this.vertexViewF32;R[3]=p,R[4]=d,R[5]=p,R[8]=d,R[9]=p,R[10]=d;var A=6;x.bufferSubData(x.ARRAY_BUFFER,0,this.bytes.subarray(0,A*P)),x.drawArrays(x.TRIANGLES,0,A),this.renderToTexture&&S.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},preDestroy:function(){var d=this.gl;d.deleteProgram(this.program),d.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null)}});h.exports=u},10612:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){};h.exports=y},13908:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(88933),c=e(99325),s=e(20494),a=e(27902);c.register("shader",function(r,o){r===void 0&&(r={});var l=s(r,"key",null),v=s(r,"x",0),u=s(r,"y",0),d=s(r,"width",128),p=s(r,"height",128),g=new a(this.scene,l,v,u,d,p);return o!==void 0&&(r.add=o),f(this.scene,g,r),g})},51979:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(27902),c=e(61286);c.register("shader",function(s,a,r,o,l,v,u){return this.displayList.add(new f(this.scene,s,a,r,o,l,v,u))})},24252:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),c=f,s=f;c=e(19782),s=e(10612),h.exports={renderWebGL:c,renderCanvas:s}},19782:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(73329),c=function(s,a,r,o){if(a.shader){if(r.addToRenderList(a),s.pipelines.clear(),a.renderToTexture)a.load(),a.flush();else{var l=f(a,r,o).calc;(s.width!==a._rendererWidth||s.height!==a._rendererHeight)&&a.projOrtho(0,s.width,s.height,0),a.load(l.matrix),a.flush()}s.pipelines.rebind()}};h.exports=c},19543:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(75512),c=function(s,a,r,o,l,v){for(var u=f.getTintAppendFloatAlpha(r.fillColor,r.fillAlpha*o),d=r.pathData,p=r.pathIndexes,g=0;g<p.length;g+=3){var x=p[g]*2,T=p[g+1]*2,S=p[g+2]*2,P=d[x+0]-l,E=d[x+1]-v,R=d[T+0]-l,A=d[T+1]-v,w=d[S+0]-l,O=d[S+1]-v,L=a.getX(P,E),F=a.getY(P,E),I=a.getX(R,A),b=a.getY(R,A),G=a.getX(w,O),N=a.getY(w,O);s.batchTri(r,L,F,I,b,G,N,0,0,1,1,u,u,u,2)}};h.exports=c},15608:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){var a=c||f.fillColor,r=s||f.fillAlpha,o=(a&16711680)>>>16,l=(a&65280)>>>8,v=a&255;e.fillStyle="rgba("+o+","+l+","+v+","+r+")"};h.exports=y},17876:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){var a=c||f.strokeColor,r=s||f.strokeAlpha,o=(a&16711680)>>>16,l=(a&65280)>>>8,v=a&255;e.strokeStyle="rgba("+o+","+l+","+v+","+r+")",e.lineWidth=f.lineWidth};h.exports=y},91461:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(64937),s=e(89980),a=e(88829),r=new f({Extends:s,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Transform,c.Visible],initialize:function(l,v,u){v===void 0&&(v="Shape"),s.call(this,l,v),this.geom=u,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new a,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(o,l){return l===void 0&&(l=1),o===void 0?this.isFilled=!1:(this.fillColor=o,this.fillAlpha=l,this.isFilled=!0),this},setStrokeStyle:function(o,l,v){return v===void 0&&(v=1),o===void 0?this.isStroked=!1:(this.lineWidth=o,this.strokeColor=l,this.strokeAlpha=v,this.isStroked=!0),this},setClosePath:function(o){return this.closePath=o,this},setSize:function(o,l){return this.width=o,this.height=l,this},setDisplaySize:function(o,l){return this.displayWidth=o,this.displayHeight=l,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(o){this.scaleX=o/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(o){this.scaleY=o/this.height}}});h.exports=r},50262:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(75512),c=function(s,a,r,o,l){var v=s.strokeTint,u=f.getTintAppendFloatAlpha(a.strokeColor,a.strokeAlpha*r);v.TL=u,v.TR=u,v.BL=u,v.BR=u;var d=a.pathData,p=d.length-1,g=a.lineWidth,x=g/2,T=d[0]-o,S=d[1]-l;a.closePath||(p-=2);for(var P=2;P<p;P+=2){var E=d[P]-o,R=d[P+1]-l;s.batchLine(T,S,E,R,x,x,g,P-2,a.closePath?P===p-1:!1),T=E,S=R}};h.exports=c},28593:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(2213),c=e(56694),s=e(75606),a=e(11117),r=e(26673),o=e(83392),l=e(91461),v=new c({Extends:l,Mixins:[f],initialize:function(d,p,g,x,T,S,P,E,R){p===void 0&&(p=0),g===void 0&&(g=0),x===void 0&&(x=128),T===void 0&&(T=0),S===void 0&&(S=360),P===void 0&&(P=!1),l.call(this,d,"Arc",new r(0,0,x)),this._startAngle=T,this._endAngle=S,this._anticlockwise=P,this._iterations=.01,this.setPosition(p,g);var A=this.geom.radius*2;this.setSize(A,A),E!==void 0&&this.setFillStyle(E,R),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(u){this._iterations=u,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(u){this.geom.radius=u;var d=u*2;this.setSize(d,d),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(u){this._startAngle=u,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(u){this._endAngle=u,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(u){this._anticlockwise=u,this.updateData()}},setRadius:function(u){return this.radius=u,this},setIterations:function(u){return u===void 0&&(u=.01),this.iterations=u,this},setStartAngle:function(u,d){return this._startAngle=u,d!==void 0&&(this._anticlockwise=d),this.updateData()},setEndAngle:function(u,d){return this._endAngle=u,d!==void 0&&(this._anticlockwise=d),this.updateData()},updateData:function(){var u=this._iterations,d=u,p=this.geom.radius,g=s(this._startAngle),x=s(this._endAngle),T=this._anticlockwise,S=p,P=p;x-=g,T?x<-o.PI2?x=-o.PI2:x>0&&(x=-o.PI2+x%o.PI2):x>o.PI2?x=o.PI2:x<0&&(x=o.PI2+x%o.PI2);for(var E=[S+Math.cos(g)*p,P+Math.sin(g)*p],R;d<1;)R=x*d+g,E.push(S+Math.cos(R)*p,P+Math.sin(R)*p),d+=u;return R=x+g,E.push(S+Math.cos(R)*p,P+Math.sin(R)*p),E.push(S+Math.cos(g)*p,P+Math.sin(g)*p),this.pathIndexes=a(E),this.pathData=E,this}});h.exports=v},23560:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(75606),c=e(15608),s=e(17876),a=e(49584),r=function(o,l,v,u){v.addToRenderList(l);var d=o.currentContext;if(a(o,d,l,v,u)){var p=l.radius;d.beginPath(),d.arc(p-l.originX*(p*2),p-l.originY*(p*2),p,f(l._startAngle),f(l._endAngle),l.anticlockwise),l.closePath&&d.closePath(),l.isFilled&&(c(d,l),d.fill()),l.isStroked&&(s(d,l),d.stroke()),d.restore()}};h.exports=r},10369:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(28593),c=e(61286);c.register("arc",function(s,a,r,o,l,v,u,d){return this.displayList.add(new f(this.scene,s,a,r,o,l,v,u,d))}),c.register("circle",function(s,a,r,o,l){return this.displayList.add(new f(this.scene,s,a,r,0,360,!1,o,l))})},2213:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),c=f,s=f;c=e(58356),s=e(23560),h.exports={renderWebGL:c,renderCanvas:s}},58356:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(73329),c=e(19543),s=e(50262),a=function(r,o,l,v){l.addToRenderList(o);var u=r.pipelines.set(o.pipeline),d=f(o,l,v),p=u.calcMatrix.copyFrom(d.calc),g=o._displayOriginX,x=o._displayOriginY,T=l.alpha*o.alpha;r.pipelines.preBatch(o),o.isFilled&&c(u,p,o,T,g,x),o.isStroked&&s(u,o,T,g,x),r.pipelines.postBatch(o)};h.exports=a},15220:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(87203),s=e(11117),a=e(74118),r=e(91461),o=new f({Extends:r,Mixins:[c],initialize:function(v,u,d,p,g,x){u===void 0&&(u=0),d===void 0&&(d=0),r.call(this,v,"Curve",p),this._smoothness=32,this._curveBounds=new a,this.closePath=!1,this.setPosition(u,d),g!==void 0&&this.setFillStyle(g,x),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(l){this._smoothness=l,this.updateData()}},setSmoothness:function(l){return this._smoothness=l,this.updateData()},updateData:function(){var l=this._curveBounds,v=this._smoothness;this.geom.getBounds(l,v),this.setSize(l.width,l.height),this.updateDisplayOrigin();for(var u=[],d=this.geom.getPoints(v),p=0;p<d.length;p++)u.push(d[p].x,d[p].y);return u.push(d[0].x,d[0].y),this.pathIndexes=s(u),this.pathData=u,this}});h.exports=o},4024:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(15608),c=e(17876),s=e(49584),a=function(r,o,l,v){l.addToRenderList(o);var u=r.currentContext;if(s(r,u,o,l,v)){var d=o._displayOriginX+o._curveBounds.x,p=o._displayOriginY+o._curveBounds.y,g=o.pathData,x=g.length-1,T=g[0]-d,S=g[1]-p;u.beginPath(),u.moveTo(T,S),o.closePath||(x-=2);for(var P=2;P<x;P+=2){var E=g[P]-d,R=g[P+1]-p;u.lineTo(E,R)}o.closePath&&u.closePath(),o.isFilled&&(f(u,o),u.fill()),o.isStroked&&(c(u,o),u.stroke()),u.restore()}};h.exports=a},10147:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61286),c=e(15220);f.register("curve",function(s,a,r,o,l){return this.displayList.add(new c(this.scene,s,a,r,o,l))})},87203:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),c=f,s=f;c=e(82958),s=e(4024),h.exports={renderWebGL:c,renderCanvas:s}},82958:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(19543),c=e(73329),s=e(50262),a=function(r,o,l,v){l.addToRenderList(o);var u=r.pipelines.set(o.pipeline),d=c(o,l,v),p=u.calcMatrix.copyFrom(d.calc),g=o._displayOriginX+o._curveBounds.x,x=o._displayOriginY+o._curveBounds.y,T=l.alpha*o.alpha;r.pipelines.preBatch(o),o.isFilled&&f(u,p,o,T,g,x),o.isStroked&&s(u,o,T,g,x),r.pipelines.postBatch(o)};h.exports=a},28591:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(11117),s=e(84171),a=e(95669),r=e(91461),o=new f({Extends:r,Mixins:[s],initialize:function(v,u,d,p,g,x,T){u===void 0&&(u=0),d===void 0&&(d=0),p===void 0&&(p=128),g===void 0&&(g=128),r.call(this,v,"Ellipse",new a(p/2,g/2,p,g)),this._smoothness=64,this.setPosition(u,d),this.width=p,this.height=g,x!==void 0&&this.setFillStyle(x,T),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(l){this._smoothness=l,this.updateData()}},setSize:function(l,v){return this.width=l,this.height=v,this.geom.setPosition(l/2,v/2),this.geom.setSize(l,v),this.updateData()},setSmoothness:function(l){return this._smoothness=l,this.updateData()},updateData:function(){for(var l=[],v=this.geom.getPoints(this._smoothness),u=0;u<v.length;u++)l.push(v[u].x,v[u].y);return l.push(v[0].x,v[0].y),this.pathIndexes=c(l),this.pathData=l,this}});h.exports=o},55881:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(15608),c=e(17876),s=e(49584),a=function(r,o,l,v){l.addToRenderList(o);var u=r.currentContext;if(s(r,u,o,l,v)){var d=o._displayOriginX,p=o._displayOriginY,g=o.pathData,x=g.length-1,T=g[0]-d,S=g[1]-p;u.beginPath(),u.moveTo(T,S),o.closePath||(x-=2);for(var P=2;P<x;P+=2){var E=g[P]-d,R=g[P+1]-p;u.lineTo(E,R)}u.closePath(),o.isFilled&&(f(u,o),u.fill()),o.isStroked&&(c(u,o),u.stroke()),u.restore()}};h.exports=a},99869:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(28591),c=e(61286);c.register("ellipse",function(s,a,r,o,l,v){return this.displayList.add(new f(this.scene,s,a,r,o,l,v))})},84171:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),c=f,s=f;c=e(17554),s=e(55881),h.exports={renderWebGL:c,renderCanvas:s}},17554:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(19543),c=e(73329),s=e(50262),a=function(r,o,l,v){l.addToRenderList(o);var u=r.pipelines.set(o.pipeline),d=c(o,l,v),p=u.calcMatrix.copyFrom(d.calc),g=o._displayOriginX,x=o._displayOriginY,T=l.alpha*o.alpha;r.pipelines.preBatch(o),o.isFilled&&f(u,p,o,T,g,x),o.isStroked&&s(u,o,T,g,x),r.pipelines.postBatch(o)};h.exports=a},39169:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(91461),s=e(88059),a=new f({Extends:c,Mixins:[s],initialize:function(o,l,v,u,d,p,g,x,T,S,P){l===void 0&&(l=0),v===void 0&&(v=0),u===void 0&&(u=128),d===void 0&&(d=128),p===void 0&&(p=32),g===void 0&&(g=32),c.call(this,o,"Grid",null),this.cellWidth=p,this.cellHeight=g,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(l,v),this.setSize(u,d),this.setFillStyle(x,T),S!==void 0&&this.setOutlineStyle(S,P),this.updateDisplayOrigin()},setFillStyle:function(r,o){return o===void 0&&(o=1),r===void 0?this.showCells=!1:(this.fillColor=r,this.fillAlpha=o,this.showCells=!0),this},setAltFillStyle:function(r,o){return o===void 0&&(o=1),r===void 0?this.showAltCells=!1:(this.altFillColor=r,this.altFillAlpha=o,this.showAltCells=!0),this},setOutlineStyle:function(r,o){return o===void 0&&(o=1),r===void 0?this.showOutline=!1:(this.outlineFillColor=r,this.outlineFillAlpha=o,this.showOutline=!0),this}});h.exports=a},95525:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(15608),c=e(17876),s=e(49584),a=function(r,o,l,v){l.addToRenderList(o);var u=r.currentContext;if(s(r,u,o,l,v)){var d=-o._displayOriginX,p=-o._displayOriginY,g=l.alpha*o.alpha,x=o.width,T=o.height,S=o.cellWidth,P=o.cellHeight,E=Math.ceil(x/S),R=Math.ceil(T/P),A=S,w=P,O=S-(E*S-x),L=P-(R*P-T),F=o.showCells,I=o.showAltCells,b=o.showOutline,G=0,N=0,U=0,Y=0,X=0;if(b&&(A--,w--,O===S&&O--,L===P&&L--),F&&o.fillAlpha>0)for(f(u,o),N=0;N<R;N++)for(I&&(U=N%2),G=0;G<E;G++){if(I&&U){U=0;continue}U++,Y=G<E-1?A:O,X=N<R-1?w:L,u.fillRect(d+G*S,p+N*P,Y,X)}if(I&&o.altFillAlpha>0)for(f(u,o,o.altFillColor,o.altFillAlpha*g),N=0;N<R;N++)for(I&&(U=N%2),G=0;G<E;G++){if(I&&!U){U=1;continue}U=0,Y=G<E-1?A:O,X=N<R-1?w:L,u.fillRect(d+G*S,p+N*P,Y,X)}if(b&&o.outlineFillAlpha>0){for(c(u,o,o.outlineFillColor,o.outlineFillAlpha*g),G=1;G<E;G++){var B=G*S;u.beginPath(),u.moveTo(B+d,p),u.lineTo(B+d,T+p),u.stroke()}for(N=1;N<R;N++){var z=N*P;u.beginPath(),u.moveTo(d,z+p),u.lineTo(d+x,z+p),u.stroke()}}u.restore()}};h.exports=a},9326:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61286),c=e(39169);f.register("grid",function(s,a,r,o,l,v,u,d,p,g){return this.displayList.add(new c(this.scene,s,a,r,o,l,v,u,d,p,g))})},88059:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),c=f,s=f;c=e(50639),s=e(95525),h.exports={renderWebGL:c,renderCanvas:s}},50639:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(73329),c=e(75512),s=function(a,r,o,l){o.addToRenderList(r);var v=a.pipelines.set(r.pipeline),u=f(r,o,l),d=v.calcMatrix.copyFrom(u.calc);d.translate(-r._displayOriginX,-r._displayOriginY);var p=o.alpha*r.alpha,g=r.width,x=r.height,T=r.cellWidth,S=r.cellHeight,P=Math.ceil(g/T),E=Math.ceil(x/S),R=T,A=S,w=T-(P*T-g),O=S-(E*S-x),L,F,I=r.showCells,b=r.showAltCells,G=r.showOutline,N=0,U=0,Y=0,X=0,B=0;if(G&&(R--,A--,w===T&&w--,O===S&&O--),a.pipelines.preBatch(r),I&&r.fillAlpha>0)for(L=v.fillTint,F=c.getTintAppendFloatAlpha(r.fillColor,r.fillAlpha*p),L.TL=F,L.TR=F,L.BL=F,L.BR=F,U=0;U<E;U++)for(b&&(Y=U%2),N=0;N<P;N++){if(b&&Y){Y=0;continue}Y++,X=N<P-1?R:w,B=U<E-1?A:O,v.batchFillRect(N*T,U*S,X,B)}if(b&&r.altFillAlpha>0)for(L=v.fillTint,F=c.getTintAppendFloatAlpha(r.altFillColor,r.altFillAlpha*p),L.TL=F,L.TR=F,L.BL=F,L.BR=F,U=0;U<E;U++)for(b&&(Y=U%2),N=0;N<P;N++){if(b&&!Y){Y=1;continue}Y=0,X=N<P-1?R:w,B=U<E-1?A:O,v.batchFillRect(N*T,U*S,X,B)}if(G&&r.outlineFillAlpha>0){var z=v.strokeTint,D=c.getTintAppendFloatAlpha(r.outlineFillColor,r.outlineFillAlpha*p);for(z.TL=D,z.TR=D,z.BL=D,z.BR=D,N=1;N<P;N++){var V=N*T;v.batchLine(V,0,V,x,1,1,1,0,!1)}for(U=1;U<E;U++){var k=U*S;v.batchLine(0,k,g,k,1,1,1,0,!1)}}a.pipelines.postBatch(r)};h.exports=s},4415:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72296),c=e(56694),s=e(91461),a=new c({Extends:s,Mixins:[f],initialize:function(o,l,v,u,d,p,g,x){l===void 0&&(l=0),v===void 0&&(v=0),u===void 0&&(u=48),d===void 0&&(d=32),p===void 0&&(p=15658734),g===void 0&&(g=10066329),x===void 0&&(x=13421772),s.call(this,o,"IsoBox",null),this.projection=4,this.fillTop=p,this.fillLeft=g,this.fillRight=x,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(l,v),this.setSize(u,d),this.updateDisplayOrigin()},setProjection:function(r){return this.projection=r,this},setFaces:function(r,o,l){return r===void 0&&(r=!0),o===void 0&&(o=!0),l===void 0&&(l=!0),this.showTop=r,this.showLeft=o,this.showRight=l,this},setFillStyle:function(r,o,l){return this.fillTop=r,this.fillLeft=o,this.fillRight=l,this.isFilled=!0,this}});h.exports=a},32884:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(15608),c=e(49584),s=function(a,r,o,l){o.addToRenderList(r);var v=a.currentContext;if(c(a,v,r,o,l)&&r.isFilled){var u=r.width,d=r.height,p=u/2,g=u/r.projection;r.showTop&&(f(v,r,r.fillTop),v.beginPath(),v.moveTo(-p,-d),v.lineTo(0,-g-d),v.lineTo(p,-d),v.lineTo(p,-1),v.lineTo(0,g-1),v.lineTo(-p,-1),v.lineTo(-p,-d),v.fill()),r.showLeft&&(f(v,r,r.fillLeft),v.beginPath(),v.moveTo(-p,0),v.lineTo(0,g),v.lineTo(0,g-d),v.lineTo(-p,-d),v.lineTo(-p,0),v.fill()),r.showRight&&(f(v,r,r.fillRight),v.beginPath(),v.moveTo(p,0),v.lineTo(0,g),v.lineTo(0,g-d),v.lineTo(p,-d),v.lineTo(p,0),v.fill()),v.restore()}};h.exports=s},88154:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61286),c=e(4415);f.register("isobox",function(s,a,r,o,l,v,u){return this.displayList.add(new c(this.scene,s,a,r,o,l,v,u))})},72296:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),c=f,s=f;c=e(33101),s=e(32884),h.exports={renderWebGL:c,renderCanvas:s}},33101:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(73329),c=e(75512),s=function(a,r,o,l){o.addToRenderList(r);var v=a.pipelines.set(r.pipeline),u=f(r,o,l),d=v.calcMatrix.copyFrom(u.calc),p=r.width,g=r.height,x=p/2,T=p/r.projection,S=o.alpha*r.alpha;if(r.isFilled){var P,E,R,A,w,O,L,F,I;a.pipelines.preBatch(r),r.showTop&&(P=c.getTintAppendFloatAlpha(r.fillTop,S),E=d.getX(-x,-g),R=d.getY(-x,-g),A=d.getX(0,-T-g),w=d.getY(0,-T-g),O=d.getX(x,-g),L=d.getY(x,-g),F=d.getX(0,T-g),I=d.getY(0,T-g),v.batchQuad(r,E,R,A,w,O,L,F,I,0,0,1,1,P,P,P,P,2)),r.showLeft&&(P=c.getTintAppendFloatAlpha(r.fillLeft,S),E=d.getX(-x,0),R=d.getY(-x,0),A=d.getX(0,T),w=d.getY(0,T),O=d.getX(0,T-g),L=d.getY(0,T-g),F=d.getX(-x,-g),I=d.getY(-x,-g),v.batchQuad(r,E,R,A,w,O,L,F,I,0,0,1,1,P,P,P,P,2)),r.showRight&&(P=c.getTintAppendFloatAlpha(r.fillRight,S),E=d.getX(x,0),R=d.getY(x,0),A=d.getX(0,T),w=d.getY(0,T),O=d.getX(0,T-g),L=d.getY(0,T-g),F=d.getX(x,-g),I=d.getY(x,-g),v.batchQuad(r,E,R,A,w,O,L,F,I,0,0,1,1,P,P,P,P,2)),a.pipelines.postBatch(r)}};h.exports=s},65159:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(93387),s=e(91461),a=new f({Extends:s,Mixins:[c],initialize:function(o,l,v,u,d,p,g,x,T){l===void 0&&(l=0),v===void 0&&(v=0),u===void 0&&(u=48),d===void 0&&(d=32),p===void 0&&(p=!1),g===void 0&&(g=15658734),x===void 0&&(x=10066329),T===void 0&&(T=13421772),s.call(this,o,"IsoTriangle",null),this.projection=4,this.fillTop=g,this.fillLeft=x,this.fillRight=T,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=p,this.isFilled=!0,this.setPosition(l,v),this.setSize(u,d),this.updateDisplayOrigin()},setProjection:function(r){return this.projection=r,this},setReversed:function(r){return this.isReversed=r,this},setFaces:function(r,o,l){return r===void 0&&(r=!0),o===void 0&&(o=!0),l===void 0&&(l=!0),this.showTop=r,this.showLeft=o,this.showRight=l,this},setFillStyle:function(r,o,l){return this.fillTop=r,this.fillLeft=o,this.fillRight=l,this.isFilled=!0,this}});h.exports=a},9923:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(15608),c=e(49584),s=function(a,r,o,l){o.addToRenderList(r);var v=a.currentContext;if(c(a,v,r,o,l)&&r.isFilled){var u=r.width,d=r.height,p=u/2,g=u/r.projection,x=r.isReversed;r.showTop&&x&&(f(v,r,r.fillTop),v.beginPath(),v.moveTo(-p,-d),v.lineTo(0,-g-d),v.lineTo(p,-d),v.lineTo(0,g-d),v.fill()),r.showLeft&&(f(v,r,r.fillLeft),v.beginPath(),x?(v.moveTo(-p,-d),v.lineTo(0,g),v.lineTo(0,g-d)):(v.moveTo(-p,0),v.lineTo(0,g),v.lineTo(0,g-d)),v.fill()),r.showRight&&(f(v,r,r.fillRight),v.beginPath(),x?(v.moveTo(p,-d),v.lineTo(0,g),v.lineTo(0,g-d)):(v.moveTo(p,0),v.lineTo(0,g),v.lineTo(0,g-d)),v.fill()),v.restore()}};h.exports=s},67765:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61286),c=e(65159);f.register("isotriangle",function(s,a,r,o,l,v,u,d){return this.displayList.add(new c(this.scene,s,a,r,o,l,v,u,d))})},93387:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),c=f,s=f;c=e(54946),s=e(9923),h.exports={renderWebGL:c,renderCanvas:s}},54946:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(73329),c=e(75512),s=function(a,r,o,l){o.addToRenderList(r);var v=a.pipelines.set(r.pipeline),u=f(r,o,l),d=v.calcMatrix.copyFrom(u.calc),p=r.width,g=r.height,x=p/2,T=p/r.projection,S=r.isReversed,P=o.alpha*r.alpha;if(r.isFilled){a.pipelines.preBatch(r);var E,R,A,w,O,L,F;if(r.showTop&&S){E=c.getTintAppendFloatAlpha(r.fillTop,P),R=d.getX(-x,-g),A=d.getY(-x,-g),w=d.getX(0,-T-g),O=d.getY(0,-T-g),L=d.getX(x,-g),F=d.getY(x,-g);var I=d.getX(0,T-g),b=d.getY(0,T-g);v.batchQuad(r,R,A,w,O,L,F,I,b,0,0,1,1,E,E,E,E,2)}r.showLeft&&(E=c.getTintAppendFloatAlpha(r.fillLeft,P),S?(R=d.getX(-x,-g),A=d.getY(-x,-g),w=d.getX(0,T),O=d.getY(0,T),L=d.getX(0,T-g),F=d.getY(0,T-g)):(R=d.getX(-x,0),A=d.getY(-x,0),w=d.getX(0,T),O=d.getY(0,T),L=d.getX(0,T-g),F=d.getY(0,T-g)),v.batchTri(r,R,A,w,O,L,F,0,0,1,1,E,E,E,2)),r.showRight&&(E=c.getTintAppendFloatAlpha(r.fillRight,P),S?(R=d.getX(x,-g),A=d.getY(x,-g),w=d.getX(0,T),O=d.getY(0,T),L=d.getX(0,T-g),F=d.getY(0,T-g)):(R=d.getX(x,0),A=d.getY(x,0),w=d.getX(0,T),O=d.getY(0,T),L=d.getX(0,T-g),F=d.getY(0,T-g)),v.batchTri(r,R,A,w,O,L,F,0,0,1,1,E,E,E,2)),a.pipelines.postBatch(r)}};h.exports=s},579:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(91461),s=e(88829),a=e(52660),r=new f({Extends:c,Mixins:[a],initialize:function(l,v,u,d,p,g,x,T,S){v===void 0&&(v=0),u===void 0&&(u=0),d===void 0&&(d=0),p===void 0&&(p=0),g===void 0&&(g=128),x===void 0&&(x=0),c.call(this,l,"Line",new s(d,p,g,x));var P=Math.max(1,this.geom.right-this.geom.left),E=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(v,u),this.setSize(P,E),T!==void 0&&this.setStrokeStyle(1,T,S),this.updateDisplayOrigin()},setLineWidth:function(o,l){return l===void 0&&(l=o),this._startWidth=o,this._endWidth=l,this.lineWidth=o,this},setTo:function(o,l,v,u){return this.geom.setTo(o,l,v,u),this}});h.exports=r},52044:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(17876),c=e(49584),s=function(a,r,o,l){o.addToRenderList(r);var v=a.currentContext;if(c(a,v,r,o,l)){var u=r._displayOriginX,d=r._displayOriginY;r.isStroked&&(f(v,r),v.beginPath(),v.moveTo(r.geom.x1-u,r.geom.y1-d),v.lineTo(r.geom.x2-u,r.geom.y2-d),v.stroke()),v.restore()}};h.exports=s},85665:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61286),c=e(579);f.register("line",function(s,a,r,o,l,v,u,d){return this.displayList.add(new c(this.scene,s,a,r,o,l,v,u,d))})},52660:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),c=f,s=f;c=e(46952),s=e(52044),h.exports={renderWebGL:c,renderCanvas:s}},46952:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(73329),c=e(75512),s=function(a,r,o,l){o.addToRenderList(r);var v=a.pipelines.set(r.pipeline),u=f(r,o,l);v.calcMatrix.copyFrom(u.calc);var d=r._displayOriginX,p=r._displayOriginY,g=o.alpha*r.alpha;if(a.pipelines.preBatch(r),r.isStroked){var x=v.strokeTint,T=c.getTintAppendFloatAlpha(r.strokeColor,r.strokeAlpha*g);x.TL=T,x.TR=T,x.BL=T,x.BR=T;var S=r._startWidth,P=r._endWidth;v.batchLine(r.geom.x1-d,r.geom.y1-p,r.geom.x2-d,r.geom.y2-p,S,P,1,0,!1,u.sprite,u.camera)}a.pipelines.postBatch(r)};h.exports=s},91249:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(70573),c=e(56694),s=e(11117),a=e(14045),r=e(8580),o=e(91461),l=e(18974),v=new c({Extends:o,Mixins:[f],initialize:function(d,p,g,x,T,S){p===void 0&&(p=0),g===void 0&&(g=0),o.call(this,d,"Polygon",new r(x));var P=a(this.geom);this.setPosition(p,g),this.setSize(P.width,P.height),T!==void 0&&this.setFillStyle(T,S),this.updateDisplayOrigin(),this.updateData()},smooth:function(u){u===void 0&&(u=1);for(var d=0;d<u;d++)l(this.geom);return this.updateData()},setTo:function(u){this.geom.setTo(u);var d=a(this.geom);return this.setSize(d.width,d.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var u=[],d=this.geom.points,p=0;p<d.length;p++)u.push(d[p].x,d[p].y);return u.push(d[0].x,d[0].y),this.pathIndexes=s(u),this.pathData=u,this}});h.exports=v},40834:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(15608),c=e(17876),s=e(49584),a=function(r,o,l,v){l.addToRenderList(o);var u=r.currentContext;if(s(r,u,o,l,v)){var d=o._displayOriginX,p=o._displayOriginY,g=o.pathData,x=g.length-1,T=g[0]-d,S=g[1]-p;u.beginPath(),u.moveTo(T,S),o.closePath||(x-=2);for(var P=2;P<x;P+=2){var E=g[P]-d,R=g[P+1]-p;u.lineTo(E,R)}o.closePath&&u.closePath(),o.isFilled&&(f(u,o),u.fill()),o.isStroked&&(c(u,o),u.stroke()),u.restore()}};h.exports=a},88203:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61286),c=e(91249);f.register("polygon",function(s,a,r,o,l){return this.displayList.add(new c(this.scene,s,a,r,o,l))})},70573:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),c=f,s=f;c=e(72841),s=e(40834),h.exports={renderWebGL:c,renderCanvas:s}},72841:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(19543),c=e(73329),s=e(50262),a=function(r,o,l,v){l.addToRenderList(o);var u=r.pipelines.set(o.pipeline),d=c(o,l,v),p=u.calcMatrix.copyFrom(d.calc),g=o._displayOriginX,x=o._displayOriginY,T=l.alpha*o.alpha;r.pipelines.preBatch(o),o.isFilled&&f(u,p,o,T,g,x),o.isStroked&&s(u,o,T,g,x),r.pipelines.postBatch(o)};h.exports=a},517:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(74118),s=e(91461),a=e(37673),r=new f({Extends:s,Mixins:[a],initialize:function(l,v,u,d,p,g,x){v===void 0&&(v=0),u===void 0&&(u=0),d===void 0&&(d=128),p===void 0&&(p=128),s.call(this,l,"Rectangle",new c(0,0,d,p)),this.setPosition(v,u),this.setSize(d,p),g!==void 0&&this.setFillStyle(g,x),this.updateDisplayOrigin(),this.updateData()},setSize:function(o,l){this.width=o,this.height=l,this.geom.setSize(o,l),this.updateData(),this.updateDisplayOrigin();var v=this.input;return v&&!v.customHitArea&&(v.hitArea.width=o,v.hitArea.height=l),this},updateData:function(){var o=[],l=this.geom,v=this._tempLine;return l.getLineA(v),o.push(v.x1,v.y1,v.x2,v.y2),l.getLineB(v),o.push(v.x2,v.y2),l.getLineC(v),o.push(v.x2,v.y2),l.getLineD(v),o.push(v.x2,v.y2),this.pathData=o,this}});h.exports=r},4091:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(15608),c=e(17876),s=e(49584),a=function(r,o,l,v){l.addToRenderList(o);var u=r.currentContext;if(s(r,u,o,l,v)){var d=o._displayOriginX,p=o._displayOriginY;o.isFilled&&(f(u,o),u.fillRect(-d,-p,o.width,o.height)),o.isStroked&&(c(u,o),u.beginPath(),u.rect(-d,-p,o.width,o.height),u.stroke()),u.restore()}};h.exports=a},94355:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61286),c=e(517);f.register("rectangle",function(s,a,r,o,l,v){return this.displayList.add(new c(this.scene,s,a,r,o,l,v))})},37673:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),c=f,s=f;c=e(43532),s=e(4091),h.exports={renderWebGL:c,renderCanvas:s}},43532:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(73329),c=e(50262),s=e(75512),a=function(r,o,l,v){l.addToRenderList(o);var u=r.pipelines.set(o.pipeline),d=f(o,l,v);u.calcMatrix.copyFrom(d.calc);var p=o._displayOriginX,g=o._displayOriginY,x=l.alpha*o.alpha;if(r.pipelines.preBatch(o),o.isFilled){var T=u.fillTint,S=s.getTintAppendFloatAlpha(o.fillColor,o.fillAlpha*x);T.TL=S,T.TR=S,T.BL=S,T.BR=S,u.batchFillRect(-p,-g,o.width,o.height)}o.isStroked&&c(u,o,x,p,g),r.pipelines.postBatch(o)};h.exports=a},77843:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(87956),c=e(56694),s=e(11117),a=e(91461),r=new c({Extends:a,Mixins:[f],initialize:function(l,v,u,d,p,g,x,T){v===void 0&&(v=0),u===void 0&&(u=0),d===void 0&&(d=5),p===void 0&&(p=32),g===void 0&&(g=64),a.call(this,l,"Star",null),this._points=d,this._innerRadius=p,this._outerRadius=g,this.setPosition(v,u),this.setSize(g*2,g*2),x!==void 0&&this.setFillStyle(x,T),this.updateDisplayOrigin(),this.updateData()},setPoints:function(o){return this._points=o,this.updateData()},setInnerRadius:function(o){return this._innerRadius=o,this.updateData()},setOuterRadius:function(o){return this._outerRadius=o,this.updateData()},points:{get:function(){return this._points},set:function(o){this._points=o,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(o){this._innerRadius=o,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(o){this._outerRadius=o,this.updateData()}},updateData:function(){var o=[],l=this._points,v=this._innerRadius,u=this._outerRadius,d=Math.PI/2*3,p=Math.PI/l,g=u,x=u;o.push(g,x+-u);for(var T=0;T<l;T++)o.push(g+Math.cos(d)*u,x+Math.sin(d)*u),d+=p,o.push(g+Math.cos(d)*v,x+Math.sin(d)*v),d+=p;return o.push(g,x+-u),this.pathIndexes=s(o),this.pathData=o,this}});h.exports=r},11401:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(15608),c=e(17876),s=e(49584),a=function(r,o,l,v){l.addToRenderList(o);var u=r.currentContext;if(s(r,u,o,l,v)){var d=o._displayOriginX,p=o._displayOriginY,g=o.pathData,x=g.length-1,T=g[0]-d,S=g[1]-p;u.beginPath(),u.moveTo(T,S),o.closePath||(x-=2);for(var P=2;P<x;P+=2){var E=g[P]-d,R=g[P+1]-p;u.lineTo(E,R)}u.closePath(),o.isFilled&&(f(u,o),u.fill()),o.isStroked&&(c(u,o),u.stroke()),u.restore()}};h.exports=a},23962:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(77843),c=e(61286);c.register("star",function(s,a,r,o,l,v,u){return this.displayList.add(new f(this.scene,s,a,r,o,l,v,u))})},87956:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),c=f,s=f;c=e(12037),s=e(11401),h.exports={renderWebGL:c,renderCanvas:s}},12037:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(19543),c=e(73329),s=e(50262),a=function(r,o,l,v){l.addToRenderList(o);var u=r.pipelines.set(o.pipeline),d=c(o,l,v),p=u.calcMatrix.copyFrom(d.calc),g=o._displayOriginX,x=o._displayOriginY,T=l.alpha*o.alpha;r.pipelines.preBatch(o),o.isFilled&&f(u,p,o,T,g,x),o.isStroked&&s(u,o,T,g,x),r.pipelines.postBatch(o)};h.exports=a},21873:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(91461),s=e(66349),a=e(70498),r=new f({Extends:c,Mixins:[a],initialize:function(l,v,u,d,p,g,x,T,S,P,E){v===void 0&&(v=0),u===void 0&&(u=0),d===void 0&&(d=0),p===void 0&&(p=128),g===void 0&&(g=64),x===void 0&&(x=0),T===void 0&&(T=128),S===void 0&&(S=128),c.call(this,l,"Triangle",new s(d,p,g,x,T,S));var R=this.geom.right-this.geom.left,A=this.geom.bottom-this.geom.top;this.setPosition(v,u),this.setSize(R,A),P!==void 0&&this.setFillStyle(P,E),this.updateDisplayOrigin(),this.updateData()},setTo:function(o,l,v,u,d,p){return this.geom.setTo(o,l,v,u,d,p),this.updateData()},updateData:function(){var o=[],l=this.geom,v=this._tempLine;return l.getLineA(v),o.push(v.x1,v.y1,v.x2,v.y2),l.getLineB(v),o.push(v.x2,v.y2),l.getLineC(v),o.push(v.x2,v.y2),this.pathData=o,this}});h.exports=r},60213:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(15608),c=e(17876),s=e(49584),a=function(r,o,l,v){l.addToRenderList(o);var u=r.currentContext;if(s(r,u,o,l,v)){var d=o._displayOriginX,p=o._displayOriginY,g=o.geom.x1-d,x=o.geom.y1-p,T=o.geom.x2-d,S=o.geom.y2-p,P=o.geom.x3-d,E=o.geom.y3-p;u.beginPath(),u.moveTo(g,x),u.lineTo(T,S),u.lineTo(P,E),u.closePath(),o.isFilled&&(f(u,o),u.fill()),o.isStroked&&(c(u,o),u.stroke()),u.restore()}};h.exports=a},79296:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61286),c=e(21873);f.register("triangle",function(s,a,r,o,l,v,u,d,p,g){return this.displayList.add(new c(this.scene,s,a,r,o,l,v,u,d,p,g))})},70498:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),c=f,s=f;c=e(72291),s=e(60213),h.exports={renderWebGL:c,renderCanvas:s}},72291:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(73329),c=e(50262),s=e(75512),a=function(r,o,l,v){l.addToRenderList(o);var u=r.pipelines.set(o.pipeline),d=f(o,l,v);u.calcMatrix.copyFrom(d.calc);var p=o._displayOriginX,g=o._displayOriginY,x=l.alpha*o.alpha;if(r.pipelines.preBatch(o),o.isFilled){var T=u.fillTint,S=s.getTintAppendFloatAlpha(o.fillColor,o.fillAlpha*x);T.TL=S,T.TR=S,T.BL=S,T.BR=S;var P=o.geom.x1-p,E=o.geom.y1-g,R=o.geom.x2-p,A=o.geom.y2-g,w=o.geom.x3-p,O=o.geom.y3-g;u.batchFillTriangle(P,E,R,A,w,O,d.sprite,d.camera)}o.isStroked&&c(u,o,x,p,g),r.pipelines.postBatch(o)};h.exports=a},13747:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(16569),c=e(56694),s=e(64937),a=e(89980),r=e(20791),o=new c({Extends:a,Mixins:[s.Alpha,s.BlendMode,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Size,s.TextureCrop,s.Tint,s.Transform,s.Visible,r],initialize:function(v,u,d,p,g){a.call(this,v,"Sprite"),this._crop=this.resetCropObject(),this.anims=new f(this),this.setTexture(p,g),this.setPosition(u,d),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(l,v){this.anims.update(l,v)},play:function(l,v){return this.anims.play(l,v)},playReverse:function(l,v){return this.anims.playReverse(l,v)},playAfterDelay:function(l,v){return this.anims.playAfterDelay(l,v)},playAfterRepeat:function(l,v){return this.anims.playAfterRepeat(l,v)},chain:function(l){return this.anims.chain(l)},stop:function(){return this.anims.stop()},stopAfterDelay:function(l){return this.anims.stopAfterDelay(l)},stopAfterRepeat:function(l){return this.anims.stopAfterRepeat(l)},stopOnFrame:function(l){return this.anims.stopOnFrame(l)},toJSON:function(){return s.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});h.exports=o},27573:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){c.addToRenderList(f),e.batchSprite(f,f.frame,c,s)};h.exports=y},89219:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(88933),c=e(32291),s=e(99325),a=e(20494),r=e(13747);s.register("sprite",function(o,l){o===void 0&&(o={});var v=a(o,"key",null),u=a(o,"frame",null),d=new r(this.scene,0,0,v,u);return l!==void 0&&(o.add=l),f(this.scene,d,o),c(d,o),d})},66135:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61286),c=e(13747);f.register("sprite",function(s,a,r,o){return this.displayList.add(new c(this.scene,s,a,r,o))})},20791:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),c=f,s=f;c=e(21034),s=e(27573),h.exports={renderWebGL:c,renderCanvas:s}},21034:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){c.addToRenderList(f),f.pipeline.batchSprite(f,c,s)};h.exports=y},32979:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){var s=e.canvas,a=e.context,r=e.style,o=[],l=0,v=c.length;r.maxLines>0&&r.maxLines<c.length&&(v=r.maxLines),r.syncFont(s,a);for(var u=0;u<v;u++){var d=r.strokeThickness;d+=a.measureText(c[u]).width,r.wordWrap&&(d-=a.measureText(" ").width),o[u]=Math.ceil(d),l=Math.max(l,o[u])}var p=f.fontSize+r.strokeThickness,g=p*v,x=e.lineSpacing;return v>1&&(g+=x*(v-1)),{width:l,height:g,lines:v,lineWidths:o,lineSpacing:x,lineHeight:p}};h.exports=y},27030:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61068),c=function(s){var a=f.create(this),r=a.getContext("2d",{willReadFrequently:!0});s.syncFont(a,r);var o=r.measureText(s.testString);if("actualBoundingBoxAscent"in o){var l=o.actualBoundingBoxAscent,v=o.actualBoundingBoxDescent;return f.remove(a),{ascent:l,descent:v,fontSize:l+v}}var u=Math.ceil(o.width*s.baselineX),d=u,p=2*d;d=d*s.baselineY|0,a.width=u,a.height=p,r.fillStyle="#f00",r.fillRect(0,0,u,p),r.font=s._font,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(s.testString,0,d);var g={ascent:0,descent:0,fontSize:0},x=r.getImageData(0,0,u,p);if(!x)return g.ascent=d,g.descent=d+6,g.fontSize=g.ascent+g.descent,f.remove(a),g;var T=x.data,S=T.length,P=u*4,E,R,A=0,w=!1;for(E=0;E<d;E++){for(R=0;R<P;R+=4)if(T[A+R]!==255){w=!0;break}if(!w)A+=P;else break}for(g.ascent=d-E,A=S-P,w=!1,E=p;E>d;E--){for(R=0;R<P;R+=4)if(T[A+R]!==255){w=!0;break}if(!w)A-=P;else break}return g.descent=E-d,g.fontSize=g.ascent+g.descent,f.remove(a),g};h.exports=c},76555:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(99584),c=e(61068),s=e(56694),a=e(64937),r=e(89980),o=e(32979),l=e(10850),v=e(55638),u=e(80032),d=e(74744),p=new s({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Crop,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Tint,a.Transform,a.Visible,u],initialize:function(x,T,S,P,E){T===void 0&&(T=0),S===void 0&&(S=0),r.call(this,x,"Text"),this.renderer=x.sys.renderer,this.setPosition(T,S),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=c.create(this),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.style=new d(this,E),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this.texture=x.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(P),E&&E.padding&&this.setPadding(E.padding),E&&E.lineSpacing&&this.setLineSpacing(E.lineSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",f(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(g){var x=this.style;if(x.wordWrapCallback){var T=x.wordWrapCallback.call(x.wordWrapCallbackScope,g,this);return Array.isArray(T)&&(T=T.join(`
`)),T}else return x.wordWrapWidth?x.wordWrapUseAdvanced?this.advancedWordWrap(g,this.context,this.style.wordWrapWidth):this.basicWordWrap(g,this.context,this.style.wordWrapWidth):g},advancedWordWrap:function(g,x,T){for(var S="",P=g.replace(/ +/gi," ").split(this.splitRegExp),E=P.length,R=0;R<E;R++){var A=P[R],w="";A=A.replace(/^ *|\s*$/gi,"");var O=x.measureText(A).width;if(O<T){S+=A+`
`;continue}for(var L=T,F=A.split(" "),I=0;I<F.length;I++){var b=F[I],G=b+" ",N=x.measureText(G).width;if(N>L){if(I===0){for(var U=G;U.length&&(U=U.slice(0,-1),N=x.measureText(U).width,!(N<=L)););if(!U.length)throw new Error("wordWrapWidth < a single character");var Y=b.substr(U.length);F[I]=Y,w+=U}var X=F[I].length?I:I+1,B=F.slice(X).join(" ").replace(/[ \n]*$/gi,"");P.splice(R+1,0,B),E=P.length;break}else w+=G,L-=N}S+=w.replace(/[ \n]*$/gi,"")+`
`}return S=S.replace(/[\s|\n]*$/gi,""),S},basicWordWrap:function(g,x,T){for(var S="",P=g.split(this.splitRegExp),E=P.length-1,R=x.measureText(" ").width,A=0;A<=E;A++){for(var w=T,O=P[A].split(" "),L=O.length-1,F=0;F<=L;F++){var I=O[F],b=x.measureText(I).width,G=b;F<L&&(G+=R),G>w&&F>0&&(S+=`
`,w=T),S+=I,F<L?(S+=" ",w-=G):w-=b}A<E&&(S+=`
`)}return S},getWrappedText:function(g){g===void 0&&(g=this._text),this.style.syncFont(this.canvas,this.context);var x=this.runWordWrap(g);return x.split(this.splitRegExp)},setText:function(g){return!g&&g!==0&&(g=""),Array.isArray(g)&&(g=g.join(`
`)),g!==this._text&&(this._text=g.toString(),this.updateText()),this},appendText:function(g,x){x===void 0&&(x=!0),!g&&g!==0&&(g=""),Array.isArray(g)&&(g=g.join(`
`)),g=g.toString();var T=this._text.concat(x?`
`+g:g);return T!==this._text&&(this._text=T,this.updateText()),this},setStyle:function(g){return this.style.setStyle(g)},setFont:function(g){return this.style.setFont(g)},setFontFamily:function(g){return this.style.setFontFamily(g)},setFontSize:function(g){return this.style.setFontSize(g)},setFontStyle:function(g){return this.style.setFontStyle(g)},setFixedSize:function(g,x){return this.style.setFixedSize(g,x)},setBackgroundColor:function(g){return this.style.setBackgroundColor(g)},setFill:function(g){return this.style.setFill(g)},setColor:function(g){return this.style.setColor(g)},setStroke:function(g,x){return this.style.setStroke(g,x)},setShadow:function(g,x,T,S,P,E){return this.style.setShadow(g,x,T,S,P,E)},setShadowOffset:function(g,x){return this.style.setShadowOffset(g,x)},setShadowColor:function(g){return this.style.setShadowColor(g)},setShadowBlur:function(g){return this.style.setShadowBlur(g)},setShadowStroke:function(g){return this.style.setShadowStroke(g)},setShadowFill:function(g){return this.style.setShadowFill(g)},setWordWrapWidth:function(g,x){return this.style.setWordWrapWidth(g,x)},setWordWrapCallback:function(g,x){return this.style.setWordWrapCallback(g,x)},setAlign:function(g){return this.style.setAlign(g)},setResolution:function(g){return this.style.setResolution(g)},setLineSpacing:function(g){return this.lineSpacing=g,this.updateText()},setPadding:function(g,x,T,S){if(typeof g=="object"){var P=g,E=l(P,"x",null);E!==null?(g=E,T=E):(g=l(P,"left",0),T=l(P,"right",g));var R=l(P,"y",null);R!==null?(x=R,S=R):(x=l(P,"top",0),S=l(P,"bottom",x))}else g===void 0&&(g=0),x===void 0&&(x=g),T===void 0&&(T=g),S===void 0&&(S=x);return this.padding.left=g,this.padding.top=x,this.padding.right=T,this.padding.bottom=S,this.updateText()},setMaxLines:function(g){return this.style.setMaxLines(g)},updateText:function(){var g=this.canvas,x=this.context,T=this.style,S=T.resolution,P=T.metrics;T.syncFont(g,x);var E=this._text;(T.wordWrapWidth||T.wordWrapCallback)&&(E=this.runWordWrap(this._text));var R=E.split(this.splitRegExp),A=o(this,P,R),w=this.padding,O;T.fixedWidth===0?(this.width=A.width+w.left+w.right,O=A.width):(this.width=T.fixedWidth,O=this.width-w.left-w.right,O<A.width&&(O=A.width)),T.fixedHeight===0?this.height=A.height+w.top+w.bottom:this.height=T.fixedHeight;var L=this.width,F=this.height;this.updateDisplayOrigin(),L*=S,F*=S,L=Math.max(L,1),F=Math.max(F,1),g.width!==L||g.height!==F?(g.width=L,g.height=F,this.frame.setSize(L,F),T.syncFont(g,x),T.rtl&&(x.direction="rtl")):x.clearRect(0,0,L,F),x.save(),x.scale(S,S),T.backgroundColor&&(x.fillStyle=T.backgroundColor,x.fillRect(0,0,L,F)),T.syncStyle(g,x),x.translate(w.left,w.top);for(var I,b,G=0;G<A.lines;G++){if(I=T.strokeThickness/2,b=T.strokeThickness/2+G*A.lineHeight+P.ascent,G>0&&(b+=A.lineSpacing*G),T.rtl)I=L-I-w.left-w.right;else if(T.align==="right")I+=O-A.lineWidths[G];else if(T.align==="center")I+=(O-A.lineWidths[G])/2;else if(T.align==="justify"){var N=.85;if(A.lineWidths[G]/A.width>=N){var U=A.width-A.lineWidths[G],Y=x.measureText(" ").width,X=R[G].trim(),B=X.split(" ");U+=(R[G].length-X.length)*Y;for(var z=Math.floor(U/Y),D=0;z>0;)B[D]+=" ",D=(D+1)%(B.length-1||1),--z;R[G]=B.join(" ")}}this.autoRound&&(I=Math.round(I),b=Math.round(b)),T.strokeThickness&&(T.syncShadow(x,T.shadowStroke),x.strokeText(R[G],I,b)),T.color&&(T.syncShadow(x,T.shadowFill),x.fillText(R[G],I,b))}x.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(g,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var V=this.input;return V&&!V.customHitArea&&(V.hitArea.width=this.width,V.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(g){this.setText(g)}},toJSON:function(){var g=a.ToJSON(this),x={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return g.data=x,g},preDestroy:function(){this.style.rtl&&v(this.canvas),c.remove(this.canvas),this.texture.destroy()}});h.exports=p},71649:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){f.width===0||f.height===0||(c.addToRenderList(f),e.batchSprite(f,f.frame,c,s))};h.exports=y},75397:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(88933),c=e(99325),s=e(20494),a=e(76555);c.register("text",function(r,o){r===void 0&&(r={});var l=s(r,"text",""),v=s(r,"style",null),u=s(r,"padding",null);u!==null&&(v.padding=u);var d=new a(this.scene,0,0,l,v);return o!==void 0&&(r.add=o),f(this.scene,d,r),d.autoRound=s(r,"autoRound",!0),d.resolution=s(r,"resolution",1),d})},94627:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(76555),c=e(61286);c.register("text",function(s,a,r,o){return this.displayList.add(new f(this.scene,s,a,r,o))})},80032:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),c=f,s=f;c=e(76128),s=e(71649),h.exports={renderWebGL:c,renderCanvas:s}},74744:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(20494),s=e(10850),a=e(27030),r={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|MÃ‰qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},o=new f({initialize:function(v,u){this.parent=v,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(u,!1,!0)},setStyle:function(l,v,u){v===void 0&&(v=!0),u===void 0&&(u=!1),l&&l.hasOwnProperty("fontSize")&&typeof l.fontSize=="number"&&(l.fontSize=l.fontSize.toString()+"px");for(var d in r){var p=u?r[d][1]:this[d];d==="wordWrapCallback"||d==="wordWrapCallbackScope"?this[d]=s(l,r[d][0],p):this[d]=c(l,r[d][0],p)}var g=s(l,"font",null);g!==null&&this.setFont(g,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var x=s(l,"fill",null);x!==null&&(this.color=x);var T=s(l,"metrics",!1);return T?this.metrics={ascent:s(T,"ascent",0),descent:s(T,"descent",0),fontSize:s(T,"fontSize",0)}:(v||!this.metrics)&&(this.metrics=a(this)),v?this.parent.updateText():this.parent},syncFont:function(l,v){v.font=this._font},syncStyle:function(l,v){v.textBaseline="alphabetic",v.fillStyle=this.color,v.strokeStyle=this.stroke,v.lineWidth=this.strokeThickness,v.lineCap="round",v.lineJoin="round"},syncShadow:function(l,v){v?(l.shadowOffsetX=this.shadowOffsetX,l.shadowOffsetY=this.shadowOffsetY,l.shadowColor=this.shadowColor,l.shadowBlur=this.shadowBlur):(l.shadowOffsetX=0,l.shadowOffsetY=0,l.shadowColor=0,l.shadowBlur=0)},update:function(l){return l&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=a(this)),this.parent.updateText()},setFont:function(l,v){v===void 0&&(v=!0);var u=l,d="",p="";if(typeof l!="string")u=s(l,"fontFamily","Courier"),d=s(l,"fontSize","16px"),p=s(l,"fontStyle","");else{var g=l.split(" "),x=0;p=g.length>2?g[x++]:"",d=g[x++]||"16px",u=g[x++]||"Courier"}return(u!==this.fontFamily||d!==this.fontSize||p!==this.fontStyle)&&(this.fontFamily=u,this.fontSize=d,this.fontStyle=p,v&&this.update(!0)),this.parent},setFontFamily:function(l){return this.fontFamily!==l&&(this.fontFamily=l,this.update(!0)),this.parent},setFontStyle:function(l){return this.fontStyle!==l&&(this.fontStyle=l,this.update(!0)),this.parent},setFontSize:function(l){return typeof l=="number"&&(l=l.toString()+"px"),this.fontSize!==l&&(this.fontSize=l,this.update(!0)),this.parent},setTestString:function(l){return this.testString=l,this.update(!0)},setFixedSize:function(l,v){return this.fixedWidth=l,this.fixedHeight=v,l&&(this.parent.width=l),v&&(this.parent.height=v),this.update(!1)},setBackgroundColor:function(l){return this.backgroundColor=l,this.update(!1)},setFill:function(l){return this.color=l,this.update(!1)},setColor:function(l){return this.color=l,this.update(!1)},setResolution:function(l){return this.resolution=l,this.update(!1)},setStroke:function(l,v){return v===void 0&&(v=this.strokeThickness),l===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==l||this.strokeThickness!==v)&&(this.stroke=l,this.strokeThickness=v,this.update(!0)),this.parent},setShadow:function(l,v,u,d,p,g){return l===void 0&&(l=0),v===void 0&&(v=0),u===void 0&&(u="#000"),d===void 0&&(d=0),p===void 0&&(p=!1),g===void 0&&(g=!0),this.shadowOffsetX=l,this.shadowOffsetY=v,this.shadowColor=u,this.shadowBlur=d,this.shadowStroke=p,this.shadowFill=g,this.update(!1)},setShadowOffset:function(l,v){return l===void 0&&(l=0),v===void 0&&(v=l),this.shadowOffsetX=l,this.shadowOffsetY=v,this.update(!1)},setShadowColor:function(l){return l===void 0&&(l="#000"),this.shadowColor=l,this.update(!1)},setShadowBlur:function(l){return l===void 0&&(l=0),this.shadowBlur=l,this.update(!1)},setShadowStroke:function(l){return this.shadowStroke=l,this.update(!1)},setShadowFill:function(l){return this.shadowFill=l,this.update(!1)},setWordWrapWidth:function(l,v){return v===void 0&&(v=!1),this.wordWrapWidth=l,this.wordWrapUseAdvanced=v,this.update(!1)},setWordWrapCallback:function(l,v){return v===void 0&&(v=null),this.wordWrapCallback=l,this.wordWrapCallbackScope=v,this.update(!1)},setAlign:function(l){return l===void 0&&(l="left"),this.align=l,this.update(!1)},setMaxLines:function(l){return l===void 0&&(l=0),this.maxLines=l,this.update(!1)},getTextMetrics:function(){var l=this.metrics;return{ascent:l.ascent,descent:l.descent,fontSize:l.fontSize}},toJSON:function(){var l={};for(var v in r)l[v]=this[v];return l.metrics=this.getTextMetrics(),l},destroy:function(){this.parent=void 0}});h.exports=o},76128:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(75512),c=function(s,a,r,o){if(!(a.width===0||a.height===0)){r.addToRenderList(a);var l=a.frame,v=l.width,u=l.height,d=f.getTintAppendFloatAlpha,p=s.pipelines.set(a.pipeline,a),g=p.setTexture2D(l.glTexture,a);p.batchTexture(a,l.glTexture,v,u,a.x,a.y,v/a.style.resolution,u/a.style.resolution,a.scaleX,a.scaleY,a.rotation,a.flipX,a.flipY,a.scrollFactorX,a.scrollFactorY,a.displayOriginX,a.displayOriginY,0,0,v,u,d(a.tintTopLeft,r.alpha*a._alphaTL),d(a.tintTopRight,r.alpha*a._alphaTR),d(a.tintBottomLeft,r.alpha*a._alphaBL),d(a.tintBottomRight,r.alpha*a._alphaBR),a.tintFill,0,0,r,o,!1,g)}};h.exports=c},35856:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61068),c=e(56694),s=e(64937),a=e(89980),r=e(3504),o=e(8213),l=e(9271),v=e(93736),u=8,d=new c({Extends:a,Mixins:[s.Alpha,s.BlendMode,s.ComputedSize,s.Crop,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Tint,s.Transform,s.Visible,l],initialize:function(g,x,T,S,P,E,R){var A=g.sys.renderer;a.call(this,g,"TileSprite");var w=g.sys.textures.get(E),O=w.get(R);O.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),w=g.sys.textures.get("__MISSING"),O=w.get()),w.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),w=g.sys.textures.get("__MISSING"),O=w.get()),!S||!P?(S=O.width,P=O.height):(S=Math.floor(S),P=Math.floor(P)),this._tilePosition=new v,this._tileScale=new v(1,1),this.dirty=!1,this.renderer=A,this.canvas=f.create(this,S,P),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=w,this.displayFrame=O,this._crop=this.resetCropObject(),this.texture=g.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.potWidth=r(O.width),this.potHeight=r(O.height),this.fillCanvas=f.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(x,T),this.setSize(S,P),this.setFrame(R),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(p,g){return this.displayTexture=this.scene.sys.textures.get(p),this.setFrame(g)},setFrame:function(p){var g=this.displayTexture.get(p);return this.potWidth=r(g.width),this.potHeight=r(g.height),this.canvas.width=0,!g.cutWidth||!g.cutHeight?this.renderFlags&=~u:this.renderFlags|=u,this.displayFrame=g,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(p,g){return p!==void 0&&(this.tilePositionX=p),g!==void 0&&(this.tilePositionY=g),this},setTileScale:function(p,g){return p===void 0&&(p=this.tileScaleX),g===void 0&&(g=p),this.tileScaleX=p,this.tileScaleY=g,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var p=this.displayFrame;if(p.source.isRenderTexture||p.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var g=this.fillContext,x=this.fillCanvas,T=this.potWidth,S=this.potHeight;(!this.renderer||!this.renderer.gl)&&(T=p.cutWidth,S=p.cutHeight),g.clearRect(0,0,T,S),x.width=T,x.height=S,g.drawImage(p.source.image,p.cutX,p.cutY,p.cutWidth,p.cutHeight,0,0,T,S),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(x,this.fillPattern):this.fillPattern=g.createPattern(x,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var p=this.canvas;if((p.width!==this.width||p.height!==this.height)&&(p.width=this.width,p.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var g=this.context;this.scene.sys.game.config.antialias||o.disable(g);var x=this._tileScale.x,T=this._tileScale.y,S=this._tilePosition.x,P=this._tilePosition.y;g.clearRect(0,0,this.width,this.height),g.save(),g.scale(x,T),g.translate(-S,-P),g.fillStyle=this.fillPattern,g.fillRect(S,P,this.width/x,this.height/T),g.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),f.remove(this.canvas),f.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null,this.texture.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(p){this._tilePosition.x=p,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(p){this._tilePosition.y=p,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(p){this._tileScale.x=p,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(p){this._tileScale.y=p,this.dirty=!0}}});h.exports=d},93305:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){f.updateCanvas(),c.addToRenderList(f),e.batchSprite(f,f.frame,c,s)};h.exports=y},63950:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(88933),c=e(99325),s=e(20494),a=e(35856);c.register("tileSprite",function(r,o){r===void 0&&(r={});var l=s(r,"x",0),v=s(r,"y",0),u=s(r,"width",512),d=s(r,"height",512),p=s(r,"key",""),g=s(r,"frame",""),x=new a(this.scene,l,v,u,d,p,g);return o!==void 0&&(r.add=o),f(this.scene,x,r),x})},20509:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(35856),c=e(61286);c.register("tileSprite",function(s,a,r,o,l,v){return this.displayList.add(new f(this.scene,s,a,r,o,l,v))})},9271:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),c=f,s=f;c=e(74287),s=e(93305),h.exports={renderWebGL:c,renderCanvas:s}},74287:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(75512),c=function(s,a,r,o){a.updateCanvas();var l=a.width,v=a.height;if(!(l===0||v===0)){r.addToRenderList(a);var u=f.getTintAppendFloatAlpha,d=s.pipelines.set(a.pipeline,a),p=d.setTexture2D(a.fillPattern,a);d.batchTexture(a,a.fillPattern,a.displayFrame.width*a.tileScaleX,a.displayFrame.height*a.tileScaleY,a.x,a.y,l,v,a.scaleX,a.scaleY,a.rotation,a.flipX,a.flipY,a.scrollFactorX,a.scrollFactorY,a.originX*l,a.originY*v,0,0,l,v,u(a.tintTopLeft,r.alpha*a._alphaTL),u(a.tintTopRight,r.alpha*a._alphaTR),u(a.tintBottomLeft,r.alpha*a._alphaBL),u(a.tintBottomRight,r.alpha*a._alphaBR),a.tintFill,a.tilePositionX%a.displayFrame.width/a.displayFrame.width,a.tilePositionY%a.displayFrame.height/a.displayFrame.height,r,o,!1,p)}};h.exports=c},8630:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(82897),c=e(56694),s=e(64937),a=e(56631),r=e(97081),o=e(89980),l=e(83392),v=e(76038),u=e(76583),d=e(77974),p=new c({Extends:o,Mixins:[s.Alpha,s.BlendMode,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Size,s.TextureCrop,s.Tint,s.Transform,s.Visible,d],initialize:function(x,T,S,P){o.call(this,x,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=u(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._rfvCallbackId=0;var E=x.sys.game;this._device=E.device.video,this.setPosition(T,S),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),E.events.on(r.PAUSE,this.globalPause,this),E.events.on(r.RESUME,this.globalResume,this);var R=x.sys.sound;R&&R.on(v.GLOBAL_MUTE,this.globalMute,this),P&&this.load(P)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(g){var x=this.scene.sys.cache.video.get(g);return x?(this.cacheKey=g,this.loadHandler(x.url,x.noAudio,x.crossOrigin)):console.warn("No video in cache for key: "+g),this},changeSource:function(g,x,T,S,P){x===void 0&&(x=!0),T===void 0&&(T=!1),this.cacheKey!==g&&(this.load(g),x&&this.play(T,S,P))},getVideoKey:function(){return this.cacheKey},loadURL:function(g,x,T){x===void 0&&(x=!1);var S=this._device.getVideoURL(g);return S?(this.cacheKey="",this.loadHandler(S.url,x,T)):console.warn("No supported video format found for "+g),this},loadMediaStream:function(g,x,T){return this.loadHandler(null,x,T,g)},loadHandler:function(g,x,T,S){x||(x=!1);var P=this.video;if(P?(this.removeLoadEventHandlers(),this.stop()):(P=document.createElement("video"),P.controls=!1,P.setAttribute("playsinline","playsinline"),P.setAttribute("preload","auto"),P.setAttribute("disablePictureInPicture","true")),x?(P.muted=!0,P.defaultMuted=!0,P.setAttribute("autoplay","autoplay")):(P.muted=!1,P.defaultMuted=!1,P.removeAttribute("autoplay")),T?P.setAttribute("crossorigin",T):P.removeAttribute("crossorigin"),S)if("srcObject"in P)try{P.srcObject=S}catch(E){if(E.name!=="TypeError")throw E;P.src=URL.createObjectURL(S)}else P.src=URL.createObjectURL(S);else P.src=g;return this.addLoadEventHandlers(),this.retry=0,this.video=P,this._playCalled=!1,P.load(),this},requestVideoFrame:function(g,x){var T=this.video;if(T){var S=x.width,P=x.height,E=this.videoTexture,R=this.videoTextureSource,A=!E||R.source!==T;A?(this._codePaused=T.paused,this._codeMuted=T.muted,E?(R.source=T,R.width=S,R.height=P,E.get().setSize(S,P)):(E=this.scene.sys.textures.create(this._key,T,S,P),E.add("__BASE",0,0,0,S,P),this.setTexture(E),this.videoTexture=E,this.videoTextureSource=E.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(a.VIDEO_TEXTURE,this,E)),this.setSizeToFrame(),this.updateDisplayOrigin()):R.update(),this.isStalled=!1,this.metadata=x;var w=x.mediaTime;A&&(this._lastUpdate=w,this.emit(a.VIDEO_CREATED,this,S,P),this.frameReady||(this.frameReady=!0,this.emit(a.VIDEO_PLAY,this))),this._playingMarker?w>=this._markerOut&&(T.loop?(T.currentTime=this._markerIn,this.emit(a.VIDEO_LOOP,this)):(this.stop(!1),this.emit(a.VIDEO_COMPLETE,this))):w<this._lastUpdate&&this.emit(a.VIDEO_LOOP,this),this._lastUpdate=w,this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(g,x,T){x===void 0&&(x=-1),T===void 0&&(T=l.MAX_SAFE_INTEGER);var S=this.video;return!S||this.isPlaying()?(S||console.warn("Video not loaded"),this):(g===void 0&&(g=S.loop),S.loop=g,this._markerIn=x,this._markerOut=T,this._playingMarker=x>-1&&T>x&&T<l.MAX_SAFE_INTEGER,this._playCalled||(this._rfvCallbackId=S.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},addLoadEventHandlers:function(){var g=this.video;g&&(g.addEventListener("error",this._loadCallbackHandler),g.addEventListener("abort",this._loadCallbackHandler))},removeLoadEventHandlers:function(){var g=this.video;g&&(g.removeEventListener("error",this._loadCallbackHandler),g.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var g=this.video;if(g){var x=this._callbacks;for(var T in x)g.addEventListener(T,x[T])}},removeEventHandlers:function(){var g=this.video;if(g){var x=this._callbacks;for(var T in x)g.removeEventListener(T,x[T])}},createPlayPromise:function(g){g===void 0&&(g=!0);var x=this.video,T=x.play();if(T!==void 0){var S=this.playSuccess.bind(this),P=this.playError.bind(this);if(!g){var E=this;P=function(){E.failedPlayAttempts++}}T.then(S).catch(P)}else x.addEventListener("playing",this._callbacks.legacy),g||this.failedPlayAttempts++},addMarker:function(g,x,T){return!isNaN(x)&&x>=0&&!isNaN(T)&&T>x&&(this.markers[g]=[x,T]),this},playMarker:function(g,x){var T=this.markers[g];return T&&this.play(x,T[0],T[1]),this},removeMarker:function(g){return delete this.markers[g],this},snapshot:function(g,x){return g===void 0&&(g=this.width),x===void 0&&(x=this.height),this.snapshotArea(0,0,this.width,this.height,g,x)},snapshotArea:function(g,x,T,S,P,E){g===void 0&&(g=0),x===void 0&&(x=0),T===void 0&&(T=this.width),S===void 0&&(S=this.height),P===void 0&&(P=T),E===void 0&&(E=S);var R=this.video,A=this.snapshotTexture;return A?(A.setSize(P,E),R&&A.context.drawImage(R,g,x,T,S,0,0,P,E)):(A=this.scene.sys.textures.createCanvas(u(),P,E),this.snapshotTexture=A,R&&A.context.drawImage(R,g,x,T,S,0,0,P,E)),A.update()},saveSnapshotTexture:function(g){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,g):this.snapshotTexture=this.scene.sys.textures.createCanvas(g,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(a.VIDEO_UNLOCKED,this));var g=this.scene.sys.sound;g&&g.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(g){var x=g.name;x==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(a.VIDEO_LOCKED,this)):x==="NotSupportedError"?(this.stop(!1),this.emit(a.VIDEO_UNSUPPORTED,this,g)):(this.stop(!1),this.emit(a.VIDEO_ERROR,this,g))},legacyPlayHandler:function(){var g=this.video;g&&(this.playSuccess(),g.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(a.VIDEO_PLAYING,this)},loadErrorHandler:function(g){this.stop(!1),this.emit(a.VIDEO_ERROR,this,g)},stalledHandler:function(g){this.isStalled=!0,this.emit(a.VIDEO_STALLED,this,g)},completeHandler:function(){this._playCalled=!1,this.emit(a.VIDEO_COMPLETE,this)},preUpdate:function(g,x){var T=this.video;!T||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=x,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(g){var x=this.video;if(x){var T=x.duration;if(T!==1/0&&!isNaN(T)){var S=T*g;this.setCurrentTime(S)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(g){var x=this.video;if(x){if(typeof g=="string"){var T=g[0],S=parseFloat(g.substr(1));T==="+"?g=x.currentTime+S:T==="-"&&(g=x.currentTime-S)}x.currentTime=g}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(a.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(a.VIDEO_SEEKED,this)},getProgress:function(){var g=this.video;if(g){var x=g.duration;if(x!==1/0&&!isNaN(x))return g.currentTime/x}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(g){g===void 0&&(g=!0),this._codeMuted=g;var x=this.video;return x&&(x.muted=this._systemMuted?!0:g),this},isMuted:function(){return this._codeMuted},globalMute:function(g,x){this._systemMuted=x;var T=this.video;T&&(T.muted=this._codeMuted?!0:x)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(g){g===void 0&&(g=!0);var x=this.video;return this._codePaused=g,x&&!x.ended&&(g?x.paused||(this.removeEventHandlers(),x.pause()):g||(this._playCalled?x.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(g){return g===void 0&&(g=1),this.video&&(this.video.volume=f(g,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(g){return this.video&&(this.video.playbackRate=g),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(g){return g===void 0&&(g=!0),this.video&&(this.video.loop=g),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(g,x){return x===void 0&&(x=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,g),this.videoTextureSource.setFlipY(x)),this._key=g,this.flipY=x,!!this.videoTexture},stop:function(g){g===void 0&&(g=!0);var x=this.video;return x&&(this.removeEventHandlers(),x.cancelVideoFrameCallback(this._rfvCallbackId),x.pause()),this.retry=0,this._playCalled=!1,g&&this.emit(a.VIDEO_STOP,this),this},removeVideoElement:function(){var g=this.video;if(g){for(g.parentNode&&g.parentNode.removeChild(g);g.hasChildNodes();)g.removeChild(g.firstChild);g.removeAttribute("autoplay"),g.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var g=this.scene.sys.game.events;g.off(r.PAUSE,this.globalPause,this),g.off(r.RESUME,this.globalResume,this);var x=this.scene.sys.sound;x&&x.off(v.GLOBAL_MUTE,this.globalMute,this)}});h.exports=p},56933:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){f.videoTexture&&(c.addToRenderList(f),e.batchSprite(f,f.frame,c,s))};h.exports=y},65601:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(88933),c=e(99325),s=e(20494),a=e(8630);c.register("video",function(r,o){r===void 0&&(r={});var l=s(r,"key",null),v=new a(this.scene,0,0,l);return o!==void 0&&(r.add=o),f(this.scene,v,r),v})},215:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(8630),c=e(61286);c.register("video",function(s,a,r){return this.displayList.add(new f(this.scene,s,a,r))})},77974:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),c=f,s=f;c=e(83572),s=e(56933),h.exports={renderWebGL:c,renderCanvas:s}},83572:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){f.videoTexture&&(c.addToRenderList(f),f.pipeline.batchSprite(f,c,s))};h.exports=y},71030:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(95723),c=e(26673),s=e(65650),a=e(56694),r=e(64937),o=e(89980),l=e(74118),v=e(94287),u=new a({Extends:o,Mixins:[r.Depth,r.GetBounds,r.Origin,r.Transform,r.ScrollFactor,r.Visible],initialize:function(p,g,x,T,S){T===void 0&&(T=1),S===void 0&&(S=T),o.call(this,p,"Zone"),this.setPosition(g,x),this.width=T,this.height=S,this.blendMode=f.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(d){this.scaleX=d/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(d){this.scaleY=d/this.height}},setSize:function(d,p,g){g===void 0&&(g=!0),this.width=d,this.height=p,this.updateDisplayOrigin();var x=this.input;return g&&x&&!x.customHitArea&&(x.hitArea.width=d,x.hitArea.height=p),this},setDisplaySize:function(d,p){return this.displayWidth=d,this.displayHeight=p,this},setCircleDropZone:function(d){return this.setDropZone(new c(0,0,d),s)},setRectangleDropZone:function(d,p){return this.setDropZone(new l(0,0,d,p),v)},setDropZone:function(d,p){return this.input||this.setInteractive(d,p,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(d,p,g){g.addToRenderList(p)},renderWebGL:function(d,p,g){g.addToRenderList(p)}});h.exports=u},24067:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(99325),c=e(20494),s=e(71030);f.register("zone",function(a){var r=c(a,"x",0),o=c(a,"y",0),l=c(a,"width",1),v=c(a,"height",l);return new s(this.scene,r,o,l,v)})},34546:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(71030),c=e(61286);c.register("zone",function(s,a,r,o){return this.displayList.add(new f(this.scene,s,a,r,o))})},95847:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.radius>0?Math.PI*e.radius*e.radius:0};h.exports=y},26673:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(65650),s=e(94026),a=e(62941),r=e(52394),o=e(30977),l=new f({initialize:function(u,d,p){u===void 0&&(u=0),d===void 0&&(d=0),p===void 0&&(p=0),this.type=r.CIRCLE,this.x=u,this.y=d,this._radius=p,this._diameter=p*2},contains:function(v,u){return c(this,v,u)},getPoint:function(v,u){return s(this,v,u)},getPoints:function(v,u,d){return a(this,v,u,d)},getRandomPoint:function(v){return o(this,v)},setTo:function(v,u,d){return this.x=v,this.y=u,this._radius=d,this._diameter=d*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(v,u){return u===void 0&&(u=v),this.x=v,this.y=u,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(v){this._radius=v,this._diameter=v*2}},diameter:{get:function(){return this._diameter},set:function(v){this._diameter=v,this._radius=v*.5}},left:{get:function(){return this.x-this._radius},set:function(v){this.x=v+this._radius}},right:{get:function(){return this.x+this._radius},set:function(v){this.x=v-this._radius}},top:{get:function(){return this.y-this._radius},set:function(v){this.y=v+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(v){this.y=v-this._radius}}});h.exports=l},37964:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return 2*(Math.PI*e.radius)};h.exports=y},72233:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),c=function(s,a,r){return r===void 0&&(r=new f),r.x=s.x+s.radius*Math.cos(a),r.y=s.y+s.radius*Math.sin(a),r};h.exports=c},61761:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(26673),c=function(s){return new f(s.x,s.y,s.radius)};h.exports=c},65650:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){if(e.radius>0&&f>=e.left&&f<=e.right&&c>=e.top&&c<=e.bottom){var s=(e.x-f)*(e.x-f),a=(e.y-c)*(e.y-c);return s+a<=e.radius*e.radius}else return!1};h.exports=y},39187:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(65650),c=function(s,a){return f(s,a.x,a.y)};h.exports=c},58672:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(65650),c=function(s,a){return f(s,a.x,a.y)&&f(s,a.right,a.y)&&f(s,a.x,a.bottom)&&f(s,a.right,a.bottom)};h.exports=c},42997:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return f.setTo(e.x,e.y,e.radius)};h.exports=y},94894:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e.x===f.x&&e.y===f.y&&e.radius===f.radius};h.exports=y},48027:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(74118),c=function(s,a){return a===void 0&&(a=new f),a.x=s.left,a.y=s.top,a.width=s.diameter,a.height=s.diameter,a};h.exports=c},94026:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72233),c=e(91806),s=e(83392),a=e(79967),r=function(o,l,v){v===void 0&&(v=new a);var u=c(l,0,s.PI2);return f(o,u,v)};h.exports=r},62941:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(37964),c=e(72233),s=e(91806),a=e(83392),r=function(o,l,v,u){u===void 0&&(u=[]),!l&&v>0&&(l=f(o)/v);for(var d=0;d<l;d++){var p=s(d/l,0,a.PI2);u.push(c(o,p))}return u};h.exports=r},34585:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){return e.x+=f,e.y+=c,e};h.exports=y},88665:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e.x+=f.x,e.y+=f.y,e};h.exports=y},30977:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),c=function(s,a){a===void 0&&(a=new f);var r=2*Math.PI*Math.random(),o=Math.random()+Math.random(),l=o>1?2-o:o,v=l*Math.cos(r),u=l*Math.sin(r);return a.x=s.x+v*s.radius,a.y=s.y+u*s.radius,a};h.exports=c},6112:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(26673);f.Area=e(95847),f.Circumference=e(37964),f.CircumferencePoint=e(72233),f.Clone=e(61761),f.Contains=e(65650),f.ContainsPoint=e(39187),f.ContainsRect=e(58672),f.CopyFrom=e(42997),f.Equals=e(94894),f.GetBounds=e(48027),f.GetPoint=e(94026),f.GetPoints=e(62941),f.Offset=e(34585),f.OffsetPoint=e(88665),f.Random=e(30977),h.exports=f},52394:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};h.exports=y},58605:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.isEmpty()?0:e.getMajorRadius()*e.getMinorRadius()*Math.PI};h.exports=y},39507:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){var f=e.width/2,c=e.height/2,s=Math.pow(f-c,2)/Math.pow(f+c,2);return Math.PI*(f+c)*(1+3*s/(10+Math.sqrt(4-3*s)))};h.exports=y},86998:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),c=function(s,a,r){r===void 0&&(r=new f);var o=s.width/2,l=s.height/2;return r.x=s.x+o*Math.cos(a),r.y=s.y+l*Math.sin(a),r};h.exports=c},81773:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(95669),c=function(s){return new f(s.x,s.y,s.width,s.height)};h.exports=c},72313:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){if(e.width<=0||e.height<=0)return!1;var s=(f-e.x)/e.width,a=(c-e.y)/e.height;return s*=s,a*=a,s+a<.25};h.exports=y},34368:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72313),c=function(s,a){return f(s,a.x,a.y)};h.exports=c},71431:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72313),c=function(s,a){return f(s,a.x,a.y)&&f(s,a.right,a.y)&&f(s,a.x,a.bottom)&&f(s,a.right,a.bottom)};h.exports=c},75459:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return f.setTo(e.x,e.y,e.width,e.height)};h.exports=y},95669:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(72313),s=e(95340),a=e(54978),r=e(52394),o=e(72006),l=new f({initialize:function(u,d,p,g){u===void 0&&(u=0),d===void 0&&(d=0),p===void 0&&(p=0),g===void 0&&(g=0),this.type=r.ELLIPSE,this.x=u,this.y=d,this.width=p,this.height=g},contains:function(v,u){return c(this,v,u)},getPoint:function(v,u){return s(this,v,u)},getPoints:function(v,u,d){return a(this,v,u,d)},getRandomPoint:function(v){return o(this,v)},setTo:function(v,u,d,p){return this.x=v,this.y=u,this.width=d,this.height=p,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(v,u){return u===void 0&&(u=v),this.x=v,this.y=u,this},setSize:function(v,u){return u===void 0&&(u=v),this.width=v,this.height=u,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(v){this.x=v+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(v){this.x=v-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(v){this.y=v+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(v){this.y=v-this.height/2}}});h.exports=l},98068:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e.x===f.x&&e.y===f.y&&e.width===f.width&&e.height===f.height};h.exports=y},72897:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(74118),c=function(s,a){return a===void 0&&(a=new f),a.x=s.left,a.y=s.top,a.width=s.width,a.height=s.height,a};h.exports=c},95340:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(86998),c=e(91806),s=e(83392),a=e(79967),r=function(o,l,v){v===void 0&&(v=new a);var u=c(l,0,s.PI2);return f(o,u,v)};h.exports=r},54978:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(39507),c=e(86998),s=e(91806),a=e(83392),r=function(o,l,v,u){u===void 0&&(u=[]),!l&&v>0&&(l=f(o)/v);for(var d=0;d<l;d++){var p=s(d/l,0,a.PI2);u.push(c(o,p))}return u};h.exports=r},77951:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){return e.x+=f,e.y+=c,e};h.exports=y},36233:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e.x+=f.x,e.y+=f.y,e};h.exports=y},72006:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),c=function(s,a){a===void 0&&(a=new f);var r=Math.random()*Math.PI*2,o=Math.sqrt(Math.random());return a.x=s.x+o*Math.cos(r)*s.width/2,a.y=s.y+o*Math.sin(r)*s.height/2,a};h.exports=c},40652:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(95669);f.Area=e(58605),f.Circumference=e(39507),f.CircumferencePoint=e(86998),f.Clone=e(81773),f.Contains=e(72313),f.ContainsPoint=e(34368),f.ContainsRect=e(71431),f.CopyFrom=e(75459),f.Equals=e(98068),f.GetBounds=e(72897),f.GetPoint=e(95340),f.GetPoints=e(54978),f.Offset=e(77951),f.OffsetPoint=e(36233),f.Random=e(72006),h.exports=f},84068:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(52394),c=e(98611),s={Circle:e(6112),Ellipse:e(40652),Intersects:e(7563),Line:e(28482),Mesh:e(14293),Point:e(63472),Polygon:e(44359),Rectangle:e(66658),Triangle:e(87619)};s=c(!1,s,f),h.exports=s},22184:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(53996),c=function(s,a){return f(s.x,s.y,a.x,a.y)<=s.radius+a.radius};h.exports=c},26535:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){var c=f.width/2,s=f.height/2,a=Math.abs(e.x-f.x-c),r=Math.abs(e.y-f.y-s),o=c+e.radius,l=s+e.radius;if(a>o||r>l)return!1;if(a<=c||r<=s)return!0;var v=a-c,u=r-s,d=v*v,p=u*u,g=e.radius*e.radius;return d+p<=g};h.exports=y},71145:(h,y,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),c=e(22184),s=function(a,r,o){if(o===void 0&&(o=[]),c(a,r)){var l=a.x,v=a.y,u=a.radius,d=r.x,p=r.y,g=r.radius,x,T,S,P,E;if(v===p)E=(g*g-u*u-d*d+l*l)/(2*(l-d)),x=1,T=-2*p,S=d*d+E*E-2*d*E+p*p-g*g,P=T*T-4*x*S,P===0?o.push(new f(E,-T/(2*x))):P>0&&(o.push(new f(E,(-T+Math.sqrt(P))/(2*x))),o.push(new f(E,(-T-Math.sqrt(P))/(2*x))));else{var R=(l-d)/(v-p),A=(g*g-u*u-d*d+l*l-p*p+v*v)/(2*(v-p));x=R*R+1,T=2*v*R-2*A*R-2*l,S=l*l+v*v+A*A-u*u-2*v*A,P=T*T-4*x*S,P===0?(E=-T/(2*x),o.push(new f(E,A-E*R))):P>0&&(E=(-T+Math.sqrt(P))/(2*x),o.push(new f(E,A-E*R)),E=(-T-Math.sqrt(P))/(2*x),o.push(new f(E,A-E*R)))}}return o};h.exports=s},62508:(h,y,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(26111),c=e(26535),s=function(a,r,o){if(o===void 0&&(o=[]),c(a,r)){var l=r.getLineA(),v=r.getLineB(),u=r.getLineC(),d=r.getLineD();f(l,a,o),f(v,a,o),f(u,a,o),f(d,a,o)}return o};h.exports=s},26111:(h,y,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),c=e(61472),s=function(a,r,o){if(o===void 0&&(o=[]),c(a,r)){var l=a.x1,v=a.y1,u=a.x2,d=a.y2,p=r.x,g=r.y,x=r.radius,T=u-l,S=d-v,P=l-p,E=v-g,R=T*T+S*S,A=2*(T*P+S*E),w=P*P+E*E-x*x,O=A*A-4*R*w,L,F;if(O===0){var I=-A/(2*R);L=l+I*T,F=v+I*S,I>=0&&I<=1&&o.push(new f(L,F))}else if(O>0){var b=(-A-Math.sqrt(O))/(2*R);L=l+b*T,F=v+b*S,b>=0&&b<=1&&o.push(new f(L,F));var G=(-A+Math.sqrt(O))/(2*R);L=l+G*T,F=v+G*S,G>=0&&G<=1&&o.push(new f(L,F))}}return o};h.exports=s},96537:(h,y,e)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(70015),c=function(s,a,r,o){r===void 0&&(r=!1);var l=s.x1,v=s.y1,u=s.x2,d=s.y2,p=a.x1,g=a.y1,x=a.x2,T=a.y2,S=u-l,P=d-v,E=x-p,R=T-g,A=S*R-P*E;if(A===0)return null;var w,O,L;if(r){if(w=(S*(g-v)+P*(l-p))/(E*P-R*S),O=(p+E*w-l)/S,O<0||w<0||w>1)return null;L=O}else{if(w=((p-l)*R-(g-v)*E)/A,O=((v-g)*S-(l-p)*P)/A,w<0||w>1||O<0||O>1)return null;L=w}return o===void 0&&(o=new f),o.set(l+S*L,v+P*L,L)};h.exports=c},17647:(h,y,e)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(96537),c=e(88829),s=e(70015),a=new c,r=new s,o=function(l,v,u,d){u===void 0&&(u=!1),d===void 0&&(d=new s);var p=!1;d.set(),r.set();for(var g=v[0],x=1;x<v.length;x++){var T=v[x];a.setTo(g.x,g.y,T.x,T.y),g=T,f(l,a,u,r)&&(!p||r.z<d.z)&&(d.copy(r),p=!0)}return p?d:null};h.exports=o},68439:(h,y,e)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(70015),c=e(51729),s=e(17647),a=new f,r=function(o,l,v,u){u===void 0&&(u=new c),Array.isArray(l)||(l=[l]);var d=!1;u.set(),a.set();for(var p=0;p<l.length;p++)s(o,l[p].points,v,a)&&(!d||a.z<u.z)&&(u.set(a.x,a.y,a.z,p),d=!0);return d?u:null};h.exports=r},9569:(h,y,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),c=e(25227),s=e(47910),a=function(r,o,l){if(l===void 0&&(l=[]),s(r,o))for(var v=o.getLineA(),u=o.getLineB(),d=o.getLineC(),p=o.getLineD(),g=[new f,new f,new f,new f],x=[c(v,r,g[0]),c(u,r,g[1]),c(d,r,g[2]),c(p,r,g[3])],T=0;T<4;T++)x[T]&&l.push(g[T]);return l};h.exports=a},7449:(h,y,e)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(51729),c=e(68439),s=e(88829),a=new s;function r(v,u,d,p,g){var x=Math.cos(v),T=Math.sin(v);a.setTo(u,d,u+x,d+T);var S=c(a,p,!0);S&&g.push(new f(S.x,S.y,v,S.w))}function o(v,u){return v.z-u.z}var l=function(v,u,d){Array.isArray(d)||(d=[d]);for(var p=[],g=[],x=0;x<d.length;x++)for(var T=d[x].points,S=0;S<T.length;S++){var P=Math.atan2(T[S].y-u,T[S].x-v);g.indexOf(P)===-1&&(r(P,v,u,d,p),r(P-1e-5,v,u,d,p),r(P+1e-5,v,u,d,p),g.push(P))}return p.sort(o)};h.exports=l},82931:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(74118),c=e(90205),s=function(a,r,o){return o===void 0&&(o=new f),c(a,r)&&(o.x=Math.max(a.x,r.x),o.y=Math.max(a.y,r.y),o.width=Math.min(a.right,r.right)-o.x,o.height=Math.min(a.bottom,r.bottom)-o.y),o};h.exports=s},1946:(h,y,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(9569),c=e(90205),s=function(a,r,o){if(o===void 0&&(o=[]),c(a,r)){var l=a.getLineA(),v=a.getLineB(),u=a.getLineC(),d=a.getLineD();f(l,r,o),f(v,r,o),f(u,r,o),f(d,r,o)}return o};h.exports=s},34211:(h,y,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(20370),c=e(9569),s=function(a,r,o){if(o===void 0&&(o=[]),f(a,r)){var l=r.getLineA(),v=r.getLineB(),u=r.getLineC();c(l,a,o),c(v,a,o),c(u,a,o)}return o};h.exports=s},80511:(h,y,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(26111),c=e(48411),s=function(a,r,o){if(o===void 0&&(o=[]),c(a,r)){var l=a.getLineA(),v=a.getLineB(),u=a.getLineC();f(l,r,o),f(v,r,o),f(u,r,o)}return o};h.exports=s},31343:(h,y,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),c=e(86117),s=e(25227),a=function(r,o,l){if(l===void 0&&(l=[]),c(r,o))for(var v=r.getLineA(),u=r.getLineB(),d=r.getLineC(),p=[new f,new f,new f],g=[s(v,o,p[0]),s(u,o,p[1]),s(d,o,p[2])],x=0;x<3;x++)g[x]&&l.push(p[x]);return l};h.exports=a},70534:(h,y,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(23589),c=e(31343),s=function(a,r,o){if(o===void 0&&(o=[]),f(a,r)){var l=r.getLineA(),v=r.getLineB(),u=r.getLineC();c(a,l,o),c(a,v,o),c(a,u,o)}return o};h.exports=s},61472:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(65650),c=e(79967),s=new c,a=function(r,o,l){if(l===void 0&&(l=s),f(o,r.x1,r.y1))return l.x=r.x1,l.y=r.y1,!0;if(f(o,r.x2,r.y2))return l.x=r.x2,l.y=r.y2,!0;var v=r.x2-r.x1,u=r.y2-r.y1,d=o.x-r.x1,p=o.y-r.y1,g=v*v+u*u,x=v,T=u;if(g>0){var S=(d*v+p*u)/g;x*=S,T*=S}l.x=r.x1+x,l.y=r.y1+T;var P=x*x+T*T;return P<=g&&x*v+T*u>=0&&f(o,l.x,l.y)};h.exports=a},25227:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){var s=e.x1,a=e.y1,r=e.x2,o=e.y2,l=f.x1,v=f.y1,u=f.x2,d=f.y2;if(s===r&&a===o||l===u&&v===d)return!1;var p=(d-v)*(r-s)-(u-l)*(o-a);if(p===0)return!1;var g=((u-l)*(a-v)-(d-v)*(s-l))/p,x=((r-s)*(a-v)-(o-a)*(s-l))/p;return g<0||g>1||x<0||x>1?!1:(c&&(c.x=s+g*(r-s),c.y=a+g*(o-a)),!0)};h.exports=y},47910:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){var c=e.x1,s=e.y1,a=e.x2,r=e.y2,o=f.x,l=f.y,v=f.right,u=f.bottom,d=0;if(c>=o&&c<=v&&s>=l&&s<=u||a>=o&&a<=v&&r>=l&&r<=u)return!0;if(c<o&&a>=o){if(d=s+(r-s)*(o-c)/(a-c),d>l&&d<=u)return!0}else if(c>v&&a<=v&&(d=s+(r-s)*(v-c)/(a-c),d>=l&&d<=u))return!0;if(s<l&&r>=l){if(d=c+(a-c)*(l-s)/(r-s),d>=o&&d<=v)return!0}else if(s>u&&r<=u&&(d=c+(a-c)*(u-s)/(r-s),d>=o&&d<=v))return!0;return!1};h.exports=y},34426:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){c===void 0&&(c=1);var s=f.x1,a=f.y1,r=f.x2,o=f.y2,l=e.x,v=e.y,u=(r-s)*(r-s)+(o-a)*(o-a);if(u===0)return!1;var d=((l-s)*(r-s)+(v-a)*(o-a))/u;if(d<0)return Math.sqrt((s-l)*(s-l)+(a-v)*(a-v))<=c;if(d>=0&&d<=1){var p=((a-v)*(r-s)-(s-l)*(o-a))/u;return Math.abs(p)*Math.sqrt(u)<=c}else return Math.sqrt((r-l)*(r-l)+(o-v)*(o-v))<=c};h.exports=y},81414:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(34426),c=function(s,a){if(!f(s,a))return!1;var r=Math.min(a.x1,a.x2),o=Math.max(a.x1,a.x2),l=Math.min(a.y1,a.y2),v=Math.max(a.y1,a.y2);return s.x>=r&&s.x<=o&&s.y>=l&&s.y<=v};h.exports=c},90205:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e.width<=0||e.height<=0||f.width<=0||f.height<=0?!1:!(e.right<f.x||e.bottom<f.y||e.x>f.right||e.y>f.bottom)};h.exports=y},20370:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(25227),c=e(94287),s=e(86875),a=e(87279),r=function(o,l){if(l.left>o.right||l.right<o.left||l.top>o.bottom||l.bottom<o.top)return!1;var v=l.getLineA(),u=l.getLineB(),d=l.getLineC();if(c(o,v.x1,v.y1)||c(o,v.x2,v.y2)||c(o,u.x1,u.y1)||c(o,u.x2,u.y2)||c(o,d.x1,d.y1)||c(o,d.x2,d.y2))return!0;var p=o.getLineA(),g=o.getLineB(),x=o.getLineC(),T=o.getLineD();if(f(v,p)||f(v,g)||f(v,x)||f(v,T)||f(u,p)||f(u,g)||f(u,x)||f(u,T)||f(d,p)||f(d,g)||f(d,x)||f(d,T))return!0;var S=a(o),P=s(l,S,!0);return P.length>0};h.exports=r},8786:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s,a,r){return r===void 0&&(r=0),!(f>e.right+r||c<e.left-r||s>e.bottom+r||a<e.top-r)};h.exports=y},48411:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61472),c=e(60689),s=function(a,r){return a.left>r.right||a.right<r.left||a.top>r.bottom||a.bottom<r.top?!1:!!(c(a,r.x,r.y)||f(a.getLineA(),r)||f(a.getLineB(),r)||f(a.getLineC(),r))};h.exports=s},86117:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(25227),c=function(s,a){return!!(s.contains(a.x1,a.y1)||s.contains(a.x2,a.y2)||f(s.getLineA(),a)||f(s.getLineB(),a)||f(s.getLineC(),a))};h.exports=c},23589:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(86875),c=e(18680),s=e(25227),a=function(r,o){if(r.left>o.right||r.right<o.left||r.top>o.bottom||r.bottom<o.top)return!1;var l=r.getLineA(),v=r.getLineB(),u=r.getLineC(),d=o.getLineA(),p=o.getLineB(),g=o.getLineC();if(s(l,d)||s(l,p)||s(l,g)||s(v,d)||s(v,p)||s(v,g)||s(u,d)||s(u,p)||s(u,g))return!0;var x=c(r),T=f(o,x,!0);return T.length>0||(x=c(o),T=f(r,x,!0),T.length>0)};h.exports=a},7563:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={CircleToCircle:e(22184),CircleToRectangle:e(26535),GetCircleToCircle:e(71145),GetCircleToRectangle:e(62508),GetLineToCircle:e(26111),GetLineToLine:e(96537),GetLineToPoints:e(17647),GetLineToPolygon:e(68439),GetLineToRectangle:e(9569),GetRaysFromPointToPolygon:e(7449),GetRectangleIntersection:e(82931),GetRectangleToRectangle:e(1946),GetRectangleToTriangle:e(34211),GetTriangleToCircle:e(80511),GetTriangleToLine:e(31343),GetTriangleToTriangle:e(70534),LineToCircle:e(61472),LineToLine:e(25227),LineToRectangle:e(47910),PointToLine:e(34426),PointToLineSegment:e(81414),RectangleToRectangle:e(90205),RectangleToTriangle:e(20370),RectangleToValues:e(8786),TriangleToCircle:e(48411),TriangleToLine:e(86117),TriangleToTriangle:e(23589)}},50599:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return Math.atan2(e.y2-e.y1,e.x2-e.x1)};h.exports=y},58813:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){f===void 0&&(f=1),c===void 0&&(c=[]);var s=Math.round(e.x1),a=Math.round(e.y1),r=Math.round(e.x2),o=Math.round(e.y2),l=Math.abs(r-s),v=Math.abs(o-a),u=s<r?1:-1,d=a<o?1:-1,p=l-v;c.push({x:s,y:a});for(var g=1;!(s===r&&a===o);){var x=p<<1;x>-v&&(p-=v,s+=u),x<l&&(p+=l,a+=d),g%f===0&&c.push({x:s,y:a}),g++}return c};h.exports=y},88513:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){var s=f-(e.x1+e.x2)/2,a=c-(e.y1+e.y2)/2;return e.x1+=s,e.y1+=a,e.x2+=s,e.y2+=a,e};h.exports=y},26718:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(88829),c=function(s){return new f(s.x1,s.y1,s.x2,s.y2)};h.exports=c},88930:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return f.setTo(e.x1,e.y1,e.x2,e.y2)};h.exports=y},90656:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e.x1===f.x1&&e.y1===f.y1&&e.x2===f.x2&&e.y2===f.y2};h.exports=y},30897:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(16028),c=function(s,a,r){r===void 0&&(r=a);var o=f(s),l=s.x2-s.x1,v=s.y2-s.y1;return a&&(s.x1=s.x1-l/o*a,s.y1=s.y1-v/o*a),r&&(s.x2=s.x2+l/o*r,s.y2=s.y2+v/o*r),s};h.exports=c},30684:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(92951),c=e(21902),s=e(79967),a=function(r,o,l,v,u){v===void 0&&(v=0),u===void 0&&(u=[]);var d=[],p=r.x1,g=r.y1,x=r.x2-p,T=r.y2-g,S=c(o,u),P,E,R=l-1;for(P=0;P<R;P++)E=S(P/R),d.push(new s(p+x*E,g+T*E));if(E=S(1),d.push(new s(p+x*E,g+T*E)),v>0){var A=d[0],w=[A];for(P=1;P<d.length-1;P++){var O=d[P];f(A,O)>=v&&(w.push(O),A=O)}var L=d[d.length-1];return f(A,L)<v&&w.pop(),w.push(L),w}else return d};h.exports=a},20487:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),c=function(s,a){return a===void 0&&(a=new f),a.x=(s.x1+s.x2)/2,a.y=(s.y1+s.y2)/2,a};h.exports=c},11222:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),c=function(s,a,r){r===void 0&&(r=new f);var o=s.x1,l=s.y1,v=s.x2,u=s.y2,d=(v-o)*(v-o)+(u-l)*(u-l);if(d===0)return r;var p=((a.x-o)*(v-o)+(a.y-l)*(u-l))/d;return r.x=o+p*(v-o),r.y=l+p*(u-l),r};h.exports=c},7377:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(83392),c=e(50599),s=e(79967),a=function(r,o){o===void 0&&(o=new s);var l=c(r)-f.TAU;return o.x=Math.cos(l),o.y=Math.sin(l),o};h.exports=a},66464:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),c=function(s,a,r){return r===void 0&&(r=new f),r.x=s.x1+(s.x2-s.x1)*a,r.y=s.y1+(s.y2-s.y1)*a,r};h.exports=c},8570:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(16028),c=e(79967),s=function(a,r,o,l){l===void 0&&(l=[]),!r&&o>0&&(r=f(a)/o);for(var v=a.x1,u=a.y1,d=a.x2,p=a.y2,g=0;g<r;g++){var x=g/r,T=v+(d-v)*x,S=u+(p-u)*x;l.push(new c(T,S))}return l};h.exports=s},65269:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){var c=e.x1,s=e.y1,a=e.x2,r=e.y2,o=(a-c)*(a-c)+(r-s)*(r-s);if(o===0)return!1;var l=((s-f.y)*(a-c)-(c-f.x)*(r-s))/o;return Math.abs(l)*Math.sqrt(o)};h.exports=y},82996:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return Math.abs(e.y1-e.y2)};h.exports=y},16028:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return Math.sqrt((e.x2-e.x1)*(e.x2-e.x1)+(e.y2-e.y1)*(e.y2-e.y1))};h.exports=y},88829:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(66464),s=e(8570),a=e(52394),r=e(74077),o=e(93736),l=new f({initialize:function(u,d,p,g){u===void 0&&(u=0),d===void 0&&(d=0),p===void 0&&(p=0),g===void 0&&(g=0),this.type=a.LINE,this.x1=u,this.y1=d,this.x2=p,this.y2=g},getPoint:function(v,u){return c(this,v,u)},getPoints:function(v,u,d){return s(this,v,u,d)},getRandomPoint:function(v){return r(this,v)},setTo:function(v,u,d,p){return v===void 0&&(v=0),u===void 0&&(u=0),d===void 0&&(d=0),p===void 0&&(p=0),this.x1=v,this.y1=u,this.x2=d,this.y2=p,this},getPointA:function(v){return v===void 0&&(v=new o),v.set(this.x1,this.y1),v},getPointB:function(v){return v===void 0&&(v=new o),v.set(this.x2,this.y2),v},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(v){this.x1<=this.x2?this.x1=v:this.x2=v}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(v){this.x1>this.x2?this.x1=v:this.x2=v}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(v){this.y1<=this.y2?this.y1=v:this.y2=v}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(v){this.y1>this.y2?this.y1=v:this.y2=v}}});h.exports=l},73273:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(83392),c=e(1071),s=e(50599),a=function(r){var o=s(r)-f.TAU;return c(o,-Math.PI,Math.PI)};h.exports=a},96936:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(83392),c=e(50599),s=function(a){return Math.cos(c(a)-f.TAU)};h.exports=s},43581:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(83392),c=e(50599),s=function(a){return Math.sin(c(a)-f.TAU)};h.exports=s},13990:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){return e.x1+=f,e.y1+=c,e.x2+=f,e.y2+=c,e};h.exports=y},1298:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return-((e.x2-e.x1)/(e.y2-e.y1))};h.exports=y},74077:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),c=function(s,a){a===void 0&&(a=new f);var r=Math.random();return a.x=s.x1+r*(s.x2-s.x1),a.y=s.y1+r*(s.y2-s.y1),a};h.exports=c},30473:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(50599),c=e(73273),s=function(a,r){return 2*c(r)-Math.PI-f(a)};h.exports=s},25968:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(1809),c=function(s,a){var r=(s.x1+s.x2)/2,o=(s.y1+s.y2)/2;return f(s,r,o,a)};h.exports=c},24296:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(1809),c=function(s,a,r){return f(s,a.x,a.y,r)};h.exports=c},1809:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){var a=Math.cos(s),r=Math.sin(s),o=e.x1-f,l=e.y1-c;return e.x1=o*a-l*r+f,e.y1=o*r+l*a+c,o=e.x2-f,l=e.y2-c,e.x2=o*a-l*r+f,e.y2=o*r+l*a+c,e};h.exports=y},88171:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s,a){return e.x1=f,e.y1=c,e.x2=f+Math.cos(s)*a,e.y2=c+Math.sin(s)*a,e};h.exports=y},82797:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return(e.y2-e.y1)/(e.x2-e.x1)};h.exports=y},41067:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return Math.abs(e.x1-e.x2)};h.exports=y},28482:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(88829);f.Angle=e(50599),f.BresenhamPoints=e(58813),f.CenterOn=e(88513),f.Clone=e(26718),f.CopyFrom=e(88930),f.Equals=e(90656),f.Extend=e(30897),f.GetEasedPoints=e(30684),f.GetMidPoint=e(20487),f.GetNearestPoint=e(11222),f.GetNormal=e(7377),f.GetPoint=e(66464),f.GetPoints=e(8570),f.GetShortestDistance=e(65269),f.Height=e(82996),f.Length=e(16028),f.NormalAngle=e(73273),f.NormalX=e(96936),f.NormalY=e(43581),f.Offset=e(13990),f.PerpSlope=e(1298),f.Random=e(74077),f.ReflectAngle=e(30473),f.Rotate=e(25968),f.RotateAroundPoint=e(24296),f.RotateAroundXY=e(1809),f.SetToAngle=e(88171),f.Slope=e(82797),f.Width=e(41067),h.exports=f},18693:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(74118),s=e(93736);function a(o,l,v,u){var d=o-v,p=l-u,g=d*d+p*p;return Math.sqrt(g)}var r=new f({initialize:function(l,v,u){this.vertex1=l,this.vertex2=v,this.vertex3=u,this.bounds=new c,this._inCenter=new s},getInCenter:function(o){o===void 0&&(o=!0);var l=this.vertex1,v=this.vertex2,u=this.vertex3,d,p,g,x,T,S;o?(d=l.x,p=l.y,g=v.x,x=v.y,T=u.x,S=u.y):(d=l.vx,p=l.vy,g=v.vx,x=v.vy,T=u.vx,S=u.vy);var P=a(T,S,g,x),E=a(d,p,T,S),R=a(g,x,d,p),A=P+E+R;return this._inCenter.set((d*P+g*E+T*R)/A,(p*P+x*E+S*R)/A)},contains:function(o,l,v){var u=this.vertex1,d=this.vertex2,p=this.vertex3,g=u.vx,x=u.vy,T=d.vx,S=d.vy,P=p.vx,E=p.vy;if(v){var R=v.a,A=v.b,w=v.c,O=v.d,L=v.e,F=v.f;g=u.vx*R+u.vy*w+L,x=u.vx*A+u.vy*O+F,T=d.vx*R+d.vy*w+L,S=d.vx*A+d.vy*O+F,P=p.vx*R+p.vy*w+L,E=p.vx*A+p.vy*O+F}var I=P-g,b=E-x,G=T-g,N=S-x,U=o-g,Y=l-x,X=I*I+b*b,B=I*G+b*N,z=I*U+b*Y,D=G*G+N*N,V=G*U+N*Y,k=X*D-B*B,W=k===0?0:1/k,H=(D*z-B*V)*W,$=(X*V-B*z)*W;return H>=0&&$>=0&&H+$<1},isCounterClockwise:function(o){var l=this.vertex1,v=this.vertex2,u=this.vertex3,d=(v.vx-l.vx)*(u.vy-l.vy)-(v.vy-l.vy)*(u.vx-l.vx);return o<=0?d>=0:d<0},load:function(o,l,v,u,d){return v=this.vertex1.load(o,l,v,u,d),v=this.vertex2.load(o,l,v,u,d),v=this.vertex3.load(o,l,v,u,d),v},transformCoordinatesLocal:function(o,l,v,u){return this.vertex1.transformCoordinatesLocal(o,l,v,u),this.vertex2.transformCoordinatesLocal(o,l,v,u),this.vertex3.transformCoordinatesLocal(o,l,v,u),this},updateBounds:function(){var o=this.vertex1,l=this.vertex2,v=this.vertex3,u=this.bounds;return u.x=Math.min(o.vx,l.vx,v.vx),u.y=Math.min(o.vy,l.vy,v.vy),u.width=Math.max(o.vx,l.vx,v.vx)-u.x,u.height=Math.max(o.vy,l.vy,v.vy)-u.y,this},isInView:function(o,l,v,u,d,p,g,x,T,S,P){this.update(u,d,p,g,x,T,S,P);var E=this.vertex1,R=this.vertex2,A=this.vertex3;if(E.ta<=0&&R.ta<=0&&A.ta<=0||l&&!this.isCounterClockwise(v))return!1;var w=this.bounds;w.x=Math.min(E.tx,R.tx,A.tx),w.y=Math.min(E.ty,R.ty,A.ty),w.width=Math.max(E.tx,R.tx,A.tx)-w.x,w.height=Math.max(E.ty,R.ty,A.ty)-w.y;var O=o.x+o.width,L=o.y+o.height;return w.width<=0||w.height<=0||o.width<=0||o.height<=0?!1:!(w.right<o.x||w.bottom<o.y||w.x>O||w.y>L)},scrollUV:function(o,l){return this.vertex1.scrollUV(o,l),this.vertex2.scrollUV(o,l),this.vertex3.scrollUV(o,l),this},scaleUV:function(o,l){return this.vertex1.scaleUV(o,l),this.vertex2.scaleUV(o,l),this.vertex3.scaleUV(o,l),this},setColor:function(o){return this.vertex1.color=o,this.vertex2.color=o,this.vertex3.color=o,this},update:function(o,l,v,u,d,p,g,x){return this.vertex1.update(l,v,u,d,p,g,x,o),this.vertex2.update(l,v,u,d,p,g,x,o),this.vertex3.update(l,v,u,d,p,g,x,o),this},translate:function(o,l){l===void 0&&(l=0);var v=this.vertex1,u=this.vertex2,d=this.vertex3;return v.x+=o,v.y+=l,u.x+=o,u.y+=l,d.x+=o,d.y+=l,this},x:{get:function(){return this.getInCenter().x},set:function(o){var l=this.getInCenter();this.translate(o-l.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(o){var l=this.getInCenter();this.translate(0,o-l.y)}},alpha:{get:function(){var o=this.vertex1,l=this.vertex2,v=this.vertex3;return(o.alpha+l.alpha+v.alpha)/3},set:function(o){this.vertex1.alpha=o,this.vertex2.alpha=o,this.vertex3.alpha=o}},depth:{get:function(){var o=this.vertex1,l=this.vertex2,v=this.vertex3;return(o.vz+l.vz+v.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});h.exports=r},99425:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(18693),c=e(72632),s=e(16650),a=e(70015),r=e(85769),o=new a,l=new a,v=new s,u=function(d){var p=c(d,"mesh"),g=c(d,"texture",null),x=c(d,"frame"),T=c(d,"width",1),S=c(d,"height",T),P=c(d,"widthSegments",1),E=c(d,"heightSegments",P),R=c(d,"x",0),A=c(d,"y",0),w=c(d,"z",0),O=c(d,"rotateX",0),L=c(d,"rotateY",0),F=c(d,"rotateZ",0),I=c(d,"zIsUp",!0),b=c(d,"isOrtho",p?p.dirtyCache[11]:!1),G=c(d,"colors",[16777215]),N=c(d,"alphas",[1]),U=c(d,"tile",!1),Y=c(d,"flipY",!1),X=c(d,"width",null),B={faces:[],verts:[]};o.set(R,A,w),l.set(O,L,F),v.fromRotationXYTranslation(l,o,I);var z;if(!g&&p)g=p.texture,x||(z=p.frame);else if(p&&typeof g=="string")g=p.scene.sys.textures.get(g);else if(!g)return B;z||(z=g.get(x)),!X&&b&&g&&p&&(T=z.width/p.height,S=z.height/p.height);var D=T/2,V=S/2,k=Math.floor(P),W=Math.floor(E),H=k+1,$=W+1,K=T/k,j=S/W,Z=[],J=[],Q,q,_=0,et=1,st=0,it=1;z&&(_=z.u0,et=z.u1,Y?(st=z.v1,it=z.v0):(st=z.v0,it=z.v1));var lt=et-_,tt=it-st;for(q=0;q<$;q++){var ht=q*j-V;for(Q=0;Q<H;Q++){var rt=Q*K-D;J.push(rt,-ht);var ft=_+lt*(Q/k),ct=st+tt*(q/W);Z.push(ft,ct)}}Array.isArray(G)||(G=[G]),Array.isArray(N)||(N=[N]);var yt=0,mt=0;for(q=0;q<W;q++)for(Q=0;Q<k;Q++){var dt=(Q+H*q)*2,gt=(Q+H*(q+1))*2,St=(Q+1+H*(q+1))*2,Vt=(Q+1+H*q)*2,It=G[mt],zt=N[yt],kt=new r(J[dt],J[dt+1],0,Z[dt],Z[dt+1],It,zt).transformMat4(v),ze=new r(J[gt],J[gt+1],0,Z[gt],Z[gt+1],It,zt).transformMat4(v),qe=new r(J[Vt],J[Vt+1],0,Z[Vt],Z[Vt+1],It,zt).transformMat4(v),Bn=new r(J[gt],J[gt+1],0,Z[gt],Z[gt+1],It,zt).transformMat4(v),bn=new r(J[St],J[St+1],0,Z[St],Z[St+1],It,zt).transformMat4(v),Gn=new r(J[Vt],J[Vt+1],0,Z[Vt],Z[Vt+1],It,zt).transformMat4(v);U&&(kt.setUVs(_,it),ze.setUVs(_,st),qe.setUVs(et,it),Bn.setUVs(_,st),bn.setUVs(et,st),Gn.setUVs(et,it)),mt++,mt===G.length&&(mt=0),yt++,yt===N.length&&(yt=0),B.verts.push(kt,ze,qe,Bn,bn,Gn),B.faces.push(new f(kt,ze,qe),new f(Bn,bn,Gn))}return p&&(p.faces=p.faces.concat(B.faces),p.vertices=p.vertices.concat(B.verts)),B};h.exports=u},53267:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(18693),c=e(16650),s=e(70015),a=e(85769),r=new s,o=new s,l=new c,v=function(u,d,p,g,x,T,S,P,E,R){p===void 0&&(p=1),g===void 0&&(g=0),x===void 0&&(x=0),T===void 0&&(T=0),S===void 0&&(S=0),P===void 0&&(P=0),E===void 0&&(E=0),R===void 0&&(R=!0);var A={faces:[],verts:[]},w=u.materials;r.set(g,x,T),o.set(S,P,E),l.fromRotationXYTranslation(o,r,R);for(var O=0;O<u.models.length;O++)for(var L=u.models[O],F=L.vertices,I=L.textureCoords,b=L.faces,G=0;G<b.length;G++){var N=b[G],U=N.vertices[0],Y=N.vertices[1],X=N.vertices[2],B=F[U.vertexIndex],z=F[Y.vertexIndex],D=F[X.vertexIndex],V=U.textureCoordsIndex,k=Y.textureCoordsIndex,W=X.textureCoordsIndex,H=V===-1?{u:0,v:1}:I[V],$=k===-1?{u:0,v:0}:I[k],K=W===-1?{u:1,v:1}:I[W],j=16777215;N.material!==""&&w[N.material]&&(j=w[N.material]);var Z=new a(B.x*p,B.y*p,B.z*p,H.u,H.v,j).transformMat4(l),J=new a(z.x*p,z.y*p,z.z*p,$.u,$.v,j).transformMat4(l),Q=new a(D.x*p,D.y*p,D.z*p,K.u,K.v,j).transformMat4(l);A.verts.push(Z,J,Q),A.faces.push(new f(Z,J,Q))}return d&&(d.faces=d.faces.concat(A.faces),d.vertices=d.vertices.concat(A.verts)),A};h.exports=v},67623:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(18693),c=e(85769),s=function(a,r,o,l,v,u,d,p){if(l===void 0&&(l=!1),u===void 0&&(u=16777215),d===void 0&&(d=1),p===void 0&&(p=!1),a.length!==r.length&&!l){console.warn("GenerateVerts: vertices and uvs count not equal");return}var g={faces:[],vertices:[]},x,T,S,P,E,R,A,w,O,L,F,I=l?3:2,b=Array.isArray(u),G=Array.isArray(d);if(Array.isArray(o)&&o.length>0)for(x=0;x<o.length;x++){var N=o[x],U=o[x]*2,Y=o[x]*I;T=a[Y],S=a[Y+1],P=l?a[Y+2]:0,E=r[U],R=r[U+1],p&&(R=1-R),A=b?u[N]:u,w=G?d[N]:d,O=0,L=0,F=0,v&&(O=v[Y],L=v[Y+1],F=l?v[Y+2]:0),g.vertices.push(new c(T,S,P,E,R,A,w,O,L,F))}else{var X=0,B=0;for(x=0;x<a.length;x+=I)T=a[x],S=a[x+1],P=l?a[x+2]:0,E=r[X],R=r[X+1],A=b?u[B]:u,w=G?d[B]:d,O=0,L=0,F=0,v&&(O=v[x],L=v[x+1],F=l?v[x+2]:0),g.vertices.push(new c(T,S,P,E,R,A,w,O,L,F)),X+=2,B++}for(x=0;x<g.vertices.length;x+=3){var z=g.vertices[x],D=g.vertices[x+1],V=g.vertices[x+2];g.faces.push(new f(z,D,V))}return g};h.exports=s},27291:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=!0,e="untitled",f="",c="";function s(T){var S=T.indexOf("#");return S>-1?T.substring(0,S):T}function a(T){return T.models.length===0&&T.models.push({faces:[],name:e,textureCoords:[],vertexNormals:[],vertices:[]}),f="",T.models[T.models.length-1]}function r(T,S){var P=T.length>=2?T[1]:e;S.models.push({faces:[],name:P,textureCoords:[],vertexNormals:[],vertices:[]}),f=""}function o(T){T.length===2&&(f=T[1])}function l(T,S){var P=T.length,E=P>=2?parseFloat(T[1]):0,R=P>=3?parseFloat(T[2]):0,A=P>=4?parseFloat(T[3]):0;a(S).vertices.push({x:E,y:R,z:A})}function v(T,S){var P=T.length,E=P>=2?parseFloat(T[1]):0,R=P>=3?parseFloat(T[2]):0,A=P>=4?parseFloat(T[3]):0;isNaN(E)&&(E=0),isNaN(R)&&(R=0),isNaN(A)&&(A=0),y&&(R=1-R),a(S).textureCoords.push({u:E,v:R,w:A})}function u(T,S){var P=T.length,E=P>=2?parseFloat(T[1]):0,R=P>=3?parseFloat(T[2]):0,A=P>=4?parseFloat(T[3]):0;a(S).vertexNormals.push({x:E,y:R,z:A})}function d(T,S){var P=T.length-1;if(!(P<3)){for(var E={group:f,material:c,vertices:[]},R=0;R<P;R++){var A=T[R+1],w=A.split("/"),O=w.length;if(!(O<1||O>3)){var L=0,F=0,I=0;L=parseInt(w[0],10),O>1&&w[1]!==""&&(F=parseInt(w[1],10)),O>2&&(I=parseInt(w[2],10)),L!==0&&(L<0&&(L=a(S).vertices.length+1+L),F-=1,L-=1,I-=1,E.vertices.push({textureCoordsIndex:F,vertexIndex:L,vertexNormalIndex:I}))}}a(S).faces.push(E)}}function p(T,S){T.length>=2&&S.materialLibraries.push(T[1])}function g(T){T.length>=2&&(c=T[1])}var x=function(T,S){S===void 0&&(S=!0),y=S;var P={materials:{},materialLibraries:[],models:[]};f="",c="";for(var E=T.split(`
`),R=0;R<E.length;R++){var A=s(E[R]),w=A.replace(/\s\s+/g," ").trim().split(" ");switch(w[0].toLowerCase()){case"o":r(w,P);break;case"g":o(w);break;case"v":l(w,P);break;case"vt":v(w,P);break;case"vn":u(w,P);break;case"f":d(w,P);break;case"mtllib":p(w,P);break;case"usemtl":g(w);break}}return P};h.exports=x},76799:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(22946),c=function(s){for(var a={},r=s.split(`
`),o="",l=0;l<r.length;l++){var v=r[l].trim();if(!(v.indexOf("#")===0||v==="")){var u=v.replace(/\s\s+/g," ").trim().split(" ");switch(u[0].toLowerCase()){case"newmtl":{o=u[1];break}case"kd":{var d=Math.floor(u[1]*255),p=u.length>=2?Math.floor(u[2]*255):d,g=u.length>=3?Math.floor(u[3]*255):d;a[o]=f(d,p,g);break}}}}return a};h.exports=c},15313:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){var a,r;if(c===void 0&&s===void 0){var o=e.getInCenter();a=o.x,r=o.y}var l=Math.cos(f),v=Math.sin(f),u=e.vertex1,d=e.vertex2,p=e.vertex3,g=u.x-a,x=u.y-r;u.set(g*l-x*v+a,g*v+x*l+r),g=d.x-a,x=d.y-r,d.set(g*l-x*v+a,g*v+x*l+r),g=p.x-a,x=p.y-r,p.set(g*l-x*v+a,g*v+x*l+r)};h.exports=y},85769:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(75512),s=e(70015),a=new f({Extends:s,initialize:function(o,l,v,u,d,p,g,x,T,S){p===void 0&&(p=16777215),g===void 0&&(g=1),x===void 0&&(x=0),T===void 0&&(T=0),S===void 0&&(S=0),s.call(this,o,l,v),this.vx=0,this.vy=0,this.vz=0,this.nx=x,this.ny=T,this.nz=S,this.u=u,this.v=d,this.color=p,this.alpha=g,this.tx=0,this.ty=0,this.ta=0,this.tu=u,this.tv=d},setUVs:function(r,o){return this.u=r,this.v=o,this.tu=r,this.tv=o,this},scrollUV:function(r,o){return this.tu+=r,this.tv+=o,this},scaleUV:function(r,o){return this.tu=this.u*r,this.tv=this.v*o,this},transformCoordinatesLocal:function(r,o,l,v){var u=this.x,d=this.y,p=this.z,g=r.val,x=u*g[0]+d*g[4]+p*g[8]+g[12],T=u*g[1]+d*g[5]+p*g[9]+g[13],S=u*g[2]+d*g[6]+p*g[10]+g[14],P=u*g[3]+d*g[7]+p*g[11]+g[15];this.vx=x/P*o,this.vy=-(T/P)*l,v<=0?this.vz=S/P:this.vz=-(S/P)},resize:function(r,o,l,v,u,d){return this.x=r,this.y=o,this.vx=this.x*l,this.vy=-this.y*v,this.vz=0,u<.5?this.vx+=l*(.5-u):u>.5&&(this.vx-=l*(u-.5)),d<.5?this.vy+=v*(.5-d):d>.5&&(this.vy-=v*(d-.5)),this},update:function(r,o,l,v,u,d,p,g){var x=this.vx*r+this.vy*l+u,T=this.vx*o+this.vy*v+d;return p&&(x=Math.round(x),T=Math.round(T)),this.tx=x,this.ty=T,this.ta=this.alpha*g,this},load:function(r,o,l,v,u){return r[++l]=this.tx,r[++l]=this.ty,r[++l]=this.tu,r[++l]=this.tv,r[++l]=v,r[++l]=u,o[++l]=c.getTintAppendFloatAlpha(this.color,this.ta),l}});h.exports=a},14293:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={Face:e(18693),GenerateGridVerts:e(99425),GenerateObjVerts:e(53267),GenerateVerts:e(67623),ParseObj:e(27291),ParseObjMaterial:e(76799),RotateFace:e(15313),Vertex:e(85769)};h.exports=f},77601:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.setTo(Math.ceil(e.x),Math.ceil(e.y))};h.exports=y},38933:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),c=function(s){return new f(s.x,s.y)};h.exports=c},47103:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return f.setTo(e.x,e.y)};h.exports=y},13625:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e.x===f.x&&e.y===f.y};h.exports=y},12536:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.setTo(Math.floor(e.x),Math.floor(e.y))};h.exports=y},54205:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),c=function(s,a){if(a===void 0&&(a=new f),!Array.isArray(s))throw new Error("GetCentroid points argument must be an array");var r=s.length;if(r<1)throw new Error("GetCentroid points array must not be empty");if(r===1)a.x=s[0].x,a.y=s[0].y;else{for(var o=0;o<r;o++)a.x+=s[o].x,a.y+=s[o].y;a.x/=r,a.y/=r}return a};h.exports=c},50083:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)};h.exports=y},82712:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.x*e.x+e.y*e.y};h.exports=y},20052:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(74118),c=function(s,a){a===void 0&&(a=new f);for(var r=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,v=Number.POSITIVE_INFINITY,u=0;u<s.length;u++){var d=s[u];d.x>r&&(r=d.x),d.x<o&&(o=d.x),d.y>l&&(l=d.y),d.y<v&&(v=d.y)}return a.x=o,a.y=v,a.width=r-o,a.height=l-v,a};h.exports=c},77154:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),c=function(s,a,r,o){return r===void 0&&(r=0),o===void 0&&(o=new f),o.x=s.x+(a.x-s.x)*r,o.y=s.y+(a.y-s.y)*r,o};h.exports=c},42397:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.setTo(e.y,e.x)};h.exports=y},59464:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),c=function(s,a){return a===void 0&&(a=new f),a.setTo(-s.x,-s.y)};h.exports=c},79967:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(52394),s=new f({initialize:function(r,o){r===void 0&&(r=0),o===void 0&&(o=r),this.type=c.POINT,this.x=r,this.y=o},setTo:function(a,r){return a===void 0&&(a=0),r===void 0&&(r=a),this.x=a,this.y=r,this}});h.exports=s},53581:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),c=e(82712),s=function(a,r,o){o===void 0&&(o=new f);var l=a.x*r.x+a.y*r.y,v=l/c(r);return v!==0&&(o.x=v*r.x,o.y=v*r.y),o};h.exports=s},50817:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),c=function(s,a,r){r===void 0&&(r=new f);var o=s.x*a.x+s.y*a.y;return o!==0&&(r.x=o*a.x,r.y=o*a.y),r};h.exports=c},40525:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(50083),c=function(s,a){if(s.x!==0||s.y!==0){var r=f(s);s.x/=r,s.y/=r}return s.x*=a,s.y*=a,s};h.exports=c},63472:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967);f.Ceil=e(77601),f.Clone=e(38933),f.CopyFrom=e(47103),f.Equals=e(13625),f.Floor=e(12536),f.GetCentroid=e(54205),f.GetMagnitude=e(50083),f.GetMagnitudeSq=e(82712),f.GetRectangleFromPoints=e(20052),f.Interpolate=e(77154),f.Invert=e(42397),f.Negative=e(59464),f.Project=e(53581),f.ProjectUnit=e(50817),f.SetMagnitude=e(40525),h.exports=f},19631:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(8580),c=function(s){return new f(s.points)};h.exports=c},45604:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){for(var s=!1,a=-1,r=e.points.length-1;++a<e.points.length;r=a){var o=e.points[a].x,l=e.points[a].y,v=e.points[r].x,u=e.points[r].y;(l<=c&&c<u||u<=c&&c<l)&&f<(v-o)*(c-l)/(u-l)+o&&(s=!s)}return s};h.exports=y},87289:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(45604),c=function(s,a){return f(s,a.x,a.y)};h.exports=c},11117:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(B,z,D){D=D||2;var V=z&&z.length,k=V?z[0]*D:B.length,W=e(B,0,k,D,!0),H=[];if(!W||W.next===W.prev)return H;var $,K,j,Z,J,Q,q;if(V&&(W=l(B,z,W,D)),B.length>80*D){$=j=B[0],K=Z=B[1];for(var _=D;_<k;_+=D)J=B[_],Q=B[_+1],J<$&&($=J),Q<K&&(K=Q),J>j&&(j=J),Q>Z&&(Z=Q);q=Math.max(j-$,Z-K),q=q!==0?32767/q:0}return c(W,H,D,$,K,q,0),H}function e(B,z,D,V,k){var W,H;if(k===X(B,z,D,V)>0)for(W=z;W<D;W+=V)H=N(W,B[W],B[W+1],H);else for(W=D-V;W>=z;W-=V)H=N(W,B[W],B[W+1],H);return H&&A(H,H.next)&&(U(H),H=H.next),H}function f(B,z){if(!B)return B;z||(z=B);var D=B,V;do if(V=!1,!D.steiner&&(A(D,D.next)||R(D.prev,D,D.next)===0)){if(U(D),D=z=D.prev,D===D.next)break;V=!0}else D=D.next;while(V||D!==z);return z}function c(B,z,D,V,k,W,H){if(B){!H&&W&&g(B,V,k,W);for(var $=B,K,j;B.prev!==B.next;){if(K=B.prev,j=B.next,W?a(B,V,k,W):s(B)){z.push(K.i/D|0),z.push(B.i/D|0),z.push(j.i/D|0),U(B),B=j.next,$=j.next;continue}if(B=j,B===$){H?H===1?(B=r(f(B),z,D),c(B,z,D,V,k,W,2)):H===2&&o(B,z,D,V,k,W):c(f(B),z,D,V,k,W,1);break}}}}function s(B){var z=B.prev,D=B,V=B.next;if(R(z,D,V)>=0)return!1;for(var k=z.x,W=D.x,H=V.x,$=z.y,K=D.y,j=V.y,Z=k<W?k<H?k:H:W<H?W:H,J=$<K?$<j?$:j:K<j?K:j,Q=k>W?k>H?k:H:W>H?W:H,q=$>K?$>j?$:j:K>j?K:j,_=V.next;_!==z;){if(_.x>=Z&&_.x<=Q&&_.y>=J&&_.y<=q&&P(k,$,W,K,H,j,_.x,_.y)&&R(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function a(B,z,D,V){var k=B.prev,W=B,H=B.next;if(R(k,W,H)>=0)return!1;for(var $=k.x,K=W.x,j=H.x,Z=k.y,J=W.y,Q=H.y,q=$<K?$<j?$:j:K<j?K:j,_=Z<J?Z<Q?Z:Q:J<Q?J:Q,et=$>K?$>j?$:j:K>j?K:j,st=Z>J?Z>Q?Z:Q:J>Q?J:Q,it=T(q,_,z,D,V),lt=T(et,st,z,D,V),tt=B.prevZ,ht=B.nextZ;tt&&tt.z>=it&&ht&&ht.z<=lt;){if(tt.x>=q&&tt.x<=et&&tt.y>=_&&tt.y<=st&&tt!==k&&tt!==H&&P($,Z,K,J,j,Q,tt.x,tt.y)&&R(tt.prev,tt,tt.next)>=0||(tt=tt.prevZ,ht.x>=q&&ht.x<=et&&ht.y>=_&&ht.y<=st&&ht!==k&&ht!==H&&P($,Z,K,J,j,Q,ht.x,ht.y)&&R(ht.prev,ht,ht.next)>=0))return!1;ht=ht.nextZ}for(;tt&&tt.z>=it;){if(tt.x>=q&&tt.x<=et&&tt.y>=_&&tt.y<=st&&tt!==k&&tt!==H&&P($,Z,K,J,j,Q,tt.x,tt.y)&&R(tt.prev,tt,tt.next)>=0)return!1;tt=tt.prevZ}for(;ht&&ht.z<=lt;){if(ht.x>=q&&ht.x<=et&&ht.y>=_&&ht.y<=st&&ht!==k&&ht!==H&&P($,Z,K,J,j,Q,ht.x,ht.y)&&R(ht.prev,ht,ht.next)>=0)return!1;ht=ht.nextZ}return!0}function r(B,z,D){var V=B;do{var k=V.prev,W=V.next.next;!A(k,W)&&w(k,V,V.next,W)&&I(k,W)&&I(W,k)&&(z.push(k.i/D|0),z.push(V.i/D|0),z.push(W.i/D|0),U(V),U(V.next),V=B=W),V=V.next}while(V!==B);return f(V)}function o(B,z,D,V,k,W){var H=B;do{for(var $=H.next.next;$!==H.prev;){if(H.i!==$.i&&E(H,$)){var K=G(H,$);H=f(H,H.next),K=f(K,K.next),c(H,z,D,V,k,W,0),c(K,z,D,V,k,W,0);return}$=$.next}H=H.next}while(H!==B)}function l(B,z,D,V){var k=[],W,H,$,K,j;for(W=0,H=z.length;W<H;W++)$=z[W]*V,K=W<H-1?z[W+1]*V:B.length,j=e(B,$,K,V,!1),j===j.next&&(j.steiner=!0),k.push(S(j));for(k.sort(v),W=0;W<k.length;W++)D=u(k[W],D);return D}function v(B,z){return B.x-z.x}function u(B,z){var D=d(B,z);if(!D)return z;var V=G(D,B);return f(V,V.next),f(D,D.next)}function d(B,z){var D=z,V=B.x,k=B.y,W=-1/0,H;do{if(k<=D.y&&k>=D.next.y&&D.next.y!==D.y){var $=D.x+(k-D.y)*(D.next.x-D.x)/(D.next.y-D.y);if($<=V&&$>W&&(W=$,H=D.x<D.next.x?D:D.next,$===V))return H}D=D.next}while(D!==z);if(!H)return null;var K=H,j=H.x,Z=H.y,J=1/0,Q;D=H;do V>=D.x&&D.x>=j&&V!==D.x&&P(k<Z?V:W,k,j,Z,k<Z?W:V,k,D.x,D.y)&&(Q=Math.abs(k-D.y)/(V-D.x),I(D,B)&&(Q<J||Q===J&&(D.x>H.x||D.x===H.x&&p(H,D)))&&(H=D,J=Q)),D=D.next;while(D!==K);return H}function p(B,z){return R(B.prev,B,z.prev)<0&&R(z.next,B,B.next)<0}function g(B,z,D,V){var k=B;do k.z===0&&(k.z=T(k.x,k.y,z,D,V)),k.prevZ=k.prev,k.nextZ=k.next,k=k.next;while(k!==B);k.prevZ.nextZ=null,k.prevZ=null,x(k)}function x(B){var z,D,V,k,W,H,$,K,j=1;do{for(D=B,B=null,W=null,H=0;D;){for(H++,V=D,$=0,z=0;z<j&&($++,V=V.nextZ,!!V);z++);for(K=j;$>0||K>0&&V;)$!==0&&(K===0||!V||D.z<=V.z)?(k=D,D=D.nextZ,$--):(k=V,V=V.nextZ,K--),W?W.nextZ=k:B=k,k.prevZ=W,W=k;D=V}W.nextZ=null,j*=2}while(H>1);return B}function T(B,z,D,V,k){return B=(B-D)*k|0,z=(z-V)*k|0,B=(B|B<<8)&16711935,B=(B|B<<4)&252645135,B=(B|B<<2)&858993459,B=(B|B<<1)&1431655765,z=(z|z<<8)&16711935,z=(z|z<<4)&252645135,z=(z|z<<2)&858993459,z=(z|z<<1)&1431655765,B|z<<1}function S(B){var z=B,D=B;do(z.x<D.x||z.x===D.x&&z.y<D.y)&&(D=z),z=z.next;while(z!==B);return D}function P(B,z,D,V,k,W,H,$){return(k-H)*(z-$)>=(B-H)*(W-$)&&(B-H)*(V-$)>=(D-H)*(z-$)&&(D-H)*(W-$)>=(k-H)*(V-$)}function E(B,z){return B.next.i!==z.i&&B.prev.i!==z.i&&!F(B,z)&&(I(B,z)&&I(z,B)&&b(B,z)&&(R(B.prev,B,z.prev)||R(B,z.prev,z))||A(B,z)&&R(B.prev,B,B.next)>0&&R(z.prev,z,z.next)>0)}function R(B,z,D){return(z.y-B.y)*(D.x-z.x)-(z.x-B.x)*(D.y-z.y)}function A(B,z){return B.x===z.x&&B.y===z.y}function w(B,z,D,V){var k=L(R(B,z,D)),W=L(R(B,z,V)),H=L(R(D,V,B)),$=L(R(D,V,z));return!!(k!==W&&H!==$||k===0&&O(B,D,z)||W===0&&O(B,V,z)||H===0&&O(D,B,V)||$===0&&O(D,z,V))}function O(B,z,D){return z.x<=Math.max(B.x,D.x)&&z.x>=Math.min(B.x,D.x)&&z.y<=Math.max(B.y,D.y)&&z.y>=Math.min(B.y,D.y)}function L(B){return B>0?1:B<0?-1:0}function F(B,z){var D=B;do{if(D.i!==B.i&&D.next.i!==B.i&&D.i!==z.i&&D.next.i!==z.i&&w(D,D.next,B,z))return!0;D=D.next}while(D!==B);return!1}function I(B,z){return R(B.prev,B,B.next)<0?R(B,z,B.next)>=0&&R(B,B.prev,z)>=0:R(B,z,B.prev)<0||R(B,B.next,z)<0}function b(B,z){var D=B,V=!1,k=(B.x+z.x)/2,W=(B.y+z.y)/2;do D.y>W!=D.next.y>W&&D.next.y!==D.y&&k<(D.next.x-D.x)*(W-D.y)/(D.next.y-D.y)+D.x&&(V=!V),D=D.next;while(D!==B);return V}function G(B,z){var D=new Y(B.i,B.x,B.y),V=new Y(z.i,z.x,z.y),k=B.next,W=z.prev;return B.next=z,z.prev=B,D.next=k,k.prev=D,V.next=D,D.prev=V,W.next=V,V.prev=W,V}function N(B,z,D,V){var k=new Y(B,z,D);return V?(k.next=V.next,k.prev=V,V.next.prev=k,V.next=k):(k.prev=k,k.next=k),k}function U(B){B.next.prev=B.prev,B.prev.next=B.next,B.prevZ&&(B.prevZ.nextZ=B.nextZ),B.nextZ&&(B.nextZ.prevZ=B.prevZ)}function Y(B,z,D){this.i=B,this.x=z,this.y=D,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}y.deviation=function(B,z,D,V){var k=z&&z.length,W=k?z[0]*D:B.length,H=Math.abs(X(B,0,W,D));if(k)for(var $=0,K=z.length;$<K;$++){var j=z[$]*D,Z=$<K-1?z[$+1]*D:B.length;H-=Math.abs(X(B,j,Z,D))}var J=0;for($=0;$<V.length;$+=3){var Q=V[$]*D,q=V[$+1]*D,_=V[$+2]*D;J+=Math.abs((B[Q]-B[_])*(B[q+1]-B[Q+1])-(B[Q]-B[q])*(B[_+1]-B[Q+1]))}return H===0&&J===0?0:Math.abs((J-H)/H)};function X(B,z,D,V){for(var k=0,W=z,H=D-V;W<D;W+=V)k+=(B[H]-B[W])*(B[W+1]+B[H+1]),H=W;return k}y.flatten=function(B){for(var z=B[0][0].length,D={vertices:[],holes:[],dimensions:z},V=0,k=0;k<B.length;k++){for(var W=0;W<B[k].length;W++)for(var H=0;H<z;H++)D.vertices.push(B[k][W][H]);k>0&&(V+=B[k-1].length,D.holes.push(V))}return D},h.exports=y},14045:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(74118),c=function(s,a){a===void 0&&(a=new f);for(var r=1/0,o=1/0,l=-r,v=-o,u,d=0;d<s.points.length;d++)u=s.points[d],r=Math.min(r,u.x),o=Math.min(o,u.y),l=Math.max(l,u.x),v=Math.max(v,u.y);return a.x=r,a.y=o,a.width=l-r,a.height=v-o,a};h.exports=c},98286:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){f===void 0&&(f=[]);for(var c=0;c<e.points.length;c++)f.push(e.points[c].x),f.push(e.points[c].y);return f};h.exports=y},89294:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(16028),c=e(88829),s=e(5159),a=function(r,o,l,v){v===void 0&&(v=[]);var u=r.points,d=s(r);!o&&l>0&&(o=d/l);for(var p=0;p<o;p++)for(var g=d*(p/o),x=0,T=0;T<u.length;T++){var S=u[T],P=u[(T+1)%u.length],E=new c(S.x,S.y,P.x,P.y),R=f(E);if(g<x||g>x+R){x+=R;continue}var A=E.getPoint((g-x)/R);v.push(A);break}return v};h.exports=a},5159:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(16028),c=e(88829),s=function(a){for(var r=a.points,o=0,l=0;l<r.length;l++){var v=r[l],u=r[(l+1)%r.length],d=new c(v.x,v.y,u.x,u.y);o+=f(d)}return o};h.exports=s},8580:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(45604),s=e(89294),a=e(52394),r=new f({initialize:function(l){this.type=a.POLYGON,this.area=0,this.points=[],l&&this.setTo(l)},contains:function(o,l){return c(this,o,l)},setTo:function(o){if(this.area=0,this.points=[],typeof o=="string"&&(o=o.split(" ")),!Array.isArray(o))return this;for(var l,v=Number.MAX_VALUE,u=0;u<o.length;u++)l={x:0,y:0},typeof o[u]=="number"||typeof o[u]=="string"?(l.x=parseFloat(o[u]),l.y=parseFloat(o[u+1]),u++):Array.isArray(o[u])?(l.x=o[u][0],l.y=o[u][1]):(l.x=o[u].x,l.y=o[u].y),this.points.push(l),l.y<v&&(v=l.y);return this.calculateArea(v),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var o=0,l,v,u=0;u<this.points.length-1;u++)l=this.points[u],v=this.points[u+1],o+=(v.x-l.x)*(l.y+v.y);return l=this.points[0],v=this.points[this.points.length-1],o+=(l.x-v.x)*(v.y+l.y),this.area=-o*.5,this.area},getPoints:function(o,l,v){return s(this,o,l,v)}});h.exports=r},32244:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.points.reverse(),e};h.exports=y},95874:h=>{function y(r,o){var l=r.x-o.x,v=r.y-o.y;return l*l+v*v}function e(r,o,l){var v=o.x,u=o.y,d=l.x-v,p=l.y-u;if(d!==0||p!==0){var g=((r.x-v)*d+(r.y-u)*p)/(d*d+p*p);g>1?(v=l.x,u=l.y):g>0&&(v+=d*g,u+=p*g)}return d=r.x-v,p=r.y-u,d*d+p*p}function f(r,o){for(var l=r[0],v=[l],u,d=1,p=r.length;d<p;d++)u=r[d],y(u,l)>o&&(v.push(u),l=u);return l!==u&&v.push(u),v}function c(r,o,l,v,u){for(var d=v,p,g=o+1;g<l;g++){var x=e(r[g],r[o],r[l]);x>d&&(p=g,d=x)}d>v&&(p-o>1&&c(r,o,p,v,u),u.push(r[p]),l-p>1&&c(r,p,l,v,u))}function s(r,o){var l=r.length-1,v=[r[0]];return c(r,0,l,o,v),v.push(r[l]),v}var a=function(r,o,l){o===void 0&&(o=1),l===void 0&&(l=!1);var v=r.points;if(v.length>2){var u=o*o;l||(v=f(v,u)),r.setTo(s(v,u))}return r};h.exports=a},18974:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(f,c){return f[0]=c[0],f[1]=c[1],f},e=function(f){var c,s=[],a=f.points;for(c=0;c<a.length;c++)s.push([a[c].x,a[c].y]);var r=[];for(s.length>0&&r.push(y([0,0],s[0])),c=0;c<s.length-1;c++){var o=s[c],l=s[c+1],v=o[0],u=o[1],d=l[0],p=l[1];r.push([.85*v+.15*d,.85*u+.15*p]),r.push([.15*v+.85*d,.15*u+.85*p])}return s.length>1&&r.push(y([0,0],s[s.length-1])),f.setTo(r)};h.exports=e},23490:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){for(var s=e.points,a=0;a<s.length;a++)s[a].x+=f,s[a].y+=c;return e};h.exports=y},44359:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(8580);f.Clone=e(19631),f.Contains=e(45604),f.ContainsPoint=e(87289),f.Earcut=e(11117),f.GetAABB=e(14045),f.GetNumberArray=e(98286),f.GetPoints=e(89294),f.Perimeter=e(5159),f.Reverse=e(32244),f.Simplify=e(95874),f.Smooth=e(18974),f.Translate=e(23490),h.exports=f},1653:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.width*e.height};h.exports=y},33943:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e};h.exports=y},58662:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e.width=Math.ceil(e.width),e.height=Math.ceil(e.height),e};h.exports=y},79993:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){return e.x=f-e.width/2,e.y=c-e.height/2,e};h.exports=y},81572:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(74118),c=function(s){return new f(s.x,s.y,s.width,s.height)};h.exports=c},94287:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){return e.width<=0||e.height<=0?!1:e.x<=f&&e.x+e.width>=f&&e.y<=c&&e.y+e.height>=c};h.exports=y},28687:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(94287),c=function(s,a){return f(s,a.x,a.y)};h.exports=c},73222:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return f.width*f.height>e.width*e.height?!1:f.x>e.x&&f.x<e.right&&f.right>e.x&&f.right<e.right&&f.y>e.y&&f.y<e.bottom&&f.bottom>e.y&&f.bottom<e.bottom};h.exports=y},29538:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return f.setTo(e.x,e.y,e.width,e.height)};h.exports=y},87279:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return f===void 0&&(f=[]),f.push({x:e.x,y:e.y}),f.push({x:e.right,y:e.y}),f.push({x:e.right,y:e.bottom}),f.push({x:e.x,y:e.bottom}),f};h.exports=y},19989:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e.x===f.x&&e.y===f.y&&e.width===f.width&&e.height===f.height};h.exports=y},92628:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(6700),c=function(s,a){var r=f(s);return r<f(a)?s.setSize(a.height*r,a.height):s.setSize(a.width,a.width/r),s.setPosition(a.centerX-s.width/2,a.centerY-s.height/2)};h.exports=c},85028:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(6700),c=function(s,a){var r=f(s);return r>f(a)?s.setSize(a.height*r,a.height):s.setSize(a.width,a.width/r),s.setPosition(a.centerX-s.width/2,a.centerY-s.height/2)};h.exports=c},71356:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.x=Math.floor(e.x),e.y=Math.floor(e.y),e};h.exports=y},21687:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.x=Math.floor(e.x),e.y=Math.floor(e.y),e.width=Math.floor(e.width),e.height=Math.floor(e.height),e};h.exports=y},80222:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(74118),c=e(83392),s=function(a,r){if(r===void 0&&(r=new f),a.length===0)return r;for(var o=Number.MAX_VALUE,l=Number.MAX_VALUE,v=c.MIN_SAFE_INTEGER,u=c.MIN_SAFE_INTEGER,d,p,g,x=0;x<a.length;x++)d=a[x],Array.isArray(d)?(p=d[0],g=d[1]):(p=d.x,g=d.y),o=Math.min(o,p),l=Math.min(l,g),v=Math.max(v,p),u=Math.max(u,g);return r.x=o,r.y=l,r.width=v-o,r.height=u-l,r};h.exports=s},75785:(h,y,e)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(74118),c=function(s,a,r,o,l){return l===void 0&&(l=new f),l.setTo(Math.min(s,r),Math.min(a,o),Math.abs(s-r),Math.abs(a-o))};h.exports=c},6700:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.height===0?NaN:e.width/e.height};h.exports=y},35242:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),c=function(s,a){return a===void 0&&(a=new f),a.x=s.centerX,a.y=s.centerY,a};h.exports=c},47698:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(85876),c=e(79967),s=function(a,r,o){if(o===void 0&&(o=new c),r<=0||r>=1)return o.x=a.x,o.y=a.y,o;var l=f(a)*r;return r>.5?(l-=a.width+a.height,l<=a.width?(o.x=a.right-l,o.y=a.bottom):(o.x=a.x,o.y=a.bottom-(l-a.width))):l<=a.width?(o.x=a.x+l,o.y=a.y):(o.x=a.right,o.y=a.y+(l-a.width)),o};h.exports=s},54932:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(47698),c=e(85876),s=function(a,r,o,l){l===void 0&&(l=[]),!r&&o>0&&(r=c(a)/o);for(var v=0;v<r;v++){var u=v/r;l.push(f(a,u))}return l};h.exports=s},31591:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),c=function(s,a){return a===void 0&&(a=new f),a.x=s.width,a.y=s.height,a};h.exports=c},7782:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79993),c=function(s,a,r){var o=s.centerX,l=s.centerY;return s.setSize(s.width+a*2,s.height+r*2),f(s,o,l)};h.exports=c},66217:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(74118),c=e(90205),s=function(a,r,o){return o===void 0&&(o=new f),c(a,r)?(o.x=Math.max(a.x,r.x),o.y=Math.max(a.y,r.y),o.width=Math.min(a.right,r.right)-o.x,o.height=Math.min(a.bottom,r.bottom)-o.y):o.setEmpty(),o};h.exports=s},40053:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(85876),c=e(79967),s=function(a,r,o,l){if(l===void 0&&(l=[]),!r&&!o)return l;r?o=Math.round(f(a)/r):r=f(a)/o;for(var v=a.x,u=a.y,d=0,p=0;p<o;p++)switch(l.push(new c(v,u)),d){case 0:v+=r,v>=a.right&&(d=1,u+=v-a.right,v=a.right);break;case 1:u+=r,u>=a.bottom&&(d=2,v-=u-a.bottom,u=a.bottom);break;case 2:v-=r,v<=a.left&&(d=3,u-=a.left-v,v=a.left);break;case 3:u-=r,u<=a.top&&(d=0,u=a.top);break}return l};h.exports=s},86673:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){for(var c=e.x,s=e.right,a=e.y,r=e.bottom,o=0;o<f.length;o++)c=Math.min(c,f[o].x),s=Math.max(s,f[o].x),a=Math.min(a,f[o].y),r=Math.max(r,f[o].y);return e.x=c,e.y=a,e.width=s-c,e.height=r-a,e};h.exports=y},14655:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){var c=Math.min(e.x,f.x),s=Math.max(e.right,f.right);e.x=c,e.width=s-c;var a=Math.min(e.y,f.y),r=Math.max(e.bottom,f.bottom);return e.y=a,e.height=r-a,e};h.exports=y},44755:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){var s=Math.min(e.x,f),a=Math.max(e.right,f);e.x=s,e.width=a-s;var r=Math.min(e.y,c),o=Math.max(e.bottom,c);return e.y=r,e.height=o-r,e};h.exports=y},74466:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){return e.x+=f,e.y+=c,e};h.exports=y},55946:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e.x+=f.x,e.y+=f.y,e};h.exports=y},97474:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e.x<f.right&&e.right>f.x&&e.y<f.bottom&&e.bottom>f.y};h.exports=y},85876:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return 2*(e.width+e.height)};h.exports=y},20243:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),c=e(75606),s=function(a,r,o){o===void 0&&(o=new f),r=c(r);var l=Math.sin(r),v=Math.cos(r),u=v>0?a.width/2:a.width/-2,d=l>0?a.height/2:a.height/-2;return Math.abs(u*l)<Math.abs(d*v)?d=u*l/v:u=d*v/l,o.x=u+a.centerX,o.y=d+a.centerY,o};h.exports=s},30001:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),c=function(s,a){return a===void 0&&(a=new f),a.x=s.x+Math.random()*s.width,a.y=s.y+Math.random()*s.height,a};h.exports=c},97691:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(17489),c=e(73222),s=e(79967),a=function(r,o,l){if(l===void 0&&(l=new s),c(r,o))switch(f(0,3)){case 0:l.x=r.x+Math.random()*(o.right-r.x),l.y=r.y+Math.random()*(o.top-r.y);break;case 1:l.x=o.x+Math.random()*(r.right-o.x),l.y=o.bottom+Math.random()*(r.bottom-o.bottom);break;case 2:l.x=r.x+Math.random()*(o.x-r.x),l.y=o.y+Math.random()*(r.bottom-o.y);break;case 3:l.x=o.right+Math.random()*(r.right-o.right),l.y=r.y+Math.random()*(o.bottom-r.y);break}return l};h.exports=a},74118:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(94287),s=e(47698),a=e(54932),r=e(52394),o=e(88829),l=e(30001),v=new f({initialize:function(d,p,g,x){d===void 0&&(d=0),p===void 0&&(p=0),g===void 0&&(g=0),x===void 0&&(x=0),this.type=r.RECTANGLE,this.x=d,this.y=p,this.width=g,this.height=x},contains:function(u,d){return c(this,u,d)},getPoint:function(u,d){return s(this,u,d)},getPoints:function(u,d,p){return a(this,u,d,p)},getRandomPoint:function(u){return l(this,u)},setTo:function(u,d,p,g){return this.x=u,this.y=d,this.width=p,this.height=g,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(u,d){return d===void 0&&(d=u),this.x=u,this.y=d,this},setSize:function(u,d){return d===void 0&&(d=u),this.width=u,this.height=d,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(u){return u===void 0&&(u=new o),u.setTo(this.x,this.y,this.right,this.y),u},getLineB:function(u){return u===void 0&&(u=new o),u.setTo(this.right,this.y,this.right,this.bottom),u},getLineC:function(u){return u===void 0&&(u=new o),u.setTo(this.right,this.bottom,this.x,this.bottom),u},getLineD:function(u){return u===void 0&&(u=new o),u.setTo(this.x,this.bottom,this.x,this.y),u},left:{get:function(){return this.x},set:function(u){u>=this.right?this.width=0:this.width=this.right-u,this.x=u}},right:{get:function(){return this.x+this.width},set:function(u){u<=this.x?this.width=0:this.width=u-this.x}},top:{get:function(){return this.y},set:function(u){u>=this.bottom?this.height=0:this.height=this.bottom-u,this.y=u}},bottom:{get:function(){return this.y+this.height},set:function(u){u<=this.y?this.height=0:this.height=u-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(u){this.x=u-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(u){this.y=u-this.height/2}}});h.exports=v},51828:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e.width===f.width&&e.height===f.height};h.exports=y},5691:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){return c===void 0&&(c=f),e.width*=f,e.height*=c,e};h.exports=y},58795:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(74118),c=function(s,a,r){r===void 0&&(r=new f);var o=Math.min(s.x,a.x),l=Math.min(s.y,a.y),v=Math.max(s.right,a.right)-o,u=Math.max(s.bottom,a.bottom)-l;return r.setTo(o,l,v,u)};h.exports=c},66658:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(74118);f.Area=e(1653),f.Ceil=e(33943),f.CeilAll=e(58662),f.CenterOn=e(79993),f.Clone=e(81572),f.Contains=e(94287),f.ContainsPoint=e(28687),f.ContainsRect=e(73222),f.CopyFrom=e(29538),f.Decompose=e(87279),f.Equals=e(19989),f.FitInside=e(92628),f.FitOutside=e(85028),f.Floor=e(71356),f.FloorAll=e(21687),f.FromPoints=e(80222),f.FromXY=e(75785),f.GetAspectRatio=e(6700),f.GetCenter=e(35242),f.GetPoint=e(47698),f.GetPoints=e(54932),f.GetSize=e(31591),f.Inflate=e(7782),f.Intersection=e(66217),f.MarchingAnts=e(40053),f.MergePoints=e(86673),f.MergeRect=e(14655),f.MergeXY=e(44755),f.Offset=e(74466),f.OffsetPoint=e(55946),f.Overlaps=e(97474),f.Perimeter=e(85876),f.PerimeterPoint=e(20243),f.Random=e(30001),f.RandomOutside=e(97691),f.SameDimensions=e(51828),f.Scale=e(5691),f.Union=e(58795),h.exports=f},19108:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){var f=e.x1,c=e.y1,s=e.x2,a=e.y2,r=e.x3,o=e.y3;return Math.abs(((r-f)*(a-c)-(s-f)*(o-c))/2)};h.exports=y},41199:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(66349),c=function(s,a,r){var o=r*(Math.sqrt(3)/2),l=s,v=a,u=s+r/2,d=a+o,p=s-r/2,g=a+o;return new f(l,v,u,d,p,g)};h.exports=c},88730:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(11117),c=e(66349),s=function(a,r,o,l,v){r===void 0&&(r=null),o===void 0&&(o=1),l===void 0&&(l=1),v===void 0&&(v=[]);for(var u=f(a,r),d,p,g,x,T,S,P,E,R,A=0;A<u.length;A+=3)d=u[A],p=u[A+1],g=u[A+2],x=a[d*2]*o,T=a[d*2+1]*l,S=a[p*2]*o,P=a[p*2+1]*l,E=a[g*2]*o,R=a[g*2+1]*l,v.push(new c(x,T,S,P,E,R));return v};h.exports=s},3635:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(66349),c=function(s,a,r,o){o===void 0&&(o=r);var l=s,v=a,u=s,d=a-o,p=s+r,g=a;return new f(l,v,u,d,p,g)};h.exports=c},1882:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56595),c=e(9640),s=function(a,r,o,l){l===void 0&&(l=f);var v=l(a),u=r-v.x,d=o-v.y;return c(a,u,d)};h.exports=s},56595:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),c=function(s,a){return a===void 0&&(a=new f),a.x=(s.x1+s.x2+s.x3)/3,a.y=(s.y1+s.y2+s.y3)/3,a};h.exports=c},91835:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(93736);function c(a,r,o,l){return a*l-r*o}var s=function(a,r){r===void 0&&(r=new f);var o=a.x3,l=a.y3,v=a.x1-o,u=a.y1-l,d=a.x2-o,p=a.y2-l,g=2*c(v,u,d,p),x=c(u,v*v+u*u,p,d*d+p*p),T=c(v,v*v+u*u,d,d*d+p*p);return r.x=o-x/g,r.y=l+T/g,r};h.exports=s},97073:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(26673),c=function(s,a){a===void 0&&(a=new f);var r=s.x1,o=s.y1,l=s.x2,v=s.y2,u=s.x3,d=s.y3,p=l-r,g=v-o,x=u-r,T=d-o,S=p*(r+l)+g*(o+v),P=x*(r+u)+T*(o+d),E=2*(p*(d-v)-g*(u-l)),R,A;if(Math.abs(E)<1e-6){var w=Math.min(r,l,u),O=Math.min(o,v,d);R=(Math.max(r,l,u)-w)*.5,A=(Math.max(o,v,d)-O)*.5,a.x=w+R,a.y=O+A,a.radius=Math.sqrt(R*R+A*A)}else a.x=(T*S-g*P)/E,a.y=(p*P-x*S)/E,R=a.x-r,A=a.y-o,a.radius=Math.sqrt(R*R+A*A);return a};h.exports=c},75974:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(66349),c=function(s){return new f(s.x1,s.y1,s.x2,s.y2,s.x3,s.y3)};h.exports=c},60689:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){var s=e.x3-e.x1,a=e.y3-e.y1,r=e.x2-e.x1,o=e.y2-e.y1,l=f-e.x1,v=c-e.y1,u=s*s+a*a,d=s*r+a*o,p=s*l+a*v,g=r*r+o*o,x=r*l+o*v,T=u*g-d*d,S=T===0?0:1/T,P=(g*p-d*x)*S,E=(u*x-d*p)*S;return P>=0&&E>=0&&P+E<1};h.exports=y},86875:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){c===void 0&&(c=!1),s===void 0&&(s=[]);for(var a=e.x3-e.x1,r=e.y3-e.y1,o=e.x2-e.x1,l=e.y2-e.y1,v=a*a+r*r,u=a*o+r*l,d=o*o+l*l,p=v*d-u*u,g=p===0?0:1/p,x,T,S,P,E,R,A=e.x1,w=e.y1,O=0;O<f.length&&(S=f[O].x-A,P=f[O].y-w,E=a*S+r*P,R=o*S+l*P,x=(d*E-u*R)*g,T=(v*R-u*E)*g,!(x>=0&&T>=0&&x+T<1&&(s.push({x:f[O].x,y:f[O].y}),c)));O++);return s};h.exports=y},51532:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(60689),c=function(s,a){return f(s,a.x,a.y)};h.exports=c},42538:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return f.setTo(e.x1,e.y1,e.x2,e.y2,e.x3,e.y3)};h.exports=y},18680:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return f===void 0&&(f=[]),f.push({x:e.x1,y:e.y1}),f.push({x:e.x2,y:e.y2}),f.push({x:e.x3,y:e.y3}),f};h.exports=y},29977:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e.x1===f.x1&&e.y1===f.y1&&e.x2===f.x2&&e.y2===f.y2&&e.x3===f.x3&&e.y3===f.y3};h.exports=y},56088:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),c=e(16028),s=function(a,r,o){o===void 0&&(o=new f);var l=a.getLineA(),v=a.getLineB(),u=a.getLineC();if(r<=0||r>=1)return o.x=l.x1,o.y=l.y1,o;var d=c(l),p=c(v),g=c(u),x=d+p+g,T=x*r,S=0;return T<d?(S=T/d,o.x=l.x1+(l.x2-l.x1)*S,o.y=l.y1+(l.y2-l.y1)*S):T>d+p?(T-=d+p,S=T/g,o.x=u.x1+(u.x2-u.x1)*S,o.y=u.y1+(u.y2-u.y1)*S):(T-=d,S=T/p,o.x=v.x1+(v.x2-v.x1)*S,o.y=v.y1+(v.y2-v.y1)*S),o};h.exports=s},24402:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(16028),c=e(79967),s=function(a,r,o,l){l===void 0&&(l=[]);var v=a.getLineA(),u=a.getLineB(),d=a.getLineC(),p=f(v),g=f(u),x=f(d),T=p+g+x;!r&&o>0&&(r=T/o);for(var S=0;S<r;S++){var P=T*(S/r),E=0,R=new c;P<p?(E=P/p,R.x=v.x1+(v.x2-v.x1)*E,R.y=v.y1+(v.y2-v.y1)*E):P>p+g?(P-=p+g,E=P/x,R.x=d.x1+(d.x2-d.x1)*E,R.y=d.y1+(d.y2-d.y1)*E):(P-=p,E=P/g,R.x=u.x1+(u.x2-u.x1)*E,R.y=u.y1+(u.y2-u.y1)*E),l.push(R)}return l};h.exports=s},83648:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967);function c(a,r,o,l){var v=a-o,u=r-l,d=v*v+u*u;return Math.sqrt(d)}var s=function(a,r){r===void 0&&(r=new f);var o=a.x1,l=a.y1,v=a.x2,u=a.y2,d=a.x3,p=a.y3,g=c(d,p,v,u),x=c(o,l,d,p),T=c(v,u,o,l),S=g+x+T;return r.x=(o*g+v*x+d*T)/S,r.y=(l*g+u*x+p*T)/S,r};h.exports=s},9640:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){return e.x1+=f,e.y1+=c,e.x2+=f,e.y2+=c,e.x3+=f,e.y3+=c,e};h.exports=y},95290:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(16028),c=function(s){var a=s.getLineA(),r=s.getLineB(),o=s.getLineC();return f(a)+f(r)+f(o)};h.exports=c},99761:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(79967),c=function(s,a){a===void 0&&(a=new f);var r=s.x2-s.x1,o=s.y2-s.y1,l=s.x3-s.x1,v=s.y3-s.y1,u=Math.random(),d=Math.random();return u+d>=1&&(u=1-u,d=1-d),a.x=s.x1+(r*u+l*d),a.y=s.y1+(o*u+v*d),a};h.exports=c},21934:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(19211),c=e(83648),s=function(a,r){var o=c(a);return f(a,o.x,o.y,r)};h.exports=s},68454:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(19211),c=function(s,a,r){return f(s,a.x,a.y,r)};h.exports=c},19211:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){var a=Math.cos(s),r=Math.sin(s),o=e.x1-f,l=e.y1-c;return e.x1=o*a-l*r+f,e.y1=o*r+l*a+c,o=e.x2-f,l=e.y2-c,e.x2=o*a-l*r+f,e.y2=o*r+l*a+c,o=e.x3-f,l=e.y3-c,e.x3=o*a-l*r+f,e.y3=o*r+l*a+c,e};h.exports=y},66349:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(60689),s=e(56088),a=e(24402),r=e(52394),o=e(88829),l=e(99761),v=new f({initialize:function(d,p,g,x,T,S){d===void 0&&(d=0),p===void 0&&(p=0),g===void 0&&(g=0),x===void 0&&(x=0),T===void 0&&(T=0),S===void 0&&(S=0),this.type=r.TRIANGLE,this.x1=d,this.y1=p,this.x2=g,this.y2=x,this.x3=T,this.y3=S},contains:function(u,d){return c(this,u,d)},getPoint:function(u,d){return s(this,u,d)},getPoints:function(u,d,p){return a(this,u,d,p)},getRandomPoint:function(u){return l(this,u)},setTo:function(u,d,p,g,x,T){return u===void 0&&(u=0),d===void 0&&(d=0),p===void 0&&(p=0),g===void 0&&(g=0),x===void 0&&(x=0),T===void 0&&(T=0),this.x1=u,this.y1=d,this.x2=p,this.y2=g,this.x3=x,this.y3=T,this},getLineA:function(u){return u===void 0&&(u=new o),u.setTo(this.x1,this.y1,this.x2,this.y2),u},getLineB:function(u){return u===void 0&&(u=new o),u.setTo(this.x2,this.y2,this.x3,this.y3),u},getLineC:function(u){return u===void 0&&(u=new o),u.setTo(this.x3,this.y3,this.x1,this.y1),u},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(u){var d=0;this.x1<=this.x2&&this.x1<=this.x3?d=this.x1-u:this.x2<=this.x1&&this.x2<=this.x3?d=this.x2-u:d=this.x3-u,this.x1-=d,this.x2-=d,this.x3-=d}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(u){var d=0;this.x1>=this.x2&&this.x1>=this.x3?d=this.x1-u:this.x2>=this.x1&&this.x2>=this.x3?d=this.x2-u:d=this.x3-u,this.x1-=d,this.x2-=d,this.x3-=d}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(u){var d=0;this.y1<=this.y2&&this.y1<=this.y3?d=this.y1-u:this.y2<=this.y1&&this.y2<=this.y3?d=this.y2-u:d=this.y3-u,this.y1-=d,this.y2-=d,this.y3-=d}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(u){var d=0;this.y1>=this.y2&&this.y1>=this.y3?d=this.y1-u:this.y2>=this.y1&&this.y2>=this.y3?d=this.y2-u:d=this.y3-u,this.y1-=d,this.y2-=d,this.y3-=d}}});h.exports=v},87619:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(66349);f.Area=e(19108),f.BuildEquilateral=e(41199),f.BuildFromPolygon=e(88730),f.BuildRight=e(3635),f.CenterOn=e(1882),f.Centroid=e(56595),f.CircumCenter=e(91835),f.CircumCircle=e(97073),f.Clone=e(75974),f.Contains=e(60689),f.ContainsArray=e(86875),f.ContainsPoint=e(51532),f.CopyFrom=e(42538),f.Decompose=e(18680),f.Equals=e(29977),f.GetPoint=e(56088),f.GetPoints=e(24402),f.InCenter=e(83648),f.Perimeter=e(95290),f.Offset=e(9640),f.Random=e(99761),f.Rotate=e(21934),f.RotateAroundPoint=e(68454),f.RotateAroundXY=e(19211),h.exports=f},27395:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){return{gameObject:e,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:f,hitAreaCallback:c,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}};h.exports=y},18104:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return function(c,s,a,r){var o=e.getPixelAlpha(s,a,r.texture.key,r.frame.name);return o&&o>=f}};h.exports=y},69898:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(72687),s=e(6659),a=e(33963),r=e(97081),o=e(71064),l=e(7905),v=e(40398),u=e(37579),d=e(69360),p=e(64462),g=new f({initialize:function(T,S){this.game=T,this.scaleManager,this.canvas,this.config=S,this.enabled=!0,this.events=new s,this.isOver=!0,this.defaultCursor="",this.keyboard=S.inputKeyboard?new o(this):null,this.mouse=S.inputMouse?new l(this):null,this.touch=S.inputTouch?new u(this):null,this.pointers=[],this.pointersTotal=S.inputActivePointers,S.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var P=0;P<=this.pointersTotal;P++){var E=new v(this,P);E.smoothFactor=S.inputSmoothFactor,this.pointers.push(E)}this.mousePointer=S.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new d,this._tempMatrix2=new d,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],T.events.once(r.BOOT,this.boot,this)},boot:function(){var x=this.game,T=x.events;this.canvas=x.canvas,this.scaleManager=x.scale,this.events.emit(a.MANAGER_BOOT),T.on(r.PRE_RENDER,this.preRender,this),T.once(r.DESTROY,this.destroy,this)},setCanvasOver:function(x){this.isOver=!0,this.events.emit(a.GAME_OVER,x)},setCanvasOut:function(x){this.isOver=!1,this.events.emit(a.GAME_OUT,x)},preRender:function(){var x=this.game.loop.now,T=this.game.loop.delta,S=this.game.scene.getScenes(!0,!0);this.time=x,this.events.emit(a.MANAGER_UPDATE);for(var P=0;P<S.length;P++){var E=S[P];if(E.sys.input&&E.sys.input.updatePoll(x,T)&&this.globalTopOnly)return}},setDefaultCursor:function(x){this.defaultCursor=x,this.canvas.style.cursor!==x&&(this.canvas.style.cursor=x)},setCursor:function(x){x.cursor&&(this.canvas.style.cursor=x.cursor)},resetCursor:function(x){x.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(x){x===void 0&&(x=1);var T=[];this.pointersTotal+x>10&&(x=10-this.pointersTotal);for(var S=0;S<x;S++){var P=this.pointers.length,E=new v(this,P);E.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(E),this.pointersTotal++,T.push(E)}return T},updateInputPlugins:function(x,T){var S=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var P=0;P<S.length;P++){var E=S[P];if(E.sys.input){var R=E.sys.input.update(x,T);if(R&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(x){for(var T=this.pointers,S=[],P=0;P<x.changedTouches.length;P++)for(var E=x.changedTouches[P],R=1;R<this.pointersTotal;R++){var A=T[R];if(!A.active){A.touchstart(E,x),this.activePointer=A,S.push(A);break}}this.updateInputPlugins(c.TOUCH_START,S)},onTouchMove:function(x){for(var T=this.pointers,S=[],P=0;P<x.changedTouches.length;P++)for(var E=x.changedTouches[P],R=1;R<this.pointersTotal;R++){var A=T[R];if(A.active&&A.identifier===E.identifier){var w=document.elementFromPoint(E.pageX,E.pageY),O=w===this.canvas;!this.isOver&&O?this.setCanvasOver(x):this.isOver&&!O&&this.setCanvasOut(x),this.isOver&&(A.touchmove(E,x),this.activePointer=A,S.push(A));break}}this.updateInputPlugins(c.TOUCH_MOVE,S)},onTouchEnd:function(x){for(var T=this.pointers,S=[],P=0;P<x.changedTouches.length;P++)for(var E=x.changedTouches[P],R=1;R<this.pointersTotal;R++){var A=T[R];if(A.active&&A.identifier===E.identifier){A.touchend(E,x),S.push(A);break}}this.updateInputPlugins(c.TOUCH_END,S)},onTouchCancel:function(x){for(var T=this.pointers,S=[],P=0;P<x.changedTouches.length;P++)for(var E=x.changedTouches[P],R=1;R<this.pointersTotal;R++){var A=T[R];if(A.active&&A.identifier===E.identifier){A.touchcancel(E,x),S.push(A);break}}this.updateInputPlugins(c.TOUCH_CANCEL,S)},onMouseDown:function(x){var T=this.mousePointer;T.down(x),T.updateMotion(),this.activePointer=T,this.updateInputPlugins(c.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(x){var T=this.mousePointer;T.move(x),T.updateMotion(),this.activePointer=T,this.updateInputPlugins(c.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(x){var T=this.mousePointer;T.up(x),T.updateMotion(),this.activePointer=T,this.updateInputPlugins(c.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(x){var T=this.mousePointer;T.wheel(x),this.activePointer=T,this.updateInputPlugins(c.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(x){var T=this.mouse.locked;this.mousePointer.locked=T,this.events.emit(a.POINTERLOCK_CHANGE,x,T)},inputCandidate:function(x,T){var S=x.input;if(!S||!S.enabled||!x.willRender(T))return!1;var P=!0,E=x.parentContainer;if(E)do{if(!E.willRender(T)){P=!1;break}E=E.parentContainer}while(E);return P},hitTest:function(x,T,S,P){P===void 0&&(P=this._tempHitTest);var E=this._tempPoint,R=S.scrollX,A=S.scrollY;P.length=0;var w=x.x,O=x.y;S.getWorldPoint(w,O,E),x.worldX=E.x,x.worldY=E.y;for(var L={x:0,y:0},F=this._tempMatrix,I=this._tempMatrix2,b=0;b<T.length;b++){var G=T[b];if(this.inputCandidate(G,S)){var N=E.x+R*G.scrollFactorX-R,U=E.y+A*G.scrollFactorY-A;G.parentContainer?(G.getWorldTransformMatrix(F,I),F.applyInverse(N,U,L)):p(N,U,G.x,G.y,G.rotation,G.scaleX,G.scaleY,L),this.pointWithinHitArea(G,L.x,L.y)&&P.push(G)}}return P},pointWithinHitArea:function(x,T,S){T+=x.displayOriginX,S+=x.displayOriginY;var P=x.input;return P&&P.hitAreaCallback(P.hitArea,T,S,x)?(P.localX=T,P.localY=S,!0):!1},pointWithinInteractiveObject:function(x,T,S){return x.hitArea?(T+=x.gameObject.displayOriginX,S+=x.gameObject.displayOriginY,x.localX=T,x.localY=S,x.hitAreaCallback(x.hitArea,T,S,x)):!1},transformPointer:function(x,T,S,P){var E=x.position,R=x.prevPosition;R.x=E.x,R.y=E.y;var A=this.scaleManager.transformX(T),w=this.scaleManager.transformY(S),O=x.smoothFactor;!P||O===0?(E.x=A,E.y=w):(E.x=A*O+R.x*(1-O),E.y=w*O+R.y*(1-O))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(r.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var x=0;x<this.pointers.length;x++)this.pointers[x].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});h.exports=g},12499:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(26673),c=e(65650),s=e(56694),a=e(72687),r=e(27395),o=e(18104),l=e(53996),v=e(95669),u=e(72313),d=e(33963),p=e(6659),g=e(72632),x=e(52394),T=e(63399),S=e(42911),P=e(91963),E=e(74118),R=e(94287),A=e(7599),w=e(66349),O=e(60689),L=new s({Extends:p,initialize:function(I){p.call(this),this.scene=I,this.systems=I.sys,this.settings=I.sys.settings,this.manager=I.sys.game.input,this.pluginEvents=new p,this.enabled=!0,this.displayList,this.cameras,T.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var b={cancelled:!1};this._eventContainer={stopPropagation:function(){b.cancelled=!0}},this._eventData=b,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,I.sys.events.once(A.BOOT,this.boot,this),I.sys.events.on(A.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(A.DESTROY,this.destroy,this),this.pluginEvents.emit(d.BOOT)},start:function(){var F=this.systems.events;F.on(A.TRANSITION_START,this.transitionIn,this),F.on(A.TRANSITION_OUT,this.transitionOut,this),F.on(A.TRANSITION_COMPLETE,this.transitionComplete,this),F.on(A.PRE_UPDATE,this.preUpdate,this),F.once(A.SHUTDOWN,this.shutdown,this),this.manager.events.on(d.GAME_OUT,this.onGameOut,this),this.manager.events.on(d.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(d.START)},onGameOver:function(F){this.isActive()&&this.emit(d.GAME_OVER,F.timeStamp,F)},onGameOut:function(F){this.isActive()&&this.emit(d.GAME_OUT,F.timeStamp,F)},preUpdate:function(){this.pluginEvents.emit(d.PRE_UPDATE);var F=this._pendingRemoval,I=this._pendingInsertion,b=F.length,G=I.length;if(!(b===0&&G===0)){for(var N=this._list,U=0;U<b;U++){var Y=F[U],X=N.indexOf(Y);X>-1&&(N.splice(X,1),this.clear(Y,!0))}this._pendingRemoval.length=0,this._list=N.concat(I.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.canInput()},updatePoll:function(F,I){if(!this.isActive())return!1;if(this.pluginEvents.emit(d.UPDATE,F,I),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var b,G=this.manager,N=G.pointers,U=G.pointersTotal;for(b=0;b<U;b++)N[b].updateMotion();if(this._list.length===0)return!1;var Y=this.pollRate;if(Y===-1)return!1;if(Y>0)if(this._pollTimer-=I,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var X=!1;for(b=0;b<U;b++){var B=0,z=N[b];this._tempZones=[],this._temp=this.hitTestPointer(z),this.sortGameObjects(this._temp,z),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),B+=this.processOverOutEvents(z),this.getDragState(z)===2&&this.processDragThresholdEvent(z,F),B>0&&(X=!0)}return X},update:function(F,I){if(!this.isActive())return!1;for(var b=I.length,G=!1,N=0;N<b;N++){var U=0,Y=I[N];switch(this._tempZones=[],this._temp=this.hitTestPointer(Y),this.sortGameObjects(this._temp,Y),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),F){case a.MOUSE_DOWN:U+=this.processDragDownEvent(Y),U+=this.processDownEvents(Y),U+=this.processOverOutEvents(Y);break;case a.MOUSE_UP:U+=this.processDragUpEvent(Y),U+=this.processUpEvents(Y),U+=this.processOverOutEvents(Y);break;case a.TOUCH_START:U+=this.processDragDownEvent(Y),U+=this.processDownEvents(Y),U+=this.processOverEvents(Y);break;case a.TOUCH_END:case a.TOUCH_CANCEL:U+=this.processDragUpEvent(Y),U+=this.processUpEvents(Y),U+=this.processOutEvents(Y);break;case a.MOUSE_MOVE:case a.TOUCH_MOVE:U+=this.processDragMoveEvent(Y),U+=this.processMoveEvents(Y),U+=this.processOverOutEvents(Y);break;case a.MOUSE_WHEEL:U+=this.processWheelEvent(Y);break}U>0&&(G=!0)}return this._updatedThisFrame=!0,G},clear:function(F,I){I===void 0&&(I=!1),this.disable(F);var b=F.input;b&&(this.removeDebug(F),b.gameObject=void 0,b.target=void 0,b.hitArea=void 0,b.hitAreaCallback=void 0,b.callbackContext=void 0,F.input=null),I||this.queueForRemoval(F);var G=this._draggable.indexOf(F);return G>-1&&this._draggable.splice(G,1),F},disable:function(F){var I=F.input;I&&(I.enabled=!1,I.dragState=0);var b=this._temp,G=this._drag,N=this._over,U=this.manager,Y=b.indexOf(F);Y>-1&&b.splice(Y,1);for(var X=0;X<U.pointersTotal;X++)Y=G[X].indexOf(F),Y>-1&&G[X].splice(Y,1),Y=N[X].indexOf(F),Y>-1&&(N[X].splice(Y,1),U.resetCursor(I));return this},enable:function(F,I,b,G){return G===void 0&&(G=!1),F.input?F.input.enabled=!0:this.setHitArea(F,I,b),F.input&&G&&!F.input.dropZone&&(F.input.dropZone=G),this},hitTestPointer:function(F){for(var I=this.cameras.getCamerasBelowPointer(F),b=0;b<I.length;b++){for(var G=I[b],N=this.manager.hitTest(F,this._list,G),U=0;U<N.length;U++){var Y=N[U];Y.input.dropZone&&this._tempZones.push(Y)}if(N.length>0)return F.camera=G,N}return F.camera=I[0],[]},processDownEvents:function(F){var I=0,b=this._temp,G=this._eventData,N=this._eventContainer;G.cancelled=!1;for(var U=!1,Y=0;Y<b.length;Y++){var X=b[Y];if(!(!X.input||!X.input.enabled)){if(I++,X.emit(d.GAMEOBJECT_POINTER_DOWN,F,X.input.localX,X.input.localY,N),G.cancelled||!X.input||!X.input.enabled){U=!0;break}if(this.emit(d.GAMEOBJECT_DOWN,F,X,N),G.cancelled||!X.input){U=!0;break}}}return!U&&this.manager&&(F.downElement===this.manager.game.canvas?this.emit(d.POINTER_DOWN,F,b):this.emit(d.POINTER_DOWN_OUTSIDE,F)),I},getDragState:function(F){return this._dragState[F.id]},setDragState:function(F,I){this._dragState[F.id]=I},processDragThresholdEvent:function(F,I){var b=!1,G=this.dragTimeThreshold,N=this.dragDistanceThreshold;if((N>0&&l(F.x,F.y,F.downX,F.downY)>=N||G>0&&I>=F.downTime+G)&&(b=!0),b)return this.setDragState(F,3),this.processDragStartList(F)},processDragStartList:function(F){if(this.getDragState(F)!==3)return 0;for(var I=this._drag[F.id],b=0;b<I.length;b++){var G=I[b],N=G.input;N.dragState=2,N.dragStartX=G.x,N.dragStartY=G.y,N.dragStartXGlobal=F.worldX,N.dragStartYGlobal=F.worldY,N.dragX=N.dragStartXGlobal-N.dragStartX,N.dragY=N.dragStartYGlobal-N.dragStartY,G.emit(d.GAMEOBJECT_DRAG_START,F,N.dragX,N.dragY),this.emit(d.DRAG_START,F,G)}return this.setDragState(F,4),I.length},processDragDownEvent:function(F){var I=this._temp;if(this._draggable.length===0||I.length===0||!F.primaryDown||this.getDragState(F)!==0)return 0;this.setDragState(F,1);for(var b=[],G=0;G<I.length;G++){var N=I[G];N.input.draggable&&N.input.dragState===0&&b.push(N)}return b.length===0?(this.setDragState(F,0),0):(b.length>1&&(this.sortGameObjects(b,F),this.topOnly&&b.splice(1)),this._drag[F.id]=b,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(F,3),this.processDragStartList(F)):(this.setDragState(F,2),0))},processDragMoveEvent:function(F){if(this.getDragState(F)===2&&this.processDragThresholdEvent(F,this.manager.game.loop.now),this.getDragState(F)!==4)return 0;for(var I=this._tempZones,b=this._drag[F.id],G=0;G<b.length;G++){var N=b[G],U=N.input,Y=U.target;if(Y){var X=I.indexOf(Y);X===0?(N.emit(d.GAMEOBJECT_DRAG_OVER,F,Y),this.emit(d.DRAG_OVER,F,N,Y)):X>0?(N.emit(d.GAMEOBJECT_DRAG_LEAVE,F,Y),this.emit(d.DRAG_LEAVE,F,N,Y),U.target=I[0],Y=U.target,N.emit(d.GAMEOBJECT_DRAG_ENTER,F,Y),this.emit(d.DRAG_ENTER,F,N,Y)):(N.emit(d.GAMEOBJECT_DRAG_LEAVE,F,Y),this.emit(d.DRAG_LEAVE,F,N,Y),I[0]?(U.target=I[0],Y=U.target,N.emit(d.GAMEOBJECT_DRAG_ENTER,F,Y),this.emit(d.DRAG_ENTER,F,N,Y)):U.target=null)}else!Y&&I[0]&&(U.target=I[0],Y=U.target,N.emit(d.GAMEOBJECT_DRAG_ENTER,F,Y),this.emit(d.DRAG_ENTER,F,N,Y));var B,z;if(!N.parentContainer)B=F.worldX-U.dragX,z=F.worldY-U.dragY;else{var D=F.worldX-U.dragStartXGlobal,V=F.worldY-U.dragStartYGlobal,k=N.getParentRotation(),W=D*Math.cos(k)+V*Math.sin(k),H=V*Math.cos(k)-D*Math.sin(k);W*=1/N.parentContainer.scaleX,H*=1/N.parentContainer.scaleY,B=W+U.dragStartX,z=H+U.dragStartY}N.emit(d.GAMEOBJECT_DRAG,F,B,z),this.emit(d.DRAG,F,N,B,z)}return b.length},processDragUpEvent:function(F){for(var I=this._drag[F.id],b=0;b<I.length;b++){var G=I[b],N=G.input;if(N&&N.dragState===2){N.dragState=0,N.dragX=N.localX-G.displayOriginX,N.dragY=N.localY-G.displayOriginY;var U=!1,Y=N.target;Y&&(G.emit(d.GAMEOBJECT_DROP,F,Y),this.emit(d.DROP,F,G,Y),N.target=null,U=!0),G.input&&G.input.enabled&&(G.emit(d.GAMEOBJECT_DRAG_END,F,N.dragX,N.dragY,U),this.emit(d.DRAG_END,F,G,U))}}return this.setDragState(F,0),I.splice(0),0},processMoveEvents:function(F){var I=0,b=this._temp,G=this._eventData,N=this._eventContainer;G.cancelled=!1;for(var U=!1,Y=0;Y<b.length;Y++){var X=b[Y];if(!(!X.input||!X.input.enabled)){if(I++,X.emit(d.GAMEOBJECT_POINTER_MOVE,F,X.input.localX,X.input.localY,N),G.cancelled||!X.input||!X.input.enabled){U=!0;break}if(this.emit(d.GAMEOBJECT_MOVE,F,X,N),G.cancelled||!X.input||!X.input.enabled){U=!0;break}if(this.topOnly)break}}return U||this.emit(d.POINTER_MOVE,F,b),I},processWheelEvent:function(F){var I=0,b=this._temp,G=this._eventData,N=this._eventContainer;G.cancelled=!1;for(var U=!1,Y=F.deltaX,X=F.deltaY,B=F.deltaZ,z=0;z<b.length;z++){var D=b[z];if(!(!D.input||!D.input.enabled)){if(I++,D.emit(d.GAMEOBJECT_POINTER_WHEEL,F,Y,X,B,N),G.cancelled||!D.input||!D.input.enabled){U=!0;break}if(this.emit(d.GAMEOBJECT_WHEEL,F,D,Y,X,B,N),G.cancelled||!D.input||!D.input.enabled){U=!0;break}}}return U||this.emit(d.POINTER_WHEEL,F,b,Y,X,B),I},processOverEvents:function(F){var I=this._temp,b=0,G=I.length,N=[];if(G>0){var U=this.manager,Y=this._eventData,X=this._eventContainer;Y.cancelled=!1;for(var B=!1,z=0;z<G;z++){var D=I[z];if(!(!D.input||!D.input.enabled)){if(N.push(D),U.setCursor(D.input),D.emit(d.GAMEOBJECT_POINTER_OVER,F,D.input.localX,D.input.localY,X),b++,Y.cancelled||!D.input||!D.input.enabled){B=!0;break}if(this.emit(d.GAMEOBJECT_OVER,F,D,X),Y.cancelled||!D.input||!D.input.enabled){B=!0;break}}}B||this.emit(d.POINTER_OVER,F,N)}return this._over[F.id]=N,b},processOutEvents:function(F){var I=this._over[F.id],b=0,G=I.length;if(G>0){var N=this.manager,U=this._eventData,Y=this._eventContainer;U.cancelled=!1;var X=!1;this.sortGameObjects(I,F);for(var B=0;B<G;B++){var z=I[B];if(z=I[B],!(!z.input||!z.input.enabled)){if(N.resetCursor(z.input),z.emit(d.GAMEOBJECT_POINTER_OUT,F,Y),b++,U.cancelled||!z.input||!z.input.enabled){X=!0;break}if(this.emit(d.GAMEOBJECT_OUT,F,z,Y),U.cancelled||!z.input||!z.input.enabled){X=!0;break}X||this.emit(d.POINTER_OUT,F,I)}}this._over[F.id]=[]}return b},processOverOutEvents:function(F){var I=this._temp,b,G,N=[],U=[],Y=[],X=this._over[F.id],B=this._drag[F.id],z=this.manager;for(b=0;b<X.length;b++)G=X[b],I.indexOf(G)===-1&&B.indexOf(G)===-1?N.push(G):Y.push(G);for(b=0;b<I.length;b++)G=I[b],X.indexOf(G)===-1&&U.push(G);var D=N.length,V=0,k=this._eventData,W=this._eventContainer;k.cancelled=!1;var H=!1;if(D>0){for(this.sortGameObjects(N,F),b=0;b<D;b++)if(G=N[b],!(!G.input||!G.input.enabled)){if(z.resetCursor(G.input),G.emit(d.GAMEOBJECT_POINTER_OUT,F,W),V++,k.cancelled||!G.input||!G.input.enabled){H=!0;break}if(this.emit(d.GAMEOBJECT_OUT,F,G,W),k.cancelled||!G.input||!G.input.enabled){H=!0;break}}H||this.emit(d.POINTER_OUT,F,N)}if(D=U.length,k.cancelled=!1,H=!1,D>0){for(this.sortGameObjects(U,F),b=0;b<D;b++)if(G=U[b],!(!G.input||!G.input.enabled)){if(z.setCursor(G.input),G.emit(d.GAMEOBJECT_POINTER_OVER,F,G.input.localX,G.input.localY,W),V++,k.cancelled||!G.input||!G.input.enabled){H=!0;break}if(this.emit(d.GAMEOBJECT_OVER,F,G,W),k.cancelled||!G.input||!G.input.enabled){H=!0;break}}H||this.emit(d.POINTER_OVER,F,U)}return X=Y.concat(U),this._over[F.id]=this.sortGameObjects(X,F),V},processUpEvents:function(F){var I=this._temp,b=this._eventData,G=this._eventContainer;b.cancelled=!1;for(var N=!1,U=0;U<I.length;U++){var Y=I[U];if(!(!Y.input||!Y.input.enabled)){if(Y.emit(d.GAMEOBJECT_POINTER_UP,F,Y.input.localX,Y.input.localY,G),b.cancelled||!Y.input||!Y.input.enabled){N=!0;break}if(this.emit(d.GAMEOBJECT_UP,F,Y,G),b.cancelled||!Y.input||!Y.input.enabled){N=!0;break}}}return!N&&this.manager&&(F.upElement===this.manager.game.canvas?this.emit(d.POINTER_UP,F,I):this.emit(d.POINTER_UP_OUTSIDE,F)),I.length},queueForInsertion:function(F){return this._pendingInsertion.indexOf(F)===-1&&this._list.indexOf(F)===-1&&this._pendingInsertion.push(F),this},queueForRemoval:function(F){return this._pendingRemoval.push(F),this},setDraggable:function(F,I){I===void 0&&(I=!0),Array.isArray(F)||(F=[F]);for(var b=0;b<F.length;b++){var G=F[b];G.input.draggable=I;var N=this._draggable.indexOf(G);I&&N===-1?this._draggable.push(G):!I&&N>-1&&this._draggable.splice(N,1)}return this},makePixelPerfect:function(F){F===void 0&&(F=1);var I=this.systems.textures;return o(I,F)},setHitArea:function(F,I,b){if(I===void 0)return this.setHitAreaFromTexture(F);Array.isArray(F)||(F=[F]);var G=!1,N=!1,U=!1,Y=!1,X=!1,B=!0;if(S(I)){var z=I;I=g(z,"hitArea",null),b=g(z,"hitAreaCallback",null),G=g(z,"draggable",!1),N=g(z,"dropZone",!1),U=g(z,"cursor",!1),Y=g(z,"useHandCursor",!1),X=g(z,"pixelPerfect",!1);var D=g(z,"alphaTolerance",1);X&&(I={},b=this.makePixelPerfect(D)),(!I||!b)&&(this.setHitAreaFromTexture(F),B=!1)}else typeof I=="function"&&!b&&(b=I,I={});for(var V=0;V<F.length;V++){var k=F[V];if(X&&k.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var W=k.input?k.input:r(k,I,b);W.customHitArea=B,W.dropZone=N,W.cursor=Y?"pointer":U,k.input=W,G&&this.setDraggable(k),this.queueForInsertion(k)}return this},setHitAreaCircle:function(F,I,b,G,N){N===void 0&&(N=c);var U=new f(I,b,G);return this.setHitArea(F,U,N)},setHitAreaEllipse:function(F,I,b,G,N,U){U===void 0&&(U=u);var Y=new v(I,b,G,N);return this.setHitArea(F,Y,U)},setHitAreaFromTexture:function(F,I){I===void 0&&(I=R),Array.isArray(F)||(F=[F]);for(var b=0;b<F.length;b++){var G=F[b],N=G.frame,U=0,Y=0;if(G.width?(U=G.width,Y=G.height):N&&(U=N.realWidth,Y=N.realHeight),G.type==="Container"&&(U===0||Y===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}U!==0&&Y!==0&&(G.input=r(G,new E(0,0,U,Y),I),this.queueForInsertion(G))}return this},setHitAreaRectangle:function(F,I,b,G,N,U){U===void 0&&(U=R);var Y=new E(I,b,G,N);return this.setHitArea(F,Y,U)},setHitAreaTriangle:function(F,I,b,G,N,U,Y,X){X===void 0&&(X=O);var B=new w(I,b,G,N,U,Y);return this.setHitArea(F,B,X)},enableDebug:function(F,I){I===void 0&&(I=65280);var b=F.input;if(!b||!b.hitArea)return this;var G=b.hitArea,N=G.type,U=b.hitAreaDebug,Y=this.systems.add,X=this.systems.updateList;U&&(X.remove(U),U.destroy(),U=null);var B=0,z=0;switch(N){case x.CIRCLE:U=Y.arc(0,0,G.radius),B=G.x-G.radius,z=G.y-G.radius;break;case x.ELLIPSE:U=Y.ellipse(0,0,G.width,G.height),B=G.x-G.width/2,z=G.y-G.height/2;break;case x.LINE:U=Y.line(0,0,G.x1,G.y1,G.x2,G.y2);break;case x.POLYGON:U=Y.polygon(0,0,G.points);break;case x.RECTANGLE:U=Y.rectangle(0,0,G.width,G.height),B=G.x,z=G.y;break;case x.TRIANGLE:U=Y.triangle(0,0,G.x1,G.y1,G.x2,G.y2,G.x3,G.y3);break}return U&&(U.isFilled=!1,U.strokeColor=I,U.preUpdate=function(){U.setStrokeStyle(1/F.scale,U.strokeColor),U.setDisplayOrigin(F.displayOriginX,F.displayOriginY);var D=F.x,V=F.y,k=F.rotation,W=F.scaleX,H=F.scaleY;if(F.parentContainer){var $=F.getWorldTransformMatrix();D=$.tx,V=$.ty,k=$.rotation,W=$.scaleX,H=$.scaleY}U.setRotation(k),U.setScale(W,H),U.setPosition(D+B*W,V+z*H),U.setScrollFactor(F.scrollFactorX,F.scrollFactorY),U.setDepth(F.depth)},X.add(U),b.hitAreaDebug=U),this},removeDebug:function(F){var I=F.input;if(I&&I.hitAreaDebug){var b=I.hitAreaDebug;this.systems.updateList.remove(b),b.destroy(),I.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(F){return this.pollRate=F,this._pollTimer=0,this},setGlobalTopOnly:function(F){return this.manager.globalTopOnly=F,this},setTopOnly:function(F){return this.topOnly=F,this},sortGameObjects:function(F,I){if(F.length<2||!I.camera)return F;var b=I.camera.renderList;return F.sort(function(G,N){var U=Math.max(b.indexOf(G),0),Y=Math.max(b.indexOf(N),0);return Y-U})},sortDropZones:function(F){return F.length<2?F:(this.scene.sys.depthSort(),F.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(F,I){if(!F.parentContainer&&!I.parentContainer)return this.displayList.getIndex(I)-this.displayList.getIndex(F);if(F.parentContainer===I.parentContainer)return I.parentContainer.getIndex(I)-F.parentContainer.getIndex(F);if(F.parentContainer===I)return-1;if(I.parentContainer===F)return 1;for(var b=F.getIndexList(),G=I.getIndexList(),N=Math.min(b.length,G.length),U=0;U<N;U++){var Y=b[U],X=G[U];if(Y!==X)return X-Y}return G.length-b.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(F){return this.manager.addPointer(F)},setDefaultCursor:function(F){return this.manager.setDefaultCursor(F),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(d.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var F=0;F<10;F++)this._drag[F]=[],this._over[F]=[];this.removeAllListeners();var I=this.manager;I.canvas.style.cursor=I.defaultCursor;var b=this.systems.events;b.off(A.TRANSITION_START,this.transitionIn,this),b.off(A.TRANSITION_OUT,this.transitionOut,this),b.off(A.TRANSITION_COMPLETE,this.transitionComplete,this),b.off(A.PRE_UPDATE,this.preUpdate,this),I.events.off(d.GAME_OUT,this.onGameOut,this),I.events.off(d.GAME_OVER,this.onGameOver,this),b.off(A.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var F=this.manager.pointers,I=0;I<F.length;I++)F[I].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(d.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(A.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});P.register("InputPlugin",L,"input"),h.exports=L},63399:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(10850),c={},s={};s.register=function(a,r,o,l,v){c[a]={plugin:r,mapping:o,settingsKey:l,configKey:v}},s.getPlugin=function(a){return c[a]},s.install=function(a){var r=a.scene.sys,o=r.settings.input,l=r.game.config;for(var v in c){var u=c[v].plugin,d=c[v].mapping,p=c[v].settingsKey,g=c[v].configKey;f(o,p,l[g])&&(a[d]=new u(a))}},s.remove=function(a){c.hasOwnProperty(a)&&delete c[a]},h.exports=s},40398:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(90447),c=e(56694),s=e(53996),a=e(88456),r=e(44521),o=e(93736),l=e(36580),v=new c({initialize:function(d,p){this.manager=d,this.id=p,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new o,this.prevPosition=new o,this.midPoint=new o(-1,-1),this.velocity=new o,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=p===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(u){var d=u.getWorldPoint(this.x,this.y);return this.worldX=d.x,this.worldY=d.y,this},positionToCamera:function(u,d){return u.getWorldPoint(this.x,this.y,d)},updateMotion:function(){var u=this.position.x,d=this.position.y,p=this.midPoint.x,g=this.midPoint.y;if(!(u===p&&d===g)){var x=r(this.motionFactor,p,u),T=r(this.motionFactor,g,d);a(x,u,.1)&&(x=u),a(T,d,.1)&&(T=d),this.midPoint.set(x,T);var S=u-x,P=d-T;this.velocity.set(S,P),this.angle=f(x,T,u,d),this.distance=Math.sqrt(S*S+P*P)}},up:function(u){"buttons"in u&&(this.buttons=u.buttons),this.event=u,this.button=u.button,this.upElement=u.target,this.manager.transformPointer(this,u.pageX,u.pageY,!1),u.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=u.timeStamp,this.wasTouch=!1)},down:function(u){"buttons"in u&&(this.buttons=u.buttons),this.event=u,this.button=u.button,this.downElement=u.target,this.manager.transformPointer(this,u.pageX,u.pageY,!1),u.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),l.macOS&&u.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=u.timeStamp),this.wasTouch=!1},move:function(u){"buttons"in u&&(this.buttons=u.buttons),this.event=u,this.manager.transformPointer(this,u.pageX,u.pageY,!0),this.locked&&(this.movementX=u.movementX||u.mozMovementX||u.webkitMovementX||0,this.movementY=u.movementY||u.mozMovementY||u.webkitMovementY||0),this.moveTime=u.timeStamp,this.wasTouch=!1},wheel:function(u){"buttons"in u&&(this.buttons=u.buttons),this.event=u,this.manager.transformPointer(this,u.pageX,u.pageY,!1),this.deltaX=u.deltaX,this.deltaY=u.deltaY,this.deltaZ=u.deltaZ,this.wasTouch=!1},touchstart:function(u,d){u.pointerId&&(this.pointerId=u.pointerId),this.identifier=u.identifier,this.target=u.target,this.active=!0,this.buttons=1,this.event=d,this.downElement=u.target,this.manager.transformPointer(this,u.pageX,u.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=d.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(u,d){this.event=d,this.manager.transformPointer(this,u.pageX,u.pageY,!0),this.moveTime=d.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(u,d){this.buttons=0,this.event=d,this.upElement=u.target,this.manager.transformPointer(this,u.pageX,u.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=d.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(u,d){this.buttons=0,this.event=d,this.upElement=u.target,this.manager.transformPointer(this,u.pageX,u.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=d.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.button===0&&!this.isDown},rightButtonReleased:function(){return this.button===2&&!this.isDown},middleButtonReleased:function(){return this.button===1&&!this.isDown},backButtonReleased:function(){return this.button===3&&!this.isDown},forwardButtonReleased:function(){return this.button===4&&!this.isDown},getDistance:function(){return this.isDown?s(this.downX,this.downY,this.x,this.y):s(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?f(this.downX,this.downY,this.x,this.y):f(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(u,d){u===void 0&&(u=10),d===void 0&&(d=[]);for(var p=this.prevPosition.x,g=this.prevPosition.y,x=this.position.x,T=this.position.y,S=0;S<u;S++){var P=1/u*S;d[S]={x:r(P,p,x),y:r(P,g,T)}}return d},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(u){this.position.x=u}},y:{get:function(){return this.position.y},set:function(u){this.position.y=u}},time:{get:function(){return this.event?this.event.timeStamp:0}}});h.exports=v},72687:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};h.exports=y},14874:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="boot"},54168:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="destroy"},526:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="dragend"},81623:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="dragenter"},94472:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="drag"},9304:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="dragleave"},34265:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="dragover"},50151:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="dragstart"},98134:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="drop"},56773:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="gameobjectdown"},45824:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="dragend"},39578:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="dragenter"},72072:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="drag"},82569:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="dragleave"},70833:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="dragover"},81442:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="dragstart"},32936:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="drop"},99658:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="gameobjectmove"},60515:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="gameobjectout"},55254:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="gameobjectover"},34782:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pointerdown"},41769:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pointermove"},65588:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pointerout"},61640:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pointerover"},49342:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pointerup"},82662:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="wheel"},13058:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="gameobjectup"},52426:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="gameobjectwheel"},78072:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="gameout"},1545:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="gameover"},67137:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="boot"},27678:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="process"},22257:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="update"},90379:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pointerlockchange"},88909:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pointerdown"},36548:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pointerdownoutside"},18483:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pointermove"},22355:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pointerout"},7997:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pointerover"},66318:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pointerup"},94812:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pointerupoutside"},37310:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="wheel"},24196:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="preupdate"},27053:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="shutdown"},29413:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="start"},25165:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="update"},33963:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={BOOT:e(14874),DESTROY:e(54168),DRAG_END:e(526),DRAG_ENTER:e(81623),DRAG:e(94472),DRAG_LEAVE:e(9304),DRAG_OVER:e(34265),DRAG_START:e(50151),DROP:e(98134),GAME_OUT:e(78072),GAME_OVER:e(1545),GAMEOBJECT_DOWN:e(56773),GAMEOBJECT_DRAG_END:e(45824),GAMEOBJECT_DRAG_ENTER:e(39578),GAMEOBJECT_DRAG:e(72072),GAMEOBJECT_DRAG_LEAVE:e(82569),GAMEOBJECT_DRAG_OVER:e(70833),GAMEOBJECT_DRAG_START:e(81442),GAMEOBJECT_DROP:e(32936),GAMEOBJECT_MOVE:e(99658),GAMEOBJECT_OUT:e(60515),GAMEOBJECT_OVER:e(55254),GAMEOBJECT_POINTER_DOWN:e(34782),GAMEOBJECT_POINTER_MOVE:e(41769),GAMEOBJECT_POINTER_OUT:e(65588),GAMEOBJECT_POINTER_OVER:e(61640),GAMEOBJECT_POINTER_UP:e(49342),GAMEOBJECT_POINTER_WHEEL:e(82662),GAMEOBJECT_UP:e(13058),GAMEOBJECT_WHEEL:e(52426),MANAGER_BOOT:e(67137),MANAGER_PROCESS:e(27678),MANAGER_UPDATE:e(22257),POINTER_DOWN:e(88909),POINTER_DOWN_OUTSIDE:e(36548),POINTER_MOVE:e(18483),POINTER_OUT:e(22355),POINTER_OVER:e(7997),POINTER_UP:e(66318),POINTER_UP_OUTSIDE:e(94812),POINTER_WHEEL:e(37310),POINTERLOCK_CHANGE:e(90379),PRE_UPDATE:e(24196),SHUTDOWN:e(27053),START:e(29413),UPDATE:e(25165)}},70848:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=new f({initialize:function(a,r){this.pad=a,this.events=a.events,this.index=r,this.value=0,this.threshold=.1},update:function(s){this.value=s},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});h.exports=c},21274:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(43200),s=new f({initialize:function(r,o){this.pad=r,this.events=r.manager,this.index=o,this.value=0,this.threshold=1,this.pressed=!1},update:function(a){this.value=a;var r=this.pad,o=this.index;a>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(c.BUTTON_DOWN,r,this,a),this.pad.emit(c.GAMEPAD_BUTTON_DOWN,o,a,this)):this.pressed&&(this.pressed=!1,this.events.emit(c.BUTTON_UP,r,this,a),this.pad.emit(c.GAMEPAD_BUTTON_UP,o,a,this))},destroy:function(){this.pad=null,this.events=null}});h.exports=s},75956:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(70848),c=e(21274),s=e(56694),a=e(6659),r=e(93736),o=new s({Extends:a,initialize:function(v,u){a.call(this),this.manager=v,this.pad=u,this.id=u.id,this.index=u.index;for(var d=[],p=0;p<u.buttons.length;p++)d.push(new c(this,p));this.buttons=d;var g=[];for(p=0;p<u.axes.length;p++)g.push(new f(this,p));this.axes=g,this.vibration=u.vibrationActuator;var x={value:0,pressed:!1};this._LCLeft=d[14]?d[14]:x,this._LCRight=d[15]?d[15]:x,this._LCTop=d[12]?d[12]:x,this._LCBottom=d[13]?d[13]:x,this._RCLeft=d[2]?d[2]:x,this._RCRight=d[1]?d[1]:x,this._RCTop=d[3]?d[3]:x,this._RCBottom=d[0]?d[0]:x,this._FBLeftTop=d[4]?d[4]:x,this._FBLeftBottom=d[6]?d[6]:x,this._FBRightTop=d[5]?d[5]:x,this._FBRightBottom=d[7]?d[7]:x;var T={value:0};this._HAxisLeft=g[0]?g[0]:T,this._VAxisLeft=g[1]?g[1]:T,this._HAxisRight=g[2]?g[2]:T,this._VAxisRight=g[3]?g[3]:T,this.leftStick=new r,this.rightStick=new r,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(l){return this.axes[l].getValue()},setAxisThreshold:function(l){for(var v=0;v<this.axes.length;v++)this.axes[v].threshold=l},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(l){return this.buttons[l].value},isButtonDown:function(l){return this.buttons[l].pressed},update:function(l){if(!(l.timestamp<this._created)){var v,u=this.buttons,d=l.buttons,p=u.length;for(v=0;v<p;v++)u[v].update(d[v].value);var g=this.axes,x=l.axes;for(p=g.length,v=0;v<p;v++)g[v].update(x[v]);p>=2&&(this.leftStick.set(g[0].getValue(),g[1].getValue()),p>=4&&this.rightStick.set(g[2].getValue(),g[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var l;for(l=0;l<this.buttons.length;l++)this.buttons[l].destroy();for(l=0;l<this.axes.length;l++)this.axes[l].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});h.exports=o},1379:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(6659),s=e(43200),a=e(75956),r=e(10850),o=e(63399),l=e(33963),v=new f({Extends:c,initialize:function(d){c.call(this),this.scene=d.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=d,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,d.pluginEvents.once(l.BOOT,this.boot,this),d.pluginEvents.on(l.START,this.start,this)},boot:function(){var u=this.scene.sys.game,d=this.settings.input,p=u.config;this.enabled=r(d,"gamepad",p.inputGamepad)&&u.device.input.gamepads,this.target=r(d,"gamepad.target",p.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(l.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(l.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var u=this,d=this.target,p=function(g){g.defaultPrevented||!u.isActive()||(u.refreshPads(),u.queue.push(g))};this.onGamepadHandler=p,d.addEventListener("gamepadconnected",p,!1),d.addEventListener("gamepaddisconnected",p,!1),this.sceneInputPlugin.pluginEvents.on(l.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(l.UPDATE,this.update);for(var u=0;u<this.gamepads.length;u++)this.gamepads[u].removeAllListeners()},disconnectAll:function(){for(var u=0;u<this.gamepads.length;u++)this.gamepads[u].pad.connected=!1},refreshPads:function(){var u=navigator.getGamepads();if(!u)this.disconnectAll();else for(var d=this.gamepads,p=0;p<u.length;p++){var g=u[p];if(g){var x=g.id,T=g.index,S=d[T];if(S)S.id!==x?(S.destroy(),d[T]=new a(this,g)):S.update(g);else{var P=new a(this,g);d[T]=P,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=P):this._pad3=P:this._pad2=P:this._pad1=P}}}},getAll:function(){for(var u=[],d=this.gamepads,p=0;p<d.length;p++)d[p]&&u.push(d[p]);return u},getPad:function(u){for(var d=this.gamepads,p=0;p<d.length;p++)if(d[p]&&d[p].index===u)return d[p]},update:function(){if(this.enabled){this.refreshPads();var u=this.queue.length;if(u!==0)for(var d=this.queue.splice(0,u),p=0;p<u;p++){var g=d[p],x=this.getPad(g.gamepad.index);g.type==="gamepadconnected"?this.emit(s.CONNECTED,x,g):g.type==="gamepaddisconnected"&&this.emit(s.DISCONNECTED,x,g)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var u=0;u<this.gamepads.length;u++)this.gamepads[u]&&this.gamepads[u].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});o.register("GamepadPlugin",v,"gamepad","gamepad","inputGamepad"),h.exports=v},33171:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},74982:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},43247:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},4898:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={DUALSHOCK_4:e(74982),SNES_USB:e(33171),XBOX_360:e(43247)}},17344:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="down"},36635:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="up"},85724:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="connected"},55832:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="disconnected"},772:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="down"},33608:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="up"},43200:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={BUTTON_DOWN:e(17344),BUTTON_UP:e(36635),CONNECTED:e(85724),DISCONNECTED:e(55832),GAMEPAD_BUTTON_DOWN:e(772),GAMEPAD_BUTTON_UP:e(33608)}},92636:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Axis:e(70848),Button:e(21274),Events:e(43200),Gamepad:e(75956),GamepadPlugin:e(1379),Configs:e(4898)}},20873:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72687),c=e(98611),s={CreatePixelPerfectHandler:e(18104),CreateInteractiveObject:e(27395),Events:e(33963),Gamepad:e(92636),InputManager:e(69898),InputPlugin:e(12499),InputPluginCache:e(63399),Keyboard:e(28388),Mouse:e(11343),Pointer:e(40398),Touch:e(77423)};s=c(!1,s,f),h.exports=s},71064:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(66458),c=e(56694),s=e(97081),a=e(33963),r=e(11873),o=e(72283),l=new c({initialize:function(u){this.manager=u,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=o,this.onKeyUp=o,u.events.once(a.MANAGER_BOOT,this.boot,this)},boot:function(){var v=this.manager.config;this.enabled=v.inputKeyboard,this.target=v.inputKeyboardEventTarget,this.addCapture(v.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(s.POST_STEP,this.postUpdate,this)},startListeners:function(){var v=this;this.onKeyDown=function(d){if(!(d.defaultPrevented||!v.enabled||!v.manager)){v.queue.push(d),v.manager.events.emit(a.MANAGER_PROCESS);var p=d.altKey||d.ctrlKey||d.shiftKey||d.metaKey;v.preventDefault&&!p&&v.captures.indexOf(d.keyCode)>-1&&d.preventDefault()}},this.onKeyUp=function(d){if(!(d.defaultPrevented||!v.enabled||!v.manager)){v.queue.push(d),v.manager.events.emit(a.MANAGER_PROCESS);var p=d.altKey||d.ctrlKey||d.shiftKey||d.metaKey;v.preventDefault&&!p&&v.captures.indexOf(d.keyCode)>-1&&d.preventDefault()}};var u=this.target;u&&(u.addEventListener("keydown",this.onKeyDown,!1),u.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var v=this.target;v.removeEventListener("keydown",this.onKeyDown,!1),v.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(v){typeof v=="string"&&(v=v.split(",")),Array.isArray(v)||(v=[v]);for(var u=this.captures,d=0;d<v.length;d++){var p=v[d];typeof p=="string"&&(p=r[p.trim().toUpperCase()]),u.indexOf(p)===-1&&u.push(p)}this.preventDefault=u.length>0},removeCapture:function(v){typeof v=="string"&&(v=v.split(",")),Array.isArray(v)||(v=[v]);for(var u=this.captures,d=0;d<v.length;d++){var p=v[d];typeof p=="string"&&(p=r[p.toUpperCase()]),f(u,p)}this.preventDefault=u.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(s.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});h.exports=l},89666:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(6659),s=e(94030),a=e(97081),r=e(10850),o=e(33963),l=e(63399),v=e(50165),u=e(11873),d=e(95625),p=e(48044),g=e(7599),x=e(84314),T=new f({Extends:c,initialize:function(P){c.call(this),this.game=P.systems.game,this.scene=P.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=P,this.manager=P.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,P.pluginEvents.once(o.BOOT,this.boot,this),P.pluginEvents.on(o.START,this.start,this)},boot:function(){var S=this.settings.input;this.enabled=r(S,"keyboard",!0);var P=r(S,"keyboard.capture",null);P&&this.addCaptures(P),this.sceneInputPlugin.pluginEvents.once(o.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(o.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(o.SHUTDOWN,this.shutdown,this),this.game.events.on(a.BLUR,this.resetKeys,this),this.scene.sys.events.on(g.PAUSE,this.resetKeys,this),this.scene.sys.events.on(g.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(S){return this.manager.addCapture(S),this},removeCapture:function(S){return this.manager.removeCapture(S),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:u.UP,down:u.DOWN,left:u.LEFT,right:u.RIGHT,space:u.SPACE,shift:u.SHIFT})},addKeys:function(S,P,E){P===void 0&&(P=!0),E===void 0&&(E=!1);var R={};if(typeof S=="string"){S=S.split(",");for(var A=0;A<S.length;A++){var w=S[A].trim();w&&(R[w]=this.addKey(w,P,E))}}else for(var O in S)R[O]=this.addKey(S[O],P,E);return R},addKey:function(S,P,E){P===void 0&&(P=!0),E===void 0&&(E=!1);var R=this.keys;if(S instanceof v){var A=R.indexOf(S);return A>-1?R[A]=S:R[S.keyCode]=S,P&&this.addCapture(S.keyCode),S.setEmitOnRepeat(E),S}return typeof S=="string"&&(S=u[S.toUpperCase()]),R[S]||(R[S]=new v(this,S),P&&this.addCapture(S),R[S].setEmitOnRepeat(E)),R[S]},removeKey:function(S,P,E){P===void 0&&(P=!1),E===void 0&&(E=!1);var R=this.keys,A;if(S instanceof v){var w=R.indexOf(S);w>-1&&(A=this.keys[w],this.keys[w]=void 0)}else typeof S=="string"&&(S=u[S.toUpperCase()]);return R[S]&&(A=R[S],R[S]=void 0),A&&(A.plugin=null,E&&this.removeCapture(A.keyCode),P&&A.destroy()),this},removeAllKeys:function(S,P){S===void 0&&(S=!1),P===void 0&&(P=!1);for(var E=this.keys,R=0;R<E.length;R++){var A=E[R];A&&(E[R]=void 0,P&&this.removeCapture(A.keyCode),S&&A.destroy())}return this},createCombo:function(S,P){return new d(this,S,P)},checkDown:function(S,P){if(P===void 0&&(P=0),this.enabled&&S.isDown){var E=x(this.time-S.timeDown,P);if(E>S._tick)return S._tick=E,!0}return!1},update:function(){var S=this.manager.queue,P=S.length;if(!(!this.isActive()||P===0))for(var E=this.keys,R=0;R<P;R++){var A=S[R],w=A.keyCode,O=E[w],L=!1;A.cancelled===void 0&&(A.cancelled=0,A.stopImmediatePropagation=function(){A.cancelled=1},A.stopPropagation=function(){A.cancelled=-1}),A.cancelled!==-1&&(w===this.prevCode&&A.timeStamp===this.prevTime&&A.type===this.prevType||(this.prevCode=w,this.prevTime=A.timeStamp,this.prevType=A.type,A.type==="keydown"?(O&&(L=O.isDown,O.onDown(A)),!A.cancelled&&(!O||!L)&&(p[w]&&this.emit(s.KEY_DOWN+p[w],A),A.cancelled||this.emit(s.ANY_KEY_DOWN,A))):(O&&O.onUp(A),A.cancelled||(p[w]&&this.emit(s.KEY_UP+p[w],A),A.cancelled||this.emit(s.ANY_KEY_UP,A))),A.cancelled===1&&(A.cancelled=0)))}},resetKeys:function(){for(var S=this.keys,P=0;P<S.length;P++)S[P]&&S[P].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(o.MANAGER_PROCESS,this.update,this),this.game.events.off(a.BLUR,this.resetKeys),this.scene.sys.events.off(g.PAUSE,this.resetKeys,this),this.scene.sys.events.off(g.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var S=this.keys,P=0;P<S.length;P++)S[P]&&S[P].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});l.register("KeyboardPlugin",T,"keyboard","keyboard","inputKeyboard"),h.exports=T},60258:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return f.timeLastMatched=e.timeStamp,f.index++,f.index===f.size?!0:(f.current=f.keyCodes[f.index],!1)};h.exports=y},95625:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(94030),s=e(72632),a=e(2544),r=e(88754),o=new f({initialize:function(v,u,d){if(d===void 0&&(d={}),u.length<2)return!1;this.manager=v,this.enabled=!0,this.keyCodes=[];for(var p=0;p<u.length;p++){var g=u[p];typeof g=="string"?this.keyCodes.push(g.toUpperCase().charCodeAt(0)):typeof g=="number"?this.keyCodes.push(g):g.hasOwnProperty("keyCode")&&this.keyCodes.push(g.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=s(d,"resetOnWrongKey",!0),this.maxKeyDelay=s(d,"maxKeyDelay",0),this.resetOnMatch=s(d,"resetOnMatch",!1),this.deleteOnMatch=s(d,"deleteOnMatch",!1);var x=this,T=function(S){if(!(x.matched||!x.enabled)){var P=a(S,x);P&&(x.manager.emit(c.COMBO_MATCH,x,S),x.resetOnMatch?r(x):x.deleteOnMatch&&x.destroy())}};this.onKeyDown=T,this.manager.on(c.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(c.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});h.exports=o},2544:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(60258),c=function(s,a){if(a.matched)return!0;var r=!1,o=!1;if(s.keyCode===a.current)if(a.index>0&&a.maxKeyDelay>0){var l=a.timeLastMatched+a.maxKeyDelay;s.timeStamp<=l&&(o=!0,r=f(s,a))}else o=!0,r=f(s,a);return!o&&a.resetOnWrongKey&&(a.index=0,a.current=a.keyCodes[0]),r&&(a.timeLastMatched=s.timeStamp,a.matched=!0,a.timeMatched=s.timeStamp),r};h.exports=c},88754:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.current=e.keyCodes[0],e.index=0,e.timeLastMatched=0,e.matched=!1,e.timeMatched=0,e};h.exports=y},5044:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="keydown"},40813:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="keyup"},89319:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="keycombomatch"},43267:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="down"},78595:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="keydown-"},30056:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="keyup-"},81939:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="up"},94030:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={ANY_KEY_DOWN:e(5044),ANY_KEY_UP:e(40813),COMBO_MATCH:e(89319),DOWN:e(43267),KEY_DOWN:e(78595),KEY_UP:e(30056),UP:e(81939)}},28388:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Events:e(94030),KeyboardManager:e(71064),KeyboardPlugin:e(89666),Key:e(50165),KeyCodes:e(11873),KeyCombo:e(95625),AdvanceKeyCombo:e(60258),ProcessKeyCombo:e(2544),ResetKeyCombo:e(88754),JustDown:e(42460),JustUp:e(53162),DownDuration:e(64964),UpDuration:e(70331)}},64964:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){f===void 0&&(f=50);var c=e.plugin.game.loop.time-e.timeDown;return e.isDown&&c<f};h.exports=y},42460:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e._justDown?(e._justDown=!1,!0):!1};h.exports=y},53162:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e._justUp?(e._justUp=!1,!0):!1};h.exports=y},50165:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(6659),s=e(94030),a=new f({Extends:c,initialize:function(o,l){c.call(this),this.plugin=o,this.keyCode=l,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(r){return this.emitOnRepeat=r,this},onDown:function(r){this.originalEvent=r,this.enabled&&(this.altKey=r.altKey,this.ctrlKey=r.ctrlKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.location=r.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(s.DOWN,this,r):(this.isDown=!0,this.isUp=!1,this.timeDown=r.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(s.DOWN,this,r)))},onUp:function(r){this.originalEvent=r,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=r.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(s.UP,this,r))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});h.exports=a},11873:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};h.exports=y},48044:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(11873),c={};for(var s in f)c[f[s]]=s;h.exports=c},70331:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){f===void 0&&(f=50);var c=e.plugin.game.loop.time-e.timeUp;return e.isUp&&c<f};h.exports=y},7905:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(90185),s=e(33963),a=e(72283),r=new f({initialize:function(l){this.manager=l,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=a,this.onMouseDown=a,this.onMouseUp=a,this.onMouseDownWindow=a,this.onMouseUpWindow=a,this.onMouseOver=a,this.onMouseOut=a,this.onMouseWheel=a,this.pointerLockChange=a,this.isTop=!0,l.events.once(s.MANAGER_BOOT,this.boot,this)},boot:function(){var o=this.manager.config;this.enabled=o.inputMouse,this.target=o.inputMouseEventTarget,this.passive=o.inputMousePassive,this.preventDefaultDown=o.inputMousePreventDefaultDown,this.preventDefaultUp=o.inputMousePreventDefaultUp,this.preventDefaultMove=o.inputMousePreventDefaultMove,this.preventDefaultWheel=o.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,o.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(o){return o.preventDefault(),!1}),this},requestPointerLock:function(){if(c.pointerLock){var o=this.target;o.requestPointerLock=o.requestPointerLock||o.mozRequestPointerLock||o.webkitRequestPointerLock,o.requestPointerLock()}},releasePointerLock:function(){c.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var o=this.target;if(o){var l=this,v=this.manager,u=v.canvas,d=window&&window.focus&&v.game.config.autoFocus;this.onMouseMove=function(g){!g.defaultPrevented&&l.enabled&&v&&v.enabled&&(v.onMouseMove(g),l.preventDefaultMove&&g.preventDefault())},this.onMouseDown=function(g){d&&window.focus(),!g.defaultPrevented&&l.enabled&&v&&v.enabled&&(v.onMouseDown(g),l.preventDefaultDown&&g.target===u&&g.preventDefault())},this.onMouseDownWindow=function(g){!g.defaultPrevented&&l.enabled&&v&&v.enabled&&g.target!==u&&v.onMouseDown(g)},this.onMouseUp=function(g){!g.defaultPrevented&&l.enabled&&v&&v.enabled&&(v.onMouseUp(g),l.preventDefaultUp&&g.target===u&&g.preventDefault())},this.onMouseUpWindow=function(g){!g.defaultPrevented&&l.enabled&&v&&v.enabled&&g.target!==u&&v.onMouseUp(g)},this.onMouseOver=function(g){!g.defaultPrevented&&l.enabled&&v&&v.enabled&&v.setCanvasOver(g)},this.onMouseOut=function(g){!g.defaultPrevented&&l.enabled&&v&&v.enabled&&v.setCanvasOut(g)},this.onMouseWheel=function(g){!g.defaultPrevented&&l.enabled&&v&&v.enabled&&v.onMouseWheel(g),l.preventDefaultWheel&&g.target===u&&g.preventDefault()};var p={passive:!0};if(o.addEventListener("mousemove",this.onMouseMove),o.addEventListener("mousedown",this.onMouseDown),o.addEventListener("mouseup",this.onMouseUp),o.addEventListener("mouseover",this.onMouseOver,p),o.addEventListener("mouseout",this.onMouseOut,p),this.preventDefaultWheel?o.addEventListener("wheel",this.onMouseWheel,{passive:!1}):o.addEventListener("wheel",this.onMouseWheel,p),window&&v.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,p),window.top.addEventListener("mouseup",this.onMouseUpWindow,p)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,p),window.addEventListener("mouseup",this.onMouseUpWindow,p),this.isTop=!1}c.pointerLock&&(this.pointerLockChange=function(g){var x=l.target;l.locked=document.pointerLockElement===x||document.mozPointerLockElement===x||document.webkitPointerLockElement===x,v.onPointerLockChange(g)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var o=this.target;o.removeEventListener("mousemove",this.onMouseMove),o.removeEventListener("mousedown",this.onMouseDown),o.removeEventListener("mouseup",this.onMouseUp),o.removeEventListener("mouseover",this.onMouseOver),o.removeEventListener("mouseout",this.onMouseOut),window&&(o=this.isTop?window.top:window,o.removeEventListener("mousedown",this.onMouseDownWindow),o.removeEventListener("mouseup",this.onMouseUpWindow)),c.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});h.exports=r},11343:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={MouseManager:e(7905)}},37579:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(33963),s=e(72283),a=new f({initialize:function(o){this.manager=o,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=s,this.onTouchStartWindow=s,this.onTouchMove=s,this.onTouchEnd=s,this.onTouchEndWindow=s,this.onTouchCancel=s,this.onTouchCancelWindow=s,this.isTop=!0,o.events.once(c.MANAGER_BOOT,this.boot,this)},boot:function(){var r=this.manager.config;this.enabled=r.inputTouch,this.target=r.inputTouchEventTarget,this.capture=r.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,r.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(r){return r.preventDefault(),!1}),this},startListeners:function(){var r=this.target;if(r){var o=this,l=this.manager,v=l.canvas,u=window&&window.focus&&l.game.config.autoFocus;this.onTouchMove=function(x){!x.defaultPrevented&&o.enabled&&l&&l.enabled&&(l.onTouchMove(x),o.capture&&x.cancelable&&x.preventDefault())},this.onTouchStart=function(x){u&&window.focus(),!x.defaultPrevented&&o.enabled&&l&&l.enabled&&(l.onTouchStart(x),o.capture&&x.cancelable&&x.target===v&&x.preventDefault())},this.onTouchStartWindow=function(x){!x.defaultPrevented&&o.enabled&&l&&l.enabled&&x.target!==v&&l.onTouchStart(x)},this.onTouchEnd=function(x){!x.defaultPrevented&&o.enabled&&l&&l.enabled&&(l.onTouchEnd(x),o.capture&&x.cancelable&&x.target===v&&x.preventDefault())},this.onTouchEndWindow=function(x){!x.defaultPrevented&&o.enabled&&l&&l.enabled&&x.target!==v&&l.onTouchEnd(x)},this.onTouchCancel=function(x){!x.defaultPrevented&&o.enabled&&l&&l.enabled&&(l.onTouchCancel(x),o.capture&&x.preventDefault())},this.onTouchCancelWindow=function(x){!x.defaultPrevented&&o.enabled&&l&&l.enabled&&l.onTouchCancel(x)};var d=this.capture,p={passive:!0},g={passive:!1};if(r.addEventListener("touchstart",this.onTouchStart,d?g:p),r.addEventListener("touchmove",this.onTouchMove,d?g:p),r.addEventListener("touchend",this.onTouchEnd,d?g:p),r.addEventListener("touchcancel",this.onTouchCancel,d?g:p),window&&l.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,g),window.top.addEventListener("touchend",this.onTouchEndWindow,g),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,g)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,g),window.addEventListener("touchend",this.onTouchEndWindow,g),window.addEventListener("touchcancel",this.onTouchCancelWindow,g),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var r=this.target;r.removeEventListener("touchstart",this.onTouchStart),r.removeEventListener("touchmove",this.onTouchMove),r.removeEventListener("touchend",this.onTouchEnd),r.removeEventListener("touchcancel",this.onTouchCancel),window&&(r=this.isTop?window.top:window,r.removeEventListener("touchstart",this.onTouchStartWindow),r.removeEventListener("touchend",this.onTouchEndWindow),r.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});h.exports=a},77423:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={TouchManager:e(37579)}},98035:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(12117),s=e(683),a=e(72632),r=e(30750),o=e(43531),l=e(88490),v=e(33868),u=new f({initialize:function(p,g){if(this.loader=p,this.cache=a(g,"cache",!1),this.type=a(g,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=a(g,"key",!1);var x=this.key;if(p.prefix&&p.prefix!==""&&(this.key=p.prefix+x),!this.key)throw new Error("Invalid File key: "+this.key);var T=a(g,"url");T===void 0?T=p.path+x+"."+a(g,"extension",""):typeof T=="string"&&!T.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(T=p.path+T),this.url=T,this.src="",this.xhrSettings=v(a(g,"responseType",void 0)),a(g,"xhrSettings",!1)&&(this.xhrSettings=o(this.xhrSettings,a(g,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?c.FILE_POPULATED:c.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=a(g,"config",{}),this.multiFile,this.linkFile},setLink:function(d){this.linkFile=d,d.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===c.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=c.FILE_LOADING,this.src=r(this,this.loader.baseURL),this.src.indexOf("data:")===0?console.warn("Local data URIs are not supported: "+this.key):this.xhrLoader=l(this,this.loader.xhr))},onLoad:function(d,p){var g=d.responseURL&&this.loader.localSchemes.some(function(S){return d.responseURL.indexOf(S)===0}),x=g&&p.target.status===0,T=!(p.target&&p.target.status!==200)||x;d.readyState===4&&d.status>=400&&d.status<=599&&(T=!1),this.state=c.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,T)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(d){d.lengthComputable&&(this.bytesLoaded=d.loaded,this.bytesTotal=d.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(s.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=c.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=c.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=c.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(d){if(this.state!==c.FILE_PENDING_DESTROY){d===void 0&&(d=this.data);var p=this.key,g=this.type;this.loader.emit(s.FILE_COMPLETE,p,g,d),this.loader.emit(s.FILE_KEY_COMPLETE+g+"-"+p,p,g,d),this.loader.flagForRemoval(this),this.state=c.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});u.createObjectURL=function(d,p,g){if(typeof URL=="function")d.src=URL.createObjectURL(p);else{var x=new FileReader;x.onload=function(){d.removeAttribute("crossOrigin"),d.src="data:"+(p.type||g)+";base64,"+x.result.split(",")[1]},x.onerror=d.onerror,x.readAsDataURL(p)}},u.revokeObjectURL=function(d){typeof URL=="function"&&URL.revokeObjectURL(d.src)},h.exports=u},76846:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={},e={install:function(f){for(var c in y)f[c]=y[c]},register:function(f,c){y[f]=c},destroy:function(){y={}}};h.exports=e},30750:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e.url?e.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?e.url:f+e.url:!1};h.exports=y},67285:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(12117),s=e(58403),a=e(6659),r=e(683),o=e(76846),l=e(72632),v=e(10850),u=e(91963),d=e(7599),p=e(33868),g=new f({Extends:a,initialize:function(T){a.call(this);var S=T.sys.game.config,P=T.sys.settings.loader;this.scene=T,this.systems=T.sys,this.cacheManager=T.sys.cache,this.textureManager=T.sys.textures,this.sceneManager=T.sys.game.scene,o.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(l(P,"baseURL",S.loaderBaseURL)),this.setPath(l(P,"path",S.loaderPath)),this.setPrefix(l(P,"prefix",S.loaderPrefix)),this.maxParallelDownloads=l(P,"maxParallelDownloads",S.loaderMaxParallelDownloads),this.xhr=p(l(P,"responseType",S.loaderResponseType),l(P,"async",S.loaderAsync),l(P,"user",S.loaderUser),l(P,"password",S.loaderPassword),l(P,"timeout",S.loaderTimeout),l(P,"withCredentials",S.loaderWithCredentials)),this.crossOrigin=l(P,"crossOrigin",S.loaderCrossOrigin),this.imageLoadType=l(P,"imageLoadType",S.loaderImageLoadType),this.localSchemes=l(P,"localScheme",S.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new s,this.inflight=new s,this.queue=new s,this._deleteQueue=new s,this.totalFailed=0,this.totalComplete=0,this.state=c.LOADER_IDLE,this.multiKeyIndex=0,T.sys.events.once(d.BOOT,this.boot,this),T.sys.events.on(d.START,this.pluginStart,this)},boot:function(){this.systems.events.once(d.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(d.SHUTDOWN,this.shutdown,this)},setBaseURL:function(x){return x===void 0&&(x=""),x!==""&&x.substr(-1)!=="/"&&(x=x.concat("/")),this.baseURL=x,this},setPath:function(x){return x===void 0&&(x=""),x!==""&&x.substr(-1)!=="/"&&(x=x.concat("/")),this.path=x,this},setPrefix:function(x){return x===void 0&&(x=""),this.prefix=x,this},setCORS:function(x){return this.crossOrigin=x,this},addFile:function(x){Array.isArray(x)||(x=[x]);for(var T=0;T<x.length;T++){var S=x[T];this.keyExists(S)||(this.list.set(S),this.emit(r.ADD,S.key,S.type,this,S),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(x){var T=x.hasCacheConflict();return T||this.list.iterate(function(S){if(S.type===x.type&&S.key===x.key)return T=!0,!1}),!T&&this.isLoading()&&(this.inflight.iterate(function(S){if(S.type===x.type&&S.key===x.key)return T=!0,!1}),this.queue.iterate(function(S){if(S.type===x.type&&S.key===x.key)return T=!0,!1})),T},addPack:function(x,T){if(typeof T=="string"){var S=v(x,T);S&&(x={packKey:S})}var P=0,E=this.baseURL,R=this.path,A=this.prefix;for(var w in x)if(Object.prototype.hasOwnProperty.call(x,w)){var O=x[w],L=l(O,"baseURL",E),F=l(O,"path",R),I=l(O,"prefix",A),b=l(O,"files",null),G=l(O,"defaultType","void");if(Array.isArray(b)){this.setBaseURL(L),this.setPath(F),this.setPrefix(I);for(var N=0;N<b.length;N++){var U=b[N],Y=U.hasOwnProperty("type")?U.type:G;this[Y]&&(this[Y](U),P++)}}}return this.setBaseURL(E),this.setPath(R),this.setPrefix(A),P>0},isLoading:function(){return this.state===c.LOADER_LOADING||this.state===c.LOADER_PROCESSING},isReady:function(){return this.state===c.LOADER_IDLE||this.state===c.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(r.START,this),this.list.size===0?this.loadComplete():(this.state=c.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(d.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(r.PROGRESS,this.progress)},update:function(){this.state===c.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(x){if((x.state===c.FILE_POPULATED||x.state===c.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(x),this.list.delete(x),x.crossOrigin||(x.crossOrigin=this.crossOrigin),x.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(x,T){this.inflight&&(this.inflight.delete(x),this.updateProgress(),T?(this.totalComplete++,this.queue.set(x),this.emit(r.FILE_LOAD,x),x.onProcess()):(this.totalFailed++,this._deleteQueue.set(x),this.emit(r.FILE_LOAD_ERROR,x),this.fileProcessComplete(x)))},fileProcessComplete:function(x){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(x.state===c.FILE_ERRORED?x.multiFile&&x.multiFile.onFileFailed(x):x.state===c.FILE_COMPLETE&&(x.multiFile?x.multiFile.isReadyToProcess()&&(x.multiFile.addToCache(),x.multiFile.pendingDestroy()):(x.addToCache(),x.pendingDestroy())),this.queue.delete(x),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(r.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=c.LOADER_COMPLETE,this.systems.events.off(d.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(r.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(x){this._deleteQueue.set(x)},saveJSON:function(x,T){return this.save(JSON.stringify(x),T)},save:function(x,T,S){T===void 0&&(T="file.json"),S===void 0&&(S="application/json");var P=new Blob([x],{type:S}),E=URL.createObjectURL(P),R=document.createElement("a");return R.download=T,R.textContent="Download "+T,R.href=E,R.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var x=this.systems.game.config,T=this.systems.settings.loader;this.setBaseURL(l(T,"baseURL",x.loaderBaseURL)),this.setPath(l(T,"path",x.loaderPath)),this.setPrefix(l(T,"prefix",x.loaderPrefix)),this.state=c.LOADER_IDLE},shutdown:function(){this.reset(),this.state=c.LOADER_SHUTDOWN,this.systems.events.off(d.UPDATE,this.update,this),this.systems.events.off(d.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=c.LOADER_DESTROYED,this.systems.events.off(d.UPDATE,this.update,this),this.systems.events.off(d.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});u.register("Loader",g,"load"),h.exports=g},43531:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(98611),c=e(33868),s=function(a,r){var o=a===void 0?c():f({},a);if(r)for(var l in r)r[l]!==void 0&&(o[l]=r[l]);return o};h.exports=s},45176:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(12117),s=e(683),a=new f({initialize:function(o,l,v,u){var d=[];u.forEach(function(g){g&&d.push(g)}),this.loader=o,this.type=l,this.key=v,this.multiKeyIndex=o.multiKeyIndex++,this.files=d,this.state=c.FILE_PENDING,this.complete=!1,this.pending=d.length,this.failed=0,this.config={},this.baseURL=o.baseURL,this.path=o.path,this.prefix=o.prefix;for(var p=0;p<d.length;p++)d[p].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(r){return this.files.push(r),r.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(r){var o=this.files.indexOf(r);o!==-1&&this.pending--},onFileFailed:function(r){var o=this.files.indexOf(r);o!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,r.type,r.key))},pendingDestroy:function(){if(this.state!==c.FILE_PENDING_DESTROY){var r=this.key,o=this.type;this.loader.emit(s.FILE_COMPLETE,r,o),this.loader.emit(s.FILE_KEY_COMPLETE+o+"-"+r,r,o),this.loader.flagForRemoval(this);for(var l=0;l<this.files.length;l++)this.files[l].pendingDestroy();this.state=c.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});h.exports=a},88490:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(43531),c=function(s,a){var r=f(a,s.xhrSettings),o=new XMLHttpRequest;if(o.open("GET",s.src,r.async,r.user,r.password),o.responseType=s.xhrSettings.responseType,o.timeout=r.timeout,r.headers)for(var l in r.headers)o.setRequestHeader(l,r.headers[l]);return r.header&&r.headerValue&&o.setRequestHeader(r.header,r.headerValue),r.requestedWith&&o.setRequestHeader("X-Requested-With",r.requestedWith),r.overrideMimeType&&o.overrideMimeType(r.overrideMimeType),r.withCredentials&&(o.withCredentials=!0),o.onload=s.onLoad.bind(s,o),o.onerror=s.onError.bind(s,o),o.onprogress=s.onProgress.bind(s),o.send(),o};h.exports=c},33868:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s,a,r){return e===void 0&&(e=""),f===void 0&&(f=!0),c===void 0&&(c=""),s===void 0&&(s=""),a===void 0&&(a=0),r===void 0&&(r=!1),{responseType:e,async:f,user:c,password:s,timeout:a,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:r}};h.exports=y},12117:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};h.exports=y},7398:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="addfile"},52187:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="complete"},36627:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="filecomplete"},81925:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="filecomplete-"},29774:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="loaderror"},20943:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="load"},74693:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="fileprogress"},71176:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="postprocess"},88984:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="progress"},72753:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="start"},683:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={ADD:e(7398),COMPLETE:e(52187),FILE_COMPLETE:e(36627),FILE_KEY_COMPLETE:e(81925),FILE_LOAD_ERROR:e(29774),FILE_LOAD:e(20943),FILE_PROGRESS:e(74693),POST_PROCESS:e(71176),PROGRESS:e(88984),START:e(72753)}},46468:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(76846),s=e(70806),a=e(683),r=new f({Extends:s,initialize:function(l,v,u,d,p){s.call(this,l,v,u,d,p),this.type="animationJSON"},onProcess:function(){this.loader.once(a.POST_PROCESS,this.onLoadComplete,this),s.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});c.register("animation",function(o,l,v,u){if(Array.isArray(o))for(var d=0;d<o.length;d++)this.addFile(new r(this,o[d]));else this.addFile(new r(this,o,l,u,v));return this}),h.exports=r},31648:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(76846),s=e(72632),a=e(42927),r=e(42911),o=e(70806),l=e(45176),v=new f({Extends:l,initialize:function(d,p,g,x,T,S){var P,E;if(r(p)){var R=p;p=s(R,"key"),P=new a(d,{key:p,url:s(R,"textureURL"),extension:s(R,"textureExtension","png"),normalMap:s(R,"normalMap"),xhrSettings:s(R,"textureXhrSettings")}),E=new o(d,{key:p,url:s(R,"atlasURL"),extension:s(R,"atlasExtension","json"),xhrSettings:s(R,"atlasXhrSettings")})}else P=new a(d,p,g,T),E=new o(d,p,x,S);P.linkFile?l.call(this,d,"atlasjson",p,[P,E,P.linkFile]):l.call(this,d,"atlasjson",p,[P,E])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],d=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(u.key,u.data,d.data,p),d.addToCache(),this.complete=!0}}});c.register("aseprite",function(u,d,p,g,x){var T;if(Array.isArray(u))for(var S=0;S<u.length;S++)T=new v(this,u[S]),this.addFile(T.files);else T=new v(this,u,d,p,g,x),this.addFile(T.files);return this}),h.exports=v},73152:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(76846),s=e(72632),a=e(42927),r=e(42911),o=e(70806),l=e(45176),v=new f({Extends:l,initialize:function(d,p,g,x,T,S){var P,E;if(r(p)){var R=p;p=s(R,"key"),P=new a(d,{key:p,url:s(R,"textureURL"),extension:s(R,"textureExtension","png"),normalMap:s(R,"normalMap"),xhrSettings:s(R,"textureXhrSettings")}),E=new o(d,{key:p,url:s(R,"atlasURL"),extension:s(R,"atlasExtension","json"),xhrSettings:s(R,"atlasXhrSettings")})}else P=new a(d,p,g,T),E=new o(d,p,x,S);P.linkFile?l.call(this,d,"atlasjson",p,[P,E,P.linkFile]):l.call(this,d,"atlasjson",p,[P,E])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],d=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(u.key,u.data,d.data,p),this.complete=!0}}});c.register("atlas",function(u,d,p,g,x){var T;if(Array.isArray(u))for(var S=0;S<u.length;S++)T=new v(this,u[S]),this.addFile(T.files);else T=new v(this,u,d,p,g,x),this.addFile(T.files);return this}),h.exports=v},24616:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(76846),s=e(72632),a=e(42927),r=e(42911),o=e(45176),l=e(15297),v=new f({Extends:o,initialize:function(d,p,g,x,T,S){var P,E;if(r(p)){var R=p;p=s(R,"key"),P=new a(d,{key:p,url:s(R,"textureURL"),extension:s(R,"textureExtension","png"),normalMap:s(R,"normalMap"),xhrSettings:s(R,"textureXhrSettings")}),E=new l(d,{key:p,url:s(R,"atlasURL"),extension:s(R,"atlasExtension","xml"),xhrSettings:s(R,"atlasXhrSettings")})}else P=new a(d,p,g,T),E=new l(d,p,x,S);P.linkFile?o.call(this,d,"atlasxml",p,[P,E,P.linkFile]):o.call(this,d,"atlasxml",p,[P,E])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],d=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(u.key,u.data,d.data,p),this.complete=!0}}});c.register("atlasXML",function(u,d,p,g,x){var T;if(Array.isArray(u))for(var S=0;S<u.length;S++)T=new v(this,u[S]),this.addFile(T.files);else T=new v(this,u,d,p,g,x),this.addFile(T.files);return this}),h.exports=v},67448:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(12117),s=e(98035),a=e(76846),r=e(72632),o=e(30929),l=e(42911),v=new f({Extends:s,initialize:function(d,p,g,x,T){if(l(p)){var S=p;p=r(S,"key"),x=r(S,"xhrSettings"),T=r(S,"context",T)}var P={type:"audio",cache:d.cacheManager.audio,extension:g.type,responseType:"arraybuffer",key:p,url:g.url,xhrSettings:x,config:{context:T}};s.call(this,d,P)},onProcess:function(){this.state=c.FILE_PROCESSING;var u=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(d){u.data=d,u.onProcessComplete()},function(d){console.error("Error decoding audio: "+u.key+" - ",d?d.message:null),u.onProcessError()}),this.config.context=null}});v.create=function(u,d,p,g,x){var T=u.systems.game,S=T.config.audio,P=T.device.audio;l(d)&&(p=r(d,"url",[]),g=r(d,"config",{}));var E=v.getAudioURL(T,p);return E?P.webAudio&&!S.disableWebAudio?new v(u,d,E,x,T.sound.context):new o(u,d,E,g):(console.warn('No audio URLs for "%s" matched this device',d),null)},v.getAudioURL=function(u,d){Array.isArray(d)||(d=[d]);for(var p=0;p<d.length;p++){var g=r(d[p],"url",d[p]);if(g.indexOf("blob:")===0||g.indexOf("data:")===0)return{url:g,type:""};var x=g.match(/\.([a-zA-Z0-9]+)($|\?)/);if(x=r(d[p],"type",x?x[1]:"").toLowerCase(),u.device.audio[x])return{url:g,type:x}}return null},a.register("audio",function(u,d,p,g){var x=this.systems.game,T=x.config.audio,S=x.device.audio;if(T.noAudio||!S.webAudio&&!S.audioData)return this;var P;if(Array.isArray(u))for(var E=0;E<u.length;E++)P=v.create(this,u[E]),P&&this.addFile(P);else P=v.create(this,u,d,p,g),P&&this.addFile(P);return this}),h.exports=v},66109:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(67448),c=e(56694),s=e(76846),a=e(72632),r=e(42911),o=e(70806),l=e(45176),v=new c({Extends:l,initialize:function(d,p,g,x,T,S,P){if(r(p)){var E=p;p=a(E,"key"),g=a(E,"jsonURL"),x=a(E,"audioURL"),T=a(E,"audioConfig"),S=a(E,"audioXhrSettings"),P=a(E,"jsonXhrSettings")}var R;if(!x)R=new o(d,p,g,P),l.call(this,d,"audiosprite",p,[R]),this.config.resourceLoad=!0,this.config.audioConfig=T,this.config.audioXhrSettings=S;else{var A=f.create(d,p,x,T,S);A&&(R=new o(d,p,g,P),l.call(this,d,"audiosprite",p,[A,R]),this.config.resourceLoad=!1)}},onFileComplete:function(u){var d=this.files.indexOf(u);if(d!==-1&&(this.pending--,this.config.resourceLoad&&u.type==="json"&&u.data.hasOwnProperty("resources"))){var p=u.data.resources,g=a(this.config,"audioConfig"),x=a(this.config,"audioXhrSettings"),T=f.create(this.loader,u.key,p,g,x);T&&(this.addToMultiFile(T),this.loader.addFile(T))}},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],d=this.files[1];u.addToCache(),d.addToCache(),this.complete=!0}}});s.register("audioSprite",function(u,d,p,g,x,T){var S=this.systems.game,P=S.config.audio,E=S.device.audio;if(P&&P.noAudio||!E.webAudio&&!E.audioData)return this;var R;if(Array.isArray(u))for(var A=0;A<u.length;A++)R=new v(this,u[A]),R.files&&this.addFile(R.files);else R=new v(this,u,d,p,g,x,T),R.files&&this.addFile(R.files);return this})},40612:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(12117),s=e(98035),a=e(76846),r=e(72632),o=e(42911),l=new f({Extends:s,initialize:function(u,d,p,g,x){var T="bin";if(o(d)){var S=d;d=r(S,"key"),p=r(S,"url"),g=r(S,"xhrSettings"),T=r(S,"extension",T),x=r(S,"dataType",x)}var P={type:"binary",cache:u.cacheManager.binary,extension:T,responseType:"arraybuffer",key:d,url:p,xhrSettings:g,config:{dataType:x}};s.call(this,u,P)},onProcess:function(){this.state=c.FILE_PROCESSING;var v=this.config.dataType;this.data=v?new v(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});a.register("binary",function(v,u,d,p){if(Array.isArray(v))for(var g=0;g<v.length;g++)this.addFile(new l(this,v[g]));else this.addFile(new l(this,v,u,p,d));return this}),h.exports=l},54565:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(76846),s=e(72632),a=e(42927),r=e(42911),o=e(45176),l=e(31476),v=e(15297),u=new f({Extends:o,initialize:function(p,g,x,T,S,P){var E,R;if(r(g)){var A=g;g=s(A,"key"),E=new a(p,{key:g,url:s(A,"textureURL"),extension:s(A,"textureExtension","png"),normalMap:s(A,"normalMap"),xhrSettings:s(A,"textureXhrSettings")}),R=new v(p,{key:g,url:s(A,"fontDataURL"),extension:s(A,"fontDataExtension","xml"),xhrSettings:s(A,"fontDataXhrSettings")})}else E=new a(p,g,x,S),R=new v(p,g,T,P);E.linkFile?o.call(this,p,"bitmapfont",g,[E,R,E.linkFile]):o.call(this,p,"bitmapfont",g,[E,R])},addToCache:function(){if(this.isReadyToProcess()){var d=this.files[0],p=this.files[1];d.addToCache();var g=d.cache.get(d.key),x=l(p.data,d.cache.getFrame(d.key),0,0,g);this.loader.cacheManager.bitmapFont.add(d.key,{data:x,texture:d.key,frame:null}),this.complete=!0}}});c.register("bitmapFont",function(d,p,g,x,T){var S;if(Array.isArray(d))for(var P=0;P<d.length;P++)S=new u(this,d[P]),this.addFile(S.files);else S=new u(this,d,p,g,x,T),this.addFile(S.files);return this}),h.exports=u},99898:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(12117),s=e(98035),a=e(76846),r=e(72632),o=e(42911),l=new f({Extends:s,initialize:function(u,d,p,g){var x="css";if(o(d)){var T=d;d=r(T,"key"),p=r(T,"url"),g=r(T,"xhrSettings"),x=r(T,"extension",x)}var S={type:"script",cache:!1,extension:x,responseType:"text",key:d,url:p,xhrSettings:g};s.call(this,u,S)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});a.register("css",function(v,u,d){if(Array.isArray(v))for(var p=0;p<v.length;p++)this.addFile(new l(this,v[p]));else this.addFile(new l(this,v,u,d));return this}),h.exports=l},47375:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(73152),c=e(40612),s=e(56694),a=e(76846),r=e(72632),o=e(42927),l=e(42911),v=e(70806),u=e(67409),d=e(30657),p=e(80802),g=e(45176),x=e(24904),T=new s({Extends:g,initialize:function(P,E,R,A){if(R.multiAtlasURL){var w=new v(P,{key:E,url:R.multiAtlasURL,xhrSettings:A,config:R});g.call(this,P,"texture",E,[w])}else{var O=R.textureURL.substr(R.textureURL.length-3);R.type||(R.type=O.toLowerCase()==="ktx"?"KTX":"PVR");var L=new c(P,{key:E,url:R.textureURL,extension:O,xhrSettings:A,config:R});if(R.atlasURL){var F=new v(P,{key:E,url:R.atlasURL,xhrSettings:A,config:R});g.call(this,P,"texture",E,[L,F])}else g.call(this,P,"texture",E,[L])}this.config=R},onFileComplete:function(S){var P=this.files.indexOf(S);if(P!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(S.type==="json"&&S.data.hasOwnProperty("textures")){var E=S.data.textures,R=this.config,A=this.loader,w=A.baseURL,O=A.path,L=A.prefix,F=r(R,"multiBaseURL",this.baseURL),I=r(R,"multiPath",this.path),b=r(R,"prefix",this.prefix),G=r(R,"textureXhrSettings");F&&A.setBaseURL(F),I&&A.setPath(I),b&&A.setPrefix(b);for(var N=0;N<E.length;N++){var U=E[N].image,Y="CMA"+this.multiKeyIndex+"_"+U,X=new c(A,Y,U,G);if(this.addToMultiFile(X),A.addFile(X),E[N].normalMap){var B=new c(A,Y,E[N].normalMap,G);B.type="normalMap",X.setLink(B),this.addToMultiFile(B),A.addFile(B)}}A.setBaseURL(w),A.setPath(O),A.setPrefix(L)}}},addToCache:function(){if(this.isReadyToProcess()){var S=this.config;if(S.multiAtlasURL)this.addMultiToCache();else{var P=this.loader.systems.renderer,E=this.loader.textureManager,R,A=this.files[0],w=this.files[1];if(S.type==="PVR"?R=x(A.data):S.type==="KTX"&&(R=u(A.data)),R&&P.supportsCompressedTexture(S.format,R.internalFormat)){R.format=P.getCompressedTextureName(S.format,R.internalFormat);var O=w&&w.data?w.data:null;E.addCompressedTexture(A.key,R,O)}}this.complete=!0}},addMultiToCache:function(){for(var S=this.config,P=this.files[0],E=[],R=[],A=[],w=this.loader.systems.renderer,O=this.loader.textureManager,L,F=1;F<this.files.length;F++){var I=this.files[F];if(I.type!=="normalMap")for(var b=I.key.indexOf("_"),G=I.key.substr(b+1),N=I.data,U=0;U<P.data.textures.length;U++){var Y=P.data.textures[U];if(Y.image===G){S.type==="PVR"?L=x(N):S.type==="KTX"&&(L=u(N)),L&&w.supportsCompressedTexture(S.format,L.internalFormat)&&(L.format=w.getCompressedTextureName(S.format,L.internalFormat),R.push(L),E.push(Y),I.linkFile&&A.push(I.linkFile.data));break}}}A.length===0&&(A=void 0),O.addAtlasJSONArray(this.key,R,E,A),this.complete=!0}});a.register("texture",function(S,P,E){var R=this.systems.renderer,A=function(O,L,F,I){var b={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(l(L)){var G=L;L=r(G,"key"),F=r(G,"url"),I=r(G,"xhrSettings")}var N=!1;for(var U in F)if(R.supportsCompressedTexture(U)){var Y=F[U];typeof Y=="string"?b.textureURL=Y:b=d(Y,b),b.format=U.toUpperCase(),N=!0;break}if(!N)console.warn("No supported compressed texture format or IMG fallback",L);else if(b.format==="IMG"){var X,B;b.multiAtlasURL?(B=new p(O,L,b.multiAtlasURL,b.multiPath,b.multiBaseURL,I),X=B.files):b.atlasURL?(B=new f(O,L,b.textureURL,b.atlasURL,I),X=B.files):X=new o(O,L,b.textureURL,I),O.addFile(X)}else{var z=new T(O,L,b,I);O.addFile(z.files)}};if(Array.isArray(S))for(var w=0;w<S.length;w++)A(this,S[w]);else A(this,S,P,E);return this}),h.exports=T},46568:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(12117),s=e(98035),a=e(76846),r=e(72632),o=e(42911),l=e(31053),v=new f({Extends:s,initialize:function(d,p,g,x,T){var S="glsl";if(o(p)){var P=p;p=r(P,"key"),g=r(P,"url"),x=r(P,"shaderType","fragment"),T=r(P,"xhrSettings"),S=r(P,"extension",S)}else x===void 0&&(x="fragment");var E={type:"glsl",cache:d.cacheManager.shader,extension:S,responseType:"text",key:p,url:g,config:{shaderType:x},xhrSettings:T};s.call(this,d,E)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var u=this.data.split(`
`),d=this.extractBlock(u,0);if(d)for(;d;){var p=this.getShaderName(d.header),g=this.getShaderType(d.header),x=this.getShaderUniforms(d.header),T=d.shader;if(this.cache.has(p)){var S=this.cache.get(p);g==="fragment"?S.fragmentSrc=T:S.vertexSrc=T,S.uniforms||(S.uniforms=x)}else g==="fragment"?this.cache.add(p,new l(p,T,"",x)):this.cache.add(p,new l(p,"",T,x));d=this.extractBlock(u,d.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new l(this.key,this.data)):this.cache.add(this.key,new l(this.key,"",this.data))},getShaderName:function(u){for(var d=0;d<u.length;d++){var p=u[d].trim();if(p.substring(0,5)==="name:")return p.substring(5).trim()}return this.key},getShaderType:function(u){for(var d=0;d<u.length;d++){var p=u[d].trim();if(p.substring(0,5)==="type:")return p.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(u){for(var d={},p=0;p<u.length;p++){var g=u[p].trim();if(g.substring(0,8)==="uniform."){var x=g.indexOf(":");if(x){var T=g.substring(8,x);try{d[T]=JSON.parse(g.substring(x+1))}catch{console.warn("Invalid uniform JSON: "+T)}}}}return d},extractBlock:function(u,d){for(var p=-1,g=-1,x=-1,T=!1,S=!1,P=[],E=[],R=d;R<u.length;R++){var A=u[R].trim();if(A==="---")if(p===-1)p=R,T=!0;else if(T)g=R,T=!1,S=!0;else{S=!1;break}else T?P.push(A):S&&(E.push(A),x=R)}return!T&&g!==-1?{header:P,shader:E.join(`
`),offset:x}:null}});a.register("glsl",function(u,d,p,g){if(Array.isArray(u))for(var x=0;x<u.length;x++)this.addFile(new v(this,u[x]));else this.addFile(new v(this,u,d,p,g));return this}),h.exports=v},30929:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(683),s=e(98035),a=e(72632),r=e(30750),o=e(42911),l=new f({Extends:s,initialize:function(u,d,p,g){if(o(d)){var x=d;d=a(x,"key"),g=a(x,"config",g)}var T={type:"audio",cache:u.cacheManager.audio,extension:p.type,key:d,url:p.url,config:g};s.call(this,u,T),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var v=0;v<this.data.length;v++){var u=this.data[v];u.oncanplaythrough=null,u.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(v){var u=v.target;u.oncanplaythrough=null,u.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(c.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var v=this.config&&this.config.instances||1;this.filesTotal=v,this.filesLoaded=0,this.percentComplete=0;for(var u=0;u<v;u++){var d=new Audio;d.dataset||(d.dataset={}),d.dataset.name=this.key+("0"+u).slice(-2),d.dataset.used="false",this.locked?d.dataset.locked="true":(d.dataset.locked="false",d.preload="auto",d.oncanplaythrough=this.onProgress.bind(this),d.onerror=this.onError.bind(this)),this.data.push(d)}for(u=0;u<this.data.length;u++)d=this.data[u],d.src=r(this,this.loader.baseURL),this.locked||d.load();this.locked&&setTimeout(this.onLoad.bind(this))}});h.exports=l},77459:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(12117),s=e(98035),a=e(76846),r=e(72632),o=e(42911),l=new f({Extends:s,initialize:function(u,d,p,g){var x="html";if(o(d)){var T=d;d=r(T,"key"),p=r(T,"url"),g=r(T,"xhrSettings"),x=r(T,"extension",x)}var S={type:"text",cache:u.cacheManager.html,extension:x,responseType:"text",key:d,url:p,xhrSettings:g};s.call(this,u,S)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});a.register("html",function(v,u,d){if(Array.isArray(v))for(var p=0;p<v.length;p++)this.addFile(new l(this,v[p]));else this.addFile(new l(this,v,u,d));return this}),h.exports=l},9755:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(12117),s=e(98035),a=e(76846),r=e(72632),o=e(42911),l=new f({Extends:s,initialize:function(u,d,p,g,x,T){g===void 0&&(g=512),x===void 0&&(x=512);var S="html";if(o(d)){var P=d;d=r(P,"key"),p=r(P,"url"),T=r(P,"xhrSettings"),S=r(P,"extension",S),g=r(P,"width",g),x=r(P,"height",x)}var E={type:"html",cache:u.textureManager,extension:S,responseType:"text",key:d,url:p,xhrSettings:T,config:{width:g,height:x}};s.call(this,u,E)},onProcess:function(){this.state=c.FILE_PROCESSING;var v=this.config.width,u=this.config.height,d=[];d.push('<svg width="'+v+'px" height="'+u+'px" viewBox="0 0 '+v+" "+u+'" xmlns="http://www.w3.org/2000/svg">'),d.push('<foreignObject width="100%" height="100%">'),d.push('<body xmlns="http://www.w3.org/1999/xhtml">'),d.push(this.xhrLoader.responseText),d.push("</body>"),d.push("</foreignObject>"),d.push("</svg>");var p=[d.join(`
`)],g=this;try{var x=new window.Blob(p,{type:"image/svg+xml;charset=utf-8"})}catch{g.state=c.FILE_ERRORED,g.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){s.revokeObjectURL(g.data),g.onProcessComplete()},this.data.onerror=function(){s.revokeObjectURL(g.data),g.onProcessError()},s.createObjectURL(this.data,x,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});a.register("htmlTexture",function(v,u,d,p,g){if(Array.isArray(v))for(var x=0;x<v.length;x++)this.addFile(new l(this,v[x]));else this.addFile(new l(this,v,u,d,p,g));return this}),h.exports=l},42927:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(12117),s=e(98035),a=e(76846),r=e(72632),o=e(42911),l=e(30750),v=new f({Extends:s,initialize:function u(d,p,g,x,T){var S="png",P;if(o(p)){var E=p;p=r(E,"key"),g=r(E,"url"),P=r(E,"normalMap"),x=r(E,"xhrSettings"),S=r(E,"extension",S),T=r(E,"frameConfig")}Array.isArray(g)&&(P=g[1],g=g[0]);var R={type:"image",cache:d.textureManager,extension:S,responseType:"blob",key:p,url:g,xhrSettings:x,config:T};if(s.call(this,d,R),P){var A=new u(d,this.key,P,x,T);A.type="normalMap",this.setLink(A),d.addFile(A)}this.useImageElementLoad=d.imageLoadType==="HTMLImageElement",this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var u=this;this.data.onload=function(){s.revokeObjectURL(u.data),u.onProcessComplete()},this.data.onerror=function(){s.revokeObjectURL(u.data),u.onProcessError()},s.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var u=this.state;this.state=c.FILE_PROCESSING,u===c.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){if(this.state=c.FILE_LOADING,this.src=l(this,this.loader.baseURL),this.src.indexOf("data:")===0)console.warn("Local data URIs are not supported: "+this.key);else{this.data=new Image,this.data.crossOrigin=this.crossOrigin;var u=this;this.data.onload=function(){u.state=c.FILE_LOADED,u.loader.nextFile(u,!0)},this.data.onerror=function(){u.loader.nextFile(u,!1)},this.data.src=this.src}},addToCache:function(){var u=this.linkFile;u?u.state>=c.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addImage(this.key,u.data,this.data):this.cache.addImage(this.key,this.data,u.data)):this.cache.addImage(this.key,this.data)}});a.register("image",function(u,d,p){if(Array.isArray(u))for(var g=0;g<u.length;g++)this.addFile(new v(this,u[g]));else this.addFile(new v(this,u,d,p));return this}),h.exports=v},70806:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(12117),s=e(98035),a=e(76846),r=e(72632),o=e(10850),l=e(42911),v=new f({Extends:s,initialize:function(d,p,g,x,T){var S="json";if(l(p)){var P=p;p=r(P,"key"),g=r(P,"url"),x=r(P,"xhrSettings"),S=r(P,"extension",S),T=r(P,"dataKey",T)}var E={type:"json",cache:d.cacheManager.json,extension:S,responseType:"text",key:p,url:g,xhrSettings:x,config:T};s.call(this,d,E),l(g)&&(T?this.data=o(g,T):this.data=g,this.state=c.FILE_POPULATED)},onProcess:function(){if(this.state!==c.FILE_POPULATED){this.state=c.FILE_PROCESSING;try{var u=JSON.parse(this.xhrLoader.responseText)}catch(p){throw this.onProcessError(),p}var d=this.config;typeof d=="string"?this.data=o(u,d,u):this.data=u}this.onProcessComplete()}});a.register("json",function(u,d,p,g){if(Array.isArray(u))for(var x=0;x<u.length;x++)this.addFile(new v(this,u[x]));else this.addFile(new v(this,u,d,g,p));return this}),h.exports=v},80802:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(76846),s=e(72632),a=e(42927),r=e(42911),o=e(70806),l=e(45176),v=new f({Extends:l,initialize:function(d,p,g,x,T,S,P){if(r(p)){var E=p;p=s(E,"key"),s(E,"url",!1)?g=s(E,"url"):g=s(E,"atlasURL"),S=s(E,"xhrSettings"),x=s(E,"path"),T=s(E,"baseURL"),P=s(E,"textureXhrSettings")}var R=new o(d,p,g,S);l.call(this,d,"multiatlas",p,[R]),this.config.path=x,this.config.baseURL=T,this.config.textureXhrSettings=P},onFileComplete:function(u){var d=this.files.indexOf(u);if(d!==-1&&(this.pending--,u.type==="json"&&u.data.hasOwnProperty("textures"))){var p=u.data.textures,g=this.config,x=this.loader,T=x.baseURL,S=x.path,P=x.prefix,E=s(g,"baseURL",this.baseURL),R=s(g,"path",this.path),A=s(g,"prefix",this.prefix),w=s(g,"textureXhrSettings");x.setBaseURL(E),x.setPath(R),x.setPrefix(A);for(var O=0;O<p.length;O++){var L=p[O].image,F="MA"+this.multiKeyIndex+"_"+L,I=new a(x,F,L,w);if(this.addToMultiFile(I),x.addFile(I),p[O].normalMap){var b=new a(x,F,p[O].normalMap,w);b.type="normalMap",I.setLink(b),this.addToMultiFile(b),x.addFile(b)}}x.setBaseURL(T),x.setPath(S),x.setPrefix(P)}},addToCache:function(){if(this.isReadyToProcess()){for(var u=this.files[0],d=[],p=[],g=[],x=1;x<this.files.length;x++){var T=this.files[x];if(T.type!=="normalMap")for(var S=T.key.indexOf("_"),P=T.key.substr(S+1),E=T.data,R=0;R<u.data.textures.length;R++){var A=u.data.textures[R];if(A.image===P){p.push(E),d.push(A),T.linkFile&&g.push(T.linkFile.data);break}}}g.length===0&&(g=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,p,d,g),this.complete=!0}}});c.register("multiatlas",function(u,d,p,g,x){var T;if(Array.isArray(u))for(var S=0;S<u.length;S++)T=new v(this,u[S]),this.addFile(T.files);else T=new v(this,u,d,p,g,x),this.addFile(T.files);return this}),h.exports=v},39034:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(76846),s=e(72632),a=e(42911),r=e(45176),o=e(55188),l=new f({Extends:r,initialize:function(u,d,p,g){var x="js",T=[];if(a(d)){var S=d;d=s(S,"key"),p=s(S,"url"),g=s(S,"xhrSettings"),x=s(S,"extension",x)}Array.isArray(p)||(p=[p]);for(var P=0;P<p.length;P++){var E=new o(u,{key:d+"_"+P.toString(),url:p[P],extension:x,xhrSettings:g});E.onProcess=function(){this.onProcessComplete()},T.push(E)}r.call(this,u,"scripts",d,T)},addToCache:function(){if(this.isReadyToProcess()){for(var v=0;v<this.files.length;v++){var u=this.files[v];u.data=document.createElement("script"),u.data.language="javascript",u.data.type="text/javascript",u.data.defer=!1,u.data.text=u.xhrLoader.responseText,document.head.appendChild(u.data)}this.complete=!0}}});c.register("scripts",function(v,u,d){var p;if(Array.isArray(v))for(var g=0;g<v.length;g++)p=new l(this,v[g]),this.addFile(p.files);else p=new l(this,v,u,d),this.addFile(p.files);return this}),h.exports=l},85527:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(76846),s=e(72632),a=e(42911),r=e(45176),o=e(27291),l=e(76799),v=e(86897),u=new f({Extends:r,initialize:function(p,g,x,T,S,P){var E,R,A=p.cacheManager.obj;if(a(g)){var w=g;g=s(w,"key"),E=new v(p,{key:g,type:"obj",cache:A,url:s(w,"url"),extension:s(w,"extension","obj"),xhrSettings:s(w,"xhrSettings"),config:{flipUV:s(w,"flipUV",S)}}),T=s(w,"matURL"),T&&(R=new v(p,{key:g,type:"mat",cache:A,url:T,extension:s(w,"matExtension","mat"),xhrSettings:s(w,"xhrSettings")}))}else E=new v(p,{key:g,url:x,type:"obj",cache:A,extension:"obj",xhrSettings:P,config:{flipUV:S}}),T&&(R=new v(p,{key:g,url:T,type:"mat",cache:A,extension:"mat",xhrSettings:P}));r.call(this,p,"obj",g,[E,R])},addToCache:function(){if(this.isReadyToProcess()){var d=this.files[0],p=this.files[1],g=o(d.data,d.config.flipUV);p&&(g.materials=l(p.data)),d.cache.add(d.key,g),this.complete=!0}}});c.register("obj",function(d,p,g,x,T){var S;if(Array.isArray(d))for(var P=0;P<d.length;P++)S=new u(this,d[P]),this.addFile(S.files);else S=new u(this,d,p,g,x,T),this.addFile(S.files);return this}),h.exports=u},3616:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(12117),s=e(76846),a=e(70806),r=new f({Extends:a,initialize:function(l,v,u,d,p){a.call(this,l,v,u,d,p),this.type="packfile"},onProcess:function(){if(this.state!==c.FILE_POPULATED&&(this.state=c.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var o={};o[this.config]=this.data,this.data=o}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});s.register("pack",function(o,l,v,u){if(Array.isArray(o))for(var d=0;d<o.length;d++)this.addFile(new r(this,o[d]));else this.addFile(new r(this,o,l,u,v));return this}),h.exports=r},12217:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(12117),s=e(98035),a=e(76846),r=e(72632),o=e(42911),l=new f({Extends:s,initialize:function(u,d,p,g,x,T){var S="js";if(o(d)){var P=d;d=r(P,"key"),p=r(P,"url"),T=r(P,"xhrSettings"),S=r(P,"extension",S),g=r(P,"start"),x=r(P,"mapping")}var E={type:"plugin",cache:!1,extension:S,responseType:"text",key:d,url:p,xhrSettings:T,config:{start:g,mapping:x}};s.call(this,u,E),typeof p=="function"&&(this.data=p,this.state=c.FILE_POPULATED)},onProcess:function(){var v=this.loader.systems.plugins,u=this.config,d=r(u,"start",!1),p=r(u,"mapping",null);if(this.state===c.FILE_POPULATED)v.install(this.key,this.data,d,p);else{this.state=c.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var g=v.install(this.key,window[this.key],d,p);(d||p)&&(this.loader.systems[p]=g,this.loader.scene[p]=g)}this.onProcessComplete()}});a.register("plugin",function(v,u,d,p,g){if(Array.isArray(v))for(var x=0;x<v.length;x++)this.addFile(new l(this,v[x]));else this.addFile(new l(this,v,u,d,p,g));return this}),h.exports=l},4474:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(12117),s=e(98035),a=e(76846),r=e(72632),o=e(42911),l=new f({Extends:s,initialize:function(u,d,p,g,x){var T="svg";if(o(d)){var S=d;d=r(S,"key"),p=r(S,"url"),g=r(S,"svgConfig",{}),x=r(S,"xhrSettings"),T=r(S,"extension",T)}var P={type:"svg",cache:u.textureManager,extension:T,responseType:"text",key:d,url:p,xhrSettings:x,config:{width:r(g,"width"),height:r(g,"height"),scale:r(g,"scale")}};s.call(this,u,P)},onProcess:function(){this.state=c.FILE_PROCESSING;var v=this.xhrLoader.responseText,u=[v],d=this.config.width,p=this.config.height,g=this.config.scale;t:if(d&&p||g){var x=null,T=new DOMParser;x=T.parseFromString(v,"text/xml");var S=x.getElementsByTagName("svg")[0],P=S.hasAttribute("viewBox"),E=parseFloat(S.getAttribute("width")),R=parseFloat(S.getAttribute("height"));if(!P&&E&&R)S.setAttribute("viewBox","0  0 "+E+" "+R);else if(P&&!E&&!R){var A=S.getAttribute("viewBox").split(/\s+|,/);E=A[2],R=A[3]}if(g)if(E&&R)d=E*g,p=R*g;else break t;S.setAttribute("width",d.toString()+"px"),S.setAttribute("height",p.toString()+"px"),u=[new XMLSerializer().serializeToString(S)]}try{var w=new window.Blob(u,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var O=this,L=!1;this.data.onload=function(){L||s.revokeObjectURL(O.data),O.onProcessComplete()},this.data.onerror=function(){L?O.onProcessError():(L=!0,s.revokeObjectURL(O.data),O.data.src="data:image/svg+xml,"+encodeURIComponent(u.join("")))},s.createObjectURL(this.data,w,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});a.register("svg",function(v,u,d,p){if(Array.isArray(v))for(var g=0;g<v.length;g++)this.addFile(new l(this,v[g]));else this.addFile(new l(this,v,u,d,p));return this}),h.exports=l},95171:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(12117),s=e(98035),a=e(76846),r=e(72632),o=e(42911),l=new f({Extends:s,initialize:function(u,d,p,g){var x="js";if(o(d)){var T=d;d=r(T,"key"),p=r(T,"url"),g=r(T,"xhrSettings"),x=r(T,"extension",x)}var S={type:"text",extension:x,responseType:"text",key:d,url:p,xhrSettings:g};s.call(this,u,S)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var v=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),u=eval;this.loader.sceneManager.add(this.key,u(v)),this.complete=!0}});a.register("sceneFile",function(v,u,d){if(Array.isArray(v))for(var p=0;p<v.length;p++)this.addFile(new l(this,v[p]));else this.addFile(new l(this,v,u,d));return this}),h.exports=l},82458:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(12117),s=e(98035),a=e(76846),r=e(72632),o=e(42911),l=new f({Extends:s,initialize:function(u,d,p,g,x,T){var S="js";if(o(d)){var P=d;d=r(P,"key"),p=r(P,"url"),T=r(P,"xhrSettings"),S=r(P,"extension",S),g=r(P,"systemKey"),x=r(P,"sceneKey")}var E={type:"scenePlugin",cache:!1,extension:S,responseType:"text",key:d,url:p,xhrSettings:T,config:{systemKey:g,sceneKey:x}};s.call(this,u,E),typeof p=="function"&&(this.data=p,this.state=c.FILE_POPULATED)},onProcess:function(){var v=this.loader.systems.plugins,u=this.config,d=this.key,p=r(u,"systemKey",d),g=r(u,"sceneKey",d);this.state===c.FILE_POPULATED?v.installScenePlugin(p,this.data,g,this.loader.scene,!0):(this.state=c.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),v.installScenePlugin(p,window[this.key],g,this.loader.scene,!0)),this.onProcessComplete()}});a.register("scenePlugin",function(v,u,d,p,g){if(Array.isArray(v))for(var x=0;x<v.length;x++)this.addFile(new l(this,v[x]));else this.addFile(new l(this,v,u,d,p,g));return this}),h.exports=l},55188:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(12117),s=e(98035),a=e(76846),r=e(72632),o=e(42911),l=new f({Extends:s,initialize:function(u,d,p,g,x){var T="js";if(o(d)){var S=d;d=r(S,"key"),p=r(S,"url"),g=r(S,"type","script"),x=r(S,"xhrSettings"),T=r(S,"extension",T)}else g===void 0&&(g="script");var P={type:g,cache:!1,extension:T,responseType:"text",key:d,url:p,xhrSettings:x};s.call(this,u,P)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});a.register("script",function(v,u,d,p){if(Array.isArray(v))for(var g=0;g<v.length;g++)this.addFile(new l(this,v[g]));else this.addFile(new l(this,v,u,d,p));return this}),h.exports=l},33536:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(12117),s=e(76846),a=e(42927),r=new f({Extends:a,initialize:function(l,v,u,d,p){a.call(this,l,v,u,p,d),this.type="spritesheet"},addToCache:function(){var o=this.linkFile;o?o.state>=c.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,o.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,o.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});s.register("spritesheet",function(o,l,v,u){if(Array.isArray(o))for(var d=0;d<o.length;d++)this.addFile(new r(this,o[d]));else this.addFile(new r(this,o,l,v,u));return this}),h.exports=r},86897:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(12117),s=e(98035),a=e(76846),r=e(72632),o=e(42911),l=new f({Extends:s,initialize:function(u,d,p,g){var x="text",T="txt",S=u.cacheManager.text;if(o(d)){var P=d;d=r(P,"key"),p=r(P,"url"),g=r(P,"xhrSettings"),T=r(P,"extension",T),x=r(P,"type",x),S=r(P,"cache",S)}var E={type:x,cache:S,extension:T,responseType:"text",key:d,url:p,xhrSettings:g};s.call(this,u,E)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});a.register("text",function(v,u,d){if(Array.isArray(v))for(var p=0;p<v.length;p++)this.addFile(new l(this,v[p]));else this.addFile(new l(this,v,u,d));return this}),h.exports=l},58673:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(12117),s=e(98035),a=e(76846),r=e(72632),o=e(42911),l=e(93560),v=new f({Extends:s,initialize:function(d,p,g,x){var T="csv";if(o(p)){var S=p;p=r(S,"key"),g=r(S,"url"),x=r(S,"xhrSettings"),T=r(S,"extension",T)}var P={type:"tilemapCSV",cache:d.cacheManager.tilemap,extension:T,responseType:"text",key:p,url:g,xhrSettings:x};s.call(this,d,P),this.tilemapFormat=l.CSV},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var u={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,u)}});a.register("tilemapCSV",function(u,d,p){if(Array.isArray(u))for(var g=0;g<u.length;g++)this.addFile(new v(this,u[g]));else this.addFile(new v(this,u,d,p));return this}),h.exports=v},98896:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(76846),s=e(70806),a=e(93560),r=new f({Extends:s,initialize:function(l,v,u,d){s.call(this,l,v,u,d),this.type="tilemapJSON",this.cache=l.cacheManager.tilemap},addToCache:function(){var o={format:a.WELTMEISTER,data:this.data};this.cache.add(this.key,o)}});c.register("tilemapImpact",function(o,l,v){if(Array.isArray(o))for(var u=0;u<o.length;u++)this.addFile(new r(this,o[u]));else this.addFile(new r(this,o,l,v));return this}),h.exports=r},50563:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(76846),s=e(70806),a=e(93560),r=new f({Extends:s,initialize:function(l,v,u,d){s.call(this,l,v,u,d),this.type="tilemapJSON",this.cache=l.cacheManager.tilemap},addToCache:function(){var o={format:a.TILED_JSON,data:this.data};this.cache.add(this.key,o)}});c.register("tilemapTiledJSON",function(o,l,v){if(Array.isArray(o))for(var u=0;u<o.length;u++)this.addFile(new r(this,o[u]));else this.addFile(new r(this,o,l,v));return this}),h.exports=r},82857:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(76846),s=e(72632),a=e(42927),r=e(42911),o=e(45176),l=e(86897),v=new f({Extends:o,initialize:function(d,p,g,x,T,S){var P,E;if(r(p)){var R=p;p=s(R,"key"),P=new a(d,{key:p,url:s(R,"textureURL"),extension:s(R,"textureExtension","png"),normalMap:s(R,"normalMap"),xhrSettings:s(R,"textureXhrSettings")}),E=new l(d,{key:p,url:s(R,"atlasURL"),extension:s(R,"atlasExtension","txt"),xhrSettings:s(R,"atlasXhrSettings")})}else P=new a(d,p,g,T),E=new l(d,p,x,S);P.linkFile?o.call(this,d,"unityatlas",p,[P,E,P.linkFile]):o.call(this,d,"unityatlas",p,[P,E])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],d=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(u.key,u.data,d.data,p),this.complete=!0}}});c.register("unityAtlas",function(u,d,p,g,x){var T;if(Array.isArray(u))for(var S=0;S<u.length;S++)T=new v(this,u[S]),this.addFile(T.files);else T=new v(this,u,d,p,g,x),this.addFile(T.files);return this}),h.exports=v},22833:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(12117),s=e(98035),a=e(76846),r=e(30750),o=e(72632),l=e(42911),v=new f({Extends:s,initialize:function(d,p,g,x){if(x===void 0&&(x=!1),l(p)){var T=p;p=o(T,"key"),g=o(T,"url",[]),x=o(T,"noAudio",!1)}var S=d.systems.game.device.video.getVideoURL(g);S||console.warn("VideoFile: No supported format for "+p);var P={type:"video",cache:d.cacheManager.video,extension:S.type,key:p,url:S.url,config:{noAudio:x}};s.call(this,d,P)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=r(this,this.loader.baseURL),this.state=c.FILE_LOADED,this.loader.nextFile(this,!0)}});a.register("video",function(u,d,p){if(Array.isArray(u))for(var g=0;g<u.length;g++)this.addFile(new v(this,u[g]));else this.addFile(new v(this,u,d,p));return this}),h.exports=v},15297:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(12117),s=e(98035),a=e(76846),r=e(72632),o=e(42911),l=e(89200),v=new f({Extends:s,initialize:function(d,p,g,x){var T="xml";if(o(p)){var S=p;p=r(S,"key"),g=r(S,"url"),x=r(S,"xhrSettings"),T=r(S,"extension",T)}var P={type:"xml",cache:d.cacheManager.xml,extension:T,responseType:"text",key:p,url:g,xhrSettings:x};s.call(this,d,P)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=l(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});a.register("xml",function(u,d,p){if(Array.isArray(u))for(var g=0;g<u.length;g++)this.addFile(new v(this,u[g]));else this.addFile(new v(this,u,d,p));return this}),h.exports=v},34034:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={AnimationJSONFile:e(46468),AsepriteFile:e(31648),AtlasJSONFile:e(73152),AtlasXMLFile:e(24616),AudioFile:e(67448),AudioSpriteFile:e(66109),BinaryFile:e(40612),BitmapFontFile:e(54565),CompressedTextureFile:e(47375),CSSFile:e(99898),GLSLFile:e(46568),HTML5AudioFile:e(30929),HTMLFile:e(77459),HTMLTextureFile:e(9755),ImageFile:e(42927),JSONFile:e(70806),MultiAtlasFile:e(80802),MultiScriptFile:e(39034),OBJFile:e(85527),PackFile:e(3616),PluginFile:e(12217),SceneFile:e(95171),ScenePluginFile:e(82458),ScriptFile:e(55188),SpriteSheetFile:e(33536),SVGFile:e(4474),TextFile:e(86897),TilemapCSVFile:e(58673),TilemapImpactFile:e(98896),TilemapJSONFile:e(50563),UnityAtlasFile:e(82857),VideoFile:e(22833),XMLFile:e(15297)}},95695:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(12117),c=e(98611),s={Events:e(683),FileTypes:e(34034),File:e(98035),FileTypesManager:e(76846),GetURL:e(30750),LoaderPlugin:e(67285),MergeXHRSettings:e(43531),MultiFile:e(45176),XHRLoader:e(88490),XHRSettings:e(33868)};s=c(!1,s,f),h.exports=s},26042:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){for(var f=0,c=0;c<e.length;c++)f+=+e[c];return f/e.length};h.exports=y},22824:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(8034),c=function(s,a){return f(s)/f(a)/f(s-a)};h.exports=c},17489:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return Math.floor(Math.random()*(f-e+1)+e)};h.exports=y},14976:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s,a){var r=(s-f)*.5,o=(a-c)*.5,l=e*e,v=e*l;return(2*c-2*s+r+o)*v+(-3*c+3*s-2*r-o)*l+r*e+c};h.exports=y},89129:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){f===void 0&&(f=0),c===void 0&&(c=10);var s=Math.pow(c,-f);return Math.ceil(e*s)/s};h.exports=y},82897:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){return Math.max(f,Math.min(c,e))};h.exports=y},75606:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(83392),c=function(s){return s*f.DEG_TO_RAD};h.exports=c},767:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return Math.abs(e-f)};h.exports=y},9849:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(82897),c=e(56694),s=e(16650),a=e(72283),r=new s,o=new c({initialize:function l(v,u,d,p){v===void 0&&(v=0),u===void 0&&(u=0),d===void 0&&(d=0),p===void 0&&(p=l.DefaultOrder),this._x=v,this._y=u,this._z=d,this._order=p,this.onChangeCallback=a},x:{get:function(){return this._x},set:function(l){this._x=l,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(l){this._y=l,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(l){this._z=l,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(l){this._order=l,this.onChangeCallback(this)}},set:function(l,v,u,d){return d===void 0&&(d=this._order),this._x=l,this._y=v,this._z=u,this._order=d,this.onChangeCallback(this),this},copy:function(l){return this.set(l.x,l.y,l.z,l.order)},setFromQuaternion:function(l,v,u){return v===void 0&&(v=this._order),u===void 0&&(u=!1),r.fromQuat(l),this.setFromRotationMatrix(r,v,u)},setFromRotationMatrix:function(l,v,u){v===void 0&&(v=this._order),u===void 0&&(u=!1);var d=l.val,p=d[0],g=d[4],x=d[8],T=d[1],S=d[5],P=d[9],E=d[2],R=d[6],A=d[10],w=0,O=0,L=0,F=.99999;switch(v){case"XYZ":{O=Math.asin(f(x,-1,1)),Math.abs(x)<F?(w=Math.atan2(-P,A),L=Math.atan2(-g,p)):w=Math.atan2(R,S);break}case"YXZ":{w=Math.asin(-f(P,-1,1)),Math.abs(P)<F?(O=Math.atan2(x,A),L=Math.atan2(T,S)):O=Math.atan2(-E,p);break}case"ZXY":{w=Math.asin(f(R,-1,1)),Math.abs(R)<F?(O=Math.atan2(-E,A),L=Math.atan2(-g,S)):L=Math.atan2(T,p);break}case"ZYX":{O=Math.asin(-f(E,-1,1)),Math.abs(E)<F?(w=Math.atan2(R,A),L=Math.atan2(T,p)):L=Math.atan2(-g,S);break}case"YZX":{L=Math.asin(f(T,-1,1)),Math.abs(T)<F?(w=Math.atan2(-P,S),O=Math.atan2(-E,p)):O=Math.atan2(x,A);break}case"XZY":{L=Math.asin(-f(g,-1,1)),Math.abs(g)<F?(w=Math.atan2(R,S),O=Math.atan2(x,p)):w=Math.atan2(-P,A);break}}return this._x=w,this._y=O,this._z=L,this._order=v,u&&this.onChangeCallback(this),this}});o.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],o.DefaultOrder="XYZ",h.exports=o},8034:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){if(e===0)return 1;for(var f=e;--e;)f*=e;return f};h.exports=y},61616:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return Math.random()*(f-e)+e};h.exports=y},60679:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){f===void 0&&(f=0),c===void 0&&(c=10);var s=Math.pow(c,-f);return Math.floor(e*s)/s};h.exports=y},91806:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(82897),c=function(s,a,r){return s=f(s,0,1),(r-a)*s+a};h.exports=c},79366:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e/f/1e3};h.exports=y},43776:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e==parseFloat(e)?!(e%2):void 0};h.exports=y},58442:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e===parseFloat(e)?!(e%2):void 0};h.exports=y},42798:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){return(f-e)*c+e};h.exports=y},61072:h=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){return c===void 0&&(c=0),e.clone().lerp(f,c)};h.exports=y},5341:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=new f({initialize:function(a){this.val=new Float32Array(9),a?this.copy(a):this.identity()},clone:function(){return new c(this)},set:function(s){return this.copy(s)},copy:function(s){var a=this.val,r=s.val;return a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3],a[4]=r[4],a[5]=r[5],a[6]=r[6],a[7]=r[7],a[8]=r[8],this},fromMat4:function(s){var a=s.val,r=this.val;return r[0]=a[0],r[1]=a[1],r[2]=a[2],r[3]=a[4],r[4]=a[5],r[5]=a[6],r[6]=a[8],r[7]=a[9],r[8]=a[10],this},fromArray:function(s){var a=this.val;return a[0]=s[0],a[1]=s[1],a[2]=s[2],a[3]=s[3],a[4]=s[4],a[5]=s[5],a[6]=s[6],a[7]=s[7],a[8]=s[8],this},identity:function(){var s=this.val;return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=1,s[5]=0,s[6]=0,s[7]=0,s[8]=1,this},transpose:function(){var s=this.val,a=s[1],r=s[2],o=s[5];return s[1]=s[3],s[2]=s[6],s[3]=a,s[5]=s[7],s[6]=r,s[7]=o,this},invert:function(){var s=this.val,a=s[0],r=s[1],o=s[2],l=s[3],v=s[4],u=s[5],d=s[6],p=s[7],g=s[8],x=g*v-u*p,T=-g*l+u*d,S=p*l-v*d,P=a*x+r*T+o*S;return P?(P=1/P,s[0]=x*P,s[1]=(-g*r+o*p)*P,s[2]=(u*r-o*v)*P,s[3]=T*P,s[4]=(g*a-o*d)*P,s[5]=(-u*a+o*l)*P,s[6]=S*P,s[7]=(-p*a+r*d)*P,s[8]=(v*a-r*l)*P,this):null},adjoint:function(){var s=this.val,a=s[0],r=s[1],o=s[2],l=s[3],v=s[4],u=s[5],d=s[6],p=s[7],g=s[8];return s[0]=v*g-u*p,s[1]=o*p-r*g,s[2]=r*u-o*v,s[3]=u*d-l*g,s[4]=a*g-o*d,s[5]=o*l-a*u,s[6]=l*p-v*d,s[7]=r*d-a*p,s[8]=a*v-r*l,this},determinant:function(){var s=this.val,a=s[0],r=s[1],o=s[2],l=s[3],v=s[4],u=s[5],d=s[6],p=s[7],g=s[8];return a*(g*v-u*p)+r*(-g*l+u*d)+o*(p*l-v*d)},multiply:function(s){var a=this.val,r=a[0],o=a[1],l=a[2],v=a[3],u=a[4],d=a[5],p=a[6],g=a[7],x=a[8],T=s.val,S=T[0],P=T[1],E=T[2],R=T[3],A=T[4],w=T[5],O=T[6],L=T[7],F=T[8];return a[0]=S*r+P*v+E*p,a[1]=S*o+P*u+E*g,a[2]=S*l+P*d+E*x,a[3]=R*r+A*v+w*p,a[4]=R*o+A*u+w*g,a[5]=R*l+A*d+w*x,a[6]=O*r+L*v+F*p,a[7]=O*o+L*u+F*g,a[8]=O*l+L*d+F*x,this},translate:function(s){var a=this.val,r=s.x,o=s.y;return a[6]=r*a[0]+o*a[3]+a[6],a[7]=r*a[1]+o*a[4]+a[7],a[8]=r*a[2]+o*a[5]+a[8],this},rotate:function(s){var a=this.val,r=a[0],o=a[1],l=a[2],v=a[3],u=a[4],d=a[5],p=Math.sin(s),g=Math.cos(s);return a[0]=g*r+p*v,a[1]=g*o+p*u,a[2]=g*l+p*d,a[3]=g*v-p*r,a[4]=g*u-p*o,a[5]=g*d-p*l,this},scale:function(s){var a=this.val,r=s.x,o=s.y;return a[0]=r*a[0],a[1]=r*a[1],a[2]=r*a[2],a[3]=o*a[3],a[4]=o*a[4],a[5]=o*a[5],this},fromQuat:function(s){var a=s.x,r=s.y,o=s.z,l=s.w,v=a+a,u=r+r,d=o+o,p=a*v,g=a*u,x=a*d,T=r*u,S=r*d,P=o*d,E=l*v,R=l*u,A=l*d,w=this.val;return w[0]=1-(T+P),w[3]=g+A,w[6]=x-R,w[1]=g-A,w[4]=1-(p+P),w[7]=S+E,w[2]=x+R,w[5]=S-E,w[8]=1-(p+T),this},normalFromMat4:function(s){var a=s.val,r=this.val,o=a[0],l=a[1],v=a[2],u=a[3],d=a[4],p=a[5],g=a[6],x=a[7],T=a[8],S=a[9],P=a[10],E=a[11],R=a[12],A=a[13],w=a[14],O=a[15],L=o*p-l*d,F=o*g-v*d,I=o*x-u*d,b=l*g-v*p,G=l*x-u*p,N=v*x-u*g,U=T*A-S*R,Y=T*w-P*R,X=T*O-E*R,B=S*w-P*A,z=S*O-E*A,D=P*O-E*w,V=L*D-F*z+I*B+b*X-G*Y+N*U;return V?(V=1/V,r[0]=(p*D-g*z+x*B)*V,r[1]=(g*X-d*D-x*Y)*V,r[2]=(d*z-p*X+x*U)*V,r[3]=(v*z-l*D-u*B)*V,r[4]=(o*D-v*X+u*Y)*V,r[5]=(l*X-o*z-u*U)*V,r[6]=(A*N-w*G+O*b)*V,r[7]=(w*I-R*N-O*F)*V,r[8]=(R*G-A*I+O*L)*V,this):null}});h.exports=c},16650:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(70015),s=1e-6,a=new f({initialize:function(p){this.val=new Float32Array(16),p?this.copy(p):this.identity()},clone:function(){return new a(this)},set:function(d){return this.copy(d)},setValues:function(d,p,g,x,T,S,P,E,R,A,w,O,L,F,I,b){var G=this.val;return G[0]=d,G[1]=p,G[2]=g,G[3]=x,G[4]=T,G[5]=S,G[6]=P,G[7]=E,G[8]=R,G[9]=A,G[10]=w,G[11]=O,G[12]=L,G[13]=F,G[14]=I,G[15]=b,this},copy:function(d){var p=d.val;return this.setValues(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15])},fromArray:function(d){return this.setValues(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(d,p,g){var x=r.fromQuat(g),T=x.val,S=p.x,P=p.y,E=p.z;return this.setValues(T[0]*S,T[1]*S,T[2]*S,0,T[4]*P,T[5]*P,T[6]*P,0,T[8]*E,T[9]*E,T[10]*E,0,d.x,d.y,d.z,1)},xyz:function(d,p,g){this.identity();var x=this.val;return x[12]=d,x[13]=p,x[14]=g,this},scaling:function(d,p,g){this.zero();var x=this.val;return x[0]=d,x[5]=p,x[10]=g,x[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var d=this.val,p=d[1],g=d[2],x=d[3],T=d[6],S=d[7],P=d[11];return d[1]=d[4],d[2]=d[8],d[3]=d[12],d[4]=p,d[6]=d[9],d[7]=d[13],d[8]=g,d[9]=T,d[11]=d[14],d[12]=x,d[13]=S,d[14]=P,this},getInverse:function(d){return this.copy(d),this.invert()},invert:function(){var d=this.val,p=d[0],g=d[1],x=d[2],T=d[3],S=d[4],P=d[5],E=d[6],R=d[7],A=d[8],w=d[9],O=d[10],L=d[11],F=d[12],I=d[13],b=d[14],G=d[15],N=p*P-g*S,U=p*E-x*S,Y=p*R-T*S,X=g*E-x*P,B=g*R-T*P,z=x*R-T*E,D=A*I-w*F,V=A*b-O*F,k=A*G-L*F,W=w*b-O*I,H=w*G-L*I,$=O*G-L*b,K=N*$-U*H+Y*W+X*k-B*V+z*D;return K?(K=1/K,this.setValues((P*$-E*H+R*W)*K,(x*H-g*$-T*W)*K,(I*z-b*B+G*X)*K,(O*B-w*z-L*X)*K,(E*k-S*$-R*V)*K,(p*$-x*k+T*V)*K,(b*Y-F*z-G*U)*K,(A*z-O*Y+L*U)*K,(S*H-P*k+R*D)*K,(g*k-p*H-T*D)*K,(F*B-I*Y+G*N)*K,(w*Y-A*B-L*N)*K,(P*V-S*W-E*D)*K,(p*W-g*V+x*D)*K,(I*U-F*X-b*N)*K,(A*X-w*U+O*N)*K)):this},adjoint:function(){var d=this.val,p=d[0],g=d[1],x=d[2],T=d[3],S=d[4],P=d[5],E=d[6],R=d[7],A=d[8],w=d[9],O=d[10],L=d[11],F=d[12],I=d[13],b=d[14],G=d[15];return this.setValues(P*(O*G-L*b)-w*(E*G-R*b)+I*(E*L-R*O),-(g*(O*G-L*b)-w*(x*G-T*b)+I*(x*L-T*O)),g*(E*G-R*b)-P*(x*G-T*b)+I*(x*R-T*E),-(g*(E*L-R*O)-P*(x*L-T*O)+w*(x*R-T*E)),-(S*(O*G-L*b)-A*(E*G-R*b)+F*(E*L-R*O)),p*(O*G-L*b)-A*(x*G-T*b)+F*(x*L-T*O),-(p*(E*G-R*b)-S*(x*G-T*b)+F*(x*R-T*E)),p*(E*L-R*O)-S*(x*L-T*O)+A*(x*R-T*E),S*(w*G-L*I)-A*(P*G-R*I)+F*(P*L-R*w),-(p*(w*G-L*I)-A*(g*G-T*I)+F*(g*L-T*w)),p*(P*G-R*I)-S*(g*G-T*I)+F*(g*R-T*P),-(p*(P*L-R*w)-S*(g*L-T*w)+A*(g*R-T*P)),-(S*(w*b-O*I)-A*(P*b-E*I)+F*(P*O-E*w)),p*(w*b-O*I)-A*(g*b-x*I)+F*(g*O-x*w),-(p*(P*b-E*I)-S*(g*b-x*I)+F*(g*E-x*P)),p*(P*O-E*w)-S*(g*O-x*w)+A*(g*E-x*P))},determinant:function(){var d=this.val,p=d[0],g=d[1],x=d[2],T=d[3],S=d[4],P=d[5],E=d[6],R=d[7],A=d[8],w=d[9],O=d[10],L=d[11],F=d[12],I=d[13],b=d[14],G=d[15],N=p*P-g*S,U=p*E-x*S,Y=p*R-T*S,X=g*E-x*P,B=g*R-T*P,z=x*R-T*E,D=A*I-w*F,V=A*b-O*F,k=A*G-L*F,W=w*b-O*I,H=w*G-L*I,$=O*G-L*b;return N*$-U*H+Y*W+X*k-B*V+z*D},multiply:function(d){var p=this.val,g=p[0],x=p[1],T=p[2],S=p[3],P=p[4],E=p[5],R=p[6],A=p[7],w=p[8],O=p[9],L=p[10],F=p[11],I=p[12],b=p[13],G=p[14],N=p[15],U=d.val,Y=U[0],X=U[1],B=U[2],z=U[3];return p[0]=Y*g+X*P+B*w+z*I,p[1]=Y*x+X*E+B*O+z*b,p[2]=Y*T+X*R+B*L+z*G,p[3]=Y*S+X*A+B*F+z*N,Y=U[4],X=U[5],B=U[6],z=U[7],p[4]=Y*g+X*P+B*w+z*I,p[5]=Y*x+X*E+B*O+z*b,p[6]=Y*T+X*R+B*L+z*G,p[7]=Y*S+X*A+B*F+z*N,Y=U[8],X=U[9],B=U[10],z=U[11],p[8]=Y*g+X*P+B*w+z*I,p[9]=Y*x+X*E+B*O+z*b,p[10]=Y*T+X*R+B*L+z*G,p[11]=Y*S+X*A+B*F+z*N,Y=U[12],X=U[13],B=U[14],z=U[15],p[12]=Y*g+X*P+B*w+z*I,p[13]=Y*x+X*E+B*O+z*b,p[14]=Y*T+X*R+B*L+z*G,p[15]=Y*S+X*A+B*F+z*N,this},multiplyLocal:function(d){var p=this.val,g=d.val;return this.setValues(p[0]*g[0]+p[1]*g[4]+p[2]*g[8]+p[3]*g[12],p[0]*g[1]+p[1]*g[5]+p[2]*g[9]+p[3]*g[13],p[0]*g[2]+p[1]*g[6]+p[2]*g[10]+p[3]*g[14],p[0]*g[3]+p[1]*g[7]+p[2]*g[11]+p[3]*g[15],p[4]*g[0]+p[5]*g[4]+p[6]*g[8]+p[7]*g[12],p[4]*g[1]+p[5]*g[5]+p[6]*g[9]+p[7]*g[13],p[4]*g[2]+p[5]*g[6]+p[6]*g[10]+p[7]*g[14],p[4]*g[3]+p[5]*g[7]+p[6]*g[11]+p[7]*g[15],p[8]*g[0]+p[9]*g[4]+p[10]*g[8]+p[11]*g[12],p[8]*g[1]+p[9]*g[5]+p[10]*g[9]+p[11]*g[13],p[8]*g[2]+p[9]*g[6]+p[10]*g[10]+p[11]*g[14],p[8]*g[3]+p[9]*g[7]+p[10]*g[11]+p[11]*g[15],p[12]*g[0]+p[13]*g[4]+p[14]*g[8]+p[15]*g[12],p[12]*g[1]+p[13]*g[5]+p[14]*g[9]+p[15]*g[13],p[12]*g[2]+p[13]*g[6]+p[14]*g[10]+p[15]*g[14],p[12]*g[3]+p[13]*g[7]+p[14]*g[11]+p[15]*g[15])},premultiply:function(d){return this.multiplyMatrices(d,this)},multiplyMatrices:function(d,p){var g=d.val,x=p.val,T=g[0],S=g[4],P=g[8],E=g[12],R=g[1],A=g[5],w=g[9],O=g[13],L=g[2],F=g[6],I=g[10],b=g[14],G=g[3],N=g[7],U=g[11],Y=g[15],X=x[0],B=x[4],z=x[8],D=x[12],V=x[1],k=x[5],W=x[9],H=x[13],$=x[2],K=x[6],j=x[10],Z=x[14],J=x[3],Q=x[7],q=x[11],_=x[15];return this.setValues(T*X+S*V+P*$+E*J,R*X+A*V+w*$+O*J,L*X+F*V+I*$+b*J,G*X+N*V+U*$+Y*J,T*B+S*k+P*K+E*Q,R*B+A*k+w*K+O*Q,L*B+F*k+I*K+b*Q,G*B+N*k+U*K+Y*Q,T*z+S*W+P*j+E*q,R*z+A*W+w*j+O*q,L*z+F*W+I*j+b*q,G*z+N*W+U*j+Y*q,T*D+S*H+P*Z+E*_,R*D+A*H+w*Z+O*_,L*D+F*H+I*Z+b*_,G*D+N*H+U*Z+Y*_)},translate:function(d){return this.translateXYZ(d.x,d.y,d.z)},translateXYZ:function(d,p,g){var x=this.val;return x[12]=x[0]*d+x[4]*p+x[8]*g+x[12],x[13]=x[1]*d+x[5]*p+x[9]*g+x[13],x[14]=x[2]*d+x[6]*p+x[10]*g+x[14],x[15]=x[3]*d+x[7]*p+x[11]*g+x[15],this},scale:function(d){return this.scaleXYZ(d.x,d.y,d.z)},scaleXYZ:function(d,p,g){var x=this.val;return x[0]=x[0]*d,x[1]=x[1]*d,x[2]=x[2]*d,x[3]=x[3]*d,x[4]=x[4]*p,x[5]=x[5]*p,x[6]=x[6]*p,x[7]=x[7]*p,x[8]=x[8]*g,x[9]=x[9]*g,x[10]=x[10]*g,x[11]=x[11]*g,this},makeRotationAxis:function(d,p){var g=Math.cos(p),x=Math.sin(p),T=1-g,S=d.x,P=d.y,E=d.z,R=T*S,A=T*P;return this.setValues(R*S+g,R*P-x*E,R*E+x*P,0,R*P+x*E,A*P+g,A*E-x*S,0,R*E-x*P,A*E+x*S,T*E*E+g,0,0,0,0,1)},rotate:function(d,p){var g=this.val,x=p.x,T=p.y,S=p.z,P=Math.sqrt(x*x+T*T+S*S);if(Math.abs(P)<s)return this;P=1/P,x*=P,T*=P,S*=P;var E=Math.sin(d),R=Math.cos(d),A=1-R,w=g[0],O=g[1],L=g[2],F=g[3],I=g[4],b=g[5],G=g[6],N=g[7],U=g[8],Y=g[9],X=g[10],B=g[11],z=g[12],D=g[13],V=g[14],k=g[15],W=x*x*A+R,H=T*x*A+S*E,$=S*x*A-T*E,K=x*T*A-S*E,j=T*T*A+R,Z=S*T*A+x*E,J=x*S*A+T*E,Q=T*S*A-x*E,q=S*S*A+R;return this.setValues(w*W+I*H+U*$,O*W+b*H+Y*$,L*W+G*H+X*$,F*W+N*H+B*$,w*K+I*j+U*Z,O*K+b*j+Y*Z,L*K+G*j+X*Z,F*K+N*j+B*Z,w*J+I*Q+U*q,O*J+b*Q+Y*q,L*J+G*Q+X*q,F*J+N*Q+B*q,z,D,V,k)},rotateX:function(d){var p=this.val,g=Math.sin(d),x=Math.cos(d),T=p[4],S=p[5],P=p[6],E=p[7],R=p[8],A=p[9],w=p[10],O=p[11];return p[4]=T*x+R*g,p[5]=S*x+A*g,p[6]=P*x+w*g,p[7]=E*x+O*g,p[8]=R*x-T*g,p[9]=A*x-S*g,p[10]=w*x-P*g,p[11]=O*x-E*g,this},rotateY:function(d){var p=this.val,g=Math.sin(d),x=Math.cos(d),T=p[0],S=p[1],P=p[2],E=p[3],R=p[8],A=p[9],w=p[10],O=p[11];return p[0]=T*x-R*g,p[1]=S*x-A*g,p[2]=P*x-w*g,p[3]=E*x-O*g,p[8]=T*g+R*x,p[9]=S*g+A*x,p[10]=P*g+w*x,p[11]=E*g+O*x,this},rotateZ:function(d){var p=this.val,g=Math.sin(d),x=Math.cos(d),T=p[0],S=p[1],P=p[2],E=p[3],R=p[4],A=p[5],w=p[6],O=p[7];return p[0]=T*x+R*g,p[1]=S*x+A*g,p[2]=P*x+w*g,p[3]=E*x+O*g,p[4]=R*x-T*g,p[5]=A*x-S*g,p[6]=w*x-P*g,p[7]=O*x-E*g,this},fromRotationTranslation:function(d,p){var g=d.x,x=d.y,T=d.z,S=d.w,P=g+g,E=x+x,R=T+T,A=g*P,w=g*E,O=g*R,L=x*E,F=x*R,I=T*R,b=S*P,G=S*E,N=S*R;return this.setValues(1-(L+I),w+N,O-G,0,w-N,1-(A+I),F+b,0,O+G,F-b,1-(A+L),0,p.x,p.y,p.z,1)},fromQuat:function(d){var p=d.x,g=d.y,x=d.z,T=d.w,S=p+p,P=g+g,E=x+x,R=p*S,A=p*P,w=p*E,O=g*P,L=g*E,F=x*E,I=T*S,b=T*P,G=T*E;return this.setValues(1-(O+F),A+G,w-b,0,A-G,1-(R+F),L+I,0,w+b,L-I,1-(R+O),0,0,0,0,1)},frustum:function(d,p,g,x,T,S){var P=1/(p-d),E=1/(x-g),R=1/(T-S);return this.setValues(T*2*P,0,0,0,0,T*2*E,0,0,(p+d)*P,(x+g)*E,(S+T)*R,-1,0,0,S*T*2*R,0)},perspective:function(d,p,g,x){var T=1/Math.tan(d/2),S=1/(g-x);return this.setValues(T/p,0,0,0,0,T,0,0,0,0,(x+g)*S,-1,0,0,2*x*g*S,0)},perspectiveLH:function(d,p,g,x){return this.setValues(2*g/d,0,0,0,0,2*g/p,0,0,0,0,-x/(g-x),1,0,0,g*x/(g-x),0)},ortho:function(d,p,g,x,T,S){var P=d-p,E=g-x,R=T-S;return P=P===0?P:1/P,E=E===0?E:1/E,R=R===0?R:1/R,this.setValues(-2*P,0,0,0,0,-2*E,0,0,0,0,2*R,0,(d+p)*P,(x+g)*E,(S+T)*R,1)},lookAtRH:function(d,p,g){var x=this.val;return u.subVectors(d,p),u.getLengthSquared()===0&&(u.z=1),u.normalize(),l.crossVectors(g,u),l.getLengthSquared()===0&&(Math.abs(g.z)===1?u.x+=1e-4:u.z+=1e-4,u.normalize(),l.crossVectors(g,u)),l.normalize(),v.crossVectors(u,l),x[0]=l.x,x[1]=l.y,x[2]=l.z,x[4]=v.x,x[5]=v.y,x[6]=v.z,x[8]=u.x,x[9]=u.y,x[10]=u.z,this},lookAt:function(d,p,g){var x=d.x,T=d.y,S=d.z,P=g.x,E=g.y,R=g.z,A=p.x,w=p.y,O=p.z;if(Math.abs(x-A)<s&&Math.abs(T-w)<s&&Math.abs(S-O)<s)return this.identity();var L=x-A,F=T-w,I=S-O,b=1/Math.sqrt(L*L+F*F+I*I);L*=b,F*=b,I*=b;var G=E*I-R*F,N=R*L-P*I,U=P*F-E*L;b=Math.sqrt(G*G+N*N+U*U),b?(b=1/b,G*=b,N*=b,U*=b):(G=0,N=0,U=0);var Y=F*U-I*N,X=I*G-L*U,B=L*N-F*G;return b=Math.sqrt(Y*Y+X*X+B*B),b?(b=1/b,Y*=b,X*=b,B*=b):(Y=0,X=0,B=0),this.setValues(G,Y,L,0,N,X,F,0,U,B,I,0,-(G*x+N*T+U*S),-(Y*x+X*T+B*S),-(L*x+F*T+I*S),1)},yawPitchRoll:function(d,p,g){this.zero(),r.zero(),o.zero();var x=this.val,T=r.val,S=o.val,P=Math.sin(g),E=Math.cos(g);return x[10]=1,x[15]=1,x[0]=E,x[1]=P,x[4]=-P,x[5]=E,P=Math.sin(p),E=Math.cos(p),T[0]=1,T[15]=1,T[5]=E,T[10]=E,T[9]=-P,T[6]=P,P=Math.sin(d),E=Math.cos(d),S[5]=1,S[15]=1,S[0]=E,S[2]=-P,S[8]=P,S[10]=E,this.multiplyLocal(r),this.multiplyLocal(o),this},setWorldMatrix:function(d,p,g,x,T){return this.yawPitchRoll(d.y,d.x,d.z),r.scaling(g.x,g.y,g.z),o.xyz(p.x,p.y,p.z),this.multiplyLocal(r),this.multiplyLocal(o),x&&this.multiplyLocal(x),T&&this.multiplyLocal(T),this},multiplyToMat4:function(d,p){var g=this.val,x=d.val,T=g[0],S=g[1],P=g[2],E=g[3],R=g[4],A=g[5],w=g[6],O=g[7],L=g[8],F=g[9],I=g[10],b=g[11],G=g[12],N=g[13],U=g[14],Y=g[15],X=x[0],B=x[1],z=x[2],D=x[3],V=x[4],k=x[5],W=x[6],H=x[7],$=x[8],K=x[9],j=x[10],Z=x[11],J=x[12],Q=x[13],q=x[14],_=x[15];return p.setValues(X*T+B*R+z*L+D*G,B*S+B*A+z*F+D*N,z*P+B*w+z*I+D*U,D*E+B*O+z*b+D*Y,V*T+k*R+W*L+H*G,V*S+k*A+W*F+H*N,V*P+k*w+W*I+H*U,V*E+k*O+W*b+H*Y,$*T+K*R+j*L+Z*G,$*S+K*A+j*F+Z*N,$*P+K*w+j*I+Z*U,$*E+K*O+j*b+Z*Y,J*T+Q*R+q*L+_*G,J*S+Q*A+q*F+_*N,J*P+Q*w+q*I+_*U,J*E+Q*O+q*b+_*Y)},fromRotationXYTranslation:function(d,p,g){var x=p.x,T=p.y,S=p.z,P=Math.sin(d.x),E=Math.cos(d.x),R=Math.sin(d.y),A=Math.cos(d.y),w=x,O=T,L=S,F=-P,I=0-F*R,b=0-E*R,G=F*A,N=E*A;return g||(w=A*x+R*S,O=I*x+E*T+G*S,L=b*x+P*T+N*S),this.setValues(A,I,b,0,0,E,P,0,R,G,N,0,w,O,L,1)},getMaxScaleOnAxis:function(){var d=this.val,p=d[0]*d[0]+d[1]*d[1]+d[2]*d[2],g=d[4]*d[4]+d[5]*d[5]+d[6]*d[6],x=d[8]*d[8]+d[9]*d[9]+d[10]*d[10];return Math.sqrt(Math.max(p,g,x))}}),r=new a,o=new a,l=new c,v=new c,u=new c;h.exports=a},69635:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){return Math.min(e+f,c)};h.exports=y},37394:h=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){var f=e.length;if(f===0)return 0;e.sort(function(s,a){return s-a});var c=Math.floor(f/2);return f%2===0?(e[c]+e[c-1])/2:e[c]};h.exports=y},17259:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){return Math.max(e-f,c)};h.exports=y},61820:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){c===void 0&&(c=f+1);var a=(e-f)/(c-f);return a>1?s!==void 0?(a=(s-e)/(s-c),a<0&&(a=0)):a=1:a<0&&(a=0),a};h.exports=y},75003:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(5341),s=e(72283),a=e(70015),r=1e-6,o=new Int8Array([1,2,0]),l=new Float32Array([0,0,0]),v=new a(1,0,0),u=new a(0,1,0),d=new a,p=new c,g=new f({initialize:function(T,S,P,E){this.onChangeCallback=s,this.set(T,S,P,E)},x:{get:function(){return this._x},set:function(x){this._x=x,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(x){this._y=x,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(x){this._z=x,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(x){this._w=x,this.onChangeCallback(this)}},copy:function(x){return this.set(x)},set:function(x,T,S,P,E){return E===void 0&&(E=!0),typeof x=="object"?(this._x=x.x||0,this._y=x.y||0,this._z=x.z||0,this._w=x.w||0):(this._x=x||0,this._y=T||0,this._z=S||0,this._w=P||0),E&&this.onChangeCallback(this),this},add:function(x){return this._x+=x.x,this._y+=x.y,this._z+=x.z,this._w+=x.w,this.onChangeCallback(this),this},subtract:function(x){return this._x-=x.x,this._y-=x.y,this._z-=x.z,this._w-=x.w,this.onChangeCallback(this),this},scale:function(x){return this._x*=x,this._y*=x,this._z*=x,this._w*=x,this.onChangeCallback(this),this},length:function(){var x=this.x,T=this.y,S=this.z,P=this.w;return Math.sqrt(x*x+T*T+S*S+P*P)},lengthSq:function(){var x=this.x,T=this.y,S=this.z,P=this.w;return x*x+T*T+S*S+P*P},normalize:function(){var x=this.x,T=this.y,S=this.z,P=this.w,E=x*x+T*T+S*S+P*P;return E>0&&(E=1/Math.sqrt(E),this._x=x*E,this._y=T*E,this._z=S*E,this._w=P*E),this.onChangeCallback(this),this},dot:function(x){return this.x*x.x+this.y*x.y+this.z*x.z+this.w*x.w},lerp:function(x,T){T===void 0&&(T=0);var S=this.x,P=this.y,E=this.z,R=this.w;return this.set(S+T*(x.x-S),P+T*(x.y-P),E+T*(x.z-E),R+T*(x.w-R))},rotationTo:function(x,T){var S=x.x*T.x+x.y*T.y+x.z*T.z;return S<-.999999?(d.copy(v).cross(x).length()<r&&d.copy(u).cross(x),d.normalize(),this.setAxisAngle(d,Math.PI)):S>.999999?this.set(0,0,0,1):(d.copy(x).cross(T),this._x=d.x,this._y=d.y,this._z=d.z,this._w=1+S,this.normalize())},setAxes:function(x,T,S){var P=p.val;return P[0]=T.x,P[3]=T.y,P[6]=T.z,P[1]=S.x,P[4]=S.y,P[7]=S.z,P[2]=-x.x,P[5]=-x.y,P[8]=-x.z,this.fromMat3(p).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(x,T){T=T*.5;var S=Math.sin(T);return this.set(S*x.x,S*x.y,S*x.z,Math.cos(T))},multiply:function(x){var T=this.x,S=this.y,P=this.z,E=this.w,R=x.x,A=x.y,w=x.z,O=x.w;return this.set(T*O+E*R+S*w-P*A,S*O+E*A+P*R-T*w,P*O+E*w+T*A-S*R,E*O-T*R-S*A-P*w)},slerp:function(x,T){var S=this.x,P=this.y,E=this.z,R=this.w,A=x.x,w=x.y,O=x.z,L=x.w,F=S*A+P*w+E*O+R*L;F<0&&(F=-F,A=-A,w=-w,O=-O,L=-L);var I=1-T,b=T;if(1-F>r){var G=Math.acos(F),N=Math.sin(G);I=Math.sin((1-T)*G)/N,b=Math.sin(T*G)/N}return this.set(I*S+b*A,I*P+b*w,I*E+b*O,I*R+b*L)},invert:function(){var x=this.x,T=this.y,S=this.z,P=this.w,E=x*x+T*T+S*S+P*P,R=E?1/E:0;return this.set(-x*R,-T*R,-S*R,P*R)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(x){x*=.5;var T=this.x,S=this.y,P=this.z,E=this.w,R=Math.sin(x),A=Math.cos(x);return this.set(T*A+E*R,S*A+P*R,P*A-S*R,E*A-T*R)},rotateY:function(x){x*=.5;var T=this.x,S=this.y,P=this.z,E=this.w,R=Math.sin(x),A=Math.cos(x);return this.set(T*A-P*R,S*A+E*R,P*A+T*R,E*A-S*R)},rotateZ:function(x){x*=.5;var T=this.x,S=this.y,P=this.z,E=this.w,R=Math.sin(x),A=Math.cos(x);return this.set(T*A+S*R,S*A-T*R,P*A+E*R,E*A-P*R)},calculateW:function(){var x=this.x,T=this.y,S=this.z;return this.w=-Math.sqrt(1-x*x-T*T-S*S),this},setFromEuler:function(x,T){var S=x.x/2,P=x.y/2,E=x.z/2,R=Math.cos(S),A=Math.cos(P),w=Math.cos(E),O=Math.sin(S),L=Math.sin(P),F=Math.sin(E);switch(x.order){case"XYZ":{this.set(O*A*w+R*L*F,R*L*w-O*A*F,R*A*F+O*L*w,R*A*w-O*L*F,T);break}case"YXZ":{this.set(O*A*w+R*L*F,R*L*w-O*A*F,R*A*F-O*L*w,R*A*w+O*L*F,T);break}case"ZXY":{this.set(O*A*w-R*L*F,R*L*w+O*A*F,R*A*F+O*L*w,R*A*w-O*L*F,T);break}case"ZYX":{this.set(O*A*w-R*L*F,R*L*w+O*A*F,R*A*F-O*L*w,R*A*w+O*L*F,T);break}case"YZX":{this.set(O*A*w+R*L*F,R*L*w+O*A*F,R*A*F-O*L*w,R*A*w-O*L*F,T);break}case"XZY":{this.set(O*A*w-R*L*F,R*L*w-O*A*F,R*A*F+O*L*w,R*A*w+O*L*F,T);break}}return this},setFromRotationMatrix:function(x){var T=x.val,S=T[0],P=T[4],E=T[8],R=T[1],A=T[5],w=T[9],O=T[2],L=T[6],F=T[10],I=S+A+F,b;return I>0?(b=.5/Math.sqrt(I+1),this.set((L-w)*b,(E-O)*b,(R-P)*b,.25/b)):S>A&&S>F?(b=2*Math.sqrt(1+S-A-F),this.set(.25*b,(P+R)/b,(E+O)/b,(L-w)/b)):A>F?(b=2*Math.sqrt(1+A-S-F),this.set((P+R)/b,.25*b,(w+L)/b,(E-O)/b)):(b=2*Math.sqrt(1+F-S-A),this.set((E+O)/b,(w+L)/b,.25*b,(R-P)/b)),this},fromMat3:function(x){var T=x.val,S=T[0]+T[4]+T[8],P;if(S>0)P=Math.sqrt(S+1),this.w=.5*P,P=.5/P,this._x=(T[7]-T[5])*P,this._y=(T[2]-T[6])*P,this._z=(T[3]-T[1])*P;else{var E=0;T[4]>T[0]&&(E=1),T[8]>T[E*3+E]&&(E=2);var R=o[E],A=o[R];P=Math.sqrt(T[E*3+E]-T[R*3+R]-T[A*3+A]+1),l[E]=.5*P,P=.5/P,l[R]=(T[R*3+E]+T[E*3+R])*P,l[A]=(T[A*3+E]+T[E*3+A])*P,this._x=l[0],this._y=l[1],this._z=l[2],this._w=(T[A*3+R]-T[R*3+A])*P}return this.onChangeCallback(this),this}});h.exports=g},23701:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(83392),c=function(s){return s*f.RAD_TO_DEG};h.exports=c},16906:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){f===void 0&&(f=1);var c=Math.random()*2*Math.PI;return e.x=Math.cos(c)*f,e.y=Math.sin(c)*f,e};h.exports=y},52417:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){f===void 0&&(f=1);var c=Math.random()*2*Math.PI,s=Math.random()*2-1,a=Math.sqrt(1-s*s)*f;return e.x=Math.cos(c)*a,e.y=Math.sin(c)*a,e.z=s*f,e};h.exports=y},17915:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return f===void 0&&(f=1),e.x=(Math.random()*2-1)*f,e.y=(Math.random()*2-1)*f,e.z=(Math.random()*2-1)*f,e.w=(Math.random()*2-1)*f,e};h.exports=y},52257:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){var c=e.x,s=e.y;return e.x=c*Math.cos(f)-s*Math.sin(f),e.y=c*Math.sin(f)+s*Math.cos(f),e};h.exports=y},2386:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){var a=Math.cos(s),r=Math.sin(s),o=e.x-f,l=e.y-c;return e.x=o*a-l*r+f,e.y=o*r+l*a+c,e};h.exports=y},72395:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s,a){var r=s+Math.atan2(e.y-c,e.x-f);return e.x=f+a*Math.cos(r),e.y=c+a*Math.sin(r),e};h.exports=y},41061:h=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s,a){return e.x=f+a*Math.cos(s),e.y=c+a*Math.sin(s),e};h.exports=y},93709:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(70015),c=e(16650),s=e(75003),a=new c,r=new s,o=new f,l=function(v,u,d){return r.setAxisAngle(u,d),a.fromRotationTranslation(r,o.set(0,0,0)),v.transformMat4(a)};h.exports=l},67233:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e>0?Math.ceil(e):Math.floor(e)};h.exports=y},64333:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){f===void 0&&(f=0),c===void 0&&(c=10);var s=Math.pow(c,-f);return Math.round(e*s)/s};h.exports=y},59533:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){f===void 0&&(f=1),c===void 0&&(c=1),s===void 0&&(s=1),s*=Math.PI/e;for(var a=[],r=[],o=0;o<e;o++)c-=f*s,f+=c*s,a[o]=c,r[o]=f;return{sin:r,cos:a,length:e}};h.exports=y},5514:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){return e<=f?0:e>=c?1:(e=(e-f)/(c-f),e*e*(3-2*e))};h.exports=y},87736:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){return e=Math.max(0,Math.min(1,(e-f)/(c-f))),e*e*e*(e*(e*6-15)+10)};h.exports=y},55805:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(93736),c=function(s,a,r,o){o===void 0&&(o=new f);var l=0,v=0,u=a*r;return s>0&&s<=u&&(s>a-1?(v=Math.floor(s/a),l=s-v*a):l=s),o.set(l,v)};h.exports=c},64462:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(93736),c=function(s,a,r,o,l,v,u,d){d===void 0&&(d=new f);var p=Math.sin(l),g=Math.cos(l),x=g*v,T=p*v,S=-p*u,P=g*u,E=1/(x*P+S*-T);return d.x=P*E*s+-S*E*a+(o*S-r*P)*E,d.y=x*E*a+-T*E*s+(-o*x+r*T)*E,d};h.exports=c},93736:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(88456),s=new f({initialize:function(r,o){this.x=0,this.y=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0):(o===void 0&&(o=r),this.x=r||0,this.y=o||0)},clone:function(){return new s(this.x,this.y)},copy:function(a){return this.x=a.x||0,this.y=a.y||0,this},setFromObject:function(a){return this.x=a.x||0,this.y=a.y||0,this},set:function(a,r){return r===void 0&&(r=a),this.x=a,this.y=r,this},setTo:function(a,r){return this.set(a,r)},setToPolar:function(a,r){return r==null&&(r=1),this.x=Math.cos(a)*r,this.y=Math.sin(a)*r,this},equals:function(a){return this.x===a.x&&this.y===a.y},fuzzyEquals:function(a,r){return c(this.x,a.x,r)&&c(this.y,a.y,r)},angle:function(){var a=Math.atan2(this.y,this.x);return a<0&&(a+=2*Math.PI),a},setAngle:function(a){return this.setToPolar(a,this.length())},add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this},scale:function(a){return isFinite(a)?(this.x*=a,this.y*=a):(this.x=0,this.y=0),this},divide:function(a){return this.x/=a.x,this.y/=a.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(a){var r=a.x-this.x,o=a.y-this.y;return Math.sqrt(r*r+o*o)},distanceSq:function(a){var r=a.x-this.x,o=a.y-this.y;return r*r+o*o},length:function(){var a=this.x,r=this.y;return Math.sqrt(a*a+r*r)},setLength:function(a){return this.normalize().scale(a)},lengthSq:function(){var a=this.x,r=this.y;return a*a+r*r},normalize:function(){var a=this.x,r=this.y,o=a*a+r*r;return o>0&&(o=1/Math.sqrt(o),this.x=a*o,this.y=r*o),this},normalizeRightHand:function(){var a=this.x;return this.x=this.y*-1,this.y=a,this},normalizeLeftHand:function(){var a=this.x;return this.x=this.y,this.y=a*-1,this},dot:function(a){return this.x*a.x+this.y*a.y},cross:function(a){return this.x*a.y-this.y*a.x},lerp:function(a,r){r===void 0&&(r=0);var o=this.x,l=this.y;return this.x=o+r*(a.x-o),this.y=l+r*(a.y-l),this},transformMat3:function(a){var r=this.x,o=this.y,l=a.val;return this.x=l[0]*r+l[3]*o+l[6],this.y=l[1]*r+l[4]*o+l[7],this},transformMat4:function(a){var r=this.x,o=this.y,l=a.val;return this.x=l[0]*r+l[4]*o+l[12],this.y=l[1]*r+l[5]*o+l[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(a){var r=this.length();return r&&r>a&&this.scale(a/r),this},reflect:function(a){return a=a.clone().normalize(),this.subtract(a.scale(2*this.dot(a)))},mirror:function(a){return this.reflect(a).negate()},rotate:function(a){var r=Math.cos(a),o=Math.sin(a);return this.set(r*this.x-o*this.y,o*this.x+r*this.y)},project:function(a){var r=this.dot(a)/a.dot(a);return this.copy(a).scale(r)}});s.ZERO=new s,s.RIGHT=new s(1,0),s.LEFT=new s(-1,0),s.UP=new s(0,-1),s.DOWN=new s(0,1),s.ONE=new s(1,1),h.exports=s},70015:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=new f({initialize:function(a,r,o){this.x=0,this.y=0,this.z=0,typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0):(this.x=a||0,this.y=r||0,this.z=o||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(s){return this.x=Math.min(this.x,s.x),this.y=Math.min(this.y,s.y),this.z=Math.min(this.z,s.z),this},max:function(s){return this.x=Math.max(this.x,s.x),this.y=Math.max(this.y,s.y),this.z=Math.max(this.z,s.z),this},clone:function(){return new c(this.x,this.y,this.z)},addVectors:function(s,a){return this.x=s.x+a.x,this.y=s.y+a.y,this.z=s.z+a.z,this},crossVectors:function(s,a){var r=s.x,o=s.y,l=s.z,v=a.x,u=a.y,d=a.z;return this.x=o*d-l*u,this.y=l*v-r*d,this.z=r*u-o*v,this},equals:function(s){return this.x===s.x&&this.y===s.y&&this.z===s.z},copy:function(s){return this.x=s.x,this.y=s.y,this.z=s.z||0,this},set:function(s,a,r){return typeof s=="object"?(this.x=s.x||0,this.y=s.y||0,this.z=s.z||0):(this.x=s||0,this.y=a||0,this.z=r||0),this},setFromMatrixPosition:function(s){return this.fromArray(s.val,12)},setFromMatrixColumn:function(s,a){return this.fromArray(s.val,a*4)},fromArray:function(s,a){return a===void 0&&(a=0),this.x=s[a],this.y=s[a+1],this.z=s[a+2],this},add:function(s){return this.x+=s.x,this.y+=s.y,this.z+=s.z||0,this},addScalar:function(s){return this.x+=s,this.y+=s,this.z+=s,this},addScale:function(s,a){return this.x+=s.x*a,this.y+=s.y*a,this.z+=s.z*a||0,this},subtract:function(s){return this.x-=s.x,this.y-=s.y,this.z-=s.z||0,this},multiply:function(s){return this.x*=s.x,this.y*=s.y,this.z*=s.z||1,this},scale:function(s){return isFinite(s)?(this.x*=s,this.y*=s,this.z*=s):(this.x=0,this.y=0,this.z=0),this},divide:function(s){return this.x/=s.x,this.y/=s.y,this.z/=s.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(s){var a=s.x-this.x,r=s.y-this.y,o=s.z-this.z||0;return Math.sqrt(a*a+r*r+o*o)},distanceSq:function(s){var a=s.x-this.x,r=s.y-this.y,o=s.z-this.z||0;return a*a+r*r+o*o},length:function(){var s=this.x,a=this.y,r=this.z;return Math.sqrt(s*s+a*a+r*r)},lengthSq:function(){var s=this.x,a=this.y,r=this.z;return s*s+a*a+r*r},normalize:function(){var s=this.x,a=this.y,r=this.z,o=s*s+a*a+r*r;return o>0&&(o=1/Math.sqrt(o),this.x=s*o,this.y=a*o,this.z=r*o),this},dot:function(s){return this.x*s.x+this.y*s.y+this.z*s.z},cross:function(s){var a=this.x,r=this.y,o=this.z,l=s.x,v=s.y,u=s.z;return this.x=r*u-o*v,this.y=o*l-a*u,this.z=a*v-r*l,this},lerp:function(s,a){a===void 0&&(a=0);var r=this.x,o=this.y,l=this.z;return this.x=r+a*(s.x-r),this.y=o+a*(s.y-o),this.z=l+a*(s.z-l),this},applyMatrix3:function(s){var a=this.x,r=this.y,o=this.z,l=s.val;return this.x=l[0]*a+l[3]*r+l[6]*o,this.y=l[1]*a+l[4]*r+l[7]*o,this.z=l[2]*a+l[5]*r+l[8]*o,this},applyMatrix4:function(s){var a=this.x,r=this.y,o=this.z,l=s.val,v=1/(l[3]*a+l[7]*r+l[11]*o+l[15]);return this.x=(l[0]*a+l[4]*r+l[8]*o+l[12])*v,this.y=(l[1]*a+l[5]*r+l[9]*o+l[13])*v,this.z=(l[2]*a+l[6]*r+l[10]*o+l[14])*v,this},transformMat3:function(s){var a=this.x,r=this.y,o=this.z,l=s.val;return this.x=a*l[0]+r*l[3]+o*l[6],this.y=a*l[1]+r*l[4]+o*l[7],this.z=a*l[2]+r*l[5]+o*l[8],this},transformMat4:function(s){var a=this.x,r=this.y,o=this.z,l=s.val;return this.x=l[0]*a+l[4]*r+l[8]*o+l[12],this.y=l[1]*a+l[5]*r+l[9]*o+l[13],this.z=l[2]*a+l[6]*r+l[10]*o+l[14],this},transformCoordinates:function(s){var a=this.x,r=this.y,o=this.z,l=s.val,v=a*l[0]+r*l[4]+o*l[8]+l[12],u=a*l[1]+r*l[5]+o*l[9]+l[13],d=a*l[2]+r*l[6]+o*l[10]+l[14],p=a*l[3]+r*l[7]+o*l[11]+l[15];return this.x=v/p,this.y=u/p,this.z=d/p,this},transformQuat:function(s){var a=this.x,r=this.y,o=this.z,l=s.x,v=s.y,u=s.z,d=s.w,p=d*a+v*o-u*r,g=d*r+u*a-l*o,x=d*o+l*r-v*a,T=-l*a-v*r-u*o;return this.x=p*d+T*-l+g*-u-x*-v,this.y=g*d+T*-v+x*-l-p*-u,this.z=x*d+T*-u+p*-v-g*-l,this},project:function(s){var a=this.x,r=this.y,o=this.z,l=s.val,v=l[0],u=l[1],d=l[2],p=l[3],g=l[4],x=l[5],T=l[6],S=l[7],P=l[8],E=l[9],R=l[10],A=l[11],w=l[12],O=l[13],L=l[14],F=l[15],I=1/(a*p+r*S+o*A+F);return this.x=(a*v+r*g+o*P+w)*I,this.y=(a*u+r*x+o*E+O)*I,this.z=(a*d+r*T+o*R+L)*I,this},projectViewMatrix:function(s,a){return this.applyMatrix4(s).applyMatrix4(a)},unprojectViewMatrix:function(s,a){return this.applyMatrix4(s).applyMatrix4(a)},unproject:function(s,a){var r=s.x,o=s.y,l=s.z,v=s.w,u=this.x-r,d=v-this.y-1-o,p=this.z;return this.x=2*u/l-1,this.y=2*d/v-1,this.z=2*p-1,this.project(a)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});c.ZERO=new c,c.RIGHT=new c(1,0,0),c.LEFT=new c(-1,0,0),c.UP=new c(0,-1,0),c.DOWN=new c(0,1,0),c.FORWARD=new c(0,0,1),c.BACK=new c(0,0,-1),c.ONE=new c(1,1,1),h.exports=c},51729:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=new f({initialize:function(a,r,o,l){this.x=0,this.y=0,this.z=0,this.w=0,typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0,this.w=a.w||0):(this.x=a||0,this.y=r||0,this.z=o||0,this.w=l||0)},clone:function(){return new c(this.x,this.y,this.z,this.w)},copy:function(s){return this.x=s.x,this.y=s.y,this.z=s.z||0,this.w=s.w||0,this},equals:function(s){return this.x===s.x&&this.y===s.y&&this.z===s.z&&this.w===s.w},set:function(s,a,r,o){return typeof s=="object"?(this.x=s.x||0,this.y=s.y||0,this.z=s.z||0,this.w=s.w||0):(this.x=s||0,this.y=a||0,this.z=r||0,this.w=o||0),this},add:function(s){return this.x+=s.x,this.y+=s.y,this.z+=s.z||0,this.w+=s.w||0,this},subtract:function(s){return this.x-=s.x,this.y-=s.y,this.z-=s.z||0,this.w-=s.w||0,this},scale:function(s){return this.x*=s,this.y*=s,this.z*=s,this.w*=s,this},length:function(){var s=this.x,a=this.y,r=this.z,o=this.w;return Math.sqrt(s*s+a*a+r*r+o*o)},lengthSq:function(){var s=this.x,a=this.y,r=this.z,o=this.w;return s*s+a*a+r*r+o*o},normalize:function(){var s=this.x,a=this.y,r=this.z,o=this.w,l=s*s+a*a+r*r+o*o;return l>0&&(l=1/Math.sqrt(l),this.x=s*l,this.y=a*l,this.z=r*l,this.w=o*l),this},dot:function(s){return this.x*s.x+this.y*s.y+this.z*s.z+this.w*s.w},lerp:function(s,a){a===void 0&&(a=0);var r=this.x,o=this.y,l=this.z,v=this.w;return this.x=r+a*(s.x-r),this.y=o+a*(s.y-o),this.z=l+a*(s.z-l),this.w=v+a*(s.w-v),this},multiply:function(s){return this.x*=s.x,this.y*=s.y,this.z*=s.z||1,this.w*=s.w||1,this},divide:function(s){return this.x/=s.x,this.y/=s.y,this.z/=s.z||1,this.w/=s.w||1,this},distance:function(s){var a=s.x-this.x,r=s.y-this.y,o=s.z-this.z||0,l=s.w-this.w||0;return Math.sqrt(a*a+r*r+o*o+l*l)},distanceSq:function(s){var a=s.x-this.x,r=s.y-this.y,o=s.z-this.z||0,l=s.w-this.w||0;return a*a+r*r+o*o+l*l},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(s){var a=this.x,r=this.y,o=this.z,l=this.w,v=s.val;return this.x=v[0]*a+v[4]*r+v[8]*o+v[12]*l,this.y=v[1]*a+v[5]*r+v[9]*o+v[13]*l,this.z=v[2]*a+v[6]*r+v[10]*o+v[14]*l,this.w=v[3]*a+v[7]*r+v[11]*o+v[15]*l,this},transformQuat:function(s){var a=this.x,r=this.y,o=this.z,l=s.x,v=s.y,u=s.z,d=s.w,p=d*a+v*o-u*r,g=d*r+u*a-l*o,x=d*o+l*r-v*a,T=-l*a-v*r-u*o;return this.x=p*d+T*-l+g*-u-x*-v,this.y=g*d+T*-v+x*-l-p*-u,this.z=x*d+T*-u+p*-v-g*-l,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});c.prototype.sub=c.prototype.subtract,c.prototype.mul=c.prototype.multiply,c.prototype.div=c.prototype.divide,c.prototype.dist=c.prototype.distance,c.prototype.distSq=c.prototype.distanceSq,c.prototype.len=c.prototype.length,c.prototype.lenSq=c.prototype.lengthSq,h.exports=c},9557:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){return Math.abs(e-f)<=c};h.exports=y},1071:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){if(e>=f&&e<=c)return e;var s=c-f;return f+((e-f)%s+s)%s};h.exports=y},90447:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){return Math.atan2(s-f,c-e)};h.exports=y},94240:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return Math.atan2(f.y-e.y,f.x-e.x)};h.exports=y},84066:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return Math.atan2(f.x-e.x,f.y-e.y)};h.exports=y},9678:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){return Math.atan2(c-e,s-f)};h.exports=y},76861:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(83392),c=function(s){return s>Math.PI&&(s-=f.PI2),Math.abs(((s+f.TAU)%f.PI2-f.PI2)%f.PI2)};h.exports=c},37570:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e=e%(2*Math.PI),e>=0?e:e+2*Math.PI};h.exports=y},87597:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61616),c=function(){return f(-Math.PI,Math.PI)};h.exports=c},74493:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61616),c=function(){return f(-180,180)};h.exports=c},19049:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(37570),c=function(s){return f(s+Math.PI)};h.exports=c},90612:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(83392),c=function(s,a,r){return r===void 0&&(r=.05),s===a||(Math.abs(a-s)<=r||Math.abs(a-s)>=f.PI2-r?s=a:(Math.abs(a-s)>Math.PI&&(a<s?a+=f.PI2:a-=f.PI2),a>s?s+=r:a<s&&(s-=r))),s};h.exports=c},93954:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){var c=f-e;if(c===0)return 0;var s=Math.floor((c- -180)/360);return c-s*360};h.exports=y},35786:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(1071),c=function(s){return f(s,-Math.PI,Math.PI)};h.exports=c},62138:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(1071),c=function(s){return f(s,-180,180)};h.exports=c},22153:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Between:e(90447),BetweenPoints:e(94240),BetweenPointsY:e(84066),BetweenY:e(9678),CounterClockwise:e(76861),Normalize:e(37570),Random:e(87597),RandomDegrees:e(74493),Reverse:e(19049),RotateTo:e(90612),ShortestBetween:e(93954),Wrap:e(35786),WrapDegrees:e(62138)}},83392:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};h.exports=y},53996:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){var a=e-c,r=f-s;return Math.sqrt(a*a+r*r)};h.exports=y},92951:h=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){var c=e.x-f.x,s=e.y-f.y;return Math.sqrt(c*c+s*s)};h.exports=y},12161:h=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){var c=e.x-f.x,s=e.y-f.y;return c*c+s*s};h.exports=y},38057:h=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){return Math.max(Math.abs(e-c),Math.abs(f-s))};h.exports=y},33297:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s,a){return a===void 0&&(a=2),Math.sqrt(Math.pow(c-e,a)+Math.pow(s-f,a))};h.exports=y},90366:h=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){return Math.abs(e-c)+Math.abs(f-s)};h.exports=y},35032:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){var a=e-c,r=f-s;return a*a+r*r};h.exports=y},10130:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Between:e(53996),BetweenPoints:e(92951),BetweenPointsSquared:e(12161),Chebyshev:e(38057),Power:e(33297),Snake:e(90366),Squared:e(35032)}},35060:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(25265),c=e(57428),s=e(73214),a=e(71778),r=e(36468),o=e(88258),l=e(52910),v=e(67799),u=e(74083),d=e(92284),p=e(28035),g=e(8754);h.exports={Power0:l,Power1:v.Out,Power2:a.Out,Power3:u.Out,Power4:d.Out,Linear:l,Quad:v.Out,Cubic:a.Out,Quart:u.Out,Quint:d.Out,Sine:p.Out,Expo:o.Out,Circ:s.Out,Elastic:r.Out,Back:f.Out,Bounce:c.Out,Stepped:g,"Quad.easeIn":v.In,"Cubic.easeIn":a.In,"Quart.easeIn":u.In,"Quint.easeIn":d.In,"Sine.easeIn":p.In,"Expo.easeIn":o.In,"Circ.easeIn":s.In,"Elastic.easeIn":r.In,"Back.easeIn":f.In,"Bounce.easeIn":c.In,"Quad.easeOut":v.Out,"Cubic.easeOut":a.Out,"Quart.easeOut":u.Out,"Quint.easeOut":d.Out,"Sine.easeOut":p.Out,"Expo.easeOut":o.Out,"Circ.easeOut":s.Out,"Elastic.easeOut":r.Out,"Back.easeOut":f.Out,"Bounce.easeOut":c.Out,"Quad.easeInOut":v.InOut,"Cubic.easeInOut":a.InOut,"Quart.easeInOut":u.InOut,"Quint.easeInOut":d.InOut,"Sine.easeInOut":p.InOut,"Expo.easeInOut":o.InOut,"Circ.easeInOut":s.InOut,"Elastic.easeInOut":r.InOut,"Back.easeInOut":f.InOut,"Bounce.easeInOut":c.InOut}},25860:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return f===void 0&&(f=1.70158),e*e*((f+1)*e-f)};h.exports=y},45264:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){f===void 0&&(f=1.70158);var c=f*1.525;return(e*=2)<1?.5*(e*e*((c+1)*e-c)):.5*((e-=2)*e*((c+1)*e+c)+2)};h.exports=y},36699:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return f===void 0&&(f=1.70158),--e*e*((f+1)*e+f)+1};h.exports=y},25265:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={In:e(25860),Out:e(36699),InOut:e(45264)}},62191:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e=1-e,e<.36363636363636365?1-7.5625*e*e:e<.7272727272727273?1-(7.5625*(e-=.5454545454545454)*e+.75):e<.9090909090909091?1-(7.5625*(e-=.8181818181818182)*e+.9375):1-(7.5625*(e-=.9545454545454546)*e+.984375)};h.exports=y},24799:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){var f=!1;return e<.5?(e=1-e*2,f=!0):e=e*2-1,e<.36363636363636365?e=7.5625*e*e:e<.7272727272727273?e=7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?e=7.5625*(e-=.8181818181818182)*e+.9375:e=7.5625*(e-=.9545454545454546)*e+.984375,f?(1-e)*.5:e*.5+.5};h.exports=y},60819:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375};h.exports=y},57428:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={In:e(62191),Out:e(60819),InOut:e(24799)}},86855:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return 1-Math.sqrt(1-e*e)};h.exports=y},7280:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)};h.exports=y},18058:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return Math.sqrt(1- --e*e)};h.exports=y},73214:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={In:e(86855),Out:e(18058),InOut:e(7280)}},91532:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e*e*e};h.exports=y},63180:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)};h.exports=y},16518:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return--e*e*e+1};h.exports=y},71778:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={In:e(91532),Out:e(16518),InOut:e(63180)}},24729:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){if(f===void 0&&(f=.1),c===void 0&&(c=.1),e===0)return 0;if(e===1)return 1;var s=c/4;return f<1?f=1:s=c*Math.asin(1/f)/(2*Math.PI),-(f*Math.pow(2,10*(e-=1))*Math.sin((e-s)*(2*Math.PI)/c))};h.exports=y},50325:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){if(f===void 0&&(f=.1),c===void 0&&(c=.1),e===0)return 0;if(e===1)return 1;var s=c/4;return f<1?f=1:s=c*Math.asin(1/f)/(2*Math.PI),(e*=2)<1?-.5*(f*Math.pow(2,10*(e-=1))*Math.sin((e-s)*(2*Math.PI)/c)):f*Math.pow(2,-10*(e-=1))*Math.sin((e-s)*(2*Math.PI)/c)*.5+1};h.exports=y},84074:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){if(f===void 0&&(f=.1),c===void 0&&(c=.1),e===0)return 0;if(e===1)return 1;var s=c/4;return f<1?f=1:s=c*Math.asin(1/f)/(2*Math.PI),f*Math.pow(2,-10*e)*Math.sin((e-s)*(2*Math.PI)/c)+1};h.exports=y},36468:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={In:e(24729),Out:e(84074),InOut:e(50325)}},95638:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return Math.pow(2,10*(e-1))-.001};h.exports=y},10357:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))};h.exports=y},14894:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return 1-Math.pow(2,-10*e)};h.exports=y},88258:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={In:e(95638),Out:e(14894),InOut:e(10357)}},33063:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Back:e(25265),Bounce:e(57428),Circular:e(73214),Cubic:e(71778),Elastic:e(36468),Expo:e(88258),Linear:e(52910),Quadratic:e(67799),Quartic:e(74083),Quintic:e(92284),Sine:e(28035),Stepped:e(8754)}},43927:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e};h.exports=y},52910:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports=e(43927)},77471:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e*e};h.exports=y},83863:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)};h.exports=y},44383:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e*(2-e)};h.exports=y},67799:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={In:e(77471),Out:e(44383),InOut:e(83863)}},48311:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e*e*e*e};h.exports=y},55248:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)};h.exports=y},23135:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return 1- --e*e*e*e};h.exports=y},74083:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={In:e(48311),Out:e(23135),InOut:e(55248)}},7313:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e*e*e*e*e};h.exports=y},98759:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)};h.exports=y},26670:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return--e*e*e*e*e+1};h.exports=y},92284:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={In:e(7313),Out:e(26670),InOut:e(98759)}},52929:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e===0?0:e===1?1:1-Math.cos(e*Math.PI/2)};h.exports=y},66333:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e===0?0:e===1?1:.5*(1-Math.cos(Math.PI*e))};h.exports=y},37255:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e===0?0:e===1?1:Math.sin(e*Math.PI/2)};h.exports=y},28035:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={In:e(52929),Out:e(37255),InOut:e(66333)}},52770:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return f===void 0&&(f=1),e<=0?0:e>=1?1:((f*e|0)+1)*(1/f)};h.exports=y},8754:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports=e(52770)},17247:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return f===void 0&&(f=1e-4),Math.ceil(e-f)};h.exports=y},88456:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){return c===void 0&&(c=1e-4),Math.abs(e-f)<c};h.exports=y},61824:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return f===void 0&&(f=1e-4),Math.floor(e+f)};h.exports=y},41935:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){return c===void 0&&(c=1e-4),e>f-c};h.exports=y},54726:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){return c===void 0&&(c=1e-4),e<f+c};h.exports=y},52778:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Ceil:e(17247),Equal:e(88456),Floor:e(61824),GreaterThan:e(41935),LessThan:e(54726)}},5923:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(83392),c=e(98611),s={Angle:e(22153),Distance:e(10130),Easing:e(33063),Fuzzy:e(52778),Interpolation:e(48528),Pow2:e(73773),Snap:e(23679),RandomDataGenerator:e(81429),Average:e(26042),Bernstein:e(22824),Between:e(17489),CatmullRom:e(14976),CeilTo:e(89129),Clamp:e(82897),DegToRad:e(75606),Difference:e(767),Euler:e(9849),Factorial:e(8034),FloatBetween:e(61616),FloorTo:e(60679),FromPercent:e(91806),GetSpeed:e(79366),IsEven:e(43776),IsEvenStrict:e(58442),Linear:e(42798),LinearXY:e(61072),MaxAdd:e(69635),Median:e(37394),MinSub:e(17259),Percent:e(61820),RadToDeg:e(23701),RandomXY:e(16906),RandomXYZ:e(52417),RandomXYZW:e(17915),Rotate:e(52257),RotateAround:e(2386),RotateAroundDistance:e(72395),RotateTo:e(41061),RoundAwayFromZero:e(67233),RoundTo:e(64333),SinCosTableGenerator:e(59533),SmootherStep:e(87736),SmoothStep:e(5514),ToXY:e(55805),TransformXY:e(64462),Within:e(9557),Wrap:e(1071),Vector2:e(93736),Vector3:e(70015),Vector4:e(51729),Matrix3:e(5341),Matrix4:e(16650),Quaternion:e(75003),RotateVec3:e(93709)};s=c(!1,s,f),h.exports=s},63210:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(22824),c=function(s,a){for(var r=0,o=s.length-1,l=0;l<=o;l++)r+=Math.pow(1-a,o-l)*Math.pow(a,l)*s[l]*f(o,l);return r};h.exports=c},88332:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(14976),c=function(s,a){var r=s.length-1,o=r*a,l=Math.floor(o);return s[0]===s[r]?(a<0&&(l=Math.floor(o=r*(1+a))),f(o-l,s[(l-1+r)%r],s[l],s[(l+1)%r],s[(l+2)%r])):a<0?s[0]-(f(-o,s[0],s[0],s[1],s[1])-s[0]):a>1?s[r]-(f(o-r,s[r],s[r],s[r-1],s[r-1])-s[r]):f(o-l,s[l?l-1:0],s[l],s[r<l+1?r:l+1],s[r<l+2?r:l+2])};h.exports=c},34631:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(a,r){var o=1-a;return o*o*o*r}function e(a,r){var o=1-a;return 3*o*o*a*r}function f(a,r){return 3*(1-a)*a*a*r}function c(a,r){return a*a*a*r}var s=function(a,r,o,l,v){return y(a,r)+e(a,o)+f(a,l)+c(a,v)};h.exports=s},47614:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(42798),c=function(s,a){var r=s.length-1,o=r*a,l=Math.floor(o);return a<0?f(s[0],s[1],o):a>1?f(s[r],s[r-1],r-o):f(s[l],s[l+1>r?r:l+1],o-l)};h.exports=c},16252:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(s,a){var r=1-s;return r*r*a}function e(s,a){return 2*(1-s)*s*a}function f(s,a){return s*s*a}var c=function(s,a,r,o){return y(s,a)+e(s,r)+f(s,o)};h.exports=c},44521:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(5514),c=function(s,a,r){return a+(r-a)*f(s,0,1)};h.exports=c},45507:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(87736),c=function(s,a,r){return a+(r-a)*f(s,0,1)};h.exports=c},48528:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Bezier:e(63210),CatmullRom:e(88332),CubicBezier:e(34631),Linear:e(47614),QuadraticBezier:e(16252),SmoothStep:e(44521),SmootherStep:e(45507)}},3504:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){var f=Math.log(e)/.6931471805599453;return 1<<Math.ceil(f)};h.exports=y},28621:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e>0&&(e&e-1)===0&&f>0&&(f&f-1)===0};h.exports=y},2018:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e>0&&(e&e-1)===0};h.exports=y},73773:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={GetNext:e(3504),IsSize:e(28621),IsValue:e(2018)}},81429:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=new f({initialize:function(a){a===void 0&&(a=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],a&&this.init(a)},rnd:function(){var s=2091639*this.s0+this.c*23283064365386963e-26;return this.c=s|0,this.s0=this.s1,this.s1=this.s2,this.s2=s-this.c,this.s2},hash:function(s){var a,r=this.n;s=s.toString();for(var o=0;o<s.length;o++)r+=s.charCodeAt(o),a=.02519603282416938*r,r=a>>>0,a-=r,a*=r,r=a>>>0,a-=r,r+=a*4294967296;return this.n=r,(r>>>0)*23283064365386963e-26},init:function(s){typeof s=="string"?this.state(s):this.sow(s)},sow:function(s){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!s)for(var a=0;a<s.length&&s[a]!=null;a++){var r=s[a];this.s0-=this.hash(r),this.s0+=~~(this.s0<0),this.s1-=this.hash(r),this.s1+=~~(this.s1<0),this.s2-=this.hash(r),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(s,a){return Math.floor(this.realInRange(0,a-s+1)+s)},between:function(s,a){return Math.floor(this.realInRange(0,a-s+1)+s)},realInRange:function(s,a){return this.frac()*(a-s)+s},normal:function(){return 1-2*this.frac()},uuid:function(){var s="",a="";for(a=s="";s++<36;a+=~s%5|s*3&4?(s^15?8^this.frac()*(s^20?16:4):4).toString(16):"-");return a},pick:function(s){return s[this.integerInRange(0,s.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(s){return s[~~(Math.pow(this.frac(),2)*(s.length-1)+.5)]},timestamp:function(s,a){return this.realInRange(s||9466848e5,a||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(s){return typeof s=="string"&&s.match(/^!rnd/)&&(s=s.split(","),this.c=parseFloat(s[1]),this.s0=parseFloat(s[2]),this.s1=parseFloat(s[3]),this.s2=parseFloat(s[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(s){for(var a=s.length-1,r=a;r>0;r--){var o=Math.floor(this.frac()*(r+1)),l=s[o];s[o]=s[r],s[r]=l}return s}});h.exports=c},82127:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){return c===void 0&&(c=0),f===0?e:(e-=c,e=f*Math.ceil(e/f),s?(c+e)/f:c+e)};h.exports=y},84314:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){return c===void 0&&(c=0),f===0?e:(e-=c,e=f*Math.floor(e/f),s?(c+e)/f:c+e)};h.exports=y},88462:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){return c===void 0&&(c=0),f===0?e:(e-=c,e=f*Math.round(e/f),s?(c+e)/f:c+e)};h.exports=y},23679:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Ceil:e(82127),Floor:e(84314),To:e(88462)}},92491:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e(75205);var f=e(86459),c=e(98611),s={Actions:e(83979),Animations:e(13517),BlendModes:e(95723),Cache:e(45820),Cameras:e(44143),Core:e(80293),Class:e(56694),Create:e(84106),Curves:e(73962),Data:e(1999),Display:e(24816),DOM:e(3590),Events:e(95146),FX:e(96910),Game:e(15213),GameObjects:e(48013),Geom:e(84068),Input:e(20873),Loader:e(95695),Math:e(5923),Physics:e(53954),Plugins:e(45615),Renderer:e(42069),Scale:e(86754),ScaleModes:e(27394),Scene:e(87157),Scenes:e(20436),Structs:e(20010),Textures:e(87499),Tilemaps:e(52678),Time:e(97121),Tweens:e(75193),Utils:e(22178)};s.Sound=e(56751),s=c(!1,s,f),h.exports=s,e.g.Phaser=s},62832:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(7864),s=e(1539),a=new f({Extends:s,Mixins:[c.Acceleration,c.Angular,c.Bounce,c.Debug,c.Drag,c.Enable,c.Friction,c.Gravity,c.Immovable,c.Mass,c.Pushable,c.Size,c.Velocity],initialize:function(o,l,v,u,d){s.call(this,o,l,v,u,d),this.body=null}});h.exports=a},66150:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(75606),s=e(53996),a=e(35032),r=e(99523),o=e(72632),l=e(30657),v=e(2732),u=e(15147),d=e(91963),p=e(7599),g=e(93736),x=e(85233),T=new f({initialize:function(P){this.scene=P,this.systems=P.sys,this.config=this.getConfig(),this.world,this.add,P.sys.events.once(p.BOOT,this.boot,this),P.sys.events.on(p.START,this.start,this)},boot:function(){this.world=new x(this.scene,this.config),this.add=new r(this.world),this.systems.events.once(p.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new x(this.scene,this.config),this.add=new r(this.world));var S=this.systems.events;o(this.config,"customUpdate",!1)||S.on(p.UPDATE,this.world.update,this.world),S.on(p.POST_UPDATE,this.world.postUpdate,this.world),S.once(p.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(p.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(p.UPDATE,this.world.update,this.world)},getConfig:function(){var S=this.systems.game.config.physics,P=this.systems.settings.physics,E=l(o(P,"arcade",{}),o(S,"arcade",{}));return E},overlap:function(S,P,E,R,A){return E===void 0&&(E=null),R===void 0&&(R=null),A===void 0&&(A=E),this.world.collideObjects(S,P,E,R,A,!0)},collide:function(S,P,E,R,A){return E===void 0&&(E=null),R===void 0&&(R=null),A===void 0&&(A=E),this.world.collideObjects(S,P,E,R,A,!1)},collideTiles:function(S,P,E,R,A){return this.world.collideTiles(S,P,E,R,A)},overlapTiles:function(S,P,E,R,A){return this.world.overlapTiles(S,P,E,R,A)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(S,P,E,R,A,w){R===void 0&&(R=60);var O=Math.atan2(E-S.y,P-S.x);return S.body.acceleration.setToPolar(O,R),A!==void 0&&w!==void 0&&S.body.maxVelocity.set(A,w),O},accelerateToObject:function(S,P,E,R,A){return this.accelerateTo(S,P.x,P.y,E,R,A)},closest:function(S,P){P||(P=this.world.bodies.entries);for(var E=Number.MAX_VALUE,R=null,A=S.x,w=S.y,O=P.length,L=0;L<O;L++){var F=P[L],I=F.body||F;if(!(S===F||S===I||S===I.gameObject||S===I.center)){var b=a(A,w,I.center.x,I.center.y);b<E&&(R=F,E=b)}}return R},furthest:function(S,P){P||(P=this.world.bodies.entries);for(var E=-1,R=null,A=S.x,w=S.y,O=P.length,L=0;L<O;L++){var F=P[L],I=F.body||F;if(!(S===F||S===I||S===I.gameObject||S===I.center)){var b=a(A,w,I.center.x,I.center.y);b>E&&(R=F,E=b)}}return R},moveTo:function(S,P,E,R,A){R===void 0&&(R=60),A===void 0&&(A=0);var w=Math.atan2(E-S.y,P-S.x);return A>0&&(R=s(S.x,S.y,P,E)/(A/1e3)),S.body.velocity.setToPolar(w,R),w},moveToObject:function(S,P,E,R){return this.moveTo(S,P.x,P.y,E,R)},velocityFromAngle:function(S,P,E){return P===void 0&&(P=60),E===void 0&&(E=new g),E.setToPolar(c(S),P)},velocityFromRotation:function(S,P,E){return P===void 0&&(P=60),E===void 0&&(E=new g),E.setToPolar(S,P)},overlapRect:function(S,P,E,R,A,w){return u(this.world,S,P,E,R,A,w)},overlapCirc:function(S,P,E,R,A){return v(this.world,S,P,E,R,A)},shutdown:function(){if(this.world){var S=this.systems.events;S.off(p.UPDATE,this.world.update,this.world),S.off(p.POST_UPDATE,this.world.postUpdate,this.world),S.off(p.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null}},destroy:function(){this.shutdown(),this.scene.sys.events.off(p.START,this.start,this),this.scene=null,this.systems=null}});d.register("ArcadePhysics",T,"arcadePhysics"),h.exports=T},25084:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(7864),s=e(13747),a=new f({Extends:s,Mixins:[c.Acceleration,c.Angular,c.Bounce,c.Debug,c.Drag,c.Enable,c.Friction,c.Gravity,c.Immovable,c.Mass,c.Pushable,c.Size,c.Velocity],initialize:function(o,l,v,u,d){s.call(this,o,l,v,u,d),this.body=null}});h.exports=a},97602:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(47401),s=e(27037),a=e(23701),r=e(74118),o=e(94287),l=e(93736),v=new f({initialize:function(d,p){var g=64,x=64,T={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},S=p!==void 0;S&&p.displayWidth&&(g=p.displayWidth,x=p.displayHeight),S||(p=T),this.world=d,this.gameObject=S?p:void 0,this.isBody=!0,this.transform={x:p.x,y:p.y,rotation:p.angle,scaleX:p.scaleX,scaleY:p.scaleY,displayOriginX:p.displayOriginX,displayOriginY:p.displayOriginY},this.debugShowBody=d.defaults.debugShowBody,this.debugShowVelocity=d.defaults.debugShowVelocity,this.debugBodyColor=d.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new l,this.position=new l(p.x-p.scaleX*p.displayOriginX,p.y-p.scaleY*p.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=p.angle,this.preRotation=p.angle,this.width=g,this.height=x,this.sourceWidth=g,this.sourceHeight=x,p.frame&&(this.sourceWidth=p.frame.realWidth,this.sourceHeight=p.frame.realHeight),this.halfWidth=Math.abs(g/2),this.halfHeight=Math.abs(x/2),this.center=new l(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new l,this.newVelocity=new l,this.deltaMax=new l,this.acceleration=new l,this.allowDrag=!0,this.drag=new l,this.allowGravity=!0,this.gravity=new l,this.bounce=new l,this.worldBounce=null,this.customBoundsRectangle=d.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new l(1e4,1e4),this.maxSpeed=-1,this.friction=new l(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=c.FACING_NONE,this.immovable=!1,this.pushable=!0,this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.syncBounds=!1,this.physicsType=c.DYNAMIC_BODY,this._sx=p.scaleX,this._sy=p.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new r},updateBounds:function(){var u=this.gameObject,d=this.transform;if(u.parentContainer){var p=u.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);d.x=p.tx,d.y=p.ty,d.rotation=a(p.rotation),d.scaleX=p.scaleX,d.scaleY=p.scaleY,d.displayOriginX=u.displayOriginX,d.displayOriginY=u.displayOriginY}else d.x=u.x,d.y=u.y,d.rotation=u.angle,d.scaleX=u.scaleX,d.scaleY=u.scaleY,d.displayOriginX=u.displayOriginX,d.displayOriginY=u.displayOriginY;var g=!1;if(this.syncBounds){var x=u.getBounds(this._bounds);this.width=x.width,this.height=x.height,g=!0}else{var T=Math.abs(d.scaleX),S=Math.abs(d.scaleY);(this._sx!==T||this._sy!==S)&&(this.width=this.sourceWidth*T,this.height=this.sourceHeight*S,this._sx=T,this._sy=S,g=!0)}g&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var u=this.transform;this.position.x=u.x+u.scaleX*(this.offset.x-u.displayOriginX),this.position.y=u.y+u.scaleY*(this.offset.y-u.displayOriginY),this.updateCenter()},resetFlags:function(u){u===void 0&&(u=!1);var d=this.wasTouching,p=this.touching,g=this.blocked;u?(d.none=!0,d.up=!1,d.down=!1,d.left=!1,d.right=!1):(d.none=p.none,d.up=p.up,d.down=p.down,d.left=p.left,d.right=p.right),p.none=!0,p.up=!1,p.down=!1,p.left=!1,p.right=!1,g.none=!0,g.up=!1,g.down=!1,g.left=!1,g.right=!1,this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(u,d){u&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves&&(this.prev.x=this.position.x,this.prev.y=this.position.y,this.prevFrame.x=this.position.x,this.prevFrame.y=this.position.y),u&&this.update(d)},update:function(u){if(this.prev.x=this.position.x,this.prev.y=this.position.y,this.moves){this.world.updateMotion(this,u);var d=this.velocity.x,p=this.velocity.y;this.newVelocity.set(d*u,p*u),this.position.add(this.newVelocity),this.updateCenter(),this.angle=Math.atan2(p,d),this.speed=Math.sqrt(d*d+p*p),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&this.world.emit(s.WORLD_BOUNDS,this,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right)}this._dx=this.position.x-this.prev.x,this._dy=this.position.y-this.prev.y},postUpdate:function(){var u=this.position.x-this.prevFrame.x,d=this.position.y-this.prevFrame.y,p=this.gameObject;if(this.moves){var g=this.deltaMax.x,x=this.deltaMax.y;g!==0&&u!==0&&(u<0&&u<-g?u=-g:u>0&&u>g&&(u=g)),x!==0&&d!==0&&(d<0&&d<-x?d=-x:d>0&&d>x&&(d=x)),p&&(p.x+=u,p.y+=d)}u<0?this.facing=c.FACING_LEFT:u>0&&(this.facing=c.FACING_RIGHT),d<0?this.facing=c.FACING_UP:d>0&&(this.facing=c.FACING_DOWN),this.allowRotation&&p&&(p.angle+=this.deltaZ()),this._tx=u,this._ty=d},setBoundsRectangle:function(u){return this.customBoundsRectangle=u||this.world.bounds,this},checkWorldBounds:function(){var u=this.position,d=this.customBoundsRectangle,p=this.world.checkCollision,g=this.worldBounce?-this.worldBounce.x:-this.bounce.x,x=this.worldBounce?-this.worldBounce.y:-this.bounce.y,T=!1;return u.x<d.x&&p.left?(u.x=d.x,this.velocity.x*=g,this.blocked.left=!0,T=!0):this.right>d.right&&p.right&&(u.x=d.right-this.width,this.velocity.x*=g,this.blocked.right=!0,T=!0),u.y<d.y&&p.up?(u.y=d.y,this.velocity.y*=x,this.blocked.up=!0,T=!0):this.bottom>d.bottom&&p.down&&(u.y=d.bottom-this.height,this.velocity.y*=x,this.blocked.down=!0,T=!0),T&&(this.blocked.none=!1,this.updateCenter()),T},setOffset:function(u,d){return d===void 0&&(d=u),this.offset.set(u,d),this},setGameObject:function(u,d){return d===void 0&&(d=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=u,u.body&&(u.body=this),this.setSize(),this.world.add(this),this.enable=d,this},setSize:function(u,d,p){p===void 0&&(p=!0);var g=this.gameObject;if(g&&(!u&&g.frame&&(u=g.frame.realWidth),!d&&g.frame&&(d=g.frame.realHeight)),this.sourceWidth=u,this.sourceHeight=d,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),p&&g&&g.getCenter){var x=(g.width-u)/2,T=(g.height-d)/2;this.offset.set(x,T)}return this.isCircle=!1,this.radius=0,this},setCircle:function(u,d,p){return d===void 0&&(d=this.offset.x),p===void 0&&(p=this.offset.y),u>0?(this.isCircle=!0,this.radius=u,this.sourceWidth=u*2,this.sourceHeight=u*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(d,p),this.updateCenter()):this.isCircle=!1,this},reset:function(u,d){this.stop();var p=this.gameObject;p&&(p.setPosition(u,d),this.rotation=p.angle,this.preRotation=p.angle);var g=this.position;p&&p.getTopLeft?p.getTopLeft(g):g.set(u,d),this.prev.copy(g),this.prevFrame.copy(g),p&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(u){return u.x=this.x,u.y=this.y,u.right=this.right,u.bottom=this.bottom,u},hitTest:function(u,d){if(!this.isCircle)return o(this,u,d);if(this.radius>0&&u>=this.left&&u<=this.right&&d>=this.top&&d<=this.bottom){var p=(this.center.x-u)*(this.center.x-u),g=(this.center.y-d)*(this.center.y-d);return p+g<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(u){var d=this.position,p=d.x+this.halfWidth,g=d.y+this.halfHeight;this.debugShowBody&&(u.lineStyle(u.defaultStrokeWidth,this.debugBodyColor),this.isCircle?u.strokeCircle(p,g,this.width/2):(this.checkCollision.up&&u.lineBetween(d.x,d.y,d.x+this.width,d.y),this.checkCollision.right&&u.lineBetween(d.x+this.width,d.y,d.x+this.width,d.y+this.height),this.checkCollision.down&&u.lineBetween(d.x,d.y+this.height,d.x+this.width,d.y+this.height),this.checkCollision.left&&u.lineBetween(d.x,d.y,d.x,d.y+this.height))),this.debugShowVelocity&&(u.lineStyle(u.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),u.lineBetween(p,g,p+this.velocity.x/2,g+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setCollideWorldBounds:function(u,d,p,g){u===void 0&&(u=!0),this.collideWorldBounds=u;var x=d!==void 0,T=p!==void 0;return(x||T)&&(this.worldBounce||(this.worldBounce=new l),x&&(this.worldBounce.x=d),T&&(this.worldBounce.y=p)),g!==void 0&&(this.onWorldBounds=g),this},setVelocity:function(u,d){return this.velocity.set(u,d),u=this.velocity.x,d=this.velocity.y,this.speed=Math.sqrt(u*u+d*d),this},setVelocityX:function(u){return this.setVelocity(u,this.velocity.y)},setVelocityY:function(u){return this.setVelocity(this.velocity.x,u)},setMaxVelocity:function(u,d){return this.maxVelocity.set(u,d),this},setMaxVelocityX:function(u){return this.maxVelocity.x=u,this},setMaxVelocityY:function(u){return this.maxVelocity.y=u,this},setMaxSpeed:function(u){return this.maxSpeed=u,this},setBounce:function(u,d){return this.bounce.set(u,d),this},setBounceX:function(u){return this.bounce.x=u,this},setBounceY:function(u){return this.bounce.y=u,this},setAcceleration:function(u,d){return this.acceleration.set(u,d),this},setAccelerationX:function(u){return this.acceleration.x=u,this},setAccelerationY:function(u){return this.acceleration.y=u,this},setAllowDrag:function(u){return u===void 0&&(u=!0),this.allowDrag=u,this},setAllowGravity:function(u){return u===void 0&&(u=!0),this.allowGravity=u,this},setAllowRotation:function(u){return u===void 0&&(u=!0),this.allowRotation=u,this},setDrag:function(u,d){return this.drag.set(u,d),this},setDamping:function(u){return this.useDamping=u,this},setDragX:function(u){return this.drag.x=u,this},setDragY:function(u){return this.drag.y=u,this},setGravity:function(u,d){return this.gravity.set(u,d),this},setGravityX:function(u){return this.gravity.x=u,this},setGravityY:function(u){return this.gravity.y=u,this},setFriction:function(u,d){return this.friction.set(u,d),this},setFrictionX:function(u){return this.friction.x=u,this},setFrictionY:function(u){return this.friction.y=u,this},setAngularVelocity:function(u){return this.angularVelocity=u,this},setAngularAcceleration:function(u){return this.angularAcceleration=u,this},setAngularDrag:function(u){return this.angularDrag=u,this},setMass:function(u){return this.mass=u,this},setImmovable:function(u){return u===void 0&&(u=!0),this.immovable=u,this},setEnable:function(u){return u===void 0&&(u=!0),this.enable=u,this},processX:function(u,d,p,g){this.x+=u,this.updateCenter(),d!==null&&(this.velocity.x=d);var x=this.blocked;p&&(x.left=!0,x.none=!1),g&&(x.right=!0,x.none=!1)},processY:function(u,d,p,g){this.y+=u,this.updateCenter(),d!==null&&(this.velocity.y=d);var x=this.blocked;p&&(x.up=!0,x.none=!1),g&&(x.down=!0,x.none=!1)},x:{get:function(){return this.position.x},set:function(u){this.position.x=u}},y:{get:function(){return this.position.y},set:function(u){this.position.y=u}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});h.exports=v},3909:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=new f({initialize:function(a,r,o,l,v,u,d){this.world=a,this.name="",this.active=!0,this.overlapOnly=r,this.object1=o,this.object2=l,this.collideCallback=v,this.processCallback=u,this.callbackContext=d},setName:function(s){return this.name=s,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});h.exports=c},99523:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(62832),c=e(25084),s=e(97602),a=e(56694),r=e(47401),o=e(10481),l=e(66634),v=e(46346),u=new a({initialize:function(p){this.world=p,this.scene=p.scene,this.sys=p.scene.sys},collider:function(d,p,g,x,T){return this.world.addCollider(d,p,g,x,T)},overlap:function(d,p,g,x,T){return this.world.addOverlap(d,p,g,x,T)},existing:function(d,p){var g=p?r.STATIC_BODY:r.DYNAMIC_BODY;return this.world.enableBody(d,g),d},staticImage:function(d,p,g,x){var T=new f(this.scene,d,p,g,x);return this.sys.displayList.add(T),this.world.enableBody(T,r.STATIC_BODY),T},image:function(d,p,g,x){var T=new f(this.scene,d,p,g,x);return this.sys.displayList.add(T),this.world.enableBody(T,r.DYNAMIC_BODY),T},staticSprite:function(d,p,g,x){var T=new c(this.scene,d,p,g,x);return this.sys.displayList.add(T),this.sys.updateList.add(T),this.world.enableBody(T,r.STATIC_BODY),T},sprite:function(d,p,g,x){var T=new c(this.scene,d,p,g,x);return this.sys.displayList.add(T),this.sys.updateList.add(T),this.world.enableBody(T,r.DYNAMIC_BODY),T},staticGroup:function(d,p){return this.sys.updateList.add(new v(this.world,this.world.scene,d,p))},group:function(d,p){return this.sys.updateList.add(new o(this.world,this.world.scene,d,p))},body:function(d,p,g,x){var T=new s(this.world);return T.position.set(d,p),g&&x&&T.setSize(g,x),this.world.add(T,r.DYNAMIC_BODY),T},staticBody:function(d,p,g,x){var T=new l(this.world);return T.position.set(d,p),g&&x&&T.setSize(g,x),this.world.add(T,r.STATIC_BODY),T},destroy:function(){this.world=null,this.scene=null,this.sys=null}});h.exports=u},75671:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(47401),c=function(s,a,r,o){var l=0,v=s.deltaAbsX()+a.deltaAbsX()+o;return s._dx===0&&a._dx===0?(s.embedded=!0,a.embedded=!0):s._dx>a._dx?(l=s.right-a.x,l>v&&!r||s.checkCollision.right===!1||a.checkCollision.left===!1?l=0:(s.touching.none=!1,s.touching.right=!0,a.touching.none=!1,a.touching.left=!0,a.physicsType===f.STATIC_BODY&&!r&&(s.blocked.none=!1,s.blocked.right=!0),s.physicsType===f.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.left=!0))):s._dx<a._dx&&(l=s.x-a.width-a.x,-l>v&&!r||s.checkCollision.left===!1||a.checkCollision.right===!1?l=0:(s.touching.none=!1,s.touching.left=!0,a.touching.none=!1,a.touching.right=!0,a.physicsType===f.STATIC_BODY&&!r&&(s.blocked.none=!1,s.blocked.left=!0),s.physicsType===f.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.right=!0))),s.overlapX=l,a.overlapX=l,l};h.exports=c},66185:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(47401),c=function(s,a,r,o){var l=0,v=s.deltaAbsY()+a.deltaAbsY()+o;return s._dy===0&&a._dy===0?(s.embedded=!0,a.embedded=!0):s._dy>a._dy?(l=s.bottom-a.y,l>v&&!r||s.checkCollision.down===!1||a.checkCollision.up===!1?l=0:(s.touching.none=!1,s.touching.down=!0,a.touching.none=!1,a.touching.up=!0,a.physicsType===f.STATIC_BODY&&!r&&(s.blocked.none=!1,s.blocked.down=!0),s.physicsType===f.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.up=!0))):s._dy<a._dy&&(l=s.y-a.bottom,-l>v&&!r||s.checkCollision.up===!1||a.checkCollision.down===!1?l=0:(s.touching.none=!1,s.touching.up=!0,a.touching.none=!1,a.touching.down=!0,a.physicsType===f.STATIC_BODY&&!r&&(s.blocked.none=!1,s.blocked.up=!0),s.physicsType===f.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.down=!0))),s.overlapY=l,a.overlapY=l,l};h.exports=c},10481:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(25084),c=e(56694),s=e(47401),a=e(72632),r=e(59192),o=e(42911),l=new c({Extends:r,initialize:function(u,d,p,g){if(!p&&!g)g={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(o(p))g=p,p=null,g.internalCreateCallback=this.createCallbackHandler,g.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(p)&&o(p[0])){g=p[0];var x=this;p.forEach(function(T){T.internalCreateCallback=x.createCallbackHandler,T.internalRemoveCallback=x.removeCallbackHandler}),p=null}else g={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=u,g.classType=a(g,"classType",f),this.physicsType=s.DYNAMIC_BODY,this.defaults={setCollideWorldBounds:a(g,"collideWorldBounds",!1),setBoundsRectangle:a(g,"customBoundsRectangle",null),setAccelerationX:a(g,"accelerationX",0),setAccelerationY:a(g,"accelerationY",0),setAllowDrag:a(g,"allowDrag",!0),setAllowGravity:a(g,"allowGravity",!0),setAllowRotation:a(g,"allowRotation",!0),setDamping:a(g,"useDamping",!1),setBounceX:a(g,"bounceX",0),setBounceY:a(g,"bounceY",0),setDragX:a(g,"dragX",0),setDragY:a(g,"dragY",0),setEnable:a(g,"enable",!0),setGravityX:a(g,"gravityX",0),setGravityY:a(g,"gravityY",0),setFrictionX:a(g,"frictionX",0),setFrictionY:a(g,"frictionY",0),setMaxSpeed:a(g,"maxSpeed",-1),setMaxVelocityX:a(g,"maxVelocityX",1e4),setMaxVelocityY:a(g,"maxVelocityY",1e4),setVelocityX:a(g,"velocityX",0),setVelocityY:a(g,"velocityY",0),setAngularVelocity:a(g,"angularVelocity",0),setAngularAcceleration:a(g,"angularAcceleration",0),setAngularDrag:a(g,"angularDrag",0),setMass:a(g,"mass",1),setImmovable:a(g,"immovable",!1)},r.call(this,d,p,g),this.type="PhysicsGroup"},createCallbackHandler:function(v){v.body||this.world.enableBody(v,s.DYNAMIC_BODY);var u=v.body;for(var d in this.defaults)u[d](this.defaults[d])},removeCallbackHandler:function(v){v.body&&this.world.disableBody(v)},setVelocity:function(v,u,d){d===void 0&&(d=0);for(var p=this.getChildren(),g=0;g<p.length;g++)p[g].body.velocity.set(v+g*d,u+g*d);return this},setVelocityX:function(v,u){u===void 0&&(u=0);for(var d=this.getChildren(),p=0;p<d.length;p++)d[p].body.velocity.x=v+p*u;return this},setVelocityY:function(v,u){u===void 0&&(u=0);for(var d=this.getChildren(),p=0;p<d.length;p++)d[p].body.velocity.y=v+p*u;return this}});h.exports=l},22916:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y,e,f,c,s,a,r,o,l,v,u,d,p,g,x,T,S,P=function(L,F,I){y=L,e=F;var b=y.velocity.x,G=e.velocity.x;return f=y.pushable,l=y._dx<0,v=y._dx>0,u=y._dx===0,x=Math.abs(y.right-e.x)<=Math.abs(e.right-y.x),r=G-b*y.bounce.x,c=e.pushable,d=e._dx<0,p=e._dx>0,g=e._dx===0,T=!x,o=b-G*e.bounce.x,S=Math.abs(I),E()},E=function(){return v&&x&&e.blocked.right?(y.processX(-S,r,!1,!0),1):l&&T&&e.blocked.left?(y.processX(S,r,!0),1):p&&T&&y.blocked.right?(e.processX(-S,o,!1,!0),2):d&&x&&y.blocked.left?(e.processX(S,o,!0),2):0},R=function(){var L=y.velocity.x,F=e.velocity.x,I=Math.sqrt(F*F*e.mass/y.mass)*(F>0?1:-1),b=Math.sqrt(L*L*y.mass/e.mass)*(L>0?1:-1),G=(I+b)*.5;return I-=G,b-=G,s=G+I*y.bounce.x,a=G+b*e.bounce.x,l&&T?A(0):d&&x?A(1):v&&x?A(2):p&&T?A(3):!1},A=function(L){if(f&&c)S*=.5,L===0||L===3?(y.processX(S,s),e.processX(-S,a)):(y.processX(-S,s),e.processX(S,a));else if(f&&!c)L===0||L===3?y.processX(S,r,!0):y.processX(-S,r,!1,!0);else if(!f&&c)L===0||L===3?e.processX(-S,o,!1,!0):e.processX(S,o,!0);else{var F=S*.5;L===0?g?(y.processX(S,0,!0),e.processX(0,null,!1,!0)):p?(y.processX(F,0,!0),e.processX(-F,0,!1,!0)):(y.processX(F,e.velocity.x,!0),e.processX(-F,null,!1,!0)):L===1?u?(y.processX(0,null,!1,!0),e.processX(S,0,!0)):v?(y.processX(-F,0,!1,!0),e.processX(F,0,!0)):(y.processX(-F,null,!1,!0),e.processX(F,y.velocity.x,!0)):L===2?g?(y.processX(-S,0,!1,!0),e.processX(0,null,!0)):d?(y.processX(-F,0,!1,!0),e.processX(F,0,!0)):(y.processX(-F,e.velocity.x,!1,!0),e.processX(F,null,!0)):L===3&&(u?(y.processX(0,null,!0),e.processX(-S,0,!1,!0)):l?(y.processX(F,0,!0),e.processX(-F,0,!1,!0)):(y.processX(F,e.velocity.y,!0),e.processX(-F,null,!1,!0)))}return!0},w=function(L){L===1?e.velocity.x=0:x?e.processX(S,o,!0):e.processX(-S,o,!1,!0),y.moves&&(e.y+=(y.y-y.prev.y)*y.friction.y,e._dy=e.y-e.prev.y)},O=function(L){L===2?y.velocity.x=0:T?y.processX(S,r,!0):y.processX(-S,r,!1,!0),e.moves&&(y.y+=(e.y-e.prev.y)*e.friction.y,y._dy=y.y-y.prev.y)};h.exports={BlockCheck:E,Check:R,Set:P,Run:A,RunImmovableBody1:w,RunImmovableBody2:O}},67050:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y,e,f,c,s,a,r,o,l,v,u,d,p,g,x,T,S,P=function(L,F,I){y=L,e=F;var b=y.velocity.y,G=e.velocity.y;return f=y.pushable,l=y._dy<0,v=y._dy>0,u=y._dy===0,x=Math.abs(y.bottom-e.y)<=Math.abs(e.bottom-y.y),r=G-b*y.bounce.y,c=e.pushable,d=e._dy<0,p=e._dy>0,g=e._dy===0,T=!x,o=b-G*e.bounce.y,S=Math.abs(I),E()},E=function(){return v&&x&&e.blocked.down?(y.processY(-S,r,!1,!0),1):l&&T&&e.blocked.up?(y.processY(S,r,!0),1):p&&T&&y.blocked.down?(e.processY(-S,o,!1,!0),2):d&&x&&y.blocked.up?(e.processY(S,o,!0),2):0},R=function(){var L=y.velocity.y,F=e.velocity.y,I=Math.sqrt(F*F*e.mass/y.mass)*(F>0?1:-1),b=Math.sqrt(L*L*y.mass/e.mass)*(L>0?1:-1),G=(I+b)*.5;return I-=G,b-=G,s=G+I*y.bounce.y,a=G+b*e.bounce.y,l&&T?A(0):d&&x?A(1):v&&x?A(2):p&&T?A(3):!1},A=function(L){if(f&&c)S*=.5,L===0||L===3?(y.processY(S,s),e.processY(-S,a)):(y.processY(-S,s),e.processY(S,a));else if(f&&!c)L===0||L===3?y.processY(S,r,!0):y.processY(-S,r,!1,!0);else if(!f&&c)L===0||L===3?e.processY(-S,o,!1,!0):e.processY(S,o,!0);else{var F=S*.5;L===0?g?(y.processY(S,0,!0),e.processY(0,null,!1,!0)):p?(y.processY(F,0,!0),e.processY(-F,0,!1,!0)):(y.processY(F,e.velocity.y,!0),e.processY(-F,null,!1,!0)):L===1?u?(y.processY(0,null,!1,!0),e.processY(S,0,!0)):v?(y.processY(-F,0,!1,!0),e.processY(F,0,!0)):(y.processY(-F,null,!1,!0),e.processY(F,y.velocity.y,!0)):L===2?g?(y.processY(-S,0,!1,!0),e.processY(0,null,!0)):d?(y.processY(-F,0,!1,!0),e.processY(F,0,!0)):(y.processY(-F,e.velocity.y,!1,!0),e.processY(F,null,!0)):L===3&&(u?(y.processY(0,null,!0),e.processY(-S,0,!1,!0)):l?(y.processY(F,0,!0),e.processY(-F,0,!1,!0)):(y.processY(F,e.velocity.y,!0),e.processY(-F,null,!1,!0)))}return!0},w=function(L){L===1?e.velocity.y=0:x?e.processY(S,o,!0):e.processY(-S,o,!1,!0),y.moves&&(e.x+=(y.x-y.prev.x)*y.friction.x,e._dx=e.x-e.prev.x)},O=function(L){L===2?y.velocity.y=0:T?y.processY(S,r,!0):y.processY(-S,r,!1,!0),e.moves&&(y.x+=(e.x-e.prev.x)*e.friction.x,y._dx=y.x-y.prev.x)};h.exports={BlockCheck:E,Check:R,Set:P,Run:A,RunImmovableBody1:w,RunImmovableBody2:O}},61777:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(75671),c=e(22916),s=function(a,r,o,l,v){v===void 0&&(v=f(a,r,o,l));var u=a.immovable,d=r.immovable;if(o||v===0||u&&d||a.customSeparateX||r.customSeparateX)return v!==0||a.embedded&&r.embedded;var p=c.Set(a,r,v);return!u&&!d?p>0?!0:c.Check():(u?c.RunImmovableBody1(p):d&&c.RunImmovableBody2(p),!0)};h.exports=s},25299:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(66185),c=e(67050),s=function(a,r,o,l,v){v===void 0&&(v=f(a,r,o,l));var u=a.immovable,d=r.immovable;if(o||v===0||u&&d||a.customSeparateY||r.customSeparateY)return v!==0||a.embedded&&r.embedded;var p=c.Set(a,r,v);return!u&&!d?p>0?!0:c.Check():(u?c.RunImmovableBody1(p):d&&c.RunImmovableBody2(p),!0)};h.exports=s},66634:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(65650),c=e(56694),s=e(47401),a=e(94287),r=e(93736),o=new c({initialize:function(v,u){var d=64,p=64,g={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},x=u!==void 0;x&&u.displayWidth&&(d=u.displayWidth,p=u.displayHeight),x||(u=g),this.world=v,this.gameObject=x?u:void 0,this.isBody=!0,this.debugShowBody=v.defaults.debugShowStaticBody,this.debugBodyColor=v.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new r,this.position=new r(u.x-d*u.originX,u.y-p*u.originY),this.width=d,this.height=p,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new r(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=r.ZERO,this.allowGravity=!1,this.gravity=r.ZERO,this.bounce=r.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.physicsType=s.STATIC_BODY,this._dx=0,this._dy=0},setGameObject:function(l,v){return l&&l!==this.gameObject&&(this.gameObject.body=null,l.body=this,this.gameObject=l),v&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var l=this.gameObject;return l.getTopLeft(this.position),this.width=l.displayWidth,this.height=l.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(l,v){return v===void 0&&(v=l),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(l,v),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(l,v,u){u===void 0&&(u=!0);var d=this.gameObject;if(!l&&d.frame&&(l=d.frame.realWidth),!v&&d.frame&&(v=d.frame.realHeight),this.world.staticTree.remove(this),this.width=l,this.height=v,this.halfWidth=Math.floor(l/2),this.halfHeight=Math.floor(v/2),u&&d.getCenter){var p=d.displayWidth/2,g=d.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(p-this.halfWidth,g-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(l,v,u){return v===void 0&&(v=this.offset.x),u===void 0&&(u=this.offset.y),l>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=l,this.width=l*2,this.height=l*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(v,u),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(l,v){var u=this.gameObject;l===void 0&&(l=u.x),v===void 0&&(v=u.y),this.world.staticTree.remove(this),u.setPosition(l,v),u.getTopLeft(this.position),this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(l){return l.x=this.x,l.y=this.y,l.right=this.right,l.bottom=this.bottom,l},hitTest:function(l,v){return this.isCircle?f(this,l,v):a(this,l,v)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(l){var v=this.position,u=v.x+this.halfWidth,d=v.y+this.halfHeight;this.debugShowBody&&(l.lineStyle(l.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?l.strokeCircle(u,d,this.width/2):l.strokeRect(v.x,v.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(l){return l<=0&&(l=.1),this.mass=l,this},x:{get:function(){return this.position.x},set:function(l){this.world.staticTree.remove(this),this.position.x=l,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(l){this.world.staticTree.remove(this),this.position.y=l,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});h.exports=o},46346:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(25084),c=e(56694),s=e(47401),a=e(72632),r=e(59192),o=e(42911),l=new c({Extends:r,initialize:function(u,d,p,g){!p&&!g?g={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:f}:o(p)?(g=p,p=null,g.internalCreateCallback=this.createCallbackHandler,g.internalRemoveCallback=this.removeCallbackHandler,g.createMultipleCallback=this.createMultipleCallbackHandler,g.classType=a(g,"classType",f)):Array.isArray(p)&&o(p[0])?(g=p,p=null,g.forEach(function(x){x.internalCreateCallback=this.createCallbackHandler,x.internalRemoveCallback=this.removeCallbackHandler,x.createMultipleCallback=this.createMultipleCallbackHandler,x.classType=a(x,"classType",f)})):g={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=u,this.physicsType=s.STATIC_BODY,r.call(this,d,p,g),this.type="StaticPhysicsGroup"},createCallbackHandler:function(v){v.body||this.world.enableBody(v,s.STATIC_BODY)},removeCallbackHandler:function(v){v.body&&this.world.disableBody(v)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var v=this.children.entries,u=0;u<v.length;u++)v[u].body.reset();return this}});h.exports=l},85233:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(94240),c=e(97602),s=e(82897),a=e(56694),r=e(3909),o=e(47401),l=e(53996),v=e(92951),u=e(6659),d=e(27037),p=e(88456),g=e(41935),x=e(54726),T=e(75671),S=e(66185),P=e(44662),E=e(10850),R=e(83392),A=e(74623),w=e(25163),O=e(74118),L=e(68687),F=e(27354),I=e(61777),b=e(25299),G=e(58403),N=e(66634),U=e(28808),Y=e(69360),X=e(93736),B=e(1071),z=new a({Extends:u,initialize:function(V,k){u.call(this),this.scene=V,this.bodies=new G,this.staticBodies=new G,this.pendingDestroy=new G,this.colliders=new A,this.gravity=new X(E(k,"gravity.x",0),E(k,"gravity.y",0)),this.bounds=new O(E(k,"x",0),E(k,"y",0),E(k,"width",V.sys.scale.width),E(k,"height",V.sys.scale.height)),this.checkCollision={up:E(k,"checkCollision.up",!0),down:E(k,"checkCollision.down",!0),left:E(k,"checkCollision.left",!0),right:E(k,"checkCollision.right",!0)},this.fps=E(k,"fps",60),this.fixedStep=E(k,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=E(k,"timeScale",1),this.OVERLAP_BIAS=E(k,"overlapBias",4),this.TILE_BIAS=E(k,"tileBias",16),this.forceX=E(k,"forceX",!1),this.isPaused=E(k,"isPaused",!1),this._total=0,this.drawDebug=E(k,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:E(k,"debugShowBody",!0),debugShowStaticBody:E(k,"debugShowStaticBody",!0),debugShowVelocity:E(k,"debugShowVelocity",!0),bodyDebugColor:E(k,"debugBodyColor",16711935),staticBodyDebugColor:E(k,"debugStaticBodyColor",255),velocityDebugColor:E(k,"debugVelocityColor",65280)},this.maxEntries=E(k,"maxEntries",16),this.useTree=E(k,"useTree",!0),this.tree=new L(this.maxEntries),this.staticTree=new L(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new Y,this._tempMatrix2=new Y,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(D,V){V===void 0&&(V=o.DYNAMIC_BODY),Array.isArray(D)||(D=[D]);for(var k=0;k<D.length;k++){var W=D[k];if(W.isParent)for(var H=W.getChildren(),$=0;$<H.length;$++){var K=H[$];K.isParent?this.enable(K,V):this.enableBody(K,V)}else this.enableBody(W,V)}},enableBody:function(D,V){return V===void 0&&(V=o.DYNAMIC_BODY),D.hasTransformComponent&&(D.body||(V===o.DYNAMIC_BODY?D.body=new c(this,D):V===o.STATIC_BODY&&(D.body=new N(this,D))),this.add(D.body)),D},add:function(D){return D.physicsType===o.DYNAMIC_BODY?this.bodies.set(D):D.physicsType===o.STATIC_BODY&&(this.staticBodies.set(D),this.staticTree.insert(D)),D.enable=!0,D},disable:function(D){Array.isArray(D)||(D=[D]);for(var V=0;V<D.length;V++){var k=D[V];if(k.isParent)for(var W=k.getChildren(),H=0;H<W.length;H++){var $=W[H];$.isParent?this.disable($):this.disableBody($.body)}else this.disableBody(k.body)}},disableBody:function(D){this.remove(D),D.enable=!1},remove:function(D){D.physicsType===o.DYNAMIC_BODY?(this.tree.remove(D),this.bodies.delete(D)):D.physicsType===o.STATIC_BODY&&(this.staticBodies.delete(D),this.staticTree.remove(D))},createDebugGraphic:function(){var D=this.scene.sys.add.graphics({x:0,y:0});return D.setDepth(Number.MAX_VALUE),this.debugGraphic=D,this.drawDebug=!0,D},setBounds:function(D,V,k,W,H,$,K,j){return this.bounds.setTo(D,V,k,W),H!==void 0&&this.setBoundsCollision(H,$,K,j),this},setBoundsCollision:function(D,V,k,W){return D===void 0&&(D=!0),V===void 0&&(V=!0),k===void 0&&(k=!0),W===void 0&&(W=!0),this.checkCollision.left=D,this.checkCollision.right=V,this.checkCollision.up=k,this.checkCollision.down=W,this},pause:function(){return this.isPaused=!0,this.emit(d.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(d.RESUME),this},addCollider:function(D,V,k,W,H){k===void 0&&(k=null),W===void 0&&(W=null),H===void 0&&(H=k);var $=new r(this,!1,D,V,k,W,H);return this.colliders.add($),$},addOverlap:function(D,V,k,W,H){k===void 0&&(k=null),W===void 0&&(W=null),H===void 0&&(H=k);var $=new r(this,!0,D,V,k,W,H);return this.colliders.add($),$},removeCollider:function(D){return this.colliders.remove(D),this},setFPS:function(D){return this.fps=D,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(D,V){if(!(this.isPaused||this.bodies.size===0)){var k,W=this._frameTime,H=this._frameTimeMS*this.timeScale;this._elapsed+=V;var $,K=this.bodies.entries,j=this._elapsed>=H;for(this.fixedStep||(W=V*.001,j=!0,this._elapsed=0),k=0;k<K.length;k++)$=K[k],$.enable&&$.preUpdate(j,W);if(j){this._elapsed-=H,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(K));var Z=this.colliders.update();for(k=0;k<Z.length;k++){var J=Z[k];J.active&&J.update()}this.emit(d.WORLD_STEP,W)}for(;this._elapsed>=H;)this._elapsed-=H,this.step(W)}},step:function(D){var V,k,W=this.bodies.entries,H=W.length;for(V=0;V<H;V++)k=W[V],k.enable&&k.update(D);this.useTree&&(this.tree.clear(),this.tree.load(W));var $=this.colliders.update();for(V=0;V<$.length;V++){var K=$[V];K.active&&K.update()}this.emit(d.WORLD_STEP,D),this.stepsLastFrame++},postUpdate:function(){var D,V,k=this.bodies.entries,W=k.length,H=this.bodies,$=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,D=0;D<W;D++)V=k[D],V.enable&&V.postUpdate();if(this.drawDebug){var K=this.debugGraphic;for(K.clear(),D=0;D<W;D++)V=k[D],V.willDrawDebug()&&V.drawDebug(K);for(k=$.entries,W=k.length,D=0;D<W;D++)V=k[D],V.willDrawDebug()&&V.drawDebug(K)}var j=this.pendingDestroy;if(j.size>0){var Z=this.tree,J=this.staticTree;for(k=j.entries,W=k.length,D=0;D<W;D++)V=k[D],V.physicsType===o.DYNAMIC_BODY?(Z.remove(V),H.delete(V)):V.physicsType===o.STATIC_BODY&&(J.remove(V),$.delete(V)),V.world=void 0,V.gameObject=void 0;j.clear()}},updateMotion:function(D,V){D.allowRotation&&this.computeAngularVelocity(D,V),this.computeVelocity(D,V)},computeAngularVelocity:function(D,V){var k=D.angularVelocity,W=D.angularAcceleration,H=D.angularDrag,$=D.maxAngular;W?k+=W*V:D.allowDrag&&H&&(H*=V,g(k-H,0,.1)?k-=H:x(k+H,0,.1)?k+=H:k=0),k=s(k,-$,$);var K=k-D.angularVelocity;D.angularVelocity+=K,D.rotation+=D.angularVelocity*V},computeVelocity:function(D,V){var k=D.velocity.x,W=D.acceleration.x,H=D.drag.x,$=D.maxVelocity.x,K=D.velocity.y,j=D.acceleration.y,Z=D.drag.y,J=D.maxVelocity.y,Q=D.speed,q=D.maxSpeed,_=D.allowDrag,et=D.useDamping;D.allowGravity&&(k+=(this.gravity.x+D.gravity.x)*V,K+=(this.gravity.y+D.gravity.y)*V),W?k+=W*V:_&&H&&(et?(H=Math.pow(H,V),k*=H,Q=Math.sqrt(k*k+K*K),p(Q,0,.001)&&(k=0)):(H*=V,g(k-H,0,.01)?k-=H:x(k+H,0,.01)?k+=H:k=0)),j?K+=j*V:_&&Z&&(et?(Z=Math.pow(Z,V),K*=Z,Q=Math.sqrt(k*k+K*K),p(Q,0,.001)&&(K=0)):(Z*=V,g(K-Z,0,.01)?K-=Z:x(K+Z,0,.01)?K+=Z:K=0)),k=s(k,-$,$),K=s(K,-J,J),D.velocity.set(k,K),q>-1&&D.velocity.length()>q&&(D.velocity.normalize().scale(q),Q=q),D.speed=Q},separate:function(D,V,k,W,H){var $,K,j=!1,Z=!0;if(!D.enable||!V.enable||D.checkCollision.none||V.checkCollision.none||!this.intersects(D,V)||k&&k.call(W,D.gameObject,V.gameObject)===!1)return j;if(D.isCircle||V.isCircle){var J=this.separateCircle(D,V,H);J.result?(j=!0,Z=!1):($=J.x,K=J.y,Z=!0)}if(Z){var Q=!1,q=!1,_=this.OVERLAP_BIAS;H?(Q=I(D,V,H,_,$),q=b(D,V,H,_,K)):this.forceX||Math.abs(this.gravity.y+D.gravity.y)<Math.abs(this.gravity.x+D.gravity.x)?(Q=I(D,V,H,_,$),this.intersects(D,V)&&(q=b(D,V,H,_,K))):(q=b(D,V,H,_,K),this.intersects(D,V)&&(Q=I(D,V,H,_,$))),j=Q||q}return j&&(H?(D.onOverlap||V.onOverlap)&&this.emit(d.OVERLAP,D.gameObject,V.gameObject,D,V):(D.onCollide||V.onCollide)&&this.emit(d.COLLIDE,D.gameObject,V.gameObject,D,V)),j},separateCircle:function(D,V,k){T(D,V,!1,0),S(D,V,!1,0);var W=D.isCircle,H=V.isCircle,$=D.center,K=V.center,j=D.immovable,Z=V.immovable,J=D.velocity,Q=V.velocity,q=0,_=!0;if(W!==H){_=!1;var et=$.x,st=$.y,it=D.halfWidth,lt=V.position.x,tt=V.position.y,ht=V.right,rt=V.bottom;H&&(et=K.x,st=K.y,it=V.halfWidth,lt=D.position.x,tt=D.position.y,ht=D.right,rt=D.bottom),st<tt?et<lt?q=l(et,st,lt,tt)-it:et>ht&&(q=l(et,st,ht,tt)-it):st>rt&&(et<lt?q=l(et,st,lt,rt)-it:et>ht&&(q=l(et,st,ht,rt)-it)),q*=-1}else q=D.halfWidth+V.halfWidth-v($,K);D.overlapR=q,V.overlapR=q;var ft=f($,K),ct=(q+R.EPSILON)*Math.cos(ft),yt=(q+R.EPSILON)*Math.sin(ft),mt={overlap:q,result:!1,x:ct,y:yt};if(k&&(!_||_&&q!==0))return mt.result=!0,mt;if(!_&&q===0||j&&Z||D.customSeparateX||V.customSeparateX)return mt.x=void 0,mt.y=void 0,mt;var dt=!D.pushable&&!V.pushable;if(_){var gt=$.x-K.x,St=$.y-K.y,Vt=Math.sqrt(Math.pow(gt,2)+Math.pow(St,2)),It=(K.x-$.x)/Vt||0,zt=(K.y-$.y)/Vt||0,kt=2*(J.x*It+J.y*zt-Q.x*It-Q.y*zt)/(D.mass+V.mass);(j||Z)&&(kt*=2),j||(J.x=J.x-kt/D.mass*It,J.y=J.y-kt/D.mass*zt,J.multiply(D.bounce)),Z||(Q.x=Q.x+kt/V.mass*It,Q.y=Q.y+kt/V.mass*zt,Q.multiply(V.bounce)),!j&&!Z&&(ct*=.5,yt*=.5),j||(D.x-=ct,D.y-=yt,D.updateCenter()),Z||(V.x+=ct,V.y+=yt,V.updateCenter()),mt.result=!0}else!j||D.pushable||dt?(D.x-=ct,D.y-=yt,D.updateCenter()):(!Z||V.pushable||dt)&&(V.x+=ct,V.y+=yt,V.updateCenter()),mt.x=void 0,mt.y=void 0;return mt},intersects:function(D,V){return D===V?!1:!D.isCircle&&!V.isCircle?!(D.right<=V.left||D.bottom<=V.top||D.left>=V.right||D.top>=V.bottom):D.isCircle?V.isCircle?v(D.center,V.center)<=D.halfWidth+V.halfWidth:this.circleBodyIntersects(D,V):this.circleBodyIntersects(V,D)},circleBodyIntersects:function(D,V){var k=s(D.center.x,V.left,V.right),W=s(D.center.y,V.top,V.bottom),H=(D.center.x-k)*(D.center.x-k),$=(D.center.y-W)*(D.center.y-W);return H+$<=D.halfWidth*D.halfWidth},overlap:function(D,V,k,W,H){return k===void 0&&(k=null),W===void 0&&(W=null),H===void 0&&(H=k),this.collideObjects(D,V,k,W,H,!0)},collide:function(D,V,k,W,H){return k===void 0&&(k=null),W===void 0&&(W=null),H===void 0&&(H=k),this.collideObjects(D,V,k,W,H,!1)},collideObjects:function(D,V,k,W,H,$){var K,j;D.isParent&&(D.physicsType===void 0||V===void 0||D===V)&&(D=D.children.entries),V&&V.isParent&&V.physicsType===void 0&&(V=V.children.entries);var Z=Array.isArray(D),J=Array.isArray(V);if(this._total=0,!Z&&!J)this.collideHandler(D,V,k,W,H,$);else if(!Z&&J)for(K=0;K<V.length;K++)this.collideHandler(D,V[K],k,W,H,$);else if(Z&&!J)if(V)for(K=0;K<D.length;K++)this.collideHandler(D[K],V,k,W,H,$);else for(K=0;K<D.length;K++){var Q=D[K];for(j=K+1;j<D.length;j++)K!==j&&this.collideHandler(Q,D[j],k,W,H,$)}else for(K=0;K<D.length;K++)for(j=0;j<V.length;j++)this.collideHandler(D[K],V[j],k,W,H,$);return this._total>0},collideHandler:function(D,V,k,W,H,$){if(V===void 0&&D.isParent)return this.collideGroupVsGroup(D,D,k,W,H,$);if(!D||!V)return!1;if(D.body||D.isBody){if(V.body||V.isBody)return this.collideSpriteVsSprite(D,V,k,W,H,$);if(V.isParent)return this.collideSpriteVsGroup(D,V,k,W,H,$);if(V.isTilemap)return this.collideSpriteVsTilemapLayer(D,V,k,W,H,$)}else if(D.isParent){if(V.body||V.isBody)return this.collideSpriteVsGroup(V,D,k,W,H,$);if(V.isParent)return this.collideGroupVsGroup(D,V,k,W,H,$);if(V.isTilemap)return this.collideGroupVsTilemapLayer(D,V,k,W,H,$)}else if(D.isTilemap){if(V.body||V.isBody)return this.collideSpriteVsTilemapLayer(V,D,k,W,H,$);if(V.isParent)return this.collideGroupVsTilemapLayer(V,D,k,W,H,$)}},collideSpriteVsSprite:function(D,V,k,W,H,$){var K=D.isBody?D:D.body,j=V.isBody?V:V.body;return!K||!j?!1:(this.separate(K,j,W,H,$)&&(k&&k.call(H,D,V),this._total++),!0)},collideSpriteVsGroup:function(D,V,k,W,H,$){var K=D.isBody?D:D.body;if(!(V.length===0||!K||!K.enable||K.checkCollision.none)){var j,Z,J;if(this.useTree||V.physicsType===o.STATIC_BODY){var Q=this.treeMinMax;Q.minX=K.left,Q.minY=K.top,Q.maxX=K.right,Q.maxY=K.bottom;var q=V.physicsType===o.DYNAMIC_BODY?this.tree.search(Q):this.staticTree.search(Q);for(Z=q.length,j=0;j<Z;j++)J=q[j],!(K===J||!J.enable||J.checkCollision.none||!V.contains(J.gameObject))&&this.separate(K,J,W,H,$)&&(k&&k.call(H,K.gameObject,J.gameObject),this._total++)}else{var _=V.getChildren(),et=V.children.entries.indexOf(D);for(Z=_.length,j=0;j<Z;j++)J=_[j].body,!(!J||j===et||!J.enable)&&this.separate(K,J,W,H,$)&&(k&&k.call(H,K.gameObject,J.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(D,V,k,W,H,$){var K=D.getChildren();if(K.length===0)return!1;for(var j=!1,Z=0;Z<K.length;Z++)(K[Z].body||K[Z].isBody)&&this.collideSpriteVsTilemapLayer(K[Z],V,k,W,H,$)&&(j=!0);return j},collideTiles:function(D,V,k,W,H){return V.length===0||D.body&&!D.body.enable||D.isBody&&!D.enable?!1:this.collideSpriteVsTilesHandler(D,V,k,W,H,!1,!1)},overlapTiles:function(D,V,k,W,H){return V.length===0||D.body&&!D.body.enable||D.isBody&&!D.enable?!1:this.collideSpriteVsTilesHandler(D,V,k,W,H,!0,!1)},collideSpriteVsTilemapLayer:function(D,V,k,W,H,$){var K=D.isBody?D:D.body;if(!K.enable||K.checkCollision.none)return!1;var j=K.x,Z=K.y,J=K.width,Q=K.height,q=V.layer;if(q.tileWidth>q.baseTileWidth){var _=(q.tileWidth-q.baseTileWidth)*V.scaleX;j-=_,J+=_}if(q.tileHeight>q.baseTileHeight){var et=(q.tileHeight-q.baseTileHeight)*V.scaleY;Q+=et}var st=$?null:this.tileFilterOptions,it=P(j,Z,J,Q,st,V.scene.cameras.main,V.layer);return it.length===0?!1:this.collideSpriteVsTilesHandler(D,it,k,W,H,$,!0)},collideSpriteVsTilesHandler:function(D,V,k,W,H,$,K){for(var j=D.isBody?D:D.body,Z,J={left:0,right:0,top:0,bottom:0},Q,q=!1,_=0;_<V.length;_++){Z=V[_],Q=Z.tilemapLayer;var et=Q.tileToWorldXY(Z.x,Z.y);J.left=et.x,J.top=et.y,Z.baseHeight!==Z.height&&(J.top-=(Z.height-Z.baseHeight)*Q.scaleY),J.right=J.left+Z.width*Q.scaleX,J.bottom=J.top+Z.height*Q.scaleY,U(J,j)&&(!W||W.call(H,D,Z))&&w(Z,D)&&($||F(_,j,Z,J,Q,this.TILE_BIAS,K))&&(this._total++,q=!0,k&&k.call(H,D,Z),$&&j.onOverlap?this.emit(d.TILE_OVERLAP,D,Z,j):j.onCollide&&this.emit(d.TILE_COLLIDE,D,Z,j))}return q},collideGroupVsGroup:function(D,V,k,W,H,$){if(!(D.length===0||V.length===0))for(var K=D.getChildren(),j=0;j<K.length;j++)this.collideSpriteVsGroup(K[j],V,k,W,H,$)},wrap:function(D,V){D.body?this.wrapObject(D,V):D.getChildren?this.wrapArray(D.getChildren(),V):Array.isArray(D)?this.wrapArray(D,V):this.wrapObject(D,V)},wrapArray:function(D,V){for(var k=0;k<D.length;k++)this.wrapObject(D[k],V)},wrapObject:function(D,V){V===void 0&&(V=0),D.x=B(D.x,this.bounds.left-V,this.bounds.right+V),D.y=B(D.y,this.bounds.top-V,this.bounds.bottom+V)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});h.exports=z},5321:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setAcceleration:function(e,f){return this.body.acceleration.set(e,f),this},setAccelerationX:function(e){return this.body.acceleration.x=e,this},setAccelerationY:function(e){return this.body.acceleration.y=e,this}};h.exports=y},29257:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setAngularVelocity:function(e){return this.body.angularVelocity=e,this},setAngularAcceleration:function(e){return this.body.angularAcceleration=e,this},setAngularDrag:function(e){return this.body.angularDrag=e,this}};h.exports=y},62122:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setBounce:function(e,f){return this.body.bounce.set(e,f),this},setBounceX:function(e){return this.body.bounce.x=e,this},setBounceY:function(e){return this.body.bounce.y=e,this},setCollideWorldBounds:function(e,f,c,s){return this.body.setCollideWorldBounds(e,f,c,s),this}};h.exports=y},99803:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setDebug:function(e,f,c){return this.debugShowBody=e,this.debugShowVelocity=f,this.debugBodyColor=c,this},setDebugBodyColor:function(e){return this.body.debugBodyColor=e,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(e){this.body.debugShowBody=e}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(e){this.body.debugShowVelocity=e}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(e){this.body.debugBodyColor=e}}};h.exports=y},87145:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setDrag:function(e,f){return this.body.drag.set(e,f),this},setDragX:function(e){return this.body.drag.x=e,this},setDragY:function(e){return this.body.drag.y=e,this},setDamping:function(e){return this.body.useDamping=e,this}};h.exports=y},96174:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={enableBody:function(e,f,c,s,a){return e&&this.body.reset(f,c),s&&(this.body.gameObject.active=!0),a&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(e,f){return e===void 0&&(e=!1),f===void 0&&(f=!1),this.body.stop(),this.body.enable=!1,e&&(this.body.gameObject.active=!1),f&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};h.exports=y},51702:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setFriction:function(e,f){return this.body.friction.set(e,f),this},setFrictionX:function(e){return this.body.friction.x=e,this},setFrictionY:function(e){return this.body.friction.y=e,this}};h.exports=y},25578:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setGravity:function(e,f){return this.body.gravity.set(e,f),this},setGravityX:function(e){return this.body.gravity.x=e,this},setGravityY:function(e){return this.body.gravity.y=e,this}};h.exports=y},72029:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setImmovable:function(e){return e===void 0&&(e=!0),this.body.immovable=e,this}};h.exports=y},34566:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setMass:function(e){return this.body.mass=e,this}};h.exports=y},2732:(h,y,e)=>{var f=e(15147),c=e(26673),s=e(22184),a=e(26535),r=function(o,l,v,u,d,p){var g=f(o,l-u,v-u,2*u,2*u,d,p);if(g.length===0)return g;for(var x=new c(l,v,u),T=new c,S=[],P=0;P<g.length;P++){var E=g[P];E.isCircle?(T.setTo(E.center.x,E.center.y,E.halfWidth),s(x,T)&&S.push(E)):a(x,E)&&S.push(E)}return S};h.exports=r},15147:h=>{var y=function(e,f,c,s,a,r,o){r===void 0&&(r=!0),o===void 0&&(o=!1);var l=[],v=[],u=e.treeMinMax;if(u.minX=f,u.minY=c,u.maxX=f+s,u.maxY=c+a,o&&(v=e.staticTree.search(u)),r&&e.useTree)l=e.tree.search(u);else if(r){var d=e.bodies,p={position:{x:f,y:c},left:f,top:c,right:f+s,bottom:c+a,isCircle:!1},g=e.intersects;d.iterate(function(x){g(x,p)&&l.push(x)})}return v.concat(l)};h.exports=y},57527:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setPushable:function(e){return e===void 0&&(e=!0),this.body.pushable=e,this}};h.exports=y},77687:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setOffset:function(e,f){return this.body.setOffset(e,f),this},setSize:function(e,f,c){return this.body.setSize(e,f,c),this},setBodySize:function(e,f,c){return this.body.setSize(e,f,c),this},setCircle:function(e,f,c){return this.body.setCircle(e,f,c),this}};h.exports=y},66536:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setVelocity:function(e,f){return this.body.setVelocity(e,f),this},setVelocityX:function(e){return this.body.setVelocityX(e),this},setVelocityY:function(e){return this.body.setVelocityY(e),this},setMaxVelocity:function(e,f){return this.body.maxVelocity.set(e,f),this}};h.exports=y},7864:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Acceleration:e(5321),Angular:e(29257),Bounce:e(62122),Debug:e(99803),Drag:e(87145),Enable:e(96174),Friction:e(51702),Gravity:e(25578),Immovable:e(72029),Mass:e(34566),OverlapCirc:e(2732),OverlapRect:e(15147),Pushable:e(57527),Size:e(77687),Velocity:e(66536)}},47401:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};h.exports=y},22346:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="collide"},95092:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="overlap"},15775:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pause"},74142:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="resume"},22825:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="tilecollide"},10851:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="tileoverlap"},7543:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="worldbounds"},1487:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="worldstep"},27037:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={COLLIDE:e(22346),OVERLAP:e(95092),PAUSE:e(15775),RESUME:e(74142),TILE_COLLIDE:e(22825),TILE_OVERLAP:e(10851),WORLD_BOUNDS:e(7543),WORLD_STEP:e(1487)}},39977:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(47401),c=e(98611),s={ArcadePhysics:e(66150),Body:e(97602),Collider:e(3909),Components:e(7864),Events:e(27037),Factory:e(99523),GetOverlapX:e(75671),GetOverlapY:e(66185),SeparateX:e(61777),SeparateY:e(25299),Group:e(10481),Image:e(62832),Sprite:e(25084),StaticBody:e(66634),StaticGroup:e(46346),Tilemap:e(8413),World:e(85233)};s=c(!1,s,f),h.exports=s},25163:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e.collisionCallback?!e.collisionCallback.call(e.collisionCallbackContext,f,e):e.layer.callbacks[e.index]?!e.layer.callbacks[e.index].callback.call(e.layer.callbacks[e.index].callbackContext,f,e):!0};h.exports=y},98209:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){f<0?(e.blocked.none=!1,e.blocked.left=!0):f>0&&(e.blocked.none=!1,e.blocked.right=!0),e.position.x-=f,e.updateCenter(),e.bounce.x===0?e.velocity.x=0:e.velocity.x=-e.velocity.x*e.bounce.x};h.exports=y},72792:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){f<0?(e.blocked.none=!1,e.blocked.up=!0):f>0&&(e.blocked.none=!1,e.blocked.down=!0),e.position.y-=f,e.updateCenter(),e.bounce.y===0?e.velocity.y=0:e.velocity.y=-e.velocity.y*e.bounce.y};h.exports=y},27354:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(14405),c=e(52926),s=e(28808),a=function(r,o,l,v,u,d,p){var g=v.left,x=v.top,T=v.right,S=v.bottom,P=l.faceLeft||l.faceRight,E=l.faceTop||l.faceBottom;if(p||(P=!0,E=!0),!P&&!E)return!1;var R=0,A=0,w=0,O=1;if(o.deltaAbsX()>o.deltaAbsY()?w=-1:o.deltaAbsX()<o.deltaAbsY()&&(O=-1),o.deltaX()!==0&&o.deltaY()!==0&&P&&E&&(w=Math.min(Math.abs(o.position.x-T),Math.abs(o.right-g)),O=Math.min(Math.abs(o.position.y-S),Math.abs(o.bottom-x))),w<O){if(P&&(R=f(o,l,g,T,d,p),R!==0&&!s(v,o)))return!0;E&&(A=c(o,l,x,S,d,p))}else{if(E&&(A=c(o,l,x,S,d,p),A!==0&&!s(v,o)))return!0;P&&(R=f(o,l,g,T,d,p))}return R!==0||A!==0};h.exports=a},14405:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(98209),c=function(s,a,r,o,l,v){var u=0,d=a.faceLeft,p=a.faceRight,g=a.collideLeft,x=a.collideRight;return v||(d=!0,p=!0,g=!0,x=!0),s.deltaX()<0&&x&&s.checkCollision.left?p&&s.x<o&&(u=s.x-o,u<-l&&(u=0)):s.deltaX()>0&&g&&s.checkCollision.right&&d&&s.right>r&&(u=s.right-r,u>l&&(u=0)),u!==0&&(s.customSeparateX?s.overlapX=u:f(s,u)),u};h.exports=c},52926:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72792),c=function(s,a,r,o,l,v){var u=0,d=a.faceTop,p=a.faceBottom,g=a.collideUp,x=a.collideDown;return v||(d=!0,p=!0,g=!0,x=!0),s.deltaY()<0&&x&&s.checkCollision.up?p&&s.y<o&&(u=s.y-o,u<-l&&(u=0)):s.deltaY()>0&&g&&s.checkCollision.down&&d&&s.bottom>r&&(u=s.bottom-r,u>l&&(u=0)),u!==0&&(s.customSeparateY?s.overlapY=u:f(s,u)),u};h.exports=c},28808:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return!(f.right<=e.left||f.bottom<=e.top||f.position.x>=e.right||f.position.y>=e.bottom)};h.exports=y},8413:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={ProcessTileCallbacks:e(25163),ProcessTileSeparationX:e(98209),ProcessTileSeparationY:e(72792),SeparateTile:e(27354),TileCheckX:e(14405),TileCheckY:e(52926),TileIntersectsBody:e(28808)};h.exports=f},53954:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Arcade:e(39977),Matter:e(45949)}},63568:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(93736),s=new f({initialize:function(){this.boundsCenter=new c,this.centerDiff=new c},parseBody:function(a){if(a=a.hasOwnProperty("body")?a.body:a,!a.hasOwnProperty("bounds")||!a.hasOwnProperty("centerOfMass"))return!1;var r=this.boundsCenter,o=this.centerDiff,l=a.bounds.max.x-a.bounds.min.x,v=a.bounds.max.y-a.bounds.min.y,u=l*a.centerOfMass.x,d=v*a.centerOfMass.y;return r.set(l/2,v/2),o.set(u-r.x,d-r.y),!0},getTopLeft:function(a,r,o){if(r===void 0&&(r=0),o===void 0&&(o=0),this.parseBody(a)){var l=this.boundsCenter,v=this.centerDiff;return new c(r+l.x+v.x,o+l.y+v.y)}return!1},getTopCenter:function(a,r,o){if(r===void 0&&(r=0),o===void 0&&(o=0),this.parseBody(a)){var l=this.boundsCenter,v=this.centerDiff;return new c(r+v.x,o+l.y+v.y)}return!1},getTopRight:function(a,r,o){if(r===void 0&&(r=0),o===void 0&&(o=0),this.parseBody(a)){var l=this.boundsCenter,v=this.centerDiff;return new c(r-(l.x-v.x),o+l.y+v.y)}return!1},getLeftCenter:function(a,r,o){if(r===void 0&&(r=0),o===void 0&&(o=0),this.parseBody(a)){var l=this.boundsCenter,v=this.centerDiff;return new c(r+l.x+v.x,o+v.y)}return!1},getCenter:function(a,r,o){if(r===void 0&&(r=0),o===void 0&&(o=0),this.parseBody(a)){var l=this.centerDiff;return new c(r+l.x,o+l.y)}return!1},getRightCenter:function(a,r,o){if(r===void 0&&(r=0),o===void 0&&(o=0),this.parseBody(a)){var l=this.boundsCenter,v=this.centerDiff;return new c(r-(l.x-v.x),o+v.y)}return!1},getBottomLeft:function(a,r,o){if(r===void 0&&(r=0),o===void 0&&(o=0),this.parseBody(a)){var l=this.boundsCenter,v=this.centerDiff;return new c(r+l.x+v.x,o-(l.y-v.y))}return!1},getBottomCenter:function(a,r,o){if(r===void 0&&(r=0),o===void 0&&(o=0),this.parseBody(a)){var l=this.boundsCenter,v=this.centerDiff;return new c(r+v.x,o-(l.y-v.y))}return!1},getBottomRight:function(a,r,o){if(r===void 0&&(r=0),o===void 0&&(o=0),this.parseBody(a)){var l=this.boundsCenter,v=this.centerDiff;return new c(r-(l.x-v.x),o-(l.y-v.y))}return!1}});h.exports=s},18171:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(16929);f.Body=e(84125),f.Composite=e(11299),f.World=e(72005),f.Collision=e(63454),f.Detector=e(13657),f.Pairs=e(91327),f.Pair=e(70584),f.Query=e(13390),f.Resolver=e(44272),f.Constraint=e(52838),f.Common=e(68758),f.Engine=e(45775),f.Events=e(39073),f.Sleeping=e(22806),f.Plugin=e(84474),f.Bodies=e(68516),f.Composites=e(56643),f.Axes=e(50658),f.Bounds=e(84091),f.Svg=e(92765),f.Vector=e(10438),f.Vertices=e(39745),f.World.add=f.Composite.add,f.World.remove=f.Composite.remove,f.World.addComposite=f.Composite.addComposite,f.World.addBody=f.Composite.addBody,f.World.addConstraint=f.Composite.addConstraint,f.World.clear=f.Composite.clear,h.exports=f},72653:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(68516),c=e(56694),s=e(56643),a=e(52838),r=e(92765),o=e(3860),l=e(7030),v=e(73658),u=e(84720),d=e(10998),p=e(72829),g=e(88596),x=e(39745),T=new c({initialize:function(P){this.world=P,this.scene=P.scene,this.sys=P.scene.sys},rectangle:function(S,P,E,R,A){var w=f.rectangle(S,P,E,R,A);return this.world.add(w),w},trapezoid:function(S,P,E,R,A,w){var O=f.trapezoid(S,P,E,R,A,w);return this.world.add(O),O},circle:function(S,P,E,R,A){var w=f.circle(S,P,E,R,A);return this.world.add(w),w},polygon:function(S,P,E,R,A){var w=f.polygon(S,P,E,R,A);return this.world.add(w),w},fromVertices:function(S,P,E,R,A,w,O){typeof E=="string"&&(E=x.fromPath(E));var L=f.fromVertices(S,P,E,R,A,w,O);return this.world.add(L),L},fromPhysicsEditor:function(S,P,E,R,A){A===void 0&&(A=!0);var w=d.parseBody(S,P,E,R);return A&&!this.world.has(w)&&this.world.add(w),w},fromSVG:function(S,P,E,R,A,w){R===void 0&&(R=1),A===void 0&&(A={}),w===void 0&&(w=!0);for(var O=E.getElementsByTagName("path"),L=[],F=0;F<O.length;F++){var I=r.pathToVertices(O[F],30);R!==1&&x.scale(I,R,R),L.push(I)}var b=f.fromVertices(S,P,L,A);return w&&this.world.add(b),b},fromJSON:function(S,P,E,R,A){R===void 0&&(R={}),A===void 0&&(A=!0);var w=p.parseBody(S,P,E,R);return w&&A&&this.world.add(w),w},imageStack:function(S,P,E,R,A,w,O,L,F){O===void 0&&(O=0),L===void 0&&(L=0),F===void 0&&(F={});var I=this.world,b=this.sys.displayList;F.addToWorld=!1;var G=s.stack(E,R,A,w,O,L,function(N,U){var Y=new l(I,N,U,S,P,F);return b.add(Y),Y.body});return I.add(G),G},stack:function(S,P,E,R,A,w,O){var L=s.stack(S,P,E,R,A,w,O);return this.world.add(L),L},pyramid:function(S,P,E,R,A,w,O){var L=s.pyramid(S,P,E,R,A,w,O);return this.world.add(L),L},chain:function(S,P,E,R,A,w){return s.chain(S,P,E,R,A,w)},mesh:function(S,P,E,R,A){return s.mesh(S,P,E,R,A)},newtonsCradle:function(S,P,E,R,A){var w=s.newtonsCradle(S,P,E,R,A);return this.world.add(w),w},car:function(S,P,E,R,A){var w=s.car(S,P,E,R,A);return this.world.add(w),w},softBody:function(S,P,E,R,A,w,O,L,F,I){var b=s.softBody(S,P,E,R,A,w,O,L,F,I);return this.world.add(b),b},joint:function(S,P,E,R,A){return this.constraint(S,P,E,R,A)},spring:function(S,P,E,R,A){return this.constraint(S,P,E,R,A)},constraint:function(S,P,E,R,A){R===void 0&&(R=1),A===void 0&&(A={}),A.bodyA=S.type==="body"?S:S.body,A.bodyB=P.type==="body"?P:P.body,isNaN(E)||(A.length=E),A.stiffness=R;var w=a.create(A);return this.world.add(w),w},worldConstraint:function(S,P,E,R){E===void 0&&(E=1),R===void 0&&(R={}),R.bodyB=S.type==="body"?S:S.body,isNaN(P)||(R.length=P),R.stiffness=E;var A=a.create(R);return this.world.add(A),A},mouseSpring:function(S){return this.pointerConstraint(S)},pointerConstraint:function(S){S===void 0&&(S={}),S.hasOwnProperty("render")||(S.render={visible:!1});var P=new g(this.scene,this.world,S);return this.world.add(P.constraint),P},image:function(S,P,E,R,A){var w=new l(this.world,S,P,E,R,A);return this.sys.displayList.add(w),w},tileBody:function(S,P){return new u(this.world,S,P)},sprite:function(S,P,E,R,A){var w=new v(this.world,S,P,E,R,A);return this.sys.displayList.add(w),this.sys.updateList.add(w),w},gameObject:function(S,P,E){return o(this.world,S,P,E)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});h.exports=T},3860:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(74527),c=e(72632),s=e(93736);function a(o){return!!o.get&&typeof o.get=="function"||!!o.set&&typeof o.set=="function"}var r=function(o,l,v,u){v===void 0&&(v={}),u===void 0&&(u=!0);var d=l.x,p=l.y;l.body={temp:!0,position:{x:d,y:p}};var g=[f.Bounce,f.Collision,f.Force,f.Friction,f.Gravity,f.Mass,f.Sensor,f.SetBody,f.Sleep,f.Static,f.Transform,f.Velocity];if(g.forEach(function(T){for(var S in T)a(T[S])?Object.defineProperty(l,S,{get:T[S].get,set:T[S].set}):Object.defineProperty(l,S,{value:T[S]})}),l.world=o,l._tempVec2=new s(d,p),v.hasOwnProperty("type")&&v.type==="body")l.setExistingBody(v,u);else{var x=c(v,"shape",null);x||(x="rectangle"),v.addToWorld=u,l.setBody(x,v)}return l};h.exports=r},7030:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(74527),s=e(89980),a=e(72632),r=e(1539),o=e(58210),l=e(93736),v=new f({Extends:r,Mixins:[c.Bounce,c.Collision,c.Force,c.Friction,c.Gravity,c.Mass,c.Sensor,c.SetBody,c.Sleep,c.Static,c.Transform,c.Velocity,o],initialize:function(d,p,g,x,T,S){s.call(this,d.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(x,T),this.setSizeToFrame(),this.setOrigin(),this.world=d,this._tempVec2=new l(p,g);var P=a(S,"shape",null);P?this.setBody(P,S):this.setRectangle(this.width,this.height,S),this.setPosition(p,g),this.initPipeline(),this.initPostPipeline(!0)}});h.exports=v},50583:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(84093),c=e(50658),s=e(68516),a=e(84125),r=e(63568),o=e(84091),l=e(56694),v=e(63454),u=e(68758),d=e(11299),p=e(56643),g=e(52838),x=e(13657),T=e(53996),S=e(72653),P=e(72632),E=e(10850),R=e(1675),A=e(80391),w=e(16929),O=e(44097),L=e(30657),F=e(70584),I=e(91327),b=e(84474),G=e(91963),N=e(13390),U=e(44272),Y=e(7599),X=e(92765),B=e(10438),z=e(39745),D=e(31468);u.setDecomp(e(81084));var V=new l({initialize:function(W){this.scene=W,this.systems=W.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=a,this.composite=d,this.collision=v,this.detector=x,this.pair=F,this.pairs=I,this.query=N,this.resolver=U,this.constraint=g,this.bodies=s,this.composites=p,this.axes=c,this.bounds=o,this.svg=X,this.vector=B,this.vertices=z,this.verts=z,this._tempVec2=B.create(),E(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),E(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),E(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),U._restingThresh=E(this.config,"restingThresh",4),U._restingThreshTangent=E(this.config,"restingThreshTangent",6),U._positionDampen=E(this.config,"positionDampen",.9),U._positionWarming=E(this.config,"positionWarming",.8),U._frictionNormalMultiplier=E(this.config,"frictionNormalMultiplier",5),W.sys.events.once(Y.BOOT,this.boot,this),W.sys.events.on(Y.START,this.start,this)},boot:function(){this.world=new D(this.scene,this.config),this.add=new S(this.world),this.bodyBounds=new r,this.systems.events.once(Y.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new D(this.scene,this.config),this.add=new S(this.world));var k=this.systems.events;k.on(Y.UPDATE,this.world.update,this.world),k.on(Y.POST_UPDATE,this.world.postUpdate,this.world),k.once(Y.SHUTDOWN,this.shutdown,this)},getConfig:function(){var k=this.systems.game.config.physics,W=this.systems.settings.physics,H=L(P(W,"matter",{}),P(k,"matter",{}));return H},enableAttractorPlugin:function(){return b.register(R),b.use(w,R),this},enableWrapPlugin:function(){return b.register(O),b.use(w,O),this},enableCollisionEventsPlugin:function(){return b.register(A),b.use(w,A),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(k,W){this.world.step(k,W)},containsPoint:function(k,W,H){k=this.getMatterBodies(k);var $=B.create(W,H),K=N.point(k,$);return K.length>0},intersectPoint:function(k,W,H){H=this.getMatterBodies(H);var $=B.create(k,W),K=[],j=N.point(H,$);return j.forEach(function(Z){K.indexOf(Z)===-1&&K.push(Z)}),K},intersectRect:function(k,W,H,$,K,j){K===void 0&&(K=!1),j=this.getMatterBodies(j);var Z={min:{x:k,y:W},max:{x:k+H,y:W+$}},J=[],Q=N.region(j,Z,K);return Q.forEach(function(q){J.indexOf(q)===-1&&J.push(q)}),J},intersectRay:function(k,W,H,$,K,j){K===void 0&&(K=1),j=this.getMatterBodies(j);for(var Z=[],J=N.ray(j,B.create(k,W),B.create(H,$),K),Q=0;Q<J.length;Q++)Z.push(J[Q].body);return Z},intersectBody:function(k,W){W=this.getMatterBodies(W);for(var H=[],$=N.collides(k,W),K=0;K<$.length;K++){var j=$[K];j.bodyA===k?H.push(j.bodyB):H.push(j.bodyA)}return H},overlap:function(k,W,H,$,K){H===void 0&&(H=null),$===void 0&&($=null),K===void 0&&(K=H),Array.isArray(k)||(k=[k]),k=this.getMatterBodies(k),W=this.getMatterBodies(W);for(var j=!1,Z=0;Z<k.length;Z++)for(var J=k[Z],Q=N.collides(J,W),q=0;q<Q.length;q++){var _=Q[q],et=_.bodyA.id===J.id?_.bodyB:_.bodyA;if(!$||$.call(K,J,et,_)){if(j=!0,H)H.call(K,J,et,_);else if(!$)return!0}}return j},setCollisionCategory:function(k,W){return k=this.getMatterBodies(k),k.forEach(function(H){H.collisionFilter.category=W}),this},setCollisionGroup:function(k,W){return k=this.getMatterBodies(k),k.forEach(function(H){H.collisionFilter.group=W}),this},setCollidesWith:function(k,W){k=this.getMatterBodies(k);var H=0;if(!Array.isArray(W))H=W;else for(var $=0;$<W.length;$++)H|=W[$];return k.forEach(function(K){K.collisionFilter.mask=H}),this},getMatterBodies:function(k){if(!k)return this.world.getAllBodies();Array.isArray(k)||(k=[k]);for(var W=[],H=0;H<k.length;H++){var $=k[H].hasOwnProperty("body")?k[H].body:k[H];W.push($)}return W},setVelocity:function(k,W,H){k=this.getMatterBodies(k);var $=this._tempVec2;return $.x=W,$.y=H,k.forEach(function(K){a.setVelocity(K,$)}),this},setVelocityX:function(k,W){k=this.getMatterBodies(k);var H=this._tempVec2;return H.x=W,k.forEach(function($){H.y=$.velocity.y,a.setVelocity($,H)}),this},setVelocityY:function(k,W){k=this.getMatterBodies(k);var H=this._tempVec2;return H.y=W,k.forEach(function($){H.x=$.velocity.x,a.setVelocity($,H)}),this},setAngularVelocity:function(k,W){return k=this.getMatterBodies(k),k.forEach(function(H){a.setAngularVelocity(H,W)}),this},applyForce:function(k,W){k=this.getMatterBodies(k);var H=this._tempVec2;return k.forEach(function($){H.x=$.position.x,H.y=$.position.y,a.applyForce($,H,W)}),this},applyForceFromPosition:function(k,W,H,$){k=this.getMatterBodies(k);var K=this._tempVec2;return k.forEach(function(j){$===void 0&&($=j.angle),K.x=H*Math.cos($),K.y=H*Math.sin($),a.applyForce(j,W,K)}),this},applyForceFromAngle:function(k,W,H){k=this.getMatterBodies(k);var $=this._tempVec2;return k.forEach(function(K){H===void 0&&(H=K.angle),$.x=W*Math.cos(H),$.y=W*Math.sin(H),a.applyForce(K,{x:K.position.x,y:K.position.y},$)}),this},getConstraintLength:function(k){var W=k.pointA.x,H=k.pointA.y,$=k.pointB.x,K=k.pointB.y;return k.bodyA&&(W+=k.bodyA.position.x,H+=k.bodyA.position.y),k.bodyB&&($+=k.bodyB.position.x,K+=k.bodyB.position.y),T(W,H,$,K)},alignBody:function(k,W,H,$){k=k.hasOwnProperty("body")?k.body:k;var K;switch($){case f.TOP_LEFT:case f.LEFT_TOP:K=this.bodyBounds.getTopLeft(k,W,H);break;case f.TOP_CENTER:K=this.bodyBounds.getTopCenter(k,W,H);break;case f.TOP_RIGHT:case f.RIGHT_TOP:K=this.bodyBounds.getTopRight(k,W,H);break;case f.LEFT_CENTER:K=this.bodyBounds.getLeftCenter(k,W,H);break;case f.CENTER:K=this.bodyBounds.getCenter(k,W,H);break;case f.RIGHT_CENTER:K=this.bodyBounds.getRightCenter(k,W,H);break;case f.LEFT_BOTTOM:case f.BOTTOM_LEFT:K=this.bodyBounds.getBottomLeft(k,W,H);break;case f.BOTTOM_CENTER:K=this.bodyBounds.getBottomCenter(k,W,H);break;case f.BOTTOM_RIGHT:case f.RIGHT_BOTTOM:K=this.bodyBounds.getBottomRight(k,W,H);break}return K&&a.setPosition(k,K),this},shutdown:function(){var k=this.systems.events;this.world&&(k.off(Y.UPDATE,this.world.update,this.world),k.off(Y.POST_UPDATE,this.world.postUpdate,this.world)),k.off(Y.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(Y.START,this.start,this),this.scene=null,this.systems=null}});G.register("MatterPhysics",V,"matterPhysics"),h.exports=V},73658:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(16569),c=e(56694),s=e(74527),a=e(89980),r=e(72632),o=e(58210),l=e(13747),v=e(93736),u=new c({Extends:l,Mixins:[s.Bounce,s.Collision,s.Force,s.Friction,s.Gravity,s.Mass,s.Sensor,s.SetBody,s.Sleep,s.Static,s.Transform,s.Velocity,o],initialize:function(p,g,x,T,S,P){a.call(this,p.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new f(this),this.setTexture(T,S),this.setSizeToFrame(),this.setOrigin(),this.world=p,this._tempVec2=new v(g,x);var E=r(P,"shape",null);E?this.setBody(E,P):this.setRectangle(this.width,this.height,P),this.setPosition(g,x),this.initPipeline(),this.initPostPipeline(!0)}});h.exports=u},84720:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(68516),c=e(84125),s=e(56694),a=e(74527),r=e(28699),o=e(6659),l=e(72632),v=e(19256),u=e(39745),d=new s({Extends:o,Mixins:[a.Bounce,a.Collision,a.Friction,a.Gravity,a.Mass,a.Sensor,a.Sleep,a.Static],initialize:function(g,x,T){o.call(this),this.tile=x,this.world=g,x.physics.matterBody&&x.physics.matterBody.destroy(),x.physics.matterBody=this;var S=l(T,"body",null),P=l(T,"addToWorld",!0);if(S)this.setBody(S,P);else{var E=x.getCollisionGroup(),R=l(E,"objects",[]);R.length>0?this.setFromTileCollision(T):this.setFromTileRectangle(T)}if(x.flipX||x.flipY){var A={x:x.getCenterX(),y:x.getCenterY()},w=x.flipX?-1:1,O=x.flipY?-1:1;c.scale(S,w,O,A)}},setFromTileRectangle:function(p){p===void 0&&(p={}),v(p,"isStatic")||(p.isStatic=!0),v(p,"addToWorld")||(p.addToWorld=!0);var g=this.tile.getBounds(),x=g.x+g.width/2,T=g.y+g.height/2,S=f.rectangle(x,T,g.width,g.height,p);return this.setBody(S,p.addToWorld),this},setFromTileCollision:function(p){p===void 0&&(p={}),v(p,"isStatic")||(p.isStatic=!0),v(p,"addToWorld")||(p.addToWorld=!0);for(var g=this.tile.tilemapLayer.scaleX,x=this.tile.tilemapLayer.scaleY,T=this.tile.getLeft(),S=this.tile.getTop(),P=this.tile.getCollisionGroup(),E=l(P,"objects",[]),R=[],A=0;A<E.length;A++){var w=E[A],O=T+w.x*g,L=S+w.y*x,F=w.width*g,I=w.height*x,b=null;if(w.rectangle)b=f.rectangle(O+F/2,L+I/2,F,I,p);else if(w.ellipse)b=f.circle(O+F/2,L+I/2,F/2,p);else if(w.polygon||w.polyline){var G=w.polygon?w.polygon:w.polyline,N=G.map(function(B){return{x:B.x*g,y:B.y*x}}),U=u.create(N),Y=u.centre(U);O+=Y.x,L+=Y.y,b=f.fromVertices(O,L,U,p)}b&&R.push(b)}if(R.length===1)this.setBody(R[0],p.addToWorld);else if(R.length>1){var X=r(p);X.parts=R,this.setBody(c.create(X),X.addToWorld)}return this},setBody:function(p,g){return g===void 0&&(g=!0),this.body&&this.removeBody(),this.body=p,this.body.gameObject=this,g&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});h.exports=d},10998:(h,y,e)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(68516),c=e(84125),s=e(68758),a=e(72632),r=e(39745),o={parseBody:function(l,v,u,d){d===void 0&&(d={});for(var p=a(u,"fixtures",[]),g=[],x=0;x<p.length;x++)for(var T=this.parseFixture(p[x]),S=0;S<T.length;S++)g.push(T[S]);var P=s.clone(u,!0);s.extend(P,d,!0),delete P.fixtures,delete P.type;var E=c.create(P);return c.setParts(E,g),c.setPosition(E,{x:l,y:v}),E},parseFixture:function(l){var v=s.extend({},!1,l);delete v.circle,delete v.vertices;var u;if(l.circle){var d=a(l.circle,"x"),p=a(l.circle,"y"),g=a(l.circle,"radius");u=[f.circle(d,p,g,v)]}else l.vertices&&(u=this.parseVertices(l.vertices,v));return u},parseVertices:function(l,v){v===void 0&&(v={});for(var u=[],d=0;d<l.length;d++)r.clockwiseSort(l[d]),u.push(c.create(s.extend({position:r.centre(l[d]),vertices:l[d]},v)));return f.flagCoincidentParts(u)}};h.exports=o},72829:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(68516),c=e(84125),s={parseBody:function(a,r,o,l){l===void 0&&(l={});var v,u=o.vertices;if(u.length===1)l.vertices=u[0],v=c.create(l),f.flagCoincidentParts(v.parts);else{for(var d=[],p=0;p<u.length;p++){var g=c.create({vertices:u[p]});d.push(g)}f.flagCoincidentParts(d),l.parts=d,v=c.create(l)}return v.label=o.label,c.setPosition(v,{x:a,y:r}),v}};h.exports=s},88596:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(84091),c=e(56694),s=e(11299),a=e(52838),r=e(13657),o=e(35416),l=e(33963),v=e(30657),u=e(22806),d=e(93736),p=e(39745),g=new c({initialize:function(T,S,P){P===void 0&&(P={});var E={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=T,this.world=S,this.camera=null,this.pointer=null,this.active=!0,this.position=new d,this.body=null,this.part=null,this.constraint=a.create(v(P,E)),this.world.on(o.BEFORE_UPDATE,this.update,this),T.sys.input.on(l.POINTER_DOWN,this.onDown,this),T.sys.input.on(l.POINTER_UP,this.onUp,this)},onDown:function(x){this.pointer||(this.pointer=x,this.camera=x.camera)},onUp:function(x){x===this.pointer&&(this.pointer=null)},getBody:function(x){var T=this.position,S=this.constraint;this.camera.getWorldPoint(x.x,x.y,T);for(var P=s.allBodies(this.world.localWorld),E=0;E<P.length;E++){var R=P[E];if(!R.ignorePointer&&f.contains(R.bounds,T)&&r.canCollide(R.collisionFilter,S.collisionFilter)&&this.hitTestBody(R,T))return this.world.emit(o.DRAG_START,R,this.part,this),!0}return!1},hitTestBody:function(x,T){for(var S=this.constraint,P=x.parts.length,E=P>1?1:0,R=E;R<P;R++){var A=x.parts[R];if(p.contains(A.vertices,T))return S.pointA=T,S.pointB={x:T.x-x.position.x,y:T.y-x.position.y},S.bodyB=x,S.angleB=x.angle,u.set(x,!1),this.part=A,this.body=x,!0}return!1},update:function(){var x=this.pointer,T=this.body;if(!this.active||!x){T&&this.stopDrag();return}if(!x.isDown&&T){this.stopDrag();return}else if(x.isDown){if(!T&&!this.getBody(x))return;T=this.body;var S=this.position,P=this.constraint;this.camera.getWorldPoint(x.x,x.y,S),P.pointA.x=S.x,P.pointA.y=S.y,u.set(T,!1),this.world.emit(o.DRAG,T,this)}},stopDrag:function(){var x=this.body,T=this.constraint;T.bodyB=null,T.pointB=null,this.pointer=null,this.body=null,this.part=null,x&&this.world.emit(o.DRAG_END,x,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(o.BEFORE_UPDATE,this.update),this.scene.sys.input.off(l.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(l.POINTER_UP,this.onUp,this)}});h.exports=g},31468:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(68516),c=e(84125),s=e(56694),a=e(68758),r=e(11299),o=e(45775),l=e(6659),v=e(35416),u=e(72632),d=e(10850),p=e(84125),g=e(39073),x=e(84720),T=e(72005),S=e(10438),P=new s({Extends:l,initialize:function(R,A){l.call(this),this.scene=R,this.engine=o.create(A),this.localWorld=this.engine.world;var w=d(A,"gravity",null);w?this.setGravity(w.x,w.y,w.scale):w===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=d(A,"enabled",!0),this.getDelta=d(A,"getDelta",this.update60Hz);var O=u(A,"runner",{}),L=u(O,"fps",!1),F=u(O,"fps",60),I=u(O,"delta",1e3/F),b=u(O,"deltaMin",1e3/F),G=u(O,"deltaMax",1e3/(F*.5));L||(F=1e3/I),this.runner={fps:F,deltaSampleSize:u(O,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:u(O,"isFixed",!1),delta:I,deltaMin:b,deltaMax:G},this.autoUpdate=d(A,"autoUpdate",!0);var N=d(A,"debug",!1);if(this.drawDebug=typeof N=="object"?!0:N,this.debugGraphic,this.debugConfig={showAxes:u(N,"showAxes",!1),showAngleIndicator:u(N,"showAngleIndicator",!1),angleColor:u(N,"angleColor",15208787),showBroadphase:u(N,"showBroadphase",!1),broadphaseColor:u(N,"broadphaseColor",16757760),showBounds:u(N,"showBounds",!1),boundsColor:u(N,"boundsColor",16777215),showVelocity:u(N,"showVelocity",!1),velocityColor:u(N,"velocityColor",44783),showCollisions:u(N,"showCollisions",!1),collisionColor:u(N,"collisionColor",16094476),showSeparations:u(N,"showSeparations",!1),separationColor:u(N,"separationColor",16753920),showBody:u(N,"showBody",!0),showStaticBody:u(N,"showStaticBody",!0),showInternalEdges:u(N,"showInternalEdges",!1),renderFill:u(N,"renderFill",!1),renderLine:u(N,"renderLine",!0),fillColor:u(N,"fillColor",1075465),fillOpacity:u(N,"fillOpacity",1),lineColor:u(N,"lineColor",2678297),lineOpacity:u(N,"lineOpacity",1),lineThickness:u(N,"lineThickness",1),staticFillColor:u(N,"staticFillColor",857979),staticLineColor:u(N,"staticLineColor",1255396),showSleeping:u(N,"showSleeping",!1),staticBodySleepOpacity:u(N,"staticBodySleepOpacity",.7),sleepFillColor:u(N,"sleepFillColor",4605510),sleepLineColor:u(N,"sleepLineColor",10066585),showSensors:u(N,"showSensors",!0),sensorFillColor:u(N,"sensorFillColor",857979),sensorLineColor:u(N,"sensorLineColor",1255396),showPositions:u(N,"showPositions",!0),positionSize:u(N,"positionSize",4),positionColor:u(N,"positionColor",14697178),showJoint:u(N,"showJoint",!0),jointColor:u(N,"jointColor",14737474),jointLineOpacity:u(N,"jointLineOpacity",1),jointLineThickness:u(N,"jointLineThickness",2),pinSize:u(N,"pinSize",4),pinColor:u(N,"pinColor",4382944),springColor:u(N,"springColor",14697184),anchorColor:u(N,"anchorColor",15724527),anchorSize:u(N,"anchorSize",4),showConvexHulls:u(N,"showConvexHulls",!1),hullColor:u(N,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),u(A,"setBounds",!1)){var U=A.setBounds;if(typeof U=="boolean")this.setBounds();else{var Y=u(U,"x",0),X=u(U,"y",0),B=u(U,"width",R.sys.scale.width),z=u(U,"height",R.sys.scale.height),D=u(U,"thickness",64),V=u(U,"left",!0),k=u(U,"right",!0),W=u(U,"top",!0),H=u(U,"bottom",!0);this.setBounds(Y,X,B,z,D,V,k,W,H)}}},setCompositeRenderStyle:function(E){var R=E.bodies,A=E.constraints,w=E.composites,O,L,F;for(O=0;O<R.length;O++)L=R[O],F=L.render,this.setBodyRenderStyle(L,F.lineColor,F.lineOpacity,F.lineThickness,F.fillColor,F.fillOpacity);for(O=0;O<A.length;O++)L=A[O],F=L.render,this.setConstraintRenderStyle(L,F.lineColor,F.lineOpacity,F.lineThickness,F.pinSize,F.anchorColor,F.anchorSize);for(O=0;O<w.length;O++)L=w[O],this.setCompositeRenderStyle(L);return this},setBodyRenderStyle:function(E,R,A,w,O,L){var F=E.render,I=this.debugConfig;return F?(R==null&&(R=E.isStatic?I.staticLineColor:I.lineColor),A==null&&(A=I.lineOpacity),w==null&&(w=I.lineThickness),O==null&&(O=E.isStatic?I.staticFillColor:I.fillColor),L==null&&(L=I.fillOpacity),R!==!1&&(F.lineColor=R),A!==!1&&(F.lineOpacity=A),w!==!1&&(F.lineThickness=w),O!==!1&&(F.fillColor=O),L!==!1&&(F.fillOpacity=L),this):this},setConstraintRenderStyle:function(E,R,A,w,O,L,F){var I=E.render,b=this.debugConfig;if(!I)return this;if(R==null){var G=I.type;G==="line"?R=b.jointColor:G==="pin"?R=b.pinColor:G==="spring"&&(R=b.springColor)}return A==null&&(A=b.jointLineOpacity),w==null&&(w=b.jointLineThickness),O==null&&(O=b.pinSize),L==null&&(L=b.anchorColor),F==null&&(F=b.anchorSize),R!==!1&&(I.lineColor=R),A!==!1&&(I.lineOpacity=A),w!==!1&&(I.lineThickness=w),O!==!1&&(I.pinSize=O),L!==!1&&(I.anchorColor=L),F!==!1&&(I.anchorSize=F),this},setEventsProxy:function(){var E=this,R=this.engine,A=this.localWorld;this.drawDebug&&(g.on(A,"compositeModified",function(w){E.setCompositeRenderStyle(w)}),g.on(A,"beforeAdd",function(w){for(var O=[].concat(w.object),L=0;L<O.length;L++){var F=O[L],I=F.render;F.type==="body"?E.setBodyRenderStyle(F,I.lineColor,I.lineOpacity,I.lineThickness,I.fillColor,I.fillOpacity):F.type==="composite"?E.setCompositeRenderStyle(F):F.type==="constraint"&&E.setConstraintRenderStyle(F,I.lineColor,I.lineOpacity,I.lineThickness,I.pinSize,I.anchorColor,I.anchorSize)}})),g.on(A,"beforeAdd",function(w){E.emit(v.BEFORE_ADD,w)}),g.on(A,"afterAdd",function(w){E.emit(v.AFTER_ADD,w)}),g.on(A,"beforeRemove",function(w){E.emit(v.BEFORE_REMOVE,w)}),g.on(A,"afterRemove",function(w){E.emit(v.AFTER_REMOVE,w)}),g.on(R,"beforeUpdate",function(w){E.emit(v.BEFORE_UPDATE,w)}),g.on(R,"afterUpdate",function(w){E.emit(v.AFTER_UPDATE,w)}),g.on(R,"collisionStart",function(w){var O=w.pairs,L,F;O.length>0&&(L=O[0].bodyA,F=O[0].bodyB),E.emit(v.COLLISION_START,w,L,F)}),g.on(R,"collisionActive",function(w){var O=w.pairs,L,F;O.length>0&&(L=O[0].bodyA,F=O[0].bodyB),E.emit(v.COLLISION_ACTIVE,w,L,F)}),g.on(R,"collisionEnd",function(w){var O=w.pairs,L,F;O.length>0&&(L=O[0].bodyA,F=O[0].bodyB),E.emit(v.COLLISION_END,w,L,F)})},setBounds:function(E,R,A,w,O,L,F,I,b){return E===void 0&&(E=0),R===void 0&&(R=0),A===void 0&&(A=this.scene.sys.scale.width),w===void 0&&(w=this.scene.sys.scale.height),O===void 0&&(O=64),L===void 0&&(L=!0),F===void 0&&(F=!0),I===void 0&&(I=!0),b===void 0&&(b=!0),this.updateWall(L,"left",E-O,R-O,O,w+O*2),this.updateWall(F,"right",E+A,R-O,O,w+O*2),this.updateWall(I,"top",E,R-O,A,O),this.updateWall(b,"bottom",E,R+w,A,O),this},updateWall:function(E,R,A,w,O,L){var F=this.walls[R];E?(F&&T.remove(this.localWorld,F),A+=O/2,w+=L/2,this.walls[R]=this.create(A,w,O,L,{isStatic:!0,friction:0,frictionStatic:0})):(F&&T.remove(this.localWorld,F),this.walls[R]=null)},createDebugGraphic:function(){var E=this.scene.sys.add.graphics({x:0,y:0});return E.setDepth(Number.MAX_VALUE),this.debugGraphic=E,this.drawDebug=!0,E},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(E,R,A){return E===void 0&&(E=0),R===void 0&&(R=1),A===void 0&&(A=.001),this.localWorld.gravity.x=E,this.localWorld.gravity.y=R,this.localWorld.gravity.scale=A,this},create:function(E,R,A,w,O){var L=f.rectangle(E,R,A,w,O);return T.add(this.localWorld,L),L},add:function(E){return T.add(this.localWorld,E),this},remove:function(E,R){Array.isArray(E)||(E=[E]);for(var A=0;A<E.length;A++){var w=E[A],O=w.body?w.body:w;r.remove(this.localWorld,O,R)}return this},removeConstraint:function(E,R){return r.remove(this.localWorld,E,R),this},convertTilemapLayer:function(E,R){var A=E.layer,w=E.getTilesWithin(0,0,A.width,A.height,{isColliding:!0});return this.convertTiles(w,R),this},convertTiles:function(E,R){if(E.length===0)return this;for(var A=0;A<E.length;A++)new x(this,E[A],R);return this},nextGroup:function(E){return p.nextGroup(E)},nextCategory:function(){return p.nextCategory()},pause:function(){return this.enabled=!1,this.emit(v.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(v.RESUME),this},update:function(E,R){if(!(!this.enabled||!this.autoUpdate)){var A=this.engine,w=this.runner,O=A.timing;w.isFixed?R=this.getDelta(E,R):(R=E-w.timePrev||w.delta,w.timePrev=E,w.deltaHistory.push(R),w.deltaHistory=w.deltaHistory.slice(-w.deltaSampleSize),R=Math.min.apply(null,w.deltaHistory),R=R<w.deltaMin?w.deltaMin:R,R=R>w.deltaMax?w.deltaMax:R,w.delta=R),w.timeScalePrev=O.timeScale,w.frameCounter+=1,E-w.counterTimestamp>=1e3&&(w.fps=w.frameCounter*((E-w.counterTimestamp)/1e3),w.counterTimestamp=E,w.frameCounter=0),o.update(A,R)}},step:function(E){o.update(this.engine,E)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(E){var R=E.hasOwnProperty("body")?E.body:E;return r.get(this.localWorld,R.id,R.type)!==null},getAllBodies:function(){return r.allBodies(this.localWorld)},getAllConstraints:function(){return r.allConstraints(this.localWorld)},getAllComposites:function(){return r.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var E=this.debugConfig,R=this.engine,A=this.debugGraphic,w=r.allBodies(this.localWorld);this.debugGraphic.clear(),E.showBroadphase&&R.broadphase.controller&&this.renderGrid(R.broadphase,A,E.broadphaseColor,.5),E.showBounds&&this.renderBodyBounds(w,A,E.boundsColor,.5),(E.showBody||E.showStaticBody)&&this.renderBodies(w),E.showJoint&&this.renderJoints(),(E.showAxes||E.showAngleIndicator)&&this.renderBodyAxes(w,A,E.showAxes,E.angleColor,.5),E.showVelocity&&this.renderBodyVelocity(w,A,E.velocityColor,1,2),E.showSeparations&&this.renderSeparations(R.pairs.list,A,E.separationColor),E.showCollisions&&this.renderCollisions(R.pairs.list,A,E.collisionColor)}},renderGrid:function(E,R,A,w){R.lineStyle(1,A,w);for(var O=a.keys(E.buckets),L=0;L<O.length;L++){var F=O[L];if(!(E.buckets[F].length<2)){var I=F.split(/C|R/);R.strokeRect(parseInt(I[1],10)*E.bucketWidth,parseInt(I[2],10)*E.bucketHeight,E.bucketWidth,E.bucketHeight)}}return this},renderSeparations:function(E,R,A){R.lineStyle(1,A,1);for(var w=0;w<E.length;w++){var O=E[w];if(O.isActive){var L=O.collision,F=L.bodyA,I=L.bodyB,b=F.position,G=I.position,N=L.penetration,U=!F.isStatic&&!I.isStatic?4:1;I.isStatic&&(U=0),R.lineBetween(G.x,G.y,G.x-N.x*U,G.y-N.y*U),U=!F.isStatic&&!I.isStatic?4:1,F.isStatic&&(U=0),R.lineBetween(b.x,b.y,b.x-N.x*U,b.y-N.y*U)}}return this},renderCollisions:function(E,R,A){R.lineStyle(1,A,.5),R.fillStyle(A,1);var w,O;for(w=0;w<E.length;w++)if(O=E[w],!!O.isActive)for(var L=0;L<O.activeContacts.length;L++){var F=O.activeContacts[L],I=F.vertex;R.fillRect(I.x-2,I.y-2,5,5)}for(w=0;w<E.length;w++)if(O=E[w],!!O.isActive){var b=O.collision,G=O.activeContacts;if(G.length>0){var N=G[0].vertex.x,U=G[0].vertex.y;G.length===2&&(N=(G[0].vertex.x+G[1].vertex.x)/2,U=(G[0].vertex.y+G[1].vertex.y)/2),b.bodyB===b.supports[0].body||b.bodyA.isStatic?R.lineBetween(N-b.normal.x*8,U-b.normal.y*8,N,U):R.lineBetween(N+b.normal.x*8,U+b.normal.y*8,N,U)}}return this},renderBodyBounds:function(E,R,A,w){R.lineStyle(1,A,w);for(var O=0;O<E.length;O++){var L=E[O];if(L.render.visible){var F=L.bounds;if(F)R.strokeRect(F.min.x,F.min.y,F.max.x-F.min.x,F.max.y-F.min.y);else for(var I=L.parts,b=I.length>1?1:0;b<I.length;b++){var G=I[b];R.strokeRect(G.bounds.min.x,G.bounds.min.y,G.bounds.max.x-G.bounds.min.x,G.bounds.max.y-G.bounds.min.y)}}}return this},renderBodyAxes:function(E,R,A,w,O){R.lineStyle(1,w,O);for(var L=0;L<E.length;L++){var F=E[L],I=F.parts;if(F.render.visible){var b,G,N;if(A)for(G=I.length>1?1:0;G<I.length;G++)for(b=I[G],N=0;N<b.axes.length;N++){var U=b.axes[N];R.lineBetween(b.position.x,b.position.y,b.position.x+U.x*20,b.position.y+U.y*20)}else for(G=I.length>1?1:0;G<I.length;G++)for(b=I[G],N=0;N<b.axes.length;N++)R.lineBetween(b.position.x,b.position.y,(b.vertices[0].x+b.vertices[b.vertices.length-1].x)/2,(b.vertices[0].y+b.vertices[b.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(E,R,A,w,O){R.lineStyle(O,A,w);for(var L=0;L<E.length;L++){var F=E[L];F.render.visible&&R.lineBetween(F.position.x,F.position.y,F.position.x+(F.position.x-F.positionPrev.x)*2,F.position.y+(F.position.y-F.positionPrev.y)*2)}return this},renderBodies:function(E){for(var R=this.debugGraphic,A=this.debugConfig,w=A.showBody,O=A.showStaticBody,L=A.showSleeping,F=A.showInternalEdges,I=A.showConvexHulls,b=A.renderFill,G=A.renderLine,N=A.staticBodySleepOpacity,U=A.sleepFillColor,Y=A.sleepLineColor,X=A.hullColor,B=0;B<E.length;B++){var z=E[B];if(z.render.visible&&!(!O&&z.isStatic||!w&&!z.isStatic)){var D=z.render.lineColor,V=z.render.lineOpacity,k=z.render.lineThickness,W=z.render.fillColor,H=z.render.fillOpacity;L&&z.isSleeping&&(z.isStatic?(V*=N,H*=N):(D=Y,W=U)),b||(W=null),G||(D=null),this.renderBody(z,R,F,D,V,k,W,H);var $=z.parts.length;I&&$>1&&this.renderConvexHull(z,R,X,k)}}},renderBody:function(E,R,A,w,O,L,F,I){w===void 0&&(w=null),O===void 0&&(O=null),L===void 0&&(L=1),F===void 0&&(F=null),I===void 0&&(I=null);for(var b=this.debugConfig,G=b.sensorFillColor,N=b.sensorLineColor,U=E.parts,Y=U.length,X=Y>1?1:0;X<Y;X++){var B=U[X],z=B.render,D=z.opacity;if(!(!z.visible||D===0||B.isSensor&&!b.showSensors)){var V=B.circleRadius;if(R.beginPath(),B.isSensor?(F!==null&&R.fillStyle(G,I*D),w!==null&&R.lineStyle(L,N,O*D)):(F!==null&&R.fillStyle(F,I*D),w!==null&&R.lineStyle(L,w,O*D)),V)R.arc(B.position.x,B.position.y,V,0,2*Math.PI);else{var k=B.vertices,W=k.length;R.moveTo(k[0].x,k[0].y);for(var H=1;H<W;H++){var $=k[H];if(!k[H-1].isInternal||A?R.lineTo($.x,$.y):R.moveTo($.x,$.y),H<W&&$.isInternal&&!A){var K=(H+1)%W;R.moveTo(k[K].x,k[K].y)}}R.closePath()}F!==null&&R.fillPath(),w!==null&&R.strokePath()}}if(b.showPositions&&!E.isStatic){var j=E.position.x,Z=E.position.y,J=Math.ceil(b.positionSize/2);R.fillStyle(b.positionColor,1),R.fillRect(j-J,Z-J,b.positionSize,b.positionSize)}return this},renderConvexHull:function(E,R,A,w){w===void 0&&(w=1);var O=E.parts,L=O.length;if(L>1){var F=E.vertices;R.lineStyle(w,A),R.beginPath(),R.moveTo(F[0].x,F[0].y);for(var I=1;I<F.length;I++)R.lineTo(F[I].x,F[I].y);R.lineTo(F[0].x,F[0].y),R.strokePath()}return this},renderJoints:function(){for(var E=this.debugGraphic,R=r.allConstraints(this.localWorld),A=0;A<R.length;A++){var w=R[A].render,O=w.lineColor,L=w.lineOpacity,F=w.lineThickness,I=w.pinSize,b=w.anchorColor,G=w.anchorSize;this.renderConstraint(R[A],E,O,L,F,I,b,G)}},renderConstraint:function(E,R,A,w,O,L,F,I){var b=E.render;if(!b.visible||!E.pointA||!E.pointB)return this;R.lineStyle(O,A,w);var G=E.bodyA,N=E.bodyB,U,Y;if(G?U=S.add(G.position,E.pointA):U=E.pointA,b.type==="pin")R.strokeCircle(U.x,U.y,L);else{if(N?Y=S.add(N.position,E.pointB):Y=E.pointB,R.beginPath(),R.moveTo(U.x,U.y),b.type==="spring")for(var X=S.sub(Y,U),B=S.perp(S.normalise(X)),z=Math.ceil(a.clamp(E.length/5,12,20)),D,V=1;V<z;V+=1)D=V%2===0?1:-1,R.lineTo(U.x+X.x*(V/z)+B.x*D*4,U.y+X.y*(V/z)+B.y*D*4);R.lineTo(Y.x,Y.y)}return R.strokePath(),b.anchors&&I>0&&(R.fillStyle(F),R.fillCircle(U.x,U.y,I),R.fillCircle(Y.x,Y.y,I)),this},resetCollisionIDs:function(){return c._nextCollidingGroupId=1,c._nextNonCollidingGroupId=-1,c._nextCategory=1,this},shutdown:function(){g.off(this.engine),this.removeAllListeners(),T.clear(this.localWorld,!1),o.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});h.exports=P},95349:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setBounce:function(e){return this.body.restitution=e,this}};h.exports=y},70679:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setCollisionCategory:function(e){return this.body.collisionFilter.category=e,this},setCollisionGroup:function(e){return this.body.collisionFilter.group=e,this},setCollidesWith:function(e){var f=0;if(!Array.isArray(e))f=e;else for(var c=0;c<e.length;c++)f|=e[c];return this.body.collisionFilter.mask=f,this},setOnCollide:function(e){return this.body.onCollideCallback=e,this},setOnCollideEnd:function(e){return this.body.onCollideEndCallback=e,this},setOnCollideActive:function(e){return this.body.onCollideActiveCallback=e,this},setOnCollideWith:function(e,f){Array.isArray(e)||(e=[e]);for(var c=0;c<e.length;c++){var s=e[c].hasOwnProperty("body")?e[c].body:e[c];this.body.setOnCollideWith(s,f)}return this}};h.exports=y},77178:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(84125),c={applyForce:function(s){return this._tempVec2.set(this.body.position.x,this.body.position.y),f.applyForce(this.body,this._tempVec2,s),this},applyForceFrom:function(s,a){return f.applyForce(this.body,s,a),this},thrust:function(s){var a=this.body.angle;return this._tempVec2.set(s*Math.cos(a),s*Math.sin(a)),f.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(s){var a=this.body.angle-Math.PI/2;return this._tempVec2.set(s*Math.cos(a),s*Math.sin(a)),f.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(s){var a=this.body.angle+Math.PI/2;return this._tempVec2.set(s*Math.cos(a),s*Math.sin(a)),f.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(s){var a=this.body.angle-Math.PI;return this._tempVec2.set(s*Math.cos(a),s*Math.sin(a)),f.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};h.exports=c},74015:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setFriction:function(e,f,c){return this.body.friction=e,f!==void 0&&(this.body.frictionAir=f),c!==void 0&&(this.body.frictionStatic=c),this},setFrictionAir:function(e){return this.body.frictionAir=e,this},setFrictionStatic:function(e){return this.body.frictionStatic=e,this}};h.exports=y},11535:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setIgnoreGravity:function(e){return this.body.ignoreGravity=e,this}};h.exports=y},74497:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(84125),c=e(93736),s={setMass:function(a){return f.setMass(this.body,a),this},setDensity:function(a){return f.setDensity(this.body,a),this},centerOfMass:{get:function(){return new c(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};h.exports=s},75529:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setSensor:function(e){return this.body.isSensor=e,this},isSensor:function(){return this.body.isSensor}};h.exports=y},64024:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(68516),c=e(84125),s=e(88456),a=e(72632),r=e(10998),o=e(72829),l=e(39745),v={setRectangle:function(u,d,p){return this.setBody({type:"rectangle",width:u,height:d},p)},setCircle:function(u,d){return this.setBody({type:"circle",radius:u},d)},setPolygon:function(u,d,p){return this.setBody({type:"polygon",sides:d,radius:u},p)},setTrapezoid:function(u,d,p,g){return this.setBody({type:"trapezoid",width:u,height:d,slope:p},g)},setExistingBody:function(u,d){d===void 0&&(d=!0),this.body&&this.world.remove(this.body,!0),this.body=u;for(var p=0;p<u.parts.length;p++)u.parts[p].gameObject=this;var g=this;if(u.destroy=function(){g.world.remove(g.body,!0),g.body.gameObject=null},d&&(this.world.has(u)&&this.world.remove(u,!0),this.world.add(u)),this._originComponent){var x=u.render.sprite.xOffset,T=u.render.sprite.yOffset,S=u.centerOfMass.x,P=u.centerOfMass.y;if(s(S,.5)&&s(P,.5))this.setOrigin(x+.5,T+.5);else{var E=u.centerOffset.x,R=u.centerOffset.y;this.setOrigin(x+E/this.displayWidth,T+R/this.displayHeight)}}return this},setBody:function(u,d){if(!u)return this;var p;typeof u=="string"&&(u={type:u});var g=a(u,"type","rectangle"),x=a(u,"x",this._tempVec2.x),T=a(u,"y",this._tempVec2.y),S=a(u,"width",this.width),P=a(u,"height",this.height);switch(g){case"rectangle":p=f.rectangle(x,T,S,P,d);break;case"circle":var E=a(u,"radius",Math.max(S,P)/2),R=a(u,"maxSides",25);p=f.circle(x,T,E,d,R);break;case"trapezoid":var A=a(u,"slope",.5);p=f.trapezoid(x,T,S,P,A,d);break;case"polygon":var w=a(u,"sides",5),O=a(u,"radius",Math.max(S,P)/2);p=f.polygon(x,T,w,O,d);break;case"fromVertices":case"fromVerts":var L=a(u,"verts",null);if(L)if(typeof L=="string"&&(L=l.fromPath(L)),this.body&&!this.body.hasOwnProperty("temp"))c.setVertices(this.body,L),p=this.body;else{var F=a(u,"flagInternal",!1),I=a(u,"removeCollinear",.01),b=a(u,"minimumArea",10);p=f.fromVertices(x,T,L,d,F,I,b)}break;case"fromPhysicsEditor":p=r.parseBody(x,T,u,d);break;case"fromPhysicsTracer":p=o.parseBody(x,T,u,d);break}return p&&this.setExistingBody(p,u.addToWorld),this}};h.exports=v},25106:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(35416),c=e(22806),s=e(39073),a={setToSleep:function(){return c.set(this.body,!0),this},setAwake:function(){return c.set(this.body,!1),this},setSleepThreshold:function(r){return r===void 0&&(r=60),this.body.sleepThreshold=r,this},setSleepEvents:function(r,o){return this.setSleepStartEvent(r),this.setSleepEndEvent(o),this},setSleepStartEvent:function(r){if(r){var o=this.world;s.on(this.body,"sleepStart",function(l){o.emit(f.SLEEP_START,l,this)})}else s.off(this.body,"sleepStart");return this},setSleepEndEvent:function(r){if(r){var o=this.world;s.on(this.body,"sleepEnd",function(l){o.emit(f.SLEEP_END,l,this)})}else s.off(this.body,"sleepEnd");return this}};h.exports=a},82884:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(84125),c={setStatic:function(s){return f.setStatic(this.body,s),this},isStatic:function(){return this.body.isStatic}};h.exports=c},4753:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(84125),c=e(83392),s=e(35786),a=e(62138),r=4,o={x:{get:function(){return this.body.position.x},set:function(l){this._tempVec2.set(l,this.y),f.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(l){this._tempVec2.set(this.x,l),f.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(l){var v=1/this._scaleX,u=1/this._scaleY;this._scaleX=l,this._scaleX===0?this.renderFlags&=~r:this.renderFlags|=r,f.scale(this.body,v,u),f.scale(this.body,l,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(l){var v=1/this._scaleX,u=1/this._scaleY;this._scaleY=l,this._scaleY===0?this.renderFlags&=~r:this.renderFlags|=r,f.scale(this.body,v,u),f.scale(this.body,this._scaleX,l)}},angle:{get:function(){return a(this.body.angle*c.RAD_TO_DEG)},set:function(l){this.rotation=a(l)*c.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(l){this._rotation=s(l),f.setAngle(this.body,this._rotation)}},setPosition:function(l,v){return l===void 0&&(l=0),v===void 0&&(v=l),this._tempVec2.set(l,v),f.setPosition(this.body,this._tempVec2),this},setRotation:function(l){return l===void 0&&(l=0),this._rotation=s(l),f.setAngle(this.body,l),this},setFixedRotation:function(){return f.setInertia(this.body,1/0),this},setAngle:function(l){return l===void 0&&(l=0),this.angle=l,f.setAngle(this.body,this.rotation),this},setScale:function(l,v,u){l===void 0&&(l=1),v===void 0&&(v=l);var d=1/this._scaleX,p=1/this._scaleY;return this._scaleX=l,this._scaleY=v,f.scale(this.body,d,p,u),f.scale(this.body,l,v,u),this}};h.exports=o},37268:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(84125),c={setVelocityX:function(s){return this._tempVec2.set(s,this.body.velocity.y),f.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(s){return this._tempVec2.set(this.body.velocity.x,s),f.setVelocity(this.body,this._tempVec2),this},setVelocity:function(s,a){return this._tempVec2.set(s,a),f.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return f.getVelocity(this.body)},setAngularVelocity:function(s){return f.setAngularVelocity(this.body,s),this},getAngularVelocity:function(){return f.getAngularVelocity(this.body)},setAngularSpeed:function(s){return f.setAngularSpeed(this.body,s),this},getAngularSpeed:function(){return f.getAngularSpeed(this.body)}};h.exports=c},74527:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Bounce:e(95349),Collision:e(70679),Force:e(77178),Friction:e(74015),Gravity:e(11535),Mass:e(74497),Sensor:e(75529),SetBody:e(64024),Sleep:e(25106),Static:e(82884),Transform:e(4753),Velocity:e(37268)}},63201:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="afteradd"},30474:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="afterremove"},44822:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="afterupdate"},88820:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="beforeadd"},94849:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="beforeremove"},6391:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="beforeupdate"},96738:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="collisionactive"},7916:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="collisionend"},59529:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="collisionstart"},10219:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="dragend"},183:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="drag"},39143:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="dragstart"},16483:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pause"},35806:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="resume"},22106:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="sleepend"},5803:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="sleepstart"},35416:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={AFTER_ADD:e(63201),AFTER_REMOVE:e(30474),AFTER_UPDATE:e(44822),BEFORE_ADD:e(88820),BEFORE_REMOVE:e(94849),BEFORE_UPDATE:e(6391),COLLISION_ACTIVE:e(96738),COLLISION_END:e(7916),COLLISION_START:e(59529),DRAG_END:e(10219),DRAG:e(183),DRAG_START:e(39143),PAUSE:e(16483),RESUME:e(35806),SLEEP_END:e(22106),SLEEP_START:e(5803)}},45949:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={BodyBounds:e(63568),Components:e(74527),Events:e(35416),Factory:e(72653),MatterGameObject:e(3860),Image:e(7030),Matter:e(18171),MatterPhysics:e(50583),PolyDecomp:e(81084),Sprite:e(73658),TileBody:e(84720),PhysicsEditorParser:e(10998),PhysicsJSONParser:e(72829),PointerConstraint:e(88596),World:e(31468)}},84125:(h,y,e)=>{var f={};h.exports=f;var c=e(39745),s=e(10438),a=e(22806),r=e(68758),o=e(84091),l=e(50658);(function(){f._timeCorrection=!0,f._inertiaScale=4,f._nextCollidingGroupId=1,f._nextNonCollidingGroupId=-1,f._nextCategory=1,f._baseDelta=16.666666666666668,f.create=function(u){var d={id:r.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!u.hasOwnProperty("position")&&u.hasOwnProperty("vertices")?u.position=c.centre(u.vertices):u.hasOwnProperty("vertices")||(d.vertices=c.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var p=r.extend(d,u);return v(p,u),p.setOnCollideWith=function(g,x){return x?this.onCollideWith[g.id]=x:delete this.onCollideWith[g.id],this},p},f.nextGroup=function(u){return u?f._nextNonCollidingGroupId--:f._nextCollidingGroupId++},f.nextCategory=function(){return f._nextCategory=f._nextCategory<<1,f._nextCategory};var v=function(u,d){if(d=d||{},f.set(u,{bounds:u.bounds||o.create(u.vertices),positionPrev:u.positionPrev||s.clone(u.position),anglePrev:u.anglePrev||u.angle,vertices:u.vertices,parts:u.parts||[u],isStatic:u.isStatic,isSleeping:u.isSleeping,parent:u.parent||u}),c.rotate(u.vertices,u.angle,u.position),l.rotate(u.axes,u.angle),o.update(u.bounds,u.vertices,u.velocity),f.set(u,{axes:d.axes||u.axes,area:d.area||u.area,mass:d.mass||u.mass,inertia:d.inertia||u.inertia}),u.parts.length===1){var p=u.bounds,g=u.centerOfMass,x=u.centerOffset,T=p.max.x-p.min.x,S=p.max.y-p.min.y;g.x=-(p.min.x-u.position.x)/T,g.y=-(p.min.y-u.position.y)/S,x.x=T*g.x,x.y=S*g.y}};f.set=function(u,d,p){var g;typeof d=="string"&&(g=d,d={},d[g]=p);for(g in d)if(Object.prototype.hasOwnProperty.call(d,g))switch(p=d[g],g){case"isStatic":f.setStatic(u,p);break;case"isSleeping":a.set(u,p);break;case"mass":f.setMass(u,p);break;case"density":f.setDensity(u,p);break;case"inertia":f.setInertia(u,p);break;case"vertices":f.setVertices(u,p);break;case"position":f.setPosition(u,p);break;case"angle":f.setAngle(u,p);break;case"velocity":f.setVelocity(u,p);break;case"angularVelocity":f.setAngularVelocity(u,p);break;case"speed":f.setSpeed(u,p);break;case"angularSpeed":f.setAngularSpeed(u,p);break;case"parts":f.setParts(u,p);break;case"centre":f.setCentre(u,p);break;default:u[g]=p}},f.setStatic=function(u,d){for(var p=0;p<u.parts.length;p++){var g=u.parts[p];d?(g.isStatic||(g._original={restitution:g.restitution,friction:g.friction,mass:g.mass,inertia:g.inertia,density:g.density,inverseMass:g.inverseMass,inverseInertia:g.inverseInertia}),g.restitution=0,g.friction=1,g.mass=g.inertia=g.density=1/0,g.inverseMass=g.inverseInertia=0,g.positionPrev.x=g.position.x,g.positionPrev.y=g.position.y,g.anglePrev=g.angle,g.angularVelocity=0,g.speed=0,g.angularSpeed=0,g.motion=0):g._original&&(g.restitution=g._original.restitution,g.friction=g._original.friction,g.mass=g._original.mass,g.inertia=g._original.inertia,g.density=g._original.density,g.inverseMass=g._original.inverseMass,g.inverseInertia=g._original.inverseInertia,g._original=null),g.isStatic=d}},f.setMass=function(u,d){var p=u.inertia/(u.mass/6);u.inertia=p*(d/6),u.inverseInertia=1/u.inertia,u.mass=d,u.inverseMass=1/u.mass,u.density=u.mass/u.area},f.setDensity=function(u,d){f.setMass(u,d*u.area),u.density=d},f.setInertia=function(u,d){u.inertia=d,u.inverseInertia=1/u.inertia},f.setVertices=function(u,d){d[0].body===u?u.vertices=d:u.vertices=c.create(d,u),u.axes=l.fromVertices(u.vertices),u.area=c.area(u.vertices),f.setMass(u,u.density*u.area);var p=c.centre(u.vertices);c.translate(u.vertices,p,-1),f.setInertia(u,f._inertiaScale*c.inertia(u.vertices,u.mass)),c.translate(u.vertices,u.position),o.update(u.bounds,u.vertices,u.velocity)},f.setParts=function(u,d,p){var g;for(d=d.slice(0),u.parts.length=0,u.parts.push(u),u.parent=u,g=0;g<d.length;g++){var x=d[g];x!==u&&(x.parent=u,u.parts.push(x))}if(u.parts.length!==1){if(p=typeof p<"u"?p:!0,p){var T=[];for(g=0;g<d.length;g++)T=T.concat(d[g].vertices);c.clockwiseSort(T);var S=c.hull(T),P=c.centre(S);f.setVertices(u,S),c.translate(u.vertices,P)}var E=f._totalProperties(u),R=E.centre.x,A=E.centre.y,w=u.bounds,O=u.centerOfMass,L=u.centerOffset;o.update(w,u.vertices,u.velocity),O.x=-(w.min.x-R)/(w.max.x-w.min.x),O.y=-(w.min.y-A)/(w.max.y-w.min.y),L.x=R,L.y=A,u.area=E.area,u.parent=u,u.position.x=R,u.position.y=A,u.positionPrev.x=R,u.positionPrev.y=A,f.setMass(u,E.mass),f.setInertia(u,E.inertia),f.setPosition(u,E.centre)}},f.setCentre=function(u,d,p){p?(u.positionPrev.x+=d.x,u.positionPrev.y+=d.y,u.position.x+=d.x,u.position.y+=d.y):(u.positionPrev.x=d.x-(u.position.x-u.positionPrev.x),u.positionPrev.y=d.y-(u.position.y-u.positionPrev.y),u.position.x=d.x,u.position.y=d.y)},f.setPosition=function(u,d,p){var g=s.sub(d,u.position);p?(u.positionPrev.x=u.position.x,u.positionPrev.y=u.position.y,u.velocity.x=g.x,u.velocity.y=g.y,u.speed=s.magnitude(g)):(u.positionPrev.x+=g.x,u.positionPrev.y+=g.y);for(var x=0;x<u.parts.length;x++){var T=u.parts[x];T.position.x+=g.x,T.position.y+=g.y,c.translate(T.vertices,g),o.update(T.bounds,T.vertices,u.velocity)}},f.setAngle=function(u,d,p){var g=d-u.angle;p?(u.anglePrev=u.angle,u.angularVelocity=g,u.angularSpeed=Math.abs(g)):u.anglePrev+=g;for(var x=0;x<u.parts.length;x++){var T=u.parts[x];T.angle+=g,c.rotate(T.vertices,g,u.position),l.rotate(T.axes,g),o.update(T.bounds,T.vertices,u.velocity),x>0&&s.rotateAbout(T.position,g,u.position,T.position)}},f.setVelocity=function(u,d){var p=u.deltaTime/f._baseDelta;u.positionPrev.x=u.position.x-d.x*p,u.positionPrev.y=u.position.y-d.y*p,u.velocity.x=(u.position.x-u.positionPrev.x)/p,u.velocity.y=(u.position.y-u.positionPrev.y)/p,u.speed=s.magnitude(u.velocity)},f.getVelocity=function(u){var d=f._baseDelta/u.deltaTime;return{x:(u.position.x-u.positionPrev.x)*d,y:(u.position.y-u.positionPrev.y)*d}},f.getSpeed=function(u){return s.magnitude(f.getVelocity(u))},f.setSpeed=function(u,d){f.setVelocity(u,s.mult(s.normalise(f.getVelocity(u)),d))},f.setAngularVelocity=function(u,d){var p=u.deltaTime/f._baseDelta;u.anglePrev=u.angle-d*p,u.angularVelocity=(u.angle-u.anglePrev)/p,u.angularSpeed=Math.abs(u.angularVelocity)},f.getAngularVelocity=function(u){return(u.angle-u.anglePrev)*f._baseDelta/u.deltaTime},f.getAngularSpeed=function(u){return Math.abs(f.getAngularVelocity(u))},f.setAngularSpeed=function(u,d){f.setAngularVelocity(u,r.sign(f.getAngularVelocity(u))*d)},f.translate=function(u,d,p){f.setPosition(u,s.add(u.position,d),p)},f.rotate=function(u,d,p,g){if(!p)f.setAngle(u,u.angle+d,g);else{var x=Math.cos(d),T=Math.sin(d),S=u.position.x-p.x,P=u.position.y-p.y;f.setPosition(u,{x:p.x+(S*x-P*T),y:p.y+(S*T+P*x)},g),f.setAngle(u,u.angle+d,g)}},f.scale=function(u,d,p,g){var x=0,T=0;g=g||u.position;for(var S=0;S<u.parts.length;S++){var P=u.parts[S];P.scale.x=d,P.scale.y=p,c.scale(P.vertices,d,p,g),P.axes=l.fromVertices(P.vertices),P.area=c.area(P.vertices),f.setMass(P,u.density*P.area),c.translate(P.vertices,{x:-P.position.x,y:-P.position.y}),f.setInertia(P,f._inertiaScale*c.inertia(P.vertices,P.mass)),c.translate(P.vertices,{x:P.position.x,y:P.position.y}),S>0&&(x+=P.area,T+=P.inertia),P.position.x=g.x+(P.position.x-g.x)*d,P.position.y=g.y+(P.position.y-g.y)*p,o.update(P.bounds,P.vertices,u.velocity)}u.parts.length>1&&(u.area=x,u.isStatic||(f.setMass(u,u.density*x),f.setInertia(u,T))),u.circleRadius&&(d===p?u.circleRadius*=d:u.circleRadius=null)},f.update=function(u,d){d=(typeof d<"u"?d:16.666666666666668)*u.timeScale;var p=d*d,g=f._timeCorrection?d/(u.deltaTime||d):1,x=1-u.frictionAir*(d/r._baseDelta),T=(u.position.x-u.positionPrev.x)*g,S=(u.position.y-u.positionPrev.y)*g;u.velocity.x=T*x+u.force.x/u.mass*p,u.velocity.y=S*x+u.force.y/u.mass*p,u.positionPrev.x=u.position.x,u.positionPrev.y=u.position.y,u.position.x+=u.velocity.x,u.position.y+=u.velocity.y,u.deltaTime=d,u.angularVelocity=(u.angle-u.anglePrev)*x*g+u.torque/u.inertia*p,u.anglePrev=u.angle,u.angle+=u.angularVelocity,u.speed=s.magnitude(u.velocity),u.angularSpeed=Math.abs(u.angularVelocity);for(var P=0;P<u.parts.length;P++){var E=u.parts[P];c.translate(E.vertices,u.velocity),P>0&&(E.position.x+=u.velocity.x,E.position.y+=u.velocity.y),u.angularVelocity!==0&&(c.rotate(E.vertices,u.angularVelocity,u.position),l.rotate(E.axes,u.angularVelocity),P>0&&s.rotateAbout(E.position,u.angularVelocity,u.position,E.position)),o.update(E.bounds,E.vertices,u.velocity)}},f.updateVelocities=function(u){var d=f._baseDelta/u.deltaTime,p=u.velocity;p.x=(u.position.x-u.positionPrev.x)*d,p.y=(u.position.y-u.positionPrev.y)*d,u.speed=Math.sqrt(p.x*p.x+p.y*p.y),u.angularVelocity=(u.angle-u.anglePrev)*d,u.angularSpeed=Math.abs(u.angularVelocity)},f.applyForce=function(u,d,p){var g={x:d.x-u.position.x,y:d.y-u.position.y};u.force.x+=p.x,u.force.y+=p.y,u.torque+=g.x*p.y-g.y*p.x},f._totalProperties=function(u){for(var d={mass:0,area:0,inertia:0,centre:{x:0,y:0}},p=u.parts.length===1?0:1;p<u.parts.length;p++){var g=u.parts[p],x=g.mass!==1/0?g.mass:1;d.mass+=x,d.area+=g.area,d.inertia+=g.inertia,d.centre=s.add(d.centre,s.mult(g.position,x))}return d.centre=s.div(d.centre,d.mass),d}})()},11299:(h,y,e)=>{var f={};h.exports=f;var c=e(39073),s=e(68758),a=e(84091),r=e(84125);(function(){f.create=function(o){return s.extend({id:s.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},o)},f.setModified=function(o,l,v,u){if(c.trigger(o,"compositeModified",o),o.isModified=l,l&&o.cache&&(o.cache.allBodies=null,o.cache.allConstraints=null,o.cache.allComposites=null),v&&o.parent&&f.setModified(o.parent,l,v,u),u)for(var d=0;d<o.composites.length;d++){var p=o.composites[d];f.setModified(p,l,v,u)}},f.add=function(o,l){var v=[].concat(l);c.trigger(o,"beforeAdd",{object:l});for(var u=0;u<v.length;u++){var d=v[u];switch(d.type){case"body":if(d.parent!==d){s.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}f.addBody(o,d);break;case"constraint":f.addConstraint(o,d);break;case"composite":f.addComposite(o,d);break;case"mouseConstraint":f.addConstraint(o,d.constraint);break}}return c.trigger(o,"afterAdd",{object:l}),o},f.remove=function(o,l,v){var u=[].concat(l);c.trigger(o,"beforeRemove",{object:l});for(var d=0;d<u.length;d++){var p=u[d];switch(p.type){case"body":f.removeBody(o,p,v);break;case"constraint":f.removeConstraint(o,p,v);break;case"composite":f.removeComposite(o,p,v);break;case"mouseConstraint":f.removeConstraint(o,p.constraint);break}}return c.trigger(o,"afterRemove",{object:l}),o},f.addComposite=function(o,l){return o.composites.push(l),l.parent=o,f.setModified(o,!0,!0,!1),o},f.removeComposite=function(o,l,v){var u=s.indexOf(o.composites,l);if(u!==-1&&f.removeCompositeAt(o,u),v)for(var d=0;d<o.composites.length;d++)f.removeComposite(o.composites[d],l,!0);return o},f.removeCompositeAt=function(o,l){return o.composites.splice(l,1),f.setModified(o,!0,!0,!1),o},f.addBody=function(o,l){return o.bodies.push(l),f.setModified(o,!0,!0,!1),o},f.removeBody=function(o,l,v){var u=s.indexOf(o.bodies,l);if(u!==-1&&f.removeBodyAt(o,u),v)for(var d=0;d<o.composites.length;d++)f.removeBody(o.composites[d],l,!0);return o},f.removeBodyAt=function(o,l){return o.bodies.splice(l,1),f.setModified(o,!0,!0,!1),o},f.addConstraint=function(o,l){return o.constraints.push(l),f.setModified(o,!0,!0,!1),o},f.removeConstraint=function(o,l,v){var u=s.indexOf(o.constraints,l);if(u!==-1&&f.removeConstraintAt(o,u),v)for(var d=0;d<o.composites.length;d++)f.removeConstraint(o.composites[d],l,!0);return o},f.removeConstraintAt=function(o,l){return o.constraints.splice(l,1),f.setModified(o,!0,!0,!1),o},f.clear=function(o,l,v){if(v)for(var u=0;u<o.composites.length;u++)f.clear(o.composites[u],l,!0);return l?o.bodies=o.bodies.filter(function(d){return d.isStatic}):o.bodies.length=0,o.constraints.length=0,o.composites.length=0,f.setModified(o,!0,!0,!1),o},f.allBodies=function(o){if(o.cache&&o.cache.allBodies)return o.cache.allBodies;for(var l=[].concat(o.bodies),v=0;v<o.composites.length;v++)l=l.concat(f.allBodies(o.composites[v]));return o.cache&&(o.cache.allBodies=l),l},f.allConstraints=function(o){if(o.cache&&o.cache.allConstraints)return o.cache.allConstraints;for(var l=[].concat(o.constraints),v=0;v<o.composites.length;v++)l=l.concat(f.allConstraints(o.composites[v]));return o.cache&&(o.cache.allConstraints=l),l},f.allComposites=function(o){if(o.cache&&o.cache.allComposites)return o.cache.allComposites;for(var l=[].concat(o.composites),v=0;v<o.composites.length;v++)l=l.concat(f.allComposites(o.composites[v]));return o.cache&&(o.cache.allComposites=l),l},f.get=function(o,l,v){var u,d;switch(v){case"body":u=f.allBodies(o);break;case"constraint":u=f.allConstraints(o);break;case"composite":u=f.allComposites(o).concat(o);break}return u?(d=u.filter(function(p){return p.id.toString()===l.toString()}),d.length===0?null:d[0]):null},f.move=function(o,l,v){return f.remove(o,l),f.add(v,l),o},f.rebase=function(o){for(var l=f.allBodies(o).concat(f.allConstraints(o)).concat(f.allComposites(o)),v=0;v<l.length;v++)l[v].id=s.nextId();return o},f.translate=function(o,l,v){for(var u=v?f.allBodies(o):o.bodies,d=0;d<u.length;d++)r.translate(u[d],l);return o},f.rotate=function(o,l,v,u){for(var d=Math.cos(l),p=Math.sin(l),g=u?f.allBodies(o):o.bodies,x=0;x<g.length;x++){var T=g[x],S=T.position.x-v.x,P=T.position.y-v.y;r.setPosition(T,{x:v.x+(S*d-P*p),y:v.y+(S*p+P*d)}),r.rotate(T,l)}return o},f.scale=function(o,l,v,u,d){for(var p=d?f.allBodies(o):o.bodies,g=0;g<p.length;g++){var x=p[g],T=x.position.x-u.x,S=x.position.y-u.y;r.setPosition(x,{x:u.x+T*l,y:u.y+S*v}),r.scale(x,l,v)}return o},f.bounds=function(o){for(var l=f.allBodies(o),v=[],u=0;u<l.length;u+=1){var d=l[u];v.push(d.bounds.min,d.bounds.max)}return a.create(v)}})()},72005:(h,y,e)=>{var f={};h.exports=f;var c=e(11299);(function(){f.create=c.create,f.add=c.add,f.remove=c.remove,f.clear=c.clear,f.addComposite=c.addComposite,f.addBody=c.addBody,f.addConstraint=c.addConstraint})()},63454:(h,y,e)=>{var f={};h.exports=f;var c=e(39745),s=e(70584);(function(){var a=[],r={overlap:0,axis:null},o={overlap:0,axis:null};f.create=function(l,v){return{pair:null,collided:!1,bodyA:l,bodyB:v,parentA:l.parent,parentB:v.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},f.collides=function(l,v,u){if(f._overlapAxes(r,l.vertices,v.vertices,l.axes),r.overlap<=0||(f._overlapAxes(o,v.vertices,l.vertices,v.axes),o.overlap<=0))return null;var d=u&&u.table[s.id(l,v)],p;d?p=d.collision:(p=f.create(l,v),p.collided=!0,p.bodyA=l.id<v.id?l:v,p.bodyB=l.id<v.id?v:l,p.parentA=p.bodyA.parent,p.parentB=p.bodyB.parent),l=p.bodyA,v=p.bodyB;var g;r.overlap<o.overlap?g=r:g=o;var x=p.normal,T=p.supports,S=g.axis,P=S.x,E=S.y;P*(v.position.x-l.position.x)+E*(v.position.y-l.position.y)<0?(x.x=P,x.y=E):(x.x=-P,x.y=-E),p.tangent.x=-x.y,p.tangent.y=x.x,p.depth=g.overlap,p.penetration.x=x.x*p.depth,p.penetration.y=x.y*p.depth;var R=f._findSupports(l,v,x,1),A=0;if(c.contains(l.vertices,R[0])&&(T[A++]=R[0]),c.contains(l.vertices,R[1])&&(T[A++]=R[1]),A<2){var w=f._findSupports(v,l,x,-1);c.contains(v.vertices,w[0])&&(T[A++]=w[0]),A<2&&c.contains(v.vertices,w[1])&&(T[A++]=w[1])}return A===0&&(T[A++]=R[0]),T.length=A,p},f._overlapAxes=function(l,v,u,d){var p=v.length,g=u.length,x=v[0].x,T=v[0].y,S=u[0].x,P=u[0].y,E=d.length,R=Number.MAX_VALUE,A=0,w,O,L,F,I,b;for(I=0;I<E;I++){var G=d[I],N=G.x,U=G.y,Y=x*N+T*U,X=S*N+P*U,B=Y,z=X;for(b=1;b<p;b+=1)F=v[b].x*N+v[b].y*U,F>B?B=F:F<Y&&(Y=F);for(b=1;b<g;b+=1)F=u[b].x*N+u[b].y*U,F>z?z=F:F<X&&(X=F);if(O=B-X,L=z-Y,w=O<L?O:L,w<R&&(R=w,A=I,w<=0))break}l.axis=d[A],l.overlap=R},f._projectToAxis=function(l,v,u){for(var d=v[0].x*u.x+v[0].y*u.y,p=d,g=1;g<v.length;g+=1){var x=v[g].x*u.x+v[g].y*u.y;x>p?p=x:x<d&&(d=x)}l.min=d,l.max=p},f._findSupports=function(l,v,u,d){var p=v.vertices,g=p.length,x=l.position.x,T=l.position.y,S=u.x*d,P=u.y*d,E=Number.MAX_VALUE,R,A,w,O,L;for(L=0;L<g;L+=1)A=p[L],O=S*(x-A.x)+P*(T-A.y),O<E&&(E=O,R=A);return w=p[(g+R.index-1)%g],E=S*(x-w.x)+P*(T-w.y),A=p[(R.index+1)%g],S*(x-A.x)+P*(T-A.y)<E?(a[0]=R,a[1]=A,a):(a[0]=R,a[1]=w,a)}})()},17319:h=>{var y={};h.exports=y,function(){y.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}}()},13657:(h,y,e)=>{var f={};h.exports=f;var c=e(68758),s=e(63454);(function(){f.create=function(a){var r={bodies:[],pairs:null};return c.extend(r,a)},f.setBodies=function(a,r){a.bodies=r.slice(0)},f.clear=function(a){a.bodies=[]},f.collisions=function(a){var r=[],o=a.pairs,l=a.bodies,v=l.length,u=f.canCollide,d=s.collides,p,g;for(l.sort(f._compareBoundsX),p=0;p<v;p++){var x=l[p],T=x.bounds,S=x.bounds.max.x,P=x.bounds.max.y,E=x.bounds.min.y,R=x.isStatic||x.isSleeping,A=x.parts.length,w=A===1;for(g=p+1;g<v;g++){var O=l[g],L=O.bounds;if(L.min.x>S)break;if(!(P<L.min.y||E>L.max.y)&&!(R&&(O.isStatic||O.isSleeping))&&u(x.collisionFilter,O.collisionFilter)){var F=O.parts.length;if(w&&F===1){var I=d(x,O,o);I&&r.push(I)}else for(var b=A>1?1:0,G=F>1?1:0,N=b;N<A;N++)for(var U=x.parts[N],T=U.bounds,Y=G;Y<F;Y++){var X=O.parts[Y],L=X.bounds;if(!(T.min.x>L.max.x||T.max.x<L.min.x||T.max.y<L.min.y||T.min.y>L.max.y)){var I=d(U,X,o);I&&r.push(I)}}}}}return r},f.canCollide=function(a,r){return a.group===r.group&&a.group!==0?a.group>0:(a.mask&r.category)!==0&&(r.mask&a.category)!==0},f._compareBoundsX=function(a,r){return a.bounds.min.x-r.bounds.min.x}})()},70584:(h,y,e)=>{var f={};h.exports=f;var c=e(17319);(function(){f.create=function(s,a){var r=s.bodyA,o=s.bodyB,l={id:f.id(r,o),bodyA:r,bodyB:o,collision:s,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:r.isSensor||o.isSensor,timeCreated:a,timeUpdated:a,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return f.update(l,s,a),l},f.update=function(s,a,r){var o=s.contacts,l=a.supports,v=s.activeContacts,u=a.parentA,d=a.parentB,p=u.vertices.length;s.isActive=!0,s.timeUpdated=r,s.collision=a,s.separation=a.depth,s.inverseMass=u.inverseMass+d.inverseMass,s.friction=u.friction<d.friction?u.friction:d.friction,s.frictionStatic=u.frictionStatic>d.frictionStatic?u.frictionStatic:d.frictionStatic,s.restitution=u.restitution>d.restitution?u.restitution:d.restitution,s.slop=u.slop>d.slop?u.slop:d.slop,a.pair=s,v.length=0;for(var g=0;g<l.length;g++){var x=l[g],T=x.body===u?x.index:p+x.index,S=o[T];S?v.push(S):v.push(o[T]=c.create(x))}},f.setActive=function(s,a,r){a?(s.isActive=!0,s.timeUpdated=r):(s.isActive=!1,s.activeContacts.length=0)},f.id=function(s,a){return s.id<a.id?"A"+s.id+"B"+a.id:"A"+a.id+"B"+s.id}})()},91327:(h,y,e)=>{var f={};h.exports=f;var c=e(70584),s=e(68758);(function(){f.create=function(a){return s.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},a)},f.update=function(a,r,o){var l=a.list,v=l.length,u=a.table,d=r.length,p=a.collisionStart,g=a.collisionEnd,x=a.collisionActive,T,S,P,E;for(p.length=0,g.length=0,x.length=0,E=0;E<v;E++)l[E].confirmedActive=!1;for(E=0;E<d;E++)T=r[E],P=T.pair,P?(P.isActive?x.push(P):p.push(P),c.update(P,T,o),P.confirmedActive=!0):(P=c.create(T,o),u[P.id]=P,p.push(P),l.push(P));var R=[];for(v=l.length,E=0;E<v;E++)P=l[E],P.confirmedActive||(c.setActive(P,!1,o),g.push(P),!P.collision.bodyA.isSleeping&&!P.collision.bodyB.isSleeping&&R.push(E));for(E=0;E<R.length;E++)S=R[E]-E,P=l[S],l.splice(S,1),delete u[P.id]},f.clear=function(a){return a.table={},a.list.length=0,a.collisionStart.length=0,a.collisionActive.length=0,a.collisionEnd.length=0,a}})()},13390:(h,y,e)=>{var f={};h.exports=f;var c=e(10438),s=e(63454),a=e(84091),r=e(68516),o=e(39745);(function(){f.collides=function(l,v){for(var u=[],d=v.length,p=l.bounds,g=s.collides,x=a.overlaps,T=0;T<d;T++){var S=v[T],P=S.parts.length,E=P===1?0:1;if(l!==S&&x(S.bounds,p))for(var R=E;R<P;R++){var A=S.parts[R];if(x(A.bounds,p)){var w=g(A,l);if(w){u.push(w);break}}}}return u},f.ray=function(l,v,u,d){d=d||1e-100;for(var p=c.angle(v,u),g=c.magnitude(c.sub(v,u)),x=(u.x+v.x)*.5,T=(u.y+v.y)*.5,S=r.rectangle(x,T,g,d,{angle:p}),P=f.collides(S,l),E=0;E<P.length;E+=1){var R=P[E];R.body=R.bodyB=R.bodyA}return P},f.region=function(l,v,u){for(var d=[],p=0;p<l.length;p++){var g=l[p],x=a.overlaps(g.bounds,v);(x&&!u||!x&&u)&&d.push(g)}return d},f.point=function(l,v){for(var u=[],d=0;d<l.length;d++){var p=l[d];if(a.contains(p.bounds,v))for(var g=p.parts.length===1?0:1;g<p.parts.length;g++){var x=p.parts[g];if(a.contains(x.bounds,v)&&o.contains(x.vertices,v)){u.push(p);break}}}return u}})()},44272:(h,y,e)=>{var f={};h.exports=f;var c=e(39745),s=e(68758),a=e(84091);(function(){f._restingThresh=2,f._restingThreshTangent=Math.sqrt(6),f._positionDampen=.9,f._positionWarming=.8,f._frictionNormalMultiplier=5,f._frictionMaxStatic=Number.MAX_VALUE,f.preSolvePosition=function(r){var o,l,v,u=r.length;for(o=0;o<u;o++)l=r[o],l.isActive&&(v=l.activeContacts.length,l.collision.parentA.totalContacts+=v,l.collision.parentB.totalContacts+=v)},f.solvePosition=function(r,o,l){var v,u,d,p,g,x,T,S,P=f._positionDampen*(l||1),E=s.clamp(o/s._baseDelta,0,1),R=r.length;for(v=0;v<R;v++)u=r[v],!(!u.isActive||u.isSensor)&&(d=u.collision,p=d.parentA,g=d.parentB,x=d.normal,u.separation=x.x*(g.positionImpulse.x+d.penetration.x-p.positionImpulse.x)+x.y*(g.positionImpulse.y+d.penetration.y-p.positionImpulse.y));for(v=0;v<R;v++)u=r[v],!(!u.isActive||u.isSensor)&&(d=u.collision,p=d.parentA,g=d.parentB,x=d.normal,S=u.separation-u.slop*E,(p.isStatic||g.isStatic)&&(S*=2),p.isStatic||p.isSleeping||(T=P/p.totalContacts,p.positionImpulse.x+=x.x*S*T,p.positionImpulse.y+=x.y*S*T),g.isStatic||g.isSleeping||(T=P/g.totalContacts,g.positionImpulse.x-=x.x*S*T,g.positionImpulse.y-=x.y*S*T))},f.postSolvePosition=function(r){for(var o=f._positionWarming,l=r.length,v=c.translate,u=a.update,d=0;d<l;d++){var p=r[d],g=p.positionImpulse,x=g.x,T=g.y,S=p.velocity;if(p.totalContacts=0,x!==0||T!==0){for(var P=0;P<p.parts.length;P++){var E=p.parts[P];v(E.vertices,g),u(E.bounds,E.vertices,S),E.position.x+=x,E.position.y+=T}p.positionPrev.x+=x,p.positionPrev.y+=T,x*S.x+T*S.y<0?(g.x=0,g.y=0):(g.x*=o,g.y*=o)}}},f.preSolveVelocity=function(r){var o=r.length,l,v;for(l=0;l<o;l++){var u=r[l];if(!(!u.isActive||u.isSensor)){var d=u.activeContacts,p=d.length,g=u.collision,x=g.parentA,T=g.parentB,S=g.normal,P=g.tangent;for(v=0;v<p;v++){var E=d[v],R=E.vertex,A=E.normalImpulse,w=E.tangentImpulse;if(A!==0||w!==0){var O=S.x*A+P.x*w,L=S.y*A+P.y*w;x.isStatic||x.isSleeping||(x.positionPrev.x+=O*x.inverseMass,x.positionPrev.y+=L*x.inverseMass,x.anglePrev+=x.inverseInertia*((R.x-x.position.x)*L-(R.y-x.position.y)*O)),T.isStatic||T.isSleeping||(T.positionPrev.x-=O*T.inverseMass,T.positionPrev.y-=L*T.inverseMass,T.anglePrev-=T.inverseInertia*((R.x-T.position.x)*L-(R.y-T.position.y)*O))}}}}},f.solveVelocity=function(r,o){var l=o/s._baseDelta,v=l*l,u=v*l,d=-f._restingThresh*l,p=f._restingThreshTangent,g=f._frictionNormalMultiplier*l,x=f._frictionMaxStatic,T=r.length,S,P,E,R;for(E=0;E<T;E++){var A=r[E];if(!(!A.isActive||A.isSensor)){var w=A.collision,O=w.parentA,L=w.parentB,F=O.velocity,I=L.velocity,b=w.normal.x,G=w.normal.y,N=w.tangent.x,U=w.tangent.y,Y=A.activeContacts,X=Y.length,B=1/X,z=O.inverseMass+L.inverseMass,D=A.friction*A.frictionStatic*g;for(F.x=O.position.x-O.positionPrev.x,F.y=O.position.y-O.positionPrev.y,I.x=L.position.x-L.positionPrev.x,I.y=L.position.y-L.positionPrev.y,O.angularVelocity=O.angle-O.anglePrev,L.angularVelocity=L.angle-L.anglePrev,R=0;R<X;R++){var V=Y[R],k=V.vertex,W=k.x-O.position.x,H=k.y-O.position.y,$=k.x-L.position.x,K=k.y-L.position.y,j=F.x-H*O.angularVelocity,Z=F.y+W*O.angularVelocity,J=I.x-K*L.angularVelocity,Q=I.y+$*L.angularVelocity,q=j-J,_=Z-Q,et=b*q+G*_,st=N*q+U*_,it=A.separation+et,lt=Math.min(it,1);lt=it<0?0:lt;var tt=lt*D;st<-tt||st>tt?(P=st>0?st:-st,S=A.friction*(st>0?1:-1)*u,S<-P?S=-P:S>P&&(S=P)):(S=st,P=x);var ht=W*G-H*b,rt=$*G-K*b,ft=B/(z+O.inverseInertia*ht*ht+L.inverseInertia*rt*rt),ct=(1+A.restitution)*et*ft;if(S*=ft,et<d)V.normalImpulse=0;else{var yt=V.normalImpulse;V.normalImpulse+=ct,V.normalImpulse>0&&(V.normalImpulse=0),ct=V.normalImpulse-yt}if(st<-p||st>p)V.tangentImpulse=0;else{var mt=V.tangentImpulse;V.tangentImpulse+=S,V.tangentImpulse<-P&&(V.tangentImpulse=-P),V.tangentImpulse>P&&(V.tangentImpulse=P),S=V.tangentImpulse-mt}var dt=b*ct+N*S,gt=G*ct+U*S;O.isStatic||O.isSleeping||(O.positionPrev.x+=dt*O.inverseMass,O.positionPrev.y+=gt*O.inverseMass,O.anglePrev+=(W*gt-H*dt)*O.inverseInertia),L.isStatic||L.isSleeping||(L.positionPrev.x-=dt*L.inverseMass,L.positionPrev.y-=gt*L.inverseMass,L.anglePrev-=($*gt-K*dt)*L.inverseInertia)}}}}})()},52838:(h,y,e)=>{var f={};h.exports=f;var c=e(39745),s=e(10438),a=e(22806),r=e(84091),o=e(50658),l=e(68758);(function(){f._warming=.4,f._torqueDampen=1,f._minLength=1e-6,f.create=function(v){var u=v;u.bodyA&&!u.pointA&&(u.pointA={x:0,y:0}),u.bodyB&&!u.pointB&&(u.pointB={x:0,y:0});var d=u.bodyA?s.add(u.bodyA.position,u.pointA):u.pointA,p=u.bodyB?s.add(u.bodyB.position,u.pointB):u.pointB,g=s.magnitude(s.sub(d,p));u.length=typeof u.length<"u"?u.length:g,u.id=u.id||l.nextId(),u.label=u.label||"Constraint",u.type="constraint",u.stiffness=u.stiffness||(u.length>0?1:.7),u.damping=u.damping||0,u.angularStiffness=u.angularStiffness||0,u.angleA=u.bodyA?u.bodyA.angle:u.angleA,u.angleB=u.bodyB?u.bodyB.angle:u.angleB,u.plugin={};var x={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return u.length===0&&u.stiffness>.1?(x.type="pin",x.anchors=!1):u.stiffness<.9&&(x.type="spring"),u.render=l.extend(x,u.render),u},f.preSolveAll=function(v){for(var u=0;u<v.length;u+=1){var d=v[u],p=d.constraintImpulse;d.isStatic||p.x===0&&p.y===0&&p.angle===0||(d.position.x+=p.x,d.position.y+=p.y,d.angle+=p.angle)}},f.solveAll=function(v,u){for(var d=l.clamp(u/l._baseDelta,0,1),p=0;p<v.length;p+=1){var g=v[p],x=!g.bodyA||g.bodyA&&g.bodyA.isStatic,T=!g.bodyB||g.bodyB&&g.bodyB.isStatic;(x||T)&&f.solve(v[p],d)}for(p=0;p<v.length;p+=1)g=v[p],x=!g.bodyA||g.bodyA&&g.bodyA.isStatic,T=!g.bodyB||g.bodyB&&g.bodyB.isStatic,!x&&!T&&f.solve(v[p],d)},f.solve=function(v,u){var d=v.bodyA,p=v.bodyB,g=v.pointA,x=v.pointB;if(!(!d&&!p)){d&&!d.isStatic&&(s.rotate(g,d.angle-v.angleA,g),v.angleA=d.angle),p&&!p.isStatic&&(s.rotate(x,p.angle-v.angleB,x),v.angleB=p.angle);var T=g,S=x;if(d&&(T=s.add(d.position,g)),p&&(S=s.add(p.position,x)),!(!T||!S)){var P=s.sub(T,S),E=s.magnitude(P);E<f._minLength&&(E=f._minLength);var R=(E-v.length)/E,A=v.stiffness>=1||v.length===0,w=A?v.stiffness*u:v.stiffness*u*u,O=v.damping*u,L=s.mult(P,R*w),F=(d?d.inverseMass:0)+(p?p.inverseMass:0),I=(d?d.inverseInertia:0)+(p?p.inverseInertia:0),b=F+I,G,N,U,Y,X;if(O>0){var B=s.create();U=s.div(P,E),X=s.sub(p&&s.sub(p.position,p.positionPrev)||B,d&&s.sub(d.position,d.positionPrev)||B),Y=s.dot(U,X)}d&&!d.isStatic&&(N=d.inverseMass/F,d.constraintImpulse.x-=L.x*N,d.constraintImpulse.y-=L.y*N,d.position.x-=L.x*N,d.position.y-=L.y*N,O>0&&(d.positionPrev.x-=O*U.x*Y*N,d.positionPrev.y-=O*U.y*Y*N),G=s.cross(g,L)/b*f._torqueDampen*d.inverseInertia*(1-v.angularStiffness),d.constraintImpulse.angle-=G,d.angle-=G),p&&!p.isStatic&&(N=p.inverseMass/F,p.constraintImpulse.x+=L.x*N,p.constraintImpulse.y+=L.y*N,p.position.x+=L.x*N,p.position.y+=L.y*N,O>0&&(p.positionPrev.x+=O*U.x*Y*N,p.positionPrev.y+=O*U.y*Y*N),G=s.cross(x,L)/b*f._torqueDampen*p.inverseInertia*(1-v.angularStiffness),p.constraintImpulse.angle+=G,p.angle+=G)}}},f.postSolveAll=function(v){for(var u=0;u<v.length;u++){var d=v[u],p=d.constraintImpulse;if(!(d.isStatic||p.x===0&&p.y===0&&p.angle===0)){a.set(d,!1);for(var g=0;g<d.parts.length;g++){var x=d.parts[g];c.translate(x.vertices,p),g>0&&(x.position.x+=p.x,x.position.y+=p.y),p.angle!==0&&(c.rotate(x.vertices,p.angle,d.position),o.rotate(x.axes,p.angle),g>0&&s.rotateAbout(x.position,p.angle,d.position,x.position)),r.update(x.bounds,x.vertices,d.velocity)}p.angle*=f._warming,p.x*=f._warming,p.y*=f._warming}}},f.pointAWorld=function(v){return{x:(v.bodyA?v.bodyA.position.x:0)+(v.pointA?v.pointA.x:0),y:(v.bodyA?v.bodyA.position.y:0)+(v.pointA?v.pointA.y:0)}},f.pointBWorld=function(v){return{x:(v.bodyB?v.bodyB.position.x:0)+(v.pointB?v.pointB.x:0),y:(v.bodyB?v.bodyB.position.y:0)+(v.pointB?v.pointB.y:0)}},f.currentLength=function(v){var u=(v.bodyA?v.bodyA.position.x:0)+(v.pointA?v.pointA.x:0),d=(v.bodyA?v.bodyA.position.y:0)+(v.pointA?v.pointA.y:0),p=(v.bodyB?v.bodyB.position.x:0)+(v.pointB?v.pointB.x:0),g=(v.bodyB?v.bodyB.position.y:0)+(v.pointB?v.pointB.y:0),x=u-p,T=d-g;return Math.sqrt(x*x+T*T)}})()},68758:(h,y,e)=>{var f={};h.exports=f,function(){f._baseDelta=16.666666666666668,f._nextId=0,f._seed=0,f._nowStartTime=+new Date,f._warnedOnce={},f._decomp=null,f.extend=function(s,a){var r,o;typeof a=="boolean"?(r=2,o=a):(r=1,o=!0);for(var l=r;l<arguments.length;l++){var v=arguments[l];if(v)for(var u in v)o&&v[u]&&v[u].constructor===Object&&(!s[u]||s[u].constructor===Object)?(s[u]=s[u]||{},f.extend(s[u],o,v[u])):s[u]=v[u]}return s},f.clone=function(s,a){return f.extend({},a,s)},f.keys=function(s){if(Object.keys)return Object.keys(s);var a=[];for(var r in s)a.push(r);return a},f.values=function(s){var a=[];if(Object.keys){for(var r=Object.keys(s),o=0;o<r.length;o++)a.push(s[r[o]]);return a}for(var l in s)a.push(s[l]);return a},f.get=function(s,a,r,o){a=a.split(".").slice(r,o);for(var l=0;l<a.length;l+=1)s=s[a[l]];return s},f.set=function(s,a,r,o,l){var v=a.split(".").slice(o,l);return f.get(s,a,0,-1)[v[v.length-1]]=r,r},f.shuffle=function(s){for(var a=s.length-1;a>0;a--){var r=Math.floor(f.random()*(a+1)),o=s[a];s[a]=s[r],s[r]=o}return s},f.choose=function(s){return s[Math.floor(f.random()*s.length)]},f.isElement=function(s){return typeof HTMLElement<"u"?s instanceof HTMLElement:!!(s&&s.nodeType&&s.nodeName)},f.isArray=function(s){return Object.prototype.toString.call(s)==="[object Array]"},f.isFunction=function(s){return typeof s=="function"},f.isPlainObject=function(s){return typeof s=="object"&&s.constructor===Object},f.isString=function(s){return toString.call(s)==="[object String]"},f.clamp=function(s,a,r){return s<a?a:s>r?r:s},f.sign=function(s){return s<0?-1:1},f.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-f._nowStartTime},f.random=function(s,a){return s=typeof s<"u"?s:0,a=typeof a<"u"?a:1,s+c()*(a-s)};var c=function(){return f._seed=(f._seed*9301+49297)%233280,f._seed/233280};f.colorToNumber=function(s){return s=s.replace("#",""),s.length==3&&(s=s.charAt(0)+s.charAt(0)+s.charAt(1)+s.charAt(1)+s.charAt(2)+s.charAt(2)),parseInt(s,16)},f.logLevel=1,f.log=function(){console&&f.logLevel>0&&f.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},f.info=function(){console&&f.logLevel>0&&f.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},f.warn=function(){console&&f.logLevel>0&&f.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},f.warnOnce=function(){var s=Array.prototype.slice.call(arguments).join(" ");f._warnedOnce[s]||(f.warn(s),f._warnedOnce[s]=!0)},f.deprecated=function(s,a,r){s[a]=f.chain(function(){f.warnOnce("🔅 deprecated 🔅",r)},s[a])},f.nextId=function(){return f._nextId++},f.indexOf=function(s,a){if(s.indexOf)return s.indexOf(a);for(var r=0;r<s.length;r++)if(s[r]===a)return r;return-1},f.map=function(s,a){if(s.map)return s.map(a);for(var r=[],o=0;o<s.length;o+=1)r.push(a(s[o]));return r},f.topologicalSort=function(s){var a=[],r=[],o=[];for(var l in s)!r[l]&&!o[l]&&f._topologicalSort(l,r,o,s,a);return a},f._topologicalSort=function(s,a,r,o,l){var v=o[s]||[];r[s]=!0;for(var u=0;u<v.length;u+=1){var d=v[u];r[d]||a[d]||f._topologicalSort(d,a,r,o,l)}r[s]=!1,a[s]=!0,l.push(s)},f.chain=function(){for(var s=[],a=0;a<arguments.length;a+=1){var r=arguments[a];r._chained?s.push.apply(s,r._chained):s.push(r)}var o=function(){for(var l,v=new Array(arguments.length),u=0,d=arguments.length;u<d;u++)v[u]=arguments[u];for(u=0;u<s.length;u+=1){var p=s[u].apply(l,v);typeof p<"u"&&(l=p)}return l};return o._chained=s,o},f.chainPathBefore=function(s,a,r){return f.set(s,a,f.chain(r,f.get(s,a)))},f.chainPathAfter=function(s,a,r){return f.set(s,a,f.chain(f.get(s,a),r))},f.setDecomp=function(s){f._decomp=s},f.getDecomp=function(){var s=f._decomp;try{!s&&typeof window<"u"&&(s=window.decomp),!s&&typeof e.g<"u"&&(s=e.g.decomp)}catch{s=null}return s}}()},45775:(h,y,e)=>{var f={};h.exports=f;var c=e(22806),s=e(44272),a=e(13657),r=e(91327),o=e(39073),l=e(11299),v=e(52838),u=e(68758),d=e(84125);(function(){f.create=function(p){p=p||{};var g={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},x=u.extend(g,p);return x.world=p.world||l.create({label:"World"}),x.pairs=p.pairs||r.create(),x.detector=p.detector||a.create(),x.grid={buckets:[]},x.world.gravity=x.gravity,x.broadphase=x.grid,x.metrics={},x},f.update=function(p,g){var x=u.now(),T=p.world,S=p.detector,P=p.pairs,E=p.timing,R=E.timestamp,A;g=typeof g<"u"?g:u._baseDelta,g*=E.timeScale,E.timestamp+=g,E.lastDelta=g;var w={timestamp:E.timestamp,delta:g};o.trigger(p,"beforeUpdate",w);var O=l.allBodies(T),L=l.allConstraints(T);for(T.isModified&&(a.setBodies(S,O),l.setModified(T,!1,!1,!0)),p.enableSleeping&&c.update(O,g),f._bodiesApplyGravity(O,p.gravity),g>0&&f._bodiesUpdate(O,g),o.trigger(p,"beforeSolve",w),v.preSolveAll(O),A=0;A<p.constraintIterations;A++)v.solveAll(L,g);v.postSolveAll(O),S.pairs=p.pairs;var F=a.collisions(S);r.update(P,F,R),p.enableSleeping&&c.afterCollisions(P.list),P.collisionStart.length>0&&o.trigger(p,"collisionStart",{pairs:P.collisionStart,timestamp:E.timestamp,delta:g});var I=u.clamp(20/p.positionIterations,0,1);for(s.preSolvePosition(P.list),A=0;A<p.positionIterations;A++)s.solvePosition(P.list,g,I);for(s.postSolvePosition(O),v.preSolveAll(O),A=0;A<p.constraintIterations;A++)v.solveAll(L,g);for(v.postSolveAll(O),s.preSolveVelocity(P.list),A=0;A<p.velocityIterations;A++)s.solveVelocity(P.list,g);return f._bodiesUpdateVelocities(O),P.collisionActive.length>0&&o.trigger(p,"collisionActive",{pairs:P.collisionActive,timestamp:E.timestamp,delta:g}),P.collisionEnd.length>0&&o.trigger(p,"collisionEnd",{pairs:P.collisionEnd,timestamp:E.timestamp,delta:g}),f._bodiesClearForces(O),o.trigger(p,"afterUpdate",w),p.timing.lastElapsed=u.now()-x,p},f.merge=function(p,g){if(u.extend(p,g),g.world){p.world=g.world,f.clear(p);for(var x=l.allBodies(p.world),T=0;T<x.length;T++){var S=x[T];c.set(S,!1),S.id=u.nextId()}}},f.clear=function(p){r.clear(p.pairs),a.clear(p.detector)},f._bodiesClearForces=function(p){for(var g=p.length,x=0;x<g;x++){var T=p[x];T.force.x=0,T.force.y=0,T.torque=0}},f._bodiesApplyGravity=function(p,g){var x=typeof g.scale<"u"?g.scale:.001,T=p.length;if(!(g.x===0&&g.y===0||x===0))for(var S=0;S<T;S++){var P=p[S];P.isStatic||P.isSleeping||(P.force.y+=P.mass*g.y*x,P.force.x+=P.mass*g.x*x)}},f._bodiesUpdate=function(p,g){for(var x=p.length,T=0;T<x;T++){var S=p[T];S.isStatic||S.isSleeping||d.update(S,g)}},f._bodiesUpdateVelocities=function(p){for(var g=p.length,x=0;x<g;x++)d.updateVelocities(p[x])}})()},39073:(h,y,e)=>{var f={};h.exports=f;var c=e(68758);(function(){f.on=function(s,a,r){for(var o=a.split(" "),l,v=0;v<o.length;v++)l=o[v],s.events=s.events||{},s.events[l]=s.events[l]||[],s.events[l].push(r);return r},f.off=function(s,a,r){if(!a){s.events={};return}typeof a=="function"&&(r=a,a=c.keys(s.events).join(" "));for(var o=a.split(" "),l=0;l<o.length;l++){var v=s.events[o[l]],u=[];if(r&&v)for(var d=0;d<v.length;d++)v[d]!==r&&u.push(v[d]);s.events[o[l]]=u}},f.trigger=function(s,a,r){var o,l,v,u,d=s.events;if(d&&c.keys(d).length>0){r||(r={}),o=a.split(" ");for(var p=0;p<o.length;p++)if(l=o[p],v=d[l],v){u=c.clone(r,!1),u.name=l,u.source=s;for(var g=0;g<v.length;g++)v[g].apply(s,[u])}}}})()},16929:(h,y,e)=>{var f={};h.exports=f;var c=e(84474),s=e(68758);(function(){f.name="matter-js",f.version="0.19.0",f.uses=[],f.used=[],f.use=function(){c.use(f,Array.prototype.slice.call(arguments))},f.before=function(a,r){return a=a.replace(/^Matter./,""),s.chainPathBefore(f,a,r)},f.after=function(a,r){return a=a.replace(/^Matter./,""),s.chainPathAfter(f,a,r)}})()},84474:(h,y,e)=>{var f={};h.exports=f;var c=e(68758);(function(){f._registry={},f.register=function(s){if(f.isPlugin(s)||c.warn("Plugin.register:",f.toString(s),"does not implement all required fields."),s.name in f._registry){var a=f._registry[s.name],r=f.versionParse(s.version).number,o=f.versionParse(a.version).number;r>o?(c.warn("Plugin.register:",f.toString(a),"was upgraded to",f.toString(s)),f._registry[s.name]=s):r<o?c.warn("Plugin.register:",f.toString(a),"can not be downgraded to",f.toString(s)):s!==a&&c.warn("Plugin.register:",f.toString(s),"is already registered to different plugin object")}else f._registry[s.name]=s;return s},f.resolve=function(s){return f._registry[f.dependencyParse(s).name]},f.toString=function(s){return typeof s=="string"?s:(s.name||"anonymous")+"@"+(s.version||s.range||"0.0.0")},f.isPlugin=function(s){return s&&s.name&&s.version&&s.install},f.isUsed=function(s,a){return s.used.indexOf(a)>-1},f.isFor=function(s,a){var r=s.for&&f.dependencyParse(s.for);return!s.for||a.name===r.name&&f.versionSatisfies(a.version,r.range)},f.use=function(s,a){if(s.uses=(s.uses||[]).concat(a||[]),s.uses.length===0){c.warn("Plugin.use:",f.toString(s),"does not specify any dependencies to install.");return}for(var r=f.dependencies(s),o=c.topologicalSort(r),l=[],v=0;v<o.length;v+=1)if(o[v]!==s.name){var u=f.resolve(o[v]);if(!u){l.push("❌ "+o[v]);continue}f.isUsed(s,u.name)||(f.isFor(u,s)||(c.warn("Plugin.use:",f.toString(u),"is for",u.for,"but installed on",f.toString(s)+"."),u._warned=!0),u.install?u.install(s):(c.warn("Plugin.use:",f.toString(u),"does not specify an install function."),u._warned=!0),u._warned?(l.push("🔶 "+f.toString(u)),delete u._warned):l.push("✅ "+f.toString(u)),s.used.push(u.name))}l.length>0&&!u.silent&&c.info(l.join("  "))},f.dependencies=function(s,a){var r=f.dependencyParse(s),o=r.name;if(a=a||{},!(o in a)){s=f.resolve(s)||s,a[o]=c.map(s.uses||[],function(v){f.isPlugin(v)&&f.register(v);var u=f.dependencyParse(v),d=f.resolve(v);return d&&!f.versionSatisfies(d.version,u.range)?(c.warn("Plugin.dependencies:",f.toString(d),"does not satisfy",f.toString(u),"used by",f.toString(r)+"."),d._warned=!0,s._warned=!0):d||(c.warn("Plugin.dependencies:",f.toString(v),"used by",f.toString(r),"could not be resolved."),s._warned=!0),u.name});for(var l=0;l<a[o].length;l+=1)f.dependencies(a[o][l],a);return a}},f.dependencyParse=function(s){if(c.isString(s)){var a=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return a.test(s)||c.warn("Plugin.dependencyParse:",s,"is not a valid dependency string."),{name:s.split("@")[0],range:s.split("@")[1]||"*"}}return{name:s.name,range:s.range||s.version}},f.versionParse=function(s){var a=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;a.test(s)||c.warn("Plugin.versionParse:",s,"is not a valid version or range.");var r=a.exec(s),o=Number(r[4]),l=Number(r[5]),v=Number(r[6]);return{isRange:Boolean(r[1]||r[2]),version:r[3],range:s,operator:r[1]||r[2]||"",major:o,minor:l,patch:v,parts:[o,l,v],prerelease:r[7],number:o*1e8+l*1e4+v}},f.versionSatisfies=function(s,a){a=a||"*";var r=f.versionParse(a),o=f.versionParse(s);if(r.isRange){if(r.operator==="*"||s==="*")return!0;if(r.operator===">")return o.number>r.number;if(r.operator===">=")return o.number>=r.number;if(r.operator==="~")return o.major===r.major&&o.minor===r.minor&&o.patch>=r.patch;if(r.operator==="^")return r.major>0?o.major===r.major&&o.number>=r.number:r.minor>0?o.minor===r.minor&&o.patch>=r.patch:o.patch===r.patch}return s===a||s==="*"}})()},22806:(h,y,e)=>{var f={};h.exports=f;var c=e(84125),s=e(39073),a=e(68758);(function(){f._motionWakeThreshold=.18,f._motionSleepThreshold=.08,f._minBias=.9,f.update=function(r,o){for(var l=o/a._baseDelta,v=f._motionSleepThreshold,u=0;u<r.length;u++){var d=r[u],p=c.getSpeed(d),g=c.getAngularSpeed(d),x=p*p+g*g;if(d.force.x!==0||d.force.y!==0){f.set(d,!1);continue}var T=Math.min(d.motion,x),S=Math.max(d.motion,x);d.motion=f._minBias*T+(1-f._minBias)*S,d.sleepThreshold>0&&d.motion<v?(d.sleepCounter+=1,d.sleepCounter>=d.sleepThreshold/l&&f.set(d,!0)):d.sleepCounter>0&&(d.sleepCounter-=1)}},f.afterCollisions=function(r){for(var o=f._motionSleepThreshold,l=0;l<r.length;l++){var v=r[l];if(v.isActive){var u=v.collision,d=u.bodyA.parent,p=u.bodyB.parent;if(!(d.isSleeping&&p.isSleeping||d.isStatic||p.isStatic)&&(d.isSleeping||p.isSleeping)){var g=d.isSleeping&&!d.isStatic?d:p,x=g===d?p:d;!g.isStatic&&x.motion>o&&f.set(g,!1)}}}},f.set=function(r,o){var l=r.isSleeping;o?(r.isSleeping=!0,r.sleepCounter=r.sleepThreshold,r.positionImpulse.x=0,r.positionImpulse.y=0,r.positionPrev.x=r.position.x,r.positionPrev.y=r.position.y,r.anglePrev=r.angle,r.speed=0,r.angularSpeed=0,r.motion=0,l||s.trigger(r,"sleepStart")):(r.isSleeping=!1,r.sleepCounter=0,l&&s.trigger(r,"sleepEnd"))}})()},68516:(h,y,e)=>{var f={};h.exports=f;var c=e(39745),s=e(68758),a=e(84125),r=e(84091),o=e(10438);(function(){f.rectangle=function(l,v,u,d,p){p=p||{};var g={label:"Rectangle Body",position:{x:l,y:v},vertices:c.fromPath("L 0 0 L "+u+" 0 L "+u+" "+d+" L 0 "+d)};if(p.chamfer){var x=p.chamfer;g.vertices=c.chamfer(g.vertices,x.radius,x.quality,x.qualityMin,x.qualityMax),delete p.chamfer}return a.create(s.extend({},g,p))},f.trapezoid=function(l,v,u,d,p,g){g=g||{},p*=.5;var x=(1-p*2)*u,T=u*p,S=T+x,P=S+T,E;p<.5?E="L 0 0 L "+T+" "+-d+" L "+S+" "+-d+" L "+P+" 0":E="L 0 0 L "+S+" "+-d+" L "+P+" 0";var R={label:"Trapezoid Body",position:{x:l,y:v},vertices:c.fromPath(E)};if(g.chamfer){var A=g.chamfer;R.vertices=c.chamfer(R.vertices,A.radius,A.quality,A.qualityMin,A.qualityMax),delete g.chamfer}return a.create(s.extend({},R,g))},f.circle=function(l,v,u,d,p){d=d||{};var g={label:"Circle Body",circleRadius:u};p=p||25;var x=Math.ceil(Math.max(10,Math.min(p,u)));return x%2===1&&(x+=1),f.polygon(l,v,x,u,s.extend({},g,d))},f.polygon=function(l,v,u,d,p){if(p=p||{},u<3)return f.circle(l,v,d,p);for(var g=2*Math.PI/u,x="",T=g*.5,S=0;S<u;S+=1){var P=T+S*g,E=Math.cos(P)*d,R=Math.sin(P)*d;x+="L "+E.toFixed(3)+" "+R.toFixed(3)+" "}var A={label:"Polygon Body",position:{x:l,y:v},vertices:c.fromPath(x)};if(p.chamfer){var w=p.chamfer;A.vertices=c.chamfer(A.vertices,w.radius,w.quality,w.qualityMin,w.qualityMax),delete p.chamfer}return a.create(s.extend({},A,p))},f.fromVertices=function(l,v,u,d,p,g,x,T){var S=s.getDecomp(),P,E,R,A,w,O,L,F,I,b,G;for(P=Boolean(S&&S.quickDecomp),d=d||{},R=[],p=typeof p<"u"?p:!1,g=typeof g<"u"?g:.01,x=typeof x<"u"?x:10,T=typeof T<"u"?T:.01,s.isArray(u[0])||(u=[u]),b=0;b<u.length;b+=1)if(O=u[b],A=c.isConvex(O),w=!A,w&&!P&&s.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),A||!P)A?O=c.clockwiseSort(O):O=c.hull(O),R.push({position:{x:l,y:v},vertices:O});else{var N=O.map(function($){return[$.x,$.y]});S.makeCCW(N),g!==!1&&S.removeCollinearPoints(N,g),T!==!1&&S.removeDuplicatePoints&&S.removeDuplicatePoints(N,T);var U=S.quickDecomp(N);for(L=0;L<U.length;L++){var Y=U[L],X=Y.map(function($){return{x:$[0],y:$[1]}});x>0&&c.area(X)<x||R.push({position:c.centre(X),vertices:X})}}for(L=0;L<R.length;L++)R[L]=a.create(s.extend(R[L],d));if(p){var B=5;for(L=0;L<R.length;L++){var z=R[L];for(F=L+1;F<R.length;F++){var D=R[F];if(r.overlaps(z.bounds,D.bounds)){var V=z.vertices,k=D.vertices;for(I=0;I<z.vertices.length;I++)for(G=0;G<D.vertices.length;G++){var W=o.magnitudeSquared(o.sub(V[(I+1)%V.length],k[G])),H=o.magnitudeSquared(o.sub(V[I],k[(G+1)%k.length]));W<B&&H<B&&(V[I].isInternal=!0,k[G].isInternal=!0)}}}}}return R.length>1?(E=a.create(s.extend({parts:R.slice(0)},d)),a.setPosition(E,{x:l,y:v}),E):R[0]},f.flagCoincidentParts=function(l,v){v===void 0&&(v=5);for(var u=0;u<l.length;u++)for(var d=l[u],p=u+1;p<l.length;p++){var g=l[p];if(r.overlaps(d.bounds,g.bounds))for(var x=d.vertices,T=g.vertices,S=0;S<d.vertices.length;S++)for(var P=0;P<g.vertices.length;P++){var E=o.magnitudeSquared(o.sub(x[(S+1)%x.length],T[P])),R=o.magnitudeSquared(o.sub(x[S],T[(P+1)%T.length]));E<v&&R<v&&(x[S].isInternal=!0,T[P].isInternal=!0)}}return l}})()},56643:(h,y,e)=>{var f={};h.exports=f;var c=e(11299),s=e(52838),a=e(68758),r=e(84125),o=e(68516);(function(){f.stack=function(l,v,u,d,p,g,x){for(var T=c.create({label:"Stack"}),S=l,P=v,E,R=0,A=0;A<d;A++){for(var w=0,O=0;O<u;O++){var L=x(S,P,O,A,E,R);if(L){var F=L.bounds.max.y-L.bounds.min.y,I=L.bounds.max.x-L.bounds.min.x;F>w&&(w=F),r.translate(L,{x:I*.5,y:F*.5}),S=L.bounds.max.x+p,c.addBody(T,L),E=L,R+=1}else S+=p}P+=w+g,S=l}return T},f.chain=function(l,v,u,d,p,g){for(var x=l.bodies,T=1;T<x.length;T++){var S=x[T-1],P=x[T],E=S.bounds.max.y-S.bounds.min.y,R=S.bounds.max.x-S.bounds.min.x,A=P.bounds.max.y-P.bounds.min.y,w=P.bounds.max.x-P.bounds.min.x,O={bodyA:S,pointA:{x:R*v,y:E*u},bodyB:P,pointB:{x:w*d,y:A*p}},L=a.extend(O,g);c.addConstraint(l,s.create(L))}return l.label+=" Chain",l},f.mesh=function(l,v,u,d,p){var g=l.bodies,x,T,S,P,E;for(x=0;x<u;x++){for(T=1;T<v;T++)S=g[T-1+x*v],P=g[T+x*v],c.addConstraint(l,s.create(a.extend({bodyA:S,bodyB:P},p)));if(x>0)for(T=0;T<v;T++)S=g[T+(x-1)*v],P=g[T+x*v],c.addConstraint(l,s.create(a.extend({bodyA:S,bodyB:P},p))),d&&T>0&&(E=g[T-1+(x-1)*v],c.addConstraint(l,s.create(a.extend({bodyA:E,bodyB:P},p)))),d&&T<v-1&&(E=g[T+1+(x-1)*v],c.addConstraint(l,s.create(a.extend({bodyA:E,bodyB:P},p))))}return l.label+=" Mesh",l},f.pyramid=function(l,v,u,d,p,g,x){return f.stack(l,v,u,d,p,g,function(T,S,P,E,R,A){var w=Math.min(d,Math.ceil(u/2)),O=R?R.bounds.max.x-R.bounds.min.x:0;if(!(E>w)){E=w-E;var L=E,F=u-1-E;if(!(P<L||P>F)){A===1&&r.translate(R,{x:(P+(u%2===1?1:-1))*O,y:0});var I=R?P*O:0;return x(l+I+P*p,S,P,E,R,A)}}})},f.newtonsCradle=function(l,v,u,d,p){for(var g=c.create({label:"Newtons Cradle"}),x=0;x<u;x++){var T=1.9,S=o.circle(l+x*(d*T),v+p,d,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),P=s.create({pointA:{x:l+x*(d*T),y:v},bodyB:S});c.addBody(g,S),c.addConstraint(g,P)}return g},f.car=function(l,v,u,d,p){var g=r.nextGroup(!0),x=20,T=-u*.5+x,S=u*.5-x,P=0,E=c.create({label:"Car"}),R=o.rectangle(l,v,u,d,{collisionFilter:{group:g},chamfer:{radius:d*.5},density:2e-4}),A=o.circle(l+T,v+P,p,{collisionFilter:{group:g},friction:.8}),w=o.circle(l+S,v+P,p,{collisionFilter:{group:g},friction:.8}),O=s.create({bodyB:R,pointB:{x:T,y:P},bodyA:A,stiffness:1,length:0}),L=s.create({bodyB:R,pointB:{x:S,y:P},bodyA:w,stiffness:1,length:0});return c.addBody(E,R),c.addBody(E,A),c.addBody(E,w),c.addConstraint(E,O),c.addConstraint(E,L),E},f.softBody=function(l,v,u,d,p,g,x,T,S,P){S=a.extend({inertia:1/0},S),P=a.extend({stiffness:.2,render:{type:"line",anchors:!1}},P);var E=f.stack(l,v,u,d,p,g,function(R,A){return o.circle(R,A,T,S)});return f.mesh(E,u,d,x,P),E.label="Soft Body",E}})()},50658:(h,y,e)=>{var f={};h.exports=f;var c=e(10438),s=e(68758);(function(){f.fromVertices=function(a){for(var r={},o=0;o<a.length;o++){var l=(o+1)%a.length,v=c.normalise({x:a[l].y-a[o].y,y:a[o].x-a[l].x}),u=v.y===0?1/0:v.x/v.y;u=u.toFixed(3).toString(),r[u]=v}return s.values(r)},f.rotate=function(a,r){if(r!==0)for(var o=Math.cos(r),l=Math.sin(r),v=0;v<a.length;v++){var u=a[v],d;d=u.x*o-u.y*l,u.y=u.x*l+u.y*o,u.x=d}}})()},84091:h=>{var y={};h.exports=y,function(){y.create=function(e){var f={min:{x:0,y:0},max:{x:0,y:0}};return e&&y.update(f,e),f},y.update=function(e,f,c){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var s=0;s<f.length;s++){var a=f[s];a.x>e.max.x&&(e.max.x=a.x),a.x<e.min.x&&(e.min.x=a.x),a.y>e.max.y&&(e.max.y=a.y),a.y<e.min.y&&(e.min.y=a.y)}c&&(c.x>0?e.max.x+=c.x:e.min.x+=c.x,c.y>0?e.max.y+=c.y:e.min.y+=c.y)},y.contains=function(e,f){return f.x>=e.min.x&&f.x<=e.max.x&&f.y>=e.min.y&&f.y<=e.max.y},y.overlaps=function(e,f){return e.min.x<=f.max.x&&e.max.x>=f.min.x&&e.max.y>=f.min.y&&e.min.y<=f.max.y},y.translate=function(e,f){e.min.x+=f.x,e.max.x+=f.x,e.min.y+=f.y,e.max.y+=f.y},y.shift=function(e,f){var c=e.max.x-e.min.x,s=e.max.y-e.min.y;e.min.x=f.x,e.max.x=f.x+c,e.min.y=f.y,e.max.y=f.y+s}}()},92765:(h,y,e)=>{var f={};h.exports=f,e(84091);var c=e(68758);(function(){f.pathToVertices=function(s,a){typeof window<"u"&&!("SVGPathSeg"in window)&&c.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var r,o,l,v,u,d,p,g,x,T,S=[],P,E,R=0,A=0,w=0;a=a||15;var O=function(F,I,b){var G=b%2===1&&b>1;if(!x||F!=x.x||I!=x.y){x&&G?(P=x.x,E=x.y):(P=0,E=0);var N={x:P+F,y:E+I};(G||!x)&&(x=N),S.push(N),A=P+F,w=E+I}},L=function(F){var I=F.pathSegTypeAsLetter.toUpperCase();if(I!=="Z"){switch(I){case"M":case"L":case"T":case"C":case"S":case"Q":A=F.x,w=F.y;break;case"H":A=F.x;break;case"V":w=F.y;break}O(A,w,F.pathSegType)}};for(f._svgPathToAbsolute(s),l=s.getTotalLength(),d=[],r=0;r<s.pathSegList.numberOfItems;r+=1)d.push(s.pathSegList.getItem(r));for(p=d.concat();R<l;){if(T=s.getPathSegAtLength(R),u=d[T],u!=g){for(;p.length&&p[0]!=u;)L(p.shift());g=u}switch(u.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":v=s.getPointAtLength(R),O(v.x,v.y,0);break}R+=a}for(r=0,o=p.length;r<o;++r)L(p[r]);return S},f._svgPathToAbsolute=function(s){for(var a,r,o,l,v,u,d=s.pathSegList,p=0,g=0,x=d.numberOfItems,T=0;T<x;++T){var S=d.getItem(T),P=S.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(P))"x"in S&&(p=S.x),"y"in S&&(g=S.y);else switch("x1"in S&&(o=p+S.x1),"x2"in S&&(v=p+S.x2),"y1"in S&&(l=g+S.y1),"y2"in S&&(u=g+S.y2),"x"in S&&(p+=S.x),"y"in S&&(g+=S.y),P){case"m":d.replaceItem(s.createSVGPathSegMovetoAbs(p,g),T);break;case"l":d.replaceItem(s.createSVGPathSegLinetoAbs(p,g),T);break;case"h":d.replaceItem(s.createSVGPathSegLinetoHorizontalAbs(p),T);break;case"v":d.replaceItem(s.createSVGPathSegLinetoVerticalAbs(g),T);break;case"c":d.replaceItem(s.createSVGPathSegCurvetoCubicAbs(p,g,o,l,v,u),T);break;case"s":d.replaceItem(s.createSVGPathSegCurvetoCubicSmoothAbs(p,g,v,u),T);break;case"q":d.replaceItem(s.createSVGPathSegCurvetoQuadraticAbs(p,g,o,l),T);break;case"t":d.replaceItem(s.createSVGPathSegCurvetoQuadraticSmoothAbs(p,g),T);break;case"a":d.replaceItem(s.createSVGPathSegArcAbs(p,g,S.r1,S.r2,S.angle,S.largeArcFlag,S.sweepFlag),T);break;case"z":case"Z":p=a,g=r;break}(P=="M"||P=="m")&&(a=p,r=g)}}})()},10438:h=>{var y={};h.exports=y,function(){y.create=function(e,f){return{x:e||0,y:f||0}},y.clone=function(e){return{x:e.x,y:e.y}},y.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},y.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},y.rotate=function(e,f,c){var s=Math.cos(f),a=Math.sin(f);c||(c={});var r=e.x*s-e.y*a;return c.y=e.x*a+e.y*s,c.x=r,c},y.rotateAbout=function(e,f,c,s){var a=Math.cos(f),r=Math.sin(f);s||(s={});var o=c.x+((e.x-c.x)*a-(e.y-c.y)*r);return s.y=c.y+((e.x-c.x)*r+(e.y-c.y)*a),s.x=o,s},y.normalise=function(e){var f=y.magnitude(e);return f===0?{x:0,y:0}:{x:e.x/f,y:e.y/f}},y.dot=function(e,f){return e.x*f.x+e.y*f.y},y.cross=function(e,f){return e.x*f.y-e.y*f.x},y.cross3=function(e,f,c){return(f.x-e.x)*(c.y-e.y)-(f.y-e.y)*(c.x-e.x)},y.add=function(e,f,c){return c||(c={}),c.x=e.x+f.x,c.y=e.y+f.y,c},y.sub=function(e,f,c){return c||(c={}),c.x=e.x-f.x,c.y=e.y-f.y,c},y.mult=function(e,f){return{x:e.x*f,y:e.y*f}},y.div=function(e,f){return{x:e.x/f,y:e.y/f}},y.perp=function(e,f){return f=f===!0?-1:1,{x:f*-e.y,y:f*e.x}},y.neg=function(e){return{x:-e.x,y:-e.y}},y.angle=function(e,f){return Math.atan2(f.y-e.y,f.x-e.x)},y._temp=[y.create(),y.create(),y.create(),y.create(),y.create(),y.create()]}()},39745:(h,y,e)=>{var f={};h.exports=f;var c=e(10438),s=e(68758);(function(){f.create=function(a,r){for(var o=[],l=0;l<a.length;l++){var v=a[l],u={x:v.x,y:v.y,index:l,body:r,isInternal:!1};o.push(u)}return o},f.fromPath=function(a,r){var o=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,l=[];return a.replace(o,function(v,u,d){l.push({x:parseFloat(u),y:parseFloat(d)})}),f.create(l,r)},f.centre=function(a){for(var r=f.area(a,!0),o={x:0,y:0},l,v,u,d=0;d<a.length;d++)u=(d+1)%a.length,l=c.cross(a[d],a[u]),v=c.mult(c.add(a[d],a[u]),l),o=c.add(o,v);return c.div(o,6*r)},f.mean=function(a){for(var r={x:0,y:0},o=0;o<a.length;o++)r.x+=a[o].x,r.y+=a[o].y;return c.div(r,a.length)},f.area=function(a,r){for(var o=0,l=a.length-1,v=0;v<a.length;v++)o+=(a[l].x-a[v].x)*(a[l].y+a[v].y),l=v;return r?o/2:Math.abs(o)/2},f.inertia=function(a,r){for(var o=0,l=0,v=a,u,d,p=0;p<v.length;p++)d=(p+1)%v.length,u=Math.abs(c.cross(v[d],v[p])),o+=u*(c.dot(v[d],v[d])+c.dot(v[d],v[p])+c.dot(v[p],v[p])),l+=u;return r/6*(o/l)},f.translate=function(a,r,o){o=typeof o<"u"?o:1;var l=a.length,v=r.x*o,u=r.y*o,d;for(d=0;d<l;d++)a[d].x+=v,a[d].y+=u;return a},f.rotate=function(a,r,o){if(r!==0){var l=Math.cos(r),v=Math.sin(r),u=o.x,d=o.y,p=a.length,g,x,T,S;for(S=0;S<p;S++)g=a[S],x=g.x-u,T=g.y-d,g.x=u+(x*l-T*v),g.y=d+(x*v+T*l);return a}},f.contains=function(a,r){for(var o=r.x,l=r.y,v=a.length,u=a[v-1],d,p=0;p<v;p++){if(d=a[p],(o-u.x)*(d.y-u.y)+(l-u.y)*(u.x-d.x)>0)return!1;u=d}return!0},f.scale=function(a,r,o,l){if(r===1&&o===1)return a;l=l||f.centre(a);for(var v,u,d=0;d<a.length;d++)v=a[d],u=c.sub(v,l),a[d].x=l.x+u.x*r,a[d].y=l.y+u.y*o;return a},f.chamfer=function(a,r,o,l,v){typeof r=="number"?r=[r]:r=r||[8],o=typeof o<"u"?o:-1,l=l||2,v=v||14;for(var u=[],d=0;d<a.length;d++){var p=a[d-1>=0?d-1:a.length-1],g=a[d],x=a[(d+1)%a.length],T=r[d<r.length?d:r.length-1];if(T===0){u.push(g);continue}var S=c.normalise({x:g.y-p.y,y:p.x-g.x}),P=c.normalise({x:x.y-g.y,y:g.x-x.x}),E=Math.sqrt(2*Math.pow(T,2)),R=c.mult(s.clone(S),T),A=c.normalise(c.mult(c.add(S,P),.5)),w=c.sub(g,c.mult(A,E)),O=o;o===-1&&(O=Math.pow(T,.32)*1.75),O=s.clamp(O,l,v),O%2===1&&(O+=1);for(var L=Math.acos(c.dot(S,P)),F=L/O,I=0;I<O;I++)u.push(c.add(c.rotate(R,F*I),w))}return u},f.clockwiseSort=function(a){var r=f.mean(a);return a.sort(function(o,l){return c.angle(r,o)-c.angle(r,l)}),a},f.isConvex=function(a){var r=0,o=a.length,l,v,u,d;if(o<3)return null;for(l=0;l<o;l++)if(v=(l+1)%o,u=(l+2)%o,d=(a[v].x-a[l].x)*(a[u].y-a[v].y),d-=(a[v].y-a[l].y)*(a[u].x-a[v].x),d<0?r|=1:d>0&&(r|=2),r===3)return!1;return r!==0?!0:null},f.hull=function(a){var r=[],o=[],l,v;for(a=a.slice(0),a.sort(function(u,d){var p=u.x-d.x;return p!==0?p:u.y-d.y}),v=0;v<a.length;v+=1){for(l=a[v];o.length>=2&&c.cross3(o[o.length-2],o[o.length-1],l)<=0;)o.pop();o.push(l)}for(v=a.length-1;v>=0;v-=1){for(l=a[v];r.length>=2&&c.cross3(r[r.length-2],r[r.length-1],l)<=0;)r.pop();r.push(l)}return r.pop(),o.pop(),r.concat(o)}})()},1675:(h,y,e)=>{var f=e(18171),c={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.19.0",silent:!0,install:function(s){s.after("Body.create",function(){c.Body.init(this)}),s.before("Engine.update",function(a){c.Engine.update(a)})},Body:{init:function(s){s.plugin.attractors=s.plugin.attractors||[]}},Engine:{update:function(s){for(var a=f.Composite.allBodies(s.world),r=0;r<a.length;r++){var o=a[r],l=o.plugin.attractors;if(l&&l.length>0)for(var v=0;v<a.length;v++){var u=a[v];if(r!==v)for(var d=0;d<l.length;d++){var p=l[d],g=p;f.Common.isFunction(p)&&(g=p(o,u)),g&&f.Body.applyForce(u,u.position,g)}}}}},Attractors:{gravityConstant:.001,gravity:function(s,a){var r=f.Vector.sub(a.position,s.position),o=f.Vector.magnitudeSquared(r)||1e-4,l=f.Vector.normalise(r),v=-c.Attractors.gravityConstant*(s.mass*a.mass/o),u=f.Vector.mult(l,v);f.Body.applyForce(s,s.position,f.Vector.neg(u)),f.Body.applyForce(a,a.position,u)}}};h.exports=c},80391:h=>{/**
 * @author       @dxu https://github.com/dxu/matter-collision-events
 * @author       Richard Davey <rich@photonstorm.com>
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.19.0",silent:!0,install:function(e){e.after("Engine.create",function(){e.Events.on(this,"collisionStart",function(f){f.pairs.map(function(c){var s=c.bodyA,a=c.bodyB;s.gameObject&&s.gameObject.emit("collide",s,a,c),a.gameObject&&a.gameObject.emit("collide",a,s,c),e.Events.trigger(s,"onCollide",{pair:c}),e.Events.trigger(a,"onCollide",{pair:c}),s.onCollideCallback&&s.onCollideCallback(c),a.onCollideCallback&&a.onCollideCallback(c),s.onCollideWith[a.id]&&s.onCollideWith[a.id](a,c),a.onCollideWith[s.id]&&a.onCollideWith[s.id](s,c)})}),e.Events.on(this,"collisionActive",function(f){f.pairs.map(function(c){var s=c.bodyA,a=c.bodyB;s.gameObject&&s.gameObject.emit("collideActive",s,a,c),a.gameObject&&a.gameObject.emit("collideActive",a,s,c),e.Events.trigger(s,"onCollideActive",{pair:c}),e.Events.trigger(a,"onCollideActive",{pair:c}),s.onCollideActiveCallback&&s.onCollideActiveCallback(c),a.onCollideActiveCallback&&a.onCollideActiveCallback(c)})}),e.Events.on(this,"collisionEnd",function(f){f.pairs.map(function(c){var s=c.bodyA,a=c.bodyB;s.gameObject&&s.gameObject.emit("collideEnd",s,a,c),a.gameObject&&a.gameObject.emit("collideEnd",a,s,c),e.Events.trigger(s,"onCollideEnd",{pair:c}),e.Events.trigger(a,"onCollideEnd",{pair:c}),s.onCollideEndCallback&&s.onCollideEndCallback(c),a.onCollideEndCallback&&a.onCollideEndCallback(c)})})})}};h.exports=y},44097:(h,y,e)=>{var f=e(18171),c={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.19.0",silent:!0,install:function(s){s.after("Engine.update",function(){c.Engine.update(this)})},Engine:{update:function(s){for(var a=s.world,r=f.Composite.allBodies(a),o=f.Composite.allComposites(a),l=0;l<r.length;l+=1){var v=r[l];v.plugin.wrap&&c.Body.wrap(v,v.plugin.wrap)}for(l=0;l<o.length;l+=1){var u=o[l];u.plugin.wrap&&c.Composite.wrap(u,u.plugin.wrap)}}},Bounds:{wrap:function(s,a){var r=null,o=null;if(typeof a.min.x<"u"&&typeof a.max.x<"u"&&(s.min.x>a.max.x?r=a.min.x-s.max.x:s.max.x<a.min.x&&(r=a.max.x-s.min.x)),typeof a.min.y<"u"&&typeof a.max.y<"u"&&(s.min.y>a.max.y?o=a.min.y-s.max.y:s.max.y<a.min.y&&(o=a.max.y-s.min.y)),r!==null||o!==null)return{x:r||0,y:o||0}}},Body:{wrap:function(s,a){var r=c.Bounds.wrap(s.bounds,a);return r&&f.Body.translate(s,r),r}},Composite:{bounds:function(s){for(var a=f.Composite.allBodies(s),r=[],o=0;o<a.length;o+=1){var l=a[o];r.push(l.bounds.min,l.bounds.max)}return f.Bounds.create(r)},wrap:function(s,a){var r=c.Bounds.wrap(c.Composite.bounds(s),a);return r&&f.Composite.translate(s,r),r}}};h.exports=c},81084:h=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={decomp:L,quickDecomp:G,isSimple:I,removeCollinearPoints:N,removeDuplicatePoints:U,makeCCW:x};function y(B,z,D){D=D||0;var V=[0,0],k,W,H,$,K,j,Z;return k=B[1][1]-B[0][1],W=B[0][0]-B[1][0],H=k*B[0][0]+W*B[0][1],$=z[1][1]-z[0][1],K=z[0][0]-z[1][0],j=$*z[0][0]+K*z[0][1],Z=k*K-$*W,Y(Z,0,D)||(V[0]=(K*H-W*j)/Z,V[1]=(k*j-$*H)/Z),V}function e(B,z,D,V){var k=z[0]-B[0],W=z[1]-B[1],H=V[0]-D[0],$=V[1]-D[1];if(H*W-$*k===0)return!1;var K=(k*(D[1]-B[1])+W*(B[0]-D[0]))/(H*W-$*k),j=(H*(B[1]-D[1])+$*(D[0]-B[0]))/($*k-H*W);return K>=0&&K<=1&&j>=0&&j<=1}function f(B,z,D){return(z[0]-B[0])*(D[1]-B[1])-(D[0]-B[0])*(z[1]-B[1])}function c(B,z,D){return f(B,z,D)>0}function s(B,z,D){return f(B,z,D)>=0}function a(B,z,D){return f(B,z,D)<0}function r(B,z,D){return f(B,z,D)<=0}var o=[],l=[];function v(B,z,D,V){if(V){var k=o,W=l;k[0]=z[0]-B[0],k[1]=z[1]-B[1],W[0]=D[0]-z[0],W[1]=D[1]-z[1];var H=k[0]*W[0]+k[1]*W[1],$=Math.sqrt(k[0]*k[0]+k[1]*k[1]),K=Math.sqrt(W[0]*W[0]+W[1]*W[1]),j=Math.acos(H/($*K));return j<V}else return f(B,z,D)===0}function u(B,z){var D=z[0]-B[0],V=z[1]-B[1];return D*D+V*V}function d(B,z){var D=B.length;return B[z<0?z%D+D:z%D]}function p(B){B.length=0}function g(B,z,D,V){for(var k=D;k<V;k++)B.push(z[k])}function x(B){for(var z=0,D=B,V=1;V<B.length;++V)(D[V][1]<D[z][1]||D[V][1]===D[z][1]&&D[V][0]>D[z][0])&&(z=V);return c(d(B,z-1),d(B,z),d(B,z+1))?!1:(T(B),!0)}function T(B){for(var z=[],D=B.length,V=0;V!==D;V++)z.push(B.pop());for(var V=0;V!==D;V++)B[V]=z[V]}function S(B,z){return a(d(B,z-1),d(B,z),d(B,z+1))}var P=[],E=[];function R(B,z,D){var V,k,W=P,H=E;if(s(d(B,z+1),d(B,z),d(B,D))&&r(d(B,z-1),d(B,z),d(B,D)))return!1;k=u(d(B,z),d(B,D));for(var $=0;$!==B.length;++$)if(!(($+1)%B.length===z||$===z)&&s(d(B,z),d(B,D),d(B,$+1))&&r(d(B,z),d(B,D),d(B,$))&&(W[0]=d(B,z),W[1]=d(B,D),H[0]=d(B,$),H[1]=d(B,$+1),V=y(W,H),u(d(B,z),V)<k))return!1;return!0}function A(B,z,D){for(var V=0;V!==B.length;++V)if(!(V===z||V===D||(V+1)%B.length===z||(V+1)%B.length===D)&&e(d(B,z),d(B,D),d(B,V),d(B,V+1)))return!1;return!0}function w(B,z,D,V){var k=V||[];if(p(k),z<D)for(var W=z;W<=D;W++)k.push(B[W]);else{for(var W=0;W<=D;W++)k.push(B[W]);for(var W=z;W<B.length;W++)k.push(B[W])}return k}function O(B){for(var z=[],D=[],V=[],k=[],W=Number.MAX_VALUE,H=0;H<B.length;++H)if(S(B,H)){for(var $=0;$<B.length;++$)if(R(B,H,$)){D=O(w(B,H,$,k)),V=O(w(B,$,H,k));for(var K=0;K<V.length;K++)D.push(V[K]);D.length<W&&(z=D,W=D.length,z.push([d(B,H),d(B,$)]))}}return z}function L(B){var z=O(B);return z.length>0?F(B,z):[B]}function F(B,z){if(z.length===0)return[B];if(z instanceof Array&&z.length&&z[0]instanceof Array&&z[0].length===2&&z[0][0]instanceof Array){for(var D=[B],V=0;V<z.length;V++)for(var k=z[V],W=0;W<D.length;W++){var H=D[W],$=F(H,k);if($){D.splice(W,1),D.push($[0],$[1]);break}}return D}else{var k=z,V=B.indexOf(k[0]),W=B.indexOf(k[1]);return V!==-1&&W!==-1?[w(B,V,W),w(B,W,V)]:!1}}function I(B){var z=B,D;for(D=0;D<z.length-1;D++)for(var V=0;V<D-1;V++)if(e(z[D],z[D+1],z[V],z[V+1]))return!1;for(D=1;D<z.length-2;D++)if(e(z[0],z[z.length-1],z[D],z[D+1]))return!1;return!0}function b(B,z,D,V,k){k=k||0;var W=z[1]-B[1],H=B[0]-z[0],$=W*B[0]+H*B[1],K=V[1]-D[1],j=D[0]-V[0],Z=K*D[0]+j*D[1],J=W*j-K*H;return Y(J,0,k)?[0,0]:[(j*$-H*Z)/J,(W*Z-K*$)/J]}function G(B,z,D,V,k,W,H){W=W||100,H=H||0,k=k||25,z=typeof z<"u"?z:[],D=D||[],V=V||[];var $=[0,0],K=[0,0],j=[0,0],Z=0,J=0,Q=0,q=0,_=0,et=0,st=0,it=[],lt=[],tt=B,ht=B;if(ht.length<3)return z;if(H++,H>W)return console.warn("quickDecomp: max level ("+W+") reached."),z;for(var rt=0;rt<B.length;++rt)if(S(tt,rt)){D.push(tt[rt]),Z=J=Number.MAX_VALUE;for(var ft=0;ft<B.length;++ft)c(d(tt,rt-1),d(tt,rt),d(tt,ft))&&r(d(tt,rt-1),d(tt,rt),d(tt,ft-1))&&(j=b(d(tt,rt-1),d(tt,rt),d(tt,ft),d(tt,ft-1)),a(d(tt,rt+1),d(tt,rt),j)&&(Q=u(tt[rt],j),Q<J&&(J=Q,K=j,et=ft))),c(d(tt,rt+1),d(tt,rt),d(tt,ft+1))&&r(d(tt,rt+1),d(tt,rt),d(tt,ft))&&(j=b(d(tt,rt+1),d(tt,rt),d(tt,ft),d(tt,ft+1)),c(d(tt,rt-1),d(tt,rt),j)&&(Q=u(tt[rt],j),Q<Z&&(Z=Q,$=j,_=ft)));if(et===(_+1)%B.length)j[0]=(K[0]+$[0])/2,j[1]=(K[1]+$[1])/2,V.push(j),rt<_?(g(it,tt,rt,_+1),it.push(j),lt.push(j),et!==0&&g(lt,tt,et,tt.length),g(lt,tt,0,rt+1)):(rt!==0&&g(it,tt,rt,tt.length),g(it,tt,0,_+1),it.push(j),lt.push(j),g(lt,tt,et,rt+1));else{if(et>_&&(_+=B.length),q=Number.MAX_VALUE,_<et)return z;for(var ft=et;ft<=_;++ft)s(d(tt,rt-1),d(tt,rt),d(tt,ft))&&r(d(tt,rt+1),d(tt,rt),d(tt,ft))&&(Q=u(d(tt,rt),d(tt,ft)),Q<q&&A(tt,rt,ft)&&(q=Q,st=ft%B.length));rt<st?(g(it,tt,rt,st+1),st!==0&&g(lt,tt,st,ht.length),g(lt,tt,0,rt+1)):(rt!==0&&g(it,tt,rt,ht.length),g(it,tt,0,st+1),g(lt,tt,st,rt+1))}return it.length<lt.length?(G(it,z,D,V,k,W,H),G(lt,z,D,V,k,W,H)):(G(lt,z,D,V,k,W,H),G(it,z,D,V,k,W,H)),z}return z.push(B),z}function N(B,z){for(var D=0,V=B.length-1;B.length>3&&V>=0;--V)v(d(B,V-1),d(B,V),d(B,V+1),z)&&(B.splice(V%B.length,1),D++);return D}function U(B,z){for(var D=B.length-1;D>=1;--D)for(var V=B[D],k=D-1;k>=0;--k)if(X(V,B[k],z)){B.splice(D,1);continue}}function Y(B,z,D){return D=D||0,Math.abs(B-z)<=D}function X(B,z,D){return Y(B[0],z[0],D)&&Y(B[1],z[1],D)}},88257:(h,y,e)=>{/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2013-2023 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var f=e(56694),c=new f({initialize:function(a){this.pluginManager=a,this.game=a.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});h.exports=c},18360:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};h.exports=y},91963:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={},e={},f={};f.register=function(c,s,a,r){r===void 0&&(r=!1),y[c]={plugin:s,mapping:a,custom:r}},f.registerCustom=function(c,s,a,r){e[c]={plugin:s,mapping:a,data:r}},f.hasCore=function(c){return y.hasOwnProperty(c)},f.hasCustom=function(c){return e.hasOwnProperty(c)},f.getCore=function(c){return y[c]},f.getCustom=function(c){return e[c]},f.getCustomClass=function(c){return e.hasOwnProperty(c)?e[c].plugin:null},f.remove=function(c){y.hasOwnProperty(c)&&delete y[c]},f.removeCustom=function(c){e.hasOwnProperty(c)&&delete e[c]},f.destroyCorePlugins=function(){for(var c in y)y.hasOwnProperty(c)&&delete y[c]},f.destroyCustomPlugins=function(){for(var c in e)e.hasOwnProperty(c)&&delete e[c]},h.exports=f},49274:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(97081),s=e(6659),a=e(76846),r=e(99325),o=e(61286),l=e(72632),v=e(91963),u=e(66458),d=new f({Extends:s,initialize:function(g){s.call(this),this.game=g,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],g.isBooted?this.boot():g.events.once(c.BOOT,this.boot,this)},boot:function(){var p,g,x,T,S,P,E,R=this.game.config,A=R.installGlobalPlugins;for(A=A.concat(this._pendingGlobal),p=0;p<A.length;p++)g=A[p],x=l(g,"key",null),T=l(g,"plugin",null),S=l(g,"start",!1),P=l(g,"mapping",null),E=l(g,"data",null),x&&(T?this.install(x,T,S,P,E):console.warn("Missing `plugin` for key: "+x));for(A=R.installScenePlugins,A=A.concat(this._pendingScene),p=0;p<A.length;p++)g=A[p],x=l(g,"key",null),T=l(g,"plugin",null),P=l(g,"mapping",null),x&&(T?this.installScenePlugin(x,T,P):console.warn("Missing `plugin` for key: "+x));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(c.DESTROY,this.destroy,this)},addToScene:function(p,g,x){var T,S,P,E=this.game,R=p.scene,A=p.settings.map,w=p.settings.isBooted;for(T=0;T<g.length;T++)S=g[T],E[S]?(p[S]=E[S],A.hasOwnProperty(S)&&(R[A[S]]=p[S])):S==="game"&&A.hasOwnProperty(S)&&(R[A[S]]=E);for(var O=0;O<x.length;O++)for(P=x[O],T=0;T<P.length;T++)if(S=P[T],!!v.hasCore(S)){var L=v.getCore(S),F=L.mapping,I=new L.plugin(R,this,F);p[F]=I,L.custom?R[F]=I:A.hasOwnProperty(F)&&(R[A[F]]=I),w&&I.boot()}for(P=this.plugins,T=0;T<P.length;T++){var b=P[T];b.mapping&&(R[b.mapping]=b.plugin)}},getDefaultScenePlugins:function(){var p=this.game.config.defaultPlugins;return p=p.concat(this.scenePlugins),p},installScenePlugin:function(p,g,x,T,S){if(S===void 0&&(S=!1),typeof g!="function"){console.warn("Invalid Scene Plugin: "+p);return}if(v.hasCore(p)||v.register(p,g,x,!0),this.scenePlugins.indexOf(p)===-1)this.scenePlugins.push(p);else if(!S&&v.hasCore(p)){console.warn("Scene Plugin key in use: "+p);return}if(T){var P=new g(T,this,p);T.sys[p]=P,x&&x!==""&&(T[x]=P),P.boot()}},install:function(p,g,x,T,S){if(x===void 0&&(x=!1),T===void 0&&(T=null),S===void 0&&(S=null),typeof g!="function")return console.warn("Invalid Plugin: "+p),null;if(v.hasCustom(p))return console.warn("Plugin key in use: "+p),null;if(T!==null&&(x=!0),!this.game.isBooted)this._pendingGlobal.push({key:p,plugin:g,start:x,mapping:T,data:S});else if(v.registerCustom(p,g,T,S),x)return this.start(p);return null},getIndex:function(p){for(var g=this.plugins,x=0;x<g.length;x++){var T=g[x];if(T.key===p)return x}return-1},getEntry:function(p){var g=this.getIndex(p);if(g!==-1)return this.plugins[g]},isActive:function(p){var g=this.getEntry(p);return g&&g.active},start:function(p,g){g===void 0&&(g=p);var x=this.getEntry(g);return x&&!x.active?(x.active=!0,x.plugin.start()):x||(x=this.createEntry(p,g)),x?x.plugin:null},createEntry:function(p,g){var x=v.getCustom(p);if(x){var T=new x.plugin(this);x={key:g,plugin:T,active:!0,mapping:x.mapping,data:x.data},this.plugins.push(x),T.init(x.data),T.start()}return x},stop:function(p){var g=this.getEntry(p);return g&&g.active&&(g.active=!1,g.plugin.stop()),this},get:function(p,g){g===void 0&&(g=!0);var x=this.getEntry(p);if(x)return x.plugin;var T=this.getClass(p);return T&&g?(x=this.createEntry(p,p),x?x.plugin:null):T||null},getClass:function(p){return v.getCustomClass(p)},removeGlobalPlugin:function(p){var g=this.getEntry(p);g&&u(this.plugins,g),v.removeCustom(p)},removeScenePlugin:function(p){u(this.scenePlugins,p),v.remove(p)},registerGameObject:function(p,g,x){return g&&o.register(p,g),x&&r.register(p,x),this},removeGameObject:function(p,g,x){return g===void 0&&(g=!0),x===void 0&&(x=!0),g&&o.remove(p),x&&r.remove(p),this},registerFileType:function(p,g,x){a.register(p,g),x&&x.sys.load&&(x.sys.load[p]=g)},destroy:function(){for(var p=0;p<this.plugins.length;p++)this.plugins[p].plugin.destroy();v.destroyCustomPlugins(),this.game.noReturn&&v.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});h.exports=d},39283:(h,y,e)=>{/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2013-2023 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var f=e(88257),c=e(56694),s=e(7599),a=new c({Extends:f,initialize:function(o,l,v){f.call(this,l),this.scene=o,this.systems=o.sys,this.pluginKey=v,o.sys.events.once(s.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});h.exports=a},45615:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={BasePlugin:e(88257),DefaultPlugins:e(18360),PluginCache:e(91963),PluginManager:e(49274),ScenePlugin:e(39283)}},75205:()=>{!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(h){const y=performance.now(),e=this.getVideoPlaybackQuality(),f=this.mozPresentedFrames||this.mozPaintedFrames||e.totalVideoFrames-e.droppedVideoFrames,c=(s,a)=>{const r=this.getVideoPlaybackQuality(),o=this.mozPresentedFrames||this.mozPaintedFrames||r.totalVideoFrames-r.droppedVideoFrames;if(o>f){const l=this.mozFrameDelay||r.totalFrameDelay-e.totalFrameDelay||0,v=a-s;h(a,{presentationTime:a+l*1e3,expectedDisplayTime:a+v,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+v/1e3,presentedFrames:o,processingDuration:l}),delete this._rvfcpolyfillmap[y]}else this._rvfcpolyfillmap[y]=requestAnimationFrame(l=>c(a,l))};return this._rvfcpolyfillmap[y]=requestAnimationFrame(s=>c(y,s)),y},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(h){cancelAnimationFrame(this._rvfcpolyfillmap[h]),delete this._rvfcpolyfillmap[h]})},95723:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},27394:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={DEFAULT:0,LINEAR:0,NEAREST:1};h.exports=y},91135:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(89787),c=e(61840),s=e(56694),a=e(86459),r=e(6659),o=e(81044),l=e(32834),v=e(40444),u=e(38203),d=e(69360),p=new s({Extends:r,initialize:function(x){r.call(this);var T=x.config;this.config={clearBeforeRender:T.clearBeforeRender,backgroundColor:T.backgroundColor,antialias:T.antialias,roundPixels:T.roundPixels},this.game=x,this.type=a.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=x.canvas;var S={alpha:x.config.transparent,desynchronized:x.config.desynchronized,willReadFrequently:!1};this.gameContext=T.context?T.context:this.gameCanvas.getContext("2d",S),this.currentContext=this.gameContext,this.antialias=x.config.antialias,this.blendModes=l(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new d,this._tempMatrix2=new d,this._tempMatrix3=new d,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(u.READY,this.boot,this)},boot:function(){var g=this.game,x=g.scale.baseSize;this.width=x.width,this.height=x.height,this.isBooted=!0,g.scale.on(v.RESIZE,this.onResize,this),this.resize(x.width,x.height)},onResize:function(g,x){(x.width!==this.width||x.height!==this.height)&&this.resize(x.width,x.height)},resize:function(g,x){this.width=g,this.height=x,this.emit(o.RESIZE,g,x)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(g){return this.currentContext.globalCompositeOperation=g,this},setContext:function(g){return this.currentContext=g||this.gameContext,this},setAlpha:function(g){return this.currentContext.globalAlpha=g,this},preRender:function(){var g=this.gameContext,x=this.config,T=this.width,S=this.height;g.globalAlpha=1,g.globalCompositeOperation="source-over",g.setTransform(1,0,0,1,0,0),x.clearBeforeRender&&(g.clearRect(0,0,T,S),x.transparent||(g.fillStyle=x.backgroundColor.rgba,g.fillRect(0,0,T,S))),g.save(),this.drawCount=0,this.emit(o.PRE_RENDER)},render:function(g,x,T){var S=x.length;this.emit(o.RENDER,g,T);var P=T.x,E=T.y,R=T.width,A=T.height,w=T.renderToTexture?T.context:g.sys.context;w.save(),this.game.scene.customViewports&&(w.beginPath(),w.rect(P,E,R,A),w.clip()),T.emit(f.PRE_RENDER,T),this.currentContext=w;var O=T.mask;O&&O.preRenderCanvas(this,null,T._maskCamera),T.transparent||(w.fillStyle=T.backgroundColor.rgba,w.fillRect(P,E,R,A)),w.globalAlpha=T.alpha,w.globalCompositeOperation="source-over",this.drawCount+=S,T.renderToTexture&&T.emit(f.PRE_RENDER,T),T.matrix.copyToContext(w);for(var L=0;L<S;L++){var F=x[L];F.mask&&F.mask.preRenderCanvas(this,F,T),F.renderCanvas(this,F,T),F.mask&&F.mask.postRenderCanvas(this,F,T)}w.setTransform(1,0,0,1,0,0),w.globalCompositeOperation="source-over",w.globalAlpha=1,T.flashEffect.postRenderCanvas(w),T.fadeEffect.postRenderCanvas(w),T.dirty=!1,O&&O.postRenderCanvas(this),w.restore(),T.renderToTexture&&(T.emit(f.POST_RENDER,T),T.renderToGame&&g.sys.context.drawImage(T.canvas,P,E)),T.emit(f.POST_RENDER,T)},postRender:function(){var g=this.gameContext;g.restore(),this.emit(o.POST_RENDER);var x=this.snapshotState;x.callback&&(c(this.gameCanvas,x),x.callback=null)},snapshotCanvas:function(g,x,T,S,P,E,R,A,w){T===void 0&&(T=!1),this.snapshotArea(S,P,E,R,x,A,w);var O=this.snapshotState;return O.getPixel=T,c(g,O),O.callback=null,this},snapshot:function(g,x,T){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,g,x,T)},snapshotArea:function(g,x,T,S,P,E,R){var A=this.snapshotState;return A.callback=P,A.type=E,A.encoder=R,A.getPixel=!1,A.x=g,A.y=x,A.width=Math.min(T,this.gameCanvas.width),A.height=Math.min(S,this.gameCanvas.height),this},snapshotPixel:function(g,x,T){return this.snapshotArea(g,x,1,1,T),this.snapshotState.getPixel=!0,this},batchSprite:function(g,x,T,S){var P=T.alpha*g.alpha;if(P!==0){var E=this.currentContext,R=this._tempMatrix1,A=this._tempMatrix2,w=x.canvasData,O=w.x,L=w.y,F=x.cutWidth,I=x.cutHeight,b=x.customPivot,G=x.source.resolution,N=g.displayOriginX,U=g.displayOriginY,Y=-N+x.x,X=-U+x.y;if(g.isCropped){var B=g._crop;(B.flipX!==g.flipX||B.flipY!==g.flipY)&&x.updateCropUVs(B,g.flipX,g.flipY),F=B.cw,I=B.ch,O=B.cx,L=B.cy,Y=-N+B.x,X=-U+B.y,g.flipX&&(Y>=0?Y=-(Y+F):Y<0&&(Y=Math.abs(Y)-F)),g.flipY&&(X>=0?X=-(X+I):X<0&&(X=Math.abs(X)-I))}var z=1,D=1;g.flipX&&(b||(Y+=-x.realWidth+N*2),z=-1),g.flipY&&(b||(X+=-x.realHeight+U*2),D=-1);var V=g.x,k=g.y;T.roundPixels&&(V=Math.floor(V),k=Math.floor(k)),A.applyITRS(V,k,g.rotation,g.scaleX*z,g.scaleY*D),R.copyFrom(T.matrix),S?(R.multiplyWithOffset(S,-T.scrollX*g.scrollFactorX,-T.scrollY*g.scrollFactorY),A.e=V,A.f=k):(A.e-=T.scrollX*g.scrollFactorX,A.f-=T.scrollY*g.scrollFactorY),R.multiply(A),T.roundPixels&&(R.e=Math.round(R.e),R.f=Math.round(R.f)),E.save(),R.setToContext(E),E.globalCompositeOperation=this.blendModes[g.blendMode],E.globalAlpha=P,E.imageSmoothingEnabled=!x.source.scaleMode,g.mask&&g.mask.preRenderCanvas(this,g,T),F>0&&I>0&&E.drawImage(x.source.image,O,L,F,I,Y,X,F/G,I/G),g.mask&&g.mask.postRenderCanvas(this,g,T),E.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});h.exports=p},6046:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={CanvasRenderer:e(91135),GetBlendModes:e(32834),SetTransform:e(49584)}},32834:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(95723),c=e(98581),s=function(){var a=[],r=c.supportNewBlendModes,o="source-over";return a[f.NORMAL]=o,a[f.ADD]="lighter",a[f.MULTIPLY]=r?"multiply":o,a[f.SCREEN]=r?"screen":o,a[f.OVERLAY]=r?"overlay":o,a[f.DARKEN]=r?"darken":o,a[f.LIGHTEN]=r?"lighten":o,a[f.COLOR_DODGE]=r?"color-dodge":o,a[f.COLOR_BURN]=r?"color-burn":o,a[f.HARD_LIGHT]=r?"hard-light":o,a[f.SOFT_LIGHT]=r?"soft-light":o,a[f.DIFFERENCE]=r?"difference":o,a[f.EXCLUSION]=r?"exclusion":o,a[f.HUE]=r?"hue":o,a[f.SATURATION]=r?"saturation":o,a[f.COLOR]=r?"color":o,a[f.LUMINOSITY]=r?"luminosity":o,a[f.ERASE]="destination-out",a[f.SOURCE_IN]="source-in",a[f.SOURCE_OUT]="source-out",a[f.SOURCE_ATOP]="source-atop",a[f.DESTINATION_OVER]="destination-over",a[f.DESTINATION_IN]="destination-in",a[f.DESTINATION_OUT]="destination-out",a[f.DESTINATION_ATOP]="destination-atop",a[f.LIGHTER]="lighter",a[f.COPY]="copy",a[f.XOR]="xor",a};h.exports=s},49584:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(73329),c=function(s,a,r,o,l){var v=o.alpha*r.alpha;if(v<=0)return!1;var u=f(r,o,l).calc;return a.globalCompositeOperation=s.blendModes[r.blendMode],a.globalAlpha=v,a.save(),u.setToContext(a),a.imageSmoothingEnabled=r.frame?!r.frame.source.scaleMode:s.antialias,!0};h.exports=c},70936:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="postrender"},99298:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="prerender"},7743:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="render"},99519:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="resize"},81044:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={POST_RENDER:e(70936),PRE_RENDER:e(99298),RENDER:e(7743),RESIZE:e(99519)}},42069:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Canvas:e(6046),Events:e(81044),Snapshot:e(95528),WebGL:e(55478)}},61840:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61068),c=e(27119),s=e(72632),a=function(r,o){var l=s(o,"callback"),v=s(o,"type","image/png"),u=s(o,"encoder",.92),d=Math.abs(Math.round(s(o,"x",0))),p=Math.abs(Math.round(s(o,"y",0))),g=Math.floor(s(o,"width",r.width)),x=Math.floor(s(o,"height",r.height)),T=s(o,"getPixel",!1);if(T){var S=r.getContext("2d",{willReadFrequently:!1}),P=S.getImageData(d,p,1,1),E=P.data;l.call(null,new c(E[0],E[1],E[2],E[3]))}else if(d!==0||p!==0||g!==r.width||x!==r.height){var R=f.createWebGL(this,g,x),A=R.getContext("2d",{willReadFrequently:!0});g>0&&x>0&&A.drawImage(r,d,p,g,x,0,0,g,x);var w=new Image;w.onerror=function(){l.call(null),f.remove(R)},w.onload=function(){l.call(null,w),f.remove(R)},w.src=R.toDataURL(v,u)}else{var O=new Image;O.onerror=function(){l.call(null)},O.onload=function(){l.call(null,O)},O.src=r.toDataURL(v,u)}};h.exports=a},1217:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61068),c=e(27119),s=e(72632),a=function(r,o){var l=r,v=s(o,"callback"),u=s(o,"type","image/png"),d=s(o,"encoder",.92),p=Math.abs(Math.round(s(o,"x",0))),g=Math.abs(Math.round(s(o,"y",0))),x=s(o,"getPixel",!1),T=s(o,"isFramebuffer",!1),S=T?s(o,"bufferWidth",1):l.drawingBufferWidth,P=T?s(o,"bufferHeight",1):l.drawingBufferHeight;if(x){var E=new Uint8Array(4),R=T?g:P-g;l.readPixels(p,R,1,1,l.RGBA,l.UNSIGNED_BYTE,E),v.call(null,new c(E[0],E[1],E[2],E[3]))}else{var A=Math.floor(s(o,"width",S)),w=Math.floor(s(o,"height",P)),O=A*w*4,L=new Uint8Array(O);l.readPixels(p,P-g-w,A,w,l.RGBA,l.UNSIGNED_BYTE,L);for(var F=f.createWebGL(this,A,w),I=F.getContext("2d",{willReadFrequently:!0}),b=I.getImageData(0,0,A,w),G=b.data,N=0;N<w;N++)for(var U=0;U<A;U++){var Y=((w-N-1)*A+U)*4,X=T?O-(N*A+(A-U))*4:(N*A+U)*4;G[X+0]=L[Y+0],G[X+1]=L[Y+1],G[X+2]=L[Y+2],G[X+3]=L[Y+3]}I.putImageData(b,0,0);var B=new Image;B.onerror=function(){v.call(null),f.remove(F)},B.onload=function(){v.call(null,B),f.remove(F)},B.src=F.toDataURL(u,d)}};h.exports=a},95528:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Canvas:e(61840),WebGL:e(1217)}},35217:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(65641),s=e(33885),a=e(77290),r=e(72632),o=e(37410),l=e(82127),v=e(5583),u=e(58136),d=e(47406),p=e(81828),g=e(66901),x=e(71264),T=e(77310),S=e(10919),P=e(21213),E=e(51212),R=e(60848),A=new f({initialize:function(O){this.game=O.game,this.renderer=O,this.classes=new s([[c.UTILITY_PIPELINE,R],[c.MULTI_PIPELINE,T],[c.BITMAPMASK_PIPELINE,v],[c.SINGLE_PIPELINE,E],[c.ROPE_PIPELINE,P],[c.LIGHT_PIPELINE,g],[c.POINTLIGHT_PIPELINE,S],[c.MOBILE_PIPELINE,x],[c.FX_PIPELINE,p]]),this.postPipelineClasses=new s([[String(d.BARREL),u.Barrel],[String(d.BLOOM),u.Bloom],[String(d.BLUR),u.Blur],[String(d.BOKEH),u.Bokeh],[String(d.CIRCLE),u.Circle],[String(d.COLOR_MATRIX),u.ColorMatrix],[String(d.DISPLACEMENT),u.Displacement],[String(d.GLOW),u.Glow],[String(d.GRADIENT),u.Gradient],[String(d.PIXELATE),u.Pixelate],[String(d.SHADOW),u.Shadow],[String(d.SHINE),u.Shine],[String(d.VIGNETTE),u.Vignette],[String(d.WIPE),u.Wipe]]),this.pipelines=new s,this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(w,O,L){var F=this.renderer,I=this.renderTargets;this.frameInc=Math.floor(r(w,"frameInc",32));for(var b=F.width,G=F.height,N=Math.min(b,G),U=Math.ceil(N/this.frameInc),Y=1;Y<U;Y++){var X=Y*this.frameInc;I.push(new o(F,X,X)),I.push(new o(F,X,X)),I.push(new o(F,X,X)),this.maxDimension=X}I.push(new o(F,b,G,1,0,!0,!0)),I.push(new o(F,b,G,1,0,!0,!0)),I.push(new o(F,b,G,1,0,!0,!0));var B,z,D=this,V=this.game;if(this.classes.each(function(W,H){B=D.add(W,new H({game:V})),W===c.UTILITY_PIPELINE&&(D.UTILITY_PIPELINE=B,D.fullFrame1=B.fullFrame1,D.fullFrame2=B.fullFrame2,D.halfFrame1=B.halfFrame1,D.halfFrame2=B.halfFrame2)}),this.MULTI_PIPELINE=this.get(c.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(c.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(c.MOBILE_PIPELINE),this.FX_PIPELINE=this.get(c.FX_PIPELINE),w)for(z in w){var k=w[z];B=new k(V),B.name=z,B.isPostFX?this.postPipelineClasses.set(z,k):this.has(z)||(this.classes.set(z,k),this.add(z,B))}this.default=this.get(O),L&&!a.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(w){var O=this.get(w);return O&&(this.default=O),O},add:function(w,O){if(O.isPostFX){console.warn(w+" is a Post Pipeline. Use `addPostPipeline` instead");return}var L=this.pipelines,F=this.renderer;return L.has(w)?console.warn("Pipeline exists: "+w):(O.name=w,O.manager=this,L.set(w,O)),O.hasBooted||O.boot(),F.width!==0&&F.height!==0&&!O.isPreFX&&O.resize(F.width,F.height),O},addPostPipeline:function(w,O){this.postPipelineClasses.has(w)||this.postPipelineClasses.set(w,O)},flush:function(){this.current&&this.current.flush()},has:function(w){var O=this.pipelines;return typeof w=="string"?O.has(w):!!O.contains(w)},get:function(w){var O=this.pipelines;if(typeof w=="string")return O.get(w);if(O.contains(w))return w},getPostPipeline:function(w,O,L){var F=this.postPipelineClasses,I,b="",G=typeof w;if(G==="string"||G==="number"?(I=F.get(w),b=w):G==="function"?(F.contains(w)&&(I=w),b=w.name):G==="object"&&(I=F.get(w.name),b=w.name),I){var N=new I(this.game,L);return N.name=b,O&&(N.gameObject=O),N}},remove:function(w,O,L){O===void 0&&(O=!0),L===void 0&&(L=!0),this.pipelines.delete(w),O&&this.classes.delete(w),L&&this.postPipelineClasses.delete(w)},set:function(w,O,L){if(!w.isPostFX)return this.isCurrent(w,L)||(this.flush(),this.current&&this.current.unbind(),this.current=w,w.bind(L)),w.updateProjectionMatrix(),w.onBind(O),w},preBatch:function(w){if(w.hasPostPipeline){this.flush();for(var O=w.postPipelines,L=O.length-1;L>=0;L--){var F=O[L];F.active&&F.preBatch(w)}}},postBatch:function(w){if(w.hasPostPipeline){this.flush();for(var O=w.postPipelines,L=0;L<O.length;L++){var F=O[L];F.active&&F.postBatch(w)}}},preBatchCamera:function(w){if(w.hasPostPipeline){this.flush();for(var O=w.postPipelines,L=O.length-1;L>=0;L--){var F=O[L];F.active&&F.preBatch(w)}}},postBatchCamera:function(w){if(w.hasPostPipeline){this.flush();for(var O=w.postPipelines,L=0;L<O.length;L++){var F=O[L];F.active&&F.postBatch(w)}}},isCurrent:function(w,O){var L=this.renderer,F=this.current;return F&&!O&&(O=F.currentShader),!(F!==w||O.program!==L.currentProgram)},copyFrame:function(w,O,L,F,I){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(w,O,L,F,I),this},copyToGame:function(w){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(w),this},drawFrame:function(w,O,L,F){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(w,O,L,F),this},blendFrames:function(w,O,L,F,I){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(w,O,L,F,I),this},blendFramesAdditive:function(w,O,L,F,I){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(w,O,L,F,I),this},clearFrame:function(w,O){return this.UTILITY_PIPELINE.clearFrame(w,O),this},blitFrame:function(w,O,L,F,I,b){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(w,O,L,F,I,b),this},copyFrameRect:function(w,O,L,F,I,b,G,N){return this.UTILITY_PIPELINE.copyFrameRect(w,O,L,F,I,b,G,N),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(w){return this.UTILITY_PIPELINE.bind(w)},setFX:function(){return this.set(this.FX_PIPELINE)},rebind:function(w){w===void 0&&this.previous&&(w=this.previous);var O=this.renderer,L=O.gl;L.disable(L.DEPTH_TEST),L.disable(L.CULL_FACE),O.hasActiveStencilMask()?L.clear(L.DEPTH_BUFFER_BIT):(L.disable(L.STENCIL_TEST),L.clear(L.DEPTH_BUFFER_BIT|L.STENCIL_BUFFER_BIT)),L.viewport(0,0,O.width,O.height),O.currentProgram=null,O.setBlendMode(0,!0);var F=O.vaoExtension;F&&F.bindVertexArrayOES(null);var I=this.pipelines.entries;for(var b in I)I[b].glReset=!0;w&&(this.current=w,w.rebind())},clear:function(){var w=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,w.currentProgram=null,w.setBlendMode(0,!0);var O=w.vaoExtension;O&&O.bindVertexArrayOES(null)},getRenderTarget:function(w){var O=this.renderTargets,L=3;if(w>this.maxDimension)return this.targetIndex=O.length-L,O[this.targetIndex];var F=(l(w,this.frameInc,0,!0)-1)*L;return this.targetIndex=F,O[F]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});h.exports=A},37410:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(81044),s=new f({initialize:function(r,o,l,v,u,d,p,g,x){v===void 0&&(v=1),u===void 0&&(u=0),d===void 0&&(d=!0),p===void 0&&(p=!1),g===void 0&&(g=!0),x===void 0&&(x=!0),this.renderer=r,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=v,this.minFilter=u,this.autoClear=d,this.autoResize=!0,this.hasDepthBuffer=g,this.forceClamp=x,this.resize(o,l),p?this.setAutoResize(!0):this.autoResize=!1},setAutoResize:function(a){return a&&!this.autoResize?(this.renderer.on(c.RESIZE,this.resize,this),this.autoResize=!0):!a&&this.autoResize&&(this.renderer.off(c.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(a,r){var o=a*this.scale,l=r*this.scale;if(this.autoResize&&(o!==this.width||l!==this.height)){var v=this.renderer;v.deleteFramebuffer(this.framebuffer),v.deleteTexture(this.texture),a*=this.scale,r*=this.scale,a=Math.round(a),r=Math.round(r),a<=0&&(a=1),r<=0&&(r=1),this.texture=v.createTextureFromSource(null,a,r,this.minFilter,this.forceClamp),this.framebuffer=v.createFramebuffer(a,r,this.texture,this.hasDepthBuffer),this.width=a,this.height=r}return this},bind:function(a,r,o){a===void 0&&(a=!1);var l=this.renderer;if(a&&l.flush(),r&&o&&this.resize(r,o),l.pushFramebuffer(this.framebuffer,!1,!1),a&&this.adjustViewport(),this.autoClear){var v=this.renderer.gl;v.clearColor(0,0,0,0),v.clear(v.COLOR_BUFFER_BIT)}l.clearStencilMask()},adjustViewport:function(){var a=this.renderer.gl;a.viewport(0,0,this.width,this.height),a.disable(a.SCISSOR_TEST)},clear:function(){var a=this.renderer,r=a.gl;a.pushFramebuffer(this.framebuffer),r.disable(r.SCISSOR_TEST),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),a.popFramebuffer(),a.resetScissor()},unbind:function(a){a===void 0&&(a=!1);var r=this.renderer;return a&&r.flush(),r.popFramebuffer()},destroy:function(){var a=this.renderer;a.deleteFramebuffer(this.framebuffer),a.deleteTexture(this.texture),a.off(c.RESIZE,this.resize,this),this.renderer=null,this.framebuffer=null,this.texture=null}});h.exports=s},75512:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={getTintFromFloats:function(y,e,f,c){var s=(y*255|0)&255,a=(e*255|0)&255,r=(f*255|0)&255,o=(c*255|0)&255;return(o<<24|s<<16|a<<8|r)>>>0},getTintAppendFloatAlpha:function(y,e){var f=(e*255|0)&255;return(f<<24|y)>>>0},getTintAppendFloatAlphaAndSwap:function(y,e){var f=(y>>16|0)&255,c=(y>>8|0)&255,s=(y|0)&255,a=(e*255|0)&255;return(a<<24|s<<16|c<<8|f)>>>0},getFloatsFromUintRGB:function(y){var e=(y>>16|0)&255,f=(y>>8|0)&255,c=(y|0)&255;return[e/255,f/255,c/255]},checkShaderMax:function(y,e){var f=Math.min(16,y.getParameter(y.MAX_TEXTURE_IMAGE_UNITS));return!e||e===-1?f:Math.min(f,e)},parseFragmentShaderMaxTextures:function(y,e){if(!y)return"";for(var f="",c=0;c<e;c++)c>0&&(f+=`
	else `),c<e-1&&(f+="if (outTexId < "+c+".5)"),f+=`
	{`,f+=`
		texture = texture2D(uMainSampler[`+c+"], outTexCoord);",f+=`
	}`;return y=y.replace(/%count%/gi,e.toString()),y.replace(/%forloop%/gi,f)},setGlowQuality:function(y,e,f,c){return f===void 0&&(f=e.config.glowFXQuality),c===void 0&&(c=e.config.glowFXDistance),y=y.replace(/__SIZE__/gi,(1/f/c).toFixed(7)),y=y.replace(/__DIST__/gi,c.toFixed(0)+".0"),y}}},44775:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(28699),s=e(6659),a=e(18970),r=e(72632),o=e(16650),l=e(81044),v=e(37410),u=e(75512),d=e(71305),p=new f({Extends:s,initialize:function(x){s.call(this);var T=x.game,S=T.renderer,P=S.gl;this.name=r(x,"name","WebGLPipeline"),this.game=T,this.renderer=S,this.manager,this.gl=P,this.view=T.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=r(x,"topology",P.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=r(x,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=x,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[]},boot:function(){var g,x=this.gl,T=this.config,S=this.renderer;this.isPostFX||(this.projectionMatrix=new o().identity());var P=this.renderTargets,E=r(T,"renderTarget",!1);typeof E=="boolean"&&E&&(E=1);var R=S.width,A=S.height;if(typeof E=="number")for(g=0;g<E;g++)P.push(new v(S,R,A,1,0,!0));else if(Array.isArray(E))for(g=0;g<E.length;g++){var w=r(E[g],"scale",1),O=r(E[g],"minFilter",0),L=r(E[g],"autoClear",1),F=r(E[g],"width",null),I=r(E[g],"height",F);F?P.push(new v(S,F,I,1,O,L)):P.push(new v(S,R,A,w,O,L))}P.length&&(this.currentRenderTarget=P[0]),this.setShadersFromConfig(T);var b=this.shaders,G=0;for(g=0;g<b.length;g++)b[g].vertexSize>G&&(G=b[g].vertexSize);var N=r(T,"batchSize",S.config.batchSize);this.vertexCapacity=N*6;var U=new ArrayBuffer(this.vertexCapacity*G);this.vertexData=U,this.bytes=new Uint8Array(U),this.vertexViewF32=new Float32Array(U),this.vertexViewU32=new Uint32Array(U);var Y=r(T,"vertices",null);for(Y?(this.vertexViewF32.set(Y),this.vertexBuffer=S.createVertexBuffer(U,x.STATIC_DRAW)):this.vertexBuffer=S.createVertexBuffer(U.byteLength,x.DYNAMIC_DRAW),this.setVertexBuffer(),g=b.length-1;g>=0;g--)b[g].rebind();this.hasBooted=!0,S.on(l.RESIZE,this.resize,this),S.on(l.PRE_RENDER,this.onPreRender,this),S.on(l.RENDER,this.onRender,this),S.on(l.POST_RENDER,this.onPostRender,this),this.emit(a.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(g,x,T){var S=this.renderer;if(g!==this.currentShader||S.currentProgram!==this.currentShader.program){this.flush();var P=this.setVertexBuffer(T);P&&!x&&(x=!0),g.bind(x,!1),this.currentShader=g}return this},getShaderByName:function(g){for(var x=this.shaders,T=0;T<x.length;T++)if(x[T].name===g)return x[T]},setShadersFromConfig:function(g){var x,T=this.shaders,S=this.renderer;for(x=0;x<T.length;x++)T[x].destroy();var P="vertShader",E="fragShader",R="attributes",A=r(g,P,null),w=u.parseFragmentShaderMaxTextures(r(g,E,null),S.maxTextures),O=r(g,R,null),L=r(g,"shaders",[]),F=L.length;if(F===0)A&&w&&(this.shaders=[new d(this,"default",A,w,c(O))]);else{var I=[];for(x=0;x<F;x++){var b=L[x],G,N,U,Y;if(typeof b=="string"?(G="default",N=A,U=u.parseFragmentShaderMaxTextures(b,S.maxTextures),Y=O):(G=r(b,"name","default"),N=r(b,P,A),U=u.parseFragmentShaderMaxTextures(r(b,E,w),S.maxTextures),Y=r(b,R,O)),G==="default"){var X=U.split(`
`),B=X[0].trim();B.indexOf("#define SHADER_NAME")>-1&&(G=B.substring(20))}N&&U&&I.push(new d(this,G,N,U,c(Y)))}this.shaders=I}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(g){return this.currentBatch={start:this.vertexCount,count:0,texture:[g],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=g,this.batch.push(this.currentBatch),0},addTextureToBatch:function(g){var x=this.currentBatch;x&&(x.texture.push(g),x.unit++,x.maxUnit++)},pushBatch:function(g){if(!this.currentBatch||this.forceZero&&g!==this.currentTexture)return this.createBatch(g);if(g===this.currentTexture)return this.currentUnit;var x=this.currentBatch,T=x.texture.indexOf(g);return T===-1?x.texture.length===this.renderer.maxTextures?this.createBatch(g):(x.unit++,x.maxUnit++,x.texture.push(g),this.currentUnit=x.unit,this.currentTexture=g,x.unit):(this.currentUnit=T,this.currentTexture=g,T)},setGameObject:function(g,x){return x===void 0&&(x=g.frame),this.pushBatch(x.source.glTexture)},shouldFlush:function(g){return g===void 0&&(g=0),this.vertexCount+g>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(g,x){(g!==this.width||x!==this.height)&&this.flush(),this.width=g,this.height=x;for(var T=this.renderTargets,S=0;S<T.length;S++)T[S].resize(g,x);return this.setProjectionMatrix(g,x),this.emit(a.RESIZE,g,x,this),this.onResize(g,x),this},setProjectionMatrix:function(g,x){var T=this.projectionMatrix;if(!T)return this;this.projectionWidth=g,this.projectionHeight=x,T.ortho(0,g,x,0,-1e3,1e3);for(var S=this.shaders,P="uProjectionMatrix",E=0;E<S.length;E++){var R=S[E];R.hasUniform(P)&&(R.resetUniform(P),R.setMatrix4fv(P,!1,T.val,R))}return this},flipProjectionMatrix:function(g){g===void 0&&(g=!0);var x=this.projectionMatrix;if(!x)return this;var T=this.projectionWidth,S=this.projectionHeight;g?x.ortho(0,T,0,S,-1e3,1e3):x.ortho(0,T,S,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,x.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var g=this.renderer.projectionWidth,x=this.renderer.projectionHeight;(this.projectionWidth!==g||this.projectionHeight!==x)&&this.setProjectionMatrix(g,x)}},bind:function(g){if(g===void 0&&(g=this.currentShader),this.glReset)return this.rebind(g);var x=!1,T=this.gl;return T.getParameter(T.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(T.bindBuffer(T.ARRAY_BUFFER,this.vertexBuffer),this.activeBuffer=this.vertexBuffer,x=!0),g.bind(x),this.currentShader=g,this.activeTextures.length=0,this.emit(a.BIND,this,g),this.onActive(g),this},rebind:function(g){this.activeBuffer=null,this.setVertexBuffer();for(var x=this.shaders,T=x.length-1;T>=0;T--){var S=x[T].rebind();(!g||S===g)&&(this.currentShader=S)}return this.activeTextures.length=0,this.emit(a.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},setVertexBuffer:function(g){if(g===void 0&&(g=this.vertexBuffer),g!==this.activeBuffer){var x=this.gl;return this.gl.bindBuffer(x.ARRAY_BUFFER,g),this.activeBuffer=g,!0}return!1},preBatch:function(g){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(g),this},postBatch:function(g){return this.onDraw(this.currentRenderTarget),this.onPostBatch(g),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(g){if(g===void 0&&(g=!1),this.vertexCount>0){this.emit(a.BEFORE_FLUSH,this,g),this.onBeforeFlush(g);var x=this.gl,T=this.vertexCount,S=this.currentShader.vertexSize,P=this.topology;if(this.active){this.setVertexBuffer(),T===this.vertexCapacity?x.bufferData(x.ARRAY_BUFFER,this.vertexData,x.DYNAMIC_DRAW):x.bufferSubData(x.ARRAY_BUFFER,0,this.bytes.subarray(0,T*S));var E,R,A,w=this.batch,O=this.activeTextures;if(this.forceZero)for(O[0]||x.activeTexture(x.TEXTURE0),E=0;E<w.length;E++)R=w[E],A=R.texture[0],O[0]!==A&&(x.bindTexture(x.TEXTURE_2D,A),O[0]=A),x.drawArrays(P,R.start,R.count);else for(E=0;E<w.length;E++){R=w[E];for(var L=0;L<=R.maxUnit;L++)A=R.texture[L],O[L]!==A&&(x.activeTexture(x.TEXTURE0+L),x.bindTexture(x.TEXTURE_2D,A),O[L]=A);x.drawArrays(P,R.start,R.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(a.AFTER_FLUSH,this,g),this.onAfterFlush(g)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(g,x,T,S,P,E,R){var A=this.vertexViewF32,w=this.vertexViewU32,O=this.vertexCount*this.currentShader.vertexComponentCount-1;A[++O]=g,A[++O]=x,A[++O]=T,A[++O]=S,A[++O]=P,A[++O]=E,w[++O]=R,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(g,x,T,S,P,E,R,A,w,O,L,F,I,b,G,N,U,Y,X,B){B===void 0&&(B=this.currentUnit);var z=!1;this.shouldFlush(6)&&(this.flush(),z=!0),this.currentBatch||(B=this.setTexture2D(X));var D=this.vertexViewF32,V=this.vertexViewU32,k=this.vertexCount*this.currentShader.vertexComponentCount-1;return D[++k]=x,D[++k]=T,D[++k]=O,D[++k]=L,D[++k]=B,D[++k]=Y,V[++k]=b,D[++k]=S,D[++k]=P,D[++k]=O,D[++k]=I,D[++k]=B,D[++k]=Y,V[++k]=N,D[++k]=E,D[++k]=R,D[++k]=F,D[++k]=I,D[++k]=B,D[++k]=Y,V[++k]=U,D[++k]=x,D[++k]=T,D[++k]=O,D[++k]=L,D[++k]=B,D[++k]=Y,V[++k]=b,D[++k]=E,D[++k]=R,D[++k]=F,D[++k]=I,D[++k]=B,D[++k]=Y,V[++k]=U,D[++k]=A,D[++k]=w,D[++k]=F,D[++k]=L,D[++k]=B,D[++k]=Y,V[++k]=G,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(g),z},batchTri:function(g,x,T,S,P,E,R,A,w,O,L,F,I,b,G,N,U){U===void 0&&(U=this.currentUnit);var Y=!1;this.shouldFlush(3)&&(this.flush(),Y=!0),this.currentBatch||(U=this.setTexture2D(N));var X=this.vertexViewF32,B=this.vertexViewU32,z=this.vertexCount*this.currentShader.vertexComponentCount-1;return X[++z]=x,X[++z]=T,X[++z]=A,X[++z]=w,X[++z]=U,X[++z]=G,B[++z]=F,X[++z]=S,X[++z]=P,X[++z]=A,X[++z]=L,X[++z]=U,X[++z]=G,B[++z]=I,X[++z]=E,X[++z]=R,X[++z]=O,X[++z]=L,X[++z]=U,X[++z]=G,B[++z]=b,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(g),Y},drawFillRect:function(g,x,T,S,P,E,R,A){R===void 0&&(R=this.renderer.whiteTexture),A===void 0&&(A=!0),g=Math.floor(g),x=Math.floor(x);var w=Math.floor(g+T),O=Math.floor(x+S),L=this.setTexture2D(R),F=u.getTintAppendFloatAlphaAndSwap(P,E),I=0,b=0,G=1,N=1;A&&(b=1,N=0),this.batchQuad(null,g,x,g,O,w,O,w,x,I,b,G,N,F,F,F,F,0,R,L)},setTexture2D:function(g){return g===void 0&&(g=this.renderer.whiteTexture),this.pushBatch(g)},bindTexture:function(g,x){x===void 0&&(x=0);var T=this.gl;return T.activeTexture(T.TEXTURE0+x),T.bindTexture(T.TEXTURE_2D,g),this},bindRenderTarget:function(g,x){return this.bindTexture(g.texture,x)},setTime:function(g,x){return this.set1f(g,this.game.loop.getDuration(),x),this},setBoolean:function(g,x,T){return T===void 0&&(T=this.currentShader),T.setBoolean(g,x),this},set1f:function(g,x,T){return T===void 0&&(T=this.currentShader),T.set1f(g,x),this},set2f:function(g,x,T,S){return S===void 0&&(S=this.currentShader),S.set2f(g,x,T),this},set3f:function(g,x,T,S,P){return P===void 0&&(P=this.currentShader),P.set3f(g,x,T,S),this},set4f:function(g,x,T,S,P,E){return E===void 0&&(E=this.currentShader),E.set4f(g,x,T,S,P),this},set1fv:function(g,x,T){return T===void 0&&(T=this.currentShader),T.set1fv(g,x),this},set2fv:function(g,x,T){return T===void 0&&(T=this.currentShader),T.set2fv(g,x),this},set3fv:function(g,x,T){return T===void 0&&(T=this.currentShader),T.set3fv(g,x),this},set4fv:function(g,x,T){return T===void 0&&(T=this.currentShader),T.set4fv(g,x),this},set1iv:function(g,x,T){return T===void 0&&(T=this.currentShader),T.set1iv(g,x),this},set2iv:function(g,x,T){return T===void 0&&(T=this.currentShader),T.set2iv(g,x),this},set3iv:function(g,x,T){return T===void 0&&(T=this.currentShader),T.set3iv(g,x),this},set4iv:function(g,x,T){return T===void 0&&(T=this.currentShader),T.set4iv(g,x),this},set1i:function(g,x,T){return T===void 0&&(T=this.currentShader),T.set1i(g,x),this},set2i:function(g,x,T,S){return S===void 0&&(S=this.currentShader),S.set2i(g,x,T),this},set3i:function(g,x,T,S,P){return P===void 0&&(P=this.currentShader),P.set3i(g,x,T,S),this},set4i:function(g,x,T,S,P,E){return E===void 0&&(E=this.currentShader),E.set4i(g,x,T,S,P),this},setMatrix2fv:function(g,x,T,S){return S===void 0&&(S=this.currentShader),S.setMatrix2fv(g,x,T),this},setMatrix3fv:function(g,x,T,S){return S===void 0&&(S=this.currentShader),S.setMatrix3fv(g,x,T),this},setMatrix4fv:function(g,x,T,S){return S===void 0&&(S=this.currentShader),S.setMatrix4fv(g,x,T),this},destroy:function(){this.emit(a.DESTROY,this);var g,x=this.shaders;for(g=0;g<x.length;g++)x[g].destroy();var T=this.renderTargets;for(g=0;g<T.length;g++)T[g].destroy();this.gl.deleteBuffer(this.vertexBuffer);var S=this.renderer;return S.off(l.RESIZE,this.resize,this),S.off(l.PRE_RENDER,this.onPreRender,this),S.off(l.RENDER,this.onRender,this),S.off(l.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});h.exports=p},11857:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(66458),c=e(89787),s=e(56694),a=e(86459),r=e(6659),o=e(81044),l=e(28621),v=e(16650),u=e(72283),d=e(35217),p=e(37410),g=e(40444),x=e(38203),T=e(75512),S=e(1217),P=new s({Extends:r,initialize:function(R){r.call(this);var A=R.config,w={alpha:A.transparent,desynchronized:A.desynchronized,depth:!0,antialias:A.antialiasGL,premultipliedAlpha:A.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:A.failIfMajorPerformanceCaveat,powerPreference:A.powerPreference,preserveDrawingBuffer:A.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:A.clearBeforeRender,antialias:A.antialias,backgroundColor:A.backgroundColor,contextCreation:w,roundPixels:A.roundPixels,maxTextures:A.maxTextures,maxTextureSize:A.maxTextureSize,batchSize:A.batchSize,maxLights:A.maxLights,mipmapFilter:A.mipmapFilter},this.game=R,this.type=a.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=R.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=u,this.contextRestoredHandler=u,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(E){var R,A=this.game,w=this.canvas,O=E.backgroundColor;if(A.config.context?R=A.config.context:R=w.getContext("webgl",E.contextCreation)||w.getContext("experimental-webgl",E.contextCreation),!R||R.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=R;var L=this;this.contextLostHandler=function(Y){L.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),Y.preventDefault()},w.addEventListener("webglcontextlost",this.contextLostHandler,!1),A.context=R;for(var F=0;F<=27;F++)this.blendModes.push({func:[R.ONE,R.ONE_MINUS_SRC_ALPHA],equation:R.FUNC_ADD});this.blendModes[1].func=[R.ONE,R.DST_ALPHA],this.blendModes[2].func=[R.DST_COLOR,R.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[R.ONE,R.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[R.ZERO,R.ONE_MINUS_SRC_ALPHA],equation:R.FUNC_REVERSE_SUBTRACT},this.glFormats=[R.BYTE,R.SHORT,R.UNSIGNED_BYTE,R.UNSIGNED_SHORT,R.FLOAT],this.glFuncMap={mat2:{func:R.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:R.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:R.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:R.uniform1f,length:1},"1fv":{func:R.uniform1fv,length:1},"1i":{func:R.uniform1i,length:1},"1iv":{func:R.uniform1iv,length:1},"2f":{func:R.uniform2f,length:2},"2fv":{func:R.uniform2fv,length:1},"2i":{func:R.uniform2i,length:2},"2iv":{func:R.uniform2iv,length:1},"3f":{func:R.uniform3f,length:3},"3fv":{func:R.uniform3fv,length:1},"3i":{func:R.uniform3i,length:3},"3iv":{func:R.uniform3iv,length:1},"4f":{func:R.uniform4f,length:4},"4fv":{func:R.uniform4fv,length:1},"4i":{func:R.uniform4i,length:4},"4iv":{func:R.uniform4iv,length:1}};var I=R.getSupportedExtensions();(!E.maxTextures||E.maxTextures===-1)&&(E.maxTextures=R.getParameter(R.MAX_TEXTURE_IMAGE_UNITS)),E.maxTextureSize||(E.maxTextureSize=R.getParameter(R.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),this.supportedExtensions=I;var b="ANGLE_instanced_arrays";this.instancedArraysExtension=I.indexOf(b)>-1?R.getExtension(b):null;var G="OES_vertex_array_object";this.vaoExtension=I.indexOf(G)>-1?R.getExtension(G):null,R.disable(R.DEPTH_TEST),R.disable(R.CULL_FACE),R.enable(R.BLEND),R.clearColor(O.redGL,O.greenGL,O.blueGL,O.alphaGL),E.mipmapFilter!==""&&(this.mipmapFilter=R[E.mipmapFilter]),this.maxTextures=T.checkShaderMax(R,E.maxTextures),this.textureIndexes=[];for(var N=0;N<this.maxTextures;N++){var U=R.createTexture();R.activeTexture(R.TEXTURE0+N),R.bindTexture(R.TEXTURE_2D,U),R.texImage2D(R.TEXTURE_2D,0,R.RGBA,1,1,0,R.RGBA,R.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(N)}return this.pipelines=new d(this),this.setBlendMode(a.BlendModes.NORMAL),this.projectionMatrix=new v().identity(),A.textures.once(x.READY,this.boot,this),this},boot:function(){var E=this.game,R=this.pipelines,A=E.scale.baseSize,w=A.width,O=A.height;this.width=w,this.height=O,this.isBooted=!0,this.renderTarget=new p(this,w,O,1,0,!0,!0),this.maskTarget=new p(this,w,O,1,0,!0,!0),this.maskSource=new p(this,w,O,1,0,!0,!0);var L=E.config;R.boot(L.pipeline,L.defaultPipeline,L.autoMobilePipeline),this.blankTexture=E.textures.getFrame("__DEFAULT").glTexture,this.whiteTexture=E.textures.getFrame("__WHITE").glTexture;var F=this.gl;F.bindFramebuffer(F.FRAMEBUFFER,null),F.enable(F.SCISSOR_TEST),E.scale.on(g.RESIZE,this.onResize,this),this.resize(w,O)},captureFrame:function(E,R){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(E,R,A){},stopCapture:function(){},onCapture:function(E){},onResize:function(E,R){(R.width!==this.width||R.height!==this.height)&&this.resize(R.width,R.height)},beginCapture:function(E,R){E===void 0&&(E=this.width),R===void 0&&(R=this.height),this.renderTarget.bind(!0,E,R),this.setProjectionMatrix(E,R)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(E,R){var A=this.gl;return this.width=E,this.height=R,this.setProjectionMatrix(E,R),A.viewport(0,0,E,R),this.drawingBufferHeight=A.drawingBufferHeight,A.scissor(0,A.drawingBufferHeight-R,E,R),this.defaultScissor[2]=E,this.defaultScissor[3]=R,this.emit(o.RESIZE,E,R),this},getCompressedTextures:function(){var E="WEBGL_compressed_texture_",R="WEBKIT_"+E,A=function(O,L){var F=O.getExtension(E+L)||O.getExtension(R+L);if(F){var I={};for(var b in F)I[F[b]]=b;return I}},w=this.gl;return{ETC:A(w,"etc"),ETC1:A(w,"etc1"),ATC:A(w,"atc"),ASTC:A(w,"astc"),BPTC:A(w,"bptc"),RGTC:A(w,"rgtc"),PVRTC:A(w,"pvrtc"),S3TC:A(w,"s3tc"),S3TCSRGB:A(w,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(E,R){var A=this.compression[E.toUpperCase()];if(R in A)return A[R]},supportsCompressedTexture:function(E,R){var A=this.compression[E.toUpperCase()];return A?R?R in A:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(E,R){return(E!==this.projectionWidth||R!==this.projectionHeight)&&(this.projectionWidth=E,this.projectionHeight=R,this.projectionMatrix.ortho(0,E,R,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(E){return this.supportedExtensions?this.supportedExtensions.indexOf(E):!1},getExtension:function(E){return this.hasExtension(E)?(E in this.extensions||(this.extensions[E]=this.gl.getExtension(E)),this.extensions[E]):null},flush:function(){this.pipelines.flush()},pushScissor:function(E,R,A,w,O){O===void 0&&(O=this.drawingBufferHeight);var L=this.scissorStack,F=[E,R,A,w];return L.push(F),this.setScissor(E,R,A,w,O),this.currentScissor=F,F},setScissor:function(E,R,A,w,O){O===void 0&&(O=this.drawingBufferHeight);var L=this.gl,F=this.currentScissor,I=A>0&&w>0;if(F&&I){var b=F[0],G=F[1],N=F[2],U=F[3];I=b!==E||G!==R||N!==A||U!==w}I&&(this.flush(),L.scissor(E,O-R-w,A,w))},resetScissor:function(){var E=this.gl;E.enable(E.SCISSOR_TEST);var R=this.currentScissor;if(R){var A=R[0],w=R[1],O=R[2],L=R[3];O>0&&L>0&&E.scissor(A,this.drawingBufferHeight-w-L,O,L)}},popScissor:function(){var E=this.scissorStack;E.pop();var R=E[E.length-1];R&&this.setScissor(R[0],R[1],R[2],R[3]),this.currentScissor=R},hasActiveStencilMask:function(){var E=this.currentMask.mask,R=this.currentCameraMask.mask;return E&&E.isStencil||R&&R.isStencil},resetViewport:function(){var E=this.gl;E.viewport(0,0,this.width,this.height),this.drawingBufferHeight=E.drawingBufferHeight},setBlendMode:function(E,R){R===void 0&&(R=!1);var A=this.gl,w=this.blendModes[E];return R||E!==a.BlendModes.SKIP_CHECK&&this.currentBlendMode!==E?(this.flush(),A.enable(A.BLEND),A.blendEquation(w.equation),w.func.length>2?A.blendFuncSeparate(w.func[0],w.func[1],w.func[2],w.func[3]):A.blendFunc(w.func[0],w.func[1]),this.currentBlendMode=E,!0):!1},addBlendMode:function(E,R){var A=this.blendModes.push({func:E,equation:R});return A-1},updateBlendMode:function(E,R,A){return this.blendModes[E]&&(this.blendModes[E].func=R,A&&(this.blendModes[E].equation=A)),this},removeBlendMode:function(E){return E>17&&this.blendModes[E]&&this.blendModes.splice(E,1),this},pushFramebuffer:function(E,R,A,w,O){return E===this.currentFramebuffer?this:(this.fboStack.push(E),this.setFramebuffer(E,R,A,w,O))},setFramebuffer:function(E,R,A,w,O){if(R===void 0&&(R=!1),A===void 0&&(A=!0),w===void 0&&(w=null),O===void 0&&(O=!1),E===this.currentFramebuffer)return this;var L=this.gl,F=this.width,I=this.height;return E&&E.renderTexture&&A?(F=E.renderTexture.width,I=E.renderTexture.height):this.flush(),L.bindFramebuffer(L.FRAMEBUFFER,E),A&&L.viewport(0,0,F,I),w&&L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.TEXTURE_2D,w,0),O&&(L.clearColor(0,0,0,0),L.clear(L.COLOR_BUFFER_BIT)),R&&(E?(this.drawingBufferHeight=I,this.pushScissor(0,0,F,I)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=E,this},popFramebuffer:function(E,R){E===void 0&&(E=!1),R===void 0&&(R=!0);var A=this.fboStack;A.pop();var w=A[A.length-1];return w||(w=null),this.setFramebuffer(w,E,R),w},restoreFramebuffer:function(E,R){E===void 0&&(E=!1),R===void 0&&(R=!0);var A=this.fboStack,w=A[A.length-1];w||(w=null),this.currentFramebuffer=null,this.setFramebuffer(w,E,R)},setProgram:function(E){return E!==this.currentProgram?(this.flush(),this.gl.useProgram(E),this.currentProgram=E,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram),this},createTextureFromSource:function(E,R,A,w,O){O===void 0&&(O=!1);var L=this.gl,F=L.NEAREST,I=L.NEAREST,b=L.CLAMP_TO_EDGE,G=null;R=E?E.width:R,A=E?E.height:A;var N=l(R,A);return N&&!O&&(b=L.REPEAT),w===a.ScaleModes.LINEAR&&this.config.antialias&&(F=N&&this.mipmapFilter?this.mipmapFilter:L.LINEAR,I=L.LINEAR),E&&E.compressed&&(F=L.LINEAR,I=L.LINEAR),!E&&typeof R=="number"&&typeof A=="number"?G=this.createTexture2D(0,F,I,b,b,L.RGBA,null,R,A):G=this.createTexture2D(0,F,I,b,b,L.RGBA,E),G},createTexture2D:function(E,R,A,w,O,L,F,I,b,G,N,U){G=G??!0,N===void 0&&(N=!1),U===void 0&&(U=!1);var Y=this.gl,X=Y.createTexture();Y.activeTexture(Y.TEXTURE0);var B=Y.getParameter(Y.TEXTURE_BINDING_2D);Y.bindTexture(Y.TEXTURE_2D,X),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_MIN_FILTER,R),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_MAG_FILTER,A),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_WRAP_S,O),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_WRAP_T,w),Y.pixelStorei(Y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G),U&&Y.pixelStorei(Y.UNPACK_FLIP_Y_WEBGL,!0);var z=!1;if(F==null)Y.texImage2D(Y.TEXTURE_2D,E,L,I,b,0,L,Y.UNSIGNED_BYTE,null),z=l(I,b);else if(F.compressed){I=F.width,b=F.height,z=F.generateMipmap;for(var D=0;D<F.mipmaps.length;D++)Y.compressedTexImage2D(Y.TEXTURE_2D,D,F.internalFormat,F.mipmaps[D].width,F.mipmaps[D].height,0,F.mipmaps[D].data)}else N||(I=F.width,b=F.height),Y.texImage2D(Y.TEXTURE_2D,E,L,L,Y.UNSIGNED_BYTE,F),z=l(I,b);return z&&Y.generateMipmap(Y.TEXTURE_2D),B&&Y.bindTexture(Y.TEXTURE_2D,B),X.isAlphaPremultiplied=G,X.isRenderTexture=!1,X.width=I,X.height=b,X},createFramebuffer:function(E,R,A,w){w===void 0&&(w=!0);var O=this.gl,L=O.createFramebuffer(),F=0;if(this.setFramebuffer(L),A.isRenderTexture=!0,A.isAlphaPremultiplied=!1,O.framebufferTexture2D(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.TEXTURE_2D,A,0),F=O.checkFramebufferStatus(O.FRAMEBUFFER),F!==O.FRAMEBUFFER_COMPLETE){var I={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"};throw new Error("Framebuffer status: "+(I[F]||F))}if(L.renderTexture=A,w){var b=O.createRenderbuffer();O.bindRenderbuffer(O.RENDERBUFFER,b),O.renderbufferStorage(O.RENDERBUFFER,O.DEPTH_STENCIL,E,R),O.framebufferRenderbuffer(O.FRAMEBUFFER,O.DEPTH_STENCIL_ATTACHMENT,O.RENDERBUFFER,b)}return this.setFramebuffer(null),L},beginBitmapMask:function(E,R){var A=this.gl;A&&(this.flush(),this.maskTarget.bind(),this.currentCameraMask.mask!==E&&(this.currentMask.mask=E,this.currentMask.camera=R))},drawBitmapMask:function(E,R,A){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),E.renderWebGL(this,E,R),this.maskSource.unbind(!0),this.maskTarget.unbind();var w=this.gl,O=this.getCurrentStencilMask();O?(w.enable(w.STENCIL_TEST),O.mask.applyStencil(this,O.camera,!0)):this.currentMask.mask=null,this.pipelines.set(A),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,this.maskTarget.texture),w.activeTexture(w.TEXTURE1),w.bindTexture(w.TEXTURE_2D,this.maskSource.texture)},createProgram:function(E,R){var A=this.gl,w=A.createProgram(),O=A.createShader(A.VERTEX_SHADER),L=A.createShader(A.FRAGMENT_SHADER);A.shaderSource(O,E),A.shaderSource(L,R),A.compileShader(O),A.compileShader(L);var F=`Shader failed:
`;if(!A.getShaderParameter(O,A.COMPILE_STATUS))throw new Error("Vertex "+F+A.getShaderInfoLog(O));if(!A.getShaderParameter(L,A.COMPILE_STATUS))throw new Error("Fragment "+F+A.getShaderInfoLog(L));if(A.attachShader(w,O),A.attachShader(w,L),A.linkProgram(w),!A.getProgramParameter(w,A.LINK_STATUS))throw new Error("Link "+F+A.getProgramInfoLog(w));return A.useProgram(w),w},createVertexBuffer:function(E,R){var A=this.gl,w=A.createBuffer();return A.bindBuffer(A.ARRAY_BUFFER,w),A.bufferData(A.ARRAY_BUFFER,E,R),A.bindBuffer(A.ARRAY_BUFFER,null),w},createIndexBuffer:function(E,R){var A=this.gl,w=A.createBuffer();return A.bindBuffer(A.ELEMENT_ARRAY_BUFFER,w),A.bufferData(A.ELEMENT_ARRAY_BUFFER,E,R),A.bindBuffer(A.ELEMENT_ARRAY_BUFFER,null),w},deleteTexture:function(E){return E&&this.gl.deleteTexture(E),this},deleteFramebuffer:function(E){if(E){var R=this.gl;R.bindFramebuffer(R.FRAMEBUFFER,E);var A=R.getParameter(R.RENDERBUFFER_BINDING);A&&R.deleteRenderbuffer(A),R.bindFramebuffer(R.FRAMEBUFFER,null),R.deleteFramebuffer(E),f(this.fboStack,E),this.currentFramebuffer===E&&(this.currentFramebuffer=null)}return this},deleteProgram:function(E){return E&&this.gl.deleteProgram(E),this},deleteBuffer:function(E){return this.gl.deleteBuffer(E),this},preRenderCamera:function(E){var R=E.x,A=E.y,w=E.width,O=E.height,L=E.backgroundColor;if(E.emit(c.PRE_RENDER,E),this.pipelines.preBatchCamera(E),this.pushScissor(R,A,w,O),E.mask&&(this.currentCameraMask.mask=E.mask,this.currentCameraMask.camera=E._maskCamera,E.mask.preRenderWebGL(this,E,E._maskCamera)),L.alphaGL>0){var F=this.pipelines.setMulti();F.drawFillRect(R,A,w,O,T.getTintFromFloats(L.blueGL,L.greenGL,L.redGL,1),L.alphaGL)}},getCurrentStencilMask:function(){var E=null,R=this.maskStack,A=this.currentCameraMask;return R.length>0?E=R[R.length-1]:A.mask&&A.mask.isStencil&&(E=A),E},postRenderCamera:function(E){var R=E.flashEffect,A=E.fadeEffect;if(R.isRunning||A.isRunning||A.isComplete){var w=this.pipelines.setMulti();R.postRenderWebGL(w,T.getTintFromFloats),A.postRenderWebGL(w,T.getTintFromFloats)}E.dirty=!1,this.popScissor(),E.mask&&(this.currentCameraMask.mask=null,E.mask.postRenderWebGL(this,E._maskCamera)),this.pipelines.postBatchCamera(E),E.emit(c.POST_RENDER,E)},preRender:function(){if(!this.contextLost){var E=this.gl;if(E.bindFramebuffer(E.FRAMEBUFFER,null),this.config.clearBeforeRender){var R=this.config.backgroundColor;E.clearColor(R.redGL,R.greenGL,R.blueGL,R.alphaGL),E.clear(E.COLOR_BUFFER_BIT|E.DEPTH_BUFFER_BIT|E.STENCIL_BUFFER_BIT)}E.enable(E.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&E.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(o.PRE_RENDER)}},render:function(E,R,A){if(!this.contextLost){var w=R.length;if(this.emit(o.RENDER,E,A),this.preRenderCamera(A),w===0){this.setBlendMode(a.BlendModes.NORMAL),this.postRenderCamera(A);return}this.currentType="";for(var O=this.currentMask,L=0;L<w;L++){this.finalType=L===w-1;var F=R[L],I=F.mask;O=this.currentMask,O.mask&&O.mask!==I&&O.mask.postRenderWebGL(this,O.camera),I&&O.mask!==I&&I.preRenderWebGL(this,F,A),F.blendMode!==this.currentBlendMode&&this.setBlendMode(F.blendMode);var b=F.type;b!==this.currentType&&(this.newType=!0,this.currentType=b),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=R[L+1].type===this.currentType,F.renderWebGL(this,F,A),this.newType=!1}O=this.currentMask,O.mask&&O.mask.postRenderWebGL(this,O.camera),this.setBlendMode(a.BlendModes.NORMAL),this.postRenderCamera(A)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(o.POST_RENDER);var E=this.snapshotState;E.callback&&(S(this.gl,E),E.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var E=this.gl,R=this.getCurrentStencilMask();if(R){var A=R.mask;E.enable(E.STENCIL_TEST),A.invertAlpha?E.stencilFunc(E.NOTEQUAL,A.level,255):E.stencilFunc(E.EQUAL,A.level,255)}},snapshot:function(E,R,A){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,E,R,A)},snapshotArea:function(E,R,A,w,O,L,F){var I=this.snapshotState;return I.callback=O,I.type=L,I.encoder=F,I.getPixel=!1,I.x=E,I.y=R,I.width=A,I.height=w,this},snapshotPixel:function(E,R,A){return this.snapshotArea(E,R,1,1,A),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(E,R,A,w,O,L,F,I,b,G,N){O===void 0&&(O=!1),L===void 0&&(L=0),F===void 0&&(F=0),I===void 0&&(I=R),b===void 0&&(b=A),G==="pixel"&&(O=!0,G="image/png");var U=this.currentFramebuffer;this.snapshotArea(L,F,I,b,w,G,N);var Y=this.snapshotState;return Y.getPixel=O,Y.isFramebuffer=!0,Y.bufferWidth=R,Y.bufferHeight=A,Y.width=Math.min(Y.width,R),Y.height=Math.min(Y.height,A),this.setFramebuffer(E),S(this.gl,Y),this.setFramebuffer(U),Y.callback=null,Y.isFramebuffer=!1,this},canvasToTexture:function(E,R,A,w){return A===void 0&&(A=!1),w===void 0&&(w=!1),R?this.updateCanvasTexture(E,R,w):this.createCanvasTexture(E,A,w)},createCanvasTexture:function(E,R,A){R===void 0&&(R=!1),A===void 0&&(A=!1);var w=this.gl,O=w.NEAREST,L=w.NEAREST,F=E.width,I=E.height,b=w.CLAMP_TO_EDGE,G=l(F,I);return!R&&G&&(b=w.REPEAT),this.config.antialias&&(O=G&&this.mipmapFilter?this.mipmapFilter:w.LINEAR,L=w.LINEAR),this.createTexture2D(0,O,L,b,b,w.RGBA,E,F,I,!0,!1,A)},updateCanvasTexture:function(E,R,A){A===void 0&&(A=!1);var w=this.gl,O=E.width,L=E.height;if(O>0&&L>0){w.activeTexture(w.TEXTURE0);var F=w.getParameter(w.TEXTURE_BINDING_2D);w.bindTexture(w.TEXTURE_2D,R),A&&w.pixelStorei(w.UNPACK_FLIP_Y_WEBGL,!0),w.pixelStorei(w.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),w.texImage2D(w.TEXTURE_2D,0,w.RGBA,w.RGBA,w.UNSIGNED_BYTE,E),R.width=O,R.height=L,F&&w.bindTexture(w.TEXTURE_2D,F)}return R},createVideoTexture:function(E,R,A){R===void 0&&(R=!1),A===void 0&&(A=!1);var w=this.gl,O=w.NEAREST,L=w.NEAREST,F=E.videoWidth,I=E.videoHeight,b=w.CLAMP_TO_EDGE,G=l(F,I);return!R&&G&&(b=w.REPEAT),this.config.antialias&&(O=G&&this.mipmapFilter?this.mipmapFilter:w.LINEAR,L=w.LINEAR),this.createTexture2D(0,O,L,b,b,w.RGBA,E,F,I,!0,!0,A)},updateVideoTexture:function(E,R,A){A===void 0&&(A=!1);var w=this.gl,O=E.videoWidth,L=E.videoHeight;if(O>0&&L>0){w.activeTexture(w.TEXTURE0);var F=w.getParameter(w.TEXTURE_BINDING_2D);w.bindTexture(w.TEXTURE_2D,R),w.pixelStorei(w.UNPACK_FLIP_Y_WEBGL,A),w.texImage2D(w.TEXTURE_2D,0,w.RGBA,w.RGBA,w.UNSIGNED_BYTE,E),R.width=O,R.height=L,F&&w.bindTexture(w.TEXTURE_2D,F)}return R},setTextureFilter:function(E,R){var A=this.gl,w=[A.LINEAR,A.NEAREST][R];A.activeTexture(A.TEXTURE0);var O=A.getParameter(A.TEXTURE_BINDING_2D);return A.bindTexture(A.TEXTURE_2D,E),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,w),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,w),O&&A.bindTexture(A.TEXTURE_2D,O),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});h.exports=P},71305:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(72632),s=e(71402),a=new f({initialize:function(o,l,v,u,d){this.pipeline=o,this.name=l,this.renderer=o.renderer,this.gl=this.renderer.gl,this.fragSrc=u,this.vertSrc=v,this.program=this.renderer.createProgram(v,u),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(d),this.createUniforms()},createAttributes:function(r){var o=0,l=0,v=[];this.vertexComponentCount=0;for(var u=0;u<r.length;u++){var d=r[u],p=d.name,g=c(d,"size",1),x=c(d,"type",s.FLOAT),T=x.enum,S=x.size,P=!!d.normalized;v.push({name:p,size:g,type:T,normalized:P,offset:l,enabled:!1,location:-1}),S===4?o+=g:o++,l+=g*S}this.vertexSize=l,this.vertexComponentCount=o,this.attributes=v},bind:function(r,o){return r===void 0&&(r=!1),o===void 0&&(o=!1),o&&this.pipeline.flush(),this.renderer.setProgram(this.program),r&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(r){r===void 0&&(r=!1);for(var o=this.gl,l=this.vertexSize,v=this.attributes,u=this.program,d=0;d<v.length;d++){var p=v[d],g=p.size,x=p.type,T=p.offset,S=p.enabled,P=p.location,E=!!p.normalized;if(r){var R=o.getAttribLocation(u,p.name);R>=0?(o.enableVertexAttribArray(R),o.vertexAttribPointer(R,g,x,E,l,T),p.enabled=!0,p.location=R):R!==-1&&o.disableVertexAttribArray(R)}else S?o.vertexAttribPointer(P,g,x,E,l,T):!S&&P>-1&&(o.disableVertexAttribArray(P),p.location=-1)}return this},createUniforms:function(){var r=this.gl,o=this.program,l=this.uniforms,v,u,d,p=r.getProgramParameter(o,r.ACTIVE_UNIFORMS);for(v=0;v<p;v++){var g=r.getActiveUniform(o,v);if(g){u=g.name,d=r.getUniformLocation(o,u),d!==null&&(l[u]={name:u,location:d,value1:null,value2:null,value3:null,value4:null});var x=u.indexOf("[");x>0&&(u=u.substr(0,x),l.hasOwnProperty(u)||(d=r.getUniformLocation(o,u),d!==null&&(l[u]={name:u,location:d,value1:null,value2:null,value3:null,value4:null})))}}return this},hasUniform:function(r){return this.uniforms.hasOwnProperty(r)},resetUniform:function(r){var o=this.uniforms[r];return o&&(o.value1=null,o.value2=null,o.value3=null,o.value4=null),this},setUniform1:function(r,o,l,v){var u=this.uniforms[o];return u?((v||u.value1!==l)&&(u.value1=l,this.renderer.setProgram(this.program),r.call(this.gl,u.location,l),this.pipeline.currentShader=this),this):this},setUniform2:function(r,o,l,v,u){var d=this.uniforms[o];return d?((u||d.value1!==l||d.value2!==v)&&(d.value1=l,d.value2=v,this.renderer.setProgram(this.program),r.call(this.gl,d.location,l,v),this.pipeline.currentShader=this),this):this},setUniform3:function(r,o,l,v,u,d){var p=this.uniforms[o];return p?((d||p.value1!==l||p.value2!==v||p.value3!==u)&&(p.value1=l,p.value2=v,p.value3=u,this.renderer.setProgram(this.program),r.call(this.gl,p.location,l,v,u),this.pipeline.currentShader=this),this):this},setUniform4:function(r,o,l,v,u,d,p){var g=this.uniforms[o];return g?((p||g.value1!==l||g.value2!==v||g.value3!==u||g.value4!==d)&&(g.value1=l,g.value2=v,g.value3=u,g.value4=d,this.renderer.setProgram(this.program),r.call(this.gl,g.location,l,v,u,d),this.pipeline.currentShader=this),this):this},setBoolean:function(r,o){return this.setUniform1(this.gl.uniform1i,r,Number(o))},set1f:function(r,o){return this.setUniform1(this.gl.uniform1f,r,o)},set2f:function(r,o,l){return this.setUniform2(this.gl.uniform2f,r,o,l)},set3f:function(r,o,l,v){return this.setUniform3(this.gl.uniform3f,r,o,l,v)},set4f:function(r,o,l,v,u){return this.setUniform4(this.gl.uniform4f,r,o,l,v,u)},set1fv:function(r,o){return this.setUniform1(this.gl.uniform1fv,r,o,!0)},set2fv:function(r,o){return this.setUniform1(this.gl.uniform2fv,r,o,!0)},set3fv:function(r,o){return this.setUniform1(this.gl.uniform3fv,r,o,!0)},set4fv:function(r,o){return this.setUniform1(this.gl.uniform4fv,r,o,!0)},set1iv:function(r,o){return this.setUniform1(this.gl.uniform1iv,r,o,!0)},set2iv:function(r,o){return this.setUniform1(this.gl.uniform2iv,r,o,!0)},set3iv:function(r,o){return this.setUniform1(this.gl.uniform3iv,r,o,!0)},set4iv:function(r,o){return this.setUniform1(this.gl.uniform4iv,r,o,!0)},set1i:function(r,o){return this.setUniform1(this.gl.uniform1i,r,o)},set2i:function(r,o,l){return this.setUniform2(this.gl.uniform2i,r,o,l)},set3i:function(r,o,l,v){return this.setUniform3(this.gl.uniform3i,r,o,l,v)},set4i:function(r,o,l,v,u){return this.setUniform4(this.gl.uniform4i,r,o,l,v,u)},setMatrix2fv:function(r,o,l){return this.setUniform2(this.gl.uniformMatrix2fv,r,o,l,!0)},setMatrix3fv:function(r,o,l){return this.setUniform2(this.gl.uniformMatrix3fv,r,o,l,!0)},setMatrix4fv:function(r,o,l){return this.setUniform2(this.gl.uniformMatrix4fv,r,o,l,!0)},createProgram:function(r,o){r===void 0&&(r=this.vertSrc),o===void 0&&(o=this.fragSrc);var l=this.gl;return this.program&&l.deleteProgram(this.program),this.vertSrc=r,this.fragSrc=o,this.program=this.renderer.createProgram(r,o),this.createUniforms(),this.rebind()},destroy:function(){this.gl.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null,this.attributes=null,this.uniforms=null}});h.exports=a},71402:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};h.exports=y},55478:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(71402),c=e(98611),s={PipelineManager:e(35217),Pipelines:e(62253),RenderTarget:e(37410),Utils:e(75512),WebGLPipeline:e(44775),WebGLRenderer:e(11857),WebGLShader:e(71305)};s=c(!1,s,f),h.exports=s},5583:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(72632),s=e(91679),a=e(89053),r=e(71402),o=e(44775),l=new f({Extends:o,initialize:function(u){u.fragShader=c(u,"fragShader",s),u.vertShader=c(u,"vertShader",a),u.batchSize=c(u,"batchSize",1),u.vertices=c(u,"vertices",[-1,1,-1,-7,7,1]),u.attributes=c(u,"attributes",[{name:"inPosition",size:2,type:r.FLOAT}]),o.call(this,u)},boot:function(){o.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(v,u){o.prototype.resize.call(this,v,u),this.set2f("uResolution",v,u)},beginMask:function(v,u,d){this.renderer.beginBitmapMask(v,d)},endMask:function(v,u,d){var p=this.gl,g=this.renderer,x=v.bitmapMask;x&&p&&(g.drawBitmapMask(x,u,this),d&&this.set2f("uResolution",d.width,d.height),this.set1i("uInvertMaskAlpha",v.invertAlpha),p.drawArrays(this.topology,0,3),d&&this.set2f("uResolution",this.width,this.height),p.bindTexture(p.TEXTURE_2D,null))}});h.exports=l},81828:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(58136),s=e(47406),a=e(72632),r=e(87228),o=e(92462),l=e(75512),v=new f({Extends:r,initialize:function(d){d.shaders=[l.setGlowQuality(o.FXGlowFrag,d.game),o.FXShadowFrag,o.FXPixelateFrag,o.FXVignetteFrag,o.FXShineFrag,o.FXBlurLowFrag,o.FXBlurMedFrag,o.FXBlurHighFrag,o.FXGradientFrag,o.FXBloomFrag,o.ColorMatrixFrag,o.FXCircleFrag,o.FXBarrelFrag,o.FXDisplacementFrag,o.FXWipeFrag,o.FXBokehFrag],r.call(this,d);var p=this.game;this.glow=new c.Glow(p),this.shadow=new c.Shadow(p),this.pixelate=new c.Pixelate(p),this.vignette=new c.Vignette(p),this.shine=new c.Shine(p),this.gradient=new c.Gradient(p),this.circle=new c.Circle(p),this.barrel=new c.Barrel(p),this.wipe=new c.Wipe(p),this.bokeh=new c.Bokeh(p);var g=[];g[s.GLOW]=this.onGlow,g[s.SHADOW]=this.onShadow,g[s.PIXELATE]=this.onPixelate,g[s.VIGNETTE]=this.onVignette,g[s.SHINE]=this.onShine,g[s.BLUR]=this.onBlur,g[s.GRADIENT]=this.onGradient,g[s.BLOOM]=this.onBloom,g[s.COLOR_MATRIX]=this.onColorMatrix,g[s.CIRCLE]=this.onCircle,g[s.BARREL]=this.onBarrel,g[s.DISPLACEMENT]=this.onDisplacement,g[s.WIPE]=this.onWipe,g[s.BOKEH]=this.onBokeh,this.fxHandlers=g,this.source,this.target,this.swap},onDraw:function(u,d,p){this.source=u,this.target=d,this.swap=p;var g=u.width,x=u.height,T=this.tempSprite,S=this.fxHandlers;if(T&&T.preFX)for(var P=T.preFX.list,E=0;E<P.length;E++){var R=P[E];R.active&&S[R.type].call(this,R,g,x)}this.drawToGame(this.source)},runDraw:function(){var u=this.source,d=this.target;this.copy(u,d),this.source=d,this.target=u},onGlow:function(u,d,p){var g=this.shaders[s.GLOW];this.setShader(g),this.glow.onPreRender(u,g,d,p),this.runDraw()},onShadow:function(u){var d=this.shaders[s.SHADOW];this.setShader(d),this.shadow.onPreRender(u,d),this.runDraw()},onPixelate:function(u,d,p){var g=this.shaders[s.PIXELATE];this.setShader(g),this.pixelate.onPreRender(u,g,d,p),this.runDraw()},onVignette:function(u){var d=this.shaders[s.VIGNETTE];this.setShader(d),this.vignette.onPreRender(u,d),this.runDraw()},onShine:function(u,d,p){var g=this.shaders[s.SHINE];this.setShader(g),this.shine.onPreRender(u,g,d,p),this.runDraw()},onBlur:function(u,d,p){var g=a(u,"quality"),x=this.shaders[s.BLUR+g];this.setShader(x),this.set1i("uMainSampler",0),this.set2f("resolution",d,p),this.set1f("strength",a(u,"strength")),this.set3fv("color",a(u,"glcolor"));for(var T=a(u,"x"),S=a(u,"y"),P=a(u,"steps"),E=0;E<P;E++)this.set2f("offset",T,0),this.runDraw(),this.set2f("offset",0,S),this.runDraw()},onGradient:function(u){var d=this.shaders[s.GRADIENT];this.setShader(d),this.gradient.onPreRender(u,d),this.runDraw()},onBloom:function(u,d,p){var g=this.shaders[s.BLOOM];this.copySprite(this.source,this.swap),this.setShader(g),this.set1i("uMainSampler",0),this.set1f("strength",a(u,"blurStrength")),this.set3fv("color",a(u,"glcolor"));for(var x=2/d*a(u,"offsetX"),T=2/p*a(u,"offsetY"),S=a(u,"steps"),P=0;P<S;P++)this.set2f("offset",x,0),this.runDraw(),this.set2f("offset",0,T),this.runDraw();this.blendFrames(this.swap,this.source,this.target,a(u,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(u){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",u.getData()),this.set1f("uAlpha",u.alpha),this.runDraw()},onCircle:function(u,d,p){var g=this.shaders[s.CIRCLE];this.setShader(g),this.circle.onPreRender(u,g,d,p),this.runDraw()},onBarrel:function(u){var d=this.shaders[s.BARREL];this.setShader(d),this.barrel.onPreRender(u,d),this.runDraw()},onDisplacement:function(u){this.setShader(this.shaders[s.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",u.x,u.y),this.bindTexture(u.glTexture,1),this.runDraw()},onWipe:function(u){var d=this.shaders[s.WIPE];this.setShader(d),this.wipe.onPreRender(u,d),this.runDraw()},onBokeh:function(u,d,p){var g=this.shaders[s.BOKEH];this.setShader(g),this.bokeh.onPreRender(u,g,d,p),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,r.prototype.destroy.call(this),this}});h.exports=v},66901:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(72632),s=e(65045),a=e(77310),r=e(69360),o=e(93736),l=e(44775),v=new f({Extends:a,initialize:function(d){var p=c(d,"fragShader",s);d.fragShader=p.replace("%LIGHT_COUNT%",d.game.renderer.config.maxLights),a.call(this,d),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.defaultNormalMap,this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new o,this._tempMatrix=new r,this._tempMatrix2=new r},boot:function(){l.prototype.boot.call(this);var u=this.gl,d=u.createTexture();u.activeTexture(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,d),u.texImage2D(u.TEXTURE_2D,0,u.RGBA,1,1,0,u.RGBA,u.UNSIGNED_BYTE,new Uint8Array([127,127,255,255])),this.defaultNormalMap={glTexture:d}},onRender:function(u,d){var p=u.sys.lights;if(this.lightsActive=!1,!(!p||!p.active)){var g=p.getLights(d),x=g.length;this.lightsActive=!0;var T,S=this.renderer,P=S.height,E=d.matrix,R=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",d.x,d.y,d.rotation,d.zoom),this.set3f("uAmbientLightColor",p.ambientColor.r,p.ambientColor.g,p.ambientColor.b),this.set1i("uLightCount",x),T=0;T<x;T++){var A=g[T].light,w=A.color,O="uLights["+T+"].";E.transformPoint(A.x,A.y,R),this.set2f(O+"position",R.x-d.scrollX*A.scrollFactorX*d.zoom,P-(R.y-d.scrollY*A.scrollFactorY*d.zoom)),this.set3f(O+"color",w.r,w.g,w.b),this.set1f(O+"intensity",A.intensity),this.set1f(O+"radius",A.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(u){if(u!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var d=this.inverseRotationMatrix;if(u){var p=-u,g=Math.cos(p),x=Math.sin(p);d[1]=x,d[3]=-x,d[0]=d[4]=g}else d[0]=d[4]=1,d[1]=d[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,d),this.currentNormalMapRotation=u}},setTexture2D:function(u,d){var p=this.renderer;u===void 0&&(u=p.whiteTexture);var g=this.getNormalMap(d);this.isNewNormalMap(u,g)&&(this.flush(),this.createBatch(u),this.addTextureToBatch(g),this.currentNormalMap=g);var x=0;if(d&&d.parentContainer){var T=d.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);x=T.rotationNormalized}else d&&(x=d.rotation);return this.setNormalMapRotation(x),0},setGameObject:function(u,d){d===void 0&&(d=u.frame);var p=d.glTexture,g=this.getNormalMap(u);if(this.isNewNormalMap(p,g)&&(this.flush(),this.createBatch(p),this.addTextureToBatch(g),this.currentNormalMap=g),u.parentContainer){var x=u.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(x.rotationNormalized)}else this.setNormalMapRotation(u.rotation);return 0},isNewNormalMap:function(u,d){return this.currentTexture!==u||this.currentNormalMap!==d},getNormalMap:function(u){var d;return u?u.displayTexture?d=u.displayTexture.dataSource[u.displayFrame.sourceIndex]:u.texture?d=u.texture.dataSource[u.frame.sourceIndex]:u.tileset&&(Array.isArray(u.tileset)?d=u.tileset[0].image.dataSource[0]:d=u.tileset.image.dataSource[0]):d=this.defaultNormalMap,d||(d=this.defaultNormalMap),d.glTexture},batchSprite:function(u,d,p){this.lightsActive&&a.prototype.batchSprite.call(this,u,d,p)},batchTexture:function(u,d,p,g,x,T,S,P,E,R,A,w,O,L,F,I,b,G,N,U,Y,X,B,z,D,V,k,W,H,$,K,j){this.lightsActive&&a.prototype.batchTexture.call(this,u,d,p,g,x,T,S,P,E,R,A,w,O,L,F,I,b,G,N,U,Y,X,B,z,D,V,k,W,H,$,K,j)},batchTextureFrame:function(u,d,p,g,x,T,S){this.lightsActive&&a.prototype.batchTextureFrame.call(this,u,d,p,g,x,T,S)}});h.exports=v},71264:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(72632),s=e(77310),a=e(85060),r=e(18166),o=e(71402),l=e(44775),v=new f({Extends:s,initialize:function(d){d.fragShader=c(d,"fragShader",a),d.vertShader=c(d,"vertShader",r),d.attributes=c(d,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:o.UNSIGNED_BYTE,normalized:!0}]),d.forceZero=!0,s.call(this,d)},boot:function(){l.prototype.boot.call(this),this.set1i("uMainSampler",0)}});h.exports=v},77310:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(11117),s=e(72632),a=e(53787),r=e(15968),o=e(69360),l=e(75512),v=e(71402),u=e(44775),d=new f({Extends:u,initialize:function(g){var x=g.game.renderer,T=s(g,"fragShader",a);g.fragShader=l.parseFragmentShaderMaxTextures(T,x.maxTextures),g.vertShader=s(g,"vertShader",r),g.attributes=s(g,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:v.UNSIGNED_BYTE,normalized:!0}]),u.call(this,g),this._tempMatrix1=new o,this._tempMatrix2=new o,this._tempMatrix3=new o,this.calcMatrix=new o,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){u.prototype.boot.call(this),this.currentShader.set1iv("uMainSampler",this.renderer.textureIndexes)},batchSprite:function(p,g,x){this.manager.set(this,p);var T=this._tempMatrix1,S=this._tempMatrix2,P=this._tempMatrix3,E=p.frame,R=E.glTexture,A=E.u0,w=E.v0,O=E.u1,L=E.v1,F=E.x,I=E.y,b=E.cutWidth,G=E.cutHeight,N=E.customPivot,U=p.displayOriginX,Y=p.displayOriginY,X=-U+F,B=-Y+I;if(p.isCropped){var z=p._crop;(z.flipX!==p.flipX||z.flipY!==p.flipY)&&E.updateCropUVs(z,p.flipX,p.flipY),A=z.u0,w=z.v0,O=z.u1,L=z.v1,b=z.width,G=z.height,F=z.x,I=z.y,X=-U+F,B=-Y+I}var D=1,V=1;p.flipX&&(N||(X+=-E.realWidth+U*2),D=-1),(p.flipY||E.source.isGLTexture&&!R.flipY)&&(N||(B+=-E.realHeight+Y*2),V=-1);var k=p.x,W=p.y;S.applyITRS(k,W,p.rotation,p.scaleX*D,p.scaleY*V),T.copyFrom(g.matrix),x?(T.multiplyWithOffset(x,-g.scrollX*p.scrollFactorX,-g.scrollY*p.scrollFactorY),S.e=k,S.f=W):(S.e-=g.scrollX*p.scrollFactorX,S.f-=g.scrollY*p.scrollFactorY),T.multiply(S,P);var H=P.setQuad(X,B,X+b,B+G,g.roundPixels),$=l.getTintAppendFloatAlpha,K=g.alpha,j=$(p.tintTopLeft,K*p._alphaTL),Z=$(p.tintTopRight,K*p._alphaTR),J=$(p.tintBottomLeft,K*p._alphaBL),Q=$(p.tintBottomRight,K*p._alphaBR);this.shouldFlush(6)&&this.flush();var q=this.setGameObject(p,E);this.manager.preBatch(p),this.batchQuad(p,H[0],H[1],H[2],H[3],H[4],H[5],H[6],H[7],A,w,O,L,j,Z,J,Q,p.tintFill,R,q),this.manager.postBatch(p)},batchTexture:function(p,g,x,T,S,P,E,R,A,w,O,L,F,I,b,G,N,U,Y,X,B,z,D,V,k,W,H,$,K,j,Z,J){this.manager.set(this,p);var Q=this._tempMatrix1,q=this._tempMatrix2,_=this._tempMatrix3,et=U/x+H,st=Y/T+$,it=(U+X)/x+H,lt=(Y+B)/T+$,tt=E,ht=R,rt=-G,ft=-N;if(p.isCropped){var ct=p._crop,yt=ct.width,mt=ct.height;tt=yt,ht=mt,E=yt,R=mt,U=ct.x,Y=ct.y;var dt=U,gt=Y;L&&(dt=X-ct.x-yt),F&&(gt=B-ct.y-mt),et=dt/x+H,st=gt/T+$,it=(dt+yt)/x+H,lt=(gt+mt)/T+$,rt=-G+U,ft=-N+Y}F=F^(!Z&&g.isRenderTexture?1:0),L&&(tt*=-1,rt+=E),F&&(ht*=-1,ft+=R),q.applyITRS(S,P,O,A,w),Q.copyFrom(K.matrix),j?(Q.multiplyWithOffset(j,-K.scrollX*I,-K.scrollY*b),q.e=S,q.f=P):(q.e-=K.scrollX*I,q.f-=K.scrollY*b),Q.multiply(q,_);var St=_.setQuad(rt,ft,rt+tt,ft+ht,K.roundPixels);J===void 0&&(J=this.setTexture2D(g)),p&&this.manager.preBatch(p),this.batchQuad(p,St[0],St[1],St[2],St[3],St[4],St[5],St[6],St[7],et,st,it,lt,z,D,V,k,W,g,J),p&&this.manager.postBatch(p)},batchTextureFrame:function(p,g,x,T,S,P,E){this.manager.set(this);var R=this._tempMatrix1.copyFrom(P),A=this._tempMatrix2;E?R.multiply(E,A):A=R;var w=A.setQuad(g,x,g+p.width,x+p.height,!1),O=this.setTexture2D(p.source.glTexture);T=l.getTintAppendFloatAlpha(T,S),this.batchQuad(null,w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7],p.u0,p.v0,p.u1,p.v1,T,T,T,T,0,p.glTexture,O)},batchFillRect:function(p,g,x,T,S,P){this.renderer.pipelines.set(this);var E=this.calcMatrix;P&&P.multiply(S,E);var R=E.setQuad(p,g,p+x,g+T,!1),A=this.fillTint;this.batchQuad(null,R[0],R[1],R[2],R[3],R[4],R[5],R[6],R[7],0,0,1,1,A.TL,A.TR,A.BL,A.BR,2)},batchFillTriangle:function(p,g,x,T,S,P,E,R){this.renderer.pipelines.set(this);var A=this.calcMatrix;R&&R.multiply(E,A);var w=A.getX(p,g),O=A.getY(p,g),L=A.getX(x,T),F=A.getY(x,T),I=A.getX(S,P),b=A.getY(S,P),G=this.fillTint;this.batchTri(null,w,O,L,F,I,b,0,0,1,1,G.TL,G.TR,G.BL,2)},batchStrokeTriangle:function(p,g,x,T,S,P,E,R,A){var w=this.tempTriangle;w[0].x=p,w[0].y=g,w[0].width=E,w[1].x=x,w[1].y=T,w[1].width=E,w[2].x=S,w[2].y=P,w[2].width=E,w[3].x=p,w[3].y=g,w[3].width=E,this.batchStrokePath(w,E,!1,R,A)},batchFillPath:function(p,g,x){this.renderer.pipelines.set(this);var T=this.calcMatrix;x&&x.multiply(g,T);for(var S=p.length,P=this.polygonCache,E,R,A=this.fillTint.TL,w=this.fillTint.TR,O=this.fillTint.BL,L=0;L<S;++L)R=p[L],P.push(R.x,R.y);E=c(P),S=E.length;for(var F=0;F<S;F+=3){var I=E[F+0]*2,b=E[F+1]*2,G=E[F+2]*2,N=P[I+0],U=P[I+1],Y=P[b+0],X=P[b+1],B=P[G+0],z=P[G+1],D=T.getX(N,U),V=T.getY(N,U),k=T.getX(Y,X),W=T.getY(Y,X),H=T.getX(B,z),$=T.getY(B,z);this.batchTri(null,D,V,k,W,H,$,0,0,1,1,A,w,O,2)}P.length=0},batchStrokePath:function(p,g,x,T,S){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var P=p.length-1,E=0;E<P;E++){var R=p[E],A=p[E+1];this.batchLine(R.x,R.y,A.x,A.y,R.width/2,A.width/2,g,E,!x&&E===P-1,T,S)}},batchLine:function(p,g,x,T,S,P,E,R,A,w,O){this.renderer.pipelines.set(this);var L=this.calcMatrix;O&&O.multiply(w,L);var F=x-p,I=T-g,b=Math.sqrt(F*F+I*I);if(b!==0){var G=S*(T-g)/b,N=S*(p-x)/b,U=P*(T-g)/b,Y=P*(p-x)/b,X=x-U,B=T-Y,z=p-G,D=g-N,V=x+U,k=T+Y,W=p+G,H=g+N,$=L.getX(X,B),K=L.getY(X,B),j=L.getX(z,D),Z=L.getY(z,D),J=L.getX(V,k),Q=L.getY(V,k),q=L.getX(W,H),_=L.getY(W,H),et=this.strokeTint,st=et.TL,it=et.TR,lt=et.BL,tt=et.BR;if(this.batchQuad(null,q,_,j,Z,$,K,J,Q,0,0,1,1,st,it,lt,tt,2),!(E<=2)){var ht=this.prevQuad,rt=this.firstQuad;R>0&&ht[4]?this.batchQuad(null,q,_,j,Z,ht[0],ht[1],ht[2],ht[3],0,0,1,1,st,it,lt,tt,2):(rt[0]=q,rt[1]=_,rt[2]=j,rt[3]=Z,rt[4]=1),A&&rt[4]?this.batchQuad(null,$,K,J,Q,rt[0],rt[1],rt[2],rt[3],0,0,1,1,st,it,lt,tt,2):(ht[0]=$,ht[1]=K,ht[2]=J,ht[3]=Q,ht[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,u.prototype.destroy.call(this),this}});h.exports=d},10919:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(72632),s=e(83327),a=e(54677),r=e(44775),o=new f({Extends:r,initialize:function(v){v.vertShader=c(v,"vertShader",a),v.fragShader=c(v,"fragShader",s),v.attributes=c(v,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),r.call(this,v)},onRender:function(l,v){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",v.zoom)},batchPointLight:function(l,v,u,d,p,g,x,T,S,P,E,R){var A=l.color,w=l.intensity,O=l.radius,L=l.attenuation,F=A.r*w,I=A.g*w,b=A.b*w,G=v.alpha*l.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(u,d,E,R,O,L,F,I,b,G),this.batchLightVert(p,g,E,R,O,L,F,I,b,G),this.batchLightVert(x,T,E,R,O,L,F,I,b,G),this.batchLightVert(u,d,E,R,O,L,F,I,b,G),this.batchLightVert(x,T,E,R,O,L,F,I,b,G),this.batchLightVert(S,P,E,R,O,L,F,I,b,G),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(l,v,u,d,p,g,x,T,S,P){var E=this.vertexViewF32,R=this.vertexCount*this.currentShader.vertexComponentCount-1;E[++R]=l,E[++R]=v,E[++R]=u,E[++R]=d,E[++R]=p,E[++R]=g,E[++R]=x,E[++R]=T,E[++R]=S,E[++R]=P,this.vertexCount++}});h.exports=o},80486:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(65246),s=e(72632),a=e(12569),r=e(99365),o=e(44775),l=new f({Extends:o,initialize:function(u){u.renderTarget=s(u,"renderTarget",1),u.fragShader=s(u,"fragShader",a),u.vertShader=s(u,"vertShader",r),u.attributes=s(u,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),u.batchSize=1,u.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],o.call(this,u),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new c,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){o.prototype.boot.call(this);var v=this.manager.UTILITY_PIPELINE;this.fullFrame1=v.fullFrame1,this.fullFrame2=v.fullFrame2,this.halfFrame1=v.halfFrame1,this.halfFrame2=v.halfFrame2,this.set1i("uMainSampler",0)},onDraw:function(v){this.bindAndDraw(v)},getController:function(v){return v!==void 0?v:this.controller?this.controller:this},copySprite:function(v,u,d){d===void 0&&(d=!1);var p=this.gl;p.activeTexture(p.TEXTURE0),p.bindTexture(p.TEXTURE_2D,v.texture);var g=p.getParameter(p.FRAMEBUFFER_BINDING);p.bindFramebuffer(p.FRAMEBUFFER,u.framebuffer),p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,u.texture,0),p.clearColor(0,0,0,0),p.clear(p.COLOR_BUFFER_BIT),p.bufferData(p.ARRAY_BUFFER,this.vertexData,p.STATIC_DRAW),p.drawArrays(p.TRIANGLES,0,6),d&&(p.bindTexture(p.TEXTURE_2D,null),p.bindFramebuffer(p.FRAMEBUFFER,g))},copyFrame:function(v,u,d,p,g){this.manager.copyFrame(v,u,d,p,g)},copyToGame:function(v){this.manager.copyToGame(v)},drawFrame:function(v,u,d){this.manager.drawFrame(v,u,d,this.colorMatrix)},blendFrames:function(v,u,d,p,g){this.manager.blendFrames(v,u,d,p,g)},blendFramesAdditive:function(v,u,d,p,g){this.manager.blendFramesAdditive(v,u,d,p,g)},clearFrame:function(v,u){this.manager.clearFrame(v,u)},blitFrame:function(v,u,d,p,g,x){this.manager.blitFrame(v,u,d,p,g,x)},copyFrameRect:function(v,u,d,p,g,x,T,S){this.manager.copyFrameRect(v,u,d,p,g,x,T,S)},bindAndDraw:function(v,u,d,p,g){d===void 0&&(d=!0),p===void 0&&(p=!0);var x=this.gl,T=this.renderer;this.bind(g),this.set1i("uMainSampler",0),u?(x.viewport(0,0,u.width,u.height),x.bindFramebuffer(x.FRAMEBUFFER,u.framebuffer),x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,u.texture,0),d&&(p?x.clearColor(0,0,0,0):x.clearColor(0,0,0,1),x.clear(x.COLOR_BUFFER_BIT))):(T.popFramebuffer(!1,!1),T.currentFramebuffer||x.viewport(0,0,T.width,T.height)),T.restoreStencilMask(),x.activeTexture(x.TEXTURE0),x.bindTexture(x.TEXTURE_2D,v.texture),x.bufferData(x.ARRAY_BUFFER,this.vertexData,x.STATIC_DRAW),x.drawArrays(x.TRIANGLES,0,6),u&&(x.bindTexture(x.TEXTURE_2D,null),x.bindFramebuffer(x.FRAMEBUFFER,T.currentFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,o.prototype.destroy.call(this),this}});h.exports=l},87228:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(95723),c=e(79993),s=e(56694),a=e(37486),r=e(72632),o=e(77310),l=e(12569),v=e(74118),u=e(37410),d=e(85060),p=e(18166),g=e(44775),x=new s({Extends:o,initialize:function(S){var P=r(S,"fragShader",l),E=r(S,"vertShader",p),R=r(S,"drawShader",l),A=[{name:"DrawSprite",fragShader:d,vertShader:p},{name:"CopySprite",fragShader:P,vertShader:E},{name:"DrawGame",fragShader:R,vertShader:p},{name:"ColorMatrix",fragShader:a}],w=r(S,"shaders",[]);S.shaders=A.concat(w),S.vertShader||(S.vertShader=E),S.batchSize=1,o.call(this,S),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new v,this.targetBounds=new v,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){g.prototype.boot.call(this);var T=this.shaders,S=this.renderer;this.drawSpriteShader=T[0],this.copyShader=T[1],this.gameShader=T[2],this.colorMatrixShader=T[3],this.fsTarget=new u(S,S.width,S.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var P=new ArrayBuffer(168);this.quadVertexData=P,this.quadVertexViewF32=new Float32Array(P),this.quadVertexBuffer=S.createVertexBuffer(P,this.gl.STATIC_DRAW),this.onResize(S.width,S.height),this.currentShader=this.copyShader},onResize:function(T,S){var P=this.quadVertexViewF32;P[1]=S,P[22]=S,P[14]=T,P[28]=T,P[35]=T,P[36]=S},batchQuad:function(T,S,P,E,R,A,w,O,L,F,I,b,G,N,U,Y,X,B,z){var D=Math.min(S,E,A,O),V=Math.min(P,R,w,L),k=Math.max(S,E,A,O),W=Math.max(P,R,w,L),H=k-D,$=W-V,K=this.spriteBounds.setTo(D,V,H,$),j=T?T.preFX.padding:0,Z=H+j*2,J=$+j*2,Q=Math.abs(Math.max(Z,J)),q=this.manager.getRenderTarget(Q),_=this.targetBounds.setTo(0,0,q.width,q.height);c(_,K.centerX,K.centerY),this.tempSprite=T;var et=this.gl,st=this.renderer;st.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.flipProjectionMatrix(!0),T&&(this.onDrawSprite(T,q),T.preFX.onFX(this));var it=this.fsTarget;return this.flush(),et.viewport(0,0,st.width,st.height),et.bindFramebuffer(et.FRAMEBUFFER,it.framebuffer),et.framebufferTexture2D(et.FRAMEBUFFER,et.COLOR_ATTACHMENT0,et.TEXTURE_2D,it.texture,0),et.clearColor(0,0,0,0),et.clear(et.COLOR_BUFFER_BIT),this.setTexture2D(z),this.batchVert(S,P,F,I,0,B,N),this.batchVert(E,R,F,G,0,B,Y),this.batchVert(A,w,b,G,0,B,X),this.batchVert(S,P,F,I,0,B,N),this.batchVert(A,w,b,G,0,B,X),this.batchVert(O,L,b,I,0,B,U),this.flush(),this.flipProjectionMatrix(!1),et.activeTexture(et.TEXTURE0),et.bindTexture(et.TEXTURE_2D,q.texture),et.copyTexSubImage2D(et.TEXTURE_2D,0,0,0,_.x,_.y,_.width,_.height),et.bindFramebuffer(et.FRAMEBUFFER,null),et.bindTexture(et.TEXTURE_2D,null),this.onBatch(T),this.currentShader=this.copyShader,this.onDraw(q,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(T,S,P,E,R,A,w){P===void 0&&(P=!0),E===void 0&&(E=!0),R===void 0&&(R=!1),w===void 0&&(w=this.copyShader);var O=this.gl,L=this.tempSprite;A&&(w=this.colorMatrixShader),this.currentShader=w;var F=this.setVertexBuffer(this.quadVertexBuffer);if(w.bind(F,!1),this.set1i("uMainSampler",0),L.preFX.onFXCopy(this),this.onCopySprite(T,S,L),A&&(this.set1fv("uColorMatrix",A.getData()),this.set1f("uAlpha",A.alpha)),O.activeTexture(O.TEXTURE0),O.bindTexture(O.TEXTURE_2D,T.texture),T.height>S.height)O.viewport(0,0,T.width,T.height),this.setTargetUVs(T,S);else{var I=S.height-T.height;O.viewport(0,I,T.width,T.height),this.resetUVs()}if(O.bindFramebuffer(O.FRAMEBUFFER,S.framebuffer),O.framebufferTexture2D(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.TEXTURE_2D,S.texture,0),P&&(O.clearColor(0,0,0,Number(!E)),O.clear(O.COLOR_BUFFER_BIT)),R){var b=this.renderer.currentBlendMode;this.renderer.setBlendMode(f.ERASE)}O.bufferData(O.ARRAY_BUFFER,this.quadVertexData,O.STATIC_DRAW),O.drawArrays(O.TRIANGLES,0,6),R&&this.renderer.setBlendMode(b),O.bindFramebuffer(O.FRAMEBUFFER,null)},copy:function(T,S){var P=this.gl;this.set1i("uMainSampler",0),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,T.texture),P.viewport(0,0,T.width,T.height),this.setUVs(0,0,0,1,1,1,1,0),P.bindFramebuffer(P.FRAMEBUFFER,S.framebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,S.texture,0),P.clearColor(0,0,0,0),P.clear(P.COLOR_BUFFER_BIT),P.bufferData(P.ARRAY_BUFFER,this.quadVertexData,P.STATIC_DRAW),P.drawArrays(P.TRIANGLES,0,6),P.bindFramebuffer(P.FRAMEBUFFER,null)},blendFrames:function(T,S,P,E,R){this.manager.blendFrames(T,S,P,E,R)},blendFramesAdditive:function(T,S,P,E,R){this.manager.blendFramesAdditive(T,S,P,E,R)},drawToGame:function(T){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(T)},copyToGame:function(T){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(T)},bindAndDraw:function(T){var S=this.gl,P=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(T.texture);var E=this._tempMatrix1.loadIdentity(),R=this.targetBounds.x,A=this.targetBounds.y,w=R+T.width,O=A+T.height,L=E.getX(R,A),F=E.getX(R,O),I=E.getX(w,O),b=E.getX(w,A),G=E.getY(R,A),N=E.getY(R,O),U=E.getY(w,O),Y=E.getY(w,A),X=16777215;this.batchVert(L,G,0,0,0,0,X),this.batchVert(F,N,0,1,0,0,X),this.batchVert(I,U,1,1,0,0,X),this.batchVert(L,G,0,0,0,0,X),this.batchVert(I,U,1,1,0,0,X),this.batchVert(b,Y,1,0,0,0,X),P.restoreFramebuffer(!1,!0),P.currentFramebuffer||S.viewport(0,0,P.width,P.height),P.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(T){this.drawToGame(T)},setUVs:function(T,S,P,E,R,A,w,O){var L=this.quadVertexViewF32;L[2]=T,L[3]=S,L[9]=P,L[10]=E,L[16]=R,L[17]=A,L[23]=T,L[24]=S,L[30]=R,L[31]=A,L[37]=w,L[38]=O},setTargetUVs:function(T,S){var P=S.height/T.height;P>.5?P=.5-(P-.5):P=.5+(.5-P),this.setUVs(0,P,0,1+P,1,1+P,1,P)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.gl.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,o.prototype.destroy.call(this),this}});h.exports=x},21213:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(72632),s=e(77310),a=new f({Extends:s,initialize:function(o){o.topology=5,o.batchSize=c(o,"batchSize",256),s.call(this,o)}});h.exports=a},51212:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(72632),s=e(77310),a=e(85060),r=e(18166),o=e(44775),l=new f({Extends:s,initialize:function(u){u.fragShader=c(u,"fragShader",a),u.vertShader=c(u,"vertShader",r),u.forceZero=!0,s.call(this,u)},boot:function(){o.prototype.boot.call(this),this.set1i("uMainSampler",0)}});h.exports=l},60848:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(2529),c=e(95723),s=e(56694),a=e(65246),r=e(37486),o=e(79060),l=e(72632),v=e(98921),u=e(99365),d=e(44775),p=new s({Extends:d,initialize:function(x){x.renderTarget=l(x,"renderTarget",[{scale:1},{scale:1},{scale:.5},{scale:.5}]),x.vertShader=l(x,"vertShader",u),x.shaders=l(x,"shaders",[{name:"Copy",fragShader:o},{name:"AddBlend",fragShader:f},{name:"LinearBlend",fragShader:v},{name:"ColorMatrix",fragShader:r}]),x.attributes=l(x,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),x.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],x.batchSize=1,d.call(this,x),this.colorMatrix=new a,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){d.prototype.boot.call(this);var g=this.shaders,x=this.renderTargets;this.copyShader=g[0],this.addShader=g[1],this.linearShader=g[2],this.colorMatrixShader=g[3],this.fullFrame1=x[0],this.fullFrame2=x[1],this.halfFrame1=x[2],this.halfFrame2=x[3]},copyFrame:function(g,x,T,S,P){T===void 0&&(T=1),S===void 0&&(S=!0),P===void 0&&(P=!0);var E=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",T),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,g.texture),x?(E.viewport(0,0,x.width,x.height),E.bindFramebuffer(E.FRAMEBUFFER,x.framebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,x.texture,0)):E.viewport(0,0,g.width,g.height),S&&(P?E.clearColor(0,0,0,0):E.clearColor(0,0,0,1),E.clear(E.COLOR_BUFFER_BIT)),E.bufferData(E.ARRAY_BUFFER,this.vertexData,E.STATIC_DRAW),E.drawArrays(E.TRIANGLES,0,6),E.bindFramebuffer(E.FRAMEBUFFER,null),E.bindTexture(E.TEXTURE_2D,null)},blitFrame:function(g,x,T,S,P,E,R){T===void 0&&(T=1),S===void 0&&(S=!0),P===void 0&&(P=!0),E===void 0&&(E=!1),R===void 0&&(R=!1);var A=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",T),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,g.texture),g.height>x.height)A.viewport(0,0,g.width,g.height),this.setTargetUVs(g,x);else{var w=x.height-g.height;A.viewport(0,w,g.width,g.height)}if(A.bindFramebuffer(A.FRAMEBUFFER,x.framebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,x.texture,0),S&&(P?A.clearColor(0,0,0,0):A.clearColor(0,0,0,1),A.clear(A.COLOR_BUFFER_BIT)),E){var O=this.renderer.currentBlendMode;this.renderer.setBlendMode(c.ERASE)}R&&this.flipY(),A.bufferData(A.ARRAY_BUFFER,this.vertexData,A.STATIC_DRAW),A.drawArrays(A.TRIANGLES,0,6),E&&this.renderer.setBlendMode(O),A.bindFramebuffer(A.FRAMEBUFFER,null),A.bindTexture(A.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(g,x,T,S,P,E,R,A){R===void 0&&(R=!0),A===void 0&&(A=!0);var w=this.gl;w.bindFramebuffer(w.FRAMEBUFFER,g.framebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,g.texture,0),R&&(A?w.clearColor(0,0,0,0):w.clearColor(0,0,0,1),w.clear(w.COLOR_BUFFER_BIT)),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,x.texture),w.copyTexSubImage2D(w.TEXTURE_2D,0,0,0,T,S,P,E),w.bindFramebuffer(w.FRAMEBUFFER,null),w.bindTexture(w.TEXTURE_2D,null)},copyToGame:function(g){var x=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),x.activeTexture(x.TEXTURE0),x.bindTexture(x.TEXTURE_2D,g.texture),x.bufferData(x.ARRAY_BUFFER,this.vertexData,x.STATIC_DRAW),x.drawArrays(x.TRIANGLES,0,6)},drawFrame:function(g,x,T,S){T===void 0&&(T=!0),S===void 0&&(S=this.colorMatrix);var P=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",S.getData()),this.set1f("uAlpha",S.alpha),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,g.texture),x?(P.viewport(0,0,x.width,x.height),P.bindFramebuffer(P.FRAMEBUFFER,x.framebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,x.texture,0)):P.viewport(0,0,g.width,g.height),T?P.clearColor(0,0,0,0):P.clearColor(0,0,0,1),P.clear(P.COLOR_BUFFER_BIT),P.bufferData(P.ARRAY_BUFFER,this.vertexData,P.STATIC_DRAW),P.drawArrays(P.TRIANGLES,0,6),P.bindFramebuffer(P.FRAMEBUFFER,null),P.bindTexture(P.TEXTURE_2D,null)},blendFrames:function(g,x,T,S,P,E){S===void 0&&(S=1),P===void 0&&(P=!0),E===void 0&&(E=this.linearShader);var R=this.gl;this.setShader(E),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",S),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,g.texture),R.activeTexture(R.TEXTURE1),R.bindTexture(R.TEXTURE_2D,x.texture),T?(R.bindFramebuffer(R.FRAMEBUFFER,T.framebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,T.texture,0),R.viewport(0,0,T.width,T.height)):R.viewport(0,0,g.width,g.height),P?R.clearColor(0,0,0,0):R.clearColor(0,0,0,1),R.clear(R.COLOR_BUFFER_BIT),R.bufferData(R.ARRAY_BUFFER,this.vertexData,R.STATIC_DRAW),R.drawArrays(R.TRIANGLES,0,6),R.bindFramebuffer(R.FRAMEBUFFER,null),R.bindTexture(R.TEXTURE_2D,null)},blendFramesAdditive:function(g,x,T,S,P){this.blendFrames(g,x,T,S,P,this.addShader)},clearFrame:function(g,x){x===void 0&&(x=!0);var T=this.gl;T.viewport(0,0,g.width,g.height),T.bindFramebuffer(T.FRAMEBUFFER,g.framebuffer),x?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT);var S=this.renderer.currentFramebuffer;T.bindFramebuffer(T.FRAMEBUFFER,S)},setUVs:function(g,x,T,S,P,E,R,A){var w=this.vertexViewF32;w[2]=g,w[3]=x,w[6]=T,w[7]=S,w[10]=P,w[11]=E,w[14]=g,w[15]=x,w[18]=P,w[19]=E,w[22]=R,w[23]=A},setTargetUVs:function(g,x){var T=x.height/g.height;T>.5?T=.5-(T-.5):T=.5+(.5-T),this.setUVs(0,T,0,1+T,1,1+T,1,T)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});h.exports=p},65641:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};h.exports=y},68726:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pipelineafterflush"},67186:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pipelinebeforeflush"},22709:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pipelinebind"},74469:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pipelineboot"},93953:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pipelinedestroy"},51687:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pipelinerebind"},25034:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pipelineresize"},18970:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={AFTER_FLUSH:e(68726),BEFORE_FLUSH:e(67186),BIND:e(22709),BOOT:e(74469),DESTROY:e(93953),REBIND:e(51687),RESIZE:e(25034)}},32469:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(87751),s=e(80486),a=new f({Extends:s,initialize:function(o){s.call(this,{game:o,fragShader:c}),this.amount=1},onPreRender:function(r,o){r=this.getController(r),this.set1f("amount",r.amount,o)}});h.exports=a},2134:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(88222),s=e(80486),a=new f({Extends:s,initialize:function(o){s.call(this,{game:o,fragShader:c}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(r){r=this.getController(r),this.set1f("strength",r.blurStrength),this.set3fv("color",r.glcolor)},onDraw:function(r){var o=this.getController(),l=this.fullFrame1,v=this.fullFrame2;this.copyFrame(r,v);for(var u=2/r.width*o.offsetX,d=2/r.height*o.offsetY,p=0;p<o.steps;p++)this.set2f("offset",u,0),this.copySprite(r,l),this.set2f("offset",0,d),this.copySprite(l,r);this.blendFrames(v,r,l,o.strength),this.copyToGame(l)}});h.exports=a},63377:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(35491),s=e(75568),a=e(44481),r=e(80486),o=new f({Extends:r,initialize:function(v){r.call(this,{game:v,shaders:[{name:"Gaussian5",fragShader:c},{name:"Gaussian9",fragShader:s},{name:"Gaussian13",fragShader:a}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(l){var v=this.getController(),u=this.gl,d=this.fullFrame1,p=u.getParameter(u.FRAMEBUFFER_BINDING);this.bind(this.activeShader),u.activeTexture(u.TEXTURE0),u.viewport(0,0,l.width,l.height),this.set1i("uMainSampler",0),this.set2f("resolution",l.width,l.height),this.set1f("strength",v.strength),this.set3fv("color",v.glcolor);for(var g=0;g<v.steps;g++)this.set2f("offset",v.x,0),this.copySprite(l,d),this.set2f("offset",0,v.y),this.copySprite(d,l);u.bindFramebuffer(u.FRAMEBUFFER,p),u.bindTexture(u.TEXTURE_2D,null),this.copyToGame(l)}});h.exports=o},49745:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(69960),s=e(80486),a=new f({Extends:s,initialize:function(o){s.call(this,{game:o,fragShader:c}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(r,o,l,v){r=this.getController(r),this.set1f("radius",r.radius,o),this.set1f("amount",r.amount,o),this.set1f("contrast",r.contrast,o),this.set1f("strength",r.strength,o),this.set2f("blur",r.blurX,r.blurY,o),this.setBoolean("isTiltShift",r.isTiltShift,o),l&&v&&this.set2f("resolution",l,v,o)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});h.exports=a},4323:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(33754),s=e(80486),a=new f({Extends:s,initialize:function(o){s.call(this,{game:o,fragShader:c}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(r,o,l,v){r=this.getController(r),this.set1f("scale",r.scale,o),this.set1f("feather",r.feather,o),this.set1f("thickness",r.thickness,o),this.set3fv("color",r.glcolor,o),this.set4fv("backgroundColor",r.glcolor2,o),l&&v&&this.set2f("resolution",l,v,o)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});h.exports=a},92066:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(80486),s=new f({Extends:c,initialize:function(r){c.call(this,{game:r})},onDraw:function(a){var r=this.fullFrame1;this.controller?this.manager.drawFrame(a,r,!0,this.controller):this.drawFrame(a,r),this.copyToGame(r)}});h.exports=s},89581:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(35668),s=e(80486),a=new f({Extends:s,initialize:function(o){s.call(this,{game:o,fragShader:c}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(r){var o=this.game.textures.getFrame(r);o&&(this.glTexture=o.glTexture)},onDraw:function(r){var o=this.getController(),l=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",o.x,o.y),this.bindTexture(o.glTexture,1),this.copySprite(r,l),this.copyToGame(l)}});h.exports=a},55084:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(72632),s=e(69675),a=e(80486),r=e(75512),o=new f({Extends:a,initialize:function(v,u){var d=c(u,"quality",.1),p=c(u,"distance",10);a.call(this,{game:v,fragShader:r.setGlowQuality(s,v,d,p)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(l,v,u,d){l=this.getController(l),this.set1f("outerStrength",l.outerStrength,v),this.set1f("innerStrength",l.innerStrength,v),this.set4fv("glowColor",l.glcolor,v),this.setBoolean("knockout",l.knockout,v),u&&d&&this.set2f("resolution",u,d,v)},onDraw:function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)}});h.exports=o},41653:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(90993),s=e(80486),a=new f({Extends:s,initialize:function(o){s.call(this,{game:o,fragShader:c}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(r,o){r=this.getController(r),this.set1f("alpha",r.alpha,o),this.set1i("size",r.size,o),this.set3fv("color1",r.glcolor1,o),this.set3fv("color2",r.glcolor2,o),this.set2f("positionFrom",r.fromX,r.fromY,o),this.set2f("positionTo",r.toX,r.toY,o)}});h.exports=a},73416:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(37945),s=e(80486),a=new f({Extends:s,initialize:function(o){s.call(this,{game:o,fragShader:c}),this.amount=1},onPreRender:function(r,o,l,v){r=this.getController(r),this.set1f("amount",r.amount,o),l&&v&&this.set2f("resolution",l,v,o)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});h.exports=a},58049:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(85718),s=e(80486),a=new f({Extends:s,initialize:function(o){s.call(this,{game:o,fragShader:c}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(r,o){r=this.getController(r);var l=r.samples;this.set1i("samples",l,o),this.set1f("intensity",r.intensity,o),this.set1f("decay",r.decay,o),this.set1f("power",r.power/l,o),this.set2f("lightPosition",r.x,r.y,o),this.set4fv("color",r.glcolor,o)}});h.exports=a},18026:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(13740),s=e(80486),a=new f({Extends:s,initialize:function(o){s.call(this,{game:o,fragShader:c}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(r,o,l,v){r=this.getController(r),this.setTime("time",o),this.set1f("speed",r.speed,o),this.set1f("lineWidth",r.lineWidth,o),this.set1f("gradient",r.gradient,o),this.setBoolean("reveal",r.reveal,o),l&&v&&this.set2f("resolution",l,v,o)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});h.exports=a},72381:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(80617),s=e(80486),a=new f({Extends:s,initialize:function(o){s.call(this,{game:o,fragShader:c}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(r,o){r=this.getController(r),this.set1f("radius",r.radius,o),this.set1f("strength",r.strength,o),this.set2f("position",r.x,r.y,o)}});h.exports=a},80542:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(62879),s=e(80486),a=new f({Extends:s,initialize:function(o){s.call(this,{game:o,fragShader:c}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(r,o){r=this.getController(r);var l=r.progress,v=r.wipeWidth,u=r.direction,d=r.axis;this.set4f("config",l,v,u,d,o),this.setBoolean("reveal",r.reveal,o)}});h.exports=a},58136:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={Barrel:e(32469),Bloom:e(2134),Blur:e(63377),Bokeh:e(49745),Circle:e(4323),ColorMatrix:e(92066),Displacement:e(89581),Glow:e(55084),Gradient:e(41653),Pixelate:e(73416),Shadow:e(58049),Shine:e(18026),Vignette:e(72381),Wipe:e(80542)};h.exports=f},62253:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(65641),c=e(98611),s={FX:e(58136),BitmapMaskPipeline:e(5583),Events:e(18970),FXPipeline:e(81828),LightPipeline:e(66901),MobilePipeline:e(71264),MultiPipeline:e(77310),PointLightPipeline:e(10919),PostFXPipeline:e(80486),PreFXPipeline:e(87228),RopePipeline:e(21213),SinglePipeline:e(51212),UtilityPipeline:e(60848)};s=c(!1,s,f),h.exports=s},2529:h=>{h.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},91679:h=>{h.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},89053:h=>{h.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},37486:h=>{h.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},79060:h=>{h.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},87751:h=>{h.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},88222:h=>{h.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},44481:h=>{h.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},35491:h=>{h.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},75568:h=>{h.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},69960:h=>{h.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},33754:h=>{h.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},35668:h=>{h.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},69675:h=>{h.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},90993:h=>{h.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},37945:h=>{h.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},85718:h=>{h.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},13740:h=>{h.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},80617:h=>{h.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},62879:h=>{h.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},65045:h=>{h.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},98921:h=>{h.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},25005:h=>{h.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},94914:h=>{h.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},11263:h=>{h.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},51852:h=>{h.exports=["#define SHADER_NAME PHASER_MOBILE_VS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},53787:h=>{h.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},15968:h=>{h.exports=["#define SHADER_NAME PHASER_MULTI_VS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},83327:h=>{h.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},54677:h=>{h.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},12569:h=>{h.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},99365:h=>{h.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},85060:h=>{h.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},18166:h=>{h.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},92462:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={AddBlendFrag:e(2529),BitmapMaskFrag:e(91679),BitmapMaskVert:e(89053),ColorMatrixFrag:e(37486),CopyFrag:e(79060),FXBarrelFrag:e(87751),FXBloomFrag:e(88222),FXBlurHighFrag:e(44481),FXBlurLowFrag:e(35491),FXBlurMedFrag:e(75568),FXBokehFrag:e(69960),FXCircleFrag:e(33754),FXDisplacementFrag:e(35668),FXGlowFrag:e(69675),FXGradientFrag:e(90993),FXPixelateFrag:e(37945),FXShadowFrag:e(85718),FXShineFrag:e(13740),FXVignetteFrag:e(80617),FXWipeFrag:e(62879),LightFrag:e(65045),LinearBlendFrag:e(98921),MeshFrag:e(25005),MeshVert:e(94914),MobileFrag:e(11263),MobileVert:e(51852),MultiFrag:e(53787),MultiVert:e(15968),PointLightFrag:e(83327),PointLightVert:e(54677),PostFXFrag:e(12569),QuadVert:e(99365),SingleFrag:e(85060),SingleVert:e(18166)}},756:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(55301),c=e(56694),s=e(6659),a=e(40444),r=e(97081),o=e(74181),l=e(2893),v=e(9229),u=e(72283),d=e(74118),p=e(90881),g=e(84314),x=e(93736),T=e(47751),S=new c({Extends:s,initialize:function(E){s.call(this),this.game=E,this.canvas,this.canvasBounds=new d,this.parent=null,this.parentIsWindow=!1,this.parentSize=new p,this.gameSize=new p,this.baseSize=new p,this.displaySize=new p,this.scaleMode=f.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new x(1,1),this.autoRound=!1,this.autoCenter=f.CENTER.NO_CENTER,this.orientation=f.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:u,windowResize:u,fullScreenChange:u,fullScreenError:u}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(r.BOOT,this.boot,this)},boot:function(){var P=this.game;this.canvas=P.canvas,this.fullscreen=P.device.fullscreen,this.scaleMode!==f.SCALE_MODE.RESIZE&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===f.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),P.events.on(r.PRE_STEP,this.step,this),P.events.once(r.READY,this.refresh,this),P.events.once(r.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(P){this.getParent(P),this.getParentBounds();var E=P.width,R=P.height,A=P.scaleMode,w=P.zoom,O=P.autoRound;if(typeof E=="string"){var L=this.parentSize.width;L===0&&(L=window.innerWidth);var F=parseInt(E,10)/100;E=Math.floor(L*F)}if(typeof R=="string"){var I=this.parentSize.height;I===0&&(I=window.innerHeight);var b=parseInt(R,10)/100;R=Math.floor(I*b)}this.scaleMode=A,this.autoRound=O,this.autoCenter=P.autoCenter,this.resizeInterval=P.resizeInterval,O&&(E=Math.floor(E),R=Math.floor(R)),this.gameSize.setSize(E,R),w===f.ZOOM.MAX_ZOOM&&(w=this.getMaxZoom()),this.zoom=w,w!==1&&(this._resetZoom=!0),this.baseSize.setSize(E,R),O&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),P.minWidth>0&&this.displaySize.setMin(P.minWidth*w,P.minHeight*w),P.maxWidth>0&&this.displaySize.setMax(P.maxWidth*w,P.maxHeight*w),this.displaySize.setSize(E,R),this.orientation=v(E,R)},getParent:function(P){var E=P.parent;if(E!==null){if(this.parent=l(E),this.parentIsWindow=this.parent===document.body,P.expandParent&&P.scaleMode!==f.SCALE_MODE.NONE){var R=this.parent.getBoundingClientRect();(this.parentIsWindow||R.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",R=this.parent.getBoundingClientRect(),!this.parentIsWindow&&R.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}P.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=l(P.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var P=this.parentSize,E=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(E.height=o(!0));var R=E.width,A=E.height;if(P.width!==R||P.height!==A)return P.setSize(R,A),!0;if(this.canvas){var w=this.canvasBounds,O=this.canvas.getBoundingClientRect();if(O.x!==w.x||O.y!==w.y)return!0}return!1},lockOrientation:function(P){var E=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return E?E.call(screen,P):!1},setParentSize:function(P,E){return this.parentSize.setSize(P,E),this.refresh()},setGameSize:function(P,E){var R=this.autoRound;R&&(P=Math.floor(P),E=Math.floor(E));var A=this.width,w=this.height;return this.gameSize.resize(P,E),this.baseSize.resize(P,E),R&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(P/E),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(A,w)},resize:function(P,E){var R=this.zoom,A=this.autoRound;A&&(P=Math.floor(P),E=Math.floor(E));var w=this.width,O=this.height;this.gameSize.resize(P,E),this.baseSize.resize(P,E),A&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(P*R,E*R),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var L=this.canvas.style,F=P*R,I=E*R;return A&&(F=Math.floor(F),I=Math.floor(I)),(F!==P||I!==E)&&(L.width=F+"px",L.height=I+"px"),this.refresh(w,O)},setZoom:function(P){return this.zoom=P,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},refresh:function(P,E){P===void 0&&(P=this.width),E===void 0&&(E=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var R=this.game.domContainer;if(R){this.baseSize.setCSS(R);var A=this.canvas.style,w=R.style;w.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",w.marginLeft=A.marginLeft,w.marginTop=A.marginTop}return this.emit(a.RESIZE,this.gameSize,this.baseSize,this.displaySize,P,E),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var P=v(this.width,this.height);P!==this.orientation&&(this.orientation=P,this.emit(a.ORIENTATION_CHANGE,P))}},updateScale:function(){var P=this.canvas.style,E=this.gameSize.width,R=this.gameSize.height,A,w,O=this.zoom,L=this.autoRound;this.scaleMode===f.SCALE_MODE.NONE?(this.displaySize.setSize(E*O,R*O),A=this.displaySize.width,w=this.displaySize.height,L&&(A=Math.floor(A),w=Math.floor(w)),this._resetZoom&&(P.width=A+"px",P.height=w+"px",this._resetZoom=!1)):this.scaleMode===f.SCALE_MODE.RESIZE?(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),A=this.displaySize.width,w=this.displaySize.height,L&&(A=Math.floor(A),w=Math.floor(w)),this.canvas.width=A,this.canvas.height=w):(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),A=this.displaySize.width,w=this.displaySize.height,L&&(A=Math.floor(A),w=Math.floor(w)),P.width=A+"px",P.height=w+"px"),this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var P=g(this.parentSize.width,this.gameSize.width,0,!0),E=g(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(P,E),1)},updateCenter:function(){var P=this.autoCenter;if(P!==f.CENTER.NO_CENTER){var E=this.canvas,R=E.style,A=E.getBoundingClientRect(),w=A.width,O=A.height,L=Math.floor((this.parentSize.width-w)/2),F=Math.floor((this.parentSize.height-O)/2);P===f.CENTER.CENTER_HORIZONTALLY?F=0:P===f.CENTER.CENTER_VERTICALLY&&(L=0),R.marginLeft=L+"px",R.marginTop=F+"px"}},updateBounds:function(){var P=this.canvasBounds,E=this.canvas.getBoundingClientRect();P.x=E.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),P.y=E.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),P.width=E.width,P.height=E.height},transformX:function(P){return(P-this.canvasBounds.left)*this.displayScale.x},transformY:function(P){return(P-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(P){P===void 0&&(P={navigationUI:"hide"});var E=this.fullscreen;if(!E.available){this.emit(a.FULLSCREEN_UNSUPPORTED);return}if(!E.active){var R=this.getFullscreenTarget();E.keyboard?R[E.request](Element.ALLOW_KEYBOARD_INPUT):R[E.request](P)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(a.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(P){this.removeFullscreenTarget(),this.emit(a.FULLSCREEN_FAILED,P)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var P=document.createElement("div");P.style.margin="0",P.style.padding="0",P.style.width="100%",P.style.height="100%",this.fullscreenTarget=P,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var E=this.canvas.parentNode;E.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var P=this.fullscreenTarget;if(P&&P.parentNode){var E=P.parentNode;E.insertBefore(this.canvas,P),E.removeChild(P)}}},stopFullscreen:function(){var P=this.fullscreen;if(!P.available)return this.emit(a.FULLSCREEN_UNSUPPORTED),!1;P.active&&document[P.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(a.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(P){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(P)},startListeners:function(){var P=this,E=this.domlisteners;if(E.orientationChange=function(){P.updateBounds(),P._checkOrientation=!0,P.dirty=!0},E.windowResize=function(){P.updateBounds(),P.dirty=!0},window.addEventListener("orientationchange",E.orientationChange,!1),window.addEventListener("resize",E.windowResize,!1),this.fullscreen.available){E.fullScreenChange=function(A){return P.onFullScreenChange(A)},E.fullScreenError=function(A){return P.onFullScreenError(A)};var R=["webkit","moz",""];R.forEach(function(A){document.addEventListener(A+"fullscreenchange",E.fullScreenChange,!1),document.addEventListener(A+"fullscreenerror",E.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",E.fullScreenChange,!1),document.addEventListener("MSFullscreenError",E.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(P,E){P instanceof T||(E=P,P=void 0),E===void 0&&(E=new d);var R=this.baseSize,A=this.parentSize,w=this.canvasBounds,O=this.displayScale,L=w.x>=0?0:-(w.x*O.x),F=w.y>=0?0:-(w.y*O.y),I;A.width>=w.width?I=R.width:I=R.width-(w.width-A.width)*O.x;var b;return A.height>=w.height?b=R.height:b=R.height-(w.height-A.height)*O.y,E.setTo(L,F,I,b),P&&(E.width/=P.zoomX,E.height/=P.zoomY,E.centerX=P.centerX+P.scrollX,E.centerY=P.centerY+P.scrollY),E},step:function(P,E){this.parent&&(this._lastCheck+=E,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var P=this.domlisteners;window.removeEventListener("orientationchange",P.orientationChange,!1),window.removeEventListener("resize",P.windowResize,!1);var E=["webkit","moz",""];E.forEach(function(R){document.removeEventListener(R+"fullscreenchange",P.fullScreenChange,!1),document.removeEventListener(R+"fullscreenerror",P.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",P.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",P.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===f.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===f.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});h.exports=S},35098:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},53539:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},12637:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5}},10217:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},55301:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={CENTER:e(35098),ORIENTATION:e(53539),SCALE_MODE:e(12637),ZOOM:e(10217)};h.exports=f},82085:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="enterfullscreen"},11826:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="fullscreenfailed"},56691:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="fullscreenunsupported"},34739:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="leavefullscreen"},26681:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="orientationchange"},11428:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="resize"},40444:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={ENTER_FULLSCREEN:e(82085),FULLSCREEN_FAILED:e(11826),FULLSCREEN_UNSUPPORTED:e(56691),LEAVE_FULLSCREEN:e(34739),ORIENTATION_CHANGE:e(26681),RESIZE:e(11428)}},86754:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(98611),c=e(55301),s={Center:e(35098),Events:e(40444),Orientation:e(53539),ScaleManager:e(756),ScaleModes:e(12637),Zoom:e(10217)};s=f(!1,s,c.CENTER),s=f(!1,s,c.ORIENTATION),s=f(!1,s,c.SCALE_MODE),s=f(!1,s,c.ZOOM),h.exports=s},47736:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72632),c=e(40587),s=function(a){var r=a.game.config.defaultPhysicsSystem,o=f(a.settings,"physics",!1);if(!(!r&&!o)){var l=[];if(r&&l.push(c(r+"Physics")),o)for(var v in o)v=c(v.concat("Physics")),l.indexOf(v)===-1&&l.push(v);return l}};h.exports=s},91088:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72632),c=function(s){var a=s.plugins.getDefaultScenePlugins(),r=f(s.settings,"plugins",!1);return Array.isArray(r)?r:a||[]};h.exports=c},90415:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};h.exports=y},87157:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(63946),s=new f({initialize:function(r){this.sys=new c(this,r),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});h.exports=s},13553:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(92980),s=e(7599),a=e(97081),r=e(10850),o=e(683),l=e(72283),v=e(87157),u=e(63946),d=new f({initialize:function(g,x){if(this.game=g,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,x){Array.isArray(x)||(x=[x]);for(var T=0;T<x.length;T++)this._pending.push({key:"default",scene:x[T],autoStart:T===0,data:{}})}g.events.once(a.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new v);var p,g,x,T;for(p=0;p<this._pending.length;p++){g=this._pending[p],x=g.key,T=g.scene;var S;T instanceof v?S=this.createSceneFromInstance(x,T):typeof T=="object"?S=this.createSceneFromObject(x,T):typeof T=="function"&&(S=this.createSceneFromFunction(x,T)),x=S.sys.settings.key,this.keys[x]=S,this.scenes.push(S),this._data[x]&&(S.sys.settings.data=this._data[x].data,this._data[x].autoStart&&(g.autoStart=!0)),(g.autoStart||S.sys.settings.active)&&this._start.push(x)}for(this._pending.length=0,this._data={},this.isBooted=!0,p=0;p<this._start.length;p++)g=this._start[p],this.start(g);this._start.length=0}},processQueue:function(){var p=this._pending.length,g=this._queue.length;if(!(p===0&&g===0)){var x,T;if(p){for(x=0;x<p;x++)T=this._pending[x],this.add(T.key,T.scene,T.autoStart,T.data);for(x=0;x<this._start.length;x++)T=this._start[x],this.start(T);this._start.length=0,this._pending.length=0}for(x=0;x<this._queue.length;x++)T=this._queue[x],this[T.op](T.keyA,T.keyB);this._queue.length=0}},add:function(p,g,x,T){if(x===void 0&&(x=!1),T===void 0&&(T={}),this.isProcessing||!this.isBooted)return this._pending.push({key:p,scene:g,autoStart:x,data:T}),this.isBooted||(this._data[p]={data:T}),null;p=this.getKey(p,g);var S;return g instanceof v?S=this.createSceneFromInstance(p,g):typeof g=="object"?(g.key=p,S=this.createSceneFromObject(p,g)):typeof g=="function"&&(S=this.createSceneFromFunction(p,g)),S.sys.settings.data=T,p=S.sys.settings.key,this.keys[p]=S,this.scenes.push(S),(x||S.sys.settings.active)&&(this._pending.length?this._start.push(p):this.start(p)),S},remove:function(p){if(this.isProcessing)this._queue.push({op:"remove",keyA:p,keyB:null});else{var g=this.getScene(p);if(!g||g.sys.isTransitioning())return this;var x=this.scenes.indexOf(g),T=g.sys.settings.key;x>-1&&(delete this.keys[T],this.scenes.splice(x,1),this._start.indexOf(T)>-1&&(x=this._start.indexOf(T),this._start.splice(x,1)),g.sys.destroy())}return this},bootScene:function(p){var g=p.sys,x=g.settings;g.sceneUpdate=l,p.init&&(p.init.call(p,x.data),x.status=c.INIT,x.isTransition&&g.events.emit(s.TRANSITION_INIT,x.transitionFrom,x.transitionDuration));var T;g.load&&(T=g.load,T.reset()),T&&p.preload?(p.preload.call(p),x.status=c.LOADING,T.once(o.COMPLETE,this.loadComplete,this),T.start()):this.create(p)},loadComplete:function(p){this.game.sound&&this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(p.scene)},payloadComplete:function(p){this.bootScene(p.scene)},update:function(p,g){this.processQueue(),this.isProcessing=!0;for(var x=this.scenes.length-1;x>=0;x--){var T=this.scenes[x].sys;T.settings.status>c.START&&T.settings.status<=c.RUNNING&&T.step(p,g),T.scenePlugin._target&&T.scenePlugin.step(p,g)}},render:function(p){for(var g=0;g<this.scenes.length;g++){var x=this.scenes[g].sys;x.settings.visible&&x.settings.status>=c.LOADING&&x.settings.status<c.SLEEPING&&x.render(p)}this.isProcessing=!1},create:function(p){var g=p.sys,x=g.settings;p.create&&(x.status=c.CREATING,p.create.call(p,x.data),x.status===c.DESTROYED)||(x.isTransition&&g.events.emit(s.TRANSITION_START,x.transitionFrom,x.transitionDuration),p.update&&(g.sceneUpdate=p.update),x.status=c.RUNNING,g.events.emit(s.CREATE,p))},createSceneFromFunction:function(p,g){var x=new g;if(x instanceof v){var T=x.sys.settings.key;if(T!==""&&(p=T),this.keys.hasOwnProperty(p))throw new Error("Cannot add a Scene with duplicate key: "+p);return this.createSceneFromInstance(p,x)}else return x.sys=new u(x),x.sys.settings.key=p,x.sys.init(this.game),x},createSceneFromInstance:function(p,g){var x=g.sys.settings.key;return x===""&&(g.sys.settings.key=p),g.sys.init(this.game),g},createSceneFromObject:function(p,g){var x=new v(g),T=x.sys.settings.key;T!==""?p=T:x.sys.settings.key=p,x.sys.init(this.game);for(var S=["init","preload","create","update","render"],P=0;P<S.length;P++){var E=r(g,S[P],null);E&&(x[S[P]]=E)}if(g.hasOwnProperty("extend")){for(var R in g.extend)if(g.extend.hasOwnProperty(R)){var A=g.extend[R];R==="data"&&x.hasOwnProperty("data")&&typeof A=="object"?x.data.merge(A):R!=="sys"&&(x[R]=A)}}return x},getKey:function(p,g){if(p||(p="default"),typeof g=="function")return p;if(g instanceof v?p=g.sys.settings.key:typeof g=="object"&&g.hasOwnProperty("key")&&(p=g.key),this.keys.hasOwnProperty(p))throw new Error("Cannot add a Scene with duplicate key: "+p);return p},getScenes:function(p,g){p===void 0&&(p=!0),g===void 0&&(g=!1);for(var x=[],T=this.scenes,S=0;S<T.length;S++){var P=T[S];P&&(!p||p&&P.sys.isActive())&&x.push(P)}return g?x.reverse():x},getScene:function(p){if(typeof p=="string"){if(this.keys[p])return this.keys[p]}else for(var g=0;g<this.scenes.length;g++)if(p===this.scenes[g])return p;return null},isActive:function(p){var g=this.getScene(p);return g?g.sys.isActive():null},isPaused:function(p){var g=this.getScene(p);return g?g.sys.isPaused():null},isVisible:function(p){var g=this.getScene(p);return g?g.sys.isVisible():null},isSleeping:function(p){var g=this.getScene(p);return g?g.sys.isSleeping():null},pause:function(p,g){var x=this.getScene(p);return x&&x.sys.pause(g),this},resume:function(p,g){var x=this.getScene(p);return x&&x.sys.resume(g),this},sleep:function(p,g){var x=this.getScene(p);return x&&!x.sys.isTransitioning()&&x.sys.sleep(g),this},wake:function(p,g){var x=this.getScene(p);return x&&x.sys.wake(g),this},run:function(p,g){var x=this.getScene(p);if(!x){for(var T=0;T<this._pending.length;T++)if(this._pending[T].key===p){this.queueOp("start",p,g);break}return this}x.sys.isSleeping()?x.sys.wake(g):x.sys.isPaused()?x.sys.resume(g):this.start(p,g)},start:function(p,g){if(!this.isBooted)return this._data[p]={autoStart:!0,data:g},this;var x=this.getScene(p);if(!x)return console.warn("Scene not found for key: "+p),this;var T=x.sys,S=T.settings.status;if(S>=c.START&&S<=c.CREATING)return this;if(S>=c.RUNNING&&S<=c.SLEEPING)T.shutdown(),T.sceneUpdate=l,T.start(g);else{T.sceneUpdate=l,T.start(g);var P;if(T.load&&(P=T.load),P&&T.settings.hasOwnProperty("pack")&&(P.reset(),P.addPack({payload:T.settings.pack})))return T.settings.status=c.LOADING,P.once(o.COMPLETE,this.payloadComplete,this),P.start(),this}return this.bootScene(x),this},stop:function(p,g){var x=this.getScene(p);if(x&&!x.sys.isTransitioning()&&x.sys.settings.status!==c.SHUTDOWN){var T=x.sys.load;T&&(T.off(o.COMPLETE,this.loadComplete,this),T.off(o.COMPLETE,this.payloadComplete,this)),x.sys.shutdown(g)}return this},switch:function(p,g){var x=this.getScene(p),T=this.getScene(g);return x&&T&&x!==T&&(this.sleep(p),this.isSleeping(g)?this.wake(g):this.start(g)),this},getAt:function(p){return this.scenes[p]},getIndex:function(p){var g=this.getScene(p);return this.scenes.indexOf(g)},bringToTop:function(p){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:p,keyB:null});else{var g=this.getIndex(p);if(g!==-1&&g<this.scenes.length){var x=this.getScene(p);this.scenes.splice(g,1),this.scenes.push(x)}}return this},sendToBack:function(p){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:p,keyB:null});else{var g=this.getIndex(p);if(g!==-1&&g>0){var x=this.getScene(p);this.scenes.splice(g,1),this.scenes.unshift(x)}}return this},moveDown:function(p){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:p,keyB:null});else{var g=this.getIndex(p);if(g>0){var x=g-1,T=this.getScene(p),S=this.getAt(x);this.scenes[g]=S,this.scenes[x]=T}}return this},moveUp:function(p){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:p,keyB:null});else{var g=this.getIndex(p);if(g<this.scenes.length-1){var x=g+1,T=this.getScene(p),S=this.getAt(x);this.scenes[g]=S,this.scenes[x]=T}}return this},moveAbove:function(p,g){if(p===g)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:p,keyB:g});else{var x=this.getIndex(p),T=this.getIndex(g);if(x!==-1&&T!==-1&&T<x){var S=this.getAt(T);this.scenes.splice(T,1),this.scenes.splice(x+(T>x),0,S)}}return this},moveBelow:function(p,g){if(p===g)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:p,keyB:g});else{var x=this.getIndex(p),T=this.getIndex(g);if(x!==-1&&T!==-1&&T>x){var S=this.getAt(T);this.scenes.splice(T,1),x===0?this.scenes.unshift(S):this.scenes.splice(x-(T<x),0,S)}}return this},queueOp:function(p,g,x){return this._queue.push({op:p,keyA:g,keyB:x}),this},swapPosition:function(p,g){if(p===g)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:p,keyB:g});else{var x=this.getIndex(p),T=this.getIndex(g);if(x!==T&&x!==-1&&T!==-1){var S=this.getAt(x);this.scenes[x]=this.scenes[T],this.scenes[T]=S}}return this},dump:function(){for(var p=[],g=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],x=0;x<this.scenes.length;x++){var T=this.scenes[x].sys,S=T.settings.visible&&(T.settings.status===c.RUNNING||T.settings.status===c.PAUSED)?"[*] ":"[-] ";S+=T.settings.key+" ("+g[T.settings.status]+")",p.push(S)}console.log(p.join(`
`))},destroy:function(){for(var p=0;p<this.scenes.length;p++){var g=this.scenes[p].sys;g.destroy()}this.systemScene.sys.destroy(),this.update=l,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});h.exports=d},64051:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(82897),c=e(56694),s=e(7599),a=e(72632),r=e(91963),o=new c({initialize:function(v){this.scene=v,this.systems=v.sys,this.settings=v.sys.settings,this.key=v.sys.settings.key,this.manager=v.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,v.sys.events.once(s.BOOT,this.boot,this),v.sys.events.on(s.START,this.pluginStart,this)},boot:function(){this.systems.events.once(s.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(s.SHUTDOWN,this.shutdown,this)},start:function(l,v){return l===void 0&&(l=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",l,v),this},restart:function(l){var v=this.key;return this.manager.queueOp("stop",v),this.manager.queueOp("start",v,l),this},transition:function(l){l===void 0&&(l={});var v=a(l,"target",!1),u=this.manager.getScene(v);if(!v||!this.checkValidTransition(u))return!1;var d=a(l,"duration",1e3);this._elapsed=0,this._target=u,this._duration=d,this._willSleep=a(l,"sleep",!1),this._willRemove=a(l,"remove",!1);var p=a(l,"onUpdate",null);p&&(this._onUpdate=p,this._onUpdateScope=a(l,"onUpdateScope",this.scene));var g=a(l,"allowInput",!1);this.settings.transitionAllowInput=g;var x=u.sys.settings;x.isTransition=!0,x.transitionFrom=this.scene,x.transitionDuration=d,x.transitionAllowInput=g,a(l,"moveAbove",!1)?this.manager.moveAbove(this.key,v):a(l,"moveBelow",!1)&&this.manager.moveBelow(this.key,v),u.sys.isSleeping()?u.sys.wake(a(l,"data")):this.manager.start(v,a(l,"data"));var T=a(l,"onStart",null),S=a(l,"onStartScope",this.scene);return T&&T.call(S,this.scene,u,d),this.systems.events.emit(s.TRANSITION_OUT,u,d),!0},checkValidTransition:function(l){return!(!l||l.sys.isActive()||l.sys.isTransitioning()||l===this.scene||this.systems.isTransitioning())},step:function(l,v){this._elapsed+=v,this.transitionProgress=f(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var l=this._target.sys,v=this._target.sys.settings;l.events.emit(s.TRANSITION_COMPLETE,this.scene),v.isTransition=!1,v.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(l,v,u,d){return this.manager.add(l,v,u,d)},launch:function(l,v){return l&&l!==this.key&&this.manager.queueOp("start",l,v),this},run:function(l,v){return l&&l!==this.key&&this.manager.queueOp("run",l,v),this},pause:function(l,v){return l===void 0&&(l=this.key),this.manager.queueOp("pause",l,v),this},resume:function(l,v){return l===void 0&&(l=this.key),this.manager.queueOp("resume",l,v),this},sleep:function(l,v){return l===void 0&&(l=this.key),this.manager.queueOp("sleep",l,v),this},wake:function(l,v){return l===void 0&&(l=this.key),this.manager.queueOp("wake",l,v),this},switch:function(l){return l!==this.key&&this.manager.queueOp("switch",this.key,l),this},stop:function(l,v){return l===void 0&&(l=this.key),this.manager.queueOp("stop",l,v),this},setActive:function(l,v,u){v===void 0&&(v=this.key);var d=this.manager.getScene(v);return d&&d.sys.setActive(l,u),this},setVisible:function(l,v){v===void 0&&(v=this.key);var u=this.manager.getScene(v);return u&&u.sys.setVisible(l),this},isSleeping:function(l){return l===void 0&&(l=this.key),this.manager.isSleeping(l)},isActive:function(l){return l===void 0&&(l=this.key),this.manager.isActive(l)},isPaused:function(l){return l===void 0&&(l=this.key),this.manager.isPaused(l)},isVisible:function(l){return l===void 0&&(l=this.key),this.manager.isVisible(l)},swapPosition:function(l,v){return v===void 0&&(v=this.key),l!==v&&this.manager.swapPosition(l,v),this},moveAbove:function(l,v){return v===void 0&&(v=this.key),l!==v&&this.manager.moveAbove(l,v),this},moveBelow:function(l,v){return v===void 0&&(v=this.key),l!==v&&this.manager.moveBelow(l,v),this},remove:function(l){return l===void 0&&(l=this.key),this.manager.remove(l),this},moveUp:function(l){return l===void 0&&(l=this.key),this.manager.moveUp(l),this},moveDown:function(l){return l===void 0&&(l=this.key),this.manager.moveDown(l),this},bringToTop:function(l){return l===void 0&&(l=this.key),this.manager.bringToTop(l),this},sendToBack:function(l){return l===void 0&&(l=this.key),this.manager.sendToBack(l),this},get:function(l){return this.manager.getScene(l)},getStatus:function(l){var v=this.manager.getScene(l);if(v)return v.sys.getStatus()},getIndex:function(l){return l===void 0&&(l=this.key),this.manager.getIndex(l)},shutdown:function(){var l=this.systems.events;l.off(s.SHUTDOWN,this.shutdown,this),l.off(s.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(s.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});r.register("ScenePlugin",o,"scenePlugin"),h.exports=o},36765:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(92980),c=e(10850),s=e(30657),a=e(90415),r={create:function(o){return typeof o=="string"?o={key:o}:o===void 0&&(o={}),{status:f.PENDING,key:c(o,"key",""),active:c(o,"active",!1),visible:c(o,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:c(o,"pack",!1),cameras:c(o,"cameras",null),map:c(o,"map",s(a,c(o,"mapAdd",{}))),physics:c(o,"physics",{}),loader:c(o,"loader",{}),plugins:c(o,"plugins",!1),input:c(o,"input",{})}}};h.exports=r},63946:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(92980),s=e(18360),a=e(7599),r=e(47736),o=e(91088),l=e(72283),v=e(36765),u=new f({initialize:function(p,g){this.scene=p,this.game,this.renderer,this.config=g,this.settings=v.create(g),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=l},init:function(d){this.settings.status=c.INIT,this.sceneUpdate=l,this.game=d,this.renderer=d.renderer,this.canvas=d.canvas,this.context=d.context;var p=d.plugins;this.plugins=p,p.addToScene(this,s.Global,[s.CoreScene,o(this),r(this)]),this.events.emit(a.BOOT,this),this.settings.isBooted=!0},step:function(d,p){var g=this.events;g.emit(a.PRE_UPDATE,d,p),g.emit(a.UPDATE,d,p),this.sceneUpdate.call(this.scene,d,p),g.emit(a.POST_UPDATE,d,p)},render:function(d){var p=this.displayList;p.depthSort(),this.events.emit(a.PRE_RENDER,d),this.cameras.render(d,p),this.events.emit(a.RENDER,d)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(d){var p=this.settings,g=this.getStatus();return g!==c.CREATING&&g!==c.RUNNING?console.warn("Cannot pause non-running Scene",p.key):this.settings.active&&(p.status=c.PAUSED,p.active=!1,this.events.emit(a.PAUSE,this,d)),this},resume:function(d){var p=this.events,g=this.settings;return this.settings.active||(g.status=c.RUNNING,g.active=!0,p.emit(a.RESUME,this,d)),this},sleep:function(d){var p=this.settings,g=this.getStatus();return g!==c.CREATING&&g!==c.RUNNING?console.warn("Cannot sleep non-running Scene",p.key):(p.status=c.SLEEPING,p.active=!1,p.visible=!1,this.events.emit(a.SLEEP,this,d)),this},wake:function(d){var p=this.events,g=this.settings;return g.status=c.RUNNING,g.active=!0,g.visible=!0,p.emit(a.WAKE,this,d),g.isTransition&&p.emit(a.TRANSITION_WAKE,g.transitionFrom,g.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var d=this.settings.status;return d>c.PENDING&&d<=c.RUNNING},isSleeping:function(){return this.settings.status===c.SLEEPING},isActive:function(){return this.settings.status===c.RUNNING},isPaused:function(){return this.settings.status===c.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(d){return this.settings.visible=d,this},setActive:function(d,p){return d?this.resume(p):this.pause(p)},start:function(d){var p=this.events,g=this.settings;d&&(g.data=d),g.status=c.START,g.active=!0,g.visible=!0,p.emit(a.START,this),p.emit(a.READY,this,d)},shutdown:function(d){var p=this.events,g=this.settings;p.off(a.TRANSITION_INIT),p.off(a.TRANSITION_START),p.off(a.TRANSITION_COMPLETE),p.off(a.TRANSITION_OUT),g.status=c.SHUTDOWN,g.active=!1,g.visible=!1,p.emit(a.SHUTDOWN,this,d)},destroy:function(){var d=this.events,p=this.settings;p.status=c.DESTROYED,p.active=!1,p.visible=!1,d.emit(a.DESTROY,this),d.removeAllListeners();for(var g=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],x=0;x<g.length;x++)this[g[x]]=null}});h.exports=u},92980:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};h.exports=y},31803:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="addedtoscene"},94817:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="boot"},28977:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="create"},91959:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="destroy"},363:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pause"},15643:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="postupdate"},17058:h=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="prerender"},77125:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="preupdate"},76018:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="ready"},28620:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="removedfromscene"},41538:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="render"},34268:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="resume"},2342:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="shutdown"},96541:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="sleep"},74244:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="start"},17046:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="transitioncomplete"},13637:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="transitioninit"},14733:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="transitionout"},33899:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="transitionstart"},52418:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="transitionwake"},31735:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="update"},8470:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="wake"},7599:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={ADDED_TO_SCENE:e(31803),BOOT:e(94817),CREATE:e(28977),DESTROY:e(91959),PAUSE:e(363),POST_UPDATE:e(15643),PRE_RENDER:e(17058),PRE_UPDATE:e(77125),READY:e(76018),REMOVED_FROM_SCENE:e(28620),RENDER:e(41538),RESUME:e(34268),SHUTDOWN:e(2342),SLEEP:e(96541),START:e(74244),TRANSITION_COMPLETE:e(17046),TRANSITION_INIT:e(13637),TRANSITION_OUT:e(14733),TRANSITION_START:e(33899),TRANSITION_WAKE:e(52418),UPDATE:e(31735),WAKE:e(8470)}},20436:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(92980),c=e(98611),s={Events:e(7599),GetPhysicsPlugins:e(47736),GetScenePlugins:e(91088),SceneManager:e(13553),ScenePlugin:e(64051),Settings:e(36765),Systems:e(63946)};s=c(!1,s,f),h.exports=s},25798:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(6659),s=e(76038),a=e(98611),r=e(72283),o=new f({Extends:c,initialize:function(v,u,d){c.call(this),this.manager=v,this.key=u,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=a(this.config,d),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(l){return!l||!l.name||typeof l.name!="string"?!1:this.markers[l.name]?(console.error("addMarker "+l.name+" already exists in Sound"),!1):(l=a(!0,{name:"",start:0,duration:this.totalDuration-(l.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},l),this.markers[l.name]=l,!0)},updateMarker:function(l){return!l||!l.name||typeof l.name!="string"?!1:this.markers[l.name]?(this.markers[l.name]=a(!0,this.markers[l.name],l),!0):(console.warn("Audio Marker: "+l.name+" missing in Sound: "+this.key),!1)},removeMarker:function(l){var v=this.markers[l];return v?(this.markers[l]=null,v):null},play:function(l,v){if(l===void 0&&(l=""),typeof l=="object"&&(v=l,l=""),typeof l!="string")return!1;if(!l)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[l])return console.warn("Marker: "+l+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[l],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=a(this.currentConfig,v),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:r,calculateRate:function(){var l=1.0005777895065548,v=this.currentConfig.detune+this.manager.detune,u=Math.pow(l,v);this.totalRate=this.currentConfig.rate*this.manager.rate*u},destroy:function(){this.pendingRemove||(this.emit(s.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});h.exports=o},12486:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(32742),s=e(6659),a=e(76038),r=e(97081),o=e(71608),l=e(51463),v=e(72283),u=e(93736),d=new f({Extends:s,initialize:function(g){s.call(this),this.game=g,this.jsonCache=g.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new u,g.events.on(r.BLUR,this.onGameBlur,this),g.events.on(r.FOCUS,this.onGameFocus,this),g.events.on(r.PRE_STEP,this.update,this),g.events.once(r.DESTROY,this.destroy,this)},add:v,addAudioSprite:function(p,g){g===void 0&&(g={});var x=this.add(p,g);x.spritemap=this.jsonCache.get(p).spritemap;for(var T in x.spritemap)if(x.spritemap.hasOwnProperty(T)){var S=c(g),P=x.spritemap[T];S.loop=P.hasOwnProperty("loop")?P.loop:!1,x.addMarker({name:T,start:P.start,duration:P.end-P.start,config:S})}return x},get:function(p){return l(this.sounds,"key",p)},getAll:function(p){return p?o(this.sounds,"key",p):o(this.sounds)},getAllPlaying:function(){return o(this.sounds,"isPlaying",!0)},play:function(p,g){var x=this.add(p);return x.once(a.COMPLETE,x.destroy,x),g?g.name?(x.addMarker(g),x.play(g.name)):x.play(g):x.play()},playAudioSprite:function(p,g,x){var T=this.addAudioSprite(p);return T.once(a.COMPLETE,T.destroy,T),T.play(g,x)},remove:function(p){var g=this.sounds.indexOf(p);return g!==-1?(p.destroy(),this.sounds.splice(g,1),!0):!1},removeAll:function(){this.sounds.forEach(function(p){p.destroy()}),this.sounds.length=0},removeByKey:function(p){for(var g=0,x=this.sounds.length-1;x>=0;x--){var T=this.sounds[x];T.key===p&&(T.destroy(),this.sounds.splice(x,1),g++)}return g},pauseAll:function(){this.forEachActiveSound(function(p){p.pause()}),this.emit(a.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(p){p.resume()}),this.emit(a.RESUME_ALL,this)},setListenerPosition:v,stopAll:function(){this.forEachActiveSound(function(p){p.stop()}),this.emit(a.STOP_ALL,this)},stopByKey:function(p){var g=0;return this.getAll(p).forEach(function(x){x.stop()&&g++}),g},unlock:v,onBlur:v,onFocus:v,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(p,g){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(a.UNLOCKED,this));for(var x=this.sounds.length-1;x>=0;x--)this.sounds[x].pendingRemove&&this.sounds.splice(x,1);this.sounds.forEach(function(T){T.update(p,g)})},destroy:function(){this.game.events.off(r.BLUR,this.onGameBlur,this),this.game.events.off(r.FOCUS,this.onGameFocus,this),this.game.events.off(r.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(p,g){var x=this;this.sounds.forEach(function(T,S){T&&!T.pendingRemove&&p.call(g||x,T,S,x.sounds)})},setRate:function(p){return this.rate=p,this},rate:{get:function(){return this._rate},set:function(p){this._rate=p,this.forEachActiveSound(function(g){g.calculateRate()}),this.emit(a.GLOBAL_RATE,this,p)}},setDetune:function(p){return this.detune=p,this},detune:{get:function(){return this._detune},set:function(p){this._detune=p,this.forEachActiveSound(function(g){g.calculateRate()}),this.emit(a.GLOBAL_DETUNE,this,p)}}});h.exports=d},84191:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(27622),c=e(17546),s=e(55491),a={create:function(r){var o=r.config.audio,l=r.device.audio;return o.noAudio||!l.webAudio&&!l.audioData?new c(r):l.webAudio&&!o.disableWebAudio?new s(r):new f(r)}};h.exports=a},77578:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="complete"},19679:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="decodedall"},56951:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="decoded"},16436:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="destroy"},55154:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="detune"},57818:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="detune"},57890:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="mute"},83022:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="rate"},99170:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="volume"},64289:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="looped"},67214:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="loop"},53128:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="mute"},73078:h=>{/**
 * @author       pi-kei
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pan"},76763:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pauseall"},88426:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pause"},13765:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="play"},80291:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="rate"},11124:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="resumeall"},55382:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="resume"},71157:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="seek"},31776:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="stopall"},39450:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="stop"},21939:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="unlocked"},33019:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="volume"},76038:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={COMPLETE:e(77578),DECODED:e(56951),DECODED_ALL:e(19679),DESTROY:e(16436),DETUNE:e(55154),GLOBAL_DETUNE:e(57818),GLOBAL_MUTE:e(57890),GLOBAL_RATE:e(83022),GLOBAL_VOLUME:e(99170),LOOP:e(67214),LOOPED:e(64289),MUTE:e(53128),PAN:e(73078),PAUSE_ALL:e(76763),PAUSE:e(88426),PLAY:e(13765),RATE:e(80291),RESUME_ALL:e(11124),RESUME:e(55382),SEEK:e(71157),STOP_ALL:e(31776),STOP:e(39450),UNLOCKED:e(21939),VOLUME:e(33019)}},34350:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(25798),c=e(56694),s=e(76038),a=e(82897),r=new c({Extends:f,initialize:function(l,v,u){if(u===void 0&&(u={}),this.tags=l.game.cache.audio.get(v),!this.tags)throw new Error('No cached audio asset with key "'+v);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,f.call(this,l,v,u)},play:function(o,l){return this.manager.isLocked(this,"play",[o,l])||!f.prototype.play.call(this,o,l)||!this.pickAndPlayAudioTag()?!1:(this.emit(s.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!f.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(s.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!f.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(s.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!f.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(s.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var o=this.currentConfig.seek,l=this.currentConfig.delay,v=(this.currentMarker?this.currentMarker.start:0)+o;return this.previousTime=v,this.audio.currentTime=v,this.applyConfig(),l===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+l*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var o=0;o<this.tags.length;o++){var l=this.tags[o];if(l.dataset.used==="false")return l.dataset.used="true",this.audio=l,!0}if(!this.manager.override)return!1;var v=[];this.manager.forEachActiveSound(function(d){d.key===this.key&&d.audio&&v.push(d)},this),v.sort(function(d,p){return d.loop===p.loop?p.seek/p.duration-d.seek/d.duration:d.loop?1:-1});var u=v[0];return this.audio=u.audio,u.reset(),u.audio=null,u.startTime=0,u.previousTime=0,!0},playCatchPromise:function(){var o=this.audio.play();o&&o.catch(function(l){console.warn(l)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){f.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(o){if(this.isPlaying){if(this.startTime>0){this.startTime<o-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,o-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var l=this.currentMarker?this.currentMarker.start:0,v=l+this.duration,u=this.audio.currentTime;if(this.currentConfig.loop)u>=v-this.manager.loopEndOffset?(this.audio.currentTime=l+Math.max(0,u-v),u=this.audio.currentTime):u<l&&(this.audio.currentTime+=l,u=this.audio.currentTime),u<this.previousTime&&this.emit(s.LOOPED,this);else if(u>=v){this.reset(),this.stopAndReleaseAudioTag(),this.emit(s.COMPLETE,this);return}this.previousTime=u}},destroy:function(){f.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=a(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){f.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(o){this.currentConfig.mute=o,!this.manager.isLocked(this,"mute",o)&&(this.updateMute(),this.emit(s.MUTE,this,o))}},setMute:function(o){return this.mute=o,this},volume:{get:function(){return this.currentConfig.volume},set:function(o){this.currentConfig.volume=o,!this.manager.isLocked(this,"volume",o)&&(this.updateVolume(),this.emit(s.VOLUME,this,o))}},setVolume:function(o){return this.volume=o,this},rate:{get:function(){return this.currentConfig.rate},set:function(o){this.currentConfig.rate=o,!this.manager.isLocked(this,s.RATE,o)&&(this.calculateRate(),this.emit(s.RATE,this,o))}},setRate:function(o){return this.rate=o,this},detune:{get:function(){return this.currentConfig.detune},set:function(o){this.currentConfig.detune=o,!this.manager.isLocked(this,s.DETUNE,o)&&(this.calculateRate(),this.emit(s.DETUNE,this,o))}},setDetune:function(o){return this.detune=o,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(o){this.manager.isLocked(this,"seek",o)||this.startTime>0||(this.isPlaying||this.isPaused)&&(o=Math.min(Math.max(0,o),this.duration),this.isPlaying?(this.previousTime=o,this.audio.currentTime=o):this.isPaused&&(this.currentConfig.seek=o),this.emit(s.SEEK,this,o))}},setSeek:function(o){return this.seek=o,this},loop:{get:function(){return this.currentConfig.loop},set:function(o){this.currentConfig.loop=o,!this.manager.isLocked(this,"loop",o)&&(this.audio&&(this.audio.loop=o),this.emit(s.LOOP,this,o))}},setLoop:function(o){return this.loop=o,this},pan:{get:function(){return this.currentConfig.pan},set:function(o){this.currentConfig.pan=o,this.emit(s.PAN,this,o)}},setPan:function(o){return this.pan=o,this}});h.exports=r},27622:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(12486),c=e(56694),s=e(76038),a=e(34350),r=new c({Extends:f,initialize:function(l){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,f.call(this,l)},add:function(o,l){var v=new a(this,o,l);return this.sounds.push(v),v},unlock:function(){this.locked=!1;var o=this;if(this.game.cache.audio.entries.each(function(d,p){for(var g=0;g<p.length;g++)if(p[g].dataset.locked==="true")return o.locked=!0,!1;return!0}),!!this.locked){var l=!1,v=function(){l=!0},u=function(){if(l){l=!1;return}document.body.removeEventListener("touchmove",v),document.body.removeEventListener("touchend",u);var d=[];if(o.game.cache.audio.entries.each(function(g,x){for(var T=0;T<x.length;T++){var S=x[T];S.dataset.locked==="true"&&d.push(S)}return!0}),d.length!==0){var p=d[d.length-1];p.oncanplaythrough=function(){p.oncanplaythrough=null,d.forEach(function(g){g.dataset.locked="false"}),o.unlocked=!0},d.forEach(function(g){g.load()})}};this.once(s.UNLOCKED,function(){for(this.forEachActiveSound(function(p){p.currentMarker===null&&p.duration===0&&(p.duration=p.tags[0].duration),p.totalDuration=p.tags[0].duration});this.lockedActionsQueue.length;){var d=this.lockedActionsQueue.shift();d.sound[d.prop].apply?d.sound[d.prop].apply(d.sound,d.value||[]):d.sound[d.prop]=d.value}},this),document.body.addEventListener("touchmove",v,!1),document.body.addEventListener("touchend",u,!1)}},onBlur:function(){this.forEachActiveSound(function(o){o.isPlaying&&(this.onBlurPausedSounds.push(o),o.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(o){o.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){f.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(o,l,v){return o.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:o,prop:l,value:v}),!0):!1},setMute:function(o){return this.mute=o,this},mute:{get:function(){return this._mute},set:function(o){this._mute=o,this.forEachActiveSound(function(l){l.updateMute()}),this.emit(s.GLOBAL_MUTE,this,o)}},setVolume:function(o){return this.volume=o,this},volume:{get:function(){return this._volume},set:function(o){this._volume=o,this.forEachActiveSound(function(l){l.updateVolume()}),this.emit(s.GLOBAL_VOLUME,this,o)}}});h.exports=r},56751:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={SoundManagerCreator:e(84191),Events:e(76038),BaseSound:e(25798),BaseSoundManager:e(12486),WebAudioSound:e(96008),WebAudioSoundManager:e(55491),HTML5AudioSound:e(34350),HTML5AudioSoundManager:e(27622),NoAudioSound:e(38662),NoAudioSoundManager:e(17546)}},38662:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(25798),c=e(56694),s=e(6659),a=e(98611),r=e(72283),o=function(){return!1},l=function(){return null},v=function(){return this},u=new c({Extends:s,initialize:function(p,g,x){x===void 0&&(x={}),s.call(this),this.manager=p,this.key=g,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=a({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},x),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:o,updateMarker:o,removeMarker:l,play:o,pause:o,resume:o,stop:o,setMute:v,setVolume:v,setRate:v,setDetune:v,setSeek:v,setLoop:v,setPan:v,applyConfig:l,resetConfig:l,update:r,calculateRate:l,destroy:function(){f.prototype.destroy.call(this)}});h.exports=u},17546:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(12486),c=e(56694),s=e(6659),a=e(38662),r=e(72283),o=new c({Extends:s,initialize:function(v){s.call(this),this.game=v,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(l,v){var u=new a(this,l,v);return this.sounds.push(u),u},addAudioSprite:function(l,v){var u=this.add(l,v);return u.spritemap={},u},get:function(l){return f.prototype.get.call(this,l)},getAll:function(l){return f.prototype.getAll.call(this,l)},play:function(l,v){return!1},playAudioSprite:function(l,v,u){return!1},remove:function(l){return f.prototype.remove.call(this,l)},removeAll:function(){return f.prototype.removeAll.call(this)},removeByKey:function(l){return f.prototype.removeByKey.call(this,l)},stopByKey:function(l){return f.prototype.stopByKey.call(this,l)},onBlur:r,onFocus:r,onGameBlur:r,onGameFocus:r,pauseAll:r,resumeAll:r,stopAll:r,update:r,setRate:r,setDetune:r,setMute:r,setVolume:r,unlock:r,forEachActiveSound:function(l,v){f.prototype.forEachActiveSound.call(this,l,v)},destroy:function(){f.prototype.destroy.call(this)}});h.exports=o},96008:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(25798),c=e(56694),s=e(76038),a=e(72632),r=new c({Extends:f,initialize:function(l,v,u){if(u===void 0&&(u={}),this.audioBuffer=l.game.cache.audio.get(v),!this.audioBuffer)throw new Error('Audio key "'+v+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=l.context.createGain(),this.volumeNode=l.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),l.context.createPanner&&(this.spatialNode=l.context.createPanner(),this.volumeNode.connect(this.spatialNode)),l.context.createStereoPanner?(this.pannerNode=l.context.createStereoPanner(),l.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(l.destination)):l.context.createPanner?this.spatialNode.connect(l.destination):this.volumeNode.connect(l.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,f.call(this,l,v,u)},play:function(o,l){return f.prototype.play.call(this,o,l)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(s.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!f.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(s.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!f.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(s.RESUME,this),!0)},stop:function(){return f.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(s.STOP,this),!0):!1},createAndStartBufferSource:function(){var o=this.currentConfig.seek,l=this.currentConfig.delay,v=this.manager.context.currentTime+l,u=(this.currentMarker?this.currentMarker.start:0)+o,d=this.duration-o;this.playTime=v-o,this.startTime=v,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,v),Math.max(0,u),Math.max(0,d)),this.resetConfig()},createAndStartLoopBufferSource:function(){var o=this.getLoopTime(),l=this.currentMarker?this.currentMarker.start:0,v=this.duration;this.loopTime=o,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,o),Math.max(0,l),Math.max(0,v))},createBufferSource:function(){var o=this,l=this.manager.context.createBufferSource();return l.buffer=this.audioBuffer,l.connect(this.muteNode),l.onended=function(v){v.target===o.source&&(o.currentConfig.loop?o.hasLooped=!0:o.hasEnded=!0)},l},stopAndRemoveBufferSource:function(){this.source&&(this.source.stop(),this.source.disconnect(),this.source=null),this.playTime=0,this.startTime=0,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var o=this.currentConfig.source;if(o&&this.manager.context.createPanner){var l=this.spatialNode;l.panningModel=a(o,"panningModel","equalpower"),l.distanceModel=a(o,"distanceModel","inverse"),l.orientationX.value=a(o,"orientationX",0),l.orientationY.value=a(o,"orientationY",0),l.orientationZ.value=a(o,"orientationZ",-1),l.refDistance=a(o,"refDistance",1),l.maxDistance=a(o,"maxDistance",1e4),l.rolloffFactor=a(o,"rolloffFactor",1),l.coneInnerAngle=a(o,"coneInnerAngle",360),l.coneOuterAngle=a(o,"coneOuterAngle",0),l.coneOuterGain=a(o,"coneOuterGain",0),this.spatialSource=a(o,"follow",null),this.spatialSource||(l.positionX.value=a(o,"x",0),l.positionY.value=a(o,"y",0),l.positionZ.value=a(o,"z",0))}f.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(o){this.spatialNode&&(this.spatialNode.positionX.value=o)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(o){this.spatialNode&&(this.spatialNode.positionY.value=o)}},update:function(){if(this.isPlaying&&this.spatialSource){var o=a(this.spatialSource,"x",null),l=a(this.spatialSource,"y",null);o&&o!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=o),l&&l!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=l)}this.hasEnded?(this.hasEnded=!1,f.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(s.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(s.LOOPED,this))},destroy:function(){this.pendingRemove||(f.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){f.prototype.calculateRate.call(this);var o=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,o),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,o)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var o=0,l=0;l<this.rateUpdates.length;l++){var v=0;l<this.rateUpdates.length-1?v=this.rateUpdates[l+1].time:v=this.manager.context.currentTime-this.playTime,o+=(v-this.rateUpdates[l].time)*this.rateUpdates[l].rate}return o},getLoopTime:function(){for(var o=0,l=0;l<this.rateUpdates.length-1;l++)o+=(this.rateUpdates[l+1].time-this.rateUpdates[l].time)*this.rateUpdates[l].rate;var v=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+v.time+(this.duration-o)/v.rate},rate:{get:function(){return this.currentConfig.rate},set:function(o){this.currentConfig.rate=o,this.calculateRate(),this.emit(s.RATE,this,o)}},setRate:function(o){return this.rate=o,this},detune:{get:function(){return this.currentConfig.detune},set:function(o){this.currentConfig.detune=o,this.calculateRate(),this.emit(s.DETUNE,this,o)}},setDetune:function(o){return this.detune=o,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(o){this.currentConfig.mute=o,this.muteNode.gain.setValueAtTime(o?0:1,0),this.emit(s.MUTE,this,o)}},setMute:function(o){return this.mute=o,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(o){this.currentConfig.volume=o,this.volumeNode.gain.setValueAtTime(o,0),this.emit(s.VOLUME,this,o)}},setVolume:function(o){return this.volume=o,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(o){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(o=Math.min(Math.max(0,o),this.duration),this.currentConfig.seek=o,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(s.SEEK,this,o))}},setSeek:function(o){return this.seek=o,this},loop:{get:function(){return this.currentConfig.loop},set:function(o){this.currentConfig.loop=o,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),o&&this.createAndStartLoopBufferSource()),this.emit(s.LOOP,this,o)}},setLoop:function(o){return this.loop=o,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(o){this.currentConfig.pan=o,this.pannerNode&&this.pannerNode.pan.setValueAtTime(o,this.manager.context.currentTime),this.emit(s.PAN,this,o)}},setPan:function(o){return this.pan=o,this}});h.exports=r},55491:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(82329),c=e(12486),s=e(56694),a=e(76038),r=e(97081),o=e(96008),l=e(72632),v=new s({Extends:c,initialize:function(d){this.context=this.createAudioContext(d),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),c.call(this,d),this.locked&&d.isBooted?this.unlock():d.events.once(r.BOOT,this.unlock,this)},createAudioContext:function(u){var d=u.config.audio;if(d.context)return d.context.resume(),d.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(u){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=u,this.masterMuteNode=u.createGain(),this.masterVolumeNode=u.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(u.destination),this.destination=this.masterMuteNode,this},add:function(u,d){var p=new o(this,u,d);return this.sounds.push(p),p},decodeAudio:function(u,d){var p;Array.isArray(u)?p=u:p=[{key:u,data:d}];for(var g=this.game.cache.audio,x=p.length,T=0;T<p.length;T++){var S=p[T],P=S.key,E=S.data;typeof E=="string"&&(E=f(E));var R=function(w,O){g.add(w,O),this.emit(a.DECODED,w),x--,x===0&&this.emit(a.DECODED_ALL)}.bind(this,P),A=function(w,O){console.error("Error decoding audio: "+w+" - ",O?O.message:""),x--,x===0&&this.emit(a.DECODED_ALL)}.bind(this,P);this.context.decodeAudioData(E,R,A)}},setListenerPosition:function(u,d){return u===void 0&&(u=this.game.scale.width/2),d===void 0&&(d=this.game.scale.height/2),this.listenerPosition.set(u,d),this},unlock:function(){var u=this,d=document.body,p=function g(){if(u.context&&d){var x=d.removeEventListener;u.context.resume().then(function(){x("touchstart",g),x("touchend",g),x("click",g),x("keydown",g),u.unlocked=!0},function(){x("touchstart",g),x("touchend",g),x("click",g),x("keydown",g)})}};d&&(d.addEventListener("touchstart",p,!1),d.addEventListener("touchend",p,!1),d.addEventListener("click",p,!1),d.addEventListener("keydown",p,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var u=this.context;u&&!this.locked&&(u.state==="suspended"||u.state==="interrupted")&&u.resume()},update:function(u,d){var p=this.context.listener;if(p&&p.positionX!==void 0){var g=l(this.listenerPosition,"x",null),x=l(this.listenerPosition,"y",null);g&&g!==this._spatialx&&(this._spatialx=p.positionX.value=g),x&&x!==this._spatialy&&(this._spatialy=p.positionY.value=x)}c.prototype.update.call(this,u,d),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var u=this;this.context.close().then(function(){u.context=null})}c.prototype.destroy.call(this)},setMute:function(u){return this.mute=u,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(u){this.masterMuteNode.gain.setValueAtTime(u?0:1,0),this.emit(a.GLOBAL_MUTE,this,u)}},setVolume:function(u){return this.volume=u,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(u){this.masterVolumeNode.gain.setValueAtTime(u,0),this.emit(a.GLOBAL_VOLUME,this,u)}}});h.exports=v},71207:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(59959),c=e(56694),s=e(72283),a=e(17922),r=new c({initialize:function(l){this.parent=l,this.list=[],this.position=0,this.addCallback=s,this.removeCallback=s,this._sortKey=""},add:function(o,l){return l?f.Add(this.list,o):f.Add(this.list,o,0,this.addCallback,this)},addAt:function(o,l,v){return v?f.AddAt(this.list,o,l):f.AddAt(this.list,o,l,0,this.addCallback,this)},getAt:function(o){return this.list[o]},getIndex:function(o){return this.list.indexOf(o)},sort:function(o,l){return o?(l===void 0&&(l=function(v,u){return v[o]-u[o]}),a(this.list,l),this):this},getByName:function(o){return f.GetFirst(this.list,"name",o)},getRandom:function(o,l){return f.GetRandom(this.list,o,l)},getFirst:function(o,l,v,u){return f.GetFirst(this.list,o,l,v,u)},getAll:function(o,l,v,u){return f.GetAll(this.list,o,l,v,u)},count:function(o,l){return f.CountAllMatching(this.list,o,l)},swap:function(o,l){f.Swap(this.list,o,l)},moveTo:function(o,l){return f.MoveTo(this.list,o,l)},moveAbove:function(o,l){return f.MoveAbove(this.list,o,l)},moveBelow:function(o,l){return f.MoveBelow(this.list,o,l)},remove:function(o,l){return l?f.Remove(this.list,o):f.Remove(this.list,o,this.removeCallback,this)},removeAt:function(o,l){return l?f.RemoveAt(this.list,o):f.RemoveAt(this.list,o,this.removeCallback,this)},removeBetween:function(o,l,v){return v?f.RemoveBetween(this.list,o,l):f.RemoveBetween(this.list,o,l,this.removeCallback,this)},removeAll:function(o){for(var l=this.list.length;l--;)this.remove(this.list[l],o);return this},bringToTop:function(o){return f.BringToTop(this.list,o)},sendToBack:function(o){return f.SendToBack(this.list,o)},moveUp:function(o){return f.MoveUp(this.list,o),o},moveDown:function(o){return f.MoveDown(this.list,o),o},reverse:function(){return this.list.reverse(),this},shuffle:function(){return f.Shuffle(this.list),this},replace:function(o,l){return f.Replace(this.list,o,l)},exists:function(o){return this.list.indexOf(o)>-1},setAll:function(o,l,v,u){return f.SetAll(this.list,o,l,v,u),this},each:function(o,l){for(var v=[null],u=2;u<arguments.length;u++)v.push(arguments[u]);for(u=0;u<this.list.length;u++)v[0]=this.list[u],o.apply(l,v)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});h.exports=r},33885:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=new f({initialize:function(a){if(this.entries={},this.size=0,Array.isArray(a))for(var r=0;r<a.length;r++)this.set(a[r][0],a[r][1])},set:function(s,a){return this.has(s)||this.size++,this.entries[s]=a,this},get:function(s){if(this.has(s))return this.entries[s]},getArray:function(){var s=[],a=this.entries;for(var r in a)s.push(a[r]);return s},has:function(s){return this.entries.hasOwnProperty(s)},delete:function(s){return this.has(s)&&(delete this.entries[s],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(s){delete this.entries[s]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var s=[],a=this.entries;for(var r in a)s.push(a[r]);return s},dump:function(){var s=this.entries;console.group("Map");for(var a in s)console.log(a,s[a]);console.groupEnd()},each:function(s){var a=this.entries;for(var r in a)if(s(r,a[r])===!1)break;return this},contains:function(s){var a=this.entries;for(var r in a)if(a[r]===s)return!0;return!1},merge:function(s,a){a===void 0&&(a=!1);var r=this.entries,o=s.entries;for(var l in o)r.hasOwnProperty(l)&&a?r[l]=o[l]:this.set(l,o[l]);return this}});h.exports=c},74623:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(6659),s=e(36716),a=new f({Extends:c,initialize:function(){c.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(r){return this._active.indexOf(r)>-1},isPending:function(r){return this._toProcess>0&&this._pending.indexOf(r)>-1},isDestroying:function(r){return this._destroy.indexOf(r)>-1},add:function(r){return this.checkQueue&&this.isActive()&&!this.isDestroying()||this.isPending()||(this._pending.push(r),this._toProcess++),r},remove:function(r){if(this.isPending(r)){var o=this._pending,l=o.indexOf(r);l!==-1&&o.splice(l,1)}else this.isActive(r)&&(this._destroy.push(r),this._toProcess++);return r},removeAll:function(){for(var r=this._active,o=this._destroy,l=r.length;l--;)o.push(r[l]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var r=this._destroy,o=this._active,l,v;for(l=0;l<r.length;l++){v=r[l];var u=o.indexOf(v);u!==-1&&(o.splice(u,1),this.emit(s.PROCESS_QUEUE_REMOVE,v))}for(r.length=0,r=this._pending,l=0;l<r.length;l++)v=r[l],(!this.checkQueue||this.checkQueue&&o.indexOf(v)===-1)&&(o.push(v),this.emit(s.PROCESS_QUEUE_ADD,v));return r.length=0,this._toProcess=0,o},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});h.exports=a},68687:(h,y,e)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(53466);function c(E){if(!(this instanceof c))return new c(E);this._maxEntries=Math.max(4,E||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}c.prototype={all:function(){return this._all(this.data,[])},search:function(E){var R=this.data,A=[],w=this.toBBox;if(!T(E,R))return A;for(var O=[],L,F,I,b;R;){for(L=0,F=R.children.length;L<F;L++)I=R.children[L],b=R.leaf?w(I):I,T(E,b)&&(R.leaf?A.push(I):x(E,b)?this._all(I,A):O.push(I));R=O.pop()}return A},collides:function(E){var R=this.data,A=this.toBBox;if(!T(E,R))return!1;for(var w=[],O,L,F,I;R;){for(O=0,L=R.children.length;O<L;O++)if(F=R.children[O],I=R.leaf?A(F):F,T(E,I)){if(R.leaf||x(E,I))return!0;w.push(F)}R=w.pop()}return!1},load:function(E){if(!(E&&E.length))return this;if(E.length<this._minEntries){for(var R=0,A=E.length;R<A;R++)this.insert(E[R]);return this}var w=this._build(E.slice(),0,E.length-1,0);if(!this.data.children.length)this.data=w;else if(this.data.height===w.height)this._splitRoot(this.data,w);else{if(this.data.height<w.height){var O=this.data;this.data=w,w=O}this._insert(w,this.data.height-w.height-1,!0)}return this},insert:function(E){return E&&this._insert(E,this.data.height-1),this},clear:function(){return this.data=S([]),this},remove:function(E,R){if(!E)return this;for(var A=this.data,w=this.toBBox(E),O=[],L=[],F,I,b,G;A||O.length;){if(A||(A=O.pop(),I=O[O.length-1],F=L.pop(),G=!0),A.leaf&&(b=s(E,A.children,R),b!==-1))return A.children.splice(b,1),O.push(A),this._condense(O),this;!G&&!A.leaf&&x(A,w)?(O.push(A),L.push(F),F=0,I=A,A=A.children[0]):I?(F++,A=I.children[F],G=!1):A=null}return this},toBBox:function(E){return E},compareMinX:l,compareMinY:v,toJSON:function(){return this.data},fromJSON:function(E){return this.data=E,this},_all:function(E,R){for(var A=[];E;)E.leaf?R.push.apply(R,E.children):A.push.apply(A,E.children),E=A.pop();return R},_build:function(E,R,A,w){var O=A-R+1,L=this._maxEntries,F;if(O<=L)return F=S(E.slice(R,A+1)),a(F,this.toBBox),F;w||(w=Math.ceil(Math.log(O)/Math.log(L)),L=Math.ceil(O/Math.pow(L,w-1))),F=S([]),F.leaf=!1,F.height=w;var I=Math.ceil(O/L),b=I*Math.ceil(Math.sqrt(L)),G,N,U,Y;for(P(E,R,A,b,this.compareMinX),G=R;G<=A;G+=b)for(U=Math.min(G+b-1,A),P(E,G,U,I,this.compareMinY),N=G;N<=U;N+=I)Y=Math.min(N+I-1,U),F.children.push(this._build(E,N,Y,w-1));return a(F,this.toBBox),F},_chooseSubtree:function(E,R,A,w){for(var O,L,F,I,b,G,N,U;w.push(R),!(R.leaf||w.length-1===A);){for(N=U=1/0,O=0,L=R.children.length;O<L;O++)F=R.children[O],b=u(F),G=p(E,F)-b,G<U?(U=G,N=b<N?b:N,I=F):G===U&&b<N&&(N=b,I=F);R=I||R.children[0]}return R},_insert:function(E,R,A){var w=this.toBBox,O=A?E:w(E),L=[],F=this._chooseSubtree(O,this.data,R,L);for(F.children.push(E),o(F,O);R>=0&&L[R].children.length>this._maxEntries;)this._split(L,R),R--;this._adjustParentBBoxes(O,L,R)},_split:function(E,R){var A=E[R],w=A.children.length,O=this._minEntries;this._chooseSplitAxis(A,O,w);var L=this._chooseSplitIndex(A,O,w),F=S(A.children.splice(L,A.children.length-L));F.height=A.height,F.leaf=A.leaf,a(A,this.toBBox),a(F,this.toBBox),R?E[R-1].children.push(F):this._splitRoot(A,F)},_splitRoot:function(E,R){this.data=S([E,R]),this.data.height=E.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(E,R,A){var w,O,L,F,I,b,G,N;for(b=G=1/0,w=R;w<=A-R;w++)O=r(E,0,w,this.toBBox),L=r(E,w,A,this.toBBox),F=g(O,L),I=u(O)+u(L),F<b?(b=F,N=w,G=I<G?I:G):F===b&&I<G&&(G=I,N=w);return N},_chooseSplitAxis:function(E,R,A){var w=E.leaf?this.compareMinX:l,O=E.leaf?this.compareMinY:v,L=this._allDistMargin(E,R,A,w),F=this._allDistMargin(E,R,A,O);L<F&&E.children.sort(w)},_allDistMargin:function(E,R,A,w){E.children.sort(w);var O=this.toBBox,L=r(E,0,R,O),F=r(E,A-R,A,O),I=d(L)+d(F),b,G;for(b=R;b<A-R;b++)G=E.children[b],o(L,E.leaf?O(G):G),I+=d(L);for(b=A-R-1;b>=R;b--)G=E.children[b],o(F,E.leaf?O(G):G),I+=d(F);return I},_adjustParentBBoxes:function(E,R,A){for(var w=A;w>=0;w--)o(R[w],E)},_condense:function(E){for(var R=E.length-1,A;R>=0;R--)E[R].children.length===0?R>0?(A=E[R-1].children,A.splice(A.indexOf(E[R]),1)):this.clear():a(E[R],this.toBBox)},compareMinX:function(E,R){return E.left-R.left},compareMinY:function(E,R){return E.top-R.top},toBBox:function(E){return{minX:E.left,minY:E.top,maxX:E.right,maxY:E.bottom}}};function s(E,R,A){if(!A)return R.indexOf(E);for(var w=0;w<R.length;w++)if(A(E,R[w]))return w;return-1}function a(E,R){r(E,0,E.children.length,R,E)}function r(E,R,A,w,O){O||(O=S(null)),O.minX=1/0,O.minY=1/0,O.maxX=-1/0,O.maxY=-1/0;for(var L=R,F;L<A;L++)F=E.children[L],o(O,E.leaf?w(F):F);return O}function o(E,R){return E.minX=Math.min(E.minX,R.minX),E.minY=Math.min(E.minY,R.minY),E.maxX=Math.max(E.maxX,R.maxX),E.maxY=Math.max(E.maxY,R.maxY),E}function l(E,R){return E.minX-R.minX}function v(E,R){return E.minY-R.minY}function u(E){return(E.maxX-E.minX)*(E.maxY-E.minY)}function d(E){return E.maxX-E.minX+(E.maxY-E.minY)}function p(E,R){return(Math.max(R.maxX,E.maxX)-Math.min(R.minX,E.minX))*(Math.max(R.maxY,E.maxY)-Math.min(R.minY,E.minY))}function g(E,R){var A=Math.max(E.minX,R.minX),w=Math.max(E.minY,R.minY),O=Math.min(E.maxX,R.maxX),L=Math.min(E.maxY,R.maxY);return Math.max(0,O-A)*Math.max(0,L-w)}function x(E,R){return E.minX<=R.minX&&E.minY<=R.minY&&R.maxX<=E.maxX&&R.maxY<=E.maxY}function T(E,R){return R.minX<=E.maxX&&R.minY<=E.maxY&&R.maxX>=E.minX&&R.maxY>=E.minY}function S(E){return{children:E,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function P(E,R,A,w,O){for(var L=[R,A],F;L.length;)A=L.pop(),R=L.pop(),!(A-R<=w)&&(F=R+Math.ceil((A-R)/w/2)*w,f(E,F,R,A,O),L.push(R,F,F,A))}h.exports=c},58403:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=new f({initialize:function(a){if(this.entries=[],Array.isArray(a))for(var r=0;r<a.length;r++)this.set(a[r])},set:function(s){return this.entries.indexOf(s)===-1&&this.entries.push(s),this},get:function(s,a){for(var r=0;r<this.entries.length;r++){var o=this.entries[r];if(o[s]===a)return o}},getArray:function(){return this.entries.slice(0)},delete:function(s){var a=this.entries.indexOf(s);return a>-1&&this.entries.splice(a,1),this},dump:function(){console.group("Set");for(var s=0;s<this.entries.length;s++){var a=this.entries[s];console.log(a)}console.groupEnd()},each:function(s,a){var r,o=this.entries.slice(),l=o.length;if(a)for(r=0;r<l&&s.call(a,o[r],r)!==!1;r++);else for(r=0;r<l&&s(o[r],r)!==!1;r++);return this},iterate:function(s,a){var r,o=this.entries.length;if(a)for(r=0;r<o&&s.call(a,this.entries[r],r)!==!1;r++);else for(r=0;r<o&&s(this.entries[r],r)!==!1;r++);return this},iterateLocal:function(s){var a,r=[];for(a=1;a<arguments.length;a++)r.push(arguments[a]);var o=this.entries.length;for(a=0;a<o;a++){var l=this.entries[a];l[s].apply(l,r)}return this},clear:function(){return this.entries.length=0,this},contains:function(s){return this.entries.indexOf(s)>-1},union:function(s){var a=new c;return s.entries.forEach(function(r){a.set(r)}),this.entries.forEach(function(r){a.set(r)}),a},intersect:function(s){var a=new c;return this.entries.forEach(function(r){s.contains(r)&&a.set(r)}),a},difference:function(s){var a=new c;return this.entries.forEach(function(r){s.contains(r)||a.set(r)}),a},size:{get:function(){return this.entries.length},set:function(s){return s<this.entries.length?this.entries.length=s:this.entries.length}}});h.exports=c},90881:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(82897),c=e(56694),s=e(84314),a=e(93736),r=new c({initialize:function(l,v,u,d){l===void 0&&(l=0),v===void 0&&(v=l),u===void 0&&(u=0),d===void 0&&(d=null),this._width=l,this._height=v,this._parent=d,this.aspectMode=u,this.aspectRatio=v===0?1:l/v,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new a},setAspectMode:function(o){return o===void 0&&(o=0),this.aspectMode=o,this.setSize(this._width,this._height)},setSnap:function(o,l){return o===void 0&&(o=0),l===void 0&&(l=o),this.snapTo.set(o,l),this.setSize(this._width,this._height)},setParent:function(o){return this._parent=o,this.setSize(this._width,this._height)},setMin:function(o,l){return o===void 0&&(o=0),l===void 0&&(l=o),this.minWidth=f(o,0,this.maxWidth),this.minHeight=f(l,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(o,l){return o===void 0&&(o=Number.MAX_VALUE),l===void 0&&(l=o),this.maxWidth=f(o,this.minWidth,Number.MAX_VALUE),this.maxHeight=f(l,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(o,l){switch(o===void 0&&(o=0),l===void 0&&(l=o),this.aspectMode){case r.NONE:this._width=this.getNewWidth(s(o,this.snapTo.x)),this._height=this.getNewHeight(s(l,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case r.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(s(o,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case r.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(s(l,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case r.FIT:this.constrain(o,l,!0);break;case r.ENVELOP:this.constrain(o,l,!1);break}return this},setAspectRatio:function(o){return this.aspectRatio=o,this.setSize(this._width,this._height)},resize:function(o,l){return this._width=this.getNewWidth(s(o,this.snapTo.x)),this._height=this.getNewHeight(s(l,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(o,l){return l===void 0&&(l=!0),o=f(o,this.minWidth,this.maxWidth),l&&this._parent&&o>this._parent.width&&(o=Math.max(this.minWidth,this._parent.width)),o},getNewHeight:function(o,l){return l===void 0&&(l=!0),o=f(o,this.minHeight,this.maxHeight),l&&this._parent&&o>this._parent.height&&(o=Math.max(this.minHeight,this._parent.height)),o},constrain:function(o,l,v){o===void 0&&(o=0),l===void 0&&(l=o),v===void 0&&(v=!0),o=this.getNewWidth(o),l=this.getNewHeight(l);var u=this.snapTo,d=l===0?1:o/l;return v&&this.aspectRatio>d||!v&&this.aspectRatio<d?(o=s(o,u.x),l=o/this.aspectRatio,u.y>0&&(l=s(l,u.y),o=l*this.aspectRatio)):(v&&this.aspectRatio<d||!v&&this.aspectRatio>d)&&(l=s(l,u.y),o=l*this.aspectRatio,u.x>0&&(o=s(o,u.x),l=o*(1/this.aspectRatio))),this._width=o,this._height=l,this},fitTo:function(o,l){return this.constrain(o,l,!0)},envelop:function(o,l){return this.constrain(o,l,!1)},setWidth:function(o){return this.setSize(o,this._height)},setHeight:function(o){return this.setSize(this._width,o)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(o){o&&o.style&&(o.style.width=this._width+"px",o.style.height=this._height+"px")},copy:function(o){return o.setAspectMode(this.aspectMode),o.aspectRatio=this.aspectRatio,o.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(o){this.setSize(o,this._height)}},height:{get:function(){return this._height},set:function(o){this.setSize(this._width,o)}}});r.NONE=0,r.WIDTH_CONTROLS_HEIGHT=1,r.HEIGHT_CONTROLS_WIDTH=2,r.FIT=3,r.ENVELOP=4,h.exports=r},94160:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="add"},95393:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="remove"},36716:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={PROCESS_QUEUE_ADD:e(94160),PROCESS_QUEUE_REMOVE:e(95393)}},20010:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Events:e(36716),List:e(71207),Map:e(33885),ProcessQueue:e(74623),RTree:e(68687),Set:e(58403),Size:e(90881)}},17487:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(82897),s=e(27119),a=e(86459),r=e(28621),o=e(31673),l=new f({Extends:o,initialize:function(u,d,p,g,x){o.call(this,u,d,p,g,x),this.add("__BASE",0,0,0,g,x),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=g,this.height=x,this.imageData=this.context.getImageData(0,0,g,x),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===a.WEBGL&&this.refresh(),this},draw:function(v,u,d,p){return p===void 0&&(p=!0),this.context.drawImage(d,v,u),p&&this.update(),this},drawFrame:function(v,u,d,p,g){d===void 0&&(d=0),p===void 0&&(p=0),g===void 0&&(g=!0);var x=this.manager.getFrame(v,u);if(x){var T=x.canvasData,S=x.cutWidth,P=x.cutHeight,E=x.source.resolution;this.context.drawImage(x.source.image,T.x,T.y,S,P,d,p,S/E,P/E),g&&this.update()}return this},setPixel:function(v,u,d,p,g,x){x===void 0&&(x=255),v=Math.abs(Math.floor(v)),u=Math.abs(Math.floor(u));var T=this.getIndex(v,u);if(T>-1){var S=this.context.getImageData(v,u,1,1);S.data[0]=d,S.data[1]=p,S.data[2]=g,S.data[3]=x,this.context.putImageData(S,v,u)}return this},putData:function(v,u,d,p,g,x,T){return p===void 0&&(p=0),g===void 0&&(g=0),x===void 0&&(x=v.width),T===void 0&&(T=v.height),this.context.putImageData(v,u,d,p,g,x,T),this},getData:function(v,u,d,p){v=c(Math.floor(v),0,this.width-1),u=c(Math.floor(u),0,this.height-1),d=c(d,1,this.width-v),p=c(p,1,this.height-u);var g=this.context.getImageData(v,u,d,p);return g},getPixel:function(v,u,d){d||(d=new s);var p=this.getIndex(v,u);if(p>-1){var g=this.data,x=g[p+0],T=g[p+1],S=g[p+2],P=g[p+3];d.setTo(x,T,S,P)}return d},getPixels:function(v,u,d,p){v===void 0&&(v=0),u===void 0&&(u=0),d===void 0&&(d=this.width),p===void 0&&(p=d),v=Math.abs(Math.round(v)),u=Math.abs(Math.round(u));for(var g=c(v,0,this.width),x=c(v+d,0,this.width),T=c(u,0,this.height),S=c(u+p,0,this.height),P=new s,E=[],R=T;R<S;R++){for(var A=[],w=g;w<x;w++)P=this.getPixel(w,R,P),A.push({x:w,y:R,color:P.color,alpha:P.alphaGL});E.push(A)}return E},getIndex:function(v,u){return v=Math.abs(Math.round(v)),u=Math.abs(Math.round(u)),v<this.width&&u<this.height?(v+u*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(v,u,d,p,g){return v===void 0&&(v=0),u===void 0&&(u=0),d===void 0&&(d=this.width),p===void 0&&(p=this.height),g===void 0&&(g=!0),this.context.clearRect(v,u,d,p),g&&this.update(),this},setSize:function(v,u){return u===void 0&&(u=v),(v!==this.width||u!==this.height)&&(this.canvas.width=v,this.canvas.height=u,this._source.width=v,this._source.height=u,this._source.isPowerOf2=r(v,u),this.frames.__BASE.setSize(v,u,0,0),this.width=v,this.height=u,this.refresh()),this},destroy:function(){o.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});h.exports=l},845:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(95723),c=e(51052),s=e(61068),a=e(56694),r=e(86459),o=e(82047),l=e(72632),v=e(65641),u=e(37410),d=e(31673),p=e(75512),g=new a({Extends:d,initialize:function(T,S,P,E){P===void 0&&(P=256),E===void 0&&(E=256),this.type="DynamicTexture";var R=T.game.renderer,A=R&&R.type===r.CANVAS,w=A?s.create2D(this,P,E):[this];d.call(this,T,S,w,P,E),this.add("__BASE",0,0,0,P,E),this.renderer=R,this.isDrawing=!1,this.canvas=A?w:null,this.context=A?w.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new c(0,0,P,E).setScene(T.game.scene.systemScene,!1),this.renderTarget=A?null:new u(R,P,E,1,0,!1,!0,!0,!1),this.pipeline=A?null:R.pipelines.get(v.SINGLE_PIPELINE),this.setSize(P,E)},setSize:function(x,T){T===void 0&&(T=x);var S=this.get(),P=S.source;if(x!==this.width||T!==this.height){this.canvas&&(this.canvas.width=x,this.canvas.height=T);var E=this.renderTarget;E&&(E.resize(x,T),S.glTexture=E.texture,P.isRenderTexture=!0,P.isGLTexture=!0,P.glTexture=E.texture,P.glTexture.flipY=!0),this.camera.setSize(x,T),P.width=x,P.height=T,S.setSize(x,T),this.width=x,this.height=T}else{var R=this.getSourceImage();S.cutX+x>R.width&&(x=R.width-S.cutX),S.cutY+T>R.height&&(T=R.height-S.cutY),S.setSize(x,T,S.cutX,S.cutY)}return this},setIsSpriteTexture:function(x){return this.isSpriteTexture=x,this},fill:function(x,T,S,P,E,R){var A=this.camera,w=this.renderer;T===void 0&&(T=1),S===void 0&&(S=0),P===void 0&&(P=0),E===void 0&&(E=this.width),R===void 0&&(R=this.height);var O=x>>16&255,L=x>>8&255,F=x&255,I=this.renderTarget;if(A.preRender(),I){I.bind(!0);var b=this.pipeline.manager.set(this.pipeline),G=w.width/I.width,N=w.height/I.height;b.drawFillRect(S*G,P*N,E*G,R*N,p.getTintFromFloats(F/255,L/255,O/255,1),T),I.unbind(!0)}else{var U=this.context;w.setContext(U),U.globalCompositeOperation="source-over",U.fillStyle="rgba("+O+","+L+","+F+","+T+")",U.fillRect(S,P,E,R),w.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var x=this.context,T=this.renderTarget;T?T.clear():x&&(x.save(),x.setTransform(1,0,0,1,0,0),x.clearRect(0,0,this.width,this.height),x.restore()),this.dirty=!1}return this},stamp:function(x,T,S,P,E){S===void 0&&(S=0),P===void 0&&(P=0);var R=l(E,"alpha",1),A=l(E,"tint",16777215),w=l(E,"angle",0),O=l(E,"rotation",0),L=l(E,"scale",1),F=l(E,"scaleX",L),I=l(E,"scaleY",L),b=l(E,"originX",.5),G=l(E,"originY",.5),N=l(E,"blendMode",0),U=l(E,"erase",!1),Y=l(E,"skipBatch",!1),X=this.manager.resetStamp(R,A);return X.setAngle(0),w!==0?X.setAngle(w):O!==0&&X.setRotation(O),X.setScale(F,I),X.setTexture(x,T),X.setOrigin(b,G),X.setBlendMode(N),U&&(this._eraseMode=!0),Y?this.batchGameObject(X,S,P):this.draw(X,S,P),U&&(this._eraseMode=!1),this},erase:function(x,T,S){return this._eraseMode=!0,this.draw(x,T,S),this._eraseMode=!1,this},draw:function(x,T,S,P,E){return this.beginDraw(),this.batchDraw(x,T,S,P,E),this.endDraw(),this},drawFrame:function(x,T,S,P,E,R){return this.beginDraw(),this.batchDrawFrame(x,T,S,P,E,R),this.endDraw(),this},repeat:function(x,T,S,P,E,R,A,w,O){if(S===void 0&&(S=0),P===void 0&&(P=0),E===void 0&&(E=this.width),R===void 0&&(R=this.height),A===void 0&&(A=1),w===void 0&&(w=16777215),O===void 0&&(O=!1),x instanceof o?T=x:T=this.manager.getFrame(x,T),!T)return this;var L=this.manager.resetStamp(A,w);L.setFrame(T),L.setOrigin(0);var F=T.width,I=T.height;E=Math.floor(E),R=Math.floor(R);var b=Math.ceil(E/F),G=Math.ceil(R/I),N=b*F-E,U=G*I-R;N>0&&(N=F-N),U>0&&(U=I-U),S<0&&(b+=Math.ceil(Math.abs(S)/F)),P<0&&(G+=Math.ceil(Math.abs(P)/I));var Y=S,X=P,B=!1,z=this.manager.stampCrop.setTo(0,0,F,I);O||this.beginDraw();for(var D=0;D<G;D++){if(X+I<0){X+=I;continue}for(var V=0;V<b;V++){if(B=!1,Y+F<0){Y+=F;continue}else Y<0&&(B=!0,z.width=F+Y,z.x=F-z.width);X<0&&(B=!0,z.height=I+X,z.y=I-z.height),N>0&&V===b-1&&(B=!0,z.width=N),U>0&&D===G-1&&(B=!0,z.height=U),B&&L.setCrop(z),this.batchGameObject(L,Y,X),L.isCropped=!1,z.setTo(0,0,F,I),Y+=F}Y=S,X+=I}return O||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var x=this.camera,T=this.renderer,S=this.renderTarget;x.preRender(),S?T.beginCapture(S.width,S.height):T.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(x,T,S,P,E){return Array.isArray(x)||(x=[x]),this.batchList(x,T,S,P,E),this},batchDrawFrame:function(x,T,S,P,E,R){S===void 0&&(S=0),P===void 0&&(P=0),E===void 0&&(E=1),R===void 0&&(R=16777215);var A=this.manager.getFrame(x,T);return A&&(this.renderTarget?this.pipeline.batchTextureFrame(A,S,P,R,E,this.camera.matrix,null):this.batchTextureFrame(A,S,P,E,R)),this},endDraw:function(x){if(x===void 0&&(x=this._eraseMode),this.isDrawing){var T=this.renderer,S=this.renderTarget;if(S){var P=T.endCapture(),E=T.pipelines.setUtility();E.blitFrame(P,S,1,!1,!1,x,this.isSpriteTexture),T.resetScissor(),T.resetViewport()}else T.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(x,T,S,P,E){var R=x.length;if(R!==0)for(var A=0;A<R;A++){var w=x[A];!w||w===this||(w.renderWebGL||w.renderCanvas?this.batchGameObject(w,T,S):w.isParent||w.list?this.batchGroup(w.getChildren(),T,S):typeof w=="string"?this.batchTextureFrameKey(w,null,T,S,P,E):w instanceof o?this.batchTextureFrame(w,T,S,P,E):Array.isArray(w)&&this.batchList(w,T,S,P,E))}},batchGroup:function(x,T,S){T===void 0&&(T=0),S===void 0&&(S=0);for(var P=0;P<x.length;P++){var E=x[P];E.willRender(this.camera)&&this.batchGameObject(E,E.x+T,E.y+S)}},batchGameObject:function(x,T,S){T===void 0&&(T=x.x),S===void 0&&(S=x.y);var P=x.x,E=x.y,R=this.camera,A=this.renderer,w=this._eraseMode,O=x.mask;if(x.setPosition(T,S),this.canvas){if(w){var L=x.blendMode;x.blendMode=f.ERASE}O&&O.preRenderCanvas(A,x,R),x.renderCanvas(A,x,R,null),O&&O.postRenderCanvas(A,x,R),w&&(x.blendMode=L)}else A&&(O&&O.preRenderWebGL(A,x,R),w||A.setBlendMode(x.blendMode),x.renderWebGL(A,x,R),O&&O.postRenderWebGL(A,R,this.renderTarget));x.setPosition(P,E)},batchTextureFrameKey:function(x,T,S,P,E,R){var A=this.manager.getFrame(x,T);A&&this.batchTextureFrame(A,S,P,E,R)},batchTextureFrame:function(x,T,S,P,E){T===void 0&&(T=0),S===void 0&&(S=0),P===void 0&&(P=1),E===void 0&&(E=16777215);var R=this.camera.matrix,A=this.renderTarget;if(A)this.pipeline.batchTextureFrame(x,T,S,E,P,R,null);else{var w=this.context,O=x.canvasData,L=x.source.image;w.save(),w.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",w.globalAlpha=P,R.setToContext(w),O.width>0&&O.height>0&&w.drawImage(L,O.x,O.y,O.width,O.height,T,S,O.width,O.height),w.restore()}},snapshotArea:function(x,T,S,P,E,R,A){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,E,!1,x,T,S,P,R,A):this.renderer.snapshotCanvas(this.canvas,E,!1,x,T,S,P,R,A),this},snapshot:function(x,T,S){return this.snapshotArea(0,0,this.width,this.height,x,T,S)},snapshotPixel:function(x,T,S){return this.snapshotArea(x,T,1,1,S,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(x,T,S,P){var E=this.manager.resetStamp();E.setTexture(this),E.setOrigin(0),E.renderWebGL(x,E,S,P)},renderCanvas:function(){},preDestroy:function(){s.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.stamp.destroy(),this.canvas=null,this.context=null,this.renderer=null,this.scene=null}});h.exports=g},82047:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(82897),s=e(98611),a=new f({initialize:function(o,l,v,u,d,p,g){this.texture=o,this.name=l,this.source=o.source[v],this.sourceIndex=v,this.glTexture=this.source.glTexture,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0}},this.setSize(p,g,u,d)},setSize:function(r,o,l,v){l===void 0&&(l=0),v===void 0&&(v=0),this.cutX=l,this.cutY=v,this.cutWidth=r,this.cutHeight=o,this.width=r,this.height=o,this.halfWidth=Math.floor(r*.5),this.halfHeight=Math.floor(o*.5),this.centerX=Math.floor(r/2),this.centerY=Math.floor(o/2);var u=this.data,d=u.cut;d.x=l,d.y=v,d.w=r,d.h=o,d.r=l+r,d.b=v+o,u.sourceSize.w=r,u.sourceSize.h=o,u.spriteSourceSize.w=r,u.spriteSourceSize.h=o,u.radius=.5*Math.sqrt(r*r+o*o);var p=u.drawImage;return p.x=l,p.y=v,p.width=r,p.height=o,this.updateUVs()},setTrim:function(r,o,l,v,u,d){var p=this.data,g=p.spriteSourceSize;return p.trim=!0,p.sourceSize.w=r,p.sourceSize.h=o,g.x=l,g.y=v,g.w=u,g.h=d,g.r=l+u,g.b=v+d,this.x=l,this.y=v,this.width=u,this.height=d,this.halfWidth=u*.5,this.halfHeight=d*.5,this.centerX=Math.floor(u/2),this.centerY=Math.floor(d/2),this.updateUVs()},setCropUVs:function(r,o,l,v,u,d,p){var g=this.cutX,x=this.cutY,T=this.cutWidth,S=this.cutHeight,P=this.realWidth,E=this.realHeight;o=c(o,0,P),l=c(l,0,E),v=c(v,0,P-o),u=c(u,0,E-l);var R=g+o,A=x+l,w=v,O=u,L=this.data;if(L.trim){var F=L.spriteSourceSize;v=c(v,0,T-o),u=c(u,0,S-l);var I=o+v,b=l+u,G=!(F.r<o||F.b<l||F.x>I||F.y>b);if(G){var N=Math.max(F.x,o),U=Math.max(F.y,l),Y=Math.min(F.r,I)-N,X=Math.min(F.b,b)-U;w=Y,O=X,d?R=g+(T-(N-F.x)-Y):R=g+(N-F.x),p?A=x+(S-(U-F.y)-X):A=x+(U-F.y),o=N,l=U,v=Y,u=X}else R=0,A=0,w=0,O=0}else d&&(R=g+(T-o-v)),p&&(A=x+(S-l-u));var B=this.source.width,z=this.source.height;return r.u0=Math.max(0,R/B),r.v0=Math.max(0,A/z),r.u1=Math.min(1,(R+w)/B),r.v1=Math.min(1,(A+O)/z),r.x=o,r.y=l,r.cx=R,r.cy=A,r.cw=w,r.ch=O,r.width=v,r.height=u,r.flipX=d,r.flipY=p,r},updateCropUVs:function(r,o,l){return this.setCropUVs(r,r.x,r.y,r.width,r.height,o,l)},setUVs:function(r,o,l,v,u,d){var p=this.data.drawImage;return p.width=r,p.height=o,this.u0=l,this.v0=v,this.u1=u,this.v1=d,this},updateUVs:function(){var r=this.cutX,o=this.cutY,l=this.cutWidth,v=this.cutHeight,u=this.data.drawImage;u.width=l,u.height=v;var d=this.source.width,p=this.source.height;return this.u0=r/d,this.v0=o/p,this.u1=(r+l)/d,this.v1=(o+v)/p,this},updateUVsInverted:function(){var r=this.source.width,o=this.source.height;return this.u0=(this.cutX+this.cutHeight)/r,this.v0=this.cutY/o,this.u1=this.cutX/r,this.v1=(this.cutY+this.cutWidth)/o,this},clone:function(){var r=new a(this.texture,this.name,this.sourceIndex);return r.cutX=this.cutX,r.cutY=this.cutY,r.cutWidth=this.cutWidth,r.cutHeight=this.cutHeight,r.x=this.x,r.y=this.y,r.width=this.width,r.height=this.height,r.halfWidth=this.halfWidth,r.halfHeight=this.halfHeight,r.centerX=this.centerX,r.centerY=this.centerY,r.rotated=this.rotated,r.data=s(!0,r.data,this.data),r.updateUVs(),r},destroy:function(){this.source=null,this.texture=null,this.glTexture=null,this.customData=null,this.data=null},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},canvasData:{get:function(){return this.data.drawImage}}});h.exports=a},31673:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(82047),s=e(32547),a='Texture "%s" has no frame "%s"',r=new f({initialize:function(l,v,u,d,p){Array.isArray(u)||(u=[u]),this.manager=l,this.key=v,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var g=0;g<u.length;g++)this.source.push(new s(this,u[g],d,p))},add:function(o,l,v,u,d,p){if(this.has(o))return null;var g=new c(this,o,l,v,u,d,p);return this.frames[o]=g,this.firstFrame==="__BASE"&&(this.firstFrame=o),this.frameTotal++,g},remove:function(o){if(this.has(o)){var l=this.get(o);return l.destroy(),delete this.frames[o],!0}return!1},has:function(o){return this.frames.hasOwnProperty(o)},get:function(o){o||(o=this.firstFrame);var l=this.frames[o];return l||(console.warn(a,this.key,o),l=this.frames[this.firstFrame]),l},getTextureSourceIndex:function(o){for(var l=0;l<this.source.length;l++)if(this.source[l]===o)return l;return-1},getFramesFromTextureSource:function(o,l){l===void 0&&(l=!1);var v=[];for(var u in this.frames)if(!(u==="__BASE"&&!l)){var d=this.frames[u];d.sourceIndex===o&&v.push(d)}return v},getFrameNames:function(o){o===void 0&&(o=!1);var l=Object.keys(this.frames);if(!o){var v=l.indexOf("__BASE");v!==-1&&l.splice(v,1)}return l},getSourceImage:function(o){(o==null||this.frameTotal===1)&&(o="__BASE");var l=this.frames[o];return l?l.source.image:(console.warn(a,this.key,o),this.frames.__BASE.source.image)},getDataSourceImage:function(o){(o==null||this.frameTotal===1)&&(o="__BASE");var l=this.frames[o],v;return l?v=l.sourceIndex:(console.warn(a,this.key,o),v=this.frames.__BASE.sourceIndex),this.dataSource[v].image},setDataSource:function(o){Array.isArray(o)||(o=[o]);for(var l=0;l<o.length;l++){var v=this.source[l];this.dataSource.push(new s(this,o[l],v.width,v.height))}},setFilter:function(o){var l;for(l=0;l<this.source.length;l++)this.source[l].setFilter(o);for(l=0;l<this.dataSource.length;l++)this.dataSource[l].setFilter(o)},destroy:function(){var o,l=this.source,v=this.dataSource;for(o=0;o<l.length;o++)l[o]&&l[o].destroy();for(o=0;o<v.length;o++)v[o]&&v[o].destroy();for(var u in this.frames){var d=this.frames[u];d&&d.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});h.exports=r},6237:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61068),c=e(17487),s=e(56694),a=e(27119),r=e(86459),o=e(845),l=e(6659),v=e(38203),u=e(82047),d=e(97081),p=e(52780),g=e(10850),x=e(1539),T=e(42911),S=e(69150),P=e(74118),E=e(31673),R=new s({Extends:l,initialize:function(w){l.call(this),this.game=w,this.name="TextureManager",this.list={},this._tempCanvas=f.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new P,this.silentWarnings=!1,w.events.once(d.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(v.LOAD,this.updatePending,this),this.on(v.ERROR,this.updatePending,this);var A=this.game.config;this.addBase64("__DEFAULT",A.defaultImage),this.addBase64("__MISSING",A.missingImage),this.addBase64("__WHITE",A.whiteImage),this.game.events.once(d.DESTROY,this.destroy,this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(v.LOAD),this.off(v.ERROR),this.emit(v.READY),this.stamp=new x(this.game.scene.systemScene).setOrigin(0))},checkKey:function(A){return this.exists(A)?(this.silentWarnings||console.error("Texture key already in use: "+A),!1):!0},remove:function(A){if(typeof A=="string")if(this.exists(A))A=this.get(A);else return this.silentWarnings||console.warn("No texture found matching key: "+A),this;return this.list.hasOwnProperty(A.key)&&(A.destroy(),this.emit(v.REMOVE,A.key),this.emit(v.REMOVE_KEY+A.key)),this},removeKey:function(A){return this.list.hasOwnProperty(A)&&delete this.list[A],this},addBase64:function(A,w){if(this.checkKey(A)){var O=this,L=new Image;L.onerror=function(){O.emit(v.ERROR,A)},L.onload=function(){var F=O.create(A,L);S.Image(F,0),O.emit(v.ADD,A,F),O.emit(v.ADD_KEY+A,F),O.emit(v.LOAD,A,F)},L.src=w}return this},getBase64:function(A,w,O,L){O===void 0&&(O="image/png"),L===void 0&&(L=.92);var F="",I=this.getFrame(A,w);if(I&&(I.source.isRenderTexture||I.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(I){var b=I.canvasData,G=f.create2D(this,b.width,b.height),N=G.getContext("2d",{willReadFrequently:!0});b.width>0&&b.height>0&&N.drawImage(I.source.image,b.x,b.y,b.width,b.height,0,0,b.width,b.height),F=G.toDataURL(O,L),f.remove(G)}return F},addImage:function(A,w,O){var L=null;return this.checkKey(A)&&(L=this.create(A,w),S.Image(L,0),O&&L.setDataSource(O),this.emit(v.ADD,A,L),this.emit(v.ADD_KEY+A,L)),L},addGLTexture:function(A,w,O,L){var F=null;return this.checkKey(A)&&(O===void 0&&(O=w.width),L===void 0&&(L=w.height),F=this.create(A,w,O,L),F.add("__BASE",0,0,0,O,L),this.emit(v.ADD,A,F),this.emit(v.ADD_KEY+A,F)),F},addCompressedTexture:function(A,w,O){var L=null;if(this.checkKey(A)){if(L=this.create(A,w),L.add("__BASE",0,0,0,w.width,w.height),O)if(Array.isArray(O))for(var F=0;F<O.length;F++)S.JSONHash(L,F,O[F]);else S.JSONHash(L,0,O);this.emit(v.ADD,A,L),this.emit(v.ADD_KEY+A,L)}return L},addRenderTexture:function(A,w){var O=null;return this.checkKey(A)&&(O=this.create(A,w),O.add("__BASE",0,0,0,w.width,w.height),this.emit(v.ADD,A,O),this.emit(v.ADD_KEY+A,O)),O},generate:function(A,w){if(this.checkKey(A)){var O=f.create(this,1,1);return w.canvas=O,p(w),this.addCanvas(A,O)}else return null},createCanvas:function(A,w,O){if(w===void 0&&(w=256),O===void 0&&(O=256),this.checkKey(A)){var L=f.create(this,w,O,r.CANVAS,!0);return this.addCanvas(A,L)}return null},addCanvas:function(A,w,O){O===void 0&&(O=!1);var L=null;return O?L=new c(this,A,w,w.width,w.height):this.checkKey(A)&&(L=new c(this,A,w,w.width,w.height),this.list[A]=L,this.emit(v.ADD,A,L),this.emit(v.ADD_KEY+A,L)),L},addDynamicTexture:function(A,w,O){var L=null;return typeof A=="string"&&!this.exists(A)?L=new o(this,A,w,O):(L=A,A=L.key),this.checkKey(A)?(this.list[A]=L,this.emit(v.ADD,A,L),this.emit(v.ADD_KEY+A,L)):L=null,L},addAtlas:function(A,w,O,L){return Array.isArray(O.textures)||Array.isArray(O.frames)?this.addAtlasJSONArray(A,w,O,L):this.addAtlasJSONHash(A,w,O,L)},addAtlasJSONArray:function(A,w,O,L){var F=null;if(w instanceof E?(A=F.key,F=w):this.checkKey(A)&&(F=this.create(A,w)),F){if(Array.isArray(O))for(var I=O.length===1,b=0;b<F.source.length;b++){var G=I?O[0]:O[b];S.JSONArray(F,b,G)}else S.JSONArray(F,0,O);L&&F.setDataSource(L),this.emit(v.ADD,A,F),this.emit(v.ADD_KEY+A,F)}return F},addAtlasJSONHash:function(A,w,O,L){var F=null;if(w instanceof E?(A=F.key,F=w):this.checkKey(A)&&(F=this.create(A,w)),F){if(Array.isArray(O))for(var I=0;I<O.length;I++)S.JSONHash(F,I,O[I]);else S.JSONHash(F,0,O);L&&F.setDataSource(L),this.emit(v.ADD,A,F),this.emit(v.ADD_KEY+A,F)}return F},addAtlasXML:function(A,w,O,L){var F=null;return w instanceof E?(A=F.key,F=w):this.checkKey(A)&&(F=this.create(A,w)),F&&(S.AtlasXML(F,0,O),L&&F.setDataSource(L),this.emit(v.ADD,A,F),this.emit(v.ADD_KEY+A,F)),F},addUnityAtlas:function(A,w,O,L){var F=null;return w instanceof E?(A=F.key,F=w):this.checkKey(A)&&(F=this.create(A,w)),F&&(S.UnityYAML(F,0,O),L&&F.setDataSource(L),this.emit(v.ADD,A,F),this.emit(v.ADD_KEY+A,F)),F},addSpriteSheet:function(A,w,O,L){var F=null;if(w instanceof E?(A=F.key,F=w):this.checkKey(A)&&(F=this.create(A,w)),F){var I=F.source[0].width,b=F.source[0].height;S.SpriteSheet(F,0,0,0,I,b,O),L&&F.setDataSource(L),this.emit(v.ADD,A,F),this.emit(v.ADD_KEY+A,F)}return F},addSpriteSheetFromAtlas:function(A,w){if(!this.checkKey(A))return null;var O=g(w,"atlas",null),L=g(w,"frame",null);if(!(!O||!L)){var F=this.get(O),I=F.get(L);if(I){var b=this.create(A,I.source.image);return I.trimmed?S.SpriteSheetFromAtlas(b,I,w):S.SpriteSheet(b,0,I.cutX,I.cutY,I.cutWidth,I.cutHeight,w),this.emit(v.ADD,A,b),this.emit(v.ADD_KEY+A,b),b}}},create:function(A,w,O,L){var F=null;return this.checkKey(A)&&(F=new E(this,A,w,O,L),this.list[A]=F),F},exists:function(A){return this.list.hasOwnProperty(A)},get:function(A){return A===void 0&&(A="__DEFAULT"),this.list[A]?this.list[A]:A instanceof E?A:A instanceof u?A.texture:this.list.__MISSING},cloneFrame:function(A,w){if(this.list[A])return this.list[A].get(w).clone()},getFrame:function(A,w){if(this.list[A])return this.list[A].get(w)},parseFrame:function(A){if(A){if(typeof A=="string")return this.getFrame(A);if(Array.isArray(A)&&A.length===2)return this.getFrame(A[0],A[1]);if(T(A))return this.getFrame(A.key,A.frame);if(A instanceof E)return A.get();if(A instanceof u)return A}else return},getTextureKeys:function(){var A=[];for(var w in this.list)w!=="__DEFAULT"&&w!=="__MISSING"&&w!=="__WHITE"&&A.push(w);return A},getPixel:function(A,w,O,L){var F=this.getFrame(O,L);if(F){A-=F.x,w-=F.y;var I=F.data.cut;if(A+=I.x,w+=I.y,A>=I.x&&A<I.r&&w>=I.y&&w<I.b){var b=this._tempContext;b.clearRect(0,0,1,1),b.drawImage(F.source.image,A,w,1,1,0,0,1,1);var G=b.getImageData(0,0,1,1);return new a(G.data[0],G.data[1],G.data[2],G.data[3])}}return null},getPixelAlpha:function(A,w,O,L){var F=this.getFrame(O,L);if(F){A-=F.x,w-=F.y;var I=F.data.cut;if(A+=I.x,w+=I.y,A>=I.x&&A<I.r&&w>=I.y&&w<I.b){var b=this._tempContext;b.clearRect(0,0,1,1),b.drawImage(F.source.image,A,w,1,1,0,0,1,1);var G=b.getImageData(0,0,1,1);return G.data[3]}}return null},setTexture:function(A,w,O){return this.list[w]&&(A.texture=this.list[w],A.frame=A.texture.get(O)),A},renameTexture:function(A,w){var O=this.get(A);return O&&A!==w?(O.key=w,this.list[w]=O,delete this.list[A],!0):!1},each:function(A,w){for(var O=[null],L=1;L<arguments.length;L++)O.push(arguments[L]);for(var F in this.list)O[0]=this.list[F],A.apply(w,O)},resetStamp:function(A,w){A===void 0&&(A=1),w===void 0&&(w=16777215);var O=this.stamp;return O.setCrop(),O.setPosition(0),O.setAngle(0),O.setScale(1),O.setAlpha(A),O.setTint(w),O},destroy:function(){for(var A in this.list)this.list[A].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,f.remove(this._tempCanvas)}});h.exports=R},32547:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61068),c=e(56694),s=e(28621),a=e(27394),r=new c({initialize:function(l,v,u,d,p){p===void 0&&(p=!1);var g=l.manager.game;this.renderer=g.renderer,this.texture=l,this.source=v,this.image=v.compressed?null:v,this.compressionAlgorithm=v.compressed?v.format:null,this.resolution=1,this.width=u||v.naturalWidth||v.videoWidth||v.width||0,this.height=d||v.naturalHeight||v.videoHeight||v.height||0,this.scaleMode=a.DEFAULT,this.isCanvas=v instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&v instanceof HTMLVideoElement,this.isRenderTexture=v.type==="RenderTexture"||v.type==="DynamicTexture",this.isGLTexture=window.hasOwnProperty("WebGLTexture")&&v instanceof WebGLTexture,this.isPowerOf2=s(this.width,this.height),this.glTexture=null,this.flipY=p,this.init(g)},init:function(o){var l=this.renderer;if(l){var v=this.source;if(l.gl){var u=this.image,d=this.flipY,p=this.width,g=this.height,x=this.scaleMode;this.isCanvas?this.glTexture=l.createCanvasTexture(u,!1,d):this.isVideo?this.glTexture=l.createVideoTexture(u,!1,d):this.isRenderTexture?this.glTexture=l.createTextureFromSource(null,p,g,x):this.isGLTexture?this.glTexture=v:this.compressionAlgorithm?this.glTexture=l.createTextureFromSource(v):this.glTexture=l.createTextureFromSource(u,p,g,x)}else this.isRenderTexture&&(this.image=v.canvas)}o.config.antialias||this.setFilter(1)},setFilter:function(o){this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,o),this.scaleMode=o},setFlipY:function(o){return o===void 0&&(o=!0),this.flipY=o,this},update:function(){var o=this.renderer,l=this.image,v=this.flipY,u=o.gl;u&&this.isCanvas?this.glTexture=o.updateCanvasTexture(l,this.glTexture,v):u&&this.isVideo&&(this.glTexture=o.updateVideoTexture(l,this.glTexture,v))},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture,!0),this.isCanvas&&f.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});h.exports=r},65154:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={LINEAR:0,NEAREST:1};h.exports=y},49644:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="addtexture"},29569:h=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="addtexture-"},60079:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="onerror"},72665:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="onload"},93006:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="ready"},69018:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="removetexture"},85549:h=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="removetexture-"},38203:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={ADD:e(49644),ADD_KEY:e(29569),ERROR:e(60079),LOAD:e(72665),READY:e(93006),REMOVE:e(69018),REMOVE_KEY:e(85549)}},87499:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(98611),c=e(65154),s={CanvasTexture:e(17487),DynamicTexture:e(845),Events:e(38203),FilterMode:c,Frame:e(82047),Parsers:e(69150),Texture:e(31673),TextureManager:e(6237),TextureSource:e(32547)};s=f(!1,s,c),h.exports=s},35082:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){if(!c.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var s=e.source[f];e.add("__BASE",f,0,0,s.width,s.height);for(var a=c.getElementsByTagName("SubTexture"),r,o=0;o<a.length;o++){var l=a[o].attributes,v=l.name.value,u=parseInt(l.x.value,10),d=parseInt(l.y.value,10),p=parseInt(l.width.value,10),g=parseInt(l.height.value,10);if(r=e.add(v,f,u,d,p,g),l.frameX){var x=Math.abs(parseInt(l.frameX.value,10)),T=Math.abs(parseInt(l.frameY.value,10)),S=parseInt(l.frameWidth.value,10),P=parseInt(l.frameHeight.value,10);r.setTrim(p,g,x,T,S,P)}}return e};h.exports=y},83332:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){var c=e.source[f];return e.add("__BASE",f,0,0,c.width,c.height),e};h.exports=y},21560:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){var c=e.source[f];return e.add("__BASE",f,0,0,c.width,c.height),e};h.exports=y},64423:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(32742),c=function(s,a,r){if(!r.frames&&!r.textures){console.warn("Invalid Texture Atlas JSON Array");return}var o=s.source[a];s.add("__BASE",a,0,0,o.width,o.height);for(var l=Array.isArray(r.textures)?r.textures[a].frames:r.frames,v,u=0;u<l.length;u++){var d=l[u];if(v=s.add(d.filename,a,d.frame.x,d.frame.y,d.frame.w,d.frame.h),!v){console.warn("Invalid atlas json, frame already exists: "+d.filename);continue}d.trimmed&&v.setTrim(d.sourceSize.w,d.sourceSize.h,d.spriteSourceSize.x,d.spriteSourceSize.y,d.spriteSourceSize.w,d.spriteSourceSize.h),d.rotated&&(v.rotated=!0,v.updateUVsInverted());var p=d.anchor||d.pivot;p&&(v.customPivot=!0,v.pivotX=p.x,v.pivotY=p.y),v.customData=f(d)}for(var g in r)g!=="frames"&&(Array.isArray(r[g])?s.customData[g]=r[g].slice(0):s.customData[g]=r[g]);return s};h.exports=c},17264:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(32742),c=function(s,a,r){if(!r.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var o=s.source[a];s.add("__BASE",a,0,0,o.width,o.height);var l=r.frames,v;for(var u in l)if(l.hasOwnProperty(u)){var d=l[u];if(v=s.add(u,a,d.frame.x,d.frame.y,d.frame.w,d.frame.h),!v){console.warn("Invalid atlas json, frame already exists: "+u);continue}d.trimmed&&v.setTrim(d.sourceSize.w,d.sourceSize.h,d.spriteSourceSize.x,d.spriteSourceSize.y,d.spriteSourceSize.w,d.spriteSourceSize.h),d.rotated&&(v.rotated=!0,v.updateUVsInverted());var p=d.anchor||d.pivot;p&&(v.customPivot=!0,v.pivotX=p.x,v.pivotY=p.y),v.customData=f(d)}for(var g in r)g!=="frames"&&(Array.isArray(r[g])?s.customData[g]=r[g].slice(0):s.customData[g]=r[g]);return s};h.exports=c},67409:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){var f=[171,75,84,88,32,49,49,187,13,10,26,10],c,s=new Uint8Array(e,0,12);for(c=0;c<s.length;c++)if(s[c]!==f[c]){console.warn("KTXParser - Invalid file format");return}var a=Uint32Array.BYTES_PER_ELEMENT,r=new DataView(e,12,13*a),o=r.getUint32(0,!0)===67305985,l=r.getUint32(1*a,o);if(l!==0){console.warn("KTXParser - Only compressed formats supported");return}var v=r.getUint32(4*a,o),u=r.getUint32(6*a,o),d=r.getUint32(7*a,o),p=Math.max(1,r.getUint32(11*a,o)),g=r.getUint32(12*a,o),x=new Array(p),T=12+13*4+g,S=u,P=d;for(c=0;c<p;c++){var E=new Int32Array(e,T,1)[0];T+=4,x[c]={data:new Uint8Array(e,T,E),width:S,height:P},S=Math.max(1,S>>1),P=Math.max(1,P>>1),T+=E}return{mipmaps:x,width:u,height:d,internalFormat:v,compressed:!0,generateMipmap:!1}};h.exports=y},24904:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(A,w,O,L,F,I,b){return b===void 0&&(b=16),Math.floor((A+O)/F)*Math.floor((w+L)/I)*b}function e(A,w){return A=Math.max(A,16),w=Math.max(w,8),A*w/4}function f(A,w){return A=Math.max(A,8),w=Math.max(w,8),A*w/2}function c(A,w){return y(A,w,3,3,4,4,8)}function s(A,w){return y(A,w,3,3,4,4)}function a(A,w){return y(A,w,4,3,5,4)}function r(A,w){return y(A,w,4,4,5,5)}function o(A,w){return y(A,w,5,4,6,5)}function l(A,w){return y(A,w,5,5,6,6)}function v(A,w){return y(A,w,7,4,8,5)}function u(A,w){return y(A,w,7,5,8,6)}function d(A,w){return y(A,w,7,7,8,8)}function p(A,w){return y(A,w,9,4,10,5)}function g(A,w){return y(A,w,9,5,10,6)}function x(A,w){return y(A,w,9,7,10,8)}function T(A,w){return y(A,w,9,9,10,10)}function S(A,w){return y(A,w,11,9,12,10)}function P(A,w){return y(A,w,11,11,12,12)}var E={0:{sizeFunc:e,glFormat:35841},1:{sizeFunc:e,glFormat:35843},2:{sizeFunc:f,glFormat:35840},3:{sizeFunc:f,glFormat:35842},6:{sizeFunc:c,glFormat:36196},7:{sizeFunc:c,glFormat:33776},8:{sizeFunc:s,glFormat:33777},9:{sizeFunc:s,glFormat:33778},11:{sizeFunc:s,glFormat:33779},22:{sizeFunc:c,glFormat:37492},23:{sizeFunc:s,glFormat:37496},24:{sizeFunc:c,glFormat:37494},25:{sizeFunc:c,glFormat:37488},26:{sizeFunc:s,glFormat:37490},27:{sizeFunc:s,glFormat:37808},28:{sizeFunc:a,glFormat:37809},29:{sizeFunc:r,glFormat:37810},30:{sizeFunc:o,glFormat:37811},31:{sizeFunc:l,glFormat:37812},32:{sizeFunc:v,glFormat:37813},33:{sizeFunc:u,glFormat:37814},34:{sizeFunc:d,glFormat:37815},35:{sizeFunc:p,glFormat:37816},36:{sizeFunc:g,glFormat:37817},37:{sizeFunc:x,glFormat:37818},38:{sizeFunc:T,glFormat:37819},39:{sizeFunc:S,glFormat:37820},40:{sizeFunc:P,glFormat:37821}},R=function(A){for(var w=new Uint32Array(A,0,13),O=w[2],L=E[O].glFormat,F=E[O].sizeFunc,I=w[11],b=w[7],G=w[6],N=52+w[12],U=new Uint8Array(A,N),Y=new Array(I),X=0,B=b,z=G,D=0;D<I;D++){var V=F(B,z);Y[D]={data:new Uint8Array(U.buffer,U.byteOffset+X,V),width:B,height:z},B=Math.max(1,B>>1),z=Math.max(1,z>>1),X+=V}return{mipmaps:Y,width:b,height:G,internalFormat:L,compressed:!0,generateMipmap:!1}};h.exports=R},6143:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72632),c=function(s,a,r,o,l,v,u){var d=f(u,"frameWidth",null),p=f(u,"frameHeight",d);if(d===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var g=s.source[a];s.add("__BASE",a,0,0,g.width,g.height);var x=f(u,"startFrame",0),T=f(u,"endFrame",-1),S=f(u,"margin",0),P=f(u,"spacing",0),E=Math.floor((l-S+P)/(d+P)),R=Math.floor((v-S+P)/(p+P)),A=E*R;A===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",s.key),(x>A||x<-A)&&(x=0),x<0&&(x=A+x),(T===-1||T>A||T<x)&&(T=A);for(var w=S,O=S,L=0,F=0,I=0,b=0;b<A;b++){L=0,F=0;var G=w+d,N=O+p;G>l&&(L=G-l),N>v&&(F=N-v),b>=x&&b<=T&&(s.add(I,a,r+w,o+O,d-L,p-F),I++),w+=d+P,w+d>l&&(w=S,O+=p+P)}return s};h.exports=c},20030:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72632),c=function(s,a,r){var o=f(r,"frameWidth",null),l=f(r,"frameHeight",o);if(!o)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var v=s.source[0];s.add("__BASE",0,0,0,v.width,v.height),f(r,"startFrame",0),f(r,"endFrame",-1);for(var u=f(r,"margin",0),d=f(r,"spacing",0),p=a.cutX,g=a.cutY,x=a.cutWidth,T=a.cutHeight,S=a.realWidth,P=a.realHeight,E=Math.floor((S-u+d)/(o+d)),R=Math.floor((P-u+d)/(l+d)),A=a.x,w=o-A,O=o-(S-x-A),L=a.y,F=l-L,I=l-(P-T-L),b,G=u,N=u,U=0,Y=0,X=0;X<R;X++){for(var B=X===0,z=X===R-1,D=0;D<E;D++){var V=D===0,k=D===E-1;if(b=s.add(U,Y,p+G,g+N,o,l),V||B||k||z){var W=V?A:0,H=B?L:0,$=0,K=0;V&&($+=o-w),k&&($+=o-O),B&&(K+=l-F),z&&(K+=l-I);var j=o-$,Z=l-K;b.cutWidth=j,b.cutHeight=Z,b.setTrim(o,l,W,H,j,Z)}G+=d,V?G+=w:k?G+=O:G+=o,U++}G=u,N+=d,B?N+=F:z?N+=I:N+=l}return s};h.exports=c},89187:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=0,e=function(c,s,a,r){var o=y-r.y-r.height;c.add(a,s,r.x,o,r.width,r.height)},f=function(c,s,a){var r=c.source[s];c.add("__BASE",s,0,0,r.width,r.height),y=r.height;for(var o=a.split(`
`),l=/^[ ]*(- )*(\w+)+[: ]+(.*)/,v="",u="",d={x:0,y:0,width:0,height:0},p=0;p<o.length;p++){var g=o[p].match(l);if(g){var x=g[1]==="- ",T=g[2],S=g[3];if(x&&(u!==v&&(e(c,s,u,d),v=u),d={x:0,y:0,width:0,height:0}),T==="name"){u=S;continue}switch(T){case"x":case"y":case"width":case"height":d[T]=parseInt(S,10);break}}}return u!==v&&e(c,s,u,d),c};h.exports=f},69150:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={AtlasXML:e(35082),Canvas:e(83332),Image:e(21560),JSONArray:e(64423),JSONHash:e(17264),KTXParser:e(67409),PVRParser:e(24904),SpriteSheet:e(6143),SpriteSheetFromAtlas:e(20030),UnityYAML:e(89187)}},93560:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},97042:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=new f({initialize:function(a,r,o,l,v,u,d){(o===void 0||o<=0)&&(o=32),(l===void 0||l<=0)&&(l=32),v===void 0&&(v=0),u===void 0&&(u=0),this.name=a,this.firstgid=r|0,this.imageWidth=o|0,this.imageHeight=l|0,this.imageMargin=v|0,this.imageSpacing=u|0,this.properties=d||{},this.images=[],this.total=0},containsImageIndex:function(s){return s>=this.firstgid&&s<this.firstgid+this.total},addImage:function(s,a){return this.images.push({gid:s,image:a}),this.total++,this}});h.exports=c},46422:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=new f({initialize:function(a){if(this.gids=[],a!==void 0)for(var r=0;r<a.length;++r)for(var o=a[r],l=0;l<o.total;++l)this.gids[o.firstgid+l]=o;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(s){this.gids=s?this._gids:void 0}},getTypeIncludingTile:function(s){if(s.type!==void 0&&s.type!=="")return s.type;if(!(!this.gids||s.gid===void 0)){var a=this.gids[s.gid];if(a){var r=a.getTileData(s.gid);if(r)return r.type}}},setTextureAndFrame:function(s,a,r,o){if(a===null&&this.gids&&o.gid!==void 0){var l=this.gids[o.gid];l&&(a===null&&l.image!==void 0&&(a=l.image.key),r===null&&(r=o.gid-l.firstgid),s.scene.textures.getFrame(a,r)||(a=null,r=null))}s.setTexture(a,r)},setPropertiesFromTiledObject:function(s,a){if(this.gids!==void 0&&a.gid!==void 0){var r=this.gids[a.gid];r!==void 0&&this.setFromJSON(s,r.getTileProperties(a.gid))}this.setFromJSON(s,a.properties)},setFromJSON:function(s,a){if(a){if(Array.isArray(a)){a.forEach(function(o){s.setData(o.name,o.value)});return}for(var r in a)s[r]!==void 0?s[r]=a[r]:s.setData(r,a[r])}}});h.exports=c},15043:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(93560),c=e(16586),s=e(90715),a=e(89797),r=function(o,l,v,u,d,p,g,x){v===void 0&&(v=32),u===void 0&&(u=32),d===void 0&&(d=10),p===void 0&&(p=10),x===void 0&&(x=!1);var T=null;if(Array.isArray(g)){var S=l!==void 0?l:"map";T=s(S,f.ARRAY_2D,g,v,u,x)}else if(l!==void 0){var P=o.cache.tilemap.get(l);P?T=s(l,P.format,P.data,v,u,x):console.warn("No map data found for key "+l)}return T===null&&(T=new c({tileWidth:v,tileHeight:u,width:d,height:p})),new a(o,T)};h.exports=r},29633:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(64937),s=e(12920),a=e(28699),r=e(66658),o=new f({Mixins:[c.Alpha,c.Flip,c.Visible],initialize:function(v,u,d,p,g,x,T,S){this.layer=v,this.index=u,this.x=d,this.y=p,this.width=g,this.height=x,this.right,this.bottom,this.baseWidth=T!==void 0?T:g,this.baseHeight=S!==void 0?S:x,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.physics={}},containsPoint:function(l,v){return!(l<this.pixelX||v<this.pixelY||l>this.right||v>this.bottom)},copy:function(l){return this.index=l.index,this.alpha=l.alpha,this.properties=a(l.properties),this.visible=l.visible,this.setFlip(l.flipX,l.flipY),this.tint=l.tint,this.rotation=l.rotation,this.collideUp=l.collideUp,this.collideDown=l.collideDown,this.collideLeft=l.collideLeft,this.collideRight=l.collideRight,this.collisionCallback=l.collisionCallback,this.collisionCallbackContext=l.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(l){var v=this.tilemapLayer;if(v){var u=v.tileToWorldXY(this.x,this.y,void 0,l);return u.x}return this.x*this.baseWidth},getRight:function(l){var v=this.tilemapLayer;return v?this.getLeft(l)+this.width*v.scaleX:this.getLeft(l)+this.width},getTop:function(l){var v=this.tilemapLayer;if(v){var u=v.tileToWorldXY(this.x,this.y,void 0,l);return u.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(l){var v=this.tilemapLayer;return v?this.getTop(l)+this.height*v.scaleY:this.getTop(l)+this.height},getBounds:function(l,v){return v===void 0&&(v=new r),v.x=this.getLeft(l),v.y=this.getTop(l),v.width=this.getRight(l)-v.x,v.height=this.getBottom(l)-v.y,v},getCenterX:function(l){return(this.getLeft(l)+this.getRight(l))/2},getCenterY:function(l){return(this.getTop(l)+this.getBottom(l))/2},intersects:function(l,v,u,d){return!(u<=this.pixelX||d<=this.pixelY||l>=this.right||v>=this.bottom)},isInteresting:function(l,v){return l&&v?this.canCollide||this.hasInterestingFace:l?this.collides:v?this.hasInterestingFace:!1},resetCollision:function(l){if(l===void 0&&(l=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,l){var v=this.tilemapLayer;v&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(l,v,u,d,p){if(v===void 0&&(v=l),u===void 0&&(u=l),d===void 0&&(d=l),p===void 0&&(p=!0),this.collideLeft=l,this.collideRight=v,this.collideUp=u,this.collideDown=d,this.faceLeft=l,this.faceRight=v,this.faceTop=u,this.faceBottom=d,p){var g=this.tilemapLayer;g&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(l,v){return l===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=l,this.collisionCallbackContext=v),this},setSize:function(l,v,u,d){return l!==void 0&&(this.width=l),v!==void 0&&(this.height=v),u!==void 0&&(this.baseWidth=u),d!==void 0&&(this.baseHeight=d),this.updatePixelXY(),this},updatePixelXY:function(){var l=this.layer.orientation;if(l===s.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(l===s.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(l===s.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(l===s.HEXAGONAL){var v=this.layer.staggerAxis,u=this.layer.staggerIndex,d=this.layer.hexSideLength,p,g;v==="y"?(g=(this.baseHeight-d)/2+d,u==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*g):v==="x"&&(p=(this.baseWidth-d)/2+d,this.pixelX=this.x*p,u==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var l=this.layer.tilemapLayer;if(l){var v=l.gidMap[this.index];if(v)return v}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var l=this.tilemapLayer;return l?l.tilemap:null}}});h.exports=o},89797:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(14556),c=e(56694),s=e(75606),a=e(93560),r=e(72632),o=e(94990),l=e(46422),v=e(12920),u=e(52257),d=e(72677),p=e(13747),g=e(29633),x=e(5047),T=e(87177),S=e(47975),P=new c({initialize:function(R,A){this.scene=R,this.tileWidth=A.tileWidth,this.tileHeight=A.tileHeight,this.width=A.width,this.height=A.height,this.orientation=A.orientation,this.renderOrder=A.renderOrder,this.format=A.format,this.version=A.version,this.properties=A.properties,this.widthInPixels=A.widthInPixels,this.heightInPixels=A.heightInPixels,this.imageCollections=A.imageCollections,this.images=A.images,this.layers=A.layers,this.tiles=A.tiles,this.tilesets=A.tilesets,this.objects=A.objects,this.currentLayerIndex=0,this.hexSideLength=A.hexSideLength;var w=this.orientation;this._convert={WorldToTileXY:x.GetWorldToTileXYFunction(w),WorldToTileX:x.GetWorldToTileXFunction(w),WorldToTileY:x.GetWorldToTileYFunction(w),TileToWorldXY:x.GetTileToWorldXYFunction(w),TileToWorldX:x.GetTileToWorldXFunction(w),TileToWorldY:x.GetTileToWorldYFunction(w),GetTileCorners:x.GetTileCornersFunction(w)}},setRenderOrder:function(E){var R=["right-down","left-down","right-up","left-up"];return typeof E=="number"&&(E=R[E]),R.indexOf(E)>-1&&(this.renderOrder=E),this},addTilesetImage:function(E,R,A,w,O,L,F,I){if(E===void 0)return null;if(R==null&&(R=E),!this.scene.sys.textures.exists(R))return console.warn("Invalid Tileset Image: "+R),null;var b=this.scene.sys.textures.get(R),G=this.getTilesetIndex(E);if(G===null&&this.format===a.TILED_JSON)return console.warn("No data found for Tileset: "+E),null;var N=this.tilesets[G];return N?(N.setTileSize(A,w),N.setSpacing(O,L),N.setImage(b),N):(A===void 0&&(A=this.tileWidth),w===void 0&&(w=this.tileHeight),O===void 0&&(O=0),L===void 0&&(L=0),F===void 0&&(F=0),I===void 0&&(I={x:0,y:0}),N=new S(E,F,A,w,O,L,void 0,void 0,I),N.setImage(b),this.tilesets.push(N),this.tiles=f(this),N)},copy:function(E,R,A,w,O,L,F,I){return I=this.getLayer(I),I!==null?(x.Copy(E,R,A,w,O,L,F,I),this):null},createBlankLayer:function(E,R,A,w,O,L,F,I){A===void 0&&(A=0),w===void 0&&(w=0),O===void 0&&(O=this.width),L===void 0&&(L=this.height),F===void 0&&(F=this.tileWidth),I===void 0&&(I=this.tileHeight);var b=this.getLayerIndex(E);if(b!==null)return console.warn("Invalid Tilemap Layer ID: "+E),null;for(var G=new o({name:E,tileWidth:F,tileHeight:I,width:O,height:L,orientation:this.orientation}),N,U=0;U<L;U++){N=[];for(var Y=0;Y<O;Y++)N.push(new g(G,-1,Y,U,F,I,this.tileWidth,this.tileHeight));G.data.push(N)}this.layers.push(G),this.currentLayerIndex=this.layers.length-1;var X=new T(this.scene,this,this.currentLayerIndex,R,A,w);return X.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(X),X},createLayer:function(E,R,A,w){var O=this.getLayerIndex(E);if(O===null)return console.warn("Invalid Tilemap Layer ID: "+E),typeof E=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var L=this.layers[O];if(L.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+E),null;this.currentLayerIndex=O,A===void 0&&(A=L.x),w===void 0&&(w=L.y);var F=new T(this.scene,this,O,R,A,w);return F.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(F),F},createFromObjects:function(E,R,A){A===void 0&&(A=!0);var w=[],O=this.getObjectLayer(E);if(!O)return console.warn("createFromObjects: Invalid objectLayerName given: "+E),w;var L=new l(A?this.tilesets:void 0);Array.isArray(R)||(R=[R]);for(var F=O.objects,I=0;I<R.length;I++){var b=R[I],G=r(b,"id",null),N=r(b,"gid",null),U=r(b,"name",null),Y=r(b,"type",null);L.enabled=!r(b,"ignoreTileset",null);for(var X,B=[],z=0;z<F.length;z++)X=F[z],(G===null&&N===null&&U===null&&Y===null||G!==null&&X.id===G||N!==null&&X.gid===N||U!==null&&X.name===U||Y!==null&&L.getTypeIncludingTile(X)===Y)&&B.push(X);for(var D=r(b,"classType",p),V=r(b,"scene",this.scene),k=r(b,"container",null),W=r(b,"key",null),H=r(b,"frame",null),$=0;$<B.length;$++){X=B[$];var K=new D(V);if(K.setName(X.name),K.setPosition(X.x,X.y),L.setTextureAndFrame(K,W,H,X),X.width&&(K.displayWidth=X.width),X.height&&(K.displayHeight=X.height),this.orientation===v.ISOMETRIC){var j=this.tileWidth/this.tileHeight,Z={x:K.x-K.y,y:(K.x+K.y)/j};K.x=Z.x,K.y=Z.y}var J={x:K.originX*X.width,y:(K.originY-(X.gid?1:0))*X.height};if(X.rotation){var Q=s(X.rotation);u(J,Q),K.rotation=Q}K.x+=J.x,K.y+=J.y,(X.flippedHorizontal!==void 0||X.flippedVertical!==void 0)&&K.setFlip(X.flippedHorizontal,X.flippedVertical),X.visible||(K.visible=!1),L.setPropertiesFromTiledObject(K,X),k?k.add(K):V.add.existing(K),w.push(K)}}return w},createFromTiles:function(E,R,A,w,O,L){return L=this.getLayer(L),L===null?null:x.CreateFromTiles(E,R,A,w,O,L)},fill:function(E,R,A,w,O,L,F){return L===void 0&&(L=!0),F=this.getLayer(F),F===null?null:(x.Fill(E,R,A,w,O,L,F),this)},filterObjects:function(E,R,A){if(typeof E=="string"){var w=E;if(E=this.getObjectLayer(E),!E)return console.warn("No object layer found with the name: "+w),null}return E.objects.filter(R,A)},filterTiles:function(E,R,A,w,O,L,F,I){return I=this.getLayer(I),I===null?null:x.FilterTiles(E,R,A,w,O,L,F,I)},findByIndex:function(E,R,A,w){return w=this.getLayer(w),w===null?null:x.FindByIndex(E,R,A,w)},findObject:function(E,R,A){if(typeof E=="string"){var w=E;if(E=this.getObjectLayer(E),!E)return console.warn("No object layer found with the name: "+w),null}return E.objects.find(R,A)||null},findTile:function(E,R,A,w,O,L,F,I){return I=this.getLayer(I),I===null?null:x.FindTile(E,R,A,w,O,L,F,I)},forEachTile:function(E,R,A,w,O,L,F,I){return I=this.getLayer(I),I===null?null:(x.ForEachTile(E,R,A,w,O,L,F,I),this)},getImageIndex:function(E){return this.getIndex(this.images,E)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(E){return E.name})},getIndex:function(E,R){for(var A=0;A<E.length;A++)if(E[A].name===R)return A;return null},getLayer:function(E){var R=this.getLayerIndex(E);return R!==null?this.layers[R]:null},getObjectLayer:function(E){var R=this.getIndex(this.objects,E);return R!==null?this.objects[R]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(E){return E.name})},getLayerIndex:function(E){return E===void 0?this.currentLayerIndex:typeof E=="string"?this.getLayerIndexByName(E):typeof E=="number"&&E<this.layers.length?E:E instanceof T&&E.tilemap===this?E.layerIndex:null},getLayerIndexByName:function(E){return this.getIndex(this.layers,E)},getTileAt:function(E,R,A,w){return w=this.getLayer(w),w===null?null:x.GetTileAt(E,R,A,w)},getTileAtWorldXY:function(E,R,A,w,O){return O=this.getLayer(O),O===null?null:x.GetTileAtWorldXY(E,R,A,w,O)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(E){return E.name})},getTilesWithin:function(E,R,A,w,O,L){return L=this.getLayer(L),L===null?null:x.GetTilesWithin(E,R,A,w,O,L)},getTilesWithinShape:function(E,R,A,w){return w=this.getLayer(w),w===null?null:x.GetTilesWithinShape(E,R,A,w)},getTilesWithinWorldXY:function(E,R,A,w,O,L,F){return F=this.getLayer(F),F===null?null:x.GetTilesWithinWorldXY(E,R,A,w,O,L,F)},getTileset:function(E){var R=this.getIndex(this.tilesets,E);return R!==null?this.tilesets[R]:null},getTilesetIndex:function(E){return this.getIndex(this.tilesets,E)},hasTileAt:function(E,R,A){return A=this.getLayer(A),A===null?null:x.HasTileAt(E,R,A)},hasTileAtWorldXY:function(E,R,A,w){return w=this.getLayer(w),w===null?null:x.HasTileAtWorldXY(E,R,A,w)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(E){this.setLayer(E)}},putTileAt:function(E,R,A,w,O){return w===void 0&&(w=!0),O=this.getLayer(O),O===null?null:x.PutTileAt(E,R,A,w,O)},putTileAtWorldXY:function(E,R,A,w,O,L){return w===void 0&&(w=!0),L=this.getLayer(L),L===null?null:x.PutTileAtWorldXY(E,R,A,w,O,L)},putTilesAt:function(E,R,A,w,O){return w===void 0&&(w=!0),O=this.getLayer(O),O===null?null:(x.PutTilesAt(E,R,A,w,O),this)},randomize:function(E,R,A,w,O,L){return L=this.getLayer(L),L===null?null:(x.Randomize(E,R,A,w,O,L),this)},calculateFacesAt:function(E,R,A){return A=this.getLayer(A),A===null?null:(x.CalculateFacesAt(E,R,A),this)},calculateFacesWithin:function(E,R,A,w,O){return O=this.getLayer(O),O===null?null:(x.CalculateFacesWithin(E,R,A,w,O),this)},removeLayer:function(E){var R=this.getLayerIndex(E);if(R!==null){d(this.layers,R);for(var A=R;A<this.layers.length;A++)this.layers[A].tilemapLayer&&this.layers[A].tilemapLayer.layerIndex--;return this.currentLayerIndex===R&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(E){var R=this.getLayerIndex(E);return R!==null?(E=this.layers[R],E.tilemapLayer.destroy(),d(this.layers,R),this.currentLayerIndex===R&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var E=this.layers,R=0;R<E.length;R++)E[R].tilemapLayer&&E[R].tilemapLayer.destroy(!1);return E.length=0,this.currentLayerIndex=0,this},removeTile:function(E,R,A){R===void 0&&(R=-1),A===void 0&&(A=!0);var w=[];Array.isArray(E)||(E=[E]);for(var O=0;O<E.length;O++){var L=E[O];w.push(this.removeTileAt(L.x,L.y,!0,A,L.tilemapLayer)),R>-1&&this.putTileAt(R,L.x,L.y,A,L.tilemapLayer)}return w},removeTileAt:function(E,R,A,w,O){return A===void 0&&(A=!0),w===void 0&&(w=!0),O=this.getLayer(O),O===null?null:x.RemoveTileAt(E,R,A,w,O)},removeTileAtWorldXY:function(E,R,A,w,O,L){return A===void 0&&(A=!0),w===void 0&&(w=!0),L=this.getLayer(L),L===null?null:x.RemoveTileAtWorldXY(E,R,A,w,O,L)},renderDebug:function(E,R,A){return A=this.getLayer(A),A===null?null:(this.orientation===v.ORTHOGONAL&&x.RenderDebug(E,R,A),this)},renderDebugFull:function(E,R){for(var A=this.layers,w=0;w<A.length;w++)x.RenderDebug(E,R,A[w]);return this},replaceByIndex:function(E,R,A,w,O,L,F){return F=this.getLayer(F),F===null?null:(x.ReplaceByIndex(E,R,A,w,O,L,F),this)},setCollision:function(E,R,A,w,O){return R===void 0&&(R=!0),A===void 0&&(A=!0),O===void 0&&(O=!0),w=this.getLayer(w),w===null?null:(x.SetCollision(E,R,A,w,O),this)},setCollisionBetween:function(E,R,A,w,O){return A===void 0&&(A=!0),w===void 0&&(w=!0),O=this.getLayer(O),O===null?null:(x.SetCollisionBetween(E,R,A,w,O),this)},setCollisionByProperty:function(E,R,A,w){return R===void 0&&(R=!0),A===void 0&&(A=!0),w=this.getLayer(w),w===null?null:(x.SetCollisionByProperty(E,R,A,w),this)},setCollisionByExclusion:function(E,R,A,w){return R===void 0&&(R=!0),A===void 0&&(A=!0),w=this.getLayer(w),w===null?null:(x.SetCollisionByExclusion(E,R,A,w),this)},setCollisionFromCollisionGroup:function(E,R,A){return E===void 0&&(E=!0),R===void 0&&(R=!0),A=this.getLayer(A),A===null?null:(x.SetCollisionFromCollisionGroup(E,R,A),this)},setTileIndexCallback:function(E,R,A,w){return w=this.getLayer(w),w===null?null:(x.SetTileIndexCallback(E,R,A,w),this)},setTileLocationCallback:function(E,R,A,w,O,L,F){return F=this.getLayer(F),F===null?null:(x.SetTileLocationCallback(E,R,A,w,O,L,F),this)},setLayer:function(E){var R=this.getLayerIndex(E);return R!==null&&(this.currentLayerIndex=R),this},setBaseTileSize:function(E,R){this.tileWidth=E,this.tileHeight=R,this.widthInPixels=this.width*E,this.heightInPixels=this.height*R;for(var A=0;A<this.layers.length;A++){this.layers[A].baseTileWidth=E,this.layers[A].baseTileHeight=R;for(var w=this.layers[A].data,O=this.layers[A].width,L=this.layers[A].height,F=0;F<L;F++)for(var I=0;I<O;I++){var b=w[F][I];b!==null&&b.setSize(void 0,void 0,E,R)}}return this},setLayerTileSize:function(E,R,A){if(A=this.getLayer(A),A===null)return this;A.tileWidth=E,A.tileHeight=R;for(var w=A.data,O=A.width,L=A.height,F=0;F<L;F++)for(var I=0;I<O;I++){var b=w[F][I];b!==null&&b.setSize(E,R)}return this},shuffle:function(E,R,A,w,O){return O=this.getLayer(O),O===null?null:(x.Shuffle(E,R,A,w,O),this)},swapByIndex:function(E,R,A,w,O,L,F){return F=this.getLayer(F),F===null?null:(x.SwapByIndex(E,R,A,w,O,L,F),this)},tileToWorldX:function(E,R,A){return A=this.getLayer(A),A===null?null:this._convert.TileToWorldX(E,R,A)},tileToWorldY:function(E,R,A){return A=this.getLayer(A),A===null?null:this._convert.TileToWorldY(E,R,A)},tileToWorldXY:function(E,R,A,w,O){return O=this.getLayer(O),O===null?null:this._convert.TileToWorldXY(E,R,A,w,O)},getTileCorners:function(E,R,A,w){return w=this.getLayer(w),w===null?null:this._convert.GetTileCorners(E,R,A,w)},weightedRandomize:function(E,R,A,w,O,L){return L=this.getLayer(L),L===null?null:(x.WeightedRandomize(R,A,w,O,E,L),this)},worldToTileX:function(E,R,A,w){return w=this.getLayer(w),w===null?null:this._convert.WorldToTileX(E,R,A,w)},worldToTileY:function(E,R,A,w){return w=this.getLayer(w),w===null?null:this._convert.WorldToTileY(E,R,A,w)},worldToTileXY:function(E,R,A,w,O,L){return L=this.getLayer(L),L===null?null:this._convert.WorldToTileXY(E,R,A,w,O,L)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});h.exports=P},4843:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(99325),c=e(15043);f.register("tilemap",function(s){var a=s!==void 0?s:{};return c(this.scene,a.key,a.tileWidth,a.tileHeight,a.width,a.height,a.data,a.insertNull)})},37940:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(61286),c=e(15043);f.register("tilemap",function(s,a,r,o,l,v,u){return s===null&&(s=void 0),a===null&&(a=void 0),r===null&&(r=void 0),o===null&&(o=void 0),l===null&&(l=void 0),c(this.scene,s,a,r,o,l,v,u)})},87177:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(64937),s=e(89980),a=e(5047),r=e(96193),o=e(93736),l=new f({Extends:s,Mixins:[c.Alpha,c.BlendMode,c.ComputedSize,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.Transform,c.Visible,c.ScrollFactor,r],initialize:function(u,d,p,g,x,T){s.call(this,u,"TilemapLayer"),this.isTilemap=!0,this.tilemap=d,this.layerIndex=p,this.layer=d.layers[p],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=a.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new o,this.setTilesets(g),this.setAlpha(this.layer.alpha),this.setPosition(x,T),this.setOrigin(0,0),this.setSize(d.tileWidth*this.layer.width,d.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(v){var u=[],d=[],p=this.tilemap;Array.isArray(v)||(v=[v]);for(var g=0;g<v.length;g++){var x=v[g];if(typeof x=="string"&&(x=p.getTileset(x)),x){d.push(x);for(var T=x.firstgid,S=0;S<x.total;S++)u[T+S]=x}}this.gidMap=u,this.tileset=d},setRenderOrder:function(v){var u=["right-down","left-down","right-up","left-up"];return typeof v=="string"&&(v=u.indexOf(v)),v>=0&&v<4&&(this._renderOrder=v),this},calculateFacesAt:function(v,u){return a.CalculateFacesAt(v,u,this.layer),this},calculateFacesWithin:function(v,u,d,p){return a.CalculateFacesWithin(v,u,d,p,this.layer),this},createFromTiles:function(v,u,d,p,g){return a.CreateFromTiles(v,u,d,p,g,this.layer)},cull:function(v){return this.cullCallback(this.layer,v,this.culledTiles,this._renderOrder)},copy:function(v,u,d,p,g,x,T){return a.Copy(v,u,d,p,g,x,T,this.layer),this},fill:function(v,u,d,p,g,x){return a.Fill(v,u,d,p,g,x,this.layer),this},filterTiles:function(v,u,d,p,g,x,T){return a.FilterTiles(v,u,d,p,g,x,T,this.layer)},findByIndex:function(v,u,d){return a.FindByIndex(v,u,d,this.layer)},findTile:function(v,u,d,p,g,x,T){return a.FindTile(v,u,d,p,g,x,T,this.layer)},forEachTile:function(v,u,d,p,g,x,T){return a.ForEachTile(v,u,d,p,g,x,T,this.layer),this},setTint:function(v,u,d,p,g,x){v===void 0&&(v=16777215);var T=function(S){S.tint=v};return this.forEachTile(T,this,u,d,p,g,x)},getTileAt:function(v,u,d){return a.GetTileAt(v,u,d,this.layer)},getTileAtWorldXY:function(v,u,d,p){return a.GetTileAtWorldXY(v,u,d,p,this.layer)},getIsoTileAtWorldXY:function(v,u,d,p,g){d===void 0&&(d=!0);var x=this.tempVec;return a.IsometricWorldToTileXY(v,u,!0,x,g,this.layer,d),this.getTileAt(x.x,x.y,p)},getTilesWithin:function(v,u,d,p,g){return a.GetTilesWithin(v,u,d,p,g,this.layer)},getTilesWithinShape:function(v,u,d){return a.GetTilesWithinShape(v,u,d,this.layer)},getTilesWithinWorldXY:function(v,u,d,p,g,x){return a.GetTilesWithinWorldXY(v,u,d,p,g,x,this.layer)},hasTileAt:function(v,u){return a.HasTileAt(v,u,this.layer)},hasTileAtWorldXY:function(v,u,d){return a.HasTileAtWorldXY(v,u,d,this.layer)},putTileAt:function(v,u,d,p){return a.PutTileAt(v,u,d,p,this.layer)},putTileAtWorldXY:function(v,u,d,p,g){return a.PutTileAtWorldXY(v,u,d,p,g,this.layer)},putTilesAt:function(v,u,d,p){return a.PutTilesAt(v,u,d,p,this.layer),this},randomize:function(v,u,d,p,g){return a.Randomize(v,u,d,p,g,this.layer),this},removeTileAt:function(v,u,d,p){return a.RemoveTileAt(v,u,d,p,this.layer)},removeTileAtWorldXY:function(v,u,d,p,g){return a.RemoveTileAtWorldXY(v,u,d,p,g,this.layer)},renderDebug:function(v,u){return a.RenderDebug(v,u,this.layer),this},replaceByIndex:function(v,u,d,p,g,x){return a.ReplaceByIndex(v,u,d,p,g,x,this.layer),this},setSkipCull:function(v){return v===void 0&&(v=!0),this.skipCull=v,this},setCullPadding:function(v,u){return v===void 0&&(v=1),u===void 0&&(u=1),this.cullPaddingX=v,this.cullPaddingY=u,this},setCollision:function(v,u,d,p){return a.SetCollision(v,u,d,this.layer,p),this},setCollisionBetween:function(v,u,d,p){return a.SetCollisionBetween(v,u,d,p,this.layer),this},setCollisionByProperty:function(v,u,d){return a.SetCollisionByProperty(v,u,d,this.layer),this},setCollisionByExclusion:function(v,u,d){return a.SetCollisionByExclusion(v,u,d,this.layer),this},setCollisionFromCollisionGroup:function(v,u){return a.SetCollisionFromCollisionGroup(v,u,this.layer),this},setTileIndexCallback:function(v,u,d){return a.SetTileIndexCallback(v,u,d,this.layer),this},setTileLocationCallback:function(v,u,d,p,g,x){return a.SetTileLocationCallback(v,u,d,p,g,x,this.layer),this},shuffle:function(v,u,d,p){return a.Shuffle(v,u,d,p,this.layer),this},swapByIndex:function(v,u,d,p,g,x){return a.SwapByIndex(v,u,d,p,g,x,this.layer),this},tileToWorldX:function(v,u){return this.tilemap.tileToWorldX(v,u,this)},tileToWorldY:function(v,u){return this.tilemap.tileToWorldY(v,u,this)},tileToWorldXY:function(v,u,d,p){return this.tilemap.tileToWorldXY(v,u,d,p,this)},getTileCorners:function(v,u,d){return this.tilemap.getTileCorners(v,u,d,this)},weightedRandomize:function(v,u,d,p,g){return a.WeightedRandomize(u,d,p,g,v,this.layer),this},worldToTileX:function(v,u,d){return this.tilemap.worldToTileX(v,u,d,this)},worldToTileY:function(v,u,d){return this.tilemap.worldToTileY(v,u,d,this)},worldToTileXY:function(v,u,d,p,g){return this.tilemap.worldToTileXY(v,u,d,p,g,this)},destroy:function(v){v===void 0&&(v=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),v&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],s.prototype.destroy.call(this))}});h.exports=l},17394:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(69360),c=new f,s=new f,a=new f,r=function(o,l,v,u){var d=l.cull(v),p=d.length,g=v.alpha*l.alpha;if(!(p===0||g<=0)){var x=c,T=s,S=a;T.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY),x.copyFrom(v.matrix);var P=o.currentContext,E=l.gidMap;P.save(),u?(x.multiplyWithOffset(u,-v.scrollX*l.scrollFactorX,-v.scrollY*l.scrollFactorY),T.e=l.x,T.f=l.y,x.multiply(T,S),S.copyToContext(P)):(T.e-=v.scrollX*l.scrollFactorX,T.f-=v.scrollY*l.scrollFactorY,T.copyToContext(P)),(!o.antialias||l.scaleX>1||l.scaleY>1)&&(P.imageSmoothingEnabled=!1);for(var R=0;R<p;R++){var A=d[R],w=E[A.index];if(w){var O=w.image.getSourceImage(),L=w.getTileTextureCoordinates(A.index),F=w.tileWidth,I=w.tileHeight;if(!(L===null||F===0||I===0)){var b=F*.5,G=I*.5;L.x+=w.tileOffset.x,L.y+=w.tileOffset.y,P.save(),P.translate(A.pixelX+b,A.pixelY+G),A.rotation!==0&&P.rotate(A.rotation),(A.flipX||A.flipY)&&P.scale(A.flipX?-1:1,A.flipY?-1:1),P.globalAlpha=g*A.alpha,P.drawImage(O,L.x,L.y,F,I,-b,-G,F,I),P.restore()}}}P.restore()}};h.exports=r},96193:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72283),c=f,s=f;c=e(51395),s=e(17394),h.exports={renderWebGL:c,renderCanvas:s}},51395:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(75512),c=function(s,a,r){var o=a.cull(r),l=o.length,v=r.alpha*a.alpha;if(!(l===0||v<=0)){var u=a.gidMap,d=s.pipelines.set(a.pipeline,a),p=f.getTintAppendFloatAlpha,g=a.scrollFactorX,x=a.scrollFactorY,T=a.x,S=a.y,P=a.scaleX,E=a.scaleY;s.pipelines.preBatch(a);for(var R=0;R<l;R++){var A=o[R],w=u[A.index];if(w){var O=w.getTileTextureCoordinates(A.index);if(O!==null){var L=w.glTexture,F=d.setTexture2D(L,a),I=w.tileWidth,b=w.tileHeight,G=O.x,N=O.y,U=w.tileWidth*.5,Y=w.tileHeight*.5,X=w.tileOffset.x,B=w.tileOffset.y,z=p(A.tint,v*A.alpha);d.batchTexture(a,L,L.width,L.height,T+A.pixelX*P+(U*P-X),S+A.pixelY*E+(Y*E-B),A.width,A.height,P,E,A.rotation,A.flipX,A.flipY,g,x,U,Y,G,N,I,b,z,z,z,z,!1,0,0,r,null,!0,F)}}}s.pipelines.postBatch(a)}};h.exports=c},47975:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(93736),s=new f({initialize:function(r,o,l,v,u,d,p,g,x){(l===void 0||l<=0)&&(l=32),(v===void 0||v<=0)&&(v=32),u===void 0&&(u=0),d===void 0&&(d=0),p===void 0&&(p={}),g===void 0&&(g={}),this.name=r,this.firstgid=o,this.tileWidth=l,this.tileHeight=v,this.tileMargin=u,this.tileSpacing=d,this.tileProperties=p,this.tileData=g,this.tileOffset=new c,x!==void 0&&this.tileOffset.set(x.x,x.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(a){return this.containsTileIndex(a)?this.tileProperties[a-this.firstgid]:null},getTileData:function(a){return this.containsTileIndex(a)?this.tileData[a-this.firstgid]:null},getTileCollisionGroup:function(a){var r=this.getTileData(a);return r&&r.objectgroup?r.objectgroup:null},containsTileIndex:function(a){return a>=this.firstgid&&a<this.firstgid+this.total},getTileTextureCoordinates:function(a){return this.containsTileIndex(a)?this.texCoordinates[a-this.firstgid]:null},setImage:function(a){return this.image=a,this.glTexture=a.get().source.glTexture,this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setTileSize:function(a,r){return a!==void 0&&(this.tileWidth=a),r!==void 0&&(this.tileHeight=r),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(a,r){return a!==void 0&&(this.tileMargin=a),r!==void 0&&(this.tileSpacing=r),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(a,r){var o=(r-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),l=(a-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(o%1!==0||l%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),o=Math.floor(o),l=Math.floor(l),this.rows=o,this.columns=l,this.total=o*l,this.texCoordinates.length=0;for(var v=this.tileMargin,u=this.tileMargin,d=0;d<this.rows;d++){for(var p=0;p<this.columns;p++)this.texCoordinates.push({x:v,y:u}),v+=this.tileWidth+this.tileSpacing;v=this.tileMargin,u+=this.tileHeight+this.tileSpacing}return this}});h.exports=s},92839:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(15494),c=function(s,a,r){var o=f(s,a,!0,r),l=f(s,a-1,!0,r),v=f(s,a+1,!0,r),u=f(s-1,a,!0,r),d=f(s+1,a,!0,r),p=o&&o.collides;return p&&(o.faceTop=!0,o.faceBottom=!0,o.faceLeft=!0,o.faceRight=!0),l&&l.collides&&(p&&(o.faceTop=!1),l.faceBottom=!p),v&&v.collides&&(p&&(o.faceBottom=!1),v.faceTop=!p),u&&u.collides&&(p&&(o.faceLeft=!1),u.faceRight=!p),d&&d.collides&&(p&&(o.faceRight=!1),d.faceLeft=!p),o&&!o.collides&&o.resetFaces(),o};h.exports=c},60386:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(15494),c=e(50811),s=function(a,r,o,l,v){for(var u=null,d=null,p=null,g=null,x=c(a,r,o,l,null,v),T=0;T<x.length;T++){var S=x[T];S&&(S.collides?(u=f(S.x,S.y-1,!0,v),d=f(S.x,S.y+1,!0,v),p=f(S.x-1,S.y,!0,v),g=f(S.x+1,S.y,!0,v),S.faceTop=!(u&&u.collides),S.faceBottom=!(d&&d.collides),S.faceLeft=!(p&&p.collides),S.faceRight=!(g&&g.collides)):S.resetFaces())}};h.exports=s},13125:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(93736),c=new f,s=function(a,r,o,l){var v=o.tilemapLayer,u=v.cullPaddingX,d=v.cullPaddingY,p=v.tilemap.tileToWorldXY(a,r,c,l,v);return p.x>l.worldView.x+v.scaleX*o.tileWidth*(-u-.5)&&p.x<l.worldView.right+v.scaleX*o.tileWidth*(u-.5)&&p.y>l.worldView.y+v.scaleY*o.tileHeight*(-d-1)&&p.y<l.worldView.bottom+v.scaleY*o.tileHeight*(d-.5)};h.exports=s},17347:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(60386),c=e(50811),s=e(62839),a=e(29633),r=function(o,l,v,u,d,p,g,x){g===void 0&&(g=!0);var T=c(o,l,v,u,null,x),S=[];T.forEach(function(L){var F=new a(L.layer,L.index,L.x,L.y,L.width,L.height,L.baseWidth,L.baseHeight);F.copy(L),S.push(F)});for(var P=d-o,E=p-l,R=0;R<S.length;R++){var A=S[R],w=A.x+P,O=A.y+E;s(w,O,x)&&x.data[O][w]&&(A.x=w,A.y=O,A.updatePixelXY(),x.data[O][w]=A)}g&&f(d-1,p-1,v+2,u+2,x),T.length=0,S.length=0};h.exports=r},93604:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(50811),c=e(51202),s=function(a,r,o,l,v,u){o||(o={}),Array.isArray(a)||(a=[a]);var d=u.tilemapLayer;l||(l=d.scene),v||(v=l.cameras.main);var p=f(0,0,u.width,u.height,null,u),g=[],x;for(x=0;x<p.length;x++){var T=p[x];if(a.indexOf(T.index)!==-1){var S=d.tileToWorldXY(T.x,T.y,void 0,v,u);o.x=S.x,o.y=S.y,g.push(l.make.sprite(o))}}if(typeof r=="number")for(x=0;x<a.length;x++)c(a[x],r,0,0,u.width,u.height,u);else if(Array.isArray(r))for(x=0;x<a.length;x++)c(a[x],r[x],0,0,u.width,u.height,u);return g};h.exports=s},71586:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(74118),c=e(82127),s=e(84314),a=new f,r=function(o,l){var v=o.tilemapLayer.tilemap,u=o.tilemapLayer,d=Math.floor(v.tileWidth*u.scaleX),p=Math.floor(v.tileHeight*u.scaleY),g=s(l.worldView.x-u.x,d,0,!0)-u.cullPaddingX,x=c(l.worldView.right-u.x,d,0,!0)+u.cullPaddingX,T=s(l.worldView.y-u.y,p,0,!0)-u.cullPaddingY,S=c(l.worldView.bottom-u.y,p,0,!0)+u.cullPaddingY;return a.setTo(g,T,x-g,S-T)};h.exports=r},381:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(71586),c=e(6987),s=function(a,r,o,l){o===void 0&&(o=[]),l===void 0&&(l=0),o.length=0;var v=a.tilemapLayer,u=f(a,r);return(v.skipCull||v.scrollFactorX!==1||v.scrollFactorY!==1)&&(u.left=0,u.right=a.width,u.top=0,u.bottom=a.height),c(a,u,l,o),o};h.exports=s},97734:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(50811),c=e(60386),s=e(68234),a=function(r,o,l,v,u,d,p){for(var g=p.collideIndexes.indexOf(r)!==-1,x=f(o,l,v,u,null,p),T=0;T<x.length;T++)x[T].index=r,s(x[T],g);d&&c(o-1,l-1,v+2,u+2,p)};h.exports=a},63555:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(50811),c=function(s,a,r,o,l,v,u,d){var p=f(r,o,l,v,u,d);return p.filter(s,a)};h.exports=c},37982:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){f===void 0&&(f=0),c===void 0&&(c=!1);var a=0,r,o,l;if(c){for(o=s.height-1;o>=0;o--)for(r=s.width-1;r>=0;r--)if(l=s.data[o][r],l&&l.index===e){if(a===f)return l;a+=1}}else for(o=0;o<s.height;o++)for(r=0;r<s.width;r++)if(l=s.data[o][r],l&&l.index===e){if(a===f)return l;a+=1}return null};h.exports=y},48297:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(50811),c=function(s,a,r,o,l,v,u,d){var p=f(r,o,l,v,u,d);return p.find(s,a)||null};h.exports=c},80916:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(50811),c=function(s,a,r,o,l,v,u,d){var p=f(r,o,l,v,u,d);p.forEach(s,a)};h.exports=c},31493:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(12920),c=e(381),s=e(37524),a=e(20887),r=e(72283),o=e(19242),l=function(v){return v===f.ORTHOGONAL?c:v===f.HEXAGONAL?s:v===f.STAGGERED?o:v===f.ISOMETRIC?a:r};h.exports=l},15494:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(62839),c=function(s,a,r,o){if(r===void 0&&(r=!1),f(s,a,o)){var l=o.data[a][s]||null;return l?l.index===-1?r?l:null:l:null}else return null};h.exports=c},24640:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(15494),c=e(93736),s=new c,a=function(r,o,l,v,u){return u.tilemapLayer.worldToTileXY(r,o,!0,s,v),f(s.x,s.y,l,u)};h.exports=a},48495:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(93736),c=function(s,a,r,o){var l=o.baseTileWidth,v=o.baseTileHeight,u=o.tilemapLayer,d=0,p=0;u&&(r||(r=u.scene.cameras.main),d=u.x+r.scrollX*(1-u.scrollFactorX),p=u.y+r.scrollY*(1-u.scrollFactorY),l*=u.scaleX,v*=u.scaleY);var g=d+s*l,x=p+a*v;return[new f(g,x),new f(g+l,x),new f(g+l,x+v),new f(g,x+v)]};h.exports=c},7160:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(12920),c=e(63634),s=e(72283),a=e(48495),r=function(o){return o===f.ORTHOGONAL?a:o===f.ISOMETRIC?s:o===f.HEXAGONAL?c:(o===f.STAGGERED,s)};h.exports=r},16884:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(12920),c=e(72283),s=e(44150),a=function(r){return r===f.ORTHOGONAL?s:c};h.exports=a},68182:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(12920),c=e(21715),s=e(21808),a=e(72283),r=e(33388),o=e(46836),l=function(v){return v===f.ORTHOGONAL?o:v===f.ISOMETRIC?s:v===f.HEXAGONAL?c:v===f.STAGGERED?r:a};h.exports=l},3752:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(12920),c=e(72283),s=e(84132),a=e(42477),r=function(o){return o===f.ORTHOGONAL?a:o===f.STAGGERED?s:c};h.exports=r},50811:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72632),c=function(s,a,r,o,l,v){s===void 0&&(s=0),a===void 0&&(a=0),r===void 0&&(r=v.width),o===void 0&&(o=v.height),l||(l={});var u=f(l,"isNotEmpty",!1),d=f(l,"isColliding",!1),p=f(l,"hasInterestingFace",!1);s<0&&(r+=s,s=0),a<0&&(o+=a,a=0),s+r>v.width&&(r=Math.max(v.width-s,0)),a+o>v.height&&(o=Math.max(v.height-a,0));for(var g=[],x=a;x<a+o;x++)for(var T=s;T<s+r;T++){var S=v.data[x][T];if(S!==null){if(u&&S.index===-1||d&&!S.collides||p&&!S.hasInterestingFace)continue;g.push(S)}}return g};h.exports=c},31674:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(84068),c=e(50811),s=e(7563),a=e(72283),r=e(93736),o=function(p,g){return s.RectangleToTriangle(g,p)},l=new r,v=new r,u=new r,d=function(p,g,x,T){if(p===void 0)return[];var S=a;p instanceof f.Circle?S=s.CircleToRectangle:p instanceof f.Rectangle?S=s.RectangleToRectangle:p instanceof f.Triangle?S=o:p instanceof f.Line&&(S=s.LineToRectangle),T.tilemapLayer.worldToTileXY(p.left,p.top,!0,v,x);var P=v.x,E=v.y;T.tilemapLayer.worldToTileXY(p.right,p.bottom,!1,u,x);var R=Math.ceil(u.x),A=Math.ceil(u.y),w=Math.max(R-P,1),O=Math.max(A-E,1),L=c(P,E,w,O,g,T),F=T.tileWidth,I=T.tileHeight;T.tilemapLayer&&(F*=T.tilemapLayer.scaleX,I*=T.tilemapLayer.scaleY);for(var b=[],G=new f.Rectangle(0,0,F,I),N=0;N<L.length;N++){var U=L[N];T.tilemapLayer.tileToWorldXY(U.x,U.y,l,x),G.x=l.x,G.y=l.y,S(p,G)&&b.push(U)}return b};h.exports=d},44662:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(50811),c=e(93736),s=new c,a=new c,r=function(o,l,v,u,d,p,g){var x=g.tilemapLayer.tilemap._convert.WorldToTileXY;x(o,l,!0,s,p,g);var T=s.x,S=s.y;x(o+v,l+u,!1,a,p,g);var P=Math.ceil(a.x),E=Math.ceil(a.y);return f(T,S,P-T,E-S,d,g)};h.exports=r},29296:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(12920),c=e(10618),s=e(806),a=function(r){return r===f.ORTHOGONAL?s:c};h.exports=a},32688:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(12920),c=e(11516),s=e(18750),a=e(72283),r=e(90562),o=e(45676),l=function(v){return v===f.ORTHOGONAL?o:v===f.ISOMETRIC?s:v===f.HEXAGONAL?c:v===f.STAGGERED?r:a};h.exports=l},74326:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(12920),c=e(10618),s=e(3689),a=e(70520),r=function(o){return o===f.ORTHOGONAL?a:o===f.STAGGERED?s:c};h.exports=r},46598:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(62839),c=function(s,a,r){if(f(s,a,r)){var o=r.data[a][s];return o!==null&&o.index>-1}else return!1};h.exports=c},28654:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(46598),c=e(93736),s=new c,a=function(r,o,l,v){v.tilemapLayer.worldToTileXY(r,o,!0,s,l);var u=s.x,d=s.y;return f(u,d,v)};h.exports=a},6358:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(82127),c=e(84314),s=function(a,r){var o=a.tilemapLayer.tilemap,l=a.tilemapLayer,v=Math.floor(o.tileWidth*l.scaleX),u=Math.floor(o.tileHeight*l.scaleY),d=a.hexSideLength,p,g,x,T;if(this.staggerAxis==="y"){var S=(u-d)/2+d;p=c(r.worldView.x-l.x,v,0,!0)-l.cullPaddingX,g=f(r.worldView.right-l.x,v,0,!0)+l.cullPaddingX,x=c(r.worldView.y-l.y,S,0,!0)-l.cullPaddingY,T=f(r.worldView.bottom-l.y,S,0,!0)+l.cullPaddingY}else{var P=(v-d)/2+d;p=c(r.worldView.x-l.x,P,0,!0)-l.cullPaddingX,g=f(r.worldView.right-l.x,P,0,!0)+l.cullPaddingX,x=c(r.worldView.y-l.y,u,0,!0)-l.cullPaddingY,T=f(r.worldView.bottom-l.y,u,0,!0)+l.cullPaddingY}return{left:p,right:g,top:x,bottom:T}};h.exports=s},37524:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(6358),c=e(6987),s=function(a,r,o,l){o===void 0&&(o=[]),l===void 0&&(l=0),o.length=0;var v=a.tilemapLayer,u=f(a,r);return v.skipCull&&v.scrollFactorX===1&&v.scrollFactorY===1&&(u.left=0,u.right=a.width,u.top=0,u.bottom=a.height),c(a,u,l,o),o};h.exports=s},63634:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(21715),c=e(93736),s=new c,a=function(r,o,l,v){var u=v.baseTileWidth,d=v.baseTileHeight,p=v.tilemapLayer;p&&(u*=p.scaleX,d*=p.scaleY);var g=f(r,o,s,l,v),x=[],T=.5773502691896257,S,P;this.staggerAxis==="y"?(S=T*u,P=d/2):(S=u/2,P=T*d);for(var E=0;E<6;E++){var R=2*Math.PI*(.5-E)/6;x.push(new c(g.x+S*Math.cos(R),g.y+P*Math.sin(R)))}return x};h.exports=a},21715:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(93736),c=function(s,a,r,o,l){r||(r=new f);var v=l.baseTileWidth,u=l.baseTileHeight,d=l.tilemapLayer,p=0,g=0;d&&(o||(o=d.scene.cameras.main),p=d.x+o.scrollX*(1-d.scrollFactorX),g=d.y+o.scrollY*(1-d.scrollFactorY),v*=d.scaleX,u*=d.scaleY);var x=v/2,T=u/2,S,P;return this.staggerAxis==="y"?(S=p+v*s+v,P=g+1.5*a*T+T,a%2===0&&(this.staggerIndex==="odd"?S-=x:S+=x)):this.staggerAxis==="x"&&this.staggerIndex==="odd"&&(S=p+1.5*s*x+x,P=g+u*s+u,s%2===0&&(this.staggerIndex==="odd"?P-=T:P+=T)),r.set(S,P)};h.exports=c},11516:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(93736),c=function(s,a,r,o,l,v){o||(o=new f);var u=v.baseTileWidth,d=v.baseTileHeight,p=v.tilemapLayer;p&&(l||(l=p.scene.cameras.main),s=s-(p.x+l.scrollX*(1-p.scrollFactorX)),a=a-(p.y+l.scrollY*(1-p.scrollFactorY)),u*=p.scaleX,d*=p.scaleY);var g=.5773502691896257,x=-.3333333333333333,T=0,S=.6666666666666666,P=u/2,E=d/2,R,A,w,O,L;v.staggerAxis==="y"?(R=(s-P)/(g*u),A=(a-E)/E,w=g*R+x*A,O=T*R+S*A):(R=(s-P)/P,A=(a-E)/(g*d),w=x*R+g*A,O=S*R+T*A),L=-w-O;var F=Math.round(w),I=Math.round(O),b=Math.round(L),G=Math.abs(F-w),N=Math.abs(I-O),U=Math.abs(b-L);G>N&&G>U?F=-I-b:N>U&&(I=-F-b);var Y,X=I;return v.staggerIndex==="odd"?Y=X%2===0?I/2+F:I/2+F-.5:Y=X%2===0?I/2+F:I/2+F+.5,o.set(Y,X)};h.exports=c},62839:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){return e>=0&&e<c.width&&f>=0&&f<c.height};h.exports=y},20887:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(13125),c=function(s,a,r,o){r===void 0&&(r=[]),o===void 0&&(o=0),r.length=0;var l=s.tilemapLayer,v=s.data,u=s.width,d=s.height,p=l.skipCull,g=0,x=u,T=0,S=d,P,E,R;if(o===0){for(E=T;E<S;E++)for(P=g;P<x;P++)if(p||f(P,E,s,a)){if(R=v[E][P],!R||R.index===-1||!R.visible||R.alpha===0)continue;r.push(R)}}else if(o===1){for(E=T;E<S;E++)for(P=x;P>=g;P--)if(p||f(P,E,s,a)){if(R=v[E][P],!R||R.index===-1||!R.visible||R.alpha===0)continue;r.push(R)}}else if(o===2){for(E=S;E>=T;E--)for(P=g;P<x;P++)if(p||f(P,E,s,a)){if(R=v[E][P],!R||R.index===-1||!R.visible||R.alpha===0)continue;r.push(R)}}else if(o===3){for(E=S;E>=T;E--)for(P=x;P>=g;P--)if(p||f(P,E,s,a)){if(R=v[E][P],!R||R.index===-1||!R.visible||R.alpha===0)continue;r.push(R)}}return l.tilesDrawn=r.length,l.tilesTotal=u*d,r};h.exports=c},21808:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(93736),c=function(s,a,r,o,l){r||(r=new f);var v=l.baseTileWidth,u=l.baseTileHeight,d=l.tilemapLayer,p=0,g=0;d&&(o||(o=d.scene.cameras.main),p=d.x+o.scrollX*(1-d.scrollFactorX),v*=d.scaleX,g=d.y+o.scrollY*(1-d.scrollFactorY),u*=d.scaleY);var x=p+(s-a)*(v/2),T=g+(s+a)*(u/2);return r.set(x,T)};h.exports=c},18750:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(93736),c=function(s,a,r,o,l,v,u){o||(o=new f);var d=v.baseTileWidth,p=v.baseTileHeight,g=v.tilemapLayer;g&&(l||(l=g.scene.cameras.main),a=a-(g.y+l.scrollY*(1-g.scrollFactorY)),p*=g.scaleY,s=s-(g.x+l.scrollX*(1-g.scrollFactorX)),d*=g.scaleX);var x=d/2,T=p/2;s=s-x,u||(a=a-p);var S=.5*(s/x+a/T),P=.5*(-s/x+a/T);return r&&(S=Math.floor(S),P=Math.floor(P)),o.set(S,P)};h.exports=c},29003:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(29633),c=e(62839),s=e(92839),a=e(68234),r=function(o,l,v,u,d){if(u===void 0&&(u=!0),!c(l,v,d))return null;var p,g=d.data[v][l],x=g&&g.collides;o instanceof f?(d.data[v][l]===null&&(d.data[v][l]=new f(d,o.index,l,v,d.tileWidth,d.tileHeight)),d.data[v][l].copy(o)):(p=o,d.data[v][l]===null?d.data[v][l]=new f(d,p,l,v,d.tileWidth,d.tileHeight):d.data[v][l].index=p);var T=d.data[v][l],S=d.collideIndexes.indexOf(T.index)!==-1;if(p=o instanceof f?o.index:o,p===-1)T.width=d.tileWidth,T.height=d.tileHeight;else{var P=d.tilemapLayer.tilemap.tiles,E=P[p][2],R=d.tilemapLayer.tileset[E];T.width=R.tileWidth,T.height=R.tileHeight}return a(T,S),u&&x!==T.collides&&s(l,v,d),T};h.exports=r},48565:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(29003),c=e(93736),s=new c,a=function(r,o,l,v,u,d){return d.tilemapLayer.worldToTileXY(o,l,!0,s,u,d),f(r,s.x,s.y,v,d)};h.exports=a},56547:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(60386),c=e(29003),s=function(a,r,o,l,v){if(l===void 0&&(l=!0),!Array.isArray(a))return null;Array.isArray(a[0])||(a=[a]);for(var u=a.length,d=a[0].length,p=0;p<u;p++)for(var g=0;g<d;g++){var x=a[p][g];c(x,r+g,o+p,!1,v)}l&&f(r-1,o-1,d+2,u+2,v)};h.exports=s},91180:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(50811),c=e(72861),s=function(a,r,o,l,v,u){var d,p=f(a,r,o,l,{},u);if(!v)for(v=[],d=0;d<p.length;d++)v.indexOf(p[d].index)===-1&&v.push(p[d].index);for(d=0;d<p.length;d++)p[d].index=c(v)};h.exports=s},929:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(29633),c=e(62839),s=e(92839),a=function(r,o,l,v,u){if(l===void 0&&(l=!0),v===void 0&&(v=!0),!c(r,o,u))return null;var d=u.data[o][r];if(d)u.data[o][r]=l?null:new f(u,-1,r,o,u.tileWidth,u.tileHeight);else return null;return v&&d&&d.collides&&s(r,o,u),d};h.exports=a},17384:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(929),c=e(93736),s=new c,a=function(r,o,l,v,u,d){return d.tilemapLayer.worldToTileXY(r,o,!0,s,u,d),f(s.x,s.y,l,v,d)};h.exports=a},93763:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(50811),c=e(95509),s=new c(105,210,231,150),a=new c(243,134,48,200),r=new c(40,39,37,150),o=function(l,v,u){v===void 0&&(v={});var d=v.tileColor!==void 0?v.tileColor:s,p=v.collidingTileColor!==void 0?v.collidingTileColor:a,g=v.faceColor!==void 0?v.faceColor:r,x=f(0,0,u.width,u.height,null,u);l.translateCanvas(u.tilemapLayer.x,u.tilemapLayer.y),l.scaleCanvas(u.tilemapLayer.scaleX,u.tilemapLayer.scaleY);for(var T=0;T<x.length;T++){var S=x[T],P=S.width,E=S.height,R=S.pixelX,A=S.pixelY,w=S.collides?p:d;w!==null&&(l.fillStyle(w.color,w.alpha/255),l.fillRect(R,A,P,E)),R+=1,A+=1,P-=2,E-=2,g!==null&&(l.lineStyle(1,g.color,g.alpha/255),S.faceTop&&l.lineBetween(R,A,R+P,A),S.faceRight&&l.lineBetween(R+P,A,R+P,A+E),S.faceBottom&&l.lineBetween(R,A+E,R+P,A+E),S.faceLeft&&l.lineBetween(R,A,R,A+E))}};h.exports=o},51202:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(50811),c=function(s,a,r,o,l,v,u){for(var d=f(r,o,l,v,null,u),p=0;p<d.length;p++)d[p]&&d[p].index===s&&(d[p].index=a)};h.exports=c},6987:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){var a=e.data,r=e.width,o=e.height,l=e.tilemapLayer,v=Math.max(0,f.left),u=Math.min(r,f.right),d=Math.max(0,f.top),p=Math.min(o,f.bottom),g,x,T;if(c===0)for(x=d;x<p;x++)for(g=v;a[x]&&g<u;g++)T=a[x][g],!(!T||T.index===-1||!T.visible||T.alpha===0)&&s.push(T);else if(c===1)for(x=d;x<p;x++)for(g=u;a[x]&&g>=v;g--)T=a[x][g],!(!T||T.index===-1||!T.visible||T.alpha===0)&&s.push(T);else if(c===2)for(x=p;x>=d;x--)for(g=v;a[x]&&g<u;g++)T=a[x][g],!(!T||T.index===-1||!T.visible||T.alpha===0)&&s.push(T);else if(c===3)for(x=p;x>=d;x--)for(g=u;a[x]&&g>=v;g--)T=a[x][g],!(!T||T.index===-1||!T.visible||T.alpha===0)&&s.push(T);return l.tilesDrawn=s.length,l.tilesTotal=r*o,s};h.exports=y},51710:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(68234),c=e(60386),s=e(91181),a=function(r,o,l,v,u){o===void 0&&(o=!0),l===void 0&&(l=!0),u===void 0&&(u=!0),Array.isArray(r)||(r=[r]);for(var d=0;d<r.length;d++)s(r[d],o,v);if(u)for(var p=0;p<v.height;p++)for(var g=0;g<v.width;g++){var x=v.data[p][g];x&&r.indexOf(x.index)!==-1&&f(x,o)}l&&c(0,0,v.width,v.height,v)};h.exports=a},15216:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(68234),c=e(60386),s=e(91181),a=function(r,o,l,v,u,d){if(l===void 0&&(l=!0),v===void 0&&(v=!0),d===void 0&&(d=!0),!(r>o)){for(var p=r;p<=o;p++)s(p,l,u);if(d)for(var g=0;g<u.height;g++)for(var x=0;x<u.width;x++){var T=u.data[g][x];T&&T.index>=r&&T.index<=o&&f(T,l)}v&&c(0,0,u.width,u.height,u)}};h.exports=a},33158:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(68234),c=e(60386),s=e(91181),a=function(r,o,l,v){o===void 0&&(o=!0),l===void 0&&(l=!0),Array.isArray(r)||(r=[r]);for(var u=0;u<v.height;u++)for(var d=0;d<v.width;d++){var p=v.data[u][d];p&&r.indexOf(p.index)===-1&&(f(p,o),s(p.index,o,v))}l&&c(0,0,v.width,v.height,v)};h.exports=a},4180:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(68234),c=e(60386),s=e(19256),a=function(r,o,l,v){o===void 0&&(o=!0),l===void 0&&(l=!0);for(var u=0;u<v.height;u++)for(var d=0;d<v.width;d++){var p=v.data[u][d];if(p){for(var g in r)if(s(p.properties,g)){var x=r[g];Array.isArray(x)||(x=[x]);for(var T=0;T<x.length;T++)p.properties[g]===x[T]&&f(p,o)}}}l&&c(0,0,v.width,v.height,v)};h.exports=a},18625:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(68234),c=e(60386),s=function(a,r,o){a===void 0&&(a=!0),r===void 0&&(r=!0);for(var l=0;l<o.height;l++)for(var v=0;v<o.width;v++){var u=o.data[l][v];if(u){var d=u.getCollisionGroup();d&&d.objects&&d.objects.length>0&&f(u,a)}}r&&c(0,0,o.width,o.height,o)};h.exports=s},91181:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){var s=c.collideIndexes.indexOf(e);f&&s===-1?c.collideIndexes.push(e):!f&&s!==-1&&c.collideIndexes.splice(s,1)};h.exports=y},68234:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){f?e.setCollision(!0,!0,!0,!0,!1):e.resetCollision(!1)};h.exports=y},11628:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){if(typeof e=="number")s.callbacks[e]=f!==null?{callback:f,callbackContext:c}:void 0;else for(var a=0,r=e.length;a<r;a++)s.callbacks[e[a]]=f!==null?{callback:f,callbackContext:c}:void 0};h.exports=y},72732:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(50811),c=function(s,a,r,o,l,v,u){for(var d=f(s,a,r,o,null,u),p=0;p<d.length;p++)d[p].setCollisionCallback(l,v)};h.exports=c},34397:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(50811),c=e(18592),s=function(a,r,o,l,v){var u=f(a,r,o,l,null,v),d=u.map(function(g){return g.index});c(d);for(var p=0;p<u.length;p++)u[p].index=d[p]};h.exports=s},53945:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(82127),c=e(84314),s=function(a,r){var o=a.tilemapLayer.tilemap,l=a.tilemapLayer,v=Math.floor(o.tileWidth*l.scaleX),u=Math.floor(o.tileHeight*l.scaleY),d=c(r.worldView.x-l.x,v,0,!0)-l.cullPaddingX,p=f(r.worldView.right-l.x,v,0,!0)+l.cullPaddingX,g=c(r.worldView.y-l.y,u/2,0,!0)-l.cullPaddingY,x=f(r.worldView.bottom-l.y,u/2,0,!0)+l.cullPaddingY;return{left:d,right:p,top:g,bottom:x}};h.exports=s},19242:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(53945),c=e(6987),s=function(a,r,o,l){o===void 0&&(o=[]),l===void 0&&(l=0),o.length=0;var v=a.tilemapLayer,u=f(a,r);return v.skipCull&&v.scrollFactorX===1&&v.scrollFactorY===1&&(u.left=0,u.right=a.width,u.top=0,u.bottom=a.height),c(a,u,l,o),o};h.exports=s},33388:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(93736),c=function(s,a,r,o,l){r||(r=new f);var v=l.baseTileWidth,u=l.baseTileHeight,d=l.tilemapLayer,p=0,g=0;d&&(o||(o=d.scene.cameras.main),p=d.x+o.scrollX*(1-d.scrollFactorX),v*=d.scaleX,g=d.y+o.scrollY*(1-d.scrollFactorY),u*=d.scaleY);var x=p+s*v+a%2*(v/2),T=g+a*(u/2);return r.set(x,T)};h.exports=c},84132:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){var s=c.baseTileHeight,a=c.tilemapLayer,r=0;return a&&(f===void 0&&(f=a.scene.cameras.main),r=a.y+f.scrollY*(1-a.scrollFactorY),s*=a.scaleY),r+e*(s/2)+s};h.exports=y},90562:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(93736),c=function(s,a,r,o,l,v){o||(o=new f);var u=v.baseTileWidth,d=v.baseTileHeight,p=v.tilemapLayer;p&&(l||(l=p.scene.cameras.main),a=a-(p.y+l.scrollY*(1-p.scrollFactorY)),d*=p.scaleY,s=s-(p.x+l.scrollX*(1-p.scrollFactorX)),u*=p.scaleX);var g=r?Math.floor(a/(d/2)):a/(d/2),x=r?Math.floor((s+g%2*.5*u)/u):(s+g%2*.5*u)/u;return o.set(x,g)};h.exports=c},3689:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){var a=s.baseTileHeight,r=s.tilemapLayer;return r&&(c||(c=r.scene.cameras.main),e=e-(r.y+c.scrollY*(1-r.scrollFactorY)),a*=r.scaleY),f?Math.floor(e/(a/2)):e/(a/2)};h.exports=y},55217:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(50811),c=function(s,a,r,o,l,v,u){for(var d=f(r,o,l,v,null,u),p=0;p<d.length;p++)d[p]&&(d[p].index===s?d[p].index=a:d[p].index===a&&(d[p].index=s))};h.exports=c},44150:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){var s=c.baseTileWidth,a=c.tilemapLayer,r=0;return a&&(f||(f=a.scene.cameras.main),r=a.x+f.scrollX*(1-a.scrollFactorX),s*=a.scaleX),r+e*s};h.exports=y},46836:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(44150),c=e(42477),s=e(93736),a=function(r,o,l,v,u){return l||(l=new s(0,0)),l.x=f(r,v,u),l.y=c(o,v,u),l};h.exports=a},42477:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){var s=c.baseTileHeight,a=c.tilemapLayer,r=0;return a&&(f||(f=a.scene.cameras.main),r=a.y+f.scrollY*(1-a.scrollFactorY),s*=a.scaleY),r+e*s};h.exports=y},39677:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(50811),c=function(s,a,r,o,l,v){if(l){var u,d=f(s,a,r,o,null,v),p=0;for(u=0;u<l.length;u++)p+=l[u].weight;if(!(p<=0))for(u=0;u<d.length;u++){for(var g=Math.random()*p,x=0,T=-1,S=0;S<l.length;S++)if(x+=l[S].weight,g<=x){var P=l[S].index;T=Array.isArray(P)?P[Math.floor(Math.random()*P.length)]:P;break}d[u].index=T}}};h.exports=c},806:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(45676),c=e(93736),s=new c,a=function(r,o,l,v){return f(r,0,o,s,l,v),s.x};h.exports=a},45676:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(93736),c=function(s,a,r,o,l,v){r===void 0&&(r=!0),o||(o=new f);var u=v.baseTileWidth,d=v.baseTileHeight,p=v.tilemapLayer;p&&(l||(l=p.scene.cameras.main),s=s-(p.x+l.scrollX*(1-p.scrollFactorX)),a=a-(p.y+l.scrollY*(1-p.scrollFactorY)),u*=p.scaleX,d*=p.scaleY);var g=s/u,x=a/d;return r&&(g=Math.floor(g),x=Math.floor(x)),o.set(g,x)};h.exports=c},70520:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(45676),c=e(93736),s=new c,a=function(r,o,l,v){return f(0,r,o,s,l,v),s.y};h.exports=a},5047:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={CalculateFacesAt:e(92839),CalculateFacesWithin:e(60386),CheckIsoBounds:e(13125),Copy:e(17347),CreateFromTiles:e(93604),CullBounds:e(71586),CullTiles:e(381),Fill:e(97734),FilterTiles:e(63555),FindByIndex:e(37982),FindTile:e(48297),ForEachTile:e(80916),GetCullTilesFunction:e(31493),GetTileAt:e(15494),GetTileAtWorldXY:e(24640),GetTileCorners:e(48495),GetTileCornersFunction:e(7160),GetTilesWithin:e(50811),GetTilesWithinShape:e(31674),GetTilesWithinWorldXY:e(44662),GetTileToWorldXFunction:e(16884),GetTileToWorldXYFunction:e(68182),GetTileToWorldYFunction:e(3752),GetWorldToTileXFunction:e(29296),GetWorldToTileXYFunction:e(32688),GetWorldToTileYFunction:e(74326),HasTileAt:e(46598),HasTileAtWorldXY:e(28654),HexagonalCullBounds:e(6358),HexagonalCullTiles:e(37524),HexagonalGetTileCorners:e(63634),HexagonalTileToWorldXY:e(21715),HexagonalWorldToTileXY:e(11516),IsInLayerBounds:e(62839),IsometricCullTiles:e(20887),IsometricTileToWorldXY:e(21808),IsometricWorldToTileXY:e(18750),PutTileAt:e(29003),PutTileAtWorldXY:e(48565),PutTilesAt:e(56547),Randomize:e(91180),RemoveTileAt:e(929),RemoveTileAtWorldXY:e(17384),RenderDebug:e(93763),ReplaceByIndex:e(51202),RunCull:e(6987),SetCollision:e(51710),SetCollisionBetween:e(15216),SetCollisionByExclusion:e(33158),SetCollisionByProperty:e(4180),SetCollisionFromCollisionGroup:e(18625),SetLayerCollisionIndex:e(91181),SetTileCollision:e(68234),SetTileIndexCallback:e(11628),SetTileLocationCallback:e(72732),Shuffle:e(34397),StaggeredCullBounds:e(53945),StaggeredCullTiles:e(19242),StaggeredTileToWorldXY:e(33388),StaggeredTileToWorldY:e(84132),StaggeredWorldToTileXY:e(90562),StaggeredWorldToTileY:e(3689),SwapByIndex:e(55217),TileToWorldX:e(44150),TileToWorldXY:e(46836),TileToWorldY:e(42477),WeightedRandomize:e(39677),WorldToTileX:e(806),WorldToTileXY:e(45676),WorldToTileY:e(70520)}},12920:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},84758:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={ORIENTATION:e(12920)};h.exports=f},52678:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(98611),c=e(84758),s={Components:e(5047),Parsers:e(34124),Formats:e(93560),ImageCollection:e(97042),ParseToTilemap:e(15043),Tile:e(29633),Tilemap:e(89797),TilemapCreator:e(4843),TilemapFactory:e(37940),Tileset:e(47975),TilemapLayer:e(87177),Orientation:e(12920),LayerData:e(94990),MapData:e(16586),ObjectLayer:e(15256)};s=f(!1,s,c.ORIENTATION),h.exports=s},94990:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(12920),s=e(72632),a=new f({initialize:function(o){o===void 0&&(o={}),this.name=s(o,"name","layer"),this.x=s(o,"x",0),this.y=s(o,"y",0),this.width=s(o,"width",0),this.height=s(o,"height",0),this.tileWidth=s(o,"tileWidth",0),this.tileHeight=s(o,"tileHeight",0),this.baseTileWidth=s(o,"baseTileWidth",this.tileWidth),this.baseTileHeight=s(o,"baseTileHeight",this.tileHeight),this.orientation=s(o,"orientation",c.ORTHOGONAL),this.widthInPixels=s(o,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=s(o,"heightInPixels",this.height*this.baseTileHeight),this.alpha=s(o,"alpha",1),this.visible=s(o,"visible",!0),this.properties=s(o,"properties",[]),this.indexes=s(o,"indexes",[]),this.collideIndexes=s(o,"collideIndexes",[]),this.callbacks=s(o,"callbacks",[]),this.bodies=s(o,"bodies",[]),this.data=s(o,"data",[]),this.tilemapLayer=s(o,"tilemapLayer",null),this.hexSideLength=s(o,"hexSideLength",0),this.staggerAxis=s(o,"staggerAxis","y"),this.staggerIndex=s(o,"staggerIndex","odd")}});h.exports=a},16586:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(12920),s=e(72632),a=new f({initialize:function(o){o===void 0&&(o={}),this.name=s(o,"name","map"),this.width=s(o,"width",0),this.height=s(o,"height",0),this.infinite=s(o,"infinite",!1),this.tileWidth=s(o,"tileWidth",0),this.tileHeight=s(o,"tileHeight",0),this.widthInPixels=s(o,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=s(o,"heightInPixels",this.height*this.tileHeight),this.format=s(o,"format",null),this.orientation=s(o,"orientation",c.ORTHOGONAL),this.renderOrder=s(o,"renderOrder","right-down"),this.version=s(o,"version","1"),this.properties=s(o,"properties",{}),this.layers=s(o,"layers",[]),this.images=s(o,"images",[]),this.objects=s(o,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=s(o,"collision",{}),this.tilesets=s(o,"tilesets",[]),this.imageCollections=s(o,"imageCollections",[]),this.tiles=s(o,"tiles",[]),this.hexSideLength=s(o,"hexSideLength",0),this.staggerAxis=s(o,"staggerAxis","y"),this.staggerIndex=s(o,"staggerIndex","odd")}});h.exports=a},15256:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(72632),s=new f({initialize:function(r){r===void 0&&(r={}),this.name=c(r,"name","object layer"),this.opacity=c(r,"opacity",1),this.properties=c(r,"properties",{}),this.propertyTypes=c(r,"propertytypes",{}),this.type=c(r,"type","objectgroup"),this.visible=c(r,"visible",!0),this.objects=c(r,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});h.exports=s},21394:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(12920),c=function(s){return s=s.toLowerCase(),s==="isometric"?f.ISOMETRIC:s==="staggered"?f.STAGGERED:s==="hexagonal"?f.HEXAGONAL:f.ORTHOGONAL};h.exports=c},90715:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(93560),c=e(84346),s=e(96097),a=e(2378),r=e(44909),o=function(l,v,u,d,p,g){var x;switch(v){case f.ARRAY_2D:x=c(l,u,d,p,g);break;case f.CSV:x=s(l,u,d,p,g);break;case f.TILED_JSON:x=a(l,u,g);break;case f.WELTMEISTER:x=r(l,u,g);break;default:console.warn("Unrecognized tilemap data format: "+v),x=null}return x};h.exports=o},84346:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(93560),c=e(94990),s=e(16586),a=e(29633),r=function(o,l,v,u,d){for(var p=new c({tileWidth:v,tileHeight:u}),g=new s({name:o,tileWidth:v,tileHeight:u,format:f.ARRAY_2D,layers:[p]}),x=[],T=l.length,S=0,P=0;P<l.length;P++){x[P]=[];for(var E=l[P],R=0;R<E.length;R++){var A=parseInt(E[R],10);isNaN(A)||A===-1?x[P][R]=d?null:new a(p,-1,R,P,v,u):x[P][R]=new a(p,A,R,P,v,u)}S===0&&(S=E.length)}return g.width=p.width=S,g.height=p.height=T,g.widthInPixels=p.widthInPixels=S*v,g.heightInPixels=p.heightInPixels=T*u,p.data=x,g};h.exports=r},96097:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(93560),c=e(84346),s=function(a,r,o,l,v){var u=r.trim().split(`
`).map(function(p){return p.split(",")}),d=c(a,u,o,l,v);return d.format=f.CSV,d};h.exports=s},30951:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(94990),c=e(29633),s=function(a,r){for(var o=[],l=0;l<a.layer.length;l++){for(var v=a.layer[l],u=new f({name:v.name,width:v.width,height:v.height,tileWidth:v.tilesize,tileHeight:v.tilesize,visible:v.visible===1}),d=[],p=[],g=0;g<v.data.length;g++){for(var x=0;x<v.data[g].length;x++){var T=v.data[g][x]-1,S;T>-1?S=new c(u,T,x,g,v.tilesize,v.tilesize):S=r?null:new c(u,-1,x,g,v.tilesize,v.tilesize),d.push(S)}p.push(d),d=[]}u.data=p,o.push(u)}return o};h.exports=s},47488:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(47975),c=function(s){for(var a=[],r=[],o=0;o<s.layer.length;o++){var l=s.layer[o],v=l.tilesetName;v!==""&&r.indexOf(v)===-1&&(r.push(v),a.push(new f(v,0,l.tilesize,l.tilesize,0,0)))}return a};h.exports=c},44909:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(93560),c=e(16586),s=e(30951),a=e(47488),r=function(o,l,v){if(l.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+o),null;for(var u=0,d=0,p=0;p<l.layer.length;p++)l.layer[p].width>u&&(u=l.layer[p].width),l.layer[p].height>d&&(d=l.layer[p].height);var g=new c({width:u,height:d,name:o,tileWidth:l.layer[0].tilesize,tileHeight:l.layer[0].tilesize,format:f.WELTMEISTER});return g.layers=s(l,v),g.tilesets=a(l),g};h.exports=r},24507:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={ParseTileLayers:e(30951),ParseTilesets:e(47488),ParseWeltmeister:e(44909)}},34124:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={FromOrientationString:e(21394),Parse:e(90715),Parse2DArray:e(84346),ParseCSV:e(96097),Impact:e(24507),Tiled:e(50044)}},48646:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(98611),c=function(s){for(var a,r,o,l,v,u=0;u<s.layers.length;u++){a=s.layers[u],l=null;for(var d=0;d<a.data.length;d++){v=a.data[d];for(var p=0;p<v.length;p++)r=v[p],!(r===null||r.index<0)&&(o=s.tiles[r.index][2],l=s.tilesets[o],r.width=l.tileWidth,r.height=l.tileHeight,l.tileProperties&&l.tileProperties[r.index-l.firstgid]&&(r.properties=f(r.properties,l.tileProperties[r.index-l.firstgid])))}}};h.exports=c},43908:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){for(var f=window.atob(e),c=f.length,s=new Array(c/4),a=0;a<c;a+=4)s[a/4]=(f.charCodeAt(a)|f.charCodeAt(a+1)<<8|f.charCodeAt(a+2)<<16|f.charCodeAt(a+3)<<24)>>>0;return s};h.exports=y},14556:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(47975),c=function(s){var a,r,o=[];for(a=0;a<s.imageCollections.length;a++)for(var l=s.imageCollections[a],v=l.images,u=0;u<v.length;u++){var d=v[u];r=new f(d.image,d.gid,l.imageWidth,l.imageHeight,0,0),r.updateTileData(l.imageWidth,l.imageHeight),s.tilesets.push(r)}for(a=0;a<s.tilesets.length;a++){r=s.tilesets[a];for(var p=r.tileMargin,g=r.tileMargin,x=0,T=0,S=0,P=r.firstgid;P<r.firstgid+r.total&&(o[P]=[p,g,a],p+=r.tileWidth+r.tileSpacing,x++,!(x===r.total||(T++,T===r.columns&&(p=r.tileMargin,g+=r.tileHeight+r.tileSpacing,T=0,S++,S===r.rows))));P++);}return o};h.exports=c},92044:(h,y,e)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72632),c=function(s,a,r){if(!a)return{i:0,layers:s.layers,name:"",opacity:1,visible:!0,x:0,y:0};var o=a.x+f(a,"startx",0)*s.tilewidth+f(a,"offsetx",0),l=a.y+f(a,"starty",0)*s.tileheight+f(a,"offsety",0);return{i:0,layers:a.layers,name:r.name+a.name+"/",opacity:r.opacity*a.opacity,visible:r.visible&&a.visible,x:r.x+o,y:r.y+l}};h.exports=c},8847:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=2147483648,e=1073741824,f=536870912,c=function(s){var a=Boolean(s&y),r=Boolean(s&e),o=Boolean(s&f);s=s&~(y|e|f);var l=0,v=!1;return a&&r&&o?(l=Math.PI/2,v=!0):a&&r&&!o?(l=Math.PI,v=!1):a&&!r&&o?(l=Math.PI/2,v=!1):a&&!r&&!o?(l=0,v=!0):!a&&r&&o?(l=3*Math.PI/2,v=!1):!a&&r&&!o?(l=Math.PI,v=!0):!a&&!r&&o?(l=3*Math.PI/2,v=!0):!a&&!r&&!o&&(l=0,v=!1),{gid:s,flippedHorizontal:a,flippedVertical:r,flippedAntiDiagonal:o,rotation:l,flipped:v}};h.exports=c},78339:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72632),c=e(92044),s=function(a){for(var r=[],o=[],l=c(a);l.i<l.layers.length||o.length>0;){if(l.i>=l.layers.length){if(o.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}l=o.pop();continue}var v=l.layers[l.i];if(l.i++,v.type!=="imagelayer"){if(v.type==="group"){var u=c(a,v,l);o.push(l),l=u}continue}var d=f(v,"offsetx",0)+f(v,"startx",0),p=f(v,"offsety",0)+f(v,"starty",0);r.push({name:l.name+v.name,image:v.image,x:l.x+d+v.x,y:l.y+p+v.y,alpha:l.opacity*v.opacity,visible:l.visible&&v.visible,properties:f(v,"properties",{})})}return r};h.exports=s},2378:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(48646),c=e(14556),s=e(12920),a=e(28699),r=e(93560),o=e(21394),l=e(16586),v=e(78339),u=e(61136),d=e(95925),p=e(93392),g=function(x,T,S){var P=a(T),E=new l({width:P.width,height:P.height,name:x,tileWidth:P.tilewidth,tileHeight:P.tileheight,orientation:o(P.orientation),format:r.TILED_JSON,version:P.version,properties:P.properties,renderOrder:P.renderorder,infinite:P.infinite});E.orientation===s.HEXAGONAL&&(E.hexSideLength=P.hexsidelength,E.staggerAxis=P.staggeraxis,E.staggerIndex=P.staggerindex),E.layers=d(P,S),E.images=v(P);var R=p(P);return E.tilesets=R.tilesets,E.imageCollections=R.imageCollections,E.objects=u(P),E.tiles=c(E),f(E),E};h.exports=g},4281:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(28820),c=e(8847),s=function(o){return{x:o.x,y:o.y}},a=["id","name","type","rotation","properties","visible","x","y","width","height"],r=function(o,l,v){l===void 0&&(l=0),v===void 0&&(v=0);var u=f(o,a);if(u.x+=l,u.y+=v,o.gid){var d=c(o.gid);u.gid=d.gid,u.flippedHorizontal=d.flippedHorizontal,u.flippedVertical=d.flippedVertical,u.flippedAntiDiagonal=d.flippedAntiDiagonal}else o.polyline?u.polyline=o.polyline.map(s):o.polygon?u.polygon=o.polygon.map(s):o.ellipse?u.ellipse=o.ellipse:o.text?u.text=o.text:o.point?u.point=!0:u.rectangle=!0;return u};h.exports=r},61136:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72632),c=e(4281),s=e(15256),a=e(92044),r=function(o){for(var l=[],v=[],u=a(o);u.i<u.layers.length||v.length>0;){if(u.i>=u.layers.length){if(v.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}u=v.pop();continue}var d=u.layers[u.i];if(u.i++,d.opacity*=u.opacity,d.visible=u.visible&&d.visible,d.type!=="objectgroup"){if(d.type==="group"){var p=a(o,d,u);v.push(u),u=p}continue}d.name=u.name+d.name;for(var g=u.x+f(d,"startx",0)+f(d,"offsetx",0),x=u.y+f(d,"starty",0)+f(d,"offsety",0),T=[],S=0;S<d.objects.length;S++){var P=c(d.objects[S],g,x);T.push(P)}var E=new s(d);E.objects=T,l.push(E)}return l};h.exports=r},95925:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(43908),c=e(12920),s=e(92044),a=e(21394),r=e(72632),o=e(94990),l=e(8847),v=e(29633),u=function(d,p){for(var g=r(d,"infinite",!1),x=[],T=[],S=s(d);S.i<S.layers.length||T.length>0;){if(S.i>=S.layers.length){if(T.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}S=T.pop();continue}var P=S.layers[S.i];if(S.i++,P.type!=="tilelayer"){if(P.type==="group"){var E=s(d,P,S);T.push(S),S=E}continue}if(P.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+P.name+"'");continue}else if(P.encoding&&P.encoding==="base64"){if(P.chunks)for(var R=0;R<P.chunks.length;R++)P.chunks[R].data=f(P.chunks[R].data);P.data&&(P.data=f(P.data)),delete P.encoding}var A,w,O,L,F=[],I=0;if(g){var b=r(P,"startx",0)+P.x,G=r(P,"starty",0)+P.y;A=new o({name:S.name+P.name,x:S.x+r(P,"offsetx",0)+b*d.tilewidth,y:S.y+r(P,"offsety",0)+G*d.tileheight,width:P.width,height:P.height,tileWidth:d.tilewidth,tileHeight:d.tileheight,alpha:S.opacity*P.opacity,visible:S.visible&&P.visible,properties:r(P,"properties",[]),orientation:a(d.orientation)}),A.orientation===c.HEXAGONAL&&(A.hexSideLength=d.hexsidelength,A.staggerAxis=d.staggeraxis,A.staggerIndex=d.staggerindex);for(var N=0;N<P.height;N++){F[N]=[null];for(var U=0;U<P.width;U++)F[N][U]=null}for(N=0,K=P.chunks.length;N<K;N++)for(var Y=P.chunks[N],X=Y.x-b,B=Y.y-G,z=0,D=0,V=Y.data.length;D<V;D++){var k=I+X,W=z+B;w=l(Y.data[D]),w.gid>0?(O=new v(A,w.gid,k,W,d.tilewidth,d.tileheight),O.rotation=w.rotation,O.flipX=w.flipped,F[W][k]=O):(L=p?null:new v(A,-1,k,W,d.tilewidth,d.tileheight),F[W][k]=L),I++,I===Y.width&&(z++,I=0)}}else{A=new o({name:S.name+P.name,x:S.x+r(P,"offsetx",0)+P.x,y:S.y+r(P,"offsety",0)+P.y,width:P.width,height:P.height,tileWidth:d.tilewidth,tileHeight:d.tileheight,alpha:S.opacity*P.opacity,visible:S.visible&&P.visible,properties:r(P,"properties",[]),orientation:a(d.orientation)}),A.orientation===c.HEXAGONAL&&(A.hexSideLength=d.hexsidelength,A.staggerAxis=d.staggeraxis,A.staggerIndex=d.staggerindex);for(var H=[],$=0,K=P.data.length;$<K;$++)w=l(P.data[$]),w.gid>0?(O=new v(A,w.gid,I,F.length,d.tilewidth,d.tileheight),O.rotation=w.rotation,O.flipX=w.flipped,H.push(O)):(L=p?null:new v(A,-1,I,F.length,d.tilewidth,d.tileheight),H.push(L)),I++,I===P.width&&(F.push(H),I=0,H=[])}A.data=F,x.push(A)}return x};h.exports=u},93392:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(47975),c=e(97042),s=e(4281),a=e(39642),r=function(o){for(var l=[],v=[],u=null,d,p=0;p<o.tilesets.length;p++){var g=o.tilesets[p];if(g.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(g.image){var x=new f(g.name,g.firstgid,g.tilewidth,g.tileheight,g.margin,g.spacing,void 0,void 0,g.tileoffset);if(o.version>1){var T=void 0,S=void 0;if(Array.isArray(g.tiles)){T=T||{},S=S||{};for(var P=0;P<g.tiles.length;P++){var E=g.tiles[P];if(E.properties){var R={};E.properties.forEach(function(N){R[N.name]=N.value}),S[E.id]=R}if(E.objectgroup&&((T[E.id]||(T[E.id]={})).objectgroup=E.objectgroup,E.objectgroup.objects)){var A=E.objectgroup.objects.map(function(N){return s(N)});T[E.id].objectgroup.objects=A}E.animation&&((T[E.id]||(T[E.id]={})).animation=E.animation),E.type&&((T[E.id]||(T[E.id]={})).type=E.type)}}Array.isArray(g.wangsets)&&(T=T||{},S=S||{},a(g.wangsets,T)),T&&(x.tileData=T,x.tileProperties=S)}else if(g.tileproperties&&(x.tileProperties=g.tileproperties),g.tiles){x.tileData=g.tiles;for(d in x.tileData){var w=x.tileData[d].objectgroup;if(w&&w.objects){var O=w.objects.map(function(N){return s(N)});x.tileData[d].objectgroup.objects=O}}}x.updateTileData(g.imagewidth,g.imageheight),l.push(x)}else{var L=new c(g.name,g.firstgid,g.tilewidth,g.tileheight,g.margin,g.spacing,g.properties),F=0;for(P=0;P<g.tiles.length;P++){E=g.tiles[P];var I=E.image,b=parseInt(E.id,10),G=g.firstgid+b;L.addImage(G,I),F=Math.max(b,F)}L.maxId=F,v.push(L)}u&&(u.lastgid=g.firstgid-1),u=g}return{tilesets:l,imageCollections:v}};h.exports=r},39642:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){for(var c=0;c<e.length;c++){var s=e[c],a=c;if(s.name&&s.name!==""&&(a=s.name),Array.isArray(s.wangtiles)&&s.wangtiles.length>0){var r={},o={},l,v,u;if(Array.isArray(s.edgecolors))for(l=0;l<s.edgecolors.length;l++)u=1+l,v=s.edgecolors[l],v.name!==""&&(r[u]=v.name);if(Array.isArray(s.cornercolors))for(l=0;l<s.cornercolors.length;l++)u=1+l,v=s.cornercolors[l],v.name!==""&&(o[u]=v.name);if(Array.isArray(s.colors))for(l=0;l<s.colors.length;l++)v=s.colors[l],u=1+l,v.name!==""&&(r[u]=o[u]=v.name);for(var d=[r,o,r,o,r,o,r,o],p=0;p<s.wangtiles.length;p++){var g=s.wangtiles[p],x=f[g.tileid]||(f[g.tileid]={});x=x.wangid||(x.wangid={});for(var T=[],S=0;S<Math.min(d.length,g.wangid.length);S++){if(v=g.wangid[S],v===0){T.push(void 0);continue}var P=d[S][v];if(P!==void 0){T.push(P);continue}T.push(v)}x[a]=T}}}};h.exports=y},50044:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={AssignTileProperties:e(48646),Base64Decode:e(43908),BuildTilesetIndex:e(14556),CreateGroupLayer:e(92044),ParseGID:e(8847),ParseImageLayers:e(78339),ParseJSONTiled:e(2378),ParseObject:e(4281),ParseObjectLayers:e(61136),ParseTileLayers:e(95925),ParseTilesets:e(93392)}},73779:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(91963),s=e(7599),a=e(57911),r=e(66458),o=new f({initialize:function(v){this.scene=v,this.systems=v.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],v.sys.events.once(s.BOOT,this.boot,this),v.sys.events.on(s.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(s.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var l=this.systems.events;l.on(s.PRE_UPDATE,this.preUpdate,this),l.on(s.UPDATE,this.update,this),l.once(s.SHUTDOWN,this.shutdown,this)},addEvent:function(l){var v;return l instanceof a?(v=l,this.removeEvent(v),v.elapsed=v.startAt,v.hasDispatched=!1,v.repeatCount=v.repeat===-1||v.loop?999999999999:v.repeat):v=new a(l),this._pendingInsertion.push(v),v},delayedCall:function(l,v,u,d){return this.addEvent({delay:l,callback:v,args:u,callbackScope:d})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(l){Array.isArray(l)||(l=[l]);for(var v=0;v<l.length;v++){var u=l[v];r(this._pendingRemoval,u),r(this._pendingInsertion,u),r(this._active,u)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var l=this._pendingRemoval.length,v=this._pendingInsertion.length;if(!(l===0&&v===0)){var u,d;for(u=0;u<l;u++){d=this._pendingRemoval[u];var p=this._active.indexOf(d);p>-1&&this._active.splice(p,1),d.destroy()}for(u=0;u<v;u++)d=this._pendingInsertion[u],this._active.push(d);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(l,v){if(this.now=l,!this.paused){v*=this.timeScale;for(var u=0;u<this._active.length;u++){var d=this._active[u];if(!d.paused&&(d.elapsed+=v*d.timeScale,d.elapsed>=d.delay)){var p=d.elapsed-d.delay;if(d.elapsed=d.delay,!d.hasDispatched&&d.callback&&(d.hasDispatched=!0,d.callback.apply(d.callbackScope,d.args)),d.repeatCount>0){if(d.repeatCount--,p>=d.delay)for(;p>=d.delay&&d.repeatCount>0;)d.callback&&d.callback.apply(d.callbackScope,d.args),p-=d.delay,d.repeatCount--;d.elapsed=p,d.hasDispatched=!1}else d.hasDispatched&&this._pendingRemoval.push(d)}}}},shutdown:function(){var l;for(l=0;l<this._pendingInsertion.length;l++)this._pendingInsertion[l].destroy();for(l=0;l<this._active.length;l++)this._active[l].destroy();for(l=0;l<this._pendingRemoval.length;l++)this._pendingRemoval[l].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var v=this.systems.events;v.off(s.PRE_UPDATE,this.preUpdate,this),v.off(s.UPDATE,this.update,this),v.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(s.START,this.start,this),this.scene=null,this.systems=null}});c.register("Clock",o,"time"),h.exports=o},20517:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(6659),s=e(61286),a=e(72632),r=e(7599),o=new f({Extends:c,initialize:function(v,u){c.call(this),this.scene=v,this.systems=v.sys,this.elapsed=0,this.paused=!0,this.complete=!1,this.totalComplete=0,this.events=[];var d=this.systems.events;d.on(r.PRE_UPDATE,this.preUpdate,this),d.on(r.UPDATE,this.update,this),d.once(r.SHUTDOWN,this.destroy,this),u&&this.add(u)},preUpdate:function(l,v){this.paused||(this.elapsed+=v)},update:function(){if(!this.paused){var l,v=this.events,u=!1,d=this.systems,p;for(l=0;l<v.length;l++){var g=v[l];if(!g.complete&&g.time<=this.elapsed){if(g.complete=!0,this.totalComplete++,g.once&&(u=!0),g.set&&g.target)for(var x in g.set)g.target[x]=g.set[x];g.tween&&d.tweens.add(g.tween),g.sound&&(typeof g.sound=="string"?d.sound.play(g.sound):d.sound.play(g.sound.key,g.sound.config)),p=g.target?g.target:this,g.event&&this.emit(g.event,p),g.run&&g.run.call(p),g.stop&&this.stop()}}if(u)for(l=0;l<v.length;l++)v[l].complete&&v[l].once&&(v.splice(l,1),l--);this.totalComplete>=v.length&&(this.complete=!0)}},play:function(l){return l===void 0&&(l=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,l&&this.reset(),this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(){this.elapsed=0;for(var l=0;l<this.events.length;l++)this.events[l].complete=!1;return this.play(!1)},add:function(l){Array.isArray(l)||(l=[l]);var v=this.events,u=0;v.length>0&&(u=v[v.length-1].time);for(var d=0;d<l.length;d++){var p=l[d],g=a(p,"at",0),x=a(p,"in",null);x!==null&&(g=this.elapsed+x);var T=a(p,"from",null);T!==null&&(g=u+T),v.push({complete:!1,time:g,run:a(p,"run",null),event:a(p,"event",null),target:a(p,"target",null),set:a(p,"set",null),tween:a(p,"tween",null),sound:a(p,"sound",null),once:a(p,"once",!1),stop:a(p,"stop",!1)}),u=g}return this.complete=!1,this},clear:function(){return this.events=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var l=Math.min(this.totalComplete,this.events.length);return l/this.events.length},destroy:function(){var l=this.systems.events;l.off(r.PRE_UPDATE,this.preUpdate,this),l.off(r.UPDATE,this.update,this),l.off(r.SHUTDOWN,this.destroy,this),this.scene=null,this.systems=null,this.events=[]}});s.register("timeline",function(l){return new o(this.scene,l)}),h.exports=o},57911:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(72632),s=new f({initialize:function(r){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(r)},reset:function(a){if(this.delay=c(a,"delay",0),this.repeat=c(a,"repeat",0),this.loop=c(a,"loop",!1),this.callback=c(a,"callback",void 0),this.callbackScope=c(a,"callbackScope",this),this.args=c(a,"args",[]),this.timeScale=c(a,"timeScale",1),this.startAt=c(a,"startAt",0),this.paused=c(a,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay===0&&(this.repeat>0||this.loop))throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var a=this.delay+this.delay*this.repeat,r=this.elapsed+this.delay*(this.repeat-this.repeatCount);return r/a}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(a){a===void 0&&(a=!1),this.elapsed=this.delay,this.hasDispatched=!a,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});h.exports=s},97121:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Clock:e(73779),Timeline:e(20517),TimerEvent:e(57911)}},64532:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(66458),c=e(56694),s=e(5454),a=e(68710),r=e(91963),o=e(7599),l=e(91944),v=e(39366),u=e(68061),d=e(45641),p=e(56034),g=new c({initialize:function(T){this.scene=T,this.events=T.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.events.once(o.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(o.UPDATE,this.update,this),this.events.once(o.SHUTDOWN,this.shutdown,this)},create:function(x){Array.isArray(x)||(x=[x]);for(var T=[],S=0;S<x.length;S++){var P=x[S];P instanceof v||P instanceof d?T.push(P):Array.isArray(P.tweens)?T.push(p(this,P)):T.push(u(this,P))}return T.length===1?T[0]:T},add:function(x){var T=x,S=this.tweens;return T instanceof v||T instanceof d||(Array.isArray(T.tweens)?T=p(this,T):T=u(this,T)),S.push(T.reset()),T},addMultiple:function(x){for(var T,S=[],P=this.tweens,E=0;E<x.length;E++)T=x[E],T instanceof v||T instanceof d||(Array.isArray(T.tweens)?T=p(this,T):T=u(this,T)),P.push(T.reset()),S.push(T);return S},chain:function(x){var T=p(this,x);return this.tweens.push(T.init()),T},getChainedTweens:function(x){return x.getChainedTweens()},has:function(x){return this.tweens.indexOf(x)>-1},existing:function(x){return this.has(x)||this.tweens.push(x.reset()),this},addCounter:function(x){var T=a(this,x);return this.tweens.push(T.reset()),T},stagger:function(x,T){return l(x,T)},setLagSmooth:function(x,T){return x===void 0&&(x=1/1e-8),T===void 0&&(T=0),this.maxLag=x,this.lagSkip=Math.min(T,this.maxLag),this},setFps:function(x){return x===void 0&&(x=240),this.gap=1e3/x,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(x){var T=Date.now()-this.prevTime;T>this.maxLag&&(this.startTime+=T-this.lagSkip),this.prevTime+=T;var S=this.prevTime-this.startTime,P=S-this.nextTime,E=S-this.time*1e3;return P>0||x?(S/=1e3,this.time=S,this.nextTime+=P+(P>=this.gap?4:this.gap-P)):E=0,E},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(x){x===void 0&&(x=!1);var T=this.getDelta(x);if(!(T<=0)){this.processing=!0;var S,P,E=[],R=this.tweens;for(S=0;S<R.length;S++)P=R[S],P.update(T)&&E.push(P);var A=E.length;if(A&&R.length>0){for(S=0;S<A;S++){P=E[S];var w=R.indexOf(P);w>-1&&(P.isPendingRemove()||P.isDestroyed())&&(R.splice(w,1),P.destroy())}E.length=0}this.processing=!1}},remove:function(x){return this.processing?x.setPendingRemoveState():(f(this.tweens,x),x.setRemovedState()),this},reset:function(x){return this.existing(x),x.seek(),x.setActiveState(),this},makeActive:function(x){return this.existing(x),x.setActiveState(),this},each:function(x,T){var S,P=[null];for(S=1;S<arguments.length;S++)P.push(arguments[S]);return this.tweens.forEach(function(E){P[0]=E,x.apply(T,P)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(x){var T=[],S=this.tweens;Array.isArray(x)?x=s(x):x=[x];for(var P=x.length,E=0;E<S.length;E++)for(var R=S[E],A=0;A<P;A++)!R.isDestroyed()&&R.hasTarget(x[A])&&T.push(R);return T},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(x){return this.timeScale=x,this},isTweening:function(x){for(var T=this.tweens,S,P=0;P<T.length;P++)if(S=T[P],S.isPlaying()&&S.hasTarget(x))return!0;return!1},killAll:function(){for(var x=this.processing?this.getTweens():this.tweens,T=0;T<x.length;T++)x[T].destroy();return this.processing||(x.length=0),this},killTweensOf:function(x){for(var T=this.getTweensOf(x),S=0;S<T.length;S++)T[S].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(o.UPDATE,this.update,this),this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.events=null}});r.register("TweenManager",g,"tweens"),h.exports=g},63130:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){return e&&e.hasOwnProperty(f)?e[f]:c};h.exports=y},21902:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(35060),c=e(40587),s=function(a,r){var o=f.Power0;if(typeof a=="string")if(f.hasOwnProperty(a))o=f[a];else{var l="";if(a.indexOf(".")){l=a.substring(a.indexOf(".")+1);var v=l.toLowerCase();v==="in"?l="easeIn":v==="out"?l="easeOut":v==="inout"&&(l="easeInOut")}a=c(a.substring(0,a.indexOf(".")+1)+l),f.hasOwnProperty(a)&&(o=f[a])}else typeof a=="function"&&(o=a);if(!r)return o;var u=r.slice(0);return u.unshift(0),function(d){return u[0]=d,o.apply(this,u)}};h.exports=s},4840:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(63210),c=e(88332),s=e(47614),a={bezier:f,catmull:c,catmullrom:c,linear:s},r=function(o){if(o===null)return null;var l=a.linear;return typeof o=="string"?a.hasOwnProperty(o)&&(l=a[o]):typeof o=="function"&&(l=o),l};h.exports=r},28348:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){var s;if(e.hasOwnProperty(f)){var a=typeof e[f];a==="function"?s=function(r,o,l,v,u,d){return e[f](r,o,l,v,u,d)}:s=function(){return e[f]}}else typeof c=="function"?s=c:s=function(){return c};return s};h.exports=y},92407:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(53709),c=function(s){var a,r=[];if(s.hasOwnProperty("props"))for(a in s.props)a.substring(0,1)!=="_"&&r.push({key:a,value:s.props[a]});else for(a in s)f.indexOf(a)===-1&&a.substring(0,1)!=="_"&&r.push({key:a,value:s[a]});return r};h.exports=c},65868:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(10850),c=function(s){var a=f(s,"targets",null);return a===null||(typeof a=="function"&&(a=a.call()),Array.isArray(a)||(a=[a])),a};h.exports=c},9744:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(17489),c=e(61616);function s(v){return!!v.getActive&&typeof v.getActive=="function"}function a(v){return!!v.getStart&&typeof v.getStart=="function"}function r(v){return!!v.getEnd&&typeof v.getEnd=="function"}function o(v){return a(v)||r(v)||s(v)}var l=function(v,u){var d,p=function(Y,X,B){return B},g=function(Y,X,B){return B},x=null,T=typeof u;if(T==="number")p=function(){return u};else if(Array.isArray(u))g=function(){return u[0]},p=function(){return u[u.length-1]};else if(T==="string"){var S=u.toLowerCase(),P=S.substring(0,6)==="random",E=S.substring(0,3)==="int";if(P||E){var R=S.indexOf("("),A=S.indexOf(")"),w=S.indexOf(",");if(R&&A&&w){var O=parseFloat(S.substring(R+1,w)),L=parseFloat(S.substring(w+1,A));P?p=function(){return c(O,L)}:p=function(){return f(O,L)}}else throw new Error("invalid random() format")}else{S=S[0];var F=parseFloat(u.substr(2));switch(S){case"+":p=function(Y,X,B){return B+F};break;case"-":p=function(Y,X,B){return B-F};break;case"*":p=function(Y,X,B){return B*F};break;case"/":p=function(Y,X,B){return B/F};break;default:p=function(){return parseFloat(u)}}}}else if(T==="function")p=u;else if(T==="object")if(o(u))s(u)&&(x=u.getActive),r(u)&&(p=u.getEnd),a(u)&&(g=u.getStart);else if(u.hasOwnProperty("value"))d=l(v,u.value);else{var I=u.hasOwnProperty("to"),b=u.hasOwnProperty("from"),G=u.hasOwnProperty("start");if(I&&(b||G)){if(d=l(v,u.to),G){var N=l(v,u.start);d.getActive=N.getEnd}if(b){var U=l(v,u.from);d.getStart=U.getEnd}}}return d||(d={getActive:x,getEnd:p,getStart:g}),d};h.exports=l},68710:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(502),c=e(99730),s=e(20494),a=e(63130),r=e(21902),o=e(28348),l=e(10850),v=e(9744),u=e(72066),d=e(39366),p=function(g,x,T){if(x instanceof d)return x.parent=g,x;T===void 0?T=c:T=u(c,T);var S=l(x,"from",0),P=l(x,"to",1),E=[{value:S}],R=l(x,"delay",T.delay),A=l(x,"easeParams",T.easeParams),w=l(x,"ease",T.ease),O=v("value",P),L=new d(g,E),F=L.add(0,"value",O.getEnd,O.getStart,O.getActive,r(l(x,"ease",w),l(x,"easeParams",A)),o(x,"delay",R),l(x,"duration",T.duration),a(x,"yoyo",T.yoyo),l(x,"hold",T.hold),l(x,"repeat",T.repeat),l(x,"repeatDelay",T.repeatDelay),!1,!1);F.start=S,F.current=S,L.completeDelay=s(x,"completeDelay",0),L.loop=Math.round(s(x,"loop",0)),L.loopDelay=Math.round(s(x,"loopDelay",0)),L.paused=a(x,"paused",!1),L.persist=a(x,"persist",!1),L.callbackScope=l(x,"callbackScope",L);for(var I=f.TYPES,b=0;b<I.length;b++){var G=I[b],N=l(x,G,!1);if(N){var U=l(x,G+"Params",[]);L.setCallback(G,N,U)}}return L};h.exports=p},91944:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(21902),c=e(10850),s=e(83392),a=function(r,o){o===void 0&&(o={});var l,v=c(o,"start",0),u=c(o,"ease",null),d=c(o,"grid",null),p=c(o,"from",0),g=p==="first",x=p==="center",T=p==="last",S=typeof p=="number",P=Array.isArray(r),E=parseFloat(P?r[0]:r),R=P?parseFloat(r[1]):0,A=Math.max(E,R);if(P&&(v+=E),d){var w=d[0],O=d[1],L=0,F=0,I=0,b=0,G=[];T?(L=w-1,F=O-1):S?(L=p%w,F=Math.floor(p/w)):x&&(L=(w-1)/2,F=(O-1)/2);for(var N=s.MIN_SAFE_INTEGER,U=0;U<O;U++){G[U]=[];for(var Y=0;Y<w;Y++){I=L-Y,b=F-U;var X=Math.sqrt(I*I+b*b);X>N&&(N=X),G[U][Y]=X}}}var B=u?f(u):null;return d?l=function(z,D,V,k){var W=0,H=k%w,$=Math.floor(k/w);H>=0&&H<w&&$>=0&&$<O&&(W=G[$][H]);var K;if(P){var j=R-E;B?K=W/N*j*B(W/N):K=W/N*j}else B?K=W*E*B(W/N):K=W*E;return K+v}:l=function(z,D,V,k,W){W--;var H;g?H=k:x?H=Math.abs(W/2-k):T?H=W-k:S&&(H=Math.abs(p-k));var $;if(P){var K;x?K=(R-E)/W*(H*2):K=(R-E)/W*H,B?$=K*B(H/W):$=K}else B?$=W*A*B(H/W):$=H*E;return $+v},l};h.exports=a},68061:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(502),c=e(99730),s=e(20494),a=e(63130),r=e(21902),o=e(4840),l=e(28348),v=e(92407),u=e(65868),d=e(10850),p=e(9744),g=e(72066),x=e(39366),T=function(S,P,E){if(P instanceof x)return P.parent=S,P;E===void 0?E=c:E=g(c,E);var R=u(P);!R&&E.targets&&(R=E.targets);for(var A=v(P),w=d(P,"delay",E.delay),O=d(P,"duration",E.duration),L=d(P,"easeParams",E.easeParams),F=d(P,"ease",E.ease),I=d(P,"hold",E.hold),b=d(P,"repeat",E.repeat),G=d(P,"repeatDelay",E.repeatDelay),N=a(P,"yoyo",E.yoyo),U=a(P,"flipX",E.flipX),Y=a(P,"flipY",E.flipY),X=d(P,"interpolation",E.interpolation),B=function(J,Q,q,_){if(q==="texture"){var et=_,st=void 0;Array.isArray(_)?(et=_[0],st=_[1]):_.hasOwnProperty("value")?(et=_.value,Array.isArray(_.value)?(et=_.value[0],st=_.value[1]):typeof _.value=="string"&&(et=_.value)):typeof _=="string"&&(et=_),J.addFrame(Q,et,st,l(_,"delay",w),d(_,"duration",O),d(_,"hold",I),d(_,"repeat",b),d(_,"repeatDelay",G),a(_,"flipX",U),a(_,"flipY",Y))}else{var it=p(q,_),lt=o(d(_,"interpolation",X));J.add(Q,q,it.getEnd,it.getStart,it.getActive,r(d(_,"ease",F),d(_,"easeParams",L)),l(_,"delay",w),d(_,"duration",O),a(_,"yoyo",N),d(_,"hold",I),d(_,"repeat",b),d(_,"repeatDelay",G),a(_,"flipX",U),a(_,"flipY",Y),lt,lt?_:null)}},z=new x(S,R),D=0;D<A.length;D++)for(var V=A[D].key,k=A[D].value,W=0;W<R.length;W++)V==="scale"&&!R[W].hasOwnProperty("scale")?(B(z,W,"scaleX",k),B(z,W,"scaleY",k)):B(z,W,V,k);z.completeDelay=s(P,"completeDelay",0),z.loop=Math.round(s(P,"loop",0)),z.loopDelay=Math.round(s(P,"loopDelay",0)),z.paused=a(P,"paused",!1),z.persist=a(P,"persist",!1),z.callbackScope=d(P,"callbackScope",z);for(var H=f.TYPES,$=0;$<H.length;$++){var K=H[$],j=d(P,K,!1);if(j){var Z=d(P,K+"Params",[]);z.setCallback(K,j,Z)}}return z};h.exports=T},56034:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(502),c=e(20494),s=e(63130),a=e(65868),r=e(10850),o=e(68061),l=e(45641),v=function(u,d){if(d instanceof l)return d.parent=u,d;var p=new l(u);p.startDelay=r(d,"delay",0),p.completeDelay=c(d,"completeDelay",0),p.loop=Math.round(c(d,"loop",r(d,"repeat",0))),p.loopDelay=Math.round(c(d,"loopDelay",r(d,"repeatDelay",0))),p.paused=s(d,"paused",!1),p.persist=s(d,"persist",!0),p.callbackScope=r(d,"callbackScope",p);var g,x=f.TYPES;for(g=0;g<x.length;g++){var T=x[g],S=r(d,T,!1);if(S){var P=r(d,T+"Params",[]);p.setCallback(T,S,P)}}var E=r(d,"tweens",null);if(Array.isArray(E)){var R=[],A=a(d),w=void 0;for(A&&(w={targets:A}),g=0;g<E.length;g++)R.push(o(p,E[g],w));p.add(R)}return p};h.exports=v},79619:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={GetBoolean:e(63130),GetEaseFunction:e(21902),GetInterpolationFunction:e(4840),GetNewValue:e(28348),GetProps:e(92407),GetTargets:e(65868),GetValueOp:e(9744),NumberTweenBuilder:e(68710),StaggerBuilder:e(91944),TweenBuilder:e(68061)}},5570:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="active"},6383:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="complete"},72582:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="loop"},90281:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="pause"},80803:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="repeat"},13640:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="resume"},10472:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="start"},5379:h=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="stop"},43449:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="update"},61541:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports="yoyo"},54272:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={TWEEN_ACTIVE:e(5570),TWEEN_COMPLETE:e(6383),TWEEN_LOOP:e(72582),TWEEN_PAUSE:e(90281),TWEEN_RESUME:e(13640),TWEEN_REPEAT:e(80803),TWEEN_START:e(10472),TWEEN_STOP:e(5379),TWEEN_UPDATE:e(43449),TWEEN_YOYO:e(61541)}},75193:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={States:e(55303),Builders:e(79619),Events:e(54272),TweenManager:e(64532),Tween:e(39366),TweenData:e(15718),TweenFrameData:e(96490),BaseTween:e(502),TweenChain:e(45641)};h.exports=f},502:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(6659),s=e(54272),a=e(55303),r=new f({Extends:c,initialize:function(l){c.call(this),this.parent=l,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=a.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(o){return this.timeScale=o,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(s.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(s.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(s.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(s.TWEEN_COMPLETE,"onComplete")},complete:function(o){return o===void 0&&(o=0),o?(this.setCompleteDelayState(),this.countdown=o):this.onCompleteHandler(),this},completeAfterLoop:function(o){return o===void 0&&(o=0),this.loopCounter>o&&(this.loopCounter=o),this},remove:function(){return this.parent.remove(this),this},stop:function(){return!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(s.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(o){this.countdown-=o,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(s.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(o){return this.countdown-=o,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(s.TWEEN_START,"onStart"),o=0),o},updateCompleteDelay:function(o){this.countdown-=o,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(o,l,v){return v===void 0&&(v=[]),this.callbacks.hasOwnProperty(o)&&(this.callbacks[o]={func:l,params:v}),this},setPendingState:function(){this.state=a.PENDING},setActiveState:function(){this.state=a.ACTIVE},setLoopDelayState:function(){this.state=a.LOOP_DELAY},setCompleteDelayState:function(){this.state=a.COMPLETE_DELAY},setStartDelayState:function(){this.state=a.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=a.PENDING_REMOVE},setRemovedState:function(){this.state=a.REMOVED},setFinishedState:function(){this.state=a.FINISHED},setDestroyedState:function(){this.state=a.DESTROYED},isPending:function(){return this.state===a.PENDING},isActive:function(){return this.state===a.ACTIVE},isLoopDelayed:function(){return this.state===a.LOOP_DELAY},isCompleteDelayed:function(){return this.state===a.COMPLETE_DELAY},isStartDelayed:function(){return this.state===a.START_DELAY},isPendingRemove:function(){return this.state===a.PENDING_REMOVE},isRemoved:function(){return this.state===a.REMOVED},isFinished:function(){return this.state===a.FINISHED},isDestroyed:function(){return this.state===a.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(o){o.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});r.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],h.exports=r},65521:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(56694),c=e(54272),s=e(55303),a=new f({initialize:function(o,l,v,u,d,p,g,x,T,S){this.tween=o,this.targetIndex=l,this.duration=u,this.totalDuration=0,this.delay=0,this.getDelay=v,this.yoyo=d,this.hold=p,this.repeat=g,this.repeatDelay=x,this.repeatCounter=0,this.flipX=T,this.flipY=S,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(r){r===void 0&&(r=this.current),this.tween.targets[this.targetIndex][this.key]=r},setCreatedState:function(){this.state=s.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=s.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=s.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=s.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=s.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=s.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=s.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=s.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===s.CREATED},isDelayed:function(){return this.state===s.DELAY},isPendingRender:function(){return this.state===s.PENDING_RENDER},isPlayingForward:function(){return this.state===s.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===s.PLAYING_BACKWARD},isHolding:function(){return this.state===s.HOLD_DELAY},isRepeating:function(){return this.state===s.REPEAT_DELAY},isComplete:function(){return this.state===s.COMPLETE},setStateFromEnd:function(r){this.yoyo?this.onRepeat(r,!0,!0):this.repeatCounter>0?this.onRepeat(r,!0,!1):this.setCompleteState()},setStateFromStart:function(r){this.repeatCounter>0?this.onRepeat(r,!1):this.setCompleteState()},reset:function(){var r=this.tween,o=r.totalTargets,l=this.targetIndex,v=r.targets[l],u=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(v,u,0,l,o,r),this.repeatCounter=this.repeat===-1?s.MAX:this.repeat,this.setPendingRenderState();var d=this.duration+this.hold;this.yoyo&&(d+=this.duration);var p=d+this.repeatDelay;this.totalDuration=this.delay+d,this.repeat===-1?(this.totalDuration+=p*s.MAX,r.isInfinite=!0):this.repeat>0&&(this.totalDuration+=p*this.repeat),this.totalDuration>r.duration&&(r.duration=this.totalDuration),this.delay<r.startDelay&&(r.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(r,o,l){var v=this.tween,u=v.totalTargets,d=this.targetIndex,p=v.targets[d],g=this.key,x=g!=="texture";if(this.elapsed=r,this.progress=r/this.duration,this.flipX&&p.toggleFlipX(),this.flipY&&p.toggleFlipY(),x&&(o||l)&&(this.start=this.getStartValue(p,g,this.start,d,u,v)),l){this.setPlayingBackwardState(),this.dispatchEvent(c.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,x&&(this.end=this.getEndValue(p,g,this.start,d,u,v)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-r,x&&(this.current=this.start,p[g]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(c.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});h.exports=a},99730:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};h.exports=y},53709:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},39366:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(502),c=e(56694),s=e(54272),a=e(99325),r=e(61286),o=e(83392),l=e(55303),v=e(15718),u=e(96490),d=new c({Extends:f,initialize:function(g,x){f.call(this,g),this.targets=x,this.totalTargets=x.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(p,g,x,T,S,P,E,R,A,w,O,L,F,I,b,G){var N=new v(this,p,g,x,T,S,P,E,R,A,w,O,L,F,I,b,G);return this.totalData=this.data.push(N),N},addFrame:function(p,g,x,T,S,P,E,R,A,w){var O=new u(this,p,g,x,T,S,P,E,R,A,w);return this.totalData=this.data.push(O),O},getValue:function(p){p===void 0&&(p=0);var g=null;return this.data&&(g=this.data[p].current),g},hasTarget:function(p){return this.targets&&this.targets.indexOf(p)!==-1},updateTo:function(p,g,x){if(x===void 0&&(x=!1),p!=="texture")for(var T=0;T<this.totalData;T++){var S=this.data[T];S.key===p&&(S.isPlayingForward()||S.isPlayingBackward())&&(S.end=g,x&&(S.start=S.current))}return this},restart:function(){switch(this.state){case l.REMOVED:case l.FINISHED:this.seek(),this.parent.makeActive(this);break;case l.PENDING:case l.PENDING_REMOVE:this.parent.reset(this);break;case l.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(s.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,f.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(p,g,x){if(p===void 0&&(p=0),g===void 0&&(g=16.6),x===void 0&&(x=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;x||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(s.TWEEN_ACTIVE,"onActive");var T=this.paused;if(this.paused=!1,p>0){for(var S=Math.floor(p/g),P=p-S*g,E=0;E<S;E++)this.update(g);P>0&&this.update(P)}return this.paused=T,this.isSeeking=!1,this},initTweenData:function(p){p===void 0&&(p=!1),this.duration=0,this.startDelay=o.MAX_SAFE_INTEGER;for(var g=this.data,x=0;x<this.totalData;x++)g[x].reset(p);this.duration=Math.max(this.duration,.01);var T=this.duration,S=this.completeDelay,P=this.loopCounter,E=this.loopDelay;P>0?this.totalDuration=T+S+(T+E)*P:this.totalDuration=T+S},reset:function(p){return p===void 0&&(p=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=l.MAX),p||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(s.TWEEN_ACTIVE,"onActive")),this},update:function(p){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(p*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(p),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(p),!1;this.hasStarted||(this.startDelay-=p,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(s.TWEEN_START,"onStart"),p=0));var g=!1;if(this.isActive())for(var x=this.data,T=0;T<this.totalData;T++)x[T].update(p)&&(g=!0);this.elapsed+=p,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=p,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),g||this.nextState();var S=this.isPendingRemove();return S&&this.persist&&(this.setFinishedState(),S=!1),S},forward:function(p){return this.update(p),this},rewind:function(p){return this.update(-p),this},dispatchEvent:function(p,g){if(!this.isSeeking){this.emit(p,this,this.targets);var x=this.callbacks[g];x&&x.func.apply(this.callbackScope,[this,this.targets].concat(x.params))}},destroy:function(){f.prototype.destroy.call(this),this.targets=null}});r.register("tween",function(p){return this.scene.sys.tweens.add(p)}),a.register("tween",function(p){return this.scene.sys.tweens.create(p)}),h.exports=d},45641:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(66458),c=e(502),s=e(56694),a=e(54272),r=e(99325),o=e(61286),l=e(55303),v=new s({Extends:c,initialize:function(d){c.call(this,d),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?l.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive"),this},add:function(u){var d=this.parent.create(u);Array.isArray(d)||(d=[d]);for(var p=this.data,g=0;g<d.length;g++){var x=d[g];x.parent=this,p.push(x.reset())}return this.totalData=p.length,this},remove:function(u){return f(this.data,u),u.setRemovedState(),u===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(u){for(var d=this.data,p=0;p<this.totalData;p++)if(d[p].hasTarget(u))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(u){return u.seek(),u.setActiveState(),this},makeActive:function(u){return u.reset(),u.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(a.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var u=this.data,d=this.totalData,p=0;p<d;p++)u[p].reset(!1);this.currentIndex=0,this.currentTween=u[0]},update:function(u){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;u*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(u):this.isCompleteDelayed()?this.updateCompleteDelay(u):this.isStartDelayed()&&(u=this.updateStartCountdown(u));var d=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(u)&&this.nextTween()&&this.nextState(),d=this.isPendingRemove(),d&&this.persist&&(this.setFinishedState(),d=!1)),d},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(u){this.currentIndex=u,this.currentTween=this.data[u],this.currentTween.setActiveState(),this.currentTween.dispatchEvent(a.TWEEN_ACTIVE,"onActive")},dispatchEvent:function(u,d){this.emit(u,this);var p=this.callbacks[d];p&&p.func.apply(this.callbackScope,[this].concat(p.params))},destroy:function(){c.prototype.destroy.call(this),this.currentTween=null}});o.register("tweenchain",function(u){return this.scene.sys.tweens.chain(u)}),r.register("tweenchain",function(u){return this.scene.sys.tweens.create(u)}),h.exports=v},15718:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(65521),c=e(82897),s=e(56694),a=e(54272),r=new s({Extends:f,initialize:function(l,v,u,d,p,g,x,T,S,P,E,R,A,w,O,L,F){f.call(this,l,v,T,S,P,E,R,A,w,O),this.key=u,this.getActiveValue=g,this.getEndValue=d,this.getStartValue=p,this.ease=x,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=L,this.interpolationData=F},reset:function(o){f.prototype.reset.call(this);var l=this.tween.targets[this.targetIndex],v=this.key;o&&(l[v]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(l[v]=this.getActiveValue(l,v,0))},update:function(o){var l=this.tween,v=l.totalTargets,u=this.targetIndex,d=l.targets[u],p=this.key;if(!d)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=o,this.elapsed<=0&&(this.elapsed=0,o=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(a.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(d,p,d[p],u,v,l),this.end=this.getEndValue(d,p,this.start,u,v,l),this.current=this.start,d[p]=this.start,this.setPlayingForwardState(),!0;var g=this.isPlayingForward(),x=this.isPlayingBackward();if(g||x){var T=this.elapsed,S=this.duration,P=0,E=!1;T+=o,T>=S?(P=T-S,T=S,E=!0):T<0&&(T=0);var R=c(T/S,0,1);if(this.elapsed=T,this.progress=R,this.previous=this.current,E)g?(this.current=this.end,d[p]=this.end,this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(P)):(this.current=this.start,d[p]=this.start,this.setStateFromStart(P));else{g||(R=1-R);var A=this.ease(R);this.interpolation?this.current=this.interpolation(this.interpolationData,A):this.current=this.start+(this.end-this.start)*A,d[p]=this.current}this.dispatchEvent(a.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(o,l){var v=this.tween;if(!v.isSeeking){var u=v.targets[this.targetIndex],d=this.key,p=this.current,g=this.previous;v.emit(o,v,d,u,p,g);var x=v.callbacks[l];x&&x.func.apply(v.callbackScope,[v,u,d,p,g].concat(x.params))}},destroy:function(){f.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});h.exports=r},96490:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(65521),c=e(82897),s=e(56694),a=e(54272),r=new s({Extends:f,initialize:function(l,v,u,d,p,g,x,T,S,P,E){f.call(this,l,v,p,g,!1,x,T,S,P,E),this.key="texture",this.startTexture=null,this.endTexture=u,this.startFrame=null,this.endFrame=d,this.yoyo=T!==0},reset:function(o){f.prototype.reset.call(this);var l=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=l.texture.key,this.startFrame=l.frame.name),o&&l.setTexture(this.startTexture,this.startFrame)},update:function(o){var l=this.tween,v=this.targetIndex,u=l.targets[v];if(!u)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=o,this.elapsed<=0&&(this.elapsed=0,o=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(a.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&u.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var d=this.isPlayingForward(),p=this.isPlayingBackward();if(d||p){var g=this.elapsed,x=this.duration,T=0,S=!1;g+=o,g>=x?(T=g-x,g=x,S=!0):g<0&&(g=0);var P=c(g/x,0,1);this.elapsed=g,this.progress=P,S&&(d?(u.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(T)):(u.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(T))),this.dispatchEvent(a.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(o,l){var v=this.tween;if(!v.isSeeking){var u=v.targets[this.targetIndex],d=this.key;v.emit(o,v,d,u);var p=v.callbacks[l];p&&p.func.apply(v.callbackScope,[v,u,d].concat(p.params))}},destroy:function(){f.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});h.exports=r},55303:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};h.exports=y},56694:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(r){return!!r.get&&typeof r.get=="function"||!!r.set&&typeof r.set=="function"}function e(r,o,l){var v=l?r[o]:Object.getOwnPropertyDescriptor(r,o);return!l&&v.value&&typeof v.value=="object"&&(v=v.value),v&&y(v)?(typeof v.enumerable>"u"&&(v.enumerable=!0),typeof v.configurable>"u"&&(v.configurable=!0),v):!1}function f(r,o){var l=Object.getOwnPropertyDescriptor(r,o);return l?(l.value&&typeof l.value=="object"&&(l=l.value),l.configurable===!1):!1}function c(r,o,l,v){for(var u in o)if(o.hasOwnProperty(u)){var d=e(o,u,l);if(d!==!1){var p=v||r;if(f(p.prototype,u)){if(a.ignoreFinals)continue;throw new Error("cannot override final property '"+u+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(r.prototype,u,d)}else r.prototype[u]=o[u]}}function s(r,o){if(o){Array.isArray(o)||(o=[o]);for(var l=0;l<o.length;l++)c(r,o[l].prototype||o[l])}}function a(r){r||(r={});var o,l;if(r.initialize){if(typeof r.initialize!="function")throw new Error("initialize must be a function");o=r.initialize,delete r.initialize}else if(r.Extends){var v=r.Extends;o=function(){v.apply(this,arguments)}}else o=function(){};r.Extends?(o.prototype=Object.create(r.Extends.prototype),o.prototype.constructor=o,l=r.Extends,delete r.Extends):o.prototype.constructor=o;var u=null;return r.Mixins&&(u=r.Mixins,delete r.Mixins),s(o,u),c(o,r,!0,l),o}a.extend=c,a.mixin=s,a.ignoreFinals=!1,h.exports=a},72283:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){};h.exports=y},10618:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){return null};h.exports=y},78991:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s,a){if(a===void 0&&(a=e),c>0){var r=c-e.length;if(r<=0)return null}if(!Array.isArray(f))return e.indexOf(f)===-1?(e.push(f),s&&s.call(a,f),f):null;for(var o=f.length-1;o>=0;)e.indexOf(f[o])!==-1&&f.splice(o,1),o--;if(o=f.length,o===0)return null;c>0&&o>r&&(f.splice(r),o=r);for(var l=0;l<o;l++){var v=f[l];e.push(v),s&&s.call(a,v)}return f};h.exports=y},48522:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s,a,r){if(c===void 0&&(c=0),r===void 0&&(r=e),s>0){var o=s-e.length;if(o<=0)return null}if(!Array.isArray(f))return e.indexOf(f)===-1?(e.splice(c,0,f),a&&a.call(r,f),f):null;for(var l=f.length-1;l>=0;)e.indexOf(f[l])!==-1&&f.pop(),l--;if(l=f.length,l===0)return null;s>0&&l>o&&(f.splice(o),l=o);for(var v=l-1;v>=0;v--){var u=f[v];e.splice(c,0,u),a&&a.call(r,u)}return f};h.exports=y},58742:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){var c=e.indexOf(f);return c!==-1&&c<e.length&&(e.splice(c,1),e.push(f)),f};h.exports=y},30164:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(45838),c=function(s,a,r,o,l){o===void 0&&(o=0),l===void 0&&(l=s.length);var v=0;if(f(s,o,l))for(var u=o;u<l;u++){var d=s[u];d[a]===r&&v++}return v};h.exports=c},36337:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){var s,a=[null];for(s=3;s<arguments.length;s++)a.push(arguments[s]);for(s=0;s<e.length;s++)a[0]=e[s],f.apply(c,a);return e};h.exports=y},46208:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(45838),c=function(s,a,r,o,l){if(o===void 0&&(o=0),l===void 0&&(l=s.length),f(s,o,l)){var v,u=[null];for(v=5;v<arguments.length;v++)u.push(arguments[v]);for(v=o;v<l;v++)u[0]=s[v],a.apply(r,u)}return s};h.exports=c},2406:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){if(f.length){if(f.length===1)return f[0]}else return NaN;var s=1,a,r;if(c){if(e<f[0][c])return f[0];for(;f[s][c]<e;)s++}else for(;f[s]<e;)s++;return s>f.length&&(s=f.length),c?(a=f[s-1][c],r=f[s][c],r-e<=e-a?f[s]:f[s-1]):(a=f[s-1],r=f[s],r-e<=e-a?r:a)};h.exports=y},5454:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){f===void 0&&(f=[]);for(var c=0;c<e.length;c++)Array.isArray(e[c])?y(e[c],f):f.push(e[c]);return f};h.exports=y},71608:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(45838),c=function(s,a,r,o,l){o===void 0&&(o=0),l===void 0&&(l=s.length);var v=[];if(f(s,o,l))for(var u=o;u<l;u++){var d=s[u];(!a||a&&r===void 0&&d.hasOwnProperty(a)||a&&r!==void 0&&d[a]===r)&&v.push(d)}return v};h.exports=c},51463:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(45838),c=function(s,a,r,o,l){if(o===void 0&&(o=0),l===void 0&&(l=s.length),f(s,o,l))for(var v=o;v<l;v++){var u=s[v];if(!a||a&&r===void 0&&u.hasOwnProperty(a)||a&&r!==void 0&&u[a]===r)return u}return null};h.exports=c},72861:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){f===void 0&&(f=0),c===void 0&&(c=e.length);var s=f+Math.floor(Math.random()*c);return e[s]===void 0?null:e[s]};h.exports=y},24218:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){if(f===c)return e;var s=e.indexOf(f),a=e.indexOf(c);if(s<0||a<0)throw new Error("Supplied items must be elements of the same array");return s>a||(e.splice(s,1),a===e.length-1?e.push(f):e.splice(a,0,f)),e};h.exports=y},58258:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){if(f===c)return e;var s=e.indexOf(f),a=e.indexOf(c);if(s<0||a<0)throw new Error("Supplied items must be elements of the same array");return s<a||(e.splice(s,1),a===0?e.unshift(f):e.splice(a,0,f)),e};h.exports=y},51172:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){var c=e.indexOf(f);if(c>0){var s=e[c-1],a=e.indexOf(s);e[c]=s,e[a]=f}return e};h.exports=y},68396:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){var s=e.indexOf(f);if(s===-1||c<0||c>=e.length)throw new Error("Supplied index out of bounds");return s!==c&&(e.splice(s,1),e.splice(c,0,f)),f};h.exports=y},27555:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){var c=e.indexOf(f);if(c!==-1&&c<e.length-1){var s=e[c+1],a=e.indexOf(s);e[c]=s,e[a]=f}return e};h.exports=y},13401:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){var a=[],r,o=!1;if((c||s)&&(o=!0,c||(c=""),s||(s="")),f<e)for(r=e;r>=f;r--)o?a.push(c+r.toString()+s):a.push(r);else for(r=e;r<=f;r++)o?a.push(c+r.toString()+s):a.push(r);return a};h.exports=y},89955:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(67233),c=function(s,a,r){s===void 0&&(s=0),a===void 0&&(a=null),r===void 0&&(r=1),a===null&&(a=s,s=0);for(var o=[],l=Math.max(f((a-s)/(r||1)),0),v=0;v<l;v++)o.push(s),s+=r;return o};h.exports=c},53466:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(c,s,a){var r=c[s];c[s]=c[a],c[a]=r}function e(c,s){return c<s?-1:c>s?1:0}var f=function(c,s,a,r,o){for(a===void 0&&(a=0),r===void 0&&(r=c.length-1),o===void 0&&(o=e);r>a;){if(r-a>600){var l=r-a+1,v=s-a+1,u=Math.log(l),d=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*d*(l-d)/l)*(v-l/2<0?-1:1),g=Math.max(a,Math.floor(s-v*d/l+p)),x=Math.min(r,Math.floor(s+(l-v)*d/l+p));f(c,s,g,x,o)}var T=c[s],S=a,P=r;for(y(c,a,s),o(c[r],T)>0&&y(c,a,r);S<P;){for(y(c,S,P),S++,P--;o(c[S],T)<0;)S++;for(;o(c[P],T)>0;)P--}o(c[a],T)===0?y(c,a,P):(P++,y(c,P,r)),P<=s&&(a=P+1),s<=P&&(r=P-1)}};h.exports=f},75757:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(10850),c=e(18592),s=function(r,o,l){for(var v=[],u=0;u<r.length;u++)for(var d=0;d<o.length;d++)for(var p=0;p<l;p++)v.push({a:r[u],b:o[d]});return v},a=function(r,o,l){var v=f(l,"max",0),u=f(l,"qty",1),d=f(l,"random",!1),p=f(l,"randomB",!1),g=f(l,"repeat",0),x=f(l,"yoyo",!1),T=[];if(p&&c(o),g===-1)if(v===0)g=0;else{var S=r.length*o.length*u;x&&(S*=2),g=Math.ceil(v/S)}for(var P=0;P<=g;P++){var E=s(r,o,u);d&&c(E),T=T.concat(E),x&&(E.reverse(),T=T.concat(E))}return v&&T.splice(v),T};h.exports=a},66458:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72677),c=function(s,a,r,o){o===void 0&&(o=s);var l;if(!Array.isArray(a))return l=s.indexOf(a),l!==-1?(f(s,l),r&&r.call(o,a),a):null;for(var v=a.length-1,u=[];v>=0;){var d=a[v];l=s.indexOf(d),l!==-1&&(f(s,l),u.push(d),r&&r.call(o,d)),v--}return u};h.exports=c},8324:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72677),c=function(s,a,r,o){if(o===void 0&&(o=s),a<0||a>s.length-1)throw new Error("Index out of bounds");var l=f(s,a);return r&&r.call(o,l),l};h.exports=c},47427:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(45838),c=function(s,a,r,o,l){if(a===void 0&&(a=0),r===void 0&&(r=s.length),l===void 0&&(l=s),f(s,a,r)){var v=r-a,u=s.splice(a,v);if(o)for(var d=0;d<u.length;d++){var p=u[d];o.call(l,p)}return u}else return[]};h.exports=c},50147:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(72677),c=function(s,a,r){a===void 0&&(a=0),r===void 0&&(r=s.length);var o=a+Math.floor(Math.random()*r);return f(s,o)};h.exports=c},80402:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){var s=e.indexOf(f),a=e.indexOf(c);return s!==-1&&a===-1?(e[s]=c,!0):!1};h.exports=y},77640:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){f===void 0&&(f=1);for(var c=null,s=0;s<f;s++)c=e.shift(),e.push(c);return c};h.exports=y},38487:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){f===void 0&&(f=1);for(var c=null,s=0;s<f;s++)c=e.pop(),e.unshift(c);return c};h.exports=y},45838:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){var a=e.length;if(f<0||f>a||f>=c||c>a){if(s)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};h.exports=y},27847:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){var c=e.indexOf(f);return c!==-1&&c>0&&(e.splice(c,1),e.unshift(f)),f};h.exports=y},6034:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(45838),c=function(s,a,r,o,l){if(o===void 0&&(o=0),l===void 0&&(l=s.length),f(s,o,l))for(var v=o;v<l;v++){var u=s[v];u.hasOwnProperty(a)&&(u[a]=r)}return s};h.exports=c},18592:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){for(var f=e.length-1;f>0;f--){var c=Math.floor(Math.random()*(f+1)),s=e[f];e[f]=e[c],e[c]=s}return e};h.exports=y},28834:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){var f=/\D/g;return e.sort(function(c,s){return parseInt(c.replace(f,""),10)-parseInt(s.replace(f,""),10)}),e};h.exports=y},72677:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){if(!(f>=e.length)){for(var c=e.length-1,s=e[f],a=f;a<c;a++)e[a]=e[a+1];return e.length=c,s}};h.exports=y},17922:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(77290);function c(o,l){return String(o).localeCompare(l)}function s(o,l){var v=o.length;if(v<=1)return o;for(var u=new Array(v),d=1;d<v;d*=2){a(o,l,d,u);var p=o;o=u,u=p}return o}function a(o,l,v,u){var d=o.length,p=0,g=v*2,x,T,S,P,E;for(x=0;x<d;x+=g)for(T=x+v,S=T+v,T>d&&(T=d),S>d&&(S=d),P=x,E=T;;)if(P<T&&E<S)l(o[P],o[E])<=0?u[p++]=o[P++]:u[p++]=o[E++];else if(P<T)u[p++]=o[P++];else if(E<S)u[p++]=o[E++];else break}var r=function(o,l){if(l===void 0&&(l=c),!o||o.length<2)return o;if(f.features.stableSort)return o.sort(l);var v=s(o,l);return v!==o&&a(v,null,o.length,o),o};h.exports=r},96928:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){if(f===c)return e;var s=e.indexOf(f),a=e.indexOf(c);if(s<0||a<0)throw new Error("Supplied items must be elements of the same array");return e[s]=c,e[a]=f,e};h.exports=y},59959:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Matrix:e(13515),Add:e(78991),AddAt:e(48522),BringToTop:e(58742),CountAllMatching:e(30164),Each:e(36337),EachInRange:e(46208),FindClosestInSorted:e(2406),Flatten:e(5454),GetAll:e(71608),GetFirst:e(51463),GetRandom:e(72861),MoveDown:e(51172),MoveTo:e(68396),MoveUp:e(27555),MoveAbove:e(24218),MoveBelow:e(58258),NumberArray:e(13401),NumberArrayStep:e(89955),QuickSelect:e(53466),Range:e(75757),Remove:e(66458),RemoveAt:e(8324),RemoveBetween:e(47427),RemoveRandomElement:e(50147),Replace:e(80402),RotateLeft:e(77640),RotateRight:e(38487),SafeRange:e(45838),SendToBack:e(27847),SetAll:e(6034),Shuffle:e(18592),SortByDigits:e(28834),SpliceOne:e(72677),StableSort:e(17922),Swap:e(96928)}},97494:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){if(!Array.isArray(e)||!Array.isArray(e[0]))return!1;for(var f=e[0].length,c=1;c<e.length;c++)if(e[c].length!==f)return!1;return!0};h.exports=y},68428:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(76400),c=e(97494),s=function(a){var r="";if(!c(a))return r;for(var o=0;o<a.length;o++){for(var l=0;l<a[o].length;l++){var v=a[o][l].toString();v!=="undefined"?r+=f(v,2):r+="?",l<a[o].length-1&&(r+=" |")}if(o<a.length-1){r+=`
`;for(var u=0;u<a[o].length;u++)r+="---",u<a[o].length-1&&(r+="+");r+=`
`}}return r};h.exports=s},59521:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.reverse()};h.exports=y},51995:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){for(var f=0;f<e.length;f++)e[f].reverse();return e};h.exports=y},89011:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(63515),c=function(s){return f(s,180)};h.exports=c},42549:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(63515),c=function(s){return f(s,90)};h.exports=c},63515:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(97494),c=e(78581),s=function(a,r){if(r===void 0&&(r=90),!f(a))return null;if(typeof r!="string"&&(r=(r%360+360)%360),r===90||r===-270||r==="rotateLeft")a=c(a),a.reverse();else if(r===-90||r===270||r==="rotateRight")a.reverse(),a=c(a);else if(Math.abs(r)===180||r==="rotate180"){for(var o=0;o<a.length;o++)a[o].reverse();a.reverse()}return a};h.exports=s},14305:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(63515),c=function(s){return f(s,-90)};h.exports=c},27365:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(77640),c=e(38487),s=function(a,r,o){if(r===void 0&&(r=0),o===void 0&&(o=0),o!==0&&(o<0?f(a,Math.abs(o)):c(a,o)),r!==0)for(var l=0;l<a.length;l++){var v=a[l];r<0?f(v,Math.abs(r)):c(v,r)}return a};h.exports=s},78581:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){for(var f=e.length,c=e[0].length,s=new Array(c),a=0;a<c;a++){s[a]=new Array(f);for(var r=f-1;r>-1;r--)s[a][r]=e[r][a]}return s};h.exports=y},13515:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={CheckMatrix:e(97494),MatrixToString:e(68428),ReverseColumns:e(59521),ReverseRows:e(51995),Rotate180:e(89011),RotateLeft:e(42549),RotateMatrix:e(63515),RotateRight:e(14305),Translate:e(27365),TransposeMatrix:e(78581)}},40581:h=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=function(f,c){for(var s=new Uint8Array(f),a=s.length,r=c?"data:"+c+";base64,":"",o=0;o<a;o+=3)r+=y[s[o]>>2],r+=y[(s[o]&3)<<4|s[o+1]>>4],r+=y[(s[o+1]&15)<<2|s[o+2]>>6],r+=y[s[o+2]&63];return a%3===2?r=r.substring(0,r.length-1)+"=":a%3===1&&(r=r.substring(0,r.length-2)+"=="),r};h.exports=e},82329:h=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=new Uint8Array(256),f=0;f<y.length;f++)e[y.charCodeAt(f)]=f;var c=function(s){s=s.substr(s.indexOf(",")+1);var a=s.length,r=a*.75,o=0,l,v,u,d;s[a-1]==="="&&(r--,s[a-2]==="="&&r--);for(var p=new ArrayBuffer(r),g=new Uint8Array(p),x=0;x<a;x+=4)l=e[s.charCodeAt(x)],v=e[s.charCodeAt(x+1)],u=e[s.charCodeAt(x+2)],d=e[s.charCodeAt(x+3)],g[o++]=l<<2|v>>4,g[o++]=(v&15)<<4|u>>2,g[o++]=(u&3)<<6|d&63;return p};h.exports=c},78417:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={ArrayBufferToBase64:e(40581),Base64ToArrayBuffer:e(82329)}},22178:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Array:e(59959),Base64:e(78417),Objects:e(64615),String:e(50379),NOOP:e(72283),NULL:e(10618)}},32742:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){var f={};for(var c in e)Array.isArray(e[c])?f[c]=e[c].slice(0):f[c]=e[c];return f};h.exports=y},28699:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){var f,c,s;if(typeof e!="object"||e===null)return e;f=Array.isArray(e)?[]:{};for(s in e)c=e[s],f[s]=y(c);return f};h.exports=y},98611:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(42911),c=function(){var s,a,r,o,l,v,u=arguments[0]||{},d=1,p=arguments.length,g=!1;for(typeof u=="boolean"&&(g=u,u=arguments[1]||{},d=2),p===d&&(u=this,--d);d<p;d++)if((s=arguments[d])!=null)for(a in s)r=u[a],o=s[a],u!==o&&(g&&o&&(f(o)||(l=Array.isArray(o)))?(l?(l=!1,v=r&&Array.isArray(r)?r:[]):v=r&&f(r)?r:{},u[a]=c(g,v,o)):o!==void 0&&(u[a]=o));return u};h.exports=c},20494:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(5923),c=e(10850),s=function(a,r,o){var l=c(a,r,null);if(l===null)return o;if(Array.isArray(l))return f.RND.pick(l);if(typeof l=="object"){if(l.hasOwnProperty("randInt"))return f.RND.integerInRange(l.randInt[0],l.randInt[1]);if(l.hasOwnProperty("randFloat"))return f.RND.realInRange(l.randFloat[0],l.randFloat[1])}else if(typeof l=="function")return l(r);return l};h.exports=s},72632:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){var s=typeof e;return!e||s==="number"||s==="string"?c:e.hasOwnProperty(f)&&e[f]!==void 0?e[f]:c};h.exports=y},94324:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(10850),c=e(82897),s=function(a,r,o,l,v){v===void 0&&(v=o);var u=f(a,r,v);return c(u,o,l)};h.exports=s},10850:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){if(!e&&!s||typeof e=="number")return c;if(e&&e.hasOwnProperty(f))return e[f];if(s&&s.hasOwnProperty(f))return s[f];if(f.indexOf(".")!==-1){for(var a=f.split("."),r=e,o=s,l=c,v=c,u=!0,d=!0,p=0;p<a.length;p++)r&&r.hasOwnProperty(a[p])?(l=r[a[p]],r=r[a[p]]):u=!1,o&&o.hasOwnProperty(a[p])?(v=o[a[p]],o=o[a[p]]):d=!1;return u?l:d?v:c}else return c};h.exports=y},87701:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){for(var c=0;c<f.length;c++)if(!e.hasOwnProperty(f[c]))return!1;return!0};h.exports=y},53523:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){for(var c=0;c<f.length;c++)if(e.hasOwnProperty(f[c]))return!0;return!1};h.exports=y},19256:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e.hasOwnProperty(f)};h.exports=y},42911:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){if(!e||typeof e!="object"||e.nodeType||e===e.window)return!1;try{if(e.constructor&&!{}.hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};h.exports=y},30657:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(32742),c=function(s,a){var r=f(s);for(var o in a)r.hasOwnProperty(o)||(r[o]=a[o]);return r};h.exports=c},72066:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(32742),c=function(s,a){var r=f(s);for(var o in a)r.hasOwnProperty(o)&&(r[o]=a[o]);return r};h.exports=c},28820:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=e(19256),c=function(s,a){for(var r={},o=0;o<a.length;o++){var l=a[o];f(s,l)&&(r[l]=s[l])}return r};h.exports=c},22440:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c){if(!e||typeof e=="number")return!1;if(e.hasOwnProperty(f))return e[f]=c,!0;if(f.indexOf(".")!==-1){for(var s=f.split("."),a=e,r=e,o=0;o<s.length;o++)if(a.hasOwnProperty(s[o]))r=a,a=a[s[o]];else return!1;return r[s[s.length-1]]=c,!0}return!1};h.exports=y},64615:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Clone:e(32742),DeepCopy:e(28699),Extend:e(98611),GetAdvancedValue:e(20494),GetFastValue:e(72632),GetMinMaxValue:e(94324),GetValue:e(10850),HasAll:e(87701),HasAny:e(53523),HasValue:e(19256),IsPlainObject:e(42911),Merge:e(30657),MergeRight:e(72066),Pick:e(28820),SetValue:e(22440)}},69429:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return e.replace(/%([0-9]+)/g,function(c,s){return f[Number(s)-1]})};h.exports=y},76400:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f,c,s){f===void 0&&(f=0),c===void 0&&(c=" "),s===void 0&&(s=3),e=e.toString();var a=0;if(f+1>=e.length)switch(s){case 1:e=new Array(f+1-e.length).join(c)+e;break;case 3:var r=Math.ceil((a=f-e.length)/2),o=a-r;e=new Array(o+1).join(c)+e+new Array(r+1).join(c);break;default:e=e+new Array(f+1-e.length).join(c);break}return e};h.exports=y},76872:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e,f){return f===0?e.slice(1):e.slice(0,f-1)+e.slice(f)};h.exports=y},8051:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e.split("").reverse().join("")};h.exports=y},76583:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var f=Math.random()*16|0,c=e==="x"?f:f&3|8;return c.toString(16)})};h.exports=y},40587:h=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(e){return e&&e[0].toUpperCase()+e.slice(1)};h.exports=y},50379:(h,y,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */h.exports={Format:e(69429),Pad:e(76400),RemoveAt:e(76872),Reverse:e(8051),UppercaseFirst:e(40587),UUID:e(76583)}}},m={};function C(h){var y=m[h];if(y!==void 0)return y.exports;var e=m[h]={exports:{}};return n[h](e,e.exports,C),e.exports}C.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var M=C(92491);return M})())})(E5);const P5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE0AAABECAYAAADEBrh4AAAEhUlEQVR4Xu2bvYrVQBTH72IjCGu7YiEEFAQFQStfwGILsbCw1acQa8EH8B0sLKy28AXEQkVQEBQuWIiClauFjShn4YSTk/k4X5PN9eY2mmTmn3N+M5mZzH+zs1p+agI76hpLhVUPreu6v+v1egAxdU7CbK5aEHtEbANoIErBwQ34OSm0OWohNG9sA2hnb11efXn2rgcH0Pg5KTSshwFSLU1DpOpZtRCaN7YRNBBGcBgcPaeBhmVBD36nz13pq//4/HYkxYcHmmSEVpReEhpCsiaKwV18eF7CuC/z4cGnwfCAF6DxorQiYhsN/FHBRSYaqbVR0A7uPD/qOPtPbhz9C8f4fzzuuk7U0zxaKWhavWJP04rRZ5H3Dq51+Orkavfa774KHNNJqJWWBFotNhW0mlgpUagLPwqKD3jSMc2jlYKm1StC04pxCNqxKAfNMg6VtLx6o9eoKRKFxvj15kRy+ZFadpSStGh59cTQLMHlGuDR3t0e2M1795ODv7TXWrRy0KgWlMnFJoZmCS4FTRqYBJpWC18LUZsvr6R6o3dPELSK8Ylgblq0Ef88/snbJXn88eu30ZOQfPeUQMM75F59UKMWXCqo3Czs1cLHkjfmpYPdAbD3+4f9cWpCGUCDRGHsOvXye7EVIFEoW1oioMDt61eLWk9fvC6OafSR8mphIPwxrXU53jFG0KhAqQWgnGZah7KYNIDCnljT4IM2jwmu13pGDYr2enJMoyI00ZR4bolAk0UwtIVLPTU3CYCO5FeKSVK/Vqa63W3diKTjR2pHGK5Lk/PEUANguV6FZhH93+ss0AwtvEBboBkIGKpsnYVnYDSqsnUWXji0uVt4uESxWosRwEBjoyw8r7XYFBqIe7xK/uojDTb1SkW914i4pLGUym2lhecFNxm0SGdLkrRkI0CikyqjcqMivUqPs+VpACsoWk8FzZOox9mK9FCbQ/MkapkMpvI9veDExkruRhavMtLZssQ1GbTIRKOcLUjeEtdk0KISldpkPLFID3USaJZEcbdV4mzVtswxSa+WFxbWb+J7avxFjYXHk7Y0ZgS4pBvl9Relthu4SLVFKGrBZoLEWpT6Dh54o3UaiMFjkLLK4JokUQyI9jirhcfHspKFV2sAD6js4pavrayJcmjcwoPeQHujdEyjgXNrUWMJeuEl12koypOj5yU3bmm9ce2W9+K5LsaKpPVZmQXaAs1AwFBl6WkeaDCQzvErPENOzavM3sJrTsBwg+RfQoIOLjf4F2uSe6S+kkudk2jNsUzSwoNAPW7UHB2kSPiTGSuSoKd6DZLEUiqzQDMQVBkrkW6URsuQV9MqKmgeN8rzFV5TAgbxIjSPG8W3dDxahryaVjkWNyqX0UZOBJBMzsCwuD6RWk27jlJc3NM0bhT/XoDGdFz7+kouxeIiaNpES9+MarUik43SynoE3t6Bve3Cmb1irDU3KirRSJ0mbhQGmHOl4Nso+pvCQWoGDYWj3CgKjxq9mzJL5kAXxzSvG0Vvyj8X3LTeRXNp6kZFPhJz0lq2uw2tsUAzQPsHNxUSn69dDPMAAAAASUVORK5CYII=",R5={"lizard_m_hit_anim_f0.png":{frame:{x:2,y:2,w:15,h:19},rotated:!1,trimmed:!0,spriteSourceSize:{x:1,y:6,w:15,h:19},sourceSize:{w:16,h:28},pivot:{x:.5,y:.5}},"lizard_m_idle_anim_f0.png":{frame:{x:21,y:2,w:15,h:19},rotated:!1,trimmed:!0,spriteSourceSize:{x:1,y:9,w:15,h:19},sourceSize:{w:16,h:28},pivot:{x:.5,y:.5}},"lizard_m_idle_anim_f1.png":{frame:{x:2,y:25,w:15,h:19},rotated:!1,trimmed:!0,spriteSourceSize:{x:1,y:9,w:15,h:19},sourceSize:{w:16,h:28},pivot:{x:.5,y:.5}},"lizard_m_run_anim_f0.png":{frame:{x:21,y:25,w:15,h:19},rotated:!1,trimmed:!0,spriteSourceSize:{x:1,y:9,w:15,h:19},sourceSize:{w:16,h:28},pivot:{x:.5,y:.5}},"lizard_m_run_anim_f1.png":{frame:{x:40,y:2,w:15,h:19},rotated:!1,trimmed:!0,spriteSourceSize:{x:1,y:7,w:15,h:19},sourceSize:{w:16,h:28},pivot:{x:.5,y:.5}},"lizard_m_run_anim_f2.png":{frame:{x:40,y:25,w:15,h:19},rotated:!1,trimmed:!0,spriteSourceSize:{x:1,y:8,w:15,h:19},sourceSize:{w:16,h:28},pivot:{x:.5,y:.5}},"lizard_m_idle_anim_f3.png":{frame:{x:2,y:48,w:15,h:18},rotated:!1,trimmed:!0,spriteSourceSize:{x:1,y:10,w:15,h:18},sourceSize:{w:16,h:28},pivot:{x:.5,y:.5}},"lizard_m_run_anim_f3.png":{frame:{x:21,y:48,w:15,h:17},rotated:!1,trimmed:!0,spriteSourceSize:{x:1,y:11,w:15,h:17},sourceSize:{w:16,h:28},pivot:{x:.5,y:.5}},"lizard_m_idle_anim_f2.png":{frame:{x:59,y:2,w:16,h:16},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:12,w:16,h:16},sourceSize:{w:16,h:28},pivot:{x:.5,y:.5}}},A5={app:"http://free-tex-packer.com",version:"0.6.5",image:"lizard.png",format:"RGBA8888",size:{w:77,h:68},scale:1},w5={frames:R5,meta:A5},O5="/assets/Sky-30767d22.png",L5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAWCAYAAADafVyIAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAV1JREFUeNqsVTFOAzEQ9Fr3BRSkVEkDJVXuFRRESpuOX1yqu1/Q0SJBwSuSipI0oUJKxCMcz+YMPscb7EtGsmTLu7M7vt1bMsaoVDRlycbVcknJTgiQsurJxDi0+yQ/nZr54/3P7xl7p+Y/6FSlg2qj1HrKi/eJ0LnZ56rQWdk7ZKjQfbLPUUH40pIRCI6y93HzqnbNWD29X0WvUc7Elfr5wMZRSOReEMmPbt9Ugf3u5UMNZlPVC0IC4AQK+0RkYbb4mLM7dQmA/HrxhUajou3miwXxyVmB98s4O0hI3glwbpAYebQPYCCV3SnAJyQXG42bSyo/oVSlhqRwHqDpqudhr2/QzL+PZoXOyR7v7Oo7VUVHgZQ9SPHGi9WKz3bgHH4jkUIIVRTR1m+7848Y1bGhys/MVltt7zqBWHkpj0wct/WIF8bi4fr0SIQNbJ1f6BN1cE4589r5hXd7AQYABzp8SxrFuRsAAAAASUVORK5CYII=",F5="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAA8AAD/4QMvaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA3LjEtYzAwMCA3OS5lZGEyYjNmYWMsIDIwMjEvMTEvMTctMTc6MjM6MTkgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMy4xIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpBRjI0RDEzMzAzRDExMUVFODc5NEMwMjNFRTdDQkRGOCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpBRjI0RDEzNDAzRDExMUVFODc5NEMwMjNFRTdDQkRGOCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkFGMjREMTMxMDNEMTExRUU4Nzk0QzAyM0VFN0NCREY4IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkFGMjREMTMyMDNEMTExRUU4Nzk0QzAyM0VFN0NCREY4Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+/+4ADkFkb2JlAGTAAAAAAf/bAIQABgQEBAUEBgUFBgkGBQYJCwgGBggLDAoKCwoKDBAMDAwMDAwQDA4PEA8ODBMTFBQTExwbGxscHx8fHx8fHx8fHwEHBwcNDA0YEBAYGhURFRofHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8f/8AAEQgAeAB4AwERAAIRAQMRAf/EAIQAAAIDAQEBAQAAAAAAAAAAAAIDAQQFBgAHCAEBAQEBAQAAAAAAAAAAAAAAAAECAwQQAAIBAwIEBAQDBwIHAAAAAAECEQAhAzEEQVESBWFxIhOBkTIGocEU0eFCUnKSFbGCYqKy0iMkJREBAQEAAwEBAQAAAAAAAAAAAAERIQISMUET/9oADAMBAAIRAxEAPwD89bbdZMMBIsOQIn417ZW5TB3Hce4QOksLn0qbnzFXVnY5d/ufc6iEnxRY+VXT0N99vII/8YB4BF/ZV09L2975u37C2F2DqmMKEAAANlBsNYqVfSr2buu722F/bcjruRAM8OINZPRj/cO+b1M/pH0yNfx/Ki+6Md77qylvdQLYR0Lp8qunum7bve8xyzBcuQ/S+QdQURFlkL8waunutr7W75vT3Inc5MftEQFZEAVpEe3AW/nSHpy/ad/kx963u6xEq5bIfA9bknTyrPX6Tsu7ju3cc2TpyNK6hLwZ4a1qt+6YO59w9k4veZF4FSZEaC5ND3TNv3ju+JIO6drQCxkgeE8aYf0rV7HvN0+6bK+5yOAhBxsS3rJ9DQukRV6t9e1cEDxi9c48j2P+YcSZopqsSwrQLrM0FruA9vtuRVYMD0gsLj6h4Cp2qqeyZvYUjjP+tOosLixxpJXSbxNXAyVsCNBQHNrCBQbfYWOF0yBJbJJQmCIkaiqrl+0Fv1e5YxfUH+omsdLyStQi4MCeFdKqZsOFQHNqqrmzITC+QES5gY516OYB/hmjfWOSxzAJPDlXOPOKwOp8Zoouq9jVBKYsdTpSEWN6z/4nJylQJv8AxCnZaq7ZwNvjHhUiHrkEVVECDJnSgPrEAaEa1Bo9mdxnx/V0A8LAX0PhW4uMPtrdO83MnQkD4MRXPr9I0jkUmx+dbUSZAauhq3FFWDlJ2pxpis6tcjpMG1X8dI5lTYeVc3nemaInqANhVUYJZiSfCrCG78//AC2MiOpRHxqdvi6q7XIPYQeFZ6pFgZEa5AFaUYKFSBrzoHIqgayTRWh23cOmcIhgMRI4RWoMHaP0b/df1NI8mNc+v1IvJlR2tE8tD+NbaGhcZQWsrCB8L0U95ZGCmCwhTyJtVWLhzyoUEC0SfKpbw31+uPG8H8prj6ebU/rV/lq+h79an8tX0CXfILFTT2Pbjeh9s2KCCSCPganbtwaTh3IVQp/CsyqcN6nAH5Vv0aMb1F+kHxEU0087/B0SpPWRYeNPRotp3FVzB3J6RGg8as7GqrNlTeZ3GJwGdiAVMiWn86x13SHY91mmDhLH+kyK3ta0z9S8ENhccbSPyq8rozvc5AhH+I/dU5UTbjemGDFfNT+dS6vWh2+42y4wp26sQJ6iq3NdJY4iG82q+r9OhPIqsedPUDf1O3Ygja4gpGhC/sq8GCbdbQen9JhLCb9KxI5WpwLDpsBsMmb2MPvFQVQKtpNjofxqXFxV2272apGTaYXcaelb/MVJYLTdw7eoUL27BMS3oWOfKrwC/wAlsmHUO2be44osf9N6cKMb/toCk9r28n6h0rz5kUyGOg+1V+2N7u3G62O32/sqHQFVh2mI0Gnz/Grwsjk9nvs+2+4NzmxZHLDJmsTPUCxmTxrEvI6HJ9x9xOIhVRD/AAtc/nXXVexfcXdOkdfQBwIFx+NNXRr90d2+kFFAtIQVEXO1fcG+yb9TuNwybREyNkRBBJ6YUAqGOpqNdY+dK5GIAmJH5VzjkLGAItakiHHJAtr41sQHmJ1/GgsM2X9KyG4jqCza5EmOdStKuMhTPPwqAyFJufx4cjRDw0QBbwFVU+7Hp186o2Oyko+PJiADu0M5kBYvPhE1VjBDn/N7sm7HJnj+8muUvKNMMTjkkGfpA1t5111pKE6jlQMRkiWJvwioLO06Tm64ICDqBOvLhxqtRyNzE1yjkKb24UB9XjWtEyP20MOYr0EsSfRYeYoEqQeZXgaKItFhbzoDDGgYovWoNPtJnMsN0hSJFrgi68dav4MvChXvu7QkEpkyyR4MRwrjPpjTLD5CK7NPfTUBILT8qC1s1yjG+dRIaRj4afvqrHIlr9I8Yrk51KG/lVgKV4m3OqC6bzNiLA0DT0jauG5GDx0pQvG041I5UUcyKCVN6ByUVd7Znx49wOpeov6VkSATxtetQ1UUt/nd4WuxyZZP+6a5/qLxOgFdWnpLMOQqC1g6CpVgGvJnSqqy7OcfSphRc8oBmqriWYdRI4VwchK/76uoJ2Xnoauqn3l4m4qegw5EbbuQQbGl7GlYHHtqJFSUODLzrWqIG9qaGqbVdFvti9W9xg6LJYDUgDS/OtSoRiRcnet62NulRlfpVrmCTrpoK5ycq29v9vdy3WNXxZcMMSB1Fgbf7TXXy0N/tjvYZkVcLsP5cmv9wWmU17H2D7iSP/VQmJI97H+bVZKaPJ2j7hDJ1bB3xkywxtjeRpwapZSVyG3wbLIh6+pXHJtfwrljB2PY9qZvVkyKsSfUNeI+mr5i49j2Xa3UsWyjp4FhJH9tPMMH+h7KBJfMPDqH/bTxExcTsfZDsG3Bz5knq6BKxK2Ct6eJ8aviLijh2PbT0h/cLE3hgIv5VJ0iYsjYdkDgFc0RqHGvyFa8xRjZ9iBMDP1Lb6v3U8wO9jsoCkHPfW4t/wAtXINXsPZu0b/dtjw59xhyYl6nylQ6KpMSQq9U30q8Ejm9mwXu27BPURkYBhxIYiePnXLreRujuefDhC4pE/UxJvXb009i7pvCtmI8ZP5mnow/B3TdjqLZGJ1ueU09GL+z7ru/dRs2cLhZWITIrOhYfwsF58yaelkcBjjqJmBFcnNIEuRMDWqHyggL85orzEH5XNENLN7EAaLE62JnSmqrownXzoCGZgSonkKaGhoED4mgnqMa0Gt9v5cuLcYs23zttsh9OTMp6SUkEoTr8KuDE2hnue5IAKl26YH/ABGK5z6RpO4JF5gV0taMRsRHqciL2E/nVgLIJAPMWNQXNnlxjFjXPD4iZ6DxI0GlahI5HGBDDTw8a4RiDBA8+dbBA8qCZopjdPtGTciw/bVCccza4qBkLPUJkfKqCmDQFrF9KC528p7mItcIwaNNPIit/gzdgxG8zsNeo34amuM+jSlyAzCZsdB/pW2onqnS1XQ1cihLXY2H7aaq5sMzIBlESs6ibDU1ocopBNtR+NcY5pE3mqopt+VUeJ52piDMEGdSKKhbfTagLqk1ROmtQGpMVRb2Lhc2MwLOpjgb6VqfFipiyKO57o9ARWyPCL9IBY2HgK5z6Lykn6bCLHWtqib+NAzEFuSPjRV3aNiRlZxKK3rQzBvpbhVwcnK8bxXGVzEGUiTV0SrITa55U1R9Sg63q6JXIII46U0QGIFyD86aJV5Og85poMMrMBFz41dDQZjkKodtHAzoQ3T6hDW51qUU2PTvNx6rjI8kiDZjXL9VbXdYlWGaD8a1qjXd7XqE5Fp6hp6bnax6sqBf6hV9Q2LGz3OBzCZFLBrDqAN/M1Z2hr//2Q==",I5="/assets/Mountains-217838e7.png",D5="/assets/Middle-3ea1286e.png",B5="/assets/foreground-236a2a51.png",b5=-1,G5=25,N5=!1,V5=[{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,7,7,7,7,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,7,7,7,7,7,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,7,7,7,7,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,7,7,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,7,7,7,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,7,7,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:25,id:1,name:"ground",opacity:1,type:"tilelayer",visible:!0,width:25,x:0,y:0}],z5=2,k5=1,U5="orthogonal",X5="right-down",Y5="1.10.1",W5=120,H5=[{columns:1,firstgid:1,image:"../../../../../../Downloads/desert_tiles.png",imageheight:840,imagewidth:120,margin:0,name:"desert_tiles",spacing:0,tilecount:7,tileheight:120,tiles:[{id:0,properties:[{name:"collides",type:"bool",value:!0}]},{id:5,properties:[{name:"collides",type:"bool",value:!0}]}],tilewidth:120}],$5=120,K5="map",Z5="1.10",j5=25,J5={compressionlevel:b5,height:G5,infinite:N5,layers:V5,nextlayerid:z5,nextobjectid:k5,orientation:U5,renderorder:X5,tiledversion:Y5,tileheight:W5,tilesets:H5,tilewidth:$5,type:K5,version:Z5,width:j5},Q5="/assets/desert_tiles-544edfc7.png",q5=-1,_5=30,t6=!1,e6=[{data:[5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,2,2,2,1,2,2,2,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,2,1,1,1,1,1,1,1,2,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,1,2,1,1,1,1,1,2,1,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,2,1,1,1,1,1,1,1,2,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,1,5,1,5,1,1,1,1,1,5,1,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,1,5,5,5,5,5,1,5,1,5,1,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,1,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,1,5,5,1,1,1,1,1,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,1,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,1,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,1,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,1,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,1,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,1,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,1,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,5,5,5,5,5,5,5,5,5,5,1,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,5,5,5,5,5,5,5,5,5,5,5,5,1,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,5,5,5,5,6,5,5,5,5,5,5,5,5,5,5,5,5,1,5,5,1,5,5,5,5,5,5,6,5,5,5,5,5,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,5,5,5,5,5,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,1,1,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,1,1,1,1,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6],height:30,id:1,name:"Dungeon",opacity:1,type:"tilelayer",visible:!0,width:30,x:0,y:0}],i6=2,s6=1,n6="orthogonal",r6="right-down",a6="1.10.1",o6=120,h6=[{columns:1,firstgid:1,image:"desert_tiles.png",imageheight:840,imagewidth:120,margin:0,name:"desert_tiles",spacing:0,tilecount:7,tileheight:120,tiles:[{id:0,properties:[{name:"collides",type:"bool",value:!0}]},{id:5,properties:[{name:"collides",type:"bool",value:!0}]}],tilewidth:120}],l6=120,u6="map",f6="1.10",d6=30,c6={compressionlevel:q5,height:_5,infinite:t6,layers:e6,nextlayerid:i6,nextobjectid:s6,orientation:n6,renderorder:r6,tiledversion:a6,tileheight:o6,tilesets:h6,tilewidth:l6,type:u6,version:f6,width:d6},v6={hash:"gei6WO2TDM5QJJpWHwa+EAnJ+Aw",spine:"3.8.55",x:-260.24,y:13.48,width:611.1,height:710.31,images:"./images/",audio:"C:/Users/Rafael/Desktop/SpineWork/game/shadow"},p6=[{name:"root"},{name:"center",parent:"root",length:90.25,rotation:80.33,x:-7.43,y:310.17},{name:"bone2",parent:"center",length:139.75,rotation:-36.41,x:92.24,y:.34},{name:"bone3",parent:"bone2",length:53.93,rotation:-25.03,x:137.17,y:1.34},{name:"bone4",parent:"bone2",length:27.32,rotation:-82.5,x:124.27,y:-6.17},{name:"bone5",parent:"bone2",length:47.93,rotation:120.86,x:115.75,y:10.9},{name:"bone6",parent:"bone5",length:155.07,rotation:17.11,x:48.36,y:1.36},{name:"bone7",parent:"bone6",length:163.83,rotation:53.16,x:156.57,y:-.17},{name:"bone8",parent:"bone7",length:46.83,rotation:49.19,x:163.83},{name:"bone9",parent:"bone4",length:95.94,rotation:-17.91,x:27.47,y:-1.42},{name:"bone10",parent:"bone9",length:90.68,rotation:27.56,x:94.94,y:.14},{name:"bone11",parent:"bone10",length:26.09,rotation:23.61,x:88.43,y:.17},{name:"bone12",parent:"center",length:141.4,rotation:166.37,x:-.11,y:30.75},{name:"bone13",parent:"bone12",length:140.23,rotation:-24.03,x:140.37,y:-4.94},{name:"bone14",parent:"bone13",length:77.33,rotation:31.35,x:143.78,y:-.86},{name:"bone15",parent:"center",length:149.69,rotation:-150.18,x:12.73,y:-26.55},{name:"bone16",parent:"bone15",length:101.55,rotation:-29.89,x:148.04,y:-1.55},{name:"bone17",parent:"bone16",length:68.1,rotation:27.91,x:104.71,y:-.48},{name:"IK_noga_l",parent:"root",x:85.69,y:113.56,transform:"noRotationOrReflection",color:"ff3f00ff"},{name:"IK_noga_r",parent:"root",x:-170.76,y:128.69,transform:"noRotationOrReflection",color:"ff3f00ff"},{name:"IK_ruka_l",parent:"center",rotation:-80.33,x:78.93,y:-240.41,color:"ff3f00ff"},{name:"IK_ruka_r",parent:"center",rotation:-80.33,x:17.68,y:221.01,color:"ff3f00ff"},{name:"bone18",parent:"bone3",length:63.77,rotation:90.91,x:53.25,y:1.17},{name:"bone19",parent:"bone18",length:66.2,rotation:-67.39,x:64.92,y:-2.09},{name:"bone20",parent:"bone19",length:24.74,rotation:33.29,x:65.86,y:.32},{name:"bone21",parent:"bone18",length:53.98,rotation:-26.8,x:76.15,y:1.36},{name:"bone22",parent:"bone21",length:27.6,rotation:-40.07,x:53.87,y:.93},{name:"bone23",parent:"bone22",length:22.01,rotation:63.18,x:27.92,y:.34},{name:"bone24",parent:"bone18",length:75.11,rotation:-11.16,x:88.78,y:7.3},{name:"bone25",parent:"bone24",length:35.92,rotation:75.35,x:75.11},{name:"bone26",parent:"bone25",length:24.44,rotation:-83.99,x:35.92},{name:"bone27",parent:"bone18",length:43.02,rotation:36.34,x:92.73,y:16.87},{name:"bone28",parent:"bone27",length:17.24,rotation:22.86,x:43.15,y:.65},{name:"bone29",parent:"bone28",length:10.9,rotation:-71.56,x:16.97,y:1.38},{name:"bone30",parent:"bone18",length:58.78,rotation:72.03,x:70.11,y:9.53},{name:"bone31",parent:"bone30",length:23.22,rotation:-33.59,x:59.26,y:.45}],g6=[{name:"Kisty 2",bone:"root",attachment:"Kisty 2"},{name:"Predpletshye 2",bone:"root",attachment:"Predpletshye 2"},{name:"Pletsho 2",bone:"root",attachment:"Pletsho 2"},{name:"Bedro 2",bone:"root",attachment:"Bedro 2"},{name:"Goleny 2",bone:"root",attachment:"Goleny 2"},{name:"Taz",bone:"root",attachment:"Taz"},{name:"Givot",bone:"root",attachment:"Givot"},{name:"Tors",bone:"root",attachment:"Tors"},{name:"Bedro",bone:"root",attachment:"Bedro"},{name:"Goleny",bone:"root",attachment:"Goleny"},{name:"Pletsho",bone:"root",attachment:"Pletsho"},{name:"Predpleshie",bone:"root",attachment:"Predpleshie"},{name:"Kisti",bone:"root",attachment:"Kisti"},{name:"Head",bone:"root",attachment:"Head"}],m6=[{name:"IK_noga_l",bones:["bone15","bone16"],target:"IK_noga_l",bendPositive:!1},{name:"IK_noga_r",order:1,bones:["bone12","bone13"],target:"IK_noga_r",bendPositive:!1},{name:"IK_ruka_l",order:2,bones:["bone9","bone10"],target:"IK_ruka_l"},{name:"IK_ruka_r",order:3,bones:["bone6","bone7"],target:"IK_ruka_r"}],x6=[{name:"default",attachments:{Head:{Head:{type:"mesh",uvs:[.60892,.23644,.61326,.23417,.6137,.2234,.61271,.21458,.61558,.21262,.62528,.22614,.6297,.24123,.62892,.25514,.62562,.26827,.6319,.26925,.63543,.25827,.6383,.26121,.64139,.27375,.64205,.2857,.64062,.29511,.63543,.30647,.63345,.31451,.63223,.34349,.62793,.37601,.61734,.40971,.60492,.42553,.58716,.40731,.57613,.38145,.57172,.36107,.56753,.34638,.56013,.3358,.55043,.33168,.55042,.32155,.55605,.31509,.55902,.31528,.55538,.30764,.55009,.29863,.54987,.28687,.55847,.27688,.56046,.28217,.56002,.28648,.56465,.28589,.5673,.28824,.56619,.28276,.55936,.26924,.55936,.25768,.56686,.23808,.57215,.23965,.57094,.24612,.57083,.25356,.57822,.26022,.58075,.24612,.57943,.23762,.57171,.21998,.57325,.20176,.58417,.17707,.58781,.17884,.58792,.20059,.59079,.21156,.60028,.21626,.60601,.22233,.60572,.38065],triangles:[56,23,16,18,56,16,15,8,9,15,9,14,13,9,12,13,14,9,9,11,12,9,10,11,8,16,37,17,18,16,16,23,24,16,24,37,8,15,16,24,29,37,25,28,29,24,25,29,28,25,27,25,26,27,37,29,30,30,35,37,35,36,37,30,31,35,31,32,35,32,33,35,35,33,34,37,45,8,8,45,0,45,46,0,38,44,45,37,38,45,44,38,39,39,40,44,44,40,43,43,40,41,43,41,42,0,54,55,0,46,54,54,47,53,54,46,47,47,48,53,53,49,52,51,52,50,50,52,49,53,48,49,0,1,8,8,1,7,7,1,6,6,1,5,1,2,5,2,4,5,2,3,4,19,20,56,20,21,56,19,56,18,21,22,56,22,23,56],vertices:[4,27,17.81,19.7,.24745,26,18.38,25.13,.28147,29,-22.97,-2.78,.04469,28,72,-22.93,.42638,4,27,19.73,11.22,.74203,26,26.81,23.01,.14028,29,-30.1,-7.75,.00235,28,75,-31.09,.11534,3,27,31.31,9.62,.98779,26,33.46,32.62,.00587,28,86.69,-31.16,.00634,1,27,40.95,10.91,1,1,27,42.71,5.27,1,1,27,26.91,-12.4,1,3,27,10.08,-19.82,.9915,26,50.16,.4,.00654,24,47.85,25.99,.00197,5,27,-4.85,-17.37,.71007,26,41.24,-11.82,.22077,25,77.82,-34.65,.01782,23,82.78,36.01,.00708,24,33.73,20.55,.04426,5,27,-18.61,-10.11,.0955,26,28.55,-20.83,.34565,25,62.31,-33.38,.13901,23,70.17,26.88,.09565,24,18.19,19.84,.32419,5,27,-20.45,-22.1,.0051,26,38.42,-27.87,.05045,25,65.33,-45.13,.02459,23,80.11,19.93,.01815,24,22.68,8.57,.90171,1,24,36.33,7.85,1,1,24,35.97,1.5,1,1,24,26.52,-9.91,1,2,23,88.1,-5.24,.00373,24,15.54,-16.86,.99627,3,23,80.63,-12.68,.13364,24,5.22,-18.97,.8661,22,84.22,-81.4,26e-5,4,3,122.01,75.57,5e-5,23,65.86,-18.35,.74965,24,-10.25,-15.61,.2326,22,73.3,-69.94,.01771,4,3,117.25,67.37,.00134,23,58.21,-23.97,.89877,24,-19.73,-16.11,.03485,22,65.17,-65.04,.06504,3,3,111.4,36.47,.0503,23,40.51,-49.97,.59269,22,34.37,-58.7,.35701,3,3,99.23,2.43,.39674,23,15.77,-76.32,.17786,22,.53,-45.99,.4254,3,3,74.9,-31.52,.9933,23,-20.08,-97.74,.00526,22,-33.03,-21.13,.00145,1,3,49.25,-45.84,1,1,3,17.55,-22.41,1,4,3,-.37,7.79,.87986,35,-70.84,40.22,.02324,34,22.51,73.15,.05675,22,7.47,53.51,.04015,4,3,-6.31,30.65,.43947,35,-49.39,30.32,.14931,34,34.9,53.04,.27919,22,30.42,59.09,.13202,4,3,-12.53,47.35,.17797,35,-32.53,24.53,.38727,34,45.74,38.89,.3536,22,47.22,65.04,.08116,4,3,-25.36,60.33,.03987,35,-14.36,26.22,.8441,34,61.81,30.25,.10179,22,60.4,77.66,.01424,3,3,-43.39,66.85,.00212,35,2.12,36.04,.99779,22,67.21,95.59,9e-5,2,3,-42.17,77.74,24e-5,35,9.77,28.19,.99976,2,3,-30.64,83.48,.00155,35,6.89,15.63,.99845,3,3,-24.98,82.62,.00288,35,2.64,11.8,.99681,22,82.69,76.93,31e-5,1,35,13.42,10.74,1,1,35,27.51,10.84,1,1,35,36.68,2.02,1,5,33,-13.41,11.8,.00392,32,23.93,17.84,.01659,31,58.26,26.38,0,35,32.36,-17.26,.96186,34,76.67,-31.83,.01763,5,33,-18.78,7.5,.00671,32,18.15,21.57,.0258,31,51.49,27.58,0,35,25.63,-15.82,.93344,34,71.87,-26.9,.03406,4,33,-23.5,7.94,.01626,32,17.07,26.19,.05709,35,22.99,-11.88,.83665,34,71.84,-22.16,.09,5,33,-22.09,-.87,.06837,32,9.15,22.06,.21807,31,43.01,24.54,.00483,35,17.05,-18.54,.41865,34,63.21,-24.43,.29008,5,33,-24.18,-6.16,.126,32,3.47,22.37,.36567,31,37.66,22.62,.02646,35,11.63,-20.27,.15472,34,57.74,-22.86,.32715,5,33,-18.45,-3.53,.33525,32,7.78,17.77,.48387,31,43.41,20.05,.00342,35,17.29,-23.04,.03411,34,60.91,-28.31,.14335,2,33,-5.02,10.83,.99717,34,76.52,-40.27,.00283,1,33,7.44,11.92,1,1,33,29.81,-.59,1,3,33,29.01,-10.88,.99638,32,15.82,-29.58,.00164,31,69.22,-20.45,.00197,4,29,42.98,30.24,2e-5,33,21.84,-9.16,.94289,32,15.18,-22.23,.03085,31,65.77,-13.93,.02624,5,29,40.63,37.95,.00192,33,13.79,-9.65,.57643,32,12.17,-14.75,.21605,28,48.67,48.91,.00351,31,60.09,-8.21,.20209,5,29,24.88,40.29,.07466,33,7.85,-24.43,.00236,32,-3.73,-13.79,.00522,28,42.42,34.26,.17508,31,45.07,-13.5,.74268,3,29,25.08,24.27,.44888,28,57.97,30.4,.30238,31,52.73,-27.57,.24874,4,30,-16.84,-3.77,.00339,29,30.4,16.35,.77734,28,66.98,33.55,.13255,31,61.14,-32.09,.08672,2,30,-1.4,14.83,.91674,29,50.52,2.94,.08326,1,30,18.5,16.17,1,1,30,49.1,1.42,1,1,30,48.74,-5.82,1,2,30,25.81,-11.09,.90248,29,27.59,-26.83,.09752,2,30,15.4,-19.03,.33656,29,18.61,-17.31,.66344,5,27,40.67,34.87,.00591,26,15.15,52.37,.00975,30,14.35,-37.93,.0107,29,-.3,-18.25,.82067,28,92.69,-4.9,.15299,4,27,33.4,24.29,.03748,26,21.31,41.12,.06609,29,-12.84,-15.5,.4405,28,86.86,-16.34,.45592,3,3,56.23,2.24,.27804,23,-23.73,-59.34,.00297,22,1.03,-3,.719],hull:56,edges:[0,2,2,4,4,6,6,8,8,10,10,12,12,14,14,16,16,18,18,20,20,22,22,24,24,26,26,28,28,30,30,32,32,34,34,36,36,38,38,40,40,42,42,44,44,46,46,48,48,50,50,52,52,54,54,56,56,58,58,60,60,62,62,64,64,66,66,68,68,70,70,72,72,74,74,76,76,78,78,80,80,82,82,84,84,86,86,88,88,90,90,92,92,94,94,96,96,98,98,100,100,102,102,104,104,106,106,108,108,110,0,110],width:1922,height:1082}},"Kisty 2":{"Kisty 2":{type:"mesh",uvs:[.61465,.56831,.63057,.55158,.63853,.55535,.64132,.56996,.64145,.58928,.64955,.6105,.65565,.6442,.65207,.64773,.64716,.62864,.63946,.6112,.62978,.60178,.63031,.62346,.62699,.64443,.62288,.65763,.61956,.65457,.62182,.63901,.62142,.62652,.6185,.60979,.61439,.62676,.60337,.64373,.59979,.6409,.60749,.61804,.60789,.58363],triangles:[13,14,12,14,15,12,7,8,6,12,15,11,8,5,6,18,19,21,19,20,21,15,16,11,8,9,5,18,21,17,16,17,11,17,10,11,21,22,17,9,4,5,9,10,4,10,17,0,17,22,0,10,3,4,3,1,2,1,3,0,3,10,0],vertices:[1,11,-2.12,11.69,1,1,11,12.25,44.21,1,1,11,27.07,49.78,1,1,11,40.62,40.03,1,1,11,52.98,23.16,1,1,11,78.98,13.52,1,1,11,109.72,-9.33,1,1,11,106.34,-16.44,1,1,11,86.66,-5.12,1,1,11,63.65,1.64,1,1,11,42.58,-.88,1,1,11,57.04,-19.38,1,1,11,65.05,-41.55,1,1,11,66.91,-57.77,1,1,11,59.8,-58.77,1,1,11,53.55,-42.56,1,1,11,45.07,-32.01,1,1,11,29.98,-20.54,1,1,11,34.22,-40.07,1,1,11,27.67,-67.31,1,1,11,20.29,-68.82,1,1,11,17.94,-40.1,1,1,11,-3.07,-9.36,1],hull:23,edges:[0,2,2,4,4,6,6,8,8,10,10,12,12,14,14,16,16,18,18,20,20,22,22,24,24,26,26,28,28,30,30,32,32,34,34,36,36,38,38,40,40,42,42,44,0,44],width:1922,height:1082}},Taz:{Taz:{type:"mesh",uvs:[.48231,.51745,.48584,.49021,.48981,.47963,.50007,.47101,.51342,.4716,.5229,.47767,.53029,.48786,.53559,.50315,.53581,.50902,.53349,.5296,.51595,.55428,.50647,.55742,.50636,.55428,.49676,.55428,.48816,.54664,.48397,.53214,.51251,.48268,.5092,.50423,.50655,.52578,.50303,.54969,.50005,.48268,.49089,.49149,.4867,.51873,.49166,.54263,.52299,.48659,.5306,.50129,.52828,.52852,.51648,.54596],triangles:[9,27,26,9,10,27,9,26,8,8,25,7,8,26,25,14,23,13,13,23,19,14,15,23,15,22,23,23,22,18,15,0,22,21,22,1,22,0,1,11,12,10,10,12,27,13,19,12,12,19,27,19,18,27,19,23,18,27,18,26,26,18,17,24,17,16,26,17,25,25,24,6,24,25,17,18,22,17,17,22,21,17,21,20,17,20,16,7,25,6,1,2,21,21,2,20,16,5,24,6,24,5,16,4,5,4,16,3,16,20,3,20,2,3],vertices:[2,1,15.55,53.5,.14401,12,-9.02,-26.12,.85599,2,1,45.74,51.77,.56973,12,-38.57,-32.51,.43027,2,1,58.31,46.17,.69941,12,-52.18,-30.47,.30059,2,1,70.82,28.3,.88,12,-69.01,-16.59,.12,2,1,74.5,2.91,.99784,12,-79.34,6.89,.00216,2,1,71.09,-16.17,.92705,15,-55.79,20.02,.07295,2,1,62.61,-32.03,.70739,15,-40.55,29.56,.29261,2,1,48.02,-44.84,.40325,15,-21.52,33.42,.59675,2,1,41.82,-46.32,.32337,15,-15.4,31.62,.67663,2,1,19.13,-45.67,.03057,15,3.96,19.78,.96943,3,1,-12.87,-16.93,.6741,12,-.45,49.36,2e-5,15,17.43,-21.07,.32588,3,1,-19.28,.47,.88272,12,10.38,34.3,.07386,15,14.33,-39.36,.04342,3,1,-15.97,1.25,.86096,12,7.4,32.66,.10747,15,11.08,-38.39,.03156,2,1,-19.07,19.43,.31995,12,15.24,15.97,.68005,2,1,-13.7,37.12,55e-5,12,14.79,-2.51,.99945,2,1,.42,47.7,.01009,12,4.02,-16.47,.98991,2,1,62.4,2.61,.99712,12,-67.76,10.41,.00288,2,1,38.34,4.96,.97838,12,-43.95,14.58,.02162,2,1,14.5,6.06,.92494,12,-20.68,19.89,.07506,3,1,-11.65,-2.06,.89212,12,2.35,34.69,.05226,15,8.97,-33.37,.05562,2,1,58.37,26.22,.85031,12,-57.57,-11.27,.14969,2,1,46.01,41.97,.61987,12,-41.45,-23.13,.38013,2,1,15.61,44.96,.14968,12,-11.35,-17.89,.85032,2,1,-8.28,31.2,.01296,12,8,1.74,.98704,2,1,61.6,-17.96,.87208,15,-46.67,16.85,.12792,2,1,48.39,-35.05,.50181,15,-26.71,25.11,.49819,2,1,18.59,-35.61,.02713,15,-.57,10.78,.97287,2,1,-3.82,-16.42,.55484,15,9.33,-17.01,.44516],hull:16,edges:[0,2,2,4,4,6,6,8,8,10,10,12,12,14,14,16,16,18,18,20,20,22,22,24,24,26,26,28,28,30,0,30],width:1922,height:1082}},Pletsho:{Pletsho:{type:"mesh",uvs:[.53242,.40122,.51118,.40821,.49033,.42323,.47086,.4421,.46162,.43057,.46201,.41136,.48915,.3869,.52632,.35266,.53812,.34568,.54245,.35616,.54323,.37013,.53658,.36996,.50703,.39183,.47021,.42287],triangles:[4,5,13,11,7,8,11,8,9,11,9,10,12,6,7,12,7,11,0,12,11,0,11,10,1,12,0,13,5,6,2,6,12,2,12,1,13,6,2,3,13,2,4,13,3],vertices:[1,6,28.99,22.81,1,1,6,69.73,14.77,1,1,6,112.96,15.09,1,2,6,155.28,20.25,.88935,7,11.35,17.03,.11065,1,7,9.81,-4.63,1,2,6,158.81,-16.94,.31071,7,-8.39,-14.69,.68929,1,6,100.56,-22.28,1,1,6,20.49,-30.35,1,1,6,-3.38,-29,1,1,6,-6.92,-15.39,1,1,6,-2.74,-.78,1,1,6,9.08,-5.68,1,1,6,70.59,-4.64,1,1,6,148.75,.46,1],hull:11,edges:[0,2,2,4,4,6,6,8,8,10,10,12,12,14,14,16,16,18,18,20,0,20],width:1922,height:1082}},Givot:{Givot:{type:"mesh",uvs:[.51343,.39744,.5034,.40467,.48806,.46309,.48524,.50482,.49745,.51817,.51813,.52374,.53661,.51706,.54193,.48145,.55696,.44084,.55884,.42414,.54694,.40133,.52502,.39299,.5388,.40908,.52632,.42886,.51523,.46132,.51072,.50252,.49364,.49885,.49622,.46511,.50373,.42915,.51739,.407,.55099,.42556,.54398,.44919,.53449,.48259,.53067,.50754],triangles:[17,2,18,14,17,18,21,22,14,7,22,21,16,2,17,15,17,14,15,14,22,16,17,15,3,2,16,23,15,22,7,23,22,6,23,7,4,16,15,3,16,4,5,15,23,4,15,5,5,23,6,19,0,11,12,11,10,20,10,9,12,10,20,13,11,12,19,11,13,19,18,1,19,1,0,18,19,13,8,20,9,21,12,20,21,20,8,13,12,21,14,18,13,14,13,21,18,2,1,7,21,8],vertices:[1,2,43.57,43.21,1,2,2,24.79,52.13,.99983,1,143.14,27.58,17e-5,2,2,-41.74,31.19,.19341,1,77.16,50.22,.80659,2,2,-78.7,4.69,21e-5,1,31.69,50.82,.99979,1,1,19.81,25.95,1,1,1,18.03,-14.2,1,2,2,-21.78,-77.06,.02003,1,28.98,-48.75,.97997,2,2,13.54,-58.58,.33113,1,68.37,-54.85,.66887,2,2,65.47,-50.21,.93327,1,115.13,-78.93,.06673,2,2,81.22,-40.68,.97618,1,133.47,-80.6,.02382,2,2,83.97,-7.14,.99996,1,155.59,-55.24,4e-5,1,2,62.17,30.04,1,2,2,67.23,-1.26,.99992,1,145.6,-40.57,8e-5,1,2,35.23,1.97,1,2,2,-5.06,-6.02,.01713,1,84.59,-1.5,.98287,1,1,39.35,2.39,1,2,2,-63.03,-2.86,.00164,1,39.82,35.45,.99836,2,2,-32.77,18.15,.19157,1,76.64,34.39,.80843,2,2,5.68,33.77,.94311,1,116.86,24.15,.05689,1,2,41.08,30.61,1,2,2,69.91,-30.58,.97529,1,130.36,-65.76,.02471,2,2,41.94,-37.92,.81825,1,103.5,-55.07,.18175,2,2,2.98,-48.87,.22036,1,65.64,-40.76,.77964,2,2,-21.9,-61.69,.0234,1,38.01,-36.31,.9766],hull:12,edges:[0,2,2,4,4,6,6,8,8,10,10,12,12,14,14,16,16,18,18,20,20,22,0,22],width:1922,height:1082}},Bedro:{Bedro:{type:"mesh",uvs:[.48243,.51983,.46755,.58921,.44927,.65215,.45282,.65665,.45553,.67017,.46314,.67497,.4677,.67227,.4721,.67587,.48986,.62691,.51281,.54882,.50808,.54281,.50368,.52299,.49641,.51698,.49906,.52908,.48864,.56697,.47682,.61039,.46518,.65438,.50673,.55104,.49591,.59106,.47986,.64042,.47004,.6658,.45554,.65104,.46547,.61352,.47733,.56713,.48542,.52928],triangles:[6,5,16,16,5,4,4,21,16,4,3,21,3,2,21,16,21,22,22,21,2,7,19,8,6,20,7,7,20,19,20,6,16,20,16,19,16,22,19,22,15,19,1,22,2,19,15,8,9,18,17,9,8,18,8,15,18,22,1,15,15,23,18,23,14,18,15,1,23,18,14,17,23,1,0,23,24,14,23,0,24,14,13,17,14,24,13,17,10,9,17,13,10,13,11,10,24,12,13,24,0,12,13,12,11],vertices:[1,12,-8.78,-24.17,1,2,12,71.55,-24.66,.99955,13,-54.83,-46.03,45e-5,2,12,147.64,-33.71,.00552,13,18.35,-23.32,.99448,1,13,17.04,-15.03,1,1,13,23.82,-1.07,1,2,12,161.44,-.1,.27491,13,17.27,13,.72509,2,12,155.62,7.1,.70875,13,9.03,17.21,.29125,2,12,156.32,16.38,.93085,13,5.88,25.96,.06915,1,12,94.74,29.78,1,1,12,.14,41.5,1,1,12,-2.76,30.7,1,1,12,-19.89,15.27,1,1,12,-21.08,-.09,1,1,12,-10.6,9.27,1,1,12,34.81,4.88,1,1,12,86.78,.05,1,2,12,139.19,-4.23,.16411,13,-1.37,.17,.83589,1,12,6.49,31.4,1,1,12,54.33,27.09,1,1,12,115.16,16.91,1,2,12,147.5,8.84,.91982,13,.9,15.49,.08018,2,12,142.31,-22.85,.02689,13,9.06,-15.57,.97311,2,12,97.59,-19.2,.94505,13,-33.27,-30.44,.05495,1,12,42.59,-15.43,1,1,12,-1.21,-15.22,1],hull:13,edges:[0,2,2,4,4,6,6,8,8,10,10,12,12,14,14,16,16,18,18,20,20,22,22,24,0,24],width:1922,height:1082}},Tors:{Tors:{type:"mesh",uvs:[.55083,.46626,.56765,.4491,.58126,.43002,.59128,.40776,.59486,.38297,.58663,.36008,.57052,.34545,.54474,.34036,.53114,.34863,.51289,.37279,.49964,.41222,.49893,.44147,.51253,.45418,.53436,.4491,.54081,.45418,.54117,.46436,.57607,.3891,.55388,.40255,.53638,.41654,.51493,.43874,.5823,.40977,.56695,.43306,.5474,.44885,.56602,.35782,.53947,.35915,.5174,.38632],triangles:[2,21,20,1,21,2,20,16,3,2,20,3,19,10,25,18,25,24,25,8,24,25,9,8,10,9,25,23,7,6,24,8,7,5,23,6,23,24,7,17,24,23,16,5,4,16,23,5,17,23,16,3,16,4,17,18,24,16,21,17,16,20,21,19,25,18,11,10,19,22,18,17,22,17,21,13,19,18,13,18,22,22,21,1,12,11,19,12,19,13,14,13,22,15,14,22,0,22,1,15,22,0],vertices:[2,2,50.73,-44.3,.80549,9,40.15,-65.08,.19451,2,2,88,-45.35,.46125,9,26.18,-30.51,.53875,2,2,121.08,-41.41,.00821,9,9.31,-1.78,.99179,2,2,150.08,-30.94,.30753,4,27.92,22.37,.69247,3,2,169.97,-11.65,.82708,5,-47.17,-34.97,.00524,4,11.4,44.6,.16768,3,2,169.41,17.73,.81947,5,-21.66,-49.57,.17933,4,-17.81,47.88,.0012,2,2,151.28,47.4,.36168,5,13.11,-49.22,.63832,3,2,111.91,77.97,.00416,5,59.54,-31.11,.91296,6,-10.99,-32.54,.08288,2,5,78.55,-11.06,.38684,6,16.32,-28.28,.61316,2,5,97.51,28.38,9e-5,6,55.41,-8.63,.99991,2,2,-2.62,56.96,.42007,6,87.9,28.95,.57993,2,2,-20.32,30.69,.74287,6,94.75,59.88,.25713,2,2,-5.22,5.3,.94958,6,71.4,77.97,.05042,2,2,33.44,-11.93,.98682,9,17.41,-93.89,.01318,2,2,41.13,-23.09,.91228,9,24.56,-82.37,.08772,2,2,35.96,-32.84,.87183,9,35.56,-83.2,.12817,2,2,135.71,1.55,.97927,5,-18.26,-12.33,.02073,3,2,91.73,11.42,.68592,5,12.77,20.35,.26254,6,-16.57,36.77,.05153,3,2,55.15,16.09,.75252,5,35.54,49.36,.00153,6,19.17,45.83,.24594,2,2,7.45,17.13,.87468,6,63.95,62.32,.12532,2,2,134.24,-23.78,.0979,4,18.76,7.59,.9021,3,2,95.91,-29.86,.43647,4,19.78,-31.2,.02625,9,8.81,-29.47,.53729,2,2,54.95,-24.79,.86746,9,20.58,-69.03,.13254,2,2,136.92,40.5,.27146,5,14.55,-33.35,.72854,2,5,59.1,-8.4,.67327,6,2.53,-14.29,.32673,2,2,41.13,63.02,.11193,6,49.41,7.29,.88807],hull:16,edges:[0,2,2,4,4,6,6,8,8,10,10,12,12,14,14,16,16,18,18,20,20,22,22,24,24,26,26,28,28,30,0,30],width:1922,height:1082}},"Goleny 2":{"Goleny 2":{type:"mesh",uvs:[.55252,.65457,.53399,.66907,.53288,.73373,.5373,.77997,.55252,.84384,.55781,.8364,.55031,.77292,.54987,.74157,.55627,.65496],triangles:[3,2,7,0,8,7,7,2,1,7,1,0,4,3,5,3,6,5,3,7,6],vertices:[1,16,-8.46,5.61,1,1,16,13.03,-26.84,1,2,17,-27.54,-4.2,.00241,16,82.34,-17.09,.99759,2,17,22.64,-11.74,.99961,16,130.22,-.26,39e-5,1,17,97.43,-5.49,1,1,17,92.94,6.69,1,2,17,23.19,14.41,.88207,16,118.46,23.1,.11793,1,16,85.17,16.52,1,1,16,-9.26,12.78,1],hull:9,edges:[0,2,2,4,4,6,6,8,8,10,10,12,12,14,14,16,0,16],width:1922,height:1082}},"Predpletshye 2":{"Predpletshye 2":{type:"mesh",uvs:[.59013,.4961,.59968,.49445,.6083,.52933,.61056,.5423,.62117,.57647,.61003,.59344,.59663,.55974,.588,.52839,.58469,.50553],triangles:[7,8,0,7,1,2,1,7,0,6,2,3,6,7,2,6,3,4,5,6,4],vertices:[2,10,-9.44,9.63,.16035,9,82.48,5.32,.83965,2,10,-1.56,26.31,.845,9,83.23,23.75,.155,1,10,39.34,21.18,1,2,10,53.6,17.71,.98825,11,-24.89,30.02,.01175,1,11,13.21,11.79,1,2,10,100.58,-11.55,.99638,11,6.45,-15.6,.00362,1,10,56.07,-14.96,1,2,10,18.45,-11.79,.92956,9,116.53,-3.51,.07044,1,9,91.16,-6.44,1],hull:9,edges:[0,2,2,4,4,6,6,8,8,10,10,12,12,14,14,16,0,16],width:1922,height:1082}},"Pletsho 2":{"Pletsho 2":{type:"mesh",uvs:[.58479,.37921,.59222,.38675,.59394,.39759,.59328,.44614,.60071,.50317,.58694,.51543,.57593,.46735,.57248,.43106,.57381,.39523,.58018,.37897],triangles:[8,9,0,2,8,0,2,0,1,2,7,8,3,7,2,6,7,3,6,3,4,5,6,4],vertices:[1,9,-44.21,12.48,1,1,9,-34.17,25.51,1,1,9,-22.1,27.19,1,1,9,29.76,18.73,1,1,9,92.85,24.42,1,1,9,102.36,-3.61,1,1,9,47.93,-17.45,1,1,9,8.12,-18.64,1,1,9,-29.92,-10.8,1,1,9,-45.68,3.73,1],hull:10,edges:[0,2,2,4,4,6,6,8,8,10,10,12,12,14,14,16,16,18,0,18],width:1922,height:1082}},Kisti:{Kisti:{type:"mesh",uvs:[.42417,.54149,.42732,.55127,.43735,.54219,.44404,.54533,.45151,.55861,.45662,.58166,.45328,.58516,.44856,.57747,.44266,.57223,.43774,.57328,.43381,.58097,.43322,.59913,.43184,.60717,.4285,.61415,.42948,.62848,.44109,.65887,.43794,.66376,.4228,.64245,.41827,.62708,.41749,.63791,.42142,.66341,.41788,.66306,.41218,.65258,.40923,.64105,.4106,.66132,.40706,.66202,.39959,.62568,.40038,.60367,.40844,.59494,.41218,.58446,.411,.55162,.41948,.55727,.42339,.57343,.42131,.59287,.41259,.61807],triangles:[15,16,17,19,20,21,22,19,21,25,23,24,25,26,23,17,14,15,22,23,19,17,18,14,19,23,18,23,26,34,18,23,34,18,13,14,18,34,13,26,27,34,27,28,34,34,28,33,34,33,13,33,28,29,13,33,12,12,33,11,11,33,10,33,32,10,33,29,32,6,7,5,29,31,32,29,30,31,7,4,5,10,32,9,7,8,4,32,1,9,32,31,1,3,8,9,9,1,2,8,3,4,3,9,2,31,0,1,31,30,0],vertices:[1,8,-3.86,15.41,1,1,8,7.85,18.77,1,1,8,2.88,39.83,1,1,8,9.24,51.5,1,1,8,26.61,62.05,1,1,8,53.17,65.67,1,1,8,55.32,58.53,1,1,8,45.09,51.69,1,1,8,36.89,42.02,1,1,8,35.74,32.57,1,1,8,42.03,23.26,1,1,8,60.85,17.49,1,1,8,68.67,12.85,1,1,8,74.49,4.81,1,1,8,89.99,2.97,1,1,8,127.23,16.83,1,1,8,130.94,9.69,1,1,8,101.63,-13.1,1,1,8,83.41,-17.6,1,1,8,94.43,-21.85,1,1,8,123.03,-21.06,1,1,8,121.05,-27.58,1,1,8,107.43,-35.54,1,1,8,93.96,-38.08,1,1,8,115.89,-40.72,1,1,8,115.01,-47.51,1,1,8,73.41,-52.12,1,1,8,50.64,-45,1,1,8,45.14,-27.7,1,1,8,35.83,-18.03,1,1,8,.77,-11.8,1,1,8,10.58,2.58,1,1,8,29.35,5.74,1,1,8,48.83,-3.15,1,1,8,71.34,-25.91,1],hull:31,edges:[0,2,2,4,4,6,6,8,8,10,10,12,12,14,14,16,16,18,18,20,20,22,22,24,24,26,26,28,28,30,30,32,32,34,34,36,36,38,38,40,40,42,42,44,44,46,46,48,48,50,50,52,52,54,54,56,56,58,58,60,0,60],width:1922,height:1082}},Goleny:{Goleny:{type:"mesh",uvs:[.47723,.66722,.46925,.64228,.45053,.64033,.42164,.70779,.40897,.76646,.40264,.82758,.40237,.85979,.4076,.85686,.4131,.81286,.42631,.76152,.44228,.7229],triangles:[8,4,9,5,4,8,7,5,8,6,5,7,10,3,2,0,10,2,0,2,1,9,3,10,4,3,9],vertices:[1,13,-5.19,22.38,1,1,13,-14.64,-7.18,1,1,13,8.18,-35.07,1,1,13,99.51,-26.44,1,1,14,15.91,-10.23,1,1,14,83.13,-9.19,1,1,14,117.42,-2.87,1,1,14,112.33,6.36,1,1,14,63.57,7.4,1,2,13,136.16,19.57,.81609,14,4.13,21.4,.18391,1,13,84.64,13.81,1],hull:11,edges:[0,2,2,4,4,6,6,8,8,10,10,12,12,14,14,16,16,18,18,20,0,20],width:1922,height:1082}},"Bedro 2":{"Bedro 2":{type:"mesh",uvs:[.53309,.51397,.51822,.52228,.50721,.55308,.53639,.67971,.55621,.66504,.54988,.58046],triangles:[5,1,0,3,5,4,5,2,1,3,2,5],vertices:[1,15,-12.18,24.87,1,1,15,-13.58,-5.05,1,1,15,10.42,-36.39,1,2,15,158.36,-30.94,.02,16,23.6,-20.34,.98,1,15,156.58,10.28,1,1,15,66.48,30.38,1],hull:6,edges:[0,2,2,4,4,6,6,8,8,10,0,10],width:1922,height:1082}},Predpleshie:{Predpleshie:{type:"mesh",uvs:[.47315,.44035,.45505,.47319,.44482,.49066,.43538,.51407,.42457,.5504,.41119,.55843,.41001,.55249,.42712,.48262,.44581,.43826,.46587,.40891,.47236,.4159,.46551,.42935,.44884,.45791,.43081,.49649,.41922,.54449],triangles:[5,14,4,5,6,14,14,6,7,4,14,3,14,13,3,14,7,13,3,13,2,13,7,2,2,12,1,2,7,12,7,8,12,0,12,11,0,1,12,12,8,11,11,10,0,11,8,9,11,9,10],vertices:[1,7,5.91,20.33,1,1,7,55.03,12.62,1,1,7,81.82,7.57,1,1,7,112.98,7.48,1,1,8,5.68,13.85,1,1,8,8.02,-13.18,1,2,7,175.13,-8.12,.0544,8,1.24,-13.86,.9456,1,7,94.48,-25.19,1,1,7,34.54,-23.78,1,1,7,-13.69,-10.79,1,1,7,-14.76,3.75,1,1,7,4.73,1.48,1,1,7,48.48,-6.7,1,1,7,102.59,-10.72,1,2,7,157.82,1.27,.98562,8,-2.97,5.38,.01438],hull:11,edges:[0,2,2,4,4,6,6,8,8,10,10,12,12,14,14,16,16,18,18,20,0,20],width:1922,height:1082}}}}],y6={attack:{bones:{center:{rotate:[{},{time:.3667,angle:23.09}],translate:[{},{time:.1333,x:1.12,y:-110.88},{time:.4333,x:.34,y:28.7},{time:.5667}]},bone2:{rotate:[{},{time:.1333,angle:-22.32},{time:.3333,angle:14.16},{time:.5667,angle:22}],translate:[{}]},bone3:{rotate:[{}],translate:[{}]},bone4:{rotate:[{}],translate:[{}]},bone5:{rotate:[{}],translate:[{}]},bone6:{rotate:[{angle:1.14}],translate:[{}]},bone7:{rotate:[{angle:-4.92}],translate:[{}]},bone8:{rotate:[{},{time:.1667,angle:-19.52},{time:.4333,angle:-4.05}],translate:[{}]},bone9:{rotate:[{angle:-12.15}],translate:[{}]},bone10:{rotate:[{angle:22.61}],translate:[{}]},bone11:{rotate:[{}],translate:[{}]},bone12:{rotate:[{angle:25.09}],translate:[{}]},bone13:{rotate:[{angle:-48.58}],translate:[{}]},bone14:{rotate:[{}],translate:[{}]},bone15:{rotate:[{angle:22.83}],translate:[{}]},bone16:{rotate:[{angle:-33.24}],translate:[{}]},bone17:{rotate:[{}],translate:[{}]},IK_noga_l:{rotate:[{}],translate:[{}]},IK_noga_r:{rotate:[{}],translate:[{}]},IK_ruka_l:{rotate:[{}],translate:[{},{time:.1667,x:-79.48,y:178.55},{time:.3333,x:-64.34,y:159.6}]},IK_ruka_r:{rotate:[{}],translate:[{},{time:.1667,x:293.59,y:.08},{time:.2667,x:-27.77,y:-25.21},{time:.3333,x:-111.6,y:-261.18},{time:.3667,x:-96.22,y:-352.2},{time:.4333,x:-53.32,y:-407.29},{time:.4667,x:40.73,y:-444.8},{time:.5,x:258,y:-461.03},{time:.5667,x:309.21,y:-445.36}]},bone18:{rotate:[{},{time:.5,angle:-15.72}],translate:[{}]},bone19:{rotate:[{}],translate:[{}]},bone20:{rotate:[{}],translate:[{}]},bone21:{rotate:[{}],translate:[{}]},bone22:{rotate:[{}],translate:[{}]},bone23:{rotate:[{}],translate:[{}]},bone24:{rotate:[{}],translate:[{}]},bone25:{rotate:[{}],translate:[{}]},bone26:{rotate:[{}],translate:[{}]},bone27:{rotate:[{}],translate:[{}]},bone28:{rotate:[{}],translate:[{}]},bone29:{rotate:[{}],translate:[{}]},bone30:{rotate:[{}],translate:[{}]},bone31:{rotate:[{}],translate:[{}]}}},fly:{bones:{root:{rotate:[{time:.3667}],translate:[{curve:"stepped"},{time:.3667}]},IK_noga_r:{rotate:[{time:.3667}],translate:[{},{time:.3667,x:118.48,y:-6.49}]},center:{rotate:[{time:.3667}],translate:[{},{time:.3667,x:1.62,y:64.92}]},bone2:{rotate:[{time:.3667}],translate:[{curve:"stepped"},{time:.3667}]},bone3:{rotate:[{time:.3667}],translate:[{curve:"stepped"},{time:.3667}]},bone4:{rotate:[{time:.3667}],translate:[{curve:"stepped"},{time:.3667}]},bone5:{rotate:[{time:.3667}],translate:[{curve:"stepped"},{time:.3667}]},bone6:{rotate:[{time:.3667,angle:1.14}],translate:[{curve:"stepped"},{time:.3667}]},bone7:{rotate:[{time:.3667,angle:-4.92}],translate:[{curve:"stepped"},{time:.3667}]},bone8:{rotate:[{time:.3667}],translate:[{curve:"stepped"},{time:.3667}]},bone9:{rotate:[{time:.3667,angle:-12.15}],translate:[{curve:"stepped"},{time:.3667}]},bone10:{rotate:[{time:.3667,angle:22.61}],translate:[{curve:"stepped"},{time:.3667}]},bone11:{rotate:[{time:.3667}],translate:[{curve:"stepped"},{time:.3667}]},bone12:{rotate:[{time:.3667,angle:25.09}],translate:[{curve:"stepped"},{time:.3667}]},bone13:{rotate:[{time:.3667,angle:-48.58}],translate:[{curve:"stepped"},{time:.3667}]},bone14:{rotate:[{time:.3667}],translate:[{curve:"stepped"},{time:.3667}]},bone15:{rotate:[{time:.3667,angle:22.83}],translate:[{curve:"stepped"},{time:.3667}]},bone16:{rotate:[{time:.3667,angle:-33.24}],translate:[{curve:"stepped"},{time:.3667}]},bone17:{rotate:[{time:.3667}],translate:[{curve:"stepped"},{time:.3667}]},IK_noga_l:{rotate:[{time:.3667}],translate:[{},{time:.3667,x:-30.84,y:51.94}]},IK_ruka_l:{rotate:[{time:.3667}],translate:[{},{time:.3667,x:151.08,y:-17.05}]},IK_ruka_r:{rotate:[{time:.3667}],translate:[{},{time:.3667,x:129.45,y:61.58}]},bone18:{rotate:[{time:.3667}],translate:[{curve:"stepped"},{time:.3667}]},bone19:{rotate:[{time:.3667}],translate:[{curve:"stepped"},{time:.3667}]},bone20:{translate:[{}]},bone21:{rotate:[{time:.3667}],translate:[{curve:"stepped"},{time:.3667}]},bone22:{translate:[{}]},bone23:{translate:[{}]},bone24:{rotate:[{time:.3667}],translate:[{curve:"stepped"},{time:.3667}]},bone25:{translate:[{}]},bone26:{translate:[{}]},bone27:{rotate:[{time:.3667}],translate:[{curve:"stepped"},{time:.3667}]},bone28:{translate:[{}]},bone29:{translate:[{}]},bone30:{rotate:[{time:.3667}],translate:[{curve:"stepped"},{time:.3667}]},bone31:{rotate:[{time:.3667}],translate:[{curve:"stepped"},{time:.3667}]}}},idle:{bones:{root:{rotate:[{curve:"stepped"},{time:3}],translate:[{curve:"stepped"},{time:3}],scale:[{curve:"stepped"},{time:3}]},IK_ruka_l:{rotate:[{curve:"stepped"},{time:3}],translate:[{curve:.394,c3:.702,c4:.5},{time:1.5,x:-18.7,y:11.47,curve:.319,c2:.5,c3:.627},{time:3}],scale:[{curve:"stepped"},{time:3}]},center:{rotate:[{curve:"stepped"},{time:3}],translate:[{curve:.407,c3:.64},{time:1.5,x:-23.79,y:-10.02,curve:.407,c3:.64},{time:3}],scale:[{curve:"stepped"},{time:3}]},bone2:{rotate:[{curve:"stepped"},{time:3}],translate:[{curve:"stepped"},{time:3}],scale:[{curve:.394,c3:.702,c4:.5},{time:1.5,x:1.015,y:1.009,curve:.334,c2:.35,c3:.662,c4:.71},{time:2.1333,curve:"stepped"},{time:3}]},bone3:{rotate:[{curve:.369,c2:.01,c3:.699,c4:.38},{time:1.5,angle:2.42,curve:.365,c2:.24,c3:.694,c4:.59},{time:3}],translate:[{curve:"stepped"},{time:3}],scale:[{curve:"stepped"},{time:3}]},bone4:{rotate:[{curve:"stepped"},{time:3}],translate:[{curve:"stepped"},{time:3}],scale:[{curve:"stepped"},{time:3}]},bone5:{rotate:[{curve:"stepped"},{time:3}],translate:[{curve:"stepped"},{time:3}],scale:[{curve:"stepped"},{time:3}]},bone6:{rotate:[{angle:1.14,curve:"stepped"},{time:3,angle:1.14}],translate:[{curve:"stepped"},{time:3}],scale:[{curve:"stepped"},{time:3}]},bone7:{rotate:[{angle:-4.92,curve:"stepped"},{time:3,angle:-4.92}],translate:[{curve:"stepped"},{time:3}],scale:[{curve:"stepped"},{time:3}]},bone8:{rotate:[{curve:"stepped"},{time:3}],translate:[{curve:"stepped"},{time:3}],scale:[{curve:"stepped"},{time:3}]},bone9:{rotate:[{angle:-12.15,curve:"stepped"},{time:3,angle:-12.15}],translate:[{curve:"stepped"},{time:3}],scale:[{curve:"stepped"},{time:3}]},bone10:{rotate:[{angle:22.61,curve:"stepped"},{time:3,angle:22.61}],translate:[{curve:"stepped"},{time:3}],scale:[{curve:"stepped"},{time:3}]},bone11:{rotate:[{curve:"stepped"},{time:3}],translate:[{curve:"stepped"},{time:3}],scale:[{curve:"stepped"},{time:3}]},bone12:{rotate:[{angle:25.09,curve:"stepped"},{time:3,angle:25.09}],translate:[{curve:"stepped"},{time:3}],scale:[{curve:"stepped"},{time:3}]},bone13:{rotate:[{angle:-48.58,curve:"stepped"},{time:3,angle:-48.58}],translate:[{curve:"stepped"},{time:3}],scale:[{curve:"stepped"},{time:3}]},bone14:{rotate:[{curve:"stepped"},{time:3}],translate:[{curve:"stepped"},{time:3}],scale:[{curve:"stepped"},{time:3}]},bone15:{rotate:[{angle:22.83,curve:"stepped"},{time:3,angle:22.83}],translate:[{curve:"stepped"},{time:3}],scale:[{curve:"stepped"},{time:3}]},bone16:{rotate:[{angle:-33.24,curve:"stepped"},{time:3,angle:-33.24}],translate:[{curve:"stepped"},{time:3}],scale:[{curve:"stepped"},{time:3}]},bone17:{rotate:[{curve:"stepped"},{time:3}],translate:[{curve:"stepped"},{time:3}],scale:[{curve:"stepped"},{time:3}]},IK_noga_l:{rotate:[{curve:"stepped"},{time:3}],translate:[{curve:"stepped"},{time:3}],scale:[{curve:"stepped"},{time:3}]},IK_noga_r:{rotate:[{curve:"stepped"},{time:3}],translate:[{curve:"stepped"},{time:3}],scale:[{curve:"stepped"},{time:3}]},IK_ruka_r:{rotate:[{curve:.407,c3:.689,c4:.63},{time:2.1333,angle:-15.16,curve:.313,c2:.59,c3:.638},{time:3}],translate:[{curve:.394,c3:.702,c4:.5},{time:1.5,x:-4.12,y:-16.76,curve:.319,c2:.5,c3:.627},{time:3}],scale:[{curve:"stepped"},{time:3}]}}},jump:{bones:{center:{rotate:[{curve:"stepped"},{time:.0667},{time:.5,angle:3.98},{time:.6667,angle:2.25},{time:1,angle:-3.42}],translate:[{},{time:.0667,y:-172.32},{time:.3333,x:45.21,y:74.56},{time:.5,x:41.76,y:84.93},{time:.6667,x:43.64,y:69.88},{time:1.2,x:21.05,y:86.81}]},IK_noga_r:{rotate:[{curve:"stepped"},{time:.0667}],translate:[{},{time:.0667,x:139.93,y:-35.91},{time:.3333,x:190.82,y:-8.24},{time:.5,x:186.26,y:4.95},{time:.6667,x:183.31,y:-1.34},{time:1.2,x:126.83,y:52.2}]},IK_ruka_l:{rotate:[{curve:"stepped"},{time:.0667}],translate:[{},{time:.0667,x:-78.54,y:121.82},{time:.3333,x:82.62,y:-31.42},{time:.5,x:153.2,y:-4.67},{time:.6667,x:171.29,y:16.66},{time:1,x:124.55,y:44},{time:1.2,x:103.4,y:35.22}]},IK_ruka_r:{rotate:[{curve:"stepped"},{time:.0667}],translate:[{},{time:.0667,x:-53.46,y:-165.2},{time:.3333,x:25.33,y:-4.55},{time:.5,x:66.19,y:-13.13},{time:.6667,x:31.06,y:-34.79},{time:1,x:21.15,y:-9.64},{time:1.2,x:11.86,y:-19.53}]},root:{rotate:[{curve:"stepped"},{time:.0667}],translate:[{}]},bone2:{rotate:[{curve:"stepped"},{time:.0667},{time:.5,angle:4.4},{time:1,angle:13.37}],translate:[{}]},bone3:{rotate:[{},{time:.0667,angle:-39.99},{time:.3333,angle:-19.57}],translate:[{}]},bone4:{rotate:[{curve:"stepped"},{time:.0667}],translate:[{}]},bone5:{rotate:[{curve:"stepped"},{time:.0667}],translate:[{}]},bone6:{rotate:[{angle:1.14},{time:.0667,angle:28.53}],translate:[{}]},bone7:{rotate:[{angle:-4.92},{time:.0667,angle:71.51}],translate:[{}]},bone8:{rotate:[{curve:"stepped"},{time:.0667}],translate:[{}]},bone9:{rotate:[{angle:-12.15},{time:.0667,angle:-88.27}],translate:[{}]},bone10:{rotate:[{angle:22.61},{time:.0667,angle:62.07}],translate:[{}]},bone11:{rotate:[{curve:"stepped"},{time:.0667}],translate:[{}]},bone12:{rotate:[{angle:25.09},{time:.0667,angle:82.14}],translate:[{}]},bone13:{rotate:[{angle:-48.58},{time:.0667,angle:-112.01}],translate:[{}]},bone14:{rotate:[{curve:"stepped"},{time:.0667}],translate:[{}]},bone15:{rotate:[{angle:22.83},{time:.0667,angle:57.11}],translate:[{}]},bone16:{rotate:[{angle:-33.24},{time:.0667,angle:-98.67}],translate:[{}]},bone17:{rotate:[{curve:"stepped"},{time:.0667}],translate:[{}]},IK_noga_l:{rotate:[{curve:"stepped"},{time:.0667}],translate:[{},{time:.0667,x:44.84,y:-18.3},{time:.3333,x:-21.36,y:34.11},{time:.5,x:-7.4,y:46.99},{time:.6667,x:-8.05,y:35.52},{time:1.2,x:36.03,y:63.04}]},bone18:{rotate:[{curve:"stepped"},{time:.0667}],translate:[{}]},bone19:{rotate:[{curve:"stepped"},{time:.0667}],translate:[{}]},bone20:{rotate:[{curve:"stepped"},{time:.0667}],translate:[{}]},bone21:{rotate:[{curve:"stepped"},{time:.0667}],translate:[{}]},bone22:{rotate:[{curve:"stepped"},{time:.0667}],translate:[{}]},bone23:{rotate:[{curve:"stepped"},{time:.0667}],translate:[{}]},bone24:{rotate:[{curve:"stepped"},{time:.0667}],translate:[{}]},bone25:{rotate:[{curve:"stepped"},{time:.0667}],translate:[{}]},bone26:{rotate:[{curve:"stepped"},{time:.0667}],translate:[{}]},bone27:{rotate:[{curve:"stepped"},{time:.0667}],translate:[{}]},bone28:{rotate:[{curve:"stepped"},{time:.0667}],translate:[{}]},bone29:{rotate:[{curve:"stepped"},{time:.0667}],translate:[{}]},bone30:{rotate:[{curve:"stepped"},{time:.0667}],translate:[{}]},bone31:{rotate:[{curve:"stepped"},{time:.0667}],translate:[{}]}}},walk:{bones:{IK_noga_r:{rotate:[{curve:"stepped"},{time:1.2}],translate:[{x:-38.44,y:-1.37},{time:.6,x:315.79,y:-13.73},{time:1.2,x:-38.45,y:-1.37}]},IK_noga_l:{rotate:[{curve:"stepped"},{time:1.2}],translate:[{x:35.7,y:-2.75},{time:.6,x:-214.19,y:10.98},{time:1.2,x:35.7,y:-2.76}]},root:{rotate:[{}],translate:[{}]},center:{rotate:[{}],translate:[{},{time:.1333,x:-2.75,y:-4.73},{time:.3,x:1.37,y:10.98},{time:.4333,x:-.61,y:15.71},{time:.6,x:-1.37,y:-1.37},{time:.7333,x:-1.37,y:-9.61},{time:.9,x:-2.75,y:5.1},{time:1.0333,x:-1.37,y:15.71},{time:1.2,x:-2.75,y:-4.73}]},bone2:{rotate:[{}],translate:[{}]},bone3:{rotate:[{}],translate:[{}]},bone4:{rotate:[{}],translate:[{}]},bone5:{rotate:[{}],translate:[{}]},bone6:{rotate:[{angle:1.14}],translate:[{}]},bone7:{rotate:[{angle:-4.92}],translate:[{}]},bone8:{rotate:[{angle:-37.19},{time:.6333,angle:-48.8},{time:1.2,angle:-37.19}],translate:[{},{time:1.2,x:-.5,y:5.45}]},bone9:{rotate:[{angle:-12.15}],translate:[{}]},bone10:{rotate:[{angle:22.61}],translate:[{}]},bone11:{rotate:[{}],translate:[{}]},bone12:{rotate:[{angle:25.09}],translate:[{}]},bone13:{rotate:[{angle:-48.58}],translate:[{}]},bone14:{rotate:[{}],translate:[{}]},bone15:{rotate:[{angle:22.83}],translate:[{}]},bone16:{rotate:[{angle:-33.24}],translate:[{}]},bone17:{rotate:[{}],translate:[{}]},IK_ruka_l:{rotate:[{curve:"stepped"},{time:1.2}],translate:[{x:-55.66,y:220.32},{time:.6333,x:-62.74,y:57.55},{time:1.2,x:-55.66,y:220.32}]},IK_ruka_r:{rotate:[{curve:"stepped"},{time:1.2}],translate:[{x:-45.91,y:-343.49},{time:.6667,x:13.8,y:-7.4},{time:1.2,x:-45.91,y:-343.49}]},bone18:{rotate:[{}],translate:[{}]},bone19:{rotate:[{}],translate:[{}]},bone20:{rotate:[{}],translate:[{}]},bone21:{rotate:[{}],translate:[{}]},bone22:{rotate:[{}],translate:[{}]},bone23:{rotate:[{}],translate:[{}]},bone24:{rotate:[{}],translate:[{}]},bone25:{rotate:[{}],translate:[{}]},bone26:{rotate:[{}],translate:[{}]},bone27:{rotate:[{}],translate:[{}]},bone28:{rotate:[{}],translate:[{}]},bone29:{rotate:[{}],translate:[{}]},bone30:{rotate:[{}],translate:[{}]},bone31:{rotate:[{}],translate:[{}]}}}},T6={skeleton:v6,bones:p6,slots:g6,ik:m6,skins:x6,animations:y6},C6="data:application/octet-stream;base64,CnNoYWRvdy5wbmcKc2l6ZTogMjk3LDEwMTUKZm9ybWF0OiBSR0JBODg4OApmaWx0ZXI6IExpbmVhcixMaW5lYXIKcmVwZWF0OiBub25lCkJlZHJvCiAgcm90YXRlOiB0cnVlCiAgeHk6IDIsIDMyNQogIHNpemU6IDEyMywgMTczCiAgb3JpZzogMTkyMiwgMTA4MgogIG9mZnNldDogODYzLCAzNTAKICBpbmRleDogLTEKQmVkcm8gMgogIHJvdGF0ZTogdHJ1ZQogIHh5OiAyLCA0NTAKICBzaXplOiA5NiwgMTgwCiAgb3JpZzogMTkyMiwgMTA4MgogIG9mZnNldDogOTc0LCAzNDYKICBpbmRleDogLTEKR2l2b3QKICByb3RhdGU6IGZhbHNlCiAgeHk6IDE1MiwgMgogIHNpemU6IDE0MywgMTQyCiAgb3JpZzogMTkyMiwgMTA4MgogIG9mZnNldDogOTMyLCA1MTUKICBpbmRleDogLTEKR29sZW55CiAgcm90YXRlOiB0cnVlCiAgeHk6IDIsIDY4NwogIHNpemU6IDE0NSwgMjM5CiAgb3JpZzogMTkyMiwgMTA4MgogIG9mZnNldDogNzczLCAxNTEKICBpbmRleDogLTEKR29sZW55IDIKICByb3RhdGU6IGZhbHNlCiAgeHk6IDI0MywgNjI2CiAgc2l6ZTogNDksIDIwNgogIG9yaWc6IDE5MjIsIDEwODIKICBvZmZzZXQ6IDEwMjQsIDE2OAogIGluZGV4OiAtMQpIZWFkCiAgcm90YXRlOiB0cnVlCiAgeHk6IDIsIDgzNAogIHNpemU6IDE3OSwgMjcwCiAgb3JpZzogMTkyMiwgMTA4MgogIG9mZnNldDogMTA1NiwgNjIxCiAgaW5kZXg6IC0xCktpc3RpCiAgcm90YXRlOiBmYWxzZQogIHh5OiAxODQsIDMzMAogIHNpemU6IDExMCwgMTM0CiAgb3JpZzogMTkyMiwgMTA4MgogIG9mZnNldDogNzY4LCAzNjMKICBpbmRleDogLTEKS2lzdHkgMgogIHJvdGF0ZTogdHJ1ZQogIHh5OiAxNzcsIDIxOQogIHNpemU6IDEwOSwgMTE2CiAgb3JpZzogMTkyMiwgMTA4MgogIG9mZnNldDogMTE1MiwgMzcwCiAgaW5kZXg6IC0xClBsZXRzaG8KICByb3RhdGU6IHRydWUKICB4eTogMTkwLCA0NjYKICBzaXplOiAxNTgsIDEwNQogIG9yaWc6IDE5MjIsIDEwODIKICBvZmZzZXQ6IDg4NywgNjAzCiAgaW5kZXg6IC0xClBsZXRzaG8gMgogIHJvdGF0ZTogdHJ1ZQogIHh5OiAyLCAxNDQKICBzaXplOiA1NSwgMTQ4CiAgb3JpZzogMTkyMiwgMTA4MgogIG9mZnNldDogMTEwMCwgNTI0CiAgaW5kZXg6IC0xClByZWRwbGVzaGllCiAgcm90YXRlOiB0cnVlCiAgeHk6IDIsIDIwMQogIHNpemU6IDEyMiwgMTYzCiAgb3JpZzogMTkyMiwgMTA4MgogIG9mZnNldDogNzg4LCA0NzcKICBpbmRleDogLTEKUHJlZHBsZXRzaHllIDIKICByb3RhdGU6IHRydWUKICB4eTogMTY3LCAxNDYKICBzaXplOiA3MSwgMTA5CiAgb3JpZzogMTkyMiwgMTA4MgogIG9mZnNldDogMTEyMywgNDM5CiAgaW5kZXg6IC0xClRhegogIHJvdGF0ZTogZmFsc2UKICB4eTogMiwgNDcKICBzaXplOiAxMDMsIDk1CiAgb3JpZzogMTkyMiwgMTA4MgogIG9mZnNldDogOTI3LCA0NzgKICBpbmRleDogLTEKVG9ycwogIHJvdGF0ZTogZmFsc2UKICB4eTogMiwgNTQ4CiAgc2l6ZTogMTg2LCAxMzcKICBvcmlnOiAxOTIyLCAxMDgyCiAgb2Zmc2V0OiA5NTgsIDU3NwogIGluZGV4OiAtMQo=";class S6 extends Ei.Scene{constructor(){super("preloader")}preload(){this.load.image("tiles",Q5),this.load.tilemapTiledJSON("desert",J5),this.load.tilemapTiledJSON("dungeon",c6),this.load.image("sky",O5),this.load.image("mountains",I5),this.load.image("middle",D5),this.load.image("foreground",B5),this.load.spine("shadow",T6,C6),this.load.atlas("lizard",P5,w5),this.load.image("ground",F5),this.load.image("star",L5)}create(){this.scene.start("Game")}}(()=>{var i={4399:C=>{var M=Object.prototype.hasOwnProperty,h="~";function y(){}Object.create&&(y.prototype=Object.create(null),new y().__proto__||(h=!1));function e(a,r,o){this.fn=a,this.context=r,this.once=o||!1}function f(a,r,o,l,v){if(typeof o!="function")throw new TypeError("The listener must be a function");var u=new e(o,l||a,v),d=h?h+r:r;return a._events[d]?a._events[d].fn?a._events[d]=[a._events[d],u]:a._events[d].push(u):(a._events[d]=u,a._eventsCount++),a}function c(a,r){--a._eventsCount===0?a._events=new y:delete a._events[r]}function s(){this._events=new y,this._eventsCount=0}s.prototype.eventNames=function(){var r=[],o,l;if(this._eventsCount===0)return r;for(l in o=this._events)M.call(o,l)&&r.push(h?l.slice(1):l);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(o)):r},s.prototype.listeners=function(r){var o=h?h+r:r,l=this._events[o];if(!l)return[];if(l.fn)return[l.fn];for(var v=0,u=l.length,d=new Array(u);v<u;v++)d[v]=l[v].fn;return d},s.prototype.listenerCount=function(r){var o=h?h+r:r,l=this._events[o];return l?l.fn?1:l.length:0},s.prototype.emit=function(r,o,l,v,u,d){var p=h?h+r:r;if(!this._events[p])return!1;var g=this._events[p],x=arguments.length,T,S;if(g.fn){switch(g.once&&this.removeListener(r,g.fn,void 0,!0),x){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,o),!0;case 3:return g.fn.call(g.context,o,l),!0;case 4:return g.fn.call(g.context,o,l,v),!0;case 5:return g.fn.call(g.context,o,l,v,u),!0;case 6:return g.fn.call(g.context,o,l,v,u,d),!0}for(S=1,T=new Array(x-1);S<x;S++)T[S-1]=arguments[S];g.fn.apply(g.context,T)}else{var P=g.length,E;for(S=0;S<P;S++)switch(g[S].once&&this.removeListener(r,g[S].fn,void 0,!0),x){case 1:g[S].fn.call(g[S].context);break;case 2:g[S].fn.call(g[S].context,o);break;case 3:g[S].fn.call(g[S].context,o,l);break;case 4:g[S].fn.call(g[S].context,o,l,v);break;default:if(!T)for(E=1,T=new Array(x-1);E<x;E++)T[E-1]=arguments[E];g[S].fn.apply(g[S].context,T)}}return!0},s.prototype.on=function(r,o,l){return f(this,r,o,l,!1)},s.prototype.once=function(r,o,l){return f(this,r,o,l,!0)},s.prototype.removeListener=function(r,o,l,v){var u=h?h+r:r;if(!this._events[u])return this;if(!o)return c(this,u),this;var d=this._events[u];if(d.fn)d.fn===o&&(!v||d.once)&&(!l||d.context===l)&&c(this,u);else{for(var p=0,g=[],x=d.length;p<x;p++)(d[p].fn!==o||v&&!d[p].once||l&&d[p].context!==l)&&g.push(d[p]);g.length?this._events[u]=g.length===1?g[0]:g:c(this,u)}return this},s.prototype.removeAllListeners=function(r){var o;return r?(o=h?h+r:r,this._events[o]&&c(this,o)):(this._events=new y,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=h,s.EventEmitter=s,C.exports=s},1847:C=>{(function(){var M=this&&this.__extends||function(){var y=function(e,f){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,s){c.__proto__=s}||function(c,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(c[a]=s[a])},y(e,f)};return function(e,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");y(e,f);function c(){this.constructor=e}e.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}}(),h;(function(y){var e=function(){function O(L,F,I){if(L==null)throw new Error("name cannot be null.");if(F==null)throw new Error("timelines cannot be null.");this.name=L,this.timelines=F,this.timelineIds=[];for(var b=0;b<F.length;b++)this.timelineIds[F[b].getPropertyId()]=!0;this.duration=I}return O.prototype.hasTimeline=function(L){return this.timelineIds[L]==!0},O.prototype.apply=function(L,F,I,b,G,N,U,Y){if(L==null)throw new Error("skeleton cannot be null.");b&&this.duration!=0&&(I%=this.duration,F>0&&(F%=this.duration));for(var X=this.timelines,B=0,z=X.length;B<z;B++)X[B].apply(L,F,I,G,N,U,Y)},O.binarySearch=function(L,F,I){I===void 0&&(I=1);var b=0,G=L.length/I-2;if(G==0)return I;for(var N=G>>>1;;){if(L[(N+1)*I]<=F?b=N+1:G=N,b==G)return(b+1)*I;N=b+G>>>1}},O.linearSearch=function(L,F,I){for(var b=0,G=L.length-I;b<=G;b+=I)if(L[b]>F)return b;return-1},O}();y.Animation=e;var f;(function(O){O[O.setup=0]="setup",O[O.first=1]="first",O[O.replace=2]="replace",O[O.add=3]="add"})(f=y.MixBlend||(y.MixBlend={}));var c;(function(O){O[O.mixIn=0]="mixIn",O[O.mixOut=1]="mixOut"})(c=y.MixDirection||(y.MixDirection={}));var s;(function(O){O[O.rotate=0]="rotate",O[O.translate=1]="translate",O[O.scale=2]="scale",O[O.shear=3]="shear",O[O.attachment=4]="attachment",O[O.color=5]="color",O[O.deform=6]="deform",O[O.event=7]="event",O[O.drawOrder=8]="drawOrder",O[O.ikConstraint=9]="ikConstraint",O[O.transformConstraint=10]="transformConstraint",O[O.pathConstraintPosition=11]="pathConstraintPosition",O[O.pathConstraintSpacing=12]="pathConstraintSpacing",O[O.pathConstraintMix=13]="pathConstraintMix",O[O.twoColor=14]="twoColor"})(s=y.TimelineType||(y.TimelineType={}));var a=function(){function O(L){if(L<=0)throw new Error("frameCount must be > 0: "+L);this.curves=y.Utils.newFloatArray((L-1)*O.BEZIER_SIZE)}return O.prototype.getFrameCount=function(){return this.curves.length/O.BEZIER_SIZE+1},O.prototype.setLinear=function(L){this.curves[L*O.BEZIER_SIZE]=O.LINEAR},O.prototype.setStepped=function(L){this.curves[L*O.BEZIER_SIZE]=O.STEPPED},O.prototype.getCurveType=function(L){var F=L*O.BEZIER_SIZE;if(F==this.curves.length)return O.LINEAR;var I=this.curves[F];return I==O.LINEAR?O.LINEAR:I==O.STEPPED?O.STEPPED:O.BEZIER},O.prototype.setCurve=function(L,F,I,b,G){var N=(-F*2+b)*.03,U=(-I*2+G)*.03,Y=((F-b)*3+1)*.006,X=((I-G)*3+1)*.006,B=N*2+Y,z=U*2+X,D=F*.3+N+Y*.16666667,V=I*.3+U+X*.16666667,k=L*O.BEZIER_SIZE,W=this.curves;W[k++]=O.BEZIER;for(var H=D,$=V,K=k+O.BEZIER_SIZE-1;k<K;k+=2)W[k]=H,W[k+1]=$,D+=B,V+=z,B+=Y,z+=X,H+=D,$+=V},O.prototype.getCurvePercent=function(L,F){F=y.MathUtils.clamp(F,0,1);var I=this.curves,b=L*O.BEZIER_SIZE,G=I[b];if(G==O.LINEAR)return F;if(G==O.STEPPED)return 0;b++;for(var N=0,U=b,Y=b+O.BEZIER_SIZE-1;b<Y;b+=2)if(N=I[b],N>=F){var X=void 0,B=void 0;return b==U?(X=0,B=0):(X=I[b-2],B=I[b-1]),B+(I[b+1]-B)*(F-X)/(N-X)}var z=I[b-1];return z+(1-z)*(F-N)/(1-N)},O.LINEAR=0,O.STEPPED=1,O.BEZIER=2,O.BEZIER_SIZE=10*2-1,O}();y.CurveTimeline=a;var r=function(O){M(L,O);function L(F){var I=O.call(this,F)||this;return I.frames=y.Utils.newFloatArray(F<<1),I}return L.prototype.getPropertyId=function(){return(s.rotate<<24)+this.boneIndex},L.prototype.setFrame=function(F,I,b){F<<=1,this.frames[F]=I,this.frames[F+L.ROTATION]=b},L.prototype.apply=function(F,I,b,G,N,U,Y){var X=this.frames,B=F.bones[this.boneIndex];if(B.active){if(b<X[0]){switch(U){case f.setup:B.rotation=B.data.rotation;return;case f.first:var z=B.data.rotation-B.rotation;B.rotation+=(z-(16384-(16384.499999999996-z/360|0))*360)*N}return}if(b>=X[X.length-L.ENTRIES]){var D=X[X.length+L.PREV_ROTATION];switch(U){case f.setup:B.rotation=B.data.rotation+D*N;break;case f.first:case f.replace:D+=B.data.rotation-B.rotation,D-=(16384-(16384.499999999996-D/360|0))*360;case f.add:B.rotation+=D*N}return}var V=e.binarySearch(X,b,L.ENTRIES),k=X[V+L.PREV_ROTATION],W=X[V],H=this.getCurvePercent((V>>1)-1,1-(b-W)/(X[V+L.PREV_TIME]-W)),$=X[V+L.ROTATION]-k;switch($=k+($-(16384-(16384.499999999996-$/360|0))*360)*H,U){case f.setup:B.rotation=B.data.rotation+($-(16384-(16384.499999999996-$/360|0))*360)*N;break;case f.first:case f.replace:$+=B.data.rotation-B.rotation;case f.add:B.rotation+=($-(16384-(16384.499999999996-$/360|0))*360)*N}}},L.ENTRIES=2,L.PREV_TIME=-2,L.PREV_ROTATION=-1,L.ROTATION=1,L}(a);y.RotateTimeline=r;var o=function(O){M(L,O);function L(F){var I=O.call(this,F)||this;return I.frames=y.Utils.newFloatArray(F*L.ENTRIES),I}return L.prototype.getPropertyId=function(){return(s.translate<<24)+this.boneIndex},L.prototype.setFrame=function(F,I,b,G){F*=L.ENTRIES,this.frames[F]=I,this.frames[F+L.X]=b,this.frames[F+L.Y]=G},L.prototype.apply=function(F,I,b,G,N,U,Y){var X=this.frames,B=F.bones[this.boneIndex];if(B.active){if(b<X[0]){switch(U){case f.setup:B.x=B.data.x,B.y=B.data.y;return;case f.first:B.x+=(B.data.x-B.x)*N,B.y+=(B.data.y-B.y)*N}return}var z=0,D=0;if(b>=X[X.length-L.ENTRIES])z=X[X.length+L.PREV_X],D=X[X.length+L.PREV_Y];else{var V=e.binarySearch(X,b,L.ENTRIES);z=X[V+L.PREV_X],D=X[V+L.PREV_Y];var k=X[V],W=this.getCurvePercent(V/L.ENTRIES-1,1-(b-k)/(X[V+L.PREV_TIME]-k));z+=(X[V+L.X]-z)*W,D+=(X[V+L.Y]-D)*W}switch(U){case f.setup:B.x=B.data.x+z*N,B.y=B.data.y+D*N;break;case f.first:case f.replace:B.x+=(B.data.x+z-B.x)*N,B.y+=(B.data.y+D-B.y)*N;break;case f.add:B.x+=z*N,B.y+=D*N}}},L.ENTRIES=3,L.PREV_TIME=-3,L.PREV_X=-2,L.PREV_Y=-1,L.X=1,L.Y=2,L}(a);y.TranslateTimeline=o;var l=function(O){M(L,O);function L(F){return O.call(this,F)||this}return L.prototype.getPropertyId=function(){return(s.scale<<24)+this.boneIndex},L.prototype.apply=function(F,I,b,G,N,U,Y){var X=this.frames,B=F.bones[this.boneIndex];if(B.active){if(b<X[0]){switch(U){case f.setup:B.scaleX=B.data.scaleX,B.scaleY=B.data.scaleY;return;case f.first:B.scaleX+=(B.data.scaleX-B.scaleX)*N,B.scaleY+=(B.data.scaleY-B.scaleY)*N}return}var z=0,D=0;if(b>=X[X.length-L.ENTRIES])z=X[X.length+L.PREV_X]*B.data.scaleX,D=X[X.length+L.PREV_Y]*B.data.scaleY;else{var V=e.binarySearch(X,b,L.ENTRIES);z=X[V+L.PREV_X],D=X[V+L.PREV_Y];var k=X[V],W=this.getCurvePercent(V/L.ENTRIES-1,1-(b-k)/(X[V+L.PREV_TIME]-k));z=(z+(X[V+L.X]-z)*W)*B.data.scaleX,D=(D+(X[V+L.Y]-D)*W)*B.data.scaleY}if(N==1)U==f.add?(B.scaleX+=z-B.data.scaleX,B.scaleY+=D-B.data.scaleY):(B.scaleX=z,B.scaleY=D);else{var H=0,$=0;if(Y==c.mixOut)switch(U){case f.setup:H=B.data.scaleX,$=B.data.scaleY,B.scaleX=H+(Math.abs(z)*y.MathUtils.signum(H)-H)*N,B.scaleY=$+(Math.abs(D)*y.MathUtils.signum($)-$)*N;break;case f.first:case f.replace:H=B.scaleX,$=B.scaleY,B.scaleX=H+(Math.abs(z)*y.MathUtils.signum(H)-H)*N,B.scaleY=$+(Math.abs(D)*y.MathUtils.signum($)-$)*N;break;case f.add:H=B.scaleX,$=B.scaleY,B.scaleX=H+(Math.abs(z)*y.MathUtils.signum(H)-B.data.scaleX)*N,B.scaleY=$+(Math.abs(D)*y.MathUtils.signum($)-B.data.scaleY)*N}else switch(U){case f.setup:H=Math.abs(B.data.scaleX)*y.MathUtils.signum(z),$=Math.abs(B.data.scaleY)*y.MathUtils.signum(D),B.scaleX=H+(z-H)*N,B.scaleY=$+(D-$)*N;break;case f.first:case f.replace:H=Math.abs(B.scaleX)*y.MathUtils.signum(z),$=Math.abs(B.scaleY)*y.MathUtils.signum(D),B.scaleX=H+(z-H)*N,B.scaleY=$+(D-$)*N;break;case f.add:H=y.MathUtils.signum(z),$=y.MathUtils.signum(D),B.scaleX=Math.abs(B.scaleX)*H+(z-Math.abs(B.data.scaleX)*H)*N,B.scaleY=Math.abs(B.scaleY)*$+(D-Math.abs(B.data.scaleY)*$)*N}}}},L}(o);y.ScaleTimeline=l;var v=function(O){M(L,O);function L(F){return O.call(this,F)||this}return L.prototype.getPropertyId=function(){return(s.shear<<24)+this.boneIndex},L.prototype.apply=function(F,I,b,G,N,U,Y){var X=this.frames,B=F.bones[this.boneIndex];if(B.active){if(b<X[0]){switch(U){case f.setup:B.shearX=B.data.shearX,B.shearY=B.data.shearY;return;case f.first:B.shearX+=(B.data.shearX-B.shearX)*N,B.shearY+=(B.data.shearY-B.shearY)*N}return}var z=0,D=0;if(b>=X[X.length-L.ENTRIES])z=X[X.length+L.PREV_X],D=X[X.length+L.PREV_Y];else{var V=e.binarySearch(X,b,L.ENTRIES);z=X[V+L.PREV_X],D=X[V+L.PREV_Y];var k=X[V],W=this.getCurvePercent(V/L.ENTRIES-1,1-(b-k)/(X[V+L.PREV_TIME]-k));z=z+(X[V+L.X]-z)*W,D=D+(X[V+L.Y]-D)*W}switch(U){case f.setup:B.shearX=B.data.shearX+z*N,B.shearY=B.data.shearY+D*N;break;case f.first:case f.replace:B.shearX+=(B.data.shearX+z-B.shearX)*N,B.shearY+=(B.data.shearY+D-B.shearY)*N;break;case f.add:B.shearX+=z*N,B.shearY+=D*N}}},L}(o);y.ShearTimeline=v;var u=function(O){M(L,O);function L(F){var I=O.call(this,F)||this;return I.frames=y.Utils.newFloatArray(F*L.ENTRIES),I}return L.prototype.getPropertyId=function(){return(s.color<<24)+this.slotIndex},L.prototype.setFrame=function(F,I,b,G,N,U){F*=L.ENTRIES,this.frames[F]=I,this.frames[F+L.R]=b,this.frames[F+L.G]=G,this.frames[F+L.B]=N,this.frames[F+L.A]=U},L.prototype.apply=function(F,I,b,G,N,U,Y){var X=F.slots[this.slotIndex];if(X.bone.active){var B=this.frames;if(b<B[0]){switch(U){case f.setup:X.color.setFromColor(X.data.color);return;case f.first:var z=X.color,D=X.data.color;z.add((D.r-z.r)*N,(D.g-z.g)*N,(D.b-z.b)*N,(D.a-z.a)*N)}return}var V=0,k=0,W=0,H=0;if(b>=B[B.length-L.ENTRIES]){var $=B.length;V=B[$+L.PREV_R],k=B[$+L.PREV_G],W=B[$+L.PREV_B],H=B[$+L.PREV_A]}else{var K=e.binarySearch(B,b,L.ENTRIES);V=B[K+L.PREV_R],k=B[K+L.PREV_G],W=B[K+L.PREV_B],H=B[K+L.PREV_A];var j=B[K],Z=this.getCurvePercent(K/L.ENTRIES-1,1-(b-j)/(B[K+L.PREV_TIME]-j));V+=(B[K+L.R]-V)*Z,k+=(B[K+L.G]-k)*Z,W+=(B[K+L.B]-W)*Z,H+=(B[K+L.A]-H)*Z}if(N==1)X.color.set(V,k,W,H);else{var z=X.color;U==f.setup&&z.setFromColor(X.data.color),z.add((V-z.r)*N,(k-z.g)*N,(W-z.b)*N,(H-z.a)*N)}}},L.ENTRIES=5,L.PREV_TIME=-5,L.PREV_R=-4,L.PREV_G=-3,L.PREV_B=-2,L.PREV_A=-1,L.R=1,L.G=2,L.B=3,L.A=4,L}(a);y.ColorTimeline=u;var d=function(O){M(L,O);function L(F){var I=O.call(this,F)||this;return I.frames=y.Utils.newFloatArray(F*L.ENTRIES),I}return L.prototype.getPropertyId=function(){return(s.twoColor<<24)+this.slotIndex},L.prototype.setFrame=function(F,I,b,G,N,U,Y,X,B){F*=L.ENTRIES,this.frames[F]=I,this.frames[F+L.R]=b,this.frames[F+L.G]=G,this.frames[F+L.B]=N,this.frames[F+L.A]=U,this.frames[F+L.R2]=Y,this.frames[F+L.G2]=X,this.frames[F+L.B2]=B},L.prototype.apply=function(F,I,b,G,N,U,Y){var X=F.slots[this.slotIndex];if(X.bone.active){var B=this.frames;if(b<B[0]){switch(U){case f.setup:X.color.setFromColor(X.data.color),X.darkColor.setFromColor(X.data.darkColor);return;case f.first:var z=X.color,D=X.darkColor,V=X.data.color,k=X.data.darkColor;z.add((V.r-z.r)*N,(V.g-z.g)*N,(V.b-z.b)*N,(V.a-z.a)*N),D.add((k.r-D.r)*N,(k.g-D.g)*N,(k.b-D.b)*N,0)}return}var W=0,H=0,$=0,K=0,j=0,Z=0,J=0;if(b>=B[B.length-L.ENTRIES]){var Q=B.length;W=B[Q+L.PREV_R],H=B[Q+L.PREV_G],$=B[Q+L.PREV_B],K=B[Q+L.PREV_A],j=B[Q+L.PREV_R2],Z=B[Q+L.PREV_G2],J=B[Q+L.PREV_B2]}else{var q=e.binarySearch(B,b,L.ENTRIES);W=B[q+L.PREV_R],H=B[q+L.PREV_G],$=B[q+L.PREV_B],K=B[q+L.PREV_A],j=B[q+L.PREV_R2],Z=B[q+L.PREV_G2],J=B[q+L.PREV_B2];var _=B[q],et=this.getCurvePercent(q/L.ENTRIES-1,1-(b-_)/(B[q+L.PREV_TIME]-_));W+=(B[q+L.R]-W)*et,H+=(B[q+L.G]-H)*et,$+=(B[q+L.B]-$)*et,K+=(B[q+L.A]-K)*et,j+=(B[q+L.R2]-j)*et,Z+=(B[q+L.G2]-Z)*et,J+=(B[q+L.B2]-J)*et}if(N==1)X.color.set(W,H,$,K),X.darkColor.set(j,Z,J,1);else{var z=X.color,D=X.darkColor;U==f.setup&&(z.setFromColor(X.data.color),D.setFromColor(X.data.darkColor)),z.add((W-z.r)*N,(H-z.g)*N,($-z.b)*N,(K-z.a)*N),D.add((j-D.r)*N,(Z-D.g)*N,(J-D.b)*N,0)}}},L.ENTRIES=8,L.PREV_TIME=-8,L.PREV_R=-7,L.PREV_G=-6,L.PREV_B=-5,L.PREV_A=-4,L.PREV_R2=-3,L.PREV_G2=-2,L.PREV_B2=-1,L.R=1,L.G=2,L.B=3,L.A=4,L.R2=5,L.G2=6,L.B2=7,L}(a);y.TwoColorTimeline=d;var p=function(){function O(L){this.frames=y.Utils.newFloatArray(L),this.attachmentNames=new Array(L)}return O.prototype.getPropertyId=function(){return(s.attachment<<24)+this.slotIndex},O.prototype.getFrameCount=function(){return this.frames.length},O.prototype.setFrame=function(L,F,I){this.frames[L]=F,this.attachmentNames[L]=I},O.prototype.apply=function(L,F,I,b,G,N,U){var Y=L.slots[this.slotIndex];if(Y.bone.active){if(U==c.mixOut){N==f.setup&&this.setAttachment(L,Y,Y.data.attachmentName);return}var X=this.frames;if(I<X[0]){(N==f.setup||N==f.first)&&this.setAttachment(L,Y,Y.data.attachmentName);return}var B=0;I>=X[X.length-1]?B=X.length-1:B=e.binarySearch(X,I,1)-1;var z=this.attachmentNames[B];L.slots[this.slotIndex].setAttachment(z==null?null:L.getAttachment(this.slotIndex,z))}},O.prototype.setAttachment=function(L,F,I){F.setAttachment(I==null?null:L.getAttachment(this.slotIndex,I))},O}();y.AttachmentTimeline=p;var g=null,x=function(O){M(L,O);function L(F){var I=O.call(this,F)||this;return I.frames=y.Utils.newFloatArray(F),I.frameVertices=new Array(F),g==null&&(g=y.Utils.newFloatArray(64)),I}return L.prototype.getPropertyId=function(){return(s.deform<<27)+ +this.attachment.id+this.slotIndex},L.prototype.setFrame=function(F,I,b){this.frames[F]=I,this.frameVertices[F]=b},L.prototype.apply=function(F,I,b,G,N,U,Y){var X=F.slots[this.slotIndex];if(X.bone.active){var B=X.getAttachment();if(!(!(B instanceof y.VertexAttachment)||B.deformAttachment!=this.attachment)){var z=X.deform;z.length==0&&(U=f.setup);var D=this.frameVertices,V=D[0].length,k=this.frames;if(b<k[0]){var W=B;switch(U){case f.setup:z.length=0;return;case f.first:if(N==1){z.length=0;break}var H=y.Utils.setArraySize(z,V);if(W.bones==null)for(var $=W.vertices,K=0;K<V;K++)H[K]+=($[K]-H[K])*N;else{N=1-N;for(var K=0;K<V;K++)H[K]*=N}}return}var j=y.Utils.setArraySize(z,V);if(b>=k[k.length-1]){var Z=D[k.length-1];if(N==1)if(U==f.add){var W=B;if(W.bones==null)for(var $=W.vertices,J=0;J<V;J++)j[J]+=Z[J]-$[J];else for(var Q=0;Q<V;Q++)j[Q]+=Z[Q]}else y.Utils.arrayCopy(Z,0,j,0,V);else switch(U){case f.setup:{var q=B;if(q.bones==null)for(var $=q.vertices,_=0;_<V;_++){var et=$[_];j[_]=et+(Z[_]-et)*N}else for(var st=0;st<V;st++)j[st]=Z[st]*N;break}case f.first:case f.replace:for(var it=0;it<V;it++)j[it]+=(Z[it]-j[it])*N;break;case f.add:var W=B;if(W.bones==null)for(var $=W.vertices,lt=0;lt<V;lt++)j[lt]+=(Z[lt]-$[lt])*N;else for(var tt=0;tt<V;tt++)j[tt]+=Z[tt]*N}return}var ht=e.binarySearch(k,b),rt=D[ht-1],ft=D[ht],ct=k[ht],yt=this.getCurvePercent(ht-1,1-(b-ct)/(k[ht-1]-ct));if(N==1)if(U==f.add){var W=B;if(W.bones==null)for(var $=W.vertices,mt=0;mt<V;mt++){var dt=rt[mt];j[mt]+=dt+(ft[mt]-dt)*yt-$[mt]}else for(var gt=0;gt<V;gt++){var dt=rt[gt];j[gt]+=dt+(ft[gt]-dt)*yt}}else for(var St=0;St<V;St++){var dt=rt[St];j[St]=dt+(ft[St]-dt)*yt}else switch(U){case f.setup:{var Vt=B;if(Vt.bones==null)for(var $=Vt.vertices,It=0;It<V;It++){var dt=rt[It],et=$[It];j[It]=et+(dt+(ft[It]-dt)*yt-et)*N}else for(var zt=0;zt<V;zt++){var dt=rt[zt];j[zt]=(dt+(ft[zt]-dt)*yt)*N}break}case f.first:case f.replace:for(var kt=0;kt<V;kt++){var dt=rt[kt];j[kt]+=(dt+(ft[kt]-dt)*yt-j[kt])*N}break;case f.add:var W=B;if(W.bones==null)for(var $=W.vertices,ze=0;ze<V;ze++){var dt=rt[ze];j[ze]+=(dt+(ft[ze]-dt)*yt-$[ze])*N}else for(var qe=0;qe<V;qe++){var dt=rt[qe];j[qe]+=(dt+(ft[qe]-dt)*yt)*N}}}}},L}(a);y.DeformTimeline=x;var T=function(){function O(L){this.frames=y.Utils.newFloatArray(L),this.events=new Array(L)}return O.prototype.getPropertyId=function(){return s.event<<24},O.prototype.getFrameCount=function(){return this.frames.length},O.prototype.setFrame=function(L,F){this.frames[L]=F.time,this.events[L]=F},O.prototype.apply=function(L,F,I,b,G,N,U){if(b!=null){var Y=this.frames,X=this.frames.length;if(F>I)this.apply(L,F,Number.MAX_VALUE,b,G,N,U),F=-1;else if(F>=Y[X-1])return;if(!(I<Y[0])){var B=0;if(F<Y[0])B=0;else{B=e.binarySearch(Y,F);for(var z=Y[B];B>0&&Y[B-1]==z;)B--}for(;B<X&&I>=Y[B];B++)b.push(this.events[B])}}},O}();y.EventTimeline=T;var S=function(){function O(L){this.frames=y.Utils.newFloatArray(L),this.drawOrders=new Array(L)}return O.prototype.getPropertyId=function(){return s.drawOrder<<24},O.prototype.getFrameCount=function(){return this.frames.length},O.prototype.setFrame=function(L,F,I){this.frames[L]=F,this.drawOrders[L]=I},O.prototype.apply=function(L,F,I,b,G,N,U){var Y=L.drawOrder,X=L.slots;if(U==c.mixOut){N==f.setup&&y.Utils.arrayCopy(L.slots,0,L.drawOrder,0,L.slots.length);return}var B=this.frames;if(I<B[0]){(N==f.setup||N==f.first)&&y.Utils.arrayCopy(L.slots,0,L.drawOrder,0,L.slots.length);return}var z=0;I>=B[B.length-1]?z=B.length-1:z=e.binarySearch(B,I)-1;var D=this.drawOrders[z];if(D==null)y.Utils.arrayCopy(X,0,Y,0,X.length);else for(var V=0,k=D.length;V<k;V++)Y[V]=X[D[V]]},O}();y.DrawOrderTimeline=S;var P=function(O){M(L,O);function L(F){var I=O.call(this,F)||this;return I.frames=y.Utils.newFloatArray(F*L.ENTRIES),I}return L.prototype.getPropertyId=function(){return(s.ikConstraint<<24)+this.ikConstraintIndex},L.prototype.setFrame=function(F,I,b,G,N,U,Y){F*=L.ENTRIES,this.frames[F]=I,this.frames[F+L.MIX]=b,this.frames[F+L.SOFTNESS]=G,this.frames[F+L.BEND_DIRECTION]=N,this.frames[F+L.COMPRESS]=U?1:0,this.frames[F+L.STRETCH]=Y?1:0},L.prototype.apply=function(F,I,b,G,N,U,Y){var X=this.frames,B=F.ikConstraints[this.ikConstraintIndex];if(B.active){if(b<X[0]){switch(U){case f.setup:B.mix=B.data.mix,B.softness=B.data.softness,B.bendDirection=B.data.bendDirection,B.compress=B.data.compress,B.stretch=B.data.stretch;return;case f.first:B.mix+=(B.data.mix-B.mix)*N,B.softness+=(B.data.softness-B.softness)*N,B.bendDirection=B.data.bendDirection,B.compress=B.data.compress,B.stretch=B.data.stretch}return}if(b>=X[X.length-L.ENTRIES]){U==f.setup?(B.mix=B.data.mix+(X[X.length+L.PREV_MIX]-B.data.mix)*N,B.softness=B.data.softness+(X[X.length+L.PREV_SOFTNESS]-B.data.softness)*N,Y==c.mixOut?(B.bendDirection=B.data.bendDirection,B.compress=B.data.compress,B.stretch=B.data.stretch):(B.bendDirection=X[X.length+L.PREV_BEND_DIRECTION],B.compress=X[X.length+L.PREV_COMPRESS]!=0,B.stretch=X[X.length+L.PREV_STRETCH]!=0)):(B.mix+=(X[X.length+L.PREV_MIX]-B.mix)*N,B.softness+=(X[X.length+L.PREV_SOFTNESS]-B.softness)*N,Y==c.mixIn&&(B.bendDirection=X[X.length+L.PREV_BEND_DIRECTION],B.compress=X[X.length+L.PREV_COMPRESS]!=0,B.stretch=X[X.length+L.PREV_STRETCH]!=0));return}var z=e.binarySearch(X,b,L.ENTRIES),D=X[z+L.PREV_MIX],V=X[z+L.PREV_SOFTNESS],k=X[z],W=this.getCurvePercent(z/L.ENTRIES-1,1-(b-k)/(X[z+L.PREV_TIME]-k));U==f.setup?(B.mix=B.data.mix+(D+(X[z+L.MIX]-D)*W-B.data.mix)*N,B.softness=B.data.softness+(V+(X[z+L.SOFTNESS]-V)*W-B.data.softness)*N,Y==c.mixOut?(B.bendDirection=B.data.bendDirection,B.compress=B.data.compress,B.stretch=B.data.stretch):(B.bendDirection=X[z+L.PREV_BEND_DIRECTION],B.compress=X[z+L.PREV_COMPRESS]!=0,B.stretch=X[z+L.PREV_STRETCH]!=0)):(B.mix+=(D+(X[z+L.MIX]-D)*W-B.mix)*N,B.softness+=(V+(X[z+L.SOFTNESS]-V)*W-B.softness)*N,Y==c.mixIn&&(B.bendDirection=X[z+L.PREV_BEND_DIRECTION],B.compress=X[z+L.PREV_COMPRESS]!=0,B.stretch=X[z+L.PREV_STRETCH]!=0))}},L.ENTRIES=6,L.PREV_TIME=-6,L.PREV_MIX=-5,L.PREV_SOFTNESS=-4,L.PREV_BEND_DIRECTION=-3,L.PREV_COMPRESS=-2,L.PREV_STRETCH=-1,L.MIX=1,L.SOFTNESS=2,L.BEND_DIRECTION=3,L.COMPRESS=4,L.STRETCH=5,L}(a);y.IkConstraintTimeline=P;var E=function(O){M(L,O);function L(F){var I=O.call(this,F)||this;return I.frames=y.Utils.newFloatArray(F*L.ENTRIES),I}return L.prototype.getPropertyId=function(){return(s.transformConstraint<<24)+this.transformConstraintIndex},L.prototype.setFrame=function(F,I,b,G,N,U){F*=L.ENTRIES,this.frames[F]=I,this.frames[F+L.ROTATE]=b,this.frames[F+L.TRANSLATE]=G,this.frames[F+L.SCALE]=N,this.frames[F+L.SHEAR]=U},L.prototype.apply=function(F,I,b,G,N,U,Y){var X=this.frames,B=F.transformConstraints[this.transformConstraintIndex];if(B.active){if(b<X[0]){var z=B.data;switch(U){case f.setup:B.rotateMix=z.rotateMix,B.translateMix=z.translateMix,B.scaleMix=z.scaleMix,B.shearMix=z.shearMix;return;case f.first:B.rotateMix+=(z.rotateMix-B.rotateMix)*N,B.translateMix+=(z.translateMix-B.translateMix)*N,B.scaleMix+=(z.scaleMix-B.scaleMix)*N,B.shearMix+=(z.shearMix-B.shearMix)*N}return}var D=0,V=0,k=0,W=0;if(b>=X[X.length-L.ENTRIES]){var H=X.length;D=X[H+L.PREV_ROTATE],V=X[H+L.PREV_TRANSLATE],k=X[H+L.PREV_SCALE],W=X[H+L.PREV_SHEAR]}else{var $=e.binarySearch(X,b,L.ENTRIES);D=X[$+L.PREV_ROTATE],V=X[$+L.PREV_TRANSLATE],k=X[$+L.PREV_SCALE],W=X[$+L.PREV_SHEAR];var K=X[$],j=this.getCurvePercent($/L.ENTRIES-1,1-(b-K)/(X[$+L.PREV_TIME]-K));D+=(X[$+L.ROTATE]-D)*j,V+=(X[$+L.TRANSLATE]-V)*j,k+=(X[$+L.SCALE]-k)*j,W+=(X[$+L.SHEAR]-W)*j}if(U==f.setup){var z=B.data;B.rotateMix=z.rotateMix+(D-z.rotateMix)*N,B.translateMix=z.translateMix+(V-z.translateMix)*N,B.scaleMix=z.scaleMix+(k-z.scaleMix)*N,B.shearMix=z.shearMix+(W-z.shearMix)*N}else B.rotateMix+=(D-B.rotateMix)*N,B.translateMix+=(V-B.translateMix)*N,B.scaleMix+=(k-B.scaleMix)*N,B.shearMix+=(W-B.shearMix)*N}},L.ENTRIES=5,L.PREV_TIME=-5,L.PREV_ROTATE=-4,L.PREV_TRANSLATE=-3,L.PREV_SCALE=-2,L.PREV_SHEAR=-1,L.ROTATE=1,L.TRANSLATE=2,L.SCALE=3,L.SHEAR=4,L}(a);y.TransformConstraintTimeline=E;var R=function(O){M(L,O);function L(F){var I=O.call(this,F)||this;return I.frames=y.Utils.newFloatArray(F*L.ENTRIES),I}return L.prototype.getPropertyId=function(){return(s.pathConstraintPosition<<24)+this.pathConstraintIndex},L.prototype.setFrame=function(F,I,b){F*=L.ENTRIES,this.frames[F]=I,this.frames[F+L.VALUE]=b},L.prototype.apply=function(F,I,b,G,N,U,Y){var X=this.frames,B=F.pathConstraints[this.pathConstraintIndex];if(B.active){if(b<X[0]){switch(U){case f.setup:B.position=B.data.position;return;case f.first:B.position+=(B.data.position-B.position)*N}return}var z=0;if(b>=X[X.length-L.ENTRIES])z=X[X.length+L.PREV_VALUE];else{var D=e.binarySearch(X,b,L.ENTRIES);z=X[D+L.PREV_VALUE];var V=X[D],k=this.getCurvePercent(D/L.ENTRIES-1,1-(b-V)/(X[D+L.PREV_TIME]-V));z+=(X[D+L.VALUE]-z)*k}U==f.setup?B.position=B.data.position+(z-B.data.position)*N:B.position+=(z-B.position)*N}},L.ENTRIES=2,L.PREV_TIME=-2,L.PREV_VALUE=-1,L.VALUE=1,L}(a);y.PathConstraintPositionTimeline=R;var A=function(O){M(L,O);function L(F){return O.call(this,F)||this}return L.prototype.getPropertyId=function(){return(s.pathConstraintSpacing<<24)+this.pathConstraintIndex},L.prototype.apply=function(F,I,b,G,N,U,Y){var X=this.frames,B=F.pathConstraints[this.pathConstraintIndex];if(B.active){if(b<X[0]){switch(U){case f.setup:B.spacing=B.data.spacing;return;case f.first:B.spacing+=(B.data.spacing-B.spacing)*N}return}var z=0;if(b>=X[X.length-L.ENTRIES])z=X[X.length+L.PREV_VALUE];else{var D=e.binarySearch(X,b,L.ENTRIES);z=X[D+L.PREV_VALUE];var V=X[D],k=this.getCurvePercent(D/L.ENTRIES-1,1-(b-V)/(X[D+L.PREV_TIME]-V));z+=(X[D+L.VALUE]-z)*k}U==f.setup?B.spacing=B.data.spacing+(z-B.data.spacing)*N:B.spacing+=(z-B.spacing)*N}},L}(R);y.PathConstraintSpacingTimeline=A;var w=function(O){M(L,O);function L(F){var I=O.call(this,F)||this;return I.frames=y.Utils.newFloatArray(F*L.ENTRIES),I}return L.prototype.getPropertyId=function(){return(s.pathConstraintMix<<24)+this.pathConstraintIndex},L.prototype.setFrame=function(F,I,b,G){F*=L.ENTRIES,this.frames[F]=I,this.frames[F+L.ROTATE]=b,this.frames[F+L.TRANSLATE]=G},L.prototype.apply=function(F,I,b,G,N,U,Y){var X=this.frames,B=F.pathConstraints[this.pathConstraintIndex];if(B.active){if(b<X[0]){switch(U){case f.setup:B.rotateMix=B.data.rotateMix,B.translateMix=B.data.translateMix;return;case f.first:B.rotateMix+=(B.data.rotateMix-B.rotateMix)*N,B.translateMix+=(B.data.translateMix-B.translateMix)*N}return}var z=0,D=0;if(b>=X[X.length-L.ENTRIES])z=X[X.length+L.PREV_ROTATE],D=X[X.length+L.PREV_TRANSLATE];else{var V=e.binarySearch(X,b,L.ENTRIES);z=X[V+L.PREV_ROTATE],D=X[V+L.PREV_TRANSLATE];var k=X[V],W=this.getCurvePercent(V/L.ENTRIES-1,1-(b-k)/(X[V+L.PREV_TIME]-k));z+=(X[V+L.ROTATE]-z)*W,D+=(X[V+L.TRANSLATE]-D)*W}U==f.setup?(B.rotateMix=B.data.rotateMix+(z-B.data.rotateMix)*N,B.translateMix=B.data.translateMix+(D-B.data.translateMix)*N):(B.rotateMix+=(z-B.rotateMix)*N,B.translateMix+=(D-B.translateMix)*N)}},L.ENTRIES=3,L.PREV_TIME=-3,L.PREV_ROTATE=-2,L.PREV_TRANSLATE=-1,L.ROTATE=1,L.TRANSLATE=2,L}(a);y.PathConstraintMixTimeline=w})(h||(h={}));var h;(function(y){var e=function(){function r(o){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new c(this),this.propertyIDs=new y.IntSet,this.animationsChanged=!1,this.trackEntryPool=new y.Pool(function(){return new f}),this.data=o}return r.prototype.update=function(o){o*=this.timeScale;for(var l=this.tracks,v=0,u=l.length;v<u;v++){var d=l[v];if(d!=null){d.animationLast=d.nextAnimationLast,d.trackLast=d.nextTrackLast;var p=o*d.timeScale;if(d.delay>0){if(d.delay-=p,d.delay>0)continue;p=-d.delay,d.delay=0}var g=d.next;if(g!=null){var x=d.trackLast-g.delay;if(x>=0){for(g.delay=0,g.trackTime+=d.timeScale==0?0:(x/d.timeScale+o)*g.timeScale,d.trackTime+=p,this.setCurrent(v,g,!0);g.mixingFrom!=null;)g.mixTime+=o,g=g.mixingFrom;continue}}else if(d.trackLast>=d.trackEnd&&d.mixingFrom==null){l[v]=null,this.queue.end(d),this.disposeNext(d);continue}if(d.mixingFrom!=null&&this.updateMixingFrom(d,o)){var T=d.mixingFrom;for(d.mixingFrom=null,T!=null&&(T.mixingTo=null);T!=null;)this.queue.end(T),T=T.mixingFrom}d.trackTime+=p}}this.queue.drain()},r.prototype.updateMixingFrom=function(o,l){var v=o.mixingFrom;if(v==null)return!0;var u=this.updateMixingFrom(v,l);return v.animationLast=v.nextAnimationLast,v.trackLast=v.nextTrackLast,o.mixTime>0&&o.mixTime>=o.mixDuration?((v.totalAlpha==0||o.mixDuration==0)&&(o.mixingFrom=v.mixingFrom,v.mixingFrom!=null&&(v.mixingFrom.mixingTo=o),o.interruptAlpha=v.interruptAlpha,this.queue.end(v)),u):(v.trackTime+=l*v.timeScale,o.mixTime+=l,!1)},r.prototype.apply=function(o){if(o==null)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var l=this.events,v=this.tracks,u=!1,d=0,p=v.length;d<p;d++){var g=v[d];if(!(g==null||g.delay>0)){u=!0;var x=d==0?y.MixBlend.first:g.mixBlend,T=g.alpha;g.mixingFrom!=null?T*=this.applyMixingFrom(g,o,x):g.trackTime>=g.trackEnd&&g.next==null&&(T=0);var S=g.animationLast,P=g.getAnimationTime(),E=g.animation.timelines.length,R=g.animation.timelines;if(d==0&&T==1||x==y.MixBlend.add)for(var A=0;A<E;A++){y.Utils.webkit602BugfixHelper(T,x);var w=R[A];w instanceof y.AttachmentTimeline?this.applyAttachmentTimeline(w,o,P,x,!0):w.apply(o,S,P,l,T,x,y.MixDirection.mixIn)}else{var O=g.timelineMode,L=g.timelinesRotation.length==0;L&&y.Utils.setArraySize(g.timelinesRotation,E<<1,null);for(var F=g.timelinesRotation,A=0;A<E;A++){var I=R[A],b=O[A]==r.SUBSEQUENT?x:y.MixBlend.setup;I instanceof y.RotateTimeline?this.applyRotateTimeline(I,o,P,T,b,F,A<<1,L):I instanceof y.AttachmentTimeline?this.applyAttachmentTimeline(I,o,P,x,!0):(y.Utils.webkit602BugfixHelper(T,x),I.apply(o,S,P,l,T,b,y.MixDirection.mixIn))}}this.queueEvents(g,P),l.length=0,g.nextAnimationLast=P,g.nextTrackLast=g.trackTime}}for(var G=this.unkeyedState+r.SETUP,N=o.slots,U=0,Y=o.slots.length;U<Y;U++){var X=N[U];if(X.attachmentState==G){var B=X.data.attachmentName;X.setAttachment(B==null?null:o.getAttachment(X.data.index,B))}}return this.unkeyedState+=2,this.queue.drain(),u},r.prototype.applyMixingFrom=function(o,l,v){var u=o.mixingFrom;u.mixingFrom!=null&&this.applyMixingFrom(u,l,v);var d=0;o.mixDuration==0?(d=1,v==y.MixBlend.first&&(v=y.MixBlend.setup)):(d=o.mixTime/o.mixDuration,d>1&&(d=1),v!=y.MixBlend.first&&(v=u.mixBlend));var p=d<u.eventThreshold?this.events:null,g=d<u.attachmentThreshold,x=d<u.drawOrderThreshold,T=u.animationLast,S=u.getAnimationTime(),P=u.animation.timelines.length,E=u.animation.timelines,R=u.alpha*o.interruptAlpha,A=R*(1-d);if(v==y.MixBlend.add)for(var w=0;w<P;w++)E[w].apply(l,T,S,p,A,v,y.MixDirection.mixOut);else{var O=u.timelineMode,L=u.timelineHoldMix,F=u.timelinesRotation.length==0;F&&y.Utils.setArraySize(u.timelinesRotation,P<<1,null);var I=u.timelinesRotation;u.totalAlpha=0;for(var w=0;w<P;w++){var b=E[w],G=y.MixDirection.mixOut,N=void 0,U=0;switch(O[w]){case r.SUBSEQUENT:if(!x&&b instanceof y.DrawOrderTimeline)continue;N=v,U=A;break;case r.FIRST:N=y.MixBlend.setup,U=A;break;case r.HOLD_SUBSEQUENT:N=v,U=R;break;case r.HOLD_FIRST:N=y.MixBlend.setup,U=R;break;default:N=y.MixBlend.setup;var Y=L[w];U=R*Math.max(0,1-Y.mixTime/Y.mixDuration);break}u.totalAlpha+=U,b instanceof y.RotateTimeline?this.applyRotateTimeline(b,l,S,U,N,I,w<<1,F):b instanceof y.AttachmentTimeline?this.applyAttachmentTimeline(b,l,S,N,g):(y.Utils.webkit602BugfixHelper(U,v),x&&b instanceof y.DrawOrderTimeline&&N==y.MixBlend.setup&&(G=y.MixDirection.mixIn),b.apply(l,T,S,p,U,N,G))}}return o.mixDuration>0&&this.queueEvents(u,S),this.events.length=0,u.nextAnimationLast=S,u.nextTrackLast=u.trackTime,d},r.prototype.applyAttachmentTimeline=function(o,l,v,u,d){var p=l.slots[o.slotIndex];if(p.bone.active){var g=o.frames;if(v<g[0])(u==y.MixBlend.setup||u==y.MixBlend.first)&&this.setAttachment(l,p,p.data.attachmentName,d);else{var x;v>=g[g.length-1]?x=g.length-1:x=y.Animation.binarySearch(g,v)-1,this.setAttachment(l,p,o.attachmentNames[x],d)}p.attachmentState<=this.unkeyedState&&(p.attachmentState=this.unkeyedState+r.SETUP)}},r.prototype.setAttachment=function(o,l,v,u){l.setAttachment(v==null?null:o.getAttachment(l.data.index,v)),u&&(l.attachmentState=this.unkeyedState+r.CURRENT)},r.prototype.applyRotateTimeline=function(o,l,v,u,d,p,g,x){if(x&&(p[g]=0),u==1){o.apply(l,0,v,null,1,d,y.MixDirection.mixIn);return}var T=o,S=T.frames,P=l.bones[T.boneIndex];if(P.active){var E=0,R=0;if(v<S[0])switch(d){case y.MixBlend.setup:P.rotation=P.data.rotation;default:return;case y.MixBlend.first:E=P.rotation,R=P.data.rotation}else if(E=d==y.MixBlend.setup?P.data.rotation:P.rotation,v>=S[S.length-y.RotateTimeline.ENTRIES])R=P.data.rotation+S[S.length+y.RotateTimeline.PREV_ROTATION];else{var A=y.Animation.binarySearch(S,v,y.RotateTimeline.ENTRIES),w=S[A+y.RotateTimeline.PREV_ROTATION],O=S[A],L=T.getCurvePercent((A>>1)-1,1-(v-O)/(S[A+y.RotateTimeline.PREV_TIME]-O));R=S[A+y.RotateTimeline.ROTATION]-w,R-=(16384-(16384.499999999996-R/360|0))*360,R=w+R*L+P.data.rotation,R-=(16384-(16384.499999999996-R/360|0))*360}var F=0,I=R-E;if(I-=(16384-(16384.499999999996-I/360|0))*360,I==0)F=p[g];else{var b=0,G=0;x?(b=0,G=I):(b=p[g],G=p[g+1]);var N=I>0,U=b>=0;y.MathUtils.signum(G)!=y.MathUtils.signum(I)&&Math.abs(G)<=90&&(Math.abs(b)>180&&(b+=360*y.MathUtils.signum(b)),U=N),F=I+b-b%360,U!=N&&(F+=360*y.MathUtils.signum(b)),p[g]=F}p[g+1]=I,E+=F*u,P.rotation=E-(16384-(16384.499999999996-E/360|0))*360}},r.prototype.queueEvents=function(o,l){for(var v=o.animationStart,u=o.animationEnd,d=u-v,p=o.trackLast%d,g=this.events,x=0,T=g.length;x<T;x++){var S=g[x];if(S.time<p)break;S.time>u||this.queue.event(o,S)}var P=!1;for(o.loop?P=d==0||p>o.trackTime%d:P=l>=u&&o.animationLast<u,P&&this.queue.complete(o);x<T;x++){var E=g[x];E.time<v||this.queue.event(o,g[x])}},r.prototype.clearTracks=function(){var o=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var l=0,v=this.tracks.length;l<v;l++)this.clearTrack(l);this.tracks.length=0,this.queue.drainDisabled=o,this.queue.drain()},r.prototype.clearTrack=function(o){if(!(o>=this.tracks.length)){var l=this.tracks[o];if(l!=null){this.queue.end(l),this.disposeNext(l);for(var v=l;;){var u=v.mixingFrom;if(u==null)break;this.queue.end(u),v.mixingFrom=null,v.mixingTo=null,v=u}this.tracks[l.trackIndex]=null,this.queue.drain()}}},r.prototype.setCurrent=function(o,l,v){var u=this.expandToIndex(o);this.tracks[o]=l,u!=null&&(v&&this.queue.interrupt(u),l.mixingFrom=u,u.mixingTo=l,l.mixTime=0,u.mixingFrom!=null&&u.mixDuration>0&&(l.interruptAlpha*=Math.min(1,u.mixTime/u.mixDuration)),u.timelinesRotation.length=0),this.queue.start(l)},r.prototype.setAnimation=function(o,l,v){var u=this.data.skeletonData.findAnimation(l);if(u==null)throw new Error("Animation not found: "+l);return this.setAnimationWith(o,u,v)},r.prototype.setAnimationWith=function(o,l,v){if(l==null)throw new Error("animation cannot be null.");var u=!0,d=this.expandToIndex(o);d!=null&&(d.nextTrackLast==-1?(this.tracks[o]=d.mixingFrom,this.queue.interrupt(d),this.queue.end(d),this.disposeNext(d),d=d.mixingFrom,u=!1):this.disposeNext(d));var p=this.trackEntry(o,l,v,d);return this.setCurrent(o,p,u),this.queue.drain(),p},r.prototype.addAnimation=function(o,l,v,u){var d=this.data.skeletonData.findAnimation(l);if(d==null)throw new Error("Animation not found: "+l);return this.addAnimationWith(o,d,v,u)},r.prototype.addAnimationWith=function(o,l,v,u){if(l==null)throw new Error("animation cannot be null.");var d=this.expandToIndex(o);if(d!=null)for(;d.next!=null;)d=d.next;var p=this.trackEntry(o,l,v,d);if(d==null)this.setCurrent(o,p,!0),this.queue.drain();else if(d.next=p,u<=0){var g=d.animationEnd-d.animationStart;g!=0?(d.loop?u+=g*(1+(d.trackTime/g|0)):u+=Math.max(g,d.trackTime),u-=this.data.getMix(d.animation,l)):u=d.trackTime}return p.delay=u,p},r.prototype.setEmptyAnimation=function(o,l){var v=this.setAnimationWith(o,r.emptyAnimation,!1);return v.mixDuration=l,v.trackEnd=l,v},r.prototype.addEmptyAnimation=function(o,l,v){v<=0&&(v-=l);var u=this.addAnimationWith(o,r.emptyAnimation,!1,v);return u.mixDuration=l,u.trackEnd=l,u},r.prototype.setEmptyAnimations=function(o){var l=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var v=0,u=this.tracks.length;v<u;v++){var d=this.tracks[v];d!=null&&this.setEmptyAnimation(d.trackIndex,o)}this.queue.drainDisabled=l,this.queue.drain()},r.prototype.expandToIndex=function(o){return o<this.tracks.length?this.tracks[o]:(y.Utils.ensureArrayCapacity(this.tracks,o+1,null),this.tracks.length=o+1,null)},r.prototype.trackEntry=function(o,l,v,u){var d=this.trackEntryPool.obtain();return d.trackIndex=o,d.animation=l,d.loop=v,d.holdPrevious=!1,d.eventThreshold=0,d.attachmentThreshold=0,d.drawOrderThreshold=0,d.animationStart=0,d.animationEnd=l.duration,d.animationLast=-1,d.nextAnimationLast=-1,d.delay=0,d.trackTime=0,d.trackLast=-1,d.nextTrackLast=-1,d.trackEnd=Number.MAX_VALUE,d.timeScale=1,d.alpha=1,d.interruptAlpha=1,d.mixTime=0,d.mixDuration=u==null?0:this.data.getMix(u.animation,l),d.mixBlend=y.MixBlend.replace,d},r.prototype.disposeNext=function(o){for(var l=o.next;l!=null;)this.queue.dispose(l),l=l.next;o.next=null},r.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var o=0,l=this.tracks.length;o<l;o++){var v=this.tracks[o];if(v!=null){for(;v.mixingFrom!=null;)v=v.mixingFrom;do(v.mixingFrom==null||v.mixBlend!=y.MixBlend.add)&&this.computeHold(v),v=v.mixingTo;while(v!=null)}}},r.prototype.computeHold=function(o){var l=o.mixingTo,v=o.animation.timelines,u=o.animation.timelines.length,d=y.Utils.setArraySize(o.timelineMode,u);o.timelineHoldMix.length=0;var p=y.Utils.setArraySize(o.timelineHoldMix,u),g=this.propertyIDs;if(l!=null&&l.holdPrevious){for(var x=0;x<u;x++)d[x]=g.add(v[x].getPropertyId())?r.HOLD_FIRST:r.HOLD_SUBSEQUENT;return}t:for(var x=0;x<u;x++){var T=v[x],S=T.getPropertyId();if(!g.add(S))d[x]=r.SUBSEQUENT;else if(l==null||T instanceof y.AttachmentTimeline||T instanceof y.DrawOrderTimeline||T instanceof y.EventTimeline||!l.animation.hasTimeline(S))d[x]=r.FIRST;else{for(var P=l.mixingTo;P!=null;P=P.mixingTo)if(!P.animation.hasTimeline(S)){if(o.mixDuration>0){d[x]=r.HOLD_MIX,p[x]=P;continue t}break}d[x]=r.HOLD_FIRST}}},r.prototype.getCurrent=function(o){return o>=this.tracks.length?null:this.tracks[o]},r.prototype.addListener=function(o){if(o==null)throw new Error("listener cannot be null.");this.listeners.push(o)},r.prototype.removeListener=function(o){var l=this.listeners.indexOf(o);l>=0&&this.listeners.splice(l,1)},r.prototype.clearListeners=function(){this.listeners.length=0},r.prototype.clearListenerNotifications=function(){this.queue.clear()},r.emptyAnimation=new y.Animation("<empty>",[],0),r.SUBSEQUENT=0,r.FIRST=1,r.HOLD_SUBSEQUENT=2,r.HOLD_FIRST=3,r.HOLD_MIX=4,r.SETUP=1,r.CURRENT=2,r}();y.AnimationState=e;var f=function(){function r(){this.mixBlend=y.MixBlend.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return r.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},r.prototype.getAnimationTime=function(){if(this.loop){var o=this.animationEnd-this.animationStart;return o==0?this.animationStart:this.trackTime%o+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},r.prototype.setAnimationLast=function(o){this.animationLast=o,this.nextAnimationLast=o},r.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},r.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},r}();y.TrackEntry=f;var c=function(){function r(o){this.objects=[],this.drainDisabled=!1,this.animState=o}return r.prototype.start=function(o){this.objects.push(s.start),this.objects.push(o),this.animState.animationsChanged=!0},r.prototype.interrupt=function(o){this.objects.push(s.interrupt),this.objects.push(o)},r.prototype.end=function(o){this.objects.push(s.end),this.objects.push(o),this.animState.animationsChanged=!0},r.prototype.dispose=function(o){this.objects.push(s.dispose),this.objects.push(o)},r.prototype.complete=function(o){this.objects.push(s.complete),this.objects.push(o)},r.prototype.event=function(o,l){this.objects.push(s.event),this.objects.push(o),this.objects.push(l)},r.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var o=this.objects,l=this.animState.listeners,v=0;v<o.length;v+=2){var u=o[v],d=o[v+1];switch(u){case s.start:d.listener!=null&&d.listener.start&&d.listener.start(d);for(var p=0;p<l.length;p++)l[p].start&&l[p].start(d);break;case s.interrupt:d.listener!=null&&d.listener.interrupt&&d.listener.interrupt(d);for(var p=0;p<l.length;p++)l[p].interrupt&&l[p].interrupt(d);break;case s.end:d.listener!=null&&d.listener.end&&d.listener.end(d);for(var p=0;p<l.length;p++)l[p].end&&l[p].end(d);case s.dispose:d.listener!=null&&d.listener.dispose&&d.listener.dispose(d);for(var p=0;p<l.length;p++)l[p].dispose&&l[p].dispose(d);this.animState.trackEntryPool.free(d);break;case s.complete:d.listener!=null&&d.listener.complete&&d.listener.complete(d);for(var p=0;p<l.length;p++)l[p].complete&&l[p].complete(d);break;case s.event:var g=o[v+++2];d.listener!=null&&d.listener.event&&d.listener.event(d,g);for(var p=0;p<l.length;p++)l[p].event&&l[p].event(d,g);break}}this.clear(),this.drainDisabled=!1}},r.prototype.clear=function(){this.objects.length=0},r}();y.EventQueue=c;var s;(function(r){r[r.start=0]="start",r[r.interrupt=1]="interrupt",r[r.end=2]="end",r[r.dispose=3]="dispose",r[r.complete=4]="complete",r[r.event=5]="event"})(s=y.EventType||(y.EventType={}));var a=function(){function r(){}return r.prototype.start=function(o){},r.prototype.interrupt=function(o){},r.prototype.end=function(o){},r.prototype.dispose=function(o){},r.prototype.complete=function(o){},r.prototype.event=function(o,l){},r}();y.AnimationStateAdapter=a})(h||(h={}));var h;(function(y){var e=function(){function f(c){if(this.animationToMixTime={},this.defaultMix=0,c==null)throw new Error("skeletonData cannot be null.");this.skeletonData=c}return f.prototype.setMix=function(c,s,a){var r=this.skeletonData.findAnimation(c);if(r==null)throw new Error("Animation not found: "+c);var o=this.skeletonData.findAnimation(s);if(o==null)throw new Error("Animation not found: "+s);this.setMixWith(r,o,a)},f.prototype.setMixWith=function(c,s,a){if(c==null)throw new Error("from cannot be null.");if(s==null)throw new Error("to cannot be null.");var r=c.name+"."+s.name;this.animationToMixTime[r]=a},f.prototype.getMix=function(c,s){var a=c.name+"."+s.name,r=this.animationToMixTime[a];return r===void 0?this.defaultMix:r},f}();y.AnimationStateData=e})(h||(h={}));var h;(function(y){var e=function(){function f(c,s){s===void 0&&(s=""),this.assets={},this.errors={},this.toLoad=0,this.loaded=0,this.rawDataUris={},this.textureLoader=c,this.pathPrefix=s}return f.prototype.downloadText=function(c,s,a){var r=new XMLHttpRequest;r.overrideMimeType("text/html"),this.rawDataUris[c]&&(c=this.rawDataUris[c]),r.open("GET",c,!0),r.onload=function(){r.status==200?s(r.responseText):a(r.status,r.responseText)},r.onerror=function(){a(r.status,r.responseText)},r.send()},f.prototype.downloadBinary=function(c,s,a){var r=new XMLHttpRequest;this.rawDataUris[c]&&(c=this.rawDataUris[c]),r.open("GET",c,!0),r.responseType="arraybuffer",r.onload=function(){r.status==200?s(new Uint8Array(r.response)):a(r.status,r.responseText)},r.onerror=function(){a(r.status,r.responseText)},r.send()},f.prototype.setRawDataURI=function(c,s){this.rawDataUris[this.pathPrefix+c]=s},f.prototype.loadBinary=function(c,s,a){var r=this;s===void 0&&(s=null),a===void 0&&(a=null),c=this.pathPrefix+c,this.toLoad++,this.downloadBinary(c,function(o){r.assets[c]=o,s&&s(c,o),r.toLoad--,r.loaded++},function(o,l){r.errors[c]="Couldn't load binary ".concat(c,": status ").concat(status,", ").concat(l),a&&a(c,"Couldn't load binary ".concat(c,": status ").concat(status,", ").concat(l)),r.toLoad--,r.loaded++})},f.prototype.loadText=function(c,s,a){var r=this;s===void 0&&(s=null),a===void 0&&(a=null),c=this.pathPrefix+c,this.toLoad++,this.downloadText(c,function(o){r.assets[c]=o,s&&s(c,o),r.toLoad--,r.loaded++},function(o,l){r.errors[c]="Couldn't load text ".concat(c,": status ").concat(status,", ").concat(l),a&&a(c,"Couldn't load text ".concat(c,": status ").concat(status,", ").concat(l)),r.toLoad--,r.loaded++})},f.prototype.loadTexture=function(c,s,a){var r=this;s===void 0&&(s=null),a===void 0&&(a=null),c=this.pathPrefix+c;var o=c;this.toLoad++;var l=new Image;l.crossOrigin="anonymous",l.onload=function(v){var u=r.textureLoader(l);r.assets[o]=u,r.toLoad--,r.loaded++,s&&s(c,l)},l.onerror=function(v){r.errors[c]="Couldn't load image ".concat(c),r.toLoad--,r.loaded++,a&&a(c,"Couldn't load image ".concat(c))},this.rawDataUris[c]&&(c=this.rawDataUris[c]),l.src=c},f.prototype.loadTextureAtlas=function(c,s,a){var r=this;s===void 0&&(s=null),a===void 0&&(a=null);var o=c.lastIndexOf("/")>=0?c.substring(0,c.lastIndexOf("/")):"";c=this.pathPrefix+c,this.toLoad++,this.downloadText(c,function(l){var v={count:0},u=new Array;try{var d=new y.TextureAtlas(l,function(P){u.push(o==""?P:o+"/"+P);var E=document.createElement("img");return E.width=16,E.height=16,new y.FakeTexture(E)})}catch(P){var p=P;r.errors[c]="Couldn't load texture atlas ".concat(c,": ").concat(p.message),a&&a(c,"Couldn't load texture atlas ".concat(c,": ").concat(p.message)),r.toLoad--,r.loaded++;return}for(var g=function(P){var E=!1;r.loadTexture(P,function(R,A){if(v.count++,v.count==u.length)if(E)r.errors[c]="Couldn't load texture atlas page ".concat(R,"} of atlas ").concat(c),a&&a(c,"Couldn't load texture atlas page ".concat(R," of atlas ").concat(c)),r.toLoad--,r.loaded++;else try{var w=new y.TextureAtlas(l,function(L){return r.get(o==""?L:o+"/"+L)});r.assets[c]=w,s&&s(c,w),r.toLoad--,r.loaded++}catch(L){var O=L;r.errors[c]="Couldn't load texture atlas ".concat(c,": ").concat(O.message),a&&a(c,"Couldn't load texture atlas ".concat(c,": ").concat(O.message)),r.toLoad--,r.loaded++}},function(R,A){E=!0,v.count++,v.count==u.length&&(r.errors[c]="Couldn't load texture atlas page ".concat(R,"} of atlas ").concat(c),a&&a(c,"Couldn't load texture atlas page ".concat(R," of atlas ").concat(c)),r.toLoad--,r.loaded++)})},x=0,T=u;x<T.length;x++){var S=T[x];g(S)}},function(l,v){r.errors[c]="Couldn't load texture atlas ".concat(c,": status ").concat(status,", ").concat(v),a&&a(c,"Couldn't load texture atlas ".concat(c,": status ").concat(status,", ").concat(v)),r.toLoad--,r.loaded++})},f.prototype.get=function(c){return c=this.pathPrefix+c,this.assets[c]},f.prototype.remove=function(c){c=this.pathPrefix+c;var s=this.assets[c];s.dispose&&s.dispose(),this.assets[c]=null},f.prototype.removeAll=function(){for(var c in this.assets){var s=this.assets[c];s.dispose&&s.dispose()}this.assets={}},f.prototype.isLoadingComplete=function(){return this.toLoad==0},f.prototype.getToLoad=function(){return this.toLoad},f.prototype.getLoaded=function(){return this.loaded},f.prototype.dispose=function(){this.removeAll()},f.prototype.hasErrors=function(){return Object.keys(this.errors).length>0},f.prototype.getErrors=function(){return this.errors},f}();y.AssetManager=e})(h||(h={}));var h;(function(y){var e=function(){function f(c){this.atlas=c}return f.prototype.newRegionAttachment=function(c,s,a){var r=this.atlas.findRegion(a);if(r==null)throw new Error("Region not found in atlas: "+a+" (region attachment: "+s+")");r.renderObject=r;var o=new y.RegionAttachment(s);return o.setRegion(r),o},f.prototype.newMeshAttachment=function(c,s,a){var r=this.atlas.findRegion(a);if(r==null)throw new Error("Region not found in atlas: "+a+" (mesh attachment: "+s+")");r.renderObject=r;var o=new y.MeshAttachment(s);return o.region=r,o},f.prototype.newBoundingBoxAttachment=function(c,s){return new y.BoundingBoxAttachment(s)},f.prototype.newPathAttachment=function(c,s){return new y.PathAttachment(s)},f.prototype.newPointAttachment=function(c,s){return new y.PointAttachment(s)},f.prototype.newClippingAttachment=function(c,s){return new y.ClippingAttachment(s)},f}();y.AtlasAttachmentLoader=e})(h||(h={}));var h;(function(y){(function(e){e[e.Normal=0]="Normal",e[e.Additive=1]="Additive",e[e.Multiply=2]="Multiply",e[e.Screen=3]="Screen"})(y.BlendMode||(y.BlendMode={}))})(h||(h={}));var h;(function(y){var e=function(){function f(c,s,a){if(this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.a=0,this.b=0,this.c=0,this.d=0,this.worldY=0,this.worldX=0,this.sorted=!1,this.active=!1,c==null)throw new Error("data cannot be null.");if(s==null)throw new Error("skeleton cannot be null.");this.data=c,this.skeleton=s,this.parent=a,this.setToSetupPose()}return f.prototype.isActive=function(){return this.active},f.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},f.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},f.prototype.updateWorldTransformWith=function(c,s,a,r,o,l,v){this.ax=c,this.ay=s,this.arotation=a,this.ascaleX=r,this.ascaleY=o,this.ashearX=l,this.ashearY=v,this.appliedValid=!0;var u=this.parent;if(u==null){var d=this.skeleton,p=a+90+v,g=d.scaleX,x=d.scaleY;this.a=y.MathUtils.cosDeg(a+l)*r*g,this.b=y.MathUtils.cosDeg(p)*o*g,this.c=y.MathUtils.sinDeg(a+l)*r*x,this.d=y.MathUtils.sinDeg(p)*o*x,this.worldX=c*g+d.x,this.worldY=s*x+d.y;return}var T=u.a,S=u.b,P=u.c,E=u.d;switch(this.worldX=T*c+S*s+u.worldX,this.worldY=P*c+E*s+u.worldY,this.data.transformMode){case y.TransformMode.Normal:{var p=a+90+v,R=y.MathUtils.cosDeg(a+l)*r,A=y.MathUtils.cosDeg(p)*o,w=y.MathUtils.sinDeg(a+l)*r,O=y.MathUtils.sinDeg(p)*o;this.a=T*R+S*w,this.b=T*A+S*O,this.c=P*R+E*w,this.d=P*A+E*O;return}case y.TransformMode.OnlyTranslation:{var p=a+90+v;this.a=y.MathUtils.cosDeg(a+l)*r,this.b=y.MathUtils.cosDeg(p)*o,this.c=y.MathUtils.sinDeg(a+l)*r,this.d=y.MathUtils.sinDeg(p)*o;break}case y.TransformMode.NoRotationOrReflection:{var L=T*T+P*P,F=0;L>1e-4?(L=Math.abs(T*E-S*P)/L,T/=this.skeleton.scaleX,P/=this.skeleton.scaleY,S=P*L,E=T*L,F=Math.atan2(P,T)*y.MathUtils.radDeg):(T=0,P=0,F=90-Math.atan2(E,S)*y.MathUtils.radDeg);var I=a+l-F,b=a+v-F+90,R=y.MathUtils.cosDeg(I)*r,A=y.MathUtils.cosDeg(b)*o,w=y.MathUtils.sinDeg(I)*r,O=y.MathUtils.sinDeg(b)*o;this.a=T*R-S*w,this.b=T*A-S*O,this.c=P*R+E*w,this.d=P*A+E*O;break}case y.TransformMode.NoScale:case y.TransformMode.NoScaleOrReflection:{var G=y.MathUtils.cosDeg(a),N=y.MathUtils.sinDeg(a),U=(T*G+S*N)/this.skeleton.scaleX,Y=(P*G+E*N)/this.skeleton.scaleY,L=Math.sqrt(U*U+Y*Y);L>1e-5&&(L=1/L),U*=L,Y*=L,L=Math.sqrt(U*U+Y*Y),this.data.transformMode==y.TransformMode.NoScale&&T*E-S*P<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(L=-L);var X=Math.PI/2+Math.atan2(Y,U),B=Math.cos(X)*L,z=Math.sin(X)*L,R=y.MathUtils.cosDeg(l)*r,A=y.MathUtils.cosDeg(90+v)*o,w=y.MathUtils.sinDeg(l)*r,O=y.MathUtils.sinDeg(90+v)*o;this.a=U*R+B*w,this.b=U*A+B*O,this.c=Y*R+z*w,this.d=Y*A+z*O;break}}this.a*=this.skeleton.scaleX,this.b*=this.skeleton.scaleX,this.c*=this.skeleton.scaleY,this.d*=this.skeleton.scaleY},f.prototype.setToSetupPose=function(){var c=this.data;this.x=c.x,this.y=c.y,this.rotation=c.rotation,this.scaleX=c.scaleX,this.scaleY=c.scaleY,this.shearX=c.shearX,this.shearY=c.shearY},f.prototype.getWorldRotationX=function(){return Math.atan2(this.c,this.a)*y.MathUtils.radDeg},f.prototype.getWorldRotationY=function(){return Math.atan2(this.d,this.b)*y.MathUtils.radDeg},f.prototype.getWorldScaleX=function(){return Math.sqrt(this.a*this.a+this.c*this.c)},f.prototype.getWorldScaleY=function(){return Math.sqrt(this.b*this.b+this.d*this.d)},f.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var c=this.parent;if(c==null){this.ax=this.worldX,this.ay=this.worldY,this.arotation=Math.atan2(this.c,this.a)*y.MathUtils.radDeg,this.ascaleX=Math.sqrt(this.a*this.a+this.c*this.c),this.ascaleY=Math.sqrt(this.b*this.b+this.d*this.d),this.ashearX=0,this.ashearY=Math.atan2(this.a*this.b+this.c*this.d,this.a*this.d-this.b*this.c)*y.MathUtils.radDeg;return}var s=c.a,a=c.b,r=c.c,o=c.d,l=1/(s*o-a*r),v=this.worldX-c.worldX,u=this.worldY-c.worldY;this.ax=v*o*l-u*a*l,this.ay=u*s*l-v*r*l;var d=l*o,p=l*s,g=l*a,x=l*r,T=d*this.a-g*this.c,S=d*this.b-g*this.d,P=p*this.c-x*this.a,E=p*this.d-x*this.b;if(this.ashearX=0,this.ascaleX=Math.sqrt(T*T+P*P),this.ascaleX>1e-4){var R=T*E-S*P;this.ascaleY=R/this.ascaleX,this.ashearY=Math.atan2(T*S+P*E,R)*y.MathUtils.radDeg,this.arotation=Math.atan2(P,T)*y.MathUtils.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(S*S+E*E),this.ashearY=0,this.arotation=90-Math.atan2(E,S)*y.MathUtils.radDeg},f.prototype.worldToLocal=function(c){var s=this.a,a=this.b,r=this.c,o=this.d,l=1/(s*o-a*r),v=c.x-this.worldX,u=c.y-this.worldY;return c.x=v*o*l-u*a*l,c.y=u*s*l-v*r*l,c},f.prototype.localToWorld=function(c){var s=c.x,a=c.y;return c.x=s*this.a+a*this.b+this.worldX,c.y=s*this.c+a*this.d+this.worldY,c},f.prototype.worldToLocalRotation=function(c){var s=y.MathUtils.sinDeg(c),a=y.MathUtils.cosDeg(c);return Math.atan2(this.a*s-this.c*a,this.d*a-this.b*s)*y.MathUtils.radDeg+this.rotation-this.shearX},f.prototype.localToWorldRotation=function(c){c-=this.rotation-this.shearX;var s=y.MathUtils.sinDeg(c),a=y.MathUtils.cosDeg(c);return Math.atan2(a*this.c+s*this.d,a*this.a+s*this.b)*y.MathUtils.radDeg},f.prototype.rotateWorld=function(c){var s=this.a,a=this.b,r=this.c,o=this.d,l=y.MathUtils.cosDeg(c),v=y.MathUtils.sinDeg(c);this.a=l*s-v*r,this.b=l*a-v*o,this.c=v*s+l*r,this.d=v*a+l*o,this.appliedValid=!1},f}();y.Bone=e})(h||(h={}));var h;(function(y){var e=function(){function c(s,a,r){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=f.Normal,this.skinRequired=!1,this.color=new y.Color,s<0)throw new Error("index must be >= 0.");if(a==null)throw new Error("name cannot be null.");this.index=s,this.name=a,this.parent=r}return c}();y.BoneData=e;var f;(function(c){c[c.Normal=0]="Normal",c[c.OnlyTranslation=1]="OnlyTranslation",c[c.NoRotationOrReflection=2]="NoRotationOrReflection",c[c.NoScale=3]="NoScale",c[c.NoScaleOrReflection=4]="NoScaleOrReflection"})(f=y.TransformMode||(y.TransformMode={}))})(h||(h={}));var h;(function(y){var e=function(){function f(c,s,a){this.name=c,this.order=s,this.skinRequired=a}return f}();y.ConstraintData=e})(h||(h={}));var h;(function(y){var e=function(){function f(c,s){if(s==null)throw new Error("data cannot be null.");this.time=c,this.data=s}return f}();y.Event=e})(h||(h={}));var h;(function(y){var e=function(){function f(c){this.name=c}return f}();y.EventData=e})(h||(h={}));var h;(function(y){var e=function(){function f(c,s){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,c==null)throw new Error("data cannot be null.");if(s==null)throw new Error("skeleton cannot be null.");this.data=c,this.mix=c.mix,this.softness=c.softness,this.bendDirection=c.bendDirection,this.compress=c.compress,this.stretch=c.stretch,this.bones=new Array;for(var a=0;a<c.bones.length;a++)this.bones.push(s.findBone(c.bones[a].name));this.target=s.findBone(c.target.name)}return f.prototype.isActive=function(){return this.active},f.prototype.apply=function(){this.update()},f.prototype.update=function(){var c=this.target,s=this.bones;switch(s.length){case 1:this.apply1(s[0],c.worldX,c.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(s[0],s[1],c.worldX,c.worldY,this.bendDirection,this.stretch,this.softness,this.mix);break}},f.prototype.apply1=function(c,s,a,r,o,l,v){c.appliedValid||c.updateAppliedTransform();var u=c.parent,d=u.a,p=u.b,g=u.c,x=u.d,T=-c.ashearX-c.arotation,S=0,P=0;switch(c.data.transformMode){case y.TransformMode.OnlyTranslation:S=s-c.worldX,P=a-c.worldY;break;case y.TransformMode.NoRotationOrReflection:var E=Math.abs(d*x-p*g)/(d*d+g*g),R=d/c.skeleton.scaleX,A=g/c.skeleton.scaleY;p=-A*E*c.skeleton.scaleX,x=R*E*c.skeleton.scaleY,T+=Math.atan2(A,R)*y.MathUtils.radDeg;default:var w=s-u.worldX,O=a-u.worldY,L=d*x-p*g;S=(w*x-O*p)/L-c.ax,P=(O*d-w*g)/L-c.ay}T+=Math.atan2(P,S)*y.MathUtils.radDeg,c.ascaleX<0&&(T+=180),T>180?T-=360:T<-180&&(T+=360);var F=c.ascaleX,I=c.ascaleY;if(r||o){switch(c.data.transformMode){case y.TransformMode.NoScale:case y.TransformMode.NoScaleOrReflection:S=s-c.worldX,P=a-c.worldY}var b=c.data.length*F,G=Math.sqrt(S*S+P*P);if(r&&G<b||o&&G>b&&b>1e-4){var E=(G/b-1)*v+1;F*=E,l&&(I*=E)}}c.updateWorldTransformWith(c.ax,c.ay,c.arotation+T*v,F,I,c.ashearX,c.ashearY)},f.prototype.apply2=function(c,s,a,r,o,l,v,u){if(u==0){s.updateWorldTransform();return}c.appliedValid||c.updateAppliedTransform(),s.appliedValid||s.updateAppliedTransform();var d=c.ax,p=c.ay,g=c.ascaleX,x=g,T=c.ascaleY,S=s.ascaleX,P=0,E=0,R=0;g<0?(g=-g,P=180,R=-1):(P=0,R=1),T<0&&(T=-T,R=-R),S<0?(S=-S,E=180):E=0;var A=s.ax,w=0,O=0,L=0,F=c.a,I=c.b,b=c.c,G=c.d,N=Math.abs(g-T)<=1e-4;N?(w=s.ay,O=F*A+I*w+c.worldX,L=b*A+G*w+c.worldY):(w=0,O=F*A+c.worldX,L=b*A+c.worldY);var U=c.parent;F=U.a,I=U.b,b=U.c,G=U.d;var Y=1/(F*G-I*b),X=O-U.worldX,B=L-U.worldY,z=(X*G-B*I)*Y-d,D=(B*F-X*b)*Y-p,V=Math.sqrt(z*z+D*D),k=s.data.length*S,W,H;if(V<1e-4){this.apply1(c,a,r,!1,l,!1,u),s.updateWorldTransformWith(A,w,0,s.ascaleX,s.ascaleY,s.ashearX,s.ashearY);return}X=a-U.worldX,B=r-U.worldY;var $=(X*G-B*I)*Y-d,K=(B*F-X*b)*Y-p,j=$*$+K*K;if(v!=0){v*=g*(S+1)/2;var Z=Math.sqrt(j),J=Z-V-k*g+v;if(J>0){var Q=Math.min(1,J/(v*2))-1;Q=(J-v*(1-Q*Q))/Z,$-=Q*$,K-=Q*K,j=$*$+K*K}}t:if(N){k*=g;var q=(j-V*V-k*k)/(2*V*k);q<-1?q=-1:q>1&&(q=1,l&&(x*=(Math.sqrt(j)/(V+k)-1)*u+1)),H=Math.acos(q)*o,F=V+k*q,I=k*Math.sin(H),W=Math.atan2(K*F-$*I,$*F+K*I)}else{F=g*k,I=T*k;var _=F*F,et=I*I,st=Math.atan2(K,$);b=et*V*V+_*j-_*et;var it=-2*et*V,lt=et-_;if(G=it*it-4*lt*b,G>=0){var tt=Math.sqrt(G);it<0&&(tt=-tt),tt=-(it+tt)/2;var ht=tt/lt,rt=b/tt,ft=Math.abs(ht)<Math.abs(rt)?ht:rt;if(ft*ft<=j){B=Math.sqrt(j-ft*ft)*o,W=st-Math.atan2(B,ft),H=Math.atan2(B/T,(ft-V)/g);break t}}var ct=y.MathUtils.PI,yt=V-F,mt=yt*yt,dt=0,gt=0,St=V+F,Vt=St*St,It=0;b=-F*V/(_-et),b>=-1&&b<=1&&(b=Math.acos(b),X=F*Math.cos(b)+V,B=I*Math.sin(b),G=X*X+B*B,G<mt&&(ct=b,mt=G,yt=X,dt=B),G>Vt&&(gt=b,Vt=G,St=X,It=B)),j<=(mt+Vt)/2?(W=st-Math.atan2(dt*o,yt),H=ct*o):(W=st-Math.atan2(It*o,St),H=gt*o)}var zt=Math.atan2(w,A)*R,kt=c.arotation;W=(W-zt)*y.MathUtils.radDeg+P-kt,W>180?W-=360:W<-180&&(W+=360),c.updateWorldTransformWith(d,p,kt+W*u,x,c.ascaleY,0,0),kt=s.arotation,H=((H+zt)*y.MathUtils.radDeg-s.ashearX)*R+E-kt,H>180?H-=360:H<-180&&(H+=360),s.updateWorldTransformWith(A,w,kt+H*u,s.ascaleX,s.ascaleY,s.ashearX,s.ashearY)},f}();y.IkConstraint=e})(h||(h={}));var h;(function(y){var e=function(f){M(c,f);function c(s){var a=f.call(this,s,0,!1)||this;return a.bones=new Array,a.bendDirection=1,a.compress=!1,a.stretch=!1,a.uniform=!1,a.mix=1,a.softness=0,a}return c}(y.ConstraintData);y.IkConstraintData=e})(h||(h={}));var h;(function(y){var e=function(){function f(c,s){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,c==null)throw new Error("data cannot be null.");if(s==null)throw new Error("skeleton cannot be null.");this.data=c,this.bones=new Array;for(var a=0,r=c.bones.length;a<r;a++)this.bones.push(s.findBone(c.bones[a].name));this.target=s.findSlot(c.target.name),this.position=c.position,this.spacing=c.spacing,this.rotateMix=c.rotateMix,this.translateMix=c.translateMix}return f.prototype.isActive=function(){return this.active},f.prototype.apply=function(){this.update()},f.prototype.update=function(){var c=this.target.getAttachment();if(c instanceof y.PathAttachment){var s=this.rotateMix,a=this.translateMix,r=a>0,o=s>0;if(!(!r&&!o)){var l=this.data,v=l.spacingMode==y.SpacingMode.Percent,u=l.rotateMode,d=u==y.RotateMode.Tangent,p=u==y.RotateMode.ChainScale,g=this.bones.length,x=d?g:g+1,T=this.bones,S=y.Utils.setArraySize(this.spaces,x),P=null,E=this.spacing;if(p||!v){p&&(P=y.Utils.setArraySize(this.lengths,g));for(var R=l.spacingMode==y.SpacingMode.Length,A=0,w=x-1;A<w;){var O=T[A],L=O.data.length;if(L<f.epsilon)p&&(P[A]=0),S[++A]=0;else if(v){if(p){var F=L*O.a,I=L*O.c,b=Math.sqrt(F*F+I*I);P[A]=b}S[++A]=E}else{var F=L*O.a,I=L*O.c,G=Math.sqrt(F*F+I*I);p&&(P[A]=G),S[++A]=(R?L+E:E)*G/L}}}else for(var A=1;A<x;A++)S[A]=E;var N=this.computeWorldPositions(c,x,d,l.positionMode==y.PositionMode.Percent,v),U=N[0],Y=N[1],X=l.offsetRotation,B=!1;if(X==0)B=u==y.RotateMode.Chain;else{B=!1;var z=this.target.bone;X*=z.a*z.d-z.b*z.c>0?y.MathUtils.degRad:-y.MathUtils.degRad}for(var A=0,z=3;A<g;A++,z+=3){var O=T[A];O.worldX+=(U-O.worldX)*a,O.worldY+=(Y-O.worldY)*a;var F=N[z],I=N[z+1],D=F-U,V=I-Y;if(p){var k=P[A];if(k!=0){var W=(Math.sqrt(D*D+V*V)/k-1)*s+1;O.a*=W,O.c*=W}}if(U=F,Y=I,o){var H=O.a,$=O.b,K=O.c,j=O.d,Z=0,J=0,Q=0;if(d?Z=N[z-1]:S[A+1]==0?Z=N[z+2]:Z=Math.atan2(V,D),Z-=Math.atan2(K,H),B){J=Math.cos(Z),Q=Math.sin(Z);var q=O.data.length;U+=(q*(J*H-Q*K)-D)*s,Y+=(q*(Q*H+J*K)-V)*s}else Z+=X;Z>y.MathUtils.PI?Z-=y.MathUtils.PI2:Z<-y.MathUtils.PI&&(Z+=y.MathUtils.PI2),Z*=s,J=Math.cos(Z),Q=Math.sin(Z),O.a=J*H-Q*K,O.b=J*$-Q*j,O.c=Q*H+J*K,O.d=Q*$+J*j}O.appliedValid=!1}}}},f.prototype.computeWorldPositions=function(c,s,a,r,o){var l=this.target,v=this.position,u=this.spaces,d=y.Utils.setArraySize(this.positions,s*3+2),p=null,g=c.closed,x=c.worldVerticesLength,T=x/6,S=f.NONE;if(!c.constantSpeed){var P=c.lengths;T-=g?1:2;var E=P[T];if(r&&(v*=E),o)for(var R=1;R<s;R++)u[R]*=E;p=y.Utils.setArraySize(this.world,8);for(var R=0,A=0,w=0;R<s;R++,A+=3){var O=u[R];v+=O;var L=v;if(g)L%=E,L<0&&(L+=E),w=0;else if(L<0){S!=f.BEFORE&&(S=f.BEFORE,c.computeWorldVertices(l,2,4,p,0,2)),this.addBeforePosition(L,p,0,d,A);continue}else if(L>E){S!=f.AFTER&&(S=f.AFTER,c.computeWorldVertices(l,x-6,4,p,0,2)),this.addAfterPosition(L-E,p,0,d,A);continue}for(;;w++){var F=P[w];if(!(L>F)){if(w==0)L/=F;else{var I=P[w-1];L=(L-I)/(F-I)}break}}w!=S&&(S=w,g&&w==T?(c.computeWorldVertices(l,x-4,4,p,0,2),c.computeWorldVertices(l,0,4,p,4,2)):c.computeWorldVertices(l,w*6+2,8,p,0,2)),this.addCurvePosition(L,p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],d,A,a||R>0&&O==0)}return d}g?(x+=2,p=y.Utils.setArraySize(this.world,x),c.computeWorldVertices(l,2,x-4,p,0,2),c.computeWorldVertices(l,0,2,p,x-4,2),p[x-2]=p[0],p[x-1]=p[1]):(T--,x-=4,p=y.Utils.setArraySize(this.world,x),c.computeWorldVertices(l,2,x,p,0,2));for(var b=y.Utils.setArraySize(this.curves,T),G=0,N=p[0],U=p[1],Y=0,X=0,B=0,z=0,D=0,V=0,k=0,W=0,H=0,$=0,K=0,j=0,Z=0,J=0,R=0,Q=2;R<T;R++,Q+=6)Y=p[Q],X=p[Q+1],B=p[Q+2],z=p[Q+3],D=p[Q+4],V=p[Q+5],k=(N-Y*2+B)*.1875,W=(U-X*2+z)*.1875,H=((Y-B)*3-N+D)*.09375,$=((X-z)*3-U+V)*.09375,K=k*2+H,j=W*2+$,Z=(Y-N)*.75+k+H*.16666667,J=(X-U)*.75+W+$*.16666667,G+=Math.sqrt(Z*Z+J*J),Z+=K,J+=j,K+=H,j+=$,G+=Math.sqrt(Z*Z+J*J),Z+=K,J+=j,G+=Math.sqrt(Z*Z+J*J),Z+=K+H,J+=j+$,G+=Math.sqrt(Z*Z+J*J),b[R]=G,N=D,U=V;if(r?v*=G:v*=G/c.lengths[T-1],o)for(var R=1;R<s;R++)u[R]*=G;for(var q=this.segments,_=0,R=0,A=0,w=0,et=0;R<s;R++,A+=3){var O=u[R];v+=O;var L=v;if(g)L%=G,L<0&&(L+=G),w=0;else if(L<0){this.addBeforePosition(L,p,0,d,A);continue}else if(L>G){this.addAfterPosition(L-G,p,x-4,d,A);continue}for(;;w++){var st=b[w];if(!(L>st)){if(w==0)L/=st;else{var I=b[w-1];L=(L-I)/(st-I)}break}}if(w!=S){S=w;var it=w*6;for(N=p[it],U=p[it+1],Y=p[it+2],X=p[it+3],B=p[it+4],z=p[it+5],D=p[it+6],V=p[it+7],k=(N-Y*2+B)*.03,W=(U-X*2+z)*.03,H=((Y-B)*3-N+D)*.006,$=((X-z)*3-U+V)*.006,K=k*2+H,j=W*2+$,Z=(Y-N)*.3+k+H*.16666667,J=(X-U)*.3+W+$*.16666667,_=Math.sqrt(Z*Z+J*J),q[0]=_,it=1;it<8;it++)Z+=K,J+=j,K+=H,j+=$,_+=Math.sqrt(Z*Z+J*J),q[it]=_;Z+=K,J+=j,_+=Math.sqrt(Z*Z+J*J),q[8]=_,Z+=K+H,J+=j+$,_+=Math.sqrt(Z*Z+J*J),q[9]=_,et=0}for(L*=_;;et++){var lt=q[et];if(!(L>lt)){if(et==0)L/=lt;else{var I=q[et-1];L=et+(L-I)/(lt-I)}break}}this.addCurvePosition(L*.1,N,U,Y,X,B,z,D,V,d,A,a||R>0&&O==0)}return d},f.prototype.addBeforePosition=function(c,s,a,r,o){var l=s[a],v=s[a+1],u=s[a+2]-l,d=s[a+3]-v,p=Math.atan2(d,u);r[o]=l+c*Math.cos(p),r[o+1]=v+c*Math.sin(p),r[o+2]=p},f.prototype.addAfterPosition=function(c,s,a,r,o){var l=s[a+2],v=s[a+3],u=l-s[a],d=v-s[a+1],p=Math.atan2(d,u);r[o]=l+c*Math.cos(p),r[o+1]=v+c*Math.sin(p),r[o+2]=p},f.prototype.addCurvePosition=function(c,s,a,r,o,l,v,u,d,p,g,x){if(c==0||isNaN(c)){p[g]=s,p[g+1]=a,p[g+2]=Math.atan2(o-a,r-s);return}var T=c*c,S=T*c,P=1-c,E=P*P,R=E*P,A=P*c,w=A*3,O=P*w,L=w*c,F=s*R+r*O+l*L+u*S,I=a*R+o*O+v*L+d*S;p[g]=F,p[g+1]=I,x&&(c<.001?p[g+2]=Math.atan2(o-a,r-s):p[g+2]=Math.atan2(I-(a*E+o*A*2+v*T),F-(s*E+r*A*2+l*T)))},f.NONE=-1,f.BEFORE=-2,f.AFTER=-3,f.epsilon=1e-5,f}();y.PathConstraint=e})(h||(h={}));var h;(function(y){var e=function(f){M(c,f);function c(s){var a=f.call(this,s,0,!1)||this;return a.bones=new Array,a}return c}(y.ConstraintData);y.PathConstraintData=e,function(f){f[f.Fixed=0]="Fixed",f[f.Percent=1]="Percent"}(y.PositionMode||(y.PositionMode={})),function(f){f[f.Length=0]="Length",f[f.Fixed=1]="Fixed",f[f.Percent=2]="Percent"}(y.SpacingMode||(y.SpacingMode={})),function(f){f[f.Tangent=0]="Tangent",f[f.Chain=1]="Chain",f[f.ChainScale=2]="ChainScale"}(y.RotateMode||(y.RotateMode={}))})(h||(h={}));var h;(function(y){var e=function(){function c(s){this.toLoad=new Array,this.assets={},this.clientId=s}return c.prototype.loaded=function(){var s=0;for(var a in this.assets)s++;return s},c}(),f=function(){function c(s){s===void 0&&(s=""),this.clientAssets={},this.queuedAssets={},this.rawAssets={},this.errors={},this.pathPrefix=s}return c.prototype.queueAsset=function(s,a,r){var o=this.clientAssets[s];return o==null&&(o=new e(s),this.clientAssets[s]=o),a!==null&&(o.textureLoader=a),o.toLoad.push(r),this.queuedAssets[r]===r?!1:(this.queuedAssets[r]=r,!0)},c.prototype.loadText=function(s,a){var r=this;if(a=this.pathPrefix+a,!!this.queueAsset(s,null,a)){var o=new XMLHttpRequest;o.overrideMimeType("text/html"),o.onreadystatechange=function(){o.readyState==XMLHttpRequest.DONE&&(o.status>=200&&o.status<300?r.rawAssets[a]=o.responseText:r.errors[a]="Couldn't load text ".concat(a,": status ").concat(o.status,", ").concat(o.responseText))},o.open("GET",a,!0),o.send()}},c.prototype.loadJson=function(s,a){var r=this;if(a=this.pathPrefix+a,!!this.queueAsset(s,null,a)){var o=new XMLHttpRequest;o.overrideMimeType("text/html"),o.onreadystatechange=function(){o.readyState==XMLHttpRequest.DONE&&(o.status>=200&&o.status<300?r.rawAssets[a]=JSON.parse(o.responseText):r.errors[a]="Couldn't load text ".concat(a,": status ").concat(o.status,", ").concat(o.responseText))},o.open("GET",a,!0),o.send()}},c.prototype.loadTexture=function(s,a,r){var o=this;if(r=this.pathPrefix+r,!!this.queueAsset(s,a,r)){var l=!!(typeof window<"u"&&typeof navigator<"u"&&window.document),v=!l&&typeof importScripts<"u";if(v){var u={mode:"cors"};fetch(r,u).then(function(p){return p.ok||(o.errors[r]="Couldn't load image "+r),p.blob()}).then(function(p){return createImageBitmap(p,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(p){o.rawAssets[r]=p})}else{var d=new Image;d.crossOrigin="anonymous",d.onload=function(p){o.rawAssets[r]=d},d.onerror=function(p){o.errors[r]="Couldn't load image ".concat(r)},d.src=r}}},c.prototype.get=function(s,a){a=this.pathPrefix+a;var r=this.clientAssets[s];return r==null?!0:r.assets[a]},c.prototype.updateClientAssets=function(s){for(var a=!!(typeof window<"u"&&typeof navigator<"u"&&window.document),r=!a&&typeof importScripts<"u",o=0;o<s.toLoad.length;o++){var l=s.toLoad[o],v=s.assets[l];if(v==null){var u=this.rawAssets[l];if(u==null)continue;r?u instanceof ImageBitmap?s.assets[l]=s.textureLoader(u):s.assets[l]=u:u instanceof HTMLImageElement?s.assets[l]=s.textureLoader(u):s.assets[l]=u}}},c.prototype.isLoadingComplete=function(s){var a=this.clientAssets[s];return a==null?!0:(this.updateClientAssets(a),a.toLoad.length==a.loaded())},c.prototype.dispose=function(){},c.prototype.hasErrors=function(){return Object.keys(this.errors).length>0},c.prototype.getErrors=function(){return this.errors},c}();y.SharedAssetManager=f})(h||(h={}));var h;(function(y){var e=function(){function f(c){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,c==null)throw new Error("data cannot be null.");this.data=c,this.bones=new Array;for(var s=0;s<c.bones.length;s++){var a=c.bones[s],r=void 0;if(a.parent==null)r=new y.Bone(a,this,null);else{var o=this.bones[a.parent.index];r=new y.Bone(a,this,o),o.children.push(r)}this.bones.push(r)}this.slots=new Array,this.drawOrder=new Array;for(var s=0;s<c.slots.length;s++){var l=c.slots[s],r=this.bones[l.boneData.index],v=new y.Slot(l,r);this.slots.push(v),this.drawOrder.push(v)}this.ikConstraints=new Array;for(var s=0;s<c.ikConstraints.length;s++){var u=c.ikConstraints[s];this.ikConstraints.push(new y.IkConstraint(u,this))}this.transformConstraints=new Array;for(var s=0;s<c.transformConstraints.length;s++){var d=c.transformConstraints[s];this.transformConstraints.push(new y.TransformConstraint(d,this))}this.pathConstraints=new Array;for(var s=0;s<c.pathConstraints.length;s++){var p=c.pathConstraints[s];this.pathConstraints.push(new y.PathConstraint(p,this))}this.color=new y.Color(1,1,1,1),this.updateCache()}return f.prototype.updateCache=function(){var c=this._updateCache;c.length=0,this.updateCacheReset.length=0;for(var s=this.bones,a=0,r=s.length;a<r;a++){var o=s[a];o.sorted=o.data.skinRequired,o.active=!o.sorted}if(this.skin!=null)for(var l=this.skin.bones,a=0,r=this.skin.bones.length;a<r;a++){var o=this.bones[l[a].index];do o.sorted=!1,o.active=!0,o=o.parent;while(o!=null)}var v=this.ikConstraints,u=this.transformConstraints,d=this.pathConstraints,p=v.length,g=u.length,x=d.length,T=p+g+x;t:for(var a=0;a<T;a++){for(var S=0;S<p;S++){var P=v[S];if(P.data.order==a){this.sortIkConstraint(P);continue t}}for(var S=0;S<g;S++){var P=u[S];if(P.data.order==a){this.sortTransformConstraint(P);continue t}}for(var S=0;S<x;S++){var P=d[S];if(P.data.order==a){this.sortPathConstraint(P);continue t}}}for(var a=0,r=s.length;a<r;a++)this.sortBone(s[a])},f.prototype.sortIkConstraint=function(c){if(c.active=c.target.isActive()&&(!c.data.skinRequired||this.skin!=null&&y.Utils.contains(this.skin.constraints,c.data,!0)),!!c.active){var s=c.target;this.sortBone(s);var a=c.bones,r=a[0];if(this.sortBone(r),a.length>1){var o=a[a.length-1];this._updateCache.indexOf(o)>-1||this.updateCacheReset.push(o)}this._updateCache.push(c),this.sortReset(r.children),a[a.length-1].sorted=!0}},f.prototype.sortPathConstraint=function(c){if(c.active=c.target.bone.isActive()&&(!c.data.skinRequired||this.skin!=null&&y.Utils.contains(this.skin.constraints,c.data,!0)),!!c.active){var s=c.target,a=s.data.index,r=s.bone;this.skin!=null&&this.sortPathConstraintAttachment(this.skin,a,r),this.data.defaultSkin!=null&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,a,r);for(var o=0,l=this.data.skins.length;o<l;o++)this.sortPathConstraintAttachment(this.data.skins[o],a,r);var v=s.getAttachment();v instanceof y.PathAttachment&&this.sortPathConstraintAttachmentWith(v,r);for(var u=c.bones,d=u.length,o=0;o<d;o++)this.sortBone(u[o]);this._updateCache.push(c);for(var o=0;o<d;o++)this.sortReset(u[o].children);for(var o=0;o<d;o++)u[o].sorted=!0}},f.prototype.sortTransformConstraint=function(c){if(c.active=c.target.isActive()&&(!c.data.skinRequired||this.skin!=null&&y.Utils.contains(this.skin.constraints,c.data,!0)),!!c.active){this.sortBone(c.target);var s=c.bones,a=s.length;if(c.data.local)for(var r=0;r<a;r++){var o=s[r];this.sortBone(o.parent),this._updateCache.indexOf(o)>-1||this.updateCacheReset.push(o)}else for(var r=0;r<a;r++)this.sortBone(s[r]);this._updateCache.push(c);for(var l=0;l<a;l++)this.sortReset(s[l].children);for(var l=0;l<a;l++)s[l].sorted=!0}},f.prototype.sortPathConstraintAttachment=function(c,s,a){var r=c.attachments[s];if(r)for(var o in r)this.sortPathConstraintAttachmentWith(r[o],a)},f.prototype.sortPathConstraintAttachmentWith=function(c,s){if(c instanceof y.PathAttachment){var a=c.bones;if(a==null)this.sortBone(s);else for(var r=this.bones,o=0;o<a.length;)for(var l=a[o++],v=o+l;o<v;o++){var u=a[o];this.sortBone(r[u])}}},f.prototype.sortBone=function(c){if(!c.sorted){var s=c.parent;s!=null&&this.sortBone(s),c.sorted=!0,this._updateCache.push(c)}},f.prototype.sortReset=function(c){for(var s=0,a=c.length;s<a;s++){var r=c[s];r.active&&(r.sorted&&this.sortReset(r.children),r.sorted=!1)}},f.prototype.updateWorldTransform=function(){for(var c=this.updateCacheReset,s=0,a=c.length;s<a;s++){var r=c[s];r.ax=r.x,r.ay=r.y,r.arotation=r.rotation,r.ascaleX=r.scaleX,r.ascaleY=r.scaleY,r.ashearX=r.shearX,r.ashearY=r.shearY,r.appliedValid=!0}for(var o=this._updateCache,s=0,a=o.length;s<a;s++)o[s].update()},f.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},f.prototype.setBonesToSetupPose=function(){for(var c=this.bones,s=0,a=c.length;s<a;s++)c[s].setToSetupPose();for(var r=this.ikConstraints,s=0,a=r.length;s<a;s++){var o=r[s];o.mix=o.data.mix,o.softness=o.data.softness,o.bendDirection=o.data.bendDirection,o.compress=o.data.compress,o.stretch=o.data.stretch}for(var l=this.transformConstraints,s=0,a=l.length;s<a;s++){var o=l[s],v=o.data;o.rotateMix=v.rotateMix,o.translateMix=v.translateMix,o.scaleMix=v.scaleMix,o.shearMix=v.shearMix}for(var u=this.pathConstraints,s=0,a=u.length;s<a;s++){var o=u[s],v=o.data;o.position=v.position,o.spacing=v.spacing,o.rotateMix=v.rotateMix,o.translateMix=v.translateMix}},f.prototype.setSlotsToSetupPose=function(){var c=this.slots;y.Utils.arrayCopy(c,0,this.drawOrder,0,c.length);for(var s=0,a=c.length;s<a;s++)c[s].setToSetupPose()},f.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},f.prototype.findBone=function(c){if(c==null)throw new Error("boneName cannot be null.");for(var s=this.bones,a=0,r=s.length;a<r;a++){var o=s[a];if(o.data.name==c)return o}return null},f.prototype.findBoneIndex=function(c){if(c==null)throw new Error("boneName cannot be null.");for(var s=this.bones,a=0,r=s.length;a<r;a++)if(s[a].data.name==c)return a;return-1},f.prototype.findSlot=function(c){if(c==null)throw new Error("slotName cannot be null.");for(var s=this.slots,a=0,r=s.length;a<r;a++){var o=s[a];if(o.data.name==c)return o}return null},f.prototype.findSlotIndex=function(c){if(c==null)throw new Error("slotName cannot be null.");for(var s=this.slots,a=0,r=s.length;a<r;a++)if(s[a].data.name==c)return a;return-1},f.prototype.setSkinByName=function(c){var s=this.data.findSkin(c);if(s==null)throw new Error("Skin not found: "+c);this.setSkin(s)},f.prototype.setSkin=function(c){if(c!=this.skin){if(c!=null)if(this.skin!=null)c.attachAll(this,this.skin);else for(var s=this.slots,a=0,r=s.length;a<r;a++){var o=s[a],l=o.data.attachmentName;if(l!=null){var v=c.getAttachment(a,l);v!=null&&o.setAttachment(v)}}this.skin=c,this.updateCache()}},f.prototype.getAttachmentByName=function(c,s){return this.getAttachment(this.data.findSlotIndex(c),s)},f.prototype.getAttachment=function(c,s){if(s==null)throw new Error("attachmentName cannot be null.");if(this.skin!=null){var a=this.skin.getAttachment(c,s);if(a!=null)return a}return this.data.defaultSkin!=null?this.data.defaultSkin.getAttachment(c,s):null},f.prototype.setAttachment=function(c,s){if(c==null)throw new Error("slotName cannot be null.");for(var a=this.slots,r=0,o=a.length;r<o;r++){var l=a[r];if(l.data.name==c){var v=null;if(s!=null&&(v=this.getAttachment(r,s),v==null))throw new Error("Attachment not found: "+s+", for slot: "+c);l.setAttachment(v);return}}throw new Error("Slot not found: "+c)},f.prototype.findIkConstraint=function(c){if(c==null)throw new Error("constraintName cannot be null.");for(var s=this.ikConstraints,a=0,r=s.length;a<r;a++){var o=s[a];if(o.data.name==c)return o}return null},f.prototype.findTransformConstraint=function(c){if(c==null)throw new Error("constraintName cannot be null.");for(var s=this.transformConstraints,a=0,r=s.length;a<r;a++){var o=s[a];if(o.data.name==c)return o}return null},f.prototype.findPathConstraint=function(c){if(c==null)throw new Error("constraintName cannot be null.");for(var s=this.pathConstraints,a=0,r=s.length;a<r;a++){var o=s[a];if(o.data.name==c)return o}return null},f.prototype.getBounds=function(c,s,a){if(a===void 0&&(a=new Array(2)),c==null)throw new Error("offset cannot be null.");if(s==null)throw new Error("size cannot be null.");for(var r=this.drawOrder,o=Number.POSITIVE_INFINITY,l=Number.POSITIVE_INFINITY,v=Number.NEGATIVE_INFINITY,u=Number.NEGATIVE_INFINITY,d=0,p=r.length;d<p;d++){var g=r[d];if(g.bone.active){var x=0,T=null,S=g.getAttachment();if(S instanceof y.RegionAttachment)x=8,T=y.Utils.setArraySize(a,x,0),S.computeWorldVertices(g.bone,T,0,2);else if(S instanceof y.MeshAttachment){var P=S;x=P.worldVerticesLength,T=y.Utils.setArraySize(a,x,0),P.computeWorldVertices(g,0,x,T,0,2)}if(T!=null)for(var E=0,R=T.length;E<R;E+=2){var A=T[E],w=T[E+1];o=Math.min(o,A),l=Math.min(l,w),v=Math.max(v,A),u=Math.max(u,w)}}}c.set(o,l),s.set(v-o,u-l)},f.prototype.update=function(c){this.time+=c},f}();y.Skeleton=e})(h||(h={}));var h;(function(y){var e=function(){function a(r){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=r}return a.prototype.readSkeletonData=function(r){var o=this.scale,l=new y.SkeletonData;l.name="";var v=new f(r);if(l.hash=v.readString(),l.version=v.readString(),l.version=="3.8.75")throw new Error("Unsupported skeleton data, please export with a newer version of Spine.");l.x=v.readFloat(),l.y=v.readFloat(),l.width=v.readFloat(),l.height=v.readFloat();var u=v.readBoolean();u&&(l.fps=v.readFloat(),l.imagesPath=v.readString(),l.audioPath=v.readString());var d=0;d=v.readInt(!0);for(var p=0;p<d;p++)v.strings.push(v.readString());d=v.readInt(!0);for(var p=0;p<d;p++){var g=v.readString(),x=p==0?null:l.bones[v.readInt(!0)],T=new y.BoneData(p,g,x);T.rotation=v.readFloat(),T.x=v.readFloat()*o,T.y=v.readFloat()*o,T.scaleX=v.readFloat(),T.scaleY=v.readFloat(),T.shearX=v.readFloat(),T.shearY=v.readFloat(),T.length=v.readFloat()*o,T.transformMode=a.TransformModeValues[v.readInt(!0)],T.skinRequired=v.readBoolean(),u&&y.Color.rgba8888ToColor(T.color,v.readInt32()),l.bones.push(T)}d=v.readInt(!0);for(var p=0;p<d;p++){var S=v.readString(),P=l.bones[v.readInt(!0)],T=new y.SlotData(p,S,P);y.Color.rgba8888ToColor(T.color,v.readInt32());var E=v.readInt32();E!=-1&&y.Color.rgb888ToColor(T.darkColor=new y.Color,E),T.attachmentName=v.readStringRef(),T.blendMode=a.BlendModeValues[v.readInt(!0)],l.slots.push(T)}d=v.readInt(!0);for(var p=0,R=void 0;p<d;p++){var T=new y.IkConstraintData(v.readString());T.order=v.readInt(!0),T.skinRequired=v.readBoolean(),R=v.readInt(!0);for(var A=0;A<R;A++)T.bones.push(l.bones[v.readInt(!0)]);T.target=l.bones[v.readInt(!0)],T.mix=v.readFloat(),T.softness=v.readFloat()*o,T.bendDirection=v.readByte(),T.compress=v.readBoolean(),T.stretch=v.readBoolean(),T.uniform=v.readBoolean(),l.ikConstraints.push(T)}d=v.readInt(!0);for(var p=0,R=void 0;p<d;p++){var T=new y.TransformConstraintData(v.readString());T.order=v.readInt(!0),T.skinRequired=v.readBoolean(),R=v.readInt(!0);for(var A=0;A<R;A++)T.bones.push(l.bones[v.readInt(!0)]);T.target=l.bones[v.readInt(!0)],T.local=v.readBoolean(),T.relative=v.readBoolean(),T.offsetRotation=v.readFloat(),T.offsetX=v.readFloat()*o,T.offsetY=v.readFloat()*o,T.offsetScaleX=v.readFloat(),T.offsetScaleY=v.readFloat(),T.offsetShearY=v.readFloat(),T.rotateMix=v.readFloat(),T.translateMix=v.readFloat(),T.scaleMix=v.readFloat(),T.shearMix=v.readFloat(),l.transformConstraints.push(T)}d=v.readInt(!0);for(var p=0,R=void 0;p<d;p++){var T=new y.PathConstraintData(v.readString());T.order=v.readInt(!0),T.skinRequired=v.readBoolean(),R=v.readInt(!0);for(var A=0;A<R;A++)T.bones.push(l.bones[v.readInt(!0)]);T.target=l.slots[v.readInt(!0)],T.positionMode=a.PositionModeValues[v.readInt(!0)],T.spacingMode=a.SpacingModeValues[v.readInt(!0)],T.rotateMode=a.RotateModeValues[v.readInt(!0)],T.offsetRotation=v.readFloat(),T.position=v.readFloat(),T.positionMode==y.PositionMode.Fixed&&(T.position*=o),T.spacing=v.readFloat(),(T.spacingMode==y.SpacingMode.Length||T.spacingMode==y.SpacingMode.Fixed)&&(T.spacing*=o),T.rotateMix=v.readFloat(),T.translateMix=v.readFloat(),l.pathConstraints.push(T)}var w=this.readSkin(v,l,!0,u);w!=null&&(l.defaultSkin=w,l.skins.push(w));{var p=l.skins.length;for(y.Utils.setArraySize(l.skins,d=p+v.readInt(!0));p<d;p++)l.skins[p]=this.readSkin(v,l,!1,u)}d=this.linkedMeshes.length;for(var p=0;p<d;p++){var O=this.linkedMeshes[p],L=O.skin==null?l.defaultSkin:l.findSkin(O.skin);if(L==null)throw new Error("Skin not found: "+O.skin);var F=L.getAttachment(O.slotIndex,O.parent);if(F==null)throw new Error("Parent mesh not found: "+O.parent);O.mesh.deformAttachment=O.inheritDeform?F:O.mesh,O.mesh.setParentMesh(F),O.mesh.updateUVs()}this.linkedMeshes.length=0,d=v.readInt(!0);for(var p=0;p<d;p++){var T=new y.EventData(v.readStringRef());T.intValue=v.readInt(!1),T.floatValue=v.readFloat(),T.stringValue=v.readString(),T.audioPath=v.readString(),T.audioPath!=null&&(T.volume=v.readFloat(),T.balance=v.readFloat()),l.events.push(T)}d=v.readInt(!0);for(var p=0;p<d;p++)l.animations.push(this.readAnimation(v,v.readString(),l));return l},a.prototype.readSkin=function(r,o,l,v){var u=null,d=0;if(l){if(d=r.readInt(!0),d==0)return null;u=new y.Skin("default")}else{u=new y.Skin(r.readStringRef()),u.bones.length=r.readInt(!0);for(var p=0,g=u.bones.length;p<g;p++)u.bones[p]=o.bones[r.readInt(!0)];for(var p=0,g=r.readInt(!0);p<g;p++)u.constraints.push(o.ikConstraints[r.readInt(!0)]);for(var p=0,g=r.readInt(!0);p<g;p++)u.constraints.push(o.transformConstraints[r.readInt(!0)]);for(var p=0,g=r.readInt(!0);p<g;p++)u.constraints.push(o.pathConstraints[r.readInt(!0)]);d=r.readInt(!0)}for(var p=0;p<d;p++)for(var x=r.readInt(!0),T=0,S=r.readInt(!0);T<S;T++){var P=r.readStringRef(),E=this.readAttachment(r,o,u,x,P,v);E!=null&&u.setAttachment(x,P,E)}return u},a.prototype.readAttachment=function(r,o,l,v,u,d){var p=this.scale,g=r.readStringRef();g==null&&(g=u);var x=r.readByte(),T=a.AttachmentTypeValues[x];switch(T){case y.AttachmentType.Region:{var S=r.readStringRef(),P=r.readFloat(),E=r.readFloat(),R=r.readFloat(),A=r.readFloat(),w=r.readFloat(),O=r.readFloat(),L=r.readFloat(),F=r.readInt32();S==null&&(S=g);var I=this.attachmentLoader.newRegionAttachment(l,g,S);return I==null?null:(I.path=S,I.x=E*p,I.y=R*p,I.scaleX=A,I.scaleY=w,I.rotation=P,I.width=O*p,I.height=L*p,y.Color.rgba8888ToColor(I.color,F),I.updateOffset(),I)}case y.AttachmentType.BoundingBox:{var b=r.readInt(!0),G=this.readVertices(r,b),F=d?r.readInt32():0,N=this.attachmentLoader.newBoundingBoxAttachment(l,g);return N==null?null:(N.worldVerticesLength=b<<1,N.vertices=G.vertices,N.bones=G.bones,d&&y.Color.rgba8888ToColor(N.color,F),N)}case y.AttachmentType.Mesh:{var S=r.readStringRef(),F=r.readInt32(),b=r.readInt(!0),U=this.readFloatArray(r,b<<1,1),Y=this.readShortArray(r),G=this.readVertices(r,b),X=r.readInt(!0),B=null,O=0,L=0;d&&(B=this.readShortArray(r),O=r.readFloat(),L=r.readFloat()),S==null&&(S=g);var z=this.attachmentLoader.newMeshAttachment(l,g,S);return z==null?null:(z.path=S,y.Color.rgba8888ToColor(z.color,F),z.bones=G.bones,z.vertices=G.vertices,z.worldVerticesLength=b<<1,z.triangles=Y,z.regionUVs=U,z.updateUVs(),z.hullLength=X<<1,d&&(z.edges=B,z.width=O*p,z.height=L*p),z)}case y.AttachmentType.LinkedMesh:{var S=r.readStringRef(),F=r.readInt32(),D=r.readStringRef(),V=r.readStringRef(),k=r.readBoolean(),O=0,L=0;d&&(O=r.readFloat(),L=r.readFloat()),S==null&&(S=g);var z=this.attachmentLoader.newMeshAttachment(l,g,S);return z==null?null:(z.path=S,y.Color.rgba8888ToColor(z.color,F),d&&(z.width=O*p,z.height=L*p),this.linkedMeshes.push(new c(z,D,v,V,k)),z)}case y.AttachmentType.Path:{for(var W=r.readBoolean(),H=r.readBoolean(),b=r.readInt(!0),G=this.readVertices(r,b),$=y.Utils.newArray(b/3,0),K=0,j=$.length;K<j;K++)$[K]=r.readFloat()*p;var F=d?r.readInt32():0,S=this.attachmentLoader.newPathAttachment(l,g);return S==null?null:(S.closed=W,S.constantSpeed=H,S.worldVerticesLength=b<<1,S.vertices=G.vertices,S.bones=G.bones,S.lengths=$,d&&y.Color.rgba8888ToColor(S.color,F),S)}case y.AttachmentType.Point:{var P=r.readFloat(),E=r.readFloat(),R=r.readFloat(),F=d?r.readInt32():0,Z=this.attachmentLoader.newPointAttachment(l,g);return Z==null?null:(Z.x=E*p,Z.y=R*p,Z.rotation=P,d&&y.Color.rgba8888ToColor(Z.color,F),Z)}case y.AttachmentType.Clipping:{var J=r.readInt(!0),b=r.readInt(!0),G=this.readVertices(r,b),F=d?r.readInt32():0,Q=this.attachmentLoader.newClippingAttachment(l,g);return Q==null?null:(Q.endSlot=o.slots[J],Q.worldVerticesLength=b<<1,Q.vertices=G.vertices,Q.bones=G.bones,d&&y.Color.rgba8888ToColor(Q.color,F),Q)}}return null},a.prototype.readVertices=function(r,o){var l=o<<1,v=new s,u=this.scale;if(!r.readBoolean())return v.vertices=this.readFloatArray(r,l,u),v;for(var d=new Array,p=new Array,g=0;g<o;g++){var x=r.readInt(!0);p.push(x);for(var T=0;T<x;T++)p.push(r.readInt(!0)),d.push(r.readFloat()*u),d.push(r.readFloat()*u),d.push(r.readFloat())}return v.vertices=y.Utils.toFloatArray(d),v.bones=p,v},a.prototype.readFloatArray=function(r,o,l){var v=new Array(o);if(l==1)for(var u=0;u<o;u++)v[u]=r.readFloat();else for(var u=0;u<o;u++)v[u]=r.readFloat()*l;return v},a.prototype.readShortArray=function(r){for(var o=r.readInt(!0),l=new Array(o),v=0;v<o;v++)l[v]=r.readShort();return l},a.prototype.readAnimation=function(r,o,l){for(var v=new Array,u=this.scale,d=0,p=new y.Color,g=new y.Color,x=0,T=r.readInt(!0);x<T;x++)for(var S=r.readInt(!0),P=0,E=r.readInt(!0);P<E;P++){var R=r.readByte(),A=r.readInt(!0);switch(R){case a.SLOT_ATTACHMENT:{var w=new y.AttachmentTimeline(A);w.slotIndex=S;for(var O=0;O<A;O++)w.setFrame(O,r.readFloat(),r.readStringRef());v.push(w),d=Math.max(d,w.frames[A-1]);break}case a.SLOT_COLOR:{var w=new y.ColorTimeline(A);w.slotIndex=S;for(var O=0;O<A;O++){var L=r.readFloat();y.Color.rgba8888ToColor(p,r.readInt32()),w.setFrame(O,L,p.r,p.g,p.b,p.a),O<A-1&&this.readCurve(r,O,w)}v.push(w),d=Math.max(d,w.frames[(A-1)*y.ColorTimeline.ENTRIES]);break}case a.SLOT_TWO_COLOR:{var w=new y.TwoColorTimeline(A);w.slotIndex=S;for(var O=0;O<A;O++){var L=r.readFloat();y.Color.rgba8888ToColor(p,r.readInt32()),y.Color.rgb888ToColor(g,r.readInt32()),w.setFrame(O,L,p.r,p.g,p.b,p.a,g.r,g.g,g.b),O<A-1&&this.readCurve(r,O,w)}v.push(w),d=Math.max(d,w.frames[(A-1)*y.TwoColorTimeline.ENTRIES]);break}}}for(var x=0,T=r.readInt(!0);x<T;x++)for(var F=r.readInt(!0),P=0,E=r.readInt(!0);P<E;P++){var R=r.readByte(),A=r.readInt(!0);switch(R){case a.BONE_ROTATE:{var w=new y.RotateTimeline(A);w.boneIndex=F;for(var O=0;O<A;O++)w.setFrame(O,r.readFloat(),r.readFloat()),O<A-1&&this.readCurve(r,O,w);v.push(w),d=Math.max(d,w.frames[(A-1)*y.RotateTimeline.ENTRIES]);break}case a.BONE_TRANSLATE:case a.BONE_SCALE:case a.BONE_SHEAR:{var w=void 0,I=1;R==a.BONE_SCALE?w=new y.ScaleTimeline(A):R==a.BONE_SHEAR?w=new y.ShearTimeline(A):(w=new y.TranslateTimeline(A),I=u),w.boneIndex=F;for(var O=0;O<A;O++)w.setFrame(O,r.readFloat(),r.readFloat()*I,r.readFloat()*I),O<A-1&&this.readCurve(r,O,w);v.push(w),d=Math.max(d,w.frames[(A-1)*y.TranslateTimeline.ENTRIES]);break}}}for(var x=0,T=r.readInt(!0);x<T;x++){var b=r.readInt(!0),A=r.readInt(!0),w=new y.IkConstraintTimeline(A);w.ikConstraintIndex=b;for(var O=0;O<A;O++)w.setFrame(O,r.readFloat(),r.readFloat(),r.readFloat()*u,r.readByte(),r.readBoolean(),r.readBoolean()),O<A-1&&this.readCurve(r,O,w);v.push(w),d=Math.max(d,w.frames[(A-1)*y.IkConstraintTimeline.ENTRIES])}for(var x=0,T=r.readInt(!0);x<T;x++){var b=r.readInt(!0),A=r.readInt(!0),w=new y.TransformConstraintTimeline(A);w.transformConstraintIndex=b;for(var O=0;O<A;O++)w.setFrame(O,r.readFloat(),r.readFloat(),r.readFloat(),r.readFloat(),r.readFloat()),O<A-1&&this.readCurve(r,O,w);v.push(w),d=Math.max(d,w.frames[(A-1)*y.TransformConstraintTimeline.ENTRIES])}for(var x=0,T=r.readInt(!0);x<T;x++)for(var b=r.readInt(!0),G=l.pathConstraints[b],P=0,E=r.readInt(!0);P<E;P++){var R=r.readByte(),A=r.readInt(!0);switch(R){case a.PATH_POSITION:case a.PATH_SPACING:{var w=void 0,I=1;R==a.PATH_SPACING?(w=new y.PathConstraintSpacingTimeline(A),(G.spacingMode==y.SpacingMode.Length||G.spacingMode==y.SpacingMode.Fixed)&&(I=u)):(w=new y.PathConstraintPositionTimeline(A),G.positionMode==y.PositionMode.Fixed&&(I=u)),w.pathConstraintIndex=b;for(var O=0;O<A;O++)w.setFrame(O,r.readFloat(),r.readFloat()*I),O<A-1&&this.readCurve(r,O,w);v.push(w),d=Math.max(d,w.frames[(A-1)*y.PathConstraintPositionTimeline.ENTRIES]);break}case a.PATH_MIX:{var w=new y.PathConstraintMixTimeline(A);w.pathConstraintIndex=b;for(var O=0;O<A;O++)w.setFrame(O,r.readFloat(),r.readFloat(),r.readFloat()),O<A-1&&this.readCurve(r,O,w);v.push(w),d=Math.max(d,w.frames[(A-1)*y.PathConstraintMixTimeline.ENTRIES]);break}}}for(var x=0,T=r.readInt(!0);x<T;x++)for(var N=l.skins[r.readInt(!0)],P=0,E=r.readInt(!0);P<E;P++)for(var S=r.readInt(!0),U=0,Y=r.readInt(!0);U<Y;U++){var X=N.getAttachment(S,r.readStringRef()),B=X.bones!=null,z=X.vertices,D=B?z.length/3*2:z.length,A=r.readInt(!0),w=new y.DeformTimeline(A);w.slotIndex=S,w.attachment=X;for(var O=0;O<A;O++){var L=r.readFloat(),V=void 0,k=r.readInt(!0);if(k==0)V=B?y.Utils.newFloatArray(D):z;else{V=y.Utils.newFloatArray(D);var W=r.readInt(!0);if(k+=W,u==1)for(var H=W;H<k;H++)V[H]=r.readFloat();else for(var H=W;H<k;H++)V[H]=r.readFloat()*u;if(!B)for(var H=0,$=V.length;H<$;H++)V[H]+=z[H]}w.setFrame(O,L,V),O<A-1&&this.readCurve(r,O,w)}v.push(w),d=Math.max(d,w.frames[A-1])}var K=r.readInt(!0);if(K>0){for(var w=new y.DrawOrderTimeline(K),j=l.slots.length,x=0;x<K;x++){for(var L=r.readFloat(),Z=r.readInt(!0),J=y.Utils.newArray(j,0),P=j-1;P>=0;P--)J[P]=-1;for(var Q=y.Utils.newArray(j-Z,0),q=0,_=0,P=0;P<Z;P++){for(var S=r.readInt(!0);q!=S;)Q[_++]=q++;J[q+r.readInt(!0)]=q++}for(;q<j;)Q[_++]=q++;for(var P=j-1;P>=0;P--)J[P]==-1&&(J[P]=Q[--_]);w.setFrame(x,L,J)}v.push(w),d=Math.max(d,w.frames[K-1])}var et=r.readInt(!0);if(et>0){for(var w=new y.EventTimeline(et),x=0;x<et;x++){var L=r.readFloat(),st=l.events[r.readInt(!0)],it=new y.Event(L,st);it.intValue=r.readInt(!1),it.floatValue=r.readFloat(),it.stringValue=r.readBoolean()?r.readString():st.stringValue,it.data.audioPath!=null&&(it.volume=r.readFloat(),it.balance=r.readFloat()),w.setFrame(x,it)}v.push(w),d=Math.max(d,w.frames[et-1])}return new y.Animation(o,v,d)},a.prototype.readCurve=function(r,o,l){switch(r.readByte()){case a.CURVE_STEPPED:l.setStepped(o);break;case a.CURVE_BEZIER:this.setCurve(l,o,r.readFloat(),r.readFloat(),r.readFloat(),r.readFloat());break}},a.prototype.setCurve=function(r,o,l,v,u,d){r.setCurve(o,l,v,u,d)},a.AttachmentTypeValues=[0,1,2,3,4,5,6],a.TransformModeValues=[y.TransformMode.Normal,y.TransformMode.OnlyTranslation,y.TransformMode.NoRotationOrReflection,y.TransformMode.NoScale,y.TransformMode.NoScaleOrReflection],a.PositionModeValues=[y.PositionMode.Fixed,y.PositionMode.Percent],a.SpacingModeValues=[y.SpacingMode.Length,y.SpacingMode.Fixed,y.SpacingMode.Percent],a.RotateModeValues=[y.RotateMode.Tangent,y.RotateMode.Chain,y.RotateMode.ChainScale],a.BlendModeValues=[y.BlendMode.Normal,y.BlendMode.Additive,y.BlendMode.Multiply,y.BlendMode.Screen],a.BONE_ROTATE=0,a.BONE_TRANSLATE=1,a.BONE_SCALE=2,a.BONE_SHEAR=3,a.SLOT_ATTACHMENT=0,a.SLOT_COLOR=1,a.SLOT_TWO_COLOR=2,a.PATH_POSITION=0,a.PATH_SPACING=1,a.PATH_MIX=2,a.CURVE_LINEAR=0,a.CURVE_STEPPED=1,a.CURVE_BEZIER=2,a}();y.SkeletonBinary=e;var f=function(){function a(r,o,l,v){o===void 0&&(o=new Array),l===void 0&&(l=0),v===void 0&&(v=new DataView(r.buffer)),this.strings=o,this.index=l,this.buffer=v}return a.prototype.readByte=function(){return this.buffer.getInt8(this.index++)},a.prototype.readShort=function(){var r=this.buffer.getInt16(this.index);return this.index+=2,r},a.prototype.readInt32=function(){var r=this.buffer.getInt32(this.index);return this.index+=4,r},a.prototype.readInt=function(r){var o=this.readByte(),l=o&127;return o&128&&(o=this.readByte(),l|=(o&127)<<7,o&128&&(o=this.readByte(),l|=(o&127)<<14,o&128&&(o=this.readByte(),l|=(o&127)<<21,o&128&&(o=this.readByte(),l|=(o&127)<<28)))),r?l:l>>>1^-(l&1)},a.prototype.readStringRef=function(){var r=this.readInt(!0);return r==0?null:this.strings[r-1]},a.prototype.readString=function(){var r=this.readInt(!0);switch(r){case 0:return null;case 1:return""}r--;for(var o="",l=0;l<r;){var v=this.readByte();switch(v>>4){case 12:case 13:o+=String.fromCharCode((v&31)<<6|this.readByte()&63),l+=2;break;case 14:o+=String.fromCharCode((v&15)<<12|(this.readByte()&63)<<6|this.readByte()&63),l+=3;break;default:o+=String.fromCharCode(v),l++}}return o},a.prototype.readFloat=function(){var r=this.buffer.getFloat32(this.index);return this.index+=4,r},a.prototype.readBoolean=function(){return this.readByte()!=0},a}(),c=function(){function a(r,o,l,v,u){this.mesh=r,this.skin=o,this.slotIndex=l,this.parent=v,this.inheritDeform=u}return a}(),s=function(){function a(r,o){r===void 0&&(r=null),o===void 0&&(o=null),this.bones=r,this.vertices=o}return a}()})(h||(h={}));var h;(function(y){var e=function(){function f(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new y.Pool(function(){return y.Utils.newFloatArray(16)})}return f.prototype.update=function(c,s){if(c==null)throw new Error("skeleton cannot be null.");var a=this.boundingBoxes,r=this.polygons,o=this.polygonPool,l=c.slots,v=l.length;a.length=0,o.freeAll(r),r.length=0;for(var u=0;u<v;u++){var d=l[u];if(d.bone.active){var p=d.getAttachment();if(p instanceof y.BoundingBoxAttachment){var g=p;a.push(g);var x=o.obtain();x.length!=g.worldVerticesLength&&(x=y.Utils.newFloatArray(g.worldVerticesLength)),r.push(x),g.computeWorldVertices(d,0,g.worldVerticesLength,x,0,2)}}}s?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},f.prototype.aabbCompute=function(){for(var c=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,r=Number.NEGATIVE_INFINITY,o=this.polygons,l=0,v=o.length;l<v;l++)for(var u=o[l],d=u,p=0,g=u.length;p<g;p+=2){var x=d[p],T=d[p+1];c=Math.min(c,x),s=Math.min(s,T),a=Math.max(a,x),r=Math.max(r,T)}this.minX=c,this.minY=s,this.maxX=a,this.maxY=r},f.prototype.aabbContainsPoint=function(c,s){return c>=this.minX&&c<=this.maxX&&s>=this.minY&&s<=this.maxY},f.prototype.aabbIntersectsSegment=function(c,s,a,r){var o=this.minX,l=this.minY,v=this.maxX,u=this.maxY;if(c<=o&&a<=o||s<=l&&r<=l||c>=v&&a>=v||s>=u&&r>=u)return!1;var d=(r-s)/(a-c),p=d*(o-c)+s;if(p>l&&p<u||(p=d*(v-c)+s,p>l&&p<u))return!0;var g=(l-s)/d+c;return g>o&&g<v||(g=(u-s)/d+c,g>o&&g<v)},f.prototype.aabbIntersectsSkeleton=function(c){return this.minX<c.maxX&&this.maxX>c.minX&&this.minY<c.maxY&&this.maxY>c.minY},f.prototype.containsPoint=function(c,s){for(var a=this.polygons,r=0,o=a.length;r<o;r++)if(this.containsPointPolygon(a[r],c,s))return this.boundingBoxes[r];return null},f.prototype.containsPointPolygon=function(c,s,a){for(var r=c,o=c.length,l=o-2,v=!1,u=0;u<o;u+=2){var d=r[u+1],p=r[l+1];if(d<a&&p>=a||p<a&&d>=a){var g=r[u];g+(a-d)/(p-d)*(r[l]-g)<s&&(v=!v)}l=u}return v},f.prototype.intersectsSegment=function(c,s,a,r){for(var o=this.polygons,l=0,v=o.length;l<v;l++)if(this.intersectsSegmentPolygon(o[l],c,s,a,r))return this.boundingBoxes[l];return null},f.prototype.intersectsSegmentPolygon=function(c,s,a,r,o){for(var l=c,v=c.length,u=s-r,d=a-o,p=s*o-a*r,g=l[v-2],x=l[v-1],T=0;T<v;T+=2){var S=l[T],P=l[T+1],E=g*P-x*S,R=g-S,A=x-P,w=u*A-d*R,O=(p*R-u*E)/w;if((O>=g&&O<=S||O>=S&&O<=g)&&(O>=s&&O<=r||O>=r&&O<=s)){var L=(p*A-d*E)/w;if((L>=x&&L<=P||L>=P&&L<=x)&&(L>=a&&L<=o||L>=o&&L<=a))return!0}g=S,x=P}return!1},f.prototype.getPolygon=function(c){if(c==null)throw new Error("boundingBox cannot be null.");var s=this.boundingBoxes.indexOf(c);return s==-1?null:this.polygons[s]},f.prototype.getWidth=function(){return this.maxX-this.minX},f.prototype.getHeight=function(){return this.maxY-this.minY},f}();y.SkeletonBounds=e})(h||(h={}));var h;(function(y){var e=function(){function f(){this.triangulator=new y.Triangulator,this.clippingPolygon=new Array,this.clipOutput=new Array,this.clippedVertices=new Array,this.clippedTriangles=new Array,this.scratch=new Array}return f.prototype.clipStart=function(c,s){if(this.clipAttachment!=null)return 0;this.clipAttachment=s;var a=s.worldVerticesLength,r=y.Utils.setArraySize(this.clippingPolygon,a);s.computeWorldVertices(c,0,a,r,0,2);var o=this.clippingPolygon;f.makeClockwise(o);for(var l=this.clippingPolygons=this.triangulator.decompose(o,this.triangulator.triangulate(o)),v=0,u=l.length;v<u;v++){var d=l[v];f.makeClockwise(d),d.push(d[0]),d.push(d[1])}return l.length},f.prototype.clipEndWithSlot=function(c){this.clipAttachment!=null&&this.clipAttachment.endSlot==c.data&&this.clipEnd()},f.prototype.clipEnd=function(){this.clipAttachment!=null&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)},f.prototype.isClipping=function(){return this.clipAttachment!=null},f.prototype.clipTriangles=function(c,s,a,r,o,l,v,u){var d=this.clipOutput,p=this.clippedVertices,g=this.clippedTriangles,x=this.clippingPolygons,T=this.clippingPolygons.length,S=u?12:8,P=0;p.length=0,g.length=0;t:for(var E=0;E<r;E+=3){var R=a[E]<<1,A=c[R],w=c[R+1],O=o[R],L=o[R+1];R=a[E+1]<<1;var F=c[R],I=c[R+1],b=o[R],G=o[R+1];R=a[E+2]<<1;for(var N=c[R],U=c[R+1],Y=o[R],X=o[R+1],B=0;B<T;B++){var z=p.length;if(this.clip(A,w,F,I,N,U,x[B],d)){var D=d.length;if(D==0)continue;for(var V=I-U,k=N-F,W=A-N,H=U-w,$=1/(V*W+k*(w-U)),K=D>>1,j=this.clipOutput,Z=y.Utils.setArraySize(p,z+K*S),J=0;J<D;J+=2){var Q=j[J],q=j[J+1];Z[z]=Q,Z[z+1]=q,Z[z+2]=l.r,Z[z+3]=l.g,Z[z+4]=l.b,Z[z+5]=l.a;var _=Q-N,et=q-U,st=(V*_+k*et)*$,it=(H*_+W*et)*$,lt=1-st-it;Z[z+6]=O*st+b*it+Y*lt,Z[z+7]=L*st+G*it+X*lt,u&&(Z[z+8]=v.r,Z[z+9]=v.g,Z[z+10]=v.b,Z[z+11]=v.a),z+=S}z=g.length;var tt=y.Utils.setArraySize(g,z+3*(K-2));K--;for(var J=1;J<K;J++)tt[z]=P,tt[z+1]=P+J,tt[z+2]=P+J+1,z+=3;P+=K+1}else{var Z=y.Utils.setArraySize(p,z+3*S);Z[z]=A,Z[z+1]=w,Z[z+2]=l.r,Z[z+3]=l.g,Z[z+4]=l.b,Z[z+5]=l.a,u?(Z[z+6]=O,Z[z+7]=L,Z[z+8]=v.r,Z[z+9]=v.g,Z[z+10]=v.b,Z[z+11]=v.a,Z[z+12]=F,Z[z+13]=I,Z[z+14]=l.r,Z[z+15]=l.g,Z[z+16]=l.b,Z[z+17]=l.a,Z[z+18]=b,Z[z+19]=G,Z[z+20]=v.r,Z[z+21]=v.g,Z[z+22]=v.b,Z[z+23]=v.a,Z[z+24]=N,Z[z+25]=U,Z[z+26]=l.r,Z[z+27]=l.g,Z[z+28]=l.b,Z[z+29]=l.a,Z[z+30]=Y,Z[z+31]=X,Z[z+32]=v.r,Z[z+33]=v.g,Z[z+34]=v.b,Z[z+35]=v.a):(Z[z+6]=O,Z[z+7]=L,Z[z+8]=F,Z[z+9]=I,Z[z+10]=l.r,Z[z+11]=l.g,Z[z+12]=l.b,Z[z+13]=l.a,Z[z+14]=b,Z[z+15]=G,Z[z+16]=N,Z[z+17]=U,Z[z+18]=l.r,Z[z+19]=l.g,Z[z+20]=l.b,Z[z+21]=l.a,Z[z+22]=Y,Z[z+23]=X),z=g.length;var tt=y.Utils.setArraySize(g,z+3);tt[z]=P,tt[z+1]=P+1,tt[z+2]=P+2,P+=3;continue t}}}},f.prototype.clip=function(c,s,a,r,o,l,v,u){var d=u,p=!1,g=null;v.length%4>=2?(g=u,u=this.scratch):g=this.scratch,g.length=0,g.push(c),g.push(s),g.push(a),g.push(r),g.push(o),g.push(l),g.push(c),g.push(s),u.length=0;for(var x=v,T=v.length-4,S=0;;S+=2){for(var P=x[S],E=x[S+1],R=x[S+2],A=x[S+3],w=P-R,O=E-A,L=g,F=g.length-2,I=u.length,b=0;b<F;b+=2){var G=L[b],N=L[b+1],U=L[b+2],Y=L[b+3],X=w*(Y-A)-O*(U-R)>0;if(w*(N-A)-O*(G-R)>0){if(X){u.push(U),u.push(Y);continue}var B=Y-N,z=U-G,D=B*(R-P)-z*(A-E);if(Math.abs(D)>1e-6){var V=(z*(E-N)-B*(P-G))/D;u.push(P+(R-P)*V),u.push(E+(A-E)*V)}else u.push(P),u.push(E)}else if(X){var B=Y-N,z=U-G,D=B*(R-P)-z*(A-E);if(Math.abs(D)>1e-6){var V=(z*(E-N)-B*(P-G))/D;u.push(P+(R-P)*V),u.push(E+(A-E)*V)}else u.push(P),u.push(E);u.push(U),u.push(Y)}p=!0}if(I==u.length)return d.length=0,!0;if(u.push(u[0]),u.push(u[1]),S==T)break;var k=u;u=g,u.length=0,g=k}if(d!=u){d.length=0;for(var S=0,W=u.length-2;S<W;S++)d[S]=u[S]}else d.length=d.length-2;return p},f.makeClockwise=function(c){for(var s=c,a=c.length,r=s[a-2]*s[1]-s[0]*s[a-1],o=0,l=0,v=0,u=0,d=0,p=a-3;d<p;d+=2)o=s[d],l=s[d+1],v=s[d+2],u=s[d+3],r+=o*u-v*l;if(!(r<0))for(var d=0,g=a-2,p=a>>1;d<p;d+=2){var x=s[d],T=s[d+1],S=g-d;s[d]=s[S],s[d+1]=s[S+1],s[S]=x,s[S+1]=T}},f}();y.SkeletonClipping=e})(h||(h={}));var h;(function(y){var e=function(){function f(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return f.prototype.findBone=function(c){if(c==null)throw new Error("boneName cannot be null.");for(var s=this.bones,a=0,r=s.length;a<r;a++){var o=s[a];if(o.name==c)return o}return null},f.prototype.findBoneIndex=function(c){if(c==null)throw new Error("boneName cannot be null.");for(var s=this.bones,a=0,r=s.length;a<r;a++)if(s[a].name==c)return a;return-1},f.prototype.findSlot=function(c){if(c==null)throw new Error("slotName cannot be null.");for(var s=this.slots,a=0,r=s.length;a<r;a++){var o=s[a];if(o.name==c)return o}return null},f.prototype.findSlotIndex=function(c){if(c==null)throw new Error("slotName cannot be null.");for(var s=this.slots,a=0,r=s.length;a<r;a++)if(s[a].name==c)return a;return-1},f.prototype.findSkin=function(c){if(c==null)throw new Error("skinName cannot be null.");for(var s=this.skins,a=0,r=s.length;a<r;a++){var o=s[a];if(o.name==c)return o}return null},f.prototype.findEvent=function(c){if(c==null)throw new Error("eventDataName cannot be null.");for(var s=this.events,a=0,r=s.length;a<r;a++){var o=s[a];if(o.name==c)return o}return null},f.prototype.findAnimation=function(c){if(c==null)throw new Error("animationName cannot be null.");for(var s=this.animations,a=0,r=s.length;a<r;a++){var o=s[a];if(o.name==c)return o}return null},f.prototype.findIkConstraint=function(c){if(c==null)throw new Error("constraintName cannot be null.");for(var s=this.ikConstraints,a=0,r=s.length;a<r;a++){var o=s[a];if(o.name==c)return o}return null},f.prototype.findTransformConstraint=function(c){if(c==null)throw new Error("constraintName cannot be null.");for(var s=this.transformConstraints,a=0,r=s.length;a<r;a++){var o=s[a];if(o.name==c)return o}return null},f.prototype.findPathConstraint=function(c){if(c==null)throw new Error("constraintName cannot be null.");for(var s=this.pathConstraints,a=0,r=s.length;a<r;a++){var o=s[a];if(o.name==c)return o}return null},f.prototype.findPathConstraintIndex=function(c){if(c==null)throw new Error("pathConstraintName cannot be null.");for(var s=this.pathConstraints,a=0,r=s.length;a<r;a++)if(s[a].name==c)return a;return-1},f}();y.SkeletonData=e})(h||(h={}));var h;(function(y){var e=function(){function c(s){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=s}return c.prototype.readSkeletonData=function(s){var a=this.scale,r=new y.SkeletonData,o=typeof s=="string"?JSON.parse(s):s,l=o.skeleton;if(l!=null){if(r.hash=l.hash,r.version=l.spine,r.version=="3.8.75")throw new Error("Unsupported skeleton data, please export with a newer version of Spine.");r.x=l.x,r.y=l.y,r.width=l.width,r.height=l.height,r.fps=l.fps,r.imagesPath=l.images}if(o.bones)for(var v=0;v<o.bones.length;v++){var u=o.bones[v],d=null,p=this.getValue(u,"parent",null);if(p!=null&&(d=r.findBone(p),d==null))throw new Error("Parent bone not found: "+p);var g=new y.BoneData(r.bones.length,u.name,d);g.length=this.getValue(u,"length",0)*a,g.x=this.getValue(u,"x",0)*a,g.y=this.getValue(u,"y",0)*a,g.rotation=this.getValue(u,"rotation",0),g.scaleX=this.getValue(u,"scaleX",1),g.scaleY=this.getValue(u,"scaleY",1),g.shearX=this.getValue(u,"shearX",0),g.shearY=this.getValue(u,"shearY",0),g.transformMode=c.transformModeFromString(this.getValue(u,"transform","normal")),g.skinRequired=this.getValue(u,"skin",!1),r.bones.push(g)}if(o.slots)for(var v=0;v<o.slots.length;v++){var x=o.slots[v],T=x.name,S=x.bone,P=r.findBone(S);if(P==null)throw new Error("Slot bone not found: "+S);var g=new y.SlotData(r.slots.length,T,P),E=this.getValue(x,"color",null);E!=null&&g.color.setFromString(E);var R=this.getValue(x,"dark",null);R!=null&&(g.darkColor=new y.Color(1,1,1,1),g.darkColor.setFromString(R)),g.attachmentName=this.getValue(x,"attachment",null),g.blendMode=c.blendModeFromString(this.getValue(x,"blend","normal")),r.slots.push(g)}if(o.ik)for(var v=0;v<o.ik.length;v++){var A=o.ik[v],g=new y.IkConstraintData(A.name);g.order=this.getValue(A,"order",0),g.skinRequired=this.getValue(A,"skin",!1);for(var w=0;w<A.bones.length;w++){var S=A.bones[w],O=r.findBone(S);if(O==null)throw new Error("IK bone not found: "+S);g.bones.push(O)}var L=A.target;if(g.target=r.findBone(L),g.target==null)throw new Error("IK target bone not found: "+L);g.mix=this.getValue(A,"mix",1),g.softness=this.getValue(A,"softness",0)*a,g.bendDirection=this.getValue(A,"bendPositive",!0)?1:-1,g.compress=this.getValue(A,"compress",!1),g.stretch=this.getValue(A,"stretch",!1),g.uniform=this.getValue(A,"uniform",!1),r.ikConstraints.push(g)}if(o.transform)for(var v=0;v<o.transform.length;v++){var A=o.transform[v],g=new y.TransformConstraintData(A.name);g.order=this.getValue(A,"order",0),g.skinRequired=this.getValue(A,"skin",!1);for(var w=0;w<A.bones.length;w++){var S=A.bones[w],O=r.findBone(S);if(O==null)throw new Error("Transform constraint bone not found: "+S);g.bones.push(O)}var L=A.target;if(g.target=r.findBone(L),g.target==null)throw new Error("Transform constraint target bone not found: "+L);g.local=this.getValue(A,"local",!1),g.relative=this.getValue(A,"relative",!1),g.offsetRotation=this.getValue(A,"rotation",0),g.offsetX=this.getValue(A,"x",0)*a,g.offsetY=this.getValue(A,"y",0)*a,g.offsetScaleX=this.getValue(A,"scaleX",0),g.offsetScaleY=this.getValue(A,"scaleY",0),g.offsetShearY=this.getValue(A,"shearY",0),g.rotateMix=this.getValue(A,"rotateMix",1),g.translateMix=this.getValue(A,"translateMix",1),g.scaleMix=this.getValue(A,"scaleMix",1),g.shearMix=this.getValue(A,"shearMix",1),r.transformConstraints.push(g)}if(o.path)for(var v=0;v<o.path.length;v++){var A=o.path[v],g=new y.PathConstraintData(A.name);g.order=this.getValue(A,"order",0),g.skinRequired=this.getValue(A,"skin",!1);for(var w=0;w<A.bones.length;w++){var S=A.bones[w],O=r.findBone(S);if(O==null)throw new Error("Transform constraint bone not found: "+S);g.bones.push(O)}var L=A.target;if(g.target=r.findSlot(L),g.target==null)throw new Error("Path target slot not found: "+L);g.positionMode=c.positionModeFromString(this.getValue(A,"positionMode","percent")),g.spacingMode=c.spacingModeFromString(this.getValue(A,"spacingMode","length")),g.rotateMode=c.rotateModeFromString(this.getValue(A,"rotateMode","tangent")),g.offsetRotation=this.getValue(A,"rotation",0),g.position=this.getValue(A,"position",0),g.positionMode==y.PositionMode.Fixed&&(g.position*=a),g.spacing=this.getValue(A,"spacing",0),(g.spacingMode==y.SpacingMode.Length||g.spacingMode==y.SpacingMode.Fixed)&&(g.spacing*=a),g.rotateMix=this.getValue(A,"rotateMix",1),g.translateMix=this.getValue(A,"translateMix",1),r.pathConstraints.push(g)}if(o.skins)for(var v=0;v<o.skins.length;v++){var F=o.skins[v],I=new y.Skin(F.name);if(F.bones)for(var b=0;b<F.bones.length;b++){var O=r.findBone(F.bones[b]);if(O==null)throw new Error("Skin bone not found: "+F.bones[v]);I.bones.push(O)}if(F.ik)for(var b=0;b<F.ik.length;b++){var G=r.findIkConstraint(F.ik[b]);if(G==null)throw new Error("Skin IK constraint not found: "+F.ik[v]);I.constraints.push(G)}if(F.transform)for(var b=0;b<F.transform.length;b++){var G=r.findTransformConstraint(F.transform[b]);if(G==null)throw new Error("Skin transform constraint not found: "+F.transform[v]);I.constraints.push(G)}if(F.path)for(var b=0;b<F.path.length;b++){var G=r.findPathConstraint(F.path[b]);if(G==null)throw new Error("Skin path constraint not found: "+F.path[v]);I.constraints.push(G)}for(var T in F.attachments){var N=r.findSlot(T);if(N==null)throw new Error("Slot not found: "+T);var x=F.attachments[T];for(var U in x){var Y=this.readAttachment(x[U],I,N.index,U,r);Y!=null&&I.setAttachment(N.index,U,Y)}}r.skins.push(I),I.name=="default"&&(r.defaultSkin=I)}for(var v=0,X=this.linkedMeshes.length;v<X;v++){var B=this.linkedMeshes[v],I=B.skin==null?r.defaultSkin:r.findSkin(B.skin);if(I==null)throw new Error("Skin not found: "+B.skin);var z=I.getAttachment(B.slotIndex,B.parent);if(z==null)throw new Error("Parent mesh not found: "+B.parent);B.mesh.deformAttachment=B.inheritDeform?z:B.mesh,B.mesh.setParentMesh(z),B.mesh.updateUVs()}if(this.linkedMeshes.length=0,o.events)for(var D in o.events){var V=o.events[D],g=new y.EventData(D);g.intValue=this.getValue(V,"int",0),g.floatValue=this.getValue(V,"float",0),g.stringValue=this.getValue(V,"string",""),g.audioPath=this.getValue(V,"audio",null),g.audioPath!=null&&(g.volume=this.getValue(V,"volume",1),g.balance=this.getValue(V,"balance",0)),r.events.push(g)}if(o.animations)for(var k in o.animations){var W=o.animations[k];this.readAnimation(W,k,r)}return r},c.prototype.readAttachment=function(s,a,r,o,l){var v=this.scale;o=this.getValue(s,"name",o);var u=this.getValue(s,"type","region");switch(u){case"region":{var d=this.getValue(s,"path",o),p=this.attachmentLoader.newRegionAttachment(a,o,d);if(p==null)return null;p.path=d,p.x=this.getValue(s,"x",0)*v,p.y=this.getValue(s,"y",0)*v,p.scaleX=this.getValue(s,"scaleX",1),p.scaleY=this.getValue(s,"scaleY",1),p.rotation=this.getValue(s,"rotation",0),p.width=s.width*v,p.height=s.height*v;var g=this.getValue(s,"color",null);return g!=null&&p.color.setFromString(g),p.updateOffset(),p}case"boundingbox":{var x=this.attachmentLoader.newBoundingBoxAttachment(a,o);if(x==null)return null;this.readVertices(s,x,s.vertexCount<<1);var g=this.getValue(s,"color",null);return g!=null&&x.color.setFromString(g),x}case"mesh":case"linkedmesh":{var d=this.getValue(s,"path",o),T=this.attachmentLoader.newMeshAttachment(a,o,d);if(T==null)return null;T.path=d;var g=this.getValue(s,"color",null);g!=null&&T.color.setFromString(g),T.width=this.getValue(s,"width",0)*v,T.height=this.getValue(s,"height",0)*v;var S=this.getValue(s,"parent",null);if(S!=null)return this.linkedMeshes.push(new f(T,this.getValue(s,"skin",null),r,S,this.getValue(s,"deform",!0))),T;var P=s.uvs;return this.readVertices(s,T,P.length),T.triangles=s.triangles,T.regionUVs=P,T.updateUVs(),T.edges=this.getValue(s,"edges",null),T.hullLength=this.getValue(s,"hull",0)*2,T}case"path":{var d=this.attachmentLoader.newPathAttachment(a,o);if(d==null)return null;d.closed=this.getValue(s,"closed",!1),d.constantSpeed=this.getValue(s,"constantSpeed",!0);var E=s.vertexCount;this.readVertices(s,d,E<<1);for(var R=y.Utils.newArray(E/3,0),A=0;A<s.lengths.length;A++)R[A]=s.lengths[A]*v;d.lengths=R;var g=this.getValue(s,"color",null);return g!=null&&d.color.setFromString(g),d}case"point":{var w=this.attachmentLoader.newPointAttachment(a,o);if(w==null)return null;w.x=this.getValue(s,"x",0)*v,w.y=this.getValue(s,"y",0)*v,w.rotation=this.getValue(s,"rotation",0);var g=this.getValue(s,"color",null);return g!=null&&w.color.setFromString(g),w}case"clipping":{var O=this.attachmentLoader.newClippingAttachment(a,o);if(O==null)return null;var L=this.getValue(s,"end",null);if(L!=null){var F=l.findSlot(L);if(F==null)throw new Error("Clipping end slot not found: "+L);O.endSlot=F}var E=s.vertexCount;this.readVertices(s,O,E<<1);var g=this.getValue(s,"color",null);return g!=null&&O.color.setFromString(g),O}}return null},c.prototype.readVertices=function(s,a,r){var o=this.scale;a.worldVerticesLength=r;var l=s.vertices;if(r==l.length){var v=y.Utils.toFloatArray(l);if(o!=1)for(var u=0,d=l.length;u<d;u++)v[u]*=o;a.vertices=v;return}for(var p=new Array,g=new Array,u=0,d=l.length;u<d;){var x=l[u++];g.push(x);for(var T=u+x*4;u<T;u+=4)g.push(l[u]),p.push(l[u+1]*o),p.push(l[u+2]*o),p.push(l[u+3])}a.bones=g,a.vertices=y.Utils.toFloatArray(p)},c.prototype.readAnimation=function(s,a,r){var o=this.scale,l=new Array,v=0;if(s.slots)for(var u in s.slots){var d=s.slots[u],p=r.findSlotIndex(u);if(p==-1)throw new Error("Slot not found: "+u);for(var g in d){var x=d[g];if(g=="attachment"){var T=new y.AttachmentTimeline(x.length);T.slotIndex=p;for(var S=0,P=0;P<x.length;P++){var E=x[P];T.setFrame(S++,this.getValue(E,"time",0),E.name)}l.push(T),v=Math.max(v,T.frames[T.getFrameCount()-1])}else if(g=="color"){var T=new y.ColorTimeline(x.length);T.slotIndex=p;for(var S=0,P=0;P<x.length;P++){var E=x[P],R=new y.Color;R.setFromString(E.color),T.setFrame(S,this.getValue(E,"time",0),R.r,R.g,R.b,R.a),this.readCurve(E,T,S),S++}l.push(T),v=Math.max(v,T.frames[(T.getFrameCount()-1)*y.ColorTimeline.ENTRIES])}else if(g=="twoColor"){var T=new y.TwoColorTimeline(x.length);T.slotIndex=p;for(var S=0,P=0;P<x.length;P++){var E=x[P],A=new y.Color,w=new y.Color;A.setFromString(E.light),w.setFromString(E.dark),T.setFrame(S,this.getValue(E,"time",0),A.r,A.g,A.b,A.a,w.r,w.g,w.b),this.readCurve(E,T,S),S++}l.push(T),v=Math.max(v,T.frames[(T.getFrameCount()-1)*y.TwoColorTimeline.ENTRIES])}else throw new Error("Invalid timeline type for a slot: "+g+" ("+u+")")}}if(s.bones)for(var O in s.bones){var L=s.bones[O],F=r.findBoneIndex(O);if(F==-1)throw new Error("Bone not found: "+O);for(var g in L){var x=L[g];if(g==="rotate"){var T=new y.RotateTimeline(x.length);T.boneIndex=F;for(var S=0,P=0;P<x.length;P++){var E=x[P];T.setFrame(S,this.getValue(E,"time",0),this.getValue(E,"angle",0)),this.readCurve(E,T,S),S++}l.push(T),v=Math.max(v,T.frames[(T.getFrameCount()-1)*y.RotateTimeline.ENTRIES])}else if(g==="translate"||g==="scale"||g==="shear"){var T=null,I=1,b=0;g==="scale"?(T=new y.ScaleTimeline(x.length),b=1):g==="shear"?T=new y.ShearTimeline(x.length):(T=new y.TranslateTimeline(x.length),I=o),T.boneIndex=F;for(var S=0,P=0;P<x.length;P++){var E=x[P],G=this.getValue(E,"x",b),N=this.getValue(E,"y",b);T.setFrame(S,this.getValue(E,"time",0),G*I,N*I),this.readCurve(E,T,S),S++}l.push(T),v=Math.max(v,T.frames[(T.getFrameCount()-1)*y.TranslateTimeline.ENTRIES])}else throw new Error("Invalid timeline type for a bone: "+g+" ("+O+")")}}if(s.ik)for(var U in s.ik){var Y=s.ik[U],X=r.findIkConstraint(U),T=new y.IkConstraintTimeline(Y.length);T.ikConstraintIndex=r.ikConstraints.indexOf(X);for(var S=0,P=0;P<Y.length;P++){var E=Y[P];T.setFrame(S,this.getValue(E,"time",0),this.getValue(E,"mix",1),this.getValue(E,"softness",0)*o,this.getValue(E,"bendPositive",!0)?1:-1,this.getValue(E,"compress",!1),this.getValue(E,"stretch",!1)),this.readCurve(E,T,S),S++}l.push(T),v=Math.max(v,T.frames[(T.getFrameCount()-1)*y.IkConstraintTimeline.ENTRIES])}if(s.transform)for(var U in s.transform){var Y=s.transform[U],X=r.findTransformConstraint(U),T=new y.TransformConstraintTimeline(Y.length);T.transformConstraintIndex=r.transformConstraints.indexOf(X);for(var S=0,P=0;P<Y.length;P++){var E=Y[P];T.setFrame(S,this.getValue(E,"time",0),this.getValue(E,"rotateMix",1),this.getValue(E,"translateMix",1),this.getValue(E,"scaleMix",1),this.getValue(E,"shearMix",1)),this.readCurve(E,T,S),S++}l.push(T),v=Math.max(v,T.frames[(T.getFrameCount()-1)*y.TransformConstraintTimeline.ENTRIES])}if(s.path)for(var U in s.path){var Y=s.path[U],B=r.findPathConstraintIndex(U);if(B==-1)throw new Error("Path constraint not found: "+U);var z=r.pathConstraints[B];for(var g in Y){var x=Y[g];if(g==="position"||g==="spacing"){var T=null,I=1;g==="spacing"?(T=new y.PathConstraintSpacingTimeline(x.length),(z.spacingMode==y.SpacingMode.Length||z.spacingMode==y.SpacingMode.Fixed)&&(I=o)):(T=new y.PathConstraintPositionTimeline(x.length),z.positionMode==y.PositionMode.Fixed&&(I=o)),T.pathConstraintIndex=B;for(var S=0,P=0;P<x.length;P++){var E=x[P];T.setFrame(S,this.getValue(E,"time",0),this.getValue(E,g,0)*I),this.readCurve(E,T,S),S++}l.push(T),v=Math.max(v,T.frames[(T.getFrameCount()-1)*y.PathConstraintPositionTimeline.ENTRIES])}else if(g==="mix"){var T=new y.PathConstraintMixTimeline(x.length);T.pathConstraintIndex=B;for(var S=0,P=0;P<x.length;P++){var E=x[P];T.setFrame(S,this.getValue(E,"time",0),this.getValue(E,"rotateMix",1),this.getValue(E,"translateMix",1)),this.readCurve(E,T,S),S++}l.push(T),v=Math.max(v,T.frames[(T.getFrameCount()-1)*y.PathConstraintMixTimeline.ENTRIES])}}}if(s.deform)for(var D in s.deform){var V=s.deform[D],k=r.findSkin(D);if(k==null)throw new Error("Skin not found: "+D);for(var u in V){var d=V[u],p=r.findSlotIndex(u);if(p==-1)throw new Error("Slot not found: "+d.name);for(var g in d){var x=d[g],W=k.getAttachment(p,g);if(W==null)throw new Error("Deform attachment not found: "+x.name);var H=W.bones!=null,$=W.vertices,K=H?$.length/3*2:$.length,T=new y.DeformTimeline(x.length);T.slotIndex=p,T.attachment=W;for(var S=0,j=0;j<x.length;j++){var E=x[j],Z=void 0,J=this.getValue(E,"vertices",null);if(J==null)Z=H?y.Utils.newFloatArray(K):$;else{Z=y.Utils.newFloatArray(K);var Q=this.getValue(E,"offset",0);if(y.Utils.arrayCopy(J,0,Z,Q,J.length),o!=1)for(var P=Q,q=P+J.length;P<q;P++)Z[P]*=o;if(!H)for(var P=0;P<K;P++)Z[P]+=$[P]}T.setFrame(S,this.getValue(E,"time",0),Z),this.readCurve(E,T,S),S++}l.push(T),v=Math.max(v,T.frames[T.getFrameCount()-1])}}}var _=s.drawOrder;if(_==null&&(_=s.draworder),_!=null){for(var T=new y.DrawOrderTimeline(_.length),et=r.slots.length,S=0,j=0;j<_.length;j++){var st=_[j],it=null,lt=this.getValue(st,"offsets",null);if(lt!=null){it=y.Utils.newArray(et,-1);for(var tt=y.Utils.newArray(et-lt.length,0),ht=0,rt=0,P=0;P<lt.length;P++){var ft=lt[P],p=r.findSlotIndex(ft.slot);if(p==-1)throw new Error("Slot not found: "+ft.slot);for(;ht!=p;)tt[rt++]=ht++;it[ht+ft.offset]=ht++}for(;ht<et;)tt[rt++]=ht++;for(var P=et-1;P>=0;P--)it[P]==-1&&(it[P]=tt[--rt])}T.setFrame(S++,this.getValue(st,"time",0),it)}l.push(T),v=Math.max(v,T.frames[T.getFrameCount()-1])}if(s.events){for(var T=new y.EventTimeline(s.events.length),S=0,P=0;P<s.events.length;P++){var ct=s.events[P],yt=r.findEvent(ct.name);if(yt==null)throw new Error("Event not found: "+ct.name);var mt=new y.Event(y.Utils.toSinglePrecision(this.getValue(ct,"time",0)),yt);mt.intValue=this.getValue(ct,"int",yt.intValue),mt.floatValue=this.getValue(ct,"float",yt.floatValue),mt.stringValue=this.getValue(ct,"string",yt.stringValue),mt.data.audioPath!=null&&(mt.volume=this.getValue(ct,"volume",1),mt.balance=this.getValue(ct,"balance",0)),T.setFrame(S++,mt)}l.push(T),v=Math.max(v,T.frames[T.getFrameCount()-1])}if(isNaN(v))throw new Error("Error while parsing animation, duration is NaN");r.animations.push(new y.Animation(a,l,v))},c.prototype.readCurve=function(s,a,r){if(s.hasOwnProperty("curve"))if(s.curve=="stepped")a.setStepped(r);else{var o=s.curve;a.setCurve(r,o,this.getValue(s,"c2",0),this.getValue(s,"c3",1),this.getValue(s,"c4",1))}},c.prototype.getValue=function(s,a,r){return s[a]!==void 0?s[a]:r},c.blendModeFromString=function(s){if(s=s.toLowerCase(),s=="normal")return y.BlendMode.Normal;if(s=="additive")return y.BlendMode.Additive;if(s=="multiply")return y.BlendMode.Multiply;if(s=="screen")return y.BlendMode.Screen;throw new Error("Unknown blend mode: ".concat(s))},c.positionModeFromString=function(s){if(s=s.toLowerCase(),s=="fixed")return y.PositionMode.Fixed;if(s=="percent")return y.PositionMode.Percent;throw new Error("Unknown position mode: ".concat(s))},c.spacingModeFromString=function(s){if(s=s.toLowerCase(),s=="length")return y.SpacingMode.Length;if(s=="fixed")return y.SpacingMode.Fixed;if(s=="percent")return y.SpacingMode.Percent;throw new Error("Unknown position mode: ".concat(s))},c.rotateModeFromString=function(s){if(s=s.toLowerCase(),s=="tangent")return y.RotateMode.Tangent;if(s=="chain")return y.RotateMode.Chain;if(s=="chainscale")return y.RotateMode.ChainScale;throw new Error("Unknown rotate mode: ".concat(s))},c.transformModeFromString=function(s){if(s=s.toLowerCase(),s=="normal")return y.TransformMode.Normal;if(s=="onlytranslation")return y.TransformMode.OnlyTranslation;if(s=="norotationorreflection")return y.TransformMode.NoRotationOrReflection;if(s=="noscale")return y.TransformMode.NoScale;if(s=="noscaleorreflection")return y.TransformMode.NoScaleOrReflection;throw new Error("Unknown transform mode: ".concat(s))},c}();y.SkeletonJson=e;var f=function(){function c(s,a,r,o,l){this.mesh=s,this.skin=a,this.slotIndex=r,this.parent=o,this.inheritDeform=l}return c}()})(h||(h={}));var h;(function(y){var e=function(){function c(s,a,r){this.slotIndex=s,this.name=a,this.attachment=r}return c}();y.SkinEntry=e;var f=function(){function c(s){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,s==null)throw new Error("name cannot be null.");this.name=s}return c.prototype.setAttachment=function(s,a,r){if(r==null)throw new Error("attachment cannot be null.");var o=this.attachments;s>=o.length&&(o.length=s+1),o[s]||(o[s]={}),o[s][a]=r},c.prototype.addSkin=function(s){for(var a=0;a<s.bones.length;a++){for(var r=s.bones[a],o=!1,l=0;l<this.bones.length;l++)if(this.bones[l]==r){o=!0;break}o||this.bones.push(r)}for(var a=0;a<s.constraints.length;a++){for(var v=s.constraints[a],o=!1,l=0;l<this.constraints.length;l++)if(this.constraints[l]==v){o=!0;break}o||this.constraints.push(v)}for(var u=s.getAttachments(),a=0;a<u.length;a++){var d=u[a];this.setAttachment(d.slotIndex,d.name,d.attachment)}},c.prototype.copySkin=function(s){for(var a=0;a<s.bones.length;a++){for(var r=s.bones[a],o=!1,l=0;l<this.bones.length;l++)if(this.bones[l]==r){o=!0;break}o||this.bones.push(r)}for(var a=0;a<s.constraints.length;a++){for(var v=s.constraints[a],o=!1,l=0;l<this.constraints.length;l++)if(this.constraints[l]==v){o=!0;break}o||this.constraints.push(v)}for(var u=s.getAttachments(),a=0;a<u.length;a++){var d=u[a];d.attachment!=null&&(d.attachment instanceof y.MeshAttachment?(d.attachment=d.attachment.newLinkedMesh(),this.setAttachment(d.slotIndex,d.name,d.attachment)):(d.attachment=d.attachment.copy(),this.setAttachment(d.slotIndex,d.name,d.attachment)))}},c.prototype.getAttachment=function(s,a){var r=this.attachments[s];return r?r[a]:null},c.prototype.removeAttachment=function(s,a){var r=this.attachments[s];r&&(r[a]=null)},c.prototype.getAttachments=function(){for(var s=new Array,a=0;a<this.attachments.length;a++){var r=this.attachments[a];if(r)for(var o in r){var l=r[o];l&&s.push(new e(a,o,l))}}return s},c.prototype.getAttachmentsForSlot=function(s,a){var r=this.attachments[s];if(r)for(var o in r){var l=r[o];l&&a.push(new e(s,o,l))}},c.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},c.prototype.attachAll=function(s,a){for(var r=0,o=0;o<s.slots.length;o++){var l=s.slots[o],v=l.getAttachment();if(v&&r<a.attachments.length){var u=a.attachments[r];for(var d in u){var p=u[d];if(v==p){var g=this.getAttachment(r,d);g!=null&&l.setAttachment(g);break}}}r++}},c}();y.Skin=f})(h||(h={}));var h;(function(y){var e=function(){function f(c,s){if(this.deform=new Array,c==null)throw new Error("data cannot be null.");if(s==null)throw new Error("bone cannot be null.");this.data=c,this.bone=s,this.color=new y.Color,this.darkColor=c.darkColor==null?null:new y.Color,this.setToSetupPose()}return f.prototype.getSkeleton=function(){return this.bone.skeleton},f.prototype.getAttachment=function(){return this.attachment},f.prototype.setAttachment=function(c){this.attachment!=c&&(this.attachment=c,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)},f.prototype.setAttachmentTime=function(c){this.attachmentTime=this.bone.skeleton.time-c},f.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},f.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor!=null&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName==null?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},f}();y.Slot=e})(h||(h={}));var h;(function(y){var e=function(){function f(c,s,a){if(this.color=new y.Color(1,1,1,1),c<0)throw new Error("index must be >= 0.");if(s==null)throw new Error("name cannot be null.");if(a==null)throw new Error("boneData cannot be null.");this.index=c,this.name=s,this.boneData=a}return f}();y.SlotData=e})(h||(h={}));var h;(function(y){var e=function(){function r(o){this._image=o}return r.prototype.getImage=function(){return this._image},r.filterFromString=function(o){switch(o.toLowerCase()){case"nearest":return f.Nearest;case"linear":return f.Linear;case"mipmap":return f.MipMap;case"mipmapnearestnearest":return f.MipMapNearestNearest;case"mipmaplinearnearest":return f.MipMapLinearNearest;case"mipmapnearestlinear":return f.MipMapNearestLinear;case"mipmaplinearlinear":return f.MipMapLinearLinear;default:throw new Error("Unknown texture filter ".concat(o))}},r.wrapFromString=function(o){switch(o.toLowerCase()){case"mirroredtepeat":return c.MirroredRepeat;case"clamptoedge":return c.ClampToEdge;case"repeat":return c.Repeat;default:throw new Error("Unknown texture wrap ".concat(o))}},r}();y.Texture=e;var f;(function(r){r[r.Nearest=9728]="Nearest",r[r.Linear=9729]="Linear",r[r.MipMap=9987]="MipMap",r[r.MipMapNearestNearest=9984]="MipMapNearestNearest",r[r.MipMapLinearNearest=9985]="MipMapLinearNearest",r[r.MipMapNearestLinear=9986]="MipMapNearestLinear",r[r.MipMapLinearLinear=9987]="MipMapLinearLinear"})(f=y.TextureFilter||(y.TextureFilter={}));var c;(function(r){r[r.MirroredRepeat=33648]="MirroredRepeat",r[r.ClampToEdge=33071]="ClampToEdge",r[r.Repeat=10497]="Repeat"})(c=y.TextureWrap||(y.TextureWrap={}));var s=function(){function r(){this.u=0,this.v=0,this.u2=0,this.v2=0,this.width=0,this.height=0,this.rotate=!1,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0}return r}();y.TextureRegion=s;var a=function(r){M(o,r);function o(){return r!==null&&r.apply(this,arguments)||this}return o.prototype.setFilters=function(l,v){},o.prototype.setWraps=function(l,v){},o.prototype.dispose=function(){},o}(e);y.FakeTexture=a})(h||(h={}));var h;(function(y){var e=function(){function a(r,o){this.pages=new Array,this.regions=new Array,this.load(r,o)}return a.prototype.load=function(r,o){if(o==null)throw new Error("textureLoader cannot be null.");for(var l=new f(r),v=new Array(4),u=null;;){var d=l.readLine();if(d==null)break;if(d=d.trim(),d.length==0)u=null;else if(u){var g=new s;g.name=d,g.page=u;var x=l.readValue();x.toLocaleLowerCase()=="true"?g.degrees=90:x.toLocaleLowerCase()=="false"?g.degrees=0:g.degrees=parseFloat(x),g.rotate=g.degrees==90,l.readTuple(v);var T=parseInt(v[0]),S=parseInt(v[1]);l.readTuple(v);var P=parseInt(v[0]),E=parseInt(v[1]);g.u=T/u.width,g.v=S/u.height,g.rotate?(g.u2=(T+E)/u.width,g.v2=(S+P)/u.height):(g.u2=(T+P)/u.width,g.v2=(S+E)/u.height),g.x=T,g.y=S,g.width=Math.abs(P),g.height=Math.abs(E),l.readTuple(v)==4&&l.readTuple(v)==4&&l.readTuple(v),g.originalWidth=parseInt(v[0]),g.originalHeight=parseInt(v[1]),l.readTuple(v),g.offsetX=parseInt(v[0]),g.offsetY=parseInt(v[1]),g.index=parseInt(l.readValue()),g.texture=u.texture,this.regions.push(g)}else{u=new c,u.name=d,l.readTuple(v)==2&&(u.width=parseInt(v[0]),u.height=parseInt(v[1]),l.readTuple(v)),l.readTuple(v),u.minFilter=y.Texture.filterFromString(v[0]),u.magFilter=y.Texture.filterFromString(v[1]);var p=l.readValue();u.uWrap=y.TextureWrap.ClampToEdge,u.vWrap=y.TextureWrap.ClampToEdge,p=="x"?u.uWrap=y.TextureWrap.Repeat:p=="y"?u.vWrap=y.TextureWrap.Repeat:p=="xy"&&(u.uWrap=u.vWrap=y.TextureWrap.Repeat),u.texture=o(d),u.texture.setFilters(u.minFilter,u.magFilter),u.texture.setWraps(u.uWrap,u.vWrap),u.width=u.texture.getImage().width,u.height=u.texture.getImage().height,this.pages.push(u)}}},a.prototype.findRegion=function(r){for(var o=0;o<this.regions.length;o++)if(this.regions[o].name==r)return this.regions[o];return null},a.prototype.dispose=function(){for(var r=0;r<this.pages.length;r++)this.pages[r].texture.dispose()},a}();y.TextureAtlas=e;var f=function(){function a(r){this.index=0,this.lines=r.split(/\r\n|\r|\n/)}return a.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},a.prototype.readValue=function(){var r=this.readLine(),o=r.indexOf(":");if(o==-1)throw new Error("Invalid line: "+r);return r.substring(o+1).trim()},a.prototype.readTuple=function(r){var o=this.readLine(),l=o.indexOf(":");if(l==-1)throw new Error("Invalid line: "+o);for(var v=0,u=l+1;v<3;v++){var d=o.indexOf(",",u);if(d==-1)break;r[v]=o.substr(u,d-u).trim(),u=d+1}return r[v]=o.substring(u).trim(),v+1},a}(),c=function(){function a(){}return a}();y.TextureAtlasPage=c;var s=function(a){M(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r}(y.TextureRegion);y.TextureAtlasRegion=s})(h||(h={}));var h;(function(y){var e=function(){function f(c,s){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new y.Vector2,this.active=!1,c==null)throw new Error("data cannot be null.");if(s==null)throw new Error("skeleton cannot be null.");this.data=c,this.rotateMix=c.rotateMix,this.translateMix=c.translateMix,this.scaleMix=c.scaleMix,this.shearMix=c.shearMix,this.bones=new Array;for(var a=0;a<c.bones.length;a++)this.bones.push(s.findBone(c.bones[a].name));this.target=s.findBone(c.target.name)}return f.prototype.isActive=function(){return this.active},f.prototype.apply=function(){this.update()},f.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},f.prototype.applyAbsoluteWorld=function(){for(var c=this.rotateMix,s=this.translateMix,a=this.scaleMix,r=this.shearMix,o=this.target,l=o.a,v=o.b,u=o.c,d=o.d,p=l*d-v*u>0?y.MathUtils.degRad:-y.MathUtils.degRad,g=this.data.offsetRotation*p,x=this.data.offsetShearY*p,T=this.bones,S=0,P=T.length;S<P;S++){var E=T[S],R=!1;if(c!=0){var A=E.a,w=E.b,O=E.c,L=E.d,F=Math.atan2(u,l)-Math.atan2(O,A)+g;F>y.MathUtils.PI?F-=y.MathUtils.PI2:F<-y.MathUtils.PI&&(F+=y.MathUtils.PI2),F*=c;var I=Math.cos(F),b=Math.sin(F);E.a=I*A-b*O,E.b=I*w-b*L,E.c=b*A+I*O,E.d=b*w+I*L,R=!0}if(s!=0){var G=this.temp;o.localToWorld(G.set(this.data.offsetX,this.data.offsetY)),E.worldX+=(G.x-E.worldX)*s,E.worldY+=(G.y-E.worldY)*s,R=!0}if(a>0){var N=Math.sqrt(E.a*E.a+E.c*E.c),U=Math.sqrt(l*l+u*u);N>1e-5&&(N=(N+(U-N+this.data.offsetScaleX)*a)/N),E.a*=N,E.c*=N,N=Math.sqrt(E.b*E.b+E.d*E.d),U=Math.sqrt(v*v+d*d),N>1e-5&&(N=(N+(U-N+this.data.offsetScaleY)*a)/N),E.b*=N,E.d*=N,R=!0}if(r>0){var w=E.b,L=E.d,Y=Math.atan2(L,w),F=Math.atan2(d,v)-Math.atan2(u,l)-(Y-Math.atan2(E.c,E.a));F>y.MathUtils.PI?F-=y.MathUtils.PI2:F<-y.MathUtils.PI&&(F+=y.MathUtils.PI2),F=Y+(F+x)*r;var N=Math.sqrt(w*w+L*L);E.b=Math.cos(F)*N,E.d=Math.sin(F)*N,R=!0}R&&(E.appliedValid=!1)}},f.prototype.applyRelativeWorld=function(){for(var c=this.rotateMix,s=this.translateMix,a=this.scaleMix,r=this.shearMix,o=this.target,l=o.a,v=o.b,u=o.c,d=o.d,p=l*d-v*u>0?y.MathUtils.degRad:-y.MathUtils.degRad,g=this.data.offsetRotation*p,x=this.data.offsetShearY*p,T=this.bones,S=0,P=T.length;S<P;S++){var E=T[S],R=!1;if(c!=0){var A=E.a,w=E.b,O=E.c,L=E.d,F=Math.atan2(u,l)+g;F>y.MathUtils.PI?F-=y.MathUtils.PI2:F<-y.MathUtils.PI&&(F+=y.MathUtils.PI2),F*=c;var I=Math.cos(F),b=Math.sin(F);E.a=I*A-b*O,E.b=I*w-b*L,E.c=b*A+I*O,E.d=b*w+I*L,R=!0}if(s!=0){var G=this.temp;o.localToWorld(G.set(this.data.offsetX,this.data.offsetY)),E.worldX+=G.x*s,E.worldY+=G.y*s,R=!0}if(a>0){var N=(Math.sqrt(l*l+u*u)-1+this.data.offsetScaleX)*a+1;E.a*=N,E.c*=N,N=(Math.sqrt(v*v+d*d)-1+this.data.offsetScaleY)*a+1,E.b*=N,E.d*=N,R=!0}if(r>0){var F=Math.atan2(d,v)-Math.atan2(u,l);F>y.MathUtils.PI?F-=y.MathUtils.PI2:F<-y.MathUtils.PI&&(F+=y.MathUtils.PI2);var w=E.b,L=E.d;F=Math.atan2(L,w)+(F-y.MathUtils.PI/2+x)*r;var N=Math.sqrt(w*w+L*L);E.b=Math.cos(F)*N,E.d=Math.sin(F)*N,R=!0}R&&(E.appliedValid=!1)}},f.prototype.applyAbsoluteLocal=function(){var c=this.rotateMix,s=this.translateMix,a=this.scaleMix,r=this.shearMix,o=this.target;o.appliedValid||o.updateAppliedTransform();for(var l=this.bones,v=0,u=l.length;v<u;v++){var d=l[v];d.appliedValid||d.updateAppliedTransform();var p=d.arotation;if(c!=0){var g=o.arotation-p+this.data.offsetRotation;g-=(16384-(16384.499999999996-g/360|0))*360,p+=g*c}var x=d.ax,T=d.ay;s!=0&&(x+=(o.ax-x+this.data.offsetX)*s,T+=(o.ay-T+this.data.offsetY)*s);var S=d.ascaleX,P=d.ascaleY;a!=0&&(S>1e-5&&(S=(S+(o.ascaleX-S+this.data.offsetScaleX)*a)/S),P>1e-5&&(P=(P+(o.ascaleY-P+this.data.offsetScaleY)*a)/P));var E=d.ashearY;if(r!=0){var g=o.ashearY-E+this.data.offsetShearY;g-=(16384-(16384.499999999996-g/360|0))*360,d.shearY+=g*r}d.updateWorldTransformWith(x,T,p,S,P,d.ashearX,E)}},f.prototype.applyRelativeLocal=function(){var c=this.rotateMix,s=this.translateMix,a=this.scaleMix,r=this.shearMix,o=this.target;o.appliedValid||o.updateAppliedTransform();for(var l=this.bones,v=0,u=l.length;v<u;v++){var d=l[v];d.appliedValid||d.updateAppliedTransform();var p=d.arotation;c!=0&&(p+=(o.arotation+this.data.offsetRotation)*c);var g=d.ax,x=d.ay;s!=0&&(g+=(o.ax+this.data.offsetX)*s,x+=(o.ay+this.data.offsetY)*s);var T=d.ascaleX,S=d.ascaleY;a!=0&&(T>1e-5&&(T*=(o.ascaleX-1+this.data.offsetScaleX)*a+1),S>1e-5&&(S*=(o.ascaleY-1+this.data.offsetScaleY)*a+1));var P=d.ashearY;r!=0&&(P+=(o.ashearY+this.data.offsetShearY)*r),d.updateWorldTransformWith(g,x,p,T,S,d.ashearX,P)}},f}();y.TransformConstraint=e})(h||(h={}));var h;(function(y){var e=function(f){M(c,f);function c(s){var a=f.call(this,s,0,!1)||this;return a.bones=new Array,a.rotateMix=0,a.translateMix=0,a.scaleMix=0,a.shearMix=0,a.offsetRotation=0,a.offsetX=0,a.offsetY=0,a.offsetScaleX=0,a.offsetScaleY=0,a.offsetShearY=0,a.relative=!1,a.local=!1,a}return c}(y.ConstraintData);y.TransformConstraintData=e})(h||(h={}));var h;(function(y){var e=function(){function f(){this.convexPolygons=new Array,this.convexPolygonsIndices=new Array,this.indicesArray=new Array,this.isConcaveArray=new Array,this.triangles=new Array,this.polygonPool=new y.Pool(function(){return new Array}),this.polygonIndicesPool=new y.Pool(function(){return new Array})}return f.prototype.triangulate=function(c){var s=c,a=c.length>>1,r=this.indicesArray;r.length=0;for(var o=0;o<a;o++)r[o]=o;var l=this.isConcaveArray;l.length=0;for(var o=0,v=a;o<v;++o)l[o]=f.isConcave(o,a,s,r);var u=this.triangles;for(u.length=0;a>3;){for(var d=a-1,o=0,p=1;;){t:if(!l[o]){for(var g=r[d]<<1,x=r[o]<<1,T=r[p]<<1,S=s[g],P=s[g+1],E=s[x],R=s[x+1],A=s[T],w=s[T+1],O=(p+1)%a;O!=d;O=(O+1)%a)if(l[O]){var L=r[O]<<1,F=s[L],I=s[L+1];if(f.positiveArea(A,w,S,P,F,I)&&f.positiveArea(S,P,E,R,F,I)&&f.positiveArea(E,R,A,w,F,I))break t}break}if(p==0){do{if(!l[o])break;o--}while(o>0);break}d=o,o=p,p=(p+1)%a}u.push(r[(a+o-1)%a]),u.push(r[o]),u.push(r[(o+1)%a]),r.splice(o,1),l.splice(o,1),a--;var b=(a+o-1)%a,G=o==a?0:o;l[b]=f.isConcave(b,a,s,r),l[G]=f.isConcave(G,a,s,r)}return a==3&&(u.push(r[2]),u.push(r[0]),u.push(r[1])),u},f.prototype.decompose=function(c,s){var a=c,r=this.convexPolygons;this.polygonPool.freeAll(r),r.length=0;var o=this.convexPolygonsIndices;this.polygonIndicesPool.freeAll(o),o.length=0;var l=this.polygonIndicesPool.obtain();l.length=0;var v=this.polygonPool.obtain();v.length=0;for(var u=-1,d=0,p=0,g=s.length;p<g;p+=3){var x=s[p]<<1,T=s[p+1]<<1,S=s[p+2]<<1,P=a[x],E=a[x+1],R=a[T],A=a[T+1],w=a[S],O=a[S+1],L=!1;if(u==x){var F=v.length-4,I=f.winding(v[F],v[F+1],v[F+2],v[F+3],w,O),b=f.winding(w,O,v[0],v[1],v[2],v[3]);I==d&&b==d&&(v.push(w),v.push(O),l.push(S),L=!0)}L||(v.length>0?(r.push(v),o.push(l)):(this.polygonPool.free(v),this.polygonIndicesPool.free(l)),v=this.polygonPool.obtain(),v.length=0,v.push(P),v.push(E),v.push(R),v.push(A),v.push(w),v.push(O),l=this.polygonIndicesPool.obtain(),l.length=0,l.push(x),l.push(T),l.push(S),d=f.winding(P,E,R,A,w,O),u=x)}v.length>0&&(r.push(v),o.push(l));for(var p=0,g=r.length;p<g;p++)if(l=o[p],l.length!=0){var G=l[0],N=l[l.length-1];v=r[p];for(var F=v.length-4,U=v[F],Y=v[F+1],X=v[F+2],B=v[F+3],z=v[0],D=v[1],V=v[2],k=v[3],W=f.winding(U,Y,X,B,z,D),H=0;H<g;H++)if(H!=p){var $=o[H];if($.length==3){var K=$[0],j=$[1],Z=$[2],J=r[H],w=J[J.length-2],O=J[J.length-1];if(!(K!=G||j!=N)){var I=f.winding(U,Y,X,B,w,O),b=f.winding(w,O,z,D,V,k);I==W&&b==W&&(J.length=0,$.length=0,v.push(w),v.push(O),l.push(Z),U=X,Y=B,X=w,B=O,H=0)}}}}for(var p=r.length-1;p>=0;p--)v=r[p],v.length==0&&(r.splice(p,1),this.polygonPool.free(v),l=o[p],o.splice(p,1),this.polygonIndicesPool.free(l));return r},f.isConcave=function(c,s,a,r){var o=r[(s+c-1)%s]<<1,l=r[c]<<1,v=r[(c+1)%s]<<1;return!this.positiveArea(a[o],a[o+1],a[l],a[l+1],a[v],a[v+1])},f.positiveArea=function(c,s,a,r,o,l){return c*(l-r)+a*(s-l)+o*(r-s)>=0},f.winding=function(c,s,a,r,o,l){var v=a-c,u=r-s;return o*u-l*v+v*s-c*u>=0?1:-1},f}();y.Triangulator=e})(h||(h={}));var h;(function(y){var e=function(){function g(){this.array=new Array}return g.prototype.add=function(x){var T=this.contains(x);return this.array[x|0]=x|0,!T},g.prototype.contains=function(x){return this.array[x|0]!=null},g.prototype.remove=function(x){this.array[x|0]=void 0},g.prototype.clear=function(){this.array.length=0},g}();y.IntSet=e;var f=function(){function g(x,T,S,P){x===void 0&&(x=0),T===void 0&&(T=0),S===void 0&&(S=0),P===void 0&&(P=0),this.r=x,this.g=T,this.b=S,this.a=P}return g.prototype.set=function(x,T,S,P){return this.r=x,this.g=T,this.b=S,this.a=P,this.clamp(),this},g.prototype.setFromColor=function(x){return this.r=x.r,this.g=x.g,this.b=x.b,this.a=x.a,this},g.prototype.setFromString=function(x){return x=x.charAt(0)=="#"?x.substr(1):x,this.r=parseInt(x.substr(0,2),16)/255,this.g=parseInt(x.substr(2,2),16)/255,this.b=parseInt(x.substr(4,2),16)/255,this.a=(x.length!=8?255:parseInt(x.substr(6,2),16))/255,this},g.prototype.add=function(x,T,S,P){return this.r+=x,this.g+=T,this.b+=S,this.a+=P,this.clamp(),this},g.prototype.clamp=function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this},g.rgba8888ToColor=function(x,T){x.r=((T&4278190080)>>>24)/255,x.g=((T&16711680)>>>16)/255,x.b=((T&65280)>>>8)/255,x.a=(T&255)/255},g.rgb888ToColor=function(x,T){x.r=((T&16711680)>>>16)/255,x.g=((T&65280)>>>8)/255,x.b=(T&255)/255},g.WHITE=new g(1,1,1,1),g.RED=new g(1,0,0,1),g.GREEN=new g(0,1,0,1),g.BLUE=new g(0,0,1,1),g.MAGENTA=new g(1,0,1,1),g}();y.Color=f;var c=function(){function g(){}return g.clamp=function(x,T,S){return x<T?T:x>S?S:x},g.cosDeg=function(x){return Math.cos(x*g.degRad)},g.sinDeg=function(x){return Math.sin(x*g.degRad)},g.signum=function(x){return x>0?1:x<0?-1:0},g.toInt=function(x){return x>0?Math.floor(x):Math.ceil(x)},g.cbrt=function(x){var T=Math.pow(Math.abs(x),.3333333333333333);return x<0?-T:T},g.randomTriangular=function(x,T){return g.randomTriangularWith(x,T,(x+T)*.5)},g.randomTriangularWith=function(x,T,S){var P=Math.random(),E=T-x;return P<=(S-x)/E?x+Math.sqrt(P*E*(S-x)):T-Math.sqrt((1-P)*E*(T-S))},g.PI=3.1415927,g.PI2=g.PI*2,g.radiansToDegrees=180/g.PI,g.radDeg=g.radiansToDegrees,g.degreesToRadians=g.PI/180,g.degRad=g.degreesToRadians,g}();y.MathUtils=c;var s=function(){function g(){}return g.prototype.apply=function(x,T,S){return x+(T-x)*this.applyInternal(S)},g}();y.Interpolation=s;var a=function(g){M(x,g);function x(T){var S=g.call(this)||this;return S.power=2,S.power=T,S}return x.prototype.applyInternal=function(T){return T<=.5?Math.pow(T*2,this.power)/2:Math.pow((T-1)*2,this.power)/(this.power%2==0?-2:2)+1},x}(s);y.Pow=a;var r=function(g){M(x,g);function x(T){return g.call(this,T)||this}return x.prototype.applyInternal=function(T){return Math.pow(T-1,this.power)*(this.power%2==0?-1:1)+1},x}(a);y.PowOut=r;var o=function(){function g(){}return g.arrayCopy=function(x,T,S,P,E){for(var R=T,A=P;R<T+E;R++,A++)S[A]=x[R]},g.setArraySize=function(x,T,S){S===void 0&&(S=0);var P=x.length;if(P==T)return x;if(x.length=T,P<T)for(var E=P;E<T;E++)x[E]=S;return x},g.ensureArrayCapacity=function(x,T,S){return S===void 0&&(S=0),x.length>=T?x:g.setArraySize(x,T,S)},g.newArray=function(x,T){for(var S=new Array(x),P=0;P<x;P++)S[P]=T;return S},g.newFloatArray=function(x){if(g.SUPPORTS_TYPED_ARRAYS)return new Float32Array(x);for(var T=new Array(x),S=0;S<T.length;S++)T[S]=0;return T},g.newShortArray=function(x){if(g.SUPPORTS_TYPED_ARRAYS)return new Int16Array(x);for(var T=new Array(x),S=0;S<T.length;S++)T[S]=0;return T},g.toFloatArray=function(x){return g.SUPPORTS_TYPED_ARRAYS?new Float32Array(x):x},g.toSinglePrecision=function(x){return g.SUPPORTS_TYPED_ARRAYS?Math.fround(x):x},g.webkit602BugfixHelper=function(x,T){},g.contains=function(x,T,S){for(var P=0;P<x.length;P++)if(x[P]==T)return!0;return!1},g.SUPPORTS_TYPED_ARRAYS=typeof Float32Array<"u",g}();y.Utils=o;var l=function(){function g(){}return g.logBones=function(x){for(var T=0;T<x.bones.length;T++){var S=x.bones[T];console.log(S.data.name+", "+S.a+", "+S.b+", "+S.c+", "+S.d+", "+S.worldX+", "+S.worldY)}},g}();y.DebugUtils=l;var v=function(){function g(x){this.items=new Array,this.instantiator=x}return g.prototype.obtain=function(){return this.items.length>0?this.items.pop():this.instantiator()},g.prototype.free=function(x){x.reset&&x.reset(),this.items.push(x)},g.prototype.freeAll=function(x){for(var T=0;T<x.length;T++)this.free(x[T])},g.prototype.clear=function(){this.items.length=0},g}();y.Pool=v;var u=function(){function g(x,T){x===void 0&&(x=0),T===void 0&&(T=0),this.x=x,this.y=T}return g.prototype.set=function(x,T){return this.x=x,this.y=T,this},g.prototype.length=function(){var x=this.x,T=this.y;return Math.sqrt(x*x+T*T)},g.prototype.normalize=function(){var x=this.length();return x!=0&&(this.x/=x,this.y/=x),this},g}();y.Vector2=u;var d=function(){function g(){this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}return g.prototype.update=function(){var x=Date.now()/1e3;this.delta=x-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=x,this.frameCount++,this.frameTime>1&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)},g}();y.TimeKeeper=d;var p=function(){function g(x){x===void 0&&(x=32),this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(x)}return g.prototype.hasEnoughData=function(){return this.addedValues>=this.values.length},g.prototype.addValue=function(x){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=x,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0},g.prototype.getMean=function(){if(this.hasEnoughData()){if(this.dirty){for(var x=0,T=0;T<this.values.length;T++)x+=this.values[T];this.mean=x/this.values.length,this.dirty=!1}return this.mean}else return 0},g}();y.WindowedMean=p})(h||(h={})),function(){Math.fround||(Math.fround=function(y){return function(e){return y[0]=e,y[0]}}(new Float32Array(1)))}();var h;(function(y){var e=function(){function c(s){if(s==null)throw new Error("name cannot be null.");this.name=s}return c}();y.Attachment=e;var f=function(c){M(s,c);function s(a){var r=c.call(this,a)||this;return r.id=(s.nextID++&65535)<<11,r.worldVerticesLength=0,r.deformAttachment=r,r}return s.prototype.computeWorldVertices=function(a,r,o,l,v,u){o=v+(o>>1)*u;var d=a.bone.skeleton,p=a.deform,g=this.vertices,x=this.bones;if(x==null){p.length>0&&(g=p);for(var T=a.bone,S=T.worldX,P=T.worldY,E=T.a,R=T.b,A=T.c,w=T.d,O=r,L=v;L<o;O+=2,L+=u){var F=g[O],I=g[O+1];l[L]=F*E+I*R+S,l[L+1]=F*A+I*w+P}return}for(var b=0,G=0,N=0;N<r;N+=2){var U=x[b];b+=U+1,G+=U}var Y=d.bones;if(p.length==0)for(var L=v,R=G*3;L<o;L+=u){var X=0,B=0,U=x[b++];for(U+=b;b<U;b++,R+=3){var T=Y[x[b]],F=g[R],I=g[R+1],z=g[R+2];X+=(F*T.a+I*T.b+T.worldX)*z,B+=(F*T.c+I*T.d+T.worldY)*z}l[L]=X,l[L+1]=B}else for(var D=p,L=v,R=G*3,V=G<<1;L<o;L+=u){var X=0,B=0,U=x[b++];for(U+=b;b<U;b++,R+=3,V+=2){var T=Y[x[b]],F=g[R]+D[V],I=g[R+1]+D[V+1],z=g[R+2];X+=(F*T.a+I*T.b+T.worldX)*z,B+=(F*T.c+I*T.d+T.worldY)*z}l[L]=X,l[L+1]=B}},s.prototype.copyTo=function(a){this.bones!=null?(a.bones=new Array(this.bones.length),y.Utils.arrayCopy(this.bones,0,a.bones,0,this.bones.length)):a.bones=null,this.vertices!=null?(a.vertices=y.Utils.newFloatArray(this.vertices.length),y.Utils.arrayCopy(this.vertices,0,a.vertices,0,this.vertices.length)):a.vertices=null,a.worldVerticesLength=this.worldVerticesLength,a.deformAttachment=this.deformAttachment},s.nextID=0,s}(e);y.VertexAttachment=f})(h||(h={}));var h;(function(y){(function(e){e[e.Region=0]="Region",e[e.BoundingBox=1]="BoundingBox",e[e.Mesh=2]="Mesh",e[e.LinkedMesh=3]="LinkedMesh",e[e.Path=4]="Path",e[e.Point=5]="Point",e[e.Clipping=6]="Clipping"})(y.AttachmentType||(y.AttachmentType={}))})(h||(h={}));var h;(function(y){var e=function(f){M(c,f);function c(s){var a=f.call(this,s)||this;return a.color=new y.Color(1,1,1,1),a}return c.prototype.copy=function(){var s=new c(this.name);return this.copyTo(s),s.color.setFromColor(this.color),s},c}(y.VertexAttachment);y.BoundingBoxAttachment=e})(h||(h={}));var h;(function(y){var e=function(f){M(c,f);function c(s){var a=f.call(this,s)||this;return a.color=new y.Color(.2275,.2275,.8078,1),a}return c.prototype.copy=function(){var s=new c(this.name);return this.copyTo(s),s.endSlot=this.endSlot,s.color.setFromColor(this.color),s},c}(y.VertexAttachment);y.ClippingAttachment=e})(h||(h={}));var h;(function(y){var e=function(f){M(c,f);function c(s){var a=f.call(this,s)||this;return a.color=new y.Color(1,1,1,1),a.tempColor=new y.Color(0,0,0,0),a}return c.prototype.updateUVs=function(){var s=this.regionUVs;(this.uvs==null||this.uvs.length!=s.length)&&(this.uvs=y.Utils.newFloatArray(s.length));var a=this.uvs,r=this.uvs.length,o=this.region.u,l=this.region.v,v=0,u=0;if(this.region instanceof y.TextureAtlasRegion){var d=this.region,p=d.texture.getImage().width,g=d.texture.getImage().height;switch(d.degrees){case 90:o-=(d.originalHeight-d.offsetY-d.height)/p,l-=(d.originalWidth-d.offsetX-d.width)/g,v=d.originalHeight/p,u=d.originalWidth/g;for(var x=0;x<r;x+=2)a[x]=o+s[x+1]*v,a[x+1]=l+(1-s[x])*u;return;case 180:o-=(d.originalWidth-d.offsetX-d.width)/p,l-=d.offsetY/g,v=d.originalWidth/p,u=d.originalHeight/g;for(var x=0;x<r;x+=2)a[x]=o+(1-s[x])*v,a[x+1]=l+(1-s[x+1])*u;return;case 270:o-=d.offsetY/p,l-=d.offsetX/g,v=d.originalHeight/p,u=d.originalWidth/g;for(var x=0;x<r;x+=2)a[x]=o+(1-s[x+1])*v,a[x+1]=l+s[x]*u;return}o-=d.offsetX/p,l-=(d.originalHeight-d.offsetY-d.height)/g,v=d.originalWidth/p,u=d.originalHeight/g}else this.region==null?(o=l=0,v=u=1):(v=this.region.u2-o,u=this.region.v2-l);for(var x=0;x<r;x+=2)a[x]=o+s[x]*v,a[x+1]=l+s[x+1]*u},c.prototype.getParentMesh=function(){return this.parentMesh},c.prototype.setParentMesh=function(s){this.parentMesh=s,s!=null&&(this.bones=s.bones,this.vertices=s.vertices,this.worldVerticesLength=s.worldVerticesLength,this.regionUVs=s.regionUVs,this.triangles=s.triangles,this.hullLength=s.hullLength,this.worldVerticesLength=s.worldVerticesLength)},c.prototype.copy=function(){if(this.parentMesh!=null)return this.newLinkedMesh();var s=new c(this.name);return s.region=this.region,s.path=this.path,s.color.setFromColor(this.color),this.copyTo(s),s.regionUVs=new Array(this.regionUVs.length),y.Utils.arrayCopy(this.regionUVs,0,s.regionUVs,0,this.regionUVs.length),s.uvs=new Array(this.uvs.length),y.Utils.arrayCopy(this.uvs,0,s.uvs,0,this.uvs.length),s.triangles=new Array(this.triangles.length),y.Utils.arrayCopy(this.triangles,0,s.triangles,0,this.triangles.length),s.hullLength=this.hullLength,this.edges!=null&&(s.edges=new Array(this.edges.length),y.Utils.arrayCopy(this.edges,0,s.edges,0,this.edges.length)),s.width=this.width,s.height=this.height,s},c.prototype.newLinkedMesh=function(){var s=new c(this.name);return s.region=this.region,s.path=this.path,s.color.setFromColor(this.color),s.deformAttachment=this.deformAttachment,s.setParentMesh(this.parentMesh!=null?this.parentMesh:this),s.updateUVs(),s},c}(y.VertexAttachment);y.MeshAttachment=e})(h||(h={}));var h;(function(y){var e=function(f){M(c,f);function c(s){var a=f.call(this,s)||this;return a.closed=!1,a.constantSpeed=!1,a.color=new y.Color(1,1,1,1),a}return c.prototype.copy=function(){var s=new c(this.name);return this.copyTo(s),s.lengths=new Array(this.lengths.length),y.Utils.arrayCopy(this.lengths,0,s.lengths,0,this.lengths.length),s.closed=closed,s.constantSpeed=this.constantSpeed,s.color.setFromColor(this.color),s},c}(y.VertexAttachment);y.PathAttachment=e})(h||(h={}));var h;(function(y){var e=function(f){M(c,f);function c(s){var a=f.call(this,s)||this;return a.color=new y.Color(.38,.94,0,1),a}return c.prototype.computeWorldPosition=function(s,a){return a.x=this.x*s.a+this.y*s.b+s.worldX,a.y=this.x*s.c+this.y*s.d+s.worldY,a},c.prototype.computeWorldRotation=function(s){var a=y.MathUtils.cosDeg(this.rotation),r=y.MathUtils.sinDeg(this.rotation),o=a*s.a+r*s.b,l=a*s.c+r*s.d;return Math.atan2(l,o)*y.MathUtils.radDeg},c.prototype.copy=function(){var s=new c(this.name);return s.x=this.x,s.y=this.y,s.rotation=this.rotation,s.color.setFromColor(this.color),s},c}(y.VertexAttachment);y.PointAttachment=e})(h||(h={}));var h;(function(y){var e=function(f){M(c,f);function c(s){var a=f.call(this,s)||this;return a.x=0,a.y=0,a.scaleX=1,a.scaleY=1,a.rotation=0,a.width=0,a.height=0,a.color=new y.Color(1,1,1,1),a.offset=y.Utils.newFloatArray(8),a.uvs=y.Utils.newFloatArray(8),a.tempColor=new y.Color(1,1,1,1),a}return c.prototype.updateOffset=function(){var s=this.width/this.region.originalWidth*this.scaleX,a=this.height/this.region.originalHeight*this.scaleY,r=-this.width/2*this.scaleX+this.region.offsetX*s,o=-this.height/2*this.scaleY+this.region.offsetY*a,l=r+this.region.width*s,v=o+this.region.height*a,u=this.rotation*Math.PI/180,d=Math.cos(u),p=Math.sin(u),g=r*d+this.x,x=r*p,T=o*d+this.y,S=o*p,P=l*d+this.x,E=l*p,R=v*d+this.y,A=v*p,w=this.offset;w[c.OX1]=g-S,w[c.OY1]=T+x,w[c.OX2]=g-A,w[c.OY2]=R+x,w[c.OX3]=P-A,w[c.OY3]=R+E,w[c.OX4]=P-S,w[c.OY4]=T+E},c.prototype.setRegion=function(s){this.region=s;var a=this.uvs;s.rotate?(a[2]=s.u,a[3]=s.v2,a[4]=s.u,a[5]=s.v,a[6]=s.u2,a[7]=s.v,a[0]=s.u2,a[1]=s.v2):(a[0]=s.u,a[1]=s.v2,a[2]=s.u,a[3]=s.v,a[4]=s.u2,a[5]=s.v,a[6]=s.u2,a[7]=s.v2)},c.prototype.computeWorldVertices=function(s,a,r,o){var l=this.offset,v=s.worldX,u=s.worldY,d=s.a,p=s.b,g=s.c,x=s.d,T=0,S=0;T=l[c.OX1],S=l[c.OY1],a[r]=T*d+S*p+v,a[r+1]=T*g+S*x+u,r+=o,T=l[c.OX2],S=l[c.OY2],a[r]=T*d+S*p+v,a[r+1]=T*g+S*x+u,r+=o,T=l[c.OX3],S=l[c.OY3],a[r]=T*d+S*p+v,a[r+1]=T*g+S*x+u,r+=o,T=l[c.OX4],S=l[c.OY4],a[r]=T*d+S*p+v,a[r+1]=T*g+S*x+u},c.prototype.copy=function(){var s=new c(this.name);return s.region=this.region,s.rendererObject=this.rendererObject,s.path=this.path,s.x=this.x,s.y=this.y,s.scaleX=this.scaleX,s.scaleY=this.scaleY,s.rotation=this.rotation,s.width=this.width,s.height=this.height,y.Utils.arrayCopy(this.uvs,0,s.uvs,0,8),y.Utils.arrayCopy(this.offset,0,s.offset,0,8),s.color.setFromColor(this.color),s},c.OX1=0,c.OY1=1,c.OX2=2,c.OY2=3,c.OX3=4,c.OY3=5,c.OX4=6,c.OY4=7,c.X1=0,c.Y1=1,c.C1R=2,c.C1G=3,c.C1B=4,c.C1A=5,c.U1=6,c.V1=7,c.X2=8,c.Y2=9,c.C2R=10,c.C2G=11,c.C2B=12,c.C2A=13,c.U2=14,c.V2=15,c.X3=16,c.Y3=17,c.C3R=18,c.C3G=19,c.C3B=20,c.C3A=21,c.U3=22,c.V3=23,c.X4=24,c.Y4=25,c.C4R=26,c.C4G=27,c.C4B=28,c.C4A=29,c.U4=30,c.V4=31,c}(y.Attachment);y.RegionAttachment=e})(h||(h={}));var h;(function(y){var e=function(){function f(c,s){this.jitterX=0,this.jitterY=0,this.jitterX=c,this.jitterY=s}return f.prototype.begin=function(c){},f.prototype.transform=function(c,s,a,r){c.x+=y.MathUtils.randomTriangular(-this.jitterX,this.jitterY),c.y+=y.MathUtils.randomTriangular(-this.jitterX,this.jitterY)},f.prototype.end=function(){},f}();y.JitterEffect=e})(h||(h={}));var h;(function(y){var e=function(){function f(c){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=c}return f.prototype.begin=function(c){this.worldX=c.x+this.centerX,this.worldY=c.y+this.centerY},f.prototype.transform=function(c,s,a,r){var o=this.angle*y.MathUtils.degreesToRadians,l=c.x-this.worldX,v=c.y-this.worldY,u=Math.sqrt(l*l+v*v);if(u<this.radius){var d=f.interpolation.apply(0,o,(this.radius-u)/this.radius),p=Math.cos(d),g=Math.sin(d);c.x=p*l-g*v+this.worldX,c.y=g*l+p*v+this.worldY}},f.prototype.end=function(){},f.interpolation=new y.PowOut(2),f}();y.SwirlEffect=e})(h||(h={}));var h;(function(y){(function(e){var f=function(c){M(s,c);function s(a){return a===void 0&&(a=""),c.call(this,function(r){return new y.canvas.CanvasTexture(r)},a)||this}return s}(y.AssetManager);e.AssetManager=f})(y.canvas||(y.canvas={}))})(h||(h={}));var h;(function(y){(function(e){var f=function(c){M(s,c);function s(a){return c.call(this,a)||this}return s.prototype.setFilters=function(a,r){},s.prototype.setWraps=function(a,r){},s.prototype.dispose=function(){},s}(y.Texture);e.CanvasTexture=f})(y.canvas||(y.canvas={}))})(h||(h={}));var h;(function(y){(function(e){var f=function(){function c(s){this.triangleRendering=!1,this.debugRendering=!1,this.vertices=y.Utils.newFloatArray(8192),this.tempColor=new y.Color,this.ctx=s}return c.prototype.draw=function(s){this.triangleRendering?this.drawTriangles(s):this.drawImages(s)},c.prototype.drawImages=function(s){var a=this.ctx,r=s.drawOrder;this.debugRendering&&(a.strokeStyle="green"),a.save();for(var o=0,l=r.length;o<l;o++){var v=r[o];if(v.bone.active){var u=v.getAttachment(),d=null,p=null,g=null;if(u instanceof y.RegionAttachment)d=u,p=d.region,g=p.texture.getImage();else continue;var x=v.bone.skeleton,T=x.color,S=v.color,P=d.color,E=T.a*S.a*P.a,R=this.tempColor;R.set(T.r*S.r*P.r,T.g*S.g*P.g,T.b*S.b*P.b,E);var A=u,w=v.bone,O=p.width,L=p.height;a.save(),a.transform(w.a,w.c,w.b,w.d,w.worldX,w.worldY),a.translate(u.offset[0],u.offset[1]),a.rotate(u.rotation*Math.PI/180);var F=A.width/O;if(a.scale(F*u.scaleX,F*u.scaleY),a.translate(O/2,L/2),u.region.rotate){var I=O;O=L,L=I,a.rotate(-Math.PI/2)}a.scale(1,-1),a.translate(-O/2,-L/2),a.globalAlpha=R.a,a.drawImage(g,p.x,p.y,O,L,0,0,O,L),this.debugRendering&&a.strokeRect(0,0,O,L),a.restore()}}a.restore()},c.prototype.drawTriangles=function(s){for(var a=this.vertices,r=null,o=s.drawOrder,l=0,v=o.length;l<v;l++){var u=o[l],d=u.getAttachment(),p=null,g=null;if(d instanceof y.RegionAttachment){var x=d;a=this.computeRegionVertices(u,x,!1),r=c.QUAD_TRIANGLES,g=x.region,p=g.texture.getImage()}else if(d instanceof y.MeshAttachment){var T=d;a=this.computeMeshVertices(u,T,!1),r=T.triangles,p=T.region.renderObject.texture.getImage()}else continue;if(p!=null){u.data.blendMode;var S=u.bone.skeleton,P=S.color,E=u.color,R=d.color,A=P.a*E.a*R.a,w=this.tempColor;w.set(P.r*E.r*R.r,P.g*E.g*R.g,P.b*E.b*R.b,A);var O=this.ctx;O.globalAlpha=w.a;for(var L=0;L<r.length;L+=3){var F=r[L]*8,I=r[L+1]*8,b=r[L+2]*8,G=a[F],N=a[F+1],U=a[F+6],Y=a[F+7],X=a[I],B=a[I+1],z=a[I+6],D=a[I+7],V=a[b],k=a[b+1],W=a[b+6],H=a[b+7];this.drawTriangle(p,G,N,U,Y,X,B,z,D,V,k,W,H),this.debugRendering&&(O.strokeStyle="green",O.beginPath(),O.moveTo(G,N),O.lineTo(X,B),O.lineTo(V,k),O.lineTo(G,N),O.stroke())}}}this.ctx.globalAlpha=1},c.prototype.drawTriangle=function(s,a,r,o,l,v,u,d,p,g,x,T,S){var P=this.ctx;o*=s.width,l*=s.height,d*=s.width,p*=s.height,T*=s.width,S*=s.height,P.beginPath(),P.moveTo(a,r),P.lineTo(v,u),P.lineTo(g,x),P.closePath(),v-=a,u-=r,g-=a,x-=r,d-=o,p-=l,T-=o,S-=l;var E=1/(d*S-T*p),R=(S*v-p*g)*E,A=(S*u-p*x)*E,w=(d*g-T*v)*E,O=(d*x-T*u)*E,L=a-R*o-w*l,F=r-A*o-O*l;P.save(),P.transform(R,A,w,O,L,F),P.clip(),P.drawImage(s,0,0),P.restore()},c.prototype.computeRegionVertices=function(s,a,r){var o=s.bone.skeleton,l=o.color,v=s.color,u=a.color,d=l.a*v.a*u.a,p=r?d:1,g=this.tempColor;g.set(l.r*v.r*u.r*p,l.g*v.g*u.g*p,l.b*v.b*u.b*p,d),a.computeWorldVertices(s.bone,this.vertices,0,c.VERTEX_SIZE);var x=this.vertices,T=a.uvs;return x[y.RegionAttachment.C1R]=g.r,x[y.RegionAttachment.C1G]=g.g,x[y.RegionAttachment.C1B]=g.b,x[y.RegionAttachment.C1A]=g.a,x[y.RegionAttachment.U1]=T[0],x[y.RegionAttachment.V1]=T[1],x[y.RegionAttachment.C2R]=g.r,x[y.RegionAttachment.C2G]=g.g,x[y.RegionAttachment.C2B]=g.b,x[y.RegionAttachment.C2A]=g.a,x[y.RegionAttachment.U2]=T[2],x[y.RegionAttachment.V2]=T[3],x[y.RegionAttachment.C3R]=g.r,x[y.RegionAttachment.C3G]=g.g,x[y.RegionAttachment.C3B]=g.b,x[y.RegionAttachment.C3A]=g.a,x[y.RegionAttachment.U3]=T[4],x[y.RegionAttachment.V3]=T[5],x[y.RegionAttachment.C4R]=g.r,x[y.RegionAttachment.C4G]=g.g,x[y.RegionAttachment.C4B]=g.b,x[y.RegionAttachment.C4A]=g.a,x[y.RegionAttachment.U4]=T[6],x[y.RegionAttachment.V4]=T[7],x},c.prototype.computeMeshVertices=function(s,a,r){var o=s.bone.skeleton,l=o.color,v=s.color,u=a.color,d=l.a*v.a*u.a,p=r?d:1,g=this.tempColor;g.set(l.r*v.r*u.r*p,l.g*v.g*u.g*p,l.b*v.b*u.b*p,d);var x=a.worldVerticesLength/2;this.vertices.length<a.worldVerticesLength&&(this.vertices=y.Utils.newFloatArray(a.worldVerticesLength));var T=this.vertices;a.computeWorldVertices(s,0,a.worldVerticesLength,T,0,c.VERTEX_SIZE);for(var S=a.uvs,P=0,E=x,R=0,A=2;P<E;P++)T[A++]=g.r,T[A++]=g.g,T[A++]=g.b,T[A++]=g.a,T[A++]=S[R++],T[A++]=S[R++],A+=2;return T},c.QUAD_TRIANGLES=[0,1,2,2,3,0],c.VERTEX_SIZE=8,c}();e.SkeletonRenderer=f})(y.canvas||(y.canvas={}))})(h||(h={}));var h;(function(y){(function(e){var f=function(c){M(s,c);function s(a,r){return r===void 0&&(r=""),c.call(this,function(o){return new y.webgl.GLTexture(a,o)},r)||this}return s}(y.AssetManager);e.AssetManager=f})(y.webgl||(y.webgl={}))})(h||(h={}));var h;(function(y){(function(e){var f=function(){function c(s,a){this.position=new e.Vector3(0,0,0),this.direction=new e.Vector3(0,0,-1),this.up=new e.Vector3(0,1,0),this.near=0,this.far=100,this.zoom=1,this.viewportWidth=0,this.viewportHeight=0,this.projectionView=new e.Matrix4,this.inverseProjectionView=new e.Matrix4,this.projection=new e.Matrix4,this.view=new e.Matrix4,this.tmp=new e.Vector3,this.viewportWidth=s,this.viewportHeight=a,this.update()}return c.prototype.update=function(){var s=this.projection,a=this.view,r=this.projectionView,o=this.inverseProjectionView,l=this.zoom,v=this.viewportWidth,u=this.viewportHeight;s.ortho(l*(-v/2),l*(v/2),l*(-u/2),l*(u/2),this.near,this.far),a.lookAt(this.position,this.direction,this.up),r.set(s.values),r.multiply(a),o.set(r.values).invert()},c.prototype.screenToWorld=function(s,a,r){var o=s.x,l=r-s.y-1,v=this.tmp;return v.x=2*o/a-1,v.y=2*l/r-1,v.z=2*s.z-1,v.project(this.inverseProjectionView),s.set(v.x,v.y,v.z),s},c.prototype.setViewport=function(s,a){this.viewportWidth=s,this.viewportHeight=a},c}();e.OrthoCamera=f})(y.webgl||(y.webgl={}))})(h||(h={}));var h;(function(y){(function(e){var f=function(c){M(s,c);function s(a,r,o){o===void 0&&(o=!1);var l=c.call(this,r)||this;return l.texture=null,l.boundUnit=0,l.useMipMaps=!1,l.context=a instanceof e.ManagedWebGLRenderingContext?a:new e.ManagedWebGLRenderingContext(a),l.useMipMaps=o,l.restore(),l.context.addRestorable(l),l}return s.prototype.setFilters=function(a,r){var o=this.context.gl;this.bind(),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,a),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,s.validateMagFilter(r))},s.validateMagFilter=function(a){switch(a){case y.TextureFilter.MipMap:case y.TextureFilter.MipMapLinearLinear:case y.TextureFilter.MipMapLinearNearest:case y.TextureFilter.MipMapNearestLinear:case y.TextureFilter.MipMapNearestNearest:return y.TextureFilter.Linear;default:return a}},s.prototype.setWraps=function(a,r){var o=this.context.gl;this.bind(),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,a),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,r)},s.prototype.update=function(a){var r=this.context.gl;this.texture||(this.texture=this.context.gl.createTexture()),this.bind(),s.DISABLE_UNPACK_PREMULTIPLIED_ALPHA_WEBGL&&r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,this._image),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,a?r.LINEAR_MIPMAP_LINEAR:r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),a&&r.generateMipmap(r.TEXTURE_2D)},s.prototype.restore=function(){this.texture=null,this.update(this.useMipMaps)},s.prototype.bind=function(a){a===void 0&&(a=0);var r=this.context.gl;this.boundUnit=a,r.activeTexture(r.TEXTURE0+a),r.bindTexture(r.TEXTURE_2D,this.texture)},s.prototype.unbind=function(){var a=this.context.gl;a.activeTexture(a.TEXTURE0+this.boundUnit),a.bindTexture(a.TEXTURE_2D,null)},s.prototype.dispose=function(){this.context.removeRestorable(this);var a=this.context.gl;a.deleteTexture(this.texture)},s.DISABLE_UNPACK_PREMULTIPLIED_ALPHA_WEBGL=!1,s}(y.Texture);e.GLTexture=f})(y.webgl||(y.webgl={}))})(h||(h={}));var h;(function(y){(function(e){e.M00=0,e.M01=4,e.M02=8,e.M03=12,e.M10=1,e.M11=5,e.M12=9,e.M13=13,e.M20=2,e.M21=6,e.M22=10,e.M23=14,e.M30=3,e.M31=7,e.M32=11,e.M33=15;var f=function(){function c(){this.temp=new Float32Array(16),this.values=new Float32Array(16);var s=this.values;s[e.M00]=1,s[e.M11]=1,s[e.M22]=1,s[e.M33]=1}return c.prototype.set=function(s){return this.values.set(s),this},c.prototype.transpose=function(){var s=this.temp,a=this.values;return s[e.M00]=a[e.M00],s[e.M01]=a[e.M10],s[e.M02]=a[e.M20],s[e.M03]=a[e.M30],s[e.M10]=a[e.M01],s[e.M11]=a[e.M11],s[e.M12]=a[e.M21],s[e.M13]=a[e.M31],s[e.M20]=a[e.M02],s[e.M21]=a[e.M12],s[e.M22]=a[e.M22],s[e.M23]=a[e.M32],s[e.M30]=a[e.M03],s[e.M31]=a[e.M13],s[e.M32]=a[e.M23],s[e.M33]=a[e.M33],this.set(s)},c.prototype.identity=function(){var s=this.values;return s[e.M00]=1,s[e.M01]=0,s[e.M02]=0,s[e.M03]=0,s[e.M10]=0,s[e.M11]=1,s[e.M12]=0,s[e.M13]=0,s[e.M20]=0,s[e.M21]=0,s[e.M22]=1,s[e.M23]=0,s[e.M30]=0,s[e.M31]=0,s[e.M32]=0,s[e.M33]=1,this},c.prototype.invert=function(){var s=this.values,a=this.temp,r=s[e.M30]*s[e.M21]*s[e.M12]*s[e.M03]-s[e.M20]*s[e.M31]*s[e.M12]*s[e.M03]-s[e.M30]*s[e.M11]*s[e.M22]*s[e.M03]+s[e.M10]*s[e.M31]*s[e.M22]*s[e.M03]+s[e.M20]*s[e.M11]*s[e.M32]*s[e.M03]-s[e.M10]*s[e.M21]*s[e.M32]*s[e.M03]-s[e.M30]*s[e.M21]*s[e.M02]*s[e.M13]+s[e.M20]*s[e.M31]*s[e.M02]*s[e.M13]+s[e.M30]*s[e.M01]*s[e.M22]*s[e.M13]-s[e.M00]*s[e.M31]*s[e.M22]*s[e.M13]-s[e.M20]*s[e.M01]*s[e.M32]*s[e.M13]+s[e.M00]*s[e.M21]*s[e.M32]*s[e.M13]+s[e.M30]*s[e.M11]*s[e.M02]*s[e.M23]-s[e.M10]*s[e.M31]*s[e.M02]*s[e.M23]-s[e.M30]*s[e.M01]*s[e.M12]*s[e.M23]+s[e.M00]*s[e.M31]*s[e.M12]*s[e.M23]+s[e.M10]*s[e.M01]*s[e.M32]*s[e.M23]-s[e.M00]*s[e.M11]*s[e.M32]*s[e.M23]-s[e.M20]*s[e.M11]*s[e.M02]*s[e.M33]+s[e.M10]*s[e.M21]*s[e.M02]*s[e.M33]+s[e.M20]*s[e.M01]*s[e.M12]*s[e.M33]-s[e.M00]*s[e.M21]*s[e.M12]*s[e.M33]-s[e.M10]*s[e.M01]*s[e.M22]*s[e.M33]+s[e.M00]*s[e.M11]*s[e.M22]*s[e.M33];if(r==0)throw new Error("non-invertible matrix");var o=1/r;return a[e.M00]=s[e.M12]*s[e.M23]*s[e.M31]-s[e.M13]*s[e.M22]*s[e.M31]+s[e.M13]*s[e.M21]*s[e.M32]-s[e.M11]*s[e.M23]*s[e.M32]-s[e.M12]*s[e.M21]*s[e.M33]+s[e.M11]*s[e.M22]*s[e.M33],a[e.M01]=s[e.M03]*s[e.M22]*s[e.M31]-s[e.M02]*s[e.M23]*s[e.M31]-s[e.M03]*s[e.M21]*s[e.M32]+s[e.M01]*s[e.M23]*s[e.M32]+s[e.M02]*s[e.M21]*s[e.M33]-s[e.M01]*s[e.M22]*s[e.M33],a[e.M02]=s[e.M02]*s[e.M13]*s[e.M31]-s[e.M03]*s[e.M12]*s[e.M31]+s[e.M03]*s[e.M11]*s[e.M32]-s[e.M01]*s[e.M13]*s[e.M32]-s[e.M02]*s[e.M11]*s[e.M33]+s[e.M01]*s[e.M12]*s[e.M33],a[e.M03]=s[e.M03]*s[e.M12]*s[e.M21]-s[e.M02]*s[e.M13]*s[e.M21]-s[e.M03]*s[e.M11]*s[e.M22]+s[e.M01]*s[e.M13]*s[e.M22]+s[e.M02]*s[e.M11]*s[e.M23]-s[e.M01]*s[e.M12]*s[e.M23],a[e.M10]=s[e.M13]*s[e.M22]*s[e.M30]-s[e.M12]*s[e.M23]*s[e.M30]-s[e.M13]*s[e.M20]*s[e.M32]+s[e.M10]*s[e.M23]*s[e.M32]+s[e.M12]*s[e.M20]*s[e.M33]-s[e.M10]*s[e.M22]*s[e.M33],a[e.M11]=s[e.M02]*s[e.M23]*s[e.M30]-s[e.M03]*s[e.M22]*s[e.M30]+s[e.M03]*s[e.M20]*s[e.M32]-s[e.M00]*s[e.M23]*s[e.M32]-s[e.M02]*s[e.M20]*s[e.M33]+s[e.M00]*s[e.M22]*s[e.M33],a[e.M12]=s[e.M03]*s[e.M12]*s[e.M30]-s[e.M02]*s[e.M13]*s[e.M30]-s[e.M03]*s[e.M10]*s[e.M32]+s[e.M00]*s[e.M13]*s[e.M32]+s[e.M02]*s[e.M10]*s[e.M33]-s[e.M00]*s[e.M12]*s[e.M33],a[e.M13]=s[e.M02]*s[e.M13]*s[e.M20]-s[e.M03]*s[e.M12]*s[e.M20]+s[e.M03]*s[e.M10]*s[e.M22]-s[e.M00]*s[e.M13]*s[e.M22]-s[e.M02]*s[e.M10]*s[e.M23]+s[e.M00]*s[e.M12]*s[e.M23],a[e.M20]=s[e.M11]*s[e.M23]*s[e.M30]-s[e.M13]*s[e.M21]*s[e.M30]+s[e.M13]*s[e.M20]*s[e.M31]-s[e.M10]*s[e.M23]*s[e.M31]-s[e.M11]*s[e.M20]*s[e.M33]+s[e.M10]*s[e.M21]*s[e.M33],a[e.M21]=s[e.M03]*s[e.M21]*s[e.M30]-s[e.M01]*s[e.M23]*s[e.M30]-s[e.M03]*s[e.M20]*s[e.M31]+s[e.M00]*s[e.M23]*s[e.M31]+s[e.M01]*s[e.M20]*s[e.M33]-s[e.M00]*s[e.M21]*s[e.M33],a[e.M22]=s[e.M01]*s[e.M13]*s[e.M30]-s[e.M03]*s[e.M11]*s[e.M30]+s[e.M03]*s[e.M10]*s[e.M31]-s[e.M00]*s[e.M13]*s[e.M31]-s[e.M01]*s[e.M10]*s[e.M33]+s[e.M00]*s[e.M11]*s[e.M33],a[e.M23]=s[e.M03]*s[e.M11]*s[e.M20]-s[e.M01]*s[e.M13]*s[e.M20]-s[e.M03]*s[e.M10]*s[e.M21]+s[e.M00]*s[e.M13]*s[e.M21]+s[e.M01]*s[e.M10]*s[e.M23]-s[e.M00]*s[e.M11]*s[e.M23],a[e.M30]=s[e.M12]*s[e.M21]*s[e.M30]-s[e.M11]*s[e.M22]*s[e.M30]-s[e.M12]*s[e.M20]*s[e.M31]+s[e.M10]*s[e.M22]*s[e.M31]+s[e.M11]*s[e.M20]*s[e.M32]-s[e.M10]*s[e.M21]*s[e.M32],a[e.M31]=s[e.M01]*s[e.M22]*s[e.M30]-s[e.M02]*s[e.M21]*s[e.M30]+s[e.M02]*s[e.M20]*s[e.M31]-s[e.M00]*s[e.M22]*s[e.M31]-s[e.M01]*s[e.M20]*s[e.M32]+s[e.M00]*s[e.M21]*s[e.M32],a[e.M32]=s[e.M02]*s[e.M11]*s[e.M30]-s[e.M01]*s[e.M12]*s[e.M30]-s[e.M02]*s[e.M10]*s[e.M31]+s[e.M00]*s[e.M12]*s[e.M31]+s[e.M01]*s[e.M10]*s[e.M32]-s[e.M00]*s[e.M11]*s[e.M32],a[e.M33]=s[e.M01]*s[e.M12]*s[e.M20]-s[e.M02]*s[e.M11]*s[e.M20]+s[e.M02]*s[e.M10]*s[e.M21]-s[e.M00]*s[e.M12]*s[e.M21]-s[e.M01]*s[e.M10]*s[e.M22]+s[e.M00]*s[e.M11]*s[e.M22],s[e.M00]=a[e.M00]*o,s[e.M01]=a[e.M01]*o,s[e.M02]=a[e.M02]*o,s[e.M03]=a[e.M03]*o,s[e.M10]=a[e.M10]*o,s[e.M11]=a[e.M11]*o,s[e.M12]=a[e.M12]*o,s[e.M13]=a[e.M13]*o,s[e.M20]=a[e.M20]*o,s[e.M21]=a[e.M21]*o,s[e.M22]=a[e.M22]*o,s[e.M23]=a[e.M23]*o,s[e.M30]=a[e.M30]*o,s[e.M31]=a[e.M31]*o,s[e.M32]=a[e.M32]*o,s[e.M33]=a[e.M33]*o,this},c.prototype.determinant=function(){var s=this.values;return s[e.M30]*s[e.M21]*s[e.M12]*s[e.M03]-s[e.M20]*s[e.M31]*s[e.M12]*s[e.M03]-s[e.M30]*s[e.M11]*s[e.M22]*s[e.M03]+s[e.M10]*s[e.M31]*s[e.M22]*s[e.M03]+s[e.M20]*s[e.M11]*s[e.M32]*s[e.M03]-s[e.M10]*s[e.M21]*s[e.M32]*s[e.M03]-s[e.M30]*s[e.M21]*s[e.M02]*s[e.M13]+s[e.M20]*s[e.M31]*s[e.M02]*s[e.M13]+s[e.M30]*s[e.M01]*s[e.M22]*s[e.M13]-s[e.M00]*s[e.M31]*s[e.M22]*s[e.M13]-s[e.M20]*s[e.M01]*s[e.M32]*s[e.M13]+s[e.M00]*s[e.M21]*s[e.M32]*s[e.M13]+s[e.M30]*s[e.M11]*s[e.M02]*s[e.M23]-s[e.M10]*s[e.M31]*s[e.M02]*s[e.M23]-s[e.M30]*s[e.M01]*s[e.M12]*s[e.M23]+s[e.M00]*s[e.M31]*s[e.M12]*s[e.M23]+s[e.M10]*s[e.M01]*s[e.M32]*s[e.M23]-s[e.M00]*s[e.M11]*s[e.M32]*s[e.M23]-s[e.M20]*s[e.M11]*s[e.M02]*s[e.M33]+s[e.M10]*s[e.M21]*s[e.M02]*s[e.M33]+s[e.M20]*s[e.M01]*s[e.M12]*s[e.M33]-s[e.M00]*s[e.M21]*s[e.M12]*s[e.M33]-s[e.M10]*s[e.M01]*s[e.M22]*s[e.M33]+s[e.M00]*s[e.M11]*s[e.M22]*s[e.M33]},c.prototype.translate=function(s,a,r){var o=this.values;return o[e.M03]+=s,o[e.M13]+=a,o[e.M23]+=r,this},c.prototype.copy=function(){return new c().set(this.values)},c.prototype.projection=function(s,a,r,o){this.identity();var l=1/Math.tan(r*(Math.PI/180)/2),v=(a+s)/(s-a),u=2*a*s/(s-a),d=this.values;return d[e.M00]=l/o,d[e.M10]=0,d[e.M20]=0,d[e.M30]=0,d[e.M01]=0,d[e.M11]=l,d[e.M21]=0,d[e.M31]=0,d[e.M02]=0,d[e.M12]=0,d[e.M22]=v,d[e.M32]=-1,d[e.M03]=0,d[e.M13]=0,d[e.M23]=u,d[e.M33]=0,this},c.prototype.ortho2d=function(s,a,r,o){return this.ortho(s,s+r,a,a+o,0,1)},c.prototype.ortho=function(s,a,r,o,l,v){this.identity();var u=2/(a-s),d=2/(o-r),p=-2/(v-l),g=-(a+s)/(a-s),x=-(o+r)/(o-r),T=-(v+l)/(v-l),S=this.values;return S[e.M00]=u,S[e.M10]=0,S[e.M20]=0,S[e.M30]=0,S[e.M01]=0,S[e.M11]=d,S[e.M21]=0,S[e.M31]=0,S[e.M02]=0,S[e.M12]=0,S[e.M22]=p,S[e.M32]=0,S[e.M03]=g,S[e.M13]=x,S[e.M23]=T,S[e.M33]=1,this},c.prototype.multiply=function(s){var a=this.temp,r=this.values,o=s.values;return a[e.M00]=r[e.M00]*o[e.M00]+r[e.M01]*o[e.M10]+r[e.M02]*o[e.M20]+r[e.M03]*o[e.M30],a[e.M01]=r[e.M00]*o[e.M01]+r[e.M01]*o[e.M11]+r[e.M02]*o[e.M21]+r[e.M03]*o[e.M31],a[e.M02]=r[e.M00]*o[e.M02]+r[e.M01]*o[e.M12]+r[e.M02]*o[e.M22]+r[e.M03]*o[e.M32],a[e.M03]=r[e.M00]*o[e.M03]+r[e.M01]*o[e.M13]+r[e.M02]*o[e.M23]+r[e.M03]*o[e.M33],a[e.M10]=r[e.M10]*o[e.M00]+r[e.M11]*o[e.M10]+r[e.M12]*o[e.M20]+r[e.M13]*o[e.M30],a[e.M11]=r[e.M10]*o[e.M01]+r[e.M11]*o[e.M11]+r[e.M12]*o[e.M21]+r[e.M13]*o[e.M31],a[e.M12]=r[e.M10]*o[e.M02]+r[e.M11]*o[e.M12]+r[e.M12]*o[e.M22]+r[e.M13]*o[e.M32],a[e.M13]=r[e.M10]*o[e.M03]+r[e.M11]*o[e.M13]+r[e.M12]*o[e.M23]+r[e.M13]*o[e.M33],a[e.M20]=r[e.M20]*o[e.M00]+r[e.M21]*o[e.M10]+r[e.M22]*o[e.M20]+r[e.M23]*o[e.M30],a[e.M21]=r[e.M20]*o[e.M01]+r[e.M21]*o[e.M11]+r[e.M22]*o[e.M21]+r[e.M23]*o[e.M31],a[e.M22]=r[e.M20]*o[e.M02]+r[e.M21]*o[e.M12]+r[e.M22]*o[e.M22]+r[e.M23]*o[e.M32],a[e.M23]=r[e.M20]*o[e.M03]+r[e.M21]*o[e.M13]+r[e.M22]*o[e.M23]+r[e.M23]*o[e.M33],a[e.M30]=r[e.M30]*o[e.M00]+r[e.M31]*o[e.M10]+r[e.M32]*o[e.M20]+r[e.M33]*o[e.M30],a[e.M31]=r[e.M30]*o[e.M01]+r[e.M31]*o[e.M11]+r[e.M32]*o[e.M21]+r[e.M33]*o[e.M31],a[e.M32]=r[e.M30]*o[e.M02]+r[e.M31]*o[e.M12]+r[e.M32]*o[e.M22]+r[e.M33]*o[e.M32],a[e.M33]=r[e.M30]*o[e.M03]+r[e.M31]*o[e.M13]+r[e.M32]*o[e.M23]+r[e.M33]*o[e.M33],this.set(this.temp)},c.prototype.multiplyLeft=function(s){var a=this.temp,r=this.values,o=s.values;return a[e.M00]=o[e.M00]*r[e.M00]+o[e.M01]*r[e.M10]+o[e.M02]*r[e.M20]+o[e.M03]*r[e.M30],a[e.M01]=o[e.M00]*r[e.M01]+o[e.M01]*r[e.M11]+o[e.M02]*r[e.M21]+o[e.M03]*r[e.M31],a[e.M02]=o[e.M00]*r[e.M02]+o[e.M01]*r[e.M12]+o[e.M02]*r[e.M22]+o[e.M03]*r[e.M32],a[e.M03]=o[e.M00]*r[e.M03]+o[e.M01]*r[e.M13]+o[e.M02]*r[e.M23]+o[e.M03]*r[e.M33],a[e.M10]=o[e.M10]*r[e.M00]+o[e.M11]*r[e.M10]+o[e.M12]*r[e.M20]+o[e.M13]*r[e.M30],a[e.M11]=o[e.M10]*r[e.M01]+o[e.M11]*r[e.M11]+o[e.M12]*r[e.M21]+o[e.M13]*r[e.M31],a[e.M12]=o[e.M10]*r[e.M02]+o[e.M11]*r[e.M12]+o[e.M12]*r[e.M22]+o[e.M13]*r[e.M32],a[e.M13]=o[e.M10]*r[e.M03]+o[e.M11]*r[e.M13]+o[e.M12]*r[e.M23]+o[e.M13]*r[e.M33],a[e.M20]=o[e.M20]*r[e.M00]+o[e.M21]*r[e.M10]+o[e.M22]*r[e.M20]+o[e.M23]*r[e.M30],a[e.M21]=o[e.M20]*r[e.M01]+o[e.M21]*r[e.M11]+o[e.M22]*r[e.M21]+o[e.M23]*r[e.M31],a[e.M22]=o[e.M20]*r[e.M02]+o[e.M21]*r[e.M12]+o[e.M22]*r[e.M22]+o[e.M23]*r[e.M32],a[e.M23]=o[e.M20]*r[e.M03]+o[e.M21]*r[e.M13]+o[e.M22]*r[e.M23]+o[e.M23]*r[e.M33],a[e.M30]=o[e.M30]*r[e.M00]+o[e.M31]*r[e.M10]+o[e.M32]*r[e.M20]+o[e.M33]*r[e.M30],a[e.M31]=o[e.M30]*r[e.M01]+o[e.M31]*r[e.M11]+o[e.M32]*r[e.M21]+o[e.M33]*r[e.M31],a[e.M32]=o[e.M30]*r[e.M02]+o[e.M31]*r[e.M12]+o[e.M32]*r[e.M22]+o[e.M33]*r[e.M32],a[e.M33]=o[e.M30]*r[e.M03]+o[e.M31]*r[e.M13]+o[e.M32]*r[e.M23]+o[e.M33]*r[e.M33],this.set(this.temp)},c.prototype.lookAt=function(s,a,r){c.initTemps();var o=c.xAxis,l=c.yAxis,v=c.zAxis;v.setFrom(a).normalize(),o.setFrom(a).normalize(),o.cross(r).normalize(),l.setFrom(o).cross(v).normalize(),this.identity();var u=this.values;return u[e.M00]=o.x,u[e.M01]=o.y,u[e.M02]=o.z,u[e.M10]=l.x,u[e.M11]=l.y,u[e.M12]=l.z,u[e.M20]=-v.x,u[e.M21]=-v.y,u[e.M22]=-v.z,c.tmpMatrix.identity(),c.tmpMatrix.values[e.M03]=-s.x,c.tmpMatrix.values[e.M13]=-s.y,c.tmpMatrix.values[e.M23]=-s.z,this.multiply(c.tmpMatrix),this},c.initTemps=function(){c.xAxis===null&&(c.xAxis=new e.Vector3),c.yAxis===null&&(c.yAxis=new e.Vector3),c.zAxis===null&&(c.zAxis=new e.Vector3)},c.xAxis=null,c.yAxis=null,c.zAxis=null,c.tmpMatrix=new c,c}();e.Matrix4=f})(y.webgl||(y.webgl={}))})(h||(h={}));var h;(function(y){(function(e){var f=function(){function u(d,p,g,x){this.attributes=p,this.verticesLength=0,this.dirtyVertices=!1,this.indicesLength=0,this.dirtyIndices=!1,this.elementsPerVertex=0,this.context=d instanceof e.ManagedWebGLRenderingContext?d:new e.ManagedWebGLRenderingContext(d),this.elementsPerVertex=0;for(var T=0;T<p.length;T++)this.elementsPerVertex+=p[T].numElements;this.vertices=new Float32Array(g*this.elementsPerVertex),this.indices=new Uint16Array(x),this.context.addRestorable(this)}return u.prototype.getAttributes=function(){return this.attributes},u.prototype.maxVertices=function(){return this.vertices.length/this.elementsPerVertex},u.prototype.numVertices=function(){return this.verticesLength/this.elementsPerVertex},u.prototype.setVerticesLength=function(d){this.dirtyVertices=!0,this.verticesLength=d},u.prototype.getVertices=function(){return this.vertices},u.prototype.maxIndices=function(){return this.indices.length},u.prototype.numIndices=function(){return this.indicesLength},u.prototype.setIndicesLength=function(d){this.dirtyIndices=!0,this.indicesLength=d},u.prototype.getIndices=function(){return this.indices},u.prototype.getVertexSizeInFloats=function(){for(var d=0,p=0;p<this.attributes.length;p++){var g=this.attributes[p];d+=g.numElements}return d},u.prototype.setVertices=function(d){if(this.dirtyVertices=!0,d.length>this.vertices.length)throw Error("Mesh can't store more than "+this.maxVertices()+" vertices");this.vertices.set(d,0),this.verticesLength=d.length},u.prototype.setIndices=function(d){if(this.dirtyIndices=!0,d.length>this.indices.length)throw Error("Mesh can't store more than "+this.maxIndices()+" indices");this.indices.set(d,0),this.indicesLength=d.length},u.prototype.draw=function(d,p){this.drawWithOffset(d,p,0,this.indicesLength>0?this.indicesLength:this.verticesLength/this.elementsPerVertex)},u.prototype.drawWithOffset=function(d,p,g,x){var T=this.context.gl;(this.dirtyVertices||this.dirtyIndices)&&this.update(),this.bind(d),this.indicesLength>0?T.drawElements(p,x,T.UNSIGNED_SHORT,g*2):T.drawArrays(p,g,x),this.unbind(d)},u.prototype.bind=function(d){var p=this.context.gl;p.bindBuffer(p.ARRAY_BUFFER,this.verticesBuffer);for(var g=0,x=0;x<this.attributes.length;x++){var T=this.attributes[x],S=d.getAttributeLocation(T.name);p.enableVertexAttribArray(S),p.vertexAttribPointer(S,T.numElements,p.FLOAT,!1,this.elementsPerVertex*4,g*4),g+=T.numElements}this.indicesLength>0&&p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,this.indicesBuffer)},u.prototype.unbind=function(d){for(var p=this.context.gl,g=0;g<this.attributes.length;g++){var x=this.attributes[g],T=d.getAttributeLocation(x.name);p.disableVertexAttribArray(T)}p.bindBuffer(p.ARRAY_BUFFER,null),this.indicesLength>0&&p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,null)},u.prototype.update=function(){var d=this.context.gl;this.dirtyVertices&&(this.verticesBuffer||(this.verticesBuffer=d.createBuffer()),d.bindBuffer(d.ARRAY_BUFFER,this.verticesBuffer),d.bufferData(d.ARRAY_BUFFER,this.vertices.subarray(0,this.verticesLength),d.DYNAMIC_DRAW),this.dirtyVertices=!1),this.dirtyIndices&&(this.indicesBuffer||(this.indicesBuffer=d.createBuffer()),d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),d.bufferData(d.ELEMENT_ARRAY_BUFFER,this.indices.subarray(0,this.indicesLength),d.DYNAMIC_DRAW),this.dirtyIndices=!1)},u.prototype.restore=function(){this.verticesBuffer=null,this.indicesBuffer=null,this.update()},u.prototype.dispose=function(){this.context.removeRestorable(this);var d=this.context.gl;d.deleteBuffer(this.verticesBuffer),d.deleteBuffer(this.indicesBuffer)},u}();e.Mesh=f;var c=function(){function u(d,p,g){this.name=d,this.type=p,this.numElements=g}return u}();e.VertexAttribute=c;var s=function(u){M(d,u);function d(){return u.call(this,e.Shader.POSITION,v.Float,2)||this}return d}(c);e.Position2Attribute=s;var a=function(u){M(d,u);function d(){return u.call(this,e.Shader.POSITION,v.Float,3)||this}return d}(c);e.Position3Attribute=a;var r=function(u){M(d,u);function d(p){return p===void 0&&(p=0),u.call(this,e.Shader.TEXCOORDS+(p==0?"":p),v.Float,2)||this}return d}(c);e.TexCoordAttribute=r;var o=function(u){M(d,u);function d(){return u.call(this,e.Shader.COLOR,v.Float,4)||this}return d}(c);e.ColorAttribute=o;var l=function(u){M(d,u);function d(){return u.call(this,e.Shader.COLOR2,v.Float,4)||this}return d}(c);e.Color2Attribute=l;var v;(function(u){u[u.Float=0]="Float"})(v=e.VertexAttributeType||(e.VertexAttributeType={}))})(y.webgl||(y.webgl={}))})(h||(h={}));var h;(function(y){(function(e){var f=function(){function c(s,a,r){if(a===void 0&&(a=!0),r===void 0&&(r=10920),this.isDrawing=!1,this.shader=null,this.lastTexture=null,this.verticesLength=0,this.indicesLength=0,r>10920)throw new Error("Can't have more than 10920 triangles per batch: "+r);this.context=s instanceof e.ManagedWebGLRenderingContext?s:new e.ManagedWebGLRenderingContext(s);var o=a?[new e.Position2Attribute,new e.ColorAttribute,new e.TexCoordAttribute,new e.Color2Attribute]:[new e.Position2Attribute,new e.ColorAttribute,new e.TexCoordAttribute];this.mesh=new e.Mesh(s,o,r,r*3),this.srcBlend=this.context.gl.SRC_ALPHA,this.dstBlend=this.context.gl.ONE_MINUS_SRC_ALPHA}return c.prototype.begin=function(s){var a=this.context.gl;if(this.isDrawing)throw new Error("PolygonBatch is already drawing. Call PolygonBatch.end() before calling PolygonBatch.begin()");this.drawCalls=0,this.shader=s,this.lastTexture=null,this.isDrawing=!0,a.enable(a.BLEND),a.blendFunc(this.srcBlend,this.dstBlend)},c.prototype.setBlendMode=function(s,a){var r=this.context.gl;this.srcBlend=s,this.dstBlend=a,this.isDrawing&&(this.flush(),r.blendFunc(this.srcBlend,this.dstBlend))},c.prototype.draw=function(s,a,r){s!=this.lastTexture?(this.flush(),this.lastTexture=s):(this.verticesLength+a.length>this.mesh.getVertices().length||this.indicesLength+r.length>this.mesh.getIndices().length)&&this.flush();var o=this.mesh.numVertices();this.mesh.getVertices().set(a,this.verticesLength),this.verticesLength+=a.length,this.mesh.setVerticesLength(this.verticesLength);for(var l=this.mesh.getIndices(),v=this.indicesLength,u=0;u<r.length;v++,u++)l[v]=r[u]+o;this.indicesLength+=r.length,this.mesh.setIndicesLength(this.indicesLength)},c.prototype.flush=function(){var s=this.context.gl;this.verticesLength!=0&&(this.lastTexture.bind(),this.mesh.draw(this.shader,s.TRIANGLES),this.verticesLength=0,this.indicesLength=0,this.mesh.setVerticesLength(0),this.mesh.setIndicesLength(0),this.drawCalls++)},c.prototype.end=function(){var s=this.context.gl;if(!this.isDrawing)throw new Error("PolygonBatch is not drawing. Call PolygonBatch.begin() before calling PolygonBatch.end()");(this.verticesLength>0||this.indicesLength>0)&&this.flush(),this.shader=null,this.lastTexture=null,this.isDrawing=!1,s.disable(s.BLEND)},c.prototype.getDrawCalls=function(){return this.drawCalls},c.prototype.dispose=function(){this.mesh.dispose()},c}();e.PolygonBatcher=f})(y.webgl||(y.webgl={}))})(h||(h={}));var h;(function(y){(function(e){var f=function(){function s(a,r,o){o===void 0&&(o=!0),this.twoColorTint=!1,this.activeRenderer=null,this.QUAD=[0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0],this.QUAD_TRIANGLES=[0,1,2,2,3,0],this.WHITE=new y.Color(1,1,1,1),this.canvas=a,this.context=r instanceof e.ManagedWebGLRenderingContext?r:new e.ManagedWebGLRenderingContext(r),this.twoColorTint=o,this.camera=new e.OrthoCamera(a.width,a.height),this.batcherShader=o?e.Shader.newTwoColoredTextured(this.context):e.Shader.newColoredTextured(this.context),this.batcher=new e.PolygonBatcher(this.context,o),this.shapesShader=e.Shader.newColored(this.context),this.shapes=new e.ShapeRenderer(this.context),this.skeletonRenderer=new e.SkeletonRenderer(this.context,o),this.skeletonDebugRenderer=new e.SkeletonDebugRenderer(this.context)}return s.prototype.begin=function(){this.camera.update(),this.enableRenderer(this.batcher)},s.prototype.drawSkeleton=function(a,r,o,l){r===void 0&&(r=!1),o===void 0&&(o=-1),l===void 0&&(l=-1),this.enableRenderer(this.batcher),this.skeletonRenderer.premultipliedAlpha=r,this.skeletonRenderer.draw(this.batcher,a,o,l)},s.prototype.drawSkeletonDebug=function(a,r,o){r===void 0&&(r=!1),o===void 0&&(o=null),this.enableRenderer(this.shapes),this.skeletonDebugRenderer.premultipliedAlpha=r,this.skeletonDebugRenderer.draw(this.shapes,a,o)},s.prototype.drawTexture=function(a,r,o,l,v,u){u===void 0&&(u=null),this.enableRenderer(this.batcher),u===null&&(u=this.WHITE);var d=this.QUAD,p=0;d[p++]=r,d[p++]=o,d[p++]=u.r,d[p++]=u.g,d[p++]=u.b,d[p++]=u.a,d[p++]=0,d[p++]=1,this.twoColorTint&&(d[p++]=0,d[p++]=0,d[p++]=0,d[p++]=0),d[p++]=r+l,d[p++]=o,d[p++]=u.r,d[p++]=u.g,d[p++]=u.b,d[p++]=u.a,d[p++]=1,d[p++]=1,this.twoColorTint&&(d[p++]=0,d[p++]=0,d[p++]=0,d[p++]=0),d[p++]=r+l,d[p++]=o+v,d[p++]=u.r,d[p++]=u.g,d[p++]=u.b,d[p++]=u.a,d[p++]=1,d[p++]=0,this.twoColorTint&&(d[p++]=0,d[p++]=0,d[p++]=0,d[p++]=0),d[p++]=r,d[p++]=o+v,d[p++]=u.r,d[p++]=u.g,d[p++]=u.b,d[p++]=u.a,d[p++]=0,d[p++]=0,this.twoColorTint&&(d[p++]=0,d[p++]=0,d[p++]=0,d[p++]=0),this.batcher.draw(a,d,this.QUAD_TRIANGLES)},s.prototype.drawTextureUV=function(a,r,o,l,v,u,d,p,g,x){x===void 0&&(x=null),this.enableRenderer(this.batcher),x===null&&(x=this.WHITE);var T=this.QUAD,S=0;T[S++]=r,T[S++]=o,T[S++]=x.r,T[S++]=x.g,T[S++]=x.b,T[S++]=x.a,T[S++]=u,T[S++]=d,this.twoColorTint&&(T[S++]=0,T[S++]=0,T[S++]=0,T[S++]=0),T[S++]=r+l,T[S++]=o,T[S++]=x.r,T[S++]=x.g,T[S++]=x.b,T[S++]=x.a,T[S++]=p,T[S++]=d,this.twoColorTint&&(T[S++]=0,T[S++]=0,T[S++]=0,T[S++]=0),T[S++]=r+l,T[S++]=o+v,T[S++]=x.r,T[S++]=x.g,T[S++]=x.b,T[S++]=x.a,T[S++]=p,T[S++]=g,this.twoColorTint&&(T[S++]=0,T[S++]=0,T[S++]=0,T[S++]=0),T[S++]=r,T[S++]=o+v,T[S++]=x.r,T[S++]=x.g,T[S++]=x.b,T[S++]=x.a,T[S++]=u,T[S++]=g,this.twoColorTint&&(T[S++]=0,T[S++]=0,T[S++]=0,T[S++]=0),this.batcher.draw(a,T,this.QUAD_TRIANGLES)},s.prototype.drawTextureRotated=function(a,r,o,l,v,u,d,p,g,x){g===void 0&&(g=null),this.enableRenderer(this.batcher),g===null&&(g=this.WHITE);var T=this.QUAD,S=r+u,P=o+d,E=-u,R=-d,A=l-u,w=v-d,O=E,L=R,F=E,I=w,b=A,G=w,N=A,U=R,Y=0,X=0,B=0,z=0,D=0,V=0,k=0,W=0;if(p!=0){var H=y.MathUtils.cosDeg(p),$=y.MathUtils.sinDeg(p);Y=H*O-$*L,X=$*O+H*L,k=H*F-$*I,W=$*F+H*I,D=H*b-$*G,V=$*b+H*G,B=D+(Y-k),z=V+(X-W)}else Y=O,X=L,k=F,W=I,D=b,V=G,B=N,z=U;Y+=S,X+=P,B+=S,z+=P,D+=S,V+=P,k+=S,W+=P;var K=0;T[K++]=Y,T[K++]=X,T[K++]=g.r,T[K++]=g.g,T[K++]=g.b,T[K++]=g.a,T[K++]=0,T[K++]=1,this.twoColorTint&&(T[K++]=0,T[K++]=0,T[K++]=0,T[K++]=0),T[K++]=B,T[K++]=z,T[K++]=g.r,T[K++]=g.g,T[K++]=g.b,T[K++]=g.a,T[K++]=1,T[K++]=1,this.twoColorTint&&(T[K++]=0,T[K++]=0,T[K++]=0,T[K++]=0),T[K++]=D,T[K++]=V,T[K++]=g.r,T[K++]=g.g,T[K++]=g.b,T[K++]=g.a,T[K++]=1,T[K++]=0,this.twoColorTint&&(T[K++]=0,T[K++]=0,T[K++]=0,T[K++]=0),T[K++]=k,T[K++]=W,T[K++]=g.r,T[K++]=g.g,T[K++]=g.b,T[K++]=g.a,T[K++]=0,T[K++]=0,this.twoColorTint&&(T[K++]=0,T[K++]=0,T[K++]=0,T[K++]=0),this.batcher.draw(a,T,this.QUAD_TRIANGLES)},s.prototype.drawRegion=function(a,r,o,l,v,u,d){u===void 0&&(u=null),this.enableRenderer(this.batcher),u===null&&(u=this.WHITE);var p=this.QUAD,g=0;p[g++]=r,p[g++]=o,p[g++]=u.r,p[g++]=u.g,p[g++]=u.b,p[g++]=u.a,p[g++]=a.u,p[g++]=a.v2,this.twoColorTint&&(p[g++]=0,p[g++]=0,p[g++]=0,p[g++]=0),p[g++]=r+l,p[g++]=o,p[g++]=u.r,p[g++]=u.g,p[g++]=u.b,p[g++]=u.a,p[g++]=a.u2,p[g++]=a.v2,this.twoColorTint&&(p[g++]=0,p[g++]=0,p[g++]=0,p[g++]=0),p[g++]=r+l,p[g++]=o+v,p[g++]=u.r,p[g++]=u.g,p[g++]=u.b,p[g++]=u.a,p[g++]=a.u2,p[g++]=a.v,this.twoColorTint&&(p[g++]=0,p[g++]=0,p[g++]=0,p[g++]=0),p[g++]=r,p[g++]=o+v,p[g++]=u.r,p[g++]=u.g,p[g++]=u.b,p[g++]=u.a,p[g++]=a.u,p[g++]=a.v,this.twoColorTint&&(p[g++]=0,p[g++]=0,p[g++]=0,p[g++]=0),this.batcher.draw(a.texture,p,this.QUAD_TRIANGLES)},s.prototype.line=function(a,r,o,l,v,u){v===void 0&&(v=null),this.enableRenderer(this.shapes),this.shapes.line(a,r,o,l,v)},s.prototype.triangle=function(a,r,o,l,v,u,d,p,g,x){p===void 0&&(p=null),g===void 0&&(g=null),x===void 0&&(x=null),this.enableRenderer(this.shapes),this.shapes.triangle(a,r,o,l,v,u,d,p,g,x)},s.prototype.quad=function(a,r,o,l,v,u,d,p,g,x,T,S,P){x===void 0&&(x=null),T===void 0&&(T=null),S===void 0&&(S=null),P===void 0&&(P=null),this.enableRenderer(this.shapes),this.shapes.quad(a,r,o,l,v,u,d,p,g,x,T,S,P)},s.prototype.rect=function(a,r,o,l,v,u){u===void 0&&(u=null),this.enableRenderer(this.shapes),this.shapes.rect(a,r,o,l,v,u)},s.prototype.rectLine=function(a,r,o,l,v,u,d){d===void 0&&(d=null),this.enableRenderer(this.shapes),this.shapes.rectLine(a,r,o,l,v,u,d)},s.prototype.polygon=function(a,r,o,l){l===void 0&&(l=null),this.enableRenderer(this.shapes),this.shapes.polygon(a,r,o,l)},s.prototype.circle=function(a,r,o,l,v,u){v===void 0&&(v=null),u===void 0&&(u=0),this.enableRenderer(this.shapes),this.shapes.circle(a,r,o,l,v,u)},s.prototype.curve=function(a,r,o,l,v,u,d,p,g,x){x===void 0&&(x=null),this.enableRenderer(this.shapes),this.shapes.curve(a,r,o,l,v,u,d,p,g,x)},s.prototype.end=function(){this.activeRenderer===this.batcher?this.batcher.end():this.activeRenderer===this.shapes&&this.shapes.end(),this.activeRenderer=null},s.prototype.resize=function(a){var r=this.canvas,o=r.clientWidth,l=r.clientHeight;if((r.width!=o||r.height!=l)&&(r.width=o,r.height=l),this.context.gl.viewport(0,0,r.width,r.height),a!==c.Stretch){if(a===c.Expand)this.camera.setViewport(o,l);else if(a===c.Fit){var v=r.width,u=r.height,d=this.camera.viewportWidth,p=this.camera.viewportHeight,g=p/d,x=u/v,T=g<x?d/v:p/u;this.camera.viewportWidth=v*T,this.camera.viewportHeight=u*T}}this.camera.update()},s.prototype.enableRenderer=function(a){this.activeRenderer!==a&&(this.end(),a instanceof e.PolygonBatcher?(this.batcherShader.bind(),this.batcherShader.setUniform4x4f(e.Shader.MVP_MATRIX,this.camera.projectionView.values),this.batcherShader.setUniformi("u_texture",0),this.batcher.begin(this.batcherShader),this.activeRenderer=this.batcher):a instanceof e.ShapeRenderer?(this.shapesShader.bind(),this.shapesShader.setUniform4x4f(e.Shader.MVP_MATRIX,this.camera.projectionView.values),this.shapes.begin(this.shapesShader),this.activeRenderer=this.shapes):this.activeRenderer=this.skeletonDebugRenderer)},s.prototype.dispose=function(){this.batcher.dispose(),this.batcherShader.dispose(),this.shapes.dispose(),this.shapesShader.dispose(),this.skeletonDebugRenderer.dispose()},s}();e.SceneRenderer=f;var c;(function(s){s[s.Stretch=0]="Stretch",s[s.Expand=1]="Expand",s[s.Fit=2]="Fit"})(c=e.ResizeMode||(e.ResizeMode={}))})(y.webgl||(y.webgl={}))})(h||(h={}));var h;(function(y){(function(e){var f=function(){function c(s,a,r){this.vertexShader=a,this.fragmentShader=r,this.vs=null,this.fs=null,this.program=null,this.tmp2x2=new Float32Array(4),this.tmp3x3=new Float32Array(9),this.tmp4x4=new Float32Array(16),this.vsSource=a,this.fsSource=r,this.context=s instanceof e.ManagedWebGLRenderingContext?s:new e.ManagedWebGLRenderingContext(s),this.context.addRestorable(this),this.compile()}return c.prototype.getProgram=function(){return this.program},c.prototype.getVertexShader=function(){return this.vertexShader},c.prototype.getFragmentShader=function(){return this.fragmentShader},c.prototype.getVertexShaderSource=function(){return this.vsSource},c.prototype.getFragmentSource=function(){return this.fsSource},c.prototype.compile=function(){var s=this.context.gl;try{this.vs=this.compileShader(s.VERTEX_SHADER,this.vertexShader),this.fs=this.compileShader(s.FRAGMENT_SHADER,this.fragmentShader),this.program=this.compileProgram(this.vs,this.fs)}catch(a){throw this.dispose(),a}},c.prototype.compileShader=function(s,a){var r=this.context.gl,o=r.createShader(s);if(r.shaderSource(o,a),r.compileShader(o),!r.getShaderParameter(o,r.COMPILE_STATUS)){var l="Couldn't compile shader: "+r.getShaderInfoLog(o);if(r.deleteShader(o),!r.isContextLost())throw new Error(l)}return o},c.prototype.compileProgram=function(s,a){var r=this.context.gl,o=r.createProgram();if(r.attachShader(o,s),r.attachShader(o,a),r.linkProgram(o),!r.getProgramParameter(o,r.LINK_STATUS)){var l="Couldn't compile shader program: "+r.getProgramInfoLog(o);if(r.deleteProgram(o),!r.isContextLost())throw new Error(l)}return o},c.prototype.restore=function(){this.compile()},c.prototype.bind=function(){this.context.gl.useProgram(this.program)},c.prototype.unbind=function(){this.context.gl.useProgram(null)},c.prototype.setUniformi=function(s,a){this.context.gl.uniform1i(this.getUniformLocation(s),a)},c.prototype.setUniformf=function(s,a){this.context.gl.uniform1f(this.getUniformLocation(s),a)},c.prototype.setUniform2f=function(s,a,r){this.context.gl.uniform2f(this.getUniformLocation(s),a,r)},c.prototype.setUniform3f=function(s,a,r,o){this.context.gl.uniform3f(this.getUniformLocation(s),a,r,o)},c.prototype.setUniform4f=function(s,a,r,o,l){this.context.gl.uniform4f(this.getUniformLocation(s),a,r,o,l)},c.prototype.setUniform2x2f=function(s,a){var r=this.context.gl;this.tmp2x2.set(a),r.uniformMatrix2fv(this.getUniformLocation(s),!1,this.tmp2x2)},c.prototype.setUniform3x3f=function(s,a){var r=this.context.gl;this.tmp3x3.set(a),r.uniformMatrix3fv(this.getUniformLocation(s),!1,this.tmp3x3)},c.prototype.setUniform4x4f=function(s,a){var r=this.context.gl;this.tmp4x4.set(a),r.uniformMatrix4fv(this.getUniformLocation(s),!1,this.tmp4x4)},c.prototype.getUniformLocation=function(s){var a=this.context.gl,r=a.getUniformLocation(this.program,s);if(!r&&!a.isContextLost())throw new Error("Couldn't find location for uniform ".concat(s));return r},c.prototype.getAttributeLocation=function(s){var a=this.context.gl,r=a.getAttribLocation(this.program,s);if(r==-1&&!a.isContextLost())throw new Error("Couldn't find location for attribute ".concat(s));return r},c.prototype.dispose=function(){this.context.removeRestorable(this);var s=this.context.gl;this.vs&&(s.deleteShader(this.vs),this.vs=null),this.fs&&(s.deleteShader(this.fs),this.fs=null),this.program&&(s.deleteProgram(this.program),this.program=null)},c.newColoredTextured=function(s){var a=`
				attribute vec4 `.concat(c.POSITION,`;
				attribute vec4 `).concat(c.COLOR,`;
				attribute vec2 `).concat(c.TEXCOORDS,`;
				uniform mat4 `).concat(c.MVP_MATRIX,`;
				varying vec4 v_color;
				varying vec2 v_texCoords;

				void main () {
					v_color = `).concat(c.COLOR,`;
					v_texCoords = `).concat(c.TEXCOORDS,`;
					gl_Position = `).concat(c.MVP_MATRIX," * ").concat(c.POSITION,`;
				}
			`),r=`
				#ifdef GL_ES
					#define LOWP lowp
					precision mediump float;
				#else
					#define LOWP
				#endif
				varying LOWP vec4 v_color;
				varying vec2 v_texCoords;
				uniform sampler2D u_texture;

				void main () {
					gl_FragColor = v_color * texture2D(u_texture, v_texCoords);
				}
			`;return new c(s,a,r)},c.newTwoColoredTextured=function(s){var a=`
				attribute vec4 `.concat(c.POSITION,`;
				attribute vec4 `).concat(c.COLOR,`;
				attribute vec4 `).concat(c.COLOR2,`;
				attribute vec2 `).concat(c.TEXCOORDS,`;
				uniform mat4 `).concat(c.MVP_MATRIX,`;
				varying vec4 v_light;
				varying vec4 v_dark;
				varying vec2 v_texCoords;

				void main () {
					v_light = `).concat(c.COLOR,`;
					v_dark = `).concat(c.COLOR2,`;
					v_texCoords = `).concat(c.TEXCOORDS,`;
					gl_Position = `).concat(c.MVP_MATRIX," * ").concat(c.POSITION,`;
				}
			`),r=`
				#ifdef GL_ES
					#define LOWP lowp
					precision mediump float;
				#else
					#define LOWP
				#endif
				varying LOWP vec4 v_light;
				varying LOWP vec4 v_dark;
				varying vec2 v_texCoords;
				uniform sampler2D u_texture;

				void main () {
					vec4 texColor = texture2D(u_texture, v_texCoords);
					gl_FragColor.a = texColor.a * v_light.a;
					gl_FragColor.rgb = ((texColor.a - 1.0) * v_dark.a + 1.0 - texColor.rgb) * v_dark.rgb + texColor.rgb * v_light.rgb;
				}
			`;return new c(s,a,r)},c.newColored=function(s){var a=`
				attribute vec4 `.concat(c.POSITION,`;
				attribute vec4 `).concat(c.COLOR,`;
				uniform mat4 `).concat(c.MVP_MATRIX,`;
				varying vec4 v_color;

				void main () {
					v_color = `).concat(c.COLOR,`;
					gl_Position = `).concat(c.MVP_MATRIX," * ").concat(c.POSITION,`;
				}
			`),r=`
				#ifdef GL_ES
					#define LOWP lowp
					precision mediump float;
				#else
					#define LOWP
				#endif
				varying LOWP vec4 v_color;

				void main () {
					gl_FragColor = v_color;
				}
			`;return new c(s,a,r)},c.MVP_MATRIX="u_projTrans",c.POSITION="a_position",c.COLOR="a_color",c.COLOR2="a_color2",c.TEXCOORDS="a_texCoords",c.SAMPLER="u_texture",c}();e.Shader=f})(y.webgl||(y.webgl={}))})(h||(h={}));var h;(function(y){(function(e){var f=function(){function s(a,r){if(r===void 0&&(r=10920),this.isDrawing=!1,this.shapeType=c.Filled,this.color=new y.Color(1,1,1,1),this.vertexIndex=0,this.tmp=new y.Vector2,r>10920)throw new Error("Can't have more than 10920 triangles per batch: "+r);this.context=a instanceof e.ManagedWebGLRenderingContext?a:new e.ManagedWebGLRenderingContext(a),this.mesh=new e.Mesh(a,[new e.Position2Attribute,new e.ColorAttribute],r,0),this.srcBlend=this.context.gl.SRC_ALPHA,this.dstBlend=this.context.gl.ONE_MINUS_SRC_ALPHA}return s.prototype.begin=function(a){if(this.isDrawing)throw new Error("ShapeRenderer.begin() has already been called");this.shader=a,this.vertexIndex=0,this.isDrawing=!0;var r=this.context.gl;r.enable(r.BLEND),r.blendFunc(this.srcBlend,this.dstBlend)},s.prototype.setBlendMode=function(a,r){var o=this.context.gl;this.srcBlend=a,this.dstBlend=r,this.isDrawing&&(this.flush(),o.blendFunc(this.srcBlend,this.dstBlend))},s.prototype.setColor=function(a){this.color.setFromColor(a)},s.prototype.setColorWith=function(a,r,o,l){this.color.set(a,r,o,l)},s.prototype.point=function(a,r,o){o===void 0&&(o=null),this.check(c.Point,1),o===null&&(o=this.color),this.vertex(a,r,o)},s.prototype.line=function(a,r,o,l,v){v===void 0&&(v=null),this.check(c.Line,2),this.mesh.getVertices(),this.vertexIndex,v===null&&(v=this.color),this.vertex(a,r,v),this.vertex(o,l,v)},s.prototype.triangle=function(a,r,o,l,v,u,d,p,g,x){p===void 0&&(p=null),g===void 0&&(g=null),x===void 0&&(x=null),this.check(a?c.Filled:c.Line,3),this.mesh.getVertices(),this.vertexIndex,p===null&&(p=this.color),g===null&&(g=this.color),x===null&&(x=this.color),a?(this.vertex(r,o,p),this.vertex(l,v,g),this.vertex(u,d,x)):(this.vertex(r,o,p),this.vertex(l,v,g),this.vertex(l,v,p),this.vertex(u,d,g),this.vertex(u,d,p),this.vertex(r,o,g))},s.prototype.quad=function(a,r,o,l,v,u,d,p,g,x,T,S,P){x===void 0&&(x=null),T===void 0&&(T=null),S===void 0&&(S=null),P===void 0&&(P=null),this.check(a?c.Filled:c.Line,3),this.mesh.getVertices(),this.vertexIndex,x===null&&(x=this.color),T===null&&(T=this.color),S===null&&(S=this.color),P===null&&(P=this.color),a?(this.vertex(r,o,x),this.vertex(l,v,T),this.vertex(u,d,S),this.vertex(u,d,S),this.vertex(p,g,P),this.vertex(r,o,x)):(this.vertex(r,o,x),this.vertex(l,v,T),this.vertex(l,v,T),this.vertex(u,d,S),this.vertex(u,d,S),this.vertex(p,g,P),this.vertex(p,g,P),this.vertex(r,o,x))},s.prototype.rect=function(a,r,o,l,v,u){u===void 0&&(u=null),this.quad(a,r,o,r+l,o,r+l,o+v,r,o+v,u,u,u,u)},s.prototype.rectLine=function(a,r,o,l,v,u,d){d===void 0&&(d=null),this.check(a?c.Filled:c.Line,8),d===null&&(d=this.color);var p=this.tmp.set(v-o,r-l);p.normalize(),u*=.5;var g=p.x*u,x=p.y*u;a?(this.vertex(r+g,o+x,d),this.vertex(r-g,o-x,d),this.vertex(l+g,v+x,d),this.vertex(l-g,v-x,d),this.vertex(l+g,v+x,d),this.vertex(r-g,o-x,d)):(this.vertex(r+g,o+x,d),this.vertex(r-g,o-x,d),this.vertex(l+g,v+x,d),this.vertex(l-g,v-x,d),this.vertex(l+g,v+x,d),this.vertex(r+g,o+x,d),this.vertex(l-g,v-x,d),this.vertex(r-g,o-x,d))},s.prototype.x=function(a,r,o){this.line(a-o,r-o,a+o,r+o),this.line(a-o,r+o,a+o,r-o)},s.prototype.polygon=function(a,r,o,l){if(l===void 0&&(l=null),o<3)throw new Error("Polygon must contain at least 3 vertices");this.check(c.Line,o*2),l===null&&(l=this.color),this.mesh.getVertices(),this.vertexIndex,r<<=1,o<<=1;for(var v=a[r],u=a[r+1],d=r+o,p=r,g=r+o-2;p<g;p+=2){var x=a[p],T=a[p+1],S=0,P=0;p+2>=d?(S=v,P=u):(S=a[p+2],P=a[p+3]),this.vertex(x,T,l),this.vertex(S,P,l)}},s.prototype.circle=function(a,r,o,l,v,u){if(v===void 0&&(v=null),u===void 0&&(u=0),u===0&&(u=Math.max(1,6*y.MathUtils.cbrt(l)|0)),u<=0)throw new Error("segments must be > 0.");v===null&&(v=this.color);var d=2*y.MathUtils.PI/u,p=Math.cos(d),g=Math.sin(d),x=l,T=0;if(a){this.check(c.Filled,u*3+3),u--;for(var S=0;S<u;S++){this.vertex(r,o,v),this.vertex(r+x,o+T,v);var E=x;x=p*x-g*T,T=g*E+p*T,this.vertex(r+x,o+T,v)}this.vertex(r,o,v),this.vertex(r+x,o+T,v)}else{this.check(c.Line,u*2+2);for(var S=0;S<u;S++){this.vertex(r+x,o+T,v);var P=x;x=p*x-g*T,T=g*P+p*T,this.vertex(r+x,o+T,v)}this.vertex(r+x,o+T,v)}x=l,T=0,this.vertex(r+x,o+T,v)},s.prototype.curve=function(a,r,o,l,v,u,d,p,g,x){x===void 0&&(x=null),this.check(c.Line,g*2+2),x===null&&(x=this.color);for(var T=1/g,S=T*T,P=T*T*T,E=3*T,R=3*S,A=6*S,w=6*P,O=a-o*2+v,L=r-l*2+u,F=(o-v)*3-a+d,I=(l-u)*3-r+p,b=a,G=r,N=(o-a)*E+O*R+F*P,U=(l-r)*E+L*R+I*P,Y=O*A+F*w,X=L*A+I*w,B=F*w,z=I*w;g-- >0;)this.vertex(b,G,x),b+=N,G+=U,N+=Y,U+=X,Y+=B,X+=z,this.vertex(b,G,x);this.vertex(b,G,x),this.vertex(d,p,x)},s.prototype.vertex=function(a,r,o){var l=this.vertexIndex,v=this.mesh.getVertices();v[l++]=a,v[l++]=r,v[l++]=o.r,v[l++]=o.g,v[l++]=o.b,v[l++]=o.a,this.vertexIndex=l},s.prototype.end=function(){if(!this.isDrawing)throw new Error("ShapeRenderer.begin() has not been called");this.flush(),this.context.gl.disable(this.context.gl.BLEND),this.isDrawing=!1},s.prototype.flush=function(){this.vertexIndex!=0&&(this.mesh.setVerticesLength(this.vertexIndex),this.mesh.draw(this.shader,this.shapeType),this.vertexIndex=0)},s.prototype.check=function(a,r){if(!this.isDrawing)throw new Error("ShapeRenderer.begin() has not been called");if(this.shapeType==a)if(this.mesh.maxVertices()-this.mesh.numVertices()<r)this.flush();else return;else this.flush(),this.shapeType=a},s.prototype.dispose=function(){this.mesh.dispose()},s}();e.ShapeRenderer=f;var c;(function(s){s[s.Point=0]="Point",s[s.Line=1]="Line",s[s.Filled=4]="Filled"})(c=e.ShapeType||(e.ShapeType={}))})(y.webgl||(y.webgl={}))})(h||(h={}));var h;(function(y){(function(e){var f=function(){function c(s){this.boneLineColor=new y.Color(1,0,0,1),this.boneOriginColor=new y.Color(0,1,0,1),this.attachmentLineColor=new y.Color(0,0,1,.5),this.triangleLineColor=new y.Color(1,.64,0,.5),this.pathColor=new y.Color().setFromString("FF7F00"),this.clipColor=new y.Color(.8,0,0,2),this.aabbColor=new y.Color(0,1,0,.5),this.drawBones=!0,this.drawRegionAttachments=!0,this.drawBoundingBoxes=!0,this.drawMeshHull=!0,this.drawMeshTriangles=!0,this.drawPaths=!0,this.drawSkeletonXY=!1,this.drawClipping=!0,this.premultipliedAlpha=!1,this.scale=1,this.boneWidth=2,this.bounds=new y.SkeletonBounds,this.temp=new Array,this.vertices=y.Utils.newFloatArray(2048),this.context=s instanceof e.ManagedWebGLRenderingContext?s:new e.ManagedWebGLRenderingContext(s)}return c.prototype.draw=function(s,a,r){r===void 0&&(r=null);var o=a.x,l=a.y,v=this.context.gl,u=this.premultipliedAlpha?v.ONE:v.SRC_ALPHA;s.setBlendMode(u,v.ONE_MINUS_SRC_ALPHA);var d=a.bones;if(this.drawBones){s.setColor(this.boneLineColor);for(var p=0,g=d.length;p<g;p++){var x=d[p];if(!(r&&r.indexOf(x.data.name)>-1)&&x.parent!=null){var T=o+x.data.length*x.a+x.worldX,S=l+x.data.length*x.c+x.worldY;s.rectLine(!0,o+x.worldX,l+x.worldY,T,S,this.boneWidth*this.scale)}}this.drawSkeletonXY&&s.x(o,l,4*this.scale)}if(this.drawRegionAttachments){s.setColor(this.attachmentLineColor);for(var P=a.slots,p=0,g=P.length;p<g;p++){var E=P[p],R=E.getAttachment();if(R instanceof y.RegionAttachment){var A=R,w=this.vertices;A.computeWorldVertices(E.bone,w,0,2),s.line(w[0],w[1],w[2],w[3]),s.line(w[2],w[3],w[4],w[5]),s.line(w[4],w[5],w[6],w[7]),s.line(w[6],w[7],w[0],w[1])}}}if(this.drawMeshHull||this.drawMeshTriangles)for(var P=a.slots,p=0,g=P.length;p<g;p++){var E=P[p];if(E.bone.active){var R=E.getAttachment();if(R instanceof y.MeshAttachment){var O=R,w=this.vertices;O.computeWorldVertices(E,0,O.worldVerticesLength,w,0,2);var L=O.triangles,F=O.hullLength;if(this.drawMeshTriangles){s.setColor(this.triangleLineColor);for(var I=0,b=L.length;I<b;I+=3){var G=L[I]*2,N=L[I+1]*2,U=L[I+2]*2;s.triangle(!1,w[G],w[G+1],w[N],w[N+1],w[U],w[U+1])}}if(this.drawMeshHull&&F>0){s.setColor(this.attachmentLineColor),F=(F>>1)*2;for(var Y=w[F-2],X=w[F-1],I=0,b=F;I<b;I+=2){var T=w[I],S=w[I+1];s.line(T,S,Y,X),Y=T,X=S}}}}}if(this.drawBoundingBoxes){var B=this.bounds;B.update(a,!0),s.setColor(this.aabbColor),s.rect(!1,B.minX,B.minY,B.getWidth(),B.getHeight());for(var z=B.polygons,D=B.boundingBoxes,p=0,g=z.length;p<g;p++){var V=z[p];s.setColor(D[p].color),s.polygon(V,0,V.length)}}if(this.drawPaths)for(var P=a.slots,p=0,g=P.length;p<g;p++){var E=P[p];if(E.bone.active){var R=E.getAttachment();if(R instanceof y.PathAttachment){var k=R,b=k.worldVerticesLength,W=this.temp=y.Utils.setArraySize(this.temp,b,0);k.computeWorldVertices(E,0,b,W,0,2);var H=this.pathColor,$=W[2],K=W[3],j=0,Z=0;if(k.closed){s.setColor(H);var J=W[0],Q=W[1],q=W[b-2],_=W[b-1];j=W[b-4],Z=W[b-3],s.curve($,K,J,Q,q,_,j,Z,32),s.setColor(c.LIGHT_GRAY),s.line($,K,J,Q),s.line(j,Z,q,_)}b-=4;for(var I=4;I<b;I+=6){var J=W[I],Q=W[I+1],q=W[I+2],_=W[I+3];j=W[I+4],Z=W[I+5],s.setColor(H),s.curve($,K,J,Q,q,_,j,Z,32),s.setColor(c.LIGHT_GRAY),s.line($,K,J,Q),s.line(j,Z,q,_),$=j,K=Z}}}}if(this.drawBones){s.setColor(this.boneOriginColor);for(var p=0,g=d.length;p<g;p++){var x=d[p];r&&r.indexOf(x.data.name)>-1||s.circle(!0,o+x.worldX,l+x.worldY,3*this.scale,c.GREEN,8)}}if(this.drawClipping){var P=a.slots;s.setColor(this.clipColor);for(var p=0,g=P.length;p<g;p++){var E=P[p];if(E.bone.active){var R=E.getAttachment();if(R instanceof y.ClippingAttachment){var et=R,b=et.worldVerticesLength,W=this.temp=y.Utils.setArraySize(this.temp,b,0);et.computeWorldVertices(E,0,b,W,0,2);for(var st=0,it=W.length;st<it;st+=2){var T=W[st],S=W[st+1],j=W[(st+2)%W.length],Z=W[(st+3)%W.length];s.line(T,S,j,Z)}}}}}},c.prototype.dispose=function(){},c.LIGHT_GRAY=new y.Color(.7529411764705882,.7529411764705882,.7529411764705882,1),c.GREEN=new y.Color(0,1,0,1),c}();e.SkeletonDebugRenderer=f})(y.webgl||(y.webgl={}))})(h||(h={}));var h;(function(y){(function(e){var f=function(){function s(a,r,o){this.vertices=a,this.numVertices=r,this.numFloats=o}return s}(),c=function(){function s(a,r){r===void 0&&(r=!0),this.premultipliedAlpha=!1,this.vertexEffect=null,this.tempColor=new y.Color,this.tempColor2=new y.Color,this.vertexSize=2+2+4,this.twoColorTint=!1,this.renderable=new f(null,0,0),this.clipper=new y.SkeletonClipping,this.temp=new y.Vector2,this.temp2=new y.Vector2,this.temp3=new y.Color,this.temp4=new y.Color,this.twoColorTint=r,r&&(this.vertexSize+=4),this.vertices=y.Utils.newFloatArray(this.vertexSize*1024)}return s.prototype.draw=function(a,r,o,l){o===void 0&&(o=-1),l===void 0&&(l=-1);var v=this.clipper,u=this.premultipliedAlpha,d=this.twoColorTint,p=null,g=this.temp,x=this.temp2,T=this.temp3,S=this.temp4,P=this.renderable,E=null,R=null,A=r.drawOrder,w=null,O=r.color,L=d?12:8,F=!1;o==-1&&(F=!0);for(var I=0,b=A.length;I<b;I++){var G=v.isClipping()?2:L,N=A[I];if(!N.bone.active){v.clipEndWithSlot(N);continue}if(o>=0&&o==N.data.index&&(F=!0),!F){v.clipEndWithSlot(N);continue}l>=0&&l==N.data.index&&(F=!1);var U=N.getAttachment(),Y=null;if(U instanceof y.RegionAttachment){var X=U;P.vertices=this.vertices,P.numVertices=4,P.numFloats=G<<2,X.computeWorldVertices(N.bone,P.vertices,0,G),R=s.QUAD_TRIANGLES,E=X.uvs,Y=X.region.renderObject.texture,w=X.color}else if(U instanceof y.MeshAttachment){var B=U;P.vertices=this.vertices,P.numVertices=B.worldVerticesLength>>1,P.numFloats=P.numVertices*G,P.numFloats>P.vertices.length&&(P.vertices=this.vertices=y.Utils.newFloatArray(P.numFloats)),B.computeWorldVertices(N,0,B.worldVerticesLength,P.vertices,0,G),R=B.triangles,Y=B.region.renderObject.texture,E=B.uvs,w=B.color}else if(U instanceof y.ClippingAttachment){var z=U;v.clipStart(N,z);continue}else{v.clipEndWithSlot(N);continue}if(Y!=null){var D=N.color,V=this.tempColor;V.r=O.r*D.r*w.r,V.g=O.g*D.g*w.g,V.b=O.b*D.b*w.b,V.a=O.a*D.a*w.a,u&&(V.r*=V.a,V.g*=V.a,V.b*=V.a);var k=this.tempColor2;N.darkColor==null?k.set(0,0,0,1):(u?(k.r=N.darkColor.r*V.a,k.g=N.darkColor.g*V.a,k.b=N.darkColor.b*V.a):k.setFromColor(N.darkColor),k.a=u?1:0);var W=N.data.blendMode;if(W!=p&&(p=W,a.setBlendMode(e.WebGLBlendModeConverter.getSourceGLBlendMode(p,u),e.WebGLBlendModeConverter.getDestGLBlendMode(p))),v.isClipping()){v.clipTriangles(P.vertices,P.numFloats,R,R.length,E,V,k,d);var H=new Float32Array(v.clippedVertices),$=v.clippedTriangles;if(this.vertexEffect!=null){var K=this.vertexEffect,j=H;if(d)for(var Z=0,Q=H.length;Z<Q;Z+=L)g.x=j[Z],g.y=j[Z+1],T.set(j[Z+2],j[Z+3],j[Z+4],j[Z+5]),x.x=j[Z+6],x.y=j[Z+7],S.set(j[Z+8],j[Z+9],j[Z+10],j[Z+11]),K.transform(g,x,T,S),j[Z]=g.x,j[Z+1]=g.y,j[Z+2]=T.r,j[Z+3]=T.g,j[Z+4]=T.b,j[Z+5]=T.a,j[Z+6]=x.x,j[Z+7]=x.y,j[Z+8]=S.r,j[Z+9]=S.g,j[Z+10]=S.b,j[Z+11]=S.a;else for(var Z=0,J=H.length;Z<J;Z+=L)g.x=j[Z],g.y=j[Z+1],T.set(j[Z+2],j[Z+3],j[Z+4],j[Z+5]),x.x=j[Z+6],x.y=j[Z+7],S.set(0,0,0,0),K.transform(g,x,T,S),j[Z]=g.x,j[Z+1]=g.y,j[Z+2]=T.r,j[Z+3]=T.g,j[Z+4]=T.b,j[Z+5]=T.a,j[Z+6]=x.x,j[Z+7]=x.y}a.draw(Y,H,$)}else{var j=P.vertices;if(this.vertexEffect!=null){var K=this.vertexEffect;if(d)for(var Z=0,q=0,et=P.numFloats;Z<et;Z+=L,q+=2)g.x=j[Z],g.y=j[Z+1],x.x=E[q],x.y=E[q+1],T.setFromColor(V),S.setFromColor(k),K.transform(g,x,T,S),j[Z]=g.x,j[Z+1]=g.y,j[Z+2]=T.r,j[Z+3]=T.g,j[Z+4]=T.b,j[Z+5]=T.a,j[Z+6]=x.x,j[Z+7]=x.y,j[Z+8]=S.r,j[Z+9]=S.g,j[Z+10]=S.b,j[Z+11]=S.a;else for(var Z=0,q=0,_=P.numFloats;Z<_;Z+=L,q+=2)g.x=j[Z],g.y=j[Z+1],x.x=E[q],x.y=E[q+1],T.setFromColor(V),S.set(0,0,0,0),K.transform(g,x,T,S),j[Z]=g.x,j[Z+1]=g.y,j[Z+2]=T.r,j[Z+3]=T.g,j[Z+4]=T.b,j[Z+5]=T.a,j[Z+6]=x.x,j[Z+7]=x.y}else if(d)for(var Z=2,q=0,it=P.numFloats;Z<it;Z+=L,q+=2)j[Z]=V.r,j[Z+1]=V.g,j[Z+2]=V.b,j[Z+3]=V.a,j[Z+4]=E[q],j[Z+5]=E[q+1],j[Z+6]=k.r,j[Z+7]=k.g,j[Z+8]=k.b,j[Z+9]=k.a;else for(var Z=2,q=0,st=P.numFloats;Z<st;Z+=L,q+=2)j[Z]=V.r,j[Z+1]=V.g,j[Z+2]=V.b,j[Z+3]=V.a,j[Z+4]=E[q],j[Z+5]=E[q+1];var lt=P.vertices.subarray(0,P.numFloats);a.draw(Y,lt,R)}}v.clipEndWithSlot(N)}v.clipEnd()},s.QUAD_TRIANGLES=[0,1,2,2,3,0],s}();e.SkeletonRenderer=c})(y.webgl||(y.webgl={}))})(h||(h={}));var h;(function(y){(function(e){var f=function(){function c(s,a,r){s===void 0&&(s=0),a===void 0&&(a=0),r===void 0&&(r=0),this.x=0,this.y=0,this.z=0,this.x=s,this.y=a,this.z=r}return c.prototype.setFrom=function(s){return this.x=s.x,this.y=s.y,this.z=s.z,this},c.prototype.set=function(s,a,r){return this.x=s,this.y=a,this.z=r,this},c.prototype.add=function(s){return this.x+=s.x,this.y+=s.y,this.z+=s.z,this},c.prototype.sub=function(s){return this.x-=s.x,this.y-=s.y,this.z-=s.z,this},c.prototype.scale=function(s){return this.x*=s,this.y*=s,this.z*=s,this},c.prototype.normalize=function(){var s=this.length();return s==0?this:(s=1/s,this.x*=s,this.y*=s,this.z*=s,this)},c.prototype.cross=function(s){return this.set(this.y*s.z-this.z*s.y,this.z*s.x-this.x*s.z,this.x*s.y-this.y*s.x)},c.prototype.multiply=function(s){var a=s.values;return this.set(this.x*a[e.M00]+this.y*a[e.M01]+this.z*a[e.M02]+a[e.M03],this.x*a[e.M10]+this.y*a[e.M11]+this.z*a[e.M12]+a[e.M13],this.x*a[e.M20]+this.y*a[e.M21]+this.z*a[e.M22]+a[e.M23])},c.prototype.project=function(s){var a=s.values,r=1/(this.x*a[e.M30]+this.y*a[e.M31]+this.z*a[e.M32]+a[e.M33]);return this.set((this.x*a[e.M00]+this.y*a[e.M01]+this.z*a[e.M02]+a[e.M03])*r,(this.x*a[e.M10]+this.y*a[e.M11]+this.z*a[e.M12]+a[e.M13])*r,(this.x*a[e.M20]+this.y*a[e.M21]+this.z*a[e.M22]+a[e.M23])*r)},c.prototype.dot=function(s){return this.x*s.x+this.y*s.y+this.z*s.z},c.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},c.prototype.distance=function(s){var a=s.x-this.x,r=s.y-this.y,o=s.z-this.z;return Math.sqrt(a*a+r*r+o*o)},c}();e.Vector3=f})(y.webgl||(y.webgl={}))})(h||(h={}));var h;(function(y){(function(e){var f=function(){function s(a,r){r===void 0&&(r={alpha:"true"}),this.restorables=new Array,a instanceof WebGLRenderingContext||a instanceof WebGL2RenderingContext?(this.gl=a,this.canvas=this.gl.canvas):this.setupCanvas(a,r)}return s.prototype.setupCanvas=function(a,r){var o=this;this.gl=a.getContext("webgl2",r)||a.getContext("webgl",r),this.canvas=a,a.addEventListener("webglcontextlost",function(l){l&&l.preventDefault()}),a.addEventListener("webglcontextrestored",function(l){for(var v=0,u=o.restorables.length;v<u;v++)o.restorables[v].restore()})},s.prototype.addRestorable=function(a){this.restorables.push(a)},s.prototype.removeRestorable=function(a){var r=this.restorables.indexOf(a);r>-1&&this.restorables.splice(r,1)},s}();e.ManagedWebGLRenderingContext=f;var c=function(){function s(){}return s.getDestGLBlendMode=function(a){switch(a){case y.BlendMode.Normal:return s.ONE_MINUS_SRC_ALPHA;case y.BlendMode.Additive:return s.ONE;case y.BlendMode.Multiply:return s.ONE_MINUS_SRC_ALPHA;case y.BlendMode.Screen:return s.ONE_MINUS_SRC_ALPHA;default:throw new Error("Unknown blend mode: "+a)}},s.getSourceGLBlendMode=function(a,r){switch(r===void 0&&(r=!1),a){case y.BlendMode.Normal:return r?s.ONE:s.SRC_ALPHA;case y.BlendMode.Additive:return r?s.ONE:s.SRC_ALPHA;case y.BlendMode.Multiply:return s.DST_COLOR;case y.BlendMode.Screen:return s.ONE;default:throw new Error("Unknown blend mode: "+a)}},s.ZERO=0,s.ONE=1,s.SRC_COLOR=768,s.ONE_MINUS_SRC_COLOR=769,s.SRC_ALPHA=770,s.ONE_MINUS_SRC_ALPHA=771,s.DST_ALPHA=772,s.ONE_MINUS_DST_ALPHA=773,s.DST_COLOR=774,s}();e.WebGLBlendModeConverter=c})(y.webgl||(y.webgl={}))})(h||(h={})),C.exports=h}).call(window)},3524:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2022 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var y=h(7473),e=h(4597),f=h(6732),c=h(2482),s=h(704),a=h(3137),r=h(1192),o=new y({Extends:a,initialize:function(v,u,d,p,g,x,T){var S,P,E,R=[],A=v.cacheManager.custom.spine;if(c(u)){var w=u;for(u=e(w,"key"),P=new s(v,{key:u,url:e(w,"jsonURL"),extension:e(w,"jsonExtension","json"),xhrSettings:e(w,"jsonXhrSettings")}),p=e(w,"atlasURL"),g=e(w,"preMultipliedAlpha"),Array.isArray(p)||(p=[p]),S=0;S<p.length;S++)E=new r(v,{key:u+"!"+S,url:p[S],extension:e(w,"atlasExtension","atlas"),xhrSettings:e(w,"atlasXhrSettings")}),E.cache=A,R.push(E)}else for(P=new s(v,u,d,x),Array.isArray(p)||(p=[p]),S=0;S<p.length;S++)E=new r(v,u+"!"+S,p[S],T),E.cache=A,R.push(E);R.unshift(P),a.call(this,v,"spine",u,R),this.config.preMultipliedAlpha=g},onFileComplete:function(l){var v=this.files.indexOf(l);if(v!==-1&&(this.pending--,l.type==="text")){for(var u=l.data.split(`
`),d=[],p=0;p<u.length;p++){var g=u[p];g.trim()===""&&p<u.length-1&&(g=u[p+1],d.push(g))}var x=this.config,T=this.loader,S=T.baseURL,P=T.path,E=T.prefix,R=e(x,"baseURL",this.baseURL),A=e(x,"path",l.src.match(/^.*\//))[0],w=e(x,"prefix",this.prefix),O=e(x,"textureXhrSettings");T.setBaseURL(R),T.setPath(A),T.setPrefix(w);for(var L=0;L<d.length;L++){var F=d[L],I=this.key+":"+F,b=new f(T,I,F,O);T.keyExists(b)||(this.addToMultiFile(b),T.addFile(b))}T.setBaseURL(S),T.setPath(P),T.setPrefix(E)}},addToCache:function(){if(this.isReadyToProcess()){var l=this.files[0];l.addToCache();for(var v,u="",d="",p=!!this.config.preMultipliedAlpha,g=this.loader.textureManager,x=1;x<this.files.length;x++){var T=this.files[x];if(T.type==="text")u=T.key.replace(/![\d]$/,""),v=T.cache,d=d.concat(T.data);else{var S=T.key.trim(),P=S.indexOf("!"),E=S.substr(P+1);g.exists(E)||g.addImage(E,T.data)}T.pendingDestroy()}v.add(u,{preMultipliedAlpha:p,data:d,prefix:this.prefix}),this.complete=!0}}});C.exports=o},4513:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2022 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var y=h(2494),e=h(7473),f=h(5851),c=h(3527),s=h(5722),a=h(1847),r=h(3524),o=h(8332),l=h(5782),v=h(1984),u=new e({Extends:s,initialize:function(p,g,x){s.call(this,p,g,x);var T=g.game;this.isWebGL=T.config.renderType===2,this.cache=T.cache.addCustom("spine"),this.spineTextures=T.cache.addCustom("spineTextures"),this.json=T.cache.json,this.textures=T.textures,this.drawDebug=!1,this.gl,this.renderer,this.sceneRenderer,this.skeletonRenderer,this.skeletonDebugRenderer,this.plugin=a,this.temp1,this.temp2,this.isWebGL?(this.runtime=a.webgl,this.renderer=T.renderer,this.gl=T.renderer.gl,this.getAtlas=this.getAtlasWebGL):(this.runtime=a.canvas,this.renderer=T.renderer,this.getAtlas=this.getAtlasCanvas),this.renderer||(this.renderer={width:T.scale.width,height:T.scale.height,preRender:v,postRender:v,render:v,destroy:v});var S=this.isWebGL,P=function(w,O,L,F,I){S&&this.scene.sys.renderer.pipelines.clear();var b=this.scene.sys[x],G=new o(this.scene,b,w,O,L,F,I);return this.displayList.add(G),this.updateList.add(G),S&&this.scene.sys.renderer.pipelines.rebind(),G},E=function(w,O){w===void 0&&(w={}),S&&this.scene.sys.renderer.pipelines.clear();var L=f(w,"key",null),F=f(w,"animationName",null),I=f(w,"loop",!1),b=this.scene.sys[x],G=new o(this.scene,b,0,0,L,F,I);O!==void 0&&(w.add=O),y(this.scene,G,w);var N=f(w,"skinName",!1);N&&G.setSkinByName(N);var U=f(w,"slotName",!1),Y=f(w,"attachmentName",null);return U&&G.setAttachment(U,Y),S&&this.scene.sys.renderer.pipelines.rebind(),G.refresh()},R=function(w,O,L){var F=this.scene.sys[x],I=new l(this.scene,F,w,O,L);return this.displayList.add(I),I},A=function(w,O){w===void 0&&(w={});var L=f(w,"x",0),F=f(w,"y",0),I=f(w,"children",null),b=this.scene.sys[x],G=new l(this.scene,b,L,F,I);return O!==void 0&&(w.add=O),y(this.scene,G,w),G};g.registerFileType("spine",this.spineFileCallback,p),g.registerGameObject("spine",P,E),g.registerGameObject("spineContainer",R,A)},boot:function(){this.isWebGL?(this.bootWebGL(),this.onResize(),this.game.scale.on(c,this.onResize,this)):this.bootCanvas();var d=this.systems.events;d.once("shutdown",this.shutdown,this),d.once("destroy",this.destroy,this),this.game.events.once("destroy",this.gameDestroy,this)},bootCanvas:function(){this.skeletonRenderer=new a.canvas.SkeletonRenderer(this.scene.sys.context)},bootWebGL:function(){var d=function(g,x){if(g!==this.srcBlend||x!==this.dstBlend){var T=this.context.gl;this.srcBlend=g,this.dstBlend=x,this.isDrawing&&(this.flush(),T.blendFunc(this.srcBlend,this.dstBlend))}},p=this.renderer.spineSceneRenderer;p||(p=new a.webgl.SceneRenderer(this.renderer.canvas,this.gl,!0),p.batcher.setBlendMode=d,p.shapes.setBlendMode=d,this.renderer.spineSceneRenderer=p),this.sceneRenderer=p,this.skeletonRenderer=p.skeletonRenderer,this.skeletonDebugRenderer=p.skeletonDebugRenderer,this.temp1=new a.webgl.Vector3(0,0,0),this.temp2=new a.webgl.Vector3(0,0,0)},getAtlasCanvas:function(d){var p=this.cache.get(d);if(!p){console.warn("No atlas data for: "+d);return}var g,x=this.spineTextures;if(x.has(d))g=x.get(d);else{var T=this.textures;g=new a.TextureAtlas(p.data,function(S){return new a.canvas.CanvasTexture(T.get(p.prefix+d+":"+S).getSourceImage())})}return g},getAtlasWebGL:function(d){var p=this.cache.get(d);if(!p){console.warn("No atlas data for: "+d);return}var g,x=this.spineTextures;if(x.has(d))g=x.get(d);else{var T=this.textures,S=this.sceneRenderer.context.gl;S.pixelStorei(S.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),g=new a.TextureAtlas(p.data,function(P){return new a.webgl.GLTexture(S,T.get(p.prefix+d+":"+P).getSourceImage(),!1)})}return g},spineFileCallback:function(d,p,g,x,T,S,P){var E;if(P=P||{},Array.isArray(d))for(var R=0;R<d.length;R++)E=new r(this,d[R]),E.prefix=E.prefix||P.prefix||"",this.addFile(E.files);else E=new r(this,d,p,g,x,T,S),E.prefix=E.prefix||P.prefix||"",this.addFile(E.files);return this},worldToLocal:function(d,p,g,x){var T=this.temp1,S=this.temp2,P=this.sceneRenderer.camera;T.set(d+g.x,p-g.y,0);var E=P.viewportWidth,R=P.viewportHeight;return P.screenToWorld(T,E,R),x&&x.parent!==null?(x.parent.worldToLocal(S.set(T.x-g.x,T.y-g.y,0)),new a.Vector2(S.x,S.y)):x?new a.Vector2(T.x-g.x,T.y-g.y):new a.Vector2(T.x,T.y)},getVector2:function(d,p){return new a.Vector2(d,p)},getVector3:function(d,p,g){return new a.webgl.Vector3(d,p,g)},setDebugBones:function(d){return d===void 0&&(d=!0),this.skeletonDebugRenderer.drawBones=d,this},setDebugRegionAttachments:function(d){return d===void 0&&(d=!0),this.skeletonDebugRenderer.drawRegionAttachments=d,this},setDebugBoundingBoxes:function(d){return d===void 0&&(d=!0),this.skeletonDebugRenderer.drawBoundingBoxes=d,this},setDebugMeshHull:function(d){return d===void 0&&(d=!0),this.skeletonDebugRenderer.drawMeshHull=d,this},setDebugMeshTriangles:function(d){return d===void 0&&(d=!0),this.skeletonDebugRenderer.drawMeshTriangles=d,this},setDebugPaths:function(d){return d===void 0&&(d=!0),this.skeletonDebugRenderer.drawPaths=d,this},setDebugSkeletonXY:function(d){return d===void 0&&(d=!0),this.skeletonDebugRenderer.drawSkeletonXY=d,this},setDebugClipping:function(d){return d===void 0&&(d=!0),this.skeletonDebugRenderer.drawClipping=d,this},setEffect:function(d){return this.sceneRenderer.skeletonRenderer.vertexEffect=d,this},createSkeleton:function(d,p){var g=d,x=d,T=d.indexOf(".")!==-1;if(T){var S=d.split(".");g=S.shift(),x=S.join(".")}var P=this.cache.get(g),E=this.getAtlas(g);if(!E)return null;this.spineTextures.has(g)||this.spineTextures.add(g,E);var R=P.preMultipliedAlpha,A=new a.AtlasAttachmentLoader(E),w=new a.SkeletonJson(A),O;if(p)O=p;else{var L=this.json.get(g);O=T?f(L,x):L}if(O){var F=w.readSkeletonData(O),I=new a.Skeleton(F);return{skeletonData:F,skeleton:I,preMultipliedAlpha:R}}else return null},createAnimationState:function(d){var p=new a.AnimationStateData(d.data),g=new a.AnimationState(p);return{stateData:p,state:g}},getBounds:function(d){var p=new a.Vector2,g=new a.Vector2;return d.getBounds(p,g,[]),{offset:p,size:g}},onResize:function(){var d=this.renderer,p=this.sceneRenderer,g=d.width,x=d.height;p.camera.position.x=g/2,p.camera.position.y=x/2,p.camera.setViewport(g,x)},shutdown:function(){var d=this.systems.events;d.off("shutdown",this.shutdown,this),this.isWebGL&&this.game.scale.off(c,this.onResize,this)},destroy:function(){this.shutdown(),this.game=null,this.scene=null,this.systems=null,this.cache=null,this.spineTextures=null,this.json=null,this.textures=null,this.skeletonRenderer=null,this.gl=null},gameDestroy:function(){this.pluginManager.removeGameObject("spine",!0,!0),this.pluginManager.removeGameObject("spineContainer",!0,!0),this.pluginManager=null;var d=this.renderer.spineSceneRenderer;d&&d.dispose(),this.renderer.spineSceneRenderer=null,this.sceneRenderer=null}});u.SpineGameObject=o,u.SpineContainer=l,C.exports=u},5782:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2022 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var y=h(7473),e=h(7361),f=h(7738),c=new y({Extends:e,Mixins:[f],initialize:function(a,r,o,l,v){e.call(this,a,o,l,v),this.type="Spine",this.plugin=r},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[],this._displayList=null,this.plugin=null}});C.exports=c},8064:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2022 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f){var c=y.list;if(c.length!==0){e.addToRenderList(y);var s=y.localTransform;f?(s.loadIdentity(),s.multiply(f),s.translate(y.x,y.y),s.rotate(y.rotation),s.scale(y.scaleX,y.scaleY)):s.applyITRS(y.x,y.y,y.rotation,y.scaleX,y.scaleY);var a=y.blendMode!==-1;a||h.setBlendMode(0);var r=y._alpha,o=y.scrollFactorX,l=y.scrollFactorY;y.mask&&y.mask.preRenderCanvas(h,null,e);for(var v=0;v<c.length;v++){var u=c[v];if(u.willRender(e)){var d=u.alpha,p=u.scrollFactorX,g=u.scrollFactorY;!a&&u.blendMode!==h.currentBlendMode&&h.setBlendMode(u.blendMode),u.setScrollFactor(p*o,g*l),u.setAlpha(d*r),u.renderCanvas(h,u,e,s),u.setAlpha(d),u.setScrollFactor(p,g)}}y.mask&&y.mask.postRenderCanvas(h)}};C.exports=M},7738:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2022 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(1984),e=h(1984);y=h(434),e=h(8064),C.exports={renderWebGL:y,renderCanvas:e}},434:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2022 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f){var c=y.plugin,s=c.sceneRenderer,a=y.list;if(a.length===0){s.batcher.isDrawing&&h.finalType&&(s.end(),h.pipelines.rebind());return}e.addToRenderList(y);var r=y.localTransform;f?(r.loadIdentity(),r.multiply(f),r.translate(y.x,y.y),r.rotate(y.rotation),r.scale(y.scaleX,y.scaleY)):r.applyITRS(y.x,y.y,y.rotation,y.scaleX,y.scaleY),h.newType&&(h.pipelines.clear(),s.begin());var o=h.nextTypeMatch;h.nextTypeMatch=!0,h.newType=!1;for(var l=0;l<a.length;l++){var v=a[l];if(v.willRender(e,y)){var u=v.mask;u&&(s.end(),h.pipelines.rebind(),u.preRenderWebGL(h,v,e),h.pipelines.clear(),s.begin()),v.renderWebGL(h,v,e,r,y),u&&(s.end(),h.pipelines.rebind(),u.postRenderWebGL(h,e),h.pipelines.clear(),s.begin())}}h.nextTypeMatch=o,(!o||y.mask)&&(s.end(),h.pipelines.rebind())};C.exports=M},6576:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2022 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="complete"},8621:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2022 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="dispose"},8944:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2022 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="end"},7494:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2022 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="event"},1908:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2022 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="interrupted"},5591:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2022 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="start"},5146:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2022 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={COMPLETE:h(6576),DISPOSE:h(8621),END:h(8944),EVENT:h(7494),INTERRUPTED:h(1908),START:h(5591)}},8332:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2022 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var y=h(6412),e=h(2915),f=h(7473),c=h(1991),s=h(3131),a=h(9660),r=h(4627),o=h(3212),l=h(8414),v=h(3426),u=h(7149),d=h(2273),p=h(4208),g=h(5146),x=h(2762),T=new f({Extends:d,Mixins:[c,s,a,r,o,l,x],initialize:function(P,E,R,A,w,O,L){d.call(this,P,"Spine"),this.plugin=E,this.skeleton=null,this.skeletonData=null,this.state=null,this.stateData=null,this.root=null,this.bounds=null,this.drawDebug=!1,this.timeScale=1,this.displayOriginX=0,this.displayOriginY=0,this.preMultipliedAlpha=!1,this.blendMode=-1,this.setPosition(R,A),w&&this.setSkeleton(w,O,L)},willRender:function(S,P){var E=15,R=!this.skeleton||!(E!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&S.id);if(!P&&!R&&this.parentContainer){var A=this.plugin,w=A.sceneRenderer;A.gl&&w.batcher.isDrawing&&(w.end(),A.renderer.pipelines.rebind())}return R},setAlpha:function(S,P){if(S===void 0&&(S=1),P){var E=this.findSlot(P);E&&(E.color.a=e(S,0,1))}else this.alpha=S;return this},alpha:{get:function(){return this.skeleton.color.a},set:function(S){var P=e(S,0,1);this.skeleton&&(this.skeleton.color.a=P),P===0?this.renderFlags&=-3:this.renderFlags|=2}},red:{get:function(){return this.skeleton.color.r},set:function(S){var P=e(S,0,1);this.skeleton&&(this.skeleton.color.r=P)}},green:{get:function(){return this.skeleton.color.g},set:function(S){var P=e(S,0,1);this.skeleton&&(this.skeleton.color.g=P)}},blue:{get:function(){return this.skeleton.color.b},set:function(S){var P=e(S,0,1);this.skeleton&&(this.skeleton.color.b=P)}},setColor:function(S,P){S===void 0&&(S=16777215);var E=(S>>16&255)/255,R=(S>>8&255)/255,A=(S&255)/255,w=S>16777215?(S>>>24)/255:null,O=this.skeleton;if(P){var L=this.findSlot(P);L&&(O=L)}return O.color.r=E,O.color.g=R,O.color.b=A,w!==null&&(O.color.a=w),this},setSkeletonFromJSON:function(S,P,E,R){return this.setSkeleton(S,P,E,R)},setSkeleton:function(S,P,E,R){this.state&&(this.state.clearListeners(),this.state.clearListenerNotifications());var A=this.plugin.createSkeleton(S,R);this.skeletonData=A.skeletonData,this.preMultipliedAlpha=A.preMultipliedAlpha;var w=A.skeleton;return w.setSkin(),w.setToSetupPose(),this.skeleton=w,A=this.plugin.createAnimationState(w),this.state&&(this.state.clearListeners(),this.state.clearListenerNotifications()),this.state=A.state,this.stateData=A.stateData,this.state.addListener({event:this.onEvent.bind(this),complete:this.onComplete.bind(this),start:this.onStart.bind(this),end:this.onEnd.bind(this),dispose:this.onDispose.bind(this),interrupted:this.onInterrupted.bind(this)}),P&&this.setAnimation(0,P,E),this.root=this.getRootBone(),this.root&&(this.root.rotation=p(v(this.rotation))+90),this.state.apply(w),w.updateCache(),this.updateSize()},onComplete:function(S){this.emit(g.COMPLETE,S)},onDispose:function(S){this.emit(g.DISPOSE,S)},onEnd:function(S){this.emit(g.END,S)},onEvent:function(S,P){this.emit(g.EVENT,S,P)},onInterrupted:function(S){this.emit(g.INTERRUPTED,S)},onStart:function(S){this.emit(g.START,S)},refresh:function(){return this.root&&(this.root.rotation=p(v(this.rotation))+90),this.updateSize(),this.skeleton.updateCache(),this},setSize:function(S,P,E,R){var A=this.skeleton;return S===void 0&&(S=A.data.width),P===void 0&&(P=A.data.height),E===void 0&&(E=0),R===void 0&&(R=0),this.width=S,this.height=P,this.displayOriginX=A.x-E,this.displayOriginY=A.y-R,this},setOffset:function(S,P){var E=this.skeleton;return S===void 0&&(S=0),P===void 0&&(P=0),this.displayOriginX=E.x-S,this.displayOriginY=E.y-P,this},updateSize:function(){var S=this.skeleton,P=this.plugin.renderer,E=P.height,R=this.scaleX,A=this.scaleY;S.x=this.x,S.y=E-this.y,S.scaleX=1,S.scaleY=1,S.updateWorldTransform();var w=this.getBounds();return this.width=w.size.x,this.height=w.size.y,this.displayOriginX=this.x-w.offset.x,this.displayOriginY=this.y-(E-(this.height+w.offset.y)),S.scaleX=R,S.scaleY=A,S.updateWorldTransform(),this},scaleX:{get:function(){return this._scaleX},set:function(S){this._scaleX=S,this.refresh()}},scaleY:{get:function(){return this._scaleY},set:function(S){this._scaleY=S,this.refresh()}},getBoneList:function(){var S=[],P=this.skeletonData;if(P)for(var E=0;E<P.bones.length;E++)S.push(P.bones[E].name);return S},getSkinList:function(){var S=[],P=this.skeletonData;if(P)for(var E=0;E<P.skins.length;E++)S.push(P.skins[E].name);return S},getSlotList:function(){for(var S=[],P=this.skeleton,E=0;E<P.slots.length;E++)S.push(P.slots[E].data.name);return S},getAnimationList:function(){var S=[],P=this.skeletonData;if(P)for(var E=0;E<P.animations.length;E++)S.push(P.animations[E].name);return S},getCurrentAnimation:function(S){S===void 0&&(S=0);var P=this.state.getCurrent(S);if(P)return P.animation},play:function(S,P,E){return this.setAnimation(0,S,P,E),this},setAnimation:function(S,P,E,R){if(E===void 0&&(E=!1),R===void 0&&(R=!1),R&&this.state){var A=this.state.getCurrent(S);if(A&&A.animation.name===P&&!A.isComplete())return}if(this.findAnimation(P))return this.state.setAnimation(S,P,E)},addAnimation:function(S,P,E,R){return E===void 0&&(E=!1),R===void 0&&(R=0),this.state.addAnimation(S,P,E,R)},setEmptyAnimation:function(S,P){return this.state.setEmptyAnimation(S,P)},clearTrack:function(S){return this.state.clearTrack(S),this},clearTracks:function(){return this.state.clearTracks(),this},setSkinByName:function(S){var P=this.skeleton;return P.setSkinByName(S),P.setSlotsToSetupPose(),this.state.apply(P),this},setSkin:function(S){var P=this.skeleton;return P.setSkin(S),P.setSlotsToSetupPose(),this.state.apply(P),this},setMix:function(S,P,E){return this.stateData.setMix(S,P,E),this},getAttachment:function(S,P){return this.skeleton.getAttachment(S,P)},getAttachmentByName:function(S,P){return this.skeleton.getAttachmentByName(S,P)},setAttachment:function(S,P){if(Array.isArray(S)&&Array.isArray(P)&&S.length===P.length)for(var E=0;E<S.length;E++)this.skeleton.setAttachment(S[E],P[E]);else this.skeleton.setAttachment(S,P);return this},setToSetupPose:function(){return this.skeleton.setToSetupPose(),this},setSlotsToSetupPose:function(){return this.skeleton.setSlotsToSetupPose(),this},setBonesToSetupPose:function(){return this.skeleton.setBonesToSetupPose(),this},getRootBone:function(){return this.skeleton.getRootBone()},angleBoneToXY:function(S,P,E,R,A,w){R===void 0&&(R=0),A===void 0&&(A=0),w===void 0&&(w=360);var O=this.plugin.renderer,L=O.height,F=v(y(S.worldX,L-S.worldY,P,E)+u(R));return S.rotation=e(p(F),A,w),this},findBone:function(S){return this.skeleton.findBone(S)},findBoneIndex:function(S){return this.skeleton.findBoneIndex(S)},findSlot:function(S){return this.skeleton.findSlot(S)},findSlotIndex:function(S){return this.skeleton.findSlotIndex(S)},findSkin:function(S){return this.skeletonData.findSkin(S)},findEvent:function(S){return this.skeletonData.findEvent(S)},findAnimation:function(S){return this.skeletonData.findAnimation(S)},findIkConstraint:function(S){return this.skeletonData.findIkConstraint(S)},findTransformConstraint:function(S){return this.skeletonData.findTransformConstraint(S)},findPathConstraint:function(S){return this.skeletonData.findPathConstraint(S)},findPathConstraintIndex:function(S){return this.skeletonData.findPathConstraintIndex(S)},getBounds:function(){return this.plugin.getBounds(this.skeleton)},preUpdate:function(S,P){var E=this.skeleton;this.state.update(P/1e3*this.timeScale),this.state.apply(E)},preDestroy:function(){this.state&&(this.state.clearListeners(),this.state.clearListenerNotifications()),this.plugin=null,this.skeleton=null,this.skeletonData=null,this.state=null,this.stateData=null}});C.exports=T},2753:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2022 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var y=h(3426),e=h(4208),f=h(8445),c=function(s,a,r,o){var l=s.currentContext,v=a.plugin,u=a.skeleton,d=v.skeletonRenderer,p=s._tempMatrix1,g=s._tempMatrix2,x=s._tempMatrix3;r.addToRenderList(a),g.applyITRS(a.x,a.y,a.rotation,Math.abs(a.scaleX),Math.abs(a.scaleY)),p.copyFrom(r.matrix),o?(p.multiplyWithOffset(o,-r.scrollX*a.scrollFactorX,-r.scrollY*a.scrollFactorY),g.e=a.x,g.f=a.y,p.multiply(g,x)):(g.e-=r.scrollX*a.scrollFactorX,g.f-=r.scrollY*a.scrollFactorY,p.multiply(g,x)),u.x=x.tx,u.y=x.ty,u.scaleX=x.scaleX,u.scaleY=x.scaleY*-1,a.scaleX<0?(u.scaleX*=-1,a.root.rotation=e(x.rotationNormalized)):a.root.rotation=f(e(y(x.rotationNormalized))+90,0,360),a.scaleY<0&&(u.scaleY*=-1,a.scaleX<0?a.root.rotation-=e(x.rotationNormalized)*2:a.root.rotation+=e(x.rotationNormalized)*2),r.renderToTexture&&(u.y=x.ty,u.scaleY*=-1),u.updateWorldTransform(),d.ctx=l,d.debugRendering=v.drawDebug||a.drawDebug,l.save(),d.draw(u),l.restore()};C.exports=c},2762:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2022 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var y=h(1984),e=h(1984),f=h(1984);y=h(4290),f=h(780),e=h(2753),C.exports={renderWebGL:y,renderCanvas:e,renderDirect:f}},780:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2022 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var y=h(2915),e=h(3426),f=h(2208),c=h(4208),s=h(8445),a=function(r,o,l,v,u){var d=o.plugin,p=o.skeleton,g=d.sceneRenderer;r.pipelines.clear(),g.begin();var x=o.scrollFactorX,T=o.scrollFactorY,S=p.color.a;u&&(o.scrollFactorX=u.scrollFactorX,o.scrollFactorY=u.scrollFactorY,p.color.a=y(S*u.alpha,0,1)),l.addToRenderList(o);var P=f(o,l,v).calc,E=r.height;if(p.x=P.tx,p.y=E-P.ty,p.scaleX=P.scaleX,p.scaleY=P.scaleY,o.scaleX<0?(p.scaleX*=-1,o.root.rotation=s(c(P.rotationNormalized)-180,0,360)):o.root.rotation=s(c(e(P.rotationNormalized))+90,0,360),o.scaleY<0&&(p.scaleY*=-1,o.scaleX<0?o.root.rotation-=c(P.rotationNormalized)*2:o.root.rotation+=c(P.rotationNormalized)*2),p.updateWorldTransform(),g.drawSkeleton(p,o.preMultipliedAlpha),u&&(o.scrollFactorX=x,o.scrollFactorY=T,p.color.a=S),d.drawDebug||o.drawDebug){var R=p.x,A=p.y;p.x=0,p.y=0,g.drawSkeletonDebug(p,o.preMultipliedAlpha),p.x=R,p.y=A}g.end(),r.pipelines.rebind()};C.exports=a},4290:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2022 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var y=h(2915),e=h(3426),f=h(2208),c=h(4208),s=h(8445),a=function(r,o,l,v,u){var d=o.plugin,p=o.skeleton,g=d.sceneRenderer;r.newType&&(r.pipelines.clear(),g.begin());var x=o.scrollFactorX,T=o.scrollFactorY,S=p.color.a;u&&(o.scrollFactorX=u.scrollFactorX,o.scrollFactorY=u.scrollFactorY,p.color.a=y(S*u.alpha,0,1)),l.addToRenderList(o);var P=f(o,l,v).calc,E=r.height;if(p.x=P.tx,p.y=E-P.ty,p.scaleX=P.scaleX,p.scaleY=P.scaleY,o.scaleX<0?(p.scaleX*=-1,o.root.rotation=s(c(P.rotationNormalized)-180,0,360)):o.root.rotation=s(c(e(P.rotationNormalized))+90,0,360),o.scaleY<0&&(p.scaleY*=-1,o.scaleX<0?o.root.rotation-=c(P.rotationNormalized)*2:o.root.rotation+=c(P.rotationNormalized)*2),p.updateWorldTransform(),g.drawSkeleton(p,o.preMultipliedAlpha),u&&(o.scrollFactorX=x,o.scrollFactorY=T,p.color.a=S),d.drawDebug||o.drawDebug){var R=p.x,A=p.y;p.x=0,p.y=0,g.drawSkeletonDebug(p,o.preMultipliedAlpha),p.x=R,p.y=A,g.end(),r.pipelines.rebind()}else r.nextTypeMatch||(g.end(),r.pipelines.rebind())};C.exports=a},9454:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={VERSION:"3.60.0",BlendModes:h(8351),ScaleModes:h(8196),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};C.exports=y},1081:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(6748),f=new y({initialize:function(s,a){this.parent=s,this.events=a,a||(this.events=s.events?s.events:s),this.list={},this.values={},this._frozen=!1,!s.hasOwnProperty("sys")&&this.events&&this.events.once(e.DESTROY,this.destroy,this)},get:function(c){var s=this.list;if(Array.isArray(c)){for(var a=[],r=0;r<c.length;r++)a.push(s[c[r]]);return a}else return s[c]},getAll:function(){var c={};for(var s in this.list)this.list.hasOwnProperty(s)&&(c[s]=this.list[s]);return c},query:function(c){var s={};for(var a in this.list)this.list.hasOwnProperty(a)&&a.match(c)&&(s[a]=this.list[a]);return s},set:function(c,s){if(this._frozen)return this;if(typeof c=="string")return this.setValue(c,s);for(var a in c)this.setValue(a,c[a]);return this},inc:function(c,s){if(this._frozen)return this;s===void 0&&(s=1);var a=this.get(c);return a===void 0&&(a=0),this.set(c,a+s),this},toggle:function(c){return this._frozen?this:(this.set(c,!this.get(c)),this)},setValue:function(c,s){if(this._frozen)return this;if(this.has(c))this.values[c]=s;else{var a=this,r=this.list,o=this.events,l=this.parent;Object.defineProperty(this.values,c,{enumerable:!0,configurable:!0,get:function(){return r[c]},set:function(v){if(!a._frozen){var u=r[c];r[c]=v,o.emit(e.CHANGE_DATA,l,c,v,u),o.emit(e.CHANGE_DATA_KEY+c,l,v,u)}}}),r[c]=s,o.emit(e.SET_DATA,l,c,s)}return this},each:function(c,s){for(var a=[this.parent,null,void 0],r=1;r<arguments.length;r++)a.push(arguments[r]);for(var o in this.list)a[1]=o,a[2]=this.list[o],c.apply(s,a);return this},merge:function(c,s){s===void 0&&(s=!0);for(var a in c)c.hasOwnProperty(a)&&(s||!s&&!this.has(a))&&this.setValue(a,c[a]);return this},remove:function(c){if(this._frozen)return this;if(Array.isArray(c))for(var s=0;s<c.length;s++)this.removeValue(c[s]);else return this.removeValue(c);return this},removeValue:function(c){if(this.has(c)){var s=this.list[c];delete this.list[c],delete this.values[c],this.events.emit(e.REMOVE_DATA,this.parent,c,s)}return this},pop:function(c){var s=void 0;return!this._frozen&&this.has(c)&&(s=this.list[c],delete this.list[c],delete this.values[c],this.events.emit(e.REMOVE_DATA,this.parent,c,s)),s},has:function(c){return this.list.hasOwnProperty(c)},setFreeze:function(c){return this._frozen=c,this},reset:function(){for(var c in this.list)delete this.list[c],delete this.values[c];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(e.CHANGE_DATA),this.events.off(e.SET_DATA),this.events.off(e.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(c){this._frozen=!!c}},count:{get:function(){var c=0;for(var s in this.list)this.list[s]!==void 0&&c++;return c}}});C.exports=f},9044:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="changedata"},7801:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="changedata-"},4873:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="destroy"},9966:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="removedata"},4586:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="setdata"},6748:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={CHANGE_DATA:h(9044),CHANGE_DATA_KEY:h(7801),DESTROY:h(4873),REMOVE_DATA:h(9966),SET_DATA:h(4586)}},3004:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(2776),e={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function f(){if(typeof importScripts=="function")return e;e.audioData=!!window.Audio,e.webAudio=!!(window.AudioContext||window.webkitAudioContext);var c=document.createElement("audio"),s=!!c.canPlayType;try{if(s){var a=function(l,v){var u=c.canPlayType("audio/"+l).replace(/^no$/,"");return Boolean(v?u||c.canPlayType("audio/"+v).replace(/^no$/,""):u)};if(e.ogg=a('ogg; codecs="vorbis"'),e.opus=a('ogg; codecs="opus"',"opus"),e.mp3=a("mpeg"),e.wav=a("wav"),e.m4a=a("x-m4a"),e.aac=a("aac"),e.flac=a("flac","x-flac"),e.webm=a('webm; codecs="vorbis"'),c.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(y.edge)e.dolby=!0;else if(y.safari&&y.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var r=parseInt(RegExp.$1,10),o=parseInt(RegExp.$2,10);(r===10&&o>=11||r>10)&&(e.dolby=!0)}}}}catch{}return e}C.exports=f()},2776:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(5203),e={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function f(){var c=navigator.userAgent;return/Edg\/\d+/.test(c)?(e.edge=!0,e.es2019=!0):/OPR/.test(c)?(e.opera=!0,e.es2019=!0):/Chrome\/(\d+)/.test(c)&&!y.windowsPhone?(e.chrome=!0,e.chromeVersion=parseInt(RegExp.$1,10),e.es2019=e.chromeVersion>69):/Firefox\D+(\d+)/.test(c)?(e.firefox=!0,e.firefoxVersion=parseInt(RegExp.$1,10),e.es2019=e.firefoxVersion>10):/AppleWebKit/.test(c)&&y.iOS?e.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(c)?(e.ie=!0,e.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+) Safari/.test(c)&&!y.windowsPhone?(e.safari=!0,e.safariVersion=parseInt(RegExp.$1,10),e.es2019=e.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(c)&&(e.ie=!0,e.trident=!0,e.tridentVersion=parseInt(RegExp.$1,10),e.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(c)&&(e.silk=!0),e}C.exports=f()},6505:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(8073),e={supportInverseAlpha:!1,supportNewBlendModes:!1};function f(){var a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",r="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",o=new Image;return o.onload=function(){var l=new Image;l.onload=function(){var v=y.create2D(l,6),u=v.getContext("2d",{willReadFrequently:!0});if(u.globalCompositeOperation="multiply",u.drawImage(o,0,0),u.drawImage(l,2,0),!u.getImageData(2,0,1,1))return!1;var d=u.getImageData(2,0,1,1).data;y.remove(l),e.supportNewBlendModes=d[0]===255&&d[1]===0&&d[2]===0},l.src=a+"/wCKxvRF"+r},o.src=a+"AP804Oa6"+r,!1}function c(){var a=y.create2D(this,2),r=a.getContext("2d",{willReadFrequently:!0});r.fillStyle="rgba(10, 20, 30, 0.5)",r.fillRect(0,0,1,1);var o=r.getImageData(0,0,1,1);if(o===null)return!1;r.putImageData(o,1,0);var l=r.getImageData(1,0,1,1),v=l.data[0]===o.data[0]&&l.data[1]===o.data[1]&&l.data[2]===o.data[2]&&l.data[3]===o.data[3];return y.remove(this),v}function s(){return typeof importScripts!="function"&&document!==void 0&&(e.supportNewBlendModes=f(),e.supportInverseAlpha=c()),e}C.exports=s()},6543:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(5203),e=h(2776),f=h(8073),c={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function s(){var r=new ArrayBuffer(4),o=new Uint8Array(r),l=new Uint32Array(r);return o[0]=161,o[1]=178,o[2]=195,o[3]=212,l[0]===3569595041?!0:l[0]===2712847316?!1:null}function a(){if(typeof importScripts=="function")return c;c.canvas=!!window.CanvasRenderingContext2D;try{c.localStorage=!!localStorage.getItem}catch{c.localStorage=!1}c.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,c.fileSystem=!!window.requestFileSystem;var r=!1,o=function(){if(window.WebGLRenderingContext)try{var l=f.createWebGL(this),v=l.getContext("webgl")||l.getContext("experimental-webgl"),u=f.create2D(this),d=u.getContext("2d",{willReadFrequently:!0}),p=d.createImageData(1,1);return r=p.data instanceof Uint8ClampedArray,f.remove(l),f.remove(u),!!v}catch{return!1}return!1};return c.webGL=o(),c.worker=!!window.Worker,c.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,c.getUserMedia=c.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,e.firefox&&e.firefoxVersion<21&&(c.getUserMedia=!1),!y.iOS&&(e.ie||e.firefox||e.chrome)&&(c.canvasBitBltShift=!0),(e.safari||e.mobileSafari)&&(c.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(c.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(c.littleEndian=s()),c.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&c.littleEndian!==null&&r,c}C.exports=a()},3922:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={available:!1,cancel:"",keyboard:!1,request:""};function h(){if(typeof importScripts=="function")return M;var y,e="Fullscreen",f="FullScreen",c=["request"+e,"request"+f,"webkitRequest"+e,"webkitRequest"+f,"msRequest"+e,"msRequest"+f,"mozRequest"+f,"mozRequest"+e];for(y=0;y<c.length;y++)if(document.documentElement[c[y]]){M.available=!0,M.request=c[y];break}var s=["cancel"+f,"exit"+e,"webkitCancel"+f,"webkitExit"+e,"msCancel"+f,"msExit"+e,"mozCancel"+f,"mozExit"+e];if(M.available){for(y=0;y<s.length;y++)if(document[s[y]]){M.cancel=s[y];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(M.keyboard=!0),Object.defineProperty(M,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),M}C.exports=h()},1454:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(2776),e={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function f(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(e.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(e.mspointer=!0),navigator.getGamepads&&(e.gamepads=!0),"onwheel"in window||y.ie&&"WheelEvent"in window?e.wheelEvent="wheel":"onmousewheel"in window?e.wheelEvent="mousewheel":y.firefox&&"MouseScrollEvent"in window&&(e.wheelEvent="DOMMouseScroll")),e}C.exports=f()},5203:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function h(){if(typeof importScripts=="function")return M;var y=navigator.userAgent;/Windows/.test(y)?M.windows=!0:/Mac OS/.test(y)&&!/like Mac OS/.test(y)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(M.iOS=!0,M.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),M.iOSVersion=parseInt(RegExp.$1,10)):M.macOS=!0:/Android/.test(y)?M.android=!0:/Linux/.test(y)?M.linux=!0:/iP[ao]d|iPhone/i.test(y)?(M.iOS=!0,navigator.appVersion.match(/OS (\d+)/),M.iOSVersion=parseInt(RegExp.$1,10),M.iPhone=y.toLowerCase().indexOf("iphone")!==-1,M.iPad=y.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(y)||/\bKF[A-Z][A-Z]+/.test(y)||/Silk.*Mobile Safari/.test(y)?M.kindle=!0:/CrOS/.test(y)&&(M.chromeOS=!0),(/Windows Phone/i.test(y)||/IEMobile/i.test(y))&&(M.android=!1,M.iOS=!1,M.macOS=!1,M.windows=!0,M.windowsPhone=!0);var e=/Silk/.test(y);return(M.windows||M.macOS||M.linux&&!e||M.chromeOS)&&(M.desktop=!0),(M.windowsPhone||/Windows NT/i.test(y)&&/Touch/i.test(y))&&(M.desktop=!1),navigator.standalone&&(M.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(M.cordova=!0),window.ejecta!==void 0&&(M.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(M.node=!0),M.node&&typeof process.versions=="object"&&(M.nodeWebkit=!!process.versions["node-webkit"],M.electron=!!process.versions.electron),/Crosswalk/.test(y)&&(M.crosswalk=!0),M.pixelRatio=window.devicePixelRatio||1,M}C.exports=h()},2131:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(4597),e={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function f(){if(typeof importScripts=="function")return e;var c=document.createElement("video"),s=!!c.canPlayType,a=/^no$/;try{s&&(c.canPlayType('video/ogg; codecs="theora"').replace(a,"")&&(e.ogg=!0),c.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(a,"")&&(e.h264=!0,e.mp4=!0),c.canPlayType("video/x-m4v").replace(a,"")&&(e.m4v=!0),c.canPlayType('video/webm; codecs="vp8, vorbis"').replace(a,"")&&(e.webm=!0),c.canPlayType('video/webm; codecs="vp9"').replace(a,"")&&(e.vp9=!0),c.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(a,"")&&(e.hls=!0))}catch{}return c.parentNode&&c.parentNode.removeChild(c),e.getVideoURL=function(r){Array.isArray(r)||(r=[r]);for(var o=0;o<r.length;o++){var l=y(r[o],"url",r[o]);if(l.indexOf("blob:")===0)return{url:l,type:""};var v;if(l.indexOf("data:")===0?v=l.split(",")[0].match(/\/(.*?);/):v=l.match(/\.([a-zA-Z0-9]+)($|\?)/),v=y(r[o],"type",v?v[1]:"").toLowerCase(),e[v])return{url:l,type:v}}return null},e}C.exports=f()},9356:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={os:h(5203),browser:h(2776),features:h(6543),input:h(1454),audio:h(3004),video:h(2131),fullscreen:h(3922),canvasFeatures:h(6505)}},5686:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=new Float32Array(20),f=new y({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(c){return this._matrix.set(c),this._dirty=!0,this},reset:function(){var c=this._matrix;return c.fill(0),c[0]=1,c[6]=1,c[12]=1,c[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var c=this._data;return this._dirty&&(c.set(this._matrix),c[4]/=255,c[9]/=255,c[14]/=255,c[19]/=255,this._dirty=!1),c},brightness:function(c,s){c===void 0&&(c=0),s===void 0&&(s=!1);var a=c;return this.multiply([a,0,0,0,0,0,a,0,0,0,0,0,a,0,0,0,0,0,1,0],s)},saturate:function(c,s){c===void 0&&(c=0),s===void 0&&(s=!1);var a=c*2/3+1,r=(a-1)*-.5;return this.multiply([a,r,r,0,0,r,a,r,0,0,r,r,a,0,0,0,0,0,1,0],s)},desaturate:function(c){return c===void 0&&(c=!1),this.saturate(-1,c)},hue:function(c,s){c===void 0&&(c=0),s===void 0&&(s=!1),c=c/180*Math.PI;var a=Math.cos(c),r=Math.sin(c),o=.213,l=.715,v=.072;return this.multiply([o+a*(1-o)+r*-o,l+a*-l+r*-l,v+a*-v+r*(1-v),0,0,o+a*-o+r*.143,l+a*(1-l)+r*.14,v+a*-v+r*-.283,0,0,o+a*-o+r*-(1-o),l+a*-l+r*l,v+a*(1-v)+r*v,0,0,0,0,0,1,0],s)},grayscale:function(c,s){return c===void 0&&(c=1),s===void 0&&(s=!1),this.saturate(-c,s)},blackWhite:function(c){return c===void 0&&(c=!1),this.multiply(f.BLACK_WHITE,c)},contrast:function(c,s){c===void 0&&(c=0),s===void 0&&(s=!1);var a=c+1,r=-.5*(a-1);return this.multiply([a,0,0,0,r,0,a,0,0,r,0,0,a,0,r,0,0,0,1,0],s)},negative:function(c){return c===void 0&&(c=!1),this.multiply(f.NEGATIVE,c)},desaturateLuminance:function(c){return c===void 0&&(c=!1),this.multiply(f.DESATURATE_LUMINANCE,c)},sepia:function(c){return c===void 0&&(c=!1),this.multiply(f.SEPIA,c)},night:function(c,s){return c===void 0&&(c=.1),s===void 0&&(s=!1),this.multiply([c*-2,-c,0,0,0,-c,0,c,0,0,0,c,c*2,0,0,0,0,0,1,0],s)},lsd:function(c){return c===void 0&&(c=!1),this.multiply(f.LSD,c)},brown:function(c){return c===void 0&&(c=!1),this.multiply(f.BROWN,c)},vintagePinhole:function(c){return c===void 0&&(c=!1),this.multiply(f.VINTAGE,c)},kodachrome:function(c){return c===void 0&&(c=!1),this.multiply(f.KODACHROME,c)},technicolor:function(c){return c===void 0&&(c=!1),this.multiply(f.TECHNICOLOR,c)},polaroid:function(c){return c===void 0&&(c=!1),this.multiply(f.POLAROID,c)},shiftToBGR:function(c){return c===void 0&&(c=!1),this.multiply(f.SHIFT_BGR,c)},multiply:function(c,s){s===void 0&&(s=!1),s||this.reset();var a=this._matrix,r=e;return r.set(a),a.set([r[0]*c[0]+r[1]*c[5]+r[2]*c[10]+r[3]*c[15],r[0]*c[1]+r[1]*c[6]+r[2]*c[11]+r[3]*c[16],r[0]*c[2]+r[1]*c[7]+r[2]*c[12]+r[3]*c[17],r[0]*c[3]+r[1]*c[8]+r[2]*c[13]+r[3]*c[18],r[0]*c[4]+r[1]*c[9]+r[2]*c[14]+r[3]*c[19]+r[4],r[5]*c[0]+r[6]*c[5]+r[7]*c[10]+r[8]*c[15],r[5]*c[1]+r[6]*c[6]+r[7]*c[11]+r[8]*c[16],r[5]*c[2]+r[6]*c[7]+r[7]*c[12]+r[8]*c[17],r[5]*c[3]+r[6]*c[8]+r[7]*c[13]+r[8]*c[18],r[5]*c[4]+r[6]*c[9]+r[7]*c[14]+r[8]*c[19]+r[9],r[10]*c[0]+r[11]*c[5]+r[12]*c[10]+r[13]*c[15],r[10]*c[1]+r[11]*c[6]+r[12]*c[11]+r[13]*c[16],r[10]*c[2]+r[11]*c[7]+r[12]*c[12]+r[13]*c[17],r[10]*c[3]+r[11]*c[8]+r[12]*c[13]+r[13]*c[18],r[10]*c[4]+r[11]*c[9]+r[12]*c[14]+r[13]*c[19]+r[14],r[15]*c[0]+r[16]*c[5]+r[17]*c[10]+r[18]*c[15],r[15]*c[1]+r[16]*c[6]+r[17]*c[11]+r[18]*c[16],r[15]*c[2]+r[16]*c[7]+r[17]*c[12]+r[18]*c[17],r[15]*c[3]+r[16]*c[8]+r[17]*c[13]+r[18]*c[18],r[15]*c[4]+r[16]*c[9]+r[17]*c[14]+r[18]*c[19]+r[19]]),this._dirty=!0,this}});f.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],f.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],f.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],f.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],f.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],f.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],f.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],f.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],f.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],f.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],f.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],C.exports=f},8073:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(9454),e=h(2150),f=[],c=!1,s=function(){var a=function(x,T,S,P,E){T===void 0&&(T=1),S===void 0&&(S=1),P===void 0&&(P=y.CANVAS),E===void 0&&(E=!1);var R,A=l(P);return A===null?(A={parent:x,canvas:document.createElement("canvas"),type:P},P===y.CANVAS&&f.push(A),R=A.canvas):(A.parent=x,R=A.canvas),E&&(A.parent=R),R.width=T,R.height=S,c&&P===y.CANVAS&&e.disable(R.getContext("2d",{willReadFrequently:!1})),R},r=function(x,T,S){return a(x,T,S,y.CANVAS)},o=function(x,T,S){return a(x,T,S,y.WEBGL)},l=function(x){if(x===void 0&&(x=y.CANVAS),x===y.WEBGL)return null;for(var T=0;T<f.length;T++){var S=f[T];if(!S.parent&&S.type===x)return S}return null},v=function(x){var T=x instanceof HTMLCanvasElement;f.forEach(function(S){(T&&S.canvas===x||!T&&S.parent===x)&&(S.parent=null,S.canvas.width=1,S.canvas.height=1)})},u=function(){var x=0;return f.forEach(function(T){T.parent&&x++}),x},d=function(){return f.length-u()},p=function(){c=!0},g=function(){c=!1};return{create2D:r,create:a,createWebGL:o,disableSmoothing:p,enableSmoothing:g,first:l,free:d,pool:f,remove:v,total:u}};C.exports=s()},2150:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M="",h=function(){var y=function(s){for(var a=["i","webkitI","msI","mozI","oI"],r=0;r<a.length;r++){var o=a[r]+"mageSmoothingEnabled";if(o in s)return o}return null},e=function(s){return M===""&&(M=y(s)),M&&(s[M]=!0),s},f=function(s){return M===""&&(M=y(s)),M&&(s[M]=!1),s},c=function(s){return M!==null?s[M]:null};return{disable:f,enable:e,getPrefix:y,isEnabled:c}};C.exports=h()},7499:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(3649),f=new y({initialize:function(s,a,r,o,l,v){a||(a=s.sys.make.image({x:r,y:o,key:l,frame:v,add:!1})),this.bitmapMask=a,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(c){this.bitmapMask=c},preRenderWebGL:function(c,s,a){c.pipelines.BITMAPMASK_PIPELINE.beginMask(this,s,a)},postRenderWebGL:function(c,s,a){c.pipelines.BITMAPMASK_PIPELINE.endMask(this,s,a)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});e.register("bitmapMask",function(c,s,a,r,o){return new f(this.scene,c,s,a,r,o)}),C.exports=f},6726:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=new y({initialize:function(c,s){this.geometryMask=s,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(f){return this.geometryMask=f,this},setInvertAlpha:function(f){return f===void 0&&(f=!0),this.invertAlpha=f,this},preRenderWebGL:function(f,c,s){var a=f.gl;f.flush(),f.maskStack.length===0&&(a.enable(a.STENCIL_TEST),a.clear(a.STENCIL_BUFFER_BIT),f.maskCount=0),f.currentCameraMask.mask!==this&&(f.currentMask.mask=this),f.maskStack.push({mask:this,camera:s}),this.applyStencil(f,s,!0),f.maskCount++},applyStencil:function(f,c,s){var a=f.gl,r=this.geometryMask,o=f.maskCount,l=255;a.colorMask(!1,!1,!1,!1),s?(a.stencilFunc(a.EQUAL,o,l),a.stencilOp(a.KEEP,a.KEEP,a.INCR),o++):(a.stencilFunc(a.EQUAL,o+1,l),a.stencilOp(a.KEEP,a.KEEP,a.DECR)),this.level=o,r.renderWebGL(f,r,c),f.flush(),a.colorMask(!0,!0,!0,!0),a.stencilOp(a.KEEP,a.KEEP,a.KEEP),this.invertAlpha?a.stencilFunc(a.NOTEQUAL,o,l):a.stencilFunc(a.EQUAL,o,l)},postRenderWebGL:function(f){var c=f.gl;f.maskStack.pop(),f.maskCount--,f.flush();var s=f.currentMask;if(f.maskStack.length===0)s.mask=null,c.disable(c.STENCIL_TEST);else{var a=f.maskStack[f.maskStack.length-1];a.mask.applyStencil(f,a.camera,!1),f.currentCameraMask.mask!==a.mask?(s.mask=a.mask,s.camera=a.camera):s.mask=null}},preRenderCanvas:function(f,c,s){var a=this.geometryMask;f.currentContext.save(),a.renderCanvas(f,a,s,null,null,!0),f.currentContext.clip()},postRenderCanvas:function(f){f.currentContext.restore()},destroy:function(){this.geometryMask=null}});C.exports=e},7340:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(6128),f=h(1571),c=new y({Extends:e,initialize:function(a,r){r===void 0&&(r=1),e.call(this,f.BARREL,a),this.amount=r}});C.exports=c},5170:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(6128),f=h(1571),c=new y({Extends:e,initialize:function(a,r,o,l,v,u,d){o===void 0&&(o=1),l===void 0&&(l=1),v===void 0&&(v=1),u===void 0&&(u=1),d===void 0&&(d=4),e.call(this,f.BLOOM,a),this.steps=d,this.offsetX=o,this.offsetY=l,this.blurStrength=v,this.strength=u,this.glcolor=[1,1,1],r!=null&&(this.color=r)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var a=this.glcolor;a[0]=(s>>16&255)/255,a[1]=(s>>8&255)/255,a[2]=(s&255)/255}}});C.exports=c},4199:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(6128),f=h(1571),c=new y({Extends:e,initialize:function(a,r,o,l,v,u,d){o===void 0&&(o=2),l===void 0&&(l=2),v===void 0&&(v=1),d===void 0&&(d=4),e.call(this,f.BLUR,a),this.quality=0,this.x=o,this.y=l,this.steps=d,this.strength=v,this.glcolor=[1,1,1],u!=null&&(this.color=u)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var a=this.glcolor;a[0]=(s>>16&255)/255,a[1]=(s>>8&255)/255,a[2]=(s&255)/255}}});C.exports=c},3132:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(6128),f=h(1571),c=new y({Extends:e,initialize:function(a,r,o,l,v,u,d,p){r===void 0&&(r=.5),o===void 0&&(o=1),l===void 0&&(l=.2),v===void 0&&(v=!1),u===void 0&&(u=1),d===void 0&&(d=1),p===void 0&&(p=1),e.call(this,f.BOKEH,a),this.radius=r,this.amount=o,this.contrast=l,this.isTiltShift=v,this.strength=p,this.blurX=u,this.blurY=d}});C.exports=c},6610:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(6128),f=h(1571),c=new y({Extends:e,initialize:function(a,r,o,l,v,u){r===void 0&&(r=8),v===void 0&&(v=1),u===void 0&&(u=.005),e.call(this,f.CIRCLE,a),this.scale=v,this.feather=u,this.thickness=r,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],o!=null&&(this.color=o),l!=null&&(this.backgroundColor=l)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var a=this.glcolor;a[0]=(s>>16&255)/255,a[1]=(s>>8&255)/255,a[2]=(s&255)/255}},backgroundColor:{get:function(){var s=this.glcolor2;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var a=this.glcolor2;a[0]=(s>>16&255)/255,a[1]=(s>>8&255)/255,a[2]=(s&255)/255}}});C.exports=c},4931:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(5686),f=h(1571),c=new y({Extends:e,initialize:function(a){e.call(this),this.type=f.COLOR_MATRIX,this.gameObject=a,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});C.exports=c},6128:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=new y({initialize:function(c,s){this.type=c,this.gameObject=s,this.active=!0},setActive:function(f){return this.active=f,this},destroy:function(){this.gameObject=null,this.active=!1}});C.exports=e},9195:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(6128),f=h(1571),c=new y({Extends:e,initialize:function(a,r,o,l){r===void 0&&(r="__WHITE"),o===void 0&&(o=.005),l===void 0&&(l=.005),e.call(this,f.DISPLACEMENT,a),this.x=o,this.y=l,this.glTexture,this.setTexture(r)},setTexture:function(s){var a=this.gameObject.scene.sys.textures.getFrame(s);return a&&(this.glTexture=a.glTexture),this}});C.exports=c},445:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(6128),f=h(1571),c=new y({Extends:e,initialize:function(a,r,o,l,v){o===void 0&&(o=4),l===void 0&&(l=0),v===void 0&&(v=!1),e.call(this,f.GLOW,a),this.outerStrength=o,this.innerStrength=l,this.knockout=v,this.glcolor=[1,1,1,1],r!==void 0&&(this.color=r)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var a=this.glcolor;a[0]=(s>>16&255)/255,a[1]=(s>>8&255)/255,a[2]=(s&255)/255}}});C.exports=c},7724:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(6128),f=h(1571),c=new y({Extends:e,initialize:function(a,r,o,l,v,u,d,p,g){l===void 0&&(l=.2),v===void 0&&(v=0),u===void 0&&(u=0),d===void 0&&(d=0),p===void 0&&(p=1),g===void 0&&(g=0),e.call(this,f.GRADIENT,a),this.alpha=l,this.size=g,this.fromX=v,this.fromY=u,this.toX=d,this.toY=p,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],r!=null&&(this.color1=r),o!=null&&(this.color2=o)},color1:{get:function(){var s=this.glcolor1;return(s[0]<<16)+(s[1]<<8)+(s[2]|0)},set:function(s){var a=this.glcolor1;a[0]=s>>16&255,a[1]=s>>8&255,a[2]=s&255}},color2:{get:function(){var s=this.glcolor2;return(s[0]<<16)+(s[1]<<8)+(s[2]|0)},set:function(s){var a=this.glcolor2;a[0]=s>>16&255,a[1]=s>>8&255,a[2]=s&255}}});C.exports=c},4412:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(6128),f=h(1571),c=new y({Extends:e,initialize:function(a,r){r===void 0&&(r=1),e.call(this,f.PIXELATE,a),this.amount=r}});C.exports=c},75:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(6128),f=h(1571),c=new y({Extends:e,initialize:function(a,r,o,l,v,u,d,p){r===void 0&&(r=0),o===void 0&&(o=0),l===void 0&&(l=.1),v===void 0&&(v=1),d===void 0&&(d=6),p===void 0&&(p=1),e.call(this,f.SHADOW,a),this.x=r,this.y=o,this.decay=l,this.power=v,this.glcolor=[0,0,0,1],this.samples=d,this.intensity=p,u!==void 0&&(this.color=u)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var a=this.glcolor;a[0]=(s>>16&255)/255,a[1]=(s>>8&255)/255,a[2]=(s&255)/255}}});C.exports=c},8734:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(6128),f=h(1571),c=new y({Extends:e,initialize:function(a,r,o,l,v){r===void 0&&(r=.5),o===void 0&&(o=.5),l===void 0&&(l=3),v===void 0&&(v=!1),e.call(this,f.SHINE,a),this.speed=r,this.lineWidth=o,this.gradient=l,this.reveal=v}});C.exports=c},2437:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(6128),f=h(1571),c=new y({Extends:e,initialize:function(a,r,o,l,v){r===void 0&&(r=.5),o===void 0&&(o=.5),l===void 0&&(l=.5),v===void 0&&(v=.5),e.call(this,f.VIGNETTE,a),this.x=r,this.y=o,this.radius=l,this.strength=v}});C.exports=c},5984:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(6128),f=h(1571),c=new y({Extends:e,initialize:function(a,r,o,l,v){r===void 0&&(r=.1),o===void 0&&(o=0),l===void 0&&(l=0),v===void 0&&(v=!1),e.call(this,f.WIPE,a),this.progress=0,this.wipeWidth=r,this.direction=o,this.axis=l,this.reveal=v}});C.exports=c},1571:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};C.exports=M},7347:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(1030),e=h(1571),f={Barrel:h(7340),Controller:h(6128),Bloom:h(5170),Blur:h(4199),Bokeh:h(3132),Circle:h(6610),ColorMatrix:h(4931),Displacement:h(9195),Glow:h(445),Gradient:h(7724),Pixelate:h(4412),Shadow:h(75),Shine:h(8734),Vignette:h(2437),Wipe:h(5984)};f=y(!1,f,e),C.exports=f},2494:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(8351),e=h(8361),f=function(c,s,a){s.x=e(a,"x",0),s.y=e(a,"y",0),s.depth=e(a,"depth",0),s.flipX=e(a,"flipX",!1),s.flipY=e(a,"flipY",!1);var r=e(a,"scale",null);typeof r=="number"?s.setScale(r):r!==null&&(s.scaleX=e(r,"x",1),s.scaleY=e(r,"y",1));var o=e(a,"scrollFactor",null);typeof o=="number"?s.setScrollFactor(o):o!==null&&(s.scrollFactorX=e(o,"x",1),s.scrollFactorY=e(o,"y",1)),s.rotation=e(a,"rotation",0);var l=e(a,"angle",null);l!==null&&(s.angle=l),s.alpha=e(a,"alpha",1);var v=e(a,"origin",null);if(typeof v=="number")s.setOrigin(v);else if(v!==null){var u=e(v,"x",.5),d=e(v,"y",.5);s.setOrigin(u,d)}s.blendMode=e(a,"blendMode",y.NORMAL),s.visible=e(a,"visible",!0);var p=e(a,"add",!0);return p&&c.sys.displayList.add(s),s.preUpdate&&c.sys.updateList.add(s),s};C.exports=f},2273:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(6125),f=h(1081),c=h(4399),s=h(3389),a=h(204),r=new y({Extends:c,initialize:function(l,v){c.call(this),this.scene=l,this.displayList=null,this.type=v,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(s.ADDED_TO_SCENE,this.addedToScene,this),this.on(s.REMOVED_FROM_SCENE,this.removedFromScene,this),l.sys.queueDepthSort()},setActive:function(o){return this.active=o,this},setName:function(o){return this.name=o,this},setState:function(o){return this.state=o,this},setDataEnabled:function(){return this.data||(this.data=new f(this)),this},setData:function(o,l){return this.data||(this.data=new f(this)),this.data.set(o,l),this},incData:function(o,l){return this.data||(this.data=new f(this)),this.data.inc(o,l),this},toggleData:function(o){return this.data||(this.data=new f(this)),this.data.toggle(o),this},getData:function(o){return this.data||(this.data=new f(this)),this.data.get(o)},setInteractive:function(o,l,v){return this.scene.sys.input.enable(this,o,l,v),this},disableInteractive:function(){return this.scene.sys.input.disable(this),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return e(this)},willRender:function(o){var l=this.displayList&&this.displayList.active?this.displayList.willRender(o):!0;return!(!l||r.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&o.id)},getIndexList:function(){for(var o=this,l=this.parentContainer,v=[];l&&(v.unshift(l.getIndex(o)),o=l,l.parentContainer);)l=l.parentContainer;return this.displayList?v.unshift(this.displayList.getIndex(o)):v.unshift(this.scene.sys.displayList.getIndex(o)),v},addToDisplayList:function(o){return o===void 0&&(o=this.scene.sys.displayList),this.displayList&&this.displayList!==o&&this.removeFromDisplayList(),o.exists(this)||(this.displayList=o,o.add(this,!0),o.queueDepthSort(),this.emit(s.ADDED_TO_SCENE,this,this.scene),o.events.emit(a.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var o=this.displayList||this.scene.sys.displayList;return o&&o.exists(this)&&(o.remove(this,!0),o.queueDepthSort(),this.displayList=null,this.emit(s.REMOVED_FROM_SCENE,this,this.scene),o.events.emit(a.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(o){!this.scene||this.ignoreDestroy||(o===void 0&&(o=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(s.DESTROY,this,o),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});r.RENDER_MASK=15,C.exports=r},3649:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(8456),f=h(204),c=new y({initialize:function(a){this.scene=a,this.systems=a.sys,this.events=a.sys.events,this.displayList,this.updateList,this.events.once(f.BOOT,this.boot,this),this.events.on(f.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(f.DESTROY,this.destroy,this)},start:function(){this.events.once(f.SHUTDOWN,this.shutdown,this)},existing:function(s){return(s.renderCanvas||s.renderWebGL)&&this.displayList.add(s),s.preUpdate&&this.updateList.add(s),s},shutdown:function(){this.events.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(f.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});c.register=function(s,a){c.prototype.hasOwnProperty(s)||(c.prototype[s]=a)},c.remove=function(s){c.prototype.hasOwnProperty(s)&&delete c.prototype[s]},e.register("GameObjectFactory",c,"add"),C.exports=c},2208:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(4227),e=new y,f=new y,c=new y,s={camera:e,sprite:f,calc:c},a=function(r,o,l){var v=e,u=f,d=c;return u.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),v.copyFrom(o.matrix),l?(v.multiplyWithOffset(l,-o.scrollX*r.scrollFactorX,-o.scrollY*r.scrollFactorY),u.e=r.x,u.f=r.y):(u.e-=o.scrollX*r.scrollFactorX,u.f-=o.scrollY*r.scrollFactorY),v.multiply(u,d),s};C.exports=a},4344:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(2915),e=2,f={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(c,s,a,r){return c===void 0&&(c=1),s===void 0?this.alpha=c:(this._alphaTL=y(c,0,1),this._alphaTR=y(s,0,1),this._alphaBL=y(a,0,1),this._alphaBR=y(r,0,1)),this},alpha:{get:function(){return this._alpha},set:function(c){var s=y(c,0,1);this._alpha=s,this._alphaTL=s,this._alphaTR=s,this._alphaBL=s,this._alphaBR=s,s===0?this.renderFlags&=~e:this.renderFlags|=e}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(c){var s=y(c,0,1);this._alphaTL=s,s!==0&&(this.renderFlags|=e)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(c){var s=y(c,0,1);this._alphaTR=s,s!==0&&(this.renderFlags|=e)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(c){var s=y(c,0,1);this._alphaBL=s,s!==0&&(this.renderFlags|=e)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(c){var s=y(c,0,1);this._alphaBR=s,s!==0&&(this.renderFlags|=e)}}};C.exports=f},4518:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(2915),e=2,f={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(c){return c===void 0&&(c=1),this.alpha=c,this},alpha:{get:function(){return this._alpha},set:function(c){var s=y(c,0,1);this._alpha=s,s===0?this.renderFlags&=~e:this.renderFlags|=e}}};C.exports=f},5173:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(8351),e={_blendMode:y.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(f){typeof f=="string"&&(f=y[f]),f|=0,f>=-1&&(this._blendMode=f)}},setBlendMode:function(f){return this.blendMode=f,this}};C.exports=e},1991:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(h){this.scaleX=h/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(h){this.scaleY=h/this.height}},setSize:function(h,y){return this.width=h,this.height=y,this},setDisplaySize:function(h,y){return this.displayWidth=h,this.displayHeight=y,this}};C.exports=M},8305:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={texture:null,frame:null,isCropped:!1,setCrop:function(h,y,e,f){if(h===void 0)this.isCropped=!1;else if(this.frame){if(typeof h=="number")this.frame.setCropUVs(this._crop,h,y,e,f,this.flipX,this.flipY);else{var c=h;this.frame.setCropUVs(this._crop,c.x,c.y,c.width,c.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};C.exports=M},3131:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={_depth:0,depth:{get:function(){return this._depth},set:function(h){this.displayList&&this.displayList.queueDepthSort(),this._depth=h}},setDepth:function(h){return h===void 0&&(h=0),this.depth=h,this}};C.exports=M},1626:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(7347),f=h(8935),c=new y({initialize:function(a,r){this.gameObject=a,this.isPost=r,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(s){return s===void 0&&(s=0),this.padding=s,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(s){if(!this.isPost){var a=this.gameObject.scene.sys.renderer;a&&a.pipelines?(this.gameObject.pipeline=a.pipelines.FX_PIPELINE,s!==void 0&&(this.padding=s),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var s=this.list,a=0;a<s.length;a++)s[a].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(s){var a;if(this.isPost){var r=this.gameObject.getPostPipeline(String(s.type));for(Array.isArray(r)||(r=[r]),a=0;a<r.length;a++){var o=r[a];if(o.controller===s){this.gameObject.removePostPipeline(o),s.destroy();break}}}else{var l=this.list;for(a=0;a<l.length;a++)l[a]===s&&(f(l,a),s.destroy())}return this.gameObject},disable:function(s){return s===void 0&&(s=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,s&&this.clear(),this.gameObject},add:function(s,a){if(this.isPost){var r=String(s.type);this.gameObject.setPostPipeline(r,a);var o=this.gameObject.getPostPipeline(r);if(o)return Array.isArray(o)&&(o=o.pop()),o.controller=s,s}else return this.enabled||this.enable(),this.list.push(s),s},addGlow:function(s,a,r,o,l,v){return this.add(new e.Glow(this.gameObject,s,a,r,o),{quality:l,distance:v})},addShadow:function(s,a,r,o,l,v,u){return this.add(new e.Shadow(this.gameObject,s,a,r,o,l,v,u))},addPixelate:function(s){return this.add(new e.Pixelate(this.gameObject,s))},addVignette:function(s,a,r,o){return this.add(new e.Vignette(this.gameObject,s,a,r,o))},addShine:function(s,a,r,o){return this.add(new e.Shine(this.gameObject,s,a,r,o))},addBlur:function(s,a,r,o,l,v){return this.add(new e.Blur(this.gameObject,s,a,r,o,l,v))},addGradient:function(s,a,r,o,l,v,u,d){return this.add(new e.Gradient(this.gameObject,s,a,r,o,l,v,u,d))},addBloom:function(s,a,r,o,l,v){return this.add(new e.Bloom(this.gameObject,s,a,r,o,l,v))},addColorMatrix:function(){return this.add(new e.ColorMatrix(this.gameObject))},addCircle:function(s,a,r,o,l){return this.add(new e.Circle(this.gameObject,s,a,r,o,l))},addBarrel:function(s){return this.add(new e.Barrel(this.gameObject,s))},addDisplacement:function(s,a,r){return this.add(new e.Displacement(this.gameObject,s,a,r))},addWipe:function(s,a,r){return this.add(new e.Wipe(this.gameObject,s,a,r))},addReveal:function(s,a,r){return this.add(new e.Wipe(this.gameObject,s,a,r,!0))},addBokeh:function(s,a,r){return this.add(new e.Bokeh(this.gameObject,s,a,r))},addTiltShift:function(s,a,r,o,l,v){return this.add(new e.Bokeh(this.gameObject,s,a,r,!0,o,l,v))},destroy:function(){this.clear(),this.gameObject=null}});C.exports=c},9660:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(h){return this.flipX=h,this},setFlipY:function(h){return this.flipY=h,this},setFlip:function(h,y){return this.flipX=h,this.flipY=y,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};C.exports=M},3671:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(1392),e=h(9876),f=h(2529),c={prepareBoundsOutput:function(s,a){if(a===void 0&&(a=!1),this.rotation!==0&&e(s,this.x,this.y,this.rotation),a&&this.parentContainer){var r=this.parentContainer.getBoundsTransformMatrix();r.transformPoint(s.x,s.y,s)}return s},getCenter:function(s,a){return s===void 0&&(s=new f),s.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,s.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(s,a)},getTopLeft:function(s,a){return s||(s=new f),s.x=this.x-this.displayWidth*this.originX,s.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(s,a)},getTopCenter:function(s,a){return s||(s=new f),s.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,s.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(s,a)},getTopRight:function(s,a){return s||(s=new f),s.x=this.x-this.displayWidth*this.originX+this.displayWidth,s.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(s,a)},getLeftCenter:function(s,a){return s||(s=new f),s.x=this.x-this.displayWidth*this.originX,s.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(s,a)},getRightCenter:function(s,a){return s||(s=new f),s.x=this.x-this.displayWidth*this.originX+this.displayWidth,s.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(s,a)},getBottomLeft:function(s,a){return s||(s=new f),s.x=this.x-this.displayWidth*this.originX,s.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(s,a)},getBottomCenter:function(s,a){return s||(s=new f),s.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,s.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(s,a)},getBottomRight:function(s,a){return s||(s=new f),s.x=this.x-this.displayWidth*this.originX+this.displayWidth,s.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(s,a)},getBounds:function(s){s===void 0&&(s=new y);var a,r,o,l,v,u,d,p;if(this.parentContainer){var g=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(s),g.transformPoint(s.x,s.y,s),a=s.x,r=s.y,this.getTopRight(s),g.transformPoint(s.x,s.y,s),o=s.x,l=s.y,this.getBottomLeft(s),g.transformPoint(s.x,s.y,s),v=s.x,u=s.y,this.getBottomRight(s),g.transformPoint(s.x,s.y,s),d=s.x,p=s.y}else this.getTopLeft(s),a=s.x,r=s.y,this.getTopRight(s),o=s.x,l=s.y,this.getBottomLeft(s),v=s.x,u=s.y,this.getBottomRight(s),d=s.x,p=s.y;return s.x=Math.min(a,o,v,d),s.y=Math.min(r,l,u,p),s.width=Math.max(a,o,v,d)-s.x,s.height=Math.max(r,l,u,p)-s.y,s}};C.exports=c},2246:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7499),e=h(6726),f={mask:null,setMask:function(c){return this.mask=c,this},clearMask:function(c){return c===void 0&&(c=!1),c&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(c,s,a,r,o){return c===void 0&&(this.texture||this.shader||this.geom)&&(c=this),new y(this.scene,c,s,a,r,o)},createGeometryMask:function(c){return c===void 0&&(this.type==="Graphics"||this.geom)&&(c=this),new e(this.scene,c)}};C.exports=f},5085:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(h){this._displayOriginX=h,this.originX=h/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(h){this._displayOriginY=h,this.originY=h/this.height}},setOrigin:function(h,y){return h===void 0&&(h=.5),y===void 0&&(y=h),this.originX=h,this.originY=y,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(h,y){return h===void 0&&(h=0),y===void 0&&(y=h),this.displayOriginX=h,this.displayOriginY=y,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};C.exports=M},77:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7149),e=h(1864),f=h(5851),c=h(3747),s=h(2529),a={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:c.PLAYING_FORWARD,setPath:function(r,o){o===void 0&&(o=this.pathConfig);var l=this.pathTween;return l&&l.isPlaying()&&l.stop(),this.path=r,o&&this.startFollow(o),this},setRotateToPath:function(r,o){return o===void 0&&(o=0),this.rotateToPath=r,this.pathRotationOffset=o,this},isFollowing:function(){var r=this.pathTween;return r&&r.isPlaying()},startFollow:function(r,o){r===void 0&&(r={}),o===void 0&&(o=0);var l=this.pathTween;l&&l.isPlaying()&&l.stop(),typeof r=="number"&&(r={duration:r}),r.from=f(r,"from",0),r.to=f(r,"to",1);var v=e(r,"positionOnPath",!1);this.rotateToPath=e(r,"rotateToPath",!1),this.pathRotationOffset=f(r,"rotationOffset",0);var u=f(r,"startAt",o);if(u&&(r.onStart=function(p){var g=p.data[0];g.progress=u,g.elapsed=g.duration*u;var x=g.ease(g.progress);g.current=g.start+(g.end-g.start)*x,g.setTargetValue()}),this.pathOffset||(this.pathOffset=new s(this.x,this.y)),this.pathVector||(this.pathVector=new s),this.pathDelta||(this.pathDelta=new s),this.pathDelta.reset(),r.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(r),this.path.getStartPoint(this.pathOffset),v&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=c.PLAYING_FORWARD,this.rotateToPath){var d=this.path.getPoint(.1);this.rotation=Math.atan2(d.y-this.y,d.x-this.x)+y(this.pathRotationOffset)}return this.pathConfig=r,this},pauseFollow:function(){var r=this.pathTween;return r&&r.isPlaying()&&r.pause(),this},resumeFollow:function(){var r=this.pathTween;return r&&r.isPaused()&&r.resume(),this},stopFollow:function(){var r=this.pathTween;return r&&r.isPlaying()&&r.stop(),this},pathUpdate:function(){var r=this.pathTween;if(r){var o=r.data[0],l=this.pathDelta,v=this.pathVector;if(l.copy(v).negate(),o.state===c.COMPLETE){this.path.getPoint(o.end,v),l.add(v),v.add(this.pathOffset),this.setPosition(v.x,v.y);return}else if(o.state!==c.PLAYING_FORWARD&&o.state!==c.PLAYING_BACKWARD)return;this.path.getPoint(r.getValue(),v),l.add(v),v.add(this.pathOffset);var u=this.x,d=this.y;this.setPosition(v.x,v.y);var p=this.x-u,g=this.y-d;if(p===0&&g===0)return;if(o.state!==this._prevDirection){this._prevDirection=o.state;return}this.rotateToPath&&(this.rotation=Math.atan2(g,p)+y(this.pathRotationOffset))}}};C.exports=a},986:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(3911),e={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(f){this.pipelineData={};var c=this.scene.sys.renderer;if(!c)return!1;var s=c.pipelines;if(s){f===void 0&&(f=s.default);var a=s.get(f);if(a)return this.defaultPipeline=a,this.pipeline=a,!0}return!1},setPipeline:function(f,c,s){var a=this.scene.sys.renderer;if(!a)return this;var r=a.pipelines;if(r){var o=r.get(f);o&&(this.pipeline=o),c&&(this.pipelineData=s?y(c):c)}return this},setPipelineData:function(f,c){var s=this.pipelineData;return c===void 0?delete s[f]:s[f]=c,this},resetPipeline:function(f){return f===void 0&&(f=!1),this.pipeline=this.defaultPipeline,f&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline.name}};C.exports=e},4461:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(3911),e=h(1626),f=h(8935),c={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(s){this.postPipelines=[],this.postPipelineData={},this.postFX=new e(this,!0),s&&(this.preFX=new e(this,!1))},setPostPipeline:function(s,a,r){var o=this.scene.sys.renderer;if(!o)return this;var l=o.pipelines;if(l){Array.isArray(s)||(s=[s]);for(var v=0;v<s.length;v++){var u=l.getPostPipeline(s[v],this,a);u&&this.postPipelines.push(u)}a&&(this.postPipelineData=r?y(a):a)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(s,a){var r=this.postPipelineData;return a===void 0?delete r[s]:r[s]=a,this},getPostPipeline:function(s){for(var a=typeof s=="string",r=this.postPipelines,o=[],l=0;l<r.length;l++){var v=r[l];(a&&v.name===s||!a&&v instanceof s)&&o.push(v)}return o.length===1?o[0]:o},resetPostPipeline:function(s){s===void 0&&(s=!1);for(var a=this.postPipelines,r=0;r<a.length;r++)a[r].destroy();this.postPipelines=[],this.hasPostPipeline=!1,s&&(this.postPipelineData={})},removePostPipeline:function(s){for(var a=typeof s=="string",r=this.postPipelines,o=r.length-1;o>=0;o--){var l=r[o];(a&&l.name===s||!a&&l===s)&&(l.destroy(),f(r,o))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};C.exports=c},4627:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(h,y){return y===void 0&&(y=h),this.scrollFactorX=h,this.scrollFactorY=y,this}};C.exports=M},1868:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(h){this.scaleX=h/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(h){this.scaleY=h/this.frame.realHeight}},setSizeToFrame:function(h){h||(h=this.frame),this.width=h.realWidth,this.height=h.realHeight;var y=this.input;return y&&!y.customHitArea&&(y.hitArea.width=this.width,y.hitArea.height=this.height),this},setSize:function(h,y){return this.width=h,this.height=y,this},setDisplaySize:function(h,y){return this.displayWidth=h,this.displayHeight=y,this}};C.exports=M},4976:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(2362),e=8,f={texture:null,frame:null,isCropped:!1,setTexture:function(c,s){return this.texture=this.scene.sys.textures.get(c),this.setFrame(s)},setFrame:function(c,s,a){return s===void 0&&(s=!0),a===void 0&&(a=!0),c instanceof y?(this.texture=this.scene.sys.textures.get(c.texture.key),this.frame=c):this.frame=this.texture.get(c),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~e:this.renderFlags|=e,this._sizeComponent&&s&&this.setSizeToFrame(),this._originComponent&&a&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};C.exports=f},9243:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(2362),e=8,f={texture:null,frame:null,isCropped:!1,setCrop:function(c,s,a,r){if(c===void 0)this.isCropped=!1;else if(this.frame){if(typeof c=="number")this.frame.setCropUVs(this._crop,c,s,a,r,this.flipX,this.flipY);else{var o=c;this.frame.setCropUVs(this._crop,o.x,o.y,o.width,o.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(c,s){return this.texture=this.scene.sys.textures.get(c),this.setFrame(s)},setFrame:function(c,s,a){return s===void 0&&(s=!0),a===void 0&&(a=!0),c instanceof y?(this.texture=this.scene.sys.textures.get(c.texture.key),this.frame=c):this.frame=this.texture.get(c),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~e:this.renderFlags|=e,this._sizeComponent&&s&&this.setSizeToFrame(),this._originComponent&&a&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};C.exports=f},5693:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(h,y,e,f){return h===void 0&&(h=16777215),y===void 0&&(y=h,e=h,f=h),this.tintTopLeft=h,this.tintTopRight=y,this.tintBottomLeft=e,this.tintBottomRight=f,this.tintFill=!1,this},setTintFill:function(h,y,e,f){return this.setTint(h,y,e,f),this.tintFill=!0,this},tint:{set:function(h){this.setTint(h,h,h,h)}},isTinted:{get:function(){var h=16777215;return this.tintFill||this.tintTopLeft!==h||this.tintTopRight!==h||this.tintBottomLeft!==h||this.tintBottomRight!==h}}};C.exports=M},6125:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){var y={name:h.name,type:h.type,x:h.x,y:h.y,depth:h.depth,scale:{x:h.scaleX,y:h.scaleY},origin:{x:h.originX,y:h.originY},flipX:h.flipX,flipY:h.flipY,rotation:h.rotation,alpha:h.alpha,visible:h.visible,blendMode:h.blendMode,textureKey:"",frameKey:"",data:{}};return h.texture&&(y.textureKey=h.texture.key,y.frameKey=h.frame.name),y};C.exports=M},3212:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7425),e=h(4227),f=h(7556),c=h(3692),s=h(2820),a=h(2529),r=4,o={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(l){this._scaleX=l,this._scaleY=l,l===0?this.renderFlags&=~r:this.renderFlags|=r}},scaleX:{get:function(){return this._scaleX},set:function(l){this._scaleX=l,l===0?this.renderFlags&=~r:this._scaleY!==0&&(this.renderFlags|=r)}},scaleY:{get:function(){return this._scaleY},set:function(l){this._scaleY=l,l===0?this.renderFlags&=~r:this._scaleX!==0&&(this.renderFlags|=r)}},angle:{get:function(){return s(this._rotation*y.RAD_TO_DEG)},set:function(l){this.rotation=s(l)*y.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(l){this._rotation=c(l)}},setPosition:function(l,v,u,d){return l===void 0&&(l=0),v===void 0&&(v=l),u===void 0&&(u=0),d===void 0&&(d=0),this.x=l,this.y=v,this.z=u,this.w=d,this},copyPosition:function(l){return l.x!==void 0&&(this.x=l.x),l.y!==void 0&&(this.y=l.y),l.z!==void 0&&(this.z=l.z),l.w!==void 0&&(this.w=l.w),this},setRandomPosition:function(l,v,u,d){return l===void 0&&(l=0),v===void 0&&(v=0),u===void 0&&(u=this.scene.sys.scale.width),d===void 0&&(d=this.scene.sys.scale.height),this.x=l+Math.random()*u,this.y=v+Math.random()*d,this},setRotation:function(l){return l===void 0&&(l=0),this.rotation=l,this},setAngle:function(l){return l===void 0&&(l=0),this.angle=l,this},setScale:function(l,v){return l===void 0&&(l=1),v===void 0&&(v=l),this.scaleX=l,this.scaleY=v,this},setX:function(l){return l===void 0&&(l=0),this.x=l,this},setY:function(l){return l===void 0&&(l=0),this.y=l,this},setZ:function(l){return l===void 0&&(l=0),this.z=l,this},setW:function(l){return l===void 0&&(l=0),this.w=l,this},getLocalTransformMatrix:function(l){return l===void 0&&(l=new e),l.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(l,v){l===void 0&&(l=new e);var u=this.parentContainer;if(!u)return this.getLocalTransformMatrix(l);for(v||(v=new e),l.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);u;)v.applyITRS(u.x,u.y,u._rotation,u._scaleX,u._scaleY),v.multiply(l,l),u=u.parentContainer;return l},getLocalPoint:function(l,v,u,d){u||(u=new a),d||(d=this.scene.sys.cameras.main);var p=d.scrollX,g=d.scrollY,x=l+p*this.scrollFactorX-p,T=v+g*this.scrollFactorY-g;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(x,T,u):f(x,T,this.x,this.y,this.rotation,this.scaleX,this.scaleY,u),this._originComponent&&(u.x+=this._displayOriginX,u.y+=this._displayOriginY),u},getParentRotation:function(){for(var l=0,v=this.parentContainer;v;)l+=v.rotation,v=v.parentContainer;return l}};C.exports=o},4227:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(7425),f=h(2529),c=new y({initialize:function(a,r,o,l,v,u){a===void 0&&(a=1),r===void 0&&(r=0),o===void 0&&(o=0),l===void 0&&(l=1),v===void 0&&(v=0),u===void 0&&(u=0),this.matrix=new Float32Array([a,r,o,l,v,u,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(s){this.matrix[0]=s}},b:{get:function(){return this.matrix[1]},set:function(s){this.matrix[1]=s}},c:{get:function(){return this.matrix[2]},set:function(s){this.matrix[2]=s}},d:{get:function(){return this.matrix[3]},set:function(s){this.matrix[3]=s}},e:{get:function(){return this.matrix[4]},set:function(s){this.matrix[4]=s}},f:{get:function(){return this.matrix[5]},set:function(s){this.matrix[5]=s}},tx:{get:function(){return this.matrix[4]},set:function(s){this.matrix[4]=s}},ty:{get:function(){return this.matrix[5]},set:function(s){this.matrix[5]=s}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var s=this.matrix,a=s[0],r=s[1],o=s[2],l=s[3];return a||r?r>0?Math.acos(a/this.scaleX):-Math.acos(a/this.scaleX):o||l?e.TAU-(l>0?Math.acos(-o/this.scaleY):-Math.acos(o/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var s=this.matrix;return s[0]=1,s[1]=0,s[2]=0,s[3]=1,s[4]=0,s[5]=0,this},translate:function(s,a){var r=this.matrix;return r[4]=r[0]*s+r[2]*a+r[4],r[5]=r[1]*s+r[3]*a+r[5],this},scale:function(s,a){var r=this.matrix;return r[0]*=s,r[1]*=s,r[2]*=a,r[3]*=a,this},rotate:function(s){var a=Math.sin(s),r=Math.cos(s),o=this.matrix,l=o[0],v=o[1],u=o[2],d=o[3];return o[0]=l*r+u*a,o[1]=v*r+d*a,o[2]=l*-a+u*r,o[3]=v*-a+d*r,this},multiply:function(s,a){var r=this.matrix,o=s.matrix,l=r[0],v=r[1],u=r[2],d=r[3],p=r[4],g=r[5],x=o[0],T=o[1],S=o[2],P=o[3],E=o[4],R=o[5],A=a===void 0?r:a.matrix;return A[0]=x*l+T*u,A[1]=x*v+T*d,A[2]=S*l+P*u,A[3]=S*v+P*d,A[4]=E*l+R*u+p,A[5]=E*v+R*d+g,A},multiplyWithOffset:function(s,a,r){var o=this.matrix,l=s.matrix,v=o[0],u=o[1],d=o[2],p=o[3],g=o[4],x=o[5],T=a*v+r*d+g,S=a*u+r*p+x,P=l[0],E=l[1],R=l[2],A=l[3],w=l[4],O=l[5];return o[0]=P*v+E*d,o[1]=P*u+E*p,o[2]=R*v+A*d,o[3]=R*u+A*p,o[4]=w*v+O*d+T,o[5]=w*u+O*p+S,this},transform:function(s,a,r,o,l,v){var u=this.matrix,d=u[0],p=u[1],g=u[2],x=u[3],T=u[4],S=u[5];return u[0]=s*d+a*g,u[1]=s*p+a*x,u[2]=r*d+o*g,u[3]=r*p+o*x,u[4]=l*d+v*g+T,u[5]=l*p+v*x+S,this},transformPoint:function(s,a,r){r===void 0&&(r={x:0,y:0});var o=this.matrix,l=o[0],v=o[1],u=o[2],d=o[3],p=o[4],g=o[5];return r.x=s*l+a*u+p,r.y=s*v+a*d+g,r},invert:function(){var s=this.matrix,a=s[0],r=s[1],o=s[2],l=s[3],v=s[4],u=s[5],d=a*l-r*o;return s[0]=l/d,s[1]=-r/d,s[2]=-o/d,s[3]=a/d,s[4]=(o*u-l*v)/d,s[5]=-(a*u-r*v)/d,this},copyFrom:function(s){var a=this.matrix;return a[0]=s.a,a[1]=s.b,a[2]=s.c,a[3]=s.d,a[4]=s.e,a[5]=s.f,this},copyFromArray:function(s){var a=this.matrix;return a[0]=s[0],a[1]=s[1],a[2]=s[2],a[3]=s[3],a[4]=s[4],a[5]=s[5],this},copyToContext:function(s){var a=this.matrix;return s.transform(a[0],a[1],a[2],a[3],a[4],a[5]),s},setToContext:function(s){var a=this.matrix;return s.setTransform(a[0],a[1],a[2],a[3],a[4],a[5]),s},copyToArray:function(s){var a=this.matrix;return s===void 0?s=[a[0],a[1],a[2],a[3],a[4],a[5]]:(s[0]=a[0],s[1]=a[1],s[2]=a[2],s[3]=a[3],s[4]=a[4],s[5]=a[5]),s},setTransform:function(s,a,r,o,l,v){var u=this.matrix;return u[0]=s,u[1]=a,u[2]=r,u[3]=o,u[4]=l,u[5]=v,this},decomposeMatrix:function(){var s=this.decomposedMatrix,a=this.matrix,r=a[0],o=a[1],l=a[2],v=a[3],u=r*v-o*l;if(s.translateX=a[4],s.translateY=a[5],r||o){var d=Math.sqrt(r*r+o*o);s.rotation=o>0?Math.acos(r/d):-Math.acos(r/d),s.scaleX=d,s.scaleY=u/d}else if(l||v){var p=Math.sqrt(l*l+v*v);s.rotation=Math.PI*.5-(v>0?Math.acos(-l/p):-Math.acos(l/p)),s.scaleX=u/p,s.scaleY=p}else s.rotation=0,s.scaleX=0,s.scaleY=0;return s},applyITRS:function(s,a,r,o,l){var v=this.matrix,u=Math.sin(r),d=Math.cos(r);return v[4]=s,v[5]=a,v[0]=d*o,v[1]=u*o,v[2]=-u*l,v[3]=d*l,this},applyInverse:function(s,a,r){r===void 0&&(r=new f);var o=this.matrix,l=o[0],v=o[1],u=o[2],d=o[3],p=o[4],g=o[5],x=1/(l*d+u*-v);return r.x=d*x*s+-u*x*a+(g*u-p*d)*x,r.y=l*x*a+-v*x*s+(-g*l+p*v)*x,r},setQuad:function(s,a,r,o,l,v){v===void 0&&(v=this.quad);var u=this.matrix,d=u[0],p=u[1],g=u[2],x=u[3],T=u[4],S=u[5];return v[0]=s*d+a*g+T,v[1]=s*p+a*x+S,v[2]=s*d+o*g+T,v[3]=s*p+o*x+S,v[4]=r*d+o*g+T,v[5]=r*p+o*x+S,v[6]=r*d+a*g+T,v[7]=r*p+a*x+S,l&&v.forEach(function(P,E){v[E]=Math.round(P)}),v},getX:function(s,a){return s*this.a+a*this.c+this.e},getY:function(s,a){return s*this.b+a*this.d+this.f},getXRound:function(s,a,r){var o=this.getX(s,a);return r&&(o=Math.round(o)),o},getYRound:function(s,a,r){var o=this.getY(s,a);return r&&(o=Math.round(o)),o},getCSSMatrix:function(){var s=this.matrix;return"matrix("+s[0]+","+s[1]+","+s[2]+","+s[3]+","+s[4]+","+s[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});C.exports=c},8414:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=1,h={_visible:!0,visible:{get:function(){return this._visible},set:function(y){y?(this._visible=!0,this.renderFlags|=M):(this._visible=!1,this.renderFlags&=~M)}},setVisible:function(y){return this.visible=y,this}};C.exports=h},4286:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Alpha:h(4344),AlphaSingle:h(4518),BlendMode:h(5173),ComputedSize:h(1991),Crop:h(8305),Depth:h(3131),Flip:h(9660),FX:h(1626),GetBounds:h(3671),Mask:h(2246),Origin:h(5085),PathFollower:h(77),Pipeline:h(986),PostPipeline:h(4461),ScrollFactor:h(4627),Size:h(1868),Texture:h(4976),TextureCrop:h(9243),Tint:h(5693),ToJSON:h(6125),Transform:h(3212),TransformMatrix:h(4227),Visible:h(8414)}},7361:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(1953),e=h(8351),f=h(7473),c=h(4286),s=h(3389),a=h(2273),r=h(1392),o=h(3232),l=h(9422),v=h(2529),u=new f({Extends:a,Mixins:[c.AlphaSingle,c.BlendMode,c.ComputedSize,c.Depth,c.Mask,c.PostPipeline,c.Transform,c.Visible,o],initialize:function(p,g,x,T){a.call(this,p,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new c.TransformMatrix,this.tempTransformMatrix=new c.TransformMatrix,this._sortKey="",this._sysEvents=p.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(g,x),this.setBlendMode(e.SKIP_CHECK),T&&this.add(T)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(d){return d===void 0&&(d=!0),this.exclusive=d,this},getBounds:function(d){if(d===void 0&&(d=new r),d.setTo(this.x,this.y,0,0),this.parentContainer){var p=this.parentContainer.getBoundsTransformMatrix(),g=p.transformPoint(this.x,this.y);d.setTo(g.x,g.y,0,0)}if(this.list.length>0){var x=this.list,T=new r,S=!1;d.setEmpty();for(var P=0;P<x.length;P++){var E=x[P];E.getBounds&&(E.getBounds(T),S?l(T,d,d):(d.setTo(T.x,T.y,T.width,T.height),S=!0))}}return d},addHandler:function(d){d.once(s.DESTROY,this.remove,this),this.exclusive&&(d.parentContainer&&d.parentContainer.remove(d),d.parentContainer=this,d.removeFromDisplayList(),d.addedToScene())},removeHandler:function(d){d.off(s.DESTROY,this.remove,this),this.exclusive&&(d.parentContainer=null,d.removedFromScene(),d.addToDisplayList())},pointToContainer:function(d,p){p===void 0&&(p=new v),this.parentContainer?this.parentContainer.pointToContainer(d,p):(p.x=d.x,p.y=d.y);var g=this.tempTransformMatrix;return g.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),g.invert(),g.transformPoint(d.x,d.y,p),p},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(d){return y.Add(this.list,d,this.maxSize,this.addHandler,this),this},addAt:function(d,p){return y.AddAt(this.list,d,p,this.maxSize,this.addHandler,this),this},getAt:function(d){return this.list[d]},getIndex:function(d){return this.list.indexOf(d)},sort:function(d,p){return d?(p===void 0&&(p=function(g,x){return g[d]-x[d]}),y.StableSort(this.list,p),this):this},getByName:function(d){return y.GetFirst(this.list,"name",d)},getRandom:function(d,p){return y.GetRandom(this.list,d,p)},getFirst:function(d,p,g,x){return y.GetFirst(this.list,d,p,g,x)},getAll:function(d,p,g,x){return y.GetAll(this.list,d,p,g,x)},count:function(d,p,g,x){return y.CountAllMatching(this.list,d,p,g,x)},swap:function(d,p){return y.Swap(this.list,d,p),this},moveTo:function(d,p){return y.MoveTo(this.list,d,p),this},moveAbove:function(d,p){return y.MoveAbove(this.list,d,p),this},moveBelow:function(d,p){return y.MoveBelow(this.list,d,p),this},remove:function(d,p){var g=y.Remove(this.list,d,this.removeHandler,this);if(p&&g){Array.isArray(g)||(g=[g]);for(var x=0;x<g.length;x++)g[x].destroy()}return this},removeAt:function(d,p){var g=y.RemoveAt(this.list,d,this.removeHandler,this);return p&&g&&g.destroy(),this},removeBetween:function(d,p,g){var x=y.RemoveBetween(this.list,d,p,this.removeHandler,this);if(g)for(var T=0;T<x.length;T++)x[T].destroy();return this},removeAll:function(d){var p=this.list;if(d){for(var g=0;g<p.length;g++)p[g]&&p[g].scene&&(p[g].off(s.DESTROY,this.remove,this),p[g].destroy());this.list=[]}else y.RemoveBetween(p,0,p.length,this.removeHandler,this);return this},bringToTop:function(d){return y.BringToTop(this.list,d),this},sendToBack:function(d){return y.SendToBack(this.list,d),this},moveUp:function(d){return y.MoveUp(this.list,d),this},moveDown:function(d){return y.MoveDown(this.list,d),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return y.Shuffle(this.list),this},replace:function(d,p,g){var x=y.Replace(this.list,d,p);return x&&(this.addHandler(p),this.removeHandler(d),g&&d.destroy()),this},exists:function(d){return this.list.indexOf(d)>-1},setAll:function(d,p,g,x){return y.SetAll(this.list,d,p,g,x),this},each:function(d,p){var g=[null],x,T=this.list.slice(),S=T.length;for(x=2;x<arguments.length;x++)g.push(arguments[x]);for(x=0;x<S;x++)g[0]=T[x],d.apply(p,g);return this},iterate:function(d,p){var g=[null],x;for(x=2;x<arguments.length;x++)g.push(arguments[x]);for(x=0;x<this.list.length;x++)g[0]=this.list[x],d.apply(p,g);return this},setScrollFactor:function(d,p,g){return p===void 0&&(p=d),g===void 0&&(g=!1),this.scrollFactorX=d,this.scrollFactorY=p,g&&(y.SetAll(this.list,"scrollFactorX",d),y.SetAll(this.list,"scrollFactorY",p)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]}});C.exports=u},2840:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f){e.addToRenderList(y);var c=y.list;if(c.length!==0){var s=y.localTransform;f?(s.loadIdentity(),s.multiply(f),s.translate(y.x,y.y),s.rotate(y.rotation),s.scale(y.scaleX,y.scaleY)):s.applyITRS(y.x,y.y,y.rotation,y.scaleX,y.scaleY);var a=y.blendMode!==-1;a||h.setBlendMode(0);var r=y._alpha,o=y.scrollFactorX,l=y.scrollFactorY;y.mask&&y.mask.preRenderCanvas(h,null,e);for(var v=0;v<c.length;v++){var u=c[v];if(u.willRender(e)){var d=u.alpha,p=u.scrollFactorX,g=u.scrollFactorY;!a&&u.blendMode!==h.currentBlendMode&&h.setBlendMode(u.blendMode),u.setScrollFactor(p*o,g*l),u.setAlpha(d*r),u.renderCanvas(h,u,e,s),u.setAlpha(d),u.setScrollFactor(p,g)}}y.mask&&y.mask.postRenderCanvas(h)}};C.exports=M},3232:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(1984),e=y,f=y;e=h(4343),f=h(2840),C.exports={renderWebGL:e,renderCanvas:f}},4343:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f){e.addToRenderList(y);var c=y.list,s=c.length;if(s!==0){var a=y.localTransform;f?(a.loadIdentity(),a.multiply(f),a.translate(y.x,y.y),a.rotate(y.rotation),a.scale(y.scaleX,y.scaleY)):a.applyITRS(y.x,y.y,y.rotation,y.scaleX,y.scaleY),h.pipelines.preBatch(y);var r=y.blendMode!==-1;r||h.setBlendMode(0);for(var o=y.alpha,l=y.scrollFactorX,v=y.scrollFactorY,u=0;u<s;u++){var d=c[u];if(d.willRender(e)){var p,g,x,T;if(d.alphaTopLeft!==void 0)p=d.alphaTopLeft,g=d.alphaTopRight,x=d.alphaBottomLeft,T=d.alphaBottomRight;else{var S=d.alpha;p=S,g=S,x=S,T=S}var P=d.scrollFactorX,E=d.scrollFactorY;!r&&d.blendMode!==h.currentBlendMode&&h.setBlendMode(d.blendMode);var R=d.mask;R&&R.preRenderWebGL(h,d,e);var A=d.type;A!==h.currentType&&(h.newType=!0,h.currentType=A),h.nextTypeMatch=u<s-1?c[u+1].type===h.currentType:!1,d.setScrollFactor(P*l,E*v),d.setAlpha(p*o,g*o,x*o,T*o),d.renderWebGL(h,d,e,a,y),d.setAlpha(p,g,x,T),d.setScrollFactor(P,E),R&&R.postRenderWebGL(h,e),h.newType=!1}}h.pipelines.postBatch(y)}};C.exports=M},6608:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="addedtoscene"},4265:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="destroy"},8671:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="removedfromscene"},3420:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="complete"},601:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="created"},7919:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="error"},6231:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="locked"},5241:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="loop"},8325:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="playing"},3356:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="play"},7513:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="seeked"},5788:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="seeking"},7111:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="stalled"},8118:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="stop"},9184:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="textureready"},4287:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="unlocked"},857:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="unsupported"},3389:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={ADDED_TO_SCENE:h(6608),DESTROY:h(4265),REMOVED_FROM_SCENE:h(8671),VIDEO_COMPLETE:h(3420),VIDEO_CREATED:h(601),VIDEO_ERROR:h(7919),VIDEO_LOCKED:h(6231),VIDEO_LOOP:h(5241),VIDEO_PLAY:h(3356),VIDEO_PLAYING:h(8325),VIDEO_SEEKED:h(7513),VIDEO_SEEKING:h(5788),VIDEO_STALLED:h(7111),VIDEO_STOP:h(8118),VIDEO_TEXTURE:h(9184),VIDEO_UNLOCKED:h(4287),VIDEO_UNSUPPORTED:h(857)}},1643:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};C.exports=M},8881:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7655),e=function(f,c,s){return s===void 0&&(s=new y),s.x=f.x1+(f.x2-f.x1)*c,s.y=f.y1+(f.y2-f.y1)*c,s};C.exports=e},4479:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(4771),e=h(7655),f=function(c,s,a,r){r===void 0&&(r=[]),!s&&a>0&&(s=y(c)/a);for(var o=c.x1,l=c.y1,v=c.x2,u=c.y2,d=0;d<s;d++){var p=d/s,g=o+(v-o)*p,x=l+(u-l)*p;r.push(new e(g,x))}return r};C.exports=f},4771:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return Math.sqrt((h.x2-h.x1)*(h.x2-h.x1)+(h.y2-h.y1)*(h.y2-h.y1))};C.exports=M},284:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(8881),f=h(4479),c=h(1643),s=h(3915),a=h(2529),r=new y({initialize:function(l,v,u,d){l===void 0&&(l=0),v===void 0&&(v=0),u===void 0&&(u=0),d===void 0&&(d=0),this.type=c.LINE,this.x1=l,this.y1=v,this.x2=u,this.y2=d},getPoint:function(o,l){return e(this,o,l)},getPoints:function(o,l,v){return f(this,o,l,v)},getRandomPoint:function(o){return s(this,o)},setTo:function(o,l,v,u){return o===void 0&&(o=0),l===void 0&&(l=0),v===void 0&&(v=0),u===void 0&&(u=0),this.x1=o,this.y1=l,this.x2=v,this.y2=u,this},getPointA:function(o){return o===void 0&&(o=new a),o.set(this.x1,this.y1),o},getPointB:function(o){return o===void 0&&(o=new a),o.set(this.x2,this.y2),o},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(o){this.x1<=this.x2?this.x1=o:this.x2=o}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(o){this.x1>this.x2?this.x1=o:this.x2=o}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(o){this.y1<=this.y2?this.y1=o:this.y2=o}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(o){this.y1>this.y2?this.y1=o:this.y2=o}}});C.exports=r},3915:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7655),e=function(f,c){c===void 0&&(c=new y);var s=Math.random();return c.x=f.x1+s*(f.x2-f.x1),c.y=f.y1+s*(f.y2-f.y1),c};C.exports=e},7655:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(1643),f=new y({initialize:function(s,a){s===void 0&&(s=0),a===void 0&&(a=s),this.type=e.POINT,this.x=s,this.y=a},setTo:function(c,s){return c===void 0&&(c=0),s===void 0&&(s=c),this.x=c,this.y=s,this}});C.exports=f},5956:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){return h.width<=0||h.height<=0?!1:h.x<=y&&h.x+h.width>=y&&h.y<=e&&h.y+h.height>=e};C.exports=M},716:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7120),e=h(7655),f=function(c,s,a){if(a===void 0&&(a=new e),s<=0||s>=1)return a.x=c.x,a.y=c.y,a;var r=y(c)*s;return s>.5?(r-=c.width+c.height,r<=c.width?(a.x=c.right-r,a.y=c.bottom):(a.x=c.x,a.y=c.bottom-(r-c.width))):r<=c.width?(a.x=c.x+r,a.y=c.y):(a.x=c.right,a.y=c.y+(r-c.width)),a};C.exports=f},8151:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(716),e=h(7120),f=function(c,s,a,r){r===void 0&&(r=[]),!s&&a>0&&(s=e(c)/a);for(var o=0;o<s;o++){var l=o/s;r.push(y(c,l))}return r};C.exports=f},7120:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return 2*(h.width+h.height)};C.exports=M},2161:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7655),e=function(f,c){return c===void 0&&(c=new y),c.x=f.x+Math.random()*f.width,c.y=f.y+Math.random()*f.height,c};C.exports=e},1392:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(5956),f=h(716),c=h(8151),s=h(1643),a=h(284),r=h(2161),o=new y({initialize:function(v,u,d,p){v===void 0&&(v=0),u===void 0&&(u=0),d===void 0&&(d=0),p===void 0&&(p=0),this.type=s.RECTANGLE,this.x=v,this.y=u,this.width=d,this.height=p},contains:function(l,v){return e(this,l,v)},getPoint:function(l,v){return f(this,l,v)},getPoints:function(l,v,u){return c(this,l,v,u)},getRandomPoint:function(l){return r(this,l)},setTo:function(l,v,u,d){return this.x=l,this.y=v,this.width=u,this.height=d,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(l,v){return v===void 0&&(v=l),this.x=l,this.y=v,this},setSize:function(l,v){return v===void 0&&(v=l),this.width=l,this.height=v,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(l){return l===void 0&&(l=new a),l.setTo(this.x,this.y,this.right,this.y),l},getLineB:function(l){return l===void 0&&(l=new a),l.setTo(this.right,this.y,this.right,this.bottom),l},getLineC:function(l){return l===void 0&&(l=new a),l.setTo(this.right,this.bottom,this.x,this.bottom),l},getLineD:function(l){return l===void 0&&(l=new a),l.setTo(this.x,this.bottom,this.x,this.y),l},left:{get:function(){return this.x},set:function(l){l>=this.right?this.width=0:this.width=this.right-l,this.x=l}},right:{get:function(){return this.x+this.width},set:function(l){l<=this.x?this.width=0:this.width=l-this.x}},top:{get:function(){return this.y},set:function(l){l>=this.bottom?this.height=0:this.height=this.bottom-l,this.y=l}},bottom:{get:function(){return this.y+this.height},set:function(l){l<=this.y?this.height=0:this.height=l-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(l){this.x=l-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(l){this.y=l-this.height/2}}});C.exports=o},9422:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(1392),e=function(f,c,s){s===void 0&&(s=new y);var a=Math.min(f.x,c.x),r=Math.min(f.y,c.y),o=Math.max(f.right,c.right)-a,l=Math.max(f.bottom,c.bottom)-r;return s.setTo(a,r,o,l)};C.exports=e},1593:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(4359),f=h(1179),c=h(4597),s=h(5593),a=h(7410),r=h(5874),o=h(707),l=new y({initialize:function(u,d){if(this.loader=u,this.cache=c(d,"cache",!1),this.type=c(d,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=c(d,"key",!1);var p=this.key;if(u.prefix&&u.prefix!==""&&(this.key=u.prefix+p),!this.key)throw new Error("Invalid File key: "+this.key);var g=c(d,"url");g===void 0?g=u.path+p+"."+c(d,"extension",""):typeof g=="string"&&!g.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(g=u.path+g),this.url=g,this.src="",this.xhrSettings=o(c(d,"responseType",void 0)),c(d,"xhrSettings",!1)&&(this.xhrSettings=a(this.xhrSettings,c(d,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?e.FILE_POPULATED:e.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=c(d,"config",{}),this.multiFile,this.linkFile},setLink:function(v){this.linkFile=v,v.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===e.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=e.FILE_LOADING,this.src=s(this,this.loader.baseURL),this.src.indexOf("data:")===0?console.warn("Local data URIs are not supported: "+this.key):this.xhrLoader=r(this,this.loader.xhr))},onLoad:function(v,u){var d=v.responseURL&&this.loader.localSchemes.some(function(x){return v.responseURL.indexOf(x)===0}),p=d&&u.target.status===0,g=!(u.target&&u.target.status!==200)||p;v.readyState===4&&v.status>=400&&v.status<=599&&(g=!1),this.state=e.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,g)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(v){v.lengthComputable&&(this.bytesLoaded=v.loaded,this.bytesTotal=v.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(f.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=e.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=e.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=e.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(v){if(this.state!==e.FILE_PENDING_DESTROY){v===void 0&&(v=this.data);var u=this.key,d=this.type;this.loader.emit(f.FILE_COMPLETE,u,d,v),this.loader.emit(f.FILE_KEY_COMPLETE+d+"-"+u,u,d,v),this.loader.flagForRemoval(this),this.state=e.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});l.createObjectURL=function(v,u,d){if(typeof URL=="function")v.src=URL.createObjectURL(u);else{var p=new FileReader;p.onload=function(){v.removeAttribute("crossOrigin"),v.src="data:"+(u.type||d)+";base64,"+p.result.split(",")[1]},p.onerror=v.onerror,p.readAsDataURL(u)}},l.revokeObjectURL=function(v){typeof URL=="function"&&URL.revokeObjectURL(v.src)},C.exports=l},9845:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={},h={install:function(y){for(var e in M)y[e]=M[e]},register:function(y,e){M[y]=e},destroy:function(){M={}}};C.exports=h},5593:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){return h.url?h.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?h.url:y+h.url:!1};C.exports=M},7410:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(1030),e=h(707),f=function(c,s){var a=c===void 0?e():y({},c);if(s)for(var r in s)s[r]!==void 0&&(a[r]=s[r]);return a};C.exports=f},3137:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(4359),f=h(1179),c=new y({initialize:function(a,r,o,l){var v=[];l.forEach(function(d){d&&v.push(d)}),this.loader=a,this.type=r,this.key=o,this.multiKeyIndex=a.multiKeyIndex++,this.files=v,this.state=e.FILE_PENDING,this.complete=!1,this.pending=v.length,this.failed=0,this.config={},this.baseURL=a.baseURL,this.path=a.path,this.prefix=a.prefix;for(var u=0;u<v.length;u++)v[u].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(s){return this.files.push(s),s.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(s){var a=this.files.indexOf(s);a!==-1&&this.pending--},onFileFailed:function(s){var a=this.files.indexOf(s);a!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,s.type,s.key))},pendingDestroy:function(){if(this.state!==e.FILE_PENDING_DESTROY){var s=this.key,a=this.type;this.loader.emit(f.FILE_COMPLETE,s,a),this.loader.emit(f.FILE_KEY_COMPLETE+a+"-"+s,s,a),this.loader.flagForRemoval(this);for(var r=0;r<this.files.length;r++)this.files[r].pendingDestroy();this.state=e.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});C.exports=c},5874:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7410),e=function(f,c){var s=y(c,f.xhrSettings),a=new XMLHttpRequest;if(a.open("GET",f.src,s.async,s.user,s.password),a.responseType=f.xhrSettings.responseType,a.timeout=s.timeout,s.headers)for(var r in s.headers)a.setRequestHeader(r,s.headers[r]);return s.header&&s.headerValue&&a.setRequestHeader(s.header,s.headerValue),s.requestedWith&&a.setRequestHeader("X-Requested-With",s.requestedWith),s.overrideMimeType&&a.overrideMimeType(s.overrideMimeType),s.withCredentials&&(a.withCredentials=!0),a.onload=f.onLoad.bind(f,a),a.onerror=f.onError.bind(f,a),a.onprogress=f.onProgress.bind(f),a.send(),a};C.exports=e},707:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f,c,s){return h===void 0&&(h=""),y===void 0&&(y=!0),e===void 0&&(e=""),f===void 0&&(f=""),c===void 0&&(c=0),s===void 0&&(s=!1),{responseType:h,async:y,user:e,password:f,timeout:c,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:s}};C.exports=M},4359:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};C.exports=M},462:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="addfile"},7297:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="complete"},8660:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="filecomplete"},6484:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="filecomplete-"},7972:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="loaderror"},1906:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="load"},1441:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="fileprogress"},1072:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="postprocess"},1927:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="progress"},6597:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="start"},1179:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={ADD:h(462),COMPLETE:h(7297),FILE_COMPLETE:h(8660),FILE_KEY_COMPLETE:h(6484),FILE_LOAD_ERROR:h(7972),FILE_LOAD:h(1906),FILE_PROGRESS:h(1441),POST_PROCESS:h(1072),PROGRESS:h(1927),START:h(6597)}},6732:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(4359),f=h(1593),c=h(9845),s=h(4597),a=h(2482),r=h(5593),o=new y({Extends:f,initialize:function l(v,u,d,p,g){var x="png",T;if(a(u)){var S=u;u=s(S,"key"),d=s(S,"url"),T=s(S,"normalMap"),p=s(S,"xhrSettings"),x=s(S,"extension",x),g=s(S,"frameConfig")}Array.isArray(d)&&(T=d[1],d=d[0]);var P={type:"image",cache:v.textureManager,extension:x,responseType:"blob",key:u,url:d,xhrSettings:p,config:g};if(f.call(this,v,P),T){var E=new l(v,this.key,T,p,g);E.type="normalMap",this.setLink(E),v.addFile(E)}this.useImageElementLoad=v.imageLoadType==="HTMLImageElement",this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=e.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var l=this;this.data.onload=function(){f.revokeObjectURL(l.data),l.onProcessComplete()},this.data.onerror=function(){f.revokeObjectURL(l.data),l.onProcessError()},f.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var l=this.state;this.state=e.FILE_PROCESSING,l===e.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){if(this.state=e.FILE_LOADING,this.src=r(this,this.loader.baseURL),this.src.indexOf("data:")===0)console.warn("Local data URIs are not supported: "+this.key);else{this.data=new Image,this.data.crossOrigin=this.crossOrigin;var l=this;this.data.onload=function(){l.state=e.FILE_LOADED,l.loader.nextFile(l,!0)},this.data.onerror=function(){l.loader.nextFile(l,!1)},this.data.src=this.src}},addToCache:function(){var l=this.linkFile;l?l.state>=e.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addImage(this.key,l.data,this.data):this.cache.addImage(this.key,this.data,l.data)):this.cache.addImage(this.key,this.data)}});c.register("image",function(l,v,u){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new o(this,l[d]));else this.addFile(new o(this,l,v,u));return this}),C.exports=o},704:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(4359),f=h(1593),c=h(9845),s=h(4597),a=h(5851),r=h(2482),o=new y({Extends:f,initialize:function(v,u,d,p,g){var x="json";if(r(u)){var T=u;u=s(T,"key"),d=s(T,"url"),p=s(T,"xhrSettings"),x=s(T,"extension",x),g=s(T,"dataKey",g)}var S={type:"json",cache:v.cacheManager.json,extension:x,responseType:"text",key:u,url:d,xhrSettings:p,config:g};f.call(this,v,S),r(d)&&(g?this.data=a(d,g):this.data=d,this.state=e.FILE_POPULATED)},onProcess:function(){if(this.state!==e.FILE_POPULATED){this.state=e.FILE_PROCESSING;try{var l=JSON.parse(this.xhrLoader.responseText)}catch(u){throw this.onProcessError(),u}var v=this.config;typeof v=="string"?this.data=a(l,v,l):this.data=l}this.onProcessComplete()}});c.register("json",function(l,v,u,d){if(Array.isArray(l))for(var p=0;p<l.length;p++)this.addFile(new o(this,l[p]));else this.addFile(new o(this,l,v,d,u));return this}),C.exports=o},1192:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(4359),f=h(1593),c=h(9845),s=h(4597),a=h(2482),r=new y({Extends:f,initialize:function(l,v,u,d){var p="text",g="txt",x=l.cacheManager.text;if(a(v)){var T=v;v=s(T,"key"),u=s(T,"url"),d=s(T,"xhrSettings"),g=s(T,"extension",g),p=s(T,"type",p),x=s(T,"cache",x)}var S={type:p,cache:x,extension:g,responseType:"text",key:v,url:u,xhrSettings:d};f.call(this,l,S)},onProcess:function(){this.state=e.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});c.register("text",function(o,l,v){if(Array.isArray(o))for(var u=0;u<o.length;u++)this.addFile(new r(this,o[u]));else this.addFile(new r(this,o,l,v));return this}),C.exports=r},3136:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){for(var y=0,e=0;e<h.length;e++)y+=+h[e];return y/h.length};C.exports=M},785:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(3916),e=function(f,c){return y(f)/y(c)/y(f-c)};C.exports=e},7025:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){return Math.floor(Math.random()*(y-h+1)+h)};C.exports=M},48:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f,c){var s=(f-y)*.5,a=(c-e)*.5,r=h*h,o=h*r;return(2*e-2*f+s+a)*o+(-3*e+3*f-2*s-a)*r+s*h+e};C.exports=M},5035:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){y===void 0&&(y=0),e===void 0&&(e=10);var f=Math.pow(e,-y);return Math.ceil(h*f)/f};C.exports=M},2915:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){return Math.max(y,Math.min(e,h))};C.exports=M},7149:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7425),e=function(f){return f*y.DEG_TO_RAD};C.exports=e},2975:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){return Math.abs(h-y)};C.exports=M},2107:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(2915),e=h(7473),f=h(9652),c=h(1984),s=new f,a=new e({initialize:function r(o,l,v,u){o===void 0&&(o=0),l===void 0&&(l=0),v===void 0&&(v=0),u===void 0&&(u=r.DefaultOrder),this._x=o,this._y=l,this._z=v,this._order=u,this.onChangeCallback=c},x:{get:function(){return this._x},set:function(r){this._x=r,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(r){this._y=r,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(r){this._z=r,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(r){this._order=r,this.onChangeCallback(this)}},set:function(r,o,l,v){return v===void 0&&(v=this._order),this._x=r,this._y=o,this._z=l,this._order=v,this.onChangeCallback(this),this},copy:function(r){return this.set(r.x,r.y,r.z,r.order)},setFromQuaternion:function(r,o,l){return o===void 0&&(o=this._order),l===void 0&&(l=!1),s.fromQuat(r),this.setFromRotationMatrix(s,o,l)},setFromRotationMatrix:function(r,o,l){o===void 0&&(o=this._order),l===void 0&&(l=!1);var v=r.val,u=v[0],d=v[4],p=v[8],g=v[1],x=v[5],T=v[9],S=v[2],P=v[6],E=v[10],R=0,A=0,w=0,O=.99999;switch(o){case"XYZ":{A=Math.asin(y(p,-1,1)),Math.abs(p)<O?(R=Math.atan2(-T,E),w=Math.atan2(-d,u)):R=Math.atan2(P,x);break}case"YXZ":{R=Math.asin(-y(T,-1,1)),Math.abs(T)<O?(A=Math.atan2(p,E),w=Math.atan2(g,x)):A=Math.atan2(-S,u);break}case"ZXY":{R=Math.asin(y(P,-1,1)),Math.abs(P)<O?(A=Math.atan2(-S,E),w=Math.atan2(-d,x)):w=Math.atan2(g,u);break}case"ZYX":{A=Math.asin(-y(S,-1,1)),Math.abs(S)<O?(R=Math.atan2(P,E),w=Math.atan2(g,u)):w=Math.atan2(-d,x);break}case"YZX":{w=Math.asin(y(g,-1,1)),Math.abs(g)<O?(R=Math.atan2(-T,x),A=Math.atan2(-S,u)):A=Math.atan2(p,E);break}case"XZY":{w=Math.asin(-y(d,-1,1)),Math.abs(d)<O?(R=Math.atan2(P,x),A=Math.atan2(p,u)):R=Math.atan2(-T,E);break}}return this._x=R,this._y=A,this._z=w,this._order=o,l&&this.onChangeCallback(this),this}});a.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],a.DefaultOrder="XYZ",C.exports=a},3916:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){if(h===0)return 1;for(var y=h;--h;)y*=h;return y};C.exports=M},104:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){return Math.random()*(y-h)+h};C.exports=M},4941:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){y===void 0&&(y=0),e===void 0&&(e=10);var f=Math.pow(e,-y);return Math.floor(h*f)/f};C.exports=M},1555:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(2915),e=function(f,c,s){return f=y(f,0,1),(s-c)*f+c};C.exports=e},5005:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){return h/y/1e3};C.exports=M},3702:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return h==parseFloat(h)?!(h%2):void 0};C.exports=M},8820:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return h===parseFloat(h)?!(h%2):void 0};C.exports=M},1743:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){return(y-h)*e+h};C.exports=M},3416:C=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){return e===void 0&&(e=0),h.clone().lerp(y,e)};C.exports=M},2149:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=new y({initialize:function(c){this.val=new Float32Array(9),c?this.copy(c):this.identity()},clone:function(){return new e(this)},set:function(f){return this.copy(f)},copy:function(f){var c=this.val,s=f.val;return c[0]=s[0],c[1]=s[1],c[2]=s[2],c[3]=s[3],c[4]=s[4],c[5]=s[5],c[6]=s[6],c[7]=s[7],c[8]=s[8],this},fromMat4:function(f){var c=f.val,s=this.val;return s[0]=c[0],s[1]=c[1],s[2]=c[2],s[3]=c[4],s[4]=c[5],s[5]=c[6],s[6]=c[8],s[7]=c[9],s[8]=c[10],this},fromArray:function(f){var c=this.val;return c[0]=f[0],c[1]=f[1],c[2]=f[2],c[3]=f[3],c[4]=f[4],c[5]=f[5],c[6]=f[6],c[7]=f[7],c[8]=f[8],this},identity:function(){var f=this.val;return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=1,f[5]=0,f[6]=0,f[7]=0,f[8]=1,this},transpose:function(){var f=this.val,c=f[1],s=f[2],a=f[5];return f[1]=f[3],f[2]=f[6],f[3]=c,f[5]=f[7],f[6]=s,f[7]=a,this},invert:function(){var f=this.val,c=f[0],s=f[1],a=f[2],r=f[3],o=f[4],l=f[5],v=f[6],u=f[7],d=f[8],p=d*o-l*u,g=-d*r+l*v,x=u*r-o*v,T=c*p+s*g+a*x;return T?(T=1/T,f[0]=p*T,f[1]=(-d*s+a*u)*T,f[2]=(l*s-a*o)*T,f[3]=g*T,f[4]=(d*c-a*v)*T,f[5]=(-l*c+a*r)*T,f[6]=x*T,f[7]=(-u*c+s*v)*T,f[8]=(o*c-s*r)*T,this):null},adjoint:function(){var f=this.val,c=f[0],s=f[1],a=f[2],r=f[3],o=f[4],l=f[5],v=f[6],u=f[7],d=f[8];return f[0]=o*d-l*u,f[1]=a*u-s*d,f[2]=s*l-a*o,f[3]=l*v-r*d,f[4]=c*d-a*v,f[5]=a*r-c*l,f[6]=r*u-o*v,f[7]=s*v-c*u,f[8]=c*o-s*r,this},determinant:function(){var f=this.val,c=f[0],s=f[1],a=f[2],r=f[3],o=f[4],l=f[5],v=f[6],u=f[7],d=f[8];return c*(d*o-l*u)+s*(-d*r+l*v)+a*(u*r-o*v)},multiply:function(f){var c=this.val,s=c[0],a=c[1],r=c[2],o=c[3],l=c[4],v=c[5],u=c[6],d=c[7],p=c[8],g=f.val,x=g[0],T=g[1],S=g[2],P=g[3],E=g[4],R=g[5],A=g[6],w=g[7],O=g[8];return c[0]=x*s+T*o+S*u,c[1]=x*a+T*l+S*d,c[2]=x*r+T*v+S*p,c[3]=P*s+E*o+R*u,c[4]=P*a+E*l+R*d,c[5]=P*r+E*v+R*p,c[6]=A*s+w*o+O*u,c[7]=A*a+w*l+O*d,c[8]=A*r+w*v+O*p,this},translate:function(f){var c=this.val,s=f.x,a=f.y;return c[6]=s*c[0]+a*c[3]+c[6],c[7]=s*c[1]+a*c[4]+c[7],c[8]=s*c[2]+a*c[5]+c[8],this},rotate:function(f){var c=this.val,s=c[0],a=c[1],r=c[2],o=c[3],l=c[4],v=c[5],u=Math.sin(f),d=Math.cos(f);return c[0]=d*s+u*o,c[1]=d*a+u*l,c[2]=d*r+u*v,c[3]=d*o-u*s,c[4]=d*l-u*a,c[5]=d*v-u*r,this},scale:function(f){var c=this.val,s=f.x,a=f.y;return c[0]=s*c[0],c[1]=s*c[1],c[2]=s*c[2],c[3]=a*c[3],c[4]=a*c[4],c[5]=a*c[5],this},fromQuat:function(f){var c=f.x,s=f.y,a=f.z,r=f.w,o=c+c,l=s+s,v=a+a,u=c*o,d=c*l,p=c*v,g=s*l,x=s*v,T=a*v,S=r*o,P=r*l,E=r*v,R=this.val;return R[0]=1-(g+T),R[3]=d+E,R[6]=p-P,R[1]=d-E,R[4]=1-(u+T),R[7]=x+S,R[2]=p+P,R[5]=x-S,R[8]=1-(u+g),this},normalFromMat4:function(f){var c=f.val,s=this.val,a=c[0],r=c[1],o=c[2],l=c[3],v=c[4],u=c[5],d=c[6],p=c[7],g=c[8],x=c[9],T=c[10],S=c[11],P=c[12],E=c[13],R=c[14],A=c[15],w=a*u-r*v,O=a*d-o*v,L=a*p-l*v,F=r*d-o*u,I=r*p-l*u,b=o*p-l*d,G=g*E-x*P,N=g*R-T*P,U=g*A-S*P,Y=x*R-T*E,X=x*A-S*E,B=T*A-S*R,z=w*B-O*X+L*Y+F*U-I*N+b*G;return z?(z=1/z,s[0]=(u*B-d*X+p*Y)*z,s[1]=(d*U-v*B-p*N)*z,s[2]=(v*X-u*U+p*G)*z,s[3]=(o*X-r*B-l*Y)*z,s[4]=(a*B-o*U+l*N)*z,s[5]=(r*U-a*X-l*G)*z,s[6]=(E*b-R*I+A*F)*z,s[7]=(R*L-P*b-A*O)*z,s[8]=(P*I-E*L+A*w)*z,this):null}});C.exports=e},9652:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(5689),f=1e-6,c=new y({initialize:function(u){this.val=new Float32Array(16),u?this.copy(u):this.identity()},clone:function(){return new c(this)},set:function(v){return this.copy(v)},setValues:function(v,u,d,p,g,x,T,S,P,E,R,A,w,O,L,F){var I=this.val;return I[0]=v,I[1]=u,I[2]=d,I[3]=p,I[4]=g,I[5]=x,I[6]=T,I[7]=S,I[8]=P,I[9]=E,I[10]=R,I[11]=A,I[12]=w,I[13]=O,I[14]=L,I[15]=F,this},copy:function(v){var u=v.val;return this.setValues(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15])},fromArray:function(v){return this.setValues(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],v[12],v[13],v[14],v[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(v,u,d){var p=s.fromQuat(d),g=p.val,x=u.x,T=u.y,S=u.z;return this.setValues(g[0]*x,g[1]*x,g[2]*x,0,g[4]*T,g[5]*T,g[6]*T,0,g[8]*S,g[9]*S,g[10]*S,0,v.x,v.y,v.z,1)},xyz:function(v,u,d){this.identity();var p=this.val;return p[12]=v,p[13]=u,p[14]=d,this},scaling:function(v,u,d){this.zero();var p=this.val;return p[0]=v,p[5]=u,p[10]=d,p[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var v=this.val,u=v[1],d=v[2],p=v[3],g=v[6],x=v[7],T=v[11];return v[1]=v[4],v[2]=v[8],v[3]=v[12],v[4]=u,v[6]=v[9],v[7]=v[13],v[8]=d,v[9]=g,v[11]=v[14],v[12]=p,v[13]=x,v[14]=T,this},getInverse:function(v){return this.copy(v),this.invert()},invert:function(){var v=this.val,u=v[0],d=v[1],p=v[2],g=v[3],x=v[4],T=v[5],S=v[6],P=v[7],E=v[8],R=v[9],A=v[10],w=v[11],O=v[12],L=v[13],F=v[14],I=v[15],b=u*T-d*x,G=u*S-p*x,N=u*P-g*x,U=d*S-p*T,Y=d*P-g*T,X=p*P-g*S,B=E*L-R*O,z=E*F-A*O,D=E*I-w*O,V=R*F-A*L,k=R*I-w*L,W=A*I-w*F,H=b*W-G*k+N*V+U*D-Y*z+X*B;return H?(H=1/H,this.setValues((T*W-S*k+P*V)*H,(p*k-d*W-g*V)*H,(L*X-F*Y+I*U)*H,(A*Y-R*X-w*U)*H,(S*D-x*W-P*z)*H,(u*W-p*D+g*z)*H,(F*N-O*X-I*G)*H,(E*X-A*N+w*G)*H,(x*k-T*D+P*B)*H,(d*D-u*k-g*B)*H,(O*Y-L*N+I*b)*H,(R*N-E*Y-w*b)*H,(T*z-x*V-S*B)*H,(u*V-d*z+p*B)*H,(L*G-O*U-F*b)*H,(E*U-R*G+A*b)*H)):this},adjoint:function(){var v=this.val,u=v[0],d=v[1],p=v[2],g=v[3],x=v[4],T=v[5],S=v[6],P=v[7],E=v[8],R=v[9],A=v[10],w=v[11],O=v[12],L=v[13],F=v[14],I=v[15];return this.setValues(T*(A*I-w*F)-R*(S*I-P*F)+L*(S*w-P*A),-(d*(A*I-w*F)-R*(p*I-g*F)+L*(p*w-g*A)),d*(S*I-P*F)-T*(p*I-g*F)+L*(p*P-g*S),-(d*(S*w-P*A)-T*(p*w-g*A)+R*(p*P-g*S)),-(x*(A*I-w*F)-E*(S*I-P*F)+O*(S*w-P*A)),u*(A*I-w*F)-E*(p*I-g*F)+O*(p*w-g*A),-(u*(S*I-P*F)-x*(p*I-g*F)+O*(p*P-g*S)),u*(S*w-P*A)-x*(p*w-g*A)+E*(p*P-g*S),x*(R*I-w*L)-E*(T*I-P*L)+O*(T*w-P*R),-(u*(R*I-w*L)-E*(d*I-g*L)+O*(d*w-g*R)),u*(T*I-P*L)-x*(d*I-g*L)+O*(d*P-g*T),-(u*(T*w-P*R)-x*(d*w-g*R)+E*(d*P-g*T)),-(x*(R*F-A*L)-E*(T*F-S*L)+O*(T*A-S*R)),u*(R*F-A*L)-E*(d*F-p*L)+O*(d*A-p*R),-(u*(T*F-S*L)-x*(d*F-p*L)+O*(d*S-p*T)),u*(T*A-S*R)-x*(d*A-p*R)+E*(d*S-p*T))},determinant:function(){var v=this.val,u=v[0],d=v[1],p=v[2],g=v[3],x=v[4],T=v[5],S=v[6],P=v[7],E=v[8],R=v[9],A=v[10],w=v[11],O=v[12],L=v[13],F=v[14],I=v[15],b=u*T-d*x,G=u*S-p*x,N=u*P-g*x,U=d*S-p*T,Y=d*P-g*T,X=p*P-g*S,B=E*L-R*O,z=E*F-A*O,D=E*I-w*O,V=R*F-A*L,k=R*I-w*L,W=A*I-w*F;return b*W-G*k+N*V+U*D-Y*z+X*B},multiply:function(v){var u=this.val,d=u[0],p=u[1],g=u[2],x=u[3],T=u[4],S=u[5],P=u[6],E=u[7],R=u[8],A=u[9],w=u[10],O=u[11],L=u[12],F=u[13],I=u[14],b=u[15],G=v.val,N=G[0],U=G[1],Y=G[2],X=G[3];return u[0]=N*d+U*T+Y*R+X*L,u[1]=N*p+U*S+Y*A+X*F,u[2]=N*g+U*P+Y*w+X*I,u[3]=N*x+U*E+Y*O+X*b,N=G[4],U=G[5],Y=G[6],X=G[7],u[4]=N*d+U*T+Y*R+X*L,u[5]=N*p+U*S+Y*A+X*F,u[6]=N*g+U*P+Y*w+X*I,u[7]=N*x+U*E+Y*O+X*b,N=G[8],U=G[9],Y=G[10],X=G[11],u[8]=N*d+U*T+Y*R+X*L,u[9]=N*p+U*S+Y*A+X*F,u[10]=N*g+U*P+Y*w+X*I,u[11]=N*x+U*E+Y*O+X*b,N=G[12],U=G[13],Y=G[14],X=G[15],u[12]=N*d+U*T+Y*R+X*L,u[13]=N*p+U*S+Y*A+X*F,u[14]=N*g+U*P+Y*w+X*I,u[15]=N*x+U*E+Y*O+X*b,this},multiplyLocal:function(v){var u=this.val,d=v.val;return this.setValues(u[0]*d[0]+u[1]*d[4]+u[2]*d[8]+u[3]*d[12],u[0]*d[1]+u[1]*d[5]+u[2]*d[9]+u[3]*d[13],u[0]*d[2]+u[1]*d[6]+u[2]*d[10]+u[3]*d[14],u[0]*d[3]+u[1]*d[7]+u[2]*d[11]+u[3]*d[15],u[4]*d[0]+u[5]*d[4]+u[6]*d[8]+u[7]*d[12],u[4]*d[1]+u[5]*d[5]+u[6]*d[9]+u[7]*d[13],u[4]*d[2]+u[5]*d[6]+u[6]*d[10]+u[7]*d[14],u[4]*d[3]+u[5]*d[7]+u[6]*d[11]+u[7]*d[15],u[8]*d[0]+u[9]*d[4]+u[10]*d[8]+u[11]*d[12],u[8]*d[1]+u[9]*d[5]+u[10]*d[9]+u[11]*d[13],u[8]*d[2]+u[9]*d[6]+u[10]*d[10]+u[11]*d[14],u[8]*d[3]+u[9]*d[7]+u[10]*d[11]+u[11]*d[15],u[12]*d[0]+u[13]*d[4]+u[14]*d[8]+u[15]*d[12],u[12]*d[1]+u[13]*d[5]+u[14]*d[9]+u[15]*d[13],u[12]*d[2]+u[13]*d[6]+u[14]*d[10]+u[15]*d[14],u[12]*d[3]+u[13]*d[7]+u[14]*d[11]+u[15]*d[15])},premultiply:function(v){return this.multiplyMatrices(v,this)},multiplyMatrices:function(v,u){var d=v.val,p=u.val,g=d[0],x=d[4],T=d[8],S=d[12],P=d[1],E=d[5],R=d[9],A=d[13],w=d[2],O=d[6],L=d[10],F=d[14],I=d[3],b=d[7],G=d[11],N=d[15],U=p[0],Y=p[4],X=p[8],B=p[12],z=p[1],D=p[5],V=p[9],k=p[13],W=p[2],H=p[6],$=p[10],K=p[14],j=p[3],Z=p[7],J=p[11],Q=p[15];return this.setValues(g*U+x*z+T*W+S*j,P*U+E*z+R*W+A*j,w*U+O*z+L*W+F*j,I*U+b*z+G*W+N*j,g*Y+x*D+T*H+S*Z,P*Y+E*D+R*H+A*Z,w*Y+O*D+L*H+F*Z,I*Y+b*D+G*H+N*Z,g*X+x*V+T*$+S*J,P*X+E*V+R*$+A*J,w*X+O*V+L*$+F*J,I*X+b*V+G*$+N*J,g*B+x*k+T*K+S*Q,P*B+E*k+R*K+A*Q,w*B+O*k+L*K+F*Q,I*B+b*k+G*K+N*Q)},translate:function(v){return this.translateXYZ(v.x,v.y,v.z)},translateXYZ:function(v,u,d){var p=this.val;return p[12]=p[0]*v+p[4]*u+p[8]*d+p[12],p[13]=p[1]*v+p[5]*u+p[9]*d+p[13],p[14]=p[2]*v+p[6]*u+p[10]*d+p[14],p[15]=p[3]*v+p[7]*u+p[11]*d+p[15],this},scale:function(v){return this.scaleXYZ(v.x,v.y,v.z)},scaleXYZ:function(v,u,d){var p=this.val;return p[0]=p[0]*v,p[1]=p[1]*v,p[2]=p[2]*v,p[3]=p[3]*v,p[4]=p[4]*u,p[5]=p[5]*u,p[6]=p[6]*u,p[7]=p[7]*u,p[8]=p[8]*d,p[9]=p[9]*d,p[10]=p[10]*d,p[11]=p[11]*d,this},makeRotationAxis:function(v,u){var d=Math.cos(u),p=Math.sin(u),g=1-d,x=v.x,T=v.y,S=v.z,P=g*x,E=g*T;return this.setValues(P*x+d,P*T-p*S,P*S+p*T,0,P*T+p*S,E*T+d,E*S-p*x,0,P*S-p*T,E*S+p*x,g*S*S+d,0,0,0,0,1)},rotate:function(v,u){var d=this.val,p=u.x,g=u.y,x=u.z,T=Math.sqrt(p*p+g*g+x*x);if(Math.abs(T)<f)return this;T=1/T,p*=T,g*=T,x*=T;var S=Math.sin(v),P=Math.cos(v),E=1-P,R=d[0],A=d[1],w=d[2],O=d[3],L=d[4],F=d[5],I=d[6],b=d[7],G=d[8],N=d[9],U=d[10],Y=d[11],X=d[12],B=d[13],z=d[14],D=d[15],V=p*p*E+P,k=g*p*E+x*S,W=x*p*E-g*S,H=p*g*E-x*S,$=g*g*E+P,K=x*g*E+p*S,j=p*x*E+g*S,Z=g*x*E-p*S,J=x*x*E+P;return this.setValues(R*V+L*k+G*W,A*V+F*k+N*W,w*V+I*k+U*W,O*V+b*k+Y*W,R*H+L*$+G*K,A*H+F*$+N*K,w*H+I*$+U*K,O*H+b*$+Y*K,R*j+L*Z+G*J,A*j+F*Z+N*J,w*j+I*Z+U*J,O*j+b*Z+Y*J,X,B,z,D)},rotateX:function(v){var u=this.val,d=Math.sin(v),p=Math.cos(v),g=u[4],x=u[5],T=u[6],S=u[7],P=u[8],E=u[9],R=u[10],A=u[11];return u[4]=g*p+P*d,u[5]=x*p+E*d,u[6]=T*p+R*d,u[7]=S*p+A*d,u[8]=P*p-g*d,u[9]=E*p-x*d,u[10]=R*p-T*d,u[11]=A*p-S*d,this},rotateY:function(v){var u=this.val,d=Math.sin(v),p=Math.cos(v),g=u[0],x=u[1],T=u[2],S=u[3],P=u[8],E=u[9],R=u[10],A=u[11];return u[0]=g*p-P*d,u[1]=x*p-E*d,u[2]=T*p-R*d,u[3]=S*p-A*d,u[8]=g*d+P*p,u[9]=x*d+E*p,u[10]=T*d+R*p,u[11]=S*d+A*p,this},rotateZ:function(v){var u=this.val,d=Math.sin(v),p=Math.cos(v),g=u[0],x=u[1],T=u[2],S=u[3],P=u[4],E=u[5],R=u[6],A=u[7];return u[0]=g*p+P*d,u[1]=x*p+E*d,u[2]=T*p+R*d,u[3]=S*p+A*d,u[4]=P*p-g*d,u[5]=E*p-x*d,u[6]=R*p-T*d,u[7]=A*p-S*d,this},fromRotationTranslation:function(v,u){var d=v.x,p=v.y,g=v.z,x=v.w,T=d+d,S=p+p,P=g+g,E=d*T,R=d*S,A=d*P,w=p*S,O=p*P,L=g*P,F=x*T,I=x*S,b=x*P;return this.setValues(1-(w+L),R+b,A-I,0,R-b,1-(E+L),O+F,0,A+I,O-F,1-(E+w),0,u.x,u.y,u.z,1)},fromQuat:function(v){var u=v.x,d=v.y,p=v.z,g=v.w,x=u+u,T=d+d,S=p+p,P=u*x,E=u*T,R=u*S,A=d*T,w=d*S,O=p*S,L=g*x,F=g*T,I=g*S;return this.setValues(1-(A+O),E+I,R-F,0,E-I,1-(P+O),w+L,0,R+F,w-L,1-(P+A),0,0,0,0,1)},frustum:function(v,u,d,p,g,x){var T=1/(u-v),S=1/(p-d),P=1/(g-x);return this.setValues(g*2*T,0,0,0,0,g*2*S,0,0,(u+v)*T,(p+d)*S,(x+g)*P,-1,0,0,x*g*2*P,0)},perspective:function(v,u,d,p){var g=1/Math.tan(v/2),x=1/(d-p);return this.setValues(g/u,0,0,0,0,g,0,0,0,0,(p+d)*x,-1,0,0,2*p*d*x,0)},perspectiveLH:function(v,u,d,p){return this.setValues(2*d/v,0,0,0,0,2*d/u,0,0,0,0,-p/(d-p),1,0,0,d*p/(d-p),0)},ortho:function(v,u,d,p,g,x){var T=v-u,S=d-p,P=g-x;return T=T===0?T:1/T,S=S===0?S:1/S,P=P===0?P:1/P,this.setValues(-2*T,0,0,0,0,-2*S,0,0,0,0,2*P,0,(v+u)*T,(p+d)*S,(x+g)*P,1)},lookAtRH:function(v,u,d){var p=this.val;return l.subVectors(v,u),l.getLengthSquared()===0&&(l.z=1),l.normalize(),r.crossVectors(d,l),r.getLengthSquared()===0&&(Math.abs(d.z)===1?l.x+=1e-4:l.z+=1e-4,l.normalize(),r.crossVectors(d,l)),r.normalize(),o.crossVectors(l,r),p[0]=r.x,p[1]=r.y,p[2]=r.z,p[4]=o.x,p[5]=o.y,p[6]=o.z,p[8]=l.x,p[9]=l.y,p[10]=l.z,this},lookAt:function(v,u,d){var p=v.x,g=v.y,x=v.z,T=d.x,S=d.y,P=d.z,E=u.x,R=u.y,A=u.z;if(Math.abs(p-E)<f&&Math.abs(g-R)<f&&Math.abs(x-A)<f)return this.identity();var w=p-E,O=g-R,L=x-A,F=1/Math.sqrt(w*w+O*O+L*L);w*=F,O*=F,L*=F;var I=S*L-P*O,b=P*w-T*L,G=T*O-S*w;F=Math.sqrt(I*I+b*b+G*G),F?(F=1/F,I*=F,b*=F,G*=F):(I=0,b=0,G=0);var N=O*G-L*b,U=L*I-w*G,Y=w*b-O*I;return F=Math.sqrt(N*N+U*U+Y*Y),F?(F=1/F,N*=F,U*=F,Y*=F):(N=0,U=0,Y=0),this.setValues(I,N,w,0,b,U,O,0,G,Y,L,0,-(I*p+b*g+G*x),-(N*p+U*g+Y*x),-(w*p+O*g+L*x),1)},yawPitchRoll:function(v,u,d){this.zero(),s.zero(),a.zero();var p=this.val,g=s.val,x=a.val,T=Math.sin(d),S=Math.cos(d);return p[10]=1,p[15]=1,p[0]=S,p[1]=T,p[4]=-T,p[5]=S,T=Math.sin(u),S=Math.cos(u),g[0]=1,g[15]=1,g[5]=S,g[10]=S,g[9]=-T,g[6]=T,T=Math.sin(v),S=Math.cos(v),x[5]=1,x[15]=1,x[0]=S,x[2]=-T,x[8]=T,x[10]=S,this.multiplyLocal(s),this.multiplyLocal(a),this},setWorldMatrix:function(v,u,d,p,g){return this.yawPitchRoll(v.y,v.x,v.z),s.scaling(d.x,d.y,d.z),a.xyz(u.x,u.y,u.z),this.multiplyLocal(s),this.multiplyLocal(a),p&&this.multiplyLocal(p),g&&this.multiplyLocal(g),this},multiplyToMat4:function(v,u){var d=this.val,p=v.val,g=d[0],x=d[1],T=d[2],S=d[3],P=d[4],E=d[5],R=d[6],A=d[7],w=d[8],O=d[9],L=d[10],F=d[11],I=d[12],b=d[13],G=d[14],N=d[15],U=p[0],Y=p[1],X=p[2],B=p[3],z=p[4],D=p[5],V=p[6],k=p[7],W=p[8],H=p[9],$=p[10],K=p[11],j=p[12],Z=p[13],J=p[14],Q=p[15];return u.setValues(U*g+Y*P+X*w+B*I,Y*x+Y*E+X*O+B*b,X*T+Y*R+X*L+B*G,B*S+Y*A+X*F+B*N,z*g+D*P+V*w+k*I,z*x+D*E+V*O+k*b,z*T+D*R+V*L+k*G,z*S+D*A+V*F+k*N,W*g+H*P+$*w+K*I,W*x+H*E+$*O+K*b,W*T+H*R+$*L+K*G,W*S+H*A+$*F+K*N,j*g+Z*P+J*w+Q*I,j*x+Z*E+J*O+Q*b,j*T+Z*R+J*L+Q*G,j*S+Z*A+J*F+Q*N)},fromRotationXYTranslation:function(v,u,d){var p=u.x,g=u.y,x=u.z,T=Math.sin(v.x),S=Math.cos(v.x),P=Math.sin(v.y),E=Math.cos(v.y),R=p,A=g,w=x,O=-T,L=0-O*P,F=0-S*P,I=O*E,b=S*E;return d||(R=E*p+P*x,A=L*p+S*g+I*x,w=F*p+T*g+b*x),this.setValues(E,L,F,0,0,S,T,0,P,I,b,0,R,A,w,1)},getMaxScaleOnAxis:function(){var v=this.val,u=v[0]*v[0]+v[1]*v[1]+v[2]*v[2],d=v[4]*v[4]+v[5]*v[5]+v[6]*v[6],p=v[8]*v[8]+v[9]*v[9]+v[10]*v[10];return Math.sqrt(Math.max(u,d,p))}}),s=new c,a=new c,r=new e,o=new e,l=new e;C.exports=c},3733:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){return Math.min(h+y,e)};C.exports=M},44:C=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){var y=h.length;if(y===0)return 0;h.sort(function(f,c){return f-c});var e=Math.floor(y/2);return y%2===0?(h[e]+h[e-1])/2:h[e]};C.exports=M},5385:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){return Math.max(h-y,e)};C.exports=M},8585:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f){e===void 0&&(e=y+1);var c=(h-y)/(e-y);return c>1?f!==void 0?(c=(f-h)/(f-e),c<0&&(c=0)):c=1:c<0&&(c=0),c};C.exports=M},372:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(2149),f=h(1984),c=h(5689),s=1e-6,a=new Int8Array([1,2,0]),r=new Float32Array([0,0,0]),o=new c(1,0,0),l=new c(0,1,0),v=new c,u=new e,d=new y({initialize:function(g,x,T,S){this.onChangeCallback=f,this.set(g,x,T,S)},x:{get:function(){return this._x},set:function(p){this._x=p,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(p){this._y=p,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(p){this._z=p,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(p){this._w=p,this.onChangeCallback(this)}},copy:function(p){return this.set(p)},set:function(p,g,x,T,S){return S===void 0&&(S=!0),typeof p=="object"?(this._x=p.x||0,this._y=p.y||0,this._z=p.z||0,this._w=p.w||0):(this._x=p||0,this._y=g||0,this._z=x||0,this._w=T||0),S&&this.onChangeCallback(this),this},add:function(p){return this._x+=p.x,this._y+=p.y,this._z+=p.z,this._w+=p.w,this.onChangeCallback(this),this},subtract:function(p){return this._x-=p.x,this._y-=p.y,this._z-=p.z,this._w-=p.w,this.onChangeCallback(this),this},scale:function(p){return this._x*=p,this._y*=p,this._z*=p,this._w*=p,this.onChangeCallback(this),this},length:function(){var p=this.x,g=this.y,x=this.z,T=this.w;return Math.sqrt(p*p+g*g+x*x+T*T)},lengthSq:function(){var p=this.x,g=this.y,x=this.z,T=this.w;return p*p+g*g+x*x+T*T},normalize:function(){var p=this.x,g=this.y,x=this.z,T=this.w,S=p*p+g*g+x*x+T*T;return S>0&&(S=1/Math.sqrt(S),this._x=p*S,this._y=g*S,this._z=x*S,this._w=T*S),this.onChangeCallback(this),this},dot:function(p){return this.x*p.x+this.y*p.y+this.z*p.z+this.w*p.w},lerp:function(p,g){g===void 0&&(g=0);var x=this.x,T=this.y,S=this.z,P=this.w;return this.set(x+g*(p.x-x),T+g*(p.y-T),S+g*(p.z-S),P+g*(p.w-P))},rotationTo:function(p,g){var x=p.x*g.x+p.y*g.y+p.z*g.z;return x<-.999999?(v.copy(o).cross(p).length()<s&&v.copy(l).cross(p),v.normalize(),this.setAxisAngle(v,Math.PI)):x>.999999?this.set(0,0,0,1):(v.copy(p).cross(g),this._x=v.x,this._y=v.y,this._z=v.z,this._w=1+x,this.normalize())},setAxes:function(p,g,x){var T=u.val;return T[0]=g.x,T[3]=g.y,T[6]=g.z,T[1]=x.x,T[4]=x.y,T[7]=x.z,T[2]=-p.x,T[5]=-p.y,T[8]=-p.z,this.fromMat3(u).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(p,g){g=g*.5;var x=Math.sin(g);return this.set(x*p.x,x*p.y,x*p.z,Math.cos(g))},multiply:function(p){var g=this.x,x=this.y,T=this.z,S=this.w,P=p.x,E=p.y,R=p.z,A=p.w;return this.set(g*A+S*P+x*R-T*E,x*A+S*E+T*P-g*R,T*A+S*R+g*E-x*P,S*A-g*P-x*E-T*R)},slerp:function(p,g){var x=this.x,T=this.y,S=this.z,P=this.w,E=p.x,R=p.y,A=p.z,w=p.w,O=x*E+T*R+S*A+P*w;O<0&&(O=-O,E=-E,R=-R,A=-A,w=-w);var L=1-g,F=g;if(1-O>s){var I=Math.acos(O),b=Math.sin(I);L=Math.sin((1-g)*I)/b,F=Math.sin(g*I)/b}return this.set(L*x+F*E,L*T+F*R,L*S+F*A,L*P+F*w)},invert:function(){var p=this.x,g=this.y,x=this.z,T=this.w,S=p*p+g*g+x*x+T*T,P=S?1/S:0;return this.set(-p*P,-g*P,-x*P,T*P)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(p){p*=.5;var g=this.x,x=this.y,T=this.z,S=this.w,P=Math.sin(p),E=Math.cos(p);return this.set(g*E+S*P,x*E+T*P,T*E-x*P,S*E-g*P)},rotateY:function(p){p*=.5;var g=this.x,x=this.y,T=this.z,S=this.w,P=Math.sin(p),E=Math.cos(p);return this.set(g*E-T*P,x*E+S*P,T*E+g*P,S*E-x*P)},rotateZ:function(p){p*=.5;var g=this.x,x=this.y,T=this.z,S=this.w,P=Math.sin(p),E=Math.cos(p);return this.set(g*E+x*P,x*E-g*P,T*E+S*P,S*E-T*P)},calculateW:function(){var p=this.x,g=this.y,x=this.z;return this.w=-Math.sqrt(1-p*p-g*g-x*x),this},setFromEuler:function(p,g){var x=p.x/2,T=p.y/2,S=p.z/2,P=Math.cos(x),E=Math.cos(T),R=Math.cos(S),A=Math.sin(x),w=Math.sin(T),O=Math.sin(S);switch(p.order){case"XYZ":{this.set(A*E*R+P*w*O,P*w*R-A*E*O,P*E*O+A*w*R,P*E*R-A*w*O,g);break}case"YXZ":{this.set(A*E*R+P*w*O,P*w*R-A*E*O,P*E*O-A*w*R,P*E*R+A*w*O,g);break}case"ZXY":{this.set(A*E*R-P*w*O,P*w*R+A*E*O,P*E*O+A*w*R,P*E*R-A*w*O,g);break}case"ZYX":{this.set(A*E*R-P*w*O,P*w*R+A*E*O,P*E*O-A*w*R,P*E*R+A*w*O,g);break}case"YZX":{this.set(A*E*R+P*w*O,P*w*R+A*E*O,P*E*O-A*w*R,P*E*R-A*w*O,g);break}case"XZY":{this.set(A*E*R-P*w*O,P*w*R-A*E*O,P*E*O+A*w*R,P*E*R+A*w*O,g);break}}return this},setFromRotationMatrix:function(p){var g=p.val,x=g[0],T=g[4],S=g[8],P=g[1],E=g[5],R=g[9],A=g[2],w=g[6],O=g[10],L=x+E+O,F;return L>0?(F=.5/Math.sqrt(L+1),this.set((w-R)*F,(S-A)*F,(P-T)*F,.25/F)):x>E&&x>O?(F=2*Math.sqrt(1+x-E-O),this.set(.25*F,(T+P)/F,(S+A)/F,(w-R)/F)):E>O?(F=2*Math.sqrt(1+E-x-O),this.set((T+P)/F,.25*F,(R+w)/F,(S-A)/F)):(F=2*Math.sqrt(1+O-x-E),this.set((S+A)/F,(R+w)/F,.25*F,(P-T)/F)),this},fromMat3:function(p){var g=p.val,x=g[0]+g[4]+g[8],T;if(x>0)T=Math.sqrt(x+1),this.w=.5*T,T=.5/T,this._x=(g[7]-g[5])*T,this._y=(g[2]-g[6])*T,this._z=(g[3]-g[1])*T;else{var S=0;g[4]>g[0]&&(S=1),g[8]>g[S*3+S]&&(S=2);var P=a[S],E=a[P];T=Math.sqrt(g[S*3+S]-g[P*3+P]-g[E*3+E]+1),r[S]=.5*T,T=.5/T,r[P]=(g[P*3+S]+g[S*3+P])*T,r[E]=(g[E*3+S]+g[S*3+E])*T,this._x=r[0],this._y=r[1],this._z=r[2],this._w=(g[E*3+P]-g[P*3+E])*T}return this.onChangeCallback(this),this}});C.exports=d},4208:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7425),e=function(f){return f*y.RAD_TO_DEG};C.exports=e},1705:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){y===void 0&&(y=1);var e=Math.random()*2*Math.PI;return h.x=Math.cos(e)*y,h.y=Math.sin(e)*y,h};C.exports=M},6650:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){y===void 0&&(y=1);var e=Math.random()*2*Math.PI,f=Math.random()*2-1,c=Math.sqrt(1-f*f)*y;return h.x=Math.cos(e)*c,h.y=Math.sin(e)*c,h.z=f*y,h};C.exports=M},2037:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){return y===void 0&&(y=1),h.x=(Math.random()*2-1)*y,h.y=(Math.random()*2-1)*y,h.z=(Math.random()*2-1)*y,h.w=(Math.random()*2-1)*y,h};C.exports=M},6283:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){var e=h.x,f=h.y;return h.x=e*Math.cos(y)-f*Math.sin(y),h.y=e*Math.sin(y)+f*Math.cos(y),h};C.exports=M},9876:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f){var c=Math.cos(f),s=Math.sin(f),a=h.x-y,r=h.y-e;return h.x=a*c-r*s+y,h.y=a*s+r*c+e,h};C.exports=M},8348:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f,c){var s=f+Math.atan2(h.y-e,h.x-y);return h.x=y+c*Math.cos(s),h.y=e+c*Math.sin(s),h};C.exports=M},4497:C=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f,c){return h.x=y+c*Math.cos(f),h.y=e+c*Math.sin(f),h};C.exports=M},9640:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(5689),e=h(9652),f=h(372),c=new e,s=new f,a=new y,r=function(o,l,v){return s.setAxisAngle(l,v),c.fromRotationTranslation(s,a.set(0,0,0)),o.transformMat4(c)};C.exports=r},4078:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return h>0?Math.ceil(h):Math.floor(h)};C.exports=M},855:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){y===void 0&&(y=0),e===void 0&&(e=10);var f=Math.pow(e,-y);return Math.round(h*f)/f};C.exports=M},4936:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f){y===void 0&&(y=1),e===void 0&&(e=1),f===void 0&&(f=1),f*=Math.PI/h;for(var c=[],s=[],a=0;a<h;a++)e-=y*f,y+=e*f,c[a]=e,s[a]=y;return{sin:s,cos:c,length:h}};C.exports=M},2733:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){return h<=y?0:h>=e?1:(h=(h-y)/(e-y),h*h*(3-2*h))};C.exports=M},278:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){return h=Math.max(0,Math.min(1,(h-y)/(e-y))),h*h*h*(h*(h*6-15)+10)};C.exports=M},163:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(2529),e=function(f,c,s,a){a===void 0&&(a=new y);var r=0,o=0,l=c*s;return f>0&&f<=l&&(f>c-1?(o=Math.floor(f/c),r=f-o*c):r=f),a.set(r,o)};C.exports=e},7556:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(2529),e=function(f,c,s,a,r,o,l,v){v===void 0&&(v=new y);var u=Math.sin(r),d=Math.cos(r),p=d*o,g=u*o,x=-u*l,T=d*l,S=1/(p*T+x*-g);return v.x=T*S*f+-x*S*c+(a*x-s*T)*S,v.y=p*S*c+-g*S*f+(-a*p+s*g)*S,v};C.exports=e},2529:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(12),f=new y({initialize:function(s,a){this.x=0,this.y=0,typeof s=="object"?(this.x=s.x||0,this.y=s.y||0):(a===void 0&&(a=s),this.x=s||0,this.y=a||0)},clone:function(){return new f(this.x,this.y)},copy:function(c){return this.x=c.x||0,this.y=c.y||0,this},setFromObject:function(c){return this.x=c.x||0,this.y=c.y||0,this},set:function(c,s){return s===void 0&&(s=c),this.x=c,this.y=s,this},setTo:function(c,s){return this.set(c,s)},setToPolar:function(c,s){return s==null&&(s=1),this.x=Math.cos(c)*s,this.y=Math.sin(c)*s,this},equals:function(c){return this.x===c.x&&this.y===c.y},fuzzyEquals:function(c,s){return e(this.x,c.x,s)&&e(this.y,c.y,s)},angle:function(){var c=Math.atan2(this.y,this.x);return c<0&&(c+=2*Math.PI),c},setAngle:function(c){return this.setToPolar(c,this.length())},add:function(c){return this.x+=c.x,this.y+=c.y,this},subtract:function(c){return this.x-=c.x,this.y-=c.y,this},multiply:function(c){return this.x*=c.x,this.y*=c.y,this},scale:function(c){return isFinite(c)?(this.x*=c,this.y*=c):(this.x=0,this.y=0),this},divide:function(c){return this.x/=c.x,this.y/=c.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(c){var s=c.x-this.x,a=c.y-this.y;return Math.sqrt(s*s+a*a)},distanceSq:function(c){var s=c.x-this.x,a=c.y-this.y;return s*s+a*a},length:function(){var c=this.x,s=this.y;return Math.sqrt(c*c+s*s)},setLength:function(c){return this.normalize().scale(c)},lengthSq:function(){var c=this.x,s=this.y;return c*c+s*s},normalize:function(){var c=this.x,s=this.y,a=c*c+s*s;return a>0&&(a=1/Math.sqrt(a),this.x=c*a,this.y=s*a),this},normalizeRightHand:function(){var c=this.x;return this.x=this.y*-1,this.y=c,this},normalizeLeftHand:function(){var c=this.x;return this.x=this.y,this.y=c*-1,this},dot:function(c){return this.x*c.x+this.y*c.y},cross:function(c){return this.x*c.y-this.y*c.x},lerp:function(c,s){s===void 0&&(s=0);var a=this.x,r=this.y;return this.x=a+s*(c.x-a),this.y=r+s*(c.y-r),this},transformMat3:function(c){var s=this.x,a=this.y,r=c.val;return this.x=r[0]*s+r[3]*a+r[6],this.y=r[1]*s+r[4]*a+r[7],this},transformMat4:function(c){var s=this.x,a=this.y,r=c.val;return this.x=r[0]*s+r[4]*a+r[12],this.y=r[1]*s+r[5]*a+r[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(c){var s=this.length();return s&&s>c&&this.scale(c/s),this},reflect:function(c){return c=c.clone().normalize(),this.subtract(c.scale(2*this.dot(c)))},mirror:function(c){return this.reflect(c).negate()},rotate:function(c){var s=Math.cos(c),a=Math.sin(c);return this.set(s*this.x-a*this.y,a*this.x+s*this.y)},project:function(c){var s=this.dot(c)/c.dot(c);return this.copy(c).scale(s)}});f.ZERO=new f,f.RIGHT=new f(1,0),f.LEFT=new f(-1,0),f.UP=new f(0,-1),f.DOWN=new f(0,1),f.ONE=new f(1,1),C.exports=f},5689:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=new y({initialize:function(c,s,a){this.x=0,this.y=0,this.z=0,typeof c=="object"?(this.x=c.x||0,this.y=c.y||0,this.z=c.z||0):(this.x=c||0,this.y=s||0,this.z=a||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(f){return this.x=Math.min(this.x,f.x),this.y=Math.min(this.y,f.y),this.z=Math.min(this.z,f.z),this},max:function(f){return this.x=Math.max(this.x,f.x),this.y=Math.max(this.y,f.y),this.z=Math.max(this.z,f.z),this},clone:function(){return new e(this.x,this.y,this.z)},addVectors:function(f,c){return this.x=f.x+c.x,this.y=f.y+c.y,this.z=f.z+c.z,this},crossVectors:function(f,c){var s=f.x,a=f.y,r=f.z,o=c.x,l=c.y,v=c.z;return this.x=a*v-r*l,this.y=r*o-s*v,this.z=s*l-a*o,this},equals:function(f){return this.x===f.x&&this.y===f.y&&this.z===f.z},copy:function(f){return this.x=f.x,this.y=f.y,this.z=f.z||0,this},set:function(f,c,s){return typeof f=="object"?(this.x=f.x||0,this.y=f.y||0,this.z=f.z||0):(this.x=f||0,this.y=c||0,this.z=s||0),this},setFromMatrixPosition:function(f){return this.fromArray(f.val,12)},setFromMatrixColumn:function(f,c){return this.fromArray(f.val,c*4)},fromArray:function(f,c){return c===void 0&&(c=0),this.x=f[c],this.y=f[c+1],this.z=f[c+2],this},add:function(f){return this.x+=f.x,this.y+=f.y,this.z+=f.z||0,this},addScalar:function(f){return this.x+=f,this.y+=f,this.z+=f,this},addScale:function(f,c){return this.x+=f.x*c,this.y+=f.y*c,this.z+=f.z*c||0,this},subtract:function(f){return this.x-=f.x,this.y-=f.y,this.z-=f.z||0,this},multiply:function(f){return this.x*=f.x,this.y*=f.y,this.z*=f.z||1,this},scale:function(f){return isFinite(f)?(this.x*=f,this.y*=f,this.z*=f):(this.x=0,this.y=0,this.z=0),this},divide:function(f){return this.x/=f.x,this.y/=f.y,this.z/=f.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(f){var c=f.x-this.x,s=f.y-this.y,a=f.z-this.z||0;return Math.sqrt(c*c+s*s+a*a)},distanceSq:function(f){var c=f.x-this.x,s=f.y-this.y,a=f.z-this.z||0;return c*c+s*s+a*a},length:function(){var f=this.x,c=this.y,s=this.z;return Math.sqrt(f*f+c*c+s*s)},lengthSq:function(){var f=this.x,c=this.y,s=this.z;return f*f+c*c+s*s},normalize:function(){var f=this.x,c=this.y,s=this.z,a=f*f+c*c+s*s;return a>0&&(a=1/Math.sqrt(a),this.x=f*a,this.y=c*a,this.z=s*a),this},dot:function(f){return this.x*f.x+this.y*f.y+this.z*f.z},cross:function(f){var c=this.x,s=this.y,a=this.z,r=f.x,o=f.y,l=f.z;return this.x=s*l-a*o,this.y=a*r-c*l,this.z=c*o-s*r,this},lerp:function(f,c){c===void 0&&(c=0);var s=this.x,a=this.y,r=this.z;return this.x=s+c*(f.x-s),this.y=a+c*(f.y-a),this.z=r+c*(f.z-r),this},applyMatrix3:function(f){var c=this.x,s=this.y,a=this.z,r=f.val;return this.x=r[0]*c+r[3]*s+r[6]*a,this.y=r[1]*c+r[4]*s+r[7]*a,this.z=r[2]*c+r[5]*s+r[8]*a,this},applyMatrix4:function(f){var c=this.x,s=this.y,a=this.z,r=f.val,o=1/(r[3]*c+r[7]*s+r[11]*a+r[15]);return this.x=(r[0]*c+r[4]*s+r[8]*a+r[12])*o,this.y=(r[1]*c+r[5]*s+r[9]*a+r[13])*o,this.z=(r[2]*c+r[6]*s+r[10]*a+r[14])*o,this},transformMat3:function(f){var c=this.x,s=this.y,a=this.z,r=f.val;return this.x=c*r[0]+s*r[3]+a*r[6],this.y=c*r[1]+s*r[4]+a*r[7],this.z=c*r[2]+s*r[5]+a*r[8],this},transformMat4:function(f){var c=this.x,s=this.y,a=this.z,r=f.val;return this.x=r[0]*c+r[4]*s+r[8]*a+r[12],this.y=r[1]*c+r[5]*s+r[9]*a+r[13],this.z=r[2]*c+r[6]*s+r[10]*a+r[14],this},transformCoordinates:function(f){var c=this.x,s=this.y,a=this.z,r=f.val,o=c*r[0]+s*r[4]+a*r[8]+r[12],l=c*r[1]+s*r[5]+a*r[9]+r[13],v=c*r[2]+s*r[6]+a*r[10]+r[14],u=c*r[3]+s*r[7]+a*r[11]+r[15];return this.x=o/u,this.y=l/u,this.z=v/u,this},transformQuat:function(f){var c=this.x,s=this.y,a=this.z,r=f.x,o=f.y,l=f.z,v=f.w,u=v*c+o*a-l*s,d=v*s+l*c-r*a,p=v*a+r*s-o*c,g=-r*c-o*s-l*a;return this.x=u*v+g*-r+d*-l-p*-o,this.y=d*v+g*-o+p*-r-u*-l,this.z=p*v+g*-l+u*-o-d*-r,this},project:function(f){var c=this.x,s=this.y,a=this.z,r=f.val,o=r[0],l=r[1],v=r[2],u=r[3],d=r[4],p=r[5],g=r[6],x=r[7],T=r[8],S=r[9],P=r[10],E=r[11],R=r[12],A=r[13],w=r[14],O=r[15],L=1/(c*u+s*x+a*E+O);return this.x=(c*o+s*d+a*T+R)*L,this.y=(c*l+s*p+a*S+A)*L,this.z=(c*v+s*g+a*P+w)*L,this},projectViewMatrix:function(f,c){return this.applyMatrix4(f).applyMatrix4(c)},unprojectViewMatrix:function(f,c){return this.applyMatrix4(f).applyMatrix4(c)},unproject:function(f,c){var s=f.x,a=f.y,r=f.z,o=f.w,l=this.x-s,v=o-this.y-1-a,u=this.z;return this.x=2*l/r-1,this.y=2*v/o-1,this.z=2*u-1,this.project(c)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});e.ZERO=new e,e.RIGHT=new e(1,0,0),e.LEFT=new e(-1,0,0),e.UP=new e(0,-1,0),e.DOWN=new e(0,1,0),e.FORWARD=new e(0,0,1),e.BACK=new e(0,0,-1),e.ONE=new e(1,1,1),C.exports=e},9279:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=new y({initialize:function(c,s,a,r){this.x=0,this.y=0,this.z=0,this.w=0,typeof c=="object"?(this.x=c.x||0,this.y=c.y||0,this.z=c.z||0,this.w=c.w||0):(this.x=c||0,this.y=s||0,this.z=a||0,this.w=r||0)},clone:function(){return new e(this.x,this.y,this.z,this.w)},copy:function(f){return this.x=f.x,this.y=f.y,this.z=f.z||0,this.w=f.w||0,this},equals:function(f){return this.x===f.x&&this.y===f.y&&this.z===f.z&&this.w===f.w},set:function(f,c,s,a){return typeof f=="object"?(this.x=f.x||0,this.y=f.y||0,this.z=f.z||0,this.w=f.w||0):(this.x=f||0,this.y=c||0,this.z=s||0,this.w=a||0),this},add:function(f){return this.x+=f.x,this.y+=f.y,this.z+=f.z||0,this.w+=f.w||0,this},subtract:function(f){return this.x-=f.x,this.y-=f.y,this.z-=f.z||0,this.w-=f.w||0,this},scale:function(f){return this.x*=f,this.y*=f,this.z*=f,this.w*=f,this},length:function(){var f=this.x,c=this.y,s=this.z,a=this.w;return Math.sqrt(f*f+c*c+s*s+a*a)},lengthSq:function(){var f=this.x,c=this.y,s=this.z,a=this.w;return f*f+c*c+s*s+a*a},normalize:function(){var f=this.x,c=this.y,s=this.z,a=this.w,r=f*f+c*c+s*s+a*a;return r>0&&(r=1/Math.sqrt(r),this.x=f*r,this.y=c*r,this.z=s*r,this.w=a*r),this},dot:function(f){return this.x*f.x+this.y*f.y+this.z*f.z+this.w*f.w},lerp:function(f,c){c===void 0&&(c=0);var s=this.x,a=this.y,r=this.z,o=this.w;return this.x=s+c*(f.x-s),this.y=a+c*(f.y-a),this.z=r+c*(f.z-r),this.w=o+c*(f.w-o),this},multiply:function(f){return this.x*=f.x,this.y*=f.y,this.z*=f.z||1,this.w*=f.w||1,this},divide:function(f){return this.x/=f.x,this.y/=f.y,this.z/=f.z||1,this.w/=f.w||1,this},distance:function(f){var c=f.x-this.x,s=f.y-this.y,a=f.z-this.z||0,r=f.w-this.w||0;return Math.sqrt(c*c+s*s+a*a+r*r)},distanceSq:function(f){var c=f.x-this.x,s=f.y-this.y,a=f.z-this.z||0,r=f.w-this.w||0;return c*c+s*s+a*a+r*r},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(f){var c=this.x,s=this.y,a=this.z,r=this.w,o=f.val;return this.x=o[0]*c+o[4]*s+o[8]*a+o[12]*r,this.y=o[1]*c+o[5]*s+o[9]*a+o[13]*r,this.z=o[2]*c+o[6]*s+o[10]*a+o[14]*r,this.w=o[3]*c+o[7]*s+o[11]*a+o[15]*r,this},transformQuat:function(f){var c=this.x,s=this.y,a=this.z,r=f.x,o=f.y,l=f.z,v=f.w,u=v*c+o*a-l*s,d=v*s+l*c-r*a,p=v*a+r*s-o*c,g=-r*c-o*s-l*a;return this.x=u*v+g*-r+d*-l-p*-o,this.y=d*v+g*-o+p*-r-u*-l,this.z=p*v+g*-l+u*-o-d*-r,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});e.prototype.sub=e.prototype.subtract,e.prototype.mul=e.prototype.multiply,e.prototype.div=e.prototype.divide,e.prototype.dist=e.prototype.distance,e.prototype.distSq=e.prototype.distanceSq,e.prototype.len=e.prototype.length,e.prototype.lenSq=e.prototype.lengthSq,C.exports=e},4119:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){return Math.abs(h-y)<=e};C.exports=M},8445:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){if(h>=y&&h<=e)return h;var f=e-y;return y+((h-y)%f+f)%f};C.exports=M},6412:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f){return Math.atan2(f-y,e-h)};C.exports=M},760:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){return Math.atan2(y.y-h.y,y.x-h.x)};C.exports=M},6909:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){return Math.atan2(y.x-h.x,y.y-h.y)};C.exports=M},6947:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f){return Math.atan2(e-h,f-y)};C.exports=M},3426:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7425),e=function(f){return f>Math.PI&&(f-=y.PI2),Math.abs(((f+y.TAU)%y.PI2-y.PI2)%y.PI2)};C.exports=e},6906:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return h=h%(2*Math.PI),h>=0?h:h+2*Math.PI};C.exports=M},3270:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(104),e=function(){return y(-Math.PI,Math.PI)};C.exports=e},2748:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(104),e=function(){return y(-180,180)};C.exports=e},936:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(6906),e=function(f){return y(f+Math.PI)};C.exports=e},1935:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7425),e=function(f,c,s){return s===void 0&&(s=.05),f===c||(Math.abs(c-f)<=s||Math.abs(c-f)>=y.PI2-s?f=c:(Math.abs(c-f)>Math.PI&&(c<f?c+=y.PI2:c-=y.PI2),c>f?f+=s:c<f&&(f-=s))),f};C.exports=e},5393:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){var e=y-h;if(e===0)return 0;var f=Math.floor((e- -180)/360);return e-f*360};C.exports=M},3692:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(8445),e=function(f){return y(f,-Math.PI,Math.PI)};C.exports=e},2820:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(8445),e=function(f){return y(f,-180,180)};C.exports=e},1833:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Between:h(6412),BetweenPoints:h(760),BetweenPointsY:h(6909),BetweenY:h(6947),CounterClockwise:h(3426),Normalize:h(6906),Random:h(3270),RandomDegrees:h(2748),Reverse:h(936),RotateTo:h(1935),ShortestBetween:h(5393),Wrap:h(3692),WrapDegrees:h(2820)}},7425:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};C.exports=M},1518:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f){var c=h-e,s=y-f;return Math.sqrt(c*c+s*s)};C.exports=M},5372:C=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){var e=h.x-y.x,f=h.y-y.y;return Math.sqrt(e*e+f*f)};C.exports=M},4430:C=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){var e=h.x-y.x,f=h.y-y.y;return e*e+f*f};C.exports=M},4361:C=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f){return Math.max(Math.abs(h-e),Math.abs(y-f))};C.exports=M},7798:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f,c){return c===void 0&&(c=2),Math.sqrt(Math.pow(e-h,c)+Math.pow(f-y,c))};C.exports=M},8290:C=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f){return Math.abs(h-e)+Math.abs(y-f)};C.exports=M},3788:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f){var c=h-e,s=y-f;return c*c+s*s};C.exports=M},6338:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Between:h(1518),BetweenPoints:h(5372),BetweenPointsSquared:h(4430),Chebyshev:h(4361),Power:h(7798),Snake:h(8290),Squared:h(3788)}},5751:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){return y===void 0&&(y=1.70158),h*h*((y+1)*h-y)};C.exports=M},6203:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){y===void 0&&(y=1.70158);var e=y*1.525;return(h*=2)<1?.5*(h*h*((e+1)*h-e)):.5*((h-=2)*h*((e+1)*h+e)+2)};C.exports=M},9103:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){return y===void 0&&(y=1.70158),--h*h*((y+1)*h+y)+1};C.exports=M},4938:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={In:h(5751),Out:h(9103),InOut:h(6203)}},8677:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return h=1-h,h<.36363636363636365?1-7.5625*h*h:h<.7272727272727273?1-(7.5625*(h-=.5454545454545454)*h+.75):h<.9090909090909091?1-(7.5625*(h-=.8181818181818182)*h+.9375):1-(7.5625*(h-=.9545454545454546)*h+.984375)};C.exports=M},4649:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){var y=!1;return h<.5?(h=1-h*2,y=!0):h=h*2-1,h<.36363636363636365?h=7.5625*h*h:h<.7272727272727273?h=7.5625*(h-=.5454545454545454)*h+.75:h<.9090909090909091?h=7.5625*(h-=.8181818181818182)*h+.9375:h=7.5625*(h-=.9545454545454546)*h+.984375,y?(1-h)*.5:h*.5+.5};C.exports=M},504:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return h<.36363636363636365?7.5625*h*h:h<.7272727272727273?7.5625*(h-=.5454545454545454)*h+.75:h<.9090909090909091?7.5625*(h-=.8181818181818182)*h+.9375:7.5625*(h-=.9545454545454546)*h+.984375};C.exports=M},8872:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={In:h(8677),Out:h(504),InOut:h(4649)}},3170:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return 1-Math.sqrt(1-h*h)};C.exports=M},2627:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return(h*=2)<1?-.5*(Math.sqrt(1-h*h)-1):.5*(Math.sqrt(1-(h-=2)*h)+1)};C.exports=M},1349:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return Math.sqrt(1- --h*h)};C.exports=M},5006:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={In:h(3170),Out:h(1349),InOut:h(2627)}},6046:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return h*h*h};C.exports=M},9531:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return(h*=2)<1?.5*h*h*h:.5*((h-=2)*h*h+2)};C.exports=M},4836:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return--h*h*h+1};C.exports=M},875:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={In:h(6046),Out:h(4836),InOut:h(9531)}},7619:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){if(y===void 0&&(y=.1),e===void 0&&(e=.1),h===0)return 0;if(h===1)return 1;var f=e/4;return y<1?y=1:f=e*Math.asin(1/y)/(2*Math.PI),-(y*Math.pow(2,10*(h-=1))*Math.sin((h-f)*(2*Math.PI)/e))};C.exports=M},7437:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){if(y===void 0&&(y=.1),e===void 0&&(e=.1),h===0)return 0;if(h===1)return 1;var f=e/4;return y<1?y=1:f=e*Math.asin(1/y)/(2*Math.PI),(h*=2)<1?-.5*(y*Math.pow(2,10*(h-=1))*Math.sin((h-f)*(2*Math.PI)/e)):y*Math.pow(2,-10*(h-=1))*Math.sin((h-f)*(2*Math.PI)/e)*.5+1};C.exports=M},8119:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){if(y===void 0&&(y=.1),e===void 0&&(e=.1),h===0)return 0;if(h===1)return 1;var f=e/4;return y<1?y=1:f=e*Math.asin(1/y)/(2*Math.PI),y*Math.pow(2,-10*h)*Math.sin((h-f)*(2*Math.PI)/e)+1};C.exports=M},2884:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={In:h(7619),Out:h(8119),InOut:h(7437)}},5456:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return Math.pow(2,10*(h-1))-.001};C.exports=M},3461:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return(h*=2)<1?.5*Math.pow(2,10*(h-1)):.5*(2-Math.pow(2,-10*(h-1)))};C.exports=M},2711:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return 1-Math.pow(2,-10*h)};C.exports=M},6287:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={In:h(5456),Out:h(2711),InOut:h(3461)}},8613:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Back:h(4938),Bounce:h(8872),Circular:h(5006),Cubic:h(875),Elastic:h(2884),Expo:h(6287),Linear:h(4233),Quadratic:h(6341),Quartic:h(762),Quintic:h(345),Sine:h(8698),Stepped:h(7051)}},744:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return h};C.exports=M},4233:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports=h(744)},9810:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return h*h};C.exports=M},8163:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return(h*=2)<1?.5*h*h:-.5*(--h*(h-2)-1)};C.exports=M},6123:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return h*(2-h)};C.exports=M},6341:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={In:h(9810),Out:h(6123),InOut:h(8163)}},7337:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return h*h*h*h};C.exports=M},4878:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return(h*=2)<1?.5*h*h*h*h:-.5*((h-=2)*h*h*h-2)};C.exports=M},9012:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return 1- --h*h*h*h};C.exports=M},762:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={In:h(7337),Out:h(9012),InOut:h(4878)}},303:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return h*h*h*h*h};C.exports=M},553:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return(h*=2)<1?.5*h*h*h*h*h:.5*((h-=2)*h*h*h*h+2)};C.exports=M},1632:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return--h*h*h*h*h+1};C.exports=M},345:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={In:h(303),Out:h(1632),InOut:h(553)}},8455:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return h===0?0:h===1?1:1-Math.cos(h*Math.PI/2)};C.exports=M},1844:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return h===0?0:h===1?1:.5*(1-Math.cos(Math.PI*h))};C.exports=M},990:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return h===0?0:h===1?1:Math.sin(h*Math.PI/2)};C.exports=M},8698:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={In:h(8455),Out:h(990),InOut:h(1844)}},6745:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){return y===void 0&&(y=1),h<=0?0:h>=1?1:((y*h|0)+1)*(1/y)};C.exports=M},7051:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports=h(6745)},3158:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){return y===void 0&&(y=1e-4),Math.ceil(h-y)};C.exports=M},12:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){return e===void 0&&(e=1e-4),Math.abs(h-y)<e};C.exports=M},1326:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){return y===void 0&&(y=1e-4),Math.floor(h+y)};C.exports=M},7373:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){return e===void 0&&(e=1e-4),h>y-e};C.exports=M},2622:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){return e===void 0&&(e=1e-4),h<y+e};C.exports=M},7927:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Ceil:h(3158),Equal:h(12),Floor:h(1326),GreaterThan:h(7373),LessThan:h(2622)}},4675:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7425),e=h(1030),f={Angle:h(1833),Distance:h(6338),Easing:h(8613),Fuzzy:h(7927),Interpolation:h(2140),Pow2:h(7897),Snap:h(3943),RandomDataGenerator:h(6957),Average:h(3136),Bernstein:h(785),Between:h(7025),CatmullRom:h(48),CeilTo:h(5035),Clamp:h(2915),DegToRad:h(7149),Difference:h(2975),Euler:h(2107),Factorial:h(3916),FloatBetween:h(104),FloorTo:h(4941),FromPercent:h(1555),GetSpeed:h(5005),IsEven:h(3702),IsEvenStrict:h(8820),Linear:h(1743),LinearXY:h(3416),MaxAdd:h(3733),Median:h(44),MinSub:h(5385),Percent:h(8585),RadToDeg:h(4208),RandomXY:h(1705),RandomXYZ:h(6650),RandomXYZW:h(2037),Rotate:h(6283),RotateAround:h(9876),RotateAroundDistance:h(8348),RotateTo:h(4497),RoundAwayFromZero:h(4078),RoundTo:h(855),SinCosTableGenerator:h(4936),SmootherStep:h(278),SmoothStep:h(2733),ToXY:h(163),TransformXY:h(7556),Within:h(4119),Wrap:h(8445),Vector2:h(2529),Vector3:h(5689),Vector4:h(9279),Matrix3:h(2149),Matrix4:h(9652),Quaternion:h(372),RotateVec3:h(9640)};f=e(!1,f,y),C.exports=f},1640:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(785),e=function(f,c){for(var s=0,a=f.length-1,r=0;r<=a;r++)s+=Math.pow(1-c,a-r)*Math.pow(c,r)*f[r]*y(a,r);return s};C.exports=e},6105:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(48),e=function(f,c){var s=f.length-1,a=s*c,r=Math.floor(a);return f[0]===f[s]?(c<0&&(r=Math.floor(a=s*(1+c))),y(a-r,f[(r-1+s)%s],f[r],f[(r+1)%s],f[(r+2)%s])):c<0?f[0]-(y(-a,f[0],f[0],f[1],f[1])-f[0]):c>1?f[s]-(y(a-s,f[s],f[s],f[s-1],f[s-1])-f[s]):y(a-r,f[r?r-1:0],f[r],f[s<r+1?s:r+1],f[s<r+2?s:r+2])};C.exports=e},4002:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function M(c,s){var a=1-c;return a*a*a*s}function h(c,s){var a=1-c;return 3*a*a*c*s}function y(c,s){return 3*(1-c)*c*c*s}function e(c,s){return c*c*c*s}var f=function(c,s,a,r,o){return M(c,s)+h(c,a)+y(c,r)+e(c,o)};C.exports=f},6765:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(1743),e=function(f,c){var s=f.length-1,a=s*c,r=Math.floor(a);return c<0?y(f[0],f[1],a):c>1?y(f[s],f[s-1],s-a):y(f[r],f[r+1>s?s:r+1],a-r)};C.exports=e},6388:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function M(f,c){var s=1-f;return s*s*c}function h(f,c){return 2*(1-f)*f*c}function y(f,c){return f*f*c}var e=function(f,c,s,a){return M(f,c)+h(f,s)+y(f,a)};C.exports=e},5735:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(2733),e=function(f,c,s){return c+(s-c)*y(f,0,1)};C.exports=e},8705:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(278),e=function(f,c,s){return c+(s-c)*y(f,0,1)};C.exports=e},2140:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Bezier:h(1640),CatmullRom:h(6105),CubicBezier:h(4002),Linear:h(6765),QuadraticBezier:h(6388),SmoothStep:h(5735),SmootherStep:h(8705)}},5443:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){var y=Math.log(h)/.6931471805599453;return 1<<Math.ceil(y)};C.exports=M},725:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){return h>0&&(h&h-1)===0&&y>0&&(y&y-1)===0};C.exports=M},167:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return h>0&&(h&h-1)===0};C.exports=M},7897:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={GetNext:h(5443),IsSize:h(725),IsValue:h(167)}},6957:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=new y({initialize:function(c){c===void 0&&(c=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],c&&this.init(c)},rnd:function(){var f=2091639*this.s0+this.c*23283064365386963e-26;return this.c=f|0,this.s0=this.s1,this.s1=this.s2,this.s2=f-this.c,this.s2},hash:function(f){var c,s=this.n;f=f.toString();for(var a=0;a<f.length;a++)s+=f.charCodeAt(a),c=.02519603282416938*s,s=c>>>0,c-=s,c*=s,s=c>>>0,c-=s,s+=c*4294967296;return this.n=s,(s>>>0)*23283064365386963e-26},init:function(f){typeof f=="string"?this.state(f):this.sow(f)},sow:function(f){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!f)for(var c=0;c<f.length&&f[c]!=null;c++){var s=f[c];this.s0-=this.hash(s),this.s0+=~~(this.s0<0),this.s1-=this.hash(s),this.s1+=~~(this.s1<0),this.s2-=this.hash(s),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(f,c){return Math.floor(this.realInRange(0,c-f+1)+f)},between:function(f,c){return Math.floor(this.realInRange(0,c-f+1)+f)},realInRange:function(f,c){return this.frac()*(c-f)+f},normal:function(){return 1-2*this.frac()},uuid:function(){var f="",c="";for(c=f="";f++<36;c+=~f%5|f*3&4?(f^15?8^this.frac()*(f^20?16:4):4).toString(16):"-");return c},pick:function(f){return f[this.integerInRange(0,f.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(f){return f[~~(Math.pow(this.frac(),2)*(f.length-1)+.5)]},timestamp:function(f,c){return this.realInRange(f||9466848e5,c||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(f){return typeof f=="string"&&f.match(/^!rnd/)&&(f=f.split(","),this.c=parseFloat(f[1]),this.s0=parseFloat(f[2]),this.s1=parseFloat(f[3]),this.s2=parseFloat(f[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(f){for(var c=f.length-1,s=c;s>0;s--){var a=Math.floor(this.frac()*(s+1)),r=f[a];f[a]=f[s],f[s]=r}return f}});C.exports=e},5659:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f){return e===void 0&&(e=0),y===0?h:(h-=e,h=y*Math.ceil(h/y),f?(e+h)/y:e+h)};C.exports=M},5461:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f){return e===void 0&&(e=0),y===0?h:(h-=e,h=y*Math.floor(h/y),f?(e+h)/y:e+h)};C.exports=M},5131:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f){return e===void 0&&(e=0),y===0?h:(h-=e,h=y*Math.round(h/y),f?(e+h)/y:e+h)};C.exports=M},3943:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Ceil:h(5659),Floor:h(5461),To:h(5131)}},8666:(C,M,h)=>{/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2013-2023 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var y=h(7473),e=new y({initialize:function(c){this.pluginManager=c,this.game=c.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});C.exports=e},8456:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={},h={},y={};y.register=function(e,f,c,s){s===void 0&&(s=!1),M[e]={plugin:f,mapping:c,custom:s}},y.registerCustom=function(e,f,c,s){h[e]={plugin:f,mapping:c,data:s}},y.hasCore=function(e){return M.hasOwnProperty(e)},y.hasCustom=function(e){return h.hasOwnProperty(e)},y.getCore=function(e){return M[e]},y.getCustom=function(e){return h[e]},y.getCustomClass=function(e){return h.hasOwnProperty(e)?h[e].plugin:null},y.remove=function(e){M.hasOwnProperty(e)&&delete M[e]},y.removeCustom=function(e){h.hasOwnProperty(e)&&delete h[e]},y.destroyCorePlugins=function(){for(var e in M)M.hasOwnProperty(e)&&delete M[e]},y.destroyCustomPlugins=function(){for(var e in h)h.hasOwnProperty(e)&&delete h[e]},C.exports=y},5722:(C,M,h)=>{/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2013-2023 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var y=h(8666),e=h(7473),f=h(204),c=new e({Extends:y,initialize:function(a,r,o){y.call(this,r),this.scene=a,this.systems=a.sys,this.pluginKey=o,a.sys.events.once(f.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});C.exports=c},8351:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},8196:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={DEFAULT:0,LINEAR:0,NEAREST:1};C.exports=M},3527:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="resize"},8618:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="addedtoscene"},4328:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="boot"},6099:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="create"},7645:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="destroy"},2710:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="pause"},2547:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="postupdate"},8577:C=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="prerender"},8197:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="preupdate"},8997:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="ready"},7604:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="removedfromscene"},8999:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="render"},9742:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="resume"},3667:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="shutdown"},3468:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="sleep"},7840:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="start"},9896:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="transitioncomplete"},5103:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="transitioninit"},3162:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="transitionout"},7841:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="transitionstart"},6454:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="transitionwake"},6536:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="update"},3875:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports="wake"},204:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={ADDED_TO_SCENE:h(8618),BOOT:h(4328),CREATE:h(6099),DESTROY:h(7645),PAUSE:h(2710),POST_UPDATE:h(2547),PRE_RENDER:h(8577),PRE_UPDATE:h(8197),READY:h(8997),REMOVED_FROM_SCENE:h(7604),RENDER:h(8999),RESUME:h(9742),SHUTDOWN:h(3667),SLEEP:h(3468),START:h(7840),TRANSITION_COMPLETE:h(9896),TRANSITION_INIT:h(5103),TRANSITION_OUT:h(3162),TRANSITION_START:h(7841),TRANSITION_WAKE:h(6454),UPDATE:h(6536),WAKE:h(3875)}},2362:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7473),e=h(2915),f=h(1030),c=new y({initialize:function(a,r,o,l,v,u,d){this.texture=a,this.name=r,this.source=a.source[o],this.sourceIndex=o,this.glTexture=this.source.glTexture,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0}},this.setSize(u,d,l,v)},setSize:function(s,a,r,o){r===void 0&&(r=0),o===void 0&&(o=0),this.cutX=r,this.cutY=o,this.cutWidth=s,this.cutHeight=a,this.width=s,this.height=a,this.halfWidth=Math.floor(s*.5),this.halfHeight=Math.floor(a*.5),this.centerX=Math.floor(s/2),this.centerY=Math.floor(a/2);var l=this.data,v=l.cut;v.x=r,v.y=o,v.w=s,v.h=a,v.r=r+s,v.b=o+a,l.sourceSize.w=s,l.sourceSize.h=a,l.spriteSourceSize.w=s,l.spriteSourceSize.h=a,l.radius=.5*Math.sqrt(s*s+a*a);var u=l.drawImage;return u.x=r,u.y=o,u.width=s,u.height=a,this.updateUVs()},setTrim:function(s,a,r,o,l,v){var u=this.data,d=u.spriteSourceSize;return u.trim=!0,u.sourceSize.w=s,u.sourceSize.h=a,d.x=r,d.y=o,d.w=l,d.h=v,d.r=r+l,d.b=o+v,this.x=r,this.y=o,this.width=l,this.height=v,this.halfWidth=l*.5,this.halfHeight=v*.5,this.centerX=Math.floor(l/2),this.centerY=Math.floor(v/2),this.updateUVs()},setCropUVs:function(s,a,r,o,l,v,u){var d=this.cutX,p=this.cutY,g=this.cutWidth,x=this.cutHeight,T=this.realWidth,S=this.realHeight;a=e(a,0,T),r=e(r,0,S),o=e(o,0,T-a),l=e(l,0,S-r);var P=d+a,E=p+r,R=o,A=l,w=this.data;if(w.trim){var O=w.spriteSourceSize;o=e(o,0,g-a),l=e(l,0,x-r);var L=a+o,F=r+l,I=!(O.r<a||O.b<r||O.x>L||O.y>F);if(I){var b=Math.max(O.x,a),G=Math.max(O.y,r),N=Math.min(O.r,L)-b,U=Math.min(O.b,F)-G;R=N,A=U,v?P=d+(g-(b-O.x)-N):P=d+(b-O.x),u?E=p+(x-(G-O.y)-U):E=p+(G-O.y),a=b,r=G,o=N,l=U}else P=0,E=0,R=0,A=0}else v&&(P=d+(g-a-o)),u&&(E=p+(x-r-l));var Y=this.source.width,X=this.source.height;return s.u0=Math.max(0,P/Y),s.v0=Math.max(0,E/X),s.u1=Math.min(1,(P+R)/Y),s.v1=Math.min(1,(E+A)/X),s.x=a,s.y=r,s.cx=P,s.cy=E,s.cw=R,s.ch=A,s.width=o,s.height=l,s.flipX=v,s.flipY=u,s},updateCropUVs:function(s,a,r){return this.setCropUVs(s,s.x,s.y,s.width,s.height,a,r)},setUVs:function(s,a,r,o,l,v){var u=this.data.drawImage;return u.width=s,u.height=a,this.u0=r,this.v0=o,this.u1=l,this.v1=v,this},updateUVs:function(){var s=this.cutX,a=this.cutY,r=this.cutWidth,o=this.cutHeight,l=this.data.drawImage;l.width=r,l.height=o;var v=this.source.width,u=this.source.height;return this.u0=s/v,this.v0=a/u,this.u1=(s+r)/v,this.v1=(a+o)/u,this},updateUVsInverted:function(){var s=this.source.width,a=this.source.height;return this.u0=(this.cutX+this.cutHeight)/s,this.v0=this.cutY/a,this.u1=this.cutX/s,this.v1=(this.cutY+this.cutWidth)/a,this},clone:function(){var s=new c(this.texture,this.name,this.sourceIndex);return s.cutX=this.cutX,s.cutY=this.cutY,s.cutWidth=this.cutWidth,s.cutHeight=this.cutHeight,s.x=this.x,s.y=this.y,s.width=this.width,s.height=this.height,s.halfWidth=this.halfWidth,s.halfHeight=this.halfHeight,s.centerX=this.centerX,s.centerY=this.centerY,s.rotated=this.rotated,s.data=f(!0,s.data,this.data),s.updateUVs(),s},destroy:function(){this.source=null,this.texture=null,this.glTexture=null,this.customData=null,this.data=null},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},canvasData:{get:function(){return this.data.drawImage}}});C.exports=c},1864:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){return h&&h.hasOwnProperty(y)?h[y]:e};C.exports=M},3747:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};C.exports=M},7473:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function M(s){return!!s.get&&typeof s.get=="function"||!!s.set&&typeof s.set=="function"}function h(s,a,r){var o=r?s[a]:Object.getOwnPropertyDescriptor(s,a);return!r&&o.value&&typeof o.value=="object"&&(o=o.value),o&&M(o)?(typeof o.enumerable>"u"&&(o.enumerable=!0),typeof o.configurable>"u"&&(o.configurable=!0),o):!1}function y(s,a){var r=Object.getOwnPropertyDescriptor(s,a);return r?(r.value&&typeof r.value=="object"&&(r=r.value),r.configurable===!1):!1}function e(s,a,r,o){for(var l in a)if(a.hasOwnProperty(l)){var v=h(a,l,r);if(v!==!1){var u=o||s;if(y(u.prototype,l)){if(c.ignoreFinals)continue;throw new Error("cannot override final property '"+l+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(s.prototype,l,v)}else s.prototype[l]=a[l]}}function f(s,a){if(a){Array.isArray(a)||(a=[a]);for(var r=0;r<a.length;r++)e(s,a[r].prototype||a[r])}}function c(s){s||(s={});var a,r;if(s.initialize){if(typeof s.initialize!="function")throw new Error("initialize must be a function");a=s.initialize,delete s.initialize}else if(s.Extends){var o=s.Extends;a=function(){o.apply(this,arguments)}}else a=function(){};s.Extends?(a.prototype=Object.create(s.Extends.prototype),a.prototype.constructor=a,r=s.Extends,delete s.Extends):a.prototype.constructor=a;var l=null;return s.Mixins&&(l=s.Mixins,delete s.Mixins),f(a,l),e(a,s,!0,r),a}c.extend=e,c.mixin=f,c.ignoreFinals=!1,C.exports=c},1984:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(){};C.exports=M},1792:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f,c){if(c===void 0&&(c=h),e>0){var s=e-h.length;if(s<=0)return null}if(!Array.isArray(y))return h.indexOf(y)===-1?(h.push(y),f&&f.call(c,y),y):null;for(var a=y.length-1;a>=0;)h.indexOf(y[a])!==-1&&y.splice(a,1),a--;if(a=y.length,a===0)return null;e>0&&a>s&&(y.splice(s),a=s);for(var r=0;r<a;r++){var o=y[r];h.push(o),f&&f.call(c,o)}return y};C.exports=M},2280:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f,c,s){if(e===void 0&&(e=0),s===void 0&&(s=h),f>0){var a=f-h.length;if(a<=0)return null}if(!Array.isArray(y))return h.indexOf(y)===-1?(h.splice(e,0,y),c&&c.call(s,y),y):null;for(var r=y.length-1;r>=0;)h.indexOf(y[r])!==-1&&y.pop(),r--;if(r=y.length,r===0)return null;f>0&&r>a&&(y.splice(a),r=a);for(var o=r-1;o>=0;o--){var l=y[o];h.splice(e,0,l),c&&c.call(s,l)}return y};C.exports=M},2513:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){var e=h.indexOf(y);return e!==-1&&e<h.length&&(h.splice(e,1),h.push(y)),y};C.exports=M},1771:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(2497),e=function(f,c,s,a,r){a===void 0&&(a=0),r===void 0&&(r=f.length);var o=0;if(y(f,a,r))for(var l=a;l<r;l++){var v=f[l];v[c]===s&&o++}return o};C.exports=e},7883:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){var f,c=[null];for(f=3;f<arguments.length;f++)c.push(arguments[f]);for(f=0;f<h.length;f++)c[0]=h[f],y.apply(e,c);return h};C.exports=M},5856:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(2497),e=function(f,c,s,a,r){if(a===void 0&&(a=0),r===void 0&&(r=f.length),y(f,a,r)){var o,l=[null];for(o=5;o<arguments.length;o++)l.push(arguments[o]);for(o=a;o<r;o++)l[0]=f[o],c.apply(s,l)}return f};C.exports=e},3957:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){if(y.length){if(y.length===1)return y[0]}else return NaN;var f=1,c,s;if(e){if(h<y[0][e])return y[0];for(;y[f][e]<h;)f++}else for(;y[f]<h;)f++;return f>y.length&&(f=y.length),e?(c=y[f-1][e],s=y[f][e],s-h<=h-c?y[f]:y[f-1]):(c=y[f-1],s=y[f],s-h<=h-c?s:c)};C.exports=M},4493:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){y===void 0&&(y=[]);for(var e=0;e<h.length;e++)Array.isArray(h[e])?M(h[e],y):y.push(h[e]);return y};C.exports=M},6245:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(2497),e=function(f,c,s,a,r){a===void 0&&(a=0),r===void 0&&(r=f.length);var o=[];if(y(f,a,r))for(var l=a;l<r;l++){var v=f[l];(!c||c&&s===void 0&&v.hasOwnProperty(c)||c&&s!==void 0&&v[c]===s)&&o.push(v)}return o};C.exports=e},1647:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(2497),e=function(f,c,s,a,r){if(a===void 0&&(a=0),r===void 0&&(r=f.length),y(f,a,r))for(var o=a;o<r;o++){var l=f[o];if(!c||c&&s===void 0&&l.hasOwnProperty(c)||c&&s!==void 0&&l[c]===s)return l}return null};C.exports=e},5301:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){y===void 0&&(y=0),e===void 0&&(e=h.length);var f=y+Math.floor(Math.random()*e);return h[f]===void 0?null:h[f]};C.exports=M},8683:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){if(y===e)return h;var f=h.indexOf(y),c=h.indexOf(e);if(f<0||c<0)throw new Error("Supplied items must be elements of the same array");return f>c||(h.splice(f,1),c===h.length-1?h.push(y):h.splice(c,0,y)),h};C.exports=M},546:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){if(y===e)return h;var f=h.indexOf(y),c=h.indexOf(e);if(f<0||c<0)throw new Error("Supplied items must be elements of the same array");return f<c||(h.splice(f,1),c===0?h.unshift(y):h.splice(c,0,y)),h};C.exports=M},1842:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){var e=h.indexOf(y);if(e>0){var f=h[e-1],c=h.indexOf(f);h[e]=f,h[c]=y}return h};C.exports=M},1419:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){var f=h.indexOf(y);if(f===-1||e<0||e>=h.length)throw new Error("Supplied index out of bounds");return f!==e&&(h.splice(f,1),h.splice(e,0,y)),y};C.exports=M},6512:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){var e=h.indexOf(y);if(e!==-1&&e<h.length-1){var f=h[e+1],c=h.indexOf(f);h[e]=f,h[c]=y}return h};C.exports=M},4130:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f){var c=[],s,a=!1;if((e||f)&&(a=!0,e||(e=""),f||(f="")),y<h)for(s=h;s>=y;s--)a?c.push(e+s.toString()+f):c.push(s);else for(s=h;s<=y;s++)a?c.push(e+s.toString()+f):c.push(s);return c};C.exports=M},1316:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(4078),e=function(f,c,s){f===void 0&&(f=0),c===void 0&&(c=null),s===void 0&&(s=1),c===null&&(c=f,f=0);for(var a=[],r=Math.max(y((c-f)/(s||1)),0),o=0;o<r;o++)a.push(f),f+=s;return a};C.exports=e},9465:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function M(e,f,c){var s=e[f];e[f]=e[c],e[c]=s}function h(e,f){return e<f?-1:e>f?1:0}var y=function(e,f,c,s,a){for(c===void 0&&(c=0),s===void 0&&(s=e.length-1),a===void 0&&(a=h);s>c;){if(s-c>600){var r=s-c+1,o=f-c+1,l=Math.log(r),v=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*v*(r-v)/r)*(o-r/2<0?-1:1),d=Math.max(c,Math.floor(f-o*v/r+u)),p=Math.min(s,Math.floor(f+(r-o)*v/r+u));y(e,f,d,p,a)}var g=e[f],x=c,T=s;for(M(e,c,f),a(e[s],g)>0&&M(e,c,s);x<T;){for(M(e,x,T),x++,T--;a(e[x],g)<0;)x++;for(;a(e[T],g)>0;)T--}a(e[c],g)===0?M(e,c,T):(T++,M(e,T,s)),T<=f&&(c=T+1),f<=T&&(s=T-1)}};C.exports=y},9703:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(5851),e=h(4912),f=function(s,a,r){for(var o=[],l=0;l<s.length;l++)for(var v=0;v<a.length;v++)for(var u=0;u<r;u++)o.push({a:s[l],b:a[v]});return o},c=function(s,a,r){var o=y(r,"max",0),l=y(r,"qty",1),v=y(r,"random",!1),u=y(r,"randomB",!1),d=y(r,"repeat",0),p=y(r,"yoyo",!1),g=[];if(u&&e(a),d===-1)if(o===0)d=0;else{var x=s.length*a.length*l;p&&(x*=2),d=Math.ceil(o/x)}for(var T=0;T<=d;T++){var S=f(s,a,l);v&&e(S),g=g.concat(S),p&&(S.reverse(),g=g.concat(S))}return o&&g.splice(o),g};C.exports=c},7161:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(8935),e=function(f,c,s,a){a===void 0&&(a=f);var r;if(!Array.isArray(c))return r=f.indexOf(c),r!==-1?(y(f,r),s&&s.call(a,c),c):null;for(var o=c.length-1,l=[];o>=0;){var v=c[o];r=f.indexOf(v),r!==-1&&(y(f,r),l.push(v),s&&s.call(a,v)),o--}return l};C.exports=e},4725:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(8935),e=function(f,c,s,a){if(a===void 0&&(a=f),c<0||c>f.length-1)throw new Error("Index out of bounds");var r=y(f,c);return s&&s.call(a,r),r};C.exports=e},8780:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(2497),e=function(f,c,s,a,r){if(c===void 0&&(c=0),s===void 0&&(s=f.length),r===void 0&&(r=f),y(f,c,s)){var o=s-c,l=f.splice(c,o);if(a)for(var v=0;v<l.length;v++){var u=l[v];a.call(r,u)}return l}else return[]};C.exports=e},5744:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(8935),e=function(f,c,s){c===void 0&&(c=0),s===void 0&&(s=f.length);var a=c+Math.floor(Math.random()*s);return y(f,a)};C.exports=e},6960:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){var f=h.indexOf(y),c=h.indexOf(e);return f!==-1&&c===-1?(h[f]=e,!0):!1};C.exports=M},1021:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){y===void 0&&(y=1);for(var e=null,f=0;f<y;f++)e=h.shift(),h.push(e);return e};C.exports=M},4027:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){y===void 0&&(y=1);for(var e=null,f=0;f<y;f++)e=h.pop(),h.unshift(e);return e};C.exports=M},2497:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f){var c=h.length;if(y<0||y>c||y>=e||e>c){if(f)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};C.exports=M},5361:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){var e=h.indexOf(y);return e!==-1&&e>0&&(h.splice(e,1),h.unshift(y)),y};C.exports=M},3718:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(2497),e=function(f,c,s,a,r){if(a===void 0&&(a=0),r===void 0&&(r=f.length),y(f,a,r))for(var o=a;o<r;o++){var l=f[o];l.hasOwnProperty(c)&&(l[c]=s)}return f};C.exports=e},4912:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){for(var y=h.length-1;y>0;y--){var e=Math.floor(Math.random()*(y+1)),f=h[y];h[y]=h[e],h[e]=f}return h};C.exports=M},2071:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){var y=/\D/g;return h.sort(function(e,f){return parseInt(e.replace(y,""),10)-parseInt(f.replace(y,""),10)}),h};C.exports=M},8935:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y){if(!(y>=h.length)){for(var e=h.length-1,f=h[y],c=y;c<e;c++)h[c]=h[c+1];return h.length=e,f}};C.exports=M},9992:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(9356);function e(a,r){return String(a).localeCompare(r)}function f(a,r){var o=a.length;if(o<=1)return a;for(var l=new Array(o),v=1;v<o;v*=2){c(a,r,v,l);var u=a;a=l,l=u}return a}function c(a,r,o,l){var v=a.length,u=0,d=o*2,p,g,x,T,S;for(p=0;p<v;p+=d)for(g=p+o,x=g+o,g>v&&(g=v),x>v&&(x=v),T=p,S=g;;)if(T<g&&S<x)r(a[T],a[S])<=0?l[u++]=a[T++]:l[u++]=a[S++];else if(T<g)l[u++]=a[T++];else if(S<x)l[u++]=a[S++];else break}var s=function(a,r){if(r===void 0&&(r=e),!a||a.length<2)return a;if(y.features.stableSort)return a.sort(r);var o=f(a,r);return o!==a&&c(o,null,a.length,a),a};C.exports=s},2372:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){if(y===e)return h;var f=h.indexOf(y),c=h.indexOf(e);if(f<0||c<0)throw new Error("Supplied items must be elements of the same array");return h[f]=e,h[c]=y,h};C.exports=M},1953:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={Matrix:h(1237),Add:h(1792),AddAt:h(2280),BringToTop:h(2513),CountAllMatching:h(1771),Each:h(7883),EachInRange:h(5856),FindClosestInSorted:h(3957),Flatten:h(4493),GetAll:h(6245),GetFirst:h(1647),GetRandom:h(5301),MoveDown:h(1842),MoveTo:h(1419),MoveUp:h(6512),MoveAbove:h(8683),MoveBelow:h(546),NumberArray:h(4130),NumberArrayStep:h(1316),QuickSelect:h(9465),Range:h(9703),Remove:h(7161),RemoveAt:h(4725),RemoveBetween:h(8780),RemoveRandomElement:h(5744),Replace:h(6960),RotateLeft:h(1021),RotateRight:h(4027),SafeRange:h(2497),SendToBack:h(5361),SetAll:h(3718),Shuffle:h(4912),SortByDigits:h(2071),SpliceOne:h(8935),StableSort:h(9992),Swap:h(2372)}},1816:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){if(!Array.isArray(h)||!Array.isArray(h[0]))return!1;for(var y=h[0].length,e=1;e<h.length;e++)if(h[e].length!==y)return!1;return!0};C.exports=M},6655:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7222),e=h(1816),f=function(c){var s="";if(!e(c))return s;for(var a=0;a<c.length;a++){for(var r=0;r<c[a].length;r++){var o=c[a][r].toString();o!=="undefined"?s+=y(o,2):s+="?",r<c[a].length-1&&(s+=" |")}if(a<c.length-1){s+=`
`;for(var l=0;l<c[a].length;l++)s+="---",l<c[a].length-1&&(s+="+");s+=`
`}}return s};C.exports=f},582:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){return h.reverse()};C.exports=M},6063:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){for(var y=0;y<h.length;y++)h[y].reverse();return h};C.exports=M},8321:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7116),e=function(f){return y(f,180)};C.exports=e},2597:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7116),e=function(f){return y(f,90)};C.exports=e},7116:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(1816),e=h(4780),f=function(c,s){if(s===void 0&&(s=90),!y(c))return null;if(typeof s!="string"&&(s=(s%360+360)%360),s===90||s===-270||s==="rotateLeft")c=e(c),c.reverse();else if(s===-90||s===270||s==="rotateRight")c.reverse(),c=e(c);else if(Math.abs(s)===180||s==="rotate180"){for(var a=0;a<c.length;a++)c[a].reverse();c.reverse()}return c};C.exports=f},6285:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(7116),e=function(f){return y(f,-90)};C.exports=e},7711:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(1021),e=h(4027),f=function(c,s,a){if(s===void 0&&(s=0),a===void 0&&(a=0),a!==0&&(a<0?y(c,Math.abs(a)):e(c,a)),s!==0)for(var r=0;r<c.length;r++){var o=c[r];s<0?y(o,Math.abs(s)):e(o,s)}return c};C.exports=f},4780:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){for(var y=h.length,e=h[0].length,f=new Array(e),c=0;c<e;c++){f[c]=new Array(y);for(var s=y-1;s>-1;s--)f[c][s]=h[s][c]}return f};C.exports=M},1237:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */C.exports={CheckMatrix:h(1816),MatrixToString:h(6655),ReverseColumns:h(582),ReverseRows:h(6063),Rotate180:h(8321),RotateLeft:h(2597),RotateMatrix:h(7116),RotateRight:h(6285),Translate:h(7711),TransposeMatrix:h(4780)}},3911:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){var y,e,f;if(typeof h!="object"||h===null)return h;y=Array.isArray(h)?[]:{};for(f in h)e=h[f],y[f]=M(e);return y};C.exports=M},1030:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(2482),e=function(){var f,c,s,a,r,o,l=arguments[0]||{},v=1,u=arguments.length,d=!1;for(typeof l=="boolean"&&(d=l,l=arguments[1]||{},v=2),u===v&&(l=this,--v);v<u;v++)if((f=arguments[v])!=null)for(c in f)s=l[c],a=f[c],l!==a&&(d&&a&&(y(a)||(r=Array.isArray(a)))?(r?(r=!1,o=s&&Array.isArray(s)?s:[]):o=s&&y(s)?s:{},l[c]=e(d,o,a)):a!==void 0&&(l[c]=a));return l};C.exports=e},8361:(C,M,h)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=h(4675),e=h(5851),f=function(c,s,a){var r=e(c,s,null);if(r===null)return a;if(Array.isArray(r))return y.RND.pick(r);if(typeof r=="object"){if(r.hasOwnProperty("randInt"))return y.RND.integerInRange(r.randInt[0],r.randInt[1]);if(r.hasOwnProperty("randFloat"))return y.RND.realInRange(r.randFloat[0],r.randFloat[1])}else if(typeof r=="function")return r(s);return r};C.exports=f},4597:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e){var f=typeof h;return!h||f==="number"||f==="string"?e:h.hasOwnProperty(y)&&h[y]!==void 0?h[y]:e};C.exports=M},5851:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f){if(!h&&!f||typeof h=="number")return e;if(h&&h.hasOwnProperty(y))return h[y];if(f&&f.hasOwnProperty(y))return f[y];if(y.indexOf(".")!==-1){for(var c=y.split("."),s=h,a=f,r=e,o=e,l=!0,v=!0,u=0;u<c.length;u++)s&&s.hasOwnProperty(c[u])?(r=s[c[u]],s=s[c[u]]):l=!1,a&&a.hasOwnProperty(c[u])?(o=a[c[u]],a=a[c[u]]):v=!1;return l?r:v?o:e}else return e};C.exports=M},2482:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h){if(!h||typeof h!="object"||h.nodeType||h===h.window)return!1;try{if(h.constructor&&!{}.hasOwnProperty.call(h.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};C.exports=M},7222:C=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(h,y,e,f){y===void 0&&(y=0),e===void 0&&(e=" "),f===void 0&&(f=3),h=h.toString();var c=0;if(y+1>=h.length)switch(f){case 1:h=new Array(y+1-h.length).join(e)+h;break;case 3:var s=Math.ceil((c=y-h.length)/2),a=c-s;h=new Array(a+1).join(e)+h+new Array(s+1).join(e);break;default:h=h+new Array(y+1-h.length).join(e);break}return h};C.exports=M}},t={};function n(C){var M=t[C];if(M!==void 0)return M.exports;var h=t[C]={exports:{}};return i[C](h,h.exports,n),h.exports}var m=n(4513);window.SpinePlugin=m})();class M6 extends Ei.GameObjects.Container{constructor(n,m,C,M,h,y=!1){var r;super(n,m,C);Dt(this,"sgo");Dt(this,"physicsObject");Dt(this,"rightArmHitBox");Dt(this,"leftArmHitBox");this.sgo=n.add.spine(0,0,M,h,y).refresh(),this.sgo.setMix("idle","walk",.1),this.sgo.setMix("idle","jump",.1),this.sgo.setMix("idle","attack",.1),this.sgo.setMix("walk","fly",.1),this.sgo.setMix("walk","idle",.1),this.sgo.setMix("walk","jump",.1),this.sgo.setMix("walk","attack",.1),this.sgo.setMix("jump","walk",.1),this.sgo.setMix("jump","idle",.1),this.sgo.setMix("jump","fly",.1),this.sgo.setMix("fly","walk",.1),this.sgo.setMix("fly","jump",.1),this.sgo.setMix("attack","idle",.1),this.sgo.setMix("attack","walk",.1),this.sgo.state.timeScale=1.7;const e=this.sgo.skeleton.findBone("bone11"),f=this.sgo.skeleton.findBone("bone8");this.rightArmHitBox=n.add.circle(f.worldX,this.scene.game.canvas.height-f.worldY,40,void 0,0),this.leftArmHitBox=n.add.circle(f.worldX,this.scene.game.canvas.height-f.worldY,40,void 0,0),this.physicsObject=n.add.circle(e.worldX,this.scene.game.canvas.height-e.worldY,40,void 0,0),this.rightArmHitBox.setData("bone",f).setInteractive(),this.add(this.physicsObject),this.add(this.rightArmHitBox),n.physics.add.existing(this.physicsObject),n.physics.add.existing(this.rightArmHitBox),this.physicsBody.setAllowGravity(!1),this.physicsBody.setCircle(60),this.rightHitBox.setAllowGravity(!1),this.rightHitBox.setCircle(60),n.physics.add.existing(this);const c=this.sgo.getBounds(),s=c.size.x,a=c.size.y;this.setPhysicsSize(s,a),this.add(this.sgo),this.spine.setData("attack",!1),(r=this.scene.input.keyboard)==null||r.on("keydown-SPACE",()=>{this.spine.setData("attack",!0),this.spine.play("attack",!1,!0),setTimeout(()=>{this.spine.play("idle",!0,!0),this.spine.setData("attack",!1)},500)}),this.sgo.skeleton.updateWorldTransform()}get physicsBody(){return this.physicsObject.body}get rightHitBox(){return this.rightArmHitBox.body}get spine(){return this.sgo}faceDirection(n){this.sgo.scaleX!==n&&(this.sgo.scaleX=n)}setPhysicsSize(n,m){const C=this.body;C.setOffset(n*-.5,-m),C.setSize(n,m)}update(n,m){const{left:C,right:M,up:h,space:y}=m,e=this.sgo.skeleton.findBone("bone11"),f=this.sgo.skeleton.findBone("bone8"),c=this.spine.getData("attack"),s={x:e.worldX+n.midPoint.x-this.scene.game.canvas.width/2,y:e.worldY*-1+this.scene.game.canvas.height+n.midPoint.y-this.scene.game.canvas.height/2-10},a={x:f.worldX+n.midPoint.x-this.scene.game.canvas.width/2-10,y:f.worldY*-1+this.scene.game.canvas.height+n.midPoint.y-this.scene.game.canvas.height/2};this.physicsBody.position.copy(s),this.rightHitBox.position.copy(a),C.isDown?(this.faceDirection(-1),this.body.setVelocityX(-400),this.sgo.play("walk",!0,!0)):M.isDown?(this.faceDirection(1),this.body.setVelocityX(400),this.faceDirection(1),this.sgo.play("walk",!0,!0)):!c&&this.body.blocked.down&&this.sgo.play("idle",!0,!0),h.isDown&&this.body.blocked.down&&(this.spine.play("jump",!1,!0),this.body.setVelocityY(-600))}}Ei.GameObjects.GameObjectFactory.register("spineContainer",function(i,t,n,m,C=!1){const M=new M6(this.scene,i,t,n,m,C);return this.displayList.add(M),M});class at{constructor(t){this.scene=t,this.displayList=t.sys.displayList,this.updateList=t.sys.updateList,t.events.once("destroy",this.destroy,this)}destroy(){this.scene=null,this.displayList=null,this.updateList=null}static register(t,n){at.prototype[t]=n}}var E6=function(i){return i===void 0&&(i=P6),this.getFrameNameCallback=i,this},P6=function(i,t,n){return n==="__BASE"?`${i},${t}`:`${n}_${i},${t}`};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var R6=function(i){if(typeof i!="object"||i.nodeType||i===i.window)return!1;try{if(i.constructor&&!{}.hasOwnProperty.call(i.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0},wi=function(i){var t,n,m;if(i==null||typeof i!="object")return i;if(t=Array.isArray(i)?[]:{},R6(i))for(m in i)n=i[m],t[m]=wi(n);else t=i;return t},A6=function(i,t,n,m){Array.isArray(t)&&(m=n,n=t,t=void 0),t==null&&(t="__BASE"),typeof n=="number"&&arguments.length>=6?(n=[arguments[2],void 0,arguments[3]],m=[arguments[4],void 0,arguments[5]]):(n=wi(n),m=wi(m)),this.textureKey=i,this.baseFrameName=t,this.columns.data=n,this.columns.count=n?n.length:0,this.columns.stretch=0,this.columns.minWidth=0,this.columns.scale=1,this.rows.data=m,this.rows.count=m?m.length:0,this.rows.stretch=0,this.rows.minHeight=0,this.rows.scale=1;var C=this.scene.sys.textures.get(i);if(!C)return this.clear(),this;if(!n||!m)return this.clear(),this;for(var M=C.get(t),h=M.width,y=0,e=0,f=n.length;e<f;e++)n[e]===void 0?y++:typeof n[e]=="number"?h-=n[e]:h-=n[e].width;for(var c=h/y,s=M.height,a=0,e=0,f=m.length;e<f;e++)m[e]===void 0?a++:typeof m[e]=="number"?s-=m[e]:s-=m[e].width;for(var r=s/a,o,l,v,u,d,p=0,g=0,x=0,T=m.length;x<T;x++){m[x]===void 0&&(m[x]=r),typeof m[x]=="number"&&(m[x]={height:m[x],stretch:x%2}),o=m[x],v=o.height,this.rows.stretch+=o.stretch|0,this.rows.minHeight+=o.stretch>0?0:v,p=0;for(var e=0,S=n.length;e<S;e++){if(n[e]===void 0&&(n[e]=c),typeof n[e]=="number"&&(n[e]={width:n[e],stretch:e%2}),l=n[e],u=l.width,x===0&&(this.columns.stretch+=l.stretch|0,this.columns.minWidth+=l.stretch>0?0:u),u>=1&&v>=1){d=this.getFrameNameCallback(e,x,t);var P=typeof d;(P==="string"||P==="number")&&C.add(d,0,p+M.cutX,g+M.cutY,u,v)}p+=u}g+=v}return this.updateTexture(),this},w6=function(){if(this.clear(),this.textureKey===void 0)return this;var i=this.scene.sys.textures.get(this.textureKey);if(!i)return this;var t=this.columns.minWidth*this.maxFixedPartScaleX,n=this.rows.minHeight*this.maxFixedPartScaleY,m=this.width-t,C=this.height-n,M=m>=0?this.maxFixedPartScaleX:this.width/t,h=C>=0?this.maxFixedPartScaleY:this.height/n;if(this.preserveRatio){var y=Math.min(M,h);if(M>y){var e=(M-y)*t;m>=0?m+=e:m=e,M=y}if(h>y){var f=(h-y)*n;C>=0?C+=f:C=f,h=y}}this.columns.scale=M,this.rows.scale=h;var c;m>0?c=this.columns.stretch>0?m/this.columns.stretch:0:c=0;var s;C>0?s=this.rows.stretch>0?C/this.rows.stretch:0:s=0;var a,r,o,l,v,u=0,d=0,p;this._beginDraw();for(var g=0,x=this.rows.count;g<x;g++){o=this.rows.data[g],v=o.stretch===0?o.height*h:s*o.stretch,u=0;for(var T=0,S=this.columns.count;T<S;T++)r=this.columns.data[T],l=r.stretch===0?r.width*M:c*r.stretch,a=this.getFrameNameCallback(T,g,this.baseFrameName),i.has(a)&&l>0&&v>0&&(o.stretch===0&&r.stretch===0||this.getStretchMode(T,g)===0?p=0:p=1,p===0?this._drawImage(this.textureKey,a,u,d,l,v):this._drawTileSprite(this.textureKey,a,u,d,l,v)),u+=l;d+=v}this._endDraw()};const O6=Phaser.Utils.Objects.IsPlainObject,jm=Phaser.Utils.Objects.GetValue;var L6=function(i){return O6(i)?(this.stretchMode.edge=yd(jm(i,"edge",0)),this.stretchMode.internal=yd(jm(i,"internal",0))):(i=yd(i),this.stretchMode.edge=i,this.stretchMode.internal=i),this},yd=function(i){return typeof i=="string"&&(i=F6[i]),i};const F6={scale:0,repeat:1};var I6=function(i,t){return i===0||i===this.columns.count-1||t===0||t===this.rows.count-1},D6=function(i,t){return I6.call(this,i,t)?this.stretchMode.edge:this.stretchMode.internal},B6=function(i){return i==null&&(i=!0),this.preserveRatio=i,this},b6=function(i,t){return t===void 0&&(t=i),this.maxFixedPartScaleX=i,this.maxFixedPartScaleY=t,this},Fe=function(){};const G6={_beginDraw:Fe,_drawImage:Fe,_drawTileSprite:Fe,_endDraw:Fe,setGetFrameNameCallback:E6,setBaseTexture:A6,updateTexture:w6,setStretchMode:L6,getStretchMode:D6,setPreserveRatio:B6,setMaxFixedPartScale:b6},Qa=Phaser.Utils.Objects.IsPlainObject,Rt=Phaser.Utils.Objects.GetValue;var OC=function(i,t){class n extends i{constructor(C,M,h,y,e,f,c,s,a,r){if(Qa(M)?(r=M,M=Rt(r,"x",0),h=Rt(r,"y",0),y=Rt(r,"width",1),e=Rt(r,"height",1),f=Rt(r,"key",void 0),c=Rt(r,"baseFrame",void 0),s=Rt(r,"columns",void 0),a=Rt(r,"rows",void 0)):Qa(y)?(r=y,y=Rt(r,"width",1),e=Rt(r,"height",1),f=Rt(r,"key",void 0),c=Rt(r,"baseFrame",void 0),s=Rt(r,"columns",void 0),a=Rt(r,"rows",void 0)):Qa(f)?(r=f,f=Rt(r,"key",void 0),c=Rt(r,"baseFrame",void 0),s=Rt(r,"columns",void 0),a=Rt(r,"rows",void 0)):Qa(c)?(r=c,c=Rt(r,"baseFrame",void 0),s=Rt(r,"columns",void 0),a=Rt(r,"rows",void 0)):Array.isArray(c)?(r=a,a=s,s=c,c=Rt(r,"baseFrame",void 0)):Qa(s)&&(r=s,s=Rt(r,"columns",void 0),a=Rt(r,"rows",void 0)),s===void 0){var o=Rt(r,"leftWidth",void 0),l=Rt(r,"rightWidth",void 0);o!==void 0&&l!==void 0&&(s=[o,void 0,l])}if(a===void 0){var v=Rt(r,"topHeight",void 0),u=Rt(r,"bottomHeight",void 0);v!==void 0&&u!==void 0&&(a=[v,void 0,u])}super(C),this.type=t,this.setPosition(M,h).setSize(y,e).setOrigin(.5,.5),this.columns={},this.rows={},this.stretchMode={},this._tileSprite=void 0,this._image=void 0,this.setGetFrameNameCallback(Rt(r,"getFrameNameCallback",void 0)),this.setStretchMode(Rt(r,"stretchMode",0)),this.setPreserveRatio(Rt(r,"preserveRatio",!0));var d=Rt(r,"maxFixedPartScale",1),p=Rt(r,"maxFixedPartScaleX",d),g=Rt(r,"maxFixedPartScaleY",void 0);this.setMaxFixedPartScale(p,g),this.setBaseTexture(f,c,s,a)}get minWidth(){return this.columns.minWidth}get minHeight(){return this.rows.minHeight}get fixedPartScaleX(){return this.columns.scale}get fixedPartScaleY(){return this.rows.scale}resize(C,M){return this.width===C&&this.height===M?this:(super.resize?super.resize(C,M):super.setSize(C,M),this.updateTexture(),this)}}return Object.assign(n.prototype,G6),n};const N6=Phaser.Game;var Jm=function(i){return i instanceof N6};const V6=Phaser.Scene;var ar=function(i){return i instanceof V6},wa=function(i){if(i==null||typeof i!="object")return null;if(Jm(i))return i;if(Jm(i.game))return i.game;if(ar(i))return i.sys.game;if(ar(i.scene))return i.scene.sys.game};const z6=Phaser.GameObjects;var Ys=void 0,LC=function(i,t){if(Ys||(Ys={},wa(i).events.once("destroy",function(){for(var m in Ys)Ys[m].destroy();Ys=void 0})),!Ys.hasOwnProperty(t)){var n=wa(i).scene.systemScene,i=new z6[t](n);i.setOrigin(0),Ys[t]=i}return Ys[t]},k6=function(i,t,n,m,C,M){var h=LC(this,"Image").setTexture(i,t).setDisplaySize(C,M);this.batchDraw(h,n,m)},U6=function(i,t,n,m,C,M){var h=LC(this,"TileSprite").setTexture(i,t).setSize(C,M);this.batchDraw(h,n,m)};const Wv=Phaser.GameObjects.RenderTexture;let _u=class extends OC(Wv,"rexNinePatch"){};var X6={_beginDraw:Wv.prototype.beginDraw,_endDraw:Wv.prototype.endDraw,_drawImage:k6,_drawTileSprite:U6};Object.assign(_u.prototype,X6);var FC=function(i){return i==null||i===""||i.length===0},Y6=function(i,t,n){var m=i;if(!FC(t)){typeof t=="string"&&(t=t.split("."));for(var C,M=0,h=t.length;M<h;M++){if(C=t[M],m[C]==null||typeof m[C]!="object"){var y;M===h-1?n===void 0?y={}:y=n:y={},m[C]=y}m=m[C]}}return m},nt=function(i,t,n,m){if(m===void 0&&(m="."),typeof i=="object"){if(FC(t)){if(n==null)return;typeof n=="object"&&(i=n)}else{typeof t=="string"&&(t=t.split(m));var C=t.pop(),M=Y6(i,t);M[C]=n}return i}};at.register("ninePatch",function(i,t,n,m,C,M,h,y){var e=new _u(this.scene,i,t,n,m,C,M,h,y);return this.scene.add.existing(e),e});nt(window,"RexPlugins.UI.NinePatch",_u);const W6=Phaser.GameObjects.GetCalcMatrix;var H6=function(i,t,n,m){var C=t.getRenderList();if(C.length!==0){n.addToRenderList(t);var M=i.pipelines.set(t.pipeline),h=t.frame.glTexture,y=M.setGameObject(t),e=n.roundPixels,f=W6(t,n,m),c=M.calcMatrix.copyFrom(f.calc),s=t._displayOriginX,a=t._displayOriginY,r=n.alpha*t.alpha;i.pipelines.preBatch(t);for(var o=0,l=C.length;o<l;o++)C[o].webglRender(M,c,r,s,a,h,y,e);i.pipelines.postBatch(t)}};const $6=Phaser.Renderer.Canvas.SetTransform;var K6=function(i,t,n,m){var C=i.currentContext,M=t.getRenderList();if(!(M.length===0||!$6(i,C,t,n,m))){n.addToRenderList(t);var h=n.roundPixels,y=-t._displayOriginX,e=-t._displayOriginY;C.translate(y,e);for(var f=0,c=M.length;f<c;f++)M[f].canvasRender(C,y,e,h);C.restore()}};const Z6={renderWebGL:H6,renderCanvas:K6};var j6=function(i,t){return this.texture=this.scene.sys.textures.get(i),this.frame=this.texture.get(t),this},Qm=function(i,t){if(this.width===i&&this.height===t)return this;this.width=i,this.height=t,this.updateDisplayOrigin();var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=i,n.hitArea.height=t),this},J6=function(i){return this.lastAppendedChildren.length=0,Array.isArray(i)?(this.children.add(i),this.lastAppendedChildren.push(...i)):(this.children.add(i),this.lastAppendedChildren.push(i)),this};const Q6=Phaser.Utils.Array.Remove;var q6=function(i){return this.poolManager&&this.poolManager.free(i),Q6(this.children.list,i),this.lastAppendedChildren.length=0,this.dirty=!0,this},qm=function(){return this.poolManager&&this.poolManager.freeMultiple(this.children.list),this.children.list.length=0,this.lastAppendedChildren.length=0,this.dirty=!0,this},_6=function(){return this.lastAppendedChildren},tR=function(){return this.children.list};const eR={setTint(i){return this.tint=i,this.tintFill=!1,this},setTintFill(i){return this.tint=i,this.tintFill=!0,this},clearTint(){return this.setTint(16777215),this}};var IC={setTexture:j6,resize:Qm,setSize:Qm,addChild:J6,removeChild:q6,removeChildren:qm,clear:qm,getLastAppendedChildren:_6,getChildren:tR};Object.assign(IC,eR);class fs{constructor(){this.items=[]}destroy(){this.clear(),this.items=void 0}pop(){return this.items.length>0?this.items.pop():null}push(t){return this.items.push(t),this}pushMultiple(t){return this.items.push.apply(this.items,t),t.length=0,this}clear(){return this.items.length=0,this}}const iR=Phaser.Utils.Objects.GetValue;var sR={};let nR=class{constructor(t){this.pools=iR(t,"pools",sR)}destroy(){this.pools=void 0}free(t){if(!this.pools)return this;var n=t.type;return this.pools.hasOwnProperty(n)||(this.pools[n]=new fs),this.pools[n].push(t),t.onFree(),this}freeMultiple(t){if(!this.pools)return this;for(var n=0,m=t.length;n<m;n++)this.free(t[n]);return this}allocate(t){return!this.pools||!this.pools.hasOwnProperty(t)?null:this.pools[t].pop()}};const rR=Phaser.GameObjects.GameObject,aR=Phaser.Utils.Objects.IsPlainObject,qa=Phaser.Utils.Objects.GetValue,oR=Phaser.Structs.List,hR=Phaser.Utils.Array.StableSort;class DC extends rR{constructor(t,n,m,C,M,h){aR(n)&&(h=n,n=qa(h,"x",0),m=qa(h,"y",0),C=qa(h,"texture"),M=qa(h,"frame")),n===void 0&&(n=0),m===void 0&&(m=0),super(t,"rexBlitter"),this.children=new oR,this.renderList=[],this.displayListDirty=!1,this.lastAppendedChildren=[];var y=qa(h,"reuseBob",!0);this.poolManager=y?new nR(h):void 0,this.setTexture(C,M).setPosition(n,m).setOrigin(0,0).clearTint().initPipeline()}preDestroy(){this.removeChildren(),this.children.destroy(),this.renderList.length=0,this.poolManager&&this.poolManager.destroy()}getRenderList(){if(this.displayListDirty){this.renderList.length=0;for(var t=!1,n=this.children.list,m=0,C=n.length;m<C;m++){var M=n[m];lR(M)&&(this.renderList.push(M),t||(t=M.depth!==0))}t&&hR(this.renderList,uR),this.displayListDirty=!1}return this.renderList}}var lR=function(i){return i.active&&i.visible&&i.alpha>0},uR=function(i,t){return i._depth-t._depth};const Ii=Phaser.GameObjects.Components;Phaser.Class.mixin(DC,[Ii.Alpha,Ii.BlendMode,Ii.ComputedSize,Ii.Depth,Ii.GetBounds,Ii.Mask,Ii.Origin,Ii.Pipeline,Ii.ScrollFactor,Ii.Transform,Ii.Visible,Z6,IC]);const BC="image";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Gt=function(i,t,n){if(!i||typeof i=="number")return n;if(i.hasOwnProperty(t))return i[t];if(t.indexOf(".")!==-1){for(var m=t.split("."),C=i,M=n,h=0;h<m.length;h++)if(C.hasOwnProperty(m[h]))M=C[m[h]],C=C[m[h]];else{M=n;break}return M}else return n},Fs=function(i){if(typeof i!="object"||i===null)return i;if(Array.isArray(i))i.length=0;else for(var t in i)delete i[t];return i};const tf={enableData(){return this.data===void 0&&(this.data={}),this},setData(i,t){if(this.enableData(),arguments.length===1){var n=i;for(i in n)this.data[i]=n[i]}else this.data[i]=t;return this},getData(i,t){return this.enableData(),i===void 0?this.data:Gt(this.data,i,t)},incData(i,t,n){return n===void 0&&(n=0),this.enableData(),this.setData(i,this.getData(i,n)+t),this},mulData(i,t,n){return n===void 0&&(n=0),this.enableData(),this.setData(i,this.getData(i,n)*t),this},clearData(){return this.data&&Fs(this.data),this}};let bC=class{constructor(t,n){this.type=n,this.data=void 0,this.setParent(t).reset().setActive()}destroy(){this.parent&&this.parent.removeChild(this)}setParent(t){return this.parent=t,this}setDisplayListDirty(t){return t&&this.parent&&(this.parent.displayListDirty=!0),this}get active(){return this._active}set active(t){this.setDisplayListDirty(this._active!=t),this._active=t}setActive(t){return t===void 0&&(t=!0),this.active=t,this}modifyPorperties(t){return this}reset(){this.clearData()}onFree(){this.reset().setActive(!1).setParent()}};Object.assign(bC.prototype,tf);const fR=Phaser.Math.DegToRad,dR=Phaser.Math.RadToDeg,Rr=Phaser.Utils.Objects.GetValue;let cR=class extends bC{get visible(){return this._visible}set visible(t){this.setDisplayListDirty(this._visible!=t),this._visible=t}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}get alpha(){return this._alpha}set alpha(t){this.setDisplayListDirty(!!this._alpha!=!!t),this._alpha=t}setAlpha(t){return this.alpha=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setPosition(t,n){return this.x=t,this.y=n,this}setRotation(t){return this.rotation=t,this}get angle(){return dR(this.rotation)}set angle(t){this.rotation=fR(t)}setAngle(t){return this.angle=t,this}setScaleX(t){return this.scaleX=t,this}get width(){return this._width}set width(t){this._width=t}setWidth(t,n){return n===void 0&&(n=!1),this.width=t,n&&(this.scaleY=this.scaleX),this}setScaleY(t){return this.scaleY=t,this}setScale(t,n){return n===void 0&&(n=t),this.scaleX=t,this.scaleY=n,this}get height(){return this._height}set height(t){this._height=t}setHeight(t,n){return n===void 0&&(n=!1),this.height=t,n&&(this.scaleX=this.scaleY),this}setScale(t,n){return n===void 0&&(n=t),this.scaleX=t,this.scaleY=n,this}get displayWidth(){return this._width*this.scaleX}set displayWidth(t){this.scaleX=t/this._width}setDisplayWidth(t,n){return n===void 0&&(n=!1),this.displayWidth=t,n&&(this.scaleY=this.scaleX),this}get displayHeight(){return this._height*this.scaleY}set displayHeight(t){this.scaleY=t/this._height}setDisplayHeight(t,n){return n===void 0&&(n=!1),this.displayHeight=t,n&&(this.scaleX=this.scaleY),this}setOriginX(t){return this.originX=t,this._displayOriginX=this.width*t,this}setOriginY(t){return this.originY=t,this._displayOriginY=this.height*t,this}setOrigin(t,n){return n===void 0&&(n=t),this.setOriginX(t).setOriginY(n),this}get depth(){return this._depth}set depth(t){this.setDisplayListDirty(this._depth!=t),this._depth=t}setDepth(t){return t===void 0&&(t=0),this.depth=t,this}modifyPorperties(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var n=Rr(t,"width",void 0),m=Rr(t,"height",void 0),C=Rr(t,"scale",void 0),M=Rr(t,"scaleX",C),h=Rr(t,"scaleY",C);n!==void 0?m===void 0&&h===void 0?this.setWidth(n,!0):this.setWidth(n):M!==void 0?this.setScaleX(M):t.hasOwnProperty("displayWidth")&&this.setDisplayWidth(t.displayWidth),m!==void 0?n===void 0&&M===void 0?this.setHeight(m,!0):this.setHeight(m):h!==void 0?this.setScaleY(h):t.hasOwnProperty("displayHeight")&&this.setDisplayHeight(t.displayHeight);var y=Rr(t,"origin",void 0);return y!==void 0?this.setOrigin(y):(t.hasOwnProperty("originX")&&this.setOriginX(t.originX),t.hasOwnProperty("originY")&&this.setOriginY(t.originY)),t.hasOwnProperty("depth")&&this.setDepth(t.depth),this}reset(){return super.reset(),this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setOrigin(0).setDepth(0),this}webglRender(t,n,m,C,M,h,y,e){}canvasRender(t,n,m,C){}};const vR=Phaser.GameObjects.Components.TransformMatrix,pR=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;var Zh=new vR,gR=function(i,t,n,m,C,M,h,y){var e=this._width,f=this._height,c=e*this.originX,s=f*this.originY,a=this.x-m,r=this.y-C,o=1,l=1;this.flipX&&(a+=e-c*2,o=-1),this.flipY&&(r+=f-s*2,l=-1),Zh.applyITRS(a,r,this.rotation,this.scaleX*o,this.scaleY*l),t.multiply(Zh,Zh);var v=-c,u=-s,d=v+e,p=u+f,g=Zh.setQuad(v,u,d,p,y),x=this.frame.u0,T=this.frame.v0,S=this.frame.u1,P=this.frame.v1,E=pR(this.tint,this.alpha*n);i.batchQuad(this.parent,g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],x,T,S,P,E,E,E,E,this.tintFill,M,h)},mR=function(i,t,n,m){i.save();var C=this._width,M=this._height,h=C*this.originX,y=M*this.originY,e=this.x-h,f=this.y-y,c=1,s=1;this.flipX&&(e+=C,c=-1),this.flipY&&(f+=M,s=-1),m&&(e=Math.round(e),f=Math.round(f)),i.translate(e,f),i.rotate(this.rotation),i.scale(this.scaleX*c,this.scaleY*s);var a=this.frame;i.drawImage(a.source.image,a.cutX,a.cutY,C,M,0,0,C,M),i.restore()};const xR=Phaser.Utils.Objects.IsPlainObject;let GC=class extends cR{constructor(t,n){super(t,BC),this.setFrame(n)}get width(){return this._width}set width(t){}get height(){return this._height}set height(t){}setFrame(t){return arguments.length>0&&!xR(t)&&(t=this.parent.texture.get(t)),this.frame=t,this._width=t?t.width:0,this._height=t?t.height:0,this}setFlipX(t){return t===void 0&&(t=!0),this.flipX=t,this}setFlipY(t){return t===void 0&&(t=!0),this.flipY=t,this}resetFlip(){return this.flipX=!1,this.flipY=!1,this}get tint(){return this._tint===void 0?this.parent.tint:this._tint}set tint(t){this._tint=t}setTint(t){return this.tint=t,this.tintFill=!1,this}setTintFill(t){return this.tint=t,this.tintFill=!0,this}clearTint(){return this.setTint(16777215),this}resetTint(){return this.tint=void 0,this.tintFill=void 0,this}get tintFill(){return this._tintFill===void 0?this.parent.tintFill:this._tintFill}set tintFill(t){this._tintFill=t}reset(){return super.reset(),this.resetFlip().resetTint().setFrame(),this}modifyPorperties(t){return t?(t.hasOwnProperty("width")&&(t.displayWidth=t.width,delete t.width),t.hasOwnProperty("height")&&(t.displayHeight=t.height,delete t.height),t.hasOwnProperty("frame")&&this.setFrame(t.frame),super.modifyPorperties(t),t.hasOwnProperty("flipX")&&this.setFlipX(t.flipX),t.hasOwnProperty("flipY")&&this.setFlipY(t.flipY),t.hasOwnProperty("tint")&&this.setTint(t.tint),t.hasOwnProperty("tintFill")&&this.setTintFill(t.tintFill),this):this}};var yR={webglRender:gR,canvasRender:mR};Object.assign(GC.prototype,yR);var NC=function(i,t){typeof t=="string"&&(t={frame:t});var n=i.poolManager?i.poolManager.allocate(BC):null;return n===null?n=new GC(i):n.setParent(i).setActive(),n.modifyPorperties(t),i.addChild(n),n},TR=function(i,t,n,m,C,M){NC(this,{frame:t,x:n,y:m,width:C,height:M})},CR=function(i,t,n,m,C,M){var h=this.texture.get(t),y=h.width,e=h.height,f=Math.floor(C/y),c=Math.floor(M/e);n+=(C-f*y)/2,m+=(M-c*e)/2;for(var s=0;s<f;s++)for(var a=0;a<c;a++)NC(this,{frame:t,x:n+s*y,y:m+a*e})};const SR={_drawImage:TR,_drawTileSprite:CR};class s0 extends OC(DC,"rexNinePatch2"){setBaseTexture(t,n,m,C){return this.setTexture(t,n),super.setBaseTexture(t,n,m,C),this}}Object.assign(s0.prototype,SR);at.register("ninePatch2",function(i,t,n,m,C,M,h,y){var e=new s0(this.scene,i,t,n,m,C,M,h,y);return this.scene.add.existing(e),e});nt(window,"RexPlugins.UI.NinePatch2",s0);const _s=Phaser.Utils.Objects.GetValue;let VC=class{constructor(t,n,m,C,M){t===void 0&&(t=0),n===void 0&&(n=t),m===void 0&&(m=0),C===void 0&&(C=0),M===void 0&&(M=0),this.cornerRadius={},this._width=0,this._height=0,this.setTo(t,n,m,C,M)}setTo(t,n,m,C,M){return this.setPosition(t,n),this.setRadius(M),this.setSize(m,C),this}setPosition(t,n){return this.x=t,this.y=n,this}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setSize(t,n){return this.width=t,this.height=n,this}get minWidth(){var t=this.cornerRadius;return Math.max(t.tl.x+t.tr.x,t.bl.x+t.br.x)}get minHeight(){var t=this.cornerRadius;return Math.max(t.tl.y+t.bl.y,t.tr.y+t.br.y)}get width(){return this._width}set width(t){t==null&&(t=0),this._width=Math.max(t,this.minWidth)}get height(){return this._height}set height(t){t==null&&(t=0),this._height=Math.max(t,this.minHeight)}get radius(){var t=this.cornerRadius;return Math.max(t.tl.x,t.tl.y,t.tr.x,t.tr.y,t.bl.x,t.bl.y,t.br.x,t.br.y)}set radius(t){var n,m;typeof t=="number"?(n=t,m=t):(n=_s(t,"x",0),m=_s(t,"y",0));var C=this.cornerRadius;C.tl=jh(_s(t,"tl",void 0),n,m),C.tr=jh(_s(t,"tr",void 0),n,m),C.bl=jh(_s(t,"bl",void 0),n,m),C.br=jh(_s(t,"br",void 0),n,m)}get radiusTL(){var t=this.cornerRadius.tl;return Math.max(t.x,t.y)}set radiusTL(t){Jh(this.cornerRadius.tl,t)}get radiusTR(){var t=this.cornerRadius.tr;return Math.max(t.x,t.y)}set radiusTR(t){Jh(this.cornerRadius.tr,t)}get radiusBL(){var t=this.cornerRadius.bl;return Math.max(t.x,t.y)}set radiusBL(t){Jh(this.cornerRadius.bl,t)}get radiusBR(){var t=this.cornerRadius.br;return Math.max(t.x,t.y)}set radiusBR(t){Jh(this.cornerRadius.br,t)}};var jh=function(i,t,n){return i===void 0?i={x:t,y:n}:typeof i=="number"&&(i={x:i,y:i}),zC(i),i},Jh=function(i,t){typeof t=="number"?(i.x=t,i.y=t):(i.x=_s(t,"x",0),i.y=_s(t,"y",0)),zC(i)},zC=function(i){i.convex=i.x>=0||i.y>=0,i.x=Math.abs(i.x),i.y=Math.abs(i.y)},ds=function(i,t,n){var m=n.length;if(m>=2){var C=n[m-2],M=n[m-1];if(i===C&&t===M)return n}return n.push(i,t),n};const _m=Phaser.Math.DegToRad;var pe=function(i,t,n,m,C,M,h,y,e){h&&M>C?M-=360:!h&&M<C&&(M+=360);var f=M-C,c=_m(f)/y;C=_m(C);for(var s=0;s<=y;s++){var a=C+c*s,r=i+n*Math.cos(a),o=t+m*Math.sin(a);ds(r,o,e)}return e},MR=Phaser.Renderer.WebGL.Utils,kC=function(i,t,n,m,C,M){for(var h=MR.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*m),y=n.pathData,e=n.pathIndexes,f=0;f<e.length;f+=3){var c=e[f]*2,s=e[f+1]*2,a=e[f+2]*2,r=y[c+0]-C,o=y[c+1]-M,l=y[s+0]-C,v=y[s+1]-M,u=y[a+0]-C,d=y[a+1]-M,p=t.getX(r,o),g=t.getY(r,o),x=t.getX(l,v),T=t.getY(l,v),S=t.getX(u,d),P=t.getY(u,d);i.batchTri(n,p,g,x,T,S,P,0,0,1,1,h,h,h,2)}},ER=Phaser.Renderer.WebGL.Utils,ef=function(i,t,n,m,C){var M=i.strokeTint,h=ER.getTintAppendFloatAlpha(t.strokeColor,t.strokeAlpha*n);M.TL=h,M.TR=h,M.BL=h,M.BR=h;var y=t.pathData,e=y.length-1,f=t.lineWidth,c=f/2,s=y[0]-m,a=y[1]-C;t.closePath||(e-=2);for(var r=2;r<e;r+=2){var o=y[r]-m,l=y[r+1]-C;i.batchLine(s,a,o,l,c,c,f,r-2,t.closePath?r===e-1:!1),s=o,a=l}};const PR=Phaser.GameObjects.GetCalcMatrix;var RR=function(i,t,n,m){t.dirty&&(t.updateData(),t.dirty=!1),n.addToRenderList(t);var C=i.pipelines.set(t.pipeline),M=PR(t,n,m),h=C.calcMatrix.copyFrom(M.calc),y=t._displayOriginX,e=t._displayOriginY,f=n.alpha*t.alpha;i.pipelines.preBatch(t),t.isFilled&&kC(C,h,t,f,y,e),t.isStroked&&ef(C,t,f,y,e),i.pipelines.postBatch(t)},ch=function(i,t,n,m){var C=n||t.fillColor,M=m||t.fillAlpha,h=(C&16711680)>>>16,y=(C&65280)>>>8,e=C&255;i.fillStyle="rgba("+h+","+y+","+e+","+M+")"},vh=function(i,t,n,m){var C=n||t.strokeColor,M=m||t.strokeAlpha,h=(C&16711680)>>>16,y=(C&65280)>>>8,e=C&255;i.strokeStyle="rgba("+h+","+y+","+e+","+M+")",i.lineWidth=t.lineWidth};const AR=Phaser.Renderer.Canvas.SetTransform;var wR=function(i,t,n,m){t.dirty&&(t.updateData(),t.dirty=!1),n.addToRenderList(t);var C=i.currentContext;if(AR(i,C,t,n,m)){var M=t._displayOriginX,h=t._displayOriginY,y=t.pathData,e=y.length-1,f=y[0]-M,c=y[1]-h;C.beginPath(),C.moveTo(f,c),t.closePath||(e-=2);for(var s=2;s<e;s+=2){var a=y[s]-M,r=y[s+1]-h;C.lineTo(a,r)}C.closePath(),t.isFilled&&(ch(C,t),C.fill()),t.isStroked&&(vh(C,t),C.stroke()),C.restore()}};const OR={renderWebGL:RR,renderCanvas:wR},LR=Phaser.GameObjects.Shape,FR=Phaser.Utils.Objects.IsPlainObject,t1=Phaser.Utils.Objects.GetValue,IR=Phaser.Geom.Polygon.Earcut;let Rn=class extends LR{constructor(t,n,m,C,M,h,y,e){var f,c,s,a;if(FR(n)){var r=n;n=r.x,m=r.y,C=r.width,M=r.height,h=r.radius,y=r.color,e=r.alpha,f=r.strokeColor,c=r.strokeAlpha,s=r.strokeWidth,a=r.shape}n===void 0&&(n=0),m===void 0&&(m=0),C===void 0&&(C=1),M===void 0&&(M=C),h===void 0&&(h=0),a===void 0&&(a=0);var o=new VC;if(super(t,"rexRoundRectangleShape",o),this.setShapeType(a),this.shapeType===0){var l=t1(h,"radius",h);o.setTo(0,0,C,M,l)}else{var l={x:C/2,y:M/2};o.setTo(0,0,C,M,l)}var v=t1(h,"iteration",void 0);this.setIteration(v),this.setPosition(n,m),this.setFillStyle(y,e),f!==void 0&&s===void 0&&(s=2),this.setStrokeStyle(s,f,c),this.updateDisplayOrigin(),this.dirty=!0}get fillColor(){return this._fillColor}set fillColor(t){this._fillColor=t,this.isFilled=t!=null&&this._fillAlpha>0}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this._fillAlpha=t,this.isFilled=t>0&&this._fillColor!=null}setFillStyle(t,n){return n===void 0&&(n=1),this.fillColor=t,this.fillAlpha=n,this}get strokeColor(){return this._strokeColor}set strokeColor(t){this._strokeColor=t,this.isStroked=t!=null&&this._strokeAlpha>0&&this._lineWidth>0}get strokeAlpha(){return this._strokeAlpha}set strokeAlpha(t){this._strokeAlpha=t,this.isStroked=t>0&&this._strokeColor!=null&&this._lineWidth>0}get lineWidth(){return this._lineWidth}set lineWidth(t){this._lineWidth=t,this.isStroked=t>0&&this._strokeColor!=null}setStrokeStyle(t,n,m){return m===void 0&&(m=1),this.lineWidth=t,this.strokeColor=n,this.strokeAlpha=m,this}updateData(){var t=this.geom,n=this.pathData;n.length=0;var m=t.width,C=t.height,M=t.cornerRadius,h,y=this.iteration+1;if(h=M.tl,Qh(h))if(h.convex){var e=h.x,f=h.y;pe(e,f,h.x,h.y,180,270,!1,y,n)}else{var e=0,f=0;pe(e,f,h.x,h.y,90,0,!0,y,n)}else ds(0,0,n);if(h=M.tr,Qh(h))if(h.convex){var e=m-h.x,f=h.y;pe(e,f,h.x,h.y,270,360,!1,y,n)}else{var e=m,f=0;pe(e,f,h.x,h.y,180,90,!0,y,n)}else ds(m,0,n);if(h=M.br,Qh(h))if(h.convex){var e=m-h.x,f=C-h.y;pe(e,f,h.x,h.y,0,90,!1,y,n)}else{var e=m,f=C;pe(e,f,h.x,h.y,270,180,!0,y,n)}else ds(m,C,n);if(h=M.bl,Qh(h))if(h.convex){var e=h.x,f=C-h.y;pe(e,f,h.x,h.y,90,180,!1,y,n)}else{var e=0,f=C;pe(e,f,h.x,h.y,360,270,!0,y,n)}else ds(0,C,n);return n.push(n[0],n[1]),this.pathIndexes=IR(n),this}setShapeType(t){return typeof t=="string"&&(t=DR[t]),this.shapeType=t,this}get width(){return this.geom.width}set width(t){this.resize(t,this.height)}get height(){return this.geom.height}set height(t){this.resize(this.width,t)}setSize(t,n){if(n===void 0&&(n=t),this.geom.width===t&&this.geom.height===n)return this;this.geom.setSize(t,n),this.shapeType===1&&this.setRadius({x:t/2,y:n/2}),this.updateDisplayOrigin(),this.dirty=!0;var m=this.input;return m&&!m.customHitArea&&(m.hitArea.width=t,m.hitArea.height=n),this}resize(t,n){return this.setSize(t,n),this}get radius(){return this.geom.radius}set radius(t){this.geom.setRadius(t),this.updateDisplayOrigin(),this.dirty=!0}get radiusTL(){return this.geom.radiusTL}set radiusTL(t){this.geom.radiusTL=t,this.dirty=!0}get radiusTR(){return this.geom.radiusTR}set radiusTR(t){this.geom.radiusTR=t,this.dirty=!0}get radiusBL(){return this.geom.radiusBL}set radiusBL(t){this.geom.radiusBL=t,this.dirty=!0}get radiusBR(){return this.geom.radiusBR}set radiusBR(t){this.geom.radiusBR=t,this.dirty=!0}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setRadiusTL(t){return t===void 0&&(t=0),this.radiusTL=t,this}setRadiusTR(t){return t===void 0&&(t=0),this.radiusTR=t,this}setRadiusBL(t){return t===void 0&&(t=0),this.radiusBL=t,this}setRadiusBR(t){return t===void 0&&(t=0),this.radiusBR=t,this}get cornerRadius(){return this.geom.cornerRadius}set cornerRadius(t){this.radius=t}setCornerRadius(t){return this.setRadius(t)}get iteration(){return this._iteration}set iteration(t){if(this._iteration===void 0){this._iteration=t;return}this._iteration!==t&&(this._iteration=t,this.dirty=!0)}setIteration(t){return t===void 0&&(t=6),this.iteration=t,this}};var Qh=function(i){return i.x>0&&i.y>0};const DR={rectangle:0,circle:1};Object.assign(Rn.prototype,OR);at.register("roundRectangle",function(i,t,n,m,C,M,h){var y=new Rn(this.scene,i,t,n,m,C,M,h);return this.scene.add.existing(y),y});nt(window,"RexPlugins.UI.RoundRectangle",Rn);var Hv=function(i,t,n,m){if(n===void 0&&(n="."),m===void 0&&(m={}),!i)return m;if(t in i)return Object.assign(m,i[t]);t+=n;for(var C in i)C.startsWith(t)&&(m[C.replace(t,"")]=i[C]);return m},Td=function(i,t,n){var m=Hv(i,t);if(n)for(var C in m)n.hasOwnProperty(C)&&(m[n[C]]=m[C],delete m[C]);return m},n0=function(i,t,n){if(n===void 0&&(n={}),Array.isArray(t))for(var m,C=0,M=t.length;C<M;C++)m=t[C],n[m]=i[m];else for(var m in t)n[m]=i[m];return n},r0=function(i,t){for(var n in i)if(!(n in t)||i[n]!==t[n])return!1;for(var n in t)if(!(n in i))return!1;return!0},Ar=function(i,t){if(t){var n=n0(i,t);if(!r0(n,t))return i.modifyStyle(t),n}};const BR={setActiveState(i){return i===void 0&&(i=!0),this.activeState===i?this:(this.activeState=i,i?this.activeStyleSave=Ar(this,this.activeStyle):(Ar(this,this.activeStyleSave),this.activeStyleSave=void 0),this)},setHoverState(i){return i===void 0&&(i=!0),this.hoverState===i?this:(this.hoverState=i,i?this.hoverStyleSave=Ar(this,this.hoverStyle):(Ar(this,this.hoverStyleSave),this.hoverStyleSave=void 0),this)},setDisableState(i){return i===void 0&&(i=!0),this.disableState===i?this:(this.disableState=i,i?this.disableStyleSave=Ar(this,this.disableStyle):(Ar(this,this.disableStyleSave),this.disableStyleSave=void 0),this)}};class sf extends Rn{constructor(t,n){n===void 0&&(n={}),super(t,n),this.activeStyle=Td(n,"active",Cd),this.hoverStyle=Td(n,"hover",Cd),this.disableStyle=Td(n,"disable",Cd)}modifyStyle(t){for(var n in t)this[n]=t[n];return this}}const Cd={color:"fillColor",alpha:"fillAlpha",strokeWidth:"lineWidth"};Object.assign(sf.prototype,BR);at.register("statesRoundRectangle",function(i){var t=new sf(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.StatesRoundRectangle",sf);const bR=Phaser.Renderer.WebGL.Utils;var GR=function(i,t,n,m){if(t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)){n.addToRenderList(t);var C=t.frame,M=C.width,h=C.height,y=bR.getTintAppendFloatAlpha,e=i.pipelines.set(t.pipeline,t),f=e.setTexture2D(C.glTexture,t);i.pipelines.preBatch(t),e.batchTexture(t,C.glTexture,M,h,t.x,t.y,M/t.resolution,h/t.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,M,h,y(t.tintTopLeft,n.alpha*t._alphaTL),y(t.tintTopRight,n.alpha*t._alphaTR),y(t.tintBottomLeft,n.alpha*t._alphaBL),y(t.tintBottomRight,n.alpha*t._alphaBR),t.tintFill,0,0,n,m,!1,f),i.pipelines.postBatch(t)}},NR=function(i,t,n,m){t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)&&(n.addToRenderList(t),i.batchSprite(t,t.frame,n,m))};const VR={renderWebGL:GR,renderCanvas:NR},zR=Phaser.Display.Color,kR={clear(){return this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},fill(i){return this.context.fillStyle=i,this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},drawFrame(i,t,n,m,C,M,h,y,e,f){var c=this.scene.sys.textures.getFrame(i,t);if(!c)return this;var s=c.cutWidth,a=c.cutHeight;n===void 0&&(n=0),m===void 0&&(m=0),C===void 0&&(C=s),M===void 0&&(M=a),h===void 0&&(h=0),y===void 0&&(y=0),e===void 0&&(e=s),f===void 0&&(f=a);var r=c.cutX+h,o=c.cutY+y;return this.context.drawImage(c.source.image,r,o,e,f,n,m,C,M),this.dirty=!0,this},getDataURL(i,t){return this.canvas.toDataURL(i,t)},getPixel(i,t,n){n===void 0&&(n=new zR);var m=this.context.getImageData(i,t,1,1);return n.setTo(m.data[0],m.data[1],m.data[2],m.data[3]),n},setPixel(i,t,n,m,C,M){if(typeof n!="number"){var h=n;n=h.red,m=h.green,C=h.blue,M=h.alpha}M===void 0&&(M=n!==0||m!==0||C!==0?255:0);var y=this.context.createImageData(1,1);return y.data[0]=n,y.data[1]=m,y.data[2]=C,y.data[3]=M,this.context.putImageData(y,i,t),this.dirty=!0,this}};var UC=function(i,t,n,m,C,M,h){var y=i.sys.textures,e=i.renderer;m===void 0&&(m=0),C===void 0&&(C=0),M===void 0&&(M=t.width),h===void 0&&(h=t.height);var f;y.exists(n)?f=y.get(n):f=y.createCanvas(n,M,h);var c=f.getSourceImage();c.width!==M&&(c.width=M),c.height!==h&&(c.height=h);var s=c.getContext("2d",{willReadFrequently:!0});s.clearRect(0,0,M,h),s.drawImage(t,m,C,M,h),e.gl&&f&&e.canvasToTexture(c,f.source[0].glTexture,!0,0)};const UR={updateTexture(i,t){i&&(t?i.call(t,this.canvas,this.context):i(this.canvas,this.context)),(this.canvas.width!==this.frame.width||this.canvas.height!==this.frame.height)&&this.frame.setSize(this.canvas.width,this.canvas.height),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(this.canvas,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!1;var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=this.width,n.hitArea.height=this.height),this},generateTexture(i,t,n,m,C){var M=this.canvas;return m===void 0?m=M.width:m*=this.resolution,C===void 0?C=M.height:C*=this.resolution,UC(this.scene,M,i,t,n,m,C),this},loadTexture(i,t){var n=this.scene.sys.textures.getFrame(i,t);return n?(this.width!==n.cutWidth||this.height!==n.cutHeight?this.setSize(n.cutWidth,n.cutHeight):this.clear(),this.drawFrame(i,t),this.dirty=!0,this):this}},e1=Phaser.Display.Canvas.CanvasPool,XR=Phaser.GameObjects.GameObject;let An=class extends XR{constructor(t,n,m,C,M){n===void 0&&(n=0),m===void 0&&(m=0),C===void 0&&(C=1),M===void 0&&(M=1),super(t,"rexCanvas"),this.renderer=t.sys.game.renderer,this.resolution=1,this._width=C,this._height=M,C=Math.max(Math.ceil(C*this.resolution),1),M=Math.max(Math.ceil(M*this.resolution),1),this.canvas=e1.create(this,C,M),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.dirty=!1,this.setPosition(n,m),this.setOrigin(.5,.5),this.initPipeline(),this._crop=this.resetCropObject(),this.texture=t.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.dirty=!0}preDestroy(){e1.remove(this.canvas),this.texture.destroy(),this.canvas=null,this.context=null}get width(){return this._width}set width(t){this.setSize(t,this._height)}get height(){return this._height}set height(t){this.setSize(this._width,t)}setCanvasSize(t,n){return this._width===t&&this._height===n?this:(this._width=t,this._height=n,this.updateDisplayOrigin(),t=Math.max(Math.ceil(t*this.resolution),1),n=Math.max(Math.ceil(n*this.resolution),1),this.canvas.width=t,this.canvas.height=n,this.frame.setSize(t,n),this.dirty=!0,this)}setSize(t,n){return this.setCanvasSize(t,n),this}get displayWidth(){return this.scaleX*this._width}set displayWidth(t){this.scaleX=t/this._width}get displayHeight(){return this.scaleY*this._height}set displayHeight(t){this.scaleY=t/this._height}setDisplaySize(t,n){return this.displayWidth=t,this.displayHeight=n,this}getCanvas(t){return t||(this.dirty=!0),this.canvas}getContext(t){return t||(this.dirty=!0),this.context}needRedraw(){return this.dirty=!0,this}resize(t,n){return this.setSize(t,n),this}};const ke=Phaser.GameObjects.Components;Phaser.Class.mixin(An,[ke.Alpha,ke.BlendMode,ke.Crop,ke.Depth,ke.Flip,ke.GetBounds,ke.Mask,ke.Origin,ke.Pipeline,ke.PostPipeline,ke.ScrollFactor,ke.Tint,ke.Transform,ke.Visible,VR,kR,UR]);const YR=Phaser.Utils.String.Pad;var xt=function(i,t,n){if(i==null)return i;switch(typeof i){case"string":return i;case"number":return`#${YR(Math.floor(i).toString(16),6,"0",1)}`;case"function":return i(t,n);case"object":return i.hasOwnProperty("r")?i.hasOwnProperty("a")?`rgba(${i.r},${i.g},${i.b},${i.a})`:`rgb(${i.r},${i.g},${i.b})`:i.hasOwnProperty("h")?i.hasOwnProperty("a")?`hsla(${i.h},${i.s},${i.l},${i.a})`:`hsl(${i.h},${i.s},${i.l})`:i;default:return i}};const i1=Phaser.Math.DegToRad;var XC=function(i,t,n,m,C,M,h){var y=new VC(t,n,m,C,M),e=y.minWidth,f=y.minHeight,c=m>=e?1:m/e,s=C>=f?1:C/f,a=y.cornerRadius,r,o,l,v,u;i.save(),i.beginPath(),i.translate(t,n),r=a.tl,_h(r)?(o=r.x*c,l=r.y*s,qh(r)?(v=o,u=l,Ws(i,v,u,o,l,180,270,!1,h)):(v=0,u=0,Ws(i,v,u,o,l,90,0,!0,h))):i.lineTo(0,0),r=a.tr,_h(r)?(o=r.x*c,l=r.y*s,qh(r)?(v=m-o,u=l,Ws(i,v,u,o,l,270,360,!1,h)):(v=m,u=0,Ws(i,v,u,o,l,180,90,!0,h))):i.lineTo(m,0),r=a.br,_h(r)?(o=r.x*c,l=r.y*s,qh(r)?(v=m-o,u=C-l,Ws(i,v,u,o,l,0,90,!1,h)):(v=m,u=C,Ws(i,v,u,o,l,270,180,!0,h))):i.lineTo(m,C),r=a.bl,_h(r)?(o=r.x*c,l=r.y*s,qh(r)?(v=o,u=C-l,Ws(i,v,u,o,l,90,180,!1,h)):(v=0,u=C,Ws(i,v,u,o,l,360,270,!0,h))):i.lineTo(0,C),i.closePath(),i.restore()},qh=function(i){return!i.hasOwnProperty("convex")||i.convex},_h=function(i){return i.x>0&&i.y>0},Ws=function(i,t,n,m,C,M,h,y,e){if(y&&h>M?h-=360:!y&&h<M&&(h+=360),M=i1(M),h=i1(h),e==null)i.ellipse(t,n,m,C,0,M,h,y);else{e+=1;for(var f,c,s,a=(h-M)/e,r=0;r<=e;r++)s=M+a*r,f=t+m*Math.cos(s),c=n+C*Math.sin(s),i.lineTo(f,c)}},WR=function(i,t,n,m,C,M,h,y,e,f,c,s,a){if(XC(t,n,m,C,M,h,a),y!=null){if(c!=null){var r;s?r=t.createLinearGradient(0,0,C,0):r=t.createLinearGradient(0,0,0,M),r.addColorStop(0,y),r.addColorStop(1,c),y=r}t.fillStyle=y,t.fill()}e!=null&&f>0&&(t.strokeStyle=e,t.lineWidth=f,t.stroke())},a0=function(i,t,n,m,C,M,h,y){if(!(t==null&&n==null)){var e=i.canvas.width,f=i.canvas.height;n==null&&(m=0);var c=m/2;e=Math.max(1,e-m),f=Math.max(1,f-m),WR(i.canvas,i.context,c,c,e,f,C,t,n,m,M,h,y)}},HR=function(){a0(this,this.fillStyle,this.strokeStyle,this.lineWidth,this.radius,this.fillColor2,this.isHorizontalGradient,this.iteration)};const s1=Phaser.Utils.Objects.GetValue;let YC=class extends An{constructor(t,n,m,C,M,h,y,e,f,c,s){n===void 0&&(n=0),m===void 0&&(m=0),C===void 0&&(C=1),M===void 0&&(M=C),h===void 0&&(h=0),super(t,n,m,C,M),this.type="rexRoundRectangleCanvas";var a=s1(h,"radius",h),r=s1(h,"iteration",void 0);this.setRadius(a),this.setIteration(r),this.setFillStyle(y,c,s),this.setStrokeStyle(e,f)}get radius(){return this._radius}set radius(t){this.dirty|=this._radius!=t,this._radius=t}setRadius(t){return this.radius=t,this}get iteration(){return this._iteration}set iteration(t){this.dirty|=this._iteration!=t,this._iteration=t}setIteration(t){return this.iteration=t,this}get fillStyle(){return this._fillStyle}set fillStyle(t){t=xt(t,this.canvas,this.context),this.dirty|=this._fillStyle!=t,this._fillStyle=t}get fillColor2(){return this._fillColor2}set fillColor2(t){t=xt(t,this.canvas,this.context),this.dirty|=this._fillColor2!=t,this._fillColor2=t}get isHorizontalGradient(){return this._isHorizontalGradient}set isHorizontalGradient(t){this.dirty|=this._isHorizontalGradient!=t,this._isHorizontalGradient=t}setFillStyle(t,n,m){return m===void 0&&(m=!0),this.fillStyle=t,this.fillColor2=n,this.isHorizontalGradient=m,this}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){t=xt(t,this.canvas,this.context),this.dirty|=this._strokeStyle!=t,this._strokeStyle=t}get lineWidth(){return this._lineWidth}set lineWidth(t){this.dirty|=this._lineWidth!=t,this._lineWidth=t}setStrokeStyle(t,n){return this.strokeStyle=t,this.lineWidth=n,this}updateTexture(){return this.clear(),HR.call(this),super.updateTexture(),this}};at.register("roundRectangleCanvas",function(i,t,n,m,C,M,h,y,e,f){var c=new YC(this.scene,i,t,n,m,C,M,h,y,e,f);return this.scene.add.existing(c),c});nt(window,"RexPlugins.UI.RoundRectangleCanvas",YC);/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var $R=Phaser.Renderer.WebGL.Utils,KR=function(i,t,n,m){if(!(t.width===0||t.height===0)){n.addToRenderList(t);var C=t.frame,M=C.width,h=C.height,y=$R.getTintAppendFloatAlpha,e=i.pipelines.set(t.pipeline,t),f=e.setTexture2D(C.glTexture,t);i.pipelines.preBatch(t),e.batchTexture(t,C.glTexture,M,h,t.x,t.y,M/t.style.resolution,h/t.style.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,M,h,y(t.tintTopLeft,n.alpha*t._alphaTL),y(t.tintTopRight,n.alpha*t._alphaTR),y(t.tintBottomLeft,n.alpha*t._alphaBL),y(t.tintBottomRight,n.alpha*t._alphaBR),t.tintFill,0,0,n,m,!1,f),i.pipelines.postBatch(t)}};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ZR=function(i,t,n,m){t.width===0||t.height===0||(n.addToRenderList(t),i.batchSprite(t,t.frame,n,m))};const jR={renderWebGL:KR,renderCanvas:ZR},Sd=Phaser.Display.Canvas.CanvasPool;var JR=function(i,t,n){n===void 0&&(n={});var m=Sd.create(this),C=m.getContext("2d",{willReadFrequently:!0});i.syncFont(m,C);var M=C.measureText(t),h=Math.ceil(M.width*i.baselineX),y=h,e=2*y;if(y=y*i.baselineY|0,m.width=h,m.height=e,C.fillStyle="#f00",C.fillRect(0,0,h,e),C.font=i._font,C.textBaseline="alphabetic",C.fillStyle="#000",C.fillText(i.testString,0,y),n.left=0,h===0||e===0||!C.getImageData(0,0,h,e))return Sd.remove(m),n;for(var f=C.getImageData(0,0,h,e).data,c=!1,s=0;s<h;s++){for(var a=0;a<e;a++){var r=(a*h+s)*4;if(f[r]!==255){n.left=s,c=!0;break}}if(c)break}return Sd.remove(m),n};const QR=Phaser.GameObjects.GameObject;class WC extends QR{setStyle(t){return this.style.setStyle(t)}setFont(t){return this.style.setFont(t)}setFontFamily(t){return this.style.setFontFamily(t)}setFontSize(t){return this.style.setFontSize(t)}setFontStyle(t){return this.style.setFontStyle(t)}setTestString(t){return this.style.setTestString(t)}setFixedSize(t,n){return this.style.setFixedSize(t,n)}setBackgroundColor(t,n,m){return this.style.setBackgroundColor(t,n,m)}setBackgroundStrokeColor(t,n){return this.style.setBackgroundStrokeColor(t,n)}setBackgroundCornerRadius(t,n){return this.style.setBackgroundCornerRadius(t,n)}setFill(t){return this.style.setFill(t)}setColor(t){return this.style.setColor(t)}setStroke(t,n){return this.style.setStroke(t,n)}setShadow(t,n,m,C,M,h){return this.style.setShadow(t,n,m,C,M,h)}setShadowOffset(t,n){return this.style.setShadowOffset(t,n)}setShadowColor(t){return this.style.setShadowColor(t)}setShadowBlur(t){return this.style.setShadowBlur(t)}setShadowStroke(t){return this.style.setShadowStroke(t)}setShadowFill(t){return this.style.setShadowFill(t)}setWrapMode(t){return this.style.setWrapMode(t)}setWrapWidth(t){return this.style.setWrapWidth(t)}setWordWrapWidth(t){return this.style.setWrapWidth(t)}setAlign(t){return this.style.setHAlign(t)}setHAlign(t){return this.style.setHAlign(t)}setVAlign(t){return this.style.setVAlign(t)}setLineSpacing(t){return this.style.setLineSpacing(t)}set lineSpacing(t){this.setLineSpacing(t)}get lineSpacing(){return this.style.lineSpacing}setXOffset(t){return this.style.setXOffset(t)}setMaxLines(t){return this.style.setMaxLines(t)}setResolution(t){return this.style.setResolution(t)}getTextMetrics(){return this.style.getTextMetrics()}setTextMetrics(t,n){return this.style.setTextMetrics(t,n)}measureTextMargins(t,n){return JR(this.style,t,n)}}const De=Phaser.GameObjects.Components;Phaser.Class.mixin(WC,[De.Alpha,De.BlendMode,De.ComputedSize,De.Crop,De.Depth,De.Flip,De.GetBounds,De.Mask,De.Origin,De.Pipeline,De.PostPipeline,De.ScrollFactor,De.Tint,De.Transform,De.Visible,jR]);var qR={backgroundColor:["backgroundColor",null,xt],backgroundColor2:["backgroundColor2",null,xt],backgroundHorizontalGradient:["backgroundHorizontalGradient",!0,null],backgroundStrokeColor:["backgroundStrokeColor",null,xt],backgroundStrokeLineWidth:["backgroundStrokeLineWidth",2,null],backgroundCornerRadius:["backgroundCornerRadius",0,null],backgroundCornerIteration:["backgroundCornerIteration",null,null],fontFamily:["fontFamily","Courier",null],fontSize:["fontSize","16px",null],fontStyle:["fontStyle","",null],color:["color","#fff",xt],stroke:["stroke","#fff",xt],strokeThickness:["strokeThickness",0,null],shadowOffsetX:["shadow.offsetX",0,null],shadowOffsetY:["shadow.offsetY",0,null],shadowColor:["shadow.color","#000",xt],shadowBlur:["shadow.blur",0,null],shadowStroke:["shadow.stroke",!1,null],shadowFill:["shadow.fill",!1,null],underlineColor:["underline.color","#000",xt],underlineThickness:["underline.thickness",0,null],underlineOffset:["underline.offset",0,null],strikethroughColor:["strikethrough.color","#000",xt],strikethroughThickness:["strikethrough.thickness",0,null],strikethroughOffset:["strikethrough.offset",0,null],halign:["halign","left",null],valign:["valign","top",null],maxLines:["maxLines",0,null],fixedWidth:["fixedWidth",0,null],fixedHeight:["fixedHeight",0,null],resolution:["resolution",0,null],lineSpacing:["lineSpacing",0,null],xOffset:["xOffset",0,null],rtl:["rtl",!1,null],testString:["testString","|MÃ‰qgy",null],baselineX:["baselineX",1.2,null],baselineY:["baselineY",1.4,null],wrapMode:["wrap.mode",0,null],wrapWidth:["wrap.width",0,null],wrapCallback:["wrap.callback",null],wrapCallbackScope:["wrap.callbackScope",null]};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */const tl=Phaser.Display.Canvas.CanvasPool;var n1=function(i){var t=tl.create(this),n=t.getContext("2d",{willReadFrequently:!0});i.syncFont(t,n);var m=n.measureText(i.testString);if("actualBoundingBoxAscent"in m){var C=m.actualBoundingBoxAscent,M=m.actualBoundingBoxDescent,f={ascent:C,descent:M,fontSize:C+M};return tl.remove(t),f}var h=Math.ceil(m.width*i.baselineX),y=h,e=2*y;y=y*i.baselineY|0,t.width=h,t.height=e,n.fillStyle="#f00",n.fillRect(0,0,h,e),n.font=i._font,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(i.testString,0,y);var f={ascent:0,descent:0,fontSize:0};if(!n.getImageData(0,0,h,e))return f.ascent=y,f.descent=y+6,f.fontSize=f.ascent+f.descent,tl.remove(t),f;var c=n.getImageData(0,0,h,e).data,s=c.length,a=h*4,r,o,l=0,v=!1;for(r=0;r<y;r++){for(o=0;o<a;o+=4)if(c[l+o]!==255){v=!0;break}if(!v)l+=a;else break}for(f.ascent=y-r,l=s-a,v=!1,r=e;r>y;r--){for(o=0;o<a;o+=4)if(c[l+o]!==255){v=!0;break}if(!v)l-=a;else break}return f.descent=r-y,f.fontSize=f.ascent+f.descent,tl.remove(t),f},de={NO_NEWLINE:0,RAW_NEWLINE:1,WRAPPED_NEWLINE:2,NO_WRAP:0,WORD_WRAP:1,CHAR_WRAP:2,SPLITREGEXP:/(?:\r\n|\r|\n)/};const _R=Phaser.Utils.Objects.GetAdvancedValue,_e=Phaser.Utils.Objects.GetValue;let o0=class{constructor(t,n,m){this.parent=t,m===void 0&&(m=qR),this.propertyMap=m,this.backgroundColor,this.backgroundColor2,this.backgroundHorizontalGradient,this.backgroundStrokeColor,this.backgroundStrokeLineWidth,this.backgroundCornerRadius,this.backgroundCornerIteration,this.fontFamily,this.fontSize,this.fontStyle,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.underlineColor,this.underlineThickness,this.underlineOffset,this.strikethroughColor,this.strikethroughThickness,this.strikethroughOffset,this.halign,this.valign,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.lineSpacing,this.xOffset,this.rtl,this.testString,this.baselineX,this.baselineY,this.wrapMode,this.wrapWidth,this.wrapCallback,this.wrapCallbackScope,this._font,this.setStyle(n,!1,!0)}get isWrapFitMode(){return this.fixedWidth>0&&this.wrapMode!==de.NO_WRAP&&this.wrapWidth===0}setStyle(t,n,m){if(n===void 0&&(n=!0),m===void 0&&(m=!1),t&&t.hasOwnProperty("wrap")){var C=t.wrap;if(C.hasOwnProperty("mode")){var M=C.mode;typeof M=="string"&&(C.mode=r1[M])}else C.hasOwnProperty("width")&&(C.mode=1)}t&&t.rtl&&m&&!t.hasOwnProperty("halign")&&(t.halign="right"),t&&t.hasOwnProperty("fontSize")&&typeof t.fontSize=="number"&&(t.fontSize=t.fontSize.toString()+"px");var h=this.propertyMap;for(var y in h){var e=h[y],f=e[0],c=m?e[1]:this[y],s=e[2];if(y==="wrapCallback"||y==="wrapCallbackScope")this[y]=_e(t,f,c);else{var a=_R(t,f,c);s&&(a=s(a)),this[y]=a}}var r=_e(t,"font",null);r===null?this._font=this.fontStyle+" "+this.fontSize+" "+this.fontFamily:this._font=r;var o=_e(t,"fill",null);o!==null&&(this.color=xt(o));var l=_e(t,"metrics",!1);return l?this.metrics={ascent:_e(l,"ascent",0),descent:_e(l,"descent",0),fontSize:_e(l,"fontSize",0)}:(n||!this.metrics)&&(this.metrics=n1(this)),n?this.parent.updateText():this.parent}syncFont(t,n){n.font=this._font}syncStyle(t,n){n.textBaseline="alphabetic",n.fillStyle=this.color,n.strokeStyle=this.stroke,n.lineWidth=this.strokeThickness,n.lineCap="round",n.lineJoin="round"}syncShadow(t,n){n?(t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur):(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=0,t.shadowBlur=0)}update(t){return t&&(this._font=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim(),this.metrics=n1(this)),this.parent.updateText(t)}buildFont(){var t=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim();return t!==this._font&&(this._font=t),this}setFont(t){return typeof t=="string"?(this.fontFamily=t,this.fontSize="",this.fontStyle=""):(this.fontFamily=_e(t,"fontFamily","Courier"),this.fontSize=_e(t,"fontSize","16px"),this.fontStyle=_e(t,"fontStyle","")),this.update(!0)}setFontFamily(t){return this.fontFamily=t,this.update(!0)}setFontStyle(t){return this.fontStyle=t,this.update(!0)}setFontSize(t){return typeof t=="number"&&(t=t.toString()+"px"),this.fontSize=t,this.update(!0)}setTestString(t){return this.testString=t,this.update(!0)}setFixedSize(t,n){return this.fixedWidth=t,this.fixedHeight=n,t&&(this.parent.width=t),n&&(this.parent.height=n),this.update(this.isWrapFitMode)}setResolution(t){return this.resolution=t,this.update(!1)}setLineSpacing(t){return this.lineSpacing=t,this.update(!1)}setXOffset(t){return this.xOffset=t,this.update(!1)}setBackgroundColor(t,n,m){return m===void 0&&(m=!0),this.backgroundColor=xt(t,this.parent.canvas,this.parent.context),this.backgroundColor2=xt(n,this.parent.canvas,this.parent.context),this.backgroundHorizontalGradient=m,this.update(!1)}setBackgroundStrokeColor(t,n){return this.backgroundStrokeColor=xt(t,this.parent.canvas,this.parent.context),this.backgroundStrokeLineWidth=n,this.update(!1)}setBackgroundCornerRadius(t,n){return this.backgroundCornerRadius=t,this.backgroundCornerIteration=n,this.update(!1)}setFill(t){return this.color=xt(t,this.parent.canvas,this.parent.context),this.update(!1)}setColor(t){return this.color=xt(t,this.parent.canvas,this.parent.context),this.update(!1)}setStroke(t,n){return t===void 0?this.strokeThickness=0:(n===void 0&&(n=this.strokeThickness),this.stroke=xt(t,this.parent.canvas,this.parent.context),this.strokeThickness=n),this.update(!0)}setShadow(t,n,m,C,M,h){return t===void 0&&(t=0),n===void 0&&(n=0),m===void 0&&(m="#000"),C===void 0&&(C=0),M===void 0&&(M=!1),h===void 0&&(h=!0),this.shadowOffsetX=t,this.shadowOffsetY=n,this.shadowColor=xt(m,this.parent.canvas,this.parent.context),this.shadowBlur=C,this.shadowStroke=M,this.shadowFill=h,this.update(!1)}setShadowOffset(t,n){return t===void 0&&(t=0),n===void 0&&(n=t),this.shadowOffsetX=t,this.shadowOffsetY=n,this.update(!1)}setShadowColor(t){return t===void 0&&(t="#000"),this.shadowColor=xt(t,this.parent.canvas,this.parent.context),this.update(!1)}setShadowBlur(t){return t===void 0&&(t=0),this.shadowBlur=t,this.update(!1)}setShadowStroke(t){return this.shadowStroke=t,this.update(!1)}setShadowFill(t){return this.shadowFill=t,this.update(!1)}setUnderline(t,n,m){return t===void 0&&(t="#000"),n===void 0&&(n=0),m===void 0&&(m=0),this.underlineColor=xt(t,this.parent.canvas,this.parent.context),this.underlineThickness=n,this.underlineOffset=m,this.update(!1)}setUnderlineColor(t){return t===void 0&&(t="#000"),this.underlineColor=xt(t,this.parent.canvas,this.parent.context),this.update(!1)}setUnderlineThickness(t){return t===void 0&&(t=0),this.underlineThickness=t,this.update(!1)}setUnderlineOffset(t){return t===void 0&&(t=0),this.underlineOffset=t,this.update(!1)}setStrikethrough(t,n,m){return t===void 0&&(t="#000"),n===void 0&&(n=0),m===void 0&&(m=0),this.strikethroughColor=xt(t,this.parent.canvas,this.parent.context),this.strikethroughThickness=n,this.strikethroughOffset=m,this.update(!1)}setStrikethroughColor(t){return t===void 0&&(t="#000"),this.strikethroughColor=xt(t,this.parent.canvas,this.parent.context),this.update(!1)}setStrikethroughThickness(t){return t===void 0&&(t=0),this.strikethroughThickness=t,this.update(!1)}setStrikethroughOffset(t){return t===void 0&&(t=0),this.strikethroughOffset=t,this.update(!1)}setWrapMode(t){return typeof t=="string"&&(t=r1[t.toLowerCase()]||0),this.wrapMode=t,this.update(!0)}setWrapWidth(t){return this.wrapWidth=t,this.update(!1)}setAlign(t,n){return t===void 0&&(t="left"),n===void 0&&(n="top"),this.halign=t,this.valign=n,this.update(!1)}setHAlign(t){return t===void 0&&(t="left"),this.halign=t,this.update(!1)}setVAlign(t){return t===void 0&&(t="top"),this.valign=t,this.update(!1)}setMaxLines(t){return t===void 0&&(t=0),this.maxLines=t,this.update(!1)}getTextMetrics(){var t=this.metrics;return{ascent:t.ascent,descent:t.descent,fontSize:t.fontSize}}setTextMetrics(t,n){return this.metrics.ascent=t.ascent,this.metrics.descent=t.descent,this.metrics.fontSize=t.fontSize,n&&(typeof n=="string"?(this.fontFamily=n,this.fontSize="",this.fontStyle=""):(this.fontFamily=_e(n,"fontFamily",this.fontFamily),this.fontSize=_e(n,"fontSize",this.fontSize),this.fontStyle=_e(n,"fontStyle",this.fontStyle))),this.parent.updateText(!0)}get lineHeight(){return this.metrics.fontSize+this.strokeThickness+this.lineSpacing}toJSON(){var t={},n=this.propertyMap;for(var m in n)t[m]=this[m];return t.metrics=this.getTextMetrics(),t}destroy(){this.parent=void 0}};const r1={none:de.NO_WRAP,word:de.WORD_WRAP,char:de.CHAR_WRAP,character:de.CHAR_WRAP},tA={draw(i,t,n,m){var C=this.penManager;this.hitAreaManager.clear();var M=this.context;M.save();var h=this.defaultStyle;this.clear(),a0(this,h.backgroundColor,h.backgroundStrokeColor,h.backgroundStrokeLineWidth,h.backgroundCornerRadius,h.backgroundColor2,h.backgroundHorizontalGradient,h.backgroundCornerIteration),i+=this.startXOffset,t+=this.startYOffset;var y=h.halign,e=h.valign,f,c=h.lineHeight,s=C.lines,a=s.length,r=h.maxLines,o,l,v;r>0&&a>r?(o=r,e==="center"?l=Math.floor((a-o)/2):e==="bottom"?l=a-o:l=0):(o=a,l=0),v=l+o;var u,d,p=this.rtl,g=p?this.parent.width:void 0;e==="center"?d=Math.max((m-o*c)/2,0):e==="bottom"?d=Math.max(m-o*c-2,0):d=0,d+=t;for(var x=l;x<v;x++)if(f=C.getLineWidth(x),f!==0){for(var T=s[x],S=T.length,P=y,E=0;E<S;E++){var R=T[E].prop.align;if(R!==void 0){P=R;break}}P==="center"?u=(n-f)/2:P==="right"?u=p?0:n-f:u=p?n-f:0,u+=i;for(var E=0;E<S;E++)this.drawPen(T[E],u,d,g)}M.restore()},drawPen(i,t,n,m){t+=i.x,n+=i.y+(i.prop.y||0),m!==void 0&&(t=m-t);var C=this.canvas,M=this.context;M.save();var h=this.parser.propToContextStyle(this.defaultStyle,i.prop);if(h.buildFont(),h.syncFont(C,M),h.syncStyle(C,M),h.underlineThickness>0&&i.width>0){var y=n+h.underlineOffset-h.underlineThickness/2;this.drawLine(t,y,i.width,h.underlineThickness,h.underlineColor)}if(i.isTextPen&&this.drawText(t,n,i.text,h),i.isImagePen&&this.drawImage(t,n,i.prop.img,h),h.strikethroughThickness>0&&i.width>0){var y=n+h.strikethroughOffset-h.strikethroughThickness/2;this.drawLine(t,y,i.width,h.strikethroughThickness,h.strikethroughColor)}if(M.restore(),i.hasAreaMarker&&i.width>0){var e,f=i.prop.area;if(f)e={key:f};else{var c=i.prop.url;e={key:`url:${c}`,url:c}}this.hitAreaManager.add(t,n-this.startYOffset,i.width,this.defaultStyle.lineHeight,e)}},clear(){var i=this.canvas;this.context.clearRect(0,0,i.width,i.height)},drawLine(i,t,n,m,C){this.autoRound&&(i=Math.round(i),t=Math.round(t));var M=this.context,h=M.lineCap;M.lineCap="butt",M.strokeStyle=C,M.lineWidth=m,M.beginPath(),M.moveTo(i,t),M.lineTo(i+n,t),M.stroke(),M.lineCap=h},drawText(i,t,n,m){this.autoRound&&(i=Math.round(i),t=Math.round(t));var C=this.context;m.stroke&&m.stroke!=="none"&&m.strokeThickness>0&&(m.syncShadow(C,m.shadowStroke),C.strokeText(n,i,t)),m.color&&m.color!=="none"&&(m.syncShadow(C,m.shadowFill),C.fillText(n,i,t))},drawImage(i,t,n,m){t-=this.startYOffset,this.parent.imageManager.draw(n,this.context,i,t,this.autoRound)}},Nn=Phaser.Utils.Objects.GetValue,eA=de.NO_NEWLINE,a1=de.RAW_NEWLINE;class iA{constructor(t){this.prop={},this.resetFromJSON(t)}resetFromJSON(t){this.text=Nn(t,"text",""),this.x=Nn(t,"x",0),this.y=Nn(t,"y",0),this.width=Nn(t,"width",0);var n=Nn(t,"prop",null);n===null&&(n={}),this.prop=n,this.newLineMode=Nn(t,"newLineMode",0),this.startIndex=Nn(t,"startIndex",0)}get plainText(){var t=this.text;return this.newLineMode===a1&&(t+=`
`),t}get wrapText(){var t=this.text;return this.newLineMode!==eA&&(t+=`
`),t}get rawTextLength(){var t=this.text.length;return this.newLineMode===a1&&(t+=1),t}get endIndex(){return this.startIndex+this.rawTextLength}get lastX(){return this.x+this.width}get isTextPen(){return this.text!==""}get isImagePen(){return!!this.prop.img}get hasAreaMarker(){return!!this.prop.area||!!this.prop.url}}var dr=function(i,t){var n=Array.isArray(i);if(t===void 0?t=n?[]:{}:Fs(t),n){t.length=i.length;for(var m=0,C=i.length;m<C;m++)t[m]=i[m]}else for(var M in i)t[M]=i[M];return t};const o1=Phaser.Utils.Objects.GetFastValue,h1=de.NO_NEWLINE,sA=de.WRAPPED_NEWLINE;class h0{constructor(t){this.pens=[],this.lines=[],this.maxLinesWidth=void 0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.tagToText=o1(t,"tagToText",Fe),this.tagToTextScope=o1(t,"tagToTextScope",void 0)}destroy(){this.clear(),this.tagToText=void 0,this.tagToTextScope=void 0}clear(){for(var t=0,n=this.lines.length;t<n;t++)this.lines[t].length=0;this.pensPool.pushMultiple(this.pens),this.linesPool.pushMultiple(this.lines),this.maxLinesWidth=void 0}addTextPen(t,n,m,C,M,h){var y=this.pensPool.pop();return y==null&&(y=new iA),Vn.text=t,Vn.x=n,Vn.y=m,Vn.width=C,Vn.prop=M,Vn.newLineMode=h,y.resetFromJSON(Vn),this.addPen(y),this}addImagePen(t,n,m,C){return this.addTextPen("",t,n,m,C,h1),this}addNewLinePen(){var t=this.lastPen,n=t?t.lastX:0,m=t?t.y:0,C=t?dr(t.prop):null;return this.addTextPen("",n,m,0,C,sA),this}addPen(t){var n=this.lastPen;n==null?t.startIndex=0:t.startIndex=n.endIndex,this.pens.push(t);var m=this.lastLine;m==null&&(m=this.linesPool.pop()||[],this.lines.push(m)),m.push(t),t.newLineMode!==h1&&(m=this.linesPool.pop()||[],this.lines.push(m)),this.maxLinesWidth=void 0}clone(t){t==null&&(t=new h0),t.clear();for(var n=0,m=this.lines.length;n<m;n++)for(var C=this.lines[n],M=0,h=C.length;M<h;M++){var y=C[M];t.addPen(y.text,y.x,y.y,y.width,dr(y.prop),y.newLineMode)}return t}get lastPen(){return this.pens[this.pens.length-1]}get lastLine(){return this.lines[this.lines.length-1]}getLineStartIndex(t){if(t>=this.lines.length)return this.getLineEndIndex(t);var n=this.lines[t];return n&&n[0]?n[0].startIndex:0}getLineEndIndex(t){t>=this.lines.length&&(t=this.lines.length-1);var n,m=!1,C;for(n=t;n>=0&&(C=this.lines[n],m=C!=null&&C.length>0,!m);n--);if(!m)return 0;var M=C[C.length-1];return M.endIndex}getLineWidth(t){var n=this.lines[t];if(!n)return 0;var m=n[n.length-1];if(m==null)return 0;var C=m.lastX;return C}getMaxLineWidth(){if(this.maxLinesWidth!==void 0)return this.maxLinesWidth;for(var t,n=0,m=0,C=this.lines.length;m<C;m++)t=this.getLineWidth(m),t>n&&(n=t);return this.maxLinesWidth=n,n}getLineWidths(){for(var t=[],n=0,m=this.lines.length;n<m;n++)t.push(this.getLineWidth(n));return t}get linesCount(){return this.lines.length}get plainText(){for(var t="",n=this.pens,m=0,C=n.length;m<C;m++)t+=n[m].plainText;return t}get rawTextLength(){for(var t=0,n=this.pens,m=0,C=this.pens.length;m<C;m++)t+=n[m].rawTextLength;return t}getSliceTagText(t,n,m){if(t===void 0&&(t=0),n===void 0){var C=this.lastPen;if(C==null)return"";n=C.endIndex}m===void 0&&(m=!1);for(var M="",h,y,e,f,c,s,a,r=0,o=this.pens.length;r<o&&(h=this.pens[r],f=h.endIndex,!(!(f<=t)&&(h=this.pens[r],y=m?h.wrapText:h.plainText,s=h.prop,e=h.startIndex,c=e>=t&&f<=n,c||(y=y.substring(t-e,n-e)),this.tagToTextScope?M+=this.tagToText.call(this.tagToTextScope,y,s,a):M+=this.tagToText(y,s,a),a=s,f>=n)));r++);return M}get length(){return this.lines.length}set length(t){this.clear()}}var Vn={};const nA=Phaser.Geom.Rectangle;var l1=new fs;class rA{constructor(){this.hitAreas=[]}destroy(){this.clear()}clear(){for(var t=0,n=this.hitAreas.length;t<n;t++)Fs(this.hitAreas[t].data);return l1.pushMultiple(this.hitAreas),this}add(t,n,m,C,M){var h=l1.pop();return h===null?h=new nA(t,n,m,C):h.setTo(t,n,m,C),h.data=M,this.hitAreas.push(h),this}getFirst(t,n){for(var m=0,C=this.hitAreas.length;m<C;m++){var M=this.hitAreas[m];if(M.contains(t,n))return M}return null}getByKey(t){for(var n=0,m=this.hitAreas.length;n<m;n++){var C=this.hitAreas[n];if(C.data.key===t)return C}return null}drawBounds(t,n,m){n===void 0&&(n=16777215),m&&t.save().scaleCanvas(m.scaleX,m.scaleY).rotateCanvas(m.rotation).translateCanvas(m.x,m.y);for(var C=0,M=this.hitAreas.length;C<M;C++){var h=this.hitAreas[C];t.lineStyle(1,n).strokeRect(h.x,h.y,h.width,h.height)}return m&&t.restore(),this}}var aA=function(){this.parent.on("pointerdown",oA,this).on("pointerup",hA,this).on("pointermove",Md,this).on("pointerover",Md,this).on("pointerout",function(i,t){Md.call(this,i,null,null,t)},this)},oA=function(i,t,n,m){var C=this.hitAreaManager.getFirst(t,n);if(C!==null){var M=C.data.key;ya.call(this,"areadown",M,i,t,n,m),C.data.isDown=!0}},hA=function(i,t,n,m){var C=this.hitAreaManager.getFirst(t,n);if(C!==null){var M=C.data,h=M.key;if(ya.call(this,"areaup",h,i,t,n,m),M.isDown){ya.call(this,"areaclick",h,i,t,n,m);var y=M.url;y&&window.open(y,"_blank")}M.isDown=!1}},Md=function(i,t,n,m){if(t===null){this.lastHitAreaKey!==null&&(ya.call(this,"areaout",this.lastHitAreaKey,i,t,n,m),this.hitAreaManager.getByKey(this.lastHitAreaKey).isDown=!1,this.lastHitAreaKey=null);return}var C=this.hitAreaManager.getFirst(t,n),M=C?C.data.key:null;if(this.lastHitAreaKey!==M){if(this.lastHitAreaKey!==null){ya.call(this,"areaout",this.lastHitAreaKey,i,t,n,m);var h=this.hitAreaManager.getByKey(this.lastHitAreaKey);this.urlTagCursorStyle&&h.data.url&&(this.scene.input.manager.canvas.style.cursor=""),h.isDown=!1}M!==null&&(ya.call(this,"areaover",M,i,t,n,m),this.urlTagCursorStyle&&C.data.url&&(this.scene.input.manager.canvas.style.cursor=this.urlTagCursorStyle)),this.lastHitAreaKey=M}},ya=function(i,t,n,m,C,M){this.parent.emit(`${i}-${t}`,n,m,C,M),this.parent.emit(i,t,n,m,C,M)};const lA=de.NO_NEWLINE,uA=de.RAW_NEWLINE,Ed=de.WRAPPED_NEWLINE,u1=de.NO_WRAP,fA=de.WORD_WRAP,dA=de.CHAR_WRAP,cA=de.SPLITREGEXP;var HC=function(i,t,n,m,C,M){m<=0&&(n=u1);var h=[];if(!i||!i.length)return h;for(var y=n===u1,e=n===fA,f=i.split(cA),c,s,a,r=0,o=f.length;r<o;r++){if(c=f[r],a=r===o-1?lA:uA,y){var l=t(c);h.push(M.getLine(c,l,a));continue}if(s=r===0?m-C:m,c.length<=100){var l=t(c);if(l<=s){h.push(M.getLine(c,l,a));continue}}var v,u;e?(v=c.split(" "),u=v[v.length-1]==="",u&&(v.length-=1)):v=c;for(var d,p,g,x="",T=0,S,P=e?t(" "):void 0,E=0,R=v.length;E<R;E++){if(d=v[E],p=t(d),g=E===R-1,e&&(!g||u)&&(d+=" ",p+=P),e&&p>m){x!==""?h.push(M.getLine(x,T,Ed)):E===0&&C>0&&h.push(M.getLine("",0,Ed)),h.push(...HC(d,t,dA,m,0,M));var A=h.pop();x=A.text,T=A.width,M.freeLine(A),x===" "&&(x="",T=0);continue}S=T+p,S>s?(h.push(M.getLine(x,T,Ed)),x=d,T=p,s=m):(x+=d,T=S),g&&h.push(M.getLine(x,T,a))}}return h};const Pd=Phaser.Utils.Objects.GetValue,vA=de.NO_WRAP,pA=de.NO_NEWLINE;class $C{constructor(t){this.parent=t.parent,this.scene=this.parent.scene,this.context=Pd(t,"context",null),this.canvas=this.context.canvas,this.parser=Pd(t,"parser",null),this.defaultStyle=Pd(t,"style",null),this.autoRound=!0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.wrapTextLinesPool=t.wrapTextLinesPool,this.penManager=this.newPenManager(),this._tmpPenManager=null,this.hitAreaManager=new rA,this.lastHitAreaKey=null,this.urlTagCursorStyle=null;var n=this.context;this.getTextWidth=function(m){return n.measureText(m).width}}destroy(){this.parent=void 0,this.scene=void 0,this.context=void 0,this.canvas=void 0,this.parser=void 0,this.defaultStyle=void 0,this.penManager&&(this.penManager.destroy(),this.penManager=void 0),this._tmpPenManager&&(this._tmpPenManager.destroy(),this._tmpPenManager=void 0),this.hitAreaManager&&(this.hitAreaManager.destroy(),this.hitAreaManager=void 0),this.pensPool=void 0,this.linesPool=void 0,this.wrapTextLinesPool=void 0}updatePenManager(t,n,m,C,M){if(M===void 0&&(M=this.penManager),M.clear(),t==="")return M;var h=this.parent.style;if(h.isWrapFitMode){var y=this.parent.padding;m=h.fixedWidth-y.left-y.right}for(var e=this.canvas,f=this.context,c=function(F){return f.measureText(F).width},s=0,a=0,r=h.wrapCallback,o=h.wrapCallbackScope,l=!0,v,u,d,p=this.parser.splitText(t),g,x,T=this.wrapTextLinesPool,S=0,P=p.length;S<P;S++)if(g=this.parser.tagTextToProp(p[S],u),v=g.plainText,u=g.prop,u.img){var E=this.imageManager.getOuterWidth(u.img);m>0&&n!==vA&&m<s+E&&(M.addNewLinePen(),a+=C,s=0),M.addImagePen(s,a,E,dr(u)),s+=E}else if(v!==""){if(f.save(),d=this.parser.propToContextStyle(this.defaultStyle,u),d.buildFont(),d.syncFont(e,f),d.syncStyle(e,f),!r)x=HC(v,c,n,m,s,T);else{x=r.call(o,v,c,m,s),typeof x=="string"&&(x=x.split(`
`));for(var w,R=0,A=x.length;R<A;R++)w=x[R],typeof w=="string"?x[R]=T.getLine(w,c(w),R<A-1?2:0):l=!1}for(var w,R=0,A=x.length;R<A;R++)w=x[R],M.addTextPen(w.text,s,a,w.width,dr(u),w.newLineMode),w.newLineMode!==pA?(s=0,a+=C):s+=w.width;l&&T.freeLines(x),x=null,f.restore()}for(var S=0,P=this.lines.length;S<P;S++){var O=this.lines[S],L=O[O.length-1];L&&(L.width+=this.parser.getStrokeThinkness(this.defaultStyle,L.prop))}return M}get startXOffset(){var t=this.defaultStyle;return t.strokeThickness/2+t.xOffset}get startYOffset(){var t=this.defaultStyle;return t.strokeThickness/2+t.metrics.ascent}get lines(){return this.penManager.lines}get desplayLinesCount(){var t=this.penManager.linesCount,n=this.defaultStyle.maxLines;return n>0&&t>n&&(t=n),t}get linesWidth(){return Math.ceil(this.penManager.getMaxLineWidth())}get linesHeight(){var t=this.desplayLinesCount,n=this.defaultStyle.lineHeight*t;return t>0&&(n-=this.defaultStyle.lineSpacing),n}get imageManager(){return this.parent.imageManager}get rtl(){return this.parent.style.rtl}newPenManager(){return new h0({pensPool:this.pensPool,linesPool:this.linesPool,tagToText:this.parser.propToTagText,tagToTextScope:this.parser})}get tmpPenManager(){return this._tmpPenManager===null&&(this._tmpPenManager=this.newPenManager()),this._tmpPenManager}getPlainText(t,n,m){var C;if(t==null)C=this.penManager.plainText;else{var M=this.parser.splitText(t,1);C="";for(var h=0,y=M.length;h<y;h++)C+=M[h]}return(n!=null||m!=null)&&(n==null&&(n=0),m==null&&(m=C.length),C=C.substring(n,m)),C}getPenManager(t,n){if(t===void 0)return this.copyPenManager(n,this.penManager);n===void 0&&(n=this.newPenManager());var m=this.defaultStyle;return this.updatePenManager(t,m.wrapMode,m.wrapWidth,m.lineHeight,n),n}getText(t,n,m,C){if(t==null)return this.penManager.getSliceTagText(n,m,C);var M=this.tmpPenManager,h=this.defaultStyle;return this.updatePenManager(t,h.wrapMode,h.wrapWidth,h.lineHeight,M),M.getSliceTagText(n,m,C)}copyPenManager(t,n){return n===void 0&&(n=this.penManager),n.copy(t)}getTextWidth(t){return t===void 0&&(t=this.penManager),t.getMaxLineWidth()}getLastPen(t){return t===void 0&&(t=this.penManager),t.lastPen}}var gA={setInteractive:aA};Object.assign($C.prototype,tA,gA);class f1 extends fs{freeLine(t){if(t)return this.push(t),this}freeLines(t){if(t)return this.pushMultiple(t),this}getLine(t,n,m){var C=this.pop();return C===null&&(C={}),C.text=t,C.width=n,C.newLineMode=m,C}}const mA=Phaser.Utils.Objects.IsPlainObject,_a=Phaser.Utils.Objects.GetValue;var Rd=function(i,t){mA(i)?(t=i,i=t.key):t===void 0&&(t={key:i}),t.hasOwnProperty("key")||(t.key=i);var n=t.key,m=t.frame,C=t.width,M=t.height;if(C===void 0||M===void 0){var h=this.textureManager.getFrame(n,m),y=h?h.cutWidth:0,e=h?h.cutHeight:0;C===void 0&&M===void 0?(C=y,M=e):C===void 0?C=y*(M/e):M===void 0&&(M=e*(C/y))}this.images[i]={key:n,frame:m,width:C,height:M,y:_a(t,"y",0),left:_a(t,"left",0),right:_a(t,"right",0),originX:_a(t,"originX",0),originY:_a(t,"originY",0)}},xA=function(i,t,n,m,C){var M=this.get(i),h=this.textureManager.getFrame(M.key,M.frame),y=M.width,e=M.height;n+=M.left-M.originX*y,m+=M.y-M.originY*e,C&&(n=Math.round(n),m=Math.round(m)),t.drawImage(h.source.image,h.cutX,h.cutY,h.cutWidth,h.cutHeight,n,m,y,e)};class l0{constructor(t){this.textureManager=t.sys.textures,this.images={}}destroy(){this.textureManager=void 0,this.images=void 0}add(t,n){if(typeof t=="string")Rd.call(this,t,n);else if(Array.isArray(t))for(var m=t,C=0,M=m.length;C<M;C++)Rd.call(this,m[C]);else{var m=t;for(var t in m)Rd.call(this,t,m[t])}return this}has(t){return this.images.hasOwnProperty(t)}remove(t){return this.has(t)&&delete this.images[t],this}get(t){return this.has(t)||this.textureManager.exists(t)&&this.add(t),this.images[t]}getOuterWidth(t){var n=this.get(t);return n?n.width+n.left+n.right:0}getFrame(t){var n=this.get(t);return n?this.textureManager.getFrame(n.key,n.frame):void 0}hasTexture(t){return!!this.getFrame(t)}}var yA={draw:xA};Object.assign(l0.prototype,yA);var KC=function(i,t){!i&&i!==0&&(i=""),t===void 0&&(t=!0),Array.isArray(i)&&(i=i.join(`
`));var n;return t?n=`${this.text}
${i}`:n=`${this.text}${i}`,n!=this.text&&this.setText(n),this};const TA=Phaser.Utils.Objects.IsPlainObject,d1=Phaser.DOM.AddToDOM,c1=Phaser.Display.Canvas.CanvasPool,CA=Phaser.GameObjects.GameObject,Ue=Phaser.Utils.Objects.GetValue,SA=Phaser.DOM.RemoveFromDOM,MA=de.SPLITREGEXP;var wr=null,Ad=null,wd=null;class u0 extends WC{constructor(t,n,m,C,M,h,y){if(TA(n)){var e=n;n=Ue(e,"x",0),m=Ue(e,"y",0),C=Ue(e,"text",""),M=Ue(e,"style")}if(n===void 0&&(n=0),m===void 0&&(m=0),super(t,h),this.renderer=t.sys.game.renderer,this.setPosition(n,m),this.setOrigin(0,0),this.initPipeline(),this.canvas=c1.create(this),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this._imageManager=void 0,M){if(M.hasOwnProperty("align")){var f=M.align;delete M.align,M.halign=f}M.hasOwnProperty("stroke")&&!M.hasOwnProperty("strokeThickness")&&(M.strokeThickness=1)}this.style=new o0(this,M);var c=Ue(M,"images",void 0);c&&this.addImage(c),this.autoRound=!0,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this.texture=t.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null);var s=Ue(M,"sharedPool",!0),a,r,o;s?(wr||(wr={},Ad=new fs,wd=new f1,this.scene.game.events.once("destroy",function(){wr=null,Ad=null,wd=null})),wr.hasOwnProperty(h)||(wr[h]=new fs),a=wr[h],r=Ad,o=wd):(a=new fs,r=new fs,o=new f1),this.canvasText=new $C({parent:this,context:this.context,parser:y,style:this.style,pensPool:a,linesPool:r,wrapTextLinesPool:o}),this.parser=y,this.initRTL(),M&&M.padding&&this.setPadding(M.padding),this.setText(C),this.setUrlTagCursorStyle(Ue(M,"urlTagCursorStyle","pointer")),Ue(M,"interactive",!1)&&this.setInteractive()}preDestroy(){SA(this.canvas),this.canvasText.destroy(),this.canvasText=void 0,this._imageManager&&(this._imageManager.destroy(),this._imageManager=void 0),c1.remove(this.canvas),this.texture.destroy()}set text(t){this.setText(t)}get text(){return this._text}initRTL(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",d1(this.canvas,this.scene.sys.canvas),this.originX=1)}setRTL(t){t===void 0&&(t=!0);var n=this.style;if(n.rtl===t)return this;if(n.rtl=t,t?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",d1(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),n.halign==="left"?n.halign="right":n.halign==="right"&&(n.halign="left"),this._imageManager){var m=this._imageManager.images;for(var C in m)m[C].originX=1-m[C].originX}return this}setText(t){return t==null?t="":Array.isArray(t)?t=t.join(`
`):t=t.toString(),t===this._text?this:(this._text=t,this.updateText(),this)}setPadding(t,n,m,C){if(typeof t=="object"){var M=t,h=Ue(M,"x",null);h!==null?(t=h,m=h):(t=Ue(M,"left",0),m=Ue(M,"right",t));var y=Ue(M,"y",null);y!==null?(n=y,C=y):(n=Ue(M,"top",0),C=Ue(M,"bottom",n))}else t===void 0&&(t=0),n===void 0&&(n=t),m===void 0&&(m=t),C===void 0&&(C=n);return this.padding.left=t,this.padding.top=n,this.padding.right=m,this.padding.bottom=C,this.updateText(!1)}updateText(t){t===void 0&&(t=!0);var n=this.canvasText,m=this.style;t&&n.updatePenManager(this._text,m.wrapMode,m.wrapWidth,m.lineHeight);var C=this.padding,M,h,y=Math.ceil(n.linesWidth);m.fixedWidth===0?(this.width=y+C.left+C.right,M=y):(this.width=m.fixedWidth,M=this.width-C.left-C.right,M<y&&(M=y)),m.fixedHeight===0?(this.height=n.linesHeight+C.top+C.bottom,h=n.linesHeight):(this.height=m.fixedHeight,h=this.height-C.top-C.bottom,h<n.linesHeight&&(h=n.linesHeight));var e=this.width,f=this.height;this.updateDisplayOrigin();var c=m.resolution;e*=c,f*=c,e=Math.max(Math.ceil(e),1),f=Math.max(Math.ceil(f),1);var s=this.canvas,a=this.context;s.width!==e||s.height!==f?(s.width=e,s.height=f,this.frame.setSize(e,f)):a.clearRect(0,0,e,f),a.save(),a.scale(c,c);var r=this.style.rtl?C.right:C.left,o=C.top;n.draw(r,o,M,h),a.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(s,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var l=this.input;return l&&!l.customHitArea&&(l.hitArea.width=this.width,l.hitArea.height=this.height),this}toJSON(){var t=Components.ToJSON(this),n={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),resolution:this.resolution,padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return t.data=n,t}setInteractive(t,n,m){var C=!!this.input;return CA.prototype.setInteractive.call(this,t,n,m),C||this.canvasText.setInteractive(),this}setUrlTagCursorStyle(t){return this.urlTagCursorStyle=t,this}get urlTagCursorStyle(){return this.canvasText.urlTagCursorStyle}set urlTagCursorStyle(t){this.canvasText.urlTagCursorStyle=t}getWrappedText(t,n,m){return t=this.canvasText.getText(t,n,m,!0),t.split(MA)}getPlainText(t,n,m){return this.canvasText.getPlainText(t,n,m)}getText(t,n,m,C){return C===void 0&&(C=!1),this.canvasText.getText(t,n,m,C)}getSubString(t,n,m){return this.getText(t,n,m)}copyPenManager(t){return this.canvasText.copyPenManager(t)}getPenManager(t,n){return this.canvasText.getPenManager(t,n)}setSize(t,n){return this.setFixedSize(t,n)}resize(t,n){return this.setFixedSize(t,n)}get imageManager(){return this._imageManager||(this._imageManager=new l0(this.scene)),this._imageManager}addImage(t,n){return this.imageManager.add(t,n),this}drawAreaBounds(t,n){return this.canvasText.hitAreaManager.drawBounds(t,n,this),this}generateTexture(t,n,m,C,M){var h=this.canvas;return C===void 0?C=h.width:C*=this.resolution,M===void 0?M=h.height:M*=this.resolution,UC(this.scene,h,t,n,m,C,M),this}}var EA={appendText:KC};Object.assign(u0.prototype,EA);var PA=function(i,t){for(var n=this.tagRegex,m=[],C=0,M=!1,h=!1;;){var y=n.RE_SPLITTEXT.exec(i);if(!y)break;var e=y[0];if(h)if(n.RE_ESC_CLOSE.test(e))h=!1;else continue;else if(M)if(n.RE_RAW_CLOSE.test(e))M=!1;else continue;else n.RE_ESC_OPEN.test(e)?h=!0:n.RE_RAW_OPEN.test(e)&&(M=!0);var f=n.RE_SPLITTEXT.lastIndex,c=f-e.length;if(C<c){var s=i.substring(C,c);m.push(s)}t===void 0&&m.push(e),C=f}var a=i.length;return C<a&&m.push(i.substring(C,a)),m};const re=!1,se=!0;var RA={plainText:null,prevProp:null},AA=function(i,t){var n=this.tagRegex;t==null&&(t={});var m="";if(t.img&&Ct(t,re,"img"),t.esc)n.RE_ESC_CLOSE.test(i)?Ct(t,re,"esc"):m=i;else if(t.raw)n.RE_RAW_CLOSE.test(i)?Ct(t,re,"raw"):m=i;else if(n.RE_ESC_OPEN.test(i))Ct(t,se,"esc",!0);else if(n.RE_ESC_CLOSE.test(i))Ct(t,re,"esc");else if(n.RE_RAW_OPEN.test(i))Ct(t,se,"raw",!0);else if(n.RE_RAW_CLOSE.test(i))Ct(t,re,"raw");else if(n.RE_BLOD_OPEN.test(i))Ct(t,se,"b",!0);else if(n.RE_BLOD_CLOSE.test(i))Ct(t,re,"b");else if(n.RE_ITALICS_OPEN.test(i))Ct(t,se,"i",!0);else if(n.RE_ITALICS_CLOSE.test(i))Ct(t,re,"i");else if(n.RE_WEIGHT_OPEN.test(i)){var C=i.match(n.RE_WEIGHT_OPEN);Ct(t,se,"weight",C[1])}else if(n.RE_WEIGHT_CLOSE.test(i))Ct(t,re,"weight");else if(n.RE_SIZE_OPEN.test(i)){var C=i.match(n.RE_SIZE_OPEN);Ct(t,se,"size",`${C[1]}px`)}else if(n.RE_SIZE_CLOSE.test(i))Ct(t,re,"size");else if(n.RE_COLOR_OPEN.test(i)){var C=i.match(n.RE_COLOR_OPEN);Ct(t,se,"color",C[1])}else if(n.RE_COLOR_CLOSE.test(i))Ct(t,re,"color");else if(n.RE_UNDERLINE_OPEN.test(i))Ct(t,se,"u",!0);else if(n.RE_UNDERLINE_OPENC.test(i)){var C=i.match(n.RE_UNDERLINE_OPENC);Ct(t,se,"u",C[1])}else if(n.RE_UNDERLINE_CLOSE.test(i))Ct(t,re,"u");else if(n.RE_STRIKETHROUGH_OPEN.test(i))Ct(t,se,"s",!0);else if(n.RE_STRIKETHROUGH_OPENC.test(i)){var C=i.match(n.RE_STRIKETHROUGH_OPENC);Ct(t,se,"s",C[1])}else if(n.RE_STRIKETHROUGH_CLOSE.test(i))Ct(t,re,"s");else if(n.RE_SHADOW_OPEN.test(i))Ct(t,se,"shadow",!0);else if(n.RE_SHADOW_CLOSE.test(i))Ct(t,re,"shadow");else if(n.RE_STROKE_OPEN.test(i))Ct(t,se,"stroke",!0);else if(n.RE_STROKE_OPENC.test(i)){var C=i.match(n.RE_STROKE_OPENC);Ct(t,se,"stroke",C[1])}else if(n.RE_STROKE_CLOSE.test(i))Ct(t,re,"stroke");else if(n.RE_OFFSETY_OPEN.test(i)){var C=i.match(n.RE_OFFSETY_OPEN);Ct(t,se,"y",parseFloat(C[1]))}else if(n.RE_OFFSETY_CLOSE.test(i))Ct(t,re,"y");else if(n.RE_IMAGE_OPEN.test(i)){var C=i.match(n.RE_IMAGE_OPEN);Ct(t,se,"img",C[1])}else if(n.RE_IMAGE_CLOSE.test(i))Ct(t,re,"img");else if(n.RE_AREA_OPEN.test(i)){var C=i.match(n.RE_AREA_OPEN);Ct(t,se,"area",C[1])}else if(n.RE_AREA_CLOSE.test(i))Ct(t,re,"area");else if(n.RE_URL_OPEN.test(i)){var C=i.match(n.RE_URL_OPEN);Ct(t,se,"url",C[1])}else if(n.RE_URL_CLOSE.test(i))Ct(t,re,"url");else if(n.RE_ALIGN_OPEN.test(i)){var C=i.match(n.RE_ALIGN_OPEN);Ct(t,se,"align",C[1])}else n.RE_ALIGN_CLOSE.test(i)?Ct(t,re,"align"):m=i;var M=RA;return M.plainText=m,M.prop=t,M},Ct=function(i,t,n,m){return t===se?i[n]=m:i.hasOwnProperty(n)&&delete i[n],i},wA=function(i,t){var n=LA;if(t.hasOwnProperty("img"))n.image=t.img;else{if(n.image=null,t.hasOwnProperty("family")?n.fontFamily=t.family:n.fontFamily=i.fontFamily,t.hasOwnProperty("size")){var m=t.size;typeof m=="number"&&(m=`${m}px`),n.fontSize=m}else n.fontSize=i.fontSize;n.fontStyle=OA(t),t.hasOwnProperty("color")?n.color=t.color:n.color=i.color,t.hasOwnProperty("stroke")?t.stroke===!0?(n.stroke=i.stroke,n.strokeThickness=i.strokeThickness):(n.stroke=t.stroke,n.strokeThickness=i.strokeThickness):(n.stroke=i.stroke,n.strokeThickness=0)}return t.hasOwnProperty("shadow")?t.shadow===!0?(n.shadowColor=i.shadowColor,n.shadowOffsetX=i.shadowOffsetX,n.shadowOffsetY=i.shadowOffsetY,n.shadowBlur=i.shadowBlur,n.shadowStroke=!0,n.shadowFill=!0):(n.shadowColor=t.shadow,n.shadowOffsetX=i.shadowOffsetX,n.shadowOffsetY=i.shadowOffsetY,n.shadowBlur=i.shadowBlur,n.shadowStroke=!0,n.shadowFill=!0):(n.shadowColor="#000",n.shadowOffsetX=0,n.shadowOffsetY=0,n.shadowBlur=0,n.shadowStroke=!1,n.shadowFill=!1),t.hasOwnProperty("u")?t.u===!0?(n.underlineColor=i.underlineColor,n.underlineThickness=i.underlineThickness,n.underlineOffset=i.underlineOffset):(n.underlineColor=t.u,n.underlineThickness=i.underlineThickness,n.underlineOffset=i.underlineOffset):(n.underlineColor="#000",n.underlineThickness=0,n.underlineOffset=0),t.hasOwnProperty("s")?t.s===!0?(n.strikethroughColor=i.strikethroughColor,n.strikethroughThickness=i.strikethroughThickness,n.strikethroughOffset=i.strikethroughOffset):(n.strikethroughColor=t.s,n.strikethroughThickness=i.strikethroughThickness,n.strikethroughOffset=i.strikethroughOffset):(n.strikethroughColor="#000",n.strikethroughThickness=0,n.strikethroughOffset=0),n},OA=function(i){var t=i.b,n=i.weight,m=i.i;return t||n||m?m?t?"bold italic":n?`${n} italic`:"italic":t?"bold":n.toString():""},LA=new o0,FA=function(i,t,n){n==null&&(n=IA);var m=this.delimiters[0],C=this.delimiters[1],M=[];for(var h in n)t.hasOwnProperty(h)||M.push(`${m}/${h}${C}`);for(var h in t){var y=t[h];if(n[h]!==y)switch(h){case"size":M.push(`${m}size=${y.replace("px","")}${C}`);break;case"color":case"weight":case"stroke":case"y":case"img":case"area":case"url":case"align":M.push(`${m}${h}=${y}${C}`);break;case"u":case"s":y===!0?M.push(`${m}${h}${C}`):M.push(`${m}${h}=${y}${C}`);break;default:M.push(`${m}${h}${C}`);break}}return M.push(i),M.join("")},IA={},Oa=function(i){return i.replace(DA,"\\$&").replace(BA,"\\x2d")},DA=/[|\\{}()[\]^$+*?.]/g,BA=/-/g,v1,p1,Et={},ae=function(i,t,n,m){return m===void 0?`${i}${n}${t}`:`${i}${n}=(${m})${t}`},Ae=function(i,t,n){return`${i}/${n}${t}`},Od="[-.0-9]+",el="[a-z]+|#[0-9abcdef]+",il="[^\\]]+",ZC=function(i,t){if(t===void 0){var n=i;i=n[0],t=n[1]}if(v1===i&&p1===t)return!1;v1=i,p1=t,i=Oa(i),t=Oa(t);var m="esc",C=ae(i,t,m),M=Ae(i,t,m),h="raw",y=ae(i,t,h),e=Ae(i,t,h),f="b",c=ae(i,t,f),s=Ae(i,t,f),a="i",r=ae(i,t,a),o=Ae(i,t,a),l="weight",v=ae(i,t,l,Od),u=Ae(i,t,l),d="size",p=ae(i,t,d,Od),g=Ae(i,t,d),x="color",T=ae(i,t,x,el),S=Ae(i,t,x),P="u",E=ae(i,t,P),R=ae(i,t,P,el),A=Ae(i,t,P),w="s",O=ae(i,t,w),L=ae(i,t,w,el),F=Ae(i,t,w),I="shadow",b=ae(i,t,I),G=Ae(i,t,I),N="stroke",U=ae(i,t,N),Y=ae(i,t,N,el),X=Ae(i,t,N),B="y",z=ae(i,t,B,Od),D=Ae(i,t,B),V="img",k=ae(i,t,V,il),W=Ae(i,t,V),H="area",$=ae(i,t,H,il),K=Ae(i,t,H),j="url",Z=ae(i,t,j,il),J=Ae(i,t,j),Q="align",q=ae(i,t,Q,il),_=Ae(i,t,Q);return Et.RE_ESC_OPEN=new RegExp(C,"i"),Et.RE_ESC_CLOSE=new RegExp(M,"i"),Et.RE_RAW_OPEN=new RegExp(y,"i"),Et.RE_RAW_CLOSE=new RegExp(e,"i"),Et.RE_BLOD_OPEN=new RegExp(c,"i"),Et.RE_BLOD_CLOSE=new RegExp(s,"i"),Et.RE_ITALICS_OPEN=new RegExp(r,"i"),Et.RE_ITALICS_CLOSE=new RegExp(o,"i"),Et.RE_WEIGHT_OPEN=new RegExp(v,"i"),Et.RE_WEIGHT_CLOSE=new RegExp(u,"i"),Et.RE_SIZE_OPEN=new RegExp(p,"i"),Et.RE_SIZE_CLOSE=new RegExp(g,"i"),Et.RE_COLOR_OPEN=new RegExp(T,"i"),Et.RE_COLOR_CLOSE=new RegExp(S,"i"),Et.RE_UNDERLINE_OPEN=new RegExp(E,"i"),Et.RE_UNDERLINE_OPENC=new RegExp(R,"i"),Et.RE_UNDERLINE_CLOSE=new RegExp(A,"i"),Et.RE_STRIKETHROUGH_OPEN=new RegExp(O,"i"),Et.RE_STRIKETHROUGH_OPENC=new RegExp(L,"i"),Et.RE_STRIKETHROUGH_CLOSE=new RegExp(F,"i"),Et.RE_SHADOW_OPEN=new RegExp(b,"i"),Et.RE_SHADOW_CLOSE=new RegExp(G,"i"),Et.RE_STROKE_OPEN=new RegExp(U,"i"),Et.RE_STROKE_OPENC=new RegExp(Y,"i"),Et.RE_STROKE_CLOSE=new RegExp(X,"i"),Et.RE_OFFSETY_OPEN=new RegExp(z,"i"),Et.RE_OFFSETY_CLOSE=new RegExp(D,"i"),Et.RE_IMAGE_OPEN=new RegExp(k,"i"),Et.RE_IMAGE_CLOSE=new RegExp(W,"i"),Et.RE_AREA_OPEN=new RegExp($,"i"),Et.RE_AREA_CLOSE=new RegExp(K,"i"),Et.RE_URL_OPEN=new RegExp(Z,"i"),Et.RE_URL_CLOSE=new RegExp(J,"i"),Et.RE_ALIGN_OPEN=new RegExp(q,"i"),Et.RE_ALIGN_CLOSE=new RegExp(_,"i"),Et.RE_SPLITTEXT=new RegExp([y,e,C,M,c,s,r,o,v,u,p,g,T,S,E,R,A,O,L,F,b,G,U,Y,X,z,D,k,W,$,K,Z,J,q,_].join("|"),"ig"),!0},g1=function(i,t){return i!==void 0&&ZC(i,t),Object.assign({},Et)};const bA=Phaser.Utils.Objects.GetValue;let jC=class{constructor(t){var n=bA(t,"delimiters","[]");this.tagRegex=g1(n),this.delimiters=n}getStrokeThinkness(t,n){var m;return n.hasOwnProperty("stroke")?m=t.strokeThickness:m=0,m}setDelimiters(t,n){return ZC(t,n)&&(this.tagRegex=g1()),this}};var GA={splitText:PA,tagTextToProp:AA,propToContextStyle:wA,propToTagText:FA};Object.assign(jC.prototype,GA);class f0 extends u0{constructor(t,n,m,C,M){var h=new jC(M);super(t,n,m,C,M,"rexBBCodeText",h)}setDelimiters(t,n){return this.parse.setDelimiters(t,n),this}}at.register("BBCodeText",function(i,t,n,m){var C=new f0(this.scene,i,t,n,m);return this.scene.add.existing(C),C});nt(window,"RexPlugins.UI.BBCodeText",f0);var NA={plainText:null,prevProp:null},VA=new o0;let zA=class{constructor(t){t===void 0&&(t={}),this.tags=t}addTag(t,n){this.tags[t]=n}getTag(t){return this.tags[t]}splitText(t,n){for(var m=[],C=0;;){var M=Ld.exec(t);if(!M)break;var h=M[0],y=Ld.lastIndex-h.length;if(C<y&&m.push(t.substring(C,y)),n===void 0)m.push(h);else if(n===1){if(x1.test(h)){var e=h.match(y1);m.push(e[2])}else if(T1.test(h)){var e=h.match(C1);m.push(e[2])}}C=Ld.lastIndex}var f=t.length;return C<f&&m.push(t.substring(C,f)),m}tagTextToProp(t,n){var m,C;if(x1.test(t)){var M=t.match(y1);if(M!=null){var h=M[1],y=this.tags;y.hasOwnProperty(h)?C=y[h]:C={},C._class=h,m=M[2]}}else if(T1.test(t)){var M=t.match(C1);if(M!=null){var e=M[1];C=kA(e),C._style=e,m=M[2]}}m==null&&(m=t),C==null&&(C={});var f=NA;return f.plainText=m,f.prop=C,f}propToContextStyle(t,n){var m=VA;if(n.hasOwnProperty("img"))m.image=n.img;else{if(m.image=null,n.hasOwnProperty("family")||n.hasOwnProperty("fontFamily")||n.hasOwnProperty("font-family")){var C=n.hasOwnProperty("family")?n.family:n.hasOwnProperty("fontFamily")?n.fontFamily:n["font-family"];m.fontFamily=C}else m.fontFamily=t.fontFamily;if(n.hasOwnProperty("size")||n.hasOwnProperty("fontSize")||n.hasOwnProperty("font-size")){var M=n.hasOwnProperty("size")?n.size:n.hasOwnProperty("fontSize")?n.fontSize:n["font-size"];typeof M=="number"&&(M=`${M}px`),m.fontSize=M}else m.fontSize=t.fontSize;if(n.hasOwnProperty("style")||n.hasOwnProperty("fontStyle")||n.hasOwnProperty("font-style")){var h=n.hasOwnProperty("style")?n.style:n.hasOwnProperty("fontStyle")?n.fontStyle:n["font-style"];m.fontStyle=h}else m.fontStyle=t.fontStyle;if(n.hasOwnProperty("color")||n.hasOwnProperty("font-color")){var y=n.hasOwnProperty("color")?n.color:n["font-color"];m.color=y}else m.color=t.color;if(n.hasOwnProperty("stroke")){var e=n.stroke;m.stroke=e.hasOwnProperty("color")?e.color:t.stroke,m.strokeThickness=e.hasOwnProperty("thickness")?e.thickness:t.strokeThickness}else m.stroke=t.stroke,m.strokeThickness=t.strokeThickness}if(n.hasOwnProperty("shadow")){var f=n.shadow;m.shadowColor=f.hasOwnProperty("color")?f.color:t.shadowColor,m.shadowOffsetX=f.hasOwnProperty("offsetX")?f.offsetX:t.shadowOffsetX,m.shadowOffsetY=f.hasOwnProperty("offsetY")?f.offsetY:t.shadowOffsetY,m.shadowBlur=f.hasOwnProperty("blur")?f.blur:t.shadowBlur,m.shadowStroke=!0,m.shadowFill=!0}else m.shadowColor=t.shadowColor,m.shadowOffsetX=t.shadowOffsetX,m.shadowOffsetY=t.shadowOffsetY,m.shadowBlur=t.shadowBlur,m.shadowStroke=t.shadowStroke,m.shadowFill=t.shadowFill;if(n.hasOwnProperty("u")||n.hasOwnProperty("underline")){var c=n.hasOwnProperty("u")?n.u:n.underline;m.underlineColor=c.hasOwnProperty("color")?c.color:t.underlineColor,m.underlineThickness=c.hasOwnProperty("thickness")?c.thickness:t.underlineThickness,m.underlineOffset=c.hasOwnProperty("offset")?c.offset:t.underlineOffset}else m.underlineColor=t.underlineColor,m.underlineThickness=t.underlineThickness,m.underlineOffset=t.underlineOffset;if(n.hasOwnProperty("s")||n.hasOwnProperty("strikethrough")){var s=n.hasOwnProperty("s")?n.s:n.strikethrough;m.strikethroughColor=s.hasOwnProperty("color")?s.color:t.strikethroughColor,m.strikethroughThickness=s.hasOwnProperty("thickness")?s.thickness:t.strikethroughThickness,m.strikethroughOffset=s.hasOwnProperty("offset")?s.offset:t.strikethroughOffset}else m.strikethroughColor=t.strikethroughColor,m.strikethroughThickness=t.strikethroughThickness,m.strikethroughOffset=t.strikethroughOffset;return m}getStrokeThinkness(t,n){var m;if(n.hasOwnProperty("stroke")){var C=n.stroke;m=C.hasOwnProperty("thickness")?C.thickness:t.strokeThickness}else m=t.strokeThickness;return m}propToTagText(t,n,m){return n.hasOwnProperty("_class")?t===""&&this.isTextTag(n._class)?"":`<class='${n._class}'>${t}</class>`:n.hasOwnProperty("_style")?`<style='${n._style}'>${t}</style>`:t}destroy(){this.tags=void 0}isTextTag(t){var n=this.tags[t];return n?n.img==null:!1}};var kA=function(i){i=i.split(";");for(var t={},n,m,C,M=0,h=i.length;M<h;M++)if(n=i[M].split(":"),m=n[0],C=n[1],!(m1(m)||m1(C))){switch(m){case"stroke":var y=C.split(" "),e=y.length;C={},e>=1&&(C.color=y[0]),e>=2&&(C.thickness=parseInt(y[1].replace("px","")));break;case"shadow":var y=C.split(" "),e=y.length;C={},e>=1&&(C.color=y[0]),e>=2&&(C.offsetX=parseInt(y[1].replace("px",""))),e>=3&&(C.offsetY=parseInt(y[2].replace("px",""))),e>=4&&(C.blur=parseInt(y[3].replace("px","")));break;case"u":case"underline":case"s":case"strikethrough":var y=C.split(" "),e=y.length;C={},e>=1&&(C.color=y[0]),e>=2&&(C.thickness=parseInt(y[1].replace("px",""))),e>=3&&(C.offset=parseInt(y[2].replace("px",""))),m==="underline"?m="u":m==="strikethrough"&&(m="s");break;case"y":C=parseFloat(C);break}t[m]=C}return t},m1=function(i){return i=i.replace(UA,""),i.length===0},Ld=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>|<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/g,x1=/<\s*class=/i,y1=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>/,T1=/<\s*style=/i,C1=/<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/,UA=/^\s+|\s+$/;const XA=Phaser.Utils.Objects.GetValue;class JC extends u0{constructor(t,n,m,C,M){var h=XA(M,"tags",void 0),y=new zA(h);super(t,n,m,C,M,"rexTagText",y)}addTag(t,n){return this.parser.addTag(t,n),this.updateText(!0)}addTags(t){for(var n in t)this.parser.addTag(n,t[n]);return this.updateText(!0)}getTag(t){return this.parser.getTag(t)}preDestroy(){super.preDestroy(),this.parser.destroy(),this.parser=void 0}}at.register("tagText",function(i,t,n,m){var C=new JC(this.scene,i,t,n,m);return this.scene.add.existing(C),C});nt(window,"RexPlugins.UI.TagText",JC);const sl=Phaser.Utils.Objects.GetValue;var tu=function(i,t){return t===void 0?i:i[t]},mn=function(i,t,n){i===void 0&&(i={}),t===void 0&&(t=0);var m=typeof t;return m==="string"?i[t]=n:m==="number"?(i.left=t,i.right=t,i.top=t,i.bottom=t):(i.left=sl(t,"left",0),i.right=sl(t,"right",0),i.top=sl(t,"top",0),i.bottom=sl(t,"bottom",0)),i};let d0=class{constructor(t,n){this.setParent(t),this.type=n,this.renderable=!1,this.reset().setActive()}destroy(){this.parent.removeChild(this)}setParent(t){return this.parent=t,this}get scene(){return this.parent.scene}get canvas(){return this.parent?this.parent.canvas:null}get context(){return this.parent?this.parent.context:null}setDirty(t){return t&&this.parent&&(this.parent.dirty=!0),this}get active(){return this._active}set active(t){this.setDirty(this._active!=t),this._active=t}setActive(t){return t===void 0&&(t=!0),this.active=t,this}modifyPorperties(t){return this}onFree(){this.reset().setParent()}reset(){return this}render(){}contains(t,n){return!1}};Object.assign(d0.prototype,tf);const YA={renderContent(){},render(){if(!this.willRender)return this;var i=this.context;if(i.save(),i.globalAlpha=this.alpha,this.toLocalPosition){var t=this.drawX,n=this.drawY;this.autoRound&&(t=Math.round(t),n=Math.round(n)),i.translate(t,n),i.scale(this.scaleX,this.scaleY),i.rotate(this.rotation)}return this.drawBelowCallback&&this.drawBelowCallback(this),this.renderContent(),this.drawAboveCallback&&this.drawAboveCallback(this),i.restore(),this}},WA=Phaser.Math.RotateAround;var HA=function(i,t,n,m){return m===void 0?m={}:m===!0&&(Fd===void 0&&(Fd={}),m=Fd),m.x=(i-n.drawX)/n.scaleX,m.y=(t-n.drawY)/n.scaleY,n.rotation!==0&&WA(m,0,0,-n.rotation),m},Fd;const $A=Phaser.Geom.Rectangle;var KA=function(i,t){if(this.width===0||this.height===0)return!1;var n=HA(i,t,this,!0);return ZA(this).contains(n.x,n.y)},ZA=function(i){nl===void 0&&(nl=new $A);var t=i.drawTLX,n=i.drawTLY;return nl.setTo(t,n,i.drawTRX-t,i.drawBLY-n),nl},nl;const jA=Phaser.Math.RotateAround;var QC=function(i,t,n,m){return m===void 0?m={}:m===!0&&(Id===void 0&&(Id={}),m=Id),m.x=t,m.y=n,i.rotation!==0&&jA(m,0,0,i.rotation),m.x=m.x*i.scaleX+i.drawX,m.y=m.y*i.scaleY+i.drawY,m},Id;const S1=Phaser.GameObjects.Components.TransformMatrix;var JA=function(i,t,n,m){m===void 0?m={}:m===!0&&(m=QA);var C=t-i.width*i.originX,M=n-i.height*i.originY;return to===void 0&&(to=new S1,M1=new S1),i.parentContainer?i.getWorldTransformMatrix(to,M1):to.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),to.transformPoint(C,M,m),m},to,M1,QA={},qA=function(i,t,n,m,C){var M=QC(t,n,m,!0),h=JA(i,M.x,M.y,C);return h},qC=function(i,t,n,m,C){typeof n!="number"&&(C=n,n=0,m=0);var M=t.drawCenterX+n,h=t.drawCenterY+m;return qA(i,t,M,h,C)},_A=function(i,t,n){return qC(this.parent,this,i,t,n)},_C={contains:KA,getWorldPosition:_A};Object.assign(_C,YA);const t4=Phaser.Math.DegToRad,e4=Phaser.Math.RadToDeg,rl=Phaser.Utils.Objects.GetValue;class mr extends d0{constructor(t,n){super(t,n),this.renderable=!0,this.toLocalPosition=!0,this.originX=0,this.offsetX=0,this.offsetY=0}get visible(){return this._visible}set visible(t){this.setDirty(this._visible!=t),this._visible=t}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}get alpha(){return this._alpha}set alpha(t){this.setDirty(this._alpha!=t),this._alpha=t}setAlpha(t){return this.alpha=t,this}get x(){return this._x}set x(t){this.setDirty(this._x!=t),this._x=t}setX(t){return this.x=t,this}get y(){return this._y}set y(t){this.setDirty(this._y!=t),this._y=t}setY(t){return this.y=t,this}setPosition(t,n){return this.x=t,this.y=n,this}setInitialPosition(t,n){return this.x0=t,this.y0=n,this}get rotation(){return this._rotation}set rotation(t){this.setDirty(this._rotation!=t),this._rotation=t}setRotation(t){return this.rotation=t,this}get angle(){return e4(this._rotation)}set angle(t){this.rotation=t4(t)}setAngle(t){return this.angle=t,this}get scaleX(){return this._scaleX}set scaleX(t){this.setDirty(this._scaleX!==t),this._scaleX=t}setScaleX(t){return this.scaleX=t,this}get width(){return 0}set width(t){}setWidth(t,n){return n===void 0&&(n=!1),this.width=t,n&&(this.scaleY=this.scaleX),this}get leftSpace(){return this._leftSpace}set leftSpace(t){this.setDirty(this._leftSpace!==t),this._leftSpace=t}setLeftSpace(t){return this.leftSpace=t,this}get rightSpace(){return this._rightSpace}set rightSpace(t){this.setDirty(this._rightSpace!==t),this._rightSpace=t}setRightSpace(t){return this.rightSpace=t,this}get outerWidth(){return this.width+this.leftSpace+this.rightSpace}get scaleY(){return this._scaleY}set scaleY(t){this.setDirty(this._scaleY!==t),this._scaleY=t}setScaleY(t){return this.scaleY=t,this}get height(){return 0}set height(t){}setHeight(t,n){return n===void 0&&(n=!1),this.height=t,n&&(this.scaleX=this.scaleY),this}setScale(t,n){return n===void 0&&(n=t),this.scaleX=t,this.scaleY=n,this}setOrigin(t){return this.originX=t,this}setAlign(t){return this.align=t,this}modifyPorperties(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var n=rl(t,"width",void 0),m=rl(t,"height",void 0),C=rl(t,"scaleX",void 0),M=rl(t,"scaleY",void 0);return n!==void 0?m===void 0&&M===void 0?this.setWidth(n,!0):this.setWidth(n):C!==void 0&&this.setScaleX(C),m!==void 0?n===void 0&&C===void 0?this.setHeight(m,!0):this.setHeight(m):M!==void 0&&this.setScaleY(M),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),this}setDrawBelowCallback(t){return this.drawBelowCallback=t,this}setDrawAboveCallback(t){return this.drawAboveCallback=t,this}reset(){return this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setLeftSpace(0).setRightSpace(0).setOrigin(0).setAlign().setDrawBelowCallback().setDrawAboveCallback(),this}get willRender(){return this.visible&&this.alpha>0}get drawX(){return this.x+this.leftSpace+this.offsetX-this.originX*this.width}get drawY(){return this.y+this.offsetY}get drawTLX(){return 0}get drawTLY(){return 0}get drawBLX(){return 0}get drawBLY(){return 0}get drawTRX(){return 0}get drawTRY(){return 0}get drawBRX(){return 0}get drawBRY(){return 0}get drawCenterX(){return(this.drawTRX+this.drawTLX)/2}get drawCenterY(){return(this.drawBLY+this.drawTLY)/2}}Object.assign(mr.prototype,_C);var hn=function(i,t,n){return t.hasOwnProperty(i)?t[i]:n[i]};const zn=Phaser.Utils.Objects.GetValue;class i4 extends mr{constructor(t,n){super(t,"background"),this.setColor(zn(n,"color",null),zn(n,"color2",null),zn(n,"horizontalGradient",!0)),this.setStroke(zn(n,"stroke",null),zn(n,"strokeThickness",2)),this.setCornerRadius(zn(n,"cornerRadius",0),zn(n,"cornerIteration",null))}set color(t){t=xt(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=xt(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,n,m){return m===void 0&&(m=!0),this.color=t,this.color2=n,this.horizontalGradient=m,this}set stroke(t){t=xt(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,n){return t!=null&&n===void 0&&(n=2),this.stroke=t,this.strokeThickness=n,this}set cornerRadius(t){this.setDirty(this._cornerRadius!=t),this._cornerRadius=t}get cornerRadius(){return this._cornerRadius}set cornerIteration(t){this.setDirty(this._cornerIteration!=t),this._cornerIteration=t}get cornerIteration(){return this._cornerIteration}modifyStyle(t){return t.hasOwnProperty("color")&&this.setColor(t.color,hn("color2",t,this),hn("horizontalGradient",t,this)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,hn("strokeThickness",t,this)),t.hasOwnProperty("cornerRadius")&&this.setCornerRadius(t.cornerRadius,hn("cornerIteration",t,this)),this}modifyPorperties(t){return super.modifyPorperties(t),this.modifyStyle(t),this}setCornerRadius(t,n){return this.cornerRadius=t,this.cornerIteration=n,this}renderContent(){a0(this.parent,this.color,this.stroke,this.strokeThickness,this.cornerRadius,this.color2,this.horizontalGradient,this.cornerIteration)}}const Hs=Phaser.Utils.Objects.GetValue;class s4 extends mr{constructor(t,n){super(t,"innerbounds"),this.setColor(Hs(n,"color",null),Hs(n,"color2",null),Hs(n,"horizontalGradient",!0)),this.setStroke(Hs(n,"stroke",null),Hs(n,"strokeThickness",2))}set color(t){t=xt(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=xt(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,n,m){return m===void 0&&(m=!0),this.color=t,this.color2=n,this.horizontalGradient=m,this}set stroke(t){t=xt(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,n){return t!=null&&n===void 0&&(n=2),this.stroke=t,this.strokeThickness=n,this}modifyPorperties(t){super.modifyPorperties(t),t.hasOwnProperty("color")&&this.setColor(t.color,Hs(t,"color2",null),Hs(t,"horizontalGradient",!0)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,Hs(t,"strokeThickness",2))}renderContent(){var t=this.parent.padding,n=t.left,m=t.top,C=this.parent.width-t.left-t.right,M=this.parent.height-t.top-t.bottom,h=this.context;if(this.color!=null){var y;if(this.color2!=null){var e;this.horizontalGradient?e=h.createLinearGradient(0,0,C,0):e=h.createLinearGradient(0,0,0,M),e.addColorStop(0,this.color),e.addColorStop(1,this.color2),y=e}else y=this.color;h.fillStyle=y,h.fillRect(n,m,C,M)}this.stroke!=null&&this.strokeThickness>0&&(h.strokeStyle=this.stroke,h.lineWidth=this.strokeThickness,h.strokeRect(n,m,C,M))}}const oe=Phaser.Utils.Objects.GetValue;class nf{constructor(t,n){this.parent=t,this.set(n)}toJSON(){return{bold:this.bold,italic:this.italic,fontSize:this.fontSize,fontFamily:this.fontFamily,color:this.color,stroke:this.stroke,strokeThickness:this.strokeThickness,shaodwColor:this.shadowColor,shadowBlur:this.shadowBlur,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,offsetX:this.offsetX,offsetY:this.offsetY,leftSpace:this.leftSpace,rightSpace:this.rightSpace,backgroundHeight:this.backgroundHeight,backgroundBottomY:this.backgroundBottomY,align:this.align}}set(t){return this.setBold(oe(t,"bold",!1)),this.setItalic(oe(t,"italic",!1)),this.setFontSize(oe(t,"fontSize","16px")),this.setFontFamily(oe(t,"fontFamily","Courier")),this.setColor(oe(t,"color","#fff")),this.setStrokeStyle(oe(t,"stroke",null),oe(t,"strokeThickness",0)),this.setShadow(oe(t,"shadowColor",null),oe(t,"shadowOffsetX",0),oe(t,"shadowOffsetY",0),oe(t,"shadowBlur",0)),this.setOffset(oe(t,"offsetX",0),oe(t,"offsetY",0)),this.setSpace(oe(t,"leftSpace",0),oe(t,"rightSpace",0)),this.setAlign(oe(t,"align",void 0)),this.setBackgroundColor(oe(t,"backgroundColor",null)),this.setBackgroundHeight(oe(t,"backgroundHeight",void 0)),this.setBackgroundBottomY(oe(t,"backgroundBottomY",void 0)),this}modify(t){return t.hasOwnProperty("bold")&&this.setBold(t.bold),t.hasOwnProperty("italic")&&this.setItalic(t.italic),t.hasOwnProperty("fontSize")&&this.setFontSize(t.fontSize),t.hasOwnProperty("fontFamily")&&this.setFontFamily(t.fontFamily),t.hasOwnProperty("color")&&this.setColor(t.color),(t.hasOwnProperty("stroke")||t.hasOwnProperty("strokeThickness"))&&this.setStrokeStyle(hn("stroke",t,this),hn("strokeThickness",t,this)),t.hasOwnProperty("shadowColor")&&this.setShadowColor(t.shadowColor),(t.hasOwnProperty("shadowOffsetX")||t.hasOwnProperty("shadowOffsetY"))&&this.setShadowOffset(hn("shadowOffsetX",t,this),hn("shadowOffsetY",t,this)),t.hasOwnProperty("shadowBlur")&&this.setShadowBlur(t.shaodwBlur),t.hasOwnProperty("offsetX")&&this.setOffsetX(t.offsetX),t.hasOwnProperty("offsetY")&&this.setOffsetY(t.offsetY),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),t.hasOwnProperty("backgroundColor")&&this.setBackgroundColor(t.backgroundColor),t.hasOwnProperty("backgroundHeight")&&this.setBackgroundHeight(t.backgroundHeight),t.hasOwnProperty("backgroundBottomY")&&this.setBackgroundBottomY(t.backgroundBottomY),this}setUpdateTextFlag(){return this.parent&&(this.parent.updateTextFlag=!0),this}clone(){return new nf(null,this.toJSON())}copyFrom(t){return this.set(t.toJSON()),this}copyTo(t){return t.set(this.toJSON()),this}setBold(t){return t===void 0&&(t=!0),this.bold=t,this.setUpdateTextFlag(),this}setItalic(t){return t===void 0&&(t=!0),this.italic=t,this.setUpdateTextFlag(),this}get fontStyle(){return this.bold&&this.italic?"bold italic":this.bold?"bold":this.italic?"italic":""}setFontSize(t){return typeof t=="number"&&(t=`${t}px`),this.fontSize=t,this.setUpdateTextFlag(),this}setFontFamily(t){return this.fontFamily=t,this.setUpdateTextFlag(),this}get font(){return`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`}setColor(t){return this.color=xt(t),this}get hasFill(){return this.color!=null}setStrokeStyle(t,n){return this.stroke=xt(t),n!==void 0&&(this.strokeThickness=n),this}setStrokeThickness(t){return this.strokeThickness=t,this}get hasStroke(){return this.stroke!=null&&this.strokeThickness>0}setShadowColor(t){return this.shadowColor=xt(t),this}setShadowOffset(t,n){return t===void 0&&(t=0),n===void 0&&(n=0),this.shadowOffsetX=t,this.shadowOffsetY=n,this}setShadowBlur(t){return t===void 0&&(t=0),this.shaodwBlur=t,this}setShadow(t,n,m,C){return this.setShadowColor(t).setShadowOffset(n,m).setShadowBlur(C),this}setBackgroundColor(t){return this.backgroundColor=xt(t),this}get hasBackgroundColor(){return this.backgroundColor!=null}setBackgroundHeight(t){return this.backgroundHeight=t,this}setBackgroundBottomY(t){return this.backgroundBottomY=t,this}setOffsetX(t){return t===void 0&&(t=0),this.offsetX=t,this}setOffsetY(t){return t===void 0&&(t=0),this.offsetY=t,this}setOffset(t,n){return this.setOffsetX(t).setOffsetY(n),this}setLeftSpace(t){return t===void 0&&(t=0),this.leftSpace=t,this}setRightSpace(t){return t===void 0&&(t=0),this.rightSpace=t,this}setSpace(t,n){return this.setLeftSpace(t).setRightSpace(n),this}setAlign(t){return this.align=t,this}syncFont(t){return t.font=this.font,this}syncStyle(t){t.textBaseline="alphabetic";var n=this.hasFill,m=this.hasStroke;return t.fillStyle=n?this.color:"#000",t.strokeStyle=m?this.stroke:"#000",t.lineWidth=m?this.strokeThickness:0,t.lineCap="round",t.lineJoin="round",this}syncShadow(t){t.shadowColor!=null?(t.shadowColor=this.shadowColor,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowBlur=this.shadowBlur):(t.shadowColor=0,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0)}getTextMetrics(t,n){return this.syncFont(t).syncStyle(t),t.measureText(n)}}var n4=function(i,t){i===void 0&&(i=0),t===void 0&&(t=0);var n=this.fixedWidth!==i||this.fixedHeight!==t;return n?(this.fixedWidth=i,this.fixedHeight=t,this.dirty=!0,this.setCanvasSize(i>0?i:this.width,t>0?t:this.height),this):this},r4=function(i,t){var n=this.padding,m=n.left,C=n.right,M=n.top,h=n.bottom;return mn(n,i,t),this.dirty=this.dirty||m!=n.left||C!=n.right||M!=n.top||h!=n.bottom,this},a4=function(i){return tu(this.padding,i)},o4=function(i){return this.textStyle.modify(i),this},h4=function(i){return this.defaultTextStyle.modify(i),this},l4=function(){return this.textStyle.copyFrom(this.defaultTextStyle),this},u4=function(i){return this.testString=i,this};const f4=Phaser.Utils.Array.Remove;var d4=function(i){return this.poolManager.free(i),f4(this.children,i),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},c4=function(){return this.poolManager.freeMultiple(this.children),this.children.length=0,this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this};const v4=Phaser.Utils.Array.Remove;var p4=function(i){return v4(this.children,i),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},g4=function(){return this.setText(),this},tS=function(i,t){var n=Array.isArray(i);return t===void 0||t===this.children.length?n?this.children.push(...i):this.children.push(i):n?this.children.splice(t,0,...i):this.children.splice(t,0,i),this.lastAppendedChildren.length=0,n?this.lastAppendedChildren.push(...i):this.lastAppendedChildren.push(i),this};const wn="text",eS="image",iS="drawer",sS="space",c0="command";var nS=function(i){return i.type===wn&&i.text===`
`},rS=function(i){return i.type===wn&&i.text==="\f"},m4=function(i){return i.type===wn&&i.text===" "},La=function(i){return i.type===wn},x4=function(i){return i.type===c0};class aS extends mr{constructor(t,n,m){super(t,wn),this.updateTextFlag=!1,this.style=new nf(this,m),this.setText(n)}get autoRound(){return this.parent.autoRound}get offsetX(){return this.style.offsetX}set offsetX(t){this.style&&(this.style.offsetX=t)}get offsetY(){return this.style.offsetY}set offsetY(t){this.style&&(this.style.offsetY=t)}get leftSpace(){return this.style.leftSpace*this.scaleX}set leftSpace(t){this.style&&(this.style.leftSpace=t),super.leftSpace=t}get rightSpace(){return this.style.rightSpace*this.scaleX}set rightSpace(t){this.style&&(this.style.rightSpace=t),super.rightSpace=t}get align(){return this.style.align}set align(t){this.style&&(this.style.align=t)}modifyStyle(t){return this.setDirty(!0),this.style.modify(t),this.updateTextFlag&&this.updateTextSize(),this}modifyPorperties(t){return t?(this.modifyStyle(t),super.modifyPorperties(t),this):this}setText(t){return this.setDirty(this.text!=t),this.text=t,this.updateTextSize(),this}updateTextSize(){var t=this.text;if(t===`
`||t==="\f"||t==="")this.textWidth=0,this.textHeight=0,this.ascent=0,this.descent=0;else{var n=this.style.getTextMetrics(this.context,this.text);this.textWidth=n.width;var m,C;"actualBoundingBoxAscent"in n?(m=n.actualBoundingBoxAscent,C=n.actualBoundingBoxDescent):(m=0,C=0),this.textHeight=m+C,this.ascent=m,this.descent=C}return this.updateTextFlag=!1,this}get width(){return this.textWidth*this.scaleX}set width(t){this.textWidth>0?this.scaleX=t/this.textWidth:this.scaleX=1}get height(){return this.textHeight*this.scaleY}set height(t){this.textHeight>0?this.scaleY=t/this.textHeight:this.scaleY=1}get willRender(){var t=this.text;return t===`
`||t==="\f"?!1:super.willRender}renderContent(){var t=this.context,n=this.style;if(n.hasBackgroundColor){t.fillStyle=n.backgroundColor;var m=this.drawTLX,C=this.drawTRX-m,M=n.backgroundBottomY;M==null&&(M=this.drawBLY);var h=n.backgroundHeight;h==null&&(h=M-this.drawTLY);var y=M-h;t.fillRect(m,y,C,h)}var e=n.hasFill,f=n.hasStroke;!e&&!f||(n.syncFont(t).syncStyle(t),f&&(n.syncShadow(t),t.strokeText(this.text,0,0)),e&&(n.syncShadow(t),t.fillText(this.text,0,0)))}get drawTLX(){return-this.leftSpace}get drawTLY(){return-this.ascent}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.descent}get drawTRX(){return this.textWidth+this.rightSpace}get drawTRY(){return-this.ascent}get drawBRX(){return this.textWidth+this.rightSpace}get drawBRY(){return this.descent}}var y4=function(i,t){t&&this.textStyle.modify(t);var n=this.poolManager.allocate(wn);return n===null?n=new aS(this,i,this.textStyle):n.setParent(this).setActive().modifyStyle(this.textStyle).setText(i),n},T4=function(i,t){t&&this.textStyle.modify(t);for(var n=[],m=0,C=i.length;m<C;m++){var M=i.charAt(m),h=this.poolManager.allocate(wn);h===null?h=new aS(this,M,this.textStyle):h.setParent(this).setActive().modifyStyle(this.textStyle).setText(M),n.push(h)}return n},ph=function(i,t){var n=this.createCharChildren(i,t);return this.addChild(n),this},C4=function(i,t){return i===void 0&&(i=""),this.removeChildren(),ph.call(this,i,t),this.dirty=!0,this},S4=function(i,t,n){var m=this.createCharChildren(t,n);return i=this.getCharChildIndex(i,!0),this.addChild(m,i),this},M4=function(i,t){t===void 0&&(t=1);for(var n=0;n<t;n++){var m=this.getCharChildIndex(i,!0);if(m===void 0)break;this.removeChild(this.children[m])}return this},E4=function(i){var t="";return this.forEachCharChild(function(n){t+=n.text},void 0,i),t};class P4 extends mr{constructor(t,n,m){super(t,eS),this.setTexture(n,m)}get frameWidth(){return this.frameObj?this.frameObj.cutWidth:0}get frameHeight(){return this.frameObj?this.frameObj.cutHeight:0}get offsetY(){return-this.height}set offsetY(t){}get key(){return this._key}set key(t){this.setDirty(this._key!=t),this._key=t}get frame(){return this._frame}set frame(t){this.setDirty(this._frame!=t),this._frame=t}setTexture(t,n){return this.key=t,this.frame=n,this.frameObj=this.scene.sys.textures.getFrame(t,n),this}get width(){return this.frameWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=t/this.frameWidth}get height(){return this.frameHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=t/this.frameHeight}setHeight(t,n){return n===void 0&&(n=!1),this.height=t,n&&(this.scaleX=this.scaleY),this}renderContent(){var t=this.context,n=this.frameObj,m=this.frameWidth,C=this.frameHeight;t.drawImage(n.source.image,n.cutX,n.cutY,m,C,0,0,m,C)}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.frameHeight}get drawTRX(){return this.frameWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.frameWidth+this.rightSpace}get drawBRY(){return this.frameHeight}}var R4=function(i,t,n){var m=this.poolManager.allocate(eS);return m===null?m=new P4(this,i,t):m.setParent(this).setActive().setTexture(i,t),m.modifyPorperties(n),m},oS=function(i,t,n){var m=this.createImageChild(i,t,n);return this.addChild(m),this};class A4 extends mr{constructor(t,n,m,C){super(t,iS),this.setRenderCallback(n),this.setDrawerSize(m,C)}setRenderCallback(t){return t?this.renderContent=t.bind(this):delete this.renderContent,this}setDrawerSize(t,n){return t===!0?(this.toLocalPosition=!1,t=void 0,n=void 0):this.toLocalPosition=!0,t===void 0&&(t=0),n===void 0&&(n=t),this.drawerWidth=t,this.drawerHeight=n,this}onFree(){super.onFree(),this.setRenderCallback()}get width(){return this.drawerWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=this.drawerWidth>0?t/this.drawerWidth:1}get height(){return this.drawerHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=this.drawerHeight>0?t/this.drawerHeight:1}get offsetY(){return-this.height}set offsetY(t){}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.drawerHeight}get drawTRX(){return this.drawerWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.drawerWidth+this.rightSpace}get drawBRY(){return this.drawerHeight}}var w4=function(i,t,n){var m=this.poolManager.allocate(iS);return m===null?m=new A4(this,i,t,n):m.setParent(this).setActive().setRenderCallback(i).setDrawerSize(t,n),m},O4=function(i,t,n){var m=this.createDrawerChild(i,t,n);return this.addChild(m),this};let L4=class extends mr{constructor(t,n){super(t,sS),this.setSpaceWidth(n)}get width(){return this.spaceWidth*this.scaleX}set width(t){this.spaceWidth>0?this.scaleX=t/this.spaceWidth:this.scaleX=1}setSpaceWidth(t){return this.spaceWidth=t,this}};var F4=function(i){var t=this.poolManager.allocate(sS);return t===null?t=new L4(this,i):t.setParent(this).setActive().setSpaceWidth(i),t},hS=function(i){var t=this.createSpaceChild(i);return this.addChild(t),this};class I4 extends d0{constructor(t,n,m,C,M){super(t,c0),this.setName(n).setParameter(C).setCallback(m,M)}setName(t){return this.name=t,this}setParameter(t){return this.param=t,this}setCallback(t,n){return this.callback=t,this.scope=n,this}exec(){var t;return this.scope?t=this.callback.call(this.scope,this.param,this.name):t=this.callback(this.param,this.name),t}onFree(){super.onFree(),this.setName().setCallback().setParameter()}}var D4=function(i,t,n,m){var C=this.poolManager.allocate(c0);return C===null?C=new I4(this,i,t,n,m):C.setParent(this).setActive().setName(i).setCallback(t,m).setParameter(n),C},pt=function(i,t,n,m){var C=this.createCommandChild(i,t,n,m);return this.addChild(C),this},B4=function(i){return i===void 0?i={}:typeof i=="object"&&(i=wi(i)),this.wrapConfig=i,this},b4=function(i,t,n,m){m===void 0&&(m={word:[],width:0}),m.word.length=0;for(var C=i.length,M=t,h=m.word,y=0;M<C;){var e=i[M];if(!e.renderable){h.push(e),M++;continue}var f=e.type===wn?e.text:null;if(f!==null&&f!==" "&&f!==`
`&&f!=="\f")h.push(e),y+=e.outerWidth,M++;else{M===t&&(h.push(e),y+=e.outerWidth);break}if(n)break}return m.width=y,m},lS=function(i){for(var t=0,n=i.length;t<n;t++){var m=i[t];if(m.align!==void 0)return m.align}},uS=function(i,t,n){if(!(t===0&&n===0))for(var m=0,C=i.length;m<C;m++){var M=i[m];M.renderable&&(M.x+=t,M.y+=n)}},G4=function(i,t,n){var m=i.hAlign,C=i.vAlign,M,h,y=i.linesHeight;switch(C){case 1:case"center":h=(n-y)/2;break;case 2:case"bottom":h=n-y;break;default:h=0;break}for(var e=i.lines,f=0,c=e.length;f<c;f++){var s=e[f],a=s.width,r=s.children,o=lS(r);switch(o===void 0&&(o=m),o){case 1:case"center":M=(t-a)/2;break;case 2:case"right":M=t-a;break;default:M=0;break}uS(r,M,h)}},E1=function(){var i=this.defaultTextStyle.getTextMetrics(this.context,this.testString),t,n;return"actualBoundingBoxAscent"in i?(t=i.actualBoundingBoxAscent,n=i.actualBoundingBoxDescent):(t=0,n=0),al.ascent=t,al.descent=n,al.height=t+n,al},al={};const ti=Phaser.Utils.Objects.GetValue;var N4=function(i){var t=ti(i,"start",0);mn(this.wrapPadding,ti(i,"padding",0));var n=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,m=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,C=ti(i,"lineHeight"),M=ti(i,"ascent",C),h;if(C===void 0){var y=ti(i,"useDefaultTextHeight",!1);if(h=ti(i,"maxLines",0),this.fixedHeight>0&&!y){var W=this.fixedHeight-n;if(h>0)C=W/h;else{var e=E1.call(this);C=e.height,M=e.ascent,h=Math.floor((W-M)/C)}}else{var e=E1.call(this);C=e.height,M=e.ascent}}else if(this.fixedHeight>0){if(h=ti(i,"maxLines"),h===void 0){var W=this.fixedHeight-n;h=Math.floor(W/C)}}else h=ti(i,"maxLines",0);M===void 0&&(M=C);var f=h===0,c=ti(i,"wrapWidth",void 0);c===void 0&&(this.fixedWidth>0?c=this.fixedWidth-m:c=1/0);for(var s=ti(i,"letterSpacing",0),a=ti(i,"hAlign",0),r=ti(i,"vAlign",0),o=ti(i,"charWrap",!1),l={callback:"runWordWrap",start:t,isLastPage:!1,padding:this.wrapPadding,ascent:M,lineHeight:C,maxLines:h,wrapWidth:c,letterSpacing:s,hAlign:a,vAlign:r,charWrap:o,children:[],lines:[],maxLineWidth:0,linesHeight:0},v=this.children,u=0,d=v.length;u<d;u++)v[u].setActive(!1);c+=s;for(var p=this.padding.left+this.wrapPadding.left,g=this.padding.top+this.wrapPadding.top+M,x=p,T=g,S=c,P=t,E=v.length,R=l.children,A=l.lines,w=[],O=0,L=0,F,I=!1;P<E;){F=b4(v,P,o,F);var b=F.word,G=b.length,N=F.width+G*s;P+=G;var U=nS(b[0]);I=rS(b[0]);var Y=U||I;if(S<N||Y){if(Y){var X=b[0];X.setActive().setPosition(x,T),R.push(X),w.push(X)}x=p,T+=C,S=c,A.push({children:w,width:O}),L=Math.max(L,O),O=0,w=[];var B=I||!f&&A.length===h;if(B)break;if(Y)continue}S-=N,O+=N;for(var u=0,d=b.length;u<d;u++){var z=b[u];z.setActive(),R.push(z),w.push(z),z.renderable&&(z.setPosition(x,T),x+=z.outerWidth+s)}}w.length>0&&(A.push({children:w,width:O}),L=Math.max(L,O)),l.start+=R.length,l.isLastPage=!I&&l.start===E,l.maxLineWidth=L,l.linesHeight=A.length*C;var D=this.fixedWidth>0?this.fixedWidth:l.maxLineWidth+m,V=this.fixedHeight>0?this.fixedHeight:l.linesHeight+n,k=D-m,W=V-n;G4(l,k,W),this.setCanvasSize(D,V);for(var u=0,d=R.length;u<d;u++){var z=R[u];z.renderable&&(z.x0=z.x,z.y0=z.y)}return l};const V4=Phaser.Utils.Objects.Merge;var z4=function(i){return i===void 0&&(i={}),N4.call(this,V4(i,this.wrapConfig))},k4=function(i,t,n){var m=i.hAlign,C=i.vAlign,M,h,y=i.rtl,e=i.lines,f=i.lineWidth,c=i.linesWidth;switch(m){case 1:case"center":M=(t-c)/2;break;case 2:case"right":M=t-c;break;default:M=0;break}y&&(M+=f);for(var s=0,a=e.length;s<a;s++){var r=e[y?a-s-1:s],o=r.children,l=r.height,v=lS(o);switch(v===void 0&&(v=C),v){case 1:case"center":h=(n-l)/2;break;case 2:case"bottom":h=n-l;break;default:h=0;break}uS(o,M,h),M+=f}};const ei=Phaser.Utils.Objects.GetValue;var U4=function(i){var t=ei(i,"start",0);mn(this.wrapPadding,ei(i,"padding",0));var n=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,m=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,C=ei(i,"lineWidth",void 0),M;if(C===void 0)if(M=ei(i,"maxLines",0),this.fixedWidth>0){var X=this.fixedWidth-m;C=X/M}else C=0;else if(this.fixedWidth>0){if(M=ei(i,"maxLines",void 0),M===void 0){var X=this.fixedWidth-m;M=Math.floor(X/C)+1}}else M=ei(i,"maxLines",0);var h=M===0,y=ei(i,"fixedChildHeight",void 0);if(y===void 0){var e=ei(i,"charPerLine",void 0);if(e!==void 0){var B=this.fixedHeight-n;y=Math.floor(B/e)}}var f=ei(i,"wrapHeight",void 0);f===void 0&&(this.fixedHeight>0?f=this.fixedHeight-n:f=1/0);for(var c=ei(i,"letterSpacing",0),s=ei(i,"rtl",!0),a=ei(i,"hAlign",s?2:0),r=ei(i,"vAlign",0),o={callback:"runVerticalWrap",start:t,isLastPage:!1,padding:this.wrapPadding,lineWidth:C,maxLines:M,fixedChildHeight:y,wrapHeight:f,letterSpacing:c,hAlign:a,vAlign:r,rtl:s,children:[],lines:[],maxLineHeight:0,linesWidth:0},l=this.children,v=0,u=l.length;v<u;v++)l[v].setActive(!1);f+=c;for(var d=this.padding.left+this.wrapPadding.left,p=this.padding.top+this.wrapPadding.top,g=d,x=p,T=f,S=t,P=l.length,E=o.children,R=o.lines,A=[],w=0,O=0;S<P;){var L=l[S];if(S++,!L.renderable){L.setActive(),E.push(L),A.push(L);continue}var F=(y!==void 0?y:L.height)+c,I=nS(L),b=rS(L),G=I||b;if(T<F||G){I&&(L.setActive().setPosition(g,x).setOrigin(.5),E.push(L),A.push(L)),g=d,x=p,T=f,R.push({children:A,height:w}),O=Math.max(O,w),w=0,A=[];var N=b||!h&&R.length===M;if(N)break;if(G)continue}T-=F,w+=F,L.setActive().setPosition(g,x).setOrigin(.5),E.push(L),A.push(L),x+=F}A.length>0&&(R.push({children:A,height:w}),O=Math.max(O,w)),o.start+=E.length,o.isLastPage=o.start===P,o.maxLineHeight=O,o.linesWidth=R.length*C;var U=this.fixedWidth>0?this.fixedWidth:o.linesWidth+m,Y=this.fixedHeight>0?this.fixedHeight:o.maxLineHeight+n,X=U-m,B=Y-n;k4(o,X,B),this.setCanvasSize(U,Y);for(var v=0,u=E.length;v<u;v++){var L=E[v];L.renderable&&(L.x0=L.x,L.y0=L.y)}return o};const X4=Phaser.Utils.Objects.Merge;var Y4=function(i){return i===void 0&&(i={}),U4.call(this,X4(i,this.wrapConfig))};const P1=Phaser.Utils.Objects.GetValue;var W4=function(i){var t=P1(this.wrapConfig,"callback");return t||(t=P1(i,"callback",this.runWordWrap)),typeof t=="string"&&(t=this[t]),t.call(this,i)};const H4={setVAlign(i){return this.wrapConfig.vAlign=i,this},setHAlign(i){return this.wrapConfig.hAlign=i,this}};var $4=function(){this.clear(),this.setCanvasSize(this.width,this.height),this.background.active&&this.background.render();for(var i,t=0,n=this.children.length;t<n;t++)i=this.children[t],i.active&&i.render();this.innerBounds.active&&this.innerBounds.render()},K4=function(i,t,n){n===void 0&&(n=!0);for(var m=this.children,C=0,M=0,h=m.length;M<h;M++){var y=m[M];if(!(n&&!y.active)){var e;if(t?e=i.call(this,y,C,m):e=i(y,C,m),C++,e)break}}return this},Z4=function(i,t,n){n===void 0&&(n=!0);for(var m=this.children,C=0,M=0,h=m.length;M<h;M++){var y=m[M];if(!(n&&!y.active)&&y.renderable&&!y.removed){var e;if(t?e=i.call(this,y,C,m):e=i(y,C,m),C++,e)break}}return this},j4=function(i,t,n){n===void 0&&(n=!0);for(var m=this.children,C=0,M=0,h=m.length;M<h;M++){var y=m[M];if(!(n&&!y.active)&&La(y)&&!y.removed){var e;if(t?e=i.call(this,y,C,m):e=i(y,C,m),C++,e)break}}return this},J4=function(){return this.children};const Q4=Phaser.Utils.Array.GetAll;var q4=function(){return Q4(this.children,"active",!0)},_4=function(i,t){return t===void 0&&(t=[]),this.forEachCharChild(function(n){t.push(n)},void 0,i),t},tw=function(){return this.lastAppendedChildren},ew=function(i,t,n,m){typeof t!="number"&&(m=t,t=0,n=0);var C=i.drawCenterX+t,M=i.drawCenterY+n;return QC(i,C,M,m)};const iw=Phaser.Math.Distance.BetweenPointsSquared;var sw=function(i,t){var n={x:i,y:t},m=1/0,C=null;return this.forEachRenderableChild(function(M){var h=iw(n,ew(M,!0));m>h&&(m=h,C=M)}),C},nw=function(i,t,n,m){return typeof i=="number"&&(i=this.getCharChild(i,!0)),qC(this,i,t,n,m)},rw=function(){for(var i=this.children,t=0,n=0,m=0,C=i.length;m<C;m++){var M=i[m];if(!(!M.renderable||!M.active||!M.visible)){var h=M.x0!==void 0?M.x0:M.x,y=M.y0!==void 0?M.y0:M.y;t=Math.max(t,h),n=Math.max(n,y)}}var e=t+this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,f=n+this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom;return(this.width!==e||this.height!==f)&&(this.dirty=!0,this.setCanvasSize(e,f)),this},aw=function(i,t){t===void 0&&(t=!0);for(var n=this.children,m=0,C=n.length;m<C;m++){var M=n[m];if(!(t&&!M.active)&&La(M)&&!M.removed){if(i===0)return m;i--}}},ow=function(i,t){t===void 0&&(t=!0);for(var n=this.children,m=0,C=n.length;m<C;m++){var M=n[m];if(!(t&&!M.active)&&La(M)&&!M.removed){if(i===0)return M;i--}}},hw=function(i,t){if(typeof i!="number"&&(i=this.children.indexOf(i),i<0))return null;t===void 0&&(t=!0);var n=this.children;i>=n.length&&(i=n.length);for(var m=0,C=0;C<i;C++){var M=n[C];t&&!M.active||La(M)&&!M.removed&&m++}return m},lw=function(i){return i===void 0&&(i=!0),this.childrenInteractiveEnable!==i&&(this.lastOverChild=null),this.childrenInteractiveEnable=i,this},v0=function(m,t,n){for(var m=m,C=0,M=m.length;C<M;C++){var h=m[C];if(!(!h.active||!h.renderable)&&h.contains(t,n))return h}return null},uw=function(){return this.on("pointerdown",fw,this).on("pointerdown",dw,this).on("pointermove",Dd,this).on("pointerover",Dd,this).on("pointerout",function(i,t){Dd.call(this,i,null,null,t)},this),this},fw=function(i,t,n,m){if(this.childrenInteractiveEnable){var C=v0(this.children,t,n);C&&this.emit("child.pointerdown",C,i,t,n,m)}},dw=function(i,t,n,m){if(this.childrenInteractiveEnable){var C=v0(this.children,t,n);C&&this.emit("child.pointerup",C,i,t,n,m)}},Dd=function(i,t,n,m){if(this.childrenInteractiveEnable){if(t===null){this.lastOverChild!==null&&(this.emit("child.pointerout",this.lastOverChild,i,t,n,m),this.lastOverChild=null);return}var C=v0(this.children,t,n);C!==this.lastOverChild&&(this.lastOverChild!==null&&this.emit("child.pointerout",this.lastOverChild,i,t,n,m),C!==null&&this.emit("child.pointerover",C,i,t,n,m),this.lastOverChild=C)}};const cw=Phaser.GameObjects.GameObject;var vw=function(i,t,n){var m=!!this.input;return cw.prototype.setInteractive.call(this,i,t,n),m||uw.call(this),this};const pw=Phaser.Utils.Array.BringToTop,gw=Phaser.Utils.Array.SendToBack,mw=Phaser.Utils.Array.MoveUp,xw=Phaser.Utils.Array.MoveDown,yw=Phaser.Utils.Array.MoveAbove,Tw=Phaser.Utils.Array.MoveBelow,Cw={moveChildToFist(i){return gw(this.children,i),this},moveChildToLast(i){return pw(this.children,i),this},movechildUp(i){return mw(this.children,i),this},movechildDown(i){return xw(this.children,i),this},movechildAbove(i,t){return yw(this.children,i,t),this},movechildBelow(i,t){return Tw(this.children,i,t),this}},Sw={setBackgroundColor(i,t,n){return this.background.setColor(i,t,n),this},setBackgroundStroke(i,t){return this.background.setStroke(i,t),this},setBackgroundCornerRadius(i,t){return this.background.setCornerRadius(i,t),this}},Mw={setInnerBoundsColor(i,t,n){return this.innerBounds.setColor(i,t,n),this},setInnerBoundsStroke(i,t){return this.innerBounds.setStroke(i,t),this}};var fS={setFixedSize:n4,setPadding:r4,getPadding:a4,modifyTextStyle:o4,modifyDefaultTextStyle:h4,resetTextStyle:l4,setTestString:u4,removeChild:d4,removeChildren:c4,popChild:p4,clearContent:g4,addChild:tS,createCharChild:y4,createCharChildren:T4,setText:C4,appendText:ph,insertText:S4,removeText:M4,getText:E4,createImageChild:R4,appendImage:oS,createDrawerChild:w4,appendDrawer:O4,createSpaceChild:F4,appendSpace:hS,createCommandChild:D4,appendCommand:pt,setWrapConfig:B4,runWordWrap:z4,runVerticalWrap:Y4,runWrap:W4,renderContent:$4,forEachChild:K4,forEachRenderableChild:Z4,forEachCharChild:j4,getChildren:J4,getActiveChildren:q4,getCharChildren:_4,getLastAppendedChildren:tw,getNearestChild:sw,getCharWorldPosition:nw,setToMinSize:rw,getCharChildIndex:aw,getCharChild:ow,getCharIndex:hw,setChildrenInteractiveEnable:lw,setInteractive:vw};Object.assign(fS,Cw,Sw,Mw,H4);const Ew=Phaser.Utils.Objects.GetFastValue;var Pw={};class Rw{constructor(t){this.pools=Ew(t,"pools",Pw)}free(t){if(!this.pools)return this;var n=t.type;return this.pools.hasOwnProperty(n)||(this.pools[n]=new fs),this.pools[n].push(t),t.onFree(),this}freeMultiple(t){if(!this.pools)return this;for(var n=0,m=t.length;n<m;n++)this.free(t[n]);return this}allocate(t){return!this.pools||!this.pools.hasOwnProperty(t)?null:this.pools[t].pop()}}const R1=Phaser.Utils.Objects.IsPlainObject,Xe=Phaser.Utils.Objects.GetValue;class Ga extends An{constructor(t,n,m,C,M,h){R1(n)?(h=n,n=Xe(h,"x",0),m=Xe(h,"y",0),C=Xe(h,"width",0),M=Xe(h,"height",0)):R1(C)&&(h=C,C=Xe(h,"width",0),M=Xe(h,"height",0));var y=C===0?1:C,e=M===0?1:M;super(t,n,m,y,e),this.type="rexDynamicText",this.autoRound=!0,this.padding=mn(),this.wrapPadding=mn();var f=Xe(h,"style",void 0);this.defaultTextStyle=new nf(null,f),this.textStyle=this.defaultTextStyle.clone(),this.setTestString(Xe(h,"testString","|MÉqgy")),this.background=new i4(this,Xe(h,"background",void 0)),this.innerBounds=new s4(this,Xe(h,"innerBounds",void 0)),this.children=[],this.lastAppendedChildren=[],this.lastOverChild=null,this.poolManager=new Rw(h),this.setFixedSize(C,M),this.setPadding(Xe(h,"padding",0)),this.setWrapConfig(Xe(h,"wrap",void 0)),this.setChildrenInteractiveEnable(Xe(h,"childrenInteractive",!1));var c=Xe(h,"text",void 0);c&&this.setText(c)}updateTexture(){return this.renderContent(),super.updateTexture(),this}get text(){return this.getText(!0)}set text(t){this.setText(t)}setSize(t,n){return this.setFixedSize(t,n),this}}Object.assign(Ga.prototype,fS);at.register("dynamicText",function(i,t,n,m,C){var M=new Ga(this.scene,i,t,n,m,C);return this.scene.add.existing(M),M});nt(window,"RexPlugins.UI.DynamicText",Ga);const Na={setEventEmitter(i,t){return t===void 0&&(t=Phaser.Events.EventEmitter),this._privateEE=i===!0||i===void 0,this._eventEmitter=this._privateEE?new t:i,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(i){return this._eventEmitter&&i&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames:function(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}},Aw={hasProperty(i){var t=this.gameObject;if(t.hasOwnProperty(i))return!0;var n=t[i];return n!==void 0},getProperty(i){return this.gameObject[i]},setProperty(i,t){return this.gameObject[i]=t,this},easeProperty(i,t,n,m,C,M,h){var y=this.tweens,e=y[i];e&&e.remove();var f=this.gameObject,c={targets:f,duration:n,ease:m,repeat:C,yoyo:M,onComplete:function(){y[i].remove(),y[i]=null,h&&h(f,i)},onCompleteScope:this};return c[i]=t,e=this.scene.tweens.add(c),e.timeScale=this.timeScale,y[i]=e,this}},ww={hasMethod(i){return typeof this.gameObject[i]=="function"},call(i,...t){if(!this.hasMethod(i))return this;var n=this.gameObject;return n[i].apply(n,t),this}},Ow={hasData(i){var t=this.gameObject;return t.data?t.data.has(i):!1},getData(i){return this.gameObject.getData(i)},setData(i,t){return this.gameObject.setData(i,t),this}};class p0{constructor(t,n,m){this.GOManager=t,this.tweens={},this.setGO(n,m)}get scene(){return this.GOManager.scene}get timeScale(){return this.GOManager.timeScale}destroy(){this.freeGO(),this.GOManager=void 0}freeTweens(){var t=this.tweens,n;for(var m in t)n=t[m],n&&n.remove(),t[m]=null;return this}freeGO(){return this.freeTweens(),this.gameObject.destroy(),this.gameObject=void 0,this}setGO(t,n){return t.setName(n),this.gameObject=t,this.name=n,this.freeTweens(),this}setTimeScale(t){var n=this.tweens;for(var m in n){var C=n[m];C&&(C.timeScale=t)}return this}}Object.assign(p0.prototype,Aw,ww,Ow);var g0=function(i){for(var t in i)return!1;return!0};const Lw={tint:0,alpha:1},Fw={setGOFadeMode(i){return typeof i=="string"&&(i=Lw[i]),this.fadeMode=i,this},setGOFadeTime(i){return this.fadeTime=i,this},hasTintFadeEffect(i){return(this.fadeMode===void 0||this.fadeMode===0)&&this.fadeTime>0&&i.setTint!==void 0},hasAlphaFadeEffect(i){return(this.fadeMode===void 0||this.fadeMode===1)&&this.fadeTime>0&&i.setAlpha!==void 0},fadeBob(i,t,n,m){var C=i.gameObject;return this.hasTintFadeEffect(C)?(t!==void 0&&i.setProperty("tintGray",255*t),i.easeProperty("tintGray",Math.floor(255*n),this.fadeTime,"Linear",0,!1,m)):this.hasAlphaFadeEffect(C)?(t!==void 0&&i.setProperty("alpha",t),i.easeProperty("alpha",n,this.fadeTime,"Linear",0,!1,m)):m&&m(C),this}};var eh=function(i){return i>>16&255},ih=function(i){return i>>8&255},sh=function(i){return i&255};const Iw=~(255<<16)&16777215,Dw=~(255<<8)&16777215,Bw=16776960;var bw=function(i,t){return(t&255)<<16|i&Iw},Gw=function(i,t){return(t&255)<<8|i&Dw},Nw=function(i,t){return t&255|i&Bw},Vw=function(i,t,n,m){return(t&255)<<16|(n&255)<<8|m&255},zw=function(i,t){if(i.hasOwnProperty("tintR"))return i;t===void 0&&(t=16777215);var n=eh(t),m=ih(t),C=sh(t);return Object.defineProperty(i,"tint",{get:function(){return t},set:function(M){M=Math.floor(M)&16777215,i.setTint&&i.setTint(M),t!==M&&(t=M,n=eh(t),m=ih(t),C=sh(t))}}),Object.defineProperty(i,"tintR",{get:function(){return n},set:function(M){M=Math.floor(M)&255,n!==M&&(n=M,i.tint=bw(t,M))}}),Object.defineProperty(i,"tintG",{get:function(){return m},set:function(M){M=Math.floor(M)&255,m!==M&&(m=M,i.tint=Gw(t,M))}}),Object.defineProperty(i,"tintB",{get:function(){return C},set:function(M){M=Math.floor(M)&255,C!==M&&(C=M,i.tint=Nw(t,M))}}),Object.defineProperty(i,"tintGray",{get:function(){return Math.floor((n+m+C)/3)},set:function(M){M=Math.floor(M)&255,(n!==M||m!==M||C!==M)&&(n=M,m=M,C=M,i.tint=Vw(t,M,M,M))}}),i.tint=t,i};const kw=Phaser.Events.EventEmitter;var Uw=function(i){if(i.events)return i;var t=new kw,n=i.x;Object.defineProperty(i,"x",{get:function(){return n},set:function(h){n!==h&&(n=h,t.emit("update",i))}});var m=i.y;Object.defineProperty(i,"y",{get:function(){return m},set:function(h){m!==h&&(m=h,t.emit("update",i))}});var C=i.width;Object.defineProperty(i,"width",{get:function(){return C},set:function(h){C!==h&&(C=h,t.emit("update",i))}});var M=i.height;return Object.defineProperty(i,"height",{get:function(){return M},set:function(h){M!==h&&(M=h,t.emit("update",i))}}),i.events=t,i},Xw=function(i,t,n,m,C,M){return M===void 0?M={}:M===!0&&(M=Yw),typeof n!="number"&&(n=0,m=0),M.x=C.x+C.width*i+n,M.y=C.y+C.height*t+m,M},Yw={},Ww=function(i,t,n,m,C,M,h){if(i.hasOwnProperty("vp"))return i;typeof n=="function"&&(h=n,n=void 0),typeof C=="function"&&(h=C,C=void 0),n===void 0&&(n=.5),m===void 0&&(m=.5),C===void 0&&(C=0),M===void 0&&(M=0),h===void 0&&(h=Xw),Uw(t);var y=t.events;i.vp=t;var e=function(){h(n,m,C,M,t,i)};y.on("update",e),i.once("destroy",function(){y.off("update",e),i.vp=void 0}),Object.defineProperty(i,"vpx",{get:function(){return n},set:function(f){n!==f&&(n=f,e())}}),Object.defineProperty(i,"vpy",{get:function(){return m},set:function(f){m!==f&&(m=f,e())}}),Object.defineProperty(i,"vpxOffset",{get:function(){return C},set:function(f){C!==f&&(C=f,e())}}),Object.defineProperty(i,"vpyOffset",{get:function(){return M},set:function(f){M!==f&&(M=f,e())}}),e()};const Hw=Phaser.Utils.Array.Remove,$w={has(i){return this.bobs.hasOwnProperty(i)},exists(i){return this.bobs.hasOwnProperty(i)},get(i){return this.bobs[i]},getGO(i){var t=this.get(i);return t?t.gameObject:null},addGO(i,t){this.remove(i,!0),this.hasTintFadeEffect(t)&&zw(t),this.viewportCoordinateEnable&&Ww(t,this.viewport),t.once("destroy",function(){Hw(this.removedGOs,t),this.isEmpty&&this.emit("empty")},this);var n=new this.BobClass(this,t,i);return this.bobs[i]=n,this},add(i,...t){var n=this.createGameObjectCallback,m=this.createGameObjectScope,C=n.call(m,this.scene,...t);this.addGO(i,C);var M=this.get(i);return this.fadeBob(M,0,1),this},forEachGO(i,t){for(var n in this.bobs){var m=this.bobs[n].gameObject,C;if(t?C=i.call(t,m,n,this):C=i(m,n,this),C)break}return this}},Kw={remove(i,t){if(!this.has(i))return this;var n=this.get(i);return delete this.bobs[i],this.removedGOs.push(n.gameObject),t?n.destroy():this.fadeBob(n,void 0,0,function(){n.destroy()}),this},removeAll(){var i=this.bobs;for(var t in i)this.remove(t);return this},clear(i){i===void 0&&(i=!0);var t=this.bobs;for(var n in t)i&&t[n].destroy(),delete t[n];return this.removedGOs.length=0,this}},Zw={hasProperty(i,t){return this.has(i)?this.get(i).hasProperty(t):!1},getProperty(i,t){if(this.has(i))return this.get(i).getProperty(t)},isNumberProperty(i,t){var n=this.getProperty(i,t);return typeof n=="number"},setProperty(i,t,n){return this.has(i)?(this.symbols&&typeof n=="string"&&this.isNumberProperty(i,t)&&(n in this.symbols?n=this.symbols[n]:console.warn(`Can't find symbol ${n}`)),this.get(i).setProperty(t,n),this):this},easeProperty(i,t,n,m,C,M,h,y){return this.has(i)?(m===void 0&&(m=1e3),C===void 0&&(C="Linear"),M===void 0&&(M=0),h===void 0&&(h=!1),this.symbols&&typeof n=="string"&&this.isNumberProperty(i,t)&&(n in this.symbols?n=this.symbols[n]:console.warn(`Can't find symbol ${n}`)),this.get(i).easeProperty(t,n,m,C,M,h,y),this):this},hasTweenTask(i,t){if(!this.has(i))return!1;var n=this.get(i).tweens;return n.hasOwnProperty(t)},getTweenTask(i,t){if(!this.has(i))return null;var n=this.get(i).tweens,m=n[t];return m||null}},jw={hasMethod(i,t){return this.has(i)?this.get(i).hasMethod(t):!1},call(i,t,...n){return this.has(i)?(this.get(i).call(t,...n),this):this}},Jw={hasData(i,t){return this.has(i)?this.get(i).hasData(t):!1},getData(i,t){if(this.has(i))return this.get(i).getData(t)},setData(i,t,n){return this.has(i)?(this.get(i).setData(t,n),this):this}};var Nt=function(i){return i.displayWidth!==void 0?i.displayWidth:i.width},Lt=function(i){return i.displayHeight!==void 0?i.displayHeight:i.height};const A1=Phaser.Geom.Rectangle,Cn=Phaser.Math.Vector2,Qw=Phaser.Math.RotateAround;var m0=function(i,t){if(t===void 0?t=new A1:t===!0&&(Bd===void 0&&(Bd=new A1),t=Bd),i.getBounds)return i.getBounds(t);var n,m,C,M,h,y,e,f;if(i.parentContainer){var c=i.parentContainer.getBoundsTransformMatrix();$v(i,t),c.transformPoint(t.x,t.y,t),n=t.x,m=t.y,Kv(i,t),c.transformPoint(t.x,t.y,t),C=t.x,M=t.y,Zv(i,t),c.transformPoint(t.x,t.y,t),h=t.x,y=t.y,jv(i,t),c.transformPoint(t.x,t.y,t),e=t.x,f=t.y}else $v(i,t),n=t.x,m=t.y,Kv(i,t),C=t.x,M=t.y,Zv(i,t),h=t.x,y=t.y,jv(i,t),e=t.x,f=t.y;return t.x=Math.min(n,C,h,e),t.y=Math.min(m,M,y,f),t.width=Math.max(n,C,h,e)-t.x,t.height=Math.max(m,M,y,f)-t.y,t},Bd=void 0,$v=function(i,t,n){return t===void 0?t=new Cn:t===!0&&(Pi===void 0&&(Pi=new Cn),t=Pi),i.getTopLeft?i.getTopLeft(t):(t.x=i.x-Nt(i)*i.originX,t.y=i.y-Lt(i)*i.originY,rf(i,t,n))},Kv=function(i,t,n){return t===void 0?t=new Cn:t===!0&&(Pi===void 0&&(Pi=new Cn),t=Pi),i.getTopRight?i.getTopRight(t):(t.x=i.x-Nt(i)*i.originX+Nt(i),t.y=i.y-Lt(i)*i.originY,rf(i,t,n))},Zv=function(i,t,n){return t===void 0?t=new Cn:t===!0&&(Pi===void 0&&(Pi=new Cn),t=Pi),i.getBottomLeft?i.getBottomLeft(t):(t.x=i.x-Nt(i)*i.originX,t.y=i.y-Lt(i)*i.originY+Lt(i),rf(i,t,n))},jv=function(i,t,n){return t===void 0?t=new Cn:t===!0&&(Pi===void 0&&(Pi=new Cn),t=Pi),i.getBottomRight?i.getBottomRight(t):(t.x=i.x-Nt(i)*i.originX+Nt(i),t.y=i.y-Lt(i)*i.originY+Lt(i),rf(i,t,n))},Pi=void 0,rf=function(i,t,n){if(n===void 0&&(n=!1),i.rotation!==0&&Qw(t,i.x,i.y,i.rotation),n&&i.parentContainer){var m=i.parentContainer.getBoundsTransformMatrix();m.transformPoint(t.x,t.y,t)}return t};const eo=Phaser.Utils.Objects.GetValue;var dS=function(i,t,n){var m,C,M,h,y;if(typeof n=="number"?m=n:(m=eo(n,"color"),C=eo(n,"lineWidth"),M=eo(n,"fillColor"),h=eo(n,"fillAlpha",1),y=eo(n,"padding",0)),Array.isArray(i))for(var e=0,f=i.length;e<f;e++)w1(i[e],t,m,C,M,h,y);else w1(i,t,m,C,M,h,y)},w1=function(i,t,n,m,C,M,h){var y=i.getBounds||i.width!==void 0&&i.height!==void 0;if(y){n===void 0&&(n=16777215),m===void 0&&(m=1),C===void 0&&(C=null),M===void 0&&(M=1),h===void 0&&(h=0);var e=$v(i,Or[0]);e.x-=h,e.y-=h;var f=Kv(i,Or[1]);f.x+=h,f.y-=h;var c=jv(i,Or[2]);c.x+=h,c.y+=h;var s=Zv(i,Or[3]);s.x-=h,s.y+=h,C!==null&&t.fillStyle(C,M).fillPoints(Or,!0,!0),n!==null&&t.lineStyle(m,n).strokePoints(Or,!0,!0)}},Or=[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],qw=function(i,t){return this.forEachGO(function(n){n.drawBounds?n.drawBounds(i,t):dS(n,i,t)}),this},cS={drawGameObjectsBounds:qw};Object.assign(cS,Fw,$w,Kw,Zw,jw,Jw);const _w=Phaser.Cameras.Scene2D.BaseCamera;var tO=function(i){return i instanceof _w};const vS=Phaser.Geom.Rectangle;var Va=function(i,t,n){return tO(t)||(n=t,t=void 0),n===void 0?n=new vS:n===!0&&(n=eO),t?i.scale.getViewPort(t,n):i.scale.getViewPort(n)},eO=new vS;const Di=Phaser.Utils.Objects.GetValue;class af{constructor(t,n){this.scene=t,this.BobClass=Di(n,"BobClass",p0),this.setCreateGameObjectCallback(Di(n,"createGameObject"),Di(n,"createGameObjectScope")),this.setEventEmitter(Di(n,"eventEmitter",void 0));var m=Di(n,"fade",500);typeof m=="number"?(this.setGOFadeMode(),this.setGOFadeTime(m)):(this.setGOFadeMode(Di(m,"mode")),this.setGOFadeTime(Di(m,"time",500)));var C=Di(n,"viewportCoordinate",!1);C!==!1?(this.setViewportCoordinateEnable(Di(n,"enable",!0)),this.setViewport(Di(C,"viewport"))):this.setViewportCoordinateEnable(!1),this.setSymbols(Di(n,"symbols")),this.bobs={},this.removedGOs=[],this._timeScale=1}destroy(t){this.clear(!t),this.createGameObjectCallback=void 0,this.viewport=void 0,this.scene=void 0}set timeScale(t){if(this._timeScale!==t){this._timeScale=t;var n=this.bobs;for(var m in n)n[m].setTimeScale(t)}}get timeScale(){return this._timeScale}setTimeScale(t){return this.timeScale=t,this}setCreateGameObjectCallback(t,n){return this.createGameObjectCallback=t,this.createGameObjectScope=n,this}setViewportCoordinateEnable(t){return t===void 0&&(t=!0),this.viewportCoordinateEnable=t,this}setViewport(t){return t===void 0&&(t=Va(this.scene,this.scene.cameras.main)),this.viewport=t,this}setSymbols(t){return this.symbols=t,this}get isEmpty(){return g0(this.bobs)&&this.removedGOs.length===0}}Object.assign(af.prototype,Na,cS);var As=function(i,t){if(i.length<=1)return i;t===void 0&&(t=!1);var n=i[0].scene,m=n.sys.displayList;return m.depthSort(),t?i.sort(function(C,M){return m.getIndex(M)-m.getIndex(C)}):i.sort(function(C,M){return m.getIndex(C)-m.getIndex(M)}),i};const iO=Phaser.Utils.Objects.GetValue;class sO extends af{constructor(t,n){n===void 0?n={}:Array.isArray(n)&&(n={layers:n}),n.hasOwnProperty("fade")||(n.fade=0),n.viewportCoordinate=!1,super(t,n);var m=iO(n,"layers");if(m)for(var C=0,M=m.length;C<M;C++)this.add(m[C])}setCreateGameObjectCallback(t,n){return t||(t=nO),super.setCreateGameObjectCallback(t,n),this}addGO(t,n){return super.addGO(t,n),n.name=t,this}getLayer(t){return this.getGO(t)}getLayers(t){return t===void 0&&(t=[]),this.forEachGO(function(n){t.push(n)}),As(t,!1),t}addToLayer(t,n){var m=this.getGO(t);if(!m){console.warn(`Can't get layer "${t}"`);return}return n.isRexContainerLite?n.addToLayer(m):m.add(n),this}}var nO=function(i,t){var n=i.add.layer();return t!==void 0&&n.setDepth(t),n},rO=function(i){return ar(i)?i.sys.sound:i.sound},gh=function(i){return i==null||typeof i!="object"?null:ar(i)?i:i.scene&&ar(i.scene)?i.scene:i.parent&&i.parent.scene&&ar(i.parent.scene)?i.parent.scene:null};const aO=Phaser.Utils.Objects.GetValue;class me{constructor(t,n){this.setParent(t),this.isShutdown=!1,this.setEventEmitter(aO(n,"eventEmitter",!0)),this.parent&&(this.parent===this.scene?this.scene.sys.events.once("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.once("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.once("destroy",this.onParentDestroy,this))}shutdown(t){this.isShutdown||(this.parent&&(this.parent===this.scene?this.scene.sys.events.off("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.off("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.off("destroy",this.onParentDestroy,this)),this.destroyEventEmitter(),this.parent=void 0,this.scene=void 0,this.game=void 0,this.isShutdown=!0)}destroy(t){this.shutdown(t)}onEnvDestroy(){this.destroy(!0)}onParentDestroy(t,n){this.destroy(n)}setParent(t){return this.parent=t,this.scene=gh(t),this.game=wa(t),this}}Object.assign(me.prototype,Na);const oO=Phaser.Utils.Objects.GetValue;class of extends me{constructor(t,n){super(t,n),this._isRunning=!1,this.isPaused=!1,this.tickingState=!1,this.setTickingMode(oO(n,"tickingMode",1))}boot(){this.tickingMode===2&&!this.tickingState&&this.startTicking()}shutdown(t){this.isShutdown||(this.stop(),this.tickingState&&this.stopTicking(),super.shutdown(t))}setTickingMode(t){typeof t=="string"&&(t=hO[t]),this.tickingMode=t}startTicking(){this.tickingState=!0}stopTicking(){this.tickingState=!1}get isRunning(){return this._isRunning}set isRunning(t){this._isRunning!==t&&(this._isRunning=t,this.tickingMode===1&&t!=this.tickingState&&(t?this.startTicking():this.stopTicking()))}start(){return this.isPaused=!1,this.isRunning=!0,this}pause(){return this.isRunning&&(this.isPaused=!0,this.isRunning=!1),this}resume(){return this.isPaused&&(this.isRunning=!0),this}stop(){return this.isPaused=!1,this.isRunning=!1,this}complete(){this.isPaused=!1,this.isRunning=!1,this.emit("complete",this.parent,this)}}const hO={no:0,lazy:1,always:2},lO=Phaser.Utils.Objects.GetValue;class uO extends of{constructor(t,n){super(t,n);var m=this.scene?"update":"step";this.tickEventName=lO(n,"tickEventName",m),this.isSceneTicker=!fO(this.tickEventName)}startTicking(){super.startTicking(),this.isSceneTicker?this.scene.sys.events.on(this.tickEventName,this.update,this):this.game.events.on(this.tickEventName,this.update,this)}stopTicking(){super.stopTicking(),this.isSceneTicker&&this.scene?this.scene.sys.events.off(this.tickEventName,this.update,this):this.game&&this.game.events.off(this.tickEventName,this.update,this)}}var fO=function(i){return i==="step"||i==="poststep"};const xs=Phaser.Utils.Objects.GetValue,O1=Phaser.Math.Clamp;let pS=class{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){this.state=xs(t,"state",io),this.timeScale=xs(t,"timeScale",1),this.delay=xs(t,"delay",0),this.repeat=xs(t,"repeat",0),this.repeatCounter=xs(t,"repeatCounter",0),this.repeatDelay=xs(t,"repeatDelay",0),this.duration=xs(t,"duration",0),this.nowTime=xs(t,"nowTime",0),this.justRestart=xs(t,"justRestart",!1)}toJSON(){return{state:this.state,timeScale:this.timeScale,delay:this.delay,repeat:this.repeat,repeatCounter:this.repeatCounter,repeatDelay:this.repeatDelay,duration:this.duration,nowTime:this.nowTime,justRestart:this.justRestart}}destroy(){}setTimeScale(t){return this.timeScale=t,this}setDelay(t){return t===void 0&&(t=0),this.delay=t,this}setDuration(t){return this.duration=t,this}setRepeat(t){return this.repeat=t,this}setRepeatInfinity(){return this.repeat=-1,this}setRepeatDelay(t){return this.repeatDelay=t,this}start(){return this.nowTime=this.delay>0?-this.delay:0,this.state=this.nowTime>=0?Lr:so,this.repeatCounter=0,this}stop(){return this.state=io,this}update(t,n){this.state===io||this.state===ol||n===0||this.timeScale===0||(this.nowTime+=n*this.timeScale,this.justRestart=!1,this.nowTime>=this.duration?this.repeat===-1||this.repeatCounter<this.repeat?(this.repeatCounter++,this.justRestart=!0,this.nowTime-=this.duration,this.repeatDelay>0&&(this.nowTime-=this.repeatDelay,this.state=L1)):(this.nowTime=this.duration,this.state=ol):this.nowTime>=0&&(this.state=Lr))}get t(){var t;switch(this.state){case io:case so:case L1:t=0;break;case Lr:t=this.nowTime/this.duration;break;case ol:t=1;break}return O1(t,0,1)}set t(t){t=O1(t,-1,1),t<0?(this.state=so,this.nowTime=-this.delay*t):(this.state=Lr,this.nowTime=this.duration*t,t===1&&this.repeat!==0&&this.repeatCounter++)}setT(t){return this.t=t,this}get isIdle(){return this.state===io}get isDelay(){return this.state===so}get isCountDown(){return this.state===Lr}get isRunning(){return this.state===so||this.state===Lr}get isDone(){return this.state===ol}get isOddIteration(){return(this.repeatCounter&1)===1}get isEvenIteration(){return(this.repeatCounter&1)===0}};const io=0,so=1,Lr=2,L1=3,ol=-1;class dO extends uO{constructor(t,n){super(t,n),this.timer=new pS}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}start(){return this.timer.start(),super.start(),this}stop(){return this.timer.stop(),super.stop(),this}complete(){return this.timer.stop(),super.complete(),this}}const no=Phaser.Utils.Objects.GetValue,F1=Phaser.Utils.Objects.GetAdvancedValue,cO=Phaser.Tweens.Builders.GetEaseFunction;class xr extends dO{resetFromJSON(t){return this.timer.resetFromJSON(no(t,"timer")),this.setEnable(no(t,"enable",!0)),this.setTarget(no(t,"target",this.parent)),this.setDelay(F1(t,"delay",0)),this.setDuration(F1(t,"duration",1e3)),this.setEase(no(t,"ease","Linear")),this.setRepeat(no(t,"repeat",0)),this}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setTarget(t){return t===void 0&&(t=this.parent),this.target=t,this}setDelay(t){return this.delay=t,this}setDuration(t){return this.duration=t,this}setRepeat(t){return this.repeat=t,this}setRepeatDelay(t){return this.repeatDelay=t,this}setEase(t){return t===void 0&&(t="Linear"),this.ease=t,this.easeFn=cO(t),this}start(){return this.timer.isRunning?this:(super.start(),this)}restart(){return this.timer.stop(),this.start.apply(this,arguments),this}stop(t){return t===void 0&&(t=!1),super.stop(),t&&(this.timer.setT(1),this.updateGameObject(this.target,this.timer),this.complete()),this}update(t,n){if(!this.isRunning||!this.enable||!this.parent.active)return this;var m=this.target,C=this.timer;return C.update(t,n),C.isDelay||this.updateGameObject(m,C),this.emit("update",m,this),C.isDone&&this.complete(),this}updateGameObject(t,n){}}const vO=Phaser.Sound.BaseSound;var x0=function(i){return i instanceof vO};const I1=Phaser.Utils.Objects.GetValue,D1=Phaser.Utils.Objects.GetAdvancedValue,pO=Phaser.Math.Linear;let gS=class extends xr{constructor(t,n,m){x0(t)&&(m=n,n=t,t=void 0),n.active=!0,n.scene=t,n.game=n.manager.game,super(n,m),this.volume={},this.resetFromJSON(m)}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(I1(t,"mode",0)),this.setEnable(I1(t,"enable",!0)),this.setVolumeRange(D1(t,"volume.start",this.parent.volume),D1(t,"volume.end",0)),this}setMode(t){return typeof t=="string"&&(t=gO[t]),this.mode=t,this}setVolumeRange(t,n){return this.volume.start=t,this.volume.end=n,this}start(){return this.timer.isRunning?this:(this.parent.setVolume(this.volume.start),this.timer.setDelay(this.delay).setDuration(this.duration),super.start(),this)}updateGameObject(t,n){t.volume=pO(this.volume.start,this.volume.end,n.t)}complete(){switch(super.complete(),this.mode){case 1:this.parent.stop();break;case 2:this.parent.destroy();break}return this}};const gO={stop:1,destroy:2};var hf=function(i,t,n,m,C){x0(i)&&(C=m,m=n,n=t,t=i,i=void 0),m===void 0&&(m=1),C===void 0&&(C=0);var M={mode:0,volume:{start:C,end:m},duration:n};typeof t=="string"&&(t=i.sys.sound.add(t));var h;return t.hasOwnProperty("_fade")?(h=t._fade,h.stop().resetFromJSON(M)):(h=new gS(i,t,M),t._fade=h),h.start(),t.isPlaying||t.setVolume(C).play(),t},Fa=function(i,t,n,m){x0(i)&&(m=n,n=t,t=i,i=void 0),m===void 0&&(m=!0);var C={mode:m?2:1,volume:{start:t.volume,end:0},duration:n},M;return t.hasOwnProperty("_fade")?(M=t._fade,M.stop().resetFromJSON(C)):(M=new gS(i,t,C),t._fade=M),M.start(),t.isPlaying||t.play(),t};const ro=Phaser.Utils.Objects.GetValue,mO={setBackgroundMusicLoop(i){return i===void 0&&(i=!0),this.backgroundMusicLoop=i,this},setBackgroundMusicFadeTime(i){return this.backgroundMusicFadeTime=i,this},getBackgroundMusic(){return this.backgroundMusic},setCurrentBackgroundMusic(i){return this.backgroundMusic=i,i&&(i.once("complete",function(){this.backgroundMusic===i&&(this.backgroundMusic.destroy(),this.backgroundMusic=void 0)},this).once("destroy",function(){this.backgroundMusic===i&&(this.backgroundMusic=void 0)},this),i.isPlaying||i.play()),this},playBackgroundMusic(i,t){if(this.backgroundMusic&&this.backgroundMusic.key===i)return this;this.stopBackgroundMusic();var n=this.sound.add(i,{loop:ro(t,"loop",this.backgroundMusicLoop),mute:ro(t,"mute",this.backgroundMusicMute),volume:ro(t,"volume",this.backgroundMusicVolume),detune:ro(t,"detune",0),rate:ro(t,"rate",1)});return this.setCurrentBackgroundMusic(n),this.backgroundMusicFadeTime>0&&this.fadeInBackgroundMusic(this.backgroundMusicFadeTime),this},pauseBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.pause(),this},resumeBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.resume(),this},stopBackgroundMusic(){return this.backgroundMusic&&(this.backgroundMusicFadeTime>0?this.fadeOutBackgroundMusic(this.backgroundMusicFadeTime,!0):(this.backgroundMusic.stop(),this.backgroundMusic.destroy(),this.backgroundMusic=void 0)),this},fadeInBackgroundMusic(i){return this.backgroundMusic&&hf(this.backgroundMusic,i,this.backgroundMusicVolume,0),this},fadeOutBackgroundMusic(i,t){return this.backgroundMusic&&Fa(this.backgroundMusic,i,t),this},crossFadeBackgroundMusic(i,t){var n=this.backgroundMusicFadeTime;return this.backgroundMusicFadeTime=0,this.fadeOutBackgroundMusic(t,!0).playBackgroundMusic(i).fadeInBackgroundMusic(t),this.backgroundMusicFadeTime=n,this},setBackgroundMusicMute(i){return i===void 0&&(i=!0),this.backgroundMusicMute=i,this},setBackgroundMusicVolume(i){return this.backgroundMusicVolume=i,this},setBackgroundMusicRate(i){return this.backgroundMusic&&this.backgroundMusic.setRate(i),this},setBackgroundMusicDetune(i){return this.backgroundMusic&&this.backgroundMusic.setDetune(i),this}},ao=Phaser.Utils.Objects.GetValue,xO={setBackgroundMusic2Loop(i){return i===void 0&&(i=!0),this.backgroundMusic2Loop=i,this},setBackgroundMusic2FadeTime(i){return this.backgroundMusic2FadeTime=i,this},getBackgroundMusic2(){return this.backgroundMusic2},setCurrentBackgroundMusic2(i){return this.backgroundMusic2=i,i&&(i.once("complete",function(){this.backgroundMusic2===i&&(this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)},this).once("destroy",function(){this.backgroundMusic2===i&&(this.backgroundMusic2=void 0)},this),i.isPlaying||i.play()),this},playBackgroundMusic2(i,t){if(this.backgroundMusic2&&this.backgroundMusic2.key===i)return this;this.stopBackgroundMusic2();var n=this.sound.add(i,{loop:ao(t,"loop",this.backgroundMusicLoop),mute:ao(t,"mute",this.backgroundMusic2Mute),volume:ao(t,"volume",this.backgroundMusic2Volume),detune:ao(t,"detune",0),rate:ao(t,"rate",1)});return this.setCurrentBackgroundMusic2(n),this.backgroundMusic2FadeTime>0&&this.fadeInBackgroundMusic2(this.backgroundMusic2FadeTime),this},pauseBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.pause(),this},resumeBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.resume(),this},stopBackgroundMusic2(){return this.backgroundMusic2&&(this.backgroundMusic2FadeTime>0?this.fadeOutBackgroundMusic2(this.backgroundMusic2FadeTime,!0):(this.backgroundMusic2.stop(),this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)),this},fadeInBackgroundMusic2(i){return this.backgroundMusic2&&hf(this.backgroundMusic2,i,this.backgroundMusic2Volume,0),this},fadeOutBackgroundMusic2(i,t){return this.backgroundMusic2&&Fa(this.backgroundMusic2,i,t),this},crossFadeBackgroundMusic2(i,t){var n=this.backgroundMusic2FadeTime;return this.backgroundMusic2FadeTime=0,this.fadeOutBackgroundMusic2(t,!0).playBackgroundMusic2(i).fadeInBackgroundMusic2(t),this.backgroundMusic2FadeTime=n,this},setBackgroundMusic2Mute(i){return i===void 0&&(i=!0),this.backgroundMusic2Mute=i,this},setBackgroundMusic2Volume(i){return this.backgroundMusic2Volume=i,this},setBackgroundMusic2Rate(i){return this.backgroundMusic2&&this.backgroundMusic2.setRate(i),this},setBackgroundMusic2Detune(i){return this.backgroundMusic2&&this.backgroundMusic2.setDetune(i),this}},B1=Phaser.Utils.Array.Remove,hl=Phaser.Utils.Objects.GetValue,yO={getSoundEffects(){return this.soundEffects},getLastSoundEffect(){return this.soundEffects[this.soundEffects.length-1]},playSoundEffect(i,t){var n=this.sound.add(i,{mute:hl(t,"mute",this.soundEffectsMute),volume:hl(t,"volume",this.soundEffectsVolume),detune:hl(t,"detune",0),rate:hl(t,"rate",1)});return this.soundEffects.push(n),n.once("complete",function(){n.destroy(),this.sound&&B1(this.soundEffects,n)},this).once("destroy",function(){this.sound&&B1(this.soundEffects,n)},this).play(),this},stopAllSoundEffects(){for(var i=this.soundEffects.length-1;i>=0;i--){var t=this.soundEffects[i];t.stop(),t.destroy()}return this},fadeInSoundEffect(i){var t=this.getLastSoundEffect();return t&&hf(t,i,this.soundEffectsVolume,0),this},fadeOutSoundEffect(i,t){var n=this.getLastSoundEffect();return n&&Fa(n,i,t),this},fadeOutAllSoundEffects(i,t){for(var n=this.soundEffects.length-1;n>=0;n--)Fa(this.soundEffects[n],i,t);return this},setSoundEffectMute(i,t){if(i===void 0&&(i=!0),t===void 0&&(t=!1),t){var n=this.getLastSoundEffect();n&&n.setMute(i)}else this.soundEffectsMute=i;return this},setSoundEffectVolume(i,t){if(t===void 0&&(t=!1),t){var n=this.getLastSoundEffect();n&&n.setVolume(i)}else this.soundEffectsVolume=i;return this},setSoundEffectDetune(i,t){t===void 0&&(t=!1);var n;t?n=[this.getLastSoundEffect()]:n=this.soundEffects;for(var m=0,C=n.length;m<C;m++)n[m].setDetune(i);return this},setSoundEffectRate(i,t){t===void 0&&(t=!1);var n;t?n=[this.getLastSoundEffect()]:n=this.soundEffects;for(var m=0,C=n.length;m<C;m++)n[m].setRate(i);return this}},b1=Phaser.Utils.Array.Remove,ll=Phaser.Utils.Objects.GetValue,TO={getSoundEffects2(){return this.soundEffects2},getLastSoundEffect2(){return this.soundEffects2[this.soundEffects2.length-1]},playSoundEffect2(i,t){var n=this.sound.add(i,{mute:ll(t,"mute",this.soundEffects2Mute),volume:ll(t,"volume",this.soundEffects2Volume),detune:ll(t,"detune",0),rate:ll(t,"rate",1)});return this.soundEffects2.push(n),n.once("complete",function(){n.destroy(),this.sound&&b1(this.soundEffects2,n)},this).once("destroy",function(){this.sound&&b1(this.soundEffects2,n)},this).play(),this},stopAllSoundEffects2(){for(var i=this.soundEffects.length-1;i>=0;i--){var t=this.soundEffects[i];t.stop(),t.destroy()}return this},fadeInSoundEffect2(i){var t=this.getLastSoundEffect2();return t&&hf(t,i,this.soundEffects2Volume,0),this},fadeOutSoundEffect2(i,t){var n=this.getLastSoundEffect2();return n&&Fa(n,i,t),this},fadeOutAllSoundEffects2(i,t){for(var n=this.soundEffects2.length-1;n>=0;n--)Fa(this.soundEffects2[n],i,t);return this},setSoundEffect2Mute(i,t){if(i===void 0&&(i=!0),t===void 0&&(t=!1),t){var n=this.getLastSoundEffect2();n&&n.setMute(i)}else this.soundEffects2Mute=i;return this},setSoundEffect2Volume(i,t){if(t===void 0&&(t=!1),t){var n=this.getLastSoundEffect2();n&&n.setVolume(i)}else this.soundEffects2Volume=i;return this},setSoundEffect2Detune(i,t){t===void 0&&(t=!1);var n;t?n=[this.getLastSoundEffect2()]:n=this.soundEffects2;for(var m=0,C=n.length;m<C;m++)n[m].setDetune(i);return this},setSoundEffect2Rate(i,t){t===void 0&&(t=!1);var n;t?n=[this.getLastSoundEffect2()]:n=this.soundEffects2;for(var m=0,C=n.length;m<C;m++)n[m].setRate(i);return this}};var mS={};Object.assign(mS,mO,xO,yO,TO);const ci=Phaser.Utils.Objects.GetValue;class xS{constructor(t,n){this.sound=rO(t),this.backgroundMusic=void 0,this._backgroundMusicVolume=ci(n,"bgm.volume",1),this._backgroundMusicMute=ci(n,"bgm.mute",!1),this.setBackgroundMusicLoop(ci(n,"bgm.loop",!0)),this.setBackgroundMusicFadeTime(ci(n,"bgm.fade",500)),this.backgroundMusic2=void 0,this._backgroundMusic2Volume=ci(n,"bgm2.volume",1),this._backgroundMusic2Mute=ci(n,"bgm2.mute",!1),this.setBackgroundMusic2Loop(ci(n,"bgm2.loop",!0)),this.setBackgroundMusic2FadeTime(ci(n,"bgm2.fade",500)),this.soundEffects=[],this._soundEffectsVolume=ci(n,"soundEffect.volume",1),this.soundEffects2=[],this._soundEffects2Volume=ci(n,"soundEffect2.volume",1);var m=ci(n,"bgm.initial",void 0);m&&this.setCurrentBackgroundMusic(m);var C=ci(n,"bgm2.initial",void 0);C&&this.setCurrentBackgroundMusic2(C)}destroy(){if(this.backgroundMusic&&this.backgroundMusic.destroy(),this.backgroundMusic=void 0,this.backgroundMusic2&&this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0,this.soundEffects.length)for(var t=this.soundEffects.length-1;t>=0;t--)this.soundEffects[t].destroy();if(this.soundEffects.length=0,this.soundEffects2.length)for(var t=this.soundEffects2.length-1;t>=0;t--)this.soundEffects2[t].destroy();return this.soundEffects2.length=0,this.sound=void 0,this}get backgroundMusicMute(){return this._backgroundMusicMute}set backgroundMusicMute(t){this._backgroundMusicMute=t,this.backgroundMusic&&this.backgroundMusic.setMute(mute)}get backgroundMusicVolume(){return this._backgroundMusicVolume}set backgroundMusicVolume(t){this._backgroundMusicVolume=t,this.backgroundMusic&&this.backgroundMusic.setVolume(t)}get backgroundMusic2Mute(){return this._backgroundMusic2Mute}set backgroundMusic2Mute(t){this._backgroundMusic2Mute=t,this.backgroundMusic2&&this.backgroundMusic2.setMute(mute)}get backgroundMusic2Volume(){return this._backgroundMusic2Volume}set backgroundMusic2Volume(t){this._backgroundMusic2Volume=t,this.backgroundMusic2&&this.backgroundMusic2.setVolume(t)}get soundEffectsMute(){return this._soundEffectsMute}set soundEffectsMute(t){this._soundEffectsMute=t;for(var n=this.soundEffects,m=0,C=n.length;m<C;m++)n[m].setMute(t)}get soundEffectsVolume(){return this._soundEffectsVolume}set soundEffectsVolume(t){this._soundEffectsVolume=t;for(var n=this.soundEffects,m=0,C=n.length;m<C;m++)n[m].setVolume(t)}get soundEffects2Mute(){return this._soundEffects2Mute}set soundEffects2Mute(t){this._soundEffects2Mute=t;for(var n=this.soundEffects,m=0,C=soundEffects2.length;m<C;m++)n[m].setMute(t)}get soundEffects2Volume(){return this._soundEffects2Volume}set soundEffects2Volume(t){this._soundEffects2Volume=t;for(var n=this.soundEffects2,m=0,C=n.length;m<C;m++)n[m].setVolume(t)}}Object.assign(xS.prototype,mS);const bd=Phaser.Utils.Objects.GetValue;class CO extends of{constructor(t,n){super(t,n),this.resetFromJSON(n),this.boot()}resetFromJSON(t){return this.isRunning=bd(t,"isRunning",!1),this.timeScale=bd(t,"timeScale",1),this.now=bd(t,"now",0),this}toJSON(){return{isRunning:this.isRunning,timeScale:this.timeScale,now:this.now,tickingMode:this.tickingMode}}start(t){return t===void 0&&(t=0),this.delta=0,this.now=t,super.start(),this}seek(t){return this.now=t,this}setTimeScale(t){return this.timeScale=t,this}tick(t){return t*=this.timeScale,this.now+=t,this.delta=t,this.emit("update",this.now,this.delta),this}}class yS extends CO{startTicking(){super.startTicking(),this.scene.sys.events.on("update",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&this.scene.sys.events.off("update",this.update,this)}update(t,n){return!this.isRunning||this.timeScale===0?this:(this.tick(n),this)}}var cr=function(i,t){return t===void 0&&(t=.5),i<=t?i=i/t:i=1-(i-t)/(1-t),i};const G1=Phaser.Math.Clamp;class SO{constructor(t,n){this.setTimeline(t).reset(n)}setTimeline(t){return this.timeline=t,this}setName(t){return this.name=t,this}setCallbacks(t,n,m,C){return this.target=t,this.onStart=n,this.onProgress=m,this.onComplete=C,this}setDuration(t,n){return n===void 0&&(n=!1),this.duration=t,this.remainder=t,this.t=0,this.yoyo=n,this}setPaused(t){return this.isPaused=t,this}pause(){return this.isPaused=!0,this}resume(){return this.isPaused=!1,this}setRemoved(t){return this.removed=t,this}remove(){return this.removed=!0,this}seek(t){return this.remainder=this.duration*(1-t),this}reset(t){return this.setName(t.name).setDuration(t.duration,t.yoyo).setCallbacks(t.target,t.onStart,t.onProgress,t.onComplete).setPaused(!1).setRemoved(!1),this}onFree(){this.setTimeline().setCallbacks()}getProgress(){var t=1-this.remainder/this.duration;return t=G1(t,0,1),this.yoyo&&(t=cr(t)),t}setProgress(t){t=G1(t,0,1),this.remainder=this.duration*(1-t)}runCallback(t){t&&t(this.target,this.t,this)}update(t,n){if(this.removed)return!0;if(this.isPaused)return!1;this.remainder-=n,this.t=this.getProgress(),this.runCallback(this.onProgress);var m=this.remainder<=0;return m&&this.runCallback(this.onComplete),m}}let MO=class extends fs{allocate(){return this.pop()}free(t){t.onFree(),this.push(t)}freeMultiple(t){for(var n=0,m=t.length;n<m;n++)this.free(t[n]);return this}};const EO=Phaser.Utils.Objects.GetValue,PO=new MO;class RO extends yS{constructor(t,n){super(t,n),this.addedTimers=[],this.timers=[],this.timerPool=EO(n,"pool",PO)}shutdown(){this.isShutdown||(this.timerPool.freeMultiple(this.addedTimers).freeMultiple(this.timers),this.timerPool=void 0,this.addedTimers=void 0,this.timers=void 0,super.shutdown())}addTimer(t){var n=this.timerPool.allocate();return n?n.setTimeline(this).reset(t):n=new SO(this,t),this.addedTimers.push(n),n.runCallback(n.onStart),this.isRunning||this.start(),n}delayCall(t,n,m,C){var M=this.addTimer({duration:t,onComplete:function(h,y,e){m===void 0&&(m=[]),m.push(e),n.apply(C,m)}});return M}delayEvent(t,n){this.removeDelayEvent(n);var m=this.delayCall(t,function(){this.removeDelayEvent(n),this.emit(n)},[],this);return this.once(`_remove.${n}`,function(){m.remove(),m=void 0}),this}removeDelayEvent(t){return this.emit(`_remove.${t}`),this}getTimers(t){for(var n=[],m=[this.addedTimers,this.timers],C=0,M=m.length;C<M;C++)for(var h=m[C],y=0,e=h.length;y<e;y++){var f=h[y];f.name===t&&n.push(f)}return n}update(t,n){if(super.update(t,n),!!this.isRunning){this.timers.push(...this.addedTimers),this.addedTimers.length=0;for(var m=[],C=0,M=this.timers.length;C<M;C++){var h=this.timers[C],y=h.update(this.now,this.delta);y?this.timerPool.free(h):m.push(h)}this.timers=m,this.timers.length===0&&this.addedTimers.length===0&&this.complete()}}}const AO="_wait.complete",Ou="_remove.wait",wO={waitTime(i){var t=this.parent.timeline;return t.delayEvent(i,"delay"),this.parent.once(Ou,function(){t.removeDelayEvent("delay")}),this.waitEvent(t,"delay")}};var OO=function(i,t){var n=`(?<!\\\\)\\${t}`,m=`\\${t}`;return i.split(new RegExp(n,"g")).map(function(C){return C.replace(m,t)})};const LO={setClickTarget(i){this.clickTarget=i,i?ar(i)?this.clickEE=i.input:this.clickEE=i.setInteractive():this.clickEE=null},waitClick(){return this.clickEE?this.waitEvent(this.clickEE,"pointerdown"):this.waitTime(0)},waitKeyDown(i){var t=this.scene.input.keyboard;if(typeof i=="string"){if(i.indexOf("|")===-1)return this.waitEvent(t,`keydown-${i.toUpperCase()}`);for(var n=OO(i,"|"),m=0,C=n.length;m<C;m++)this.waitEvent(t,`keydown-${i.toUpperCase()}`);return this.parent}else return this.waitEvent(t,"keydown")}},FO={waitGameObjectTweenComplete(i,t,n){var m=this.parent.getGameObjectTweenTask(i,t,n);return m?this.waitEvent(m,"complete"):this.waitTime(0)},waitGameObjectDataFlag(i,t,n,m){var C=this.parent.getGameObject(i,t);if(!C)return this.waitTime(0);if(C.getData(n)===m)return this.waitTime(0);var M=`changedata-${n}`,h=function(y,e,f){e=!!e,e===m&&y.emit("_dataFlagMatch")};return C.on(M,h),this.parent.once(Ou,function(){C.off(M,h)}),this.waitEvent(C,"_dataFlagMatch")},waitGameObjectDestroy(i,t){var n=this.parent.getGameObject(i,t);return n?this.waitEvent(n,"destroy"):this.waitTime(0)},waitGameObjectManagerEmpty(i){if(i){var t=this.parent.getGameObjectManager(i);return t?this.waitEvent(t,"empty"):this.waitTime(0)}else{var n=this.parent.gameObjectManagers,m=!1;for(var C in n)m=!0,this.waitEvent(n[C],"empty");return m?this.parent:this.waitTime(0)}}},IO={setCameraTarget(i){return this.cameraTarget=i,this},waitCameraEffectComplete(i){var t=this.cameraTarget;if(!t)return this.waitTime(0);var n,m;switch(i){case"camera.fadein":n=t.fadeEffect,m="camerafadeincomplete";break;case"camera.fadeout":n=t.fadeEffect,m="camerafadeoutcomplete";break;case"camera.flash":n=t.flashEffect,m="cameraflashcomplete";break;case"camera.shake":n=t.shakeEffect,m="camerashakecomplete";break;case"camera.zoom":n=t.zoomEffect,m="camerazoomcomplete";break;case"camera.rotate":n=t.rotateToEffect,m="camerarotatecomplete";break;case"camera.scroll":n=t.panEffect,m="camerapancomplete";break}return n.isRunning?this.waitEvent(t,m):this.waitTime(0)}},DO={waitSoundEffectComplete(){if(!this.parent.soundManager)return this.waitTime(0);var i=this.parent.soundManager.getLastSoundEffect();return i?this.waitEvent(i,"complete"):this.waitTime(0)},waitSoundEffect2Complete(){if(!this.parent.soundManager)return this.waitTime(0);var i=this.parent.soundManager.getLastSoundEffect2();return i?this.waitEvent(i,"complete"):this.waitTime(0)},waitBackgroundMusicComplete(){if(!this.parent.soundManager)return this.waitTime(0);var i=this.parent.soundManager.getBackgroundMusic();return i?this.waitEvent(i,"complete"):this.waitTime(0)},waitBackgroundMusic2Complete(){if(!this.parent.soundManager)return this.waitTime(0);var i=this.parent.soundManager.getBackgroundMusic2();return i?this.waitEvent(i,"complete"):this.waitTime(0)}};var BO=function(i){if(!i)return this.waitTime(0);var t=!1;for(var n in i)switch(n){case"time":t=!0,this.waitTime(i.time);break;case"click":t=!0,this.waitClick(i.key);break;case"key":t=!0,this.waitKeyDown(i.key);break;case"bgm":t=!0,this.waitBackgroundMusicComplete();break;case"bgm2":t=!0,this.waitBackgroundMusic2Complete();break;case"se":t=!0,this.waitSoundEffectComplete();break;case"se2":t=!0,this.waitSoundEffect2Complete();break;case"camera":t=!0,this.waitCameraEffectComplete(`camera.${i.camera.toLowerCase()}`);break;default:var m=n.split(".");if(m.length===2){var C=m[0],M=m[1],h=this.parent.getGameObjectManager(void 0,C);if(!h)continue;if(M==="destroy")return this.waitGameObjectDestroy(void 0,C);var y=h.getProperty(C,M);if(typeof y=="number"){t=!0,this.waitGameObjectTweenComplete(void 0,C,M);continue}var e=M,f=e.startsWith("!");f&&(e=e.substring(1)),h.hasData(C,M)&&(t=!0,this.waitGameObjectDataFlag(void 0,C,e,!f))}break}return t||this.waitTime(0),this.parent},bO=function(i,t,n,m,C){var M=gh(i),h=M.time.delayedCall(t,function(){M.sys.events.once("preupdate",function(){n.call(m,C)})});return h};class TS{constructor(t,n){this.parent=t,this.waitCompleteEventName=Gt(n,"completeEventName",AO),this.setClickTarget(Gt(n,"clickTarget",this.scene)),this.setCameraTarget(Gt(n,"camera",this.scene.cameras.main)),this.waitId=0}get clickTarget(){return this.parent.clickTarget}set clickTarget(t){this.parent.clickTarget=t}get cameraTarget(){return this.parent.cameraTarget}set cameraTarget(t){this.parent.cameraTarget=t}destroy(){this.removeWaitEvents(),this.clearWaitCompleteCallbacks(),this.setClickTarget(),this.setCameraTarget()}get scene(){return this.parent.managersScene}waitEvent(t,n,m){var C=this.getWaitCompleteTriggerCallback(m);return t.once(n,C,this),this.parent.once(Ou,function(){t.off(n,C,this)}),this.parent}getWaitCompleteTriggerCallback(t){t===void 0&&(t=!0);var n=this.waitId,m=this,C=function(){n<m.waitId||(m.waitId++,m.removeWaitEvents(),m.parent.emit(m.waitCompleteEventName))};if(t){var M=function(){bO(m.parent,0,C)};return M}else return C}removeWaitEvents(){return this.parent.emit(Ou),this}addWaitCompleteCallback(t,n){return this.parent.on(this.waitCompleteEventName,t,n),this}clearWaitCompleteCallbacks(){return this.parent.off(this.waitCompleteEventName),this}}var GO={waitAny:BO};Object.assign(TS.prototype,wO,LO,FO,IO,DO,GO);const N1=Phaser.Utils.Objects.GetValue;var NO=function(i,t){this.clickTarget=void 0,this.cameraTarget=void 0,this.managersScene=i,this.gameObjectManagers={};var n=N1(t,"layers",!1);n!==!1&&(this.gameObjectManagers.layer=new sO(i,n));var m=N1(t,"sounds");return m!==!1&&(this.soundManager=new xS(i,m)),this.timeline=new RO(this),this.waitEventManager=new TS(this,t),this},VO=function(i){this.timeline.timeScale=i;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].setTimeScale(i);return this},zO=function(){return this.timeline.timeScale},kO=function(i){this.waitEventManager.destroy(),this.waitEventManager=void 0;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].destroy(i),delete this.gameObjectManagers[t];this.soundManager&&(this.soundManager.destroy(),this.soundManager=void 0),this.timeline&&(this.timeline.destroy(),this.timeline=void 0),this.clickTarget=void 0,this.cameraTarget=void 0,this.managersScene=void 0};const CS={addGameObjectManager(i,t){i===void 0&&(i={}),t===void 0&&(t=af),i.createGameObjectScope||(i.createGameObjectScope=this);var n=new t(this.managersScene,i);return this.gameObjectManagers[i.name]=n,this},getGameObjectManager(i,t){if(i){var n=this.gameObjectManagers[i];return n}else for(var i in this.gameObjectManagers){var n=this.gameObjectManagers[i];if(n.has(t))return n}},getGameObjectManagerNames(){var i=[];for(var t in this.gameObjectManagers)i.push(t);return i},getGameObjectManagerName(i){for(var t in this.gameObjectManagers)if(this.gameObjectManagers[t].has(i))return t},hasGameObjectMananger(i){return i in this.gameObjectManagers}},UO={createGameObject(i,t,...n){return this.getGameObjectManager(i,t).add(t,...n),this},destroyGameObject(i,t){var n=this.getGameObjectManager(i,t);return t===void 0?n.removeAll():n.remove(t),this},hasGameObject(i,t){return!!this.getGameObjectManager(i,t)},callGameObjectMethod(i,t,n,...m){return this.getGameObjectManager(i,t).call(t,n,...m),this},setGameObjectProperty(i,t,n,m){return this.getGameObjectManager(i,t).setProperty(t,n,m),this},easeGameObjectProperty(i,t,n,m,C,M,h,y){return this.getGameObjectManager(i,t).easeProperty(t,n,m,C,M,h,y),this},getGameObjectTweenTask(i,t,n){return this.getGameObjectManager(i,t).getTweenTask(t,n)},getGameObject(i,t,n){var m=this.getGameObjectManager(i,t);if(typeof t=="string")return m.getGO(t);var C=t;C===void 0&&(C=m.bobs),n===void 0&&(n={});for(t in C)n[t]=m.getGO(t);return n},addGameObject(i,t,n){var m=this.getGameObjectManager(i,t);if(typeof t=="string")m.addGO(t,n);else{var C=t;for(t in C)m.addGO(t,C[t])}return this},drawGameObjectsBounds(i,t,n){i instanceof Phaser.GameObjects.Graphics&&(n=t,t=i,i=void 0),i===void 0&&(i=this.getGameObjectManagerNames()),Array.isArray(i)||(i=[i]);for(var m=0,C=i.length;m<C;m++)this.getGameObjectManager(i[m]).drawGameObjectsBounds(t,n);return this}};var XO=function(i){class t extends i{}var n={initManagers:NO,setTimeScale:VO,getTimeScale:zO,destroyManagers:kO};return Object.assign(t.prototype,n,CS,UO),t},YO=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,WO=/^0x[0-9A-F]+$/i,y0=function(i){return typeof i!="string"||(i===""?i=null:YO.test(i)?i=parseFloat(i):WO.test(i)?i=parseInt(i,16):i==="false"?i=!1:i==="true"&&(i=!0)),i};let SS=class{constructor(t){this.setEventEmitter(Gt(t,"eventEmitter",void 0)),this.setValueConverter(Gt(t,"valueConvert",!0)),this.setLoopEnable(Gt(t,"loop",!1)),this.setMultipleLinesTagEnable(Gt(t,"multipleLinesTag",!1));var n=Gt(t,"delimiters","<>");this.setDelimiters(n[0],n[1]),this.setTranslateTagNameCallback(Gt(t,"translateTagNameCallback")),this.isRunning=!1,this.isPaused=!1,this.skipEventFlag=!1,this.justCompleted=!1,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}setMultipleLinesTagEnable(t){return t===void 0&&(t=!0),this.multipleLinesTagEnable=t,this}setDelimiters(t,n){n===void 0&&(n=t[1],t=t[0]),this.delimiterLeft=t,this.delimiterRight=n,t=Oa(this.delimiterLeft),n=Oa(this.delimiterRight);var m=this.multipleLinesTagEnable?"gs":"gi";return this.reSplit=RegExp(`${t}(.+?)${n}`,m),this}setTranslateTagNameCallback(t){return this.translateTagNameCallback=t,this}setValueConverter(t){return t===!0?t=y0:t||(t=HO),this.valueConverter=t,this}setLoopEnable(t){return t===void 0&&(t=!0),this.loopEnable=t,this}setSource(t){return this.source=t,this}resetIndex(t){return t===void 0&&(t=0),this.progressIndex=t,this.reSplit.lastIndex=t,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null,this.justCompleted=!1,this.isRunning=!1,this}start(t){return this.setSource(t).restart(),this}restart(){this.resetIndex().next()}next(){if(this.isPaused&&this.onResume(),this.isRunning)return this;if(this.isRunning=!0,this.justCompleted)return this.isRunning=!1,this;this.reSplit.lastIndex===0&&this.onStart();var t=this.source,n=t.length;for(this.reSplit.lastIndex=this.progressIndex;;){var m=this.reSplit.exec(t);if(!m){if(this.progressIndex<n&&(this.onContent(t.substring(this.progressIndex,n)),this.isPaused)){this.progressIndex=n;break}this.onComplete(),this.isRunning=!1;return}var C=this.reSplit.lastIndex,M=C-m[0].length;if(this.progressIndex<M&&(this.onContent(t.substring(this.progressIndex,M)),this.isPaused)){this.progressIndex=M;break}if(this.onTag(m[1]),this.progressIndex=C,this.isPaused)break}return this.isRunning=!1,this}skipEvent(){return this.skipEventFlag=!0,this}pause(){return this.isPaused||this.onPause(),this}pauseUntilEvent(t,n){return this.isPaused?this:(this.pause(),t.once(n,function(){this.next()},this),this)}onContent(t){this.skipEventFlag=!1,this.emit("content",t),this.lastContent=t}onTag(t){}onStart(){this.isRunning=!0,this.emit("start",this)}onComplete(){this.isRunning=!1,this.justCompleted=!0,this.emit("complete",this),this.loopEnable&&this.resetIndex()}onPause(){this.isPaused=!0,this.emit("pause",this)}onResume(){this.isPaused=!1,this.emit("resume",this)}};const HO=function(i){return i};Object.assign(SS.prototype,Na);var $O=function(i,t){if(i==null)return[];t===void 0&&(t=y0);for(var n=i.split(","),m=0,C=n.length;m<C;m++)n[m]=t(n[m]);return n};class KO extends SS{constructor(t){t===void 0&&(t={}),t.hasOwnProperty("multipleLinesTag")||(t.multipleLinesTag=!1),super(t),this.setTagExpression(Gt(t,"regex.tag",void 0)),this.setValueExpression(Gt(t,"regex.value",void 0));var n=Gt(t,"delimiters","<>");this.setDelimiters(n[0],n[1])}setTagExpression(t){return t||(t=ul),this.tagExpression=t,this}setValueExpression(t){return t||(t=ul),this.valueExpression=t,this}setDelimiters(t,n){super.setDelimiters(t,n);var m=`(${this.tagExpression})(=(${this.valueExpression}))?`;if(this.reTag=RegExp(m,"i"),this.tagExpression!==ul||this.valueExpression!==ul){var C=`${this.tagExpression}(=${this.valueExpression})?`,M=`/${this.tagExpression}`;t=Oa(this.delimiterLeft),n=Oa(this.delimiterRight);var h=this.multipleLinesTagEnable?"gs":"gi";this.reSplit=RegExp(`${t}((${C})|(${M}))${n}`,h)}return this}onTag(t){var n=t.match(this.reTag),m=n[1],C=m.charAt(0)==="/";if(C&&(m=m.substring(1,m.length)),this.translateTagNameCallback&&(m=this.translateTagNameCallback(m)),this.skipEventFlag=!1,C)this.emit(`-${m}`),this.skipEventFlag||this.emit("-",m),this.lastTagEnd=m;else{var M=$O(n[3],this.valueConverter);this.emit(`+${m}`,...M),this.skipEventFlag||this.emit("+",m,...M),this.lastTagStart=m}}}const ul="[^=]+";var ZO=function(i,t,n){var m="color",C;t.on("start",function(){C=i.textStyle.color}).on(`+${m}`,function(M){i.textStyle.setColor(M),t.skipEvent()}).on(`-${m}`,function(){i.textStyle.setColor(C),t.skipEvent()}).on("complete",function(){i.textStyle.setColor(C)})},jO=function(i,t,n){var m="stroke",C;t.on("start",function(){C=i.textStyle.stroke,i.textStyle.setStrokeStyle(null)}).on(`+${m}`,function(M){M===void 0&&(M=C),i.textStyle.setStrokeStyle(M),t.skipEvent()}).on(`-${m}`,function(){i.textStyle.setStrokeStyle(null),t.skipEvent()}).on("complete",function(){i.textStyle.setStrokeStyle(C)})},JO=function(i,t,n){var m="b";t.on("start",function(){i.textStyle.setBold(!1)}).on(`+${m}`,function(){i.textStyle.setBold(!0),t.skipEvent()}).on(`-${m}`,function(){i.textStyle.setBold(!1),t.skipEvent()})},QO=function(i,t,n){var m="i";t.on("start",function(){i.textStyle.setItalic(!1)}).on(`+${m}`,function(){i.textStyle.setItalic(!0),t.skipEvent()}).on(`-${m}`,function(){i.textStyle.setItalic(!1),t.skipEvent()})},qO=function(i,t,n){var m="size",C;t.on("start",function(){C=i.textStyle.fontSize}).on(`+${m}`,function(M){i.textStyle.setFontSize(M),t.skipEvent()}).on(`-${m}`,function(){i.textStyle.setFontSize(C),t.skipEvent()}).on("complete",function(){i.textStyle.setFontSize(C)})},_O=function(i,t,n){var m="y",C;t.on("start",function(){C=i.textStyle.offsetY,i.textStyle.setOffsetY(0)}).on(`+${m}`,function(M){M===void 0&&(M=C),i.textStyle.setOffsetY(M),t.skipEvent()}).on(`-${m}`,function(){i.textStyle.setOffsetY(0),t.skipEvent()}).on("complete",function(){i.textStyle.setOffsetY(0)})},t9=function(i,t,n){var m="x",C;t.on("start",function(){C=i.textStyle.offsetY,i.textStyle.setOffsetX(0)}).on(`+${m}`,function(M){M===void 0&&(M=C),i.textStyle.setOffsetX(M),t.skipEvent()}).on(`-${m}`,function(){i.textStyle.setOffsetX(0),t.skipEvent()}).on("complete",function(){i.textStyle.setOffsetX(0)})},e9=function(i,t,n){var m="left",C;t.on("start",function(){C=i.textStyle.leftSpace,i.textStyle.setLeftSpace(0)}).on(`+${m}`,function(M){M===void 0&&(M=C),i.textStyle.setLeftSpace(M),t.skipEvent()}).on(`-${m}`,function(){i.textStyle.setLeftSpace(0),t.skipEvent()}).on("complete",function(){i.textStyle.setLeftSpace(0)})},i9=function(i,t,n){var m="right",C;t.on("start",function(){C=i.textStyle.rightSpace,i.textStyle.setRightSpace(0)}).on(`+${m}`,function(M){M===void 0&&(M=C),i.textStyle.setRightSpace(M),t.skipEvent()}).on(`-${m}`,function(){i.textStyle.setRightSpace(0),t.skipEvent()}).on("complete",function(){i.textStyle.setRightSpace(0)})},s9=function(i,t,n){var m="shadow",C;t.on("start",function(){C=i.textStyle.shadowColor,i.textStyle.setShadowColor(null)}).on(`+${m}`,function(M){M===void 0&&(M=C),i.textStyle.setShadowColor(M),t.skipEvent()}).on(`-${m}`,function(){i.textStyle.setShadowColor(null),t.skipEvent()}).on("complete",function(){i.textStyle.setShadowColor(C)})},n9=function(i,t,n){var m="align";t.on(`+${m}`,function(C){i.textStyle.setAlign(C),t.skipEvent()}).on(`-${m}`,function(){i.textStyle.setAlign(),t.skipEvent()}).on("complete",function(){i.textStyle.setAlign()})},r9=function(i,t,n){var m="img";t.on(`+${m}`,function(C){var M=i.imageManager.get(C);oS.call(i,M.key,M.frame,{width:M.width,hieght:M.height,leftSpace:M.left,rightSpace:M.right}),t.skipEvent()}).on(`-${m}`,function(){t.skipEvent()})},a9=function(i,t,n){var m="space";t.on(`+${m}`,function(C){hS.call(i,C),t.skipEvent()}).on(`-${m}`,function(){t.skipEvent()})},o9=function(i,t,n){var m="speed";t.on(`+${m}`,function(C){V1(i,C),t.skipEvent()}).on(`-${m}`,function(){V1(i,void 0),t.skipEvent()})},h9=function(i){this.typeWriter.setTypingSpeed(i)},V1=function(i,t){pt.call(i,"speed",h9,t,i)},l9=function(i,t,n){var m="se";t.on(`+${m}`,function(C,M){pt.call(i,m,u9,[C,M],i),t.skipEvent()}).on(`-${m}`,function(){t.skipEvent()});var m="se2";t.on(`+${m}`,function(C,M){pt.call(i,m,f9,[C,M],i),t.skipEvent()}).on(`-${m}`,function(){t.skipEvent()})},u9=function(i){if(!this.skipSoundEffect){var t=i[0],n=i[1];this.soundManager.playSoundEffect(t),n&&this.soundManager.fadeInSoundEffect(n)}},f9=function(i){if(!this.skipSoundEffect){var t=i[0],n=i[1];this.soundManager.playSoundEffect2(t),n&&this.soundManager.fadeInSoundEffect2(n)}},d9=function(i,t,n){var m="se.fadein";t.on(`+${m}`,function(C){pt.call(i,m,c9,C,i),t.skipEvent()}).on(`-${m}`,function(){t.skipEvent()});var m="se2.fadein";t.on(`+${m}`,function(C){pt.call(i,m,v9,C,i),t.skipEvent()}).on(`-${m}`,function(){t.skipEvent()})},c9=function(i){this.soundManager.fadeInSoundEffect(i)},v9=function(i){this.soundManager.fadeInSoundEffect2(i)},p9=function(i,t,n){var m="se.fadeout";t.on(`+${m}`,function(C,M){M=M==="stop",pt.call(i,m,g9,[C,M],i),t.skipEvent()}).on(`-${m}`,function(){t.skipEvent()});var m="se2.fadeout";t.on(`+${m}`,function(C,M){M=M==="stop",pt.call(i,m,m9,[C,M],i),t.skipEvent()}).on(`-${m}`,function(){t.skipEvent()})},g9=function(i){this.soundManager.fadeOutSoundEffect(...i)},m9=function(i){this.soundManager.fadeOutSoundEffect2(...i)},x9=function(i,t,n){var m="se.volume";t.on(`+${m}`,function(C){pt.call(i,m,y9,C,i),t.skipEvent()}).on(`-${m}`,function(){t.skipEvent()});var m="se2.volume";t.on(`+${m}`,function(C){pt.call(i,m,T9,C,i),t.skipEvent()}).on(`-${m}`,function(){t.skipEvent()})},y9=function(i){this.soundManager.setSoundEffectVolume(i,!0)},T9=function(i){this.soundManager.setSoundEffectVolume2(i,!0)},C9=function(i,t,n){var m="se.mute";t.on(`+${m}`,function(){pt.call(i,m,S9,void 0,i),t.skipEvent()}).on(`-${m}`,function(){t.skipEvent()});var m="se2.mute";t.on(`+${m}`,function(){pt.call(i,m,M9,void 0,i),t.skipEvent()}).on(`-${m}`,function(){t.skipEvent()});var m="se.unmute";t.on(`+${m}`,function(){pt.call(i,m,E9,void 0,i),t.skipEvent()}).on(`-${m}`,function(){t.skipEvent()});var m="se2.unmute";t.on(`+${m}`,function(){pt.call(i,m,P9,void 0,i),t.skipEvent()}).on(`-${m}`,function(){t.skipEvent()})},S9=function(){this.soundManager.setSoundEffectMute(!0)},M9=function(){this.soundManager.setSoundEffect2Mute(!0)},E9=function(){this.soundManager.setSoundEffectMute(!1)},P9=function(){this.soundManager.setSoundEffect2Mute(!1)},R9=function(i,t,n){var m="bgm";t.on(`+${m}`,function(C,M){pt.call(i,m,A9,[C,M],i),t.skipEvent()}).on(`-${m}`,function(){pt.call(i,"bgm.stop",w9,void 0,i),t.skipEvent()});var m="bgm2";t.on(`+${m}`,function(C,M){pt.call(i,m,O9,[C,M],i),t.skipEvent()}).on(`-${m}`,function(){pt.call(i,"bgm2.stop",L9,void 0,i),t.skipEvent()})},A9=function(i){var t=i[0],n=i[1];this.soundManager.playBackgroundMusic(t),n&&this.soundManager.fadeInBackgroundMusic(n)},w9=function(){this.soundManager.stopBackgroundMusic()},O9=function(i){var t=i[0],n=i[1];this.soundManager.playBackgroundMusic2(t),n&&this.soundManager.fadeInBackgroundMusic2(n)},L9=function(){this.soundManager.stopBackgroundMusic2()},F9=function(i,t,n){var m="bgm.fadein";t.on(`+${m}`,function(C){pt.call(i,m,I9,C,i),t.skipEvent()}).on(`-${m}`,function(){t.skipEvent()});var m="bgm2.fadein";t.on(`+${m}`,function(C){pt.call(i,m,D9,C,i),t.skipEvent()}).on(`-${m}`,function(){t.skipEvent()})},I9=function(i){this.soundManager.fadeInBackgroundMusic(i)},D9=function(i){this.soundManager.fadeInBackgroundMusic2(i)},B9=function(i,t,n){var m="bgm.fadeout";t.on(`+${m}`,function(C,M){M=M==="stop",pt.call(i,m,b9,[C,M],i),t.skipEvent()}).on(`-${m}`,function(){t.skipEvent()});var m="bgm2.fadeout";t.on(`+${m}`,function(C,M){M=M==="stop",pt.call(i,m,G9,[C,M],i),t.skipEvent()}).on(`-${m}`,function(){t.skipEvent()})},b9=function(i){this.soundManager.fadeOutBackgroundMusic(...i)},G9=function(i){this.soundManager.fadeOutBackgroundMusic2(...i)},N9=function(i,t,n){var m="bgm.cross";t.on(`+${m}`,function(C,M){pt.call(i,m,V9,[C,M],i),t.skipEvent()}).on(`-${m}`,function(){t.skipEvent()});var m="bgm2.cross";t.on(`+${m}`,function(C,M){pt.call(i,m,z9,[C,M],i),t.skipEvent()}).on(`-${m}`,function(){t.skipEvent()})},V9=function(i){this.soundManager.crossFadeBackgroundMusic(...i)},z9=function(i){this.soundManager.crossFadeBackgroundMusic2(...i)},k9=function(i,t,n){var m="bgm.pause";t.on(`+${m}`,function(){pt.call(i,m,U9,void 0,i),t.skipEvent()}).on(`-${m}`,function(){pt.call(i,"bgm.resume",X9,void 0,i),t.skipEvent()});var m="bgm2.pause";t.on(`+${m}`,function(){pt.call(i,m,Y9,void 0,i),t.skipEvent()}).on(`-${m}`,function(){pt.call(i,"bgm2.resume",W9,void 0,i),t.skipEvent()})},U9=function(){this.soundManager.pauseBackgroundMusic()},X9=function(){this.soundManager.resumeBackgroundMusic()},Y9=function(){this.soundManager.pauseBackgroundMusic2()},W9=function(){this.soundManager.resumeBackgroundMusic2()},H9=function(i,t,n){var m="bgm.volume";t.on(`+${m}`,function(C){pt.call(i,m,$9,C,i),t.skipEvent()}).on(`-${m}`,function(){t.skipEvent()});var m="bgm2.volume";t.on(`+${m}`,function(C){pt.call(i,m,K9,C,i),t.skipEvent()}).on(`-${m}`,function(){t.skipEvent()})},$9=function(i){this.soundManager.setBackgroundMusicVolume(i)},K9=function(i){this.soundManager.setBackgroundMusicVolume2(i)},Z9=function(i,t,n){var m="bgm.mute";t.on(`+${m}`,function(){pt.call(i,m,j9,void 0,i),t.skipEvent()}).on(`-${m}`,function(){t.skipEvent()});var m="bgm2.mute";t.on(`+${m}`,function(){pt.call(i,m,J9,void 0,i),t.skipEvent()}).on(`-${m}`,function(){t.skipEvent()});var m="bgm.unmute";t.on(`+${m}`,function(){pt.call(i,m,Q9,void 0,i),t.skipEvent()}).on(`-${m}`,function(){t.skipEvent()});var m="bgm2.unmute";t.on(`+${m}`,function(){pt.call(i,m,q9,void 0,i),t.skipEvent()}).on(`-${m}`,function(){t.skipEvent()})},j9=function(){this.soundManager.setBackgroundMusicMute(!0)},J9=function(){this.soundManager.setBackgroundMusic2Mute(!0)},Q9=function(){this.soundManager.setBackgroundMusicMute(!1)},q9=function(){this.soundManager.setBackgroundMusic2Mute(!1)},_9=function(i,t,n){var m="camera.fadein";t.on(`+${m}`,function(C,M,h,y){pt.call(i,m,tL,[C,M,h,y],i),t.skipEvent()})},tL=function(i){this.cameraTarget.fadeIn(...i)},eL=function(i,t,n){var m="camera.fadeout";t.on(`+${m}`,function(C,M,h,y){pt.call(i,m,iL,[C,M,h,y],i),t.skipEvent()})},iL=function(i){this.cameraTarget.fadeOut(...i)},sL=function(i,t,n){var m="camera.shake";t.on(`+${m}`,function(C,M){pt.call(i,m,nL,[C,M],i),t.skipEvent()})},nL=function(i){this.cameraTarget.shake(...i)},rL=function(i,t,n){var m="camera.flash";t.on(`+${m}`,function(C,M,h,y){pt.call(i,m,aL,[C,M,h,y],i),t.skipEvent()})},aL=function(i){this.cameraTarget.flash(...i)},oL=function(i,t,n){var m="camera.zoom";t.on(`+${m}`,function(C){pt.call(i,m,hL,C,i),t.skipEvent()}).on(`+${m}.to`,function(C,M,h){pt.call(i,"camera.zoom.to",lL,[C,M,h],i),t.skipEvent()})},hL=function(i){this.cameraTarget.setZoom(i)},lL=function(i){this.cameraTarget.zoomTo(...i)};const z1=Phaser.Math.DegToRad;var uL=function(i,t,n){var m="camera.rotate";t.on(`+${m}`,function(C){C=z1(C),pt.call(i,m,fL,C,i),t.skipEvent()}).on(`+${m}.to`,function(C,M,h){C=z1(C),pt.call(i,"camera.rotate.to",dL,[C,M,h],i),t.skipEvent()})},fL=function(i){this.cameraTarget.setRotation(i)},dL=function(i){var t=i[0],n=i[1],m=i[2];this.cameraTarget.rotateTo(t,!1,n,m)},cL=function(i,t,n){var m="camera.scroll";t.on(`+${m}`,function(C,M){pt.call(i,m,vL,[C,M],i),t.skipEvent()}).on(`+${m}.to`,function(C,M,h,y){pt.call(i,"camera.scroll.to",pL,[C,M,h,y],i),t.skipEvent()})},vL=function(i){this.cameraTarget.setScroll(...i)},pL=function(i){var t=i[0],n=i[1],m=i[2],C=i[3],M=this.cameraTarget,h=M.scrollX,y=M.scrollY;M.setScroll(t,n),t+=M.centerX,n+=M.centerY,M.setScroll(h,y),M.pan(t,n,m,C)},gL=function(i,t,n){var m="wait",C="click";t.on(`+${m}`,function(M){k1(i,M),t.skipEvent()}).on(`-${m}`,function(){t.skipEvent()}).on(`+${C}`,function(){k1(i,"click"),t.skipEvent()}).on(`-${C}`,function(){t.skipEvent()})},mL=function(i){this.typeWriter.wait(i)},k1=function(i,t){pt.call(i,"wait",mL,t,i)},xL=function(i,t,n){var m="r";t.on(`+${m}`,function(){ph.call(i,`
`),t.skipEvent()}).on(`-${m}`,function(){t.skipEvent()})},yL=function(i,t,n){for(var m=["pagebreak","pb"],C=0,M=m.length;C<M;C++){var h=m[C];t.on(`+${h}`,function(){ph.call(i,"\f"),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()})}},TL=function(i,t,n){var m="content.off";t.on(`+${m}`,function(){t.setContentOutputEnable(!1),t.skipEvent()})},CL=function(i,t,n){var m="content.on";t.on(`+${m}`,function(){t.setContentOutputEnable(),t.skipEvent()})},SL=function(i,t,n){t.on("content",function(m){if(t.contentOutputEnable)ph.call(i,m);else{var C=`+${t.lastTagStart}`;i.emit(`parser.${C}#content`,t,m)}})},ML=function(i,t,n){t.on("start",function(){i.emit("parser.start",t)}).on("+",function(m,...C){if(!t.skipEventFlag){var M=`+${m}`,h=C;i.emit(`parser.${M}`,t,...C,h),U1(i,M,h)}}).on("-",function(m){if(!t.skipEventFlag){var C=`-${m}`,M=[];i.emit(`parser.${C}`,t,M),U1(i,C,M)}}).on("complete",function(){i.emit("parser.complete",t)})},EL=function(i,t){var n=`tag.${t}`;i==null?this.emit(n):this.emit(n,...i)},U1=function(i,t,n){pt.call(i,t,EL,n,i)};const X1=[ZO,jO,JO,QO,qO,s9,n9,_O,t9,e9,i9,r9,a9,o9,l9,d9,p9,x9,C9,R9,F9,B9,N9,k9,H9,Z9,_9,eL,sL,rL,oL,uL,cL,gL,xL,yL,TL,CL,SL,ML];var PL=function(i,t,n){for(var m=0,C=X1.length;m<C;m++)X1[m](i,t,n)},RL=function(i,t){for(var n=i.commentLineStart,m=t.split(`
`),C=0,M=m.length;C<M;C++){var h=m[C];h===""||(h.trim().length===0||n&&h.startsWith(n))&&(m[C]="")}return m.join("")};const AL=Phaser.Utils.Objects.GetValue;class wL extends KO{constructor(t,n){n===void 0&&(n={}),n.hasOwnProperty("delimiters")||(n.delimiters="[]"),super(n),PL(t,this,n),this.setCommentLineStartSymbol(AL(n,"comment","//")),this.setContentOutputEnable()}setCommentLineStartSymbol(t){return this.commentLineStart=t,this}setContentOutputEnable(t){return t===void 0&&(t=!0),this.contentOutputEnable=t,this}start(t){return super.start(RL(this,t)),this}}const OL={setDefaultTypingSpeed(i){return this.defaultSpeed=i,this},setTypingSpeed(i){return i===void 0&&(i=this.defaultSpeed),this.speed=i,this}},tr="page.fadeout",Jv="_remove.play",Y1=[tr,Jv];var LL=function(){if(!this.fadeOutPageCallback||!this.children)return this.emit(tr),this;var i=this.children.filter(function(m){return m.renderable}),t=this.fadeOutPageCallback(i,this.fadeOutPageDuration);if(!t)this.emit(tr);else if(t.once)t.once("complete",function(){this.emit(tr)},this);else if(t.then){var n=this;t.then(function(){n.emit(tr)})}else this.emit(tr);return this},lf=function(i,t){return new Promise(function(n,m){i.once(t,function(){n()})})},Se=function(i){return lf(i,"complete")},FL=function(i){return this.children=i,this.index=0,this.isPageTyping=!0,this.onTypeStart&&this.onTypeStart(i),this.typing(),Se(this)};const IL="delay",MS="anim";var ES=function(i){i===void 0&&(i=0);var t=0;for(this.inTypingProcessLoop=!0;this.inTypingProcessLoop;){var n=this.getNextChild();if(!n){this.timeline.isRunning?this.timeline.once("complete",function(){this.isPageTyping=!1,this.emit("complete")},this):(this.isPageTyping=!1,this.emit("complete"));break}if(n.renderable){var m=this.animationConfig;if(m.duration>0){var C=this.timeline.addTimer({name:MS,target:n,duration:m.duration,yoyo:m.yoyo,onStart:m.onStart,onProgress:m.onProgress,onComplete:m.onComplete});this.skipTypingAnimation&&C.seek(1)}else m.onStart&&m.onStart(n,0);this.minSizeEnable&&this.textPlayer.setToMinSize(),this.textPlayer.emit("typing",n);var M=this.nextChild;if(M&&!(this.skipSpaceEnable&&m4(M))){if(t+=this.speed+i,i=0,t>0){this.typingTimer=this.timeline.addTimer({name:IL,target:this,duration:t,onComplete:function(h,y,e){h.typingTimer=void 0,ES.call(h,e.remainder)}});break}}}else x4(n)&&n.exec()}this.minSizeEnable&&this.textPlayer.setToMinSize(),this.inTypingProcessLoop=!1},DL=function(){return this.timeline.pause(),this},BL=function(){return this.timeline.resume(),this},bL=function(){return this.isTypingPaused?this:(this.typingTimer?(this.typingTimer.pause(),this.isTypingPaused=!0):this.inTypingProcessLoop&&(this.inTypingProcessLoop=!1,this.isTypingPaused=!0),this)},GL=function(i){return this.isTypingPaused?(i===void 0&&(i=0),this.typingTimer?(this.isTypingPaused=!1,this.typingTimer.resume(),this.typingTimer.remainder+=i):this.isTypingPaused&&(this.isTypingPaused=!1,this.typing(i)),this):this},NL=function(i){switch(i){case"camera.fadein":case"camera.fadeout":case"camera.flash":case"camera.shake":case"camera.zoom":case"camera.rotate":case"camera.scroll":return!0;default:return!1}},VL=function(i,t){var n=t.split(".");return i.gameObjectManagers.hasOwnProperty(n[0])},zL=function(i,t,n,m){var C=i.waitEventManager,M=t.split("."),h=M[0],y=i.getGameObjectManager(h),e=`wait.${h}`;switch(M.length){case 1:C.waitGameObjectManagerEmpty(h),i.emit(e);return;case 2:var f=M[1];C.waitGameObjectDestroy(h,f),i.emit(e,f);return;case 3:var f=M[1],c=M[2],s=y.getProperty(f,c);if(typeof s=="number"){C.waitGameObjectTweenComplete(h,f,c),i.emit(e,f,c);return}var a=c,r=a.startsWith("!");if(r&&(a=a.substring(1)),y.hasData(f,a)){C.waitGameObjectDataFlag(h,f,a,!r),i.emit(e,f,a);return}else{C.waitTime(0);return}}};const kL=Phaser.Input.Keyboard.KeyCodes;var PS=function(i,t,n,m){var C=i.waitEventManager;C.clearWaitCompleteCallbacks().addWaitCompleteCallback(n,m),typeof t=="string"&&t.length>1&&t.indexOf("|")!==-1?t=t.split("|"):t=[t];for(var M=0,h=t.length;M<h;M++){var y=t[M];if(y==null||y==="wait"){var e=i.waitEventManager.getWaitCompleteTriggerCallback();i.emit("wait",e)}else if(typeof y=="number"||!isNaN(y)){var f=parseFloat(y);C.waitTime(f),i.emit("wait.time",f)}else if(y==="click")C.waitClick(),i.emit("wait.click");else if(y==="se"){C.waitSoundEffectComplete();var c=i.soundManager.getLastSoundEffect();i.emit("wait.music",c)}else if(y==="se2"){C.waitSoundEffect2Complete();var c=i.soundManager.getLastSoundEffect2();i.emit("wait.music",c)}else if(y==="bgm"){C.waitBackgroundMusicComplete();var c=i.soundManager.getBackgroundMusic();i.emit("wait.music",c)}else if(y==="bgm2"){C.waitBackgroundMusic2Complete();var c=i.soundManager.getBackgroundMusic2();i.emit("wait.music",c)}else if(kL.hasOwnProperty(y.toUpperCase()))C.waitKeyDown(y),i.emit("wait.keydown",y);else if(NL(y))C.waitCameraEffectComplete(y),i.emit("wait.camera",y);else if(VL(i,y))zL(i,y);else{var e=i.waitEventManager.getWaitCompleteTriggerCallback();i.emit(`wait.${y}`,e)}}},UL=function(i){return this.ignoreWait?this:(this.pauseTyping(),PS(this.textPlayer,i,this.resumeTyping,this),this)},XL=function(i){return i===void 0&&(i=!0),this.ignoreWait=i,this},YL=function(i){return i===void 0&&(i=!0),this.skipSpaceEnable=i,this},WL=function(i){if(i===void 0&&(i=!0),this.skipTypingAnimation=i,i)for(var t=this.timeline.getTimers(MS),n=0,m=t.length;n<m;n++)t[n].seek(1);return this},HL=function(i){if(i===void 0&&(i=!0),this.skipSoundEffect=i,i){var t=this.textPlayer._soundManager;t&&t.fadeOutAllSoundEffects(100,!0)}return this},$L=function(){return this.typingTimer&&this.typingTimer.seek(1),this},RS={fadeOutPage:LL,start:FL,typing:ES,pause:DL,resume:BL,pauseTyping:bL,resumeTyping:GL,wait:UL,setIgnoreWait:XL,setSkipSpaceEnable:YL,setSkipTypingAnimation:WL,setSkipSoundEffect:HL,skipCurrentTypingDelay:$L};Object.assign(RS,OL);const Fr=Phaser.Utils.Objects.GetValue;class AS{constructor(t,n){this.setEventEmitter(),this.textPlayer=t,this.isPageTyping=!1,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.inTypingProcessLoop=!1,this.isTypingPaused=!1,this.setIgnoreWait(!1),this.setSkipTypingAnimation(!1),this.setTypingStartCallback(Fr(n,"onTypingStart",ZL)),this.setDefaultTypingSpeed(Fr(n,"speed",250)),this.setTypingSpeed(),this.setSkipSpaceEnable(Fr(n,"skipSpace",!1)),this.setAnimationConfig(Fr(n,"animation",void 0)),this.setMinSizeEnable(Fr(n,"minSizeEnable",!1)),this.setFadeOutPageCallback(Fr(n,"fadeOutPage"))}destroy(){this.destroyEventEmitter(),this.textPlayer=void 0,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.onTypeStart=void 0,this.animationConfig=void 0}get timeline(){return this.textPlayer.timeline}setTypingStartCallback(t){return this.onTypeStart=t,this}setAnimationConfig(t){return t||(t={}),t.hasOwnProperty("duration")||(t.duration=0),t.hasOwnProperty("onStart")||(t.onStart=KL),this.animationConfig=t,this}setFadeOutPageCallback(t){return this.fadeOutPageCallback=t,this}setMinSizeEnable(t){return t===void 0&&(t=!0),this.minSizeEnable=t,this}getNextChild(){var t=this.nextChild;return this.index=Math.min(this.index+1,this.children.length),this._nextChild=void 0,t}get nextChild(){return this._nextChild||(this._nextChild=this.children[this.index]),this._nextChild}}var KL=function(i){i.setVisible&&i.setVisible()},ZL=function(i){for(var t=0,n=i.length;t<n;t++){var m=i[t];m.setVisible&&m.setVisible(!1)}};Object.assign(AS.prototype,Na,RS);class jL extends p0{playAnimation(t){return this.gameObject.anims.timeScale=this.timeScale,this.gameObject.play(t),this}stopAnimation(){return this.gameObject.stop(),this}chainAnimation(t){return this.gameObject.chain(t),this}pauseAnimation(){return this.gameObject.anims.pause(),this}setTimeScale(t){return super.setTimeScale(t),this.gameObject.anims&&(this.gameObject.anims.timeScale=t),this}}const JL={playAnimation(i,t){return this.has(i)||this.add(i),this.get(i).playAnimation(t),this},stopAnimation(i){return this.has(i)?(this.get(i).stopAnimation(),this):this},chainAnimation(i,t){return this.has(i)?(this.get(i).chainAnimation(t),this):this},pauseAnimation(i){return this.has(i)?(this.get(i).pauseAnimation(),this):this}};var wS={};Object.assign(wS,JL);class OS extends af{constructor(t,n){n===void 0&&(n={}),n.BobClass=jL,super(t,n)}setCreateGameObjectCallback(t,n){return!t||t==="sprite"?t=QL:t==="image"&&(t=qL),super.setCreateGameObjectCallback(t,n),this}}var QL=function(i,t,n){return typeof n!="string"&&typeof n!="number"&&(n=void 0),i.add.sprite(0,0,t,n)},qL=function(i,t,n){return typeof n!="string"&&typeof n!="number"&&(n=void 0),i.add.image(0,0,t,n)};Object.assign(OS.prototype,wS);var W1=function(i,t){return i.length===3&&i[0]===t&&i[2]==="play"},_L=function(i,t){return i.length===3&&i[0]===t&&i[2]==="stop"},t8=function(i,t,n){var m=n.name;t.on("+",function(C,...M){if(!t.skipEventFlag){var h=C.split("."),y;if(W1(h,m))y=h[1];else return;pt.call(i,`${m}.play`,e8,[m,y,M],i),t.skipEvent()}}).on("+",function(C){if(!t.skipEventFlag){var M=C.split("."),h;if(_L(M,m))h=M[1];else return;pt.call(i,`${m}.stop`,H1,[m,h],i),t.skipEvent()}}).on("-",function(C){if(!t.skipEventFlag){var M=C.split("."),h;if(W1(M,m))h=M[1];else return;pt.call(i,`${m}.stop`,H1,[m,h],i),t.skipEvent()}})},e8=function(i){var t,n,m;[t,n,m]=i;var C=m.shift(),M=this.getGameObjectManager(t);M.playAnimation(n,C),m.length>0&&M.chainAnimation(n,m)},H1=function(i){var t,n;[t,...n]=i;var m=this.getGameObjectManager(t);m.stopAnimation(...n)},i8=function(i,t){return i.length===3&&i[0]===t&&i[2]==="pause"},s8=function(i,t,n){var m=n.name;t.on("+",function(C){if(!t.skipEventFlag){var M=C.split("."),h;if(i8(M,m))h=M[1];else return;pt.call(i,`${m}.pause`,n8,[m,h],i),t.skipEvent()}})},n8=function(i){var t,n;[t,...n]=i;var m=this.getGameObjectManager(t);m.pauseAnimation(...n)},r8=function(i,t){return i.length===3&&i[0]===t&&i[2]==="chain"},a8=function(i,t,n){var m=n.name;t.on("+",function(C){if(!t.skipEventFlag){var M=C.split("."),h;if(r8(M,m))h=M[1];else return;var y=Array.prototype.slice.call(arguments,1);pt.call(i,`${m}.chain`,o8,[m,h,y],i),t.skipEvent()}})},o8=function(i){var t,n;[t,...n]=i;var m=this.getGameObjectManager(t);m.chainAnimation(...n)};const h8=[t8,s8,a8];var l8=function(i){i===void 0&&(i={}),i.name="sprite",i.parseCallbacks=h8,this.addGameObjectManager(i,OS)},$1=function(i,t){return i.length===2&&i[0]===t},u8=function(i,t,n){var m=n.name;t.on("+",function(C,...M){if(!t.skipEventFlag){var h=C.split("."),y;if($1(h,m))y=h[1];else return;pt.call(i,`${m}.add`,f8,[m,y,...M],i),t.skipEvent()}}).on("-",function(C){if(!t.skipEventFlag){var M=C.split("."),h;if($1(M,m))h=M[1];else return;pt.call(i,`${m}.remove`,d8,[m,h],i),t.skipEvent()}})},f8=function(i){var t,n;[t,...n]=i;var m=this.getGameObjectManager(t);m.add(...n)},d8=function(i){var t,n;[t,...n]=i;var m=this.getGameObjectManager(t);m.remove(...n)},c8=function(i,t,n){var m=n.name;t.on("-",function(C){t.skipEventFlag||C===m&&(pt.call(i,`${m}.removeall`,v8,m,i),t.skipEvent())})},v8=function(i){var t=this.getGameObjectManager(i);t.removeAll()},p8=function(i,t){return i.length===3&&i[0]===t},g8=function(i,t,n){var m=n.name;t.on("+",function(C,...M){if(!t.skipEventFlag){var h=C.split("."),y,e;if(p8(h,m))y=h[1],e=h[2];else return;pt.call(i,`${m}.call`,m8,[m,y,e,...M],i),t.skipEvent()}})},m8=function(i){var t,n,m,C;[t,n,m,...C]=i;var M=`${t}.${m}`;if(this.emit(M,n,...C),!(this.listenerCount(M)>0)){var h=this.getGameObjectManager(t);h.hasMethod(n,m)?h.call(n,m,...C):h.setProperty(n,m,C[0])}},x8={to:!0,yoyo:!0,from:!0,toLeft:!0,toRight:!0,toUp:!0,toDown:!0,yoyoLeft:!0,yoyoRight:!0,yoyoUp:!0,yoyoDown:!0,fromLeft:!0,fromRight:!0,fromUp:!0,fromDown:!0},y8=function(i,t){return i.length===4&&i[0]===t&&x8[i[3]]},T8=function(i,t,n){var m=n.name;i.getGameObjectManager(m),t.on("+",function(C,M,h,y,e){if(!t.skipEventFlag){var f=C.split("."),c,s,a;if(y8(f,m))c=f[1],s=f[2],a=f[3];else return;typeof y=="number"&&(e=y,y=void 0),pt.call(i,`${m}.ease`,C8,[m,c,s,M,h,y,e,a],i),t.skipEvent()}})},C8=function(i){var t,n,m,C,M,h,y,e;[t,n,m,C,M,h,y,e]=i;var f=this.getGameObjectManager(t),c=f.getProperty(n,m);if(typeof c=="number"){e.endsWith("Left")||e.endsWith("Up")?e.startsWith("to")||e.startsWith("yoyo")?C=c-C:e.startsWith("from")&&(f.setProperty(n,m,c-C),C=c):e.endsWith("Right")||e.endsWith("Down")?e.startsWith("to")||e.startsWith("yoyo")?C=c+C:e.startsWith("from")&&(f.setProperty(n,m,c+C),C=c):e==="from"&&(f.setProperty(n,m,C),C=c);var s=e.startsWith("yoyo");f.easeProperty(n,m,C,M,h,y,s)}};const K1=[u8,c8,g8,T8],S8=CS.addGameObjectManager,M8={addGameObjectManager(i,t){i===void 0&&(i={});var n=i.name;n||console.warn("Parameter 'name' is required in TextPlayer.addGameObjectManager(config) method"),S8.call(this,i,t);var m=i.parseCallbacks;m?m=[...m,...K1]:m=K1;for(var C=0,M=m.length;C<M;C++)m[C](this,this.parser,i);return this}};var E8=function(i){return this.waitEventManager.setClickTarget(i),this},P8=function(i){return this.waitEventManager.setCameraTarget(i),this},R8=function(i){var t=this;i?typeof i=="function"?this.nextPageInput=function(n,m){var C=t.waitEventManager;C.clearWaitCompleteCallbacks().addWaitCompleteCallback(n,m);var M=C.getWaitCompleteTriggerCallback();i.call(t,M)}:this.nextPageInput=function(n,m){PS(t,i,n,m)}:this.nextPageInput=null},A8=function(i,t){return this.imageManager.add(i,t),this};const w8={play(i){return this.isPlaying?this:(this.removeChildren(),this.parser.start(i),this.isPlaying=!0,this.once("complete",function(){this.isPlaying=!1},this),this.lastWrapResult=void 0,this.typingNextPage(),this)},playPromise(i){var t=Se(this);return this.play(i),t}};var Qv=function(){return!this.isPlaying||this.isPageTyping?this:(this.typeWriter.once(tr,O8,this).fadeOutPage(),this)},O8=function(){var i=this.runWrap(this.lastWrapResult);this.lastWrapResult=i,this.emit("page.start");var t=function(){this.emit(Jv),i.isLastPage?this.emit("complete"):(this.emit("page.complete"),this.ignoreNextPageInput?Qv.call(this):this.nextPageInput&&this.nextPageInput(Qv,this))};this.once(Jv,function(){this.typeWriter.off("complete",t,this)},this),this.typeWriter.once("complete",t,this).start(i.children)};const L8={pause(){return this.timeline.pause(),this},pauseTyping(){return this.typeWriter.pauseTyping(),this}},F8={resume(){return this.timeline.resume(),this},resumeTyping(i){return this.typeWriter.resumeTyping(i),this}};var I8=function(i){return this.typeWriter.wait(i),this};const D8={setDefaultTypingSpeed(i){return this.defaultTypingSpeed=i,this},setTypingSpeed(i){return this.typingSpeed=i,this}};var B8=function(i){return this.typeWriter.setIgnoreWait(i),this},b8=function(i){return i===void 0&&(i=!0),this.ignoreNextPageInput=i,this},G8=function(){if(!this.isPlaying||!this.isPageTyping)return this;var i=this.typeWriter.speed,t=this.typeWriter.ignoreWait,n=this.typeWriter.skipTypingAnimation,m=this.typeWriter.skipSoundEffect;return this.typeWriter.once("complete",function(){this.typeWriter.setTypingSpeed(i).setIgnoreWait(t).setSkipTypingAnimation(n).setSkipSoundEffect(m)},this).setTypingSpeed(0).skipCurrentTypingDelay().setIgnoreWait(!0).setSkipTypingAnimation(!0).setSkipSoundEffect(!0),this};const N8={getSprite(i){return this.getGameObject("sprite",i)},addSprite(i,t){return this.addGameObject("sprite",i,t),this}},V8={setContentOutputEnable(i){return this.parser.setContentOutputEnable(i),this},setContentCallback(i,t){return this.contentCallback=i,this.contentCallbackScope=t,this}};var LS={setClickTarget:E8,setCameraTarget:P8,setNextPageInput:R8,addImage:A8,typingNextPage:Qv,wait:I8,setIgnoreWait:B8,setIgnoreNextPageInput:b8,showPage:G8};Object.assign(LS,M8,w8,L8,F8,D8,N8,V8);var z8=function(i){for(var t=0,n=Y1.length;t<n;t++)i.emit(Y1[t])};const Z1=Phaser.Utils.Objects.IsPlainObject,Ir=Phaser.Utils.Objects.GetValue;class T0 extends XO(Ga){constructor(t,n,m,C,M,h){Z1(n)?h=n:Z1(C)&&(h=C),h===void 0&&(h={});var y=h.text;delete h.text,super(t,n,m,C,M,h),this.type="rexTextPlayer",this.initManagers(t,h),this.parser=new wL(this,Ir(h,"parser",void 0)),this.typeWriter=new AS(this,Ir(h,"typing",void 0)),this._imageManager=void 0;var e=Ir(h,"images",void 0);e&&this.addImage(e);var f=Ir(h,"sprites");f!==!1&&f!==null&&l8.call(this,f),this.setIgnoreNextPageInput(Ir(h,"ignoreNextPageInput",!1)),this.setNextPageInput(Ir(h,"nextPageInput",null)),this.isPlaying=!1,y&&this.play(y)}get imageManager(){return this._imageManager===void 0&&(this._imageManager=new l0(this.scene)),this._imageManager}get spriteManager(){return this.getGameObjectManager("sprite")}destroy(t){!this.scene||this.ignoreDestroy||(z8(this),this.parser.destroy(),this.parser=void 0,this.typeWriter.destroy(t),this.typeWriter=void 0,this._imageManager&&this._imageManager.destroy(t),this._imageManager=void 0,this.destroyManagers(t),super.destroy(t))}get isPageTyping(){return this.typeWriter.isPageTyping}set defaultTypingSpeed(t){this.typeWriter.setDefaultTypingSpeed(t)}get defaultTypingSpeed(){return this.typeWriter.defaultTypingSpeed}set typingSpeed(t){this.typeWriter.setTypingSpeed(t)}get typingSpeed(){return this.typeWriter.speed}set timeScale(t){this.setTimeScale(t)}get timeScale(){return this.getTimeScale()}}Object.assign(T0.prototype,LS);at.register("textPlayer",function(i,t,n,m,C){var M=new T0(this.scene,i,t,n,m,C);return this.scene.add.existing(M),M});nt(window,"RexPlugins.UI.TextPlayer",T0);const FS={maxLength:["maxLength",void 0],minLength:["minLength",void 0],readOnly:["readOnly",!1]},IS={direction:["direction",void 0]};var sn=function(i,t,n){if(typeof n=="string")i.hasOwnProperty(n)&&(t[n]=i[n]);else{var m=n;if(Array.isArray(m))for(var C=0,M=m.length;C<M;C++)sn(i,t,m[C]);else for(var n in m)sn(i,t,n)}},k8=function(i){i===void 0&&(i={});var t={};return sn(i,t,"inputType"),sn(i,t,"type"),sn(i,t,"style"),sn(i,t,IS),sn(i,t,FS),t},C0=function(i,t,n,m){if(t)return!(n&&!n(i,t)||!j1(i,t)||m&&!m(i,t));for(var C=i.scene.input.manager,M=C.pointersTotal,h=C.pointers,t,y=0;y<M;y++)if(t=h[y],!(n&&!n(i,t))&&j1(i,t)&&!(m&&!m(i,t)))return!0;return!1},j1=function(i,t){for(var n=i.scene,m=n.input.cameras.getCamerasBelowPointer(t),C=n.input.manager,M=[i],h,y=0,e=m.length;y<e;y++)if(h=C.hitTest(t,M,m[y]),h.length>0)return!0;return!1},fa=void 0,U8=function(i){i!==fa&&(fa!==void 0&&fa.close(),fa=i)},X8=function(i){i===fa&&(fa=void 0)};const Y8=Phaser.Utils.Objects.GetValue;var Lu=function(i,t,n){n===void 0&&(n={});var m,C;for(var M in i)m=i[M],C=Y8(t,M,m[1]),C!==void 0&&(n[m[0]]=C);return n},DS=function(i){i.addEventListener("touchstart",Dr,!1),i.addEventListener("touchmove",Dr,!1),i.addEventListener("touchend",Dr,!1),i.addEventListener("mousedown",Dr,!1),i.addEventListener("mouseup",Dr,!1),i.addEventListener("mousemove",Dr,!1)},Dr=function(i){i.stopPropagation()};const Gd=Phaser.Utils.Objects.GetValue;var W8=function(i,t){var n,m=Gd(t,"inputType",void 0);m===void 0&&(m=Gd(t,"type","text")),m==="textarea"?(n=document.createElement("textarea"),n.style.resize="none"):(n=document.createElement("input"),n.type=m);var C=Gd(t,"style",void 0),M=n.style;Lu(IS,C,M),M.position="absolute",M.opacity=0,M.pointerEvents="none",M.zIndex=0,M.transform="scale(0)",Lu(FS,t,n),DS(n);var h=i.scene.sys.scale,y=h.isFullscreen?h.fullscreenTarget:document.body;return y.appendChild(n),n},H8=function(){return this.isOpened?this:this.readOnly?this:(U8(this),this.isOpened=!0,this.node||(this.node=W8(this,this.nodeConfig)),this.setFocus(),this.initText(),this.enterCloseEnable&&this.scene.input.keyboard.once("keydown-ENTER",this.close,this),this.scene.sys.events.on("postupdate",this.updateText,this),this.scene.input.on("pointerdown",this.onClickOutside,this),this.onOpenCallback&&this.onOpenCallback(this.parent,this),this.emit("open",this),this)},$8=function(i){if(i){var t=i.parentElement;t&&t.removeChild(i)}},K8=function(){return this.isOpened?(X8(this),this.setBlur(),this.isOpened=!1,this.updateText(),this.scene.sys.events.off("postupdate",this.updateText,this),this.scene.input.off("pointerdown",this.onClickOutside,this),this.onCloseCallback&&this.onCloseCallback(this.parent,this),$8(this.node),this.node=void 0,this.emit("close",this),this):this},Z8={open:H8,close:K8};const $s=Phaser.Utils.Objects.GetValue;class S0 extends me{constructor(t,n){super(t);var m=$s(n,"inputType",void 0);m===void 0&&(m=$s(n,"type","text")),this.setEnterCloseEnable($s(n,"enterClose",m!=="textarea"));var C=$s(n,"onOpen",void 0);C||(C=$s(n,"onFocus",void 0)),this.onOpenCallback=C;var M=$s(n,"onClose",void 0);M||(M=$s(n,"onBlur",void 0)),this.onCloseCallback=M,this.onUpdateCallback=$s(n,"onUpdate",void 0),this.isOpened=!1,t.on("pointerdown",function(){this.open()},this).setInteractive(),this.nodeConfig=k8(n),this.node=void 0}destroy(){this.close(),super.destroy()}onClickOutside(t){C0(this.parent,t)||this.close()}setEnterCloseEnable(t){return t===void 0&&(t=!0),this.enterCloseEnable=t,this}initText(){}updateText(){}get text(){return this.node?this.node.value:""}set text(t){this.node&&(this.node.value=t)}setText(t){return this.text=t,this}get maxLength(){return this.nodeConfig.maxLength}set maxLength(t){this.nodeConfig.maxLength=t,this.node&&(this.node.maxLength=t)}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.nodeConfig.minLength}set minLength(t){this.nodeConfig.minLength=t,this.node&&(this.node.minLength=t)}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node&&(this.node.placeholder=t)}setPlaceholder(t){return this.placeholder=t,this}selectText(t,n){return this.node?(t===void 0?this.node.select():this.node.setSelectionRange(t,n),this):this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node?this.node.selectionStart:0}get selectionEnd(){return this.node?this.node.selectionEnd:0}get selectedText(){if(!this.node)return"";var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node?this.node.selectionStart:0}set cursorPosition(t){this.node&&this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node?this.node.title:""}set tooltip(t){if(!this.node)return this;this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.nodeConfig.readOnly}set readOnly(t){this.nodeConfig.readOnly=t,this.node&&(this.node.readOnly=t)}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node?this.node.spellcheck:""}set spellCheck(t){this.node&&(this.node.spellcheck=t)}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){if(this.node)return this.node.style.color}set fontColor(t){this.node&&(this.node.style.color=t)}setFontColor(t){return this.fontColor=t,this}setStyle(t,n){return this.node?(this.node.style[t]=n,this):this}getStyle(t){if(this.node)return this.node.style[t]}scrollToBottom(){return this.node?(this.node.scrollTop=this.node.scrollHeight,this):this}setEnabled(t){return this.node?(t===void 0&&(t=!0),this.node.disabled=!t,this):this}setBlur(){return this.node?(this.node.blur(),this):this}setFocus(){return this.node?(this.node.focus(),this):this}get isFocused(){return this.isOpened}}Object.assign(S0.prototype,Z8);var BS=function(i,t,n){i=i.replace(" ","");var m=n.previousText;if(i===m)return i;if(isNaN(i)){n.emit("nan",i,n),i=m;var C=n.cursorPosition-1;n.setText(i),n.setCursorPosition(C)}else n.previousText=i;return i},j8=function(i){var t=i.parent,n=i.isOpened?i.selectionStart:null,m=i.isOpened?i.selectionEnd:null,C=i.prevSelectionStart,M=i.prevSelectionEnd;if(!(C===n&&M===m)){var h,y;C===null?(h=n,y=m):(h=Math.min(C,n),y=Math.max(M,m));for(var e=h;e<y;e++){var f=C===null?!1:e>=C&&e<M,c=e>=n&&e<m;if(!(f&&c)){var s=t.getCharChild(e);s&&(f?t.emit("cursorout",s,e,t):t.emit("cursorin",s,e,t))}}i.prevSelectionStart=n,i.prevSelectionEnd=m}},J8=function(i){var t=i.parent,n=t.text,m=i.cursorPosition;if(i.prevCursorPosition!==m){if(i.prevCursorPosition!==null&&i.prevCursorPosition>n.length&&(i.prevCursorPosition=null),i.prevCursorPosition!==null){var C=t.getCharChild(i.prevCursorPosition);C&&t.emit("cursorout",C,i.prevCursorPosition,t)}if(m!=null){var C=t.getCharChild(m);C&&t.emit("cursorin",C,m,t)}t.emit("movecursor",m,i.prevCursorPosition,t),i.prevCursorPosition=m}},J1=function(i){var t=i.prevSelectionStart;if(t!==null){for(var n=i.prevSelectionEnd,m=i.parent,C=t;C<n;C++){var M=m.getCharChild(C);M&&m.emit("cursorout",M,C,m)}i.prevSelectionStart=null,i.prevSelectionEnd=null}},Q1=function(i){var t=i.prevCursorPosition;if(t!==null){var n=i.parent,m=n.getCharChild(t);m&&n.emit("cursorout",m,t,n),i.prevCursorPosition=null}};const Q8=Phaser.Utils.Objects.GetValue;let q8=class extends S0{constructor(t,n){super(t,n),this.setSelectAllWhenFocusEnable(Q8(n,"selectAll",!1)),this.cursorMoveStartIndex=null,this.prevCursorPosition=null,this.prevSelectionStart=null,this.prevSelectionEnd=null,this.firstClickAfterOpen=!1,t.on("pointerdown",function(m,C,M,h){var y=t.getNearestChild(C,M),e=t.getCharIndex(y);(!this.selectAllWhenFocus||!this.firstClickAfterOpen)&&this.setCursorPosition(e),this.cursorMoveStartIndex=e,this.firstClickAfterOpen=!1},this).on("pointermove",function(m,C,M,h){if(m.isDown){var y=t.getNearestChild(C,M),e=t.getCharIndex(y);this.cursorMoveStartIndex<e?this.selectText(this.cursorMoveStartIndex,e+1):this.selectText(e,this.cursorMoveStartIndex+1)}},this),this.on("open",function(){this.selectAllWhenFocus&&this.selectAll(),this.firstClickAfterOpen=!0,t.emit("open")},this).on("close",function(){t.emit("close")},this)}initText(){var t=this.parent;return this.prevCursorPosition=null,this.setText(t.text),this}updateText(){var t=this.parent,n=this.text;if(this.onUpdateCallback){var m=this.onUpdateCallback(n,t,this);m!=null&&(n=m)}return t.text!==n&&(t.setText(n),t.emit("textchange",n,t,this)),this.isOpened?this.selectionStart!==this.selectionEnd?(Q1(this),j8(this)):(J1(this),J8(this)):(J1(this),Q1(this)),this}setNumberInput(){return this.onUpdateCallback=BS,this}setSelectAllWhenFocusEnable(t){return t===void 0&&(t=!0),this.selectAllWhenFocus=t,this}};const _8=Phaser.Utils.Objects.GetValue,t7=["inputType","onOpen","onFocus","onClose","onBlur","onUpdate","enterClose","readOnly","maxLength","minLength","selectAll"];var e7=function(i,t){var n=_8(t,"edit");return n===void 0&&(n={}),sn(t,n,t7),new q8(i,n)},us=function(i,t){if(!i||typeof i=="number")return!1;if(i.hasOwnProperty(t))return!0;if(t.indexOf(".")!==-1){for(var n=t.split("."),m=i,C=0;C<n.length;C++)if(m.hasOwnProperty(n[C]))m=m[n[C]];else return!1;return!0}else return!1},i7=function(i){var t=!i.textArea;if(!us(i,"wrap.vAlign")){var n=t?"center":"top";nt(i,"wrap.vAlign",n)}if(us(i,"wrap.charWrap")||nt(i,"wrap.charWrap",!0),!us(i,"wrap.maxLines")){var n=t?1:void 0;nt(i,"wrap.maxLines",n)}if(us(i,"wrap.useDefaultTextHeight")||nt(i,"wrap.useDefaultTextHeight",!0),i.edit||(i.edit={}),!us(i.edit,"inputType")){var n=t?"text":"textarea";nt(i.edit,"inputType",n)}return i},s7=function(i){g0(i)||this.setCursorStyle(i).on("cursorin",function(t){var n=this.cursorStyle,m=n0(t.style,n);r0(n,m)||(t.styleSave=m,t.modifyStyle(n))},this).on("cursorout",function(t){t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},n7=function(i){g0(i)||this.setFocusStyle(i).on("open",function(){var t=this.background,n=this.focusStyle,m=n0(t,n);r0(n,m)||(t.styleSave=m,t.modifyStyle(n))},this).on("close",function(){var t=this.background;t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},r7=function(i){var t=i.createCharChild("|");return t.text="",tS.call(i,t),t};function zs(){}zs.prototype={diff(i,t,n={}){let m=n.callback;typeof n=="function"&&(m=n,n={}),this.options=n;let C=this;function M(r){return m?(setTimeout(function(){m(void 0,r)},0),!0):r}i=this.castInput(i),t=this.castInput(t),i=this.removeEmpty(this.tokenize(i)),t=this.removeEmpty(this.tokenize(t));let h=t.length,y=i.length,e=1,f=h+y;n.maxEditLength&&(f=Math.min(f,n.maxEditLength));let c=[{newPos:-1,components:[]}],s=this.extractCommon(c[0],t,i,0);if(c[0].newPos+1>=h&&s+1>=y)return M([{value:this.join(t),count:t.length}]);function a(){for(let r=-1*e;r<=e;r+=2){let o,l=c[r-1],v=c[r+1],u=(v?v.newPos:0)-r;l&&(c[r-1]=void 0);let d=l&&l.newPos+1<h,p=v&&0<=u&&u<y;if(!d&&!p){c[r]=void 0;continue}if(!d||p&&l.newPos<v.newPos?(o=o7(v),C.pushComponent(o.components,void 0,!0)):(o=l,o.newPos++,C.pushComponent(o.components,!0,void 0)),u=C.extractCommon(o,t,i,r),o.newPos+1>=h&&u+1>=y)return M(a7(C,o.components,t,i,C.useLongestToken));c[r]=o}e++}if(m)(function r(){setTimeout(function(){if(e>f)return m();a()||r()},0)})();else for(;e<=f;){let r=a();if(r)return r}},pushComponent(i,t,n){let m=i[i.length-1];m&&m.added===t&&m.removed===n?i[i.length-1]={count:m.count+1,added:t,removed:n}:i.push({count:1,added:t,removed:n})},extractCommon(i,t,n,m){let C=t.length,M=n.length,h=i.newPos,y=h-m,e=0;for(;h+1<C&&y+1<M&&this.equals(t[h+1],n[y+1]);)h++,y++,e++;return e&&i.components.push({count:e}),i.newPos=h,y},equals(i,t){return this.options.comparator?this.options.comparator(i,t):i===t||this.options.ignoreCase&&i.toLowerCase()===t.toLowerCase()},removeEmpty(i){let t=[];for(let n=0;n<i.length;n++)i[n]&&t.push(i[n]);return t},castInput(i){return i},tokenize(i){return i.split("")},join(i){return i.join("")}};function a7(i,t,n,m,C){let M=0,h=t.length,y=0,e=0;for(;M<h;M++){let c=t[M];if(c.removed){if(c.value=i.join(m.slice(e,e+c.count)),e+=c.count,M&&t[M-1].added){let s=t[M-1];t[M-1]=t[M],t[M]=s}}else{if(!c.added&&C){let s=n.slice(y,y+c.count);s=s.map(function(a,r){let o=m[e+r];return o.length>a.length?o:a}),c.value=i.join(s)}else c.value=i.join(n.slice(y,y+c.count));y+=c.count,c.added||(e+=c.count)}}let f=t[h-1];return h>1&&typeof f.value=="string"&&(f.added||f.removed)&&i.equals("",f.value)&&(t[h-2].value+=f.value,t.pop()),t}function o7(i){return{newPos:i.newPos,components:i.components.slice(0)}}const h7=new zs;function l7(i,t,n){return h7.diff(i,t,n)}const q1=/^[a-zA-Z\u{C0}-\u{FF}\u{D8}-\u{F6}\u{F8}-\u{2C6}\u{2C8}-\u{2D7}\u{2DE}-\u{2FF}\u{1E00}-\u{1EFF}]+$/u,_1=/\S/,bS=new zs;bS.equals=function(i,t){return this.options.ignoreCase&&(i=i.toLowerCase(),t=t.toLowerCase()),i===t||this.options.ignoreWhitespace&&!_1.test(i)&&!_1.test(t)};bS.tokenize=function(i){let t=i.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/);for(let n=0;n<t.length-1;n++)!t[n+1]&&t[n+2]&&q1.test(t[n])&&q1.test(t[n+2])&&(t[n]+=t[n+2],t.splice(n+1,2),n--);return t};const GS=new zs;GS.tokenize=function(i){let t=[],n=i.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(let m=0;m<n.length;m++){let C=n[m];m%2&&!this.options.newlineIsToken?t[t.length-1]+=C:(this.options.ignoreWhitespace&&(C=C.trim()),t.push(C))}return t};const u7=new zs;u7.tokenize=function(i){return i.split(/(\S.+?[.!?])(?=\s+|$)/)};const f7=new zs;f7.tokenize=function(i){return i.split(/([{}:;,]|\s+)/)};const d7=Object.prototype.toString,nh=new zs;nh.useLongestToken=!0;nh.tokenize=GS.tokenize;nh.castInput=function(i){const{undefinedReplacement:t,stringifyReplacer:n=(m,C)=>typeof C>"u"?t:C}=this.options;return typeof i=="string"?i:JSON.stringify(qv(i,null,null,n),n,"  ")};nh.equals=function(i,t){return zs.prototype.equals.call(nh,i.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function qv(i,t,n,m,C){t=t||[],n=n||[],m&&(i=m(C,i));let M;for(M=0;M<t.length;M+=1)if(t[M]===i)return n[M];let h;if(d7.call(i)==="[object Array]"){for(t.push(i),h=new Array(i.length),n.push(h),M=0;M<i.length;M+=1)h[M]=qv(i[M],t,n,m,C);return t.pop(),n.pop(),h}if(i&&i.toJSON&&(i=i.toJSON()),typeof i=="object"&&i!==null){t.push(i),h={},n.push(h);let y=[],e;for(e in i)i.hasOwnProperty(e)&&y.push(e);for(y.sort(),M=0;M<y.length;M+=1)e=y[M],h[e]=qv(i[e],t,n,m,e);t.pop(),n.pop()}else h=i;return h}const _v=new zs;_v.tokenize=function(i){return i.slice()};_v.join=_v.removeEmpty=function(i){return i};const c7=Phaser.Utils.Array.Remove;var v7=function(i,t){var n=i.text;if(t!==n){if(c7(i.children,i.lastInsertCursor),t==="")i.removeChildren();else for(var m=l7(n,t),C=0,M=0,h=m.length;M<h;M++){var y=m[M];y.removed?i.removeText(C,y.count):(y.added&&i.insertText(C,y.value),C+=y.count)}i.children.push(i.lastInsertCursor),i.runWordWrap()}};const tx=Phaser.Utils.Objects.IsPlainObject;class M0 extends Ga{constructor(t,n,m,C,M,h){tx(n)?h=n:tx(C)&&(h=C),h===void 0&&(h={}),i7(h);var y=h.text;y&&delete h.text;var e=Hv(h.background,"focus"),f=Hv(h.style,"cursor");super(t,n,m,C,M,h),this.type="rexCanvasInput",this._text="",this.textEdit=e7(this,h),h.focusStyle&&Object.assign(e,h.focusStyle),n7.call(this,e),h.cursorStyle&&Object.assign(f,h.cursorStyle),s7.call(this,f);var c=h.onAddChar;c&&this.on("addchar",c);var s=h.onCursorOut;s&&this.on("cursorout",s);var a=h.onCursorIn;a&&this.on("cursorin",a);var r=h.onMoveCursor;r&&this.on("movecursor",r),this.setParseTextCallback(h.parseTextCallback),this.lastInsertCursor=r7(this),y?this.setText(y):this.runWordWrap()}addChild(t,n){if(super.addChild(t,n),Array.isArray(t))for(var m=t,C=0,M=m.length;C<M;C++){var t=m[C];La(t)&&this.emit("addchar",t,n+C,this)}else La(t)&&this.emit("addchar",t,n,this);return this}get text(){return this._text}set text(t){t==null?t="":t=t.toString(),this._text!==t&&(v7(this,t),this._text=t)}setText(t){return this.text=t,this}appendText(t){return this.setText(this.text+t),this}setSize(t,n){return this.width===t&&this.height===n?this:(super.setSize(t,n),this.runWrap(),this)}get displayText(){return this.text}set displayText(t){this.text=t}setDisplayText(t){return this.displayText=t,this}get inputText(){return this.textEdit.text}set inputText(t){this.textEdit.text=t}setInputText(t){return this.inputText=t,this}setParseTextCallback(t){return t||(t=p7),this.parseTextCallback=t,this}get value(){return this.parseTextCallback(this.text)}set value(t){this.setText(t)}getValue(){return this.value}setValue(t){return this.value=t,this}get readOnly(){return this.textEdit.readOnly}set readOnly(t){this.textEdit.readOnly=t}setReadOnly(t){return this.textEdit.setReadOnly(t),this}open(t){return t&&this.textEdit.once("close",t),this.textEdit.open(),this}close(){return this.textEdit.close(),this}get isOpened(){return this.textEdit.isOpened}setFocusStyle(t){return this.focusStyle=t,this}setCursorStyle(t){return this.cursorStyle=t,this}setNumberInput(){return this.textEdit.setNumberInput(),this.parseTextCallback=Number,this}get maxLength(){return this.textEdit.maxLength}set maxLength(t){this.textEdit.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.textEdit.minLength}set minLength(t){this.textEdit.minLength=t}setMinLength(t){return this.minLength=t,this}}var p7=function(i){return i};at.register("canvasInput",function(i,t,n,m,C){var M=new M0(this.scene,i,t,n,m,C);return this.scene.add.existing(M),M});nt(window,"RexPlugins.UI.CanvasInput",M0);var E0=function(i){return wa(i).loop.delta};const ex=Phaser.Utils.Objects.GetValue,g7=Phaser.Math.Wrap;class NS extends S0{constructor(t,n){n===void 0&&(n={}),n.onUpdate==="number"&&(n.onUpdate=BS),super(t,n),this.setCursor(ex(n,"cursor","|")),this.setCursorFlashDuration(ex(n,"cursorFlashDuration",1e3)),this.cursorFlashTimer=0}initText(){return this.cursorFlashTimer=0,this.prevCursorPosition=void 0,this.setText(this.parent.text),this.setCursorPosition(),this}updateText(){var t=this.parent,n=this.text;if(this.onUpdateCallback){var m=this.onUpdateCallback(n,t,this);m!=null&&(n=m)}if(this.isOpened&&this.hasCursor){var C=this.cursorPosition;n=n.substring(0,C)+this.cursor+n.substring(C),this.prevCursorPosition!==C&&(this.prevCursorPosition=C)}return t.text!==n&&(t.setText(n),this.emit("textchange",n,t,this)),this}setCursor(t){return this._cursor=t,this.hasCursor=t&&t!=="",t}setCursorFlashDuration(t){return this.cursorFlashDuration=t,this}get cursor(){if(!this._isFocused)return this._cursor;var t;this.cursorFlashTimer<this.cursorFlashDuration/2?t=this._cursor:t=" ";var n=this.cursorFlashTimer+E0(this.scene);return this.cursorFlashTimer=g7(n,0,this.cursorFlashDuration),t}}at.register("hiddenEdit",function(i,t){var n=new NS(i,t);return n});nt(window,"RexPlugins.UI.HiddenEdit",NS);const m7=Phaser.GameObjects.GetCalcMatrix;var x7=function(i,t,n,m){t.updateData(),n.addToRenderList(t);var C=i.pipelines.set(t.pipeline),M=m7(t,n,m),h=C.calcMatrix.copyFrom(M.calc),y=t._displayOriginX,e=t._displayOriginY,f=n.alpha*t.alpha;i.pipelines.preBatch(t);for(var c=t.geom,s=0,a=c.length;s<a;s++)c[s].webglRender(C,h,f,y,e);i.pipelines.postBatch(t)};const y7=Phaser.Renderer.Canvas.SetTransform;var T7=function(i,t,n,m){t.updateData(),n.addToRenderList(t);var C=i.currentContext;if(y7(i,C,t,n,m)){for(var M=t._displayOriginX,h=t._displayOriginY,y=t.geom,e=0,f=y.length;e<f;e++)y[e].canvasRender(C,M,h);C.restore()}};const C7={renderWebGL:x7,renderCanvas:T7},S7=Phaser.GameObjects.Shape,M7=Phaser.Utils.Array.Remove;class yr extends S7{constructor(t,n,m,C,M){n===void 0&&(n=0),m===void 0&&(m=0),C===void 0&&(C=2),M===void 0&&(M=C),super(t,"rexShapes",[]),this._width=-1,this._height=-1,this.dirty=!0,this.isSizeChanged=!0,this.shapes={},this.setPosition(n,m),this.setSize(C,M),this.updateDisplayOrigin()}get width(){return this._width}set width(t){this.setSize(t,this._height)}get height(){return this._height}set height(t){this.setSize(this._width,t)}setDirty(t){return t===void 0&&(t=!0),this.dirty=t,this}setSize(t,n){this.isSizeChanged=this.isSizeChanged||this._width!==t||this._height!==n,this.dirty=this.dirty||this.isSizeChanged,this._width=t,this._height=n,this.updateDisplayOrigin();var m=this.input;return m&&!m.customHitArea&&(m.hitArea.width=t,m.hitArea.height=n),this}resize(t,n){return this.setSize(t,n),this}get fillColor(){return this._fillColor}set fillColor(t){this.setFillStyle(t,this._fillAlpha)}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this.setFillStyle(this._fillColor,t)}setFillStyle(t,n){return n===void 0&&(n=1),this.dirty=this.dirty||this.fillColor!==t||this.fillAlpha!==n,this._fillColor=t,this._fillAlpha=n,this}get lineWidth(){return this._lineWidth}set lineWidth(t){this.setStrokeStyle(t,this._strokeColor,this._strokeAlpha)}get strokeColor(){return this._strokeColor}set strokeColor(t){this.setStrokeStyle(this._lineWidth,t,this._strokeAlpha)}get strokeAlpha(){return this._strokeAlpha}set strokeAlpha(t){this.setStrokeStyle(this._lineWidth,this._strokeColor,t)}setStrokeStyle(t,n,m){return m===void 0&&(m=1),this.dirty=this.dirty||this.lineWidth!==t||this.strokeColor!==n||this.strokeAlpha!==m,this._lineWidth=t,this._strokeColor=n,this._strokeAlpha=m,this}updateShapes(){}updateData(){if(!this.dirty)return this;this.updateShapes();for(var t=this.geom,n=0,m=t.length;n<m;n++){var C=t[n];C.dirty&&C.updateData()}return this.isSizeChanged=!1,this.dirty=!1,this}clear(){return this.geom.length=0,Fs(this.shapes),this}getShape(t){return this.shapes[t]}getShapes(){return this.geom}addShape(t){this.geom.push(t);var n=t.name;return n&&(this.shapes[n]=t),this.dirty=!0,this}deleteShape(t){var n=this.getShape(t);return n&&(delete this.shapes[t],M7(this.geom,n)),this}}Object.assign(yr.prototype,C7);const E7={setBoxFillStyle(i,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.boxFillColor!==i||this.boxFillAlpha!==t,this.boxFillColor=i,this.boxFillAlpha=t,this},setUncheckedBoxFillStyle(i,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.uncheckedBoxFillColor!==i||this.uncheckedBoxFillAlpha!==t,this.uncheckedBoxFillColor=i,this.uncheckedBoxFillAlpha=t,this},setBoxStrokeStyle(i,t,n){return n===void 0&&(n=1),this.dirty=this.dirty||this.boxLineWidth!==i||this.boxStrokeColor!==t||this.boxStrokeAlpha!==n,this.boxLineWidth=i,this.boxStrokeColor=t,this.boxStrokeAlpha=n,this},setUncheckedBoxStrokeStyle(i,t,n){return n===void 0&&(n=1),this.dirty=this.dirty||this.uncheckedBoxLineWidth!==i||this.uncheckedBoxStrokeColor!==t||this.uncheckedBoxStrokeAlpha!==n,this.uncheckedBoxLineWidth=i,this.uncheckedBoxStrokeColor=t,this.uncheckedBoxStrokeAlpha=n,this},setCheckerStyle(i,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.checkerColor!==i||this.checkAlpha!==t,this.checkerColor=i,this.checkAlpha=t,this},setBoxShape(i){return i===void 0&&(i=!1),this.isCircleShape===i?this:(this.isCircleShape=i,this.isSizeChanged=!0,this.dirty=!0,this)}},P7={setBoxSize(i){return this.dirty=this.dirty||this.boxSize!==i,this.boxSize=i,this},setCheckerSize(i){return this.dirty=this.dirty||this.checkerSize!==i,this.checkerSize=i,this}};var R7=function(i,t){return i==null?this.isFilled=!1:(t===void 0&&(t=1),this.isFilled=!0,this.fillColor=i,this.fillAlpha=t),this},A7=function(i,t,n){return i==null||t==null?this.isStroked=!1:(n===void 0&&(n=1),this.isStroked=!0,this.lineWidth=i,this.strokeColor=t,this.strokeAlpha=n),this};const w7={fillStyle:R7,lineStyle:A7};class uf{constructor(){this.name=void 0,this.dirty=!0,this.data=void 0,this.isFilled=!1,this.fillColor=void 0,this.fillAlpha=1,this.isStroked=!1,this.lineWidth=1,this.strokeColor=void 0,this.strokeAlpha=1}setName(t){return this.name=t,this}reset(){return this.fillStyle().lineStyle(),this}webglRender(t,n,m,C,M){}canvasRender(t,n,m){}updateData(){this.dirty=!1}}Object.assign(uf.prototype,w7,tf);const O7=Phaser.Geom.Polygon.Earcut;class mh extends uf{constructor(){super(),this.pathData=[],this.pathIndexes=[],this.closePath=!1}updateData(){return this.pathIndexes=O7(this.pathData),super.updateData(),this}webglRender(t,n,m,C,M){this.isFilled&&kC(t,n,this,m,C,M),this.isStroked&&ef(t,this,m,C,M)}canvasRender(t,n,m){var C=this.pathData,M=C.length-1,h=C[0]-n,y=C[1]-m;t.beginPath(),t.moveTo(h,y),this.closePath||(M-=2);for(var e=2;e<M;e+=2){var f=C[e]-n,c=C[e+1]-m;t.lineTo(f,c)}this.closePath&&t.closePath(),this.isFilled&&(ch(t,this),t.fill()),this.isStroked&&(vh(t,this),t.stroke())}}const ix=Phaser.Math.DegToRad;class ff extends mh{constructor(t,n,m,C,M,h,y,e){t===void 0&&(t=0),n===void 0&&(n=0),m===void 0&&(m=0),C===void 0&&(C=0),M===void 0&&(M=0),h===void 0&&(h=360),y===void 0&&(y=!1),e===void 0&&(e=!1),super(),this.setCenterPosition(t,n),this.setRadius(m,C),this.setAngle(M,h,y),this.setPie(e),this.setIterations(32)}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setCenterPosition(t,n){return n===void 0&&(n=t),this.x=t,this.y=n,this}get radiusX(){return this._radiusX}set radiusX(t){this.dirty=this.dirty||this._radiusX!==t,this._radiusX=t}get radiusY(){return this._radiusY}set radiusY(t){this.dirty=this.dirty||this._radiusY!==t,this._radiusY=t}setRadius(t,n){return n===void 0&&(n=t),this.radiusX=t,this.radiusY=n,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!==t,this._startAngle=t}get endAngle(){return this._endAngle}set endAngle(t){this.dirty=this.dirty||this._endAngle!==t,this._endAngle=t}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!==t,this._anticlockwise=t}setAngle(t,n,m){return m===void 0&&(m=!1),this.startAngle=t,this.endAngle=n,this.anticlockwise=m,this}get pie(){return this._pie}set pie(t){this.dirty=this.dirty||this._pie!==t,this._pie=t}setPie(t){return t===void 0&&(t=!0),this.pie=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){return this.pathData.length=0,this.pie&&this.pathData.push(this.x,this.y),pe(this.x,this.y,this.radiusX,this.radiusY,this.startAngle,this.endAngle,this.anticlockwise,this.iterations,this.pathData),this.pie&&this.pathData.push(this.x,this.y),this.pathData.push(this.pathData[0],this.pathData[1]),super.updateData(),this}canvasRender(t,n,m){t.beginPath();var C=this.x-n,M=this.y-m,h=ix(this.startAngle),y=ix(this.endAngle);this.pie&&(t.moveTo(C,M),t.lineTo(C+Math.cos(h)*this.radiusX,M+Math.sin(h)*this.radiusY)),t.ellipse(C,M,this.radiusX,this.radiusY,0,h,y,this.anticlockwise),this.pie&&t.lineTo(C,M),this.isFilled&&(ch(t,this),t.fill()),this.isStroked&&(vh(t,this),t.stroke())}}class tp extends ff{constructor(t,n,m){super(t,n,m,m,0,360)}}class L7 extends mh{constructor(t){super(),this.setCurve(t),this.setIterations(32)}get curve(){return this._curve}set curve(t){this.dirty=this.dirty||this._curve!==t,this._curve=t}setCurve(t){return this.curve=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){this.pathData.length=0;for(var t=this.curve.getPoints(this.iterations),n=0,m=t.length;n<m;n++)this.pathData.push(t[n].x,t[n].y);return this.pathData.push(t[0].x,t[0].y),super.updateData(),this}}class F7 extends ff{constructor(t,n,m,C){super(t,n,m,C,0,360)}}class I7 extends mh{constructor(t,n,m,C){t===void 0&&(t=0),n===void 0&&(n=0),m===void 0&&(m=0),C===void 0&&(C=0),super(),this.setP0(t,n),this.setP1(m,C)}get x0(){return this._x0}set x0(t){this.dirty=this.dirty||this._x0!==t,this._x0=t}get y0(){return this._y0}set y0(t){this.dirty=this.dirty||this._y0!==t,this._y0=t}setP0(t,n){return this.x0=t,this.y0=n,this}get x1(){return this._x1}set x1(t){this.dirty=this.dirty||this._x1!==t,this._x1=t}get y1(){return this._y1}set y1(t){this.dirty=this.dirty||this._y1!==t,this._y1=t}setP1(t,n){return this.x1=t,this.y1=n,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x0,this.y0),super.updateData(),this}}var D7=function(i,t,n){return n.length=0,i!=null&&n.push(i,t),n};const sx=Phaser.Math.Interpolation.QuadraticBezier;var B7=function(i,t,n,m,C,M){for(var h=M.length,y=M[h-2],e=M[h-1],f=1,c=C-1;f<=c;f++){var s=f/c;M.push(sx(s,y,i,n),sx(s,e,t,m))}return M};const nx=Phaser.Math.Interpolation.CubicBezier;var b7=function(i,t,n,m,C,M,h,y){for(var e=y.length,f=y[e-2],c=y[e-1],s=1,a=h-1;s<=a;s++){var r=s/a;y.push(nx(r,f,i,n,C),nx(r,c,t,m,M))}return y},VS=function(i){var t=i.length;if(t<2)return i;var n=i[t-2],m=i[t-1];return i.push(n),i.push(m),i};const G7={clear(){return this.start(),this},start(){return this.startAt(),this},startAt(i,t){return this.restorePathData(),this.accumulationLengths=void 0,D7(i,t,this.pathData),this.firstPointX=i,this.firstPointY=t,this.lastPointX=i,this.lastPointY=t,this},lineTo(i,t,n){return n===void 0&&(n=!1),n&&(i+=this.lastPointX,t+=this.lastPointY),ds(i,t,this.pathData),this.lastPointX=i,this.lastPointY=t,this},verticalLineTo(i,t){return this.lineTo(i,this.lastPointY,t),this},horizontalLineTo(i,t){return this.lineTo(this.lastPointX,i,t),this},ellipticalArc(i,t,n,m,C,M,h){return h===void 0&&(h=!1),pe(i,t,n,m,C,M,h,this.iterations,this.pathData),this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this},arc(i,t,n,m,C,M){return this.ellipticalArc(i,t,n,n,m,C,M),this},quadraticBezierTo(i,t,n,m){return B7(i,t,n,m,this.iterations,this.pathData),this.lastPointX=n,this.lastPointY=m,this.lastCX=i,this.lastCY=t,this},smoothQuadraticBezierTo(i,t){var n=this.lastPointX*2-this.lastCX,m=this.lastPointY*2-this.lastCY;return this.quadraticBezierTo(n,m,i,t),this},cubicBezierCurveTo(i,t,n,m,C,M){return b7(i,t,n,m,C,M,this.iterations,this.pathData),this.lastPointX=C,this.lastPointY=M,this.lastCX=n,this.lastCY=m,this},smoothCubicBezierCurveTo(i,t,n,m){var C=this.lastPointX*2-this.lastCX,M=this.lastPointY*2-this.lastCY;return this.cubicBezierCurveTo(C,M,i,t,n,m),this},close(){return this.closePath=!0,this},end(){return VS(this.pathData),this}},N7=Phaser.Math.RotateAround;var V7=function(i,t,n,m){for(var C={x:0,y:0},M=0,h=m.length-1;M<h;M+=2)C.x=m[M],C.y=m[M+1],N7(C,i,t,n),m[M]=C.x,m[M+1]=C.y;return m},z7=function(i,t,n,m,C){for(var M=0,h=C.length-1;M<h;M+=2){var y=C[M]-i,e=C[M+1]-t;y*=n,e*=m,C[M]=y+i,C[M+1]=e+t}return C},zS=function(i,t,n){for(var m=0,C=n.length-1;m<C;m+=2)n[m]+=i,n[m+1]+=t;return n};const k7=Phaser.Math.DegToRad,U7=Phaser.Math.RotateAround,X7={rotateAround(i,t,n){if(this.pathData.length===0)return this;n=k7(n),V7(i,t,n,this.pathData);var m=this.pathData.length;if(this.lastPointX=this.pathData[m-2],this.lastPointY=this.pathData[m-1],this.lastCX!==void 0){var C={x:this.lastCX,y:this.lastCY};U7(C,i,t,n),this.lastCX=C.x,this.lastCY=C.y}return this},scale(i,t,n,m){if(this.pathData.length===0)return this;if(z7(i,t,n,m,this.pathData),this.lastPointX=this.pathData[pathDataCnt-2],this.lastPointY=this.pathData[pathDataCnt-1],this.lastCX!==void 0){var C=this.lastCX-i,M=this.lastCY-t;C*=n,M*=m,this.lastCX=C+i,this.lastCY=M+t}return this},offset(i,t){return zS(i,t,this.pathData),this}};var P0=function(i,t,n,m){n===void 0&&(n=0),m===void 0&&(m=t.length),i.length=m-n;for(var C=0,M=i.length;C<M;C++)i[C]=t[C+n];return i};const Y7={savePathData(){return this.pathDataSaved?this:(this.pathDataSave=[...this.pathData],this.pathData.length=0,this.pathDataSaved=!0,this)},restorePathData(){return this.pathDataSaved?(P0(this.pathData,this.pathDataSave),this.pathDataSave=void 0,this.pathDataSaved=!1,this):this}},W7=Phaser.Math.Distance.Between,H7=Phaser.Math.Wrap,$7=Phaser.Math.Linear;var rx=function(i,t,n,m,C){if(m===void 0&&(m=n,n=0),n=ax(n),m=ax(m),n!==m){var M=t[t.length-1],h=M*n,y=M*m;n<m?Nd(i,t,h,y,C):(Nd(i,t,h,M,C),Nd(i,t,0,y,C)),VS(C)}},Nd=function(i,t,n,m,C){for(var M=n>0,h=0,y=t.length;h<y;h++){var e=h*2,f=t[h];if(M){if(f<n)continue;if(f==n)M=!1;else{var c=f-t[h-1],s=1-(f-n)/c;C.push(fl(i,e-2,e,s)),C.push(fl(i,e-1,e+1,s)),M=!1}}if(f<=m){if(C.push(i[e]),C.push(i[e+1]),f===m)break}else{var c=f-t[h-1],s=1-(f-m)/c;C.push(fl(i,e-2,e,s)),C.push(fl(i,e-1,e+1,s));break}}},fl=function(i,t,n,m){var C=i[t],M=i[n];return $7(C,M,m)},ax=function(i){return i===0?0:i%1===0?1:H7(i,0,1)};const K7={updateAccumulationLengths(){if(this.accumulationLengths==null)this.accumulationLengths=[];else if(this.accumulationLengths.length===this.pathData.length/2)return this;for(var i=this.accumulationLengths,t=this.pathData,n,m,C,M,h,y=0,e=0,f=t.length;e<f;e+=2)C=t[e],M=t[e+1],h=n===void 0?0:W7(n,m,C,M),y+=h,i.push(y),n=C,m=M;return this.totalPathLength=y,this},setDisplayPathSegment(i,t){return this.pathDataSaved||(this.updateAccumulationLengths(),this.savePathData()),this.pathData.length=0,rx(this.pathDataSave,this.accumulationLengths,i,t,this.pathData),this},appendFromPathSegment(i,t,n){return t===void 0?this.pathData.push(...i.pathData):(i.updateAccumulationLengths(),rx(i.pathData,i.accumulationLengths,t,n,this.pathData)),this.firstPointX=this.pathData[0],this.firstPointY=this.pathData[1],this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this}},Z7={draw(i,t,n){var m=this.toPoints();return t&&i.fillPoints(m,this.closePath,this.closePath),n&&i.strokePoints(m,this.closePath,this.closePath),this}};var j7=function(i,t){t===void 0&&(t=[]);for(var n=0,m=i.length-1;n<m;n+=2)t.push({x:i[n],y:i[n+1]});return t};const J7=Phaser.Geom.Polygon;var Q7=function(i,t){return t===void 0&&(t=new J7),t.setTo(i),t};class kS{constructor(t){t===void 0&&(t=[]),this.pathData=t,this.closePath=!1,this.setIterations(32),this.firstPointX=void 0,this.firstPointY=void 0,this.lastPointX=void 0,this.lastPointY=void 0,this.accumulationLengths=void 0}setIterations(t){return this.iterations=t,this}toPoints(){return j7(this.pathData)}toPolygon(t){return Q7(this.pathData,t)}}Object.assign(kS.prototype,G7,X7,Y7,K7,Z7);class Ta extends mh{constructor(){super(),this.builder=new kS(this.pathData)}get iterations(){return this.builder.iterations}set iterations(t){this.dirty=this.dirty||this.builder.iterations!==t,this.builder.setIterations(t)}setIterations(t){return this.iterations=t,this}get lastPointX(){return this.builder.lastPointX}get lastPointY(){return this.builder.lastPointY}start(){return this.builder.start(),this.dirty=!0,this}startAt(t,n){return this.builder.startAt(t,n),this.dirty=!0,this}lineTo(t,n,m){return this.builder.lineTo(t,n,m),this.dirty=!0,this}verticalLineTo(t,n){return this.builder.verticalLineTo(t,n),this.dirty=!0,this}horizontalLineTo(t,n){return this.builder.horizontalLineTo(t,n),this.dirty=!0,this}ellipticalArc(t,n,m,C,M,h,y){return this.builder.ellipticalArc(t,n,m,C,M,h,y),this.dirty=!0,this}arc(t,n,m,C,M,h){return this.builder.arc(t,n,m,C,M,h),this.dirty=!0,this}quadraticBezierTo(t,n,m,C){return this.builder.quadraticBezierTo(t,n,m,C),this.dirty=!0,this}smoothQuadraticBezierTo(t,n){return this.builder.smoothQuadraticBezierTo(t,n),this.dirty=!0,this}cubicBezierCurveTo(t,n,m,C,M,h){return this.builder.cubicBezierCurveTo(t,n,m,C,M,h),this.dirty=!0,this}smoothCubicBezierCurveTo(t,n,m,C){return this.builder.smoothCubicBezierCurveTo(t,n,m,C),this.dirty=!0,this}close(){return this.builder.close(),this.closePath=this.builder.closePath,this.dirty=!0,this}end(){return this.builder.end(),this.dirty=!0,this}rotateAround(t,n,m){return this.builder.rotateAround(t,n,m),this.dirty=!0,this}scale(t,n,m,C){return this.builder.scale(t,n,m,C),this.dirty=!0,this}offset(t,n){return this.builder.offset(t,n),this.dirty=!0,this}toPolygon(t){return this.builder.toPolygon(t)}appendPathFrom(t,n,m){return this.builder.appendFromPathSegment(t.builder,n,m),this}copyPathFrom(t,n,m){return this.builder.clear().appendFromPathSegment(t.builder,n,m),this}setDisplayPathSegment(t,n){return this.builder.setDisplayPathSegment(t,n),this}}const q7=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;let _7=class extends uf{constructor(t,n,m,C){t===void 0&&(t=0),n===void 0&&(n=0),m===void 0&&(m=0),C===void 0&&(C=m),super(),this.pathData=[],this.closePath=!0,this.setTopLeftPosition(t,n),this.setSize(m,C)}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setTopLeftPosition(t,n){return this.x=t,this.y=n,this}get width(){return this._width}set width(t){this.dirty=this.dirty||this._width!==t,this._width=t}get height(){return this._height}set height(t){this.dirty=this.dirty||this._height!==t,this._height=t}setSize(t,n){return this.width=t,this.height=n,this}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}setCenterPosition(t,n){return this.centerX=t,this.centerY=n,this}updateData(){this.pathData.length=0;var t=this.x,n=t+this.width,m=this.y,C=m+this.height;return this.pathData.push(t,m),this.pathData.push(n,m),this.pathData.push(n,C),this.pathData.push(t,C),this.pathData.push(t,m),super.updateData(),this}webglRender(t,n,m,C,M){if(this.isFilled){var h=t.fillTint,y=q7(this.fillColor,this.fillAlpha*m);h.TL=y,h.TR=y,h.BL=y,h.BR=y,t.batchFillRect(-C+this.x,-M+this.y,this.width,this.height)}this.isStroked&&ef(t,this,m,C,M)}canvasRender(t,n,m){this.isFilled&&(ch(t,this),t.fillRect(-n,-m,this.width,this.height)),this.isStroked&&(vh(t,this),t.beginPath(),t.rect(-n,-m,this.width,this.height),t.stroke())}};const dl=Phaser.Utils.Objects.GetValue;class Fu extends mh{constructor(t,n,m,C,M,h){t===void 0&&(t=0),n===void 0&&(n=0),m===void 0&&(m=0),C===void 0&&(C=m),M===void 0&&(M=0),h===void 0&&(h=6),super(),this.setTopLeftPosition(t,n),this.setSize(m,C),this.setRadius(M),this.setIterations(h),this.closePath=!0}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setTopLeftPosition(t,n){return this.x=t,this.y=n,this}get width(){return this._width}set width(t){this.dirty=this.dirty||this._width!==t,this._width=t}get height(){return this._height}set height(t){this.dirty=this.dirty||this._height!==t,this._height=t}setSize(t,n){return this.width=t,this.height=n,this}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}setCenterPosition(t,n){return this.centerX=t,this.centerY=n,this}get radiusTL(){return this._radiusTL}set radiusTL(t){var n=t>0;this.dirty=this.dirty||this._radiusTL!==t||this._convexTL!==n,this._convexTL=n,this._radiusTL=Math.abs(t)}get radiusTR(){return this._radiusTR}set radiusTR(t){var n=t>0;this.dirty=this.dirty||this._radiusTR!==t||this._convexTR!==n,this._convexTR=n,this._radiusTR=Math.abs(t)}get radiusBL(){return this._radiusBL}set radiusBL(t){var n=t>0;this.dirty=this.dirty||this._radiusBL!==t||this._convexBL!==n,this._convexBL=n,this._radiusBL=Math.abs(t)}get radiusBR(){return this._radiusBR}set radiusBR(t){var n=t>0;this.dirty=this.dirty||this._radiusBR!==t||this._convexBR!==n,this._convexBR=n,this._radiusBR=Math.abs(t)}get radius(){return Math.max(this.radiusTL,this.radiusTR,this.radiusBL,this.radiusBR)}set radius(t){typeof t=="number"?(this.radiusTL=t,this.radiusTR=t,this.radiusBL=t,this.radiusBR=t):(this.radiusTL=dl(t,"tl",0),this.radiusTR=dl(t,"tr",0),this.radiusBL=dl(t,"bl",0),this.radiusBR=dl(t,"br",0))}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){var t=this.pathData;t.length=0;var n=this.width,m=this.height,C,M=this.iterations+1;if(C=this.radiusTL,C>0)if(this._convexTL){var h=C,y=C;pe(h,y,C,C,180,270,!1,M,t)}else{var h=0,y=0;pe(h,y,C,C,90,0,!0,M,t)}else ds(0,0,t);if(C=this.radiusTR,C>0)if(this._convexTR){var h=n-C,y=C;pe(h,y,C,C,270,360,!1,M,t)}else{var h=n,y=0;pe(h,y,C,C,180,90,!0,M,t)}else ds(n,0,t);if(C=this.radiusBR,C>0)if(this._convexBR){var h=n-C,y=m-C;pe(h,y,C,C,0,90,!1,M,t)}else{var h=n,y=m;pe(h,y,C,C,270,180,!0,M,t)}else ds(n,m,t);if(C=this.radiusBL,C>0)if(this._convexBL){var h=C,y=m-C;pe(h,y,C,C,90,180,!1,M,t)}else{var h=0,y=m;pe(h,y,C,C,360,270,!0,M,t)}else ds(0,m,t);return t.push(t[0],t[1]),zS(this.x,this.y,t),super.updateData(),this}}const tF=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;let eF=class extends uf{constructor(t,n,m,C,M,h){t===void 0&&(t=0),n===void 0&&(n=0),m===void 0&&(m=0),C===void 0&&(C=0),M===void 0&&(M=0),h===void 0&&(h=0),super(),this.pathData=[],this.closePath=!0,this.setP0(t,n),this.setP1(m,C),this.setP2(M,h)}get x0(){return this._x0}set x0(t){this.dirty=this.dirty||this._x0!==t,this._x0=t}get y0(){return this._y0}set y0(t){this.dirty=this.dirty||this._y0!==t,this._y0=t}setP0(t,n){return this.x0=t,this.y0=n,this}get x1(){return this._x1}set x1(t){this.dirty=this.dirty||this._x1!==t,this._x1=t}get y1(){return this._y1}set y1(t){this.dirty=this.dirty||this._y1!==t,this._y1=t}setP1(t,n){return this.x1=t,this.y1=n,this}get x2(){return this._x2}set x2(t){this.dirty=this.dirty||this._x2!==t,this._x2=t}get y2(){return this._y2}set y2(t){this.dirty=this.dirty||this._y2!==t,this._y2=t}setP2(t,n){return this.dirty=this.dirty||this.x2!==t||this.y2!==n,this.x2=t,this.y2=n,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x2,this.y2),this.pathData.push(this.x0,this.y0),super.updateData(),this}webglRender(t,n,m,C,M){if(this.isFilled){var h=tF(this.fillColor,this.fillAlpha*m),y=this.x0-C,e=this.y0-M,f=this.x1-C,c=this.y1-M,s=this.x2-C,a=this.y2-M,r=n.getX(y,e),o=n.getY(y,e),l=n.getX(f,c),v=n.getY(f,c),u=n.getX(s,a),d=n.getY(s,a);t.batchTri(r,o,l,v,u,d,h,h,h)}this.isStroked&&ef(t,this,m,C,M)}canvasRender(t,n,m){var C=this.x1-n,M=this.y1-m,h=this.x2-n,y=this.y2-m,e=this.x3-n,f=this.y3-m;t.beginPath(),t.moveTo(C,M),t.lineTo(h,y),t.lineTo(e,f),t.closePath(),this.isFilled&&(ch(t,this),t.fill()),this.isStroked&&(vh(t,this),t.stroke())}};const iF={buildShapes(){this.addShape(new Fu().setName("box")).addShape(new Ta().setName("checker"))},updateShapes(){var i=this.width/2,t=this.height/2,n=Math.min(i,t),m=n*2,C=i-n,M=t-n,h=this.boxLineWidth,y=Math.max(m/10,2),e=this.getShape("box"),f=this.getShape("checker");if(this.isSizeChanged){var a=m*(1-this.boxSize)/2,c=h/2,s=m*this.boxSize-h;e.setTopLeftPosition(C+c+a,M+c+a).setSize(s,s),this.isCircleShape?e.setRadius(s/2):e.setRadius(0);var a=m*(1-this.checkerSize)/2,r=m*this.checkerSize/4,o=r*1,l=r*2,v=r*3;f.startAt(o,l).lineTo(l,v).lineTo(v,o).offset(C+a,M+a).end()}this.checked?(e.fillStyle(this.boxFillColor,this.boxFillAlpha).lineStyle(h,this.boxStrokeColor,this.boxStrokeAlpha),f.lineStyle(y,this.checkerColor)):(e.fillStyle(this.uncheckedBoxFillColor,this.uncheckedBoxFillAlpha).lineStyle(h,this.uncheckedBoxStrokeColor,this.uncheckedBoxStrokeAlpha),f.lineStyle()),this.checked&&f.setDisplayPathSegment(this.checkerAnimProgress)}},Ks=Phaser.Utils.Objects.GetValue,sF=Phaser.Math.Linear;class Tr extends xr{constructor(t,n){super(t,n),this.resetFromJSON(),this.boot()}start(t){if(this.timer.isRunning)return this;var n=this.target;this.propertyKey=Ks(t,"key","value");var m=n[this.propertyKey];return this.fromValue=Ks(t,"from",m),this.toValue=Ks(t,"to",m),this.setEase(Ks(t,"ease",this.ease)),this.setDuration(Ks(t,"duration",this.duration)),this.setRepeat(Ks(t,"repeat",0)),this.setDelay(Ks(t,"delay",0)),this.setRepeatDelay(Ks(t,"repeatDelay",0)),this.timer.setDuration(this.duration).setRepeat(this.repeat).setDelay(this.delay).setRepeatDelay(this.repeatDelay),n[this.propertyKey]=this.fromValue,super.start(),this}updateGameObject(t,n){var m=n.t;m=this.easeFn(m),t[this.propertyKey]=sF(this.fromValue,this.toValue,m)}}const nF={setCheckerAnimationDuration(i){return i===void 0&&(i=0),this.checkerAnimDuration=i,this},playCheckerAnimation(){return this.checkerAnimProgressTask===void 0&&(this.checkerAnimProgressTask=new Tr(this,{eventEmitter:null})),this.checkerAnimProgressTask.restart({key:"checkerAnimProgress",from:0,to:1,duration:this.checkerAnimDuration}),this},stopCheckerAnimation(){return this.checkerAnimProgressTask===void 0?this:(this.checkerAnimProgressTask.stop(),this)}};var US={};Object.assign(US,E7,P7,iF,nF);const Qt=Phaser.Utils.Objects.GetValue,ox=Phaser.Utils.Objects.IsPlainObject,Vd=23730,rF=16777215;class XS extends yr{constructor(t,n,m,C,M,h,y){ox(n)?(y=n,n=Qt(y,"x",0),m=Qt(y,"y",0),C=Qt(y,"width",2),M=Qt(y,"height",2),h=Qt(y,"color",Vd)):ox(h)&&(y=h,h=Qt(y,"color",Vd)),super(t,n,m,C,M),this.type="rexCheckbox",h===void 0&&(h=Vd),this.setBoxShape(Qt(y,"circleBox",!1)),this.setBoxFillStyle(h,Qt(y,"boxFillAlpha",1)),this.setUncheckedBoxFillStyle(Qt(y,"uncheckedColor",null),Qt(y,"uncheckedBoxFillAlpha",1)),this.setBoxStrokeStyle(Qt(y,"boxLineWidth",4),Qt(y,"boxStrokeColor",h),Qt(y,"boxStrokeAlpha",1)),this.setUncheckedBoxStrokeStyle(this.boxLineWidth,Qt(y,"uncheckedBoxStrokeColor",this.boxStrokeColor),Qt(y,"uncheckedBoxStrokeAlpha",this.boxStrokeAlpha)),this.setCheckerStyle(Qt(y,"checkerColor",rF),Qt(y,"checkerAlpha",1)),this.setBoxSize(Qt(y,"boxSize",1)),this.setCheckerSize(Qt(y,"checkerSize",1)),this.setCheckerAnimationDuration(Qt(y,"animationDuration",150)),this.buildShapes();var e=Qt(y,"checked");e===void 0&&(e=Qt(y,"value",!1)),this.setValue(e)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,t?this.playCheckerAnimation():this.stopCheckerAnimation(),this.emit("valuechange",t))}setValue(t){return this.value=t,this}toggleValue(){return this.setValue(!this.value),this}get checked(){return this.value}set checked(t){this.value=t}setChecked(t){return t===void 0&&(t=!0),this.setValue(t),this}toggleChecked(){return this.toggleValue(),this}get checkerAnimProgress(){return this._checkerAnimProgress}set checkerAnimProgress(t){this._checkerAnimProgress!==t&&(this._checkerAnimProgress=t,this.dirty=!0)}}Object.assign(XS.prototype,US);const oo=Phaser.Utils.Objects.GetValue;class On extends me{constructor(t,n){super(t,n),this._enable=void 0,t.setInteractive(oo(n,"inputConfig",void 0)),this.resetFromJSON(n),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.setEnable(oo(t,"enable",!0)),this.setMode(oo(t,"mode",1)),this.setClickInterval(oo(t,"clickInterval",100)),this.setDragThreshold(oo(t,"threshold",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPress,this),t.on("pointerup",this.onRelease,this),t.on("pointerout",this.onPointOut,this),t.on("pointermove",this.onMove,this),t.on("pointerover",this.onOver,this),t.on("pointerout",this.onOut,this)}shutdown(t){this.isShutdown||(this.pointer=null,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t){t||this.cancel(),this._enable=t;var n=t?"enable":"disable";this.emit(n,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=aF[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}onPress(t,n,m,C){this.pointer===void 0&&(this.pointer=t,this.mode===0&&this.click(t.downTime,t,C))}onRelease(t,n,m,C){this.pointer===t&&(this.mode===1&&this.click(t.upTime,t,C),this.pointer=void 0)}onPointOut(t,n){this.pointer===t&&this.cancel()}onMove(t,n,m,C){this.pointer===t&&this.dragThreshold!==void 0&&t.getDistance()>=this.dragThreshold&&this.cancel()}click(t,n,m){if(!this.enable)return this;if(t===void 0)return this.emit("click",this,this.parent,n,m),this;this.pointer=void 0;var C=this.lastClickTime;return C!==void 0&&t-C<=this.clickInterval?this:(this.lastClickTime=t,this.emit("click",this,this.parent,n,m),this)}cancel(){return this.pointer=void 0,this}onOver(t,n,m,C){return this.enable?(this.emit("over",this,this.parent,t,C),this):this}onOut(t,n){return this.enable?(this.emit("out",this,this.parent,t,n),this):this}}const aF={press:0,pointerdown:0,release:1,pointerup:1},hx=Phaser.Utils.Objects.GetValue;class R0 extends XS{constructor(t,n,m,C,M,h,y){super(t,n,m,C,M,h,y),this._click=new On(this,hx(y,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly(hx(y,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}}at.register("checkbox",function(i,t,n,m,C,M){var h=new R0(this.scene,i,t,n,m,C,M);return this.scene.add.existing(h),h});nt(window,"RexPlugins.UI.Checkbox",R0);const oF={setTrackFillStyle(i,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.trackFillColor!==i||this.trackFillAlpha!==t,this.trackFillColor=i,this.trackFillAlpha=t,this},setFalseValueTrackFillStyle(i,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.falseValueTrackColor!==i||this.uncheckedTrackFillAlpha!==t,this.falseValueTrackColor=i,this.falseValueTrackFillAlpha=t,this},setThumbStyle(i,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.thumbColor!==i||this.checkAlpha!==t,this.thumbColor=i,this.thumbAlpha=t,this}},hF={setTrackSize(i,t){return this.dirty=this.dirty||this.trackWidth!==i||this.trackHeight!==t,this.trackWidth=i,this.trackHeight=t,this},setTrackRadius(i){return this.dirty=this.dirty||this.trackRadius!==i,this.trackRadius=i,this},setThumbSize(i,t){return t===void 0&&(t=i),this.dirty=this.dirty||this.thumbWidth!==i||this.thumbHeight!==t,this.thumbWidth=i,this.thumbHeight=t,this},setThumbRadius(i){return this.dirty=this.dirty||this.thumbRadius!==i,this.thumbRadius=i,this}},lF={setThumbPosition(i,t){return t===void 0&&(t=1-i),this.thumbLeftX=i,this.thumbRightX=t,this},setRTL(i){return i===void 0&&(i=!0),this.rtl=i,this}};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var zd=function(i,t,n){return(t-i)*n+i},uF=function(i,t,n){var m=zd(eh(i),eh(t),n),C=zd(ih(i),ih(t),n),M=zd(sh(i),sh(t),n);return(m&255)<<16|(C&255)<<8|M&255};const lx=Phaser.Math.Linear,fF={buildShapes(){this.addShape(new Fu().setName("track")).addShape(new Fu().setName("thumb"))},updateShapes(){var i=this.width,t=this.height,n=this.value?this.toggleAnimProgress:1-this.toggleAnimProgress,m=this.getShape("track");if(this.isSizeChanged){var C=i*this.trackWidth,M=t*this.trackHeight,h=(i-C)/2,y=(t-M)/2,e=t*this.trackRadius;m.setTopLeftPosition(h,y).setSize(C,M).setRadius(e)}var f=uF(this.falseValueTrackColor,this.trackFillColor,n),c=lx(this.falseValueTrackFillAlpha,this.trackFillAlpha,n);m.fillStyle(f,c);var s=this.getShape("thumb");if(this.isSizeChanged){var a=i*this.thumbWidth,r=t*this.thumbHeight,o=t*this.thumbRadius;s.setSize(a,r).setRadius(o)}var l=lx(this.thumbLeftX,this.thumbRightX,n)*i;this.rtl&&(l=i-l);var v=t/2;s.setCenterPosition(l,v),s.fillStyle(this.thumbColor,this.thumbAlpha)}},dF={setToggleAnimationDuration(i){return i===void 0&&(i=0),this.toggleAnimDuration=i,this},playToggleAnimation(){return this.toggleAnimProgressTask===void 0&&(this.toggleAnimProgressTask=new Tr(this,{eventEmitter:null})),this.toggleAnimProgressTask.restart({key:"toggleAnimProgress",from:0,to:1,duration:this.toggleAnimDuration}),this},stopToggleAnimation(){return this.toggleAnimProgressTask===void 0?this:(this.toggleAnimProgressTask.stop(),this)}};var YS={};Object.assign(YS,oF,hF,lF,fF,dF);var cF=function(i){var t=.3*eh(i)+.59*ih(i)+.11*sh(i);return(t&255)<<16|(t&255)<<8|t&255};const qt=Phaser.Utils.Objects.GetValue,ux=Phaser.Utils.Objects.IsPlainObject,kd=23730,vF=16777215;class WS extends yr{constructor(t,n,m,C,M,h,y){ux(n)?(y=n,n=qt(y,"x",0),m=qt(y,"y",0),C=qt(y,"width",2),M=qt(y,"height",2),h=qt(y,"color",kd)):ux(h)&&(y=h,h=qt(y,"color",kd)),super(t,n,m,C,M),this.type="rexToggleSwitch",h===void 0&&(h=kd),this.setTrackFillStyle(h,qt(y,"trackFillAlpha",1)),this.setFalseValueTrackFillStyle(qt(y,"falseValueTrackColor",cF(h)),qt(y,"falseValueTrackFillAlpha",1)),this.setThumbStyle(qt(y,"thumbColor",vF),qt(y,"thumbAlpha",1)),this.setTrackSize(qt(y,"trackWidth",.9),qt(y,"trackHeight",.5)),this.setTrackRadius(qt(y,"trackRadius",this.trackHeight*.5));var e=qt(y,"thumbHeight",void 0),f=qt(y,"thumbWidth",e);f===void 0&&(f=this.trackHeight*.9),this.setThumbSize(f,e),this.setThumbRadius(qt(y,"thumbRadius",this.thumbHeight*.5)),this.setThumbPosition(qt(y,"thumbLeft",.3),qt(y,"thumbRight",void 0)),this.setRTL(qt(y,"rtl",!1)),this.setToggleAnimationDuration(qt(y,"animationDuration",150)),this.buildShapes(),this.setValue(qt(y,"value",!1),0)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,this.playToggleAnimation(),this.emit("valuechange",t))}setValue(t,n){n===void 0&&(n=this.toggleAnimDuration);var m=this.toggleAnimDuration;return this.toggleAnimDuration=n,this.value=t,this.toggleAnimDuration=m,this}toggleValue(t){return this.setValue(!this.value,t),this}get toggleAnimProgress(){return this._toggleAnimProgress}set toggleAnimProgress(t){this._toggleAnimProgress!==t&&(this._toggleAnimProgress=t,this.dirty=!0)}}Object.assign(WS.prototype,YS);const fx=Phaser.Utils.Objects.GetValue;class A0 extends WS{constructor(t,n,m,C,M,h,y){super(t,n,m,C,M,h,y),this._click=new On(this,fx(y,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly(fx(y,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}}at.register("toggleSwitch",function(i,t,n,m,C,M){var h=new A0(this.scene,i,t,n,m,C,M);return this.scene.add.existing(h),h});nt(window,"RexPlugins.UI.ToggleSwitch",A0);const pF={loadFromURL(i,t){var n=this,m=new Image;return m.onload=function(){n.width!==m.width||n.height!==m.height?n.resize(m.width,m.height):n.clear(),n.context.drawImage(m,0,0),n.updateTexture(),t&&t(),m.onload=null,m.src="",m.remove()},m.src=i,this},loadFromURLPromise(i){var t=this;return new Promise(function(n,m){t.loadFromURL(i,n)})},loadFromFile(i,t){var n=URL.createObjectURL(i);return this.loadFromURL(n,function(){URL.revokeObjectURL(n),t&&t()}),this},loadFromFilePromise(i){var t=this;return new Promise(function(n,m){t.loadFromFile(i,n)})}};class za extends An{}Object.assign(za.prototype,pF);at.register("canvas",function(i,t,n,m){var C=new za(this.scene,i,t,n,m);return this.scene.add.existing(C),C});nt(window,"RexPlugins.UI.Canvas",za);const Br=Phaser.Utils.Objects.GetValue;class HS extends An{constructor(t,n,m,C,M,h){super(t,n,m),this.type="rexCircleMaskImage",this.setTexture(C,M,h)}setTexture(t,n,m){typeof n=="object"&&(m=n,n=void 0),typeof m=="string"&&(m={maskType:m});var C=Br(m,"maskType",0),M=Br(m,"backgroundColor",void 0),h=Br(m,"strokeColor",void 0),y=h!=null?10:0,e=Br(m,"strokeWidth",y);if(C===void 0?C=0:typeof C=="string"&&(C=gF[C]),this._textureKey=t,this._frameName=n,C===null)return this.loadTexture(t,n),this.dirty=!0,this;var f=this.scene.sys.textures.getFrame(t,n);if(!f)return this;f.cutWidth!==this.width||f.cutHeight!==this.height?this.setCanvasSize(f.cutWidth,f.cutHeight):this.clear();var c=this.canvas,s=this.context,a=c.width,r=c.height;M!=null&&(s.fillStyle=M,s.fillRect(0,0,a,r)),s.save(),s.beginPath();var o=e/2;switch(C){case 1:var p=Math.floor(a/2),g=Math.floor(r/2),l=p-o,v=g-o;s.ellipse(p,g,l,v,0,0,2*Math.PI);break;case 2:var u=Br(m,"radius",0),d=Br(m,"iteration",void 0);XC(s,o,o,a-e,r-e,u,d);break;default:var p=Math.floor(a/2),g=Math.floor(r/2),x=Math.min(p,g)-o;s.arc(p,g,x,0,2*Math.PI);break}return h!=null&&(s.strokeStyle=h,s.lineWidth=e,s.stroke()),s.clip(),this.loadTexture(t,n),s.restore(),this.dirty=!0,this}resize(t,n){return this.setDisplaySize(t,n),this}}const gF={circle:0,ellipse:1,roundRectangle:2};at.register("circleMaskImage",function(i,t,n,m,C){var M=new HS(this.scene,i,t,n,m,C);return this.scene.add.existing(M),M});nt(window,"RexPlugins.UI.CircleMaskImage",HS);const ho=Phaser.Utils.Objects.GetValue;class $S extends An{constructor(t,n,m,C,M,h){super(t,n,m),this.type="rexAlphaMaskImage",this.maskFrame=null,this.setTexture(C,M,h)}setTexture(t,n,m){typeof n=="object"&&(m=n,n=void 0),typeof m=="string"&&(m={mask:{key:m}});var C=ho(m,"mask.key"),M=ho(m,"mask.frame"),h=ho(m,"mask.invertAlpha",!1),y=ho(m,"mask.scale"),e=ho(m,"backgroundColor");if(C){this._maskKey=C,this._maskFrame=M,this._maskScale=y;var f=C?this.scene.sys.textures.get(C):null;this.maskFrame=f?f.get(M):null}this._textureKey=t,this._frameName=n;var c=this.maskFrame;if(c===null)return this.loadTexture(t,n),this.dirty=!0,this;var s=e!=null;this.loadTexture(t,n);var a=this.canvas,r=this.context,o=a.width,l=a.height;r.save(),r.globalCompositeOperation=h?"destination-out":"destination-in";var v,u;this._maskScale!=null?(v=c.cutWidth*this._maskScale,u=c.cutHeight*this._maskScale):(v=o,u=l);var d=(o-v)/2,p=(l-u)/2;return this.drawFrame(this._maskKey,this._maskFrame,d,p,v,u),r.restore(),s&&(r.save(),r.globalCompositeOperation="destination-over",r.fillStyle=e,r.fillRect(0,0,o,l),r.restore()),this.dirty=!0,this}resize(t,n){return this.setDisplaySize(t,n),this}}at.register("alphaMaskImage",function(i,t,n,m,C){var M=new $S(this.scene,i,t,n,m,C);return this.scene.add.existing(M),M});nt(window,"RexPlugins.UI.AlphaMaskImage",$S);const mF=Phaser.Math.Linear,dx=Phaser.Math.Percent,xF={setValue(i,t,n){return i==null?this:(t!==void 0&&(i=dx(i,t,n)),this.value=i,this)},addValue(i,t,n){return t!==void 0&&(i=dx(i,t,n)),this.value+=i,this},getValue(i,t){var n=this.value;return i!==void 0&&(n=mF(i,t,n)),n}},yF=Phaser.Math.Percent;var TF=function(i){return this.easeValuePropName=i,this},CF=function(i){return this.easeValueDuration=i,this},SF=function(i){return this.easeFunction=i,this},MF=function(){return this.easeValueTask&&this.easeValueTask.stop(),this},EF=function(i,t,n){return i==null?this:(t!==void 0&&(i=yF(i,t,n)),this.easeValueTask===void 0&&(this.easeValueTask=new Tr(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,to:i,duration:this.easeValueDuration,ease:this.easeFunction}),this)},PF=function(i,t,n,m){return n===void 0&&(n=-1),m===void 0&&(m=0),this.easeValueTask===void 0&&(this.easeValueTask=new Tr(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,from:i,to:t,duration:this.easeValueDuration,ease:this.easeFunction,repeat:n,repeatDelay:m}),this};const RF={setEaseValuePropName:TF,setEaseValueDuration:CF,setEaseValueFunction:SF,stopEaseValue:MF,easeValueTo:EF,easeValueRepeat:PF},lo=Phaser.Utils.Objects.GetValue,AF=Phaser.Math.Clamp;function Cr(i){class t extends i{bootProgressBase(m){this.eventEmitter=lo(m,"eventEmitter",this);var C=lo(m,"valuechangeCallback",null);if(C!==null){var M=lo(m,"valuechangeCallbackScope",void 0);this.eventEmitter.on("valuechange",C,M)}return this.setEaseValuePropName("value").setEaseValueDuration(lo(m,"easeValue.duration",0)).setEaseValueFunction(lo(m,"easeValue.ease","Linear")),this}get value(){return this._value}set value(m){m=AF(m,0,1);var C=this._value,M=C!=m;this.dirty=this.dirty||M,this._value=m,M&&this.eventEmitter.emit("valuechange",this._value,C,this.eventEmitter)}}return Object.assign(t.prototype,xF,RF),t}const wF=Phaser.Math.RadToDeg,OF={buildShapes(){this.addShape(new tp().setName("track")).addShape(new ff().setName("bar")).addShape(new tp().setName("center"))},updateShapes(){var i=this.radius,t=this.thickness*this.radius,n=this.radius-t/2,m=this.radius-t,C=this.getShape("track");this.trackColor!=null&&t>0?C.setCenterPosition(i,i).setRadius(n).lineStyle(t,this.trackColor):C.reset();var M=this.getShape("bar");if(this.barColor!=null&&n>0){var h,y,e;if(this.value===1)h=!1,y=0,e=361;else{h=this.anticlockwise,y=wF(this.startAngle);var f=360*(h?1-this.value:this.value);e=f+y}M.setCenterPosition(i,i).setRadius(n).setAngle(y,e,h).lineStyle(t,this.barColor)}else M.reset();var c=this.getShape("center");this.centerColor&&m>0?c.setCenterPosition(i,i).setRadius(m).fillStyle(this.centerColor):c.reset()}},Qi=Phaser.Utils.Objects.GetValue,LF=Phaser.Utils.Objects.IsPlainObject,FF=Phaser.Math.Clamp,IF=Phaser.Math.DegToRad(270);let df=class extends Cr(yr){constructor(t,n,m,C,M,h,y){LF(n)&&(y=n,n=Qi(y,"x",0),m=Qi(y,"y",0),C=Qi(y,"radius",1),M=Qi(y,"barColor",void 0),h=Qi(y,"value",0)),C===void 0&&(C=1);var e=C*2;super(t,n,m,e,e),this.type="rexCircularProgress",this.bootProgressBase(y),this.setRadius(C),this.setTrackColor(Qi(y,"trackColor",void 0)),this.setBarColor(M),this.setCenterColor(Qi(y,"centerColor",void 0)),this.setThickness(Qi(y,"thickness",.2)),this.setStartAngle(Qi(y,"startAngle",IF)),this.setAnticlockwise(Qi(y,"anticlockwise",!1)),this.buildShapes(),this.setValue(h)}resize(t,n){return t=Math.floor(Math.min(t,n)),t===this.width?this:(super.resize(t,t),this.setRadius(t/2),this)}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t;var n=t*2;this.resize(n,n)}setRadius(t){return this.radius=t,this}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!=t,this._startAngle=t}setStartAngle(t){return this.startAngle=t,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!=t,this._anticlockwise=t}setAnticlockwise(t){return t===void 0&&(t=!0),this.anticlockwise=t,this}get thickness(){return this._thickness}set thickness(t){t=FF(t,0,1),this.dirty=this.dirty||this._thickness!=t,this._thickness=t}setThickness(t){return this.thickness=t,this}get centerColor(){return this._centerColor}set centerColor(t){this.dirty=this.dirty||this._centerColor!=t,this._centerColor=t}setCenterColor(t){return this.centerColor=t,this}};Object.assign(df.prototype,OF);at.register("circularProgress",function(i,t,n,m,C,M){var h=new df(this.scene,i,t,n,m,C,M);return this.scene.add.existing(h),h});nt(window,"RexPlugins.UI.CircularProgress",df);var Ud=function(i,t,n,m,C,M,h,y,e,f,c,s){f===void 0&&(f=0),c===void 0&&(c=2*Math.PI),s===void 0&&(s=!1),t.beginPath(),t.ellipse(n,m,C,M,0,f,c,s),h!=null&&(t.fillStyle=h,t.fill()),y!=null&&(t.strokeStyle=y,t.lineWidth=e,t.stroke())},DF=function(i,t,n,m,C,M,h,y,e,f,c){e===void 0&&y!=null&&(e=2),f===void 0&&(f="start"),c===void 0&&(c="alphabetic"),t.font=M,t.textAlign=f,t.textBaseline=c,t.fillStyle=h,t.strokeStyle=y,t.lineWidth=e,t.lineCap="round",t.lineJoin="round",y!=null&&y!=="none"&&e>0&&t.strokeText(C,n,m),h!=null&&h!=="none"&&t.fillText(C,n,m)},BF=function(){var i=this.radius,t=this.thickness*this.radius,n=this.radius-t/2,m=this.radius-t,C=this.canvas,M=this.context;if(this.trackColor&&t>0&&(M.save(),Ud(C,M,i,i,n,n,void 0,this.trackColor,t),M.restore()),this.barColor&&n>0){var h,y,e;if(this.value===1)h=!1,y=0,e=2*Math.PI;else{h=this.anticlockwise,y=this.startAngle;var f=2*Math.PI*(h?1-this.value:this.value);e=f+y}M.save(),Ud(C,M,i,i,n,n,void 0,this.barColor,t,y,e,h),M.restore()}if(this.centerColor&&m>0){var c;this.centerColor2?(c=this.context.createRadialGradient(i,i,0,i,i,m),c.addColorStop(0,this.centerColor),c.addColorStop(1,this.centerColor2)):c=this.centerColor,M.save(),Ud(C,M,i,i,m,m,c),M.restore()}this.textFormatCallback&&(this.textColor||this.textStrokeColor)&&(M.save(),DF(C,M,i,i,this.getFormatText(),this.textFont,this.textColor,this.textStrokeColor,this.textStrokeThickness,"center","middle"),M.restore())};const he=Phaser.Utils.Objects.GetValue,bF=Phaser.Utils.Objects.IsPlainObject,GF=Phaser.Math.Clamp,NF=Phaser.Math.DegToRad(270);class KS extends Cr(An){constructor(t,n,m,C,M,h,y){bF(n)&&(y=n,n=he(y,"x",0),m=he(y,"y",0),C=he(y,"radius",1),M=he(y,"barColor",void 0),h=he(y,"value",0));var e=C*2;super(t,n,m,e,e),this.type="rexCircularProgressCanvas",this.bootProgressBase(y),this.setRadius(C),this.setTrackColor(he(y,"trackColor",void 0)),this.setBarColor(M),this.setCenterColor(he(y,"centerColor",void 0)),this.setThickness(he(y,"thickness",.2)),this.setStartAngle(he(y,"startAngle",NF)),this.setAnticlockwise(he(y,"anticlockwise",!1)),this.setTextColor(he(y,"textColor",void 0)),this.setTextStrokeColor(he(y,"textStrokeColor",void 0),he(y,"textStrokeThickness",void 0));var f=he(y,"textFont",void 0);f?this.setTextFont(f):this.setTextFont(he(y,"textSize","16px"),he(y,"textFamily","Courier"),he(y,"textStyle","")),this.setTextFormatCallback(he(y,"textFormatCallback",void 0),he(y,"textFormatCallbackScope",void 0)),this.setValue(h)}resize(t,n){return t=Math.floor(Math.min(t,n)),t===this.width?this:(super.resize(t,t),this.setRadius(t/2),this)}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t;var n=t*2;this.resize(n,n)}setRadius(t){return this.radius=t,this}get trackColor(){return this._trackColor}set trackColor(t){t=xt(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get barColor(){return this._barColor}set barColor(t){t=xt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!=t,this._startAngle=t}setStartAngle(t){return this.startAngle=t,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!=t,this._anticlockwise=t}setAnticlockwise(t){return t===void 0&&(t=!0),this.anticlockwise=t,this}get thickness(){return this._thickness}set thickness(t){t=GF(t,0,1),this.dirty=this.dirty||this._thickness!=t,this._thickness=t}setThickness(t){return this.thickness=t,this}get centerColor(){return this._centerColor}set centerColor(t){t=xt(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor!=t,this._centerColor=t}get centerColor2(){return this._centerColor2}set centerColor2(t){t=xt(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor2!=t,this._centerColor2=t}setCenterColor(t,n){return this.centerColor=t,this.centerColor2=n,this}get textColor(){return this._textColor}set textColor(t){t=xt(t,this.canvas,this.context),this.dirty=this.dirty||this._textColor!=t,this._textColor=t}setTextColor(t){return this.textColor=t,this}get textStrokeColor(){return this._textStrokeColor}set textStrokeColor(t){t=xt(t,this.canvas,this.context),this.dirty=this.dirty||this._textStrokeColor!=t,this._textStrokeColor=t}get textStrokeThickness(){return this._textStrokeThickness}set textStrokeThickness(t){this.dirty=this.dirty||this._textStrokeThickness!=t,this._textStrokeThickness=t}setTextStrokeColor(t,n){return n===void 0&&(n=2),this.textStrokeColor=t,this.textStrokeThickness=n,this}get textFont(){return this._textFont}set textFont(t){this.dirty=this.dirty||this._textFont!=t,this._textFont=t}setTextFont(t,n,m){var C;return n===void 0?C=t:C=m+" "+t+" "+n,this.textFont=C,this}setTextFormatCallback(t,n){return this.textFormatCallback=t,this.textFormatCallbackScope=n,this}updateTexture(){return this.clear(),BF.call(this),super.updateTexture(),this}getFormatText(t){t===void 0&&(t=this.value);var n;return this.textFormatCallbackScope?n=this.textFormatCallback(t):n=this.textFormatCallback.call(this.textFormatCallbackScope,t),n}}at.register("circularProgressCanvas",function(i,t,n,m,C,M){var h=new KS(this.scene,i,t,n,m,C,M);return this.scene.add.existing(h),h});nt(window,"RexPlugins.UI.CircularProgressCanvas",KS);var VF=function(){var i=this.skewX,t=this.width-Math.abs(i),n=this.height,m=this.getShape("trackFill");m.fillStyle(this.trackColor),m.isFilled&&Xd(m,0,0,t,n,i).close();var C=this.getShape("bar");if(C.fillStyle(this.barColor),C.isFilled){var M,h;this.rtl?(M=t*(1-this.value),h=t):(M=0,h=t*this.value),Xd(C,M,0,h,n,i).close()}var y=this.getShape("trackStroke");y.lineStyle(this.trackStrokeThickness,this.trackStrokeColor),y.isStroked&&Xd(y,0,0,t,n,i).end()},Xd=function(i,t,n,m,C,M){return M>=0?i.startAt(t+M,n).lineTo(m+M,n).lineTo(m,C).lineTo(t,C).lineTo(t+M,n):i.startAt(t,n).lineTo(m,n).lineTo(m-M,C).lineTo(t-M,C).lineTo(t,n),i};const xe=Phaser.Utils.Objects.GetValue,Yd=Phaser.Utils.Objects.IsPlainObject;let w0=class extends Cr(yr){constructor(t,n,m,C,M,h,y,e){Yd(n)?(e=n,n=xe(e,"x",0),m=xe(e,"y",0),C=xe(e,"width",2),M=xe(e,"height",2),h=xe(e,"barColor",void 0),y=xe(e,"value",0)):Yd(C)?(e=C,C=xe(e,"width",2),M=xe(e,"height",2),h=xe(e,"barColor",void 0),y=xe(e,"value",0)):Yd(h)&&(e=h,h=xe(e,"barColor",void 0),y=xe(e,"value",0)),super(t,n,m,C,M,e),this.type="rexLineProgress",this.bootProgressBase(e),this.addShape(new Ta().setName("trackFill")).addShape(new Ta().setName("bar")).addShape(new Ta().setName("trackStroke")),this.setTrackColor(xe(e,"trackColor",void 0)),this.setBarColor(h),this.setTrackStroke(xe(e,"trackStrokeThickness",2),xe(e,"trackStrokeColor",void 0)),this.setSkewX(xe(e,"skewX",0)),this.setRTL(xe(e,"rtl",!1)),this.setValue(y)}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,n){return this.trackStrokeThickness=t,this.trackStrokeColor=n,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get skewX(){return this._skewX}set skewX(t){this.dirty=this.dirty||this._skewX!=t,this._skewX=t}setSkewX(t){return this.skewX=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}};var zF={updateShapes:VF};Object.assign(w0.prototype,zF);at.register("lineProgress",function(i,t,n,m,C,M,h){var y=new w0(this.scene,i,t,n,m,C,M,h);return this.scene.add.existing(y),y});nt(window,"RexPlugins.UI.LineProgress",w0);var kF=function(i,t){i.save(),i.beginPath();var n=t[0];i.moveTo(n.x,n.y);for(var m=1,C=t.length;m<C;m++)n=t[m],i.lineTo(n.x,n.y);i.closePath(),i.restore()},Wd=function(i,t,n,m,C,M,h){h===void 0&&(h="round"),kF(t,n),t.lineJoin=h,m!=null&&(t.fillStyle=m,t.fill()),C!=null&&(t.strokeStyle=C,t.lineWidth=M,t.stroke())},UF=function(){var i=this.skewX,t=this.width-Math.abs(i),n=this.height,m=this.canvas,C=this.context;(this.trackColor||this.trackStrokeColor)&&cx(0,0,t,n,i,this.trackPoints);var M,h;if(this.barColor&&(this.rtl?(M=t*(1-this.value),h=t):(M=0,h=t*this.value),cx(M,0,h,n,i,this.barPoints)),this.trackColor&&(C.save(),Wd(m,C,this.trackPoints,this.trackColor),C.restore()),this.barColor){C.save();var y;if(this.barColor2){var e;if(this.isHorizontalGradient){var f=n/2;e=C.createLinearGradient(M,f,h,f)}else{var c=t/2;e=C.createLinearGradient(c,0,c,n)}e.addColorStop(0,this.rtl?this.barColor:this.barColor2),e.addColorStop(1,this.rtl?this.barColor2:this.barColor),y=e}else y=this.barColor;Wd(m,C,this.barPoints,y),C.restore()}this.trackStrokeColor&&this.trackStrokeThickness>0&&(C.save(),Wd(m,C,this.trackPoints,void 0,this.trackStrokeColor,this.trackStrokeThickness),C.restore())},cx=function(i,t,n,m,C,M){M===void 0&&(M=[]),M.length=4;for(var h=0;h<4;h++)M[h]||(M[h]={});var y;return C>=0?(y=M[0],y.x=i+C,y.y=t,y=M[1],y.x=n+C,y.y=t,y=M[2],y.x=n,y.y=m,y=M[3],y.x=i,y.y=m):(y=M[0],y.x=i,y.y=t,y=M[1],y.x=n,y.y=t,y=M[2],y.x=n-C,y.y=m,y=M[3],y.x=i-C,y.y=m),M};const le=Phaser.Utils.Objects.GetValue,Hd=Phaser.Utils.Objects.IsPlainObject;class O0 extends Cr(An){constructor(t,n,m,C,M,h,y,e){Hd(n)?(e=n,n=le(e,"x",0),m=le(e,"y",0),C=le(e,"width",2),M=le(e,"height",2),h=le(e,"barColor",void 0),y=le(e,"value",0)):Hd(C)?(e=C,C=le(e,"width",2),M=le(e,"height",2),h=le(e,"barColor",void 0),y=le(e,"value",0)):Hd(h)&&(e=h,h=le(e,"barColor",void 0),y=le(e,"value",0)),super(t,n,m,C,M),this.type="rexLineProgressCanvas",this.trackPoints=[],this.barPoints=[],this.bootProgressBase(e),this.setTrackColor(le(e,"trackColor",void 0)),this.setBarColor(h,le(e,"barColor2",void 0),le(e,"isHorizontalGradient",void 0)),this.setTrackStroke(le(e,"trackStrokeThickness",2),le(e,"trackStrokeColor",void 0)),this.setSkewX(le(e,"skewX",0)),this.setRTL(le(e,"rtl",!1)),this.setValue(y)}get trackColor(){return this._trackColor}set trackColor(t){t=xt(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){t=xt(t,this.canvas,this.context),this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,n){return this.trackStrokeThickness=t,this.trackStrokeColor=n,this}get barColor(){return this._barColor}set barColor(t){t=xt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}get barColor2(){return this._barColor2}set barColor2(t){t=xt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor2!=t,this._barColor2=t}get isHorizontalGradient(){return this._isHorizontalGradient}set isHorizontalGradient(t){this.dirty|=this._isHorizontalGradient!=t,this._isHorizontalGradient=t}setBarColor(t,n,m){return m===void 0&&(m=!0),this.barColor=t,this.barColor2=n,this.isHorizontalGradient=m,this}get skewX(){return this._skewX}set skewX(t){this.dirty=this.dirty||this._skewX!=t,this._skewX=t}setSkewX(t){return this.skewX=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}updateTexture(){return this.clear(),UF.call(this),super.updateTexture(),this}}at.register("circularProgressCanvas",function(i,t,n,m,C,M,h){var y=new O0(this.scene,i,t,n,m,C,M,h);return this.scene.add.existing(y),y});nt(window,"RexPlugins.UI.LineProgressCanvas",O0);Phaser.Math.Wrap;const br=Phaser.Math.Linear;var XF=function(){var i=this.getShape("triangle"),t=this.padding,n=this.width-t.right,m=0+t.left,C=this.height-t.bottom,M=0+t.top,h=(m+n)/2,y=(M+C)/2,e={0:{a:{x:m,y:M},b:{x:n,y},c:{x:m,y:C}},1:{a:{x:m,y:M},b:{x:h,y:C},c:{x:n,y:M}},2:{a:{x:n,y:M},b:{x:m,y},c:{x:n,y:C}},3:{a:{x:m,y:C},b:{x:h,y:M},c:{x:n,y:C}}},f,c,s,a,r,o;if(this.previousDirection===void 0){var l=e[this.direction],v=l.a,u=l.b,d=l.c;f=v.x,c=v.y,s=u.x,a=u.y,r=d.x,o=d.y}else{var p=e[this.previousDirection],g=e[this.direction],x=this.easeDirectionProgress;f=br(p.a.x,g.a.x,x),c=br(p.a.y,g.a.y,x),s=br(p.b.x,g.b.x,x),a=br(p.b.y,g.b.y,x),r=br(p.c.x,g.c.x,x),o=br(p.c.y,g.c.y,x)}i.startAt(f,c).lineTo(s,a).lineTo(r,o),this.arrowOnly?i.end():i.close()};const YF=Phaser.Math.DegToRad,cl=YF(120);var WF=function(t){var t=this.getShape("triangle"),n=this.width/2,m=this.height/2,C=Math.min(n,m)*this.radius,M=this.verticeRotation;t.startAt(n+C*Math.cos(M+cl),m+C*Math.sin(M+cl)).lineTo(n+C*Math.cos(M),m+C*Math.sin(M)).lineTo(n+C*Math.cos(M-cl),m+C*Math.sin(M-cl)),this.arrowOnly?t.end():t.close()};const HF={buildShapes(){this.addShape(new Ta().setName("triangle"))},updateShapes(){var i=this.getShape("triangle");this.arrowOnly?i.fillStyle().lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha):i.fillStyle(this.fillColor,this.fillAlpha).lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha),this.shapeMode===0?XF.call(this):WF.call(this)}},$F={setEaseDuration(i){return i===void 0&&(i=0),this.easeDuration=i,this},playEaseDirectionation(){return this.easeDirectionProgressTask===void 0&&(this.easeDirectionProgressTask=new Tr(this,{eventEmitter:null})),this.easeDirectionProgressTask.restart({key:"easeDirectionProgress",from:0,to:1,duration:this.easeDuration}),this},stopEaseDirection(){return this.easeDirectionProgressTask===void 0?this:(this.easeDirectionProgressTask.stop(),this)}},Gr=Phaser.Utils.Objects.GetValue,KF=Phaser.Utils.Objects.IsPlainObject,ZF=Phaser.Math.DegToRad,jF=Phaser.Math.RadToDeg;class cf extends yr{constructor(t,n,m,C,M,h,y){var e,f,c,s,a,r,o,l;if(KF(n)){var v=n;n=v.x,m=v.y,C=v.width,M=v.height,h=v.color,y=v.alpha,e=v.strokeColor,f=v.strokeAlpha,c=v.strokeWidth,s=v.arrowOnly,a=v.direction,r=v.easeDuration,o=v.padding,l=v.radius}n===void 0&&(n=0),m===void 0&&(m=0),C===void 0&&(C=1),M===void 0&&(M=C),s===void 0&&(s=!1),a===void 0&&(a=0),r===void 0&&(r=0),o===void 0&&(o=0),l===void 0&&(l=void 0),super(t,n,m,C,M),this.type="rexTriangle",this.setFillStyle(h,y),e!==void 0&&c===void 0&&(c=2),this.setStrokeStyle(c,e,f),this.setArrowOnly(s),this.setDirection(a,r),this.setPadding(o),this.setRadius(l),this.buildShapes()}get arrowOnly(){return this._arrowOnly}set arrowOnly(t){this.dirty=this.dirty||this._arrowOnly!=t,this._arrowOnly=t}setArrowOnly(t){return t===void 0&&(t=!0),this.arrowOnly=t,this}get direction(){return this._direction}set direction(t){t=QF(t),this._direction!==t&&(this.easeDuration>0&&this._direction!==void 0?this.previousDirection=this._direction:this.previousDirection=void 0,this._direction=t,this.verticeAngle=t*90,this.dirty=!0,this.previousDirection!==void 0?this.playEaseDirectionation():this.stopEaseDirection())}setDirection(t,n){return n!==void 0&&this.setEaseDuration(n),this.direction=t,this}toggleDirection(t){return this.setDirection(this.direction+2,t),this}get easeDirectionProgress(){return this._easeDirectionProgress}set easeDirectionProgress(t){this._easeDirectionProgress!==t&&(this._easeDirectionProgress=t,this.dirty=!0)}setPadding(t,n,m,C){if(typeof t=="object"){var M=t,h=Gr(M,"x",null);h!==null?(t=h,m=h):(t=Gr(M,"left",0),m=Gr(M,"right",t));var y=Gr(M,"y",null);y!==null?(n=y,C=y):(n=Gr(M,"top",0),C=Gr(M,"bottom",n))}else t===void 0&&(t=0),n===void 0&&(n=t),m===void 0&&(m=t),C===void 0&&(C=n);return this.padding===void 0&&(this.padding={}),this.dirty=this.dirty||this.padding.left!=t||this.padding.top!=n||this.padding.right!=m||this.padding.bottom!=C,this.padding.left=t,this.padding.top=n,this.padding.right=m,this.padding.bottom=C,this.setRadius(),this}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t}setRadius(t){return this.radius=t,this.shapeMode=t==null?0:1,this}get verticeRotation(){return this._verticeRotation}set verticeRotation(t){this.dirty=this.dirty||this._verticeRotation!=t,this._verticeRotation=t}setVerticeRotation(t){return this.verticeRotation=t,this}get verticeAngle(){return jF(this.verticeRotation)}set verticeAngle(t){this.verticeRotation=ZF(t)}setVerticeAngle(t){return this.verticeAngle=t,this}}const JF={right:0,down:1,left:2,up:3};var QF=function(i){return typeof i=="string"&&(i=JF[i]),i=i%4,i};Object.assign(cf.prototype,HF,$F);at.register("triangle",function(i,t,n,m,C,M){var h=new cf(this.scene,i,t,n,m,C,M);return this.scene.add.existing(h),h});nt(window,"RexPlugins.UI.Triangle",cf);const qF=Phaser.GameObjects.Zone,_F=Phaser.Utils.Array.Add,tI=Phaser.Utils.Array.Remove;let xh=class extends qF{constructor(t,n,m,C,M){n===void 0&&(n=0),m===void 0&&(m=0),C===void 0&&(C=1),M===void 0&&(M=1),super(t,n,m,C,M),this.children=[]}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(t)for(var n,m=this.children.length-1;m>=0;m--)n=this.children[m],!n.parentContainer&&!n.displayList&&n.destroy(t);this.clear(!t),super.destroy(t)}}contains(t){return this.children.indexOf(t)!==-1}add(t){var n=this;return _F(this.children,t,0,function(m){m.once("destroy",n.onChildDestroy,n)},this),this}remove(t,n){var m=this;return tI(this.children,t,function(C){C.off("destroy",m.onChildDestroy,m),n&&C.destroy()}),this}onChildDestroy(t,n){this.remove(t,!1)}clear(t){for(var n=this,m,C=0,M=this.children.length;C<M;C++)m=this.children[C],m.off("destroy",n.onChildDestroy,n),t&&m.destroy();return this.children.length=0,this}};const vx=Phaser.GameObjects.Components;Phaser.Class.mixin(xh,[vx.Alpha,vx.Flip]);var Oi=function(i,t){var n;if(t===void 0)i.hasOwnProperty("rexContainer")&&(n=i.rexContainer.parent);else for(n=Oi(i);n&&n.name!==t;)n=Oi(n);return n},ZS=function(i){for(var t=Oi(i);t;)i=t,t=Oi(t);return i};const eI=Phaser.Math.DegToRad,iI=Phaser.Math.RadToDeg;var wt=function(i){if(!i.hasOwnProperty("rexContainer")){var t={parent:null,self:null,layer:null,x:0,y:0,syncPosition:!0,rotation:0,syncRotation:!0,scaleX:0,scaleY:0,syncScale:!0,alpha:0,syncAlpha:!0,visible:!0,active:!0};Object.defineProperty(t,"angle",{get:function(){return iI(this.rotation)},set:function(n){this.rotation=eI(n)}}),Object.defineProperty(t,"displayWidth",{get:function(){return i.width*this.scaleX},set:function(n){this.scaleX=n/i.width}}),Object.defineProperty(t,"displayHeight",{get:function(){return i.height*this.scaleY},set:function(n){this.scaleY=n/i.height}}),i.rexContainer=t}return i.rexContainer};const sI={setParent(i,t){t===void 0&&(t=this);var n=wt(i);return t?(n.parent=t,n.self=i):(n.parent=null,n.self=null),this},getParent(i,t){return typeof i=="string"&&(t=i,i=void 0),i===void 0&&(i=this),Oi(i,t)},getTopmostParent(i){return i===void 0&&(i=this),ZS(i)}},uo=Phaser.Utils.Objects.GetValue,jS=xh.prototype.add;var $d=function(i,t){this.setParent(i);var n=wt(i);return JS(n,t),this.resetChildState(i).updateChildVisible(i).updateChildActive(i).updateChildScrollFactor(i).updateChildMask(i),jS.call(this,i),this.addToParentContainer(i),this.addToRenderLayer(i),this},Kd=function(i,t){this.setParent(i);var n=wt(i);return JS(n,t),n.x=i.x,n.y=i.y,n.rotation=i.rotation,n.scaleX=i.scaleX,n.scaleY=i.scaleY,n.alpha=i.alpha,n.visible=i.visible,n.active=i.active,this.updateChildPosition(i).updateChildAlpha(i).updateChildVisible(i).updateChildActive(i).updateChildScrollFactor(i).updateChildMask(i),jS.call(this,i),this.addToRenderLayer(i),this},JS=function(i,t){t===void 0&&(t=!0),typeof t=="boolean"?(i.syncPosition=t,i.syncRotation=t,i.syncScale=t,i.syncAlpha=t,i.syncScrollFactor=t):(i.syncPosition=uo(t,"syncPosition",!0),i.syncRotation=uo(t,"syncRotation",!0),i.syncScale=uo(t,"syncScale",!0),i.syncAlpha=uo(t,"syncAlpha",!0),i.syncScrollFactor=uo(t,"syncScrollFactor",!0))};const nI={add(i){return Array.isArray(i)?this.addMultiple(i):$d.call(this,i),this},pin(i,t){return Array.isArray(i)?this.addMultiple(i,t):$d.call(this,i,t),this},addMultiple(i){for(var t=0,n=i.length;t<n;t++)$d.call(this,i[t]);return this},addLocal(i){return Array.isArray(i)?this.addMultiple(i):Kd.call(this,i),this},pinLocal(i,t){return Array.isArray(i)?this.addMultiple(i,t):Kd.call(this,i,t),this},addLocalMultiple(i){for(var t=0,n=i.length;t<n;t++)Kd.call(this,i[t]);return this}},px=xh.prototype.remove,rI=xh.prototype.clear,aI={remove(i,t){return Oi(i)!==this?this:(this.setParent(i,null),t||this.removeFromRenderLayer(i),px.call(this,i,t),this)},unpin(i,t){return Oi(i)!==this?this:(this.setParent(i,null),t||this.removeFromRenderLayer(i),px.call(this,i,t),this)},clear(i){for(var t=this.children,n=0,m=t.length;n<m;n++){var C=t[n];this.setParent(C,null),i||this.removeFromRenderLayer(C)}return rI.call(this,i),this}},oI={getLocalState(i){return wt(i)},resetChildState(i){return this.resetChildPositionState(i).resetChildVisibleState(i).resetChildAlphaState(i).resetChildActiveState(i),this},resetChildrenState(i){for(var t=0,n=i.length;t<n;t++)this.resetChildState(i[t]);return this},syncProperties(){return this.syncPosition().syncVisible().syncAlpha().syncActive().syncScrollFactor().syncMask(),this}},gx=Phaser.Math.RotateAround,hI={worldToLocal(i){return i.x-=this.x,i.y-=this.y,gx(i,0,0,-this.rotation),i.x/=this.scaleX,i.y/=this.scaleY,i},localToWorld(i){return i.x*=this.scaleX,i.y*=this.scaleY,gx(i,0,0,this.rotation),i.x+=this.x,i.y+=this.y,i}};var rh=function(i,t){return i===t?1:i/t};const lI={updateChildPosition(i){i.isRexContainerLite&&(i.syncChildrenEnable=!1);var t=wt(i),n=t.parent;return t.syncPosition&&(i.x=t.x,i.y=t.y,n.localToWorld(i)),t.syncRotation&&(i.rotation=t.rotation+n.rotation),t.syncScale&&(i.scaleX=t.scaleX*n.scaleX,i.scaleY=t.scaleY*n.scaleY),i.isRexContainerLite&&(i.syncChildrenEnable=!0,i.syncPosition()),this},syncPosition(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildPosition,this),this},resetChildPositionState(i){var t=wt(i),n=t.parent;return t.x=i.x,t.y=i.y,n.worldToLocal(t),t.scaleX=rh(i.scaleX,n.scaleX),t.scaleY=rh(i.scaleY,n.scaleY),t.rotation=i.rotation-n.rotation,this},setChildPosition(i,t,n){return i.x=t,i.y=n,this.resetChildPositionState(i),this},setChildLocalPosition(i,t,n){var m=wt(i);return m.x=t,m.y=n,this.updateChildPosition(i),this},resetLocalPositionState(){var i=wt(this).parent;return i&&i.resetChildPositionState(this),this}},uI=Phaser.Math.DegToRad,fI={updateChildRotation(i){var t=wt(i),n=t.parent;return t.syncRotation&&(i.rotation=n.rotation+t.rotation),this},syncRotation(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildRotation,this),this},resetChildRotationState(i){var t=wt(i),n=t.parent;return t.rotation=i.rotation-n.rotation,this},setChildRotation(i,t){return i.rotation=t,this.resetChildRotationState(i),this},setChildAngle(i,t){return i.angle=t,this.resetChildRotationState(i),this},setChildLocalRotation(i,t){var n=wt(i);return n.rotation=t,this.updateChildRotation(i),this},setChildLocalAngle(i,t){var n=wt(i);return n.rotation=uI(t),this.updateChildRotation(i),this},resetLocalRotationState(){var i=wt(this).parent;return i&&i.resetChildRotationState(this),this}},dI={updateChildScale(i){var t=wt(i),n=t.parent;return t.syncScale&&(i.scaleX=n.scaleX*t.scaleX,i.scaleY=n.scaleY*t.scaleY),this},syncScale(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScale,this),this},resetChildScaleState(i){var t=wt(i),n=t.parent;return t.scaleX=rh(i.scaleX,n.scaleX),t.scaleY=rh(i.scaleY,n.scaleY),this},setChildScale(i,t,n){return n===void 0&&(n=t),i.scaleX=t,i.scaleY=n,this.resetChildScaleState(i),this},setChildLocalScale(i,t,n){n===void 0&&(n=t);var m=wt(i);return m.scaleX=t,m.scaleY=n,this.updateChildScale(i),this},setChildDisplaySize(i,t,n){return i.setDisplaySize(t,n),this.resetChildScaleState(i),this},resetLocalScaleState(){var i=wt(this).parent;return i&&i.resetChildScaleState(this),this}},cI={updateChildVisible(i){var t=wt(i),n=t.parent,m=t.hasOwnProperty("maskVisible")?t.maskVisible:!0;return i.visible=n.visible&&t.visible&&m,this},syncVisible(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildVisible,this),this},resetChildVisibleState(i){var t=wt(i);return t.hasOwnProperty("maskVisible")&&delete t.maskVisible,t.visible=i.visible,this},setChildVisible(i,t){return this.setChildLocalVisible(i,t),this},setChildLocalVisible(i,t){t===void 0&&(t=!0);var n=wt(i);return n.visible=t,this.updateChildVisible(i),this},setChildMaskVisible(i,t){t===void 0&&(t=!0);var n=wt(i);return n.maskVisible=t,this.updateChildVisible(i),this},resetLocalVisibleState(){var i=wt(this).parent;return i&&i.resetChildVisibleState(this),this}},vI={updateChildAlpha(i){var t=wt(i),n=t.parent;return t.syncAlpha&&(i.alpha=n.alpha*t.alpha),this},syncAlpha(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildAlpha,this),this},resetChildAlphaState(i){var t=wt(i),n=t.parent;return t.alpha=rh(i.alpha,n.alpha),this},setChildAlpha(i,t){return i.alpha=t,this.resetChildAlphaState(i),this},setChildLocalAlpha(i,t){var n=wt(i);return n.alpha=t,this.updateChildAlpha(i),this},resetLocalAlphaState(){var i=wt(this).parent;return i&&i.resetChildAlphaState(this),this}},pI={updateChildActive(i){var t=wt(i),n=t.parent;return i.active=n.active&&t.active,this},syncActive(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildActive,this),this},resetChildActiveState(i){var t=wt(i);return t.active=i.active,this},setChildActive(i,t){return i.active=t,this.resetChildActiveState(i),this},setChildLocalActive(i,t){t===void 0&&(t=!0);var n=wt(i);return n.active=t,this.updateChildActive(i),this},resetLocalActiveState(){var i=wt(this).parent;return i&&i.resetChildActiveState(this),this}},gI={updateChildScrollFactor(i){var t=wt(i),n=t.parent;return t.syncScrollFactor&&i.setScrollFactor(n.scrollFactorX,n.scrollFactorY),this},syncScrollFactor(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScrollFactor,this),this}},mI={updateChildMask(i){if(this.mask==null)return this;var t=this.mask.hasOwnProperty("geometryMask")?this.mask.geometryMask:this.mask.bitmapMask;return t!==i&&(i.mask=this.mask),this},syncMask(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildMask,this),this},setMask(i){return this.mask=i,this},clearMask(i){return i===void 0&&(i=!1),this._mask=null,this.children.forEach(function(t){t.clearMask(!1)}),i&&this.mask&&this.mask.destroy(),this}},xI={setDepth(i,t){if(this.depth=i,!t&&this.children)for(var n=this.getAllChildren(),m=0,C=n.length;m<C;m++)n[m].depth=i;return this},swapDepth(i){var t=this.depth,n=i.depth;return this.setDepth(n),i.setDepth(t),this},incDepth(i){if(this.depth+=i,this.children)for(var t=this.getAllChildren(),n=0,m=t.length;n<m;n++)t[n].depth+=i;return this},bringToTop(){var i=this.displayList,t=this.getAllChildren([this]);As(t,!1);for(var n=0,m=t.length;n<m;n++){var C=t[n];i.exists(C)&&i.bringToTop(C)}return this},moveDepthBelow(i){var t=this.displayList;if(i.displayList!==t)return this;var n=this.getAllChildren([this]);As(n,!1);for(var m=0,C=n.length;m<C;m++){var M=n[m];if(t.exists(M)){t.moveBelow(i,M);break}}return this},moveDepthAbove(i){var t=this.displayList;if(i.displayList!==t)return this;var n=this.getAllChildren([this]);As(n,!0);for(var m=0,C=n.length;m<C;m++){var M=n[m];if(t.exists(M)){t.moveAbove(i,M);break}}return this},bringChildToTop(i){var t=this.getAllChildren([this]);As(t,!0);var n=t[0];return n===i?this:n.displayList!==i.displayList?this:(n.displayList.moveAbove(i,n),this)},sendChildToBack(i){var t=this.getAllChildren([this]);As(t,!1);var n=t[0];return n===i?this:n.displayList!==i.displayList?this:(n.displayList.moveBelow(i,n),this)}};var QS=function(i,t){var n=t(i);if(!n&&i.isRexContainerLite)for(var m=i.children,C=0,M=m.length;C<M;C++)QS(m[C],t)},Zd=function(i,t){for(var n=[i];n.length>0;){var m=n.shift(),C=t(m);!C&&m.isRexContainerLite&&n.push(...m.children)}};const kn=Phaser.Utils.Array,yI={getChildren(i){if(!i)i=this.children;else for(var t=0,n=this.children.length;t<n;t++)i.push(this.children[t]);return i},getAllChildren(i){i===void 0&&(i=[]);var t=this;return Zd(t,function(n){n!==t&&i.push(n)}),i},getAllVisibleChildren(i){i===void 0&&(i=[]);var t=this;return Zd(t,function(n){if(n!==t){if(!n.visible)return!0;i.push(n)}}),i},bfs(i,t){return t===void 0&&(t=this),Zd(t,i),this},dfs(i,t){return t===void 0&&(t=this),QS(t,i),this},contains(i){var t=Oi(i);return t?t===this?!0:this.contains(t):!1},getByName(i,t){if(t){for(var n=[this],m,C;n.length;){m=n.shift();for(var M=0,h=m.children.length;M<h;M++){if(C=m.children[M],C.name===i)return C;C.isRexContainerLite&&n.push(C)}}return null}else return kn.GetFirst(this.children,"name",i)},getRandom(i,t){return kn.GetRandom(this.children,i,t)},getFirst(i,t,n,m){return kn.GetFirstElement(this.children,i,t,n,m)},getAll(i,t,n,m){return kn.GetAll(this.children,i,t,n,m)},count(i,t,n,m){return kn.CountAllMatching(this.children,i,t,n,m)},swap(i,t){return kn.Swap(this.children,i,t),this},setAll(i,t,n,m){return kn.SetAll(this.children,i,t,n,m),this}};var mx=function(i){for(var t=[],n=0,m=i.length;n<m;n++){var C=i[n];C.hasOwnProperty("rexContainer")&&t.push(C.rexContainer)}return t},TI=function(i){for(var t=0,n=i.length;t<n;t++){var m=i[t].scene;if(m)return m}return null},xx=function(i,t,n){if(!n.parent){i.remove();return}var m=n.parent,C=n.self;switch(t){case"x":case"y":m.updateChildPosition(C);break;case"angle":case"rotation":m.updateChildRotation(C);break;case"scaleX":case"scaleY":case"displayWidth":case"displayHeight":m.updateChildScale(C);break;case"alpha":m.updateChildAlpha(C);break;default:m.updateChildPosition(C),m.updateChildRotation(C),m.updateChildScale(C),m.updateChildAlpha(C);break}};const CI={tweenChild(i){var t=i.targets;Array.isArray(t)||(t=[t]);var n=this.scene||TI(t);if(n){i.targets=mx(t);var m=n.tweens.add(i);return m.on("update",xx),m}},tweenSelf(i){return i.targets=[this],this.tweenChild(i)},createTweenChildConfig(i){var t=i.targets;t&&(Array.isArray(t)||(t=[t]),i.targets=mx(t));var n=i.onUpdate;return i.onUpdate=function(m,C){n&&n(m,C),xx(m,void 0,C)},i},tween(i){var t=this.scene;return i.targets||(i.targets=this),t.tweens.add(i)}},SI={addToContainer(i){this._setParentContainerFlag=!0;var t=this.getAllChildren([this]);return As(t),i.add(t),this._setParentContainerFlag=!1,this},addToLayer(i){return this.addToContainer(i),this},removeFromContainer(){if(!this.parentContainer)return this;var i=this.getAllChildren([this]).filter(function(t){return!!t.scene});return i.length===0?this:(this._setParentContainerFlag=!0,i.length>1&&(As(i),i.reverse()),this.parentContainer.remove(i),this._setParentContainerFlag=!1,this)},getParentContainer(){if(this.parentContainer)return this.parentContainer;for(var i=this.getParent();i;){var t=i.parentContainer;if(t)return t;i=i.getParent()}return null},addToParentContainer(i){if(!i.displayList)return this;var t=this.getParentContainer();return t?(i.isRexContainerLite?i.addToContainer(t):t.add(i),this):this}},MI={enableLayer(){if(this.privateRenderLayer)return this;var i=this.scene.add.layer();return this.moveDepthBelow(i),this.addToLayer(i),this.privateRenderLayer=i,this},getLayer(){return this.privateRenderLayer||this.enableLayer(),this.privateRenderLayer},getRenderLayer(){if(this.privateRenderLayer)return this.privateRenderLayer;for(var i=this.getParent();i;){var t=i.privateRenderLayer;if(t)return t;i=i.getParent()}return null},addToRenderLayer(i){if(!i.displayList)return this;var t=this.getRenderLayer();if(!t)return this;i.isRexContainerLite?i.addToLayer(t):t.add(i);var n=wt(i);return n.layer=t,this},removeFromRenderLayer(i){var t=wt(i),n=t.layer;return n?(n.remove(i),t.layer=null,this):this}},yx=Phaser.Geom.Rectangle,EI=Phaser.Geom.Rectangle.Union;var PI=function(i,t){t===void 0?t=new yx:t===!0&&(jd===void 0&&(jd=new yx),t=jd),t.setTo(0,0,0,0);for(var n,m=!0,C=0,M=i.length;C<M;C++)if(n=i[C],!!n.getBounds){var h=m0(n,!0);m?(t.setTo(h.x,h.y,h.width,h.height),m=!1):EI(h,t,t)}return t},jd;const RI=Phaser.GameObjects.GameObject;var Ln=function(i){return i instanceof RI},Un=Phaser.Utils.Objects.GetValue,AI=Phaser.Textures.DynamicTexture,wI=Phaser.Utils.String.UUID,L0=function(i){if(i){var t=i.gameObjects,n=i.renderTexture,m=Un(i,"x",void 0),C=Un(i,"y",void 0),M=Un(i,"width",void 0),h=Un(i,"height",void 0),y=Un(i,"originX",0),e=Un(i,"originY",0),f=Un(i,"padding",0),c,s;if(M===void 0||h===void 0||m===void 0||C===void 0){var a=PI(t,!0),r=m!==void 0&&C!==void 0;r?(M=Math.max(m-a.left,a.right-m)*2,h=Math.max(C-a.top,a.bottom-C)*2,y=.5,e=.5):(m=a.x,C=a.y,M=a.width,h=a.height,y=0,e=0),c=a.x,s=a.y}else c=m+(0-y)*M,s=C+(0-e)*h;c-=f,s-=f,M+=f*2,h+=f*2;var o=t[0].scene;l&&!n&&(n=new AI(o.sys.textures,wI(),M,h)),n||(n=o.add.renderTexture(0,0,M,h)),n.setPosition&&n.setPosition(m,C),(n.width!==M||n.height!==h)&&n.setSize(M,h),n.setOrigin&&n.setOrigin(y,e),n.camera.setScroll(c,s),t=As(dr(t)),n.draw(t);var l=i.saveTexture;if(l)if(Ln(n))n.saveTexture(l);else{var v=n,u=v.manager;u.exists(v.key)?u.renameTexture(v.key,key):(v.key=key,u.list[key]=v,u.emit("addtexture",key,v),u.emit(`addtexture-${key}`,v))}return n}};const OI={snapshot(i){var t=this.scaleX,n=this.scaleY,m=t===1&&n===1;m||this.setScale(1),i===void 0&&(i={}),i.gameObjects=this.getAllVisibleChildren(),i.x=this.x,i.y=this.y,i.originX=this.originX,i.originY=this.originY;var C=L0(i),M=!!C.scene;return m||(this.setScale(t,n),M&&C.setScale(t,n)),M?C:this}},Tx=Phaser.Utils.Objects.GetValue;var LI=function(i,t){var n=Tx(t,"drawContainer",!0),m=Tx(t,"children");return m===void 0&&(m=this.getAllVisibleChildren([this])),n||(m=m.filter(function(C){return!C.isRexContainerLite})),dS(m,i,t),this};const FI=Phaser.Math.RotateAround;var II=function(i,t,n){n===void 0&&(n=t);var m={x:(t-i.originX)*i.displayWidth,y:(n-i.originY)*i.displayHeight};return FI(m,0,0,i.rotation),i.originX=t,i.originY=n,i.x=i.x+m.x,i.y=i.y+m.y,i},DI=function(i,t){this.syncChildrenEnable=!1,II(this,i,t),this.syncChildrenEnable=!0;for(var n=this.getAllChildren(),m=0,C=n.length;m<C;m++)this.resetChildPositionState(n[m]);return this},qS={changeOrigin:DI,drawBounds:LI};Object.assign(qS,sI,nI,aI,oI,hI,lI,fI,dI,cI,vI,pI,gI,mI,xI,yI,CI,SI,MI,OI);class di extends xh{constructor(t,n,m,C,M,h){Array.isArray(C)&&(h=C,C=void 0,M=void 0),super(t,n,m,C,M),this.type="rexContainerLite",this.isRexContainerLite=!0,this.syncChildrenEnable=!0,this._active=!0,this._mask=null,this._scrollFactorX=1,this._scrollFactorY=1,this.privateRenderLayer=void 0,h&&this.add(h)}destroy(t){!this.scene||this.ignoreDestroy||(this.syncChildrenEnable=!1,super.destroy(t),this.privateRenderLayer&&(this.privateRenderLayer.list.length=0,this.privateRenderLayer.destroy()))}resize(t,n){return this.setSize(t,n),this}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.syncPosition())}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.syncPosition())}get rotation(){return super.rotation}set rotation(t){this.rotation!==t&&(super.rotation=t,this.syncPosition())}get scaleX(){return super.scaleX}set scaleX(t){this.scaleX!==t&&(super.scaleX=t,this.syncPosition())}get scaleY(){return super.scaleY}set scaleY(t){this.scaleY!==t&&(super.scaleY=t,this.syncPosition())}get scale(){return super.scale}set scale(t){this.scale!==t&&(super.scale=t,this.syncPosition())}get visible(){return super.visible}set visible(t){super.visible!==t&&(super.visible=t,this.syncVisible())}get alpha(){return super.alpha}set alpha(t){super.alpha!==t&&(super.alpha=t,this.syncAlpha())}get active(){return this._active}set active(t){this._active!==t&&(this._active=t,this.syncActive())}get mask(){return this._mask}set mask(t){this._mask!==t&&(this._mask=t,this.syncMask())}get scrollFactorX(){return this._scrollFactorX}set scrollFactorX(t){this._scrollFactorX!==t&&(this._scrollFactorX=t,this.syncScrollFactor())}get scrollFactorY(){return this._scrollFactorY}set scrollFactorY(t){this._scrollFactorY!==t&&(this._scrollFactorY=t,this.syncScrollFactor())}get list(){return this.children}static GetParent(t){return Oi(t)}get parentContainer(){return this._parentContainer}set parentContainer(t){if(!this._parentContainer&&!t){this._parentContainer=t;return}if(this.setParentContainerFlag){this._parentContainer=t;return}this._parentContainer&&!t?(this.removeFromContainer(),this._parentContainer=t):t?(this._parentContainer=t,this.addToContainer(t)):this._parentContainer=t}get setParentContainerFlag(){if(this._setParentContainerFlag)return!0;var t=Oi(this);return t?t.setParentContainerFlag:!1}}Object.assign(di.prototype,qS);var vf=function(i){return i.hasOwnProperty("rexSizer")||(i.rexSizer={}),i.rexSizer};function BI(i){return i===void 0&&(i=this),vf(i)}var bI=function(i){var t=vf(i);return t.hasOwnProperty("prevState")||(t.prevState={}),t.prevState},GI=function(i){return i===void 0&&(i=Va(this.scene)),this.left=Math.max(this.left,i.left),this.right=Math.min(this.right,i.right),this.top=Math.max(this.top,i.top),this.bottom=Math.min(this.bottom,i.bottom),this};const Ye=Phaser.Display.Align,yi={center:Ye.CENTER,left:Ye.LEFT_CENTER,right:Ye.RIGHT_CENTER,top:Ye.TOP_CENTER,bottom:Ye.BOTTOM_CENTER,"left-top":Ye.TOP_LEFT,"left-center":Ye.LEFT_CENTER,"left-bottom":Ye.BOTTOM_LEFT,"center-top":Ye.TOP_CENTER,"center-center":Ye.CENTER,"center-bottom":Ye.BOTTOM_CENTER,"right-top":Ye.TOP_RIGHT,"right-center":Ye.RIGHT_CENTER,"right-bottom":Ye.BOTTOM_RIGHT};var ep=new Phaser.GameObjects.Zone({sys:{queueDepthSort:Fe,events:{once:Fe}}},0,0,1,1);ep.setOrigin(0);var ks={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12},F0=function(i){var t=Lt(i);return i.y+t-t*i.originY},I0=function(i){var t=Nt(i);return i.x-t*i.originX+t*.5},D0=function(i,t){var n=Lt(i);return i.y=t-n+n*i.originY,i},B0=function(i,t){var n=Nt(i),m=n*i.originX;return i.x=t+m-n*.5,i},NI=function(i,t,n,m){return n===void 0&&(n=0),m===void 0&&(m=0),B0(i,I0(t)+n),D0(i,F0(t)+m),i},b0=function(i){var t=Nt(i);return i.x-t*i.originX},G0=function(i,t){var n=Nt(i);return i.x=t+n*i.originX,i},VI=function(i,t,n,m){return n===void 0&&(n=0),m===void 0&&(m=0),G0(i,b0(t)-n),D0(i,F0(t)+m),i},N0=function(i){var t=Nt(i);return i.x+t-t*i.originX},V0=function(i,t){var n=Nt(i);return i.x=t-n+n*i.originX,i},zI=function(i,t,n,m){return n===void 0&&(n=0),m===void 0&&(m=0),V0(i,N0(t)+n),D0(i,F0(t)+m),i},z0=function(i,t){var n=Lt(i),m=n*i.originY;return i.y=t+m-n*.5,i},kI=function(i,t,n){return B0(i,t),z0(i,n)},k0=function(i){var t=Lt(i);return i.y-t*i.originY+t*.5},UI=function(i,t,n,m){return n===void 0&&(n=0),m===void 0&&(m=0),kI(i,I0(t)+n,k0(t)+m),i},XI=function(i,t,n,m){return n===void 0&&(n=0),m===void 0&&(m=0),G0(i,b0(t)-n),z0(i,k0(t)+m),i},YI=function(i,t,n,m){return n===void 0&&(n=0),m===void 0&&(m=0),V0(i,N0(t)+n),z0(i,k0(t)+m),i},U0=function(i){var t=Lt(i);return i.y-t*i.originY},X0=function(i,t){var n=Lt(i);return i.y=t+n*i.originY,i},WI=function(i,t,n,m){return n===void 0&&(n=0),m===void 0&&(m=0),B0(i,I0(t)+n),X0(i,U0(t)-m),i},HI=function(i,t,n,m){return n===void 0&&(n=0),m===void 0&&(m=0),G0(i,b0(t)-n),X0(i,U0(t)-m),i},$I=function(i,t,n,m){return n===void 0&&(n=0),m===void 0&&(m=0),V0(i,N0(t)+n),X0(i,U0(t)-m),i},ms=[];ms[ks.BOTTOM_CENTER]=NI;ms[ks.BOTTOM_LEFT]=VI;ms[ks.BOTTOM_RIGHT]=zI;ms[ks.CENTER]=UI;ms[ks.LEFT_CENTER]=XI;ms[ks.RIGHT_CENTER]=YI;ms[ks.TOP_CENTER]=WI;ms[ks.TOP_LEFT]=HI;ms[ks.TOP_RIGHT]=$I;var _S=function(i,t,n,m,C){return ms[n](i,t,m,C)},yh=function(i,t,n,m,C,M){ep.setPosition(t,n).setSize(m,C),_S(i,ep,M)};const Nr=Phaser.Utils.Objects.GetValue,KI=Phaser.GameObjects.Group;var ZI=function(i,t){var n=i.scene,m,C,M,h,y;if(typeof t=="number")m=t;else{m=Nr(t,"color"),C=Nr(t,"lineWidth");var e=Nr(t,"name",!1);e&&(M=Nr(e,"createTextCallback",jI),h=Nr(e,"createTextCallbackScope",void 0),y=Nr(e,"align","left-top"),typeof y=="string"&&(y=yi[y]))}if(m===void 0&&(m=16777215),C===void 0&&(C=1),M&&!i.children){i.children=new KI(n),i.once("destroy",function(l,v){l.children.destroy(!v),l.children=void 0});var f=i.clear.bind(i);i.clear=function(){f(),i.children.clear(!1,!0)}}for(var c=this.getAllShownChildren([this]),s,a,r=0,o=c.length;r<o;r++){if(s=c[r],s.getBounds||s.width!==void 0&&s.height!==void 0)Xn=m0(s,Xn);else continue;m!=null&&i.lineStyle(C,m).strokeRectShape(Xn),s.name&&M&&(h?a=M.call(h,n):a=M(n),a&&(a.setText(s.name),i.children.add(a),yh(a,Xn.x,Xn.y,Xn.width,Xn.height,y)))}return this},jI=function(i,t,n){return i.add.text(0,0,"")},Xn=void 0;const vl=Phaser.Utils.Objects.GetValue;var ka=function(i,t){return t===void 0&&(t={}),typeof i=="number"?(t.left=i,t.right=i,t.top=i,t.bottom=i):(t.left=vl(i,"left",0),t.right=vl(i,"right",0),t.top=vl(i,"top",0),t.bottom=vl(i,"bottom",0)),t};const JI=di.prototype.add;var Th=function(i){return JI.call(this,i),this.sizerEventsEnable&&(i.emit("sizer.add",i,this),this.emit("add",i,this)),this};const QI={addBackground(i,t,n){this.backgroundChildren===void 0&&(this.backgroundChildren=[]),typeof t=="string"&&(n=t,t=void 0),t===void 0&&(t=0),Th.call(this,i),this.backgroundChildren.push(i);var m=this.getSizerConfig(i);return m.padding=ka(t),n!==void 0&&this.addChildrenMap(n,i),this},isBackground(i){return this.backgroundChildren===void 0?!1:this.backgroundChildren.indexOf(i)!==-1}},qI=Phaser.Utils.Array.Remove,_I=di.prototype.remove;var Ch=function(i,t){return this.isBackground(i)&&qI(this.backgroundChildren,i),_I.call(this,i,t),!t&&this.sizerEventsEnable&&(i.emit("sizer.remove",i,this),this.emit("remove",i,this)),this},xn=function(i,t){var n=null;if(t===void 0)i.hasOwnProperty("rexContainer")&&(n=i.rexContainer.parent,n?n.isRexSizer||(n=xn(n)):n=null);else for(n=xn(i);n&&n.name!==t;)n=xn(n);return n},tD=function(i){for(var t=xn(i);t;)i=t,t=xn(t);return i};const Sh={getParentSizer(i,t){return typeof i=="string"&&(t=i,i=void 0),i===void 0&&(i=this),xn(i,t)},getTopmostSizer(i){return i===void 0&&(i=this),tD(i)},hasParentSizer(i,t){t===void 0&&(t=this);for(var n=xn(t);n;){if(n===i)return!0;n=xn(n)}return!1},hasChild(i,t){return t===void 0&&(t=this),this.hasParentSizer(t,i)}},eD=Phaser.Utils.Array.Remove,iD={removeFromParentSizer(){var i=Sh.getParentSizer(gameObject);return i&&i.remove(this),this},removeBackground(i,t){return this.backgroundChildren===void 0?this:this.getParentSizer(i)!==this?this:(eD(this.backgroundChildren,i),Ch.call(this,i,t),this)},removeAllBackgrounds(i){if(this.backgroundChildren===void 0)return this;for(var t=this.backgroundChildren.length-1;t>=0;t--)this.remove(this.backgroundChildren[t],i);return this}};var Cx=function(i,t){if(typeof i=="string")this.childrenMap[i]=t;else{var n=i;for(i in n)this.childrenMap[i]=n[i]}return this},sD=function(i){if(typeof i=="object"){var t=i;for(var i in this.childrenMap)if(this.childrenMap[i]===t)return delete this.childrenMap[i],this}return delete this.childrenMap[i],this},nD=function(i,t){if(typeof i=="string"&&(i=i.split(".")),i.length!==0){var n=i.shift(),m=null;if(n.charAt(0)==="#")n=n.substring(1),m=this.getByName(n,t);else if(n.indexOf("[")===-1)this.childrenMap&&(m=this.childrenMap[n]);else{var C=n.match(rD);if(C!=null&&this.childrenMap){var M=this.childrenMap[C[1]];M&&(m=M[C[2]])}}return i.length===0?m:m&&m.childrenMap?m.getElement(i):null}};const rD=/(\S+)\[(\d+)\]/i,aD={getInnerPadding(i){return tu(this.space,i)},setInnerPadding(i,t){return mn(this.space,i,t),this},getOuterPadding(i){return tu(this.getSizerConfig(this).padding,i)},setOuterPadding(i,t){return mn(this.getSizerConfig(this).padding,i,t),this},getChildOuterPadding(i,t){return typeof i=="string"&&(i=this.getElement(i)),tu(this.getSizerConfig(i).padding,t)},setChildOuterPadding(i,t,n){return typeof i=="string"&&(i=this.getElement(i)),mn(this.getSizerConfig(i).padding,t,n),this}};var Y0=function(i){var t=this.childrenWidth,n=this.minWidth!==void 0?this.minWidth:0;return i===void 0?(i=Math.max(n,t),n>0&&t>n&&console.warn(`Layout width warn: ${this.constructor.name}'s minWidth (${n}) < childrenWidth (${t})`)):(n>i||t>i)&&console.warn(`Layout width warn: ${this.constructor.name}'s minWidth (${n}) or childrenWidth (${t} > targetWidth ${i}`),i},oD=function(i){var t,n;for(var m in this.sizerChildren)t=this.sizerChildren[m],t&&t.isRexSizer&&!t.ignoreLayout&&(n=this.getExpandedChildWidth(t,i),n=t.resolveWidth(n),t.resolveChildrenWidth(n))},W0=function(i){var t=this.childrenHeight,n=this.minHeight!==void 0?this.minHeight:0;return i===void 0?(i=Math.max(n,t),n>0&&t>n&&console.warn(`Layout height warn: ${this.constructor.name}'s minHeight (${n}) < childrenHeight (${t})`)):(n>i||t>i)&&console.warn(`Layout height warn: ${this.constructor.name}'s minHeight (${n}) or childrenHeight (${t}) > targetHeight (${i})`),i},hD=function(i,t){},lD=function(i){var t;return i.isRexSizer?t=Math.max(i.minWidth,i.childrenWidth):i.minWidth!==void 0?t=i.minWidth:t=Nt(i),t},uD=function(i){var t;return i.isRexSizer?t=Math.max(i.minHeight,i.childrenHeight):i.minHeight!==void 0?t=i.minHeight:t=Lt(i),t},fD=function(i,t){return t},dD=function(i,t){return t},cD=function(){return 0},vD=function(){return 0},pD=function(i){i===void 0&&(i=[]);for(var t=i.length,n=this.getChildrenSizers(i),m=i.length,C=t;C<m;C++)n[C].getAllChildrenSizers(i);return i},gD=function(i){return i===void 0&&(i=[]),i};const mD={getShownChildren(i){i===void 0&&(i=[]);for(var t=this.children,n,m=0,C=t.length;m<C;m++)n=t[m],!(n.rexSizer&&n.rexSizer.hidden)&&i.push(n);return i},getAllShownChildren(i){i===void 0&&(i=[]);for(var t=[this];t.length>0;){var n=t.shift();n.rexSizer&&n.rexSizer.hidden||(n!==this&&i.push(n),n.isRexContainerLite&&t.push(...n.children))}return i}};var Mh=function(){this._childrenWidth=void 0,this._childrenHeight=void 0;for(var i=this.getChildrenSizers(),t,n=0,m=i.length;n<m;n++)t=i[n],!t.ignoreLayout&&t.preLayout()},xD=function(){var i=this.scaleX,t=this.scaleY,n=i===1&&t===1;return n||this.setScale(1),this.runLayout(),n||this.setScale(i,t),this},yD=function(i,t,n){if(this.ignoreLayout)return this;var m=!i;return m&&this.preLayout(),t=this.resolveWidth(t),m&&(this.resolveChildrenWidth(t),this.runWidthWrap(t)),n=this.resolveHeight(n),this.postResolveSize(t,n),this.resize(t,n),this.sizerEventsEnable&&this.layoutedChildren===void 0&&(this.layoutedChildren=[]),this.layoutChildren(),this.layoutBackgrounds(),this.sizerEventsEnable&&(this.emit("postlayout",this.layoutedChildren,this),this.layoutedChildren.length=0),this.postLayout()},TD=function(){},CD=function(i,t,n){return this._anchor&&this._anchor.updatePosition(),this},tM=function(i){var t,n;for(var m in this.sizerChildren)t=this.sizerChildren[m],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(n=this.getExpandedChildWidth(t,i),t.isRexSizer&&(n=t.resolveWidth(n)),t.runWidthWrap(n));return this};class H0 extends me{constructor(t,n){super(t,{eventEmitter:!1}),this.viewport=void 0,this.resetFromJSON(n)}shutdown(t){this.isShutdown||(this.autoAnchor(!1),this.viewport=void 0,this.onUpdateViewportCallback=void 0,this.onUpdateViewportCallbackScope=void 0,this.onResizeCallback=void 0,this.onResizeCallbackScope=void 0,super.shutdown(t))}resetFromJSON(t){t===void 0&&(t={});var n,m;t.x!==void 0?(n=null,m=t.x):t.left!==void 0?(n=0,m=t.left):t.right!==void 0?(n=1,m=t.right):t.centerX!==void 0&&(n=.5,m=t.centerX);var C,M;t.y!==void 0?(C=null,M=t.y):t.top!==void 0?(C=0,M=t.top):t.bottom!==void 0?(C=1,M=t.bottom):t.centerY!==void 0&&(C=.5,M=t.centerY);var h,y;m!==void 0&&(m=m.replace("left","0%").replace("right","100%").replace("center","50%").split("%"),h=parseFloat(m[0])/100,y=m[1]===""?0:parseFloat(m[1]));var e,f;M!==void 0&&(M=M.replace("top","0%").replace("bottom","100%").replace("center","50%").split("%"),e=parseFloat(M[0])/100,f=M[1]===""?0:parseFloat(M[1]));var c=t.width,s,a;c!==void 0&&(c=c.split("%"),s=parseFloat(c[0])/100,a=c[1]===""?0:parseFloat(c[1]));var r=t.height,o,l;r!==void 0&&(r=r.split("%"),o=parseFloat(r[0])/100,l=r[1]===""?0:parseFloat(r[1])),this.setAlign(n,C),this.setPercentage(h,e),this.setOffset(y,f),this.setSizePercentage(s,o),this.setSizePadding(a,l);var v=t.onResizeCallback,u=t.onResizeCallbackScope;v!==void 0&&this.setResizeCallback(v,u);var d=t.onUpdateViewportCallback,p=t.onUpdateViewportCallbackScope;return d!==void 0&&this.setUpdateViewportCallback(d,p),this.autoAnchor(t.enable),this}autoAnchor(t){return t===void 0&&(t=!0),t=!!t,this.autoAnchorEnable===t?this:(t?(this.scene.sys.scale.on("resize",this.anchor,this),this.anchor()):this.scene.sys.scale.off("resize",this.anchor,this),this.autoAnchorEnable=t,this)}setAlign(t,n){return this.alignX=t,this.alignY=n,this}setPercentage(t,n){return this.percentageX=t,this.percentageY=n,this}setOffset(t,n){return this.offsetX=t,this.offsetY=n,this}setSizePercentage(t,n){return this.percentageWidth=t,this.percentageHeight=n,this}setSizePadding(t,n){return this.paddingWidth=t,this.paddingHeight=n,this}setResizeCallback(t,n){return this.onResizeCallback=t,this.onResizeCallbackScope=n,this}setUpdateViewportCallback(t,n){return this.onUpdateViewportCallback=t,this.onUpdateViewportCallbackScope=n,this}anchor(){return this.updateViewport(),this.updateSize(),this.updatePosition(),this}updateSize(){var t=this.onResizeCallback,n=this.onResizeCallbackScope,m=this.anchorWidth,C=this.anchorHeight;if(!(m===void 0&&C===void 0||!t)){var M=this.parent;m===void 0&&(m=M.width),C===void 0&&(C=M.height),n?t.call(n,m,C,M,this):t(m,C,M,this)}}updatePosition(){var t=this.parent;return this.alignX===null?t.x=this.anchorX:this.alignX!==void 0&&(t.x=this.anchorX+t.displayWidth*(t.originX-this.alignX)),this.alignY===null?t.y=this.anchorY:this.alignY!==void 0&&(t.y=this.anchorY+t.displayHeight*(t.originY-this.alignY)),this}get anchorX(){return this.viewport.x+this.viewport.width*this.percentageX+this.offsetX}get anchorY(){return this.viewport.y+this.viewport.height*this.percentageY+this.offsetY}get anchorWidth(){if(this.percentageWidth!==void 0)return this.viewport.width*this.percentageWidth+this.paddingWidth}get anchorHeight(){if(this.percentageHeight!==void 0)return this.viewport.height*this.percentageHeight+this.paddingHeight}updateViewport(){var t=this.parent.scene.cameras.main;this.viewport=Va(this.scene,t,this.viewport);var n=this.viewport,m=this.onUpdateViewportCallback,C=this.onUpdateViewportCallbackScope;m&&(C?m.call(C,n,this.parent,this):m(n,this.parent,this))}}var SD=function(i){i===void 0&&(i={});var t=i.hasOwnProperty("width"),n=i.hasOwnProperty("height"),m=i.hasOwnProperty("onResizeCallback");return(t||n)&&!m&&(i.onResizeCallback=function(C,M,h){t&&h.setMinWidth(C),n&&h.setMinHeight(M),h.layout()}),this._anchor===void 0?this._anchor=new H0(this,i):this._anchor.resetFromJSON(i),this};const MD=Phaser.Utils.Objects.GetValue,Vr=Phaser.Utils.Objects.GetAdvancedValue,Sx=Phaser.Math.Linear;class ah extends xr{constructor(t,n){super(t,n),this.scaleStart={},this.scaleEnd={},this.resetFromJSON(n),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(MD(t,"mode",0)),this.setScaleRange(Vr(t,"start",void 0),Vr(t,"end",0)),this}setMode(t){return typeof t=="string"&&(t=ED[t]),this.mode=t,this}setScaleRange(t,n){return typeof t=="number"?(this.startX=t,this.startY=t):(this.startX=Vr(t,"x",this.parent.scaleX),this.startY=Vr(t,"y",this.parent.scaleY)),typeof n=="number"?(this.endX=n,this.endY=n):(this.endX=Vr(n,"x",void 0),this.endY=Vr(n,"y",void 0)),this.hasScaleX=this.startX!==void 0&&this.endX!==void 0,this.hasScaleY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;this.hasScaleX&&(t.scaleX=this.startX),this.hasScaleY&&(t.scaleY=this.startY);var n=this.repeat;return this.mode===2&&n!==-1&&(n=(n+1)*2-1),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(n),super.start(),this}updateGameObject(t,n){var m=n.t;n.isOddIteration&&(m=1-m),m=this.easeFn(m),this.hasScaleX&&(t.scaleX=Sx(this.startX,this.endX,m)),this.hasScaleY&&(t.scaleY=Sx(this.startY,this.endY,m))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}}const ED={stop:0,destroy:1,yoyo:2};var $0=function(i,t,n,m,C){m===void 0&&(m="Cubic");var M,h;switch(n){case 0:case"x":M={x:0},h={x:i.scaleX};break;case 1:case"y":M={y:0},h={y:i.scaleY};break;default:M=0,h=i.scale;break}var y={mode:0,start:M,end:h,duration:t,ease:m};return C===void 0?C=new ah(i,y):C.resetFromJSON(y),C.restart(),C},eM=function(i,t,n,m,C,M){m===void 0&&(m="Linear"),C instanceof ah&&(M=C,C=void 0),C===void 0&&(C=!0);var h={};switch(h.mode=C?1:0,n){case 0:case"x":h.end={x:0};break;case 1:case"y":h.end={y:0};break;default:h.end=0;break}return h.duration=t,h.ease=m,M===void 0?M=new ah(i,h):M.resetFromJSON(h),M.restart(),M},PD=function(i,t,n,m,C,M,h){n===void 0&&(n=1.2),m===void 0&&(m=0),M===void 0&&(M="Cubic");var y,e;switch(C){case 0:case"x":y={x:i.scaleX},e={x:n};break;case 1:case"y":y={y:i.scaleX},e={y:n};break;default:y=i.scaleX,e=n;break}var f={mode:2,start:y,end:e,duration:t/2,ease:M,repeat:m};return h===void 0?h=new ah(i,f):h.resetFromJSON(f),h.restart(),h};const Jd=Phaser.Utils.Objects.IsPlainObject;var Qd=function(i,t){t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(i.emit(t.completeEventName,i),t.completeEventName=void 0)}),t.on("update",function(){var n=Sh.getParentSizer(i);n&&n.resetChildPositionState(i)})};const K0={popUp(i,t,n){if(Jd(i)){var m=i;i=m.duration,t=m.orientation,n=m.ease}var C=this._scaleBehavior===void 0;return this._scaleBehavior=$0(this,i,t,n,this._scaleBehavior),C&&Qd(this,this._scaleBehavior),this._scaleBehavior.completeEventName="popup.complete",this},popUpPromise(i,t,n){return this.popUp(i,t,n),Se(this._scaleBehavior)},scaleDownDestroy(i,t,n,m){if(Jd(i)){var C=i;i=C.duration,t=C.orientation,n=C.ease,m=C.destroy}var M=this._scaleBehavior===void 0;return this._scaleBehavior=eM(this,i,t,n,m,this._scaleBehavior),M&&Qd(this,this._scaleBehavior),this._scaleBehavior.completeEventName="scaledown.complete",this},scaleDownDestroyPromise(i,t,n,m){return this.scaleDownDestroy(i,t,n,m),Se(this._scaleBehavior)},scaleDown(i,t,n){return this.scaleDownDestroy(i,t,n,!1),this},scaleDownPromise(i,t,n){return this.scaleDown(i,t,n),Se(this._scaleBehavior)},scaleYoyo(i,t,n,m,C){if(Jd(i)){var M=i;i=M.duration,t=M.peakValue,n=M.repeat,m=M.orientation,C=M.ease}var h=this._scaleBehavior===void 0;return this._scaleBehavior=PD(this,i,t,n,m,C,this._scaleBehavior),h&&Qd(this,this._scaleBehavior),this._scaleBehavior.completeEventName="scaleyoyo.complete",this},scaleYoyoPromise(i,t,n,m,C){return this.scaleYoyo(i,t,n,m,C),Se(this._scaleBehavior)}},RD=Phaser.Utils.Objects.GetValue,Mx=Phaser.Utils.Objects.GetAdvancedValue,AD=Phaser.Math.Linear;let ip=class extends xr{constructor(t,n){super(t,n),this.resetFromJSON(n),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(RD(t,"mode",0)),this.setAlphaRange(Mx(t,"start",this.parent.alpha),Mx(t,"end",0)),this}setMode(t){return typeof t=="string"&&(t=wD[t]),this.mode=t,this}setAlphaRange(t,n){return this.alphaStart=t,this.alphaEnd=n,this}start(){if(this.timer.isRunning)return this;var t=this.parent;return t.setAlpha(this.alphaStart),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateGameObject(t,n){var m=n.t;n.isOddIteration&&(m=1-m),t.alpha=AD(this.alphaStart,this.alphaEnd,m)}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}};const wD={stop:0,destroy:1,yoyo:2},OD=Phaser.Utils.Objects.IsPlainObject;var pf=function(i,t,n,m){var C,M;OD(n)?(C=n.start,M=n.end):M=n,C===void 0&&(C=0),M===void 0&&(M=1);var h={mode:0,start:C,end:M,duration:t};return m===void 0?m=new ip(i,h):m.resetFromJSON(h),m.restart(),m},gf=function(i,t,n,m){n instanceof ip&&(m=n,n=void 0),n===void 0&&(n=!0);var C={mode:n?1:0,end:0,duration:t};return m===void 0?m=new ip(i,C):m.resetFromJSON(C),m.restart(),m};const Ex=Phaser.Utils.Objects.IsPlainObject;var Px=function(i,t){t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(i.emit(t.completeEventName,i),t.completeEventName=void 0)}),t.on("update",function(){var n=Sh.getParentSizer(i);n&&n.resetChildAlphaState(i)})};const LD={fadeIn(i,t){if(Ex(i)){var n=i;i=n.duration,t=n.alpha}var m=this._fade===void 0;return this._fade=pf(this,i,t,this._fade),m&&Px(this,this._fade),this._fade.completeEventName="fadein.complete",this},fadeInPromise(i,t){return this.fadeIn(i,t),Se(this._fade)},fadeOutDestroy(i,t){if(Ex(i)){var n=i;i=n.duration,t=n.destroy}var m=this._fade===void 0;return this._fade=gf(this,i,t,this._fade),m&&Px(this,this._fade),this._fade.completeEventName="fadeout.complete",this},fadeOutDestroyPromise(i,t){return this.fadeOutDestroy(i,t),Se(this._fade)},fadeOut(i){return this.fadeOutDestroy(i,!1),this},fadeOutPromise(i){return this.fadeOut(i),Se(this._fade)}},FD=Phaser.Utils.Objects.GetValue,zr=Phaser.Utils.Objects.GetAdvancedValue,Rx=Phaser.Math.Linear;class Iu extends xr{constructor(t,n){super(t,n),this.resetFromJSON(n),this.boot()}resetFromJSON(t){if(super.resetFromJSON(t),this.setMode(FD(t,"mode",0)),t&&(t.hasOwnProperty("x")||t.hasOwnProperty("y"))){var n=zr(t,"x",void 0),m=zr(t,"y",void 0);this.setTargetPosition(n,m)}else this.setTargetPosition(t);return this}setMode(t){return typeof t=="string"&&(t=ID[t]),this.mode=t,this}setTargetPosition(t,n){if(typeof t=="number"||typeof n=="number")this.startX=this.parent.x,this.startY=this.parent.y,this.endX=t,this.endY=n;else{var m=t;this.startX=zr(m,"startX",void 0),this.startY=zr(m,"startY",void 0),this.endX=zr(m,"endX",void 0),this.endY=zr(m,"endY",void 0)}return this.hasMoveX=this.startX!==void 0&&this.endX!==void 0,this.hasMoveY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;return this.hasMoveX&&(t.x=this.startX),this.hasMoveY&&(t.y=this.startY),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateGameObject(t,n){var m=n.t;n.isOddIteration&&(m=1-m),m=this.easeFn(m),this.hasMoveX&&(t.x=Rx(this.startX,this.endX,m)),this.hasMoveY&&(t.y=Rx(this.startY,this.endY,m))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}}const ID={stop:0,destroy:1,yoyo:2};var Du=function(i,t){if(typeof i=="number")return i;var n=i[0],m=parseFloat(i.substr(2));switch(n){case"+":return t+m;case"-":return t-m;case"*":return t*m;case"/":return t/m}},iM=function(i,t,n,m,C,M,h){M instanceof Iu&&(h=M,M=void 0),M===void 0&&(M=!1);var y={};return y.mode=M?1:0,n!==void 0&&(y.startX=i.x,y.endX=Du(n,i.x)),m!==void 0&&(y.startY=i.y,y.endY=Du(m,i.y)),y.duration=t,y.ease=C===void 0?"Linear":C,h===void 0?h=new Iu(i,y):h.resetFromJSON(y),h.restart(),h},sM=function(i,t,n,m,C,M,h){M instanceof Iu&&(h=M,M=void 0),M===void 0&&(M=!1);var y={};return y.mode=M?1:0,n!==void 0&&(y.startX=Du(n,i.x),y.endX=i.x),m!==void 0&&(y.startY=Du(m,i.y),y.endY=i.y),y.duration=t,y.ease=C===void 0?"Linear":C,h===void 0?h=new Iu(i,y):h.resetFromJSON(y),h.restart(),h};const Ax=Phaser.Utils.Objects.IsPlainObject,wx=Phaser.Math.Distance.Between;var Ox=function(i,t){t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(i.emit(t.completeEventName,i),t.completeEventName=void 0)}),t.on("update",function(){var n=Sh.getParentSizer(i);n&&n.resetChildPositionState(i)})};const DD={moveFrom(i,t,n,m,C){if(Ax(i)){var M=i;t=M.x,n=M.y,M.hasOwnProperty("speed")?i=wx(t,n,this.x,this.y)*1e3/M.speed:i=M.duration,m=M.ease}var h=this._easeMove===void 0;return this._easeMove=sM(this,i,t,n,m,C,this._easeMove),h&&Ox(this,this._easeMove),this._easeMove.completeEventName="movefrom.complete",this},moveFromPromise(i,t,n,m,C){return this.moveFrom(i,t,n,m,C),Se(this._easeMove)},moveFromDestroy(i,t,n,m){return this.moveFrom(i,t,n,m,!0),this},moveFromDestroyPromise(i,t,n,m){return this.moveFromDestroy(i,t,n,m),Se(this._easeMove)},moveTo(i,t,n,m,C){if(Ax(i)){var M=i;t=M.x,n=M.y,M.hasOwnProperty("speed")?i=wx(t,n,this.x,this.y)*1e3/M.speed:i=M.duration,m=M.ease}var h=this._easeMove===void 0;return this._easeMove=iM(this,i,t,n,m,C,this._easeMove),h&&Ox(this,this._easeMove),this._easeMove.completeEventName="moveto.complete",this},moveToPromise(i,t,n,m,C){return this.moveTo(i,t,n,m,C),Se(this._easeMove)},moveToDestroy(i,t,n,m){return this.moveTo(i,t,n,m,!0),this},moveToDestroyPromise(i,t,n,m){return this.moveToDestroy(i,t,n,m,!0),Se(this._easeMove)},moveStop(i){return this._easeMove?(this._easeMove.stop(i),this):this}},vi=Phaser.Utils.Objects.GetValue;class Z0 extends of{constructor(t,n){super(t,n),this.timer=new pS,this.resetFromJSON(n),this.boot()}resetFromJSON(t){return this.timer.resetFromJSON(vi(t,"timer")),this.setEnable(vi(t,"enable",!0)),this.setMode(vi(t,"mode",1)),this.isRunning=vi(t,"isRunning",!1),this.setMagnitudeMode(vi(t,"magnitudeMode",1)),this.setAxisMode(vi(t,"axis",0)),this.setDuration(vi(t,"duration",500)),this.setMagnitude(vi(t,"magnitude",10)),this.ox=vi(t,"ox",void 0),this.oy=vi(t,"oy",void 0),this}toJSON(){return{timer:this.timer.toJSON(),enable:this.enable,mode:this.mode,isRunning:this.isRunning,magnitudeMode,duration:this.duration,magnitude:this.magnitude,ox:this.ox,oy:this.oy}}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}startTicking(){super.startTicking(),this.mode===0?(this.scene.game.events.on("poststep",this.update,this),this.scene.game.events.on("prestep",this.backToOrigin,this)):this.scene.sys.events.on("preupdate",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&(this.mode===0?(this.scene.game.events.off("poststep",this.update,this),this.scene.game.events.off("prestep",this.backToOrigin,this)):this.scene.sys.events.off("preupdate",this.update,this))}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setMode(t){return typeof t=="string"&&(t=BD[t]),this.mode=t,this}setMagnitudeMode(t){return typeof t=="string"&&(t=GD[t]),this.magnitudeMode=t,this}setAxisMode(t){return typeof t=="string"&&(t=bD[t]),this.axisMode=t,this}setDuration(t){return this.duration=t,this}setMagnitude(t){return this.magnitude=t,this}start(t,n){if(typeof t!="number"){var m=t;n=vi(m,"magnitude",void 0),t=vi(m,"duration",void 0)}return n!==void 0&&this.setMagnitude(n),t!==void 0&&this.setDuration(t),this.timer.setDuration(this.duration).start(),super.start(),this}shake(t,n){return this.start(t,n),this}update(t,n){if(!this.isRunning||!this.enable)return this;var m=this.parent;if(!m.active)return this;if(this.timer.update(t,n),this.timer.isDone)this.backToOrigin(),this.complete();else{this.ox===void 0&&(this.ox=m.x,this.oy=m.y);var C=this.magnitude;this.magnitudeMode===1&&(C*=1-this.timer.t);var M=Math.random()*Math.PI*2,h=this.ox+Math.cos(M)*C,y=this.oy+Math.sin(M)*C;switch(this.axisMode){case 1:m.x=h;break;case 2:m.y=y;break;default:m.x=h,m.y=y;break}}return this}backToOrigin(){if(!this.isRunning||!this.enable)return this;if(this.ox===void 0)return this;var t=this.parent;switch(this.axisMode){case 1:t.x=this.ox;break;case 2:t.y=this.oy;break;default:t.x=this.ox,t.y=this.oy;break}return this.ox=void 0,this.oy=void 0,this}}const BD={effect:0,behavior:1},bD={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2},GD={constant:0,decay:1},ND=Phaser.Utils.Objects.IsPlainObject;var VD=function(i,t){t.on("complete",function(){i.emit("shake.complete",i)})};const zD={shake(i,t,n){if(ND(i)){var m=i;i=m.duration,t=m.magnitude,n=m.magnitudeMode}return this._shake===void 0&&(this._shake=new Z0(this,{mode:0,magnitudeMode:1}),VD(this,this._shake)),i!==void 0&&this._shake.setDuration(i),t!==void 0&&this._shake.setMagnitude(t),n!==void 0&&this._shake.setMagnitudeMode(n),this._shake.shake(),this},shakePromise(i,t){return this.shake(i,t),Se(this._shake)}},Lx=Phaser.Utils.Objects.IsPlainObject;class kD extends me{constructor(t,n){super(t,n),this.parent.setDataEnabled(),this.easeTasks={}}complete(t){this.emit(`complete-${t}`,this.parent,this),this.emit("complete",t,this.parent,this)}getEaseTask(t){var n=this.easeTasks[t];return n===void 0&&(n=new Tr(this.parent),this.easeTasks[t]=n,n.setTarget(this.parent.data.values).on("complete",function(){this.complete(t)},this)),n}easeTo(t,n,m,C){if(Lx(t)){var M=t;t=M.key,n=M.value,m=M.duration,C=M.ease;var h=M.speed;m===void 0&&h!==void 0&&(m=Math.abs(n-this.parent.data.values[t])/h*1e3)}m===void 0&&(m=1e3),C===void 0&&(C="Linear");var y=this.getEaseTask(t);return y.restart({key:t,to:n,duration:m,ease:C}),this}easeFrom(t,n,m,C){if(Lx(t)){var M=t;t=M.key,n=M.value,m=M.duration,C=M.ease;var h=M.speed;m===void 0&&h!==void 0&&(m=Math.abs(n-this.parent.data.values[t])/h*1e3)}m===void 0&&(m=1e3),C===void 0&&(C="Linear");var y=this.getEaseTask(t);return y.restart({key:t,from:n,duration:m,ease:C}),this}stopEase(t,n){n===void 0&&(n=!0);var m=this.easeTasks[t];return m&&m.stop(n),this}stopAll(t){t===void 0&&(t=!0);for(var n in this.easeTasks)this.stopEase(n,t);return this}}var UD=function(i,t){t.on("complete",function(n){i.emit(`easedata.${n}.complete`,i),i.emit("easedata.complete",n,i)})};const XD={easeDataTo(i,t,n,m){return this._easeData||(this._easeData=new kD(this),UD(this,this._easeData)),this._easeData.easeTo(i,t,n,m),this},easeDataToPromise(i,t,n,m){return this.easeDataTo(i,t,n,m),lf(this._easeData,`complete-${i}`)},stopEaseData(i,t){return this._easeData?(this._easeData.stopEase(i,t),this):this},stopAllEaseData(i){return this._easeData?(this._easeData.stopAll(i),this):this}};var nn=function(i){nM(i,!1)},rn=function(i){nM(i,!0)},j0=function(i){if(!i)return!1;var t=vf(i);return!t.hidden},nM=function(i,t){if(i){var n=vf(i);n.hidden=t;var m=Oi(i);m?m.setChildVisible(i,!t):i.setVisible(!t)}};const YD={show(i){return i===void 0&&(i=this),nn(i),this},hide(i){return i===void 0&&(i=this),rn(i),this},isShow(i){return i===void 0&&(i=this),j0(i)}},WD=["next","exit","enter"];let rM=class{constructor(t){var n=Gt(t,"states",void 0);n&&this.addStates(n);var m=Gt(t,"extend",void 0);if(m)for(var C in m)(!this.hasOwnProperty(C)||this[C]===void 0)&&(this[C]=m[C]);var M=Gt(t,"eventEmitter",void 0),h=Gt(t,"EventEmitterClass",void 0);this.setEventEmitter(M,h),this._stateLock=!1,this.resetFromJSON(t)}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}resetFromJSON(t){this.setEnable(Gt(t,"enable",!0)),this.start(Gt(t,"start",void 0));var n=Gt(t,"init",void 0);return n&&n.call(this),this}toJSON(){return{curState:this.state,prevState:this.prevState,enable:this.enable,start:this._start}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}set state(t){if(!(!this.enable||this._stateLock)&&this._state!==t){if(this._prevState=this._state,this._state=t,this._stateLock=!0,this.emit("statechange",this),this._prevState!=null){var n="exit_"+this._prevState,m=this[n];m&&m.call(this),this.emit(n,this)}if(this._stateLock=!1,this._state!=null){var C="enter_"+this._state,M=this[C];M&&M.call(this),this.emit(C,this)}}}get state(){return this._state}get prevState(){return this._prevState}start(t){return this._start=t,this._prevState=void 0,this._state=t,this}goto(t){return t!=null&&(this.state=t),this}next(){var t,n=this["next_"+this.state];return n&&(typeof n=="string"?t=n:t=n.call(this)),this.goto(t),this}get stateProperties(){return WD}addState(t,n){typeof t!="string"&&(n=t,t=n.name);for(var m=this.stateProperties,C=0,M=m.length;C<M;C++){var h=m[C],y=n[h];y&&(this[`${h}_${t}`]=y)}return this}addStates(t){if(Array.isArray(t))for(var n=0,m=t.length;n<m;n++)this.addState(t[n]);else for(var C in t)this.addState(C,t[C]);return this}runMethod(t,n,m,C,M,h){var y=this[t+"_"+this.state];if(y){var e=arguments.length;switch(e){case 1:return y.call(this);case 2:return y.call(this,n);case 3:return y.call(this,n,m);case 4:return y.call(this,n,m,C);case 5:return y.call(this,n,m,C,M);case 6:return y.call(this,n,m,C,M,h)}for(var f=new Array(e-1),c=1;c<e;c++)f[c-1]=arguments[c];return y.apply(this,f)}}};Object.assign(rM.prototype,Na);var qd=function(i,t,n,m,C){C===void 0&&(C=!1);var M=i._events[t];if(!M)return!1;for(var h=0,y=M.length;h<y;h++){var e=M[h];if(e.fn===n&&e.context===m&&e.once===C)return!0}return!1};const HD=["next","exit","enter","update","preupdate","postupdate"];class Us extends rM{shutdown(){this.stopUpdate(),this.stopPreUpdate(),this.stopPostUpdate(),this._scene=void 0,super.shutdown()}resetFromJSON(t){return super.resetFromJSON(t),this._scene=Gt(t,"scene",void 0),this}get stateProperties(){return HD}update(t,n){this.runMethod("update",t,n)}preupdate(t,n){this.runMethod("preupdate",t,n)}postupdate(t,n){this.runMethod("postupdate",t,n)}startUpdate(t){t||(t=this._scene);var n=t.sys.events;return qd(n,"update",this.update,this)?this:(this._scene=t,n.on("update",this.update,this),this)}stopUpdate(){return this._scene?(this._scene.sys.events.off("update",this.update,this),this):this}startPreUpdate(t){t||(t=this._scene);var n=t.sys.events;return qd(n,"preupdate",this.preupdate,this)?this:(this._scene=t,n.on("preupdate",this.preupdate,this),this)}stopPreUpdate(){return this._scene?(this._scene.sys.events.off("preupdate",this.preupdate,this),this):this}startPostUpdate(t){t||(t=this._scene);var n=t.sys.events;return qd(n,"postupdate",this.postupdate,this)?this:(this._scene=t,n.on("postupdate",this.postupdate,this),this)}stopPostUpdate(){return this._scene?(this._scene.sys.events.off("postupdate",this.postupdate,this),this):this}}let $D=class extends Us{constructor(t,n){super(n),this.parent=t;var m=n.initState||"IDLE";this.start(m)}init(){this.start("IDLE")}next_IDLE(){return"TRANS_OPNE"}next_TRANS_OPNE(){return"OPEN"}enter_TRANS_OPNE(){var t=this.parent;if(t.transitInTime>0){var n=t.runTransitionInCallback();t.delayCall(n,this.next,this)}else this.next()}exit_TRANS_OPNE(){var t=this.parent;t.removeDelayCall()}next_OPEN(){return"TRANS_CLOSE"}enter_OPEN(){var t=this.parent;t.onOpen()}exit_OPEN(){var t=this.parent;t.removeDelayCall()}next_TRANS_CLOSE(){return"CLOSE"}enter_TRANS_CLOSE(){var t=this.parent;if(t.transitOutTime>0){var n=t.runTransitionOutCallback();t.delayCall(n,this.next,this)}else this.next()}exit_TRANS_CLOSE(){var t=this.parent;t.removeDelayCall()}next_CLOSE(){return"TRANS_OPNE"}enter_CLOSE(){var t=this.parent;t.onClose()}exit_CLOSE(){}canOpen(){return this.state==="IDLE"||this.state==="CLOSE"}canClose(){return this.state==="IDLE"||this.state==="OPEN"}};var KD=function(i,t,n,m,C){var M=gh(i),h=M.time.delayedCall(t,function(){M.game.events.once("poststep",function(){n.call(m,C)})});return h};const ZD={delayCall(i,t,n){return this.delayCallTimer=KD(this,i,t,n),this},removeDelayCall(){return this.delayCallTimer&&(this.delayCallTimer.remove(!1),this.delayCallTimer=void 0),this}},jD={setTransitInTime(i){return this.transitInTime=i,this},setTransitOutTime(i){return this.transitOutTime=i,this},setTransitInCallback(i){return i||(i=Fe),this.transitInCallback=i,this},setTransitOutCallback(i){return i||(i=Fe),this.transitOutCallback=i,this}},JD={runTransitionInCallback(){return this.transitInCallback(this.parent,this.transitInTime),this.transitInTime},onOpen(){},requestOpen(i,t){if(!this._state.canOpen())return this;this.openEventData=arguments.length>0?i:this.parent;var n=this.transitInTime;return t!==void 0&&(this.transitInTime=t),this._state.goto("TRANS_OPNE"),this.transitInTime=n,this}},QD={runTransitionOutCallback(){return this.transitOutCallback(this.parent,this.transitOutTime),this.transitOutTime},onClose(){this.oneShotMode&&this.parent.destroy()},requestClose(i,t){if(!this._state.canClose)return this;this.closeEventData=arguments.length>0?i:this.parent;var n=this.transitOutTime;return t!==void 0&&(this.transitOutTime=t),this._state.goto("TRANS_CLOSE"),this.transitOutTime=n,this}};var aM={};Object.assign(aM,ZD,jD,JD,QD);const kr=Phaser.Utils.Objects.GetValue;class mf extends me{constructor(t,n){super(t,n),this.setTransitInTime(kr(n,"duration.in",200)),this.setTransitOutTime(kr(n,"duration.out",200)),this.setTransitInCallback(kr(n,"transitIn")),this.setTransitOutCallback(kr(n,"transitOut")),this.oneShotMode=kr(n,"destroy",!1),this.delayCallTimer=void 0,this._state=new $D(this,{eventEmitter:!1,initState:kr(n,"initState","IDLE")}),this.openEventData=void 0,this.closeEventData=void 0}get state(){return this._state.state}shutdown(t){this.isShutdown||(this.transitInCallback=void 0,this.transitOutCallback=void 0,this.openEventData=void 0,this.closeEventData=void 0,this.removeDelayCall(),super.shutdown(t))}}Object.assign(mf.prototype,aM);const qD=Phaser.GameObjects.Rectangle;class J0 extends qD{constructor(t,n,m){super(t,0,0,2,2,n,1),this.setAlpha(m),this.setScrollFactor(0),this.boot()}boot(){var t=this.scene;t.sys.events.on("prerender",this.resize,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.scene.sys.events.off("prerender",this.resize,this),super.destroy(t))}get tint(){return this.fillColor}set tint(t){this.setFillStyle(t,this.fillAlpha)}resize(){var t=this.scene,n=t.sys.scale.gameSize,m=t.sys.cameras.main,C=n.width,M=n.height,h=1/m.zoom,y=C/2,e=M/2,f=C*h,c=M*h;(this.x!==y||this.y!==e)&&this.setPosition(y,e),(this.width!==f||this.height!==c)&&this.setSize(f,c).setOrigin(.5)}}const _d=Phaser.Utils.Objects.GetValue;class xf extends me{constructor(t,n){super(t,{eventEmitter:!1}),this.resetFromJSON(n),this.boot()}resetFromJSON(t){return this.setHitAreaMode(_d(t,"hitAreaMode",0)),this.setEnable(_d(t,"enable",!0)),this.setStopMode(_d(t,"stopAllLevels",!0)),this}boot(){this.parent.on("pointerdown",function(t,n,m,C){this.stopAllLevels&&C.stopPropagation()},this).on("pointerup",function(t,n,m,C){this.stopAllLevels&&C.stopPropagation()},this).on("pointermove",function(t,n,m,C){this.stopAllLevels&&C.stopPropagation()},this).on("pointerover",function(t,n,m,C){this.stopAllLevels&&C.stopPropagation()},this).on("pointerout",function(t,n){this.stopAllLevels&&n.stopPropagation()},this)}setHitAreaMode(t){typeof t=="string"&&(t=_D[t]);var n=this.parent;return n.input&&n.removeInteractive(),t===0?n.setInteractive():n.setInteractive({hitArea:{},hitAreaCallback:function(){return!0}}),this}setEnable(t){return t===void 0&&(t=!0),t?this.parent.setInteractive():this.parent.disableInteractive(),this.enable=t,this}setStopMode(t){return t===void 0&&(t=!0),this.stopAllLevels=t,this}toggleEnable(){return this.setEnable(!this.enable),this}}var _D={default:0,fullWindow:1};const Fx=Phaser.Utils.Objects.GetValue;class Q0 extends J0{constructor(t,n){var m=Fx(n,"color",0),C=Fx(n,"alpha",.8);super(t,m,C),this.touchEventStop=new xf(this,{hitAreaMode:1})}}var tB=function(i,t){var n=i.scene,m=new Q0(n,t);return n.add.existing(m),i.isRexContainerLite?(i.moveDepthBelow(m),i.pin(m,{syncPosition:!1,syncRotation:!1,syncScale:!1,syncAlpha:!1,syncScrollFactor:!1})):n.children.moveBelow(m,i),m};const pl={popUp(i,t){i._modalScaleSave!==void 0?(i.scaleX=i._modalScaleSave,i.scaleY=i._modalScaleSave):i._modalScaleSave=i.scaleX,$0(i,t)},scaleDown(i,t){eM(i,t,void 0,void 0,!1)},fadeIn(i,t){i._modalAlphaSave!==void 0?i.alpha=i._modalAlphaSave:i._modalAlphaSave=i.alpha,pf(i,t)},fadeOut(i,t){gf(i,t,!1)}};var eB=function(i,t){i._modalAlphaSave!==void 0?i.alpha=i._modalAlphaSave:i._modalAlphaSave=i.alpha,pf(i,t,i.alpha)},iB=function(i,t){gf(i,t,!1)},oh=function(i,t,n,m,C){if(!i||m&&!m(i,t,n))return!1;var M=m0(i,!0);return!(!M.contains(t,n)||C&&!C(i,t,n))};const qi=Phaser.Utils.Objects.GetValue;let sB=class extends mf{constructor(t,n){n===void 0&&(n={}),n.transitIn==null&&(n.transitIn=Zs.popUp),n.transitOut==null&&(n.transitOut=Zs.scaleDown),n.destroy=qi(n,"destroy",!0),super(t,n);var m=qi(n,"cover");this.cover=m!==!1?tB(t,m):void 0,this.cover&&(this.setCoverTransitInCallback(qi(m,"transitIn",eB)),this.setCoverTransitOutCallback(qi(m,"transitOut",iB)));var C=qi(n,"touchOutsideClose",!1),M=qi(n,"duration.hold",-1),h=qi(n,"timeOutClose",M>=0),y=qi(n,"anyTouchClose",!1),e=qi(n,"manualClose",!1);e&&(C=!1,y=!1,h=!1),y&&(C=!1),h?this.setDisplayTime(M):this.setDisplayTime(-1),y?this.once("open",this.anyTouchClose,this):C&&this.once("open",this.touchOutsideClose,this),qi(n,"openOnStart",!0)&&this.delayCall(0,this.requestOpen,this)}shutdown(t){this.isShutdown||(this.cover||this.scene.input.off("pointerup",this.touchCloseCallback,this),this.cover&&!t&&(this.cover.destroy(),this.cover=void 0),super.shutdown(t))}touchOutsideClose(){return this.cover?this.cover.on("pointerup",this.touchCloseCallback,this):this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.cover?this.cover.once("pointerup",this.touchCloseCallback,this):this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(t){this.clickOutsideTest&&oh(this.parent,t.worldX,t.worldY)||this.requestClose()}runTransitionInCallback(){var t=super.runTransitionInCallback(),n=this.cover;return n&&this.coverTransitInCallback&&this.coverTransitInCallback(n,t),t}runTransitionOutCallback(){var t=super.runTransitionOutCallback(),n=this.cover;return n&&this.coverTransitOutCallback&&this.coverTransitOutCallback(n,t),t}onOpen(){var t=this.displayTime;t>=0&&this.delayCall(t,this.requestClose,this),this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.closeEventData),super.onClose()}setDisplayTime(t){return this.displayTime=t,this}setTransitInCallback(t){switch(typeof t=="string"&&(t=Zs[t]),t){case Zs.popUp:t=pl.popUp;break;case Zs.fadeIn:t=pl.fadeIn;break}return super.setTransitInCallback(t),this}setTransitOutCallback(t){switch(typeof t=="string"&&(t=Zs[t]),t){case Zs.scaleDown:t=pl.scaleDown;break;case Zs.fadeOut:t=pl.fadeOut;break}return super.setTransitOutCallback(t),this}setCoverTransitInCallback(t){return this.coverTransitInCallback=t,this}setCoverTransitOutCallback(t){return this.coverTransitOutCallback=t,this}};const Zs={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1};var q0=function(i,t){var n=new sB(i,t);return n.on("open",function(){i.emit("modal.open",n)}),n.on("close",function(m){i.emit("modal.close",m,n)}),i.on("modal.requestClose",n.requestClose,n),n},nB=function(i,t){var n=q0(i,t);return new Promise(function(m,C){n.once("close",function(M){m(M)})})},oM=function(i,t){i.emit("modal.requestClose",t)},Sn=function(i){return i&&typeof i=="function"};const _0={modal(i,t){return Sn(i)&&(t=i,i=void 0),this._modalBehavior===void 0&&(this.onCreateModalBehavior&&this.onCreateModalBehavior(this,i),this._modalBehavior=q0(this,i)),t&&this._modalBehavior.once("close",t),this._modalBehavior.requestOpen(),this},modalPromise(i){var t=this;return new Promise(function(n,m){t.modal(i,n)})},modalClose(i){return oM(this,i),this}};var yf=function(i,t,n,m){if(t)return oh(i,t.worldX,t.worldY,n,m);for(var C=i.scene.input.manager,M=C.pointersTotal,h=C.pointers,y=0;y<M;y++)if(t=h[y],oh(i,t.worldX,t.worldY,n,m))return!0;return!1},rB=function(i,t){return(Ln(i)||typeof i=="string")&&(t=i,i=void 0),t===void 0?t=this:typeof t=="string"&&(t=this.getElement(t)),yf(t,i)},Ki=function(i){return Object.prototype.toString.call(i)==="[object Array]"},sp=function(i,t,n,m,C){return oh(i,t,n,aB(m),oB(C))},Ix=function(i){var t=i.rexSizer&&i.rexSizer.hidden;return!t},aB=function(i){return i?function(t,n,m){return Ix(t)?(i(t,n,m),!0):!1}:Ix},oB=function(i){return i},hB=function(i,t,n,m,C){if(Sn(n)||(C=n,n=void 0,m=void 0),C===void 0&&(this.sizerChildren?C=this.sizerChildren:C=this.children),Ki(C)){for(var M,h=0,y=C.length;h<y;h++)if(M=C[h],sp(M,i,t,n,m))return M}else{var M;for(var e in C)if(M=C[e],sp(M,i,t,n,m))return M}return null},Zi=function(i,t,n){!i||t===void 0&&n===void 0||(i.resize||i.setSize?(t===void 0&&(t=i.width),n===void 0&&(n=i.height),i.resize?i.resize(t,n):i.setSize(t,n)):(t!==void 0&&(i.displayWidth=t),n!==void 0&&(i.displayHeight=n)))},lB=function(i,t){return t===void 0?t={}:t===!0&&(t=uB),t.x=i.x,t.y=i.y,t.scaleX=i.scaleX,t.scaleY=i.scaleY,t.width=i.width,t.height=i.height,t.displayWidth=i.displayWidth,t.displayHeight=i.displayHeight,t},uB={},Eh=function(i){this.sizerEventsEnable&&(lB(i,this.getChildPrevState(i)),this.layoutedChildren.push(i))},Ph=function(i,t,n,m,C,M,h,y){yh(i,t,n,m,C,M),h!==void 0&&(i.x+=h),y!==void 0&&(i.y+=y),this.resetChildPositionState(i),this.sizerEventsEnable&&i.emit("sizer.postlayout",i,this)};const fB=Phaser.Display.Align.CENTER;var dB=function(){if(this.backgroundChildren!==void 0)for(var i=this.backgroundChildren,t=this.left,n=this.top,m=this.width,C=this.height,M,h,y,e,f,c,s,a=0,r=i.length;a<r;a++)M=i[a],h=M.rexSizer,!h.hidden&&(y=h.padding,Eh.call(this,M),e=t+y.left,f=n+y.top,c=m-y.left-y.right,s=C-y.top-y.bottom,Zi(M,c,s),Ph.call(this,M,e,f,c,s,fB))},cB=function(i,t){var n=typeof i;if(n==="string"){var m=i;if(i=this.getElement(m),!i)return console.error(`Can get element '${m}'`),this}else(i===void 0||n!="object")&&(t=i,i=this);return t===void 0&&(t=!0),i.input&&i.input._dragTopmostSizer?i.input.draggable=t:t&&(i.setInteractive(),i.scene.input.setDraggable(i),i.on("drag",function(C,M,h){var y=this.getTopmostSizer();y.x+=M-i.x,y.y+=h-i.y,y.emit("sizer.drag",C,M,h)},this).on("dragstart",function(C,M,h){var y=this.getTopmostSizer();y.emit("sizer.dragstart",C,M,h)},this).on("dragend",function(C,M,h,y){var e=this.getTopmostSizer();e.emit("sizer.dragend",C,M,h,y)},this),i.input._dragTopmostSizer=!0),this};const hM={onClick(i,t,n,m){return i?(typeof i=="function"&&(m=n,n=t,t=i,i=this),i._click===void 0&&(i._click=new On(i,m)),i._click.on("click",t,n),this):this},offClick(i,t,n){return typeof i=="function"&&(n=t,t=i,i=this),i._click===void 0?this:(i._click.off("click",t,n),this)},enableClick(i,t){return i&&typeof i!="object"&&(t=i,i=this),i._click===void 0?this:(i._click.setEnable(t),this)},disableClick(i){return i&&typeof i!="object"&&(i=this),i._click===void 0?this:(i._click.setEnable(!1),this)}},gl=Phaser.Utils.Objects.GetValue;class tg extends me{constructor(t,n){super(t,n),this._enable=void 0;var m=gl(n,"inputConfig",void 0);m&&t.setInteractive(m),this.resetFromJSON(n),this.boot()}resetFromJSON(t){return this.setEnable(gl(t,"enable",!0)),this.setMode(gl(t,"mode",1)),this.setClickInterval(gl(t,"clickInterval",100)),this}boot(){var t=this.parent.scene;t.input.on("pointerdown",this.onPress,this),t.input.on("pointerup",this.onRelease,this)}shutdown(t){if(!this.isShutdown){var n=this.parent.scene;n.input.off("pointerdown",this.onPress,this),n.input.off("pointerup",this.onRelease,this),super.shutdown(t)}}get enable(){return this._enable}set enable(t){if(this._enable!==t){this._enable=t;var n=t?"enable":"disable";this.emit(n,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=vB[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}isPointerInside(t){var n=this.parent,m=n.input?C0:yf;return m(n,t)}onPress(t){if(this.mode===0){if(!this.parent.willRender(t.camera))return;this.isPointerInside(t)||this.click(t.downTime,t)}}onRelease(t){if(this.mode===1){if(!this.parent.willRender(t.camera))return;this.isPointerInside(t)||this.click(t.upTime,t)}}click(t,n){if(!this.enable)return this;if(t===void 0)return this.emit("clickoutside",this,this.parent,n),this;var m=this.lastClickTime;return m!==void 0&&t-m<=this.clickInterval?this:(this.lastClickTime=t,this.emit("clickoutside",this,this.parent,n),this)}}const vB={press:0,pointerdown:0,release:1,pointerup:1},pB={onClickOutside(i,t,n,m){return i?(typeof i=="function"&&(m=n,n=t,t=i,i=this),i._clickOutside===void 0&&(i._clickOutside=new tg(i,m)),i._clickOutside.on("clickoutside",t,n),this):this},offClickOutside(i,t,n){return typeof i=="function"&&(n=t,t=i,i=this),i._clickOutside===void 0?this:(i._clickOutside.off("clickoutside",t,n),this)},enableClickOutside(i,t){return i&&typeof i!="object"&&(t=i,i=this),i._clickOutside===void 0?this:(i._clickOutside.setEnable(t),this)},disableClickOutside(i){return i&&typeof i!="object"&&(i=this),i._clickOutside===void 0?this:(i._clickOutside.setEnable(!1),this)}};class gB extends Us{constructor(){super({eventEmitter:!1}),this.goto("IDLE")}setCooldownTime(t){return this.cooldownTime=t,this.cooldownMode=t!==void 0,this}request(){return this.runMethod("request")}update_IDLE(){this.compensationTime=0}request_IDLE(){return this.next(),!0}next_IDLE(){if(this.cooldownMode)return"COOLDOWN"}enter_COOLDOWN(){this.remainderTime=this.cooldownTime+this.compensationTime}update_COOLDOWN(t,n){this.remainderTime-=n,this.remainderTime<0&&(this.compensationTime=this.cooldownTime>n?-this.remainderTime:0,this.goto("IDLE"))}request_COOLDOWN(){return!1}}const tc=Phaser.Utils.Objects.GetValue;class Ia extends me{constructor(t,n){super(t,n),this._enable=void 0,this.cooldown=new gB,this.parent.setInteractive(tc(n,"inputConfig",void 0)),this.resetFromJSON(n),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.prevIsInTouch=!1,this.isInTouching=!1,this.setEnable(tc(t,"enable",!0)),this.setCooldown(tc(t,"cooldown",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPointIn,this),t.on("pointerover",this.onPointIn,this),t.on("pointerup",this.onPointOut,this),t.on("pointerout",this.onPointOut,this),this.scene.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||(this.prevIsInTouch=!1,this.isInTouching=!1,this.pointer=void 0),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get cooldownTime(){return this.cooldown.cooldownTime}set cooldownTime(t){this.cooldown.setCooldownTime(t)}setCooldown(t){return this.cooldownTime=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointIn(t,n,m){!this.enable||!t.isDown||this.pointer!==void 0||(this.pointer=t,this.isInTouching=!0)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0,this.isInTouching=!1)}preupdate(t,n){this.cooldown.update(t,n),!this.prevIsInTouch&&this.isInTouching&&this.emit("touchstart",this,this.parent),this.isInTouching&&this.cooldown.request()&&this.emit("intouch",this,this.parent,this.pointer),this.prevIsInTouch&&!this.isInTouching&&this.emit("touchend",this,this.parent),this.prevIsInTouch=this.isInTouching}}const mB={isPointerInBounds(i){return i===void 0?i=this:typeof i=="string"&&(i=this.getElement(i)),i?yf(i):!1},onTouching(i,t,n,m){return i?(typeof i=="function"&&(m=n,n=t,t=i,i=this),i._inTouching===void 0&&(i._inTouching=new Ia(i,m)),i._inTouching.on("intouch",t,n),this):this},offTouching(i,t,n){return typeof i=="function"&&(n=t,t=i,i=this),i._inTouching===void 0?this:(i._inTouching.off("intouch",t,n),this)},onTouchingEnd(i,t,n,m){return i?(typeof i=="function"&&(m=n,n=t,t=i,i=this),i._inTouching===void 0&&(i._inTouching=new Ia(i,m)),i._inTouching.on("touchend",t,n),this):this},offTouchingEnd(i,t,n){return typeof i=="function"&&(n=t,t=i,i=this),i._inTouching===void 0?this:(i._inTouching.off("touchend",t,n),this)},enableTouching(i,t){return i&&typeof i!="object"&&(t=i,i=this),i._inTouching===void 0?this:(i._inTouching.setEnable(t),this)},disableTouching(i){return i&&typeof i!="object"&&(i=this),i._inTouching===void 0?this:(i._inTouching.setEnable(!1),this)}};var lM=function(i,t,n){for(var m,C=0,M=i.length;C<M;C++)if(m=i[C],!!sp(m,t,n))return m.pointToChild(t,n);return null},ps=function(i,t,n,m,C,M,h){var y;C===void 0?y=m:y=lM(n,m,C),y&&i.emit(t,y,M,h)};const xB=Phaser.Utils.Objects.GetValue;var yB=function(i){var t=xB(i,"down",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerdown",TB,this))},TB=function(i,t,n,m){var C=this._childrenInteractive;ps(C.eventEmitter,`${C.eventNamePrefix}down`,C.targetSizers,i.worldX,i.worldY,i,m)};const CB=Phaser.Utils.Objects.GetValue;var SB=function(i){var t=CB(i,"up",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerup",MB,this))},MB=function(i,t,n,m){var C=this._childrenInteractive;ps(C.eventEmitter,`${C.eventNamePrefix}up`,C.targetSizers,i.worldX,i.worldY,i,m)};const EB=Phaser.Utils.Objects.GetValue;var PB=function(i){var t=EB(i,"over",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointermove",Dx,this).on("pointerover",Dx,this).on("pointerout",RB,this))},Dx=function(i,t,n,m){var C=this._childrenInteractive,M=lM(C.targetSizers,i.worldX,i.worldY),h=C.lastOverChild;M&&h&&M===h||(C.lastOverChild=M,ps(C.eventEmitter,`${C.eventNamePrefix}out`,C.targetSizers,h,void 0,i,m),ps(C.eventEmitter,`${C.eventNamePrefix}over`,C.targetSizers,M,void 0,i,m))},RB=function(i,t){var n=this._childrenInteractive,m=n.lastOverChild;n.lastOverChild=null,ps(n.eventEmitter,`${n.eventNamePrefix}out`,n.targetSizers,m,void 0,i,t)};const AB=Phaser.Utils.Objects.GetValue;var wB=function(i){var t=AB(i,"click",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("threshold")||(t.threshold=10);var n=this._childrenInteractive;this._click=new On(this,t),this._click.on("click",function(m,C,M,h){ps(n.eventEmitter,`${n.eventNamePrefix}click`,n.targetSizers,M.worldX,M.worldY,M,h)},this)}};const ec=Phaser.Utils.Objects.GetValue;class Tf extends of{constructor(t,n){var m=gh(t);m===t&&(t=void 0),super(m,n),this.gameObject=t,t&&t.setInteractive(ec(n,"inputConfig",void 0)),this._enable=void 0,this.resetFromJSON(n),this.boot()}resetFromJSON(t){return this.setEnable(ec(t,"enable",!0)),this.setDetectBounds(),this.gameObject===void 0?this.setDetectBounds(ec(t,"bounds",void 0)):this.setDetectBounds(),this.tracerState=ic,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,this.isTouchingAnyObject=!1,this}boot(){super.boot(),this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(t){this.scene&&(this.gameObject||this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.gameObject=void 0,this.bounds=void 0,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setDetectBounds(t){return this.bounds=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t,n){if(this.enable&&this.pointer===void 0){var m=this.bounds?this.bounds.contains(t.x,t.y):!0;m&&this.pointer!==t&&(this.pointer=t,this.lastPointer=t,this.movedState=!1,this.tracerState=Bx,this.gameObject===void 0&&(this.isTouchingAnyObject=n.length>0),this.onDragStart())}}onPointerUp(t){if(this.enable){var n=this.bounds?this.bounds.contains(t.x,t.y):!0;n&&this.pointer===t&&(this.pointer=void 0,this.movedState=!1,this.tracerState=ic,this.onDragEnd())}}onPointerMove(t){if(this.enable&&t.isDown){var n=this.bounds?this.bounds.contains(t.x,t.y):!0,m=this.pointer===t;!m&&n||(m&&!n?this.onPointerUp(t):(this.movedState||(this.movedState=t.x!==t.downX||t.y!==t.downY),this.movedState&&this.onDrag()))}}dragCancel(){return this.tracerState===Bx&&this.onDragEnd(),this.pointer=void 0,this.tracerState=ic,this}onDragStart(){this.emit("dragstart",this)}onDragEnd(){this.emit("dragend",this)}onDrag(){this.emit("drag",this)}preUpdate(t,n){}postUpdate(t,n){}startTicking(){super.startTicking(),this.scene.sys.events.on("preupdate",this.preUpdate,this),this.scene.sys.events.on("postupdate",this.postUpdate,this)}stopTicking(){super.stopTicking(),this.scene&&(this.scene.sys.events.off("preupdate",this.preUpdate,this),this.scene.sys.events.off("postupdate",this.postUpdate,this))}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=OB,this}}const ic=0,Bx=1,OB="IDLE",Yn=Phaser.Utils.Objects.GetValue,LB=Phaser.Math.Distance.Between;class Cf extends Tf{constructor(t,n){super(t,n);var m=this,C={states:{IDLE:{enter:function(){m.stop(),m.tapsCount=0,m.x=0,m.y=0,m.worldX=0,m.worldY=0},exit:function(){var M=m.lastPointer;m.x=M.x,m.y=M.y,m.worldX=M.worldX,m.worldY=M.worldY}},BEGIN:{enter:function(){m.start(),m.tapsCount=0,m.emit("tappingstart",m,m.gameObject,m.lastPointer)}},RECOGNIZED:{enter:function(){m.start(),m.emit("tap",m,m.gameObject,m.lastPointer),m.emit(`${m.tapsCount}tap`,m,m.gameObject,m.lastPointer)}}},init:function(){this.state=Wn},eventEmitter:!1};this.setRecongizedStateObject(new Us(C))}resetFromJSON(t){super.resetFromJSON(t),this.setHoldTime(Yn(t,"time",250)),this.setTapInterval(Yn(t,"tapInterval",200)),this.setDragThreshold(Yn(t,"threshold",9)),this.setTapOffset(Yn(t,"tapOffset",10));var n=Yn(t,"taps",void 0);return n!==void 0?this.setTaps(n):(this.setMaxTaps(Yn(t,"maxTaps",void 0)),this.setMinTaps(Yn(t,"minTaps",void 0))),this}onDragStart(){switch(this.state){case Wn:this.state=Ur;break;case Ur:var t=this.lastPointer,n=LB(t.upX,t.upY,t.x,t.y);n>this.tapOffset&&(this.state=Xr,this.state=Ur);break;case Xr:this.state=Ur;break}}onDragEnd(){this.state===Ur&&(this.tapsCount++,this.emit("tapping",this,this.gameObject,this.lastPointer),this.maxTaps!==void 0&&this.tapsCount===this.maxTaps&&(this.state=Xr))}onDrag(){this.state!==Wn&&this.pointer.getDistance()>this.dragThreshold&&(this.state=Wn)}preUpdate(t,n){if(!(!this.isRunning||!this.enable)&&this.state===Ur){var m=this.lastPointer;if(m.isDown){var C=t-m.downTime;C>this.holdTime&&(this.state=Wn)}else{var M=t-m.upTime;M>this.tapInterval&&(this.minTaps===void 0||this.tapsCount>=this.minTaps?this.state=Xr:this.state=Wn)}}}postUpdate(t,n){!this.isRunning||!this.enable||this.state===Xr&&(this.state=Wn)}get isTapped(){return this.state===Xr}setHoldTime(t){return this.holdTime=t,this}setTapInterval(t){return this.tapInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setTapOffset(t){return this.tapOffset=t,this}setMaxTaps(t){return this.maxTaps=t,this}setMinTaps(t){return this.minTaps=t,this}setTaps(t,n){return n===void 0&&(n=t),this.setMinTaps(t).setMaxTaps(n),this}}const Wn="IDLE",Ur="BEGIN",Xr="RECOGNIZED",bx=Phaser.Utils.Objects.GetValue;class Sf extends Tf{constructor(t,n){super(t,n);var m=this,C={states:{IDLE:{enter:function(){m.x=0,m.y=0,m.worldX=0,m.worldY=0},exit:function(){var M=m.lastPointer;m.x=M.x,m.y=M.y,m.worldX=M.worldX,m.worldY=M.worldY}},BEGIN:{enter:function(){m.start()},exit:function(){m.stop()}},RECOGNIZED:{enter:function(){m.emit("pressstart",m,m.gameObject,m.lastPointer)},exit:function(){m.emit("pressend",m,m.gameObject,m.lastPointer)}}},init:function(){this.state=ml},eventEmitter:!1};this.setRecongizedStateObject(new Us(C))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(bx(t,"threshold",9)),this.setHoldTime(bx(t,"time",251)),this}onDragStart(){this.state=Gx,this.holdTime===0&&(this.state=sc)}onDragEnd(){this.state=ml}onDrag(){this.state!==ml&&this.pointer.getDistance()>this.dragThreshold&&(this.state=ml)}preUpdate(t,n){if(!(!this.isRunning||!this.enable)&&this.state===Gx){var m=t-this.pointer.downTime;m>=this.holdTime&&(this.state=sc)}}get isPressed(){return this.state===sc}setHoldTime(t){return this.holdTime=t,this}setDragThreshold(t){return this.dragThreshold=t,this}}const ml="IDLE",Gx="BEGIN",sc="RECOGNIZED",FB=Phaser.Utils.Objects.GetValue;class uM extends Tf{constructor(t,n){super(t,n);var m=this,C={states:{IDLE:{},BEGIN:{enter:function(){var M=m.pointer;m.startX=M.x,m.startY=M.y,m.startWorldX=M.worldX,m.startWorldY=M.worldY}},RECOGNIZED:{enter:function(){m.emit("panstart",m,m.gameObject,m.lastPointer)},exit:function(){var M=m.lastPointer;m.endX=M.x,m.endY=M.y,m.endWorldX=M.worldX,m.endWorldY=M.worldY,m.emit("panend",m,m.gameObject,m.lastPointer)}}},init:function(){this.state=Nx},eventEmitter:!1};this.setRecongizedStateObject(new Us(C))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(FB(t,"threshold",10)),this}onDragStart(){this.state=Vx,this.dragThreshold===0&&(this.state=xl)}onDragEnd(){this.state=Nx}onDrag(){switch(this.state){case Vx:this.pointer.getDistance()>=this.dragThreshold&&(this.state=xl);break;case xl:var t=this.pointer.position,n=this.pointer.prevPosition;this.dx=t.x-n.x,this.dy=t.y-n.y;var m=this.pointer;this.x=m.x,this.y=m.y,this.worldX=m.worldX,this.worldY=m.worldY,this.emit("pan",this,this.gameObject,this.lastPointer);break}}get isPanned(){return this.state===xl}setDragThreshold(t){return this.dragThreshold=t,this}}const Nx="IDLE",Vx="BEGIN",xl="RECOGNIZED",IB=Phaser.Math.Distance.Between,DB=Phaser.Math.Angle.Between,BB={getDt:function(){var i=E0(this.scene);return i},getVelocity:function(){var i=this.pointer.position,t=this.pointer.prevPosition,n=IB(t.x,t.y,i.x,i.y),m=n/(this.getDt()*.001);return m},getVelocityX:function(){var i=this.pointer.position,t=this.pointer.prevPosition,n=Math.abs(i.x-t.x),m=n/(this.getDt()*.001);return m},getVelocityY:function(){var i=this.pointer.position,t=this.pointer.prevPosition,n=Math.abs(i.y-t.y),m=n/(this.getDt()*.001);return m},getVelocityAngle:function(){var i=this.pointer.position,t=this.pointer.prevPosition,n=DB(t.x,t.y,i.x,i.y);return n}},bB={"up&down":0,"left&right":1,"4dir":2,"8dir":3};var GB=function(i,t,n){switch(n===void 0?n={}:n===!0&&(n=NB),n.left=!1,n.right=!1,n.up=!1,n.down=!1,i=(i+360)%360,t){case 0:i<180?n.down=!0:n.up=!0;break;case 1:i>90&&i<=270?n.left=!0:n.right=!0;break;case 2:i>45&&i<=135?n.down=!0:i>135&&i<=225?n.left=!0:i>225&&i<=315?n.up=!0:n.right=!0;break;case 3:i>22.5&&i<=67.5?(n.down=!0,n.right=!0):i>67.5&&i<=112.5?n.down=!0:i>112.5&&i<=157.5?(n.down=!0,n.left=!0):i>157.5&&i<=202.5?n.left=!0:i>202.5&&i<=247.5?(n.left=!0,n.up=!0):i>247.5&&i<=292.5?n.up=!0:(i>292.5&&i<=337.5&&(n.up=!0),n.right=!0);break}return n},NB={};const nc=Phaser.Utils.Objects.GetValue,VB=Phaser.Math.RadToDeg;class Rh extends Tf{constructor(t,n){super(t,n);var m=this,C={states:{IDLE:{enter:function(){m.x=0,m.y=0,m.worldX=0,m.worldY=0},exit:function(){var M=m.lastPointer;m.x=M.x,m.y=M.y,m.worldX=M.worldX,m.worldY=M.worldY}},BEGIN:{enter:function(){m.validDrag=!1}},RECOGNIZED:{enter:function(){m.start(),m.updateDirectionStates(),m.emit("swipe",m,m.gameObject,m.lastPointer)},exit:function(){m.stop(),m.clearDirectionStates()}}},init:function(){this.state=rc},eventEmitter:!1};this.setRecongizedStateObject(new Us(C)),this.clearDirectionStates()}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(nc(t,"threshold",10)),this.setVelocityThreshold(nc(t,"velocityThreshold",1e3)),this.setDirectionMode(nc(t,"dir","8dir")),this}onDragStart(){this.state=zx}onDragEnd(){this.state=rc}onDrag(){this.state===zx&&(this.validDrag||(this.validDrag=this.dragThreshold===0||this.pointer.getDistance()>=this.dragThreshold),this.validDrag&&this.dragVelocity>this.velocityThreshold&&(this.state=ac))}postUpdate(t,n){!this.isRunning||!this.enable||this.state===ac&&(this.state=rc)}get isSwiped(){return this.state===ac}get dragVelocity(){var t;switch(this.dirMode){case 0:t=this.getVelocityY();break;case 1:t=this.getVelocityX();break;default:t=this.getVelocity();break}return t}setDragThreshold(t){return this.dragThreshold=t,this}setVelocityThreshold(t){return this.velocityThreshold=t,this}setDirectionMode(t){return typeof t=="string"&&(t=bB[t]),this.dirMode=t,this}updateDirectionStates(){var t=VB(this.getVelocityAngle());return GB(t,this.dirMode,this),this}clearDirectionStates(){return this.left=!1,this.right=!1,this.up=!1,this.down=!1,this}}Object.assign(Rh.prototype,BB);const rc="IDLE",zx="BEGIN",ac="RECOGNIZED",oc=Phaser.Utils.Objects.GetValue,zB=Phaser.Utils.Array.SpliceOne,kB=Phaser.Math.Distance.Between,UB=Phaser.Math.Angle.Between;class eg{constructor(t,n){var m=t.input.manager.pointersTotal-1;m<2&&t.input.addPointer(2-m),this.scene=t,this.setEventEmitter(oc(n,"eventEmitter",void 0)),this._enable=void 0,this.pointers=[],this.movedState={},this.resetFromJSON(n),this.boot()}resetFromJSON(t){return this.setEnable(oc(t,"enable",!0)),this.bounds=oc(t,"bounds",void 0),this.tracerState=yl,this.pointers.length=0,Fs(this.movedState),this}boot(){this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(){this.scene&&(this.destroyEventEmitter(),this.pointers.length=0,Fs(this.movedState),this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.scene=void 0)}destroy(){this.shutdown()}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t){if(this.enable&&this.pointers.length!==2){var n=this.bounds?this.bounds.contains(t.x,t.y):!0;if(n){var m=this.pointers.indexOf(t);if(m===-1)switch(this.movedState[t.id]=!1,this.pointers.push(t),this.tracerState){case yl:this.tracerState=co,this.onDrag1Start();break;case co:this.tracerState=_i,this.onDrag2Start();break}}}}onPointerUp(t){if(this.enable){var n=this.bounds?this.bounds.contains(t.x,t.y):!0;if(n){var m=this.pointers.indexOf(t);if(m!==-1)switch(delete this.movedState[t.id],zB(this.pointers,m),this.tracerState){case co:this.tracerState=yl,this.onDrag1End();break;case _i:this.tracerState=co,this.onDrag2End(),this.onDrag1Start();break}}}}onPointerMove(t){if(this.enable&&t.isDown){var n=this.bounds?this.bounds.contains(t.x,t.y):!0,m=this.pointers.indexOf(t)!==-1;if(!(!m&&n)){if(m&&!n)this.onPointerUp(t);else if(this.movedState[t.id]||(this.movedState[t.id]=t.x!==t.downX||t.y!==t.downY),this.movedState[t.id])switch(this.tracerState){case co:this.onDrag1();break;case _i:this.onDrag2();break}}}}dragCancel(){return this.tracerState===_i&&this.onDrag2End(),this.pointers.length=0,Fs(this.movedState),this.tracerState=yl,this}onDrag1Start(){this.emit("drag1start",this)}onDrag1End(){this.emit("drag1end",this)}onDrag1(){this.emit("drag1",this)}onDrag2Start(){this.emit("drag2start",this)}onDrag2End(){this.emit("drag2end",this)}onDrag2(){this.emit("drag2",this)}get distanceBetween(){if(this.tracerState!==_i)return 0;var t=this.pointers[0],n=this.pointers[1];return kB(t.x,t.y,n.x,n.y)}get angleBetween(){if(this.tracerState!==_i)return 0;var t=this.pointers[0],n=this.pointers[1];return UB(t.x,t.y,n.x,n.y)}get drag1Vector(){var t=this.pointers[0];if(t&&this.movedState[t.id]){var n=t.position,m=t.prevPosition;fo.x=n.x-m.x,fo.y=n.y-m.y}else fo.x=0,fo.y=0;return fo}get centerX(){if(this.tracerState!==_i)return 0;var t=this.pointers[0].position,n=this.pointers[1].position;return(t.x+n.x)/2}get centerY(){if(this.tracerState!==_i)return 0;var t=this.pointers[0].position,n=this.pointers[1].position;return(t.y+n.y)/2}get prevCenterX(){if(this.tracerState!==_i)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,n=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.x+n.x)/2}get prevCenterY(){if(this.tracerState!==_i)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,n=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.y+n.y)/2}get movementCenterX(){return this.centerX-this.prevCenterX}get movementCenterY(){return this.centerY-this.prevCenterY}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=XB,this}}Object.assign(eg.prototype,Na);var fo={};const yl=0,co=1,_i=2,XB="IDLE",YB=Phaser.Utils.Objects.GetValue;class fM extends eg{constructor(t,n){super(t,n);var m=this,C={states:{IDLE:{enter:function(){m.prevDistance=void 0,m.scaleFactor=1}},BEGIN:{},RECOGNIZED:{enter:function(){m.emit("pinchstart",m)},exit:function(){m.emit("pinchend",m)}}},init:function(){this.state=kx},eventEmitter:!1};this.setRecongizedStateObject(new Us(C))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(YB(t,"threshold",0)),this}onDrag2Start(){this.scaleFactor=1,this.prevDistance=this.distanceBetween,this.state=Ux,this.dragThreshold===0&&(this.state=Tl)}onDrag2End(){this.state=kx}onDrag2(){switch(this.state){case Ux:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.prevDistance=t,this.state=Tl}break;case Tl:var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.emit("pinch",this),this.prevDistance=t;break}}get isPinched(){return this.state===Tl}setDragThreshold(t){return this.dragThreshold=t,this}}const kx="IDLE",Ux="BEGIN",Tl="RECOGNIZED",WB=Phaser.Math.RotateAround;var Xx=function(i,t,n,m){return WB(i,t,n,m),i.rotation+=m,i},HB=function(i,t,n,m){return m===void 0?m={}:m===!0&&(m=$B),n.getWorldPoint(i,t,m),m},$B={},KB=function(i,t){if(!this.isRotation)return this;t===void 0&&(t=this.pointers[0].camera);var n=this.movementCenterX,m=this.movementCenterY,C=HB(this.centerX,this.centerY,t,!0),M=C.x,h=C.y,y=this.rotation;if(Array.isArray(i))for(var e=i,f=0,c=e.length;f<c;f++)i=e[f],i.x+=n,i.y+=m,Xx(i,M,h,y);else i.x+=n,i.y+=m,Xx(i,M,h,y);return this};const ZB=Phaser.Utils.Objects.GetValue,hc=Phaser.Math.Angle.WrapDegrees,Yx=Phaser.Math.Angle.ShortestBetween,lc=Phaser.Math.RadToDeg,jB=Phaser.Math.DegToRad;class ig extends eg{constructor(t,n){super(t,n);var m=this,C={states:{IDLE:{enter:function(){m.prevAngle=void 0,m.angle=0}},BEGIN:{},RECOGNIZED:{enter:function(){m.emit("rotatestart",m)},exit:function(){m.emit("rotateend",m)}}},init:function(){this.state=Wx},eventEmitter:!1};this.setRecongizedStateObject(new Us(C))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(ZB(t,"threshold",0)),this}onDrag2Start(){this.prevAngle=hc(lc(this.angleBetween)),this.state=Hx,this.dragThreshold===0&&(this.state=Cl)}onDrag2End(){this.state=Wx}onDrag2(){switch(this.state){case Hx:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=hc(lc(this.angleBetween));this.angle=Yx(this.prevAngle,t),this.prevAngle=t,this.state=Cl}break;case Cl:var t=hc(lc(this.angleBetween));this.angle=Yx(this.prevAngle,t),this.prevAngle=t,this.emit("rotate",this);break}}get isRotated(){return this.state===Cl}get rotation(){return jB(this.angle)}setDragThreshold(t){return this.dragThreshold=t,this}}var JB={spinObject:KB};Object.assign(ig.prototype,JB);const Wx="IDLE",Hx="BEGIN",Cl="RECOGNIZED",QB=Phaser.Utils.Objects.GetValue;var qB=function(i){var t=QB(i,"tap",void 0);if(t!==!1){t===!0&&(t=void 0);var n=this._childrenInteractive;this._tap=new Cf(this,t),this._tap.on("tap",function(m,C,M){ps(n.eventEmitter,`${n.eventNamePrefix}${m.tapsCount}tap`,n.targetSizers,m.worldX,m.worldY,M)},this)}};const _B=Phaser.Utils.Objects.GetValue;var tb=function(i){var t=_B(i,"press",void 0);if(t!==!1){t===!0&&(t=void 0);var n=this._childrenInteractive;this._press=new Sf(this,t),this._press.on("pressstart",function(m,C,M){ps(n.eventEmitter,`${n.eventNamePrefix}pressstart`,n.targetSizers,m.worldX,m.worldY,M)},this).on("pressend",function(m,C,M){ps(n.eventEmitter,`${n.eventNamePrefix}pressend`,n.targetSizers,m.worldX,m.worldY,M)},this)}};const eb=Phaser.Utils.Objects.GetValue;var ib=function(i){var t=eb(i,"swipe",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("dir")||(t.dir="4dir");var n=this._childrenInteractive;this._swipe=new Rh(this,t),this._swipe.on("swipe",function(m,C,M){var h=m.left?"left":m.right?"right":m.up?"up":"down";ps(n.eventEmitter,`${n.eventNamePrefix}swipe${h}`,n.targetSizers,m.worldX,m.worldY,M)},this)}};const uc=Phaser.Utils.Objects.GetValue;var sg=function(i,t){return i.setInteractive(),i._childrenInteractive={targetSizers:uc(t,"targets",[i]),eventEmitter:uc(t,"eventEmitter",i),eventNamePrefix:uc(t,"inputEventPrefix","child.")},yB.call(i,t),SB.call(i,t),PB.call(i,t),wB.call(i,t),qB.call(i,t),tb.call(i,t),ib.call(i,t),i},sb=function(i){return sg(this,i),this},nb=function(){for(var i=this.getAllChildren([this]),t=0,n=i.length;t<n;t++){var m=i[t];m.emit.apply(m,arguments)}return this},dM={getSizerConfig:BI,getChildPrevState:bI,pushIntoBounds:GI,drawBounds:ZI,resolveWidth:Y0,resolveChildrenWidth:oD,resolveHeight:W0,postResolveSize:hD,getChildWidth:lD,getChildHeight:uD,getExpandedChildWidth:fD,getExpandedChildHeight:dD,getChildrenWidth:cD,getChildrenHeight:vD,addChildrenMap:Cx,addElement:Cx,removeChildrenMap:sD,getElement:nD,getAllChildrenSizers:pD,getChildrenSizers:gD,preLayout:Mh,layout:xD,runLayout:yD,layoutChildren:TD,runWidthWrap:tM,layoutBackgrounds:dB,postLayout:CD,setAnchor:SD,isInTouching:rB,pointToChild:hB,setDraggable:cB,setChildrenInteractive:sb,broadcastEvent:nb};Object.assign(dM,aD,QI,iD,Sh,K0,LD,DD,zD,XD,hM,pB,mB,YD,_0,mD);const Yr=Phaser.Utils.Objects.GetValue;class Sr extends di{constructor(t,n,m,C,M,h){super(t,n,m,1,1),this.isRexSizer=!0,this.setMinSize(C,M),this.setName(Yr(h,"name","")),this.rexSizer={},this.space={},this.backgroundChildren=void 0,this.sizerChildren=void 0,this.childrenMap={},this.layoutedChildren=void 0;var y=Yr(h,"anchor",void 0);y&&this.setAnchor(y),this.setInnerPadding(Yr(h,"space",0));var e=Yr(h,"draggable",!1);e&&this.setDraggable(e),this.setSizerEventsEnable(Yr(h,"sizerEvents",!1)),this.setDirty(!0),Yr(h,"enableLayer",!1)&&this.enableLayer()}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(t)for(var n=this.getAllChildrenSizers([this]),m=0,C=n.length;m<C;m++)n[m].sizerEventsEnable=!1;super.destroy(t),Fs(this.backgroundChildren),Fs(this.sizerChildren),this.childrenMap=void 0,this.space=void 0,this.rexSizer=void 0,this.layoutedChildren=void 0}}setMinSize(t,n){return this.setMinWidth(t).setMinHeight(n),this}setMinWidth(t){return t==null&&(t=0),this.minWidth=t,this}setMinHeight(t){return t==null&&(t=0),this.minHeight=t,this}setDirty(t){return t===void 0&&(t=!0),this.dirty=t,this}setSizerEventsEnable(t){return t===void 0&&(t=!0),this.sizerEventsEnable=t,this}get ignoreLayout(){return this.rexSizer.hidden||!this.dirty}get childrenWidth(){return this._childrenWidth===void 0&&(this._childrenWidth=this.getChildrenWidth()),this._childrenWidth}get childrenHeight(){return this._childrenHeight===void 0&&(this._childrenHeight=this.getChildrenHeight()),this._childrenHeight}get left(){return this.x-Nt(this)*this.originX}set left(t){this.x+=t-this.left}alignLeft(t){return this.left=t,this}get right(){return this.left+Nt(this)}set right(t){this.x+=t-this.right}alignRight(t){return this.right=t,this}get centerX(){return this.left+Nt(this)/2}set centerX(t){this.x+=t-this.centerX}alignCenterX(t){return this.centerX=t,this}get top(){return this.y-Lt(this)*this.originY}set top(t){this.y+=t-this.top}alignTop(t){return this.top=t,this}get bottom(){return this.top+Lt(this)}set bottom(t){this.y+=t-this.bottom}alignBottom(t){return this.bottom=t,this}get centerY(){return this.top+Lt(this)/2}set centerY(t){this.y+=t-this.centerY}alignCenterY(t){return this.centerY=t,this}get innerLeft(){return this.left+this.space.left}get innerRight(){return this.right-this.space.right}get innerTop(){return this.top+this.space.top}get innerBottom(){return this.bottom-this.space.bottom}get innerWidth(){return this.width-this.space.left-this.space.right}get innerHeight(){return this.height-this.space.top-this.space.bottom}get minInnerWidth(){var t=this.minWidth-this.space.left-this.space.right;return Math.max(t,0)}get minInnerHeight(){var t=this.minHeight-this.space.top-this.space.bottom;return Math.max(t,0)}}Object.assign(Sr.prototype,dM);var rb=function(){if(this.rexSizer.hidden)return 0;var i=0,t=this.sizerChildren,n,m,C;for(var M in t)n=t[M],m=n.rexSizer.padding,C=this.getChildWidth(n)+m.left+m.right,i=Math.max(C,i);return i+this.space.left+this.space.right},ab=function(){if(this.rexSizer.hidden)return 0;var i=0,t=this.sizerChildren,n,m,C;for(var M in t)n=t[M],C=n.isRexSizer?Math.max(n.minHeight,n.childrenHeight):n.minHeight!==void 0?n.minHeight:Lt(n),m=n.rexSizer.padding,C+=m.top+m.bottom,i=Math.max(C,i);return i+this.space.top+this.space.bottom},ob=function(i,t){t===void 0&&(t=this.width);var n,m=i.rexSizer;if(m.expandWidth){var C=t-this.space.left-this.space.right,M=m.padding;n=C-M.left-M.right}return n},hb=function(i,t){t===void 0&&(t=this.height);var n,m=i.rexSizer;if(m.expandHeight){var C=t-this.space.top-this.space.bottom,M=m.padding;n=C-M.top-M.bottom}return n},lb=function(i){i===void 0&&(i=[]);var t=this.sizerChildren,n;for(var m in t)n=t[m],n.isRexSizer&&i.push(n);return i},ng=function(i,t){i.width<i.childrenWidth&&console.warn(`Layout width error: Parent=${t.constructor.name}, Child=${i.constructor.name}`),i.height<i.childrenHeight&&console.warn(`Layout height error: Parent=${t.constructor.name}, Child=${i.constructor.name}`)},ub=function(){var i,t,n,m=this.innerLeft,C=this.innerTop,M=this.innerWidth,h=this.innerHeight,y,e,f,c,s,a,r=this.sizerChildren;for(var o in r)i=r[o],!i.rexSizer.hidden&&(t=i.rexSizer,n=t.padding,Eh.call(this,i),i.isRexSizer?(i.runLayout(this,this.getExpandedChildWidth(i),this.getExpandedChildHeight(i)),ng(i,this)):(s=void 0,a=void 0,t.expandWidth&&(s=M-n.left-n.right),t.expandHeight&&(a=h-n.top-n.bottom),Zi(i,s,a)),y=m+n.left,f=M-n.left-n.right,e=C+n.top,c=h-n.top-n.bottom,Ph.call(this,i,y,e,f,c,t.align,t.alignOffsetX,t.alignOffsetY))};const $x=Phaser.Utils.Objects.IsPlainObject,ts=Phaser.Utils.Objects.GetValue,Kx=Phaser.Display.Align.CENTER,fb=Phaser.Utils.String.UUID;var db=function(i,t,n,m,C,M,h,y,e){if(Th.call(this,i),$x(t)){var c=t;t=ts(c,"key",void 0),n=ts(c,"align",Kx),y=ts(c,"offsetX",0),e=ts(c,"offsetY",0),m=ts(c,"padding",0),C=ts(c,"expand",!0),i.isRexSizer||(M=ts(c,"minWidth",i._minWidth),h=ts(c,"minHeight",i._minHeighted))}var f=t!==void 0;f||(t=fb()),typeof n=="string"&&(n=yi[n]),n===void 0&&(n=Kx),y===void 0&&(y=0),e===void 0&&(e=0),m===void 0&&(m=0),C===void 0&&(C=!0),i.isRexSizer||(M===void 0&&(M=i._minWidth),h===void 0&&(h=i._minHeight));var c=this.getSizerConfig(i);return c.align=n,c.alignOffsetX=y,c.alignOffsetY=e,c.padding=ka(m),$x(C)?(c.expandWidth=ts(C,"width",!1),c.expandHeight=ts(C,"height",!1)):(c.expandWidth=C,c.expandHeight=C),i.isRexSizer||(c.expandWidth&&(i.minWidth=M===void 0?Nt(i):M),c.expandHeight&&(i.minHeight=h===void 0?Lt(i):h)),this.sizerChildren.hasOwnProperty(t)&&this.sizerChildren[t].destroy(),this.sizerChildren[t]=i,f&&this.addChildrenMap(t,i),this};const cb={add:db},vb=di.prototype.clear;var Mf=function(i){this.backgroundChildren&&(this.backgroundChildren.length=0);var t=!i&&this.sizerEventsEnable,n;if(t&&(n=this.getChildren([])),vb.call(this,i),t)for(var m,C=0,M=n.length;C<M;C++)m=n[C],m.emit("sizer.remove",m,this),this.emit("remove",m,this);return this};const pb={remove(i,t){var n;if(typeof i=="string"){if(n=i,i=this.sizerChildren[n],!i)return this}else{if(this.getParentSizer(i)!==this)return this;n=this.childToKey(i)}return n&&(delete this.sizerChildren[n],this.childrenMap.hasOwnProperty(n)&&delete this.childrenMap[n]),Ch.call(this,i,t),this},removeAll(i){for(var t in this.sizerChildren)this.remove(t,i);return this},clear(i){for(var t in this.sizerChildren)delete this.sizerChildren[t],this.childrenMap.hasOwnProperty(t)&&delete this.childrenMap[t];return Mf.call(this,i),this}};var cM={getChildrenWidth:rb,getChildrenHeight:ab,getExpandedChildWidth:ob,getExpandedChildHeight:hb,getChildrenSizers:lb,layoutChildren:ub};Object.assign(cM,cb,pb);var Ef=function(i,t){if(Array.isArray(i))return i.indexOf(t);for(var n in i)if(i[n]===t)return n;return null};const Zx=Phaser.Utils.Objects.IsPlainObject,Wr=Phaser.Utils.Objects.GetValue;class Li extends Sr{constructor(t,n,m,C,M,h){Zx(n)?(h=n,n=Wr(h,"x",0),m=Wr(h,"y",0),C=Wr(h,"width",void 0),M=Wr(h,"height",void 0)):Zx(C)&&(h=C,C=Wr(h,"width",void 0),M=Wr(h,"height",void 0)),super(t,n,m,C,M,h),this.type="rexOverlapSizer",this.sizerChildren={},this.addChildrenMap("items",this.sizerChildren)}childToKey(t){if(typeof t=="string"){var n=t;if(this.sizerChildren.hasOwnPropery(n))return n}else return Ef(this.sizerChildren,t);return null}}Object.assign(Li.prototype,cM);var gb=Phaser.Math.Distance.Between,Bu=function(i,t,n){var m=i.width/2;return gb(m,m,t,n)<=m};const mb=Phaser.Math.Angle.Between,xb=Phaser.Math.Angle.Normalize;var jx=function(i,t,n){if(this.enable&&i.isDown){var m=this.sizerChildren.knob;if(Bu(m,t,n)){var C=m.width/2,M=m.startAngle,h=mb(C,C,t,n),y=m.anticlockwise?M-h:h-M,e=xb(y)/(2*Math.PI);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-e)<.1?this.value=e:this.easeValueTo(e)}}},yb=function(){var i=this.sizerChildren.knob;i.on("pointerdown",jx,this).on("pointermove",jx,this).setInteractive()};const Jx=Phaser.Math.Angle.Between,Tb=Phaser.Math.Angle.Wrap;var Cb=function(i,t,n){if(!(!this.enable||this.panPointer)){var m=this.sizerChildren.knob;Bu(m,t,n)&&vM.call(this,i)}},Sb=function(i,t,n){if(this.enable&&i.isDown){var m=this.sizerChildren.knob;switch(this.panState){case rg:Bu(m,t,n)&&vM.call(this,i);break;case gM:Bu(m,t,n)?Eb.call(this):pM.call(this);break}}},Mb=function(i,t,n){!this.enable||this.panPointer!==i||pM.call(this)},vM=function(i){this.panPointer=i,this.panState=gM},pM=function(){this.panPointer=void 0,this.panState=rg},Eb=function(){var i=this.panPointer.prevPosition,t=this.panPointer.position,n=this.sizerChildren.knob,m=Jx(n.x,n.y,i.x,i.y),C=Jx(n.x,n.y,t.x,t.y),M=n.anticlockwise?m-C:C-m,h=Tb(M)/(Math.PI*2);this.stopEaseValue(),this.value+=h};const rg=0,gM=1;var Pb=function(){var i=this.sizerChildren.knob;i.on("pointerdown",Cb,this).on("pointermove",Sb,this).on("pointerup",Mb,this).setInteractive(),this.panPointer=void 0,this.panState=rg},Rb=function(i,t){return this.textFormatCallback=i,this.textFormatCallbackScope=t,this},mM=function(i){i===void 0&&(i=this.value);var t;return this.textFormatCallbackScope?t=this.textFormatCallback(i):t=this.textFormatCallback.call(this.textFormatCallbackScope,i),t},Ab=function(i){var t=this.sizerChildren.text;return t&&this.textFormatCallback&&(t.setText(mM.call(this,i)),t.layout&&t.layout()),this};const wb={setTextFormatCallback:Rb,getFormatText:mM,updateText:Ab},Bi=Phaser.Utils.Objects.GetValue,Ob=Phaser.Math.Snap.To;class ag extends Cr(Li){constructor(t,n){n===void 0&&(n={}),super(t,n),this.type="rexKnob",this.bootProgressBase(n);var m=Bi(n,"background",void 0),C=Bi(n,"text",void 0);m&&this.addBackground(m),C&&(n.textColor=void 0,n.textStrokeColor=void 0,this.setTextFormatCallback(Bi(n,"textFormatCallback",void 0),Bi(n,"textFormatCallbackScope",void 0)));var M=new df(t,n);M.setDepth(Bi(n,"knobDepth",0)),M._value=-1,t.add.existing(M),this.add(M,"knob"),C&&(this.add(C,"text","center",0,!1),t.children.moveBelow(M,C)),this.addChildrenMap("background",m),this.addChildrenMap("knob",M),this.addChildrenMap("text",C),this.setEnable(Bi(n,"enable",void 0)),this.setGap(Bi(n,"gap",void 0)),this.setValue(Bi(n,"value",0),Bi(n,"min",void 0),Bi(n,"max",void 0));var h=Bi(n,"input",0);switch(typeof h=="string"&&(h=Lb[h]),h){case 0:Pb.call(this);break;case 1:yb.call(this);break}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t){return this.gap=t,this}get value(){return this.sizerChildren.knob.value}set value(t){this.gap!==void 0&&(t=Ob(t,this.gap));var n=this.value;this.sizerChildren.knob.value=t;var m=this.value;n!==m&&(this.updateText(),this.eventEmitter.emit("valuechange",m,n,this.eventEmitter))}}const Lb={pan:0,drag:0,click:1,none:-1};Object.assign(ag.prototype,wb);at.register("knob",function(i){var t=new ag(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.Knob",ag);const Fb={arc:ff,circle:tp,curve:L7,ellipse:F7,line:I7,lines:Ta,rectangle:_7,roundRectangle:Fu,triangle:eF},Qx=Phaser.Utils.Objects.GetValue,Ib=Phaser.Utils.Objects.IsPlainObject,Db=function(){for(var i=this.getShapes(),t=0,n=i.length;t<n;t++)i[t].lineStyle().fillStyle()},Bb={createShape(i,t){var n=Fb[i],m=new n;return t&&m.setName(t),m},buildShapes(i){var t=Qx(i,"create",void 0);if(Ib(t)){var n=t;for(var m in n){var C=n[m];switch(typeof C){case"number":for(var M=0;M<C;M++)this.addShape(this.createShape(m));break;case"string":this.addShape(this.createShape(m,C));break;default:for(var h=C,M=0,y=h.length;M<y;M++)this.addShape(this.createShape(m,h[M]));break}}}else if(Array.isArray(t))for(var n=t,M=0,y=n.length;M<y;M++){var e=n[M];this.addShape(this.createShape(e.type,e.name))}else typeof t=="function"&&t.call(this);this.setUpdateShapesCallback(Qx(i,"update"))},setUpdateShapesCallback(i){return i===void 0&&(i=Db),this.dirty=this.dirty||this.updateCallback!==i,this.updateCallback=i,this},updateShapes(){this.updateCallback.call(this)}},qx=Phaser.GameObjects.Components.TransformMatrix,bb=Phaser.Math.TransformXY;var Gb=function(i,t,n,m,C){m===void 0&&(m=i.scene.cameras.main),C===void 0?C={}:C===!0&&(C=Nb);var M=m.scrollX,h=m.scrollY,y=t+M*i.scrollFactorX-M,e=n+h*i.scrollFactorY-h;return i.parentContainer?(Sl===void 0&&(Sl=new qx,_x=new qx),i.getWorldTransformMatrix(Sl,_x),Sl.applyInverse(y,e,C)):bb(y,e,i.x,i.y,i.rotation,i.scaleX,i.scaleY,C),C.x+=i.displayOriginX,C.y+=i.displayOriginY,C},Sl,_x,Nb={};const vo=Phaser.Utils.Objects.GetValue,Vb=Phaser.Utils.Objects.IsPlainObject;class Pf extends yr{constructor(t,n,m,C,M,h){Vb(n)&&(h=n,n=vo(h,"x",0),m=vo(h,"y",0),C=vo(h,"width",2),M=vo(h,"height",2)),super(t,n,m,C,M),this.type=vo(h,"type","rexCustomShapes"),this.buildShapes(h)}get centerX(){return this.width/2}get centerY(){return this.height/2}worldToLocalXY(t,n,m,C){return typeof m=="boolean"&&(C=m,m=void 0),Gb(this,t,n,m,C)}}Object.assign(Pf.prototype,Bb);at.register("customShapes",function(i,t,n,m,C){var M=new Pf(this.scene,i,t,n,m,C);return this.scene.add.existing(M),M});nt(window,"RexPlugins.UI.CustomShapes",Pf);const po=Phaser.Utils.Objects.GetValue,zb=Phaser.Utils.Objects.IsPlainObject;class Fn extends Cr(Pf){constructor(t,n,m,C,M,h){zb(n)&&(h=n,n=po(h,"x",0),m=po(h,"y",0),C=po(h,"width",2),M=po(h,"height",2)),h===void 0&&(h={}),h.type||(h.type="rexCustomProgress"),super(t,n,m,C,M,h),this.bootProgressBase(h),this.setValue(po(h,"value",0))}get centerX(){return this.width/2}get centerY(){return this.height/2}get radius(){return Math.min(this.centerX,this.centerY)}}at.register("customProgress",function(i,t,n,m,C){var M=new Fn(this.scene,i,t,n,m,C);return this.scene.add.existing(M),M});nt(window,"RexPlugins.UI.CustomProgress",Fn);const kb={setTransitionStartCallback(i,t){return this.onStartCallback=i,this.onStartCallbackScope=t,this},setTransitionProgressCallback(i,t){return this.onProgressCallback=i,this.onProgressCallbackScope=t,this},setTransitionCompleteCallback(i,t){return this.onCompleteCallback=i,this.onCompleteCallbackScope=t,this}},ty=Phaser.Utils.Objects.IsPlainObject,fc=Phaser.Utils.Objects.GetValue,Ub=Phaser.Utils.Array.GetRandom;var Xb={out:0,in:1},es=function(i,t,...n){for(var m=0,C=n.length;m<C;m++){var M=n[m];if(M&&M.hasOwnProperty(i))return M[i]}return t};const Yb={setTransitionDirection(i){return typeof i=="string"&&(i=Xb[i]),this.dir=i,this},setDuration(i){return this.duration=i,this},setEaseFunction(i){return this.easeFunction=i,this},setNextTexture(i,t){return this.nextImage.setTexture(i,t),this},transit(i,t,n){if(this.isRunning&&(this.ignoreCompleteEvent=!0,this.stop(),this.ignoreCompleteEvent=!1),n!==void 0&&(i={key:i,frame:t,mode:n}),this.currentTransitionMode=void 0,ty(i)){var m=i;i=fc(m,"key",void 0),t=fc(m,"frame",void 0),n=fc(m,"mode"),Array.isArray(n)&&(n=Ub(n));var C;this.transitionModes&&this.transitionModes.hasOwnProperty(n)&&(C=this.transitionModes[n],this.currentTransitionMode=n),this.setDuration(es("duration",this.duration,m,C)).setEaseFunction(es("ease",this.easeFunction,m,C)).setTransitionDirection(es("dir",this.dir,m,C));var M=es("mask",void 0,m,C);M&&this.setMaskGameObject(M),this.setMaskEnable(M===!0);var h=es("onStart",void 0,m,C),y=es("onProgress",void 0,m,C),e=es("onComplete",void 0,m,C);(h!==void 0||y!==void 0||e!==void 0)&&this.setTransitionStartCallback(h,es("onStartScope",void 0,m,C)).setTransitionProgressCallback(y,es("onProgressScope",void 0,m,C)).setTransitionCompleteCallback(e,es("onCompleteScope",void 0,m,C))}return this.setNextTexture(i,t),this.start(),this},addTransitionMode(i,t){return this.transitionModes===void 0&&(this.transitionModes={}),ty(i)&&(t=i,i=t.name,delete t.name),this.transitionModes[i]=t,this},start(){return this.easeValueTask===void 0&&(this.easeValueTask=new Tr(this,{eventEmitter:null})),this.easeValueTask.restart({key:"t",from:0,to:1,duration:this.duration,ease:this.easeFunction}),this},pause(){return this.easeValueTask&&this.easeValueTask.pause(),this},resume(){return this.easeValueTask&&this.easeValueTask.resume(),this},stop(){return this.easeValueTask&&this.easeValueTask.stop(),this.setT(1),this}};var ey=function(i,t,n,m,C){switch(this.clear().fillStyle(16777215),this.shape){case 1:var M=Math.min(i,t)/2;this.fillCircle(-i*(m-.5),-t*(C-.5),M+n);break;default:this.fillRect(-(i*m)-n,-(t*C)-n,i+2*n,t+2*n);break}};const Wb=Phaser.GameObjects.Graphics;class np extends Wb{constructor(t,n,m){n===void 0&&(n=0),typeof n=="string"&&(n=Hb[n]),m===void 0&&(m=0),super(t.scene),this.parent=t,this.shape=n,this.padding=m,this.setPosition().resize().setVisible(!1)}destroy(){return this.parent=void 0,super.destroy(),this}setPosition(t,n){var m=this.parent;return t===void 0&&(t=m.x),n===void 0&&(n=m.y),super.setPosition(t,n),this}resize(t,n,m){var C=this.parent;return t===void 0&&(t=C.width),n===void 0&&(n=C.height),m===void 0&&(m=this.padding),this.width===t&&this.height===n&&this.paddingSave===m?this:(this.width=t,this.height=n,this.originX=C.originX,this.originY=C.originY,this.paddingSave=m,ey.call(this,t,n,m,C.originX,C.originY),this)}setOrigin(t,n){n===void 0&&(n=t);var m=this.parent;return t===void 0&&(t=m.originX),n===void 0&&(n=m.originY),this.originX===t&&this.originY===n?this:(this.originX=t,this.originY=n,ey.call(this,this.width,this.height,this.paddingSave,t,n),this)}}const Hb={rectangle:0,circle:1},$b={setMaskGameObject(i){if(!i)return this.removeMaskGameObject(),this;if(this.maskGameObject){if(i===!0&&this.maskGameObject instanceof np)return this;if(this.maskGameObject===i)return this;this.removeMaskGameObject()}return i===!0&&(i=new np(this)),this.maskGameObject=i,this.maskGameObject.resize(this.width,this.height).setOrigin(this.originX,this.originY).setPosition(0,0).setScale(1).setVisible(!1),this.addLocal(this.maskGameObject),this.childrenMask=this.maskGameObject.createGeometryMask(),this},removeMaskGameObject(i){return i===void 0&&(i=!0),this.backImage.clearMask(),this.frontImage.clearMask(),this.childrenMask=void 0,this.remove(this.maskGameObject,i),this.maskGameObject=void 0,this},setImageMaskEnable(i,t,n){return t===void 0&&(t=!0),n===void 0&&(n=!1),t?(this.childrenMask||this.setMaskGameObject(!0),i.setMask(this.childrenMask),n&&this.childrenMask.setInvertAlpha()):i.clearMask(),this},setCurrentImageMaskEnable(i,t){return this.setImageMaskEnable(this.currentImage,i,t),this},setNextImageMaskEnable(i,t){return this.setImageMaskEnable(this.nextImage,i,t),this},setCellImagesMaskEnable(i,t){for(var n=this.getCellImages(),m=0,C=n.length;m<C;m++)this.setImageMaskEnable(n[m],i,t);return this},setMaskEnable(i,t){return this.setImageMaskEnable(this.backImage,i,t),this.setImageMaskEnable(this.frontImage,i,t),this.setCellImagesMaskEnable(i,t),this}};var Kb=function(i,t){t===void 0&&(t=",");var n;return i==="__BASE"?n=function(m,C){return`${m}${t}${C}`}:n=function(m,C){return`${i}_${m}${t}${C}`},n},Zb=function(i,t,n,m,C,M){n==null&&(n="__BASE"),M||(M=Kb(n,M));for(var h=i.sys.textures.get(t),y=typeof n=="object"?n:h.get(n),e=y.width,f=y.height,c,s,a,r=e/m,o=f/C,l=0,v=0,u=0;u<C;u++){l=0;for(var d=0;d<m;d++)a=M(d,u),c=l+y.cutX,s=v+y.cutY,h.add(a,0,c,s,r,o),l+=r;v+=o}return{getFrameNameCallback:M,cellWidth:r,cellHeight:o,columns:m,rows:C}};const ys=Phaser.Utils.Objects.GetValue,jb=Phaser.GameObjects.Image,Jb=Phaser.Utils.Objects.IsPlainObject,Qb=Phaser.Math.RotateAround;var qb=function(i,t,n,m){Jb(t)&&(m=t,t=ys(m,"columns",1),n=ys(m,"rows",1));var C=ys(m,"onCreateImage");if(!C){var M=ys(m,"ImageClass",jb);C=function(b,G,N){return new M(b,0,0,G,N)}}for(var h=ys(m,"originX",.5),y=ys(m,"originY",.5),e=ys(m,"add",!0),f=ys(m,"align",e),c=ys(m,"objectPool",void 0),s=i.scene,a=i.texture,r=i.frame,o=Zb(s,a,r,t,n),l=o.getFrameNameCallback,v=i.scaleX,u=i.scaleY,d=i.rotation,p=i.getTopLeft(),g=p.x,x=p.y,T=[],S=o.cellWidth*v,P=o.cellHeight*u,E=0;E<n;E++)for(var R=0;R<t;R++){var A,w=l(R,E);c&&c.length>0?A=c.pop().setTexture(a,w):A=C(s,a,w),e&&s.add.existing(A);var O=g+S*R,L=x+P*E,F=O+h*S,I=L+y*P;f&&(A.setOrigin(h,y).setPosition(F,I).setScale(v,u).setRotation(d),Qb(A,g,x,d)),T.push(A)}return T};const _b={gridCutImage(i,t,n,m){m===void 0&&(m={}),m.objectPool=this.imagesPool;for(var C=qb(i,t,n,m),M,h=0,y=C.length;h<y;h++)M=C[h],M.setVisible(!0),this.add(M);return this.cellImages=C,this.setChildLocalVisible(i,!1),C},gridCutCurrentImage(i,t,n){return this.gridCutImage(this.currentImage,i,t,n)},gridCutNextImage(i,t,n){return this.gridCutImage(this.nextImage,i,t,n)},getCellImages(){return this.cellImages},freeCellImages(){if(this.cellImages.length===0)return this;for(var i=this.cellImages[0].texture,t=this.cellImages,n,m,C=0,M=t.length;C<M;C++)n=t[C],this.setChildLocalAlpha(n,1).setChildLocalScale(n,1).setChildLocalVisible(n,!1),n.clearMask(),m=n.frame.name,n.setTexture(),i.remove(m);return this.imagesPool.push(...t),t.length=0,this}},xM={setFlipX(i){return this.flipX=i,this},setFlipY(i){return this.flipY=i,this},toggleFlipX(){return this.flipX=!this.flipX,this},toggleFlipY(){return this.flipY=!this.flipY,this},setFlip(i,t){return this.flipX=i,this.flipY=t,this},resetFlip(){return this.flipX=!1,this.flipY=!1,this}};var yM={};Object.assign(yM,kb,Yb,$b,_b,xM);var tG=function(i,t,n,m){},eG=function(i,t,n,m){i.setChildLocalAlpha(t,1-m).setChildLocalAlpha(n,m)},iG=function(i,t,n,m){i.setChildLocalAlpha(t,1)};const iy=Phaser.Utils.Objects.IsPlainObject,ce=Phaser.Utils.Objects.GetValue,sG=Phaser.Math.Clamp;class Rf extends di{constructor(t,n,m,C,M,h){iy(n)?(h=n,n=ce(h,"x",0),m=ce(h,"y",0),C=ce(h,"key",void 0),M=ce(h,"frame",void 0)):iy(M)&&(h=M,M=void 0);var y=ce(h,"back",void 0),e=ce(h,"front",void 0);y||(y=t.add.image(n,m,C,M)),e||(e=t.add.image(n,m,C,M));var f=ce(h,"width",e.width),c=ce(h,"height",e.height);super(t,n,m,f,c),this.type="rexTransitionImage",y.setVisible(!1),this.addMultiple([y,e]),this.backImage=y,this.frontImage=e,this.maskGameObject=void 0,this.cellImages=[],this.imagesPool=[],this.transitionModes=void 0,this.currentTransitionMode=void 0;var s=ce(h,"onStart",void 0),a=ce(h,"onProgress",void 0),r=ce(h,"onComplete",void 0),o=ce(h,"dir",0);s===void 0&&a===void 0&&r===void 0&&(s=tG,a=eG,r=iG,o=0),this.setTransitionStartCallback(s,ce(h,"onStartScope",void 0)).setTransitionProgressCallback(a,ce(h,"onProgressScope",void 0)).setTransitionCompleteCallback(r,ce(h,"onCompleteScope",void 0)).setTransitionDirection(o).setDuration(ce(h,"duration",1e3)).setEaseFunction(ce(h,"ease","Linear"));var l=ce(h,"mask",void 0);l&&this.setMaskGameObject(l),this.setMaskEnable(!1),this.ignoreCompleteEvent=!1}destroy(t){!this.scene||this.ignoreDestroy||(this.childrenMask&&(this.childrenMask.destroy(),this.childrenMask=void 0),this.backImage=void 0,this.frontImage=void 0,this.maskGameObject=void 0,this.cellImages.length=0,this.imagesPool.length=0,this.transitionModes=void 0,super.destroy(t),this.onStartCallback=void 0,this.onStartCallbackScope=void 0,this.onProgressCallback=void 0,this.onProgressCallbackScope=void 0,this.onCompleteCallback=void 0,this.onCompleteCallbackScope=void 0,this.easeValueTask=void 0)}get currentImage(){return this.dir===0?this.frontImage:this.backImage}get nextImage(){return this.dir===0?this.backImage:this.frontImage}get texture(){return this.nextImage.texture}get frame(){return this.nextImage.frame}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.backImage.setFlipX(t),this.frontImage.setFlipX(t))}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.backImage.setFlipY(t),this.frontImage.setFlipY(t))}get t(){return this._t}set t(t){if(t=sG(t,0,1),this._t!==t){this._t=t;var n=this.currentImage,m=this.nextImage;if(t===0&&(this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!0),dc(this.onStartCallback,this.onStartCallbackScope,this,n,m,t)),dc(this.onProgressCallback,this.onProgressCallbackScope,this,n,m,t),t===1){dc(this.onCompleteCallback,this.onCompleteCallbackScope,this,n,m,t);var C=m.texture.key,M=m.frame.name;this.frontImage.setTexture(C,M),this.backImage.setTexture(C,M),this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!1).setMaskEnable(!1).freeCellImages()}t===1&&!this.ignoreCompleteEvent&&this.emit("complete")}}setT(t){return this.t=t,this}get isRunning(){return this.easeValueTask?this.easeValueTask.isRunning:!1}setOrigin(t,n){return super.setOrigin(t,n),this.backImage.setOrigin(t,n),this.frontImage.setOrigin(t,n),this.maskGameObject&&this.maskGameObject.setOrigin(t,n),this}setTexture(t,n){return this.frontImage.setTexture(t,n),this.backImage.setTexture(t,n).setVisible(!1),this}}var dc=function(i,t,n,m,C,M){i&&(t?i.call(t,n,m,C,M):i(n,m,C,M))};Object.assign(Rf.prototype,yM);at.register("transitionImage",function(i,t,n,m,C){var M=new Rf(this.scene,i,t,n,m,C);return this.scene.add.existing(M),M});nt(window,"RexPlugins.UI.TransitionImage",Rf);const nG="slideLeft",rG="slideRight",aG="slideUp",oG="slideDown",hG="slideAwayLeft",lG="slideAwayRight",uG="slideAwayUp",fG="slideAwayDown",dG="pushLeft",cG="pushRight",vG="pushUp",pG="pushDown",gG="zoomOut",mG="zoomIn",xG="zoomInOut",yG="fade",TG="crossFade",CG="wipeLeft",SG="wipeRight",MG="wipeUp",EG="wipeDown",PG="irisOut",RG="irisIn",AG="pieOut",wG="pieIn",OG="blinds",LG="squares",FG="curtain",IG="pixellate";var DG=function(i){i.addTransitionMode(lG,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,n,m,C){},onProgress:function(t,n,m,C){var M=n.width*C;t.setChildLocalPosition(n,M,0)},onComplete:function(t,n,m,C){t.setChildLocalPosition(n,0,0)}}).addTransitionMode(hG,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,n,m,C){},onProgress:function(t,n,m,C){var M=n.width*-C;t.setChildLocalPosition(n,M,0)},onComplete:function(t,n,m,C){t.setChildLocalPosition(n,0,0)}}).addTransitionMode(fG,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,n,m,C){},onProgress:function(t,n,m,C){var M=n.height*C;t.setChildLocalPosition(n,0,M)},onComplete:function(t,n,m,C){t.setChildLocalPosition(n,0,0)}}).addTransitionMode(uG,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,n,m,C){},onProgress:function(t,n,m,C){var M=n.height*-C;t.setChildLocalPosition(n,0,M)},onComplete:function(t,n,m,C){t.setChildLocalPosition(n,0,0)}})},BG=function(i){i.addTransitionMode(rG,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,n,m,C){},onProgress:function(t,n,m,C){var M=m.width*(C-1);t.setChildLocalPosition(m,M,0)},onComplete:function(t,n,m,C){t.setChildLocalPosition(m,0,0)}}).addTransitionMode(nG,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,n,m,C){},onProgress:function(t,n,m,C){var M=m.width*(1-C);t.setChildLocalPosition(m,M,0)},onComplete:function(t,n,m,C){t.setChildLocalPosition(m,0,0)}}).addTransitionMode(oG,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,n,m,C){},onProgress:function(t,n,m,C){var M=m.height*(C-1);t.setChildLocalPosition(m,0,M)},onComplete:function(t,n,m,C){t.setChildLocalPosition(m,0,0)}}).addTransitionMode(aG,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,n,m,C){},onProgress:function(t,n,m,C){var M=m.height*(1-C);t.setChildLocalPosition(m,0,M)},onComplete:function(t,n,m,C){t.setChildLocalPosition(m,0,0)}})},bG=function(i){i.addTransitionMode(cG,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,n,m,C){},onProgress:function(t,n,m,C){var M=n.width*C;t.setChildLocalPosition(n,M,0);var M=m.width*(C-1);t.setChildLocalPosition(m,M,0)},onComplete:function(t,n,m,C){t.setChildLocalPosition(n,0,0),t.setChildLocalPosition(m,0,0)}}).addTransitionMode(dG,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,n,m,C){},onProgress:function(t,n,m,C){var M=n.width*-C;t.setChildLocalPosition(n,M,0);var M=m.width*(1-C);t.setChildLocalPosition(m,M,0)},onComplete:function(t,n,m,C){t.setChildLocalPosition(n,0,0),t.setChildLocalPosition(m,0,0)}}).addTransitionMode(pG,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,n,m,C){},onProgress:function(t,n,m,C){var M=n.height*C;t.setChildLocalPosition(n,0,M);var M=m.height*(C-1);t.setChildLocalPosition(m,0,M)},onComplete:function(t,n,m,C){t.setChildLocalPosition(n,0,0),t.setChildLocalPosition(m,0,0)}}).addTransitionMode(vG,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,n,m,C){},onProgress:function(t,n,m,C){var M=n.height*-C;t.setChildLocalPosition(n,0,M);var M=m.height*(1-C);t.setChildLocalPosition(m,0,M)},onComplete:function(t,n,m,C){t.setChildLocalPosition(n,0,0),t.setChildLocalPosition(m,0,0)}})},GG=function(i){i.addTransitionMode(gG,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,n,m,C){},onProgress:function(t,n,m,C){var M=1-C;t.setChildScale(n,M,M)},onComplete:function(t,n,m,C){t.setChildScale(n,1,1)}}).addTransitionMode(mG,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,n,m,C){},onProgress:function(t,n,m,C){var M=C;t.setChildScale(m,M,M)},onComplete:function(t,n,m,C){t.setChildScale(m,1,1)}}).addTransitionMode(xG,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,n,m,C){t.setChildVisible(m,!1)},onProgress:function(t,n,m,C){var M;C<.5?(M=1-C*2,t.setChildScale(n,M,M)):(n.visible&&t.setChildVisible(n,!1),m.visible||t.setChildVisible(m,!0),M=(C-.5)*2,t.setChildScale(m,M,M))},onComplete:function(t,n,m,C){t.setChildScale(n,1,1),t.setChildVisible(n,!0),t.setChildScale(m,1,1),t.setChildVisible(m,!0)}})},NG=function(i){i.addTransitionMode(yG,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,n,m,C){},onProgress:function(t,n,m,C){var M;C<.5?(m.visible&&t.setChildVisible(m,!1),C=cr(C),M=Math.floor(255*(1-C)),n.tint=(M<<16)+(M<<8)+M):(n.visible&&t.setChildVisible(n,!1),m.visible||t.setChildVisible(m,!0),C=cr(C),M=Math.floor(255*(1-C)),m.tint=(M<<16)+(M<<8)+M)},onComplete:function(t,n,m,C){n.tint=16777215,t.setChildVisible(n,!0),m.tint=16777215}}).addTransitionMode(TG,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,n,m,C){},onProgress:function(t,n,m,C){t.setChildLocalAlpha(n,1-C),t.setChildLocalAlpha(m,C)},onComplete:function(t,n,m,C){t.setChildLocalAlpha(n,1)}})},VG=function(i){var t=new Fn(i,{type:"Graphics",create:[{name:"rect",type:"rectangle"}],update:function(){var n=this.getShape("rect").fillStyle(16777215),m=1-this.value;switch(this.wipeMode){case"right":n.setSize(this.width*m,this.height).setTopLeftPosition(this.width-n.width,0);break;case"left":n.setSize(this.width*m,this.height).setTopLeftPosition(0,0);break;case"down":n.setSize(this.width,this.height*m).setTopLeftPosition(0,this.height-n.height);break;case"up":n.setSize(this.width,this.height*m).setTopLeftPosition(0,0);break}}});return t},zG=function(i){var t=VG(i.scene);i.once("destroy",function(){t.destroy()}).addTransitionMode(SG,{ease:"Linear",dir:"out",mask:t,onStart:function(n,m,C,M){n.setCurrentImageMaskEnable(!0),n.maskGameObject.wipeMode="right"},onProgress:function(n,m,C,M){n.maskGameObject.setValue(M)},onComplete:function(n,m,C,M){n.removeMaskGameObject(!1)}}).addTransitionMode(CG,{ease:"Linear",dir:"out",mask:t,onStart:function(n,m,C,M){n.setCurrentImageMaskEnable(!0),n.maskGameObject.wipeMode="left"},onProgress:function(n,m,C,M){n.maskGameObject.setValue(M)},onComplete:function(n,m,C,M){n.removeMaskGameObject(!1)}}).addTransitionMode(EG,{ease:"Linear",dir:"out",mask:t,onStart:function(n,m,C,M){n.setCurrentImageMaskEnable(!0),n.maskGameObject.wipeMode="down"},onProgress:function(n,m,C,M){n.maskGameObject.setValue(M)},onComplete:function(n,m,C,M){n.removeMaskGameObject(!1)}}).addTransitionMode(MG,{ease:"Linear",dir:"out",mask:t,onStart:function(n,m,C,M){n.setCurrentImageMaskEnable(!0),n.maskGameObject.wipeMode="up"},onProgress:function(n,m,C,M){n.maskGameObject.setValue(M)},onComplete:function(n,m,C,M){n.removeMaskGameObject(!1)}})},kG=function(i){var t=new Fn(i,{type:"Graphics",create:[{name:"rect",type:"rectangle"}],update:function(){this.getShape("rect").fillStyle(16777215).setSize(this.width*this.value,this.height*this.value).setCenterPosition(this.centerX,this.centerY)}});return t},UG=function(i){var t=kG(i.scene);i.once("destroy",function(){t.destroy()}).addTransitionMode(PG,{ease:"Linear",dir:"out",mask:t,onStart:function(n,m,C,M){n.setCurrentImageMaskEnable(!0,!0)},onProgress:function(n,m,C,M){n.maskGameObject.setValue(M)},onComplete:function(n,m,C,M){n.removeMaskGameObject(!1)}}).addTransitionMode(RG,{ease:"Linear",dir:"out",mask:t,onStart:function(n,m,C,M){n.setCurrentImageMaskEnable(!0)},onProgress:function(n,m,C,M){n.maskGameObject.setValue(1-M)},onComplete:function(n,m,C,M){n.removeMaskGameObject(!1)}})},XG=function(i){var t=new Fn(i,{type:"Graphics",create:[{name:"pie",type:"arc"}],update:function(){var n=Math.max(this.width,this.height)*2,m=90*this.value;this.getShape("pie").fillStyle(16777215).setCenterPosition(this.centerX,0).setRadius(n).setAngle(90-m,90+m).setPie()}});return t},YG=function(i){var t=XG(i.scene);i.once("destroy",function(){t.destroy()}).addTransitionMode(AG,{ease:"Linear",dir:"out",mask:t,onStart:function(n,m,C,M){n.setCurrentImageMaskEnable(!0,!0)},onProgress:function(n,m,C,M){n.maskGameObject.setValue(M)},onComplete:function(n,m,C,M){n.removeMaskGameObject(!1)}}).addTransitionMode(wG,{ease:"Linear",dir:"out",mask:t,onStart:function(n,m,C,M){n.setCurrentImageMaskEnable(!0)},onProgress:function(n,m,C,M){n.maskGameObject.setValue(1-M)},onComplete:function(n,m,C,M){n.removeMaskGameObject(!1)}})},WG=function(i,t){var n=new Fn(i,{type:"Graphics",create:{rectangle:t},update:function(){for(var m=this.getShapes(),C=this.width/t,M=0;M<t;M++)m[M].fillStyle(16777215).setSize(C*this.value,this.height).setTopLeftPosition(C*M,0)}});return n},HG=function(i){var t=WG(i.scene,10);i.once("destroy",function(){t.destroy()}).addTransitionMode(OG,{ease:"Linear",dir:"out",mask:t,onStart:function(n,m,C,M){n.setCurrentImageMaskEnable(!0,!0)},onProgress:function(n,m,C,M){n.maskGameObject.setValue(M)},onComplete:function(n,m,C,M){n.removeMaskGameObject(!1)}})},$G=function(i,t,n){var m=new Fn(i,{type:"Graphics",create:{rectangle:t*n},update:function(){for(var C=this.getShapes(),M=this.width/t,h=this.height/n,y=0;y<n;y++)for(var e=0;e<t;e++)C[e*n+y].fillStyle(16777215).setSize(M*this.value,h*this.value).setCenterPosition(M*(e+.5),h*(y+.5))}});return m},KG=function(i){var t=$G(i.scene,Math.ceil(i.width/40),Math.ceil(i.height/40));i.once("destroy",function(){t.destroy()}).addTransitionMode(LG,{ease:"Linear",dir:"out",mask:t,onStart:function(n,m,C,M){n.setCurrentImageMaskEnable(!0,!0)},onProgress:function(n,m,C,M){n.maskGameObject.setValue(M)},onComplete:function(n,m,C,M){n.removeMaskGameObject(!1)}})},ZG=function(i,t){var n=new Fn(i,{type:"Graphics",create:{lines:t},update:function(){for(var m=this.getShapes(),C=this.width/t,M=C/2,h=0;h<t;h++){var y=C*h,e=this.height*this.value,f=y+M;m[h].fillStyle(16777215).start(y,0).horizontalLineTo(e).arc(f,e,M,180,0,!0).horizontalLineTo(-e).lineTo(y,0).close()}}});return n},jG=function(i){var t=ZG(i.scene,10);i.once("destroy",function(){t.destroy()}).addTransitionMode(FG,{ease:"Linear",dir:"out",mask:t,onStart:function(n,m,C,M){n.setCurrentImageMaskEnable(!0,!0),n.setNextImageMaskEnable(!0,!0)},onProgress:function(n,m,C,M){M<.5?(C.visible&&n.setChildVisible(C,!1),M=cr(M),n.maskGameObject.setValue(M)):(m.visible&&n.setChildVisible(m,!1),C.visible||n.setChildVisible(C,!0),M=cr(M),n.maskGameObject.setValue(M))},onComplete:function(n,m,C,M){n.removeMaskGameObject(!1),n.setChildVisible(m,!0)}})},JG=function(i){i.addTransitionMode(IG,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,n,m,C){n.effect=n.preFX.addPixelate(0),m.effect=m.preFX.addPixelate(0)},onProgress:function(t,n,m,C){if(C<.5){C=cr(C);var M=Math.min(n.width,n.height)/5;n.effect.amount=Math.ceil(M*C)}else{n.visible&&t.setChildVisible(n,!1),C=cr(C);var M=Math.min(m.width,m.height)/5;m.effect.amount=Math.ceil(M*C)}},onComplete:function(t,n,m,C){n.preFX.remove(n.effect),delete n.effect,t.setChildVisible(n,!0),m.preFX.remove(m.effect),delete m.effect}})};const sy=[DG,BG,bG,GG,NG,UG,YG,zG,HG,KG,jG,JG];class TM extends Rf{constructor(t,n,m,C,M,h){super(t,n,m,C,M,h);for(var y=0,e=sy.length;y<e;y++)sy[y](this)}}at.register("transitionImagePack",function(i,t,n,m,C){var M=new TM(this.scene,i,t,n,m,C);return this.scene.add.existing(M),M});nt(window,"RexPlugins.UI.TransitionImagePack",TM);var QG=function(i,t,n){if(n===void 0?n={}:n===!0&&(n=qG),i.width<=t.width&&i.height<=t.height)return n.width=i.width,n.height=i.height,n;var m=i.width/i.height;n.width=Math.min(i.width,t.width),n.height=Math.min(i.height,t.height);var C=n.width/n.height;return C<m?n.height=n.width/m:C>m&&(n.width=n.height*m),n},qG={};const ny=Phaser.Utils.Objects.IsPlainObject,Hn=Phaser.Utils.Objects.GetValue;class og extends di{constructor(t,n,m,C,M,h){ny(n)?(h=n,n=Hn(h,"x",0),m=Hn(h,"y",0),C=Hn(h,"key",void 0),M=Hn(h,"frame",void 0)):ny(M)&&(h=M,M=void 0);var y=Hn(h,"image");y?y.setPosition(n,m).setOrigin(.5):(y=t.add.image(n,m,C,M),C===void 0&&y.setVisible(!1)),super(t,n,m,1,1),this.type="rexImageBox",this.add(y),this.image=y;var e=Hn(h,"width",y.width),f=Hn(h,"height",y.height);this.resize(e,f)}get texture(){return this.image.texture}get frame(){return this.image.frame}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.image.setFlipX(t))}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.image.setFlipY(t))}scaleImage(){var t=this.image,n=QG(t,{width:this.width,height:this.height},!0);return t.setDisplaySize(n.width,n.height),this.resetChildScaleState(t),this}resize(t,n){return super.resize(t,n),this.scaleImage(),this}setTexture(t,n){var m=this.image;return m.setTexture(t,n),t!==null?(this.setChildVisible(m,!0),this.scaleImage()):this.setChildVisible(m,!1),this}}Object.assign(og.prototype,xM);at.register("imageBox",function(i,t,n,m,C){var M=new og(this.scene,i,t,n,m,C);return this.scene.add.existing(M),M});nt(window,"RexPlugins.UI.ImageBox",og);at.register("fullWindowRectangle",function(i,t){var n=new J0(this.scene,i,t);return this.scene.add.existing(n),n});nt(window,"RexPlugins.UI.FullWindowRectangle",J0);at.register("cover",function(i){var t=new Q0(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.Cover",Q0);var hg=function(i,t){if(this.scene.sys.scale.autoRound&&(i=Math.floor(i),t=Math.floor(t)),this.width===i&&this.height===t)return this;var n=this.node.style;return n.width=`${i}px`,n.height=`${t}px`,this.updateSize(),this};const ry={id:["id",void 0],text:["value",void 0],maxLength:["maxLength",void 0],minLength:["minLength",void 0],placeholder:["placeholder",void 0],tooltip:["title",void 0],readOnly:["readOnly",!1],spellCheck:["spellcheck",!1],autoComplete:["autocomplete","off"]},ay={align:["textAlign",void 0],paddingLeft:["padding-left",void 0],paddingRight:["padding-right",void 0],paddingTop:["padding-top",void 0],paddingBottom:["padding-bottom",void 0],fontFamily:["fontFamily",void 0],fontSize:["font-size",void 0],color:["color","#ffffff"],backgroundColor:["backgroundColor","transparent"],border:["border",0],borderColor:["borderColor","transparent"],outline:["outline","none"],direction:["direction",void 0]},_G={input:"textchange",click:"click",dblclick:"dblclick",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",keydown:"keydown",keyup:"keyup",keypress:"keypress",compositionstart:"compositionStart",compositionend:"compositionEnd",compositionupdate:"compositionUpdate",focus:"focus",blur:"blur",select:"select"},oy=Phaser.Utils.Objects.GetValue;var CM=function(i,t,n,m){var C=oy(m,"preventDefault",!1),M=oy(m,"preTest");for(let h in n)t.addEventListener(h,function(y){(!M||M(i,h))&&i.emit(n[h],i,y),C&&y.preventDefault()})};const tN=Phaser.GameObjects.DOMElement,hy=Phaser.Utils.Objects.IsPlainObject,Ts=Phaser.Utils.Objects.GetValue;class Af extends tN{constructor(t,n,m,C,M,h){hy(n)?(h=n,n=Ts(h,"x",0),m=Ts(h,"y",0),C=Ts(h,"width",0),M=Ts(h,"height",0)):hy(C)&&(h=C,C=Ts(h,"width",0),M=Ts(h,"height",0)),h===void 0&&(h={});var y,e=Ts(h,"type","text");e==="textarea"?(y=document.createElement("textarea"),y.style.resize="none"):(y=document.createElement("input"),y.type=e),Lu(ry,h,y);var f=Ts(h,"style",void 0);f=Lu(ay,h,f);var c=y.style;for(var s in h)s in ry||s in ay||s in c&&(f[s]=h[s]);f["box-sizing"]="border-box",super(t,n,m,y,f),this.type="rexInputText",this.resize(C,M),CM(this,y,_G),DS(y),Ts(h,"selectAll",!1)&&this.selectAll(),this._isFocused=!1,this.on("focus",function(){this._isFocused=!0},this).on("blur",function(){this._isFocused=!1},this)}get text(){return this.node.value}set text(t){this.node.value=t}setText(t){return this.text=t,this}get maxLength(){return this.node.maxLength}set maxLength(t){this.node.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.node.minLength}set minLength(t){this.node.minLength=t}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node.placeholder=t}setPlaceholder(t){return this.placeholder=t,this}selectText(t,n){return t===void 0?this.node.select():this.node.setSelectionRange(t,n),this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node.selectionStart}get selectionEnd(){return this.node.selectionEnd}get selectedText(){var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node.selectionStart}set cursorPosition(t){this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node.title}set tooltip(t){this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.node.readOnly}set readOnly(t){this.node.readOnly=t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node.spellcheck}set spellCheck(t){this.node.spellcheck=t}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){return this.node.style.color}set fontColor(t){this.node.style.color=t}setFontColor(t){return this.fontColor=t,this}setStyle(t,n){return this.node.style[t]=n,this}getStyle(t){return this.node.style[t]}scrollToBottom(){return this.node.scrollTop=this.node.scrollHeight,this}setEnabled(t){return t===void 0&&(t=!0),this.node.disabled=!t,this}setBlur(){return this.node.blur(),this}setFocus(){return this.node.focus(),this}get isFocused(){return this._isFocused}}var eN={resize:hg};Object.assign(Af.prototype,eN);at.register("inputText",function(i){var t=new Af(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.InputText",Af);const ly=Phaser.Utils.Objects.GetValue;var iN=function(i){var t=document.createElement("input");t.type="file";var n=ly(i,"accept",""),m=ly(i,"multiple",!1);return t.setAttribute("accept",n),m?t.setAttribute("multiple",""):t.removeAttribute("multiple"),t},SM=function(i,t){return i===void 0&&(i=0),new Promise(function(n,m){setTimeout(function(){n(t)},i)})},MM=function({game:i,fileInput:t,closeDelay:n}){return lf(wa(i).events,"focus").then(function(){return SM(n)}).then(function(){var m={files:t.files};return Promise.resolve(m)})};const sN=Phaser.Utils.Objects.GetValue;var nN=function(i,t){var n=sN(t,"closeDelay",200),m=iN(t);return m.click(),MM({game:i,fileInput:m,closeDelay:n}).then(function(C){return m.remove(),Promise.resolve(C)})},EM=function(i){return this.setOrigin(i.originX,i.originY),this.setPosition(i.x,i.y),this.resize(i.displayWidth,i.displayHeight),this},rN=function(i,t,n){if(n===void 0)switch(t){case"image":case"svg":n="textures";break;case"animation":n="json";break;case"tilemapTiledJSON":case"tilemapCSV":n="tilemap";break;case"glsl":n="shader";break;default:n=t;break}i=wa(i);var m;return n==="textures"?m=i.textures:m=i.cache[n],m},PM=function(i,t,n,m,C,M){if(!(C===null||C===!1))if(Sn(C))C();else{var h=rN(i,n,C);h.exists(m)&&h.remove(m)}var y=i.load;if(M&&y.once(`filecomplete-${n}-${m}`,function(f,c,s){M(s)}),Sn(t))t();else{var e=window.URL.createObjectURL(t);y[n](m,e)}y.start()},aN=function(i,t,n,m,C){var M=this.scene;return PM(M,i,t,n,m,C),this},oN=function(i,t,n,m){var C=this.scene;return new Promise(function(M,h){var y=function(e){M(e)};PM(C,i,t,n,m,y)})};const RM={loadFile:aN,loadFilePromise:oN},hN=Phaser.GameObjects.DOMElement,uy=Phaser.Utils.Objects.IsPlainObject,is=Phaser.Utils.Objects.GetValue;class wf extends hN{constructor(t,n,m,C,M,h){uy(n)?(h=n,n=is(h,"x",0),m=is(h,"y",0),C=is(h,"width",0),M=is(h,"height",0)):uy(C)&&(h=C,C=is(h,"width",0),M=is(h,"height",0));var y=document.createElement("input");y.type="file";var e=y.style;e.display="none";var f=document.createElement("label");f.appendChild(y);var c=is(h,"style",void 0);super(t,n,m,f,c),this.type="rexFileChooser",this.resetFromJSON(h),this.resize(C,M);var s=this;y.onchange=function(){s.emit("change",s)},this.setCloseDelay(is(h,"closeDelay",200)),y.onclick=function(){MM({game:t,fileInput:y,closeDelay:s.closeDelay}).then(function(){s.emit("select",s)})}}resetFromJSON(t){return this.setAccept(is(t,"accept","")),this.setMultiple(is(t,"multiple",!1)),this}setAccept(t){return t===void 0&&(t=""),this.fileInput.setAttribute("accept",t),this}setMultiple(t){return t===void 0&&(t=!0),t?this.fileInput.setAttribute("multiple",""):this.fileInput.removeAttribute("multiple"),this}setCloseDelay(t){return t===void 0&&(t=200),this.closeDelay=t,this}get fileInput(){return this.node.children[0]}open(){return this.fileInput.click(),this}get files(){return this.fileInput.files}}var lN={resize:hg,syncTo:EM};Object.assign(wf.prototype,lN,RM);at.register("fileChooser",function(i){var t=new wf(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.FileChooser",wf);const uN={setDropEnable(i){return i===void 0&&(i=!0),this.dropEnable=i,this},toggleDropEnable(){return this.dropEnable=!this.dropEnable,this}},fN={addFilter(i,t){return this.filters||(this.filters={}),this.filters[i]=t,this},addFilters(i){this.filters||(this.filters={});for(var t in i)this.filters[t]=i[t];return this}};var AM={resize:hg,syncTo:EM};Object.assign(AM,uN,fN,RM);const dN={dragenter:"dragenter",dragleave:"dragleave",dragover:"dragover",drop:"drop"},cN=Phaser.GameObjects.DOMElement,fy=Phaser.Utils.Objects.IsPlainObject,Cs=Phaser.Utils.Objects.GetValue;class lg extends cN{constructor(t,n,m,C,M,h){fy(n)?(h=n,n=Cs(h,"x",0),m=Cs(h,"y",0),C=Cs(h,"width",0),M=Cs(h,"height",0)):fy(C)&&(h=C,C=Cs(h,"width",0),M=Cs(h,"height",0)),h===void 0&&(h={});var y=document.createElement("div"),e=Cs(h,"style",void 0);super(t,n,m,y,e),this.type="rexFileDropZone",this.resize(C,M),this._files=[],this.setDropEnable(Cs(h,"dropEnable",!0));var f=Cs(h,"filters");f&&this.addFilters(f),CM(this,y,dN,{preventDefault:!0,preTest(c){return c.dropEnable}}),this.on("drop",function(c,s){this._files=s.dataTransfer.files;var a=this._files;if(a&&this.filters)for(var r in this.filters){for(var o=this.filters[r],l=[],v=0,u=a.length;v<u;v++){var d=a[v];o(d,a)&&l.push(d)}l.length>0&&this.emit(`drop.${r}`,l)}},this)}get files(){return this._files}}Object.assign(lg.prototype,AM);at.register("fileDropZone",function(i){var t=new lg(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.FileDropZone",lg);var vN=function(i){if(!window.Chart){var t=`Can not find chartjs! Load chartjs in preload stage.
scene.load.script('chartjs', 'https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.8.0/Chart.min.js');`;return console.error(t),this}return this.chart&&this.chart.destroy(),this.chart=new Chart(this.context,pN(this,i)),this},pN=function(i,t){t===void 0&&(t={}),t.options===void 0&&(t.options={});var n=t.options;n.responsive=!1,n.maintainAspectRatio=!1,n.hasOwnProperty("devicePixelRatio")||(n.devicePixelRatio=1);var m=!1;n.animation===void 0?n.animation={}:n.animation===!1&&(m=!0,n.animation={});var C=n.animation;m&&(C.duration=0);var M=C.onProgress;C.onProgress=function(y){M&&M(y),i.needRedraw()};var h=C.onComplete;return C.onComplete=function(y){h&&h(y),i.needRedraw()},t},gN=function(i){if(this.chart!==void 0)if(typeof i=="string"){for(var t=this.chart.data.datasets,n,m=0,C=t.length;m<C;m++)if(n=t[m],n.label===i)return n}else return this.chart.data.datasets[i]},mN=function(i,t){var n=this.getChartDataset(i);if(n!==void 0){if(typeof t=="string"){var m=this.chart.data.labels;if(t=m.indexOf(t),t===-1)return}return n.data[t]}},xN=function(i,t,n){if(this.chart===void 0)return this;var m=this.getChartDataset(i);if(typeof t=="string"){var C=this.chart.data.labels;if(t=C.indexOf(t),t===-1)return this}return m.data[t]=n,this},yN=function(){return this.chart===void 0?this:(this.chart.update(),this)};let ug=class extends za{constructor(t,n,m,C,M,h){super(t,n,m,C,M),this.type="rexChart",this.chart=void 0,h!==void 0&&this.setChart(h)}destroy(t){this.scene&&(this.chart&&(this.chart.destroy(),this.chart=void 0),super.destroy(t))}resize(t,n){if(t===this.width&&n===this.height)return this;if(super.resize(t,n),this.chart){var m=this.chart;m.height=this.canvas.height,m.width=this.canvas.width,m.aspectRatio=m.height?m.width/m.height:null,m.update()}return this}};var TN={setChart:vN,getChartDataset:gN,getChartData:mN,setChartData:xN,updateChart:yN};Object.assign(ug.prototype,TN);at.register("chart",function(i,t,n,m,C){var M=new ug(this.scene,i,t,n,m,C);return this.scene.add.existing(M),M});nt(window,"RexPlugins.UI.Chart",ug);at.register("container",function(i,t,n,m,C){var M=new di(this.scene,i,t,n,m,C);return this.scene.add.existing(M),M});nt(window,"RexPlugins.UI.Container",di);var CN=function(i){if(this.rexSizer.hidden)return 0;i===void 0&&(i=!0);var t=0,n=this.sizerChildren,m,C,M;if(this.orientation===0)for(var h=this.space.item,y=!0,e=0,f=n.length;e<f;e++)m=n[e],!m.rexSizer.hidden&&(m.rexSizer.proportion===0||i?M=this.getChildWidth(m):M=0,C=m.rexSizer.padding,M+=C.left+C.right,y?y=!1:M+=h,t+=M);else for(var e=0,f=n.length;e<f;e++)m=n[e],m.hasOwnProperty("rexSizer")&&(m.rexSizer.hidden||(C=m.rexSizer.padding,M=this.getChildWidth(m)+C.left+C.right,t=Math.max(M,t)));return t+this.space.left+this.space.right},SN=function(i){if(this.rexSizer.hidden)return 0;i===void 0&&(i=!0);var t=0,n=this.sizerChildren,m,C,M;if(this.orientation===0)for(var h=0,y=n.length;h<y;h++)m=n[h],!m.rexSizer.hidden&&(C=m.rexSizer.padding,M=this.getChildHeight(m)+C.top+C.bottom,t=Math.max(M,t));else for(var e=this.space.item,f=!0,h=0,y=n.length;h<y;h++)m=n[h],m.hasOwnProperty("rexSizer")&&(m.rexSizer.hidden||(m.rexSizer.proportion===0||i?M=this.getChildHeight(m):M=0,C=m.rexSizer.padding,M+=C.top+C.bottom,f?f=!1:M+=e,t+=M));return t+this.space.top+this.space.bottom},MN=function(i,t){t===void 0&&(t=this.width);var n,m=i.rexSizer,C=m.padding;if(this.orientation===0)m.proportion>0&&this.proportionLength>0&&(n=m.proportion*this.proportionLength);else if(m.expand){var M=t-this.space.left-this.space.right;n=M-C.left-C.right}return n},EN=function(i,t){t===void 0&&(t=this.height);var n,m=i.rexSizer,C=m.padding;if(this.orientation===0){if(m.expand){var M=t-this.space.top-this.space.bottom;n=M-C.top-C.bottom}}else m.proportion>0&&this.proportionLength>0&&(n=m.proportion*this.proportionLength);return n},PN=function(i){i===void 0&&(i=[]);for(var t=this.sizerChildren,n,m=0,C=t.length;m<C;m++)n=t[m],n.isRexSizer&&i.push(n);return i},RN=function(){this.hasRatioFitChild=!1;for(var i=this.sizerChildren,t=0,n=i.length;t<n;t++){var m=i[t];m.rexSizer.hidden||m.rexSizer.fitRatio&&(Zi(m,1,1),this.hasRatioFitChild=!0)}return this._childrenProportion=void 0,this.proportionLength=void 0,Mh.call(this),this},AN=function(i,t){if(this.hasRatioFitChild){var n;this.orientation===0?n=t-this.getInnerPadding("top")-this.getInnerPadding("bottom"):i-this.getInnerPadding("left")-this.getInnerPadding("right");for(var m=this.sizerChildren,C,M,h=0,y=m.length;h<y;h++){var e=m[h];if(!e.rexSizer.hidden){var f=e.rexSizer.fitRatio;f&&(this.orientation===0?(M=n-this.getChildOuterPadding(e,"top")-this.getChildOuterPadding(e,"bottom"),C=M*f):(C=n-this.getChildOuterPadding(e,"top")-this.getChildOuterPadding(e,"bottom"),M=C/f),Zi(e,C,M),e.isRexSizer&&e.setMinSize(C,M))}}this.proportionLength=void 0,this._childrenWidth=void 0,this.resolveWidth(i,!0)}};const wN=Phaser.Math.Wrap;var ON=function(){for(var i=this.sizerChildren,t,n,m,C=this.innerLeft,M=this.innerTop,h=this.innerWidth,y=this.innerHeight,e=C,f=M,c,s,a,r,o,l,v,u=this.startChildIndex,d=0,p=i.length;d<p;d++)u===0?v=d:v=wN(d+u,0,p),this.rtl&&(v=p-v-1),t=i[v],!t.rexSizer.hidden&&(n=t.rexSizer,m=n.padding,Eh.call(this,t),t.isRexSpace?(o=0,l=0):(o=this.getExpandedChildWidth(t),l=this.getExpandedChildHeight(t)),t.isRexSizer?(t.runLayout(this,o,l),ng(t,this)):Zi(t,o,l),o===void 0&&(o=Nt(t)),l===void 0&&(l=Lt(t)),this.orientation===0?(c=e+m.left,n.proportion===0||this.proportionLength===0?a=o:a=n.proportion*this.proportionLength,s=f+m.top,r=y-m.top-m.bottom):(c=e+m.left,a=h-m.left-m.right,s=f+m.top,n.proportion===0||this.proportionLength===0?r=l:r=n.proportion*this.proportionLength),Ph.call(this,t,c,s,a,r,n.align),this.orientation===0?e+=a+m.left+m.right+this.space.item:f+=r+m.top+m.bottom+this.space.item)},LN=function(t){var t=Y0.call(this,t);if(this.proportionLength===void 0&&this.orientation===0){var n=t-this.childrenWidth;n>0?(n=t-this.getChildrenWidth(!1),this.proportionLength=n/this.childrenProportion):this.proportionLength=0}return t},FN=function(t){var t=W0.call(this,t);if(this.proportionLength===void 0&&this.orientation===1){var n=t-this.childrenHeight;n>0?(n=t-this.getChildrenHeight(!1),this.proportionLength=n/this.childrenProportion):this.proportionLength=0}return t};const IN=Phaser.GameObjects.Zone;class fg extends IN{constructor(t){super(t,0,0,1,1),this.isRexSpace=!0}}var DN=function(i,t){var n=this.sizerChildren;if(n.length===0)return-1;for(var m=-1,C=1/0,M=0,h=n.length;M<h;M++){var y=n[M],e;this.orientation===0?e=Math.abs(y.left-i):e=Math.abs(y.top-t),C>e&&(C=e,m=M)}var y=n[n.length-1],e;return this.orientation===0?e=Math.abs(y.right-i):e=Math.abs(y.bottom-t),C>e&&(C=e,m=M+1),m};const wM=Phaser.Utils.Objects.IsPlainObject,Ss=Phaser.Utils.Objects.GetValue,dy=Phaser.Display.Align.CENTER,BN={min:0,full:-1};var cc=function(i,t,n,m,C,M,h,y,e,f){Th.call(this,i);var c=i.isRexSpace,s=typeof t;if(t===null)return this;if(s!=="number"){if(s==="string")t=BN[t];else if(wM(t)){var a=t;t=Ss(a,"proportion",void 0),n=Ss(a,"align",dy),m=Ss(a,"padding",0),C=Ss(a,"expand",!1),M=Ss(a,"key",void 0),h=Ss(a,"index",void 0),i.isRexSizer||(y=Ss(a,"minWidth",void 0),e=Ss(a,"minHeight",void 0)),f=Ss(a,"fitRatio",0)}}typeof n=="string"&&(n=yi[n]),t===void 0&&(t=c?1:0),n===void 0&&(n=dy),m===void 0&&(m=0),C===void 0&&(C=!1),y===void 0&&(c?y=0:i.isRexSizer||(y=i._minWidth)),e===void 0&&(c?e=0:i.isRexSizer||(e=i._minHeight)),f===void 0&&(f=0);var a=this.getSizerConfig(i);return a.proportion=t,a.align=n,a.padding=ka(m),a.expand=C,a.fitRatio=t===0?f:0,h===void 0||h>=this.sizerChildren.length?this.sizerChildren.push(i):this.sizerChildren.splice(h,0,i),i.isRexSizer||(t>0&&(this.orientation===0?i.minWidth=y===void 0?Nt(i):y:i.minHeight=e===void 0?Lt(i):e),C&&(this.orientation===0?i.minHeight=e:i.minWidth=y)),M!==void 0&&this.addChildrenMap(M,i),this};const bN={add:cc,addSpace(i){return this.insertSpace(void 0,i),this},insertSpace(i,t){return t===void 0&&(t=1),cc.call(this,new fg(this.scene),{proportion:t,minWidth:0,minHeight:0,index:i}),this},insert(i,t,n,m,C,M,h,y){return wM(n)&&(n.index=i),cc.call(this,t,n,m,C,M,h,i,y),this},insertAtPosition(i,t,n,m,C,M,h,y,e){var f=DN.call(this,i,t);return f===-1&&(f=void 0),this.insert(f,n,m,C,M,h,y,e),this}},GN=Phaser.Utils.Array.Remove,NN={remove(i,t){return this.getParentSizer(i)!==this?this:(GN(this.sizerChildren,i),Ch.call(this,i,t),this)},removeAll(i){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],i);return this},clear(i){return this.sizerChildren.length=0,Mf.call(this,i),this}},VN={getChildAlign(i){return this.getSizerConfig(i).align},setChildAlign(i,t){return typeof t=="string"&&(t=yi[t]),this.getSizerConfig(i).align=t,this}},zN={getChildProportion(i){return this.getSizerConfig(i).proportion},setChildProportion(i,t){return this.getSizerConfig(i).proportion=t,this}},kN={getChildExpand(i){return this.getSizerConfig(i).expand},setChildExpand(i,t){return this.getSizerConfig(i).expand=t,this}};var OM={getChildrenWidth:CN,getChildrenHeight:SN,getExpandedChildWidth:MN,getExpandedChildHeight:EN,getChildrenSizers:PN,preLayout:RN,postResolveSize:AN,layoutChildren:ON,resolveWidth:LN,resolveHeight:FN};Object.assign(OM,bN,NN,VN,zN,kN);var UN=function(){for(var i=0,t=this.sizerChildren,n,m,C=0,M=t.length;C<M;C++)n=t[C],!n.rexSizer.hidden&&(m=n.rexSizer.proportion,m>0&&(i+=m));return i},XN={x:0,h:0,horizontal:0,"left-to-right":0,y:1,v:1,vertical:1,"top-to-bottom":1},Of=function(i){return typeof i=="string"&&(i=XN[i]),i};const vc=Phaser.Utils.Objects.IsPlainObject,pi=Phaser.Utils.Objects.GetValue;class Ot extends Sr{constructor(t,n,m,C,M,h,y){vc(n)?(y=n,n=pi(y,"x",0),m=pi(y,"y",0),C=pi(y,"width",void 0),M=pi(y,"height",void 0),h=pi(y,"orientation",0)):vc(C)?(y=C,C=pi(y,"width",void 0),M=pi(y,"height",void 0),h=pi(y,"orientation",0)):vc(h)&&(y=h,h=pi(y,"orientation",0)),h===void 0&&(h=0),super(t,n,m,C,M,y),this.type="rexSizer",this.sizerChildren=[],this.setOrientation(h),this.setItemSpacing(pi(y,"space.item",0)),this.setStartChildIndex(pi(y,"startChildIndex",0)),this.setRTL(pi(y,"rtl",!1)),this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=Of(t),this}setItemSpacing(t){return this.space.item=t,this}setStartChildIndex(t){return this.startChildIndex=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get childrenProportion(){return this._childrenProportion===void 0&&(this._childrenProportion=UN.call(this)),this._childrenProportion}}Object.assign(Ot.prototype,OM);at.register("sizer",function(i,t,n,m,C,M){var h=new Ot(this.scene,i,t,n,m,C,M);return this.scene.add.existing(h),h});nt(window,"RexPlugins.UI.Sizer",Ot);var LM=function(){return Array.prototype.reduce.call(arguments,YN,0)},YN=function(i,t){return i+t},WN=function(i){if(this.rexSizer.hidden)return 0;i===void 0&&(i=!0);for(var t=0,n,m=this.sizerChildren,C,M,h,y,e=0;e<this.columnCount;e++){if(y=this.columnProportions[e],n=0,y===0||i){for(var f=0;f<this.rowCount;f++)C=m[f*this.columnCount+e],C&&(C.rexSizer.hidden||(M=C.rexSizer.padding,h=this.getChildWidth(C)+M.left+M.right,n=Math.max(n,h)));t+=n}this.columnWidth[e]=n}var c=this.space,s=Math.max(c.indentLeftOdd,c.indentLeftEven);return t+LM(c.left,s,...c.column,c.right)},HN=function(i){if(this.rexSizer.hidden)return 0;i===void 0&&(i=!0);for(var t=0,n,m=this.sizerChildren,C,M,h,y,e=0;e<this.rowCount;e++){if(y=this.rowProportions[e],n=0,y===0||i){for(var f=0;f<this.columnCount;f++)C=m[e*this.columnCount+f],C&&(C.rexSizer.hidden||(h=C.isRexSizer?Math.max(C.minHeight,C.childrenHeight):C.hasOwnProperty("minHeight")?C.minHeight:Lt(C),M=C.rexSizer.padding,h+=M.top+M.bottom,n=Math.max(n,h)));t+=n}this.rowHeight[e]=n}var c=this.space,s=Math.max(c.indentTopOdd,c.indentTopEven);return t+LM(c.top,s,...c.row,c.bottom)},$N=function(i,t){var n,m=i.rexSizer;if(m.expand){var C=m.padding;n=t-C.left-C.right}return n},KN=function(i,t){var n,m=i.rexSizer;if(m.expand){var C=m.padding;n=t-C.top-C.bottom}return n},ZN=function(i){i===void 0&&(i=[]);for(var t=this.sizerChildren,n,m=0,C=t.length;m<C;m++)n=t[m],n&&n.isRexSizer&&i.push(n);return i},jN=function(){return this._totalColumnProportions=void 0,this._totalRowProportions=void 0,this.proportionWidthLength=void 0,this.proportionHeightLength=void 0,Mh.call(this),this},JN=function(){for(var i,t,n,m=this.innerLeft,C=this.innerTop,M,h=C,y,e,f,c,s,a,r=this.space.column,o=this.space.row,l=this.space.indentLeftOdd,v=this.space.indentLeftEven,u=this.space.indentTopOdd,d=this.space.indentTopEven,p,g,x,T,S=0;S<this.rowCount;S++){g=this.getRowHeight(S),x=S%2?v:l,M=m+x;for(var P=0;P<this.columnCount;P++){if(p=this.getColumnWidth(P),i=this.getChildAt(P,S),!i||i.rexSizer.hidden){M+=p+r[P];continue}Eh.call(this,i),s=this.getExpandedChildWidth(i,p),a=this.getExpandedChildHeight(i,g),i.isRexSizer?(i.runLayout(this,s,a),ng(i,this)):Zi(i,s,a),t=i.rexSizer,n=t.padding,y=M+n.left,f=p-n.left-n.right,T=P%2?d:u,e=h+T+n.top,c=g-n.top-n.bottom,Ph.call(this,i,y,e,f,c,t.align),M+=p+r[P]}h+=g+o[S]}},QN=function(t){var t=Y0.call(this,t);if(this.proportionWidthLength===void 0){var n=this.totalColumnProportions;if(n>0){var m=t-this.getChildrenWidth(!1);m>=0&&(this.proportionWidthLength=m/n)}else this.proportionWidthLength=0}return t},qN=function(t){var t=W0.call(this,t);if(this.proportionHeightLength===void 0){var n=this.totalRowProportions;if(n>0){var m=t-this.getChildrenHeight(!1);m>=0&&(this.proportionHeightLength=m/n)}else this.proportionHeightLength=0}return t},_N=function(i){var t,n,m;for(var C in this.sizerChildren)t=this.sizerChildren[C],t&&t.isRexSizer&&!t.ignoreLayout&&(m=this.getColumnWidth(parseInt(C)%this.columnCount),n=this.getExpandedChildWidth(t,m),n=t.resolveWidth(n),t.resolveChildrenWidth(n))},tV=function(i){var t,n,m;for(var C in this.sizerChildren)t=this.sizerChildren[C],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(m=this.getColumnWidth(parseInt(C)%this.columnCount),n=this.getExpandedChildWidth(t,m),t.isRexSizer&&(n=t.resolveWidth(n)),t.runWidthWrap(n));return this};const eV=Phaser.Utils.Objects.IsPlainObject,Hr=Phaser.Utils.Objects.GetValue,cy=Phaser.Display.Align.CENTER;var vy=function(i,t,n,m,C){if(typeof i=="number"||typeof t=="number")if(i===void 0){for(var M,h=0;h<m;h++)if(M=t*m+h,!n[M])return M}else if(t===void 0){for(var M,h=0;h<C;h++)if(M=h*m+i,!n[M])return M}else{var M=t*m+i;if(!n[M])return M}else if(t===!0){for(var M,h=0;h<m;h++)for(var y=0;y<C;y++)if(M=y*m+h,!n[M])return M}else for(var h=0,e=n.length;h<e;h++)if(!n[h])return h;return null},iV=function(i,t,n,m,C,M,h){if(Th.call(this,i),eV(t)){var e=t;t=Hr(e,"column",void 0),n=Hr(e,"row",void 0),m=Hr(e,"align",cy),C=Hr(e,"padding",0),M=Hr(e,"expand",!1),h=Hr(e,"key",void 0)}var y=vy(t,n,this.sizerChildren,this.columnCount,this.rowCount);if(y===null){if(typeof t=="number"&&typeof n=="number")return this;n===!0||typeof n=="number"?this.addEmptyColumn():this.addEmptyRow(),y=vy(t,n,this.sizerChildren,this.columnCount,this.rowCount)}typeof m=="string"&&(m=yi[m]),m===void 0&&(m=cy),C===void 0&&(C=0),M===void 0&&(M=!0);var e=this.getSizerConfig(i);return e.align=m,e.padding=ka(C),e.expand=M,this.sizerChildren[y]=i,h!==void 0&&this.addChildrenMap(h,i),this};const sV={add:iV};var qr=function(i,t,n,m){n===void 0&&(n=0),m===void 0&&(m=i.length-1);for(var C=n;C<=m;C++)i[C]=t;return i};const nV={remove(i,t){if(this.getParentSizer(i)!==this)return this;var n=this.sizerChildren.indexOf(i);return n!==-1&&(this.sizerChildren[n]=null),Ch.call(this,i,t),this},removeAt(i,t,n){var m=this.getChildAt(i,t);return m&&this.remove(m,n),this},removeAll(i){for(var t=this.sizerChildren.length-1;t>=0;t--){var n=this.sizerChildren[t];n&&this.remove(n,i)}return this},clear(i){return qr(this.sizerChildren,null),Mf.call(this,i),this}},py=Phaser.Utils.Objects.GetValue;var rV=function(i,t,n,m,C){if(n===void 0&&(n=0),m===void 0&&(m=0),this.columnCount=i,this.rowCount=t,this.gridCount=i*t,this.sizerChildren===void 0?this.sizerChildren=[]:this.removeAll(),this.sizerChildren.length=i*t,qr(this.sizerChildren,null),this.columnProportions=[],this.columnProportions.length=i,typeof n=="number")qr(this.columnProportions,n);else for(var M=0;M<i;M++)this.columnProportions[M]=n[M]||0;if(this.rowProportions=[],this.rowProportions.length=t,typeof m=="number")qr(this.rowProportions,m);else for(var M=0;M<t;M++)this.rowProportions[M]=m[M]||0;this.columnWidth=[],this.columnWidth.length=i,this.rowHeight=[],this.rowHeight.length=t,this.space.column=[],this.space.column.length=i-1;var h=py(C,"column",0);if(typeof h=="number")qr(this.space.column,h);else for(var M=0,y=this.space.column.length;M<y;M++)this.space.column[M]=h[M]||0;this.space.row=[],this.space.row.length=t-1;var e=py(C,"row",0);if(typeof e=="number")qr(this.space.row,e);else for(var M=0,y=this.space.row.length;M<y;M++)this.space.row[M]=e[M]||0;return this},FM=function(i,t,n){t===void 0&&(t=this.rowProportions[0]||0),n===void 0&&(n=this.space.row[0]||0),this.rowCount+=1,this.gridCount+=this.columnCount;for(var m=[i*this.columnCount,0],C=0;C<this.columnCount;C++)m.push(null);return this.sizerChildren.splice.apply(this.sizerChildren,m),this.rowProportions.push(t),this.rowHeight.length+=1,this.space.row.splice(i,0,n),this},aV=function(i,t){return FM.call(this,this.rowCount,i,t),this},IM=function(i,t,n){t===void 0&&(t=this.columnProportions[0]||0),n===void 0&&(n=this.space.column[0]||0),this.columnCount+=1,this.gridCount+=this.rowCount;for(var m=this.rowCount-1;m>=0;m--){var C=m*this.columnCount+i;this.sizerChildren.splice(C,0,null)}return this.columnProportions.push(t),this.columnWidth.length+=1,this.space.column.splice(i,0,n),this},oV=function(i,t){return IM.call(this,this.columnCount,i,t),this},DM={getChildrenWidth:WN,getChildrenHeight:HN,getExpandedChildWidth:$N,getExpandedChildHeight:KN,getChildrenSizers:ZN,preLayout:jN,layoutChildren:JN,resolveWidth:QN,resolveHeight:qN,resolveChildrenWidth:_N,runWidthWrap:tV,resetGrid:rV,inseryEmptyRow:FM,addEmptyRow:aV,insertEmptyColumn:IM,addEmptyColumn:oV};Object.assign(DM,sV,nV);var hV=function(){for(var i=0,t,n=0;n<this.columnCount;n++)t=this.columnProportions[n],t>0&&(i+=t);return i},lV=function(){for(var i=0,t,n=0;n<this.rowCount;n++)t=this.rowProportions[n],t>0&&(i+=t);return i};const Ml=Phaser.Utils.Objects.IsPlainObject,Ut=Phaser.Utils.Objects.GetValue;class In extends Sr{constructor(t,n,m,C,M,h,y,e,f,c){Ml(n)?(c=n,n=Ut(c,"x",0),m=Ut(c,"y",0),C=Ut(c,"width",void 0),M=Ut(c,"height",void 0),h=Ut(c,"column",c.col||0),y=Ut(c,"row",0),e=Ut(c,"columnProportions",0),f=Ut(c,"rowProportions",0)):Ml(C)?(c=C,C=Ut(c,"width",void 0),M=Ut(c,"height",void 0),h=Ut(c,"column",c.col||0),y=Ut(c,"row",0),e=Ut(c,"columnProportions",0),f=Ut(c,"rowProportions",0)):Ml(h)?(c=h,h=Ut(c,"column",c.col||0),y=Ut(c,"row",0),e=Ut(c,"columnProportions",0),f=Ut(c,"rowProportions",0)):Ml(e)&&(c=e,e=Ut(c,"columnProportions",0),f=Ut(c,"rowProportions",0)),super(t,n,m,C,M,c),this.type="rexGridSizer",this.resetGrid(h,y,e,f,Ut(c,"space",void 0)),this.setIndentLeft(Ut(c,"space.indentLeftOdd",0),Ut(c,"space.indentLeftEven",0)),this.setIndentTop(Ut(c,"space.indentTopOdd",0),Ut(c,"space.indentTopEven",0)),this.addChildrenMap("items",this.sizerChildren);var s=Ut(c,"createCellContainerCallback");if(s)for(var m=0,a=this.rowCount;m<a;m++)for(var n=0,r=this.columnCount;n<r;n++){var o={column:n,row:m},l=s(t,n,m,o);l&&this.add(l,o)}}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.columnProportions=void 0,this.rowProportions=void 0,this.columnWidth=void 0,this.rowHeight=void 0)}setIndentLeft(t,n){return this.space.indentLeftOdd=t,this.space.indentLeftEven=n,this}setIndentTop(t,n){return this.space.indentTopOdd=t,this.space.indentTopEven=n,this}setColumnProportion(t,n){return t>=this.columnProportions.length?this:(this.columnProportions[t]=n,this)}setRowProportion(t,n){return t>=this.rowProportions.length?this:(this.rowProportions[t]=n,this)}get totalColumnProportions(){return this._totalColumnProportions===void 0&&(this._totalColumnProportions=hV.call(this)),this._totalColumnProportions}get totalRowProportions(){return this._totalRowProportions===void 0&&(this._totalRowProportions=lV.call(this)),this._totalRowProportions}getChildAt(t,n){return this.sizerChildren[n*this.columnCount+t]}childToGridIndex(t,n){if(!t)return null;var m=this.sizerChildren.indexOf(t);return m===-1?null:(n===void 0&&(n={}),n.x=m%this.columnCount,n.y=Math.floor(m/this.columnCount),n)}getColumnWidth(t){var n=this.columnProportions[t],m=n===0?this.columnWidth[t]:n*this.proportionWidthLength;return m}getRowHeight(t){var n=this.rowProportions[t],m=n===0?this.rowHeight[t]:n*this.proportionHeightLength;return m}}Object.assign(In.prototype,DM);at.register("gridSizer",function(i,t,n,m,C,M,h,y,e){var f=new In(this.scene,i,t,n,m,C,M,h,y,e);return this.scene.add.existing(f),f});nt(window,"RexPlugins.UI.GridSizer",In);var uV=function(){return this.rexSizer.hidden?0:this.maxChildWidth+this.space.left+this.space.right},fV=function(){return this.rexSizer.hidden?0:this.widthWrapResult.height+this.space.top+this.space.bottom},dV=function(i){i===void 0&&(i=[]);for(var t=this.sizerChildren,n,m=0,C=t.length;m<C;m++)n=t[m],n!==`
`&&n.isRexSizer&&i.push(n);return i},cV=function(){return this._maxChildWidth=void 0,this._maxChildHeight=void 0,Mh.call(this),this},vV=function(){for(var i=this.innerWidth,t=this.justifyPercentage,n=this.space.item,m=this.space.line,C=this.space.indentLeftOdd,M=this.space.indentLeftEven,h=this.space.indentTopOdd,y=this.space.indentTopEven,e,f,c,s=0,a,r,o=this.innerLeft,l=this.innerTop,v,u,d,p,g=this.widthWrapResult.lines,x,T,S,P,E=l,R=0,A=g.length;R<A;R++){switch(x=g[R],T=x.children,this.rtl&&T.reverse(),a=R%2?M:C,P=o+a,S=i-x.width,this.align){case 0:break;case 1:P+=S;break;case 2:P+=S/2;break;case 3:s=pc(i,S,t,T.length);break;case 4:s=pc(i,S,t,T.length),s===0&&(P+=S);break;case 5:s=pc(i,S,t,T.length),s===0&&(P+=S/2);break}for(var w=!0,O=0,L=T.length;O<L;O++)e=T[O],!e.rexSizer.hidden&&(f=e.rexSizer,c=f.padding,Eh.call(this,e),v=P+c.left,w?w=!1:v+=n,r=O%2?y:h,u=E+r+c.top,d=Nt(e),p=Lt(e),P=v+d+c.right+s,Ph.call(this,e,v,u,d,p,f.align));E+=x.height+m}},pc=function(i,t,n,m){return t/i<=n?t/(m-1):0},pV=function(i,t){t===void 0?t={lines:[],width:0,height:0}:(t.lines.length=0,t.width=0,t.height=0);for(var n=this.sizerChildren,m=this.space.item,C=this.space.line,M=this.space.indentLeftOdd,h=this.space.indentLeftEven,y=this.space.indentTopOdd,e=this.space.indentTopEven,f,c,s,a=0,r,o=t.lines,l=void 0,v,u=0,d=n.length;u<d;u++){if(f=n[u],f===`
`)f=void 0,c=0,v=!0;else{if(f.rexSizer.hidden)continue;f.isRexSizer&&f.layout(),c=gV(f),v=a<c||l===void 0}if(v){l&&(l.width=i-(a+m),t.width=Math.max(t.width,l.width),t.height+=l.height+C),l={children:[],height:0},o.push(l);var r=o.length%2?M:h;a=i-r}a-=c+m,f&&(l.children.push(f),s=mV(f),l.height=Math.max(l.height,s))}return l&&(l.width=i-(a+m),t.width=Math.max(t.width,l.width),t.height+=l.height),t.height+=Math.max(y,e),t},gV=function(i){var t=i.rexSizer.padding;return Nt(i)+t.left+t.right},mV=function(i){var t=i.rexSizer.padding;return Lt(i)+t.top+t.bottom},xV=function(i){var t=i-this.space.left-this.space.right;this.widthWrapResult=pV.call(this,t,this.widthWrapResult),tM.call(this,i)};const gy=Phaser.Math.Distance.Between;var yV=function(i,t){var n=this.sizerChildren;if(n.length===0)return-1;for(var m=-1,C=1/0,M=0,h=n.length;M<h;M++){var y=n[M];if(!(Math.abs(y.centerY-t)>y.height/2)){var f=gy(y.left,y.centerY,i,t);C>f&&(C=f,m=M);var e=n[M+1];if(!(e&&e.y===y.y)){var f=gy(y.right,y.centerY,i,t);C>f&&(C=f,m=M+1)}}}return m};const TV=Phaser.Utils.Objects.IsPlainObject,gc=Phaser.Utils.Objects.GetValue,CV=Phaser.Display.Align.CENTER;var mc=function(i,t,n,m){if(i===`
`)return this.addNewLine(),this;if(Th.call(this,i),TV(t)){var C=t;t=gc(C,"padding",0),n=gc(C,"key",void 0),m=gc(C,"index",void 0)}t===void 0&&(t=0);var C=this.getSizerConfig(i);return C.align=CV,C.padding=ka(t),m===void 0||m>=this.sizerChildren.length?this.sizerChildren.push(i):this.sizerChildren.splice(m,0,i),n!==void 0&&this.addChildrenMap(n,i),this};const SV={add(i,t,n){if(Ki(i))for(var m=i,C=0,M=m.length;C<M;C++)mc.call(this,m[C],t);else mc.call(this,i,t,n);return this},addNewLine(){return this.sizerChildren.push(`
`),this},insert(i,t,n,m){return mc.call(this,t,n,m,i),this},insertAtPosition(i,t,n,m,C){var M=yV.call(this,i,t);return M===-1&&(M=void 0),this.insert(M,n,m,C),this}},MV=Phaser.Utils.Array.Remove,EV={remove(i,t){return this.getParentSizer(i)!==this?this:(MV(this.sizerChildren,i),Ch.call(this,i,t),this)},removeAll(i){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],i);return this},clear(i){return this.sizerChildren.length=0,Mf.call(this,i),this}};var BM={getChildrenWidth:uV,getChildrenHeight:fV,getChildrenSizers:dV,preLayout:cV,layoutChildren:vV,runWidthWrap:xV};Object.assign(BM,SV,EV);var PV=function(i){i===void 0&&(i=this.sizerChildren);for(var t=0,n,m,C=0,M=i.length;C<M;C++)n=i[C],n!==`
`&&(m=this.getChildWidth(n),t=Math.max(m,t));return t},RV=function(i){i===void 0&&(i=this.sizerChildren);for(var t=0,n,m,C=0,M=i.length;C<M;C++)n=i[C],n!==`
`&&(m=n.isRexSizer?Math.max(n.minHeight,n.childrenHeight):n.hasOwnProperty("minHeight")?n.minHeight:Lt(n),t=Math.max(m,t));return t};const my=Phaser.Utils.Objects.IsPlainObject,we=Phaser.Utils.Objects.GetValue;class Mr extends Sr{constructor(t,n,m,C,M,h){my(n)?(h=n,n=we(h,"x",0),m=we(h,"y",0),C=we(h,"width",void 0),M=we(h,"height",void 0)):my(C)&&(h=C,C=we(h,"width",void 0),M=we(h,"height",void 0)),super(t,n,m,C,M,h),this.type="rexFixWidthSizer",this.sizerChildren=[],this.setOrientation(we(h,"orientation",0)),this.setItemSpacing(we(h,"space.item",0)),this.setLineSpacing(we(h,"space.line",0)),this.setIntentLeft(we(h,"space.indentLeftOdd",0),we(h,"space.indentLeftEven",0)),this.setIntentTop(we(h,"space.indentTopOdd",0),we(h,"space.indentTopEven",0)),this.setAlign(we(h,"align",0)),this.setJustifyPercentage(we(h,"justifyPercentage",.25)),this.setRTL(we(h,"rtl",!1)),this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=Of(t),this}setItemSpacing(t){return this.space.item=t,this}setLineSpacing(t){return this.space.line=t,this}setIntentLeft(t,n){return this.space.indentLeftOdd=t,this.space.indentLeftEven=n,this}setIntentTop(t,n){return this.space.indentTopOdd=t,this.space.indentTopEven=n,this}setAlign(t){return typeof t=="string"&&(t=AV[t]),this.align=t,this}setJustifyPercentage(t){return this.justifyPercentage=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get maxChildWidth(){return this._maxChildWidth===void 0&&(this._maxChildWidth=PV.call(this)),this._maxChildWidth}get maxChildHeight(){return this._maxChildHeight===void 0&&(this._maxChildHeight=RV.call(this)),this._maxChildHeight}}const AV={left:0,top:0,right:1,bottom:1,center:2,justify:3,"justify-left":3,"justify-top":3,"justify-right":4,"justify-bottom":4,"justify-center":5};Object.assign(Mr.prototype,BM);at.register("fixWidthSizer",function(i,t,n,m,C){var M=new Mr(this.scene,i,t,n,m,C);return this.scene.add.existing(M),M});nt(window,"RexPlugins.UI.FixWidthSizer",Mr);at.register("overlapSizer",function(i,t,n,m,C){var M=new Li(this.scene,i,t,n,m,C);return this.scene.add.existing(M),M});nt(window,"RexPlugins.UI.OverlapSizer",Li);at.register("space",function(){var i=new fg(this.scene);return i});nt(window,"RexPlugins.UI.Space",fg);var El=function(i,t,n){if(i){var m=t==null,C=n==null;return m&&C||(m||(i.displayWidth=t),C||(i.displayHeight=n),m&&(i.scaleX=i.scaleY),C&&(i.scaleY=i.scaleX)),i}},wV=function(i){i===void 0?i={}:typeof i=="string"&&(i={text:i});var t=i.text||"";this.setText(t);var n=this.childrenMap.icon;if(n){i.icon?this.show(n):this.hide(n);var m=i.iconSize;m&&(this.setChildDisplaySize(n,m,m),this.iconWidth!==void 0&&this.setIconSize(m)),this.setIconTexture(i.icon,i.iconFrame)}var C=this.childrenMap.action;if(C){i.action?this.show(C):this.hide(C);var M=i.actionSize;M&&(this.setChildDisplaySize(C,M,M),this.actionWidth!==void 0&&this.setActionSize(M)),this.setActionTexture(i.action,i.actionFrame)}return this},OV={appendText:KC,resetDisplayContent:wV};class dg extends Ot{get text(){var t=this.childrenMap.text;return t?t.text:""}set text(t){var n=this.childrenMap.text;n&&n.setText(t)}setText(t){return this.text=t,this}setIconTexture(t,n){var m=this.childrenMap.icon;return m?(m.setTexture(t,n),this.iconWidth!==void 0&&(El(m,this.iconWidth,this.iconHeight),this.resetChildScaleState(m)),this):this}setTexture(t,n){return this.setIconTexture(t,n),this}setIconSize(t,n){return n===void 0&&(n=t),this.iconWidth=t,this.iconHeight=n,this}get texture(){var t=this.childrenMap.icon;if(t)return t.texture}get frame(){var t=this.childrenMap.icon;if(t)return t.frame}setActionTexture(t,n){var m=this.childrenMap.action;return m===void 0?this:(m.setTexture(t,n),this.actionWidth!==void 0&&(El(m,this.actionWidth,this.actionHeight),this.resetChildScaleState(m)),this)}get actionTexture(){var t=this.childrenMap.action;if(t)return t.texture}get actionFrame(){var t=this.childrenMap.action;if(t)return t.frame}setActionSize(t,n){return n===void 0&&(n=t),this.actionWidth=t,this.actionHeight=n,this}preLayout(){var t=this.childrenMap.icon;t&&this.iconWidth!==void 0&&El(t,this.iconWidth,this.iconHeight);var n=this.childrenMap.action;n&&this.actionWidth!==void 0&&El(n,this.actionWidth,this.actionHeight),super.preLayout()}runLayout(t,n,m){if(this.ignoreLayout)return this;super.runLayout(t,n,m);var C=this.childrenMap.iconMask;C&&(C.setPosition(),this.resetChildPositionState(C));var M=this.childrenMap.actionMask;return M&&(M.setPosition(),this.resetChildPositionState(M)),this}resize(t,n){super.resize(t,n);var m=this.childrenMap.iconMask;m&&m.resize();var C=this.childrenMap.actionMask;return C&&C.resize(),this}}Object.assign(dg.prototype,OV);var ji=function(i,t,n,m){var C=new np(t,n,m);if(i&&!i.isRexSizer){var M=C.createGeometryMask();i.setMask(M),this.once("destroy",function(){i.setMask(),M.destroy()})}return this.pin(C),C};const Bt=Phaser.Utils.Objects.GetValue;class Er extends dg{constructor(t,n){super(t,n),this.type="rexLabel";var m=Bt(n,"background",void 0),C=Bt(n,"icon",void 0),M=Bt(n,"iconMask",void 0),h=Bt(n,"text",void 0),y=Bt(n,"action",void 0),e=Bt(n,"actionMask",void 0),f=Bt(n,"align",void 0);if(m&&this.addBackground(m),(f==="right"||f==="bottom"||f==="center")&&this.addSpace(),C){var c;this.orientation===0?(h||y)&&(c={right:Bt(n,"space.icon",0),top:Bt(n,"space.iconTop",0),bottom:Bt(n,"space.iconBottom",0)}):(h||y)&&(c={bottom:Bt(n,"space.icon",0),left:Bt(n,"space.iconLeft",0),right:Bt(n,"space.iconRight",0)});var s=Bt(n,"squareFitIcon",!1)?1:0;if(this.add(C,{proportion:0,padding:c,fitRatio:s}),M&&(M=ji.call(this,C,C,1)),!s){var a=Bt(n,"iconSize",void 0);this.setIconSize(Bt(n,"iconWidth",a),Bt(n,"iconHeight",a))}}if(h){var r=Bt(n,"space.text",0),o=Bt(n,"expandTextWidth",!1),l=Bt(n,"expandTextHeight",!1),v,c,u;this.orientation===0?(v=o?1:0,y&&(c={right:r}),u=l):(v=l?1:0,y&&(c={bottom:r}),u=o),this.add(h,{proportion:v,expand:u,padding:c})}if(y){var c;this.orientation===0?c={top:Bt(n,"space.actionTop",0),bottom:Bt(n,"space.actionBottom",0)}:c={left:Bt(n,"space.actionLeft",0),right:Bt(n,"space.actionRight",0)};var s=Bt(n,"squareFitAction",!1)?1:0;if(this.add(y,{proportion:0,padding:c,fitRatio:s}),e&&(e=ji.call(this,y,y,1)),!s){var d=Bt(n,"actionSize");this.setActionSize(Bt(n,"actionWidth",d),Bt(n,"actionHeight",d))}}f==="center"&&this.addSpace(),this.addChildrenMap("background",m),this.addChildrenMap("icon",C),this.addChildrenMap("iconMask",M),this.addChildrenMap("text",h),this.addChildrenMap("action",y),this.addChildrenMap("actionMask",e)}}at.register("label",function(i){var t=new Er(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.Label",Er);const LV=Phaser.GameObjects.Image,xy=Phaser.GameObjects.NineSlice;var Ci=function(i,t){var n;t&&(t.hasOwnProperty("type")?n=t.type:t.hasOwnProperty("leftWidth")?n="nineSlice":t.hasOwnProperty("key")&&(n="image"));var m;switch(n){case"image":m=new LV(i,0,0,t.key,t.frame);break;case"nineSlice":xy&&!t.hasOwnProperty("stretchMode")?m=new xy(i,0,0,t.key,t.frame,0,0,t.leftWidth,t.rightWidth,t.topHeight,t.bottomHeight):m=new _u(i,t);break;default:m=new sf(i,t);break}return i.add.existing(m),m};const $r=Phaser.Utils.Objects.GetValue,FV=Phaser.GameObjects.Text,IV=Phaser.GameObjects.BitmapText;var bM=function(i,t){var n=$r(t,"$type");n===void 0&&$r(t,"key")&&(n="bitmaptext");var m;switch(n){case"bitmaptext":var C=$r(t,"key"),M=$r(t,"size");M===void 0&&(M=$r(t,"fontSize")),m=new IV(i,0,0,C,"",M);var h=$r(t,"color");h!==void 0&&m.setTint(h);break;case"text":m=new FV(i,0,0,"",t);break;default:m=new f0(i,0,0,"",t);break}return i.add.existing(m),m};const DV=Phaser.GameObjects.BitmapText;var GM=function(i){return i instanceof DV};const BV=Phaser.GameObjects.Text;var cg=function(i){return i instanceof BV},bV=function(i){var t=function(n){var m=i.padding,C=n-m.left-m.right,M=i.style;return cg(i)?(M.wordWrapWidth=C,M.maxLines=0):(M.wrapMode===0&&(M.wrapMode=1),M.wrapWidth=C,M.maxLines=0),M.fixedWidth=n,M.fixedHeight=0,i.updateText(),i.minHeight=i.height,i};return t},GV=function(i){var t=function(n){return i.setFixedSize(n,0).runWordWrap(),i.minHeight=i.height,i};return t},NV=function(i){var t=function(n){return i.setMaxWidth(n),i.minHeight=i.height,i};return t},VV=function(i){return i instanceof Ga},NM=function(i,t){return t===void 0&&(t=0),i._minWidth=t,i.runWidthWrap=VV(i)?GV(i):GM(i)?NV(i):bV(i),i};const zV=Phaser.GameObjects.Image;var yy=function(i,t){var n=new zV(i,0,0,"");return i.add.existing(n),n};const go=Phaser.Utils.Objects.GetValue;var vg=function(i,t,n){t=t?wi(t):{};var m=go(n,"background",Ci),C=go(n,"text",bM),M=go(n,"icon",yy),h=go(n,"action",yy);if(m?t.background=m(i,t.background):delete t.background,C){var y=go(t,"wrapText",!1);y&&(y===!0&&(y="word"),nt(t,"text.wrap.mode",y),t.expandTextWidth=!0),t.text=C(i,t.text),y&&(t.text=NM(t.text))}else delete t.text;return M&&t.icon!==null?t.icon=M(i,t.icon):delete t.icon,h&&t.action!==null?t.action=h(i,t.action):delete t.action,t};class pg extends Er{constructor(t,n,m){n=vg(t,n,m),super(t,n),this.type="rexSimpleLabel"}setActiveState(t){var n=this.childrenMap.background;return n&&n.setActiveState&&n.setActiveState(t),this}setHoverState(t){var n=this.childrenMap.background;return n&&n.setHoverState&&n.setHoverState(t),this}setDisableState(t){var n=this.childrenMap.background;return n&&n.setDisableState&&n.setDisableState(t),this}}at.register("simpleLabel",function(i,t){var n=new pg(this.scene,i,t);return this.scene.add.existing(n),n});nt(window,"RexPlugins.UI.SimpleLabel",pg);const Mt=Phaser.Utils.Objects.GetValue;var kV=function(i){var t=this.scene,n=Mt(i,"orientation",0);this.setOrientation(n);var m=Mt(i,"icon",void 0),C=Mt(i,"iconMask",void 0),M=Mt(i,"innerBackground",void 0),h=Mt(i,"title",void 0),y=Mt(i,"separator",void 0),e=Mt(i,"text",void 0),f=Mt(i,"action",void 0),c=Mt(i,"actionMask",void 0);if(m){var v;this.orientation===0?v={right:Mt(i,"space.icon",0),top:Mt(i,"space.iconTop",0),bottom:Mt(i,"space.iconBottom",0)}:v={bottom:Mt(i,"space.icon",0),left:Mt(i,"space.iconLeft",0),right:Mt(i,"space.iconRight",0)};var s=Mt(i,"squareFitIcon",!1)?1:0;if(this.add(m,{proportion:0,padding:v,fitRatio:s}),C&&(C=ji.call(this,m,m,1)),!s){var a=Mt(i,"iconSize",void 0);this.setIconSize(Mt(i,"iconWidth",a),Mt(i,"iconHeight",a))}}var r=new Ot(t,{orientation:1});M&&r.addBackground(M);var o=Mt(i,"space.separator",0);if(h){var l=Mt(i,"align.title","left"),v={bottom:!y&&e?o:0,left:Mt(i,"space.titleLeft",0),right:Mt(i,"space.titleRight",0)};r.add(h,{proportion:0,align:l,padding:v})}if(y){var v={top:h?o:0,bottom:e?o:0,left:Mt(i,"space.separatorLeft",0),right:Mt(i,"space.separatorRight",0)};r.add(y,{expand:!0,padding:v})}if(e){var l=Mt(i,"align.text","left"),v={left:Mt(i,"space.textLeft",0),right:Mt(i,"space.textRight",0)};r.add(e,{proportion:0,align:l,padding:v})}var v=void 0;if(f&&(v={right:Mt(i,"space.text",0)}),this.add(r,{proportion:1,padding:v}),f){var v;this.orientation===0?v={top:Mt(i,"space.actionTop",0),bottom:Mt(i,"space.actionBottom",0)}:v={left:Mt(i,"space.actionLeft",0),right:Mt(i,"space.actionRight",0)};var s=Mt(i,"squareFitAction",!1)?1:0;if(this.add(f,{proportion:0,padding:v,fitRatio:s}),c&&(c=ji.call(this,f,f,1)),!s){var u=Mt(i,"actionSize");this.setActionSize(Mt(i,"actionWidth",u),Mt(i,"actionHeight",u))}}this.addChildrenMap("icon",m),this.addChildrenMap("iconMask",C),this.addChildrenMap("innerSizer",r),this.addChildrenMap("innerBackground",M),this.addChildrenMap("title",h),this.addChildrenMap("separator",y),this.addChildrenMap("text",e),this.addChildrenMap("action",f),this.addChildrenMap("actionMask",c)};const Tt=Phaser.Utils.Objects.GetValue;var UV=function(i){this.setOrientation(1),this.setRTL(!1);var t=this.scene,n=Tt(i,"title",void 0),m=Tt(i,"separator",void 0),C=Tt(i,"innerBackground",void 0),M=Tt(i,"icon",void 0),h=Tt(i,"iconMask",void 0),y=Tt(i,"text",void 0),e=Tt(i,"action",void 0),f=Tt(i,"actionMask",void 0);if(n){var c=Tt(i,"align.title","left"),s={bottom:Tt(i,"space.title",0),left:Tt(i,"space.titleLeft",0),right:Tt(i,"space.titleRight",0)};this.add(n,{proportion:0,align:c,padding:s})}if(m){var a=Tt(i,"space.separator",0),s={top:n?a:0,bottom:y?a:0,left:Tt(i,"space.separatorLeft",0),right:Tt(i,"space.separatorRight",0)};this.add(m,{proportion:0,expand:!0,padding:s})}var r=Tt(i,"orientation",0),o=new Ot(t,{orientation:r,rtl:Tt(i,"rtl",!1),space:{left:Tt(i,"space.innerLeft",0),right:Tt(i,"space.innerRight",0),top:Tt(i,"space.innerTop",0),bottom:Tt(i,"space.innerBottom",0)}});if(C&&o.addBackground(C),this.add(o,{proportion:1,expand:!0}),M){var s=void 0;o.orientation===0?s={right:Tt(i,"space.icon",0),top:Tt(i,"space.iconTop",0),bottom:Tt(i,"space.iconBottom",0)}:s={bottom:Tt(i,"space.icon",0),left:Tt(i,"space.iconLeft",0),right:Tt(i,"space.iconRight",0)};var l=Tt(i,"squareFitIcon",!1)?1:0;if(o.add(M,{proportion:0,padding:s,fitRatio:l}),h&&(h=ji.call(this,M,M,1)),!l){var v=Tt(i,"iconSize",void 0);this.setIconSize(Tt(i,"iconWidth",v),Tt(i,"iconHeight",v))}}if(y){var c=Tt(i,"align.text","left"),u=Tt(i,"space.text",0),d=Tt(i,"expandTextWidth",!1),p=Tt(i,"expandTextHeight",!1),g,s,x;o.orientation===0?(g=d?1:0,e&&(s={right:u}),x=p):(g=p?1:0,e&&(s={bottom:u}),x=d),o.add(y,{proportion:g,expand:x,align:c,padding:s})}if(e){var s;o.orientation===0?s={top:Tt(i,"space.actionTop",0),bottom:Tt(i,"space.actionBottom",0)}:s={left:Tt(i,"space.actionLeft",0),right:Tt(i,"space.actionRight",0)};var l=Tt(i,"squareFitAction",!1)?1:0;if(o.add(e,{proportion:0,padding:s,fitRatio:l}),f&&(f=ji.call(this,e,e,1)),!l){var T=Tt(i,"actionSize");this.setActionSize(Tt(i,"actionWidth",T),Tt(i,"actionHeight",T))}}this.addChildrenMap("title",n),this.addChildrenMap("separator",m),this.addChildrenMap("innerSizer",o),this.addChildrenMap("innerBackground",C),this.addChildrenMap("icon",M),this.addChildrenMap("iconMask",h),this.addChildrenMap("text",y),this.addChildrenMap("action",e),this.addChildrenMap("actionMask",f)};const Ty=Phaser.Utils.Objects.GetValue,Cy=[kV,UV];class gg extends dg{constructor(t,n){super(t,n),this.type="rexTitleLabel";var m=Ty(n,"background",void 0);m&&this.addBackground(m);var C=Ty(n,"layoutMode",0),M=Cy[C]||Cy[0];M.call(this,n),this.addChildrenMap("background",n.background)}get title(){var t=this.childrenMap.title;return t?t.title:""}set title(t){var n=this.childrenMap.title;n&&n.setText(t)}setTitle(t){return this.title=t,this}resetDisplayContent(t){t===void 0?t={}:typeof t=="string"&&(t={text:t}),super.resetDisplayContent(t);var n=this.childrenMap.title;return n&&(t.title===void 0||(t.title?(this.show(n),this.setTitle(t.title)):this.hide(n))),this}}at.register("titleLabel",function(i){var t=new gg(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.TitleLabel",gg);const bt=Phaser.Utils.Objects.GetValue,XV=Phaser.Utils.Objects.IsPlainObject;var YV=function(i,t){var n=bt(t,"background",void 0),m=bt(t,"icon",void 0),C=bt(t,"iconMask",void 0),M=bt(t,"nameText",void 0),h=bt(t,"valueText",void 0),y=bt(t,"bar",void 0),e=bt(t,"action",void 0),f=bt(t,"actionMask",void 0);XV(y)&&(y=new O0(i,y),i.add.existing(y),M&&i.children.moveBelow(y,M),h&&i.children.moveBelow(y,h));var c=M||h||y;if(n&&this.addBackground(n),m){var s=void 0;this.orientation===0?(c||e)&&(s={right:bt(t,"space.icon",0),top:bt(t,"space.iconTop",0),bottom:bt(t,"space.iconBottom",0)}):(c||e)&&(s={bottom:bt(t,"space.icon",0),left:bt(t,"space.iconLeft",0),right:bt(t,"space.iconRight",0)}),this.add(m,{proportion:0,padding:s}),C&&(C=ji.call(this,m,m,1))}if(c){var a=new Ot(i,{orientation:1}),r;if(M||h){if(r=new Ot(i,{orientation:0}),M){M.text===""&&M.setText(" "),M.setOrigin(0,M.originY);var s={left:bt(t,"space.name",0)};r.add(M,{padding:s})}if(h){h.text===""&&h.setText(" "),h.setOrigin(1,h.originY),r.addSpace();var s={right:bt(t,"space.value",0)};r.add(h,{padding:s}),this.setValueTextFormatCallback(bt(t,"valueTextFormatCallback",WV),bt(t,"valueTextFormatCallbackScope",void 0))}a.add(r,{expand:!0})}if(y){var s={top:r?bt(t,"space.bar",0):0,bottom:bt(t,"space.barBottom",0),left:bt(t,"space.barLeft",0),right:bt(t,"space.barRight",0)};a.add(y,{expand:!0,padding:s})}var s=void 0;e&&(s={right:bt(t,"space.text",0)});var o=bt(t,"align.text","bottom");this.add(a,{proportion:1,align:o,padding:s})}if(e){var s;this.orientation===0?s={top:bt(t,"space.actionTop",0),bottom:bt(t,"space.actionBottom",0)}:s={left:bt(t,"space.actionLeft",0),right:bt(t,"space.actionRight",0)},this.add(e,{proportion:0,padding:s}),f&&(f=ji.call(this,e,e,1))}this.addChildrenMap("background",n),this.addChildrenMap("icon",m),this.addChildrenMap("iconMask",C),this.addChildrenMap("name",M),this.addChildrenMap("value",h),this.addChildrenMap("bar",y),this.addChildrenMap("action",e),this.addChildrenMap("actionMask",f)},WV=function(i,t,n){return i.toString()};const HV=Phaser.Math.Clamp,$V={setValueTextFormatCallback(i,t){return this.valueTextFormatCallback=i,this.valueTextFormatCallbackScope=t,this},getFormatValueText(i,t,n){i===void 0&&(i=this.value),t===void 0&&(t=this.minValue),n===void 0&&(n=this.maxValue);var m;return this.valueTextFormatCallbackScope?m=this.valueTextFormatCallback(i,t,n):m=this.valueTextFormatCallback.call(this.valueTextFormatCallbackScope,i,t,n),m},updateValueText(i,t,n){var m=this.childrenMap.value;return m&&this.valueTextFormatCallback&&(m.setText(this.getFormatValueText(i,t,n)),m.layout&&m.layout()),this},setValue(i,t,n){return i=HV(i,t,n),this.value=i,this.minValue=t,this.maxValue=n,this.updateValueText(i,t,n),this.setBarValue(i,t,n),this}};class mg extends Ot{constructor(t,n){super(t,n),this.type="rexNameValueLabel",YV.call(this,t,n)}get nameText(){var t=this.childrenMap.name;return t===void 0?"":t.text}set nameText(t){var n=this.childrenMap.name;n!==void 0&&n.setText(t)}setNameText(t){return this.nameText=t,this}get valueText(){var t=this.childrenMap.value;return t===void 0?"":t.text}set valueText(t){var n=this.childrenMap.value;n!==void 0&&n.setText(t)}setValueText(t){return this.valueText=t,this}get barValue(){var t=this.childrenMap.bar;if(t!==void 0)return t.value}set barValue(t){var n=this.childrenMap.bar;n!==void 0&&n.setValue(t)}setBarValue(t,n,m){var C=this.childrenMap.bar;return C===void 0?this:(C.setValue(t,n,m),this)}easeBarValueTo(t,n,m){var C=this.childrenMap.bar;return C===void 0?this:(C.easeValueTo(t,n,m),this)}setTexture(t,n){var m=this.childrenMap.icon;if(m!==void 0)return m.setTexture(t,n),this}get texture(){var t=this.childrenMap.icon;if(t!==void 0)return t.texture}get frame(){var t=this.childrenMap.icon;if(t!==void 0)return t.frame}runLayout(t,n,m){if(this.ignoreLayout)return this;super.runLayout(t,n,m);var C=this.childrenMap.iconMask;C&&(C.setPosition(),this.resetChildPositionState(C));var M=this.childrenMap.actionMask;return M&&(M.setPosition(),this.resetChildPositionState(M)),this}resize(t,n){super.resize(t,n);var m=this.childrenMap.iconMask;m&&m.resize();var C=this.childrenMap.actionMask;return C&&C.resize(),this}}Object.assign(mg.prototype,$V);at.register("nameValueLabel",function(i){var t=new mg(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.NameValueLabel",mg);const Pl=Ot.prototype.add,Sy=Ot.prototype.addSpace;var xc=function(i){var t=!i.isRexSpace,n=!t||this.buttonsExpand?1:0;if(this.sizerChildren.length===0)if(t){var m=!this.buttonsExpand&&(this.buttonsAlign==="right"||this.buttonsAlign==="center"||this.buttonsAlign==="bottom");m&&Sy.call(this),Pl.call(this,i,{proportion:n,expand:!0});var C=!this.buttonsExpand&&this.buttonsAlign==="center";C&&Sy.call(this),this.hasTailSpace=C}else Pl.call(this,i,{proportion:n,expand:!0}),this.hasTailSpace=!1;else if(this.hasTailSpace){var M=this.sizerChildren.length-1;Pl.call(this,i,{index:M,proportion:n,expand:!0})}else Pl.call(this,i,{proportion:n,expand:!0});return t&&this.buttonGroup.add(i),this};const KV={addButton(i){if(Ki(i))for(var t=i,n=0,m=t.length;n<m;n++)xc.call(this,t[n]);else xc.call(this,i);return this},addButtons(i){for(var t=0,n=i.length;t<n;t++)xc.call(this,i[t]);return this}},ZV=Ot.prototype.remove,jV=Ot.prototype.clear;var yc=function(i,t){return this.getParentSizer(i)!==this?this:(this.buttonGroup.remove(i),ZV.call(this,i,t),this)};const JV={remove(i,t){if(Ki(i))for(var n=i,m=0,C=n.length;m<C;m++)yc.call(this,n[m],t);else yc.call(this,i,t);return this},clear(i){var t=this.buttonGroup.buttons;return t.length=0,jV.call(this,i),this},removeButton(n,t){var n=this.getButton(n);return n?(this.remove(n,t),this):this},clearButtons(i){for(var t=this.buttonGroup.buttons,n=t.length-1;n>=0;n--)yc.call(this,t[n],i);return this}};var QV=function(i,t,n){if(i){var m=this.setValueCallback,C=this.setValueCallbackScope;m&&(C?m.call(C,i,t,n):m(i,t,n)),this.fireEvent("button.statechange",i,t,n)}},qV=function(i){var t=this;i._selected=void 0,Object.defineProperty(i,"selected",{get:function(){return i._selected},set:function(n){if(i._selected!==n){var m=i._selected;i._selected=n,QV.call(t,i,n,m)}},enumerable:!0,configurable:!0}),i.selected=!1};const _V={add(i){return this.buttons.push(i),i._click||(i._click=new On(i,this.clickConfig),i._click.on("click",function(t,n,m,C){this.fireEvent("button.click",n,m,C)},this).on("enable",function(t,n){this.fireEvent("button.enable",n)},this).on("disable",function(t,n){this.fireEvent("button.disable",n)},this),i.on("pointerover",function(t,n,m,C){this.fireEvent("button.over",i,t,C)},this).on("pointerout",function(t,n){this.fireEvent("button.out",i,t,n)},this)),this.buttonsType&&(i.name===void 0&&console.error(`${this.parent.constructor.name}: Option button miss value`),qV.call(this,i)),this},addMultiple(i){for(var t=0,n=i.length;t<n;t++)this.add(i[t]);return this}},tz=Phaser.Utils.Array.Remove,ez={remove(i){return this.buttonsType&&delete i.selected,tz(this.buttons,i),this},clear(){if(this.buttonsType)for(var i=this.buttons,t=0,n=i.length;t<n;t++)delete i[t].selected;return this.buttons.length=0,this}};var iz=function(i,t,...n){var m;if(typeof t=="number"){if(m=t,t=this.buttons[m],!t)return}else if(m=this.buttons.indexOf(t),m===-1)return;this.eventEmitter!==this.parent&&this.parent.emit(i,t,m,...n),this.groupName!==void 0?this.eventEmitter.emit(i,t,this.groupName,m,...n):this.eventEmitter.emit(i,t,m,...n)};const mo=Phaser.Utils.Objects.GetValue,sz={setButtonsType(i){i===void 0&&(i={});var t=mo(i,"buttonsType",i.type);if(this.buttonsType=t,!this.buttonsType)return this;var n,m;switch(n=mo(i,"setValueCallback",void 0),m=mo(i,"setValueCallbackScope",void 0),n===void 0&&(n=mo(i,"setButtonStateCallback",void 0),m=mo(i,"setButtonStateCallbackScope",void 0)),this.setValueCallback=n,this.setValueCallbackScope=m,t){case"radio":this.setRadioType();break;case"checkboxes":this.setCheckboxesType();break}return this},setRadioType(){var i=this.parent,t=this.buttons;i._value=void 0;var n=void 0;return Object.defineProperty(i,"value",{get:function(){return i._value},set:function(m){if(i._value!==m){i._value=m;for(var C=0,M=t.length;C<M;C++){var h=t[C];h.rexSizer.hidden||(n===void 0?h.name===m?h.selected=!0:h.selected=!1:n===C?h.selected=!0:h.selected=!1)}}},enumerable:!0,configurable:!0}),i.on("button.click",function(m){n=this.buttons.indexOf(m),i.value=m.name,n=void 0},this),this},setCheckboxesType(){var i=this.parent;return i.on("button.click",function(t){t.selected=!t.selected}),this},clearAllButtonsState(){for(var i=this.buttons,t=0,n=i.length;t<n;t++){var m=i[t];m.selected=!1}return this},getAllButtonsState(){for(var i={},t=this.buttons,n=0,m=t.length;n<m;n++){var C=t[n];C.rexSizer.hidden||(i[C.name]=C.selected)}return i},setSelectedButtonName(i){return this.parent.value=i,this},getSelectedButtonName(){return this.parent.value},setButtonState(i,t){t===void 0&&(t=!0);for(var n=this.buttons,m=0,C=n.length;m<C;m++){var M=n[m];if(!M.rexSizer.hidden&&M.name===i){M.selected=t;break}}return this},getButtonState(i){for(var t=this.buttons,n=0,m=t.length;n<m;n++){var C=t[n];if(!C.rexSizer.hidden&&C.name===i)return C.selected}}};var nz=function(i,t){if(i)if(Ki(i)){for(var n,m=0,C=i.length;m<C;m++)if(n=My(i[m],t),n)return n}else{var n;for(var M in i)if(n=My(i[M],t),n)return n}else return null},My=function(i,t){return i?i.hasOwnProperty("name")?i.name===t?i:null:GetElementByName(i,t):null};const Lf={getButton(i){var t=this.buttons,n,m=typeof i;switch(m){case"number":n=t[i];break;case"string":n=nz(t,i);break;default:n=i,t.indexOf(n)===-1&&(n=void 0);break}return n},setButtonEnable(i,t){var n=this.buttons;if(i===void 0||typeof i=="boolean"){t=i;for(var m=0,C=n.length;m<C;m++)n[m]._click.setEnable(t)}else this.getButton(i)._click.setEnable(t);return this},toggleButtonEnable(i){var t=this.buttons;if(i===void 0||typeof i=="boolean")for(var n=0,m=t.length;n<m;n++)t[n]._click.toggleEnable();else this.getButton(i)._click.toggleEnable();return this},getButtonEnable(i){return i===void 0&&(i=0),this.getButton(i)._click.enable},emitButtonClick(i){var t=this.buttonGroup?this.buttonGroup:this;return t.fireEvent("button.click",i),this},showButton(i){return nn(this.getButton(i)),this},hideButton(i){return rn(this.getButton(i)),this},isButtonShown(i){return j0(this.getButton(i)),this},forEachButtton(i,t){for(var n=this.buttons,m=0,C=n.length;m<C;m++)t?i.call(t,n[m],m,n):i(n[m],m,n);return this}};class Ff{constructor(t){this.parent=t.parent,this.eventEmitter=t.eventEmitter,this.groupName=t.groupName,this.clickConfig=t.clickConfig,this.buttonsType=void 0,this.buttons=[]}destroy(){this.parent=void 0,this.eventEmitter=void 0,this.clickConfig=void 0,this.buttons=void 0}}var rz={fireEvent:iz};Object.assign(Ff.prototype,_V,ez,sz,Lf,rz);const xg={clearAllButtonsState(){return this.buttonGroup.clearAllButtonsState(),this},getAllButtonsState(){return this.buttonGroup.getAllButtonsState()},setSelectedButtonName(i){return this.buttonGroup.setSelectedButtonName(i),this},getSelectedButtonName(){return this.buttonGroup.getSelectedButtonName()},setButtonState(i,t){return this.buttonGroup.setButtonState(i,t),this},getButtonState(i){return this.buttonGroup.getButtonState(i)}},$n=Phaser.Utils.Objects.GetValue;let Ce=class extends Ot{constructor(t,n){n===void 0&&(n={});var m=n.space;typeof m=="number"&&(n.space={item:m}),super(t,n),this.type="rexButtons",this.buttonGroup=new Ff({parent:this,eventEmitter:$n(n,"eventEmitter",this),groupName:$n(n,"groupName",void 0),clickConfig:$n(n,"click",void 0)}).setButtonsType(n);var C=$n(n,"background",void 0),M=$n(n,"buttons",void 0);this.buttonsExpand=$n(n,"expand",!1),this.buttonsAlign=$n(n,"align",void 0),C&&this.addBackground(C),M&&this.addButtons(M),this.addChildrenMap("background",C),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}};Object.assign(Ce.prototype,KV,JV,Lf,xg);at.register("buttons",function(i){var t=new Ce(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.Buttons",Ce);const az=In.prototype.add,oz={addButton(i,t,n){return az.call(this,i,t,n,void 0,0,this.buttonsExpand),this.buttonGroup.add(i),this},addButtons(i,t){for(var n=0,m=i;n<m;n++)this.addButton(i[n],void 0,t);return this}},hz=In.prototype.remove,lz=In.prototype.clear;var Tc=function(n,t){var n=this.getButton(n);return n?(this.buttonGroup.remove(n),hz.call(this,n,t),this):this};const uz={remove(i,t){if(Ki(i))for(var n=i,m=0,C=n.length;m<C;m++)Tc.call(this,n[m],t);else Tc.call(this,i,t);return this},clear(i){var t=this.buttonGroup.buttons;return t.length=0,lz.call(this,i),this},removeButton(i,t){return this.remove(i,t),this},clearButtons(i){for(var t=this.buttonGroup.buttons,n=t.length-1;n>=0;n--)Tc.call(this,t[n],i);return this}},ss=Phaser.Utils.Objects.GetValue;class If extends In{constructor(t,n){n===void 0&&(n={});var m=ss(n,"row",0),C=ss(n,"column",n.col||0),M=ss(n,"createCellContainerCallback"),h=ss(n,"buttons",void 0),y=ss(n,"expand",!0),e=y?1:0;if(M&&(n.createCellContainerCallback=void 0),h!==void 0){m=Math.max(m,h.length);for(var f=0,c=h.length;f<c;f++)C=Math.max(C,h[f].length)}n.row=m,n.column=C,n.columnProportions=e,n.rowProportions=e,super(t,n),this.type="rexGridButtons",this.buttonGroup=new Ff({parent:this,eventEmitter:ss(n,"eventEmitter",this),groupName:ss(n,"groupName",void 0),clickConfig:ss(n,"click",void 0)}).setButtonsType(n);var s=ss(n,"background",void 0);if(this.buttonsExpand=y,ss(n,"space",void 0),s&&this.addBackground(s),h)for(var a,r,o=0,l=h.length;o<l;o++){a=h[o];for(var v=0,u=a.length;v<u;v++)r=a[v],r&&this.addButton(r,v,o)}else if(M)for(var d=0;d<m;d++)for(var p=0;p<C;p++){var r=M(t,p,d);r&&this.addButton(r,p,d)}this.addChildrenMap("background",s),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}}Object.assign(If.prototype,oz,uz,Lf,xg);at.register("gridButtons",function(i){var t=new If(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.GridButtons",If);const VM=Mr.prototype.add;var Rl=function(i){return VM.call(this,i),this.buttonGroup.add(i),this};const fz={addButton(i){if(Ki(i))for(var t=i,n=0,m=t.length;n<m;n++)Rl.call(this,t[n]);else Rl.call(this,i);return this},addButtons(i){if(Ki(i[0]))for(var t=i,n,m=0,C=t.length-1;m<=C;m++){n=t[m];for(var M=0,h=n.length;M<h;M++)Rl.call(this,n[M]);m>C&&VM.addNewLine(this)}else for(var M=0,h=i.length;M<h;M++)Rl.call(this,i[M]);return this}},dz=Mr.prototype.remove,cz=Mr.prototype.clear;var Cc=function(n,t){var n=this.getButton(n);return n?(this.buttonGroup.remove(n),dz.call(this,n,t),this):this};const vz={remove(i,t){if(Ki(i))for(var n=i,m=0,C=n.length;m<C;m++)Cc.call(this,n[m],t);else Cc.call(this,i,t);return this},clear(i){var t=this.buttonGroup.buttons;return t.length=0,cz.call(this,i),this},removeButton(i,t){return this.remove(i,t),this},clearButtons(i){for(var t=this.buttonGroup.buttons,n=t.length-1;n>=0;n--)Cc.call(this,t[n],i);return this}},Kr=Phaser.Utils.Objects.GetValue;class vr extends Mr{constructor(t,n){n===void 0&&(n={});var m=n.space;typeof m=="number"&&(n.space={item:m,line:m}),super(t,n),this.type="rexFixWidthButtons",this.buttonGroup=new Ff({parent:this,eventEmitter:Kr(n,"eventEmitter",this),groupName:Kr(n,"groupName",void 0),clickConfig:Kr(n,"click",void 0)}).setButtonsType(n);var C=Kr(n,"background",void 0),M=Kr(n,"buttons",void 0);this.buttonsAlign=Kr(n,"align",void 0),C&&this.addBackground(C),M&&this.addButtons(M),this.addChildrenMap("background",C),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}}Object.assign(vr.prototype,fz,vz,Lf,xg);at.register("fixWidthButtons",function(i){var t=new vr(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.FixWidthButtons",vr);const pz={setAccept(i){return this.childrenMap.fileChooser.setAccept(i),this},setMultiple(i){return this.childrenMap.fileChooser.setMultiple(i),this},loadFile(i,t,n,m,C){return this.childrenMap.fileChooser.loadFile(i,t,n,m,C),this},loadFilePromise(i,t,n,m){return this.childrenMap.fileChooser.loadFilePromise(i,t,n,m)}},Ey=Phaser.Utils.Objects.GetValue;class yg extends Er{constructor(t,n){super(t,n),this.type="rexFileSelectorButton";var m=new wf(t);t.add.existing(m),this.addBackground(m),this.addChildrenMap("fileChooser",m),this.setAccept(Ey(n,"accept","")),this.setMultiple(Ey(n,"multiple",!1)),m.on("change",function(C){var M=C.files;M.length!==0&&(M=Array.from(M),this.emit("select",M,this))},this)}get files(){return this.childrenMap.fileChooser.files}}Object.assign(yg.prototype,pz);at.register("fileSelectorButton",function(i){var t=new yg(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.FileSelectorButton",yg);const gz={getChoice(i){var t=this.childrenMap.choicesSizer;if(t)return t.getButton(i)},getAction(i){return this.childrenMap.actionsSizer.getButton(i)},getToolbar(i){return this.childrenMap.toolbarSizer.getButton(i)},getLeftToolbar(i){return this.childrenMap.leftToolbarSizer.getButton(i)},setChoiceEnable(i,t){var n=this.childrenMap.choicesSizer;return n&&n.setButtonEnable(i,t),this},setActionEnable(i,t){return this.childrenMap.actionsSizer.setButtonEnable(i,t),this},setToolbarEnable(i,t){return this.childrenMap.toolbarSizer.setButtonEnable(i,t),this},setLeftToolbarEnable(i,t){return this.childrenMap.leftToolbarSizer.setButtonEnable(i,t),this},toggleChoiceEnable(i){var t=this.childrenMap.choicesSizer;return t&&t.toggleButtonEnable(i),this},toggleActionEnable(i){return this.childrenMap.actionsSizer.toggleButtonEnable(i),this},toggleToolbarEnable(i){return this.childrenMap.toolbarSizer.toggleButtonEnable(i),this},toggleLeftToolbarEnable(i){return this.childrenMap.leftToolbarSizer.toggleButtonEnable(i),this},getChoiceEnable(i){var t=this.childrenMap.choicesSizer;return t?t.getButtonEnable(i):!1},getActionEnable(i){return this.childrenMap.actionsSizer.getButtonEnable(i)},getToolbarEnable(i){return this.childrenMap.toolbarSizer.getButtonEnable(i)},getLeftToolbarEnable(i){return this.childrenMap.leftToolbarSizer.getButtonEnable(i)},emitChoiceClick(i){var t=this.childrenMap.choicesSizer;return t&&t.emitButtonClick(i),this},emitActionClick(i){return this.childrenMap.actionsSizer.emitButtonClick(i),this},emitToolbarClick(i){return this.childrenMap.toolbarSizer.emitButtonClick(i),this},emitLeftToolbarClick(i){return this.childrenMap.leftToolbarSizer.emitButtonClick(i),this},showChoice(i){var t=this.childrenMap.choicesSizer;return t&&t.showButton(i),this},showAction(i){return this.childrenMap.actionsSizer.showButton(i),this},showToolbar(i){return this.childrenMap.toolbarSizer.showButton(i),this},showLeftToolbar(i){return this.childrenMap.leftToolbarSizer.showButton(i),this},hideChoice(i){var t=this.childrenMap.choicesSizer;return t&&t.hideButton(i),this},hideAction(i){return this.childrenMap.actionsSizer.hideButton(i),this},hideToolbar(i){return this.childrenMap.toolbarSizer.hideButton(i),this},hideLeftToolbar(i){return this.childrenMap.leftToolbarSizer.hideButton(i),this},addChoice(i){var t=this.childrenMap.choicesSizer;return t&&t.addButton(i),this},addAction(i){return this.childrenMap.actionsSizer.addButton(i),this},addToolbar(i){return this.childrenMap.toolbarSizer.addButton(i),this},addLeftToolbar(i){return this.childrenMap.leftToolbarSizer.addButton(i),this},removeChoice(i,t){var n=this.childrenMap.choicesSizer;return n&&n.removeButton(i,t),this},removeAction(i,t){return this.childrenMap.actionsSizer.removeButton(i,t),this},removeToolbar(i,t){return this.childrenMap.toolbarSizer.removeButton(i,t),this},removeLeftToolbar(i,t){return this.childrenMap.leftToolbarSizer.removeButton(i,t),this},clearChoices(i){var t=this.childrenMap.choicesSizer;return t&&t.clearButtons(i),this},clearActions(i){return this.childrenMap.actionsSizer.clearButtons(i),this},clearToolbar(i){return this.childrenMap.toolbarSizer.clearButtons(i),this},clearLeftToolbar(i){return this.childrenMap.leftToolbarSizer.clearButtons(i),this},forEachChoice(i,t){var n=this.childrenMap.choicesSizer;return n&&n.forEachButtton(i,t),this},forEachAction(i,t){return this.childrenMap.actionsSizer.forEachButtton(i,t),this},forEachToolbar(i,t){return this.childrenMap.toolbarSizer.forEachButtton(i,t),this},forEachLeftToolbar(i,t){return this.childrenMap.leftToolbarSizer.forEachButtton(i,t),this},setAllButtonsEnable(i){return i===void 0&&(i=!0),this.childrenMap.toolbarSizer&&this.setToolbarEnable(i),this.childrenMap.leftToolbarSizer&&this.setLeftToolbarEnable(i),this.childrenMap.actionsSizer&&this.setActionEnable(i),this.childrenMap.choicesSizer&&this.setChoiceEnable(i),this},getChoicesButtonStates(){var i=this.childrenMap.choicesSizer;return i?i.getAllButtonsState():{}},getChoicesButtonState(i){var t=this.childrenMap.choicesSizer;return i===void 0?t?t.getAllButtonsState():{}:t?t.getButtonState(i):!1},setChoicesButtonState(i,t){var n=this.childrenMap.choicesSizer;return n&&n.setButtonState(i,t),this},clearChoicesButtonStates(){var i=this.childrenMap.choicesSizer;return i&&i.clearAllButtonsState(),this},getChoicesSelectedButtonName(){var i=this.childrenMap.choicesSizer;return i?i.getSelectedButtonName():""},setChoicesSelectedButtonName(i){var t=this.childrenMap.choicesSizer;return t&&t.setSelectedButtonName(i),this}},mz={onCreateModalBehavior(i){i.on("button.click",function(t,n,m,C,M){if(n==="actions"){var h={index:m,text:t.text,button:t,dialog:i};switch(i.buttonsType){case"radio":h.value=i.getChoicesSelectedButtonName();break;case"checkboxes":h.value=i.getChoicesButtonStates();break;default:h.value=void 0}i.modalClose(h)}})},modal(i,t){return i&&i.defaultBehavior===!1?this.onCreateModalBehavior=!1:delete this.onCreateModalBehavior,_0.modal.call(this,i,t),this}};var zM={};Object.assign(zM,gz,mz);const vt=Phaser.Utils.Objects.GetValue;class Df extends Ot{constructor(t,n){n===void 0&&(n={}),n.orientation=1,super(t,n),this.type="rexDialog",this.eventEmitter=vt(n,"eventEmitter",this);var m=vt(n,"background",void 0),C=vt(n,"title",void 0),M=vt(n,"toolbar",void 0),h=vt(n,"toolbarBackground",void 0),y=vt(n,"leftToolbar",void 0),e=vt(n,"leftToolbarBackground",void 0),f=vt(n,"content",void 0),c=vt(n,"description",void 0),s,a=vt(n,"choices",void 0),r=vt(n,"choicesBackground",void 0),o,l=vt(n,"actions",void 0),v=vt(n,"actionsBackground",void 0),u=vt(n,"click",void 0);m&&this.addBackground(m);var d;M&&(d=new Ce(t,{groupName:"toolbar",background:h,buttons:M,orientation:0,space:{item:vt(n,"space.toolbarItem",0)},click:u,eventEmitter:this.eventEmitter}));var p;if(y&&(p=new Ce(t,{groupName:"leftToolbar",background:e,buttons:y,orientation:0,space:{item:vt(n,"space.leftToolbarItem",0)},click:u,eventEmitter:this.eventEmitter})),C||M||y){var g=!!C&&vt(n,"expand.title",!0),x=vt(n,"align.title","center"),T=C&&!g&&x==="center"||!C&&(M||y),S=!T,P;S?P=new Ot(t,{orientation:0}):P=new Li(t);var E=S?!0:{height:!0};if(p&&P.add(p,{align:"left",expand:E}),C){S&&!g&&x==="right"&&P.addSpace();var A={left:vt(n,"space.titleLeft",0),right:vt(n,"space.titleRight",0)},w=g?1:0;P.add(C,{align:x,proportion:w,expand:E,padding:A}),S&&!g&&x==="left"&&P.addSpace()}d&&(S&&!C&&P.addSpace(),P.add(d,{align:"right",expand:E}));var R=vt(n,"space.title",0),A;(f||c||a||l)&&(A={bottom:R});var w=vt(n,"proportion.title",0);this.add(P,{padding:A,proportion:w,expand:!0})}if(f){var O=vt(n,"align.content","center"),L=vt(n,"space.content",0),A={left:vt(n,"space.contentLeft",0),right:vt(n,"space.contentRight",0),bottom:c||a||l?L:0},w=vt(n,"proportion.content",0),F=vt(n,"expand.content",!0);this.add(f,{align:O,padding:A,proportion:w,expand:F})}if(c){var O=vt(n,"align.description","center"),I=vt(n,"space.description",0),A={left:vt(n,"space.descriptionLeft",0),right:vt(n,"space.descriptionRight",0),bottom:a||l?I:0},w=vt(n,"proportion.description",0),F=vt(n,"expand.description",!0);this.add(c,{align:O,padding:A,proportion:w,expand:F})}if(a){var b=vt(n,"choicesType","").split("-"),G=xo(b,"wrap")?vr:xo(b,"grid")?If:Ce,N=xo(b,"radio")?"radio":xo(b,"checkboxes")?"checkboxes":void 0,U={left:vt(n,"space.choicesBackgroundLeft",0),right:vt(n,"space.choicesBackgroundRight",0),top:vt(n,"space.choicesBackgroundTop",0),bottom:vt(n,"space.choicesBackgroundBottom",0)},Y=vt(n,"space.choice",0);G===Ce?U.item=Y:G===vr?(U.item=Y,U.line=vt(n,"space.choiceLine",Y)):(U.column=vt(n,"space.choiceColumn",Y),U.row=vt(n,"space.choiceRow",Y));var X={width:vt(n,"choicesWidth",void 0),height:vt(n,"choicesHeight",void 0),groupName:"choices",buttonsType:N,background:r,buttons:a,space:U,click:u,eventEmitter:this.eventEmitter,setValueCallback:vt(n,"choicesSetValueCallback",void 0),setValueCallbackScope:vt(n,"choicesSetValueCallbackScope",void 0)};G===Ce&&(X.orientation=xo(b,"x")?0:1),s=new G(t,X);var B=vt(n,"space.choices",0),A={left:vt(n,"space.choicesLeft",0),right:vt(n,"space.choicesRight",0),bottom:l?B:0},O=vt(n,"align.choices","center"),w=vt(n,"proportion.choices",0),F=vt(n,"expand.choices",!0);this.add(s,{align:O,padding:A,proportion:w,expand:F}),this.buttonsType=N}if(l){o=new Ce(t,{groupName:"actions",background:v,buttons:l,orientation:0,space:{item:vt(n,"space.action",0)},expand:vt(n,"expand.actions",!1),align:vt(n,"align.actions","center"),click:u,eventEmitter:this.eventEmitter});var A={left:vt(n,"space.actionsLeft",0),right:vt(n,"space.actionsRight",0)},w=vt(n,"proportion.action",0);this.add(o,{align:"center",padding:A,proportion:w,expand:!0})}yo(this,"click"),yo(this,"over"),yo(this,"out"),yo(this,"enable"),yo(this,"disable"),this.addChildrenMap("background",m),this.addChildrenMap("title",C),this.addChildrenMap("toolbar",M),this.addChildrenMap("leftToolbar",y),this.addChildrenMap("content",f),this.addChildrenMap("description",c),this.addChildrenMap("choices",s?s.buttons:void 0),this.addChildrenMap("actions",o?o.buttons:void 0),this.addChildrenMap("choicesSizer",s),this.addChildrenMap("actionsSizer",o),this.addChildrenMap("toolbarSizer",d),this.addChildrenMap("leftToolbarSizer",p)}}var xo=function(i,t){return i.indexOf(t)!==-1},Py={actions:"action",choices:"choice",toolbar:"toolbar",leftToolbar:"leftToolbar"},yo=function(i,t){i.on(`button.${t}`,function(n,m,C,M,h){Py.hasOwnProperty(m)&&i.emit(`${Py[m]}.${t}`,n,C,M,h)})};Object.assign(Df.prototype,zM);at.register("dialog",function(i){var t=new Df(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.Dialog",Df);var Si=function(i,t,n){var m=new pg(i,t,n);return i.add.existing(m),m},xz=function(i){return i===void 0&&(i={}),yz.call(this,i),Tz.call(this,i),Cz.call(this,i),Sz.call(this,i),this},yz=function(i){var t=this.childrenMap.title;t.resetDisplayContent(i.title)},Tz=function(i){var t=this.childrenMap.content;if(t.resetDisplayContent)t.resetDisplayContent(i.content);else{var n=i.content||"";t.setText(n)}},Cz=function(i){var t=this.childrenMap.actions;if(t){var n=i.buttons;if(n){for(var M=this.scene,h=this.defaultActionConfig,y=this.defaultActionButtonCreator,e=0,f=n.length;e<f;e++){var c=n[e],s=t[e];s||(s=Si(M,h,y),this.addAction(s)),s.show().resetDisplayContent(c)}this.buttonMode=n.length;for(var e=n.length,f=t.length;e<f;e++)t[e].hide()}else{var m=t[0];m&&m.resetDisplayContent(i.buttonA);var C=t[1];C&&C.resetDisplayContent(i.buttonB)}}},Sz=function(i){var t=this.childrenMap.choices;if(t){var n=i.choices;n||(n=[]);for(var m=this.scene,C=this.defaultChoiceConfig,M=this.defaultActionButtonCreator,h=0,y=n.length;h<y;h++){var e=n[h];typeof e=="string"&&(e={text:e});var f=t[h];f||(f=Si(m,C,M),this.addChoice(f)),f.show().resetDisplayContent(e);var c;e.hasOwnProperty("value")?c=e.value:c=e.text,f.setName(c)}for(var h=n.length,y=t.length;h<y;h++)t[h].hide()}},Mz=function(i,t){Sn(i)&&(t=i,i=void 0),i===void 0&&(i={});var n=this.buttonMode===0;return i.hasOwnProperty("anyTouchClose")||(i.anyTouchClose=n),i.hasOwnProperty("manualClose")||(i.manualClose=!n),_0.modal.call(this,i,t),this},Ez={resetDisplayContent:xz,modal:Mz},Pz=function(i){i.setHoverState&&i.setHoverState(!0)},Rz=function(i){i.setHoverState&&i.setHoverState(!1)},Az=function(i,t,n,m){i.setActiveState&&i.setActiveState(m)},wz=function(i){i.setDisableState&&i.setDisableState(!1)},Oz=function(i){i.setDisableState&&i.setDisableState(!0)},Lz=function(){this.on("button.over",Pz).on("button.out",Rz).on("button.enable",wz).on("button.disable",Oz).on("button.statechange",Az)};const kM={v:0,vertical:0,y:0,h:1,horizontal:1,x:1},Fz=Phaser.Utils.Objects.GetValue;var Bf=function(i,t){var n=Fz(i,"scrollMode",0);return typeof n=="string"&&(n=kM[n]),n};const Ry=Phaser.Math.Percent;var UM=function(i,t,n){var m;return i.y===t.y?m=Ry(n.x,i.x,t.x):i.x===t.x&&(m=Ry(n.y,i.y,t.y)),m},Iz=function(i,t,n){if(this.enable){Sc.x=t,Sc.y=n;var m,C;this.reverseAxis?(m=this.getEndPoint(),C=this.getStartPoint()):(m=this.getStartPoint(),C=this.getEndPoint()),this.value=UM(m,C,Sc)}},Sc={},Ay=function(i,t,n){if(this.enable&&i.isDown){Mc.x=i.worldX,Mc.y=i.worldY;var m,C;this.reverseAxis?(m=this.getEndPoint(),C=this.getStartPoint()):(m=this.getStartPoint(),C=this.getEndPoint());var M=UM(m,C,Mc);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-M)<.1?this.value=M:this.easeValueTo(M)}},Mc={},XM=function(i,t){t===void 0&&(t=Dz);var n=this.childrenMap.thumb,m=n.x,C=n.y;return yh(n,this.innerLeft,this.innerTop,this.innerWidth,this.innerHeight,i),t.x=n.x,t.y=n.y,n.x=m,n.y=C,t},Dz={};const Bz=Phaser.Display.Align.LEFT_CENTER,bz=Phaser.Display.Align.TOP_CENTER;var Gz=function(i){if(i===void 0&&(i=Nz),this.childrenMap.thumb){var t=this.orientation===0?Bz:bz;XM.call(this,t,i)}else this.orientation===0?(i.x=this.innerLeft+1,i.y=this.centerY):(i.x=this.centerX,i.y=this.innerTop+1);return i},Nz={};const Vz=Phaser.Display.Align.RIGHT_CENTER,zz=Phaser.Display.Align.BOTTOM_CENTER;var kz=function(i){if(i===void 0&&(i=Uz),this.childrenMap.thumb){var t=this.orientation===0?Vz:zz;XM.call(this,t,i)}else this.orientation===0?(i.x=this.innerRight-1,i.y=this.centerY):(i.x=this.centerX,i.y=this.innerBottom-1);return i},Uz={};const wy=Phaser.Math.Linear;var Xz=function(i,t,n,m){return m===void 0&&(m=Yz),m.x=wy(t.x,n.x,i),m.y=wy(t.y,n.y,i),m},Yz={},Wz=function(i){var t=this.childrenMap.thumb;if(t===void 0)return this;i===void 0&&(i=this.value);var n,m;return this.reverseAxis?(n=this.getEndPoint(),m=this.getStartPoint()):(n=this.getStartPoint(),m=this.getEndPoint()),Xz(i,n,m,t),this.resetChildPositionState(t),this};const Hz=Phaser.Display.Align.LEFT_CENTER,$z=Phaser.Display.Align.TOP_CENTER,Kz=Phaser.Display.Align.RIGHT_CENTER,Zz=Phaser.Display.Align.BOTTOM_CENTER;var jz=function(i){var t=this.childrenMap.indicator;if(t===void 0)return this;i===void 0&&(i=this.value);var n=this.reverseAxis,m,C,M=this.childrenMap.thumb;if(M)if(this.orientation===0){var h=Nt(M);if(n){var y=M.x-h*M.originX;m=this.right-y}else{var y=M.x-h*M.originX,e=y+h;m=e-this.left}}else{var f=Lt(M);if(n){var c=M.y-f*M.originY;C=this.bottom-c}else{var c=M.y-f*M.originY,s=c+f;C=s-this.top}}else this.orientation===0?m=this.width*i:C=this.height*i;Zi(t,m,C);var a;n?a=this.orientation===0?Kz:Zz:a=this.orientation===0?Hz:$z,_S(t,this,a),this.resetChildPositionState(t)};const bi=Phaser.Utils.Objects.GetValue,Al=Phaser.Utils.Objects.IsPlainObject,Jz=Phaser.Math.Clamp,Qz=Phaser.Math.Snap.To;let Ua=class extends Cr(Ot){constructor(t,n){super(t,n),this.type="rexSlider",this.bootProgressBase(n),this.reverseAxis=bi(n,"reverseAxis",!1);var m=bi(n,"background",void 0),C=bi(n,"track",void 0),M=bi(n,"indicator",void 0),h=bi(n,"thumb",void 0);m&&(Al(m)&&(m=Ci(t,m)),this.addBackground(m)),C&&(Al(C)&&(C=Ci(t,C)),this.add(C,{proportion:1,expand:!0,minWidth:this.orientation===0?0:void 0,minHeight:this.orientation===1?0:void 0})),M&&(Al(M)&&(M=Ci(t,M)),this.pin(M)),h&&(Al(h)&&(h=Ci(t,h)),this.pin(h));var y=bi(n,"input",0);switch(typeof y=="string"&&(y=qz[y]),y){case 0:h&&(h.setInteractive(),this.scene.input.setDraggable(h),h.on("drag",Iz,this).on("dragstart",function(e){this.eventEmitter.emit("inputstart",e)},this).on("dragend",function(e){this.eventEmitter.emit("inputend",e)},this));break;case 1:this.on("pointerdown",Ay,this).on("pointermove",Ay,this).on("pointerdown",function(e){this.eventEmitter.emit("inputstart",e)},this).on("pointerup",function(e){this.eventEmitter.emit("inputend",e)},this).on("pointerover",function(e){e.isDown&&this.eventEmitter.emit("inputstart",e)},this).on("pointerout",function(e){e.isDown&&this.eventEmitter.emit("inputend",e)},this).setInteractive();break}this.addChildrenMap("background",m),this.addChildrenMap("track",C),this.addChildrenMap("indicator",M),this.addChildrenMap("thumb",h),this.setEnable(bi(n,"enable",void 0)),this.setGap(bi(n,"gap",void 0)),this.setValue(bi(n,"value",0),bi(n,"min",void 0),bi(n,"max",void 0))}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t,n,m){return t&&n!==void 0&&(t=t/(m-n)),this.gap=t,this}get value(){return this._value}set value(t){this.gap!==void 0&&(t=Qz(t,this.gap));var n=this._value;this._value=Jz(t,0,1),n!==this._value&&(this.updateThumb(this._value),this.updateIndicator(this._value),this.eventEmitter.emit("valuechange",this._value,n,this.eventEmitter))}runLayout(t,n,m){return this.ignoreLayout?this:(super.runLayout(t,n,m),this.updateThumb(),this.updateIndicator(),this)}};const qz={pan:0,drag:0,click:1,none:-1};var _z={getStartPoint:Gz,getEndPoint:kz,updateThumb:Wz,updateIndicator:jz};Object.assign(Ua.prototype,_z);const We=Phaser.Utils.Objects.GetValue;class Tg extends Ot{constructor(t,n){super(t,n),this.type="rexScrollBar";var m=We(n,"background",void 0),C=We(n,"buttons",void 0),M=We(C,"top",We(C,"left",void 0)),h=We(C,"bottom",We(C,"right",void 0)),y,e=We(n,"slider",void 0);if(m&&this.addBackground(m),M){this.add(M);var f=new Ia(M);f.on("intouch",function(){if(this.enable){var v=y.reverseAxis?this.scrollStep:-this.scrollStep;this.value+=v}},this)}if(e){e.orientation=this.orientation,e.eventEmitter=this,e.value=null;var c;if(this.orientation===0){var s=We(e,"width",void 0);c=s===void 0?1:0}else{var a=We(e,"height",void 0);c=a===void 0?1:0}y=new Ua(t,e),t.add.existing(y),this.add(y,{proportion:c})}if(h){this.add(h);var f=new Ia(h);f.on("intouch",function(){if(this.enable){var u=y.reverseAxis?-this.scrollStep:this.scrollStep;this.value+=u}},this)}var r=[M,h];this.addChildrenMap("background",m),this.addChildrenMap("slider",y),this.addChildrenMap("buttons",r);var o=We(n,"valuechangeCallback",null);if(o!==null){var l=We(n,"valuechangeCallbackScope",void 0);this.on("valuechange",o,l)}this.setEnable(We(n,"enable",void 0)),this.setValue(We(n,"value",0)),this.setScrollStep(We(C,"step",.01))}setScrollStep(t){return this.scrollStep=t,this}get enable(){return this.childrenMap.slider?this.childrenMap.slider.enable:!1}set enable(t){this.childrenMap.slider&&this.childrenMap.slider.setEnable(t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}setValue(t,n,m){return this.childrenMap.slider&&this.childrenMap.slider.setValue(t,n,m),this}addValue(t,n,m){return this.childrenMap.slider&&this.childrenMap.slider.addValue(t,n,m),this}getValue(t,n){return this.childrenMap.slider?this.childrenMap.slider.getValue(t,n):0}easeValueTo(t,n,m){return this.childrenMap.slider&&this.childrenMap.slider.easeValueTo(t,n,m),this}stopEaseValue(){return this.childrenMap.slider&&this.childrenMap.slider.stopEaseValue(),this}setEaseValueDuration(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueDuration(t),this}setEaseValueFunction(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueFunction(t),this}}class tk extends Tg{constructor(t,n){n===void 0&&(n={});var m=dr(n);n={slider:m},n.orientation=m.orientation,delete m.orientation,n.background=m.background,delete m.background,n.buttons=m.buttons,delete m.buttons,super(t,n);var C=this.childrenMap.slider;this.addChildrenMap("track",C.childrenMap.track),this.addChildrenMap("indicator",C.childrenMap.indicator),this.addChildrenMap("thumb",C.childrenMap.thumb)}}class ek extends Us{constructor(t,n){super(n),this.parent=t,this.init()}init(){this.start("IDLE")}next_IDLE(){var t,n=this.parent,m=n.dragState;return m.isDown&&(t=n.dragThreshold===0?"DRAG":"DRAGBEGIN"),t}update_IDLE(t,n){this.next()}next_DRAGBEGIN(){var t,n=this.parent,m=n.dragState;return m.isDown?t=m.pointer.getDistance()>=n.dragThreshold?"DRAG":"DRAGBEGIN":t="IDLE",t}update_DRAGBEGIN(t,n){this.next()}next_DRAG(){var t,n=this.parent,m=n.dragState;return m.isUp&&(n.outOfBounds?t="BACK":n.slidingEnable?t="SLIDE":t="IDLE"),t}update_DRAG(t,n){var m=this.parent,C=m.dragState;C.justMoved&&m.dragging(),this.next()}enter_DRAG(){this.parent.onDragStart()}exit_DRAG(){this.parent.onDragEnd()}next_SLIDE(){var t,n=this.parent,m=n.dragState;return m.isDown?t="DRAG":n.isSliding||(t="IDLE"),t}enter_SLIDE(){this.parent.onSliding()}exit_SLIDE(){this.parent.stop()}update_SLIDE(t,n){this.parent.sliding(t,n),this.next()}next_BACK(){var t,n=this.parent,m=n.dragState;return m.isDown?t="DRAG":n.isPullBack||(t="IDLE"),t}enter_BACK(){this.parent.onPullBack()}exit_BACK(){this.parent.stop()}update_BACK(t,n){this.parent.pullBack(t,n),this.next()}}const wl=Phaser.Utils.Objects.GetValue,ik=Phaser.Math.Distance.Between;class sk extends me{constructor(t,n){super(t,n),this._enable=void 0,t.setInteractive(wl(n,"inputConfig",void 0)),this.resetFromJSON(n),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.isInTouched=!1,this.holdStartTime=void 0,this.x=void 0,this.y=void 0,this.preX=void 0,this.preY=void 0,this.localX=void 0,this.localY=void 0,this.justMoved=!1,this.setEnable(wl(t,"enable",!0)),this.holdThreshold=wl(t,"holdThreshold",50),this.pointerOutReleaseEnable=wl(t,"pointerOutRelease",!0),this}boot(){this.parent.on("pointerdown",this.onPointIn,this),this.parent.on("pointerup",this.onPointOut,this),this.pointerOutReleaseEnable&&this.parent.on("pointerout",this.onPointOut,this),this.parent.on("pointermove",this.onPointerMove,this),this.scene.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){this._enable!==t&&(t||(this.isInTouched=!1,this.pointer=void 0),this._enable=t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setPointerOutReleaseEnable(t){return t===void 0&&(t=!0),this.pointerOutReleaseEnable=t,this}get isDown(){return this.pointer&&this.pointer.isDown}get isUp(){return!this.isDown}get dx(){return this.x-this.preX}get dy(){return this.y-this.preY}get dt(){var t=E0(this.scene);return t}get speed(){if(this.x===this.preX&&this.y===this.preY)return 0;var t=ik(this.preX,this.preY,this.x,this.y),n=t/(this.dt*.001);return n}get speedX(){return this.dx/(this.dt*.001)}get speedY(){return this.dy/(this.dt*.001)}onPointIn(t,n,m){!this.enable||!t.isDown||this.pointer!==void 0||(this.pointer=t,this.localX=n,this.localY=m)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0)}onPointerMove(t,n,m){!this.enable||!t.isDown||this.pointer!==t||(this.localX=n,this.localY=m)}preupdate(t,n){if(this.enable){var m=this.pointer;this.justMoved=!1,m&&!this.isInTouched?(this.x=m.worldX,this.y=m.worldY,this.preX=m.worldX,this.preY=m.worldY,this.isInTouched=!0,this.holdStartTime=void 0,this.emit("touchstart",m,this.localX,this.localY)):m&&this.isInTouched?this.x===m.x&&this.y===m.y?this.holdStartTime===void 0?this.holdStartTime=t:t-this.holdStartTime>this.holdThreshold&&(this.preX=this.x,this.preY=this.y):(this.preX=this.x,this.preY=this.y,this.x=m.worldX,this.y=m.worldY,this.holdStartTime=void 0,this.justMoved=!0,this.emit("touchmove",m,this.localX,this.localY)):!m&&this.isInTouched&&(this.isInTouched=!1,this.holdStartTime=void 0,this.emit("touchend",m))}}}const Ec=Phaser.Utils.Objects.GetValue;class nk{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){return this.setValue(Ec(t,"value",0)),this.setSpeed(Ec(t,"speed",0)),this.setAcceleration(Ec(t,"acceleration",0)),this}reset(){this.setValue(0),this.setSpeed(0),this.setAcceleration(0)}setValue(t){return this.value=t,this}setSpeed(t){return this.speed=t,this}setAcceleration(t){return this.acceleration=t,this}updateSpeed(t){return this.acceleration!==0&&(this.speed+=this.acceleration*t,this.speed<0&&(this.speed=0)),this}getDeltaValue(t){return this.updateSpeed(t),this.speed<=0?0:this.speed*t}update(t){return this.updateSpeed(t),this.speed>0&&(this.value+=this.getDeltaValue(t)),this}get isMoving(){return this.speed>0}}class rk{constructor(){this.value,this.dir,this.movement=new nk}init(t,n,m,C,M){return this.value=t,this.end=M,M!==void 0?this.dir=t<M:this.dir=n,this.movement.setSpeed(m).setAcceleration(-C),this}stop(){this.movement.reset()}update(t){var n=this.movement.getDeltaValue(t);return this.dir||(n=-n),this.end===void 0?this.value+=n:n===0?this.value=this.end:(this.value+=n,this.dir?this.value>this.end&&(this.value=this.end):this.value<this.end&&(this.value=this.end)),this}get isMoving(){return this.movement.isMoving}}const ee=Phaser.Utils.Objects.GetValue,ak=Phaser.Math.Clamp;class ok extends me{constructor(t,n){super(t,n);var m=ee(n,"enable",!0);this._state=new ek(this,{enable:m,eventEmitter:!1});var C={inputConfig:ee(n,"inputConfig",void 0),enable:m,pointerOutRelease:ee(n,"pointerOutRelease",!0),eventEmitter:!1};this.dragState=new sk(t,C),this._enable=void 0,this._value=void 0,this._slowDown=new rk;var M=ee(n,"valuechangeCallback",null);if(M!==null){var h=ee(n,"valuechangeCallbackScope",void 0);this.on("valuechange",M,h)}if(M=ee(n,"overmaxCallback",null),M!==null){var h=ee(n,"overmaxCallbackScope",void 0);this.on("overmax",M,h)}if(M=ee(n,"overminCallback",null),M!==null){var h=ee(n,"overminCallbackScope",void 0);this.on("overmin",M,h)}this.resetFromJSON(n),this.boot()}resetFromJSON(t){this.setOrientationMode(ee(t,"orientation",0)),this.setDragThreshold(ee(t,"threshold",10)),this.setSlidingDeceleration(ee(t,"slidingDeceleration",5e3)),this.setBackDeceleration(ee(t,"backDeceleration",2e3));var n=ee(t,"dragRate",1);n=n*(ee(t,"dragReverse",!1)?-1:1),this.setDragRate(n);var m=ee(t,"bounds",void 0);return m?this.setBounds(m):this.setBounds(ee(t,"max",0),ee(t,"min",0)),this.setValue(ee(t,"value",this.maxValue||0)),this.setEnable(ee(t,"enable",!0)),this}boot(){this.scene.sys.events.on("preupdate",this._state.update,this._state)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this._state.update,this._state),this._state.destroy(t),this.dragState.destroy(t),this._state=void 0,this.dragState=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return this._enable=t,this._state.setEnable(t),this.dragState.setEnable(t),this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setOrientationMode(t){return typeof t=="string"&&(t=hk[t]),this.orientationMode=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setSlidingDeceleration(t){return this.slidingDeceleration=t,this}setBackDeceleration(t){return this.backDeceleration=t,this}setDragRate(t){return this.dragRate=t,this}setBounds(t,n){if(Array.isArray(t)){var m=t;t=m[0],n=m[1]}return t<n?(this.minValue=t,this.maxValue=n):(this.minValue=n,this.maxValue=t),this}get value(){return this._value}set value(t){if(t!==this._value){var n=this._value,m=this.overMax(t),C=this.overMin(t);m&&this.emit("overmax",t,n),C&&this.emit("overmin",t,n),this.backEnable||(m&&(t=this.maxValue),C&&(t=this.minValue)),this._value=t,this.emit("valuechange",t,n)}}setValue(t,n){return n===void 0&&(n=!1),n&&(t=ak(t,this.minValue,this.maxValue)),this.value=t,this}addValue(t,n){return this.setValue(this.value+t,n),this}get state(){return this._state.state}get isDragging(){return this.dragState.isInTouched}get outOfMaxBound(){return this.overMax(this.value)}get outOfMinBound(){return this.overMin(this.value)}get outOfBounds(){return this.outOfMinBound||this.outOfMaxBound}overMax(t){return this.maxValue!=null&&t>this.maxValue}overMin(t){return this.minValue!=null&&t<this.minValue}get backEnable(){return typeof this.backDeceleration=="number"}get isPullBack(){return this._slowDown.isMoving}get slidingEnable(){return typeof this.slidingDeceleration=="number"}get isSliding(){return this._slowDown.isMoving}get dragDelta(){var t;return this.orientationMode===0?t=this.dragState.dy:this.orientationMode===1?t=this.dragState.dx:t=0,t*=this.dragRate,t}get dragSpeed(){var t;return this.orientationMode===0?t=this.dragState.speedY:this.orientationMode===1?t=this.dragState.speedX:t=0,t*=this.dragRate,t}onDragStart(){this.emit("dragstart")}onDragEnd(){this.emit("dragend")}dragging(){this.value+=this.dragDelta}onSliding(){var t=this.value,n=this.dragSpeed;if(n===0){this._slowDown.stop(),this._state.next();return}var m=this.slidingDeceleration;this._slowDown.init(t,n>0,Math.abs(n),m)}sliding(t,n){n*=.001;var m=this._slowDown.update(n).value;this.overMax(m)?(this.value=this.maxValue,this._slowDown.stop()):this.overMin(m)?(this.value=this.minValue,this._slowDown.stop()):this.value=m}onPullBack(){var t=this.value,n=this.outOfMinBound?this.minValue:this.maxValue,m=Math.abs(n-t),C=this.backDeceleration,M=Math.sqrt(2*C*m);this._slowDown.init(t,void 0,M,C,n)}pullBack(t,n){n*=.001,this.value=this._slowDown.update(n).value,this._slowDown.isMoving||this._state.next()}stop(){this._slowDown.stop()}}const hk={y:0,v:0,vertical:0,x:1,h:1,horizontal:1},Ol=Phaser.Utils.Objects.GetValue;class lk extends me{constructor(t,n){if(super(t,n),this.parent!==this.scene?this.focusMode=Ol(n,"focus",!1):this.focusMode=!1,this.setSpeed(Ol(n,"speed",.1)),this.setEnable(Ol(n,"enable",!0)),!this.focusMode)this.scene.input.on("wheel",this.onSceneScroll,this);else{var t=this.parent;t.setInteractive(Ol(n,"inputConfig",void 0)).on("wheel",function(C,M,h,y,e){this.enable&&this.scroll(h)},this)}}destroy(){this.focusMode||this.scene.input.off("wheel",this.onSceneScroll,this)}onSceneScroll(t,n,m,C,M,h){this.enable&&this.scroll(C)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setSpeed(t){return this.speed=t,this}scroll(t){t*=this.speed,this.emit("scroll",t,this.parent,this)}}const ie=Phaser.Utils.Objects.GetValue;var uk=function(i,t){var n=i.scene,m=Bf(t),C=new Ot(n,{orientation:m}),M=ie(t,"child.gameObject",void 0),h=0,y=ie(t,"slider",void 0),e,f=0,c=ie(y,"position",0);typeof c=="string"&&(c=fk[c]);var s=c===0,a=ie(t,"scroller",!0),r,o=ie(t,"mouseWheelScroller",!1),l;if(M){var v=ie(t,"space.child",0);if(i.childMargin={},typeof v!="number"){var u=v;m===0?(h={left:ie(u,"left",0),right:ie(u,"right",0)},i.childMargin.top=ie(u,"top",0),i.childMargin.bottom=ie(u,"bottom",0)):(h={top:ie(u,"top",0),bottom:ie(u,"bottom",0)},i.childMargin.top=ie(u,"left",0),i.childMargin.bottom=ie(u,"right",0))}else y&&(m===0?h=s?{right:v}:{left:v}:h=s?{bottom:v}:{top:v}),i.childMargin.top=0,i.childMargin.bottom=0;y?(y===!0&&(y={}),y.orientation=C.orientation===0?1:0,e=new tk(n,y),f=ie(t,"space.slider",0),i.hideUnscrollableSlider=ie(y,"hideUnscrollableSlider",!1),i.adaptThumbSizeMode=ie(y,"adaptThumbSize",!1),i.minThumbSize=ie(y,"minThumbSize",void 0)):(i.adaptThumbSizeMode=!1,i.minThumbSize=void 0),a&&(a===!0&&(a={}),a.orientation=m,r=new ok(M,a)),o&&(l=new lk(M,o)),e&&!s&&C.add(e,{proportion:0,align:"center",padding:f,expand:!0});var d=ie(t,"child.proportion",1),p=ie(t,"child.expand",!0);C.add(M,{proportion:d,align:"center",padding:h,expand:p}),e&&s&&C.add(e,{proportion:0,align:"center",padding:f,expand:!0})}return e&&e.on("valuechange",function(g){i.t=g,i.emit("scroll",i)}),r&&r.on("valuechange",function(g){i.childOY=g,i.emit("scroll",i)}),l&&l.on("scroll",function(g){i.addChildOY(-g,!0)}),i.addChildrenMap("child",M),i.addChildrenMap("slider",e),i.addChildrenMap("scroller",r),i.addChildrenMap("mouseWheelScroller",l),C},fk={right:0,left:1,bottom:0,top:1},dk=function(){var i=this.topChildOY,t=this.bottomChildOY,n=this.childrenMap.scroller,m=this.childrenMap.slider;return n&&n.setBounds(t,i),m&&m.setEnable(t!==i),this.updateController(),m&&(this.hideUnscrollableSlider&&this.setChildVisible(m,this.isOverflow),this.adaptThumbSizeMode&&ck.call(this)),this},ck=function(){var i=Math.min(this.childVisibleHeight/this.childHeight,1),t=this.childrenMap.slider,n=t.childrenMap.track,m=t.childrenMap.thumb,C=this.minThumbSize;if(this.scrollMode===0){var M=n.displayHeight*i;C!==void 0&&M<C&&(M=C),Zi(m,void 0,M)}else{var h=n.displayWidth*i;C!==void 0&&h<C&&(h=C),Zi(m,h,void 0)}vk.call(this)},vk=function(){var i=this.childrenMap.slider,t=i.minWidth,n=i.minHeight;i.minWidth=i.width,i.minHeight=i.height,i.layout(),i.minWidth=t,i.minHeight=n},pk=function(){var i=this.childrenMap.scroller,t=this.childrenMap.slider;i&&i.setValue(this.childOY),t&&t.setValue(this.t)};const ns=Phaser.Utils.Objects.GetValue,Oy=Phaser.Math.Clamp;class bf extends Ot{constructor(t,n){n===void 0&&(n={});var m=Bf(n);n.orientation=m===0?1:0,super(t,n),this.type=ns(n,"type","rexScrollable");var C=ns(n,"background",void 0),M=uk(this,n),h=ns(n,"header",void 0),y=ns(n,"footer",void 0);if(C&&this.addBackground(C),h){var e=ns(n,"align.header","center"),f=ns(n,"space.header",0),c;m===0?c={bottom:f}:c={right:f};var s=ns(n,"expand.header",!0);this.add(h,{proportion:0,align:e,padding:c,expand:s})}if(M&&this.add(M,{proportion:1,align:"center",padding:0,expand:!0}),y){var e=ns(n,"align.footer","center"),a=ns(n,"space.footer",0),c;m===0?c={top:a}:c={left:a};var s=ns(n,"expand.footer",!0);this.add(y,{proportion:0,align:e,padding:c,expand:s})}this.addChildrenMap("background",C),this.addChildrenMap("header",h),this.addChildrenMap("footer",y),this.runLayoutFlag=!1}runLayout(t,n,m){return this.ignoreLayout?this:(super.runLayout(t,n,m),this.resizeController(),this.runLayoutFlag||(this.runLayoutFlag=!0,this.setT(0)),this)}set t(t){var n=this.childMargin;if(n.top!==0||n.bottom!==0){var m=this.childrenMap.child,C=m.topChildOY-m.bottomChildOY,M=C+n.top+n.bottom,h=M*t-n.top;t=h/C}this.childrenMap.child.t=t,this.updateController()}get t(){var t=this.childrenMap.child.t,n=this.childMargin;if(n.top!==0||n.bottom!==0){var m=this.childrenMap.child,C=m.topChildOY-m.bottomChildOY,M=C+n.top+n.bottom,h=C*t+n.top;t=h/M}return t}set childOY(t){this.childrenMap.child.childOY=t,this.updateController()}get childOY(){return this.childrenMap.child.childOY}get topChildOY(){return this.childrenMap.child.topChildOY+this.childMargin.top}get bottomChildOY(){return this.childrenMap.child.bottomChildOY-this.childMargin.bottom}get childVisibleHeight(){return this.childrenMap.child.childVisibleHeight}get childHeight(){return this.childrenMap.child.childHeight}get isOverflow(){var t=this.childrenMap.child;return t.topChildOY!==t.bottomChildOY}get scrollMode(){return this.orientation===0?1:0}setChildOY(t,n){return n===void 0&&(n=!1),n&&(t=Oy(t,this.bottomChildOY,this.topChildOY)),this.childOY=t,this}addChildOY(t,n){return this.setChildOY(this.childOY+t,n),this}setT(t,n){return n===void 0&&(n=!1),n&&(t=Oy(t,0,1)),this.t=t,this}addT(t,n){return this.setT(this.t+t,n),this}scrollToTop(){return this.t=0,this}scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this}get sliderEnable(){var t=this.childrenMap.slider;return t?t.enable:!1}set sliderEnable(t){var n=this.childrenMap.slider;n&&n.setEnable(t)}setSliderEnable(t){return t===void 0&&(t=!0),this.sliderEnable=t,this}get scrollerEnable(){var t=this.childrenMap.scroller;return t?t.enable:!1}set scrollerEnable(t){var n=this.childrenMap.scroller;n&&n.setEnable(t)}setScrollerEnable(t){return t===void 0&&(t=!0),this.scrollerEnable=t,this}get mouseWheelScrollerEnable(){var t=this.childrenMap.mouseWheelScroller;return t?t.enable:!1}set mouseWheelScrollerEnable(t){var n=this.childrenMap.mouseWheelScrollerEnable;n&&n.setEnable(t)}setMouseWheelScrollerEnable(t){return t===void 0&&(t=!0),this.mouseWheelScrollerEnable=t,this}setDropZoneEnable(t){t===void 0&&(t=!0);var n=this.childrenMap.child;return n.setInteractive(),n.input.dropZone=t,this}}var gk={resizeController:dk,updateController:pk};Object.assign(bf.prototype,gk);const Qe=0,oi=1,hi=2;var Xa=function(i){var t;return GM(i)?t=hi:cg(i)?t=Qe:t=oi,t},Cg=function(i,t,n){var m=Xa(i);switch(m){case Qe:n=i.getWrappedText(t);break;case oi:n=i.getPenManager(t,n);break;case hi:i.maxWidth>0?n=i.setText(t).getTextBounds().wrappedText.split(`
`):n=t.split(`
`);break}return n},mk=function(i){return i!==void 0&&(this.text=i),this.lines=Cg(this.textObject,this.text,this.lines),this.linesCount=this.lines.length,this._textHeight=void 0,this._textVisibleHeight=void 0,this.updateTextObject(),this},YM=function(i){return(i-this.textLineSpacing)/(this.textLineHeight+this.textLineSpacing)},WM=function(i){return i*(this.textLineHeight+this.textLineSpacing)-this.textLineSpacing},xk=function(i){var t=i+this.visibleLinesCount+1,n;switch(this.textObjectType){case Qe:n=this.lines.slice(i,t).join(`
`);break;case oi:var m=this.lines.getLineStartIndex(i),C=this.lines.getLineEndIndex(t-1);n=this.lines.getSliceTagText(m,C,!0);break;case hi:n=this.lines.slice(i,t).join(`
`);break}return n},Sg=function(i,t){var n=Xa(i);switch(n){case Qe:var M=i.style,m=M.wordWrapWidth,C=M.wordWrapCallback;M.wordWrapWidth=0,M.wordWrapCallback=void 0,i.setText(t),M.wordWrapWidth=m,M.wordWrapCallback=C;break;case oi:var M=i.style,h=M.wrapMode;M.wrapMode=0,i.setText(t),M.wrapMode=h;break;case hi:var y=i._maxWidth;i._maxWidth=0,i.setText(t),i._maxWidth=y;break}},HM=function(){var i=this.textObject.rexSizer;this.textObject.y+=i.offsetY-i.preOffsetY,i.preOffsetY=i.offsetY,this.resetChildPositionState(this.textObject),this.textCropEnable&&yk.call(this)},yk=function(){if(this.textObject.setCrop){var i=this.textObject.rexSizer.offsetY,t,n;i<=0?(t=-i,n=this.height):(t=0,n=this.height-i),this.textObject.setCrop(0,t,this.width,n)}},Tk=function(){var i=Math.max(Math.floor(YM.call(this,-this.textOY)),0),t=WM.call(this,i)+this.textOY,n=xk.call(this,i);return Sg(this.textObject,n),this.textObject.rexSizer.offsetY=t,HM.call(this),this},Ck=function(){return this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,Mh.call(this),this},Sk=function(i,t,n){if(n+=this.textLineHeight+this.textLineSpacing,!(this.textObjectWidth===t&&this._textObjectRealHeight===n)){switch(this.textObjectWidth=t,this._textObjectRealHeight=n,this.textObjectType){case Qe:case oi:i.setFixedSize(t,n);var m=i.style,C=Math.max(t,0);this.textObjectType===Qe?m.wordWrapWidth=C:(m.wrapMode===0&&(m.wrapMode=1),m.wrapWidth=C);break;case hi:i.setMaxWidth(t);break}this.setText()}},Mk=function(){var i,t,n,m=this.left,C=this.top,M,h,y,e;i=this.textObject,i.rexSizer.hidden||(t=i.rexSizer,n=t.padding,M=m+n.left,h=C+n.top,y=this.width-n.left-n.right,e=this.height-n.top-n.bottom,Sk.call(this,i,y,e),yh(i,M,h,y,e,t.align),t.preOffsetY=0,HM.call(this),this.textMask&&(this.textMask.setPosition().resize(),this.resetChildPositionState(this.textMask)))};const Ek={setText:mk,updateTextObject:Tk,preLayout:Ck,layoutChildren:Mk},Ly=Phaser.Utils.Objects.IsPlainObject,ii=Phaser.Utils.Objects.GetValue,Pk=Phaser.Display.Align.TOP_LEFT;class $M extends Sr{constructor(t,n,m,C,M,h){Ly(n)?(h=n,n=ii(h,"x",0),m=ii(h,"y",0),C=ii(h,"width",void 0),M=ii(h,"height",void 0)):Ly(C)&&(h=C,C=ii(h,"width",void 0),M=ii(h,"height",void 0)),super(t,n,m,C,M,h),this.type="rexTextBlock",this.textObject=void 0,this.linesCount=0,this.textMask=void 0,this.textObjectType=void 0,this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,this._textObjectRealHeight=0,this.lines=void 0,this.text=ii(h,"content",""),this._textOY=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.setClampMode(ii(h,"clamplTextOY",!0)),this.alwaysScrollable=ii(h,"alwaysScrollable",!1);var y=ii(h,"background",void 0),e=ii(h,"text",void 0);e===void 0&&(e=Rk(t)),this.textCropEnable=ii(h,"textCrop",!!e.setCrop);var f=ii(h,"textMask",!this.textCropEnable);y&&this.addBackground(y),this.add(e),this.sizerChildren=[e];var c=this.getSizerConfig(e);c.align=Pk,c.padding=ka(0),c.expand=!0,this.textObject=e,this.textObjectType=Xa(e),c.preOffsetY=0,c.offsetY=0,f&&(this.textMask=ji.call(this,this.textObject,this)),this.addChildrenMap("background",y),this.addChildrenMap("text",e)}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(this.textObject=void 0,this.textMask=void 0,this.lines){switch(this.textObjectType){case Qe:this.lines.length=0;break;case oi:this.lines.destroy();break;case hi:this.lines.length=0;break}this.lines=void 0}super.destroy(t)}}setClampMode(t){return t===void 0&&(t=!0),this.clampTextOY=t,this}get textLineHeight(){if(this._textLineHeight===void 0){var t;switch(this.textObjectType){case Qe:case oi:var n=this.textObject.style;t=n.metrics.fontSize+n.strokeThickness;break;case hi:var m=this.textObject.fontSize/this.textObject.fontData.size;t=this.textObject.fontData.lineHeight*m;break}this._textLineHeight=t}return this._textLineHeight}get textLineSpacing(){if(this._textLineSpacing===void 0){var t;switch(this.textObjectType){case Qe:case oi:t=this.textObject.lineSpacing;break;case hi:t=0;break}this._textLineSpacing=t}return this._textLineSpacing}get visibleLinesCount(){return this._visibleLinesCount===void 0&&(this._visibleLinesCount=Math.floor(YM.call(this,this._textObjectRealHeight))),this._visibleLinesCount}get topTextOY(){return 0}get bottomTextOY(){return-this.textVisibleHeight}get textHeight(){return this._textHeight===void 0&&(this._textHeight=WM.call(this,this.linesCount)),this._textHeight}get textObjectHeight(){return this._textObjectRealHeight-(this.textLineHeight+this.textLineSpacing)}get textVisibleHeight(){if(this._textVisibleHeight===void 0){var t=this.textHeight-this.textObjectHeight;!this.alwaysScrollable&&t<0&&(t=0),this._textVisibleHeight=t}return this._textVisibleHeight}textOYExceedTop(t){return t===void 0&&(t=this.textOY),t>this.topTextOY}textOYExeceedBottom(t){return t===void 0&&(t=this.textOY),t<this.bottomTextOY}get textOY(){return this._textOY}set textOY(t){var n=this.topTextOY,m=this.bottomTextOY,C=this.textOYExceedTop(t),M=this.textOYExeceedBottom(t);this.clampTextOY&&(this.visibleLinesCount>this.linesCount?t=0:C?t=n:M&&(t=m)),this._textOY!==t&&(this._textOY=t,this.updateTextObject()),C&&(this.execeedTopState||this.emit("execeedtop",this,t,n)),this.execeedTopState=C,M&&(this.execeedBottomState||this.emit("execeedbottom",this,t,m)),this.execeedBottomState=M}setTextOY(t){return this.textOY=t,this}set t(t){this.textOY=-this.textVisibleHeight*t}get t(){var t=this.textVisibleHeight;return t===0?0:this.textOY/-t}setTextOYByPercentage(t){return this.t=t,this}}var Rk=function(i){return i.add.text(0,0,"")};Object.assign($M.prototype,Ek);var Ak=function(i){Object.defineProperty(i,"childOY",{configurable:!0,get:function(){return i.textOY},set:function(t){i.textOY=t}}),Object.defineProperty(i,"topChildOY",{get:function(){return i.topTextOY}}),Object.defineProperty(i,"bottomChildOY",{get:function(){return i.bottomTextOY}}),Object.defineProperty(i,"childVisibleHeight",{get:function(){return i.textObjectHeight}}),Object.defineProperty(i,"childHeight",{get:function(){return i.textHeight}})};const wk={setText(i){var t=this.childrenMap.child;return t.setText(i),this.resizeController(),this},appendText(i){return this.setText(this.text+i),this}};Phaser.Math.Clamp;const Ok={scrollToLine(i){return this.setChildOY(-this.lineHeight*i),this},scrollToNextLine(i){i===void 0&&(i=1);var t=this.lineIndex+i;return this.scrollToLine(t),this}},Ms=Phaser.Utils.Objects.GetValue;class Ah extends bf{constructor(t,n){n===void 0&&(n={});var m=Ms(n,"text",void 0),C=Ms(n,"textWidth",void 0),M=Ms(n,"textHeight",void 0),h=Ms(n,"textCrop",!!m.setCrop),y=Ms(n,"textMask",!h),e=Ms(n,"content",""),f=new $M(t,{width:C,height:M,text:m,textMask:y,textCrop:h&&!y,content:e,clamplTextOY:Ms(n,"clamplChildOY",!1),alwaysScrollable:Ms(n,"alwaysScrollable",!1)});t.add.existing(f);var c=C===void 0?1:0,s=M===void 0;Ak(f),n.scrollMode=0,n.type="rexTextArea",n.child={gameObject:f,proportion:c,expand:s};var a=Ms(n,"space",void 0);a&&(a.child=a.text),super(t,n),this.addChildrenMap("text",m)}get text(){return this.childrenMap.child.text}get lineHeight(){var t=this.childrenMap.child;return t.textLineHeight+t.textLineSpacing}get lineIndex(){return Math.floor(-this.childOY/this.lineHeight)}get linesCount(){return this.childrenMap.child.linesCount}get contentHeight(){return this.childrenMap.child.textHeight}}Object.assign(Ah.prototype,wk,Ok);const Ll=Phaser.Utils.Objects.GetValue;var Lk=function(i,t,n){t=t?wi(t):{};var m=Ll(n,"background",Ci),C=Ll(n,"text",bM),M=Ll(n,"track",Ci),h=Ll(n,"thumb",Ci);m?t.background=m(i,t.background):delete t.background,C?t.text=C(i,t.text):delete t.text;var y=t.slider;y!==!1&&(y===void 0&&(y={}),M?y.track=M(i,y.track):delete y.track,h?y.thumb=h(i,y.thumb):delete y.thumb,t.slider=y);var e=new Ah(i,t);return i.add.existing(e),e};const Fk=Phaser.Utils.Objects.GetValue;var Ik=function(i,t,n){var m=Fk(t,"$type");m===void 0&&t&&(t.hasOwnProperty("slider")||t.hasOwnProperty("scroller"))&&(m="textarea");var C;switch(m){case"textarea":C=new Lk(i,t,n);break;default:C=new Si(i,t,n);break}return i.add.existing(C),C};const Dk=Phaser.Utils.Objects.GetValue;class Mg extends Df{constructor(t,n,m){n=n?wi(n):{},m===void 0&&(m={});var C=Dk(m,"background",Ci);C?n.background=C(t,n.background):delete n.background,n.title=Si(t,n.title,m.title),n.content=Ik(t,n.content,m.content),n.content instanceof Ah&&us(n,"height")&&!us(n,"proportion.content")&&nt(n,"proportion.content",1);var M=n.button,h=n.buttonA||M,y=n.buttonB||M,e=n.buttonMode;e===void 0&&(e=h&&y?2:h?1:0);var f=m.button,c=m.buttonA||f,s=m.buttonB||f;switch(e){case 2:n.actions=[Si(t,h,c),Si(t,y,s)];break;case 1:n.actions=[Si(t,h,c)];break;case 0:break;default:n.actions=[];break}var a=n.choice;a&&(n.choices=[]),super(t,n),this.type="rexConfirmDialog",this.buttonMode=e,this.defaultActionConfig=M,this.defaultActionButtonCreator=f,this.defaultChoiceConfig=a,this.defaultChoiceCreator=m.choice;var r=this.childrenMap.actions;this.addChildrenMap("buttonA",r?r[0]:null),this.addChildrenMap("buttonB",r?r[1]:null),Lz.call(this)}}Object.assign(Mg.prototype,Ez);at.register("confirmDialog",function(i,t){var n=new Mg(this.scene,i,t);return this.scene.add.existing(n),n});nt(window,"RexPlugins.UI.ConfirmDialog",Mg);const Fl=Phaser.Utils.Objects.GetValue;var wh=function(i,t,n){var m=Fl(i,`proportion.${t}`,n.proportion),C=Fl(i,`align.${t}`,"center"),M=Fl(i,`space.${t}`,void 0);if(typeof M=="number"&&n.paddingKey){var h=M;M={},M[n.paddingKey]=h}var y=Fl(i,`expand.${t}`,!0);return{proportion:m,align:C,padding:M,expand:y}},Gf=function(i){return wh(i,"header",{proportion:0,paddingKey:"bottom"})},Nf=function(i){return wh(i,"leftSide",{proportion:0,paddingKey:"right"})},Vf=function(i){return wh(i,"content",{proportion:1})},zf=function(i){return wh(i,"rightSide",{proportion:0,paddingKey:"left"})},kf=function(i){return wh(i,"footer",{proportion:0,paddingKey:"top"})},Is=function(i){return{proportion:1,align:"center",padding:0,expand:!0}},Ds=function(i,t){var n=new Ot(i,{orientation:t});return i.add.existing(n),n},Bk=function(i){var t=this.scene,n=i.header;n&&this.add(n,Gf(i));var m=Ds(t,0);this.add(m,Is());var C=i.leftSide;C&&m.add(C,Nf(i));var M=i.content;M&&m.add(M,Vf(i));var h=i.rightSide;h&&m.add(h,zf(i));var y=i.footer;y&&this.add(y,kf(i))},bk=function(i){var t=this.scene,n=i.header;n&&this.add(n,Gf(i));var m=Ds(t,0);this.add(m,Is());var C=i.leftSide;C&&m.add(C,Nf(i));var M=Ds(t,1);m.add(M,Is());var h=Ds(t,0);M.add(h,Is());var y=i.content;y&&h.add(y,Vf(i));var e=i.rightSide;e&&h.add(e,zf(i));var f=i.footer;f&&M.add(f,kf(i))},Gk=function(i){var t=this.scene,n=i.header;n&&this.add(n,Gf(i));var m=Ds(t,0);this.add(m,Is());var C=Ds(t,1);m.add(C,Is());var M=Ds(t,0);C.add(M,Is());var h=i.leftSide;h&&M.add(h,Nf(i));var y=i.content;y&&M.add(y,Vf(i));var e=i.footer;e&&C.add(e,kf(i));var f=i.rightSide;f&&m.add(f,zf(i))},Nk=function(i){var t=this.scene,n=i.header;n&&this.add(n,Gf(i));var m=Ds(t,0);this.add(m,Is());var C=i.leftSide;C&&m.add(C,Nf(i));var M=Ds(t,1);m.add(M,Is());var h=i.content;h&&M.add(h,Vf(i));var y=i.footer;y&&M.add(y,kf(i));var e=i.rightSide;e&&m.add(e,zf(i))};const Fy=Phaser.Utils.Objects.GetValue,Iy=[Bk,bk,Gk,Nk];var Vk=function(i){this.clear(!0);var t=Fy(i,"background",void 0);t&&this.addBackground(t);var n=Fy(i,"layoutMode",0);typeof n=="string"&&(n=zk[n.toUpperCase()]);var m=Iy[n]||Iy[0];m.call(this,i),this.addChildrenMap("background",i.background),this.addChildrenMap("header",i.header),this.addChildrenMap("leftSide",i.leftSide),this.addChildrenMap("content",i.content),this.addChildrenMap("rightSide",i.rightSide),this.addChildrenMap("footer",i.footer)};const zk={FFF:0,LFF:1,FFR:2,LFR:3};class Eg extends Ot{constructor(t,n){n===void 0&&(n={}),n.orientation=1,super(t,n),this.type="rexHolyGrail",this.build(n)}}var kk={build:Vk};Object.assign(Eg.prototype,kk);at.register("holyGrail",function(i){var t=new Eg(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.HolyGrail",Eg);const Uk={getButtonsSizer(i){return this.childrenMap[`${i}ButtonsSizer`]},getButton(i,t){var n=this.getButtonsSizer(i);return n?n.getButton(t):void 0},setButtonEnable(i,t,n){return this.getButtonsSizer(i).setButtonEnable(t,n),this},setLeftButtonEnable(i,t){return this.childrenMap.leftButtonsSizer.setButtonEnable(i,t),this},setRightButtonEnable(i,t){return this.childrenMap.rightButtonsSizer.setButtonEnable(i,t),this},setTopButtonEnable(i,t){return this.childrenMap.topButtonsSizer.setButtonEnable(i,t),this},setBottomButtonEnable(i,t){return this.childrenMap.bottomButtonsSizer.setButtonEnable(i,t),this},toggleButtonEnable(i,t){return this.getButtonsSizer(i).toggleButtonEnable(t),this},toggleLeftButtonEnable(i){return this.childrenMap.leftButtonsSizer.toggleButtonEnable(i),this},toggleRightButtonEnable(i){return this.childrenMap.rightButtonsSizer.toggleButtonEnable(i),this},toggleTopButtonEnable(i){return this.childrenMap.topButtonsSizer.toggleButtonEnable(i),this},toggleBottomButtonEnable(i){return this.childrenMap.bottomButtonsSizer.toggleButtonEnable(i),this},getButtonEnable(i,t){return this.getButtonsSizer(i).getButtonEnable(t)},getLeftButtonEnable(i){return this.childrenMap.leftButtonsSizer.getButtonEnable(i)},getRightButtonEnable(i){return this.childrenMap.rightButtonsSizer.getButtonEnable(i)},getTopButtonEnable(i){return this.childrenMap.topButtonsSizer.getButtonEnable(i)},getBottomButtonEnable(i){return this.childrenMap.bottomButtonsSizer.getButtonEnable(i)},emitButtonClick(i,t){var n=this.getButtonsSizer(i);return n?(n.emitButtonClick(t),this):this},emitLeftButtonClick(i){return this.childrenMap.leftButtonsSizer.emitButtonClick(i),this},emitRightButtonClick(i){return this.childrenMap.rightButtonsSizer.emitButtonClick(i),this},emitTopButtonClick(i){return this.childrenMap.topButtonsSizer.emitButtonClick(i),this},emitBottomButtonClick(i){return this.childrenMap.bottomButtonsSizer.emitButtonClick(i),this},getLeftButton(i){return this.childrenMap.leftButtonsSizer.getButton(i)},getRightButton(i){return this.childrenMap.rightButtonsSizer.getButton(i)},getTopButton(i){return this.childrenMap.topButtonsSizer.getButton(i)},getBottomButton(i){return this.childrenMap.bottomButtonsSizer.getButton(i)},showButton(i,t){return nn(this.getButton(i,t)),this},showLeftButton(i){return nn(this.getLeftButton(i)),this},showRightButton(i){return nn(this.getRightButton(i)),this},showTopButton(i){return nn(this.getTopButton(i)),this},showBottomButton(i){return nn(this.getBottomButton(i)),this},hideButton(i,t){return rn(this.getButton(i,t)),this},hideLeftButton(i){return rn(this.getLeftButton(i)),this},hideRightButton(i){return rn(this.getRightButton(i)),this},hideTopButton(i){return rn(this.getTopButton(i)),this},hideBottomButton(i){return rn(this.getBottomButton(i)),this},addButton(i,t){return this.getButtonsSizer(i).addButton(t),this},addLeftButton(i){return this.addButton("left",i),this},addRightButton(i){return this.addButton("right",i),this},addTopButton(i){return this.addButton("top",i),this},removeButton(i,t,n){return this.getButtonsSizer(i).removeButton(t,n),this},removeLeftButton(i,t){return this.removeButton("left",i,t),this},removeRightButton(i,t){return this.removeButton("right",i,t),this},removeTopButton(i,t){return this.removeButton("top",i,t),this},removeBottomButton(i,t){return this.removeButton("bottom",i,t),this},clearButtons(i,t){return this.getButtonsSizer(i).clearButtons(t),this},clearLeftButtons(i){return this.clearButtons("left",i),this},clearRightButtons(i){return this.clearButtons("right",i),this},clearTopButtons(i){return this.clearButtons("top",i),this},clearBottomButtonss(i){return this.clearButtons("bottom",i),this},forEachButton(i,t,n){return this.getButtonsSizer(i).forEachButtton(t,n),this},forEachLeftButton(i,t){return this.childrenMap.leftButtonsSizer.forEachButtton(i,t),this},forEachRightButton(i,t){return this.childrenMap.rightButtonsSizer.forEachButtton(i,t),this},forEachTopButton(i,t){return this.childrenMap.topButtonsSizer.forEachButtton(i,t),this},forEachBottomButton(i,t){return this.childrenMap.bottomButtonsSizer.forEachButtton(i,t),this}},Ht=Phaser.Utils.Objects.GetValue;class Pg extends In{constructor(t,n){n===void 0&&(n={}),n.column=3,n.row=3,super(t,n),this.type="rexTabs",this.eventEmitter=Ht(n,"eventEmitter",this);var m=Ht(n,"background",void 0),C=Ht(n,"panel",void 0),M=Ht(n,"leftButtons",void 0),h=Ht(n,"leftButtonsBackground",void 0),y,e=Ht(n,"rightButtons",void 0),f=Ht(n,"rightButtonsBackground",void 0),c,s=Ht(n,"topButtons",void 0),a=Ht(n,"topButtonsBackground",void 0),r,o=Ht(n,"bottomButtons",void 0),l=Ht(n,"bottomButtonsBackground",void 0),v,u=Ht(n,"click",void 0);if(m&&this.addBackground(m),C&&this.add(C,1,1,"center",0,!0),M){var d=Ht(n,"space.leftButtonsOffset",0),p=Ht(n,"space.leftButton",0);y=new Ce(t,{groupName:"left",background:h,buttons:M,orientation:1,space:{item:p},align:Ht(n,"align.leftButtons",void 0),click:u,eventEmitter:this.eventEmitter});var g={top:d};this.add(y,0,1,"top",g,!1)}if(e){var x=Ht(n,"space.rightButtonsOffset",0),T=Ht(n,"space.rightButton",0);c=new Ce(t,{groupName:"right",background:f,buttons:e,orientation:1,space:{item:T},align:Ht(n,"align.rightButtons",void 0),click:u,eventEmitter:this.eventEmitter});var g={top:x};this.add(c,2,1,"top",g,!1)}if(s){var S=Ht(n,"space.topButtonsOffset",0),P=Ht(n,"space.topButton",0);r=new Ce(t,{groupName:"top",background:a,buttons:s,orientation:0,space:{item:P},align:Ht(n,"align.topButtons",void 0),click:u,eventEmitter:this.eventEmitter});var g={left:S};this.add(r,1,0,"left",g,!1)}if(o){var E=Ht(n,"space.bottomButtonsOffset",0),R=Ht(n,"space.bottomButton",0);v=new Ce(t,{groupName:"bottom",background:l,buttons:o,orientation:0,space:{item:R},align:Ht(n,"align.bottomButtons",void 0),click:u,eventEmitter:this.eventEmitter});var g={left:E};this.add(v,1,2,"left",g,!1)}this.addChildrenMap("background",m),this.addChildrenMap("panel",C),this.addChildrenMap("leftButtons",M),this.addChildrenMap("rightButtons",e),this.addChildrenMap("topButtons",s),this.addChildrenMap("bottomButtons",o),this.addChildrenMap("leftButtonsSizer",y),this.addChildrenMap("rightButtonsSizer",c),this.addChildrenMap("topButtonsSizer",r),this.addChildrenMap("bottomButtonsSizer",v)}}Object.assign(Pg.prototype,Uk);at.register("tabs",function(i){var t=new Pg(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.Tabs",Pg);at.register("slider",function(i){var t=new Ua(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.Slider",Ua);class KM{constructor(t,n){this.container=null,this._deltaHeight=0,this.setParent(t)}setParent(t){this.parent=t,this.parentContainer=t.getParentContainer()}destroy(t){t===void 0&&(t=!1),t||this.destroyContainer(),this.deltaHeight=0,this.data=void 0,this.container=null,this.parent=void 0,this.parentContainer=void 0}get table(){return this.parent}get scrollMode(){return this.parentContainer.scrollMode}get colIndx(){return this.parent.cellIndxeToColIndex(this.index)}get rowIndx(){return this.parent.cellIndxeToRowIndex(this.index)}getContainer(){return this.container}setContainer(t){return t?(this.container&&this.container.destroy(),this.container=t,this.parentContainer.add(t),this):(this.destroyContainer(),this)}destroyContainer(){return this.container&&(this.container.destroy(),this.container=null),this}popContainer(){if(this.container){var t=this.container;return this.container=null,this.parentContainer.remove(t),t}else return null}setXY(t,n){return this.container&&this.parentContainer.setChildLocalPosition(this.container,t,n),this}setCellContainerAlign(t){return typeof t=="string"&&(t=yi[t]),this.cellContainerAlign=t,this}get deltaHeight(){return this._deltaHeight}set deltaHeight(t){t==null&&(t=0);var n=this.parent;this._deltaHeight===0&&t!==0?n.nonZeroDeltaHeightCount++:this._deltaHeight!==0&&t===0&&n.nonZeroDeltaHeightCount--;var m=this._deltaHeight!==t;if(this._deltaHeight=t,m){n.resetTotalRowsHeight();var C=this.scrollMode===0?"cellheightchange":"cellwidthchange";this.parentContainer.emit(C,this,this.container,this.parentContainer)}}get deltaWidth(){return this.deltaHeight}set deltaWidth(t){this.deltaHeight=t}setDeltaHeight(t){return this.deltaHeight=t,this}setDeltaWidth(t){return this.deltaHeight=t,this}get height(){return this.scrollMode===0?this.deltaHeight+this.parent.defaultCellHeight:this.parent.defaultCellWidth}set height(t){this.scrollMode!==1&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setHeight(t){return this.height=t,this}get width(){return this.scrollMode===0?this.parent.defaultCellWidth:this.deltaHeight+this.parent.defaultCellHeight}set width(t){this.scrollMode!==0&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setWidth(t){return this.width=t,this}get scene(){return this.parentContainer.scene}}Object.assign(KM.prototype,tf);const Dy=Phaser.Utils.Objects.GetValue,Xk=Phaser.Utils.Array.SpliceOne;class Yk{constructor(t,n){this.parent=t,this.cells=[],this.cellPool=new fs,this.resetFromJSON(n)}resetFromJSON(t){t===void 0&&(t={}),this.colCount=void 0,this.nonZeroDeltaHeightCount=0,this.resetTotalRowsHeight();var n=t.cellHeight;n===void 0&&(n=30);var m=t.cellWidth;return m===void 0&&(m=30),this.setDefaultCellHeight(n),this.setDefaultCellWidth(m),this.initCells(Dy(t,"cellsCount",0)),this.setColumnCount(Dy(t,"columns",1)),this}destroy(t){this.cellPool.destroy(),this.cells=void 0,this.parent=void 0}get defaultCellHeightMode(){return this.nonZeroDeltaHeightCount===0}setDefaultCellHeight(t){return this.defaultCellHeight=t,this}setDefaultCellWidth(t){return this.defaultCellWidth=t,this}initCells(t){var n=this.cells;n.length=t;for(var m=0;m<t;m++)n[m]=null;return this}insertNewCells(t,n){var m=this.cells;if(t===m.length){var C=t+n;m.legth=C;for(var M=t;M<C;M++)m[M]=null}else{var h=[];h.length=n;for(var M=0;M<n;M++)h[M]=null;this.cells.splice(t,0,...h)}return this.resetTotalRowsHeight(),this}removeCells(t,n){for(var m=t+n,C=t;C<m;C++)this.freeCell(C);return m===this.cells.length?this.cells.length=t:(n===1?Xk(this.cells,t):this.cells.splice(t,n),this.buildCellIndex(t)),this.resetTotalRowsHeight(),this}setColumnCount(t){return this.colCount=t,this.resetTotalRowsHeight(),this}get rowCount(){return Math.ceil(this.cells.length/this.colCount)}get cellsCount(){return this.cells.length}isValidCellIdx(t){return t>=0&&t<this.cells.length}heightToRowIndex(t,n){if(n===void 0&&(n=0),t===0)return 0;if(this.defaultCellHeightMode){var y=t/this.defaultCellHeight;switch(n){case 0:y=Math.floor(y);break;case 1:y=Math.ceil(y);break;default:Number.isInteger(y)?y+=1:y=Math.floor(y);break}return y}for(var m=this.rowCount,C=t,M,h,y=0;;)if(h=this.getRowHeight(y),C-=h,M=y>=0&&y<m,C>0&&M)y+=1;else{if(C===0)return n===2&&(y+=1),y;if(n===1){var e=y;y+=1,M=y>=0&&y<m,M||(y=e)}return y}}widthToColIndex(t,n){if(t===0)return 0;var m=t/this.defaultCellWidth;return n?m=Math.ceil(m):m=Math.floor(m),m}colRowToCellIndex(t,n){return t>=this.colCount?null:n*this.colCount+t}rowIndexToHeight(t,n){if(this.defaultCellHeightMode)return(n-t+1)*this.defaultCellHeight;for(var m,C=0,M=t;M<=n;M++)m=this.getRowHeight(M),C+=m;return C}colIndexToWidth(t,n){return(n-t+1)*this.defaultCellWidth}getRowHeight(t){var n=this.colCount;if(n<=1)return this.getCellHeight(this.colRowToCellIndex(0,t));for(var m=0,C,M=0;M<n;M++)C=this.getCellHeight(this.colRowToCellIndex(M,t)),m<C&&(m=C);return m}getColWidth(t){return this.defaultCellWidth}getCellHeight(t){if(!this.isValidCellIdx(t))return 0;var n;if(this.defaultCellHeightMode)n=this.defaultCellHeight;else{var m=this.getCell(t,!1),C=m?m.deltaHeight:0;n=this.defaultCellHeight+C}return n}resetTotalRowsHeight(){this._totalRowsHeight=null}get totalRowsHeight(){return this._totalRowsHeight===null&&(this._totalRowsHeight=this.rowIndexToHeight(0,this.rowCount-1)),this._totalRowsHeight}get totalColumnWidth(){return this.colCount*this.defaultCellWidth}cellIndxeToColIndex(t){return t%this.colCount}cellIndxeToRowIndex(t){return Math.floor(t/this.colCount)}getCell(t,n){if(!this.isValidCellIdx(t))return null;if(n===void 0&&(n=!0),this.cells[t]===null&&n){var m=this.newCell(t);this.cells[t]=m}return this.cells[t]}newCell(t){var n=this.cellPool.pop();return n===null?n=new KM(this):n.setParent(this),n.index=t,n}buildCellIndex(t){t===void 0&&(t=0);for(var n=this.cells,m,C=t,M=n.length;C<M;C++)m=n[C],m&&(m.index=C);return this}getParentContainer(){return this.parent}freeCell(t){return typeof t=="number"&&(t=this.cells[t]),t?(t.destroy(),this.cellPool.push(t),this):this}}var Wk=function(i){var t=this.table,n=this.topTableOY,m=this.bottomTableOY,C=i>this.topTableOY,M=i<this.bottomTableOY;if(this.clampTableOXY){var h=t.rowCount,y=t.heightToRowIndex(this.instHeight,1);h<y?i=0:C?i=n:M&&(i=m)}return this._tableOY!==i&&(this._tableOY=i),C&&(this.execeedTopState||this.emit("execeedtop",this,i,n)),this.execeedTopState=C,M&&(this.execeedBottomState||this.emit("execeedbottom",this,i,m)),this.execeedBottomState=M,this},Hk=function(i){var t=this.table,n=this.leftTableOX,m=this.rightTableOX,C=i>this.leftTableOX,M=i<this.rightTableOX;if(this.clampTableOXY){var h=t.colCount,y=t.widthToColIndex(this.instWidth,!0);h<y?i=0:C?i=n:M&&(i=m)}return this._tableOX!==i&&(this._tableOX=i),C&&(this.execeedLeftState||this.emit("execeedleft",this,i,n)),this.execeedLeftState=C,M&&(this.execeedRightState||this.emit("execeedright",this,i,m)),this.execeedRightState=M,this},Rg=function(i){return i.hasOwnProperty("geometryMask")?i.geometryMask:i.bitmapMask};const $k=Phaser.Geom.Intersects.RectangleToRectangle,Kk=Phaser.Geom.Rectangle.Overlaps;var Zk=function(i,t,n){if(t){n===void 0&&(n=i.getAllChildren());for(var m=i.getBounds(),C=Rg(t),M,h,y,e=0,f=n.length;e<f;e++)if(M=n[e],!M.hasOwnProperty("isRexContainerLite")&&M!==C&&jk(M))if(M.getBounds)switch(h=M.getBounds(h),y=Jk(m,h),y){case 4:Qk(i,M);break;case 0:$k(m,h)||Kk(m,h)?Pc(i,M,t):qk(i,M);break;default:Pc(i,M,t);break}else Pc(i,M,t)}},jk=function(i){if(!i.displayList)return!1;for(;;){var t=i.rexContainer;if(t)if(t.visible){var n=t.parent;if(n){i=n;continue}else return!0}else return!1;else return i.visible}},Jk=function(i,t){var n=0,m=t.top,C=t.bottom,M=t.left,h=t.right;return n+=i.contains(M,m)?1:0,n+=i.contains(M,C)?1:0,n+=i.contains(h,m)?1:0,n+=i.contains(h,C)?1:0,n},Qk=function(i,t,n){i.setChildMaskVisible(t,!0),t.clearMask&&t.clearMask()},Pc=function(i,t,n){i.setChildMaskVisible(t,!0),t.setMask&&t.setMask(n)},qk=function(i,t,n){i.setChildMaskVisible(t,!1),t.clearMask&&t.clearMask()};const Rc=Phaser.Utils.Objects.GetValue,_k={update:0,everyTick:1},ZM={setupChildrenMask(i){return i===!1?this:(this.setMaskUpdateMode(Rc(i,"updateMode",0)),this.enableChildrenMask(Rc(i,"padding",0)),this.setMaskLayer(Rc(i,"layer",void 0)),this.startMaskUpdate(),this)},destroyChildrenMask(){return this.childrenMask?(this.stopMaskUpdate(),this.childrenMask.destroy(),this.childrenMask=void 0,this):this},setMaskUpdateMode(i){return typeof i=="string"&&(i=_k[i]),this.maskUpdateMode=i,this},startMaskUpdate(){this.scene.game.events.on("poststep",this.maskChildren,this)},stopMaskUpdate(){this.scene.game.events.off("poststep",this.maskChildren,this)},enableChildrenMask(i){var t=ji.call(this,null,this,0,i);return this.childrenMask=t.createGeometryMask(),this},setMaskChildrenFlag(i){return i===void 0&&(i=!0),this.maskChildrenFlag=i,this},setMaskLayer(i){return this.maskLayer=i,this},maskChildren(){return!this.childrenMask||!this.maskChildrenFlag||this.alpha===0||!this.visible?this:(this.privateRenderLayer?this.privateRenderLayer.setMask(this.childrenMask):this.maskLayer?(this.addToLayer(this.maskLayer),this.maskLayer.setMask(this.childrenMask)):Zk(this,this.childrenMask),this.maskUpdateMode===0&&(this.maskChildrenFlag=!1),this)},layoutChildrenMask(){if(!this.childrenMask)return this;var i=Rg(this.childrenMask);return i.setPosition().resize(),this.resetChildPositionState(i),this}};var tU=function(){if(this.cellsCount!==0){var i=this.table;this.startRowIndex=Math.max(i.heightToRowIndex(-this.tableOY,2),0);for(var t=this.startRowIndex,n=Math.max(i.widthToColIndex(-this.tableOX),0),m=n,C=i.colRowToCellIndex(m,t),M=this.bottomBound,h=this.rightBound,y=i.cellsCount-1,e=i.colCount-1,f=this.getCellTLX(m),c=f,s=this.getCellTLY(t);s<M&&C<=y;){if(this.table.isValidCellIdx(C)){var a=i.getCell(C,!0);this.visibleCells.set(a),this.preVisibleCells.contains(a)||this.showCell(a);var r,o;if(this.scrollMode===0?(r=c,o=s):(r=s,o=c),a.cellContainerAlign==null)a.setXY(r,o);else{var l=a.getContainer();yh(l,r,o,a.width,a.height,a.cellContainerAlign),a.setXY(l.x,l.y)}}c<h&&m<e?(c+=i.getColWidth(m),m+=1):(c=f,s+=i.getRowHeight(t),m=n,t+=1),C=i.colRowToCellIndex(m,t)}}},jM=function(i){var t=null,n=i.getContainer();if(n?(t=n,i.popContainer()):this.cellContainersPool&&(t=this.cellContainersPool.getFirstDead(),t!==null&&t.setActive(!0).setVisible(!0)),this.emit("cellvisible",i,t,this),this.cellContainersPool){var n=i.getContainer();n?t===null?this.cellContainersPool.add(n):t!==n&&(this.cellContainersPool.add(n),this.cellContainersPool.killAndHide(t)):t!==null&&this.cellContainersPool.killAndHide(t)}},eU=function(i){var t=this.scrollMode===0?this.topLeftX:this.topLeftY,n=this.tableOX+this.table.colIndexToWidth(0,i-1)+t;return n},iU=function(i){var t=this.scrollMode===0?this.topLeftY:this.topLeftX,n=this.tableOY+this.table.rowIndexToHeight(0,i-1)+t;return n},sU=function(){var i=this.preVisibleCells,t=this.visibleCells;i.iterate(function(n){t.contains(n)||this.hideCell(n)},this)},JM=function(i){if(this.emit("cellinvisible",i),this.cellContainersPool){var t=i.popContainer();t&&this.cellContainersPool.killAndHide(t)}i.destroyContainer()},nU=function(i){return i===void 0&&(i=!1),i&&(By.call(this),this.hideCells()),By.call(this),this.showCells(),this.hideCells(),this.setMaskChildrenFlag(),this},By=function(){var i=this.preVisibleCells;this.preVisibleCells=this.visibleCells,this.visibleCells=i,this.visibleCells.clear()},rU=function(i){var t=this.table.getCell(i,!1);return t&&this.visibleCells.contains(t)},QM=function(i,t){t-=this.y+this.topLeftY,i-=this.x+this.topLeftX;var n=this.tableOY-(this.scrollMode===0?t:i),m=this.tableOX-(this.scrollMode===0?i:t),C=this.table,M=C.heightToRowIndex(-n,0),h=C.widthToColIndex(-m),y=C.colRowToCellIndex(h,M);return y===null||!this.isCellVisible(y)?null:y},aU=function(i,t){var n=QM.call(this,i,t);if(n!==null)return this.getCellContainer(n)},oU=function(i,t){return this.visibleCells.each(i,t),this},hU=function(i,t){return this.visibleCells.iterate(i,t),this},lU=function(i,t){return this.table.cells.slice().forEach(i,t),this},uU=function(i,t){return this.table.cells.forEach(i,t),this},fU=function(i){var t=this.cellsCount;return t===i?this:(t>i?this.removeCells(i,t-i):this.insertNewCells(t,i-t),this)};const dU=Phaser.Math.Clamp;var cU=function(i,t){return typeof i=="object"&&(i=i.index),t===void 0&&(t=1),t<=0?this:(i=dU(i,0,this.cellsCount),this.table.insertNewCells(i,t),this)},vU=function(i,t){if(typeof i=="object"&&(i=i.index),t===void 0&&(t=1),i<0&&(t+=i,i=0),t<=0)return this;if(i>this.cellsCount)return this;for(var n,m=i,C=i+t;m<C;m++)n=this.getCell(m,!1),n&&(this.visibleCells.contains(n)&&(JM.call(this,n),this.visibleCells.delete(n)),this.preVisibleCells.delete(n));return this.table.removeCells(i,t),this},pU=function(i){return this.table.colCount===i?this:(this.table.setColumnCount(i),this)},gU=function(i,t){return this.setCellsCount(i*t),this.table.setColumnCount(i),this},mU=function(i){var t=this.table.getCell(i,!1);return!t||!t.container?this:(jM.call(this,t),this)},qM={setTableOY:Wk,setTableOX:Hk,showCells:tU,showCell:jM,getCellTLX:eU,getCellTLY:iU,hideCells:sU,hideCell:JM,updateTable:nU,isCellVisible:rU,pointToCellIndex:QM,pointToCellContainer:aU,eachVisibleCell:oU,iterateVisibleCell:hU,eachCell:lU,iterateCell:uU,setCellsCount:fU,insertNewCells:cU,removeCells:vU,setColumnCount:pU,setGridSize:gU,updateVisibleCell:mU};Object.assign(qM,ZM);const xU=Phaser.GameObjects.Group,by=Phaser.Structs.Set,rs=Phaser.Utils.Objects.GetValue;let _M=class extends di{constructor(t,n,m,C,M,h){h===void 0&&(h={}),super(t,n,m,C,M),this.type="rexGridTable",this._tableOX=0,this._tableOY=0,this.visibleCells=new by,this.preVisibleCells=new by,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1;var y=rs(h,"reuseCellContainer",!1);y&&(this.cellContainersPool=new xU(t));var e=rs(h,"cellVisibleCallback",null);if(e!==null){var f=rs(h,"cellVisibleCallbackScope",void 0);this.on("cellvisible",e,f)}if(e=rs(h,"cellInvisibleCallback",null),e!==null){var f=rs(h,"cellInvisibleCallbackScope",void 0);this.on("cellinvisible",e,f)}rs(h,"enableLayer",!1)&&this.enableLayer(),this.setupChildrenMask(rs(h,"mask",void 0)),this.setScrollMode(rs(h,"scrollMode",0)),this.setClampMode(rs(h,"clamplTableOXY",!0));var c,s,a,r=this.scrollMode===0;if(r?(c=h.cellWidth,s=h.cellHeight,a=h.columns):(c=h.cellHeight,s=h.cellWidth,a=rs(h,"rows",h.columns)),a||(a=1),this.expandCellSize=c===void 0,this.expandCellSize){var C=r?this.width:this.height;c=C/a}h.cellWidth=c,h.cellHeight=s,h.columns=a,this.table=new Yk(this,h),this.updateTable()}destroy(t){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.table.destroy(t),this.table=void 0,this.cellContainersPool&&(this.cellContainersPool.destroy(!0),this.cellContainersPool=void 0),super.destroy(t))}setScrollMode(t){return typeof t=="string"&&(t=yU[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t){return t===void 0&&(t=!0),this.clampTableOXY=t,this}get tableOY(){return this._tableOY}get tableOX(){return this._tableOX}set tableOY(t){this.setTableOY(t).updateTable()}set tableOX(t){this.setTableOX(t).updateTable()}setTableOXY(t,n){return this.setTableOY(n).setTableOX(t),this}addTableOY(t){return this.setTableOY(this.tableOY+t),this}addTableOX(t){return this.setTableOX(this.tableOX+t),this}addTableOXY(t,n){return this.addTableOY(n).addTableOX(t),this}setTableOYByPercentage(t){return this.setTableOY(-this.tableVisibleHeight*t),this}getTableOYPercentage(){var t=this.tableVisibleHeight;return t===0?0:this.tableOY/-t}set t(t){this.setTableOYByPercentage(t).updateTable()}get t(){return this.getTableOYPercentage()}scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this}scrollToRow(t){this.scrollToBottom();var n=this.table.rowIndexToHeight(0,t-1);return this.setTableOY(-n).updateTable(),this}scrollToNextRow(t){return t===void 0&&(t=1),this.scrollToRow(this.startRowIndex+t),this}getCell(t){return this.table.getCell(t,!0)}getCellContainer(t){var n=this.table.getCell(t,!1),m;return n&&(m=n.getContainer()),m}get cellsCount(){return this.table.cellsCount}get columnCount(){return this.table.colCount}setCellHeight(t,n){var m;return typeof t=="number"?m=this.table.getCell(t,!0):m=t,m.height=n,this}setCellWidth(t,n){var m;return typeof t=="number"?m=this.table.getCell(t,!0):m=t,m.width=n,this}get instHeight(){return this.scrollMode===0?this.height:this.width}get instWidth(){return this.scrollMode===0?this.width:this.height}get tableHeight(){return this.table.totalRowsHeight}get tableWidth(){return this.table.totalColumnWidth}get topTableOY(){return 0}get bottomTableOY(){return-this.tableVisibleHeight}get leftTableOX(){return 0}get rightTableOX(){return-this.tableVisibleWidth}get tableVisibleHeight(){var t=this.tableHeight-this.instHeight;return t<0&&(t=0),t}get tableVisibleWidth(){var t,n=this.tableWidth,m=this.instWidth;return n>m?t=n-m:t=0,t}get bottomLeftY(){return-(this.displayHeight*this.originY)+this.displayHeight}get topRightX(){return-(this.displayWidth*this.originX)+this.displayWidth}get topLeftX(){return-(this.displayWidth*this.originX)}get topLeftY(){return-(this.displayHeight*this.originY)}get bottomBound(){return this.scrollMode===0?this.bottomLeftY:this.topRightX}get rightBound(){return this.scrollMode===0?this.topRightX:this.bottomLeftY}resize(t,n){return this.width===t&&this.height===n?this:(super.resize(t,n),this.expandCellSize&&this.table.setDefaultCellWidth(this.instWidth/this.table.colCount),this.updateTable(!0),this.layoutChildrenMask(),this.maskChildren(),this)}};Object.assign(_M.prototype,qM);const yU={v:0,vertical:0,h:1,horizontal:1};var TU=function(i){Object.defineProperty(i,"childOY",{configurable:!0,get:function(){return i.tableOY},set:function(t){i.tableOY=t}}),Object.defineProperty(i,"topChildOY",{get:function(){return i.topTableOY}}),Object.defineProperty(i,"bottomChildOY",{get:function(){return i.bottomTableOY}}),Object.defineProperty(i,"childVisibleHeight",{get:function(){return i.instHeight}}),Object.defineProperty(i,"childHeight",{get:function(){return i.tableHeight}})},CU=function(i){i.on("cellvisible",function(t,h,m){var C=this.createCellContainerCallback,M=this.createCellContainerCallbackScope;t.item=this.items[t.index],t.items=this.items;var h;M?h=C.call(M,t,h,m):h=C(t,h,m),h&&(t.cellContainerAlign==null&&h.setOrigin&&h.setOrigin(0),h.isRexSizer&&h.layout()),t.item=void 0,t.items=void 0,t.setContainer(h)},this)},gs=function(i,t,n,m,C,M,h){var y;if(C===void 0?y=m:y=n.pointToCellIndex(m,C),y!=null){var e=n.getCellContainer(y);e&&i.emit(t,e,y,M,h)}},SU=function(i,t){i.on("pointerdown",function(n,m,C,M){gs(this.eventEmitter,"cell.down",i,n.worldX,n.worldY,n,M)},this).on("pointerup",function(n,m,C,M){gs(this.eventEmitter,"cell.up",i,n.worldX,n.worldY,n,M)},this)},MU=function(i,t){i.on("pointermove",Gy,this).on("pointerover",Gy,this).on("pointerout",EU,this)},Gy=function(i,t,n,m){var C=this.childrenMap.child,M=C.pointToCellIndex(i.worldX,i.worldY);if(M!==C.input.lastOverCellIndex){var h=C.input.lastOverCellIndex;C.input.lastOverCellIndex=M,gs(this.eventEmitter,"cell.out",C,h,void 0,i,m),gs(this.eventEmitter,"cell.over",C,M,void 0,i,m)}},EU=function(i,t){var n=this.childrenMap.child,m=n.input.lastOverCellIndex;n.input.lastOverCellIndex=void 0,gs(this.eventEmitter,"cell.out",n,m,void 0,i,t)};const PU=Phaser.Utils.Objects.GetValue;var RU=function(i,t){var n=PU(t,"click",void 0);n!==!1&&(n===void 0&&(n={}),n.threshold=10,i._click=new On(i,n),i._click.on("click",function(m,C,M,h){gs(this.eventEmitter,"cell.click",C,M.worldX,M.worldY,M,h)},this))};const AU=Phaser.Utils.Objects.GetValue;var wU=function(i,t){var n=AU(t,"tap",void 0);n!==!1&&(i._tap=new Cf(i,n),i._tap.on("tap",function(m,C,M){var h=`cell.${m.tapsCount}tap`;gs(this.eventEmitter,h,m.gameObject,m.worldX,m.worldY,M)},this))};const OU=Phaser.Utils.Objects.GetValue;var LU=function(i,t){var n=OU(t,"press",void 0);n!==!1&&(i._press=new Sf(i,n),i._press.on("pressstart",function(m,C,M){gs(this.eventEmitter,"cell.pressstart",i,m.worldX,m.worldY,M)},this).on("pressend",function(m,C,M){gs(this.eventEmitter,"cell.pressend",i,m.worldX,m.worldY,M)},this))};const FU=Phaser.Utils.Objects.GetValue;var IU=function(i,t){var n=FU(t,"swipe",void 0);n!==!1&&(n===void 0&&(n={}),n.dir="4dir",i._swipe=new Rh(i,n),i._swipe.on("swipe",function(m,C,M){var h=m.left?"left":m.right?"right":m.up?"up":"down";gs(this.eventEmitter,`cell.swipe${h}`,i,m.worldX,m.worldY,M)},this))},DU=function(i,t){i.setInteractive(),SU.call(this,i,t),MU.call(this,i,t),RU.call(this,i,t),wU.call(this,i,t),LU.call(this,i,t),IU.call(this,i,t)},BU=function(i){i===void 0?this.items=[]:this.items=i;var t=this.childrenMap.child;return t.setCellsCount(this.items.length),t.updateTable(!0),this.resizeController(),this};const bU={scrollToRow(i){var t=this.childrenMap.child;return t.scrollToRow(i),this},scrollToNextRow(i){var t=this.childrenMap.child;return t.scrollToNextRow(i),this}},as=Phaser.Utils.Objects.GetValue;class Ag extends bf{constructor(t,n){n===void 0&&(n={});var m=Bf(n),C=as(n,"table",void 0);C===void 0&&(C={}),C.scrollMode=m,C.clamplTableOXY=as(n,"clamplChildOY",!1);var M=as(C,"width",void 0),h=as(C,"height",void 0),y=new _M(t,0,0,M,h,C);t.add.existing(y);var e,f;m===0?(e=M===void 0?1:0,f=h===void 0):(e=h===void 0?1:0,f=M===void 0),TU(y),y._minWidth=M===void 0?0:void 0,y._minHeight=h===void 0?0:void 0,n.type="rexGridTable",n.child={gameObject:y,proportion:e,expand:f};var c=as(n,"space",void 0);c&&(c.child=c.table),super(t,n),this.addChildrenMap("table",y),this.addChildrenMap("tableLayer",y.maskLayer),this.eventEmitter=as(n,"eventEmitter",this);var s=as(n,"createCellContainerCallback",Fe),a=as(n,"createCellContainerCallbackScope",void 0);this.setCreateCellContainerCallback(s,a),CU.call(this,y),this.resizeControllerFlag=!1;var r=m===0?"cellheightchange":"cellwidthchange";y.on(r,function(){this.resizeControllerFlag=!0},this),as(C,"interactive",!0)&&DU.call(this,y,C),this.setItems(as(n,"items",[])),t.game.events.on("poststep",this.onPostStep,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.scene.game.events.off("poststep",this.onPostStep,this),super.destroy(t))}setCreateCellContainerCallback(t,n){return this.createCellContainerCallback=t,this.createCellContainerCallbackScope=n,this}refresh(){return this.setItems(this.items),this}getCell(t){var n=this.childrenMap.child;return n.getCell(t)}getCellContainer(t){var n=this.childrenMap.child;return n.getCellContainer(t)}updateVisibleCell(t){var n=this.childrenMap.child;return n.updateVisibleCell(t)}onPostStep(){this.resizeControllerFlag&&(this.resizeController(),this.resizeControllerFlag=!1)}get startRowIndex(){var t=this.childrenMap.child;return t.startRowIndex}}var GU={setItems:BU};Object.assign(Ag.prototype,bU,GU);at.register("gridTable",function(i){var t=new Ag(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.GridTable",Ag);var wg=function(i,t){return i.sameOrientation?i.orientation=t.orientation:i.orientation=t.orientation===0?1:0,i},NU=function(i,t){i.popUp(wg(i.root.easeIn,i))},VU=function(i,t){i.scaleDown(wg(i.root.easeOut,i))};const zU={setTransitInCallback(i){return i===void 0&&(i=NU),this.transitInCallback=i,this},setTransitOutCallback(i){return i===void 0&&(i=VU),this.transitOutCallback=i,this}};var kU=function(i,t,n,m,C){var M=gh(i),h=M.time.delayedCall(t,function(){M.sys.events.once("postupdate",function(){n.call(m,C)})});return h};const UU={delayCall(i,t,n){return this.timer=kU(this,i,t,n),this},removeDelayCall(){return this.timer&&(this.timer.remove(!1),this.timer=void 0),this}};var XU=function(i,t){var m=this.childrenMap.subMenu;if(m&&m.parentButton===i)return this;this.collapseSubMenu();var n;this.root.toggleOrientation?n=this.orientation===0?1:0:n=this.orientation;var m=new this.constructor(this.scene,{items:t,orientation:n,space:this.space,createBackgroundCallback:this.root.createBackgroundCallback,createBackgroundCallbackScope:this.root.createBackgroundCallbackScope,createButtonCallback:this.root.createButtonCallback,createButtonCallbackScope:this.root.createButtonCallbackScope,easeIn:this.root.easeIn,easeOut:this.root.easeOut,_rootMenu:this.root,_parentMenu:this,_parentButton:i});return this.pin(m),this.childrenMap.subMenu=m,this.root.emit("expand",m,i,this),this},YU=function(){var i=this.root;i.emit("collapse",this,this.parentButton,i);var t=i.easeOut.duration;return i.transitOutCallback(this,t),this.collapseSubMenu(),this.delayCall(t,this.destroy,this),this},WU=function(){var i=this.childrenMap.subMenu;return i===void 0?this:(this.childrenMap.subMenu=void 0,this.remove(i),i.collapse(),this)},tE={expandSubMenu:XU,collapse:YU,collapseSubMenu:WU};Object.assign(tE,zU,UU);var HU=function(i,t,n,m){var C;return n&&(t.scene=i,m?C=n.call(m,t):C=n(t),t.scene=void 0),C},$U=function(i,t,n,m){var C,M=[],h;if(t&&n)for(var y=0,e=t.length;y<e;y++)C=t[y],C.scene=i,m?h=n.call(m,C,y,t):h=n(C,y,t),C.scene=void 0,M.push(h);return M},KU=function(i){i.on(i.root.expandEventName,function(t,n){if(!this._isPassedEvent){var m=this.root.childrenKey,C=this.items[n][m];C&&this.expandSubMenu(t,C)}},i).on("button.click",function(t,n,m,C){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.click",t,n,m,C),this.root._isPassedEvent=!1)},i).on("button.over",function(t,n,m,C){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.over",t,n,m,C),this.root._isPassedEvent=!1)},i).on("button.out",function(t,n,m,C){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.out",t,n,m,C),this.root._isPassedEvent=!1)},i)},Ny=function(i,t){return typeof t=="number"&&(t={duration:t}),t.hasOwnProperty("orientation")&&t.orientation!==void 0?t.sameOrientation=Of(t.orientation)===i.orientation:t.sameOrientation=!0,t.destroy=!1,t},ZU=function(){var i=this.root,t=i.easeIn.duration;i.transitInCallback(this,t),this!==this.root&&this.delayCall(t,function(){this.root.emit("popup.complete",this)},this)};const Be=Phaser.Utils.Objects.GetValue;class Og extends Ce{constructor(t,n){n===void 0&&(n={}),n.hasOwnProperty("orientation")||(n.orientation=1);var m=n._rootMenu,C=n._parentMenu,M=n._parentButton,h=Be(n,"popup",!0),y=Be(n,"items",void 0),e=Be(n,"createBackgroundCallback",void 0),f=Be(n,"createBackgroundCallbackScope",void 0);n.background=HU(t,y,e,f);var c=Be(n,"createButtonCallback",void 0),s=Be(n,"createButtonCallbackScope",void 0);if(n.buttons=$U(t,y,c,s),super(t,n),this.type="rexMenu",this.items=y,this.root=m===void 0?this:m,this.isRoot=this.root===this,this.parentMenu=C,this.parentButton=M,this.timer=void 0,this.isRoot){this.isPopUpMode=h;var a=n.bounds;a===void 0&&(a=Va(t)),this.bounds=a,this.subMenuSide=[this.y<a.centerY?ap:iu,this.x<a.centerX?rp:eu];var r=Be(n,"subMenuSide",void 0);r!==void 0&&(typeof r=="string"&&(r=jU[r]),this.subMenuSide[this.orientation]=r),this.toggleOrientation=Be(n,"toggleOrientation",!1),this.expandEventName=Be(n,"expandEvent","button.click"),this.easeIn=Ny(this,Be(n,"easeIn",0)),this.easeOut=Ny(this,Be(n,"easeOut",0)),this.setTransitInCallback(Be(n,"transitIn")),this.setTransitOutCallback(Be(n,"transitOut")),this.createBackgroundCallback=e,this.createBackgroundCallbackScope=f,this.createButtonCallback=c,this.createButtonCallbackScope=s,this.childrenKey=Be(n,"childrenKey","children"),this._isPassedEvent=!1,this.pointerDownOutsideCollapsing=Be(n,"pointerDownOutsideCollapsing",!0),this.pointerDownOutsideCollapsing&&t.input.on("pointerdown",this.onPointerDownOutside,this)}var o=0,l=0;if(!this.root.easeIn.sameOrientation){var v=wg(this.root.easeIn,this).orientation,u=C?C.orientation:this.orientation,r=this.root.subMenuSide[u];v===0&&r===eu&&(o=1),v===1&&r===iu&&(l=1)}if(h&&this.setOrigin(o,l).layout(),!this.isRoot){this.setScale(this.root.scaleX,this.root.scaleY);var r=this.root.subMenuSide[C.orientation];switch(r){case eu:this.alignTop(M.top).alignRight(M.left);break;case rp:this.alignTop(M.top).alignLeft(M.right);break;case iu:this.alignLeft(M.left).alignBottom(M.top);break;case ap:this.alignLeft(M.left).alignTop(M.bottom);break}}KU(this),h&&(this.pushIntoBounds(this.root.bounds),ZU.call(this))}destroy(t){!this.scene||this.ignoreDestroy||(this.isRoot&&this.pointerDownOutsideCollapsing&&this.scene.input.off("pointerdown",this.onPointerDownOutside,this),super.destroy(t),this.removeDelayCall())}isInTouching(t){return super.isInTouching(t)?!0:this.childrenMap.subMenu?this.childrenMap.subMenu.isInTouching(t):!1}onPointerDownOutside(t){this.isInTouching(t)||(this.isPopUpMode?this.collapse():this.collapseSubMenu())}}const eu=2,rp=0,iu=3,ap=1,jU={up:iu,down:ap,left:eu,right:rp};Object.assign(Og.prototype,tE);at.register("menu",function(i){var t=new Og(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.Menu",Og);var JU={setWrapEnable(i){return i===void 0&&(i=!0),this.listWrapEnable=i,this},setCreateButtonCallback(i){return this.listCreateButtonCallback=i,this},setCreateListBackgroundCallback(i){return this.listCreateBackgroundCallback=i,this},setButtonClickCallback(i){return this.listOnButtonClick=i,this},setButtonOverCallback(i){return this.listOnButtonOver=i,this},setButtonOutCallback(i){return this.listOnButtonOut=i,this},setListExpandDirection(i){return typeof i=="string"&&(i=QU[i]),this.listExpandDirection=i,this},setListEaseInDuration(i){return i===void 0&&(i=0),this.listEaseInDuration=i,this},setListEaseOutDuration(i){return i===void 0&&(i=0),this.listEaseOutDuration=i,this},setListTransitInCallback(i){return this.listTransitInCallback=i,this},settListTransitOutCallback(i){return this.listTransitOutCallback=i,this},setListBounds(i){return this.listBounds=i,this},setListWidth(i){return this.listWidth=i,this},setListHeight(i){return this.listHeight=i,this},setListSize(i,t){return this.setListWidth(i).setListHeight(t),this},setListAlignmentMode(i){return this.listAlignMode=i,this},setListAlignmentSide(i){return i===void 0&&(i=""),this.listAlignSide=i,this},setListSpace(i){return i===void 0&&(i={}),this.listSpace=i,this},setListDraggable(i){return i===void 0&&(i=!0),this.listDraggable=i,this}};const QU={down:0,up:1};var qU=function(){var i=this.scene,t,n=this.listCreateBackgroundCallback;n&&(t=n.call(this,i),i.add.existing(t));var m=[],C=this.listCreateButtonCallback;if(C)for(var M=this.options,h=0,y=M.length;h<y;h++){var e=C.call(this,i,M[h],h,M);i.add.existing(e),m.push(e)}var f=this.listWidth;f===void 0&&(this.listAlignMode==="text"?f=this.getElement("text").width:f=this.width);var c=this.listHeight,s;return this.listWrapEnable?s=new vr(i,{width:f,height:c,background:t,buttons:m,space:this.listSpace,draggable:this.listDraggable}):s=new Ce(i,{width:f,height:c,orientation:"y",background:t,buttons:m,space:this.listSpace,draggable:this.listDraggable}),i.add.existing(s),s},_U=function(i,t,n,m,C){m===void 0&&(m="Linear");var M={};switch(M.mode=0,n){case 0:case"x":M.end={x:0};break;case 1:case"y":M.end={y:0};break;default:M.end=0;break}return M.duration=t,M.ease=m,C===void 0?C=new ah(i,M):C.resetFromJSON(M),C.restart(),C},tX=function(i,t,n,m,C){return us(i,t)?Gt(i,t):n&&us(i,n)?Gt(i,n):m&&us(i,m)?Gt(i,m):C};const Zr=Phaser.Utils.Objects.GetValue;var eX=function(i,t){var n=Zr(t,"expandDirection",void 0);typeof n=="string"&&(n=iX[n]);var m=tX(t,"alignTarget","alignTargetX"),C=Zr(t,"alignTargetY",m),M=Zr(t,"alignOffsetX",0),h=Zr(t,"alignOffsetY",0),y=Zr(t,"alignSide",""),e=y.includes("right"),f=Zr(t,"bounds"),c=n===0,s=n===1,a=!c&&!s,r=e?1:0,o=c||a?0:1;i.setOrigin(r,o);var l,v;e?l=m.getTopRight().x:l=m.getTopLeft().x,v=C.getBottomLeft().y,i.setPosition(l+M,v+h);var u=f;u||(u=Va(i.scene)),a&&i.getBottomLeft().y>u.bottom&&(v=C.getTopLeft().y,i.setOrigin(0,1).setPosition(l+M,v+h))};const iX={down:0,up:1},Vy=Phaser.Utils.Objects.GetValue;class eE extends mf{constructor(t,n){n===void 0&&(n={}),n.transitIn==null&&(n.transitIn=function(M,h){$0(M,h,"y","Cubic")}),n.transitOut==null&&(n.transitOut=function(M,h){_U(M,h,"y","Linear")}),n.manualClose=!0,n.clickOutsideClose=!0,n.destroy=!0,super(t,n),eX(t,n),t.isRexSizer&&t.layout();var m=Vy(n,"touchOutsideClose",!1),C=Vy(n,"anyTouchClose",!1);C&&(m=!1),C?this.once("open",this.anyTouchClose,this):m&&this.once("open",this.touchOutsideClose,this),this.requestOpen()}shutdown(t){this.isShutdown||(this.scene.input.off("pointerup",this.touchCloseCallback,this),super.shutdown(t))}touchOutsideClose(){return this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(t){this.clickOutsideTest&&oh(this.parent,t.worldX,t.worldY)||this.requestClose()}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}}var sX=function(){if(this.listPanel)return this;var i=qU.call(this);i.on("button.over",function(m,C,M,h){this.listOnButtonOver&&this.listOnButtonOver.call(this,m,C,M,h),this.emit("button.over",this,i,m,C,M,h)},this).on("button.out",function(m,C,M,h){this.listOnButtonOut&&this.listOnButtonOut.call(this,m,C,M,h),this.emit("button.out",this,i,m,C,M,h)},this);var t;!this.listAlignMode||this.listAlignMode==="label"?t=this:t=this.getElement(this.listAlignMode);var n=new eE(i,{duration:{in:this.listEaseInDuration,out:this.listEaseOutDuration},transitIn:this.listTransitInCallback,transitOut:this.listTransitOutCallback,expandDirection:this.listExpandDirection,alignTargetX:t,alignTargetY:this,alignSide:this.listAlignSide,bounds:this.listBounds,anyTouchClose:!0}).on("open",function(){i.on("button.click",function(m,C,M,h){this.listOnButtonClick&&this.listOnButtonClick.call(this,m,C,M,h),this.emit("button.click",this,i,m,C,M,h)},this),this.emit("list.open",this,i)},this).on("close",function(){this.listPanel=void 0,this.dropDownBehavior=void 0},this);return this.listPanel=i,this.dropDownBehavior=n,this.pin(i),this},nX=function(){return this.dropDownBehavior?(this.dropDownBehavior.requestClose(),this):this},rX=function(){return this.listPanel?this.closeListPanel():this.openListPanel(),this},iE={openListPanel:sX,closeListPanel:nX,toggleListPanel:rX};Object.assign(iE,JU);const Kt=Phaser.Utils.Objects.GetValue;class Oh extends Er{constructor(t,n){super(t,n),this.type="rexDropDownList",this.timer=void 0,this.setOptions(Kt(n,"options"));var m=Kt(n,"list");this.setWrapEnable(Kt(m,"wrap",!1)),this.setCreateButtonCallback(Kt(m,"createButtonCallback")),this.setCreateListBackgroundCallback(Kt(m,"createBackgroundCallback")),this.setButtonClickCallback(Kt(m,"onButtonClick")),this.setButtonOverCallback(Kt(m,"onButtonOver")),this.setButtonOutCallback(Kt(m,"onButtonOut")),this.setListExpandDirection(Kt(m,"expandDirection")),this.setListEaseInDuration(Kt(m,"easeIn",500)),this.setListEaseOutDuration(Kt(m,"easeOut",100)),this.setListTransitInCallback(Kt(m,"transitIn")),this.settListTransitOutCallback(Kt(m,"transitOut")),this.setListSize(Kt(m,"width"),Kt(m,"height")),this.setListAlignmentMode(Kt(m,"alignParent","text")),this.setListAlignmentSide(Kt(m,"alignSide","")),this.setListBounds(Kt(m,"bounds")),this.setListSpace(Kt(m,"space")),this.setListDraggable(Kt(m,"draggable",!1)),this.setValueChangeCallback(Kt(n,"setValueCallback"),Kt(n,"setValueCallbackScope")),this.setValue(Kt(n,"value")),this.onClick(this.toggleListPanel,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.listPanel&&(this.listPanel.destroy(t),this.listPanel=void 0),super.destroy(t))}setOptions(t){return t===void 0&&(t=[]),this.options=t,this}setValueChangeCallback(t,n){return this.valueChangeCallback=t,this.valueChangeCallbackScope=n,this}setValue(t){return this.value=t,this}get value(){return this._value}set value(t){if(this._value!==t){var n=this._value;this._value=t;var m=this.valueChangeCallback,C=this.valueChangeCallbackScope;m&&(C?m.call(C,this,t,n):m(this,t,n)),this.emit("valuechange",this,t,n)}}emitButtonClick(t){var n=this.options[t];return n?(this.emit("button.click",this,void 0,n,t),this):this}}Object.assign(Oh.prototype,iE);at.register("dropDownList",function(i){var t=new Oh(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.DropDownList",Oh);var sE=function(i,t,n){t=t?wi(t):{},n===void 0&&(n={});var m=t.label||t.button,C=t.button||t.label;delete t.label,delete t.button;var M=n.label||n.button||n,h=n.button||n.label||n,y=vg(i,m,M);return y.list=t.list||{},y.list.createButtonCallback=function(e,f){var c=Si(e,C,h).resetDisplayContent({text:f.text});return f.hasOwnProperty("value")&&(c.value=f.value),c},y.list.onButtonOver=function(e,f,c,s){e.setHoverState&&e.setHoverState(!0)},y.list.onButtonOut=function(e,f,c,s){e.setHoverState&&e.setHoverState(!1)},y};class nE extends Oh{constructor(t,n,m){n=sE(t,n,m),super(t,n),this.type="rexSimpleDropDownList"}setOptions(t){t===void 0&&(t=[]);for(var n=0,m=t.length;n<m;n++){var C=t[n];typeof C=="string"&&(t[n]={text:C,value:C})}return super.setOptions(t),this}}at.register("simpleDropDownList",function(i,t){var n=new nE(this.scene,i,t);return this.scene.add.existing(n),n});nt(window,"RexPlugins.UI.SimpleDropDownList",nE);var aX=function(i){var t=Xa(i),n,m,C;switch(t){case Qe:case oi:n=i.height-i.padding.top-i.padding.bottom,m=i.lineSpacing,C=i.style.metrics.fontSize+i.style.strokeThickness;break;case hi:n=i.height,m=0;var M=i.fontSize/i.fontData.size;C=i.fontData.lineHeight*M;break}return(n-m)/(C+m)},oX=function(i,t){i===void 0&&(i=this.startLineIndex),t===void 0&&(t=i+this.pageLinesCount);var n;switch(this.textObjectType){case Qe:case hi:n=this.lines.slice(i,t).join(`
`);break;case oi:var m=this.lines.getLineStartIndex(i),C=this.lines.getLineEndIndex(t-1);n=this.lines.getSliceTagText(m,C,!0);break}return n},Ac=function(i){return Array.isArray(i)?i=i.join(`
`):typeof i=="number"&&(i=i.toString()),i};const hX={clearText(){return this.sections.length=0,this.pageStartIndexes.length=0,this.lines.length=0,this},appendPage(n){var t=this.totalLinesCount;this.sections.push(Ac(n));var n=this.sections.join(`
`);this.lines=Cg(this.parent,n,this.lines);for(var m=this.totalLinesCount-t,C=Math.ceil(m/this.pageLinesCount),M=0;M<C;M++)this.pageStartIndexes.push(t+M*this.pageLinesCount);return this},setText(i,t){t===void 0&&(t=!0),t&&this.resetPageIdx(),this.clearText();for(var n=Ac(i).split(this.pageBreak),m=0,C=n.length;m<C;m++)this.appendPage(n[m]);return this},appendText(i){var t=this.content+Ac(i);return this.setText(t,!1),this}},lX=Phaser.Math.Clamp,uX={getPage(i){return i===void 0&&(i=this.pageIndex),this.setPageIndex(i).getLines(this.startLineIndex,this.endLineIndex)},getNextPage(){return this.getPage(this.pageIndex+1)},getPreviousPage(){return this.getPage(this.pageIndex-1)},resetPageIdx(){return this.pageIndex=-1,this},setPageIndex(i){return i=lX(i,0,this.pageCount-1),this.pageIndex=i,this.startLineIndex=this.pageStartIndexes[i],this.endLineIndex=this.pageStartIndexes[i+1],this}},fX={showPage(i){return this.displayText(this.getPage(i)),this},showNextPage(){return this.displayText(this.getNextPage()),this},showPreviousPage(){return this.displayText(this.getPreviousPage()),this},show(){return this.displayText(this.getLines()),this},showNextLine(){return this.displayText(this.setStartLineIndex(this.startLineIndex+1).getLines()),this},showPreviousLine(){return this.displayText(this.setStartLineIndex(this.startLineIndex-1).getLines()),this},displayText(i){Sg(this.parent,i)}};var rE={getLines:oX};Object.assign(rE,hX,uX,fX);const To=Phaser.Utils.Objects.GetValue,dX=Phaser.Math.Clamp;class Uf extends me{constructor(t,n){super(t,{eventEmitter:!1}),this.textObjectType=Xa(this.parent),this.pageStartIndexes=[],this.lines=Cg(this.parent,""),this.sections=[],this.resetFromJSON(n)}resetFromJSON(t){return this.setMaxLines(To(t,"maxLines",void 0)),this.setPageBreak(To(t,"pageBreak",`\f
`)),this.setText(To(t,"text","")),this.setStartLineIndex(To(t,"start",0)),this.setPageIndex(To(t,"page",-1)),this}toJSON(){return{maxLines:this.maxLines,text:this.content,start:this.startLineIndex,page:this.pageIndex,pageBreak:this.pageBreak}}shutdown(t){if(!this.isShutdown){switch(this.textObjectType){case Qe:this.lines.length=0;break;case oi:this.lines.destroy();break;case hi:this.lines.length=0;break}this.pageStartIndexes.length=0,this.sections.length=0,this.lines=void 0,this.pageStartIndexes=void 0,this.sections=void 0,super.shutdown(t)}}setMaxLines(t){return this.maxLines=t,this}setPageBreak(t){return this.pageBreak=t,this}get pageCount(){return this.pageStartIndexes.length}get isFirstPage(){return this.pageIndex<=0}get isLastPage(){return this.pageIndex>=this.pageCount-1}get totalLinesCount(){return this.lines?this.lines.length:0}get startLineIndex(){return this._startLineIndex}set startLineIndex(t){t=dX(t,0,this.totalLinesCount-1),this._startLineIndex=t}setStartLineIndex(t){return this.startLineIndex=t,this}get pageLinesCount(){if(this.maxLines!==void 0)return this.maxLines;var t;switch(this.textObjectType){case Qe:case oi:var n=this.parent.style.maxLines;n>0?t=n:t=Math.floor(aX(this.parent));break;case hi:t=this.totalLinesCount;break}return t}get content(){return this.sections.join(this.pageBreak)}}Object.assign(Uf.prototype,rE);var cX=function(i,t){var n=Xa(i);switch(n){case Qe:i.style.syncFont(i.canvas,i.context),t=i.runWordWrap(t);break;case oi:t=i.getText(t,void 0,void 0,!0);break;case hi:t=i.setText(t).getTextBounds().wrappedText;break}return t};const jr=Phaser.Utils.Objects.GetFastValue,wc=Phaser.Utils.Objects.GetValue;class Lg extends me{constructor(t,n){super(t,n),this.timer=null,this.resetFromJSON(n)}resetFromJSON(t){this.setTextWrapEnable(wc(t,"wrap",!1)),this.setTypeMode(wc(t,"typeMode",0)),this.setTypingSpeed(wc(t,"speed",333)),this.setTextCallback=jr(t,"setTextCallback",null),this.setTextCallbackScope=jr(t,"setTextCallbackScope",null),this.setTypingContent(jr(t,"text","")),this.typingIdx=jr(t,"typingIdx",0),this.insertIdx=jr(t,"insertIdx",null);var n=jr(t,"elapsed",null);return n!==null&&this.start(void 0,void 0,this.typingIdx,n),this}shutdown(t){this.isShutdown||(this.freeTimer(),super.shutdown(t))}setTypeMode(t){return typeof t=="string"&&(t=vX[t]),this.typeMode=t,this}setTypeSpeed(t){return this.speed=t,this}setTypingSpeed(t){return this.speed=t,this}setTextWrapEnable(t){return t===void 0&&(t=!0),this.textWrapEnable=t,this}set text(t){var n=zy(t);this.textWrapEnable&&(n=cX(this.parent,n)),this._text=n}get text(){return this._text}get isTyping(){return this.getTimer()!==null}get isLastChar(){return this.typingIdx===this.textLen}start(t,n,m,C){return t!==void 0&&this.setTypingContent(t),n!==void 0&&(this.speed=n),m===void 0&&(m=0),this.typingIdx=m+1,this.speed===0?this.stop(!0):(this.setText(""),this.startTimer(C)),this}appendText(t){var n=this.text.concat(zy(t));return this.isTyping?this.setTypingContent(n):this.start(n,void 0,this.textLen),this}stop(t){var n=this.getTimer();return n&&this.freeTimer(),t&&(this.typingIdx=this.textLen,this.setText(this.text),this.emit("type"),this.emit("complete",this,this.parent)),this}pause(){var t=this.getTimer();return t&&(t.paused=!0),this}resume(){var t=this.getTimer();return t&&(t.paused=!1),this}setTypingContent(t){return this.text=t,this.textLen=this.getTextLength(this.text),this}onTyping(){var t=this.getTypingString(this.text,this.typingIdx,this.textLen,this.typeMode);this.setText(t),this.emit("type"),this.isLastChar?(this.freeTimer(),this.emit("complete",this,this.parent)):(this.timer.delay=this.speed,this.typingIdx++)}getTypingString(t,n,m,C){var M;if(C===0){var h=0,y=n;this.insertIdx=y,M=this.getSubString(t,h,y)}else if(C===1){var y=m,h=y-n;this.insertIdx=0,M=this.getSubString(t,h,y)}else if(C===2){var e=m/2,h=Math.floor(e-n/2),y=h+n;this.insertIdx=n%2?n:0,M=this.getSubString(t,h,y)}else if(C===3){var f=Math.floor(n/2),c;if(f>0){var y=m,h=y-f;c=this.getSubString(t,h,y)}else c="";var s=n-f,a;if(s>0){var h=0,y=h+s;this.insertIdx=y,a=this.getSubString(t,h,y)}else a="",this.insertIdx=0;M=a+c}return M}startTimer(t){this.timer&&this.freeTimer();var n;return t===void 0?n=0:(this.speed,n=t),this.timer=this.scene.time.addEvent({delay:1e-4,startAt:n,loop:!0,callback:this.onTyping,callbackScope:this}),this}getTimer(){return this.timer}freeTimer(){return this.timer&&(this.timer.remove(),this.timer=null),this}setText(t){this.setTextCallback&&(this.setTextCallbackScope?t=this.setTextCallback.call(this.setTextCallbackScope,t,this.isLastChar,this.insertIdx):t=this.setTextCallback(t,this.isLastChar,this.insertIdx)),this.textWrapEnable?Sg(this.parent,t):this.parent.setText(t)}getTextLength(t){var n=this.parent,m;return n.getPlainText?m=n.getPlainText(t).length:m=t.length,m}getSubString(t,n,m){var C=this.parent,M;return C.getSubString?M=C.getSubString(t,n,m):M=t.slice(n,m),M}}var zy=function(i){return Array.isArray(i)?i=i.join(`
`):typeof i=="number"&&(i=i.toString()),i};const vX={"left-to-right":0,"right-to-left":1,"middle-to-sides":2,"sides-to-middle":3},ky=Phaser.Utils.Objects.GetValue;var pX=function(i,t){t===void 0&&(t="rexTextBox");class n extends i{constructor(C,M){super(C,M),this.type=t;var h=this.childrenMap.text;this.page=new Uf(h,ky(M,"page",void 0)),this.typing=new Lg(h,ky(M,"typing",M.type)),this.typing.on("complete",this.onPageEnd,this).on("type",this.onType,this),this.textWidth=h.width,this.textHeight=h.height}start(C,M){return this.page.setText(C),M!==void 0&&this.setTypingSpeed(M),this.emit("start"),this.typeNextPage(),this}typeNextPage(){if(this.isLastPage)this.emit("complete");else{var C=this.page.getNextPage();this.typing.start(C)}return this}pause(){return this.typing.pause(),this}resume(){return this.typing.resume(),this}stop(C){return this.typing.stop(C),this}setTypeSpeed(C){return this.typing.setTypingSpeed(C),this}setTypingSpeed(C){return this.typing.setTypingSpeed(C),this}get isTyping(){return this.typing.isTyping}get isLastPage(){return this.page.isLastPage}get isFirstPage(){return this.page.isFirstPage}get pageCount(){return this.page.pageCount}get pageIndex(){return this.page.pageIndex}onType(){var C=this.childrenMap.text;(this.textWidth!==C.width||this.textHeight!==C.height)&&(this.textWidth=C.width,this.textHeight=C.height,this.getTopmostSizer().layout()),this.emit("type")}onPageEnd(){this.emit("pageend"),this.isLastPage&&this.emit("complete")}}return n};class aE extends pX(gg){constructor(t,n){n===void 0&&(n={}),n.hasOwnProperty("layoutMode")||(n.layoutMode=1),super(t,n)}}at.register("textBox",function(i){var t=new aE(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.TextBox",aE);const si=Phaser.Utils.Objects.GetValue;class oE extends Ot{constructor(t,n){super(t,n),this.type="rexNumberBar";var m=si(n,"background",void 0),C=si(n,"icon",void 0),M=si(n,"iconMask",void 0),h=si(n,"slider",void 0),y=si(n,"text",void 0),e=si(n,"space.icon",0),f=si(n,"space.slider",0);if(m&&this.addBackground(m),C){var c;this.orientation===0?(h||y)&&(c={right:e}):(h||y)&&(c={bottom:e}),this.add(C,{proportion:0,align:"center",padding:c}),M&&(M=ji.call(this,C,C,1))}var s;if(h){h.orientation=this.orientation,h.eventEmitter=this,h.value=null,h.hasOwnProperty("input")||(h.input=-1),s=new Ua(t,h),t.add.existing(s);var c;this.orientation===0?y&&(c={right:f}):y&&(c={bottom:f});var a;if(this.orientation===0){var r=si(h,"width",void 0);a=r===void 0?1:0}else{var o=si(h,"height",void 0);a=o===void 0?1:0}this.add(s,{proportion:a,align:"center",padding:c})}y&&this.add(y),this.addChildrenMap("background",m),this.addChildrenMap("icon",C),this.addChildrenMap("iconMask",M),this.addChildrenMap("slider",s),this.addChildrenMap("text",y);var l=si(n,"valuechangeCallback",null);if(l!==null){var v=si(n,"valuechangeCallbackScope",void 0);this.on("valuechange",l,v)}this.setEnable(si(n,"enable",void 0)),this.setValue(si(n,"value",0))}get enable(){return this.childrenMap.slider?this.childrenMap.slider.enable:!1}set enable(t){this.childrenMap.slider&&this.childrenMap.slider.setEnable(t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}setValue(t,n,m){return this.childrenMap.slider&&this.childrenMap.slider.setValue(t,n,m),this}addValue(t,n,m){return this.childrenMap.slider&&this.childrenMap.slider.addValue(t,n,m),this}getValue(t,n){return this.childrenMap.slider?this.childrenMap.slider.getValue(t,n):0}easeValueTo(t,n,m){return this.childrenMap.slider&&this.childrenMap.slider.easeValueTo(t,n,m),this}stopEaseValue(){return this.childrenMap.slider&&this.childrenMap.slider.stopEaseValue(),this}setEaseValueDuration(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueDuration(t),this}setEaseValueFunction(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueFunction(t),this}get text(){var t=this.childrenMap.text;if(t===void 0)return"";var n;return t.text?n=t.text:n=t.getData("text"),n}set text(t){var n=this.childrenMap.text;n!==void 0&&(n.setText?n.setText(t):n.setData("text",t))}setText(t){return this.text=t,this}}at.register("numberBar",function(i){var t=new oE(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.NumberBar",oE);at.register("scrollBar",function(i){var t=new Tg(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.ScrollBar",Tg);const Oc=Phaser.Utils.Objects.GetValue,Uy={leftTop:"left-top",centerTop:"center-top",rightTop:"right-top",leftCenter:"left-center",center:"center",rightCenter:"right-center",leftBottom:"left-bottom",centerBottom:"center-bottom",rightBottom:"right-bottom"};class hE extends Li{constructor(t,n){super(t,n),this.type="rexBadge";var m=Oc(n,"background",void 0);m&&this.addBackground(m),this.addChildrenMap("background",m);var C=Oc(n,"main",void 0);C&&this.add(C,{key:"main",align:"center",expand:!1}),this.addChildrenMap("main",C);for(var M in Uy){var h=Oc(n,M,void 0);h&&(this.add(h,{key:M,align:Uy[M],expand:!1}),this.addChildrenMap(M,h))}}}at.register("badgeLabel",function(i){var t=new hE(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.BadgeLabel",hE);const gX=Li.prototype.add;var Xy=function(i,t,n,m,C,M,h,y,e){return i.setVisible(!1),gX.call(this,i,t,n,m,C,M,h,y,e),this};const mX={add:Xy,addPage:Xy};var xX=function(i){return i===void 0?null:this.sizerChildren.hasOwnProperty(i)?this.sizerChildren[i]:null};const Yy=di.prototype.setChildVisible;var yX=function(i,t){this._previousKey=this._currentKey;var n=this.previousPage;n&&(this.swapMode===0?(Yy.call(this,n,!1),this.emit("pageinvisible",n,this._previousKey,this)):n.destroy()),i&&!this.sizerChildren.hasOwnProperty(i)&&this.emit("createpage",i,this),this._currentKey=i;var m=this.currentPage;return m&&(Yy.call(this,m,!0),this.emit("pagevisible",m,this._currentKey,this),t===void 0&&(t=this.fadeInDuration),t>0&&m.setAlpha(0).fadeIn(t,1)),this},TX=function(i){return this.sizerChildren.hasOwnProperty(i)},lE={getPage:xX,swapPage:yX,hasPage:TX};Object.assign(lE,mX);const Wy=Phaser.Utils.Objects.GetValue;class Xf extends Li{constructor(t,n){super(t,n),this.type="rexPages",this.childrenMap=this.sizerChildren,this._previousKey=void 0,this._currentKey=void 0,this.setSwapMode(Wy(n,"swapMode",0)),this.setFadeInDuration(Wy(n,"fadeIn",0))}setSwapMode(t){return typeof t=="string"&&(t=CX[t]),this.swapMode=t,this}setFadeInDuration(t){return this.fadeInDuration=t,this}get previousKey(){return this._previousKey}get currentKey(){return this._currentKey}set currentKey(t){this.swapPage(t)}get currentPage(){return this.getPage(this.currentKey)}get previousPage(){return this.getPage(this.previousKey)}get keys(){return Object.keys(this.sizerChildren)}}Object.assign(Xf.prototype,lE);const CX={invisible:0,destroy:1};at.register("pages",function(i){var t=new Xf(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.Pages",Xf);const uE=Phaser.Math.Vector3,SX=Phaser.Math.Matrix4;var Hy=new uE,$y=new uE,Ky=new SX,MX=function(i,t,n,m,C,M,h){t===void 0&&(t=0),n===void 0&&(n=0),m===void 0&&(m=0),C===void 0&&(C=0),M===void 0&&(M=0),h===void 0&&(h=0),Hy.set(t,n,m),$y.set(C,M,h),Ky.fromRotationXYTranslation($y,Hy,!0);for(var y=0,e=i.vertices.length;y<e;y++)i.vertices[y].transformMat4(Ky)};const EX=Phaser.GameObjects.Mesh,PX=Phaser.Utils.Objects.IsPlainObject,Kn=Phaser.Utils.Objects.GetValue,RX=Phaser.Geom.Mesh.GenerateGridVerts,Lc=Phaser.Math.RadToDeg,su=Phaser.Math.DegToRad,fE=45,AX=1+1/Math.sin(su(fE));let dE=class extends EX{constructor(t,n,m,C,M,h){PX(n)&&(h=n,n=Kn(h,"x",0),m=Kn(h,"y",0),C=Kn(h,"key",null),M=Kn(h,"frame",null)),super(t,n,m,C,M),this.type="rexPerspectiveImage",this.setSizeToFrame(),this.resetPerspective(),this.panZ(AX),this.hideCCW=Kn(h,"hideCCW",!0);var y=Kn(h,"gridWidth",32),e=Kn(h,"gridHeight",y);this.resetVerts(y,e)}get originX(){return .5}get originY(){return .5}resetPerspective(){return this.setPerspective(this.width,this.height,fE),this}resetVerts(t,n){if(t!==void 0&&(this.gridWidth=t),n!==void 0&&(this.gridHeight=n),this.clear(),this.dirtyCache[9]=-1,this.width===0||this.height===0)return this;var m=this.frame.cutWidth,C=this.frame.cutHeight;RX({mesh:this,texture:this.texture.key,frame:this.frame.name,width:m/this.height,height:C/this.height,widthSegments:Math.ceil(m/this.gridWidth),heightSegments:Math.ceil(C/this.gridHeight)});var M=this.transformInfo;return M&&this.transformVerts(M.x,M.y,M.z,M.rotateX,M.rotateY,M.rotateZ),this}syncSize(){return this.setSizeToFrame(),this.resetPerspective(),this.resetVerts(),this}get rotationX(){return this.modelRotation.x}set rotationX(t){this.modelRotation.x=t}get angleX(){return Lc(this.rotationX)}set angleX(t){this.rotationX=su(t)}get rotationY(){return this.modelRotation.y}set rotationY(t){this.modelRotation.y=t}get angleY(){return Lc(this.rotationY)}set angleY(t){this.rotationY=su(t)}get rotationZ(){return this.modelRotation.z}set rotationZ(t){this.modelRotation.z=t}get angleZ(){return Lc(this.rotationZ)}set angleZ(t){this.rotationZ=su(t)}transformVerts(t,n,m,C,M,h){return t===void 0&&(t=0),n===void 0&&(n=0),m===void 0&&(m=0),C===void 0&&(C=0),M===void 0&&(M=0),h===void 0&&(h=0),this.transformInfo||(this.transformInfo={}),this.transformInfo.x=t,this.transformInfo.y=n,this.transformInfo.rotateX=C,this.transformInfo.rotateY=M,this.transformInfo.rotateZ=h,MX(this,t,n,m,C,M,h),this}forceUpdate(){return this.dirtyCache[10]=1,this}get tint(){return this.vertices.length===0?16777215:this.vertices[0].color}};const wX=Phaser.Textures.DynamicTexture;var cE=function(i,t,n){t===void 0&&(t=2),n===void 0&&(n=2);var m=new wX(i.sys.textures,null,t,n);return m};const OX=Phaser.Utils.Objects.IsPlainObject,Il=Phaser.Utils.Objects.GetValue;class vE extends dE{constructor(t,n,m,C,M,h){OX(n)&&(h=n,n=Il(h,"x",0),m=Il(h,"y",0),C=Il(h,"width",32),M=Il(h,"height",32));var y=cE(t,C,M);super(t,n,m,y,null,h),this.type="rexPerspectiveRenderTexture",this.rt=this.texture}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.rt.destroy(),this.rt=null)}snapshot(t,n){return n===void 0&&(n={}),n.gameObjects=t,n.renderTexture=this.rt,L0(n),(this.width!==this.frame.realWidth||this.height!==this.frame.realHeight)&&this.syncSize(),this}}Phaser.Animations.AnimationState;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;var Xi=function(i,t,n,m){if(Array.isArray(i))for(var C=!1,M=0,h=i.length;M<h;M++){var y=i[M];if(!(m&&!y)&&(n?C=t.call(n,y,M,i):C=t(y,M,i),C))return}else{var C=!1;for(var e in i){var y=i[e];if(!(m&&!y)&&(n?C=t.call(n,y,e,i):C=t(y,e,i),C))return}}};const Fc=Phaser.Math.RadToDeg,Ic=Phaser.Math.DegToRad;class LX extends di{constructor(t,n,m,C,M,h){super(t,n,m,C,M),this.faces=h,Xi(h,function(y){y.setPosition(n,m),this.add(y)},this,!0)}get rotationX(){return 0}set rotationX(t){}get angleX(){return Fc(this.rotationX)}set angleX(t){this.rotationX=Ic(t)}get rotationY(){return 0}set rotationY(t){}get angleY(){return Fc(this.rotationY)}set angleY(t){this.rotationY=Ic(t)}get rotationZ(){return 0}set rotationZ(t){}get angleZ(){return Fc(this.rotationZ)}set angleZ(t){this.rotationZ=Ic(t)}setDebug(t,n){return Xi(this.faces,function(m){m.setDebug(t,n)},null,!0),this}panX(t){return Xi(this.faces,function(n){n.panX(t)},null,!0),this}panY(t){return Xi(this.faces,function(n){n.panY(t)},null,!0),this}panZ(t){return Xi(this.faces,function(n){n.panZ(t)},null,!0),this}transformVerts(t,n,m,C,M,h){return Xi(this.faces,function(y){y.transformVerts(t,n,m,C,M,h)},null,!0),this}forEachFace(t,n,m){return Xi(this.faces,t,n,m),this}}const FX=Phaser.Utils.Objects.IsPlainObject,IX={key:"__WHITE"},DX={image:dE,rendertexture:vE};var Zy=function(i,t){t===void 0&&(t=IX);var n;return FX(t)?(t.hasOwnProperty("type")||(t.hasOwnProperty("key")?t.type="image":t.hasOwnProperty("width")&&(t.type="rendertexture")),n=new DX[t.type](i,t),i.add.existing(n)):n=t,n},BX=function(i,t,n){var m;if(n===void 0){m=[];for(var C,M,h=0,y=t.length;h<y;h++)M=t[h],M?C=Zy(i,M):C=null,m.push(C)}else{m={};for(var C,e,h=0,y=n.length;h<y;h++)e=n[h],t.hasOwnProperty(e)?C=Zy(i,t[e]):C=null,m[e]=C}return m};const bX=Phaser.Math.DegToRad,jy=bX(180);var GX=function(i,t){var n=t.back;n&&(i.orientation===0?n.transformVerts(0,0,0,0,jy,0):n.transformVerts(0,0,0,jy,0,0))};const Dc=Phaser.Utils.Objects.GetValue,NX=Phaser.Math.Linear;let VX=class extends xr{constructor(t,n){super(t,n),this.resetFromJSON(n),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setEase(Dc(t,"ease","Cubic")),this.setFrontToBackDirection(Dc(t,"frontToBack",0)),this.setBackToFrontDirection(Dc(t,"backToFront",1)),this}setFrontToBackDirection(t){return typeof t=="string"&&(t=Jy[t]),this.endAngleFB=t===0?180:-180,this}setBackToFrontDirection(t){return typeof t=="string"&&(t=Jy[t]),this.endAngleBF=t===0?-180:180,this}start(t,n){if(this.timer.isRunning)return this;this.timer.setDelay(this.delay).setDuration(t);var m=n+1,C=this.parent;return C.face===0?(this.startAngle=0,this.endAngle=this.endAngleFB*m):(this.startAngle=this.endAngleBF,this.endAngle=this.startAngle-this.endAngleBF*m),super.start(),this}flip(t,n){return this.isRunning?this:(t===void 0&&(t=this.duration),n===void 0&&(n=0),this.start(t,n),this.emit("start",this.parent,this),this.parent.currentFaceIndex=(this.parent.currentFaceIndex+n+1)%2,this)}flipRight(t,n){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(0):this.setBackToFrontDirection(0),this.flip(t,n),this}flipLeft(t,n){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(1):this.setBackToFrontDirection(1),this.flip(t,n),this}updateGameObject(t,n){var m=this.easeFn(n.t),C=NX(this.startAngle,this.endAngle,m);t.orientation===0?t.angleY=C:t.angleX=C}};const Jy={right:0,"left-to-right":0,left:1,"right-to-left":1},zX=Phaser.Utils.Objects.IsPlainObject,Zn=Phaser.Utils.Objects.GetValue,kX=["back","front"];class UX extends LX{constructor(t,n,m,C){zX(n)&&(C=n,n=Zn(C,"x",0),m=Zn(C,"y",0));var M=BX(t,C,kX),h=M.back,y=M.front,e=Zn(C,"width"),f=Zn(C,"height");if(e===void 0||f===void 0){if(e===void 0){var c=y?y.width:0,s=h?h.width:0;e=Math.max(c,s)}if(f===void 0){var a=y?y.height:0,r=h?h.height:0;f=Math.max(a,r)}}super(t,n,m,e,f,M),this.type="rexPerspectiveCard",this.frontFaceRotationX=0,this.frontFaceRotationY=0,this.frontFaceRotationZ=0,Xi(M,function(l,v){this[`${v}Face`]=l},this);var o=Zn(C,"flip",void 0);o!==!1&&(this.flip=new VX(this,o)),this.setOrientation(Zn(C,"orientation",0)),GX(this,M),this.setFace(Zn(C,"face",0))}get rotationX(){return this.frontFaceRotationX}set rotationX(t){this.frontFaceRotationX!==t&&(this.frontFaceRotationX=t,Xi(this.faces,function(n){n.rotationX=t},null,!0))}get rotationY(){return this.frontFaceRotationY}set rotationY(t){this.frontFaceRotationY!==t&&(this.frontFaceRotationY=t,Xi(this.faces,function(n){n.rotationY=t},null,!0))}get rotationZ(){return this.frontFaceRotationZ}set rotationZ(t){this.frontFaceRotationZ!==t&&(this.frontFaceRotationZ=t,Xi(this.faces,function(n){n.rotationZ=t},null,!0))}setOrientation(t){return typeof t=="string"&&(t=XX[t]),this.orientation=t,this}get face(){return this.currentFaceIndex}set face(t){typeof t=="string"&&(t=YX[t]),this.currentFaceIndex=t;var n=t===1,m=n?180:0;this.orientation===0?this.angleY=m:this.angleX=m}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}}const XX={x:0,horizontal:0,h:0,y:1,vertical:1,v:1},YX={front:0,back:1};Phaser.Utils.Objects.GetValue;Phaser.Math.RadToDeg;Phaser.Math.DegToRad;Phaser.Math.Angle.WrapDegrees;Phaser.Math.Angle.ShortestBetween;Phaser.Math.Wrap;Phaser.Math.Linear;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;Phaser.Math.DegToRad;Phaser.Math.RadToDeg;Phaser.Math.Angle.WrapDegrees;Phaser.Math.Linear;Phaser.Math.Wrap;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;Phaser.Math.Wrap;const WX=Phaser.Utils.Objects.GetValue;var HX=function(i,t,n){t.visibleSibling=[],t.isRunning=!1,t.useParentBounds=WX(n,"useParentBounds",!1),t.setPosition(i.x,i.y).setVisible(!1),i.pin(t)},pE=function(i,t){if(!i)return!1;for(var n=t.visibleSibling,m=0,C=n.length;m<C;m++)i.setChildVisible(n[m],!0);return n.length=0,i.setChildVisible(t,!1),t.isRunning=!1,!0},$X=function(i,t){if(!i)return!1;pE(i,t);var n=t.useParentBounds;L0({gameObjects:i.getAllVisibleChildren(),renderTexture:t.rt,x:t.x,y:t.y,width:n?i.displayWidth:void 0,height:n?i.displayHeighth:void 0,originX:n?i.originX:void 0,originY:n?i.originY:void 0}),i.setChildVisible(t,!0);for(var m=t.visibleSibling,C=i.children,M=0,h=C.length;M<h;M++){var y=C[M];y.visible&&y!==t&&(i.setChildVisible(y,!1),m.push(y))}return t.isRunning=!0,!0},gE=function(i){return class extends i{constructor(n,m){var C=n.scene;super(C,0,0,1,1,m),C.add.existing(this),HX(n,this,m)}destroy(n){!this.scene||this.ignoreDestroy||(this.exit(),super.destroy(n))}enter(){var n=$X(this.rexContainer.parent,this);return n&&this.syncSize(),this}exit(){return pE(this.rexContainer.parent,this),this}}};class mE extends gE(vE){get perspectiveState(){return this.isRunning}}const KX=Phaser.Utils.Objects.GetValue;var ZX=function(i){var t=this.scene;this.setSnapshotPadding(KX(i,"snapshotPadding",0)),i=dr(i),delete i.width,delete i.height,i.front={width:1,height:1},i.back={width:1,height:1};var n=new UX(t,i);t.add.existing(n);var m=n.flip;if(m){var C=this;m.on("start",function(){C.enterPerspectiveMode()}).on("complete",function(){C.exitPerspectiveMode()})}return n};const jX=["front","back"],JX={enterPerspectiveMode(){return this.isInPerspectiveMode?this:(this.setChildVisible(this.perspectiveCard,!0),this.snapshotFace(0),this.snapshotFace(1),this.setChildVisible(this.childrenMap.front,!1),this.setChildVisible(this.childrenMap.back,!1),this.perspectiveCard.setSize(this.width,this.height),this)},exitPerspectiveMode(){if(!this.isInPerspectiveMode)return this;this.setChildVisible(this.perspectiveCard,!1);var i=this.perspectiveCard.face===0;return this.setChildVisible(this.childrenMap.front,i),this.setChildVisible(this.childrenMap.back,!i),this},setSnapshotPadding(i){return this.snapshotPadding=i,this},snapshotFace(i){typeof i=="number"&&(i=jX[i]);var t=this.perspectiveCard.faces[i],n=this.childrenMap[i];t.rt.clear();var m=n.visible;n.visible=!0;var C=n.isRexContainerLite?n.getAllVisibleChildren():n;return t.snapshot(C,{padding:this.snapshotPadding}),n.visible=m,this}},Qy=Phaser.Utils.Objects.GetValue;class Fg extends Li{constructor(t,n){super(t,n),this.type="rexPerspectiveCard";var m=n.back,C=Qy(n,"expand.back",!0);this.add(m,{key:"back",expand:C});var M=n.front,h=Qy(n,"expand.front",!0);this.add(M,{key:"front",expand:h}),this.perspectiveCard=ZX.call(this,n),this.pin(this.perspectiveCard),this.exitPerspectiveMode(!1)}get flip(){return this.perspectiveCard.flip}get face(){return this.perspectiveCard.face}set face(t){if(!(this.flip&&this.flip.isRunning)){this.perspectiveCard.face=t;var n=t===0,m=this.childrenMap.front,C=this.childrenMap.back;this.setChildVisible(m,n),this.setChildVisible(C,!n)}}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}get isInPerspectiveMode(){return this.perspectiveCard.visible}get rotationX(){return this.perspectiveCard.rotationX}set rotationX(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationX=t}get angleX(){return this.perspectiveCard.angleX}set angleX(t){this.enterPerspectiveMode(),this.perspectiveCard.angleX=t}get rotationY(){return this.perspectiveCard.rotationY}set rotationY(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationY=t}get angleY(){return this.perspectiveCard.angleY}set angleY(t){this.enterPerspectiveMode(),this.perspectiveCard.angleY=t}get rotationZ(){return this.perspectiveCard.rotationZ}set rotationZ(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationZ=t}get angleZ(){return this.perspectiveCard.angleZ}set angleZ(t){this.enterPerspectiveMode(),this.perspectiveCard.angleZ=t}panX(t){return this.enterPerspectiveMode(),this.perspectiveCard.panX(t),this}panY(t){return this.enterPerspectiveMode(),this.perspectiveCard.panY(t),this}panZ(t){return this.enterPerspectiveMode(),this.perspectiveCard.panZ(t),this}transformVerts(t,n,m,C,M,h){return this.enterPerspectiveMode(),this.perspectiveCard.transformVerts(t,n,m,C,M,h),this}forEachFace(t,n,m){return this.enterPerspectiveMode(),this.perspectiveCard.forEachFace(t,n,m),this}}Object.assign(Fg.prototype,JX);at.register("perspectiveCard",function(i){var t=new Fg(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.PerspectiveCard",Fg);var QX=function(i){var t=this.getElement("tabs.buttons");if(!(i>=t.length))return t[i].name},qX=function(i){for(var t=this.getElement("tabs.buttons"),n=0,m=t.length;n<m;n++)if(t[n].name===i)return n};const _X=Phaser.Utils.Objects.IsPlainObject,Bc=Phaser.Utils.Objects.GetValue,tY=Phaser.Utils.String.UUID;var eY=function(i,t,n){if(_X(i)){var m=i;i=Bc(m,"key"),t=Bc(m,"tab"),n=Bc(m,"page")}return i||(i=tY()),t.name=i,this.childrenMap.tabs.addButton(t),this.childrenMap.pages.addPage(n,{key:i}),this},iY=function(i,t){var n;if(typeof i=="number"?n=i:n=this.getPageIndex(i),n!=null){var m;t!==void 0&&(m=this.childrenMap.pages.fadeInDuration,this.childrenMap.pages.fadeInDuration=t),this.childrenMap.tabs.emitButtonClick(n),m!==void 0&&(this.childrenMap.pages.fadeInDuration=m)}return this},sY=function(i){return this.swapPage(0,i),this},nY=function(i){var t=this.getElement("tabs.buttons").length-1;return this.swapPage(t,i),this};const rY={swapPage:iY,swapFirstPage:sY,swapLastPage:nY};var aY=function(i,t){typeof i=="number"&&(i=this.getPageKey(i));var n=this.childrenMap.tabs,m=n.getByName(i),C=this.childrenMap.pages,M=C.getElement(i);return!m||!M?this:(C.removeChildrenMap(i),n.removeButton(m,t),C.remove(M,t),this)};const oY={removePage:aY};var hY=function(i){return typeof i=="number"&&(i=this.getPageKey(i)),this.childrenMap.pages.getPage(i)},lY=function(i){var t;return typeof i=="number"?t=i:t=this.getPageIndex(i),this.getElement("tabs.buttons")[t]},xE={getPageKey:QX,getPageIndex:qX,addPage:eY,getPage:hY,getTab:lY};Object.assign(xE,rY,oY);const jn=Phaser.Utils.Objects.GetValue,Dl=Ot.prototype.add;let Yf=class extends Ot{constructor(t,n){n===void 0&&(n={});var m=jn(n,"tabPosition","top"),C=m==="left"||m==="right"?"x":"y";n.orientation=C,super(t,n),this.type="rexTabPages";var M=jn(n,"background",void 0);M&&this.addBackground(M);var h=jn(n,"pages"),y=new Xf(t,h);t.add.existing(y);var e=C==="y",f=e?jn(n,"wrapTabs",!1):!1,c=jn(n,"tabs",void 0);c===void 0&&(c={});var s=f?vr:Ce;c.orientation=e?"x":"y",c.buttonsType="radio";var a=new s(t,c);t.add.existing(a);var r=f?!0:jn(n,"expand.tabs",!1),o=jn(n,"align.tabs","left");switch(m){case"top":case"left":Dl.call(this,a,{proportion:0,expand:r,align:o}),Dl.call(this,y,{proportion:1,expand:!0});break;case"bottom":case"right":Dl.call(this,y,{proportion:1,expand:!0}),Dl.call(this,a,{proportion:0,expand:r,align:o});break}this.addChildrenMap("background",M),this.addChildrenMap("tabs",a),this.addChildrenMap("pages",y),a.on("button.click",function(l){var v=l.name;y.hasPage(v)&&y.swapPage(v)}),a.on("button.statechange",function(l,v,u,d){var p=u?"tab.focus":"tab.blur";this.emit(p,l,l.name)},this),y.on("pagevisible",function(l,v,u){this.emit("page.focus",l,v)}),y.on("pageinvisible",function(l,v,u){this.emit("page.blur",l,v)})}get currentKey(){return this.getElement("pages").currentKey}set currentKey(t){this.showPage(t)}get keys(){return this.getElement("pages").keys}get currentPage(){return this.getElement("pages").currentPage}get previousPage(){return this.getElement("pages").previousPage}};Object.assign(Yf.prototype,xE);at.register("tabPages",function(i){var t=new Yf(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.TabPages",Yf);class uY extends mf{constructor(t,n){n===void 0&&(n={}),n.destroy=!1,super(t,n)}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}}const fY={expand(i){if(this.expanded===!0)return this;i===void 0&&(i=this.transitionDuration),this.expanded=!0;var t=this.childrenMap.title,n=this.childrenMap.child;this.show(n);var m=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();return m.layout(),t.emit("folder.expand",i,this),n.emit("folder.expand",i,this),this.emit("expand.start",this),this.childTransition.once("open",function(){this.emit("expand.complete",this)},this).requestOpen(null,i),this},collapse(i){if(this.expanded===!1)return this;i===void 0&&(i=this.transitionDuration),this.expanded=!1;var t=this.childrenMap.title,n=this.childrenMap.child;return t.emit("folder.collapse",i,this),n.emit("folder.collapse",i,this),this.emit("collapse.start",this),this.childTransition.once("close",function(){this.setChildScale(n,1,1).hide(n);var m=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();m.layout(),this.emit("collapse.complete",this)},this).requestClose(null,i),this},toggle(i){return this.expanded?this.collapse(i):this.expand(i),this}};var dY=function(i,t){K0.popUp.call(i,t,this.expandDirection)},cY=function(i,t){K0.scaleDown.call(i,t,this.expandDirection)};const vY={setTransitionDuration(i){return this.transitionDuration=i,this.childTransition.setTransitInTime(i).setTransitOutTime(i),this},setExpandCallback(i){return i===void 0&&(i=dY.bind(this)),this.childTransition.setTransitInCallback(i),this},setCollapseCallback(i){return i===void 0&&(i=cY.bind(this)),this.childTransition.setTransitOutCallback(i),this}},Gi=Phaser.Utils.Objects.GetValue;let Wf=class extends Ot{constructor(t,n){n===void 0&&(n={}),n.hasOwnProperty("orientation")||(n.orientation=1),super(t,n),this.type="rexFolder",this.expanded=void 0,this.expandDirection=this.orientation===1?"y":"x";var m=n.background,C=n.title,M=n.child;m&&this.addBackground(m);var h=this.orientation===1?"left":"top",s=Gi(n,"align.title",h),a=Gi(n,"expand.title",!0);this.add(C,{proportion:0,align:s,expand:a});var y=Gi(n,"toggleByTarget",void 0),e=Gi(n,"toggleClickConfig");y===void 0&&(y=C),y&&hM.onClick.call(y,function(){this.toggle()},this,e),this.childTransition=new uY(M);var f=Gi(n,"customChildOrigin",!1);if(!f){var c=this.rtl?1:0;M.setOrigin(c)}var s=Gi(n,"align.child","left"),a=Gi(n,"expand.child",!0),r=a?1:0;this.add(M,{proportion:r,align:s,expand:a}),this.addChildrenMap("title",C),this.addChildrenMap("child",M),this.addChildrenMap("background",m);var o=n.transition;this.setTransitionDuration(Gi(o,"duration",200)),this.setExpandCallback(Gi(o,"expandCallback",void 0)),this.setCollapseCallback(Gi(o,"collapseCallback",void 0)),this.reLayoutTarget=Gi(n,"reLayoutTarget",void 0);var l=n.onExpandStart;l&&this.on("expand.start",l);var v=n.onExpandComplete;v&&this.on("expand.complete",v);var u=n.onCollapseStart;u&&this.on("collapse.start",u);var d=n.onCollapseComplete;d&&this.on("collapse.complete",d)}};Object.assign(Wf.prototype,fY,vY);at.register("folder",function(i){var t=new Wf(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.Folder",Wf);at.register("textArea",function(i){var t=new Ah(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.TextArea",Ah);var pY=function(){if(this.rexSizer.hidden)return 0;var i,t=this.child,n=t.rexSizer;return n.hidden?i=0:this.scrollMode===0?i=this.getChildWidth(t):i=0,i},gY=function(){if(this.rexSizer.hidden)return 0;var i,t=this.child,n=t.rexSizer;return n.hidden||this.scrollMode===0?i=0:i=t.isRexSizer?Math.max(t.minHeight,t.childrenHeight):t.hasOwnProperty("minHeight")?t.minHeight:Lt(t),i},mY=function(i){return i===void 0&&(i=[]),this.child&&this.child.isRexSizer&&i.push(this.child),i},xY=function(){var i=this.left,t=this.top;this.scrollMode===0?t+=this.childOY:i+=this.childOY,this.child.setPosition(i,t),this.resetChildPositionState(this.child),this.setMaskChildrenFlag()},yY=function(){var i=this.child,t,n;i.rexSizer.hidden||(this.scrollMode===0?t=this.width:n=this.height,i.isRexSizer?i.runLayout(this,t,n):Zi(i,t,n),this.resetChildPosition(),this.layoutChildrenMask(),this.maskChildren())},yE={getChildrenWidth:pY,getChildrenHeight:gY,getChildrenSizers:mY,resetChildPosition:xY,layoutChildren:yY};Object.assign(yE,ZM);const qy=Phaser.Utils.Objects.IsPlainObject,Ni=Phaser.Utils.Objects.GetValue,TY=Phaser.Display.Align.TOP_LEFT;class TE extends Sr{constructor(t,n,m,C,M,h){qy(n)?(h=n,n=Ni(h,"x",0),m=Ni(h,"y",0),C=Ni(h,"width",void 0),M=Ni(h,"height",void 0)):qy(C)&&(h=C,C=Ni(h,"width",void 0),M=Ni(h,"height",void 0)),super(t,n,m,C,M,h),this.type="rexScrollableBlock",this.child=void 0,this.childrenMask=void 0,this._childOY=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.setScrollMode(Ni(h,"scrollMode",!0)),this.setClampMode(Ni(h,"clamplChildOY",!0));var y=Ni(h,"child",void 0),e=Ni(h,"expand",!0);y.setOrigin&&y.setOrigin(0),this.add(y),this.sizerChildren=[y];var f=this.getSizerConfig(y);f.align=TY,f.expand=e,this.child=y,this.setupChildrenMask(Ni(h,"mask",void 0)),this.maskGameObject=Rg(this.childrenMask)}destroy(t){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.child=void 0,super.destroy(t))}setScrollMode(t){return typeof t=="string"&&(t=kM[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t){return t===void 0&&(t=!0),this.clampChildOY=t,this}get instHeight(){return this.scrollMode===0?this.height:this.width}get instWidth(){return this.scrollMode===0?this.width:this.height}get childHeight(){return this.scrollMode===0?Lt(this.child):Nt(this.child)}get childWidth(){return this.scrollMode===0?Nt(this.child):Lt(this.child)}get topChildOY(){return 0}get bottomChildOY(){return-this.visibleHeight}get childVisibleHeight(){return this.instHeight}get visibleHeight(){var t=this.childHeight-this.childVisibleHeight;return t<0&&(t=0),t}childOYExceedTop(t){return t===void 0&&(t=this.childOY),t>this.topChildOY}childOYExeceedBottom(t){return t===void 0&&(t=this.childOY),t<this.bottomChildOY}get childOY(){return this._childOY}set childOY(t){var n=this.topChildOY,m=this.bottomChildOY,C=this.childOYExceedTop(t),M=this.childOYExeceedBottom(t);this.clampChildOY&&(this.childVisibleHeight>this.childHeight?t=0:C?t=n:M&&(t=m)),this._childOY!==t&&(this._childOY=t,this.resetChildPosition()),C&&(this.execeedTopState||this.emit("execeedtop",this,t,n)),this.execeedTopState=C,M&&(this.execeedBottomState||this.emit("execeedbottom",this,t,m)),this.execeedBottomState=M}setChildOY(t){return this.childOY=t,this}set t(t){this.childOY=-this.visibleHeight*t}get t(){var t=this.visibleHeight;return t===0?0:this.childOY/-t}setChildOYByPercentage(t){return this.t=t,this}}Object.assign(TE.prototype,yE);var CY=function(i,t){if(!this.hasChild(i))return this;var n;if(this.scrollMode===0)switch(t){case yi.top:case"top":n=this.top-i.getTopLeft().y;break;case yi.bottom:case"bottom":n=this.bottom-i.getBottomLeft().y;break;case yi.center:case"center":n=this.centerY-i.getCenter().y;break;default:var m=this.top-i.getTopLeft().y,C=this.bottom-i.getBottomLeft().y;m<=0&&C>=0?n=0:n=Math.abs(m)<=Math.abs(C)?m:C;break}else switch(t){case yi.left:case"left":n=this.left-i.getTopLeft().x;break;case yi.right:case"right":n=this.right-i.getTopRight().x;break;case yi.center:case"center":n=this.centerX-i.getCenter().x;break;default:var M=this.left-i.getTopLeft().x,h=this.right-i.getTopRight().x;M<=0&&h>=0?n=0:n=Math.abs(M)<=Math.abs(h)?M:h;break}return this.childOY+=n,this};const Co=Phaser.Utils.Objects.GetValue;class Ig extends bf{constructor(t,n){n===void 0&&(n={});var m=Bf(n),C=Co(n,"panel",void 0);C===void 0&&(C={}),C.scrollMode=m,C.clamplChildOY=Co(n,"clamplChildOY",!1);var M=new TE(t,C);t.add.existing(M);var h=Co(C,"width",void 0),y=Co(C,"height",void 0),e,f;m===0?(e=h===void 0?1:0,f=y===void 0):(e=y===void 0?1:0,f=h===void 0),n.type="rexScrollablePanel",n.child={gameObject:M,proportion:e,expand:f};var c=Co(n,"space",void 0);c&&(c.child=c.panel),super(t,n),this.addChildrenMap("panel",M.child),this.addChildrenMap("panelLayer",M.maskLayer),this.addChildrenMap("mask",M.maskGameObject)}setChildrenInteractive(t){return t===void 0&&(t={}),t.hasOwnProperty("eventEmitter")||(t.eventEmitter=this),t.hasOwnProperty("targets")||(t.targets=[this.childrenMap.panel]),sg(this.childrenMap.child,t),this}}var SY={scrollToChild:CY};Object.assign(Ig.prototype,SY);at.register("scrollablePanel",function(i){var t=new Ig(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.ScrollablePanel",Ig);const Bl={popUp:function(i,t){i.popUp(t)},scaleDown:function(i,t){i.scaleDown(t)},fadeIn:function(i,t){i.fadeIn(t)},fadeOut:function(i,t){i.fadeOut(t)}};var op=function(i,t,n){var m=Gt(n,"reverse",!1),C;if(Ki(i[0]))if(m)for(var h=i.length,M=h-1;M>=0;M--)C=op(i[M],t,n);else for(var M=0,h=i.length;M<h;M++)C=op(i[M],t,n);else C=MY(i,t,n);return C},MY=function(i,t,n){var m=Gt(n,"argsConvert",void 0),C=Gt(n,"argsConvertScope",void 0),M=i[0];if(js=P0(js,i,1),m){m===!0&&(m=y0,C=void 0);for(var h=0,y=js.length;h<y;h++)C?js[h]=m.call(C,js[h],i):js[h]=m(js[h],i)}var e;typeof M=="string"?(e=t[M],e==null&&(e=Gt(t,M,null))):e=M;var f=e.apply(t,js);return f},js=[];const Vi=Phaser.Utils.Objects.GetValue;class EY extends me{constructor(t,n){super(t,n);var m=Vi(n,"clock",void 0);m||(m=new yS(t)),this.clock=m,this.clock.on("update",this.update,this),this.resetFromJSON(n)}resetFromJSON(t){return this.clock.resetFromJSON(Vi(t,"clock",void 0)),this.state=Vi(t,"state",0),this.commands=Vi(t,"commands",[]),this.scope=Vi(t,"scope",void 0),this.setTimeUnit(Vi(t,"timeUnit",0)),this.setDtMode(Vi(t,"dtMode",0)),this.index=Vi(t,"index",0),this.nextTime=Vi(t,"nextTime",0),this}toJSON(){return{clock:this.clock.toJSON(),state:this.state,commands:this.commands,scope:this.scope,timeUnit:this.timeUnit,dtMode:this.dtMode,index:this.index,nextTime:this.nextTime}}shutdown(t){this.isShutdown||(this.clock.shutdown(t),this.commands=void 0,super.shutdown(t))}load(t,n,m){this.stop();var C=Vi(m,"timeUnit",void 0);C!==void 0&&this.setTimeUnit(C);var M=Vi(m,"dtMode",void 0);return M!==void 0&&this.setDtMode(M),t=t.filter(function(h){var y=h[0];return!isNaN(y)}).map(function(h){var y=h[0];return typeof y=="string"&&(h[0]=parseFloat(h[0])),h}),this.dtMode===0&&t.sort(function(h,y){var e=h[0],f=y[0];return e>f?1:e<f?-1:0}),this.commands=t,this.scope=n,this}start(t){return t===void 0&&(t=0),this.stop(),this.index=0,this.state=1,this.nextTime=this.getNextDt(0),this.clock.start(t),this.update(t),this.emit("start",this.parent,this),this}pause(){return this.clock.pause(),this.emit("pause",this.parent,this),this}resume(){return this.clock.resume(),this.emit("resume",this.parent,this),this}stop(){return this.clock.stop(),this.state=0,this.emit("stop",this.parent,this),this}seek(t){return this.clock.seek(t),this}seekToNext(){return this.seek(this.nextTime),this}get isPlaying(){return this.clock.isRunning}get completed(){return this.state===2}get timeScale(){return this.clock.timeScale}set timeScale(t){this.clock.timeScale=t}setTimeScale(t){return this.timeScale=t,this}get now(){return this.clock.now}update(t){if(this.nextTime>t)return this;for(var n=this.commands.length-1;;){var m=this.commands[this.index],C=m[1];if(Ki(C)||(C=P0(PY,m,1)),op(C,this.scope),this.emit("runcommand",C,this.scope),this.index===n)return this.complete(),this;if(this.index++,this.nextTime=this.getNextDt(this.nextTime),this.nextTime>t)return this}}complete(){this.clock.stop(),this.state=2,this.emit("complete",this.parent,this)}getNextDt(t){var n=this.commands[this.index][0];return this.timeUnit===1&&(n=n*1e3),this.dtMode===1&&(n+=t),n}setDtMode(t){return typeof t=="string"&&(t=AY[t]),this.dtMode=t,this}setTimeUnit(t){return typeof t=="string"&&(t=RY[t]),this.timeUnit=t,this}}var PY=[];const RY={ms:0,s:1,sec:1},AY={abs:0,absolute:0,inc:1,increment:1},So=Phaser.Utils.Objects.GetValue;class CE extends Er{constructor(t,n){n===void 0&&(n={text:createDefaultTextObject(t)}),super(t,n),this.type="rexToast",this.setTransitInTime(So(n,"duration.in",200)),this.setDisplayTime(So(n,"duration.hold",1200)),this.setTransitOutTime(So(n,"duration.out",200)),this.setTransitInCallback(So(n,"transitIn",Js.popUp)),this.setTransitOutCallback(So(n,"transitOut",Js.scaleDown)),this.player=new EY(this,{dtMode:1}),this.messages=[],this.scaleX0=void 0,this.scaleY0=void 0,this.setVisible(!1)}destroy(t){!this.scene||this.ignoreDestroy||(this.player.destroy(),this.player=void 0,this.messages=void 0,super.destroy(t))}setDisplayTime(t){return this.displayTime=t,this}setTransitOutTime(t){return this.transitOutTime=t,this}setTransitInTime(t){return this.transitInTime=t,this}setTransitInCallback(t){switch(typeof t=="string"&&(t=Js[t]),t){case Js.popUp:t=Bl.popUp;break;case Js.fadeIn:t=Bl.fadeIn;break}return t||(t=Fe),this.transitInCallback=t,this}setTransitOutCallback(t){switch(typeof t=="string"&&(t=Js[t]),t){case Js.scaleDown:t=Bl.scaleDown;break;case Js.fadeOut:t=Bl.fadeOut;break}return t||(t=Fe),this.transitOutCallback=t,this}setScale(t,n){return n===void 0&&(n=t),this.scaleX0=t,this.scaleY0=n,super.setScale(t,n),this}showMessage(t){if(this.scaleX0===void 0&&(this.scaleX0=this.scaleX),this.scaleY0===void 0&&(this.scaleY0=this.scaleY),t===void 0){if(this.messages.length===0)return this;t=this.messages.shift()}if(this.player.isPlaying)return this.messages.push(t),this;this.setScale(this.scaleX0,this.scaleY0).setVisible(!0),typeof t=="string"?this.setText(t):t(this),this.layout();var n=[[0,[this.transitInCallback,this,this.transitInTime]],[this.transitInTime,[Fe]],[this.displayTime,[this.transitOutCallback,this,this.transitOutTime]],[this.transitOutTime,[this.setVisible,!1]],[30,[Fe]]];return this.player.load(n,this).once("complete",function(){this.showMessage()},this).start(),this}}const Js={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1};at.register("toast",function(i){var t=new CE(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.Toast",CE);var wY=function(i,t){if(t===!1)return null;if(Ln(t))return t;var n=new Rn(i,t);return i.add.existing(n),n},Lh=function(i,t,n){n===void 0&&(n=!0),n?t=t?wi(t):{}:t||(t={});var m=new M0(i,t);return i.add.existing(m),m};const _y=["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],OY=[15792383,16444375,65535,8388564,15794175,16119260,16770244,0,16772045,255,9055202,10824234,14596231,6266528,8388352,13789470,16744272,6591981,16775388,14423100,65535,139,35723,12092939,11119017,11119017,25600,12433259,9109643,5597999,16747520,10040012,9109504,15308410,9419919,4734347,3100495,3100495,52945,9699539,16716947,49151,6908265,6908265,2003199,11674146,16775920,2263842,16711935,14474460,16316671,16766720,14329120,8421504,8421504,32768,11403055,15794160,16738740,13458524,4915330,16777200,15787660,15132410,16773365,8190976,16775885,11393254,15761536,14745599,16448210,13882323,13882323,9498256,16758465,16752762,2142890,8900346,7833753,7833753,11584734,16777184,65280,3329330,16445670,16711935,8388608,6737322,205,12211667,9662683,3978097,8087790,64154,4772300,13047173,1644912,16121850,16770273,16770229,16768685,128,16643558,8421376,7048739,16753920,16729344,14315734,15657130,10025880,11529966,14381203,16773077,16767673,13468991,16761035,14524637,11591910,8388736,6697881,16711680,12357519,4286945,9127187,16416882,16032864,3050327,16774638,10506797,12632256,8900331,6970061,7372944,7372944,16775930,65407,4620980,13808780,32896,14204888,16737095,4251856,15631086,16113331,16777215,16119285,16776960,10145074];var hp={},t2;for(var bl=0,LY=_y.length;bl<LY;bl++)t2=_y[bl].toLowerCase(),hp[t2]=OY[bl];var FY=function(i){return i=i.toLowerCase(),hp.hasOwnProperty(i)?hp[i]:null},IY=function(i){return typeof i!="string"||(i.startsWith("#")?i=parseInt(i.substring(1),16):i.startsWith("0x")?i=parseInt(i.substring(2),16):i=FY(i)),i};const DY=Phaser.Utils.String.Pad;var e2=function(i,t){t===void 0&&(t="0x");var n=i.toString(16).toUpperCase();return n=DY(n,6,0,1),n=t+n,n},BY=function(i,t){i&&(i.setTint?i.setTint(t):i.setFillStyle&&i.setFillStyle(t))};const gi=Phaser.Utils.Objects.GetValue,bY=Phaser.Utils.Objects.IsPlainObject,GY=Phaser.Math.Clamp;let Dg=class extends Ot{constructor(t,n){n===void 0&&(n={}),n.orientation=0,super(t,n),this.type="rexColorInputLite";var m=gi(n,"background",void 0),C=gi(n,"swatch"),M;bY(C)&&(M=gi(C,"size"));var h=wY(t,gi(n,"swatch")),y=gi(n,"inputText",!0),e;if(y&&(e=Lh(t,y)),m&&this.addBackground(m),h){M=gi(n,"swatchSize",M);var f;M!==void 0?(Zi(h,M,M),f=!1):f=gi(n,"squareExpandSwatch",!0);var c=f?1:0;this.add(h,{proportion:0,expand:!1,fitRatio:c})}if(e){var s=gi(y,"width")===void 0?1:0,a=gi(y,"height")===void 0;this.add(e,{proportion:s,expand:a})}this.addChildrenMap("background",m),this.addChildrenMap("swatch",h),this.addChildrenMap("inputText",e),e&&e.on("close",function(){this.setValue(e.value)},this);var r=gi(n,"valuechangeCallback",null);if(r!==null){var o=gi(n,"valuechangeCallbackScope",void 0);this.on("valuechange",r,o)}this.setValue(gi(n,"value",0))}get value(){return this._value}set value(t){if(typeof t=="string"){if(t=IY(t),t==null){var m=this.childrenMap.inputText;m&&m.setText(e2(this._value));return}}else t=GY(Math.floor(t),0,16777215);if(this._value!==t){this._value=t;var n=this.childrenMap.swatch;n&&BY(n,t);var m=this.childrenMap.inputText;m&&m.setText(e2(t)),this.emit("valuechange",this._value)}}setValue(t){return this.value=t,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}};var NY={setCreateColorPickerBackgroundCallback(i){return this.colorPickerCreateBackgroundCallback=i,this},setColorPickerHPalettePosition(i){return this.colorPickerHPalettePosition=i,this},setColorPickerExpandDirection(i){return typeof i=="string"&&(i=VY[i]),this.colorPickerExpandDirection=i,this},setColorPickerEaseInDuration(i){return i===void 0&&(i=0),this.colorPickerEaseInDuration=i,this},setColorPickerEaseOutDuration(i){return i===void 0&&(i=0),this.colorPickerEaseOutDuration=i,this},setColorPickerTransitInCallback(i){return this.colorPickerTransitInCallback=i,this},setColorPickerTransitOutCallback(i){return this.colorPickerTransitOutCallback=i,this},setColorPickerBounds(i){return this.colorPickerBounds=i,this},setColorPickerWidth(i){return this.colorPickerWidth=i,this},setColorPickerHeight(i){return this.colorPickerHeight=i,this},setColorPickerSize(i,t){return this.setColorPickerWidth(i).setColorPickerHeight(t),this},setColorPickerSpace(i){return i===void 0&&(i={}),this.colorPickerSpace=i,this},setColorComponentsHeight(i){return this.colorComponentsHeight=i,this},setColorComponentsFormatLabelConfig(i){return this.colorComponentsFormatLabelConfig=i,this},setColorComponentsInputTextConfig(i){return this.colorComponentsInputTextConfig=i,this},setColorComponentsSpace(i){return i===void 0&&(i={}),this.colorComponentsSpace=i,this}};const VY={down:0,up:1},SE=Phaser.Display.Color,bu=Phaser.Math.Percent;var zY=function(i,t,n){n===void 0&&(n=!1);var m=i.width,C=i.height,M=new SE;if(n)for(var h=0;h<C;h++){var y=bu(h,0,C);M.setFromHSV(y,1,1),t.fillStyle=M.rgba,t.fillRect(0,h,m,1)}else for(var e=0;e<m;e++){var y=bu(e,0,m);M.setFromHSV(y,1,1),t.fillStyle=M.rgba,t.fillRect(e,0,1,C)}},kY=function(i,t,n){for(var m=i.width,C=i.height,M=t.getImageData(0,0,m,C),h=M.data,y=new SE,e=0;e<C;e++)for(var f=0;f<m;f++){var c=bu(f,0,m),s=1-bu(e,0,C);y.setFromHSV(n,c,s);var a=(e*m+f)*4;h[a]=y.red,h[a+1]=y.green,h[a+2]=y.blue,h[a+3]=255}t.putImageData(M,0,0)};const UY=Phaser.Display.Color,i2=Phaser.Math.Percent,XY=Phaser.Display.Color.ColorToRGBA,YY=Phaser.Display.Color.HSVToRGB;class WY extends za{constructor(t,n,m,C,M,h){n===void 0&&(n=0),m===void 0&&(m=0),C===void 0&&(C=2),M===void 0&&(M=2),super(t,n,m,C,M),this.type="rexColorPicker.HPaletteCanvas",this.colorObject=new UY,this.setOrientation(h),this.setSize(C,M)}setOrientation(t){return this.orientation=Of(t),this}updateTexture(){return zY(this.canvas,this.context,this.orientation),super.updateTexture(),this}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue=t}getHue(t,n){return t===void 0?this.hue:(this.orientation===0?this.hue=i2(t,0,this.width):this.hue=i2(n,0,this.height),this.hue)}getColor(t,n){if(t===void 0)return this.color;var m=this.getHue(t,n);return this.colorObject.setFromRGB(YY(m,1,1)),this.colorObject.color}setColor(t){return this.color===t?this:this}colorToLocalPosition(t,n){return n===void 0?n={}:n===!0&&(bc===void 0&&(bc={}),n=bc),this.colorObject.setFromRGB(XY(t)),this.orientation===0?(n.x=this.width*this.colorObject.h,n.y=this.height/2):(n.x=this.width/2,n.y=this.height*this.colorObject.h),n}}var bc=void 0,HY=Phaser.Math.RotateAround,ME=function(i,t,n,m){m===void 0?m={}:m===!0&&(Gc===void 0&&(Gc={}),m=Gc),t-=i.width*i.originX,n-=i.height*i.originY;var C={x:t*i.scaleX,y:n*i.scaleY};return HY(C,0,0,-i.rotation),m.x=i.x+t,m.y=i.y+n,m},Gc;class $Y extends Li{constructor(t,n){n===void 0&&(n={}),super(t,n);var m=n.width!=null?1:0,C=new WY(t).setOrientation(m);t.add.existing(C),this.type="rexColorPicker.HPalette",C.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var M=new Rn(t,{strokeColor:16777215,strokeWidth:2});t.add.existing(M),this.add(C,{key:"paletteCanvas",expand:!0}).add(M,{key:"marker",expand:!1})}resize(t,n){if(this.width===t&&this.height===n)return this;super.resize(t,n);var m=Math.min(t,n);return this.childrenMap.marker.setSize(m,m),this}onPaletteCanvasPointerDown(t,n,m,C){if(t.isDown){var M=this.childrenMap.paletteCanvas,h=M.getColor(n,m);this.setMarkerPosition(h),this.emit("input",h)}}get color(){return this.childrenMap.paletteCanvas.color}setColor(t){if(this.color===t)return this;var n=this.childrenMap.paletteCanvas;return n.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var n=this.childrenMap.paletteCanvas,m=this.childrenMap.marker,C=n.colorToLocalPosition(t,!0);return ME(n,C.x,C.y,m),this.resetChildPositionState(m),this}getHue(t,n){var m=this.childrenMap.paletteCanvas;return m.getHue(t,n)}}const KY=Phaser.Display.Color,s2=Phaser.Math.Percent,n2=Phaser.Display.Color.ColorToRGBA,ZY=Phaser.Display.Color.HSVToRGB;class jY extends za{constructor(t,n,m,C,M,h){n===void 0&&(n=0),m===void 0&&(m=0),C===void 0&&(C=2),M===void 0&&(M=2),super(t,n,m,C,M),this.type="rexColorPicker.SVPaletteCanvas",h===void 0&&(h=1),this.colorObject=new KY,this.setHue(h),this.setSize(C,M)}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue!==t&&(this._hue=t,this.colorObject.h=t,this.dirty=!0)}setHue(t){return this.hue=t,this}updateTexture(){return kY(this.canvas,this.context,this.hue),super.updateTexture(),this}getColor(t,n){if(t===void 0)return this.colorObject.color;var m=s2(t,0,this.width),C=1-s2(n,0,this.height);return this.colorObject.setFromRGB(ZY(this.hue,m,C)),this.colorObject.color}setColor(t){return this.color===t?this:(this.colorObject.setFromRGB(n2(t)),this.setHue(this.colorObject.h),this)}colorToLocalPosition(t,n){return n===void 0?n={}:n===!0&&(Nc===void 0&&(Nc={}),n=Nc),this.colorObject.setFromRGB(n2(t)),n.x=this.width*this.colorObject.s,n.y=this.height*(1-this.colorObject.v),n}}var Nc=void 0;class JY extends Li{constructor(t,n){super(t,n);var m=new jY(t);t.add.existing(m),this.type="rexColorPicker.SVPalette",m.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var C=new Rn(t,{radius:5,strokeColor:16777215,strokeWidth:2});t.add.existing(C),this.add(m,{key:"paletteCanvas",expand:!0}).add(C,{key:"marker",expand:!1})}onPaletteCanvasPointerDown(t,n,m,C){if(t.isDown){var M=this.childrenMap.paletteCanvas,h=M.getColor(n,m);this.setMarkerPosition(h),this.emit("input",h)}}get color(){return this.childrenMap.paletteCanvas.color}setHue(t){var n=this.childrenMap.paletteCanvas;return n.setHue(t),this}setColor(t){if(this.color===t)return this;var n=this.childrenMap.paletteCanvas;return n.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var n=this.childrenMap.paletteCanvas,m=this.childrenMap.marker,C=n.colorToLocalPosition(t,!0);return ME(n,C.x,C.y,m),this.resetChildPositionState(m),this}}const zi=Phaser.Utils.Objects.GetValue;class Bg extends Ot{constructor(t,n){super(t,n),this.type="rexColorPicker",this.freezePalettes=!1;var m=zi(n,"hPalette.position",0);typeof m=="string"&&(m=QY[m]);var C=m===0||m===2?1:0;this.setOrientation(C);var M=zi(n,"background",void 0),h,y;if(this.orientation===0){var h=zi(n,"hPalette.width",void 0);h===void 0&&(h=zi(n,"hPalette.size",10))}else y=zi(n,"hPalette.height",void 0),y===void 0&&(y=zi(n,"hPalette.size",10));var e=new $Y(t,{width:h,height:y});t.add.existing(e);var f=zi(n,"svPalette.width",void 0),c=zi(n,"svPalette.height",void 0),s=new JY(t,{width:f,height:c});t.add.existing(s),M&&this.addBackground(M);var a={proportion:0,expand:!0},r,o;this.orientation===0?(r=f===void 0?1:0,o=c===void 0):(r=c===void 0?1:0,o=f===void 0);var l={proportion:r,expand:o};m===0||m===3?this.add(s,l).add(e,a):this.add(e,a).add(s,l),e.on("input",function(){s.setHue(e.getHue()),this.setValue(s.color,!0)},this),s.on("input",function(){this.setValue(s.color,!0)},this),this.addChildrenMap("background",M),this.addChildrenMap("hPalette",e),this.addChildrenMap("svPalette",s);var v=zi(n,"valuechangeCallback",null);if(v!==null){var u=zi(n,"valuechangeCallbackScope",void 0);this.on("valuechange",v,u)}this.setValue(zi(n,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){var n=this._value;this._value=t,this.freezePalettes||this.updatePalettes(),this.emit("valuechange",t,n,this)}}setValue(t,n){return this.freezePalettes=!!n,this.value=t,this.freezePalettes=!1,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}updatePalettes(){return this.childrenMap.hPalette.setColor(this.color),this.childrenMap.svPalette.setColor(this.color),this}runLayout(t,n,m){return this.ignoreLayout?this:(super.runLayout(t,n,m),this.childrenMap.hPalette.setMarkerPosition(this.value),this.childrenMap.svPalette.setMarkerPosition(this.value),this)}}var QY={bottom:0,left:1,top:2,right:3};const os=Phaser.Utils.Objects.GetValue,qY=Phaser.Display.Color,_Y=Phaser.Display.Color.ColorToRGBA,tW=Phaser.Display.Color.HSVToRGB,Jn=Phaser.Math.Clamp;class bg extends Ot{constructor(t,n){n===void 0&&(n={}),n.orientation=0,super(t,n),this.type="rexColorComponents",this.colorObject=new qY;var m=os(n,"background",void 0),C=os(n,"formatLabel",void 0);Ln(C)||(C=Si(t,C).resetDisplayContent());var M=[];if(n.inputText0&&n.inputText1&&n.inputText2)M.push(n.inputText0),M.push(n.inputText1),M.push(n.inputText2);else for(var h=os(n,"inputText"),y=0;y<3;y++){var e=Lh(t,h).setMaxLength(3).setNumberInput();M.push(e)}m&&this.addBackground(m);var c=os(n,"proportion.formatLabel",0),f=!!C.isRexContainerLite,s=os(n,"expand.formatLabel",f);this.add(C,{proportion:c,expand:s});for(var c=os(h,"width")===void 0?1:0,s=os(h,"height")===void 0,y=0,a=M.length;y<a;y++)this.add(M[y],{proportion:c,expand:s});this.addChildrenMap("background",m),this.addChildrenMap("formatLabel",C),this.addChildrenMap("components",M),this.onClick(C,this.toggleColorFormat,this);for(var y=0,a=M.length;y<a;y++)M[y].on("close",function(){this.updateColorObject(),this.setValue(this.colorObject.color)},this);var r=os(n,"valuechangeCallback",null);if(r!==null){var o=os(n,"valuechangeCallbackScope",void 0);this.on("valuechange",r,o)}C.setText("RGB"),this.setValue(os(n,"value",16777215))}get value(){return this._value}set value(t){t=Jn(Math.floor(t),0,16777215),this._value!==t&&(this._value=t,this.colorObject.setFromRGB(_Y(t)),this.updateComponents(),this.emit("valuechange",this._value))}setValue(t){return this.value=t,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}get colorFormat(){return this.childrenMap.formatLabel.text}set colorFormat(t){this.colorFormat!==t&&(this.childrenMap.formatLabel.setText(t),this.updateComponents())}setColorFormat(t){return this.colorFormat=t,this}toggleColorFormat(){return this.colorFormat=this.colorFormat==="RGB"?"HSV":"RGB",this}updateComponents(){var t=this.childrenMap.components,n,m,C;return this.colorFormat==="RGB"?(n=this.colorObject.red,m=this.colorObject.green,C=this.colorObject.blue):(n=Math.floor(this.colorObject.h*360),m=Math.floor(this.colorObject.s*100),C=Math.floor(this.colorObject.v*100)),t[0].setValue(n),t[1].setValue(m),t[2].setValue(C),this}updateColorObject(){var t=this.childrenMap.components;if(this.colorFormat==="RGB"){var n=Jn(t[0].value,0,255),m=Jn(t[1].value,0,255),C=Jn(t[2].value,0,255);this.colorObject.setTo(n,m,C)}else{var M=Jn(t[0].value,0,359)/360,h=Jn(t[1].value,0,100)/100,y=Jn(t[2].value,0,100)/100;this.colorObject.setFromRGB(tW(M,h,y))}return this}}const Vc=Phaser.Utils.Objects.GetValue;class eW extends Ot{constructor(t,n){n===void 0&&(n={}),n.orientation=1,super(t,n),this.type="rexColorInput.ColorPickerPanel";var m=Vc(n,"background",void 0),C=new Bg(t,{hPalette:n.hPalette||{},svPalette:n.svPalette||{},space:{item:Vc(n,"space.hPalette",8)}});t.add.existing(C);var M;n.colorComponents&&(M=new bg(t,n.colorComponents),t.add.existing(M)),m&&(this.addBackground(m),new xf(m,{stopAllLevels:!1})),this.add(C,{proportion:1,expand:!0}),M&&this.add(M,{proportion:0,expand:!0}),this.addChildrenMap("background",m),this.addChildrenMap("colorPicker",C),this.addChildrenMap("colorComponents",M),C.on("valuechange",function(h){this.setValue(h)},this),M&&M.on("valuechange",function(h){this.setValue(h)},this),this.setValue(Vc(n,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){this._value=t;var n=this.childrenMap.colorPicker;n.setValue(t);var m=this.childrenMap.colorComponents;m&&m.setValue(t),this.emit("valuechange",t)}}setValue(t){return this.value=t,this}}Phaser.Utils.Objects.GetValue;var iW=function(t){var t=this.scene,n,m=this.colorPickerCreateBackgroundCallback;m&&(n=m.call(this,t),t.add.existing(n));var C=this.colorPickerWidth;C===void 0&&(C=this.width);var M=this.colorPickerHeight;M===void 0&&(M=C);var h;this.colorComponentsHeight>0?h={height:this.colorComponentsHeight,formatLabel:this.colorComponentsFormatLabelConfig,inputText:this.colorComponentsInputTextConfig,space:this.colorComponentsSpace}:h=!1;var y=new eW(t,{width:C,height:M,background:n,space:this.colorPickerSpace,hPalette:{position:this.colorPickerHPalettePosition},colorComponents:h,value:this.value});return t.add.existing(y),y},sW=function(){if(!this.colorPicker){var i=iW.call(this).layout(),t=new eE(i,{duration:{in:this.colorPickerEaseInDuration,out:this.colorPickerEaseOutDuration},transitIn:this.colorPickerTransitInCallback,transitOut:this.colorPickerTransitOutCallback,expandDirection:this.colorPickerExpandDirection,alignTargetX:this,alignTargetY:this,bounds:this.colorPickerBounds,touchOutsideClose:!0}).on("open",function(){i.on("valuechange",function(n){this.setValue(n)},this)},this).on("close",function(){this.colorPicker=void 0,this.dropDownBehavior=void 0},this);return this.colorPicker=i,this.dropDownBehavior=t,this.pin(i),this}},EE={openColorPicker:sW};Object.assign(EE,NY);const ye=Phaser.Utils.Objects.GetValue;let Hf=class extends Dg{constructor(t,n){n===void 0&&(n={}),super(t,n),this.type="rexColorInput",n.hasOwnProperty("colorPicker")||(n.colorPicker={background:{color:0}});var m=n.colorPicker,C=m!==!1&&m!==null;if(C){this.setColorPickerSize(ye(m,"width",160),ye(m,"height",170));var M,h=ye(m,"background");h?M=function(r){return Ci(r,h)}:M=ye(m,"createBackgroundCallback"),this.setCreateColorPickerBackgroundCallback(M),this.setColorPickerHPalettePosition(ye(m,"hPalettePosition",0)),this.setColorPickerExpandDirection(ye(m,"expandDirection")),this.setColorPickerEaseInDuration(ye(m,"easeIn",200)),this.setColorPickerEaseOutDuration(ye(m,"easeOut",200)),this.setColorPickerTransitInCallback(ye(m,"transitIn")),this.setColorPickerTransitOutCallback(ye(m,"transitOut")),this.setColorPickerBounds(ye(m,"bounds"));var y=ye(m,"space");y===void 0&&(y={left:10,right:10,top:10,bottom:10,item:8}),this.setColorPickerSpace(y)}var e=n.colorComponents,f=e!==!1&&e!==null;if(C&&f){this.setColorComponentsHeight(ye(e,"height",30)),this.setColorComponentsFormatLabelConfig(ye(e,"formatLabel"));var c=ye(e,"inputText");c||(c=ye(n,"inputText")),this.setColorComponentsInputTextConfig(c);var s=ye(e,"space");s===void 0&&(s={item:8}),this.setColorComponentsSpace(s)}var a=this.childrenMap.swatch;a&&C&&this.onClick(a,this.openColorPicker,this)}};Object.assign(Hf.prototype,EE);at.register("colorInput",function(i){var t=new Hf(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.ColorInput",Hf);at.register("colorInputLite",function(i){var t=new Dg(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.ColorInputBase",Dg);at.register("colorPicker",function(i){var t=new Bg(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.ColorPicker",Bg);at.register("colorComponents",function(i){var t=new bg(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.ColorComponents",bg);var nW=function(){return function(i,t,n,m){t!=="panel"&&n.setChildVisible(i,!0)}},rW=function(){return function(i,t,n,m){t!=="panel"&&n.setChildVisible(i,!1)}};const aW={show:nW,hide:rW};var oW=function(i,t){return t===void 0&&(t=1),function(n,m,C,M){m!=="panel"&&C.fadeChild(n,M?0:i,t)}},hW=function(i,t){return t===void 0&&(t=0),function(n,m,C,M){m!=="panel"&&C.fadeChild(n,M?0:i,t)}};const lW={show:oW,hide:hW};var r2=function(i,t){return function(n,m,C,M){m!=="panel"&&C.moveChild(n,M?0:i,t)}};const uW={show:r2,hide:r2};var a2=function(i,t){return function(n,m,C,M){m==="panel"&&C.moveChild(n,M?0:i,t)}};const fW={show:a2,hide:a2},zc={visible:aW,fade:lW,move:uW,"move-panel":fW};var dW=function(i){var t,n;[t,...n]=typeof i=="string"?[i]:i;var m,C;return zc.hasOwnProperty(t)?(m=zc[t].show.apply(null,n),C=zc[t].hide.apply(null,n)):(m=Fe,C=Fe),{show:m,hide:C}};const cW={showChild(i,t){var n=this.sizerChildren[i];return n&&(this.emit("showchild",n,i,this,t),this.resetChildState(n)),this},hideChild(i,t){var n=this.sizerChildren[i];return n&&(this.emit("hidechild",n,i,this,t),this.resetChildState(n)),this},swapChild(i,t){return this.currentChildKey===i||(this.currentChildKey==="panel"||i==="panel"?(this.previousChildKey=this.currentChildKey,this.currentChildKey=i,this.hideChild(this.previousChildKey,t),this.showChild(this.currentChildKey,t)):(this.swapChild("panel",t),this.swapChild(i,t))),this},showPanel(i){return this.swapChild("panel",i),this},showLeftSide(){return this.swapChild("leftSide"),this},showRightSide(){return this.swapChild("rightSide"),this},showTopSide(){return this.swapChild("topSide"),this},showBottomSide(){return this.swapChild("bottomSide"),this},hideLeftSide(){return this.currentChildKey=="leftSide"&&this.showPanel(),this},hideRightSide(){return this.currentChildKey=="rightSide"&&this.showPanel(),this},hideTopSide(){return this.currentChildKey=="topSide"&&this.showPanel(),this},hideBottomSide(){return this.currentChildKey=="bottomSide"&&this.showPanel(),this},toggleLeftSide(){var i=this.currentChildKey!=="panel"?"panel":"leftSide";return this.swapChild(i),this},toggleRightSide(){var i=this.currentChildKey!=="panel"?"panel":"rightSide";return this.swapChild(i),this},toggleTopSide(){var i=this.currentChildKey!=="panel"?"panel":"topSide";return this.swapChild(i),this},toggleBottomSide(){var i=this.currentChildKey!=="panel"?"panel":"bottomSide";return this.swapChild(i),this}},vW=di.prototype.setChildVisible,pW={setChildVisible(i,t){var n;if(typeof i=="string"){var n=i;i=this.sizerChildren[n]}else n=Ef(this.sizerChildren,i);return t===void 0&&(t=this.currentChildKey===n),vW.call(this,i,t),this}},gW={fadeChild(i,t,n){var m;return typeof i=="string"?(m=i,i=this.sizerChildren[m]):m=Ef(this.sizerChildren,i),t===void 0&&(t=500),n===void 0&&(n=this.currentChildKey===m?1:0),i.fadeIn(t,{start:i.alpha,end:n}),this},fadeChildPromise(i,t,n){return typeof i=="string"&&(i=this.sizerChildren[key]),this.fadeChild(i,t,n),i._fade?Se(i._fade):Promise.resolve()}},mW={moveChild(i,t,n,m){var C;typeof i=="string"?(C=i,i=this.sizerChildren[C]):C=Ef(this.sizerChildren,i),t===void 0&&(t=500);var M=this.currentChildKey===C;if(m===void 0)switch(C){case"leftSide":case"rightSide":m=Nt(i);break;case"topSide":case"bottomSide":m=Lt(i);break;default:if(M)switch(this.previousChildKey){case"leftSide":case"rightSide":m=Nt(this.sizerChildren[this.previousChildKey]);break;case"topSide":case"bottomSide":m=Lt(this.sizerChildren[this.previousChildKey]);break;default:m=0;break}else switch(this.currentChildKey){case"leftSide":case"rightSide":m=Nt(this.sizerChildren[this.currentChildKey]);break;case"topSide":case"bottomSide":m=Lt(this.sizerChildren[this.currentChildKey]);break;default:m=0;break}break}var h,y,e,f;if(M)switch(C){case"panel":switch(this.previousChildKey){case"leftSide":h=!0;break;case"rightSide":y=!0;break;case"topSide":e=!0;break;case"bottomSide":f=!0;break}break;case"leftSide":y=!0;break;case"rightSide":h=!0;break;case"topSide":f=!0;break;case"bottomSide":e=!0;break}else switch(C){case"panel":switch(this.currentChildKey){case"leftSide":y=!0;break;case"rightSide":h=!0;break;case"topSide":f=!0;break;case"bottomSide":e=!0;break}break;case"leftSide":h=!0;break;case"rightSide":y=!0;break;case"topSide":e=!0;break;case"bottomSide":f=!0;break}return h?i.moveTo(t,`-=${m}`,void 0,n):y?i.moveTo(t,`+=${m}`,void 0,n):e?i.moveTo(t,void 0,`-=${m}`,n):f?i.moveTo(t,void 0,`+=${m}`,n):i.moveTo(0),this},moveChildPromise(i,t,n,m){return typeof i=="string"&&(i=this.sizerChildren[key]),this.moveChild(i,t,n,m),i._easeMove?Se(i._easeMove):Promise.resolve()}};var PE={};Object.assign(PE,pW,gW,mW);const He=Phaser.Utils.Objects.GetValue;class Gg extends Li{constructor(t,n){super(t,n),this.type="rexSides",this.childrenMap=this.sizerChildren,this.previousChildKey=void 0,this.currentChildKey=void 0;var m=He(n,"showChildCallback",void 0);if(m)if(Sn(m)){var C=He(n,"showChildCallbackScope",void 0);this.on("showchild",m,C);var M=He(n,"hideChildCallback",void 0),h=He(n,"hideChildCallbackScope",void 0);this.on("hidechild",M,h)}else{var y=dW(m);this.on("showchild",y.show),this.on("hidechild",y.hide)}var e=He(n,"background",void 0),f=He(n,"panel",void 0),c=He(n,"leftSide",void 0),s=He(n,"rightSide",void 0),a=He(n,"topSide",void 0),r=He(n,"bottomSide",void 0);if(e&&this.addBackground(e),f&&this.add(f,"panel","center",0,!0),c){var o=He(n,"expand.left",!0);this.add(c,"leftSide","left-top",0,{height:o})}if(s){var o=He(n,"expand.right",!0);this.add(s,"rightSide","right-top",0,{height:o})}if(a){var o=He(n,"expand.top",!0);this.add(a,"topSide","left-top",0,{width:o})}if(r){var o=He(n,"expand.bottom",!0);this.add(r,"bottomSide","left-bottom",0,{width:o})}}reset(){return this.previousChildKey=void 0,this.currentChildKey="panel",this.showChild("panel",!0),this.hideChild("leftSide",!0),this.hideChild("rightSide",!0),this.hideChild("topSide",!0),this.hideChild("bottomSide",!0),this}}Object.assign(Gg.prototype,cW,PE);at.register("sides",function(i){var t=new Gg(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.Sides",Gg);class RE extends Er{constructor(t,n){n=vg(t,n),super(t,n),this.type="rexTweaker.Title"}setTitle(t){return t=t?wi(t):{},t.hasOwnProperty("text")||(t.hasOwnProperty("title")?t.text=t.title:t.text=""),this.resetDisplayContent(t),this}}class xW extends RE{constructor(t,n){n===void 0&&(n={}),super(t,n),this.type="rexTweaker.FolderTitle";var m=new cf(t,n.expandedIcon);t.add.existing(m),this.addSpace().add(m,{proportion:0,expand:!1,padding:1,fitRatio:1}),this.addChildrenMap("expandedIcon",m)}setExpandedState(t){t===void 0&&(t=!0);var n=t?"down":"right",m=this.childrenMap.expandedIcon;return m.setDirection(n),this}}var AE=function(i,t){var n=new zg(i,t);return i.add.existing(n),n},Ng=function(i,t,n){return Ci(i,n)};const yW={setBindingTarget(i){var t=this.childrenMap.child;return t.setBindingTarget(i),this}},TW={getMaxInputRowTitleWidth(){var i=this.childrenMap.child,t=i.getMaxInputRowTitleWidth();return t+this.getInnerPadding("left")},setInputRowTitleWidth(i){i-=this.getInnerPadding("left");var t=this.childrenMap.child;return t.setInputRowTitleWidth(i),this}};class wE extends Wf{constructor(t,n){super(t,n),this.type="rexTweaker.Folder"}setTitle(t){var n=this.childrenMap.title;return n.setTitle(t),this}}Object.assign(wE.prototype,yW,TW);const Jr=Phaser.Utils.Objects.GetValue;var CW=function(i,t,n){var m=Jr(n,"title")||{},C=new xW(i,m);i.add.existing(C),C.on("folder.expand",function(){C.setExpandedState(!0)}).on("folder.collapse",function(){C.setExpandedState(!1)});var M={root:Jr(n,"root"),styles:Jr(n,"tweaker"),space:Jr(n,"space")||{}},h=AE(i,M),y=Jr(n,"background"),e=Ng(i,t,y),f=new wE(i,{orientation:1,title:C,child:h,background:e,transition:{duration:Jr(n,"transition.duration",200)}});return i.add.existing(f),f};const o2=Phaser.Utils.Objects.GetValue;var SW=function(i){var t=this.scene,n=o2(this.styles,"folder")||{};n.tweaker=this.styles,n.root=this.root;var m=CW(t,i,n);delete n.tweaker,delete n.root,this.add(m,{expand:!0}),m.setTitle(i);var C=o2(i,"expanded",!0);C?m.expand(0):m.collapse(0);var M=m.getElement("child");return i.key&&this.root.addChildrenMap(i.key,M),M};const MW={setBindingTarget(i){for(var t=this.childrenMap.pages.children,n=0,m=t.length;n<m;n++)t[n].setBindingTarget(i);return this}},EW={getMaxInputRowTitleWidth(){for(var i=0,t=this.childrenMap.pages.children,n=0,m=t.length;n<m;n++)i=Math.max(i,t[n].getMaxInputRowTitleWidth());return i+this.getInnerPadding("left")},setInputRowTitleWidth(i){i-=this.getInnerPadding("left");for(var t=this.childrenMap.pages.children,n=0,m=t.length;n<m;n++)t[n].setInputRowTitleWidth(i);return this}};class OE extends Yf{constructor(t,n){super(t,n),this.type="rexTweaker.TabPages"}}Object.assign(OE.prototype,MW,EW);const Gl=Phaser.Utils.Objects.GetValue;var PW=function(i,t,n){var m=new OE(i,n);i.add.existing(m);for(var C=Gl(n,"tab"),M={root:Gl(n,"root"),styles:Gl(n,"tweaker")},h=Gl(t,"pages")||[],y=0,e=h.length;y<e;y++){var f=h[y];m.addPage({key:f.title,tab:Si(i,C).setActiveState(!1).resetDisplayContent({text:f.title}),page:AE(i,M)})}return m.on("tab.focus",function(c,s){c.setActiveState(!0)}).on("tab.blur",function(c,s){c.setActiveState(!1)}),m};const h2=Phaser.Utils.Objects.GetValue;var RW=function(i){var t=this.scene,n=h2(this.styles,"tab")||{};n.tweaker=this.styles,n.root=this.root;var m=PW(t,i,n);delete n.tweaker,delete n.root,this.add(m,{expand:!0});for(var C=h2(i,"pages")||[],M=[],h=0,y=0,e=C.length;y<e;y++){var f=m.getPage(y),c=C[y].show;c&&(h=y);var s=C[y].key;s&&this.root.addChildrenMap(s,f),M.push(f)}return m.swapPage(h,0),M};const nu="string",LE="number",FE="range",IE="list",AW="buttons",DE="boolean",wW="toggleSwitch",OW="color";var LW=function(i,t,n){if(n.view)return n.view;if(n.options)return IE;if(!i)return nu;var m=i[t];switch(typeof m){case"number":return FW(n,"min","max")?FE:LE;case"string":return nu;case"boolean":return DE;default:return nu}},FW=function(i,...t){for(var n=0,m=t.length;n<m;n++)if(i[t[n]]===void 0)return!1;return!0};const IW={setupBinding(){var i=this.childrenMap.inputField;return i.on("valuechange",function(t){!this.bindingTarget||!this.autoUpdateEnable||(this.bindingTarget[this.bindTargetKey]=t)},this),this},setAutoUpdateEnable(i){return i===void 0&&(i=!0),this.autoUpdateEnable=i,this},setBindingTarget(i,t){return this.bindingTarget=i,t!==void 0&&this.setBindingTargetKey(t),this.syncTargetValue(),this},setBindingTargetKey(i){return this.bindTargetKey=i,this},syncTargetValue(){if(!this.bindingTarget||!this.bindTargetKey)return this;var i=this.childrenMap.inputField;return i.syncValue(this.bindingTarget[this.bindTargetKey]),this}},DW={startMonitorTarget(){return this.isMonitoring?this:(this.isMonitoring=!0,this.scene.events.on("postupdate",this.onMonitorTarget,this),this)},stopMonitorTarget(){return this.isMonitoring?(this.isMonitoring=!1,this.scene.events.off("postupdate",this.onMonitorTarget,this),this):this},onMonitorTarget(){if(this.bindingTarget){var i=this.bindingTarget[this.bindTargetKey],t=this.childrenMap.inputField;t.value!==i&&t.syncValue(i)}}},BW={getMinTitleWidth(){var i=this.childrenMap.title;if(!i)return 0;var t=i.rexSizer.padding,n=this.getChildWidth(this.childrenMap.title)+t.left+t.right;return n+this.getInnerPadding("left")},setMinTitleWidth(i){var t=this.childrenMap.title;if(!t)return this;var n=t.rexSizer.padding;return i-=n.left+n.right,t.minWidth=i,this}},kc=Phaser.Utils.Objects.GetValue;class Vg extends Ot{constructor(t,n){super(t,n),this.type="rexTweaker.InputRow",this.bindingTarget=void 0,this.bindTargetKey=void 0,this.autoUpdateEnable=!0;var m=n.inputTitle,C=n.inputField,M=n.background,f=kc(n,"proportion.title",0),h=kc(n,"space.title",0),y;this.orientation===0?y={right:h}:y={bottom:h},this.add(m,{proportion:f,expand:!0,padding:y});var e=n.parentOrientation===1?1:0,f=kc(n,"proportion.inputField",e);this.add(C,{proportion:f,expand:!0}),M&&this.addBackground(M),this.addChildrenMap("title",m),this.addChildrenMap("inputField",C),this.addChildrenMap("background",M),this.setupBinding()}destroy(t){!this.scene||this.ignoreDestroy||(this.stopMonitorTarget(),super.destroy(t))}setTitle(t){var n=this.childrenMap.title;return n.setTitle(t),this}preLayout(){var t=this.childrenMap.title;t&&(t.minWidth=0),super.preLayout()}}Object.assign(Vg.prototype,IW,DW,BW);var BE=function(i,t,n){var m=new RE(i,n);return i.add.existing(m),m};class Dn extends Ot{get bindingTarget(){return this.getParentSizer().bindingTarget}get bindingKey(){return this.getParentSizer().bindTargetKey}get value(){return this._value}validate(t){return this.syncValueFlag||!this.validateCallback?!0:this.validateCallback(t,this._value,this.bindingTarget,this.bindingKey)}set value(t){if(this._value!==t){var n=this._value;this._value=t,this.syncValueFlag||this.emit("valuechange",t,n,this.bindingTarget,this.bindingKey)}}getValue(){return this.value}setValue(t){return this.value=t,this}syncValue(t){return this.syncValueFlag=!0,this.value=t,this.syncValueFlag=!1,this}get readOnly(){return this._readOnly}set readOnly(t){this._readOnly=t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,!0}setTextFormatCallback(t){return this.textFormatCallback=t,this}setValidateCallback(t){return this.validateCallback=t,this}}class bW extends Dn{constructor(t,n){n===void 0&&(n={}),super(t),this.type="rexTweaker.TextInput";var m=n.inputText,C=Lh(t,m);this.add(C,{proportion:1,expand:!0}),this.addChildrenMap("inputText",C),C.on("close",function(){this.setValue(C.value)},this)}get value(){return this._value}set value(t){if(this._value!==t){this.validate(t)||(t=this._value);var n=this.textFormatCallback?this.textFormatCallback(t):t;this.childrenMap.inputText.setText(n),super.value=t}}setInputTextReadOnly(t){return t===void 0&&(t=!0),this.childrenMap.inputText.setReadOnly(t),this}}var l2=function(i,t,n){var m=new bW(i,n);return i.add.existing(m),m.setInputTextReadOnly(!!t.inputTextReadOnly),m};class GW extends Dn{constructor(t,n){n===void 0&&(n={}),super(t),this.type="rexTweaker.NumberInput";var m=n.inputNumber||n.inputText,C=Lh(t,m).setNumberInput();this.add(C,{proportion:1,expand:!0}),this.addChildrenMap("inputText",C),C.on("close",function(){this.setValue(C.value)},this)}get value(){return this._value}set value(t){if(this._value!==t){this.validate(t)||(t=this._value);var n=this.textFormatCallback?this.textFormatCallback(t):t;this.childrenMap.inputText.setText(n),super.value=t}}setInputTextReadOnly(t){return t===void 0&&(t=!0),this.childrenMap.inputText.setReadOnly(t),this}}var NW=function(i,t,n){var m=new GW(i,n);return i.add.existing(m),m.setInputTextReadOnly(!!t.inputTextReadOnly),m},VW=function(i,t){var n=new Ua(i,t);return i.add.existing(n),n};const Uc=Phaser.Utils.Objects.GetValue,zW=Phaser.Math.Linear,kW=Phaser.Math.Snap.Floor;class UW extends Dn{constructor(t,n){n===void 0&&(n={}),super(t),this.type="rexTweaker.RangeInput";var m=n.slider,C=this.orientation===0?"track.height":"track.width",M=Uc(m,C),h=VW(t,m),c=n.parentOrientation===1?2:0,s=Uc(n,"proportion.range.slider",c),y=M===void 0;this.add(h,{proportion:s,expand:y});var e=n.inputNumber||n.inputText,f=Lh(t,e).setNumberInput(),c=n.parentOrientation===1?1:0,s=Uc(n,"proportion.range.inputText",c);this.add(f,{proportion:s,expand:!0}),this.addChildrenMap("slider",h),this.addChildrenMap("inputText",f),f.on("close",function(){this.setValue(f.value)},this),h.on("valuechange",function(){var a=zW(this.minValue,this.maxValue,h.value);this.step&&(a=kW(a,this.step,this.minValue)),this.setValue(a)},this)}get value(){return this._value}set value(t){if(this._value!==t){this.validate(t)||(t=this._value);var n=this.textFormatCallback?this.textFormatCallback(t):t;this.childrenMap.inputText.setText("").setText(n),this.childrenMap.slider.setValue(t,this.minValue,this.maxValue),super.value=t}}setRange(t,n,m){return this.minValue=t,this.maxValue=n,this.step=m,this.childrenMap.slider.setGap(m,t,n),this}setInputTextReadOnly(t){return t===void 0&&(t=!0),this.childrenMap.inputText.setReadOnly(t),this}}var XW=function(i,t,n){var m=new UW(i,n);return i.add.existing(m),m.setRange(t.min,t.max,t.step),m.setInputTextReadOnly(!!t.inputTextReadOnly),m},YW=function(i,t){t=sE(i,t);var n=new Oh(i,t);return i.add.existing(n),n},bE=function(i,t){for(var n=0,m=i.length;n<m;n++){var C=i[n];if(C.value===t)return n}},WW=function(i,t){var n=bE(i,t);if(n!=null)return i[n].text};class HW extends Dn{constructor(t,n){n===void 0&&(n={}),super(t),this.type="rexTweaker.ListInput";var m=YW(t,n.list);this.add(m,{proportion:1,expand:!0}),this.addChildrenMap("list",m),m.on("button.click",function(C,M,h,y,e,f){this.setValue(h.value)},this)}get value(){return this._value}set value(t){if(this._value!==t){this.validate(t)||(t=this._value);var n=this.childrenMap.list,m=WW(n.options,t);n.resetDisplayContent({text:m}),super.value=t}}setOptions(t){return this.childrenMap.list.setOptions(t),this}}var $W=function(i,t,n){var m=new HW(i,n);return i.add.existing(m),m.setOptions(t.options),m},GE=function(i,t){var n=new Ce(i,t);return i.add.existing(n),n},KW=function(i,t){for(var n=0,m=i.length;n<m;n++){var C=i[n];C&&C.setActiveState(n===t)}};const ZW=Phaser.Utils.Objects.GetValue;class jW extends Dn{constructor(t,n){n===void 0&&(n={}),super(t),this.type="rexTweaker.ButtonsInput";var m=n.button?wi(n.button):{},C=ZW(m,"expand",!0);C&&(m.align="center"),delete m.expand;var M=GE(t,{expand:C});M.buttonConfig=m,this.add(M,{proportion:1,expand:!0}),this.addChildrenMap("list",M),M.on("button.click",function(h,y,e,f){var c=M.options[y];c&&(this._selectedIndex=y,this.setValue(c.value),this._selectedIndex=void 0)},this)}get value(){return this._value}set value(t){if(this._value!==t){this.validate(t)||(t=this._value);var n=this.childrenMap.list,m=this._selectedIndex;m===void 0&&(m=bE(n.options,t)),KW(n.childrenMap.buttons,m),super.value=t}}setOptions(t){var n=this.childrenMap.list;n.options=t;var m=this.scene,C=n.buttonConfig;n.clearButtons(!0);for(var M=0,h=t.length;M<h;M++){var y=t[M],e=Si(m,C).setActiveState(!1).resetDisplayContent({text:y.text});n.addButton(e)}return this}}var JW=function(i,t,n){var m=new jW(i,n);return i.add.existing(m),m.setOptions(t.options),m},QW=function(i,t){var n=new R0(i,t);return i.add.existing(n),n};const qW=Phaser.Utils.Objects.GetValue;class _W extends Dn{constructor(t,n){n===void 0&&(n={}),super(t),this.type="rexTweaker.CheckboxInput";var m=n.checkbox,C=QW(t,m),M=qW(m,"size");M!==void 0&&C.setSize(M,M);var h=M!==void 0?0:1;this.add(C,{proportion:0,expand:!1,fitRatio:h}),this.addChildrenMap("checkbox",C),C.on("valuechange",function(y){this.setValue(y)},this)}get value(){return this._value}set value(t){this._value!==t&&(this.validate(t)||(t=this._value),this.childrenMap.checkbox.setValue(t),super.value=t)}}var tH=function(i,t,n){var m=new _W(i,n);return i.add.existing(m),m},eH=function(i,t){var n=new A0(i,t);return i.add.existing(n),n};const iH=Phaser.Utils.Objects.GetValue;class sH extends Dn{constructor(t,n){n===void 0&&(n={}),super(t),this.type="rexTweaker.ToggleSwitchInput";var m=n.toggleSwitch,C=eH(t,m),M=iH(m,"size");M!==void 0&&C.setSize(M,M);var h=M!==void 0?0:1;this.addSpace().add(C,{proportion:0,expand:!1,fitRatio:h}),this.addChildrenMap("toggleSwitch",C),C.on("valuechange",function(y){this.setValue(y)},this)}get value(){return this._value}set value(t){this._value!==t&&(this.validate(t)||(t=this._value),this.childrenMap.toggleSwitch.setValue(t),super.value=t)}}var nH=function(i,t,n){var m=new sH(i,n);return i.add.existing(m),m},rH=function(i,t,n){n===void 0&&(n=!0),n?t=t?wi(t):{}:t||(t={});var m=new Hf(i,t);return i.add.existing(m),m};class aH extends Dn{constructor(t,n){n===void 0&&(n={}),super(t),this.type="rexTweaker.ColorInput";var m=n.colorInput,C=rH(t,m);this.add(C,{proportion:1,expand:!0}),this.addChildrenMap("colorInput",C),C.on("valuechange",function(M){this.setValue(M)},this)}get value(){return this._value}set value(t){this._value!==t&&(this.validate(t)||(t=this._value),this.childrenMap.colorInput.setValue(t),super.value=t)}}var oH=function(i,t,n){var m=new aH(i,n);return i.add.existing(m),m},hH=function(i,t,n){var m=t.view,C;switch(m){case nu:C=l2;break;case LE:C=NW;break;case FE:C=XW;break;case IE:C=$W;break;case AW:C=JW;break;case DE:C=tH;break;case wW:C=nH;break;case OW:C=oH;break;default:C=Sn(m)?m:l2;break}var M=C(i,t,n,M);return M.setTextFormatCallback(t.format),M};const u2=Phaser.Utils.Objects.GetValue;var lH=function(i,t,n){var m=u2(n,"title")||{},C=BE(i,t,m),M=hH(i,t,n),h=u2(n,"background")||{},y=Ci(i,h),e=new Vg(i,{...t,...n,inputTitle:C,inputField:M,background:y});return i.add.existing(e),e.setTitle(t),e};Phaser.Utils.Objects.GetValue;var uH=function(i,t,n){arguments.length===1?(n=i,i=n.bindingTarget,t=n.bindingKey):n===void 0&&(n={}),n.title||(n.title=t),n.view||(n.view=LW(i,t,n));var m=this.styles.inputRow||{};m.parentOrientation=this.styles.orientation;var C=lH(this.scene,n,m),M=C.childrenMap.inputField,h;return this.orientation===1?h=0:(h=this.itemWidth>0?0:1,C.setMinWidth(this.itemWidth)),this.add(C,{proportion:h,expand:!0}),n.onValueChange&&M.on("valuechange",n.onValueChange),n.onValidate&&M.setValidateCallback(n.onValidate),C.setAutoUpdateEnable(n.autoUpdate),C.setBindingTarget(i,t),n.monitor&&C.startMonitorTarget(),n.key&&this.root.addChildrenMap(n.key,C),this},fH=function(i,t){var n=new Rn(i,t);return i.add.existing(n),n};const Xc=Phaser.Utils.Objects.GetValue;var dH=function(i,t,n){for(var m=Xc(n,"title")||{},C=BE(i,t,m),M=t.buttons,h=Xc(n,"button")||{},y=[],e=0,f=M.length;e<f;e++){var c=Si(i,h);y.push(c);var s=M[e];c.resetDisplayContent({text:s.label}),c.callback=s.callback}var a=GE(i,{buttons:y,expand:y.length===1}),r=Xc(n,"background")||{},o=fH(i,r),l=new Vg(i,{...n,inputTitle:C,inputField:a,background:o});return i.add.existing(l),l.setTitle(t),a.on("button.click",function(v){v.callback(l.bindingTarget)}),l};const cH=Phaser.Utils.Objects.GetValue;var f2=function(i){var t=this.scene;i===void 0&&(i={}),i.hasOwnProperty("label")&&(i.buttons=[{label:i.label,callback:i.callback}],delete i.label,delete i.callback);var n=i.bindingTarget;delete i.bindingTarget;var m=cH(this.styles,"inputRow")||{},C=dH(t,i,m);return this.add(C,{expand:!0}),n&&C.setBindingTarget(n),i.key&&this.root.addChildrenMap(i.key,C),this};const vH=Phaser.Utils.Objects.GetValue;var pH=function(i){var t=this.scene,n=vH(this.styles,"separator"),m=Ng(t,i,n);return this.add(m,{expand:!0}),this},gH=function(i){for(var t=this.sizerChildren,n=0,m=t.length;n<m;n++){var C=t[n];C.setBindingTarget&&C.setBindingTarget(i)}return this},mH=function(){for(var i=0,t=this.sizerChildren,n=0,m=t.length;n<m;n++){var C=t[n];C.rexSizer.hidden||(C.getMinTitleWidth?i=Math.max(i,C.getMinTitleWidth()):C.getMaxInputRowTitleWidth&&(i=Math.max(i,C.getMaxInputRowTitleWidth())))}return i+this.getInnerPadding("left")},xH=function(i){i-=this.getInnerPadding("left");for(var t=this.sizerChildren,n=0,m=t.length;n<m;n++){var C=t[n];C.rexSizer.hidden||(C.setMinTitleWidth?C.setMinTitleWidth(i):C.setInputRowTitleWidth&&C.setInputRowTitleWidth(i))}return this},yH={addFolder:SW,addTab:RW,addInput:uH,addButton:f2,addButtons:f2,addSeparator:pH,setBindingTarget:gH,getMaxInputRowTitleWidth:mH,setInputRowTitleWidth:xH};const Nl=Phaser.Utils.Objects.GetValue;class zg extends Ot{constructor(t,n){if(n===void 0&&(n={}),n.orientation===void 0&&(n.orientation=1),super(t,n),this.type="rexTweakerShell",this.root=n.root||this,this.styles=Nl(n,"styles")||{},this.styles.orientation=this.orientation,this.itemWidth=Nl(this.styles,"itemWidth",0),this.root===this&&this.orientation===1){var m=Nl(n,"inputRow.alignTitle");if(m===void 0){var C=Nl(this.styles,"inputRow.proportion.title");m=!C}else m&&nt(this.styles,"inputRow.proportion.title",0);this.alignInputRowTitle=m}else this.alignInputRowTitle=!1;var M=Ng(t,void 0,n.background);M&&this.addBackground(M)}preLayout(){super.preLayout(),this.alignInputRowTitle&&this.setInputRowTitleWidth(this.getMaxInputRowTitleWidth())}}Object.assign(zg.prototype,yH);class NE extends zg{constructor(t,n){n===void 0&&(n={}),n.styles===void 0&&(n.styles={}),n.background=n.styles.background||{},n.space=n.styles.space||{},super(t,n),this.type="rexTweaker"}}at.register("tweaker",function(i){var t=new NE(this.scene,i);return this.scene.add.existing(t),t});nt(window,"RexPlugins.UI.Tweaker",NE);at.register("click",function(i,t){return new On(i,t)});nt(window,"RexPlugins.UI.Click",On);at.register("clickOutside",function(i,t){return new tg(i,t)});nt(window,"RexPlugins.UI.ClickOutside",tg);at.register("inTouching",function(i,t){return new Ia(i,t)});nt(window,"RexPlugins.UI.InTouching",Ia);at.register("tap",function(i,t){return Ln(i)||(t=i,i=this.scene),new Cf(i,t)});nt(window,"RexPlugins.UI.Tap",Cf);at.register("press",function(i,t){return Ln(i)||(t=i,i=this.scene),new Sf(i,t)});nt(window,"RexPlugins.UI.Press",Sf);at.register("swipe",function(i,t){return Ln(i)||(t=i,i=this.scene),new Rh(i,t)});nt(window,"RexPlugins.UI.Swipe",Rh);at.register("pan",function(i,t){return Ln(i)||(t=i,i=this.scene),new uM(i,t)});nt(window,"RexPlugins.UI.Pan",uM);var VE=function(i){for(var t=i.scene.input,n=t.manager,m=n.pointersTotal,C=n.pointers,M,h=0;h<m;h++)if(M=C[h],!(!M.primaryDown||t.getDragState(M)!==0||!C0(i,M)))return t.setDragState(M,1),t._drag[M.id]=[i],t.dragDistanceThreshold===0||t.dragTimeThreshold===0?(t.setDragState(M,3),t.processDragStartList(M)):t.setDragState(M,2),!0;return!1};const Vl=Phaser.Utils.Objects.GetValue,d2=Phaser.Math.Distance.Between,c2=Phaser.Math.RotateAroundDistance;class zE extends me{constructor(t,n){super(t,{eventEmitter:!1}),this._enable=void 0,t.setInteractive(Vl(n,"inputConfig",void 0)),this.resetFromJSON(n),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.setEnable(Vl(t,"enable",!0)),this.setAxisMode(Vl(t,"axis",0)),this.setAxisRotation(Vl(t,"rotation",0)),this}toJSON(){return{enable:this.enable,axis:this.axisMode,rotation:this.axisRotation}}boot(){var t=this.parent;t.on("dragstart",this.onDragStart,this),t.on("drag",this.onDrag,this),t.on("dragend",this.onDragEnd,this)}shutdown(t){this.isShutdown||(this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragend(),this._enable=t,this.scene.input.setDraggable(this.parent,t),this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setAxisMode(t){return typeof t=="string"&&(t=TH[t]),this.axisMode=t,this}setAxisRotation(t){return this.axisRotation=t,this}drag(){return VE(this.parent),this}dragend(){if(this.isDragging)return this.scene.input.setDragState(this.pointer,5),this}onDragStart(t,n,m){this.isDragging||(this.pointer=t)}onDrag(t,n,m){if(this.pointer===t){var C=this.parent;if(this.axisMode===0)C.x=n,C.y=m;else if(this.axisRotation===0)this.axisMode===1?C.x=n:this.axisMode===2&&(C.y=m);else{var M,h={x:n,y:m};M=d2(h.x,h.y,C.x,C.y),h=c2(h,C.x,C.y,-this.axisRotation,M),this.axisMode===1?h.y=C.y:this.axisMode===2&&(h.x=C.x),M=d2(h.x,h.y,C.x,C.y),h=c2(h,C.x,C.y,this.axisRotation,M),C.x=h.x,C.y=h.y}}}onDragEnd(t,n,m,C){this.pointer===t&&(this.pointer=void 0)}get isDragging(){return this.pointer!==void 0}}const TH={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2};at.register("drag",function(i,t){return new zE(i,t)});nt(window,"RexPlugins.UI.Drag",zE);at.register("pinch",function(i){return new fM(this.scene,i)});nt(window,"RexPlugins.UI.Pinch",fM);at.register("rotate",function(i){return new ig(this.scene,i)});nt(window,"RexPlugins.UI.Rotate",ig);const CH=Phaser.Utils.Objects.IsPlainObject,v2=Phaser.Utils.Objects.GetValue;var p2=function(i,t,n){var m;if(i===void 0)i=n.texture.key,t=n.frame.name;else if(CH(i)){var C=i;i=v2(C,"key",n.texture.key),t=v2(C,"frame",n.frame.name)}else typeof i=="string"||(m=i);return m===void 0&&(m=function(M){M.setTexture(i,t)}),m};const Mo=Phaser.Utils.Objects.GetValue,SH=Phaser.Utils.Objects.GetAdvancedValue,MH=Phaser.Math.Linear;class kE extends xr{constructor(t,n){super(t,n),this.resetFromJSON(n),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setDuration(SH(t,"duration",500)),this.setEase(Mo(t,"ease","Sine")),this.setOrientation(Mo(t,"orientation",0)),this.setFrontFace(Mo(t,"front",void 0)),this.setBackFace(Mo(t,"back",void 0)),this.setFace(Mo(t,"face",0)),this}setOrientation(t){return typeof t=="string"&&(t=EH[t]),this.orientation=t,this}get face(){return this._face}set face(t){typeof t=="string"&&(t=PH[t]),this._face=t,t===0&&this.frontFaceCallback?this.frontFaceCallback(this.parent):t===1&&this.backFaceCallback&&this.backFaceCallback(this.parent)}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}setFrontFace(t,n){return this.frontFaceCallback=p2(t,n,this.parent),this}setBackFace(t,n){return this.backFaceCallback=p2(t,n,this.parent),this}start(){if(this.timer.isRunning)return this;var t=this.parent;return this.orientation===0?this.scale0=t.scaleX:this.scale0=t.scaleY,this.timer.setDelay(this.delay).setDuration(this.duration/2).setRepeat(1),super.start(),this}flip(t){return this.isRunning?this:(t!==void 0&&this.setDuration(t),this.start(),this)}updateGameObject(t,n){n.justRestart&&this.toggleFace();var m=n.t;n.isOddIteration&&(m=1-m),m=this.easeFn(m);var C=MH(this.scale0,0,m);this.orientation===0?t.scaleX=C:t.scaleY=C}}const EH={x:0,horizontal:0,y:1,vertical:1},PH={front:0,back:1};at.register("flip",function(i,t){return new kE(i,t)});nt(window,"RexPlugins.UI.Flip",kE);at.register("shake",function(i,t){return new Z0(i,t)});nt(window,"RexPlugins.UI.Shake",Z0);at.register("touchEventStop",function(i,t){return new xf(i,t)});nt(window,"RexPlugins.UI.TouchEventStop",xf);at.register("perspective",function(i,t){return new mE(i,t)});nt(window,"RexPlugins.UI.Perspective",mE);const UE=Phaser.Math.RotateAround;var Yc=function(i,t,n){var m=i.width/2,C=i.height/2;return Oe.x=t-m,Oe.y=n-C,UE(Oe,0,0,i.rotation),Oe.x*=i.scaleX,Oe.y*=i.scaleY,Oe.x+=i.x,Oe.y+=i.y,Oe},RH=function(i,t,n){var m=i.width/2,C=i.height/2;return Oe.x=t-i.x,Oe.y=n-i.y,Oe.x/=i.scaleX,Oe.y/=i.scaleY,UE(Oe,0,0,-i.rotation),Oe.x+=m,Oe.y+=C,Oe},Oe={x:0,y:0};class AH{constructor(t,n){this.parent=t,this.vertex=n,this._localX=void 0,this._localY=void 0}destroy(){this.parent=void 0,this.vertex=void 0}updateVertexPosition(t,n){var m=this.parent,C=m.height,M=m.frame.cutWidth/C/2,h=m.frame.cutHeight/C/2,y=t/C-M,e=n/C-h,f=this.vertex;return f.x=y,f.y=-e,m.forceUpdate(),this}get localX(){return this._localX}set localX(t){this.setLocalXY(t,this._localY)}get localY(){return this._localY}set localY(t){this.setLocalXY(this._localX,t)}get localXOrigin(){return this._localXOrigin}get localYOrigin(){return this._localYOrigin}resetLocalXY(t,n){return this._localXOrigin=t,this._localYOrigin=n,this._localX=t,this._localY=n,this}setLocalXY(t,n,m){return this._localX===t&&this._localY===n?this:(this._localX=t,this._localY=n,m||this.updateVertexPosition(t,n),this)}setWorldXY(t,n){if(this._worldX===t&&this._worldY===n)return this;var m=RH(this.parent,t,n);return this.setLocalXY(m.x,m.y),this}setPosition(t,n){return this.setWorldXY(t,n),this}getWorldXY(){return Yc(this.parent,this._localX,this._localY)}get x(){var t=Yc(this.parent,this._localX,this._localY);return t.x}set x(t){this.setWorldXY(t,this.y)}get y(){var t=Yc(this.parent,this._localX,this._localY);return t.y}set y(t){this.setWorldXY(this.x,t)}}const wH=Phaser.Geom.Mesh.Vertex,OH=Phaser.Geom.Mesh.Face;var LH=function(i){for(var t=i.isNinePointMode,n=t?9:4,m=i.vertices,C=i.faces,M=i.controlPoints,h=0;h<n;h++){var y=new wH;m.push(y),M.push(new AH(i,y))}var e;t?e=DH:i.fourPointsModeRTL?e=IH:e=FH;for(var h=0,f=e.length;h<f;h+=3){var c=m[e[h+0]],s=m[e[h+1]],a=m[e[h+2]];C.push(new OH(c,s,a))}t?(i.topLeft=M[0],i.topCenter=M[1],i.topRight=M[2],i.centerLeft=M[3],i.center=M[4],i.centerRight=M[5],i.bottomLeft=M[6],i.bottomCenter=M[7],i.bottomRight=M[8]):(i.topLeft=M[0],i.topRight=M[1],i.bottomLeft=M[2],i.bottomRight=M[3])};const FH=[0,2,3,0,3,1],IH=[1,3,2,1,2,0],DH=[0,3,4,0,4,1,1,4,2,4,5,2,3,6,4,6,7,4,4,7,8,4,8,5];var BH=function(i){var t,n=0,m=i.height,C=0,M=i.width;if(i.isNinePointMode){var h=(C+M)/2,y=(n+m)/2;t=[C,n,h,n,M,n,C,y,h,y,M,y,C,m,h,m,M,m]}else t=[C,n,M,n,C,m,M,m];return t};const bH=Phaser.GameObjects.Mesh,GH=Phaser.Utils.Objects.IsPlainObject,Qr=Phaser.Utils.Objects.GetValue;let NH=class extends bH{constructor(t,n,m,C,M,h){GH(n)&&(h=n,n=Qr(h,"x",0),m=Qr(h,"y",0),C=Qr(h,"key",null),M=Qr(h,"frame",null)),super(t,n,m,C,M),this.type="rexQuadImage",this.isNinePointMode=Qr(h,"ninePointMode",!1),this.fourPointsModeRTL=Qr(h,"rtl",!1),this.controlPoints=[],LH(this),this.hideCCW=!1,this.syncSize()}destroy(t){if(!(!this.scene||this.ignoreDestroy)){super.destroy(t);for(var n=0,m=this.controlPoints.length;n<m;n++)this.controlPoints[n].destroy();this.controlPoints=void 0}}resetVerts(){this.dirtyCache[9]=-1;for(var t=BH(this),n=this.width,m=this.height,C=this.frame.cutWidth/m/2,M=this.frame.cutHeight/m/2,h=this.frame.u0,y=this.frame.u1,e=this.frame.v0,f=this.frame.v1,c=y-h,s=f-e,a=this.controlPoints,r=0,o=t.length;r<o;r+=2){var l=t[r+0],v=t[r+1],u=r/2,d=l/m-C,p=v/m-M,g=h+c*(l/n),x=e+s*(v/m);this.vertices[u].set(d,-p,0).setUVs(g,x),a[u].resetLocalXY(l,v)}return this}syncSize(){return this.setSizeToFrame(),this.setOrtho(this.width/this.height,1),this.resetVerts(),this}forceUpdate(){return this.dirtyCache[10]=1,this}get tint(){return this.vertices.length===0?16777215:this.vertices[0].color}};Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;var g2=function(i,t,n){t===void 0&&(t=0),n===void 0&&(n=0);for(var m=i.width,C=i.height,M=m*.5,h=C*.5,y=Math.tan(t)*h,e=Math.tan(n)*M,f=i.controlPoints,c=0,s=f.length;c<s;c++){var a=f[c],r=a.localXOrigin,o=a.localYOrigin;a.localX=r+(o>h?y:-y),a.localY=o+(r>M?e:-e)}};const VH=Phaser.Utils.Objects.IsPlainObject,zl=Phaser.Utils.Objects.GetValue,m2=Phaser.Math.DegToRad,x2=Phaser.Math.RadToDeg;class zH extends NH{constructor(t,n,m,C,M){if(VH(n)){var h=n;n=zl(h,"x",0),m=zl(h,"y",0),C=zl(h,"key",null),M=zl(h,"frame",null)}super(t,n,m,C,M),this.type="rexSkewmage",this._skewX=0,this._skewY=0}get skewX(){return this._skewX}set skewX(t){this._skewX=t,g2(this,this._skewX,this._skewY)}get skewXDeg(){return x2(this._skewX)}set skewXDeg(t){this.skewX=m2(t)}get skewY(){return this._skewY}set skewY(t){this._skewY=t,g2(this,this._skewX,this._skewY)}get skewYDeg(){return x2(this._skewY)}set skewYDeg(t){this.skewY=m2(t)}setSkewX(t){return this.skewX=t,this}setSkewY(t){return this.skewY=t,this}setSkew(t,n){return n===void 0&&(n=t),this.skewX=t,this.skewY=n,this}setSkewXDeg(t){return this.skewXDeg=t,this}setSkewYDeg(t){return this.skewYDeg=t,this}setSkewDeg(t,n){return n===void 0&&(n=t),this.skewXDeg=t,this.skewYDeg=n,this}}const kH=Phaser.Utils.Objects.IsPlainObject,kl=Phaser.Utils.Objects.GetValue;class UH extends zH{constructor(t,n,m,C,M){if(kH(n)){var h=n;n=kl(h,"x",0),m=kl(h,"y",0),C=kl(h,"width",32),M=kl(h,"height",32)}var y=cE(t,C,M);super(t,n,m,y,null),this.type="rexSkewRenderTexture",this.rt=this.texture}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.rt.destroy(),this.rt=null)}}class XE extends gE(UH){get skewState(){return this.isRunning}}at.register("skew",function(i,t){return new XE(i,t)});nt(window,"RexPlugins.UI.Skew",XE);at.register("anchor",function(i,t){return new H0(i,t)});nt(window,"RexPlugins.UI.Anchor",H0);at.register("textTyping",function(i,t){return new Lg(i,t)});nt(window,"RexPlugins.UI.TextTyping",Lg);at.register("textPage",function(i,t){return new Uf(i,t)});nt(window,"RexPlugins.UI.TextPage",Uf);var da=void 0,XH=function(i){i!==da&&(da!==void 0&&da.close(),da=i)},YH=function(i){i===da&&(da=void 0)};const Es=Phaser.Utils.Objects.GetValue,WH=Phaser.Utils.Objects.Clone;var HH=function(i,t){t===void 0&&(t={}),t=WH(t);var n=i.scene,m=i.style,C=Es(t,"backgroundColor",m.backgroundColor);C===null&&(C="transparent"),t.text=Es(t,"text",i.text),t.fontFamily=Es(t,"fontFamily",m.fontFamily),t.fontSize=Es(t,"fontSize",m.fontSize),t.color=Es(t,"color",m.color),t.backgroundColor=C,t.direction=Es(t,"rtl",m.rtl)?"rtl":"ltr",t.align=Es(t,"align",$H(m)),t.direction==="rtl"&&cg(i)&&(t.align="right");var M=new Af(n,i.x,i.y,Es(t,"width",i.width),Es(t,"height",i.height),t);M.setOrigin(i.originX,i.originY).setScrollFactor(i.scrollFactorX,i.scrollFactorY);var h=i.parentContainer;return h?h.add(M):n.add.existing(M),M},$H=function(i){return i.hasOwnProperty("align")?i.align:i.hasOwnProperty("halign")?i.halign:"left"},KH=function(i,t,n){return i.time.delayedCall(0,t,[],n)};const Ul=Phaser.Utils.Objects.GetValue,ZH=Phaser.Utils.Objects.Merge;var jH=function(i,t){i===void 0&&(i={}),i=ZH(i,this.openConfig),XH(this),Sn(i)&&(t=i,i=void 0),t===void 0&&(t=Ul(i,"onClose",void 0));var n=Ul(i,"onOpen",void 0),m=Ul(i,"onTextChanged",void 0);return this.inputText=HH(this.parent,i).on("textchange",function(C){var M=C.text;m?m(this.parent,M):this.parent.text=M},this).setFocus(),this.parent.setVisible(!1),this.onClose=t,Ul(i,"enterClose",!0)&&this.scene.input.keyboard.once("keydown-ENTER",this.close,this),this.delayCall=KH(this.scene,function(){this.scene.input.once("pointerdown",this.close,this),n&&n(this.parent),this.emit("open",this.parent)},this),this},JH=function(){return YH(this),this.parent.setVisible(!0),this.inputText&&(this.inputText.destroy(),this.inputText=void 0),this.delayCall&&(this.delayCall.remove(),this.delayCall=void 0),this.scene.input.keyboard.off("keydown-ENTER",this.close,this),this.scene.input.off("pointerdown",this.close,this),this.onClose&&this.onClose(this.parent),this.emit("close",this.parent),this},QH={open:jH,close:JH};const qH=Phaser.Utils.Objects.GetValue;class $f extends me{constructor(t,n){super(t),this.inputText=void 0,this.onClose=void 0,this.delayCall=void 0,this.setOpenConfig(n);var m=qH(n,"clickEnable",!0);m&&t.on("pointerdown",function(){this.open()},this).setInteractive()}shutdown(t){this.isShutdown||(this.close(),super.shutdown(t))}setOpenConfig(t){return t===void 0&&(t={}),this.openConfig=t,this}get isOpened(){return this.inputText!==void 0}get text(){return this.isOpened?this.inputText.text:this.parent.text}}Object.assign($f.prototype,QH);var _H=function(i,t,n){return i._edit||(i._edit=new $f(i,{clickEnable:!1})),i._edit.open(t,n),i._edit};at.register("textEdit",function(i,t){return new $f(i,t)});nt(window,"RexPlugins.UI.TextEdit",$f);const Wc=65535;var Gu=function(i,t,n){if(t==null)return i;if(t===0)return Hc(i,0,n),i;var m=i.text.length;if(m===0)return Hc(i,t,n),i;var C=Math.floor(t*1.5/m);n!==void 0&&C>n&&(C=Math.floor(n));for(var M={},h=T2(i,C,t,n,M),y=0;y<=Wc&&h!==0;y++){if(C+=h,C<0){C=0;break}h=T2(i,C,t,n,M)}return y===Wc&&console.warn(`FontSizeFit: Test count exceeds ${Wc}`),i.setFontSize(C),Hc(i,t,n),i},y2=function(i,t,n){return n[t]===void 0&&(i.setFontSize(t),n[t]={width:i.width,height:i.height}),n[t]},T2=function(i,t,n,m,C){var M=y2(i,t,C),h=y2(i,t+1,C),y;if(m!==void 0)if(M.height<=m&&h.height>m)y=0;else{if(M.height>m)return-1;y=Math.floor(m-M.height)}var e;if(M.width<=n&&h.width>n)return 0;if(M.width>n)return-1;var e=Math.floor(n-M.width);return y===void 0?e:Math.min(e,y)},Hc=function(i,t,n){var m=i.style;m&&(m.fixedWidth=t,m.parent.width=t,n!==void 0&&(m.fixedHeight=n,m.parent.height=n),m.update(!1))};const $c=Phaser.Utils.Objects.GetValue;var t$=function(i,t){typeof t=="number"&&(t={minWidth:t});var n=$c(t,"minWidth",0),m=$c(t,"minHeight",0),C=$c(t,"fitHeight",!1);return i._minWidth=n,i._minHeight=m,C?(i.runWidthWrap=function(M){return i.setFixedSize&&i.setFixedSize(0,0),i.setFontSize(1),i},i.resize=function(M,h){return Gu(i,M,h),i}):(i.runWidthWrap=function(M){return i.setFixedSize&&i.setFixedSize(0,0),Gu(i,M,void 0),i},i.resize=function(M,h){return i.width===M&&i.height===h||i.setFixedSize(M,h),i}),i};class YE extends Phaser.Plugins.ScenePlugin{constructor(t,n){super(t,n),this.add=new at(t)}start(){var t=this.scene.events;t.on("destroy",this.destroy,this)}isInTouching(t,n,m,C){return t.visible?yf(t,n,m,C):!1}get viewport(){return Va(this.scene,this.scene.cameras.main,!0)}}var e$={getParentSizer:Oi,getTopmostSizer:ZS,hide:rn,show:nn,isShown:j0,edit:_H,wrapExpandText:NM,fontSizeExpandText:t$,fontSizeResize:Gu,setFontSizeToFitWidth:Gu,waitEvent:lf,waitComplete:Se,delayPromise:SM,setChildrenInteractive:sg,fadeIn:pf,fadeOutDestroy:gf,easeMoveTo:iM,easeMoveFrom:sM,modal:q0,modalPromise:nB,modalClose:oM,requestDrag:VE,openFileChooser:nN};Object.assign(YE.prototype,e$);class i$ extends Ei.Scene{constructor(){super("TestGame");Dt(this,"cursors");Dt(this,"platforms");Dt(this,"stars");Dt(this,"boy");Dt(this,"level",1);Dt(this,"backgrounds",[])}preload(){this.cursors=this.input.keyboard.createCursorKeys()}create(){const{width:n,height:m}=this.scale;this.add.image(0,0,"sky").setOrigin(0,0).setScrollFactor(0).setScale(2,2),this.backgrounds.push({ratioX:.01,sprite:this.add.tileSprite(0,0,n,m,"mountains").setOrigin(0,0).setScrollFactor(0,0).setDepth(0).setScale(2,2)},{ratioX:.1,sprite:this.add.tileSprite(0,0,n,m,"middle").setOrigin(0,0).setScrollFactor(0,0).setDepth(0).setScale(2,2)});const C=this.level===1,M=this.make.tilemap({key:C?"desert":"dungeon"}),h=M.addTilesetImage("desert_tiles","tiles"),y=M.createLayer(C?"ground":"Dungeon",h);y==null||y.setCollisionByProperty({collides:!0}),this.physics.world.setBounds(0,0,3600,3600),this.boy=this.add.spineContainer(this.level===1?190:2317,this.level===1?600:240,"shadow","idle",!0),this.boy.setScale(.27),this.boy.body.setDragX(1500),this.physics.add.collider(this.boy,y),this.physics.world.setBounds(0,0,3600,3600),this.cameras.main.startFollow(this.boy,!1,.08,.09),this.cameras.main.setFollowOffset(-300,100),this.physics.world.fixedStep=!1}update(){this.cursors,this.boy.update(this.cameras.main,this.cursors)}}const Qn=(i,t)=>i.rexUI.add.label({width:40,height:40,background:i.rexUI.add.roundRectangle(0,0,0,0,20,6198003),text:i.add.text(0,0,t,{fontSize:"24px"}),name:t,space:{left:10,right:10,top:10,bottom:10}});function s$(i){let t=window.innerWidth/2-270,n=600;const m=i.rexUI.add.dialog({x:t,y:n,width:500,background:i.rexUI.add.roundRectangle(0,0,100,100,20,"gray"),title:Qn(i,"Title").setDraggable(),toolbar:[Qn(i,"X")],leftToolbar:[],content:Qn(i,"Content"),choices:[Qn(i,"Choice1"),Qn(i,"Choice2")],actions:[Qn(i,"Action0"),Qn(i,"Action1")],space:{left:20,right:20,top:-20,bottom:-20,title:25,titleLeft:30,content:25,description:25,descriptionLeft:20,descriptionRight:20,choices:25,toolbarItem:5,choice:15,action:15},expand:{title:!1},align:{title:"center",actions:"right"},click:{mode:"release"}}).setDraggable("background").layout().hide().setDepth(1);return i.print=i.add.text(0,0,"").setDepth(2),m.on("button.over",function(C,M,h,y,e){C.getElement("background").setStrokeStyle(1,16777215)}).on("button.out",function(C,M,h,y,e){C.getElement("background").setStrokeStyle()}),m}class n$ extends Ei.Scene{constructor(){super("Game");Dt(this,"cursors");Dt(this,"player");Dt(this,"platforms");Dt(this,"movingPlatform");Dt(this,"stars");Dt(this,"sword");Dt(this,"swordHitbox");Dt(this,"spine");Dt(this,"boy");Dt(this,"animationNames",[]);Dt(this,"level",1);Dt(this,"loadNextLevel",!1);Dt(this,"showDialog",!1);Dt(this,"dialog");Dt(this,"dialogLevel",0);Dt(this,"backgrounds",[]);Dt(this,"velocityX",10)}preload(){this.cursors=this.input.keyboard.createCursorKeys()}create(){this.dialog=s$(this.scene.scene),this.dialog.on("button.click",(f,c,s,a,r)=>{f.name==="X"&&(this.dialog.hide(),this.showDialog=!1)},this.scene),this.tweens.add({targets:this.dialog,scaleX:1,scaleY:1,ease:"Bounce",duration:1e3,repeat:0,yoyo:!1});const{width:n,height:m}=this.scale;this.level===1&&this.add.image(0,0,"sky").setOrigin(0,0).setScrollFactor(0).setScale(2,2),this.backgrounds.push({ratioX:.01,sprite:this.add.tileSprite(0,0,n,m,"mountains").setOrigin(0,0).setScrollFactor(0,0).setDepth(0).setScale(2,2)},{ratioX:.1,sprite:this.add.tileSprite(0,0,n,m,"middle").setOrigin(0,0).setScrollFactor(0,0).setDepth(0).setScale(2,2)});const C=this.level===1,M=this.make.tilemap({key:C?"desert":"dungeon"}),h=M.addTilesetImage("desert_tiles","tiles"),y=M.createLayer(C?"ground":"Dungeon",h);y==null||y.setCollisionByProperty({collides:!0}),this.physics.world.setBounds(0,0,3600,3600),this.platforms=this.physics.add.staticGroup(),this.platforms.create(200,900,"ground").refreshBody().setPipeline("Light2D"),this.platforms.create(2700,1e3,"ground").setScale(2).refreshBody().setPipeline("Light2D").setData(""),this.stars=this.physics.add.group({key:"star",repeat:11,setXY:{x:12,y:0,stepX:70},setScale:{x:2,y:2}});for(const f of this.stars.getChildren())f.setBounceY(Ei.Math.FloatBetween(.4,.9));this.boy=this.add.spineContainer(this.level===1?190:2317,this.level===1?600:240,"shadow","idle",!0),this.lights.enable(),this.lights.setAmbientColor(8421504),this.light=this.lights.addLight(this.boy.x,this.boy.y,280).setIntensity(3),this.boy.setScale(.27);const e=this.boy.body;e.setCollideWorldBounds(!0),this.boy.setPhysicsSize(e.width*.65,e.height*.9),e.setDragX(1500),this.physics.add.existing(this.boy),this.physics.add.collider(this.stars,this.platforms),this.physics.add.collider(this.boy,this.platforms,(f,c)=>{this.loadNextLevel||c.data&&(this.cameras.main.stopFollow(),this.loadNextLevel=!0,this.cameras.main.fadeOut(600),this.time.addEvent({delay:2e3,callback:()=>{this.scene.restart({level:this.level+=1}),this.loadNextLevel=!1}}))}),this.physics.add.collider(this.boy,y),this.physics.add.collider(this.stars,y),this.physics.add.overlap(this.boy.rightHitBox,this.stars,this.punchStar,void 0,this),this.boy.spine.skeleton.findBone("bone11"),this.boy.spine.findSlot("Kisty 2"),this.cameras.main.startFollow(this.boy,!1,.08,.09),this.cameras.main.setFollowOffset(-300,0),this.physics.world.fixedStep=!1}initializeAnimationsState(n){const m=n.getCurrentAnimation().name;n.getAnimationList().forEach((C,M)=>{this.animationNames.push(C),C===m&&(this.animationIndex=M)})}changeAnimation(n){this.animationNames[n]}update(){this.animationNames.length,this.cursors,this.boy.update(this.cameras.main,this.cursors),this.light.x=this.boy.x,this.light.y=this.boy.y-15,!this.showDialog&&this.boy.x+600>=2700?(this.showDialog=!0,console.log("run"),this.dialog.show(),this.dialog.popUp(1e3)):this.showDialog&&this.boy.x+600<2700&&(this.showDialog=!1),this.dialog.x=this.boy.x+200,this.dialog.y=this.boy.y,this.backgrounds.forEach(n=>{n.sprite.tilePositionX=this.cameras.main.scrollX*n.ratioX})}collectStar(n,m){}punchStar(n,m){this.boy.spine.getData("attack")&&(m==null||m.setVelocityX(1e3))}}const r$={type:Ei.WEBGL,width:window.innerWidth,height:window.innerHeight,scale:{mode:Ei.Scale.FIT,autoCenter:Ei.Scale.CENTER_BOTH},physics:{default:"arcade",arcade:{gravity:{y:700}}},scene:[S6,n$,i$],plugins:{scene:[{key:"SpinePlugin",plugin:window.SpinePlugin,mapping:"spine"},{key:"rexUI",plugin:YE,mapping:"rexUI"}]}};new Ei.Game(r$);jc.createRoot(document.getElementById("root")).render(Zc(fP.StrictMode,{children:Zc(M5,{})}));
